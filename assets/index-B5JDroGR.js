var B4=Object.defineProperty;var I4=(e,t,n)=>t in e?B4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ve=(e,t,n)=>I4(e,typeof t!="symbol"?t+"":t,n);function F4(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function kx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BN={exports:{}},tm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4=Symbol.for("react.transitional.element"),U4=Symbol.for("react.fragment");function IN(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:H4,type:e,key:s,ref:t!==void 0?t:null,props:n}}tm.Fragment=U4;tm.jsx=IN;tm.jsxs=IN;BN.exports=tm;var a=BN.exports;const qt={CONTENT:1,DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,DRAWER:202,HEADER:50,SIDEBAR:60,STICKY:40};var FN={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx=Symbol.for("react.transitional.element"),V4=Symbol.for("react.portal"),q4=Symbol.for("react.fragment"),Z4=Symbol.for("react.strict_mode"),G4=Symbol.for("react.profiler"),Y4=Symbol.for("react.consumer"),X4=Symbol.for("react.context"),W4=Symbol.for("react.forward_ref"),Q4=Symbol.for("react.suspense"),K4=Symbol.for("react.memo"),HN=Symbol.for("react.lazy"),py=Symbol.iterator;function J4(e){return e===null||typeof e!="object"?null:(e=py&&e[py]||e["@@iterator"],typeof e=="function"?e:null)}var UN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VN=Object.assign,qN={};function po(e,t,n){this.props=e,this.context=t,this.refs=qN,this.updater=n||UN}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ZN(){}ZN.prototype=po.prototype;function Ex(e,t,n){this.props=e,this.context=t,this.refs=qN,this.updater=n||UN}var Tx=Ex.prototype=new ZN;Tx.constructor=Ex;VN(Tx,po.prototype);Tx.isPureReactComponent=!0;var xy=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},GN=Object.prototype.hasOwnProperty;function _x(e,t,n,s,r,i){return n=i.ref,{$$typeof:Cx,type:e,key:t,ref:n!==void 0?n:null,props:i}}function eR(e,t){return _x(e.type,t,void 0,void 0,void 0,e.props)}function Ax(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cx}function tR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vy=/\/+/g;function ch(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tR(""+e.key):t.toString(36)}function yy(){}function nR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(yy,yy):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function rl(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Cx:case V4:l=!0;break;case HN:return l=e._init,rl(l(e._payload),t,n,s,r)}}if(l)return r=r(e),l=s===""?"."+ch(e,0):s,xy(r)?(n="",l!=null&&(n=l.replace(vy,"$&/")+"/"),rl(r,t,n,"",function(u){return u})):r!=null&&(Ax(r)&&(r=eR(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(vy,"$&/")+"/")+l)),t.push(r)),1;l=0;var o=s===""?".":s+":";if(xy(e))for(var c=0;c<e.length;c++)s=e[c],i=o+ch(s,c),l+=rl(s,t,n,i,r);else if(c=J4(e),typeof c=="function")for(e=c.call(e),c=0;!(s=e.next()).done;)s=s.value,i=o+ch(s,c++),l+=rl(s,t,n,i,r);else if(i==="object"){if(typeof e.then=="function")return rl(nR(e),t,n,s,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function Ou(e,t,n){if(e==null)return e;var s=[],r=0;return rl(e,s,"","",function(i){return t.call(n,i,r++)}),s}function sR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var by=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function rR(){}ke.Children={map:Ou,forEach:function(e,t,n){Ou(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ou(e,function(){t++}),t},toArray:function(e){return Ou(e,function(t){return t})||[]},only:function(e){if(!Ax(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=po;ke.Fragment=q4;ke.Profiler=G4;ke.PureComponent=Ex;ke.StrictMode=Z4;ke.Suspense=Q4;ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st;ke.__COMPILER_RUNTIME={__proto__:null,c:function(e){return st.H.useMemoCache(e)}};ke.cache=function(e){return function(){return e.apply(null,arguments)}};ke.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=VN({},e.props),r=e.key,i=void 0;if(t!=null)for(l in t.ref!==void 0&&(i=void 0),t.key!==void 0&&(r=""+t.key),t)!GN.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(s[l]=t[l]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}return _x(e.type,r,void 0,void 0,i,s)};ke.createContext=function(e){return e={$$typeof:X4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Y4,_context:e},e};ke.createElement=function(e,t,n){var s,r={},i=null;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)GN.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return _x(e,i,void 0,void 0,null,r)};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:W4,render:e}};ke.isValidElement=Ax;ke.lazy=function(e){return{$$typeof:HN,_payload:{_status:-1,_result:e},_init:sR}};ke.memo=function(e,t){return{$$typeof:K4,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=st.T,n={};st.T=n;try{var s=e(),r=st.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(rR,by)}catch(i){by(i)}finally{st.T=t}};ke.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()};ke.use=function(e){return st.H.use(e)};ke.useActionState=function(e,t,n){return st.H.useActionState(e,t,n)};ke.useCallback=function(e,t){return st.H.useCallback(e,t)};ke.useContext=function(e){return st.H.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e,t){return st.H.useDeferredValue(e,t)};ke.useEffect=function(e,t,n){var s=st.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};ke.useId=function(){return st.H.useId()};ke.useImperativeHandle=function(e,t,n){return st.H.useImperativeHandle(e,t,n)};ke.useInsertionEffect=function(e,t){return st.H.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return st.H.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return st.H.useMemo(e,t)};ke.useOptimistic=function(e,t){return st.H.useOptimistic(e,t)};ke.useReducer=function(e,t,n){return st.H.useReducer(e,t,n)};ke.useRef=function(e){return st.H.useRef(e)};ke.useState=function(e){return st.H.useState(e)};ke.useSyncExternalStore=function(e,t,n){return st.H.useSyncExternalStore(e,t,n)};ke.useTransition=function(){return st.H.useTransition()};ke.version="19.1.0";FN.exports=ke;var g=FN.exports;const L=kx(g),YN=F4({__proto__:null,default:L},[g]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),wy=e=>{const t=iR(e);return t.charAt(0).toUpperCase()+t.slice(1)},XN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),lR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:l,...o},c)=>g.createElement("svg",{ref:c,...oR,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:XN("lucide",r),...!i&&!lR(o)&&{"aria-hidden":"true"},...o},[...l.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(e,t)=>{const n=g.forwardRef(({className:s,...r},i)=>g.createElement(cR,{ref:i,iconNode:t,className:XN(`lucide-${aR(wy(e))}`,`lucide-${e}`,s),...r}));return n.displayName=wy(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],dR=te("arrow-down",uR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jy=te("arrow-left",fR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hR=te("arrow-right",mR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],pR=te("arrow-up-down",gR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],vR=te("arrow-up",xR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_a=te("book-open",yR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Ol=te("brain",bR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jR=te("chart-column",wR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nc=te("check",NR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],kR=te("chef-hat",SR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Pt=te("chevron-down",CR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nm=te("chevron-left",ER);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xo=te("chevron-right",TR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Sc=te("chevron-up",_R);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bl=te("circle-alert",AR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yd=te("circle-check-big",MR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],DR=te("circle-x",RR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mx=te("circle",zR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],da=te("clock",LR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],WN=te("copy",$R);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Rx=te("droplets",PR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],BR=te("ellipsis-vertical",OR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Aa=te("external-link",IR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vo=te("eye",FR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QN=te("file-text",HR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],yo=te("flame",UR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qR=te("funnel",VR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Dx=te("ghost",ZR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_i=te("grid-3x3",GR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Il=te("hand",YR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],qs=te("heart",XR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],KN=te("house",WR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fl=te("info",QR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],JR=te("layout-grid",KR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Ma=te("list",e3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],JN=te("map",t3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],s3=te("menu",n3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],a3=te("message-square",r3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M5 12h14",key:"1ays0h"}]],jl=te("minus",i3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],o3=te("monitor",l3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],u3=te("moon",c3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],e1=te("package",d3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],m3=te("pen-line",f3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fa=te("plus",h3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Nr=te("rotate-ccw",g3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],x3=te("search-x",p3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hl=te("search",v3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zg=te("settings",y3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],t1=te("share-2",b3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nt=te("shield",w3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],cs=te("sparkles",j3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ge=te("star",N3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ny=te("sun",S3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],mi=te("sword",k3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],n1=te("tag",C3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],us=te("target",E3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_3=te("trash-2",T3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],M3=te("trees",A3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Lg=te("trending-down",R3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],kc=te("trending-up",D3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cc=te("triangle-alert",z3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$3=te("user-check",L3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xd=te("user",P3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],s1=te("users",O3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],I3=te("utensils",B3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],H3=te("wine",F3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xe=te("x",U3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gn=te("zap",V3);var zx={};Object.defineProperty(zx,"__esModule",{value:!0});zx.parse=Q3;zx.serialize=K3;const q3=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Z3=/^[\u0021-\u003A\u003C-\u007E]*$/,G3=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Y3=/^[\u0020-\u003A\u003D-\u007E]*$/,X3=Object.prototype.toString,W3=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Q3(e,t){const n=new W3,s=e.length;if(s<2)return n;const r=(t==null?void 0:t.decode)||J3;let i=0;do{const l=e.indexOf("=",i);if(l===-1)break;const o=e.indexOf(";",i),c=o===-1?s:o;if(l>c){i=e.lastIndexOf(";",l-1)+1;continue}const u=Sy(e,i,l),d=ky(e,l,u),f=e.slice(u,d);if(n[f]===void 0){let m=Sy(e,l+1,c),h=ky(e,c,m);const p=r(e.slice(m,h));n[f]=p}i=c+1}while(i<s);return n}function Sy(e,t,n){do{const s=e.charCodeAt(t);if(s!==32&&s!==9)return t}while(++t<n);return n}function ky(e,t,n){for(;t>n;){const s=e.charCodeAt(--t);if(s!==32&&s!==9)return t+1}return n}function K3(e,t,n){const s=(n==null?void 0:n.encode)||encodeURIComponent;if(!q3.test(e))throw new TypeError(`argument name is invalid: ${e}`);const r=s(t);if(!Z3.test(r))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+r;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!G3.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!Y3.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!eD(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function J3(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function eD(e){return X3.call(e)==="[object Date]"}var Cy="popstate";function tD(e={}){function t(r,i){let{pathname:l="/",search:o="",hash:c=""}=Ai(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),$g("",{pathname:l,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let l=r.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=r.location.href,u=c.indexOf("#");o=u===-1?c:c.slice(0,u)}return o+"#"+(typeof i=="string"?i:Ec(i))}function s(r,i){Kn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return sD(t,n,s,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nD(){return Math.random().toString(36).substring(2,10)}function Ey(e,t){return{usr:e.state,key:e.key,idx:t}}function $g(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ai(t):t,state:n,key:t&&t.key||s||nD()}}function Ec({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ai(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function sD(e,t,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,l=r.history,o="POP",c=null,u=d();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function d(){return(l.state||{idx:null}).idx}function f(){o="POP";let w=d(),v=w==null?null:w-u;u=w,c&&c({action:o,location:y.location,delta:v})}function m(w,v){o="PUSH";let x=$g(y.location,w,v);n&&n(x,w),u=d()+1;let b=Ey(x,u),j=y.createHref(x);try{l.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(j)}i&&c&&c({action:o,location:y.location,delta:1})}function h(w,v){o="REPLACE";let x=$g(y.location,w,v);n&&n(x,w),u=d();let b=Ey(x,u),j=y.createHref(x);l.replaceState(b,"",j),i&&c&&c({action:o,location:y.location,delta:0})}function p(w){return rD(w)}let y={get action(){return o},get location(){return e(r,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Cy,f),c=w,()=>{r.removeEventListener(Cy,f),c=null}},createHref(w){return t(r,w)},createURL:p,encodeLocation(w){let v=p(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:h,go(w){return l.go(w)}};return y}function rD(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ec(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function r1(e,t,n="/"){return aD(e,t,n,!1)}function aD(e,t,n,s){let r=typeof t=="string"?Ai(t):t,i=Sr(r.pathname||"/",n);if(i==null)return null;let l=a1(e);iD(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=xD(i);o=gD(l[c],u,s)}return o}function a1(e,t=[],n=[],s=""){let r=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let u=yr([s,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ot(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),a1(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:mD(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))r(i,l);else for(let c of i1(i.path))r(i,l,c)}),t}function i1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let l=i1(s.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),r&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function iD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hD(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var lD=/^:[\w-]+$/,oD=3,cD=2,uD=1,dD=10,fD=-2,Ty=e=>e==="*";function mD(e,t){let n=e.split("/"),s=n.length;return n.some(Ty)&&(s+=fD),t&&(s+=cD),n.filter(r=>!Ty(r)).reduce((r,i)=>r+(lD.test(i)?oD:i===""?uD:dD),s)}function hD(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function gD(e,t,n=!1){let{routesMeta:s}=e,r={},i="/",l=[];for(let o=0;o<s.length;++o){let c=s[o],u=o===s.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Wd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=Wd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),l.push({params:r,pathname:yr([i,f.pathname]),pathnameBase:wD(yr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=yr([i,f.pathnameBase]))}return l}function Wd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=pD(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let p=o[m]||"";l=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const h=o[m];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function pD(e,t=!1,n=!0){Kn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function xD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Sr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function vD(e,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Ai(e):e;return{pathname:n?n.startsWith("/")?n:yD(n,t):t,search:jD(s),hash:ND(r)}}function yD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function uh(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function l1(e){let t=bD(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function o1(e,t,n,s=!1){let r;typeof e=="string"?r=Ai(e):(r={...e},ot(!r.pathname||!r.pathname.includes("?"),uh("?","pathname","search",r)),ot(!r.pathname||!r.pathname.includes("#"),uh("#","pathname","hash",r)),ot(!r.search||!r.search.includes("#"),uh("#","search","hash",r)));let i=e===""||r.pathname==="",l=i?"/":r.pathname,o;if(l==null)o=n;else{let f=t.length-1;if(!s&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}o=f>=0?t[f]:"/"}let c=vD(r,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var yr=e=>e.join("/").replace(/\/\/+/g,"/"),wD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ND=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var c1=["POST","PUT","PATCH","DELETE"];new Set(c1);var kD=["GET",...c1];new Set(kD);var bo=g.createContext(null);bo.displayName="DataRouter";var sm=g.createContext(null);sm.displayName="DataRouterState";var u1=g.createContext({isTransitioning:!1});u1.displayName="ViewTransition";var CD=g.createContext(new Map);CD.displayName="Fetchers";var ED=g.createContext(null);ED.displayName="Await";var Zs=g.createContext(null);Zs.displayName="Navigation";var su=g.createContext(null);su.displayName="Location";var Gs=g.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var Lx=g.createContext(null);Lx.displayName="RouteError";function TD(e,{relative:t}={}){ot(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=g.useContext(Zs),{hash:r,pathname:i,search:l}=au(e,{relative:t}),o=i;return n!=="/"&&(o=i==="/"?n:yr([n,i])),s.createHref({pathname:o,search:l,hash:r})}function ru(){return g.useContext(su)!=null}function Lr(){return ot(ru(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(su).location}var d1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f1(e){g.useContext(Zs).static||g.useLayoutEffect(e)}function ut(){let{isDataRoute:e}=g.useContext(Gs);return e?UD():_D()}function _D(){ot(ru(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(bo),{basename:t,navigator:n}=g.useContext(Zs),{matches:s}=g.useContext(Gs),{pathname:r}=Lr(),i=JSON.stringify(l1(s)),l=g.useRef(!1);return f1(()=>{l.current=!0}),g.useCallback((c,u={})=>{if(Kn(l.current,d1),!l.current)return;if(typeof c=="number"){n.go(c);return}let d=o1(c,JSON.parse(i),r,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:yr([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,i,r,e])}var AD=g.createContext(null);function MD(e){let t=g.useContext(Gs).outlet;return t&&g.createElement(AD.Provider,{value:e},t)}function au(e,{relative:t}={}){let{matches:n}=g.useContext(Gs),{pathname:s}=Lr(),r=JSON.stringify(l1(n));return g.useMemo(()=>o1(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function RD(e,t){return m1(e,t)}function m1(e,t,n,s){var v;ot(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=g.useContext(Zs),{matches:i}=g.useContext(Gs),l=i[i.length-1],o=l?l.params:{},c=l?l.pathname:"/",u=l?l.pathnameBase:"/",d=l&&l.route;{let x=d&&d.path||"";h1(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=Lr(),m;if(t){let x=typeof t=="string"?Ai(t):t;ot(u==="/"||((v=x.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),m=x}else m=f;let h=m.pathname||"/",p=h;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=r1(e,{pathname:p});Kn(d||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Kn(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=PD(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:yr([u,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:yr([u,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,s);return t&&w?g.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function DD(){let e=HD(),t=SD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:r},n):null,l)}var zD=g.createElement(DD,null),LD=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(Gs.Provider,{value:this.props.routeContext},g.createElement(Lx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $D({routeContext:e,match:t,children:n}){let s=g.useContext(bo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Gs.Provider,{value:e},n)}function PD(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,i=n==null?void 0:n.errors;if(i!=null){let c=r.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);ot(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let l=!1,o=-1;if(n)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=c),u.route.id){let{loaderData:d,errors:f}=n,m=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){l=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let f,m=!1,h=null,p=null;n&&(f=i&&u.route.id?i[u.route.id]:void 0,h=u.route.errorElement||zD,l&&(o<0&&d===0?(h1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,p=null):o===d&&(m=!0,p=u.route.hydrateFallbackElement||null)));let y=t.concat(r.slice(0,d+1)),w=()=>{let v;return f?v=h:m?v=p:u.route.Component?v=g.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=c,g.createElement($D,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?g.createElement(LD,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}function $x(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OD(e){let t=g.useContext(bo);return ot(t,$x(e)),t}function BD(e){let t=g.useContext(sm);return ot(t,$x(e)),t}function ID(e){let t=g.useContext(Gs);return ot(t,$x(e)),t}function Px(e){let t=ID(e),n=t.matches[t.matches.length-1];return ot(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function FD(){return Px("useRouteId")}function HD(){var s;let e=g.useContext(Lx),t=BD("useRouteError"),n=Px("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function UD(){let{router:e}=OD("useNavigate"),t=Px("useNavigate"),n=g.useRef(!1);return f1(()=>{n.current=!0}),g.useCallback(async(r,i={})=>{Kn(n.current,d1),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var _y={};function h1(e,t,n){!t&&!_y[e]&&(_y[e]=!0,Kn(!1,n))}g.memo(VD);function VD({routes:e,future:t,state:n}){return m1(e,void 0,n,t)}function qD(e){return MD(e.context)}function vt(e){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZD({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){ot(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=g.useMemo(()=>({basename:l,navigator:r,static:i,future:{}}),[l,r,i]);typeof n=="string"&&(n=Ai(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:m="default"}=n,h=g.useMemo(()=>{let p=Sr(c,l);return p==null?null:{location:{pathname:p,search:u,hash:d,state:f,key:m},navigationType:s}},[l,c,u,d,f,m,s]);return Kn(h!=null,`<Router basename="${l}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:g.createElement(Zs.Provider,{value:o},g.createElement(su.Provider,{children:t,value:h}))}function GD({children:e,location:t}){return RD(Pg(e),t)}function Pg(e,t=[]){let n=[];return g.Children.forEach(e,(s,r)=>{if(!g.isValidElement(s))return;let i=[...t,r];if(s.type===g.Fragment){n.push.apply(n,Pg(s.props.children,i));return}ot(s.type===vt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Pg(s.props.children,i)),n.push(l)}),n}var kd="get",Cd="application/x-www-form-urlencoded";function rm(e){return e!=null&&typeof e.tagName=="string"}function YD(e){return rm(e)&&e.tagName.toLowerCase()==="button"}function XD(e){return rm(e)&&e.tagName.toLowerCase()==="form"}function WD(e){return rm(e)&&e.tagName.toLowerCase()==="input"}function QD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KD(e,t){return e.button===0&&(!t||t==="_self")&&!QD(e)}function Og(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function JD(e,t){let n=Og(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}var Bu=null;function e5(){if(Bu===null)try{new FormData(document.createElement("form"),0),Bu=!1}catch{Bu=!0}return Bu}var t5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dh(e){return e!=null&&!t5.has(e)?(Kn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cd}"`),null):e}function n5(e,t){let n,s,r,i,l;if(XD(e)){let o=e.getAttribute("action");s=o?Sr(o,t):null,n=e.getAttribute("method")||kd,r=dh(e.getAttribute("enctype"))||Cd,i=new FormData(e)}else if(YD(e)||WD(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(s=c?Sr(c,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||kd,r=dh(e.getAttribute("formenctype"))||dh(o.getAttribute("enctype"))||Cd,i=new FormData(o,e),!e5()){let{name:u,type:d,value:f}=e;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,f)}}else{if(rm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kd,s=null,r=Cd,l=e}return i&&r==="text/plain"&&(l=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:l}}function Ox(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function s5(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function a5(e,t,n){let s=await Promise.all(e.map(async r=>{let i=t.routes[r.route.id];if(i){let l=await s5(i,n);return l.links?l.links():[]}return[]}));return c5(s.flat(1).filter(r5).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Ay(e,t,n,s,r,i){let l=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,o=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>l(c,u)||o(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=s.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(l(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function i5(e,t,{includeHydrateFallback:n}={}){return l5(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function l5(e){return[...new Set(e)]}function o5(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function c5(e,t){let n=new Set;return new Set(t),e.reduce((s,r)=>{let i=JSON.stringify(o5(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u5=new Set([100,101,204,205]);function d5(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Sr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function g1(){let e=g.useContext(bo);return Ox(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function f5(){let e=g.useContext(sm);return Ox(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bx=g.createContext(void 0);Bx.displayName="FrameworkContext";function p1(){let e=g.useContext(Bx);return Ox(e,"You must render this element inside a <HydratedRouter> element"),e}function m5(e,t){let n=g.useContext(Bx),[s,r]=g.useState(!1),[i,l]=g.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,m=g.useRef(null);g.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let y=v=>{v.forEach(x=>{l(x.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[e]),g.useEffect(()=>{if(s){let y=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(y)}}},[s]);let h=()=>{r(!0)},p=()=>{r(!1),l(!1)};return n?e!=="intent"?[i,m,{}]:[i,m,{onFocus:Lo(o,h),onBlur:Lo(c,p),onMouseEnter:Lo(u,h),onMouseLeave:Lo(d,p),onTouchStart:Lo(f,h)}]:[!1,m,{}]}function Lo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function h5({page:e,...t}){let{router:n}=g1(),s=g.useMemo(()=>r1(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?g.createElement(p5,{page:e,matches:s,...t}):null}function g5(e){let{manifest:t,routeModules:n}=p1(),[s,r]=g.useState([]);return g.useEffect(()=>{let i=!1;return a5(e,t,n).then(l=>{i||r(l)}),()=>{i=!0}},[e,t,n]),s}function p5({page:e,matches:t,...n}){let s=Lr(),{manifest:r,routeModules:i}=p1(),{basename:l}=g1(),{loaderData:o,matches:c}=f5(),u=g.useMemo(()=>Ay(e,t,c,r,s,"data"),[e,t,c,r,s]),d=g.useMemo(()=>Ay(e,t,c,r,s,"assets"),[e,t,c,r,s]),f=g.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let p=new Set,y=!1;if(t.forEach(v=>{var b;let x=r.routes[v.route.id];!x||!x.hasLoader||(!u.some(j=>j.route.id===v.route.id)&&v.route.id in o&&((b=i[v.route.id])!=null&&b.shouldRevalidate)||x.hasClientLoader?y=!0:p.add(v.route.id))}),p.size===0)return[];let w=d5(e,l);return y&&p.size>0&&w.searchParams.set("_routes",t.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[w.pathname+w.search]},[l,o,s,r,u,t,e,i]),m=g.useMemo(()=>i5(d,r),[d,r]),h=g5(d);return g.createElement(g.Fragment,null,f.map(p=>g.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),m.map(p=>g.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:y})=>g.createElement("link",{key:p,...y})))}function x5(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var x1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x1&&(window.__reactRouterVersion="7.6.3")}catch{}function v5({basename:e,children:t,window:n}){let s=g.useRef();s.current==null&&(s.current=tD({window:n,v5Compat:!0}));let r=s.current,[i,l]=g.useState({action:r.action,location:r.location}),o=g.useCallback(c=>{g.startTransition(()=>l(c))},[l]);return g.useLayoutEffect(()=>r.listen(o),[r,o]),g.createElement(ZD,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:r})}var v1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y1=g.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},h){let{basename:p}=g.useContext(Zs),y=typeof u=="string"&&v1.test(u),w,v=!1;if(typeof u=="string"&&y&&(w=u,x1))try{let k=new URL(window.location.href),T=u.startsWith("//")?new URL(k.protocol+u):new URL(u),D=Sr(T.pathname,p);T.origin===k.origin&&D!=null?u=D+T.search+T.hash:v=!0}catch{Kn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=TD(u,{relative:r}),[b,j,N]=m5(s,m),C=j5(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:r,viewTransition:f});function S(k){t&&t(k),k.defaultPrevented||C(k)}let E=g.createElement("a",{...m,...N,href:w||x,onClick:v||i?t:S,ref:x5(h,j),target:c,"data-discover":!y&&n==="render"?"true":void 0});return b&&!y?g.createElement(g.Fragment,null,E,g.createElement(h5,{page:x})):E});y1.displayName="Link";var y5=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:l,viewTransition:o,children:c,...u},d){let f=au(l,{relative:u.relative}),m=Lr(),h=g.useContext(sm),{navigator:p,basename:y}=g.useContext(Zs),w=h!=null&&T5(f)&&o===!0,v=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,x=m.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(x=x.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&y&&(b=Sr(b,y)||b);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let N=x===v||!r&&x.startsWith(v)&&x.charAt(j)==="/",C=b!=null&&(b===v||!r&&b.startsWith(v)&&b.charAt(v.length)==="/"),S={isActive:N,isPending:C,isTransitioning:w},E=N?t:void 0,k;typeof s=="function"?k=s(S):k=[s,N?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(S):i;return g.createElement(y1,{...u,"aria-current":E,className:k,ref:d,style:T,to:l,viewTransition:o},typeof c=="function"?c(S):c)});y5.displayName="NavLink";var b5=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:i,method:l=kd,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},h)=>{let p=C5(),y=E5(o,{relative:u}),w=l.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&v1.test(o),x=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let j=b.nativeEvent.submitter,N=(j==null?void 0:j.getAttribute("formmethod"))||l;p(j||b.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:r,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return g.createElement("form",{ref:h,method:w,action:y,onSubmit:s?c:x,...m,"data-discover":!v&&e==="render"?"true":void 0})});b5.displayName="Form";function w5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b1(e){let t=g.useContext(bo);return ot(t,w5(e)),t}function j5(e,{target:t,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:l}={}){let o=ut(),c=Lr(),u=au(e,{relative:i});return g.useCallback(d=>{if(KD(d,t)){d.preventDefault();let f=n!==void 0?n:Ec(c)===Ec(u);o(e,{replace:f,state:s,preventScrollReset:r,relative:i,viewTransition:l})}},[c,o,u,n,s,t,e,r,i,l])}function N5(e){Kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(Og(e)),n=g.useRef(!1),s=Lr(),r=g.useMemo(()=>JD(s.search,n.current?null:t.current),[s.search]),i=ut(),l=g.useCallback((o,c)=>{const u=Og(typeof o=="function"?o(r):o);n.current=!0,i("?"+u,c)},[i,r]);return[r,l]}var S5=0,k5=()=>`__${String(++S5)}__`;function C5(){let{router:e}=b1("useSubmit"),{basename:t}=g.useContext(Zs),n=FD();return g.useCallback(async(s,r={})=>{let{action:i,method:l,encType:o,formData:c,body:u}=n5(s,t);if(r.navigate===!1){let d=r.fetcherKey||k5();await e.fetch(d,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||l,formEncType:r.encType||o,flushSync:r.flushSync})}else await e.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||l,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function E5(e,{relative:t}={}){let{basename:n}=g.useContext(Zs),s=g.useContext(Gs);ot(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...au(e||".",{relative:t})},l=Lr();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:yr([n,i.pathname])),Ec(i)}function T5(e,t={}){let n=g.useContext(u1);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=b1("useViewTransitionState"),r=au(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=Sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Wd(r.pathname,l)!=null||Wd(r.pathname,i)!=null}[...u5];var w1={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5=g;function j1(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ur(){}var en={d:{f:Ur,r:function(){throw Error(j1(522))},D:Ur,C:Ur,L:Ur,m:Ur,X:Ur,S:Ur,M:Ur},p:0,findDOMNode:null},A5=Symbol.for("react.portal");function M5(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A5,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var lc=_5.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function am(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=en;rn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(j1(299));return M5(e,t,null,n)};rn.flushSync=function(e){var t=lc.T,n=en.p;try{if(lc.T=null,en.p=2,e)return e()}finally{lc.T=t,en.p=n,en.d.f()}};rn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,en.d.C(e,t))};rn.prefetchDNS=function(e){typeof e=="string"&&en.d.D(e)};rn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=am(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?en.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&en.d.X(e,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};rn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=am(t.as,t.crossOrigin);en.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&en.d.M(e)};rn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=am(n,t.crossOrigin);en.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};rn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=am(t.as,t.crossOrigin);en.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else en.d.m(e)};rn.requestFormReset=function(e){en.d.r(e)};rn.unstable_batchedUpdates=function(e,t){return e(t)};rn.useFormState=function(e,t,n){return lc.H.useFormState(e,t,n)};rn.useFormStatus=function(){return lc.H.useHostTransitionStatus()};rn.version="19.1.0";function N1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N1)}catch(e){console.error(e)}}N1(),w1.exports=rn;var im=w1.exports;const R5=kx(im);function D5(){return"/lorerim-arcaneum/"}function an(e){return`${D5()}${e}`}const My=e=>{let t;const n=new Set,s=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,m))}},r=()=>t,o={setState:s,getState:r,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(s,r,o);return o},z5=e=>e?My(e):My,L5=e=>e;function $5(e,t=L5){const n=L.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return L.useDebugValue(n),n}const Ry=e=>{const t=z5(e),n=s=>$5(t,s);return Object.assign(n,t),n},$n=e=>e?Ry(e):Ry,Mi=$n((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(an("data/perk-trees.json"));if(!s.ok)throw new Error(`Failed to fetch perk trees data: ${s.status}`);const i=await s.json();e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load perk trees",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var l,o;return i.name.toLowerCase().includes(r)||((l=i.description)==null?void 0:l.toLowerCase().includes(r))||((o=i.tags)==null?void 0:o.some(c=>c.toLowerCase().includes(r)))})}})),P5=Object.freeze(Object.defineProperty({__proto__:null,usePerkTreesStore:Mi},Symbol.toStringTag,{value:"Module"}));function O5(){return Mi.getState().data}function S1(e,t,n){var l;if(t.length===0)return 0;const r=O5().find(o=>o.treeId===e);if(!r)return 0;let i=0;for(const o of t){const c=r.perks.find(f=>f.edid===o);if(!c)continue;const u=n[o]||1,d=c.ranks.find(f=>f.rank===u);if(d&&(l=d.prerequisites)!=null&&l.skillLevel){const f=d.prerequisites.skillLevel.level;i=Math.max(i,f)}}return i}function Iu(e){const t={};for(const[n,s]of Object.entries(e.selected))if(s.length>0){const r=S1(n,s,e.ranks);r>0&&(t[n]=r)}return t}const Dy={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},skillLevels:{},equipment:[],userProgress:{unlocks:[]},destinyPath:[],attributeAssignments:{health:0,stamina:0,magicka:0,level:1,assignments:{}}},Jr=$n((e,t)=>({build:Dy,updateBuild:n=>e(s=>({build:{...s.build,...n}})),setBuild:n=>e({build:n}),resetBuild:()=>e({build:Dy}),setAttributeAssignment:(n,s)=>{e(r=>{const i={...r.build.attributeAssignments.assignments},l={...r.build.attributeAssignments},o=i[n];return o&&(l[o]=Math.max(0,l[o]-5)),i[n]=s,l[s]+=5,{build:{...r.build,attributeAssignments:{...r.build.attributeAssignments,...l,assignments:i}}}})},clearAttributeAssignment:n=>{e(s=>{const r={...s.build.attributeAssignments.assignments},i={...s.build.attributeAssignments},l=r[n];return l&&(i[l]=Math.max(0,i[l]-5),delete r[n]),{build:{...s.build,attributeAssignments:{...s.build.attributeAssignments,...i,assignments:r}}}})},clearAllAttributeAssignments:()=>{e(n=>({build:{...n.build,attributeAssignments:{health:0,stamina:0,magicka:0,level:n.build.attributeAssignments.level,assignments:{}}}}))},updateAttributeLevel:n=>{e(s=>({build:{...s.build,attributeAssignments:{...s.build.attributeAssignments,level:Math.max(1,n)}}}))}}));function pt(){const e=Jr(U=>U.build.skills.major),t=Jr(U=>U.build.skills.minor),n=Jr(U=>U.build),s=Jr(U=>U.updateBuild),r=Jr(U=>U.resetBuild),i=U=>(e==null?void 0:e.includes(U))??!1,l=U=>(t==null?void 0:t.includes(U))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:i,hasMinorSkill:l,addMajorSkill:U=>{const W=e??[],K=t??[];if(!i(U)&&W.length<3){const Q=K.filter(be=>be!==U),ie={major:[...W,U],minor:Q};s({skills:ie})}},removeMajorSkill:U=>{const W=e??[],K=t??[],Q=W.filter(ie=>ie!==U);s({skills:{major:Q,minor:K}})},addMinorSkill:U=>{const W=e??[],K=t??[];if(!l(U)&&K.length<6){const Q=W.filter(ie=>ie!==U);s({skills:{major:Q,minor:[...K,U]}})}},removeMinorSkill:U=>{const W=e??[],Q=(t??[]).filter(ie=>ie!==U);s({skills:{major:W,minor:Q}})},addPerk:(U,W)=>{var ie;const K=((ie=n==null?void 0:n.perks)==null?void 0:ie.selected)??{},Q=K[U]??[];if(!Q.includes(W)){const be={...n==null?void 0:n.perks,selected:{...K,[U]:[...Q,W]}},fe=Iu(be);s({perks:be,skillLevels:fe})}},removePerk:(U,W)=>{var ne;const K=((ne=n==null?void 0:n.perks)==null?void 0:ne.selected)??{},ie=(K[U]??[]).filter($e=>$e!==W),be={...n==null?void 0:n.perks,selected:{...K,[U]:ie}},fe=Iu(be);s({perks:be,skillLevels:fe})},setPerkRank:(U,W)=>{var be;const K=((be=n==null?void 0:n.perks)==null?void 0:be.ranks)??{},Q={...n==null?void 0:n.perks,ranks:{...K,[U]:W}},ie=Iu(Q);s({perks:Q,skillLevels:ie})},clearSkillPerks:U=>{var $e,wt;const W=(($e=n==null?void 0:n.perks)==null?void 0:$e.selected)??{},K=((wt=n==null?void 0:n.perks)==null?void 0:wt.ranks)??{},{[U]:Q,...ie}=W,be={...K};Q&&Q.forEach(bs=>{delete be[bs]});const fe={...n==null?void 0:n.perks,selected:ie,ranks:be},ne=Iu(fe);s({perks:fe,skillLevels:ne})},getSkillPerks:U=>{var W,K;return((K=(W=n==null?void 0:n.perks)==null?void 0:W.selected)==null?void 0:K[U])??[]},getPerkRank:U=>{var W,K;return((K=(W=n==null?void 0:n.perks)==null?void 0:W.ranks)==null?void 0:K[U])??0},getSkillLevel:U=>{var W;return((W=n==null?void 0:n.skillLevels)==null?void 0:W[U])??0},addTrait:U=>{const{regular:W=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:Q=2,bonus:ie=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};W.length<Q?s({traits:{...n==null?void 0:n.traits,regular:[...W,U]}}):K.length<ie&&s({traits:{...n==null?void 0:n.traits,bonus:[...K,U]}})},addRegularTrait:U=>{const{regular:W=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:K=2}=(n==null?void 0:n.traitLimits)??{regular:2};W.length<K&&s({traits:{...n==null?void 0:n.traits,regular:[...W,U]}})},addBonusTrait:U=>{const{bonus:W=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:K=1}=(n==null?void 0:n.traitLimits)??{bonus:1};W.length<K&&s({traits:{...n==null?void 0:n.traits,bonus:[...W,U]}})},removeTrait:U=>{const{regular:W=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};s({traits:{regular:W.filter(Q=>Q!==U),bonus:K.filter(Q=>Q!==U)}})},hasTrait:U=>{var W,K,Q,ie;return(((K=(W=n==null?void 0:n.traits)==null?void 0:W.regular)==null?void 0:K.includes(U))??!1)||(((ie=(Q=n==null?void 0:n.traits)==null?void 0:Q.bonus)==null?void 0:ie.includes(U))??!1)},hasRegularTrait:U=>{var W,K;return((K=(W=n==null?void 0:n.traits)==null?void 0:W.regular)==null?void 0:K.includes(U))??!1},hasBonusTrait:U=>{var W,K;return((K=(W=n==null?void 0:n.traits)==null?void 0:W.bonus)==null?void 0:K.includes(U))??!1},setRace:U=>{s({race:U})},setBirthsign:U=>{s({stone:U})},setStone:U=>{s({stone:U})},setReligion:U=>{s({religion:U})},addEquipment:U=>{const W=(n==null?void 0:n.equipment)??[];W.includes(U)||s({equipment:[...W,U]})},removeEquipment:U=>{const W=(n==null?void 0:n.equipment)??[];s({equipment:W.filter(K=>K!==U)})},setBuildName:U=>{s({name:U})},setBuildNotes:U=>{s({notes:U})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:U=>{s({destinyPath:U})},updateBuild:s,clearBuild:()=>{s({name:"",notes:"",race:null,stone:null,religion:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},perks:{selected:{},ranks:{}},skillLevels:{},destinyPath:[]})},resetBuild:r,getSummary:()=>{var U,W,K,Q,ie,be,fe,ne,$e;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((W=(U=n==null?void 0:n.traits)==null?void 0:U.regular)==null?void 0:W.length)??0)+(((Q=(K=n==null?void 0:n.traits)==null?void 0:K.bonus)==null?void 0:Q.length)??0),majorSkillCount:((be=(ie=n==null?void 0:n.skills)==null?void 0:ie.major)==null?void 0:be.length)??0,minorSkillCount:((ne=(fe=n==null?void 0:n.skills)==null?void 0:fe.minor)==null?void 0:ne.length)??0,equipmentCount:(($e=n==null?void 0:n.equipment)==null?void 0:$e.length)??0}},getRegularTraitLimit:()=>{var U;return((U=n==null?void 0:n.traitLimits)==null?void 0:U.regular)??2},getBonusTraitLimit:()=>{var U;return((U=n==null?void 0:n.traitLimits)==null?void 0:U.bonus)??1},getRegularTraitCount:()=>{var U,W;return((W=(U=n==null?void 0:n.traits)==null?void 0:U.regular)==null?void 0:W.length)??0},getBonusTraitCount:()=>{var U,W;return((W=(U=n==null?void 0:n.traits)==null?void 0:U.bonus)==null?void 0:W.length)??0},canAddRegularTrait:()=>{var U,W,K;return(((W=(U=n==null?void 0:n.traits)==null?void 0:U.regular)==null?void 0:W.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.regular)??2)},canAddBonusTrait:()=>{var U,W,K;return(((W=(U=n==null?void 0:n.traits)==null?void 0:U.bonus)==null?void 0:W.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.bonus)??1)},getTraitType:U=>{var W,K,Q,ie;return(K=(W=n==null?void 0:n.traits)==null?void 0:W.regular)!=null&&K.includes(U)?"regular":(ie=(Q=n==null?void 0:n.traits)==null?void 0:Q.bonus)!=null&&ie.includes(U)?"bonus":null},isAllTraitsFull:()=>{var ie,be,fe,ne,$e,wt;const U=((be=(ie=n==null?void 0:n.traits)==null?void 0:ie.regular)==null?void 0:be.length)??0,W=((ne=(fe=n==null?void 0:n.traits)==null?void 0:fe.bonus)==null?void 0:ne.length)??0,K=(($e=n==null?void 0:n.traitLimits)==null?void 0:$e.regular)??2,Q=((wt=n==null?void 0:n.traitLimits)==null?void 0:wt.bonus)??1;return U>=K&&W>=Q},addTraitToSlot:(U,W)=>{if(W==="regular"){const{regular:K=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:Q=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(K.length<Q){const{bonus:ie=[]}=(n==null?void 0:n.traits)??{bonus:[]},be=ie.filter(fe=>fe!==U);s({traits:{regular:[...K,U],bonus:be}})}}else{const{bonus:K=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:Q=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(K.length<Q){const{regular:ie=[]}=(n==null?void 0:n.traits)??{regular:[]},be=ie.filter(fe=>fe!==U);s({traits:{regular:be,bonus:[...K,U]}})}}},isSlotAvailable:(U,W=0)=>{var K,Q,ie,be;return U==="regular"?(((Q=(K=n==null?void 0:n.traits)==null?void 0:K.regular)==null?void 0:Q.length)??0)<=W:(((be=(ie=n==null?void 0:n.traits)==null?void 0:ie.bonus)==null?void 0:be.length)??0)<=W}}}function zy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lm(...e){return t=>{let n=!1;const s=e.map(r=>{const i=zy(r,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():zy(e[r],null)}}}}function Ie(...e){return g.useCallback(lm(...e),e)}function Ul(e){const t=I5(e),n=g.forwardRef((s,r)=>{const{children:i,...l}=s,o=g.Children.toArray(i),c=o.find(H5);if(c){const u=c.props.children,d=o.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...l,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(t,{...l,ref:r,children:i})});return n.displayName=`${e}.Slot`,n}var B5=Ul("Slot");function I5(e){const t=g.forwardRef((n,s)=>{const{children:r,...i}=n;if(g.isValidElement(r)){const l=V5(r),o=U5(i,r.props);return r.type!==g.Fragment&&(o.ref=s?lm(s,l):l),g.cloneElement(r,o)}return g.Children.count(r)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var k1=Symbol("radix.slottable");function F5(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=k1,t}function H5(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===k1}function U5(e,t){const n={...t};for(const s in t){const r=e[s],i=t[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...o)=>{const c=i(...o);return r(...o),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}function V5(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function C1(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=C1(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function E1(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=C1(e))&&(s&&(s+=" "),s+=t);return s}const Ly=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$y=E1,iu=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return $y(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=t,l=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=Ly(d)||Ly(f);return r[u][m]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(p=>{let[y,w]=p;return Array.isArray(w)?w.includes({...i,...o}[y]):{...i,...o}[y]===w})?[...u,f,m]:u},[]);return $y(e,l,c,n==null?void 0:n.class,n==null?void 0:n.className)},Ix="-",q5=e=>{const t=G5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const o=l.split(Ix);return o[0]===""&&o.length!==1&&o.shift(),T1(o,t)||Z5(l)},getConflictingClassGroupIds:(l,o)=>{const c=n[l]||[];return o&&s[l]?[...c,...s[l]]:c}}},T1=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),r=s?T1(e.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const i=e.join(Ix);return(l=t.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},Py=/^\[(.+)\]$/,Z5=e=>{if(Py.test(e)){const t=Py.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},G5=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const r in n)Bg(n[r],s,r,t);return s},Bg=(e,t,n,s)=>{e.forEach(r=>{if(typeof r=="string"){const i=r===""?t:Oy(t,r);i.classGroupId=n;return}if(typeof r=="function"){if(Y5(r)){Bg(r(s),t,n,s);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,l])=>{Bg(l,Oy(t,i),n,s)})})},Oy=(e,t)=>{let n=e;return t.split(Ix).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Y5=e=>e.isThemeGetter,X5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const r=(i,l)=>{n.set(i,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=s.get(i))!==void 0)return r(i,l),l},set(i,l){n.has(i)?n.set(i,l):r(i,l)}}},Ig="!",Fg=":",W5=Fg.length,Q5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=r=>{const i=[];let l=0,o=0,c=0,u;for(let p=0;p<r.length;p++){let y=r[p];if(l===0&&o===0){if(y===Fg){i.push(r.slice(c,p)),c=p+W5;continue}if(y==="/"){u=p;continue}}y==="["?l++:y==="]"?l--:y==="("?o++:y===")"&&o--}const d=i.length===0?r:r.substring(c),f=K5(d),m=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const r=t+Fg,i=s;s=l=>l.startsWith(r)?i(l.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const r=s;s=i=>n({className:i,parseClassName:r})}return s},K5=e=>e.endsWith(Ig)?e.substring(0,e.length-1):e.startsWith(Ig)?e.substring(1):e,J5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const r=[];let i=[];return s.forEach(l=>{l[0]==="["||t[l]?(r.push(...i.sort(),l),i=[]):i.push(l)}),r.push(...i.sort()),r}},ez=e=>({cache:X5(e.cacheSize),parseClassName:Q5(e),sortModifiers:J5(e),...q5(e)}),tz=/\s+/,nz=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:i}=t,l=[],o=e.trim().split(tz);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:f,modifiers:m,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!y,v=s(w?p.substring(0,y):p);if(!v){if(!w){c=d+(c.length>0?" "+c:c);continue}if(v=s(p),!v){c=d+(c.length>0?" "+c:c);continue}w=!1}const x=i(m).join(":"),b=h?x+Ig:x,j=b+v;if(l.includes(j))continue;l.push(j);const N=r(v,w);for(let C=0;C<N.length;++C){const S=N[C];l.push(b+S)}c=d+(c.length>0?" "+c:c)}return c};function sz(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=_1(t))&&(s&&(s+=" "),s+=n);return s}const _1=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=_1(e[s]))&&(n&&(n+=" "),n+=t);return n};function rz(e,...t){let n,s,r,i=l;function l(c){const u=t.reduce((d,f)=>f(d),e());return n=ez(u),s=n.cache.get,r=n.cache.set,i=o,o(c)}function o(c){const u=s(c);if(u)return u;const d=nz(c,n);return r(c,d),d}return function(){return i(sz.apply(null,arguments))}}const Ct=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},A1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,M1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,az=/^\d+\/\d+$/,iz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yi=e=>az.test(e),Ce=e=>!!e&&!Number.isNaN(Number(e)),Vr=e=>!!e&&Number.isInteger(Number(e)),fh=e=>e.endsWith("%")&&Ce(e.slice(0,-1)),ar=e=>iz.test(e),dz=()=>!0,fz=e=>lz.test(e)&&!oz.test(e),R1=()=>!1,mz=e=>cz.test(e),hz=e=>uz.test(e),gz=e=>!re(e)&&!ae(e),pz=e=>wo(e,L1,R1),re=e=>A1.test(e),Ha=e=>wo(e,$1,fz),mh=e=>wo(e,wz,Ce),By=e=>wo(e,D1,R1),xz=e=>wo(e,z1,hz),Fu=e=>wo(e,P1,mz),ae=e=>M1.test(e),$o=e=>jo(e,$1),vz=e=>jo(e,jz),Iy=e=>jo(e,D1),yz=e=>jo(e,L1),bz=e=>jo(e,z1),Hu=e=>jo(e,P1,!0),wo=(e,t,n)=>{const s=A1.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},jo=(e,t,n=!1)=>{const s=M1.exec(e);return s?s[1]?t(s[1]):n:!1},D1=e=>e==="position"||e==="percentage",z1=e=>e==="image"||e==="url",L1=e=>e==="length"||e==="size"||e==="bg-size",$1=e=>e==="length",wz=e=>e==="number",jz=e=>e==="family-name",P1=e=>e==="shadow",Nz=()=>{const e=Ct("color"),t=Ct("font"),n=Ct("text"),s=Ct("font-weight"),r=Ct("tracking"),i=Ct("leading"),l=Ct("breakpoint"),o=Ct("container"),c=Ct("spacing"),u=Ct("radius"),d=Ct("shadow"),f=Ct("inset-shadow"),m=Ct("text-shadow"),h=Ct("drop-shadow"),p=Ct("blur"),y=Ct("perspective"),w=Ct("aspect"),v=Ct("ease"),x=Ct("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...j(),ae,re],C=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],E=()=>[ae,re,c],k=()=>[Yi,"full","auto",...E()],T=()=>[Vr,"none","subgrid",ae,re],D=()=>["auto",{span:["full",Vr,ae,re]},Vr,ae,re],O=()=>[Vr,"auto",ae,re],z=()=>["auto","min","max","fr",ae,re],_=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],P=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...E()],$=()=>[Yi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],A=()=>[e,ae,re],R=()=>[...j(),Iy,By,{position:[ae,re]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",yz,pz,{size:[ae,re]}],F=()=>[fh,$o,Ha],Z=()=>["","none","full",u,ae,re],X=()=>["",Ce,$o,Ha],J=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[Ce,fh,Iy,By],ve=()=>["","none",p,ae,re],he=()=>["none",Ce,ae,re],we=()=>["none",Ce,ae,re],U=()=>[Ce,ae,re],W=()=>[Yi,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ar],breakpoint:[ar],color:[dz],container:[ar],"drop-shadow":[ar],ease:["in","out","in-out"],font:[gz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ar],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ar],shadow:[ar],spacing:["px",Ce],text:[ar],"text-shadow":[ar],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yi,re,ae,w]}],container:["container"],columns:[{columns:[Ce,re,ae,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Vr,"auto",ae,re]}],basis:[{basis:[Yi,"full","auto",o,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ce,Yi,"auto","initial","none",re]}],grow:[{grow:["",Ce,ae,re]}],shrink:[{shrink:["",Ce,ae,re]}],order:[{order:[Vr,"first","last","none",ae,re]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[..._(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",..._()]}],"align-items":[{items:[...P(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...P(),{baseline:["","last"]}]}],"place-content":[{"place-content":_()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[o,"screen",...$()]}],"min-w":[{"min-w":[o,"screen","none",...$()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[l]},...$()]}],h:[{h:["screen","lh",...$()]}],"min-h":[{"min-h":["screen","lh","none",...$()]}],"max-h":[{"max-h":["screen","lh",...$()]}],"font-size":[{text:["base",n,$o,Ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ae,mh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",fh,re]}],"font-family":[{font:[vz,re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ae,re]}],"line-clamp":[{"line-clamp":[Ce,"none",ae,mh]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",ae,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ae,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ce,"from-font","auto",ae,Ha]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[Ce,"auto",ae,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vr,ae,re],radial:["",ae,re],conic:[Vr,ae,re]},bz,xz]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ce,ae,re]}],"outline-w":[{outline:["",Ce,$o,Ha]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",d,Hu,Fu]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,Hu,Fu]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[Ce,Ha]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",m,Hu,Fu]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[Ce,ae,re]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ce]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[ae,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ce]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ae,re]}],filter:[{filter:["","none",ae,re]}],blur:[{blur:ve()}],brightness:[{brightness:[Ce,ae,re]}],contrast:[{contrast:[Ce,ae,re]}],"drop-shadow":[{"drop-shadow":["","none",h,Hu,Fu]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",Ce,ae,re]}],"hue-rotate":[{"hue-rotate":[Ce,ae,re]}],invert:[{invert:["",Ce,ae,re]}],saturate:[{saturate:[Ce,ae,re]}],sepia:[{sepia:["",Ce,ae,re]}],"backdrop-filter":[{"backdrop-filter":["","none",ae,re]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Ce,ae,re]}],"backdrop-contrast":[{"backdrop-contrast":[Ce,ae,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ce,ae,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ce,ae,re]}],"backdrop-invert":[{"backdrop-invert":["",Ce,ae,re]}],"backdrop-opacity":[{"backdrop-opacity":[Ce,ae,re]}],"backdrop-saturate":[{"backdrop-saturate":[Ce,ae,re]}],"backdrop-sepia":[{"backdrop-sepia":["",Ce,ae,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ae,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ce,"initial",ae,re]}],ease:[{ease:["linear","initial",v,ae,re]}],delay:[{delay:[Ce,ae,re]}],animate:[{animate:["none",x,ae,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ae,re]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[ae,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae,re]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[Ce,$o,Ha,mh]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Sz=rz(Nz);function I(...e){return Sz(E1(e))}const kz=iu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function V({className:e,variant:t,size:n,asChild:s=!1,...r}){const i=s?B5:"button";return a.jsx(i,{"data-slot":"button",className:I(kz({variant:t,size:n,className:e})),...r})}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function Cz(e,t){const n=g.createContext(t),s=i=>{const{children:l,...o}=i,c=g.useMemo(()=>o,Object.values(o));return a.jsx(n.Provider,{value:c,children:l})};s.displayName=e+"Provider";function r(i){const l=g.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,r]}function Pn(e,t=[]){let n=[];function s(i,l){const o=g.createContext(l),c=n.length;n=[...n,l];const u=f=>{var v;const{scope:m,children:h,...p}=f,y=((v=m==null?void 0:m[e])==null?void 0:v[c])||o,w=g.useMemo(()=>p,Object.values(p));return a.jsx(y.Provider,{value:w,children:h})};u.displayName=i+"Provider";function d(f,m){var y;const h=((y=m==null?void 0:m[e])==null?void 0:y[c])||o,p=g.useContext(h);if(p)return p;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(l=>g.createContext(l));return function(o){const c=(o==null?void 0:o[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return r.scopeName=e,[s,Ez(r,...t)]}function Ez(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const l=s.reduce((o,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...o,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Us=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Tz=YN[" useId ".trim().toString()]||(()=>{}),_z=0;function br(e){const[t,n]=g.useState(Tz());return Us(()=>{n(s=>s??String(_z++))},[e]),t?`radix-${t}`:""}var Az=YN[" useInsertionEffect ".trim().toString()]||Us;function $r({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[r,i,l]=Mz({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:r;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,s])}const u=g.useCallback(d=>{var f;if(o){const m=Rz(d)?d(e):d;m!==e&&((f=l.current)==null||f.call(l,m))}else i(d)},[o,e,i,l]);return[c,u]}function Mz({defaultProp:e,onChange:t}){const[n,s]=g.useState(e),r=g.useRef(n),i=g.useRef(t);return Az(()=>{i.current=t},[t]),g.useEffect(()=>{var l;r.current!==n&&((l=i.current)==null||l.call(i,n),r.current=n)},[n,r]),[n,s,i]}function Rz(e){return typeof e=="function"}var Dz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=Dz.reduce((e,t)=>{const n=Ul(`Primitive.${t}`),s=g.forwardRef((r,i)=>{const{asChild:l,...o}=r,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function O1(e,t){e&&im.flushSync(()=>e.dispatchEvent(t))}function Yt(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function zz(e,t=globalThis==null?void 0:globalThis.document){const n=Yt(e);g.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Lz="DismissableLayer",Hg="dismissableLayer.update",$z="dismissableLayer.pointerDownOutside",Pz="dismissableLayer.focusOutside",Fy,B1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lu=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=e,u=g.useContext(B1),[d,f]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=g.useState({}),p=Ie(t,S=>f(S)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(w),x=d?y.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=v,N=Iz(S=>{const E=S.target,k=[...u.branches].some(T=>T.contains(E));!j||k||(r==null||r(S),l==null||l(S),S.defaultPrevented||o==null||o())},m),C=Fz(S=>{const E=S.target;[...u.branches].some(T=>T.contains(E))||(i==null||i(S),l==null||l(S),S.defaultPrevented||o==null||o())},m);return zz(S=>{x===u.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&o&&(S.preventDefault(),o()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Fy=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Hy(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Fy)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Hy())},[d,u]),g.useEffect(()=>{const S=()=>h({});return document.addEventListener(Hg,S),()=>document.removeEventListener(Hg,S)},[]),a.jsx(je.div,{...c,ref:p,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,C.onFocusCapture),onBlurCapture:se(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,N.onPointerDownCapture)})});lu.displayName=Lz;var Oz="DismissableLayerBranch",Bz=g.forwardRef((e,t)=>{const n=g.useContext(B1),s=g.useRef(null),r=Ie(t,s);return g.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(je.div,{...e,ref:r})});Bz.displayName=Oz;function Iz(e,t=globalThis==null?void 0:globalThis.document){const n=Yt(e),s=g.useRef(!1),r=g.useRef(()=>{});return g.useEffect(()=>{const i=o=>{if(o.target&&!s.current){let c=function(){I1($z,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}else t.removeEventListener("click",r.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Fz(e,t=globalThis==null?void 0:globalThis.document){const n=Yt(e),s=g.useRef(!1);return g.useEffect(()=>{const r=i=>{i.target&&!s.current&&I1(Pz,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Hy(){const e=new CustomEvent(Hg);document.dispatchEvent(e)}function I1(e,t,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?O1(r,i):r.dispatchEvent(i)}var hh="focusScope.autoFocusOnMount",gh="focusScope.autoFocusOnUnmount",Uy={bubbles:!1,cancelable:!0},Hz="FocusScope",Fx=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...l}=e,[o,c]=g.useState(null),u=Yt(r),d=Yt(i),f=g.useRef(null),m=Ie(t,y=>c(y)),h=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let y=function(b){if(h.paused||!o)return;const j=b.target;o.contains(j)?f.current=j:Gr(f.current,{select:!0})},w=function(b){if(h.paused||!o)return;const j=b.relatedTarget;j!==null&&(o.contains(j)||Gr(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Gr(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),x.disconnect()}}},[s,o,h.paused]),g.useEffect(()=>{if(o){qy.add(h);const y=document.activeElement;if(!o.contains(y)){const v=new CustomEvent(hh,Uy);o.addEventListener(hh,u),o.dispatchEvent(v),v.defaultPrevented||(Uz(Yz(F1(o)),{select:!0}),document.activeElement===y&&Gr(o))}return()=>{o.removeEventListener(hh,u),setTimeout(()=>{const v=new CustomEvent(gh,Uy);o.addEventListener(gh,d),o.dispatchEvent(v),v.defaultPrevented||Gr(y??document.body,{select:!0}),o.removeEventListener(gh,d),qy.remove(h)},0)}}},[o,u,d,h]);const p=g.useCallback(y=>{if(!n&&!s||h.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(w&&v){const x=y.currentTarget,[b,j]=Vz(x);b&&j?!y.shiftKey&&v===j?(y.preventDefault(),n&&Gr(b,{select:!0})):y.shiftKey&&v===b&&(y.preventDefault(),n&&Gr(j,{select:!0})):v===x&&y.preventDefault()}},[n,s,h.paused]);return a.jsx(je.div,{tabIndex:-1,...l,ref:m,onKeyDown:p})});Fx.displayName=Hz;function Uz(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Gr(s,{select:t}),document.activeElement!==n)return}function Vz(e){const t=F1(e),n=Vy(t,e),s=Vy(t.reverse(),e);return[n,s]}function F1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vy(e,t){for(const n of e)if(!qz(n,{upTo:t}))return n}function qz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zz(e){return e instanceof HTMLInputElement&&"select"in e}function Gr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Zz(e)&&t&&e.select()}}var qy=Gz();function Gz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Zy(e,t),e.unshift(t)},remove(t){var n;e=Zy(e,t),(n=e[0])==null||n.resume()}}}function Zy(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Yz(e){return e.filter(t=>t.tagName!=="A")}var Xz="Portal",Hx=g.forwardRef((e,t)=>{var o;const{container:n,...s}=e,[r,i]=g.useState(!1);Us(()=>i(!0),[]);const l=n||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?R5.createPortal(a.jsx(je.div,{...s,ref:t}),l):null});Hx.displayName=Xz;function Wz(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var Kt=e=>{const{present:t,children:n}=e,s=Qz(t),r=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),i=Ie(s.ref,Kz(r));return typeof n=="function"||s.isPresent?g.cloneElement(r,{ref:i}):null};Kt.displayName="Presence";function Qz(e){const[t,n]=g.useState(),s=g.useRef(null),r=g.useRef(e),i=g.useRef("none"),l=e?"mounted":"unmounted",[o,c]=Wz(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Uu(s.current);i.current=o==="mounted"?u:"none"},[o]),Us(()=>{const u=s.current,d=r.current;if(d!==e){const m=i.current,h=Uu(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,c]),Us(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const y=Uu(s.current).includes(h.animationName);if(h.target===t&&y&&(c("ANIMATION_END"),!r.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=h=>{h.target===t&&(i.current=Uu(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:g.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Uu(e){return(e==null?void 0:e.animationName)||"none"}function Kz(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ph=0;function H1(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Gy()),document.body.insertAdjacentElement("beforeend",e[1]??Gy()),ph++,()=>{ph===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ph--}},[])}function Gy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _s=function(){return _s=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_s.apply(this,arguments)};function U1(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function Jz(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,i;s<r;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Ed="right-scroll-bar-position",Td="width-before-scroll-bar",eL="with-scroll-bars-hidden",tL="--removed-body-scroll-bar-size";function xh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nL(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=t,n.facade}var sL=typeof window<"u"?g.useLayoutEffect:g.useEffect,Yy=new WeakMap;function rL(e,t){var n=nL(null,function(s){return e.forEach(function(r){return xh(r,s)})});return sL(function(){var s=Yy.get(n);if(s){var r=new Set(s),i=new Set(e),l=n.current;r.forEach(function(o){i.has(o)||xh(o,null)}),i.forEach(function(o){r.has(o)||xh(o,l)})}Yy.set(n,e)},[e]),n}function aL(e){return e}function iL(e,t){t===void 0&&(t=aL);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,s);return n.push(l),function(){n=n.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(s=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){s=!0;var l=[];if(n.length){var o=n;n=[],o.forEach(i),l=n}var c=function(){var d=l;l=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){l.push(d),u()},filter:function(d){return l=l.filter(d),n}}}};return r}function lL(e){e===void 0&&(e={});var t=iL(null);return t.options=_s({async:!0,ssr:!1},e),t}var V1=function(e){var t=e.sideCar,n=U1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,_s({},n))};V1.isSideCarExport=!0;function oL(e,t){return e.useMedium(t),V1}var q1=lL(),vh=function(){},om=g.forwardRef(function(e,t){var n=g.useRef(null),s=g.useState({onScrollCapture:vh,onWheelCapture:vh,onTouchMoveCapture:vh}),r=s[0],i=s[1],l=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,h=e.noRelative,p=e.noIsolation,y=e.inert,w=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,j=U1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,C=rL([n,t]),S=_s(_s({},j),r);return g.createElement(g.Fragment,null,d&&g.createElement(N,{sideCar:q1,removeScrollBar:u,shards:f,noRelative:h,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:b}),l?g.cloneElement(g.Children.only(o),_s(_s({},S),{ref:C})):g.createElement(x,_s({},S,{className:c,ref:C}),o))});om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};om.classNames={fullWidth:Td,zeroRight:Ed};var cL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cL();return t&&e.setAttribute("nonce",t),e}function dL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=uL())&&(dL(t,n),fL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hL=function(){var e=mL();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Z1=function(){var e=hL(),t=function(n){var s=n.styles,r=n.dynamic;return e(s,r),null};return t},gL={left:0,top:0,right:0,gap:0},yh=function(e){return parseInt(e||"",10)||0},pL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[yh(n),yh(s),yh(r)]},xL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gL;var t=pL(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},vL=Z1(),Nl="data-scroll-locked",yL=function(e,t,n,s){var r=e.left,i=e.top,l=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(eL,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(o,"px ").concat(s,`;
  }
  body[`).concat(Nl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ed,` {
    right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(Td,` {
    margin-right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Td," .").concat(Td,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Nl,`] {
    `).concat(tL,": ").concat(o,`px;
  }
`)},Xy=function(){var e=parseInt(document.body.getAttribute(Nl)||"0",10);return isFinite(e)?e:0},bL=function(){g.useEffect(function(){return document.body.setAttribute(Nl,(Xy()+1).toString()),function(){var e=Xy()-1;e<=0?document.body.removeAttribute(Nl):document.body.setAttribute(Nl,e.toString())}},[])},wL=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,r=s===void 0?"margin":s;bL();var i=g.useMemo(function(){return xL(r)},[r]);return g.createElement(vL,{styles:yL(i,!t,r,n?"":"!important")})},Ug=!1;if(typeof window<"u")try{var Vu=Object.defineProperty({},"passive",{get:function(){return Ug=!0,!0}});window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{Ug=!1}var Xi=Ug?{passive:!1}:!1,jL=function(e){return e.tagName==="TEXTAREA"},G1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!jL(e)&&n[t]==="visible")},NL=function(e){return G1(e,"overflowY")},SL=function(e){return G1(e,"overflowX")},Wy=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=Y1(e,s);if(r){var i=X1(e,s),l=i[1],o=i[2];if(l>o)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},kL=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},CL=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},Y1=function(e,t){return e==="v"?NL(t):SL(t)},X1=function(e,t){return e==="v"?kL(t):CL(t)},EL=function(e,t){return e==="h"&&t==="rtl"?-1:1},TL=function(e,t,n,s,r){var i=EL(e,window.getComputedStyle(t).direction),l=i*s,o=n.target,c=t.contains(o),u=!1,d=l>0,f=0,m=0;do{if(!o)break;var h=X1(e,o),p=h[0],y=h[1],w=h[2],v=y-w-i*p;(p||v)&&Y1(e,o)&&(f+=v,m+=p);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},qu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qy=function(e){return[e.deltaX,e.deltaY]},Ky=function(e){return e&&"current"in e?e.current:e},_L=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ML=0,Wi=[];function RL(e){var t=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),r=g.useState(ML++)[0],i=g.useState(Z1)[0],l=g.useRef(e);g.useEffect(function(){l.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var y=Jz([e.lockRef.current],(e.shards||[]).map(Ky),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var o=g.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!l.current.allowPinchZoom;var v=qu(y),x=n.current,b="deltaX"in y?y.deltaX:x[0]-v[0],j="deltaY"in y?y.deltaY:x[1]-v[1],N,C=y.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in y&&S==="h"&&C.type==="range")return!1;var E=Wy(S,C);if(!E)return!0;if(E?N=S:(N=S==="v"?"h":"v",E=Wy(S,C)),!E)return!1;if(!s.current&&"changedTouches"in y&&(b||j)&&(s.current=N),!N)return!0;var k=s.current||N;return TL(k,w,y,k==="h"?b:j)},[]),c=g.useCallback(function(y){var w=y;if(!(!Wi.length||Wi[Wi.length-1]!==i)){var v="deltaY"in w?Qy(w):qu(w),x=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&_L(N.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(l.current.shards||[]).map(Ky).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=b.length>0?o(w,b[0]):!l.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=g.useCallback(function(y,w,v,x){var b={name:y,delta:w,target:v,should:x,shadowParent:DL(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=g.useCallback(function(y){n.current=qu(y),s.current=void 0},[]),f=g.useCallback(function(y){u(y.type,Qy(y),y.target,o(y,e.lockRef.current))},[]),m=g.useCallback(function(y){u(y.type,qu(y),y.target,o(y,e.lockRef.current))},[]);g.useEffect(function(){return Wi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Xi),document.addEventListener("touchmove",c,Xi),document.addEventListener("touchstart",d,Xi),function(){Wi=Wi.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Xi),document.removeEventListener("touchmove",c,Xi),document.removeEventListener("touchstart",d,Xi)}},[]);var h=e.removeScrollBar,p=e.inert;return g.createElement(g.Fragment,null,p?g.createElement(i,{styles:AL(r)}):null,h?g.createElement(wL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function DL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zL=oL(q1,RL);var Ux=g.forwardRef(function(e,t){return g.createElement(om,_s({},e,{ref:t,sideCar:zL}))});Ux.classNames=om.classNames;var LL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qi=new WeakMap,Zu=new WeakMap,Gu={},bh=0,W1=function(e){return e&&(e.host||W1(e.parentNode))},$L=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=W1(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},PL=function(e,t,n,s){var r=$L(t,Array.isArray(e)?e:[e]);Gu[n]||(Gu[n]=new WeakMap);var i=Gu[n],l=[],o=new Set,c=new Set(r),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(o.has(m))d(m);else try{var h=m.getAttribute(s),p=h!==null&&h!=="false",y=(Qi.get(m)||0)+1,w=(i.get(m)||0)+1;Qi.set(m,y),i.set(m,w),l.push(m),y===1&&p&&Zu.set(m,!0),w===1&&m.setAttribute(n,"true"),p||m.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(t),o.clear(),bh++,function(){l.forEach(function(f){var m=Qi.get(f)-1,h=i.get(f)-1;Qi.set(f,m),i.set(f,h),m||(Zu.has(f)||f.removeAttribute(s),Zu.delete(f)),h||f.removeAttribute(n)}),bh--,bh||(Qi=new WeakMap,Qi=new WeakMap,Zu=new WeakMap,Gu={})}},Q1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=LL(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),PL(s,r,n,"aria-hidden")):function(){return null}},cm="Dialog",[K1,Zte]=Pn(cm),[OL,ps]=K1(cm),J1=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:l=!0}=e,o=g.useRef(null),c=g.useRef(null),[u,d]=$r({prop:s,defaultProp:r??!1,onChange:i,caller:cm});return a.jsx(OL,{scope:t,triggerRef:o,contentRef:c,contentId:br(),titleId:br(),descriptionId:br(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:l,children:n})};J1.displayName=cm;var eS="DialogTrigger",tS=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ps(eS,n),i=Ie(t,r.triggerRef);return a.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Zx(r.open),...s,ref:i,onClick:se(e.onClick,r.onOpenToggle)})});tS.displayName=eS;var Vx="DialogPortal",[BL,nS]=K1(Vx,{forceMount:void 0}),sS=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:r}=e,i=ps(Vx,t);return a.jsx(BL,{scope:t,forceMount:n,children:g.Children.map(s,l=>a.jsx(Kt,{present:n||i.open,children:a.jsx(Hx,{asChild:!0,container:r,children:l})}))})};sS.displayName=Vx;var Qd="DialogOverlay",rS=g.forwardRef((e,t)=>{const n=nS(Qd,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,i=ps(Qd,e.__scopeDialog);return i.modal?a.jsx(Kt,{present:s||i.open,children:a.jsx(FL,{...r,ref:t})}):null});rS.displayName=Qd;var IL=Ul("DialogOverlay.RemoveScroll"),FL=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ps(Qd,n);return a.jsx(Ux,{as:IL,allowPinchZoom:!0,shards:[r.contentRef],children:a.jsx(je.div,{"data-state":Zx(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),hi="DialogContent",aS=g.forwardRef((e,t)=>{const n=nS(hi,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,i=ps(hi,e.__scopeDialog);return a.jsx(Kt,{present:s||i.open,children:i.modal?a.jsx(HL,{...r,ref:t}):a.jsx(UL,{...r,ref:t})})});aS.displayName=hi;var HL=g.forwardRef((e,t)=>{const n=ps(hi,e.__scopeDialog),s=g.useRef(null),r=Ie(t,n.contentRef,s);return g.useEffect(()=>{const i=s.current;if(i)return Q1(i)},[]),a.jsx(iS,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault())})}),UL=g.forwardRef((e,t)=>{const n=ps(hi,e.__scopeDialog),s=g.useRef(!1),r=g.useRef(!1);return a.jsx(iS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(s.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),iS=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...l}=e,o=ps(hi,n),c=g.useRef(null),u=Ie(t,c);return H1(),a.jsxs(a.Fragment,{children:[a.jsx(Fx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:a.jsx(lu,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Zx(o.open),...l,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(VL,{titleId:o.titleId}),a.jsx(ZL,{contentRef:c,descriptionId:o.descriptionId})]})]})}),qx="DialogTitle",lS=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ps(qx,n);return a.jsx(je.h2,{id:r.titleId,...s,ref:t})});lS.displayName=qx;var oS="DialogDescription",cS=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ps(oS,n);return a.jsx(je.p,{id:r.descriptionId,...s,ref:t})});cS.displayName=oS;var uS="DialogClose",dS=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ps(uS,n);return a.jsx(je.button,{type:"button",...s,ref:t,onClick:se(e.onClick,()=>r.onOpenChange(!1))})});dS.displayName=uS;function Zx(e){return e?"open":"closed"}var fS="DialogTitleWarning",[Gte,mS]=Cz(fS,{contentName:hi,titleName:qx,docsSlug:"dialog"}),VL=({titleId:e})=>{const t=mS(fS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qL="DialogDescriptionWarning",ZL=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mS(qL).contentName}}.`;return g.useEffect(()=>{var i;const r=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},hS=J1,GL=tS,gS=sS,Gx=rS,Yx=aS,Xx=lS,Wx=cS,YL=dS;const Vl=hS,pS=GL,XL=gS,xS=g.forwardRef(({className:e,...t},n)=>a.jsx(Gx,{className:I("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:qt.MODAL},...t,ref:n}));xS.displayName=Gx.displayName;const WL=iu("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),gi=g.forwardRef(({side:e="right",className:t,children:n,...s},r)=>a.jsxs(XL,{children:[a.jsx(xS,{}),a.jsxs(Yx,{ref:r,className:I(WL({side:e}),t),style:{zIndex:qt.MODAL+1,backgroundColor:"hsl(var(--background))"},...s,children:[n,a.jsxs(YL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Xe,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gi.displayName=Yx.displayName;const ql=({className:e,...t})=>a.jsx("div",{className:I("flex flex-col space-y-2 text-center sm:text-left",e),...t});ql.displayName="SheetHeader";const Zl=g.forwardRef(({className:e,...t},n)=>a.jsx(Xx,{ref:n,className:I("text-lg font-semibold text-foreground",e),...t}));Zl.displayName=Xx.displayName;const Qx=g.forwardRef(({className:e,...t},n)=>a.jsx(Wx,{ref:n,className:I("text-sm text-muted-foreground",e),...t}));Qx.displayName=Wx.displayName;function de({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:I("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function Se({className:e,action:t,children:n,...s}){return a.jsxs("div",{"data-slot":"card-header",className:I("flex flex-row items-start justify-between space-y-0",e),...s,children:[a.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&a.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function Me({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:I("text-xl font-bold leading-none",e),...t})}function Ms({className:e,...t}){return a.jsx("div",{"data-slot":"card-description",className:I("text-base text-muted-foreground",e),...t})}function me({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:I("pt-0",e),...t})}const Ps=g.forwardRef(({className:e,type:t,...n},s)=>a.jsx("input",{type:t,className:I("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Ps.displayName="Input";var QL="Label",vS=g.forwardRef((e,t)=>a.jsx(je.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vS.displayName=QL;const KL=iu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Gt=g.forwardRef(({className:e,children:t,...n},s)=>a.jsx(vS,{ref:s,className:I(KL(),e),...n,children:t}));Gt.displayName="Label";function yS({name:e,notes:t,onNameChange:n,onNotesChange:s,className:r}){const[i,l]=g.useState(e),[o,c]=g.useState(t),u=g.useCallback((()=>{let h;return p=>{clearTimeout(h),h=setTimeout(()=>{n(p)},300)}})(),[n]),d=g.useCallback((()=>{let h;return p=>{clearTimeout(h),h=setTimeout(()=>{s(p)},300)}})(),[s]);g.useEffect(()=>{l(e)},[e]),g.useEffect(()=>{c(t)},[t]);const f=h=>{const p=h.target.value;l(p),u(p)},m=h=>{const p=h.target.value;c(p),d(p)};return a.jsxs(de,{className:`mb-6 ${r||""}`,children:[a.jsx(Se,{children:a.jsx(Me,{children:"Basic Information"})}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Gt,{htmlFor:"name",children:"Character Name"}),a.jsx(Ps,{id:"name",value:i,onChange:f,placeholder:"Enter character name..."})]}),a.jsxs("div",{children:[a.jsx(Gt,{htmlFor:"notes",children:"Notes"}),a.jsx("textarea",{id:"notes",value:o,onChange:m,placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}const Ri=$n((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(an("data/birthsigns.json"));if(!s.ok)throw new Error(`Failed to fetch birthsigns data: ${s.status}`);const i=(await s.json()).map(l=>{var o,c;return{...l,id:l.edid||l.name.toLowerCase().replace(/\s+/g,"-"),tags:[l.group,...((o=l.powers)==null?void 0:o.map(u=>u.name))||[],...((c=l.stat_modifications)==null?void 0:c.map(u=>u.stat))||[]].filter(u=>!!u)}});e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load birthsigns",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var l,o;return i.name.toLowerCase().includes(r)||((l=i.description)==null?void 0:l.toLowerCase().includes(r))||((o=i.tags)==null?void 0:o.some(c=>c.toLowerCase().includes(r)))})}})),JL=Object.freeze(Object.defineProperty({__proto__:null,useBirthsignsStore:Ri},Symbol.toStringTag,{value:"Module"}));function e$(e){var s;const t=[],n=((s=e.description)==null?void 0:s.toLowerCase())||"";return(n.includes("damage")||n.includes("weapon"))&&t.push("Combat"),(n.includes("armor")||n.includes("defense"))&&t.push("Defensive"),(n.includes("magicka")||n.includes("spell")||n.includes("magic"))&&t.push("Magic"),(n.includes("regeneration")||n.includes("health")||n.includes("stamina"))&&t.push("Utility"),(n.includes("detect")||n.includes("stealth"))&&t.push("Stealth"),(n.includes("cost")||n.includes("less"))&&t.push("Cost Reduction"),(n.includes("increase")||n.includes("more"))&&t.push("Enhancement"),n.includes("resistance")&&t.push("Resistance"),[...new Set(t)]}const No=$n((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(an("data/subclasses.json"));if(!s.ok)throw new Error(`Failed to fetch destiny nodes data: ${s.status}`);const i=(await s.json()).map((l,o)=>({...l,id:l.globalFormId||l.edid||`destiny-${o}`,nextBranches:l.nextBranches||[],levelRequirement:l.levelRequirement,lore:l.lore,tags:e$(l),prerequisites:Array.isArray(l.prerequisites)?l.prerequisites:[]}));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load destiny nodes",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var l,o;return i.name.toLowerCase().includes(r)||((l=i.description)==null?void 0:l.toLowerCase().includes(r))||((o=i.tags)==null?void 0:o.some(c=>c.toLowerCase().includes(r)))})}})),t$=Object.freeze(Object.defineProperty({__proto__:null,useDestinyNodesStore:No},Symbol.toStringTag,{value:"Module"})),kr=$n((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(an("data/playable-races.json"));if(!s.ok)throw new Error(`Failed to fetch races data: ${s.status}`);const i=(await s.json()).races.map(l=>({...l,id:l.id||l.edid||l.name.toLowerCase().replace(/\s+/g,"-"),tags:[l.category,...l.keywords||[]].filter(o=>!!o),name:l.name,edid:l.edid,description:l.description,category:l.category,source:l.source,startingStats:l.startingStats,physicalAttributes:l.physicalAttributes,skillBonuses:l.skillBonuses,racialSpells:l.racialSpells,keywords:l.keywords,flags:l.flags,regeneration:l.regeneration,combat:l.combat}));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load races",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var l,o;return i.name.toLowerCase().includes(r)||((l=i.description)==null?void 0:l.toLowerCase().includes(r))||((o=i.tags)==null?void 0:o.some(c=>c.toLowerCase().includes(r)))})}})),n$=Object.freeze(Object.defineProperty({__proto__:null,useRacesStore:kr},Symbol.toStringTag,{value:"Module"})),s$={SHOW_FAVORED_RACES:!1,ENABLE_RACE_AUTOCOMPLETE:!1,SHOW_RACE_FILTERS:!1};function r$(e){return s$[e]}function ds(){return r$("SHOW_FAVORED_RACES")}const So=$n((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(an("data/wintersun-religion-docs.json"));if(!s.ok)throw new Error(`Failed to fetch religions data: ${s.status}`);const i=(await s.json()).flatMap(l=>l.deities.map(o=>({...o,id:o.id||o.name,pantheon:l.type,type:o.type||l.type,tags:[l.type,...ds()?o.favoredRaces||[]:[],...o.tags||[]].filter(Boolean)})));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load religions",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var l,o;return i.name.toLowerCase().includes(r)||((l=i.description)==null?void 0:l.toLowerCase().includes(r))||((o=i.tags)==null?void 0:o.some(c=>c.toLowerCase().includes(r)))})}})),a$=Object.freeze(Object.defineProperty({__proto__:null,useReligionsStore:So},Symbol.toStringTag,{value:"Module"})),Di=$n((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(an("data/skills.json"));if(!s.ok)throw new Error(`Failed to fetch skills data: ${s.status}`);const i=(await s.json()).skills.map(l=>({...l,id:l.id||l.edid||l.name.toLowerCase().replace(/\s+/g,"-"),tags:[...l.metaTags||[],l.category].filter(o=>!!o)}));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load skills",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var l,o;return i.name.toLowerCase().includes(r)||((l=i.description)==null?void 0:l.toLowerCase().includes(r))||((o=i.tags)==null?void 0:o.some(c=>c.toLowerCase().includes(r)))})}})),i$=Object.freeze(Object.defineProperty({__proto__:null,useSkillsStore:Di},Symbol.toStringTag,{value:"Module"})),zi=$n((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(an("data/traits.json"));if(!s.ok)throw new Error(`Failed to fetch traits data: ${s.status}`);const i=(await s.json()).traits.map(l=>{var o;return{...l,id:l.id||l.edid||l.name,tags:[l.category,...l.tags||[],...((o=l.effects)==null?void 0:o.map(c=>c.type))||[]].filter(c=>!!c)}});e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load traits",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var l,o;return i.name.toLowerCase().includes(r)||((l=i.description)==null?void 0:l.toLowerCase().includes(r))||((o=i.tags)==null?void 0:o.some(c=>c.toLowerCase().includes(r)))})}})),l$=Object.freeze(Object.defineProperty({__proto__:null,useTraitsStore:zi},Symbol.toStringTag,{value:"Module"}));function pi(e){return e?e.replace(/\*\*\*(.*?)\*\*\*/g,"**$1**").replace(/<(\d+)>/g,"Level $1").replace(/\n+/g," ").trim():""}function Li(e,t,n){try{return e()}catch(s){return console.warn(`Failed to resolve ${n}:`,s),t}}function o$(e){return e?Li(()=>{const t=kr.getState().data;if(t.length===0)throw new Error("Races data not loaded yet. Please wait a moment and try again.");let n=t.find(s=>s.edid===e);return n||(n=t.find(s=>s.name.toLowerCase()===e.toLowerCase())),n||(n=t.find(s=>s.id===e)),n?{name:n.name,effects:n.description?pi(n.description):void 0}:(console.warn(`Race not found for ID: ${e}. Available races: ${t.map(s=>s.edid).join(", ")}`),{name:"Unknown Race"})},{name:"Unknown Race"},"race"):{name:"Not selected"}}function c$(e){return e?Li(()=>{const t=Ri.getState().data;if(t.length===0)throw new Error("Birthsigns data not loaded yet. Please wait a moment and try again.");const n=t.find(s=>s.edid===e);return n?{name:n.name,effects:pi(n.description||"No effects")}:{name:"Unknown Birth Sign",effects:"No effects"}},{name:"Unknown Birth Sign",effects:"No effects"},"birth sign"):{name:"Not selected",effects:"No effects"}}function u$(e,t){return Li(()=>{const n=zi.getState().data;if(n.length===0)throw new Error("Traits data not loaded yet. Please wait a moment and try again.");const s=[];return e.forEach(r=>{const i=n.find(l=>l.edid===r);i&&s.push({name:i.name,effects:pi(i.description||"No effects"),type:"regular"})}),t.forEach(r=>{const i=n.find(l=>l.edid===r);i&&s.push({name:i.name,effects:pi(i.description||"No effects"),type:"bonus"})}),s},[],"traits")}function d$(e){return e?Li(()=>{const t=So.getState().data;if(t.length===0)throw new Error("Religions data not loaded yet. Please wait a moment and try again.");const n=t.find(s=>s.id===e||s.name===e);return n?{name:n.name,effects:pi(n.type||"No effects")}:{name:"Unknown Religion",effects:"No effects"}},{name:"Unknown Religion",effects:"No effects"},"religion"):{name:"Not selected",effects:"No effects"}}function f$(e,t,n){return Li(()=>{const s=Di.getState().data;if(s.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");const r=i=>i.map(l=>{const o=s.find(u=>u.edid===l),c=n[l];return{name:(o==null?void 0:o.name)||"Unknown Skill",level:c||void 0}});return{major:r(e),minor:r(t),other:[]}},{major:[],minor:[],other:[]},"skills")}function m$(e,t){return Li(()=>{const n=Di.getState().data,s=Mi.getState().data;if(n.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");if(s.length===0)throw new Error("Perk trees data not loaded yet. Please wait a moment and try again.");return Object.entries(e).map(([r,i])=>{const l=n.find(u=>u.edid===r),o=s.find(u=>u.treeId===r),c=i.map(u=>{var h,p,y;let d=o==null?void 0:o.perks.find(w=>w.edid===u);d||(d=o==null?void 0:o.perks.find(w=>w.name.toLowerCase()===u.toLowerCase())),d||console.warn(`Perk lookup fallback for ID: ${u}`);const f=t[u];d||console.warn(`Perk not found for ID: ${u} in skill: ${r}. Available perks: ${o==null?void 0:o.perks.map(w=>w.edid).join(", ")}`);const m=((y=(p=(h=d==null?void 0:d.ranks)==null?void 0:h[0])==null?void 0:p.description)==null?void 0:y.base)||"No effects";return{name:(d==null?void 0:d.name)||"Unknown Perk",effects:pi(m),rank:f||void 0}});return{skillName:(l==null?void 0:l.name)||"Unknown Skill",perks:c}}).filter(r=>r.perks.length>0)},[],"perks")}function h$(e){return e.length===0?[]:Li(()=>{const t=No.getState().data;if(t.length===0)throw new Error("Destiny nodes data not loaded yet. Please wait a moment and try again.");return e.map(n=>{const s=t.find(r=>r.id===n||r.name===n);return{name:(s==null?void 0:s.name)||"Unknown Destiny",effects:s!=null&&s.description?pi(s.description):void 0}})},[],"destiny path")}function g$(e){const t=[],n=e.map(s=>s.name.toLowerCase());return n.some(s=>s.includes("one-handed")||s.includes("two-handed"))&&t.push("melee"),n.some(s=>s.includes("archery"))&&t.push("archery"),n.some(s=>s.includes("magic")||s.includes("destruction"))&&t.push("magic"),n.some(s=>s.includes("stealth")||s.includes("sneak"))&&t.push("stealth"),n.some(s=>s.includes("smithing")||s.includes("enchanting"))&&t.push("crafting"),t}function p$(e){const t=[],n=e.map(s=>s.name.toLowerCase());return n.some(s=>s.includes("warrior")||s.includes("combat"))&&t.push("warrior"),n.some(s=>s.includes("mage")||s.includes("magic"))&&t.push("mage"),n.some(s=>s.includes("thief")||s.includes("stealth"))&&t.push("thief"),n.some(s=>s.includes("archer")||s.includes("ranged"))&&t.push("archer"),t}function x$(e,t,n){const s=["lorerim"];if(e.name!=="Not selected"){const o=e.name.toLowerCase().replace(/\s+/g,"");s.push(o)}const r=[...t.major,...t.minor],i=g$(r);s.push(...i);const l=p$(n);return s.push(...l),s.slice(0,5)}function v$(e){const t=o$(e.race),n=c$(e.stone),s=d$(e.religion),r=u$(e.traits.regular,e.traits.bonus),i=f$(e.skills.major,e.skills.minor,e.skillLevels),l=m$(e.perks.selected,e.perks.ranks),o=h$(e.destinyPath),c=x$(t,i,r),u={level:e.attributeAssignments.level||1,health:e.attributeAssignments.health||0,stamina:e.attributeAssignments.stamina||0,magicka:e.attributeAssignments.magicka||0,totalPoints:(e.attributeAssignments.health||0)+(e.attributeAssignments.stamina||0)+(e.attributeAssignments.magicka||0)};return{name:e.name||"Unnamed Character",notes:e.notes||"",race:t,birthSign:n,traits:r,religion:s,skills:i,perks:l,destinyPath:o,tags:c,attributes:u}}function y$(e,t){const n=[];n.push(`** Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__ Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__ Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__ Traits__"),e.traits.forEach(r=>{const i=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${i}**`)}),n.push("")),n.push("__ Religion__"),n.push(`${e.religion.name}`),n.push(""),n.push(`__ Attributes (Level ${e.attributes.level})__`);const s=[];if(e.attributes.health>0&&s.push(`Health: ${e.attributes.health}`),e.attributes.stamina>0&&s.push(`Stamina: ${e.attributes.stamina}`),e.attributes.magicka>0&&s.push(`Magicka: ${e.attributes.magicka}`),s.length>0?n.push(s.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__ Skills__"),e.skills.major.length>0){const r=e.skills.major.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__ Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(i=>{const l=i.rank&&i.rank>1?` (Rank ${i.rank})`:"";n.push(` **${i.name}${l}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__ Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}function b$(e,t){const n=[];n.push(`** Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__ Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__ Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__ Traits__"),e.traits.forEach(r=>{const i=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${i}**`)}),n.push("")),n.push("__ Religion__"),n.push(`${e.religion.name}`),n.push(""),n.push(`__ Attributes (Level ${e.attributes.level})__`);const s=[];if(e.attributes.health>0&&s.push(`Health: ${e.attributes.health}`),e.attributes.stamina>0&&s.push(`Stamina: ${e.attributes.stamina}`),e.attributes.magicka>0&&s.push(`Magicka: ${e.attributes.magicka}`),s.length>0?n.push(s.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__ Skills__"),e.skills.major.length>0){const r=e.skills.major.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__ Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(i=>{const l=i.rank&&i.rank>1?` (Rank ${i.rank})`:"";n.push(` **${i.name}${l}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__ Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}async function w$(e){try{await navigator.clipboard.writeText(e)}catch{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch{throw new Error("Failed to copy to clipboard")}finally{document.body.removeChild(n)}}}function j$({build:e,className:t}){const[n,s]=g.useState(!1),[r,i]=g.useState(null),[l,o]=g.useState(""),[c,u]=g.useState("names"),d=g.useCallback(async f=>{s(!0),i(null),o(""),u(f);try{const m=v$(e),h=window.location.href,p=f==="full"?b$(m,h):y$(m,h);await w$(p),i(f),setTimeout(()=>i(null),2e3)}catch(m){console.error("Discord export failed:",m),o(m instanceof Error?m.message:"Export failed"),setTimeout(()=>o(""),3e3)}finally{s(!1)}},[e]);return a.jsxs("div",{className:I("relative",t),children:[a.jsxs("div",{className:"flex rounded-md border border-input bg-background",children:[a.jsx(V,{variant:n?"ghost":c==="names"?"default":"ghost",size:"sm",onClick:()=>d("names"),disabled:n,className:I("rounded-r-none border-r",c==="names"&&!n&&"bg-primary text-primary-foreground",r==="names"&&"bg-green-600 hover:bg-green-700 text-white",l&&"bg-red-600 hover:bg-red-700 text-white"),title:l||"Export build to Discord format (short form)","aria-label":"Export build to Discord format (short form)",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),a.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="names"?a.jsxs(a.Fragment,{children:[a.jsx(Nc,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Copied!"})]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Bl,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Error"})]}):a.jsxs(a.Fragment,{children:[a.jsx(a3,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Export (short form)"})]})}),a.jsx(V,{variant:n?"ghost":c==="full"?"default":"ghost",size:"sm",onClick:()=>d("full"),disabled:n,className:I("rounded-l-none",c==="full"&&!n&&"bg-primary text-primary-foreground",r==="full"&&"bg-green-600 hover:bg-green-700 text-white",l&&"bg-red-600 hover:bg-red-700 text-white"),title:l||"Export build to Discord format (long form)","aria-label":"Export build to Discord format (long form)",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),a.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="full"?a.jsxs(a.Fragment,{children:[a.jsx(Nc,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Copied!"})]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Bl,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Error"})]}):a.jsxs(a.Fragment,{children:[a.jsx(QN,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Export (long form)"})]})})]}),l&&a.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-red-100 border border-red-300 rounded text-xs text-red-800 max-w-xs z-50",role:"alert","aria-live":"polite",children:l})]})}function N$({onReset:e,build:t,className:n}){return a.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${n||""}`,children:[a.jsxs(V,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[a.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),a.jsx(j$,{build:t})]})}function S$({cards:e,className:t="",gap:n=16}){const[s,r]=g.useState(0),i=g.useRef(null);g.useCallback(()=>s<768?1:s<1024?2:s<1280?3:4,[s]),g.useEffect(()=>{const c=()=>{i.current&&r(i.current.offsetWidth)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const l=g.useCallback(()=>{const c=s<768?1:2,u=[];let d=[];return e.forEach((f,m)=>{f.size==="full"?(d.length>0&&(u.push(o(d,c)),d=[]),u.push(a.jsx("div",{id:f.id,style:{width:"100%",marginBottom:`${n}px`},children:f.component},f.id))):d.push(f)}),d.length>0&&u.push(o(d,c)),a.jsx(a.Fragment,{children:u})},[e,s,n]),o=g.useCallback((c,u)=>{var m;const d=Array.from({length:u},()=>[]),f=new Array(u).fill(0);return c.forEach(h=>{let p=0,y=1/0;for(let w=0;w<u;w++)f[w]<y&&(y=f[w],p=w);d[p].push(a.jsx("div",{id:h.id,style:{width:"100%",marginBottom:`${n}px`},children:h.component},h.id)),f[p]+=1}),a.jsx("div",{style:{display:"flex",width:"100%",marginBottom:`${n}px`},children:d.map((h,p)=>a.jsx("div",{style:{width:`calc(${100/u}% - ${n/2}px)`,marginRight:p<u-1?`${n}px`:0},children:h},p))},`group-${(m=c[0])==null?void 0:m.id}`)},[n]);return e.length===0?a.jsx("div",{className:`text-center py-12 ${t}`,children:a.jsx("p",{className:"text-muted-foreground",children:"No build cards to display"})}):a.jsx("div",{ref:i,className:t,children:a.jsx("div",{style:{width:"100%"},children:l()})})}const k$=iu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function q({className:e,variant:t,...n}){return a.jsx("div",{className:I(k$({variant:t}),e),...n})}const um={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},Sl={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function C$(e){return um.traitLimit[e]}function Jy(e){return um.summaryCard[e]}function E$(e){return um.backgrounds[e]}function bS(e){return um.borders[e]}function T$({title:e,items:t,layout:n="grid",className:s}){const r=l=>{switch(l){case"race":return a.jsx(Xd,{className:"h-4 w-4"});case"birthsign":return a.jsx(Ge,{className:"h-4 w-4"});case"religion":return a.jsx(qs,{className:"h-4 w-4"});case"traits":return a.jsx(n1,{className:"h-4 w-4"});default:return null}},i=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return a.jsxs(de,{className:I(Sl.card,s),children:[a.jsx(Se,{children:a.jsx(Me,{children:e})}),a.jsx(me,{className:I(Sl.section),children:a.jsx("div",{className:i(),children:t.map((l,o)=>a.jsxs("div",{className:I(Sl.item,l.className),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.icon||r(l.type),a.jsxs("span",{className:I("font-medium text-sm",Jy("primary")),children:[l.label,":"]})]}),a.jsx("div",{className:I("text-sm",Jy("secondary")),children:l.value||"Not selected"})]},o))})})]})}function _$(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function A$({build:e,title:t="Build Summary",layout:n="grid",className:s}){const r=_$(e);return a.jsx(T$,{title:t,items:r,layout:n,className:s})}function M$({open:e,title:t,message:n,variant:s="warning",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:l,onCancel:o,className:c}){if(!e)return null;const u=()=>{switch(s){case"warning":return a.jsx(Cc,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return a.jsx(Fl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return a.jsx(DR,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return a.jsx(Yd,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return a.jsx(Cc,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},d=()=>{switch(s){case"error":return"destructive";case"success":return"default";default:return"default"}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:a.jsxs("div",{className:I("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",bS(s),c),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[u(),a.jsx("span",{className:"font-semibold",children:t})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(V,{variant:"outline",size:"sm",onClick:o,children:i}),a.jsx(V,{variant:d(),size:"sm",onClick:l,children:r})]})]})})}function R$({open:e,title:t,message:n,variant:s="warning",confirmText:r,cancelText:i,onConfirm:l,onCancel:o,className:c}){return a.jsx(M$,{open:e,title:t,message:n,variant:s,confirmText:r,cancelText:i,onConfirm:l,onCancel:o,className:c})}function D$({open:e,onConfirm:t,onCancel:n}){return a.jsx(R$,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function z$({title:e,description:t,icon:n,variant:s="default",children:r,className:i}){const l=()=>{if(n)return n;switch(s){case"warning":return a.jsx(Cc,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return a.jsx(Fl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return a.jsxs(de,{className:I(Sl.card,i),children:[a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[l(),e]}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),a.jsx(me,{className:I(Sl.section),children:r})]})}function eb({label:e,value:t,onChange:n,min:s=0,max:r=10,currentCount:i,type:l="regular",className:o}){const c=()=>{switch(l){case"regular":return a.jsx(Mx,{className:"h-4 w-4"});case"bonus":return a.jsx(Ge,{className:"h-4 w-4"});default:return null}},u=()=>C$(l);return a.jsxs("div",{className:I(Sl.item,o),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c(),a.jsx(Gt,{htmlFor:`${l}-limit`,className:u(),children:e})]}),a.jsx(Ps,{id:`${l}-limit`,type:"number",min:s,max:r,value:t,onChange:d=>n(parseInt(d.target.value)||0),className:"mt-1"}),i!==void 0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",i]})]})}function tb({type:e,title:t,message:n,className:s}){const r=()=>{switch(e){case"warning":return a.jsx(Cc,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return a.jsx(Fl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return a.jsx(Cc,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return a.jsx(Fl,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return a.jsxs("div",{className:I("flex items-start gap-2 p-4 rounded-lg border",E$(e),bS(e),s),children:[r(),a.jsxs("div",{className:"text-sm",children:[a.jsx("strong",{children:t}),a.jsx("p",{className:"mt-1",children:n})]})]})}function L$({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:s,currentRegularCount:r,currentBonusCount:i,className:l}){const o=e!==2||t!==1;return a.jsxs(z$,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:a.jsx(Fl,{className:"h-4 w-4 text-muted-foreground"}),className:l,children:[a.jsx(tb,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(eb,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:r,type:"regular"}),a.jsx(eb,{label:"Late Game Traits Limit",value:t,onChange:s,min:0,max:5,currentCount:i,type:"bonus"})]}),o&&a.jsx(tb,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}const $$={magicResist:{name:"Magic Resist",isPercentage:!0,prefactor:1,threshold:150,weights:{health:0,magicka:1,stamina:0},description:"Reduces incoming magical damage",category:"survival"},magickaRegen:{name:"Magicka Regen",isPercentage:!0,prefactor:8,threshold:100,weights:{health:0,magicka:1,stamina:0},description:"Increases magicka regeneration rate",category:"magic"},diseaseResist:{name:"Disease Resist",isPercentage:!0,prefactor:4,threshold:100,weights:{health:.4,magicka:0,stamina:.6},description:"Reduces chance of contracting diseases",category:"survival"},poisonResist:{name:"Poison Resist",isPercentage:!0,prefactor:4,threshold:140,weights:{health:.6,magicka:0,stamina:.4},description:"Reduces poison damage and effects",category:"survival"},staminaRegen:{name:"Stamina Regen",isPercentage:!0,prefactor:8,threshold:100,weights:{health:0,magicka:0,stamina:1},description:"Increases stamina regeneration rate",category:"movement"},moveSpeed:{name:"Move Speed",isPercentage:!0,prefactor:.75,threshold:125,weights:{health:.2,magicka:0,stamina:.8},description:"Increases movement speed",category:"movement"},carryWeight:{name:"Carry Weight",isPercentage:!1,prefactor:4,threshold:110,weights:{health:.8,magicka:0,stamina:.2},description:"Increases maximum carry capacity",category:"survival"},rangedDamage:{name:"Ranged Damage",isPercentage:!0,prefactor:4,threshold:150,weights:{health:.2,magicka:0,stamina:.8},description:"Increases ranged weapon damage",category:"combat"},oneHandDamage:{name:"One-Hand Damage",isPercentage:!0,prefactor:4,threshold:150,weights:{health:.5,magicka:0,stamina:.5},description:"Increases one-handed weapon damage",category:"combat"},twoHandDamage:{name:"Two-Hand Damage",isPercentage:!0,prefactor:4,threshold:150,weights:{health:.8,magicka:0,stamina:.2},description:"Increases two-handed weapon damage",category:"combat"},unarmedDamage:{name:"Unarmed Damage",isPercentage:!1,prefactor:4.5,threshold:125,weights:{health:.5,magicka:0,stamina:.5},description:"Increases unarmed combat damage",category:"combat"}};class nb{static calculateBaseAttributes(t,n){let s={health:100,stamina:100,magicka:100};if(t.race&&n.races){const r=n.races.find(i=>i.edid===t.race);r!=null&&r.startingStats&&(s={health:r.startingStats.health||100,stamina:r.startingStats.stamina||100,magicka:r.startingStats.magicka||100})}return s.health+=t.attributeAssignments.health||0,s.stamina+=t.attributeAssignments.stamina||0,s.magicka+=t.attributeAssignments.magicka||0,s}static calculateDerivedStat(t,n){const s=t.health*n.weights.health+t.magicka*n.weights.magicka+t.stamina*n.weights.stamina;if(s>n.threshold){const r=n.prefactor*Math.sqrt(s-n.threshold);return Math.floor(r)}return 0}static calculateAllDerivedStats(t,n){return Object.entries(n).map(([s,r])=>({name:r.name,value:this.calculateDerivedStat(t,r),isPercentage:r.isPercentage,formula:`${r.prefactor} * sqrt(weightedSum - ${r.threshold})`,description:r.description,category:r.category}))}static validateBaseAttributes(t){return t.health>=0&&t.stamina>=0&&t.magicka>=0&&t.health<=1e3&&t.stamina<=1e3&&t.magicka<=1e3}static getCalculationBreakdown(t,n){const s=t.health*n.weights.health+t.magicka*n.weights.magicka+t.stamina*n.weights.stamina,r=s-n.threshold,i=r>0?Math.floor(n.prefactor*Math.sqrt(r)):0;return{weightedSum:s,threshold:n.threshold,difference:r,prefactor:n.prefactor,result:i}}}function P$(){const{build:e}=pt(),{data:t}=kr();return g.useMemo(()=>{var l,o,c;const s={races:t},r=nb.calculateBaseAttributes(e,s),i=nb.calculateAllDerivedStats(r,$$);return{baseAttributes:r,derivedStats:i,sources:{race:e.race||"None",birthsign:e.stone||"None",traits:[...((l=e.traits)==null?void 0:l.regular)||[],...((o=e.traits)==null?void 0:o.bonus)||[]],equipment:e.equipment||[],religion:e.religion||"None",destinyPath:e.destinyPath||[],attributeAssignments:((c=e.attributeAssignments)==null?void 0:c.level)||0}}},[e,t])}function O$(){const{build:e,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:s,updateAttributeLevel:r}=Jr(),{data:i}=kr(),l=e.attributeAssignments,o=g.useMemo(()=>!e.race||i.length===0?null:i.find(p=>p.edid===e.race)||null,[e.race,i]),c=g.useMemo(()=>o!=null&&o.startingStats?{health:o.startingStats.health,stamina:o.startingStats.stamina,magicka:o.startingStats.magicka}:{health:100,stamina:100,magicka:100},[o]),u=g.useMemo(()=>{l.level;const p=l.health+l.stamina+l.magicka;return{health:{base:c.health,assigned:l.health,total:c.health+l.health,ratio:p>0?l.health/p*100:0},stamina:{base:c.stamina,assigned:l.stamina,total:c.stamina+l.stamina,ratio:p>0?l.stamina/p*100:0},magicka:{base:c.magicka,assigned:l.magicka,total:c.magicka+l.magicka,ratio:p>0?l.magicka/p*100:0}}},[l,c]),d=p=>p>0&&p<=l.level,f=p=>l.assignments[p]||null,m=()=>l.health+l.stamina+l.magicka,h=()=>{const p=Object.keys(l.assignments).map(Number),y=[];for(let w=2;w<=l.level;w++)p.includes(w)||y.push(w);return y};return{assignments:l,displayData:u,level:l.level,selectedRace:o,baseStats:c,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:s,updateAttributeLevel:r,canAssignAtLevel:d,getAssignmentAtLevel:f,getTotalAssignments:m,getUnassignedLevels:h}}const wS=g.createContext(void 0);function B$({children:e}){const[t,n]=g.useState("system"),[s,r]=g.useState("dark"),[i,l]=g.useState(!1);return g.useEffect(()=>{const o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&n(o),l(!0)},[]),g.useEffect(()=>{i&&localStorage.setItem("theme",t);let o;t==="system"?o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":o=t,r(o);const c=document.documentElement;o==="dark"?c.classList.add("dark"):c.classList.remove("dark")},[t,i]),g.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{if(t==="system"){const u=o.matches?"dark":"light";r(u);const d=document.documentElement;u==="dark"?d.classList.add("dark"):d.classList.remove("dark")}};return o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[t]),a.jsx(wS.Provider,{value:{theme:t,setTheme:n,resolvedTheme:s},children:e})}function jS(){const e=g.useContext(wS);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const I$=iu("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),vn=g.forwardRef(({className:e,variant:t,as:n,...s},r)=>{const i=n||F$(t);return a.jsx(i,{className:I(I$({variant:t,className:e})),ref:r,...s})});vn.displayName="Typography";function F$(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const Ra=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"h1",as:"h1",className:e,ref:n,...t}));Ra.displayName="H1";const aa=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"h2",as:"h2",className:e,ref:n,...t}));aa.displayName="H2";const Ne=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"h3",as:"h3",className:e,ref:n,...t}));Ne.displayName="H3";const ma=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"h4",as:"h4",className:e,ref:n,...t}));ma.displayName="H4";const mn=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"h5",as:"h5",className:e,ref:n,...t}));mn.displayName="H5";const H$=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"h6",as:"h6",className:e,ref:n,...t}));H$.displayName="H6";const ye=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"p",as:"p",className:e,ref:n,...t}));ye.displayName="P";const U$=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));U$.displayName="Blockquote";const V$=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"code",as:"code",className:e,ref:n,...t}));V$.displayName="Code";const NS=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"lead",as:"p",className:e,ref:n,...t}));NS.displayName="Lead";const q$=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"large",as:"div",className:e,ref:n,...t}));q$.displayName="Large";const Rs=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"small",as:"small",className:e,ref:n,...t}));Rs.displayName="Small";const Tc=g.forwardRef(({className:e,...t},n)=>a.jsx(vn,{variant:"muted",as:"p",className:e,ref:n,...t}));Tc.displayName="Muted";function Z$({level:e,assignments:t,onAssignmentChange:n,onClearAssignment:s,onClearAll:r,onUpdateAttributeLevel:i,className:l}){const{resolvedTheme:o}=jS(),c=o==="dark",u=x=>Object.values(t).filter(b=>b===x).length,d=u("health"),f=u("stamina"),m=u("magicka"),h=d+f+m,p=h+1,y=(x,b)=>{const j=u(x),N=b-j;if(N>0)for(let S=0;S<N;S++){const E=Math.max(2,h+2+S);n(E,x)}else if(N<0){for(let S=0;S<Math.abs(N);S++)for(let E=e;E>=2;E--)if(t[E]===x){s(E);break}}const C=h+N;i(C+1)},w=x=>{y(x,u(x)+1)},v=x=>{const b=u(x);b>0&&y(x,b-1)};return a.jsxs("div",{className:I("space-y-4",l),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(mn,{className:"text-lg font-medium text-foreground",children:"Attribute Points"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(V,{variant:"outline",size:"sm",onClick:r,className:"text-xs",children:[a.jsx(Nr,{className:"h-3 w-3 mr-1"}),"Clear All"]})})]}),a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border",children:[a.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:["Character Level: ",p," (derived from ",h," ","attribute points)"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-red-200 dark:border-red-800",style:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[a.jsx("div",{className:I("font-medium mb-3",c?"text-red-200":"text-red-500"),children:"Health"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(V,{variant:"outline",size:"sm",onClick:()=>v("health"),disabled:d<=0,className:"h-8 w-8 p-0",children:a.jsx(jl,{className:"h-4 w-4"})}),a.jsx(Ps,{type:"number",value:d,onChange:x=>{const b=parseInt(x.target.value)||0;b>=0&&y("health",b)},className:I("w-16 text-center text-lg font-bold border-red-300 focus:border-red-500 focus:ring-red-500",c?"text-red-300 border-red-600":"text-red-700"),min:0}),a.jsx(V,{variant:"outline",size:"sm",onClick:()=>w("health"),className:"h-8 w-8 p-0",children:a.jsx(fa,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-green-200 dark:border-green-800",style:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[a.jsx("div",{className:I("font-medium mb-3",c?"text-green-200":"text-green-500"),children:"Stamina"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(V,{variant:"outline",size:"sm",onClick:()=>v("stamina"),disabled:f<=0,className:"h-8 w-8 p-0",children:a.jsx(jl,{className:"h-4 w-4"})}),a.jsx(Ps,{type:"number",value:f,onChange:x=>{const b=parseInt(x.target.value)||0;b>=0&&y("stamina",b)},className:I("w-16 text-center text-lg font-bold border-green-300 focus:border-green-500 focus:ring-green-500",c?"text-green-300 border-green-600":"text-green-700"),min:0}),a.jsx(V,{variant:"outline",size:"sm",onClick:()=>w("stamina"),className:"h-8 w-8 p-0",children:a.jsx(fa,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-blue-200 dark:border-blue-800",style:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[a.jsx("div",{className:I("font-medium mb-3",c?"text-blue-200":"text-blue-500"),children:"Magicka"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(V,{variant:"outline",size:"sm",onClick:()=>v("magicka"),disabled:m<=0,className:"h-8 w-8 p-0",children:a.jsx(jl,{className:"h-4 w-4"})}),a.jsx(Ps,{type:"number",value:m,onChange:x=>{const b=parseInt(x.target.value)||0;b>=0&&y("magicka",b)},className:I("w-16 text-center text-lg font-bold border-blue-300 focus:border-blue-500 focus:ring-blue-500",c?"text-blue-300 border-blue-600":"text-blue-700"),min:0}),a.jsx(V,{variant:"outline",size:"sm",onClick:()=>w("magicka"),className:"h-8 w-8 p-0",children:a.jsx(fa,{className:"h-4 w-4"})})]})]})]})]})]})}const G$={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500"},Y$={sm:"h-1.5",md:"h-2",lg:"h-3"};function wh({value:e,label:t,color:n="blue",size:s="md",showValue:r=!0,className:i,maxValue:l}){const o=l?Math.min(e/l*100,100):100;return a.jsxs("div",{className:I("space-y-1",i),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:t}),r&&a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})]}),a.jsx("div",{className:"w-full bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:I("transition-all duration-300 ease-out",G$[n],Y$[s]),style:{width:`${o}%`}})})]})}function X$({displayData:e,level:t,className:n,showRatios:s=!0,compact:r=!1,selectedRace:i}){return r?a.jsxs("div",{className:I("space-y-3",n),children:[a.jsx(mn,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),i&&a.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Base stats from ",i.name]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Health"}),a.jsx("div",{className:"font-medium text-lg",children:e.health.total}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.health.assigned]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Stamina"}),a.jsx("div",{className:"font-medium text-lg",children:e.stamina.total}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.stamina.assigned]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Magicka"}),a.jsx("div",{className:"font-medium text-lg",children:e.magicka.total}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.magicka.assigned]})]})]}),s&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Level ",t," "," ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," ","assignments"]})]}):a.jsxs("div",{className:I("space-y-4",n),children:[a.jsx(mn,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(wh,{value:e.health.total,label:"Health",color:"red",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)}),a.jsx(wh,{value:e.stamina.total,label:"Stamina",color:"green",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)}),a.jsx(wh,{value:e.magicka.total,label:"Magicka",color:"blue",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)})]}),s&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Health"}),a.jsxs("div",{className:"text-muted-foreground",children:[e.health.ratio.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Stamina"}),a.jsxs("div",{className:"text-muted-foreground",children:[e.stamina.ratio.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Magicka"}),a.jsxs("div",{className:"text-muted-foreground",children:[e.magicka.ratio.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Level ",t," "," ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," ","assignments made"]})]})}function SS({className:e,showControls:t=!0,showSummary:n=!0,compact:s=!1}){const[r,i]=g.useState(!0),{assignments:l,displayData:o,level:c,selectedRace:u,setAttributeAssignment:d,clearAttributeAssignment:f,clearAllAttributeAssignments:m,updateAttributeLevel:h}=O$(),p=P$(),y=(j,N)=>{d(j,N)},w=j=>{f(j)},v=()=>{m()},x=p.derivedStats.reduce((j,N)=>(j[N.category]||(j[N.category]=[]),j[N.category].push(N),j),{}),b=["combat","survival","movement","magic"];return a.jsxs(de,{className:I("w-full",e),children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(zg,{className:"h-5 w-5"}),"Attributes & Derived Stats"]}),t&&a.jsx(V,{variant:"ghost",size:"sm",onClick:()=>i(!r),children:r?a.jsx(Sc,{className:"h-4 w-4"}):a.jsx(Pt,{className:"h-4 w-4"})})]})}),a.jsxs(me,{className:"space-y-6",children:[t&&r&&a.jsx(Z$,{level:c,assignments:l.assignments,onAssignmentChange:y,onClearAssignment:w,onClearAll:v,onUpdateAttributeLevel:h}),n&&a.jsx(X$,{displayData:o,level:c,compact:s,selectedRace:u}),n&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-lg font-medium text-foreground",children:"Derived Stats"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(j=>{const N=x[j];return!N||N.length===0?null:a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"text-sm font-medium mb-3 capitalize",children:[j," Stats"]}),a.jsx("div",{className:"space-y-2",children:N.map(C=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:C.name}),a.jsx("span",{className:"font-medium",children:C.isPercentage?`${C.value}%`:C.value})]},C.name))})]},j)})})]})]})]})}const _d=new Map;function W$(){_d.clear()}W$();function Q$(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(_d.has(n))return _d.get(n);let s=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((r,i)=>{const l=[];s.forEach(o=>{if(o.className)l.push(o);else{let c=0,u;const d=new RegExp(r.pattern,r.pattern.flags.includes("g")?r.pattern.flags:r.pattern.flags+"g");d.lastIndex=0;let f=0;for(;(u=d.exec(o.text))!==null;){u.index>c&&l.push({text:o.text.slice(c,u.index),key:`${o.key}-${f++}`});let m=u[0];const h=typeof r.className=="function"?r.className(u[0]):r.className;r.transform&&(m=r.transform(m)),l.push({text:m,className:h,key:`${o.key}-${f++}`}),c=d.lastIndex}c<o.text.length&&l.push({text:o.text.slice(c),key:`${o.key}-${f++}`})}}),s=l}),s=s.map((r,i)=>({...r,key:r.key||String(i)})),_d.set(n,s),s}const K$=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],J$=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function Kx(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/\*\*\*([^*]+)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const s=parseFloat(n[0]),r=n[0].startsWith("+")||s>0,i=n[0].startsWith("-")||s<0;if(r)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(i)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<([^>]+)>/g,className:e=>{const t=e.slice(1,-1);if(!/^\d+$/.test(t))return"text-foreground"},transform:e=>{const t=e.match(/<([^>]+)>/);return t?t[1]:e.slice(1,-1)}},{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,s=e.startsWith("-")||t<0,r=t===0;return n?"font-bold text-green-600":s?"font-bold text-red-600":r?"font-bold text-skyrim-gold":"font-bold text-green-600"}},{pattern:new RegExp(`\\b(${K$.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${J$.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function Re({text:e,options:t,className:n="text-sm text-muted-foreground",as:s="div"}){const r=g.useMemo(()=>Kx(),[]),i=g.useMemo(()=>e?Q$(e,t||r):[],[e,t,r]);if(!e)return null;if(n.includes("line-clamp")){const o=n.match(/line-clamp-\d+/g)||[],c=n.replace(/line-clamp-\d+/g,"").trim(),u=s==="p"?"span":"div";return a.jsx(s,{className:c,children:a.jsx(u,{className:`${o.join(" ")} overflow-hidden`,children:i.map(d=>a.jsx("span",{className:d.className,children:d.text},d.key))})})}return a.jsx(s,{className:n,children:i.map(o=>a.jsx("span",{className:o.className,children:o.text},o.key))})}const Qt=({children:e,title:t,description:n,className:s=""})=>a.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${s}`,children:[t&&a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&a.jsx(Re,{text:n,className:"text-muted-foreground mt-2 max-w-4xl",as:"p"})]})}),e]});function Jx(e){const t=e+"CollectionProvider",[n,s]=Pn(t),[r,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:w,children:v}=y,x=L.useRef(null),b=L.useRef(new Map).current;return a.jsx(r,{scope:w,itemMap:b,collectionRef:x,children:v})};l.displayName=t;const o=e+"CollectionSlot",c=Ul(o),u=L.forwardRef((y,w)=>{const{scope:v,children:x}=y,b=i(o,v),j=Ie(w,b.collectionRef);return a.jsx(c,{ref:j,children:x})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ul(d),h=L.forwardRef((y,w)=>{const{scope:v,children:x,...b}=y,j=L.useRef(null),N=Ie(w,j),C=i(d,v);return L.useEffect(()=>(C.itemMap.set(j,{ref:j,...b}),()=>void C.itemMap.delete(j))),a.jsx(m,{[f]:"",ref:N,children:x})});h.displayName=d;function p(y){const w=i(e+"CollectionConsumer",y);return L.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((C,S)=>b.indexOf(C.ref.current)-b.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:u,ItemSlot:h},p,s]}var eP=g.createContext(void 0);function ou(e){const t=g.useContext(eP);return e||t||"ltr"}var jh="rovingFocusGroup.onEntryFocus",tP={bubbles:!1,cancelable:!0},cu="RovingFocusGroup",[Vg,kS,nP]=Jx(cu),[sP,dm]=Pn(cu,[nP]),[rP,aP]=sP(cu),CS=g.forwardRef((e,t)=>a.jsx(Vg.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Vg.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(iP,{...e,ref:t})})}));CS.displayName=cu;var iP=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=g.useRef(null),h=Ie(t,m),p=ou(i),[y,w]=$r({prop:l,defaultProp:o??null,onChange:c,caller:cu}),[v,x]=g.useState(!1),b=Yt(u),j=kS(n),N=g.useRef(!1),[C,S]=g.useState(0);return g.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(jh,b),()=>E.removeEventListener(jh,b)},[b]),a.jsx(rP,{scope:n,orientation:s,dir:p,loop:r,currentTabStopId:y,onItemFocus:g.useCallback(E=>w(E),[w]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>S(E=>E-1),[]),children:a.jsx(je.div,{tabIndex:v||C===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{N.current=!0}),onFocus:se(e.onFocus,E=>{const k=!N.current;if(E.target===E.currentTarget&&k&&!v){const T=new CustomEvent(jh,tP);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const D=j().filter(M=>M.focusable),O=D.find(M=>M.active),z=D.find(M=>M.id===y),P=[O,z,...D].filter(Boolean).map(M=>M.ref.current);_S(P,d)}}N.current=!1}),onBlur:se(e.onBlur,()=>x(!1))})})}),ES="RovingFocusGroupItem",TS=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,children:l,...o}=e,c=br(),u=i||c,d=aP(ES,n),f=d.currentTabStopId===u,m=kS(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:y}=d;return g.useEffect(()=>{if(s)return h(),()=>p()},[s,h,p]),a.jsx(Vg.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:a.jsx(je.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:se(e.onMouseDown,w=>{s?d.onItemFocus(u):w.preventDefault()}),onFocus:se(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:se(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=cP(w,d.orientation,d.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=m().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const j=b.indexOf(w.currentTarget);b=d.loop?uP(b,j+1):b.slice(j+1)}setTimeout(()=>_S(b))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:y!=null}):l})})});TS.displayName=ES;var lP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cP(e,t,n){const s=oP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return lP[s]}function _S(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function uP(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var AS=CS,MS=TS,fm="Tabs",[dP,Yte]=Pn(fm,[dm]),RS=dm(),[fP,e0]=dP(fm),DS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=ou(o),[f,m]=$r({prop:s,onChange:r,defaultProp:i??"",caller:fm});return a.jsx(fP,{scope:n,baseId:br(),value:f,onValueChange:m,orientation:l,dir:d,activationMode:c,children:a.jsx(je.div,{dir:d,"data-orientation":l,...u,ref:t})})});DS.displayName=fm;var zS="TabsList",LS=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...r}=e,i=e0(zS,n),l=RS(n);return a.jsx(AS,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:a.jsx(je.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:t})})});LS.displayName=zS;var $S="TabsTrigger",PS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=e,l=e0($S,n),o=RS(n),c=IS(l.baseId,s),u=FS(l.baseId,s),d=s===l.value;return a.jsx(MS,{asChild:!0,...o,focusable:!r,active:d,children:a.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:t,onMouseDown:se(e.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?l.onValueChange(s):f.preventDefault()}),onKeyDown:se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(s)}),onFocus:se(e.onFocus,()=>{const f=l.activationMode!=="manual";!d&&!r&&f&&l.onValueChange(s)})})})});PS.displayName=$S;var OS="TabsContent",BS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...l}=e,o=e0(OS,n),c=IS(o.baseId,s),u=FS(o.baseId,s),d=s===o.value,f=g.useRef(d);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Kt,{present:r||d,children:({present:m})=>a.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});BS.displayName=OS;function IS(e,t){return`${e}-trigger-${t}`}function FS(e,t){return`${e}-content-${t}`}var mP=DS,hP=LS,gP=PS,pP=BS;function Da({className:e,...t}){return a.jsx(mP,{"data-slot":"tabs",className:I("flex flex-col gap-2",e),...t})}function za({className:e,...t}){return a.jsx(hP,{"data-slot":"tabs-list",className:I("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function zt({className:e,...t}){return a.jsx(gP,{"data-slot":"tabs-trigger",className:I("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Ut({className:e,...t}){return a.jsx(pP,{"data-slot":"tabs-content",className:I("flex-1 outline-none",e),...t})}const cn=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],xP=({currentPath:e})=>{var d;const t=ut(),n=cn.findIndex(f=>f.to===e),s=n>=0?n:0,r=f=>{const m=cn.find(h=>h.value===f);m&&t(m.to)},i=f=>{t(f.to)},l=()=>{s>0&&t(cn[s-1].to)},o=()=>{s<cn.length-1&&t(cn[s+1].to)},c=f=>{switch(f.key){case"ArrowLeft":f.preventDefault(),l();break;case"ArrowRight":f.preventDefault(),o();break;case"Home":f.preventDefault(),t(cn[0].to);break;case"End":f.preventDefault(),t(cn[cn.length-1].to);break}},u=((d=cn[s])==null?void 0:d.value)||"build";return a.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:c,tabIndex:0,children:a.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsx(V,{onClick:l,disabled:s===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${s>0?cn[s-1].label:"none"}`,children:a.jsx(nm,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx(Da,{value:u,onValueChange:r,children:a.jsx(za,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:cn.map((f,m)=>a.jsxs(zt,{value:f.value,onClick:()=>i(f),className:I("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:u===f.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${m+1}: ${f.label}`,role:"tab","aria-selected":u===f.value,"aria-label":`Step ${m+1}: ${f.label}`,children:[a.jsx("span",{className:"hidden sm:inline",children:f.label}),a.jsx("span",{className:"sm:hidden",children:f.label.split(" ")[0]}),u===f.value&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},f.value))})})}),a.jsx(V,{onClick:o,disabled:s===cn.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${s<cn.length-1?cn[s+1].label:"none"}`,children:a.jsx(xo,{className:"h-4 w-4"})})]})})})},vP=()=>{const e=Lr();return a.jsxs("div",{className:"flex flex-col min-h-full",children:[a.jsx(xP,{currentPath:e.pathname}),a.jsx("div",{className:"flex-grow",children:a.jsx(qD,{})})]})};function yP(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function HS(e){const[t,n]=g.useState(void 0);return Us(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;l=u.inlineSize,o=u.blockSize}else l=e.offsetWidth,o=e.offsetHeight;n({width:l,height:o})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var mm="Switch",[bP,Xte]=Pn(mm),[wP,jP]=bP(mm),US=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,h]=g.useState(null),p=Ie(t,b=>h(b)),y=g.useRef(!1),w=m?d||!!m.closest("form"):!0,[v,x]=$r({prop:r,defaultProp:i??!1,onChange:u,caller:mm});return a.jsxs(wP,{scope:n,checked:v,disabled:o,children:[a.jsx(je.button,{type:"button",role:"switch","aria-checked":v,"aria-required":l,"data-state":GS(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:p,onClick:se(e.onClick,b=>{x(j=>!j),w&&(y.current=b.isPropagationStopped(),y.current||b.stopPropagation())})}),w&&a.jsx(ZS,{control:m,bubbles:!y.current,name:s,value:c,checked:v,required:l,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});US.displayName=mm;var VS="SwitchThumb",qS=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,r=jP(VS,n);return a.jsx(je.span,{"data-state":GS(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t})});qS.displayName=VS;var NP="SwitchBubbleInput",ZS=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...r},i)=>{const l=g.useRef(null),o=Ie(l,i),c=yP(n),u=HS(t);return g.useEffect(()=>{const d=l.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const p=new Event("click",{bubbles:s});h.call(d,n),d.dispatchEvent(p)}},[c,n,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:o,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ZS.displayName=NP;function GS(e){return e?"checked":"unchecked"}var YS=US,SP=qS;const XS=g.forwardRef(({className:e,...t},n)=>a.jsx(YS,{className:I("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:a.jsx(SP,{className:I("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));XS.displayName=YS.displayName;function ts({itemId:e,itemType:t,itemName:n,isInBuild:s=!1,className:r,onCheckedChange:i}){const{setRace:l,setStone:o,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:f,addMajorSkill:m,removeMajorSkill:h,removeMinorSkill:p,addEquipment:y,removeEquipment:w,build:v}=pt(),b=s||(()=>{switch(t){case"race":return v.race===e;case"stone":return v.stone===e;case"religion":return v.religion===e;case"trait":return v.traits.regular.includes(e)||v.traits.bonus.includes(e);case"skill":return v.skills.major.includes(e)||v.skills.minor.includes(e);case"equipment":return v.equipment.includes(e);default:return!1}})(),j=C=>{if(i){i(C);return}switch(t){case"race":l(C?e:null);break;case"stone":o(C?e:null);break;case"religion":c(C?e:null);break;case"trait":C?v.traits.regular.length<2?u(e):v.traits.bonus.length<1&&d(e):f(e);break;case"skill":C?m(e):(h(e),p(e));break;case"equipment":C?y(e):w(e);break}},N=()=>b?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return a.jsx("div",{className:I("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",b?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",r),onClick:C=>{C.stopPropagation(),j(!b)},title:N(),children:a.jsx(XS,{checked:b,onCheckedChange:j,className:I("transition-all duration-200",b?"data-[state=checked]:bg-[#d4af37]":"")})})}function ti({categories:e,onSelect:t,placeholder:n="Search categories...",className:s=""}){const[r,i]=g.useState(!1),[l,o]=g.useState(null),[c,u]=g.useState(""),[d,f]=g.useState(-1),m=g.useRef(null),h=g.useRef(null),p=e.length===1?e[0]:null;g.useEffect(()=>{const S=E=>{m.current&&!m.current.contains(E.target)&&(i(!1),o(null),f(-1))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const y=l||p?(l||p).options.filter(S=>String(S.label||"").toLowerCase().includes(c.toLowerCase())||String(S.description||"").toLowerCase().includes(c.toLowerCase())):e.flatMap(S=>S.options.filter(E=>String(E.label||"").toLowerCase().includes(c.toLowerCase())||String(E.description||"").toLowerCase().includes(c.toLowerCase()))),w=S=>{u(S),i(!0),f(-1)},v=S=>{var E;o(S),u(""),(E=h.current)==null||E.focus()},x=S=>{t(S),u(""),o(null),i(!1),f(-1)},b=S=>{S.key==="ArrowDown"?(S.preventDefault(),f(E=>Math.min(E+1,y.length-1))):S.key==="ArrowUp"?(S.preventDefault(),f(E=>Math.max(E-1,-1))):S.key==="Enter"?(S.preventDefault(),d>=0&&y[d]&&x(y[d])):S.key==="Escape"&&(i(!1),o(null),f(-1))},j=()=>{i(!0)},N=l||p,C=!p&&!l;return a.jsxs("div",{ref:m,className:`relative ${s}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Ps,{ref:h,type:"text",placeholder:N?N.placeholder:n,value:c,onChange:S=>w(S.target.value),onFocus:j,onKeyDown:b,className:"pl-10 pr-10"}),a.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>i(!r),children:a.jsx(Pt,{className:`h-4 w-4 transition-transform ${r?"rotate-180":""}`})})]}),r&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:qt.AUTOCOMPLETE+10},children:[C&&a.jsxs("div",{className:"p-2 border-b border-border",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(S=>a.jsxs("button",{onClick:()=>v(S),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[a.jsx("span",{children:S.name}),a.jsx(Pt,{className:"h-4 w-4"})]},S.id))]}),a.jsx("div",{className:"p-2",children:y.length===0?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):y.map((S,E)=>a.jsxs("button",{onClick:()=>x(S),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${E===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[a.jsx("div",{className:"font-medium",children:S.label||"Unnamed Option"}),S.description&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:S.description})]},S.id))})]})]})}const kP=["top","right","bottom","left"],Sa=Math.min,kn=Math.max,Kd=Math.round,Yu=Math.floor,Os=e=>({x:e,y:e}),CP={left:"right",right:"left",bottom:"top",top:"bottom"},EP={start:"end",end:"start"};function qg(e,t,n){return kn(e,Sa(t,n))}function Cr(e,t){return typeof e=="function"?e(t):e}function Er(e){return e.split("-")[0]}function ko(e){return e.split("-")[1]}function t0(e){return e==="x"?"y":"x"}function n0(e){return e==="y"?"height":"width"}const TP=new Set(["top","bottom"]);function Ds(e){return TP.has(Er(e))?"y":"x"}function s0(e){return t0(Ds(e))}function _P(e,t,n){n===void 0&&(n=!1);const s=ko(e),r=s0(e),i=n0(r);let l=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Jd(l)),[l,Jd(l)]}function AP(e){const t=Jd(e);return[Zg(e),t,Zg(t)]}function Zg(e){return e.replace(/start|end/g,t=>EP[t])}const sb=["left","right"],rb=["right","left"],MP=["top","bottom"],RP=["bottom","top"];function DP(e,t,n){switch(e){case"top":case"bottom":return n?t?rb:sb:t?sb:rb;case"left":case"right":return t?MP:RP;default:return[]}}function zP(e,t,n,s){const r=ko(e);let i=DP(Er(e),n==="start",s);return r&&(i=i.map(l=>l+"-"+r),t&&(i=i.concat(i.map(Zg)))),i}function Jd(e){return e.replace(/left|right|bottom|top/g,t=>CP[t])}function LP(e){return{top:0,right:0,bottom:0,left:0,...e}}function WS(e){return typeof e!="number"?LP(e):{top:e,right:e,bottom:e,left:e}}function ef(e){const{x:t,y:n,width:s,height:r}=e;return{width:s,height:r,top:n,left:t,right:t+s,bottom:n+r,x:t,y:n}}function ab(e,t,n){let{reference:s,floating:r}=e;const i=Ds(t),l=s0(t),o=n0(l),c=Er(t),u=i==="y",d=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,m=s[o]/2-r[o]/2;let h;switch(c){case"top":h={x:d,y:s.y-r.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-r.width,y:f};break;default:h={x:s.x,y:s.y}}switch(ko(t)){case"start":h[l]-=m*(n&&u?-1:1);break;case"end":h[l]+=m*(n&&u?-1:1);break}return h}const $P=async(e,t,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:l}=n,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:f}=ab(u,s,c),m=s,h={},p=0;for(let y=0;y<o.length;y++){const{name:w,fn:v}=o[y],{x,y:b,data:j,reset:N}=await v({x:d,y:f,initialPlacement:s,placement:m,strategy:r,middlewareData:h,rects:u,platform:l,elements:{reference:e,floating:t}});d=x??d,f=b??f,h={...h,[w]:{...h[w],...j}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:r}):N.rects),{x:d,y:f}=ab(u,m,c)),y=-1)}return{x:d,y:f,placement:m,strategy:r,middlewareData:h}};async function _c(e,t){var n;t===void 0&&(t={});const{x:s,y:r,platform:i,rects:l,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Cr(t,e),p=WS(h),w=o[m?f==="floating"?"reference":"floating":f],v=ef(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:s,y:r,width:l.floating.width,height:l.floating.height}:l.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=ef(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-N.top+p.top)/j.y,bottom:(N.bottom-v.bottom+p.bottom)/j.y,left:(v.left-N.left+p.left)/j.x,right:(N.right-v.right+p.right)/j.x}}const PP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:r,rects:i,platform:l,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Cr(e,t)||{};if(u==null)return{};const f=WS(d),m={x:n,y:s},h=s0(r),p=n0(h),y=await l.getDimensions(u),w=h==="y",v=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=i.reference[p]+i.reference[h]-m[h]-i.floating[p],N=m[h]-i.reference[h],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let S=C?C[b]:0;(!S||!await(l.isElement==null?void 0:l.isElement(C)))&&(S=o.floating[b]||i.floating[p]);const E=j/2-N/2,k=S/2-y[p]/2-1,T=Sa(f[v],k),D=Sa(f[x],k),O=T,z=S-y[p]-D,_=S/2-y[p]/2+E,P=qg(O,_,z),M=!c.arrow&&ko(r)!=null&&_!==P&&i.reference[p]/2-(_<O?T:D)-y[p]/2<0,$=M?_<O?_-O:_-z:0;return{[h]:m[h]+$,data:{[h]:P,centerOffset:_-P-$,...M&&{alignmentOffset:$}},reset:M}}}),OP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:r,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:y=!0,...w}=Cr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Er(r),x=Ds(o),b=Er(o)===o,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(b||!y?[Jd(o)]:AP(o)),C=p!=="none";!m&&C&&N.push(...zP(o,y,p,j));const S=[o,...N],E=await _c(t,w),k=[];let T=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&k.push(E[v]),f){const _=_P(r,l,j);k.push(E[_[0]],E[_[1]])}if(T=[...T,{placement:r,overflows:k}],!k.every(_=>_<=0)){var D,O;const _=(((D=i.flip)==null?void 0:D.index)||0)+1,P=S[_];if(P&&(!(f==="alignment"?x!==Ds(P):!1)||T.every(A=>A.overflows[0]>0&&Ds(A.placement)===x)))return{data:{index:_,overflows:T},reset:{placement:P}};let M=(O=T.filter($=>$.overflows[0]<=0).sort(($,A)=>$.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!M)switch(h){case"bestFit":{var z;const $=(z=T.filter(A=>{if(C){const R=Ds(A.placement);return R===x||R==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(R=>R>0).reduce((R,B)=>R+B,0)]).sort((A,R)=>A[1]-R[1])[0])==null?void 0:z[0];$&&(M=$);break}case"initialPlacement":M=o;break}if(r!==M)return{reset:{placement:M}}}return{}}}};function ib(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lb(e){return kP.some(t=>e[t]>=0)}const BP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...r}=Cr(e,t);switch(s){case"referenceHidden":{const i=await _c(t,{...r,elementContext:"reference"}),l=ib(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:lb(l)}}}case"escaped":{const i=await _c(t,{...r,altBoundary:!0}),l=ib(i,n.floating);return{data:{escapedOffsets:l,escaped:lb(l)}}}default:return{}}}}},QS=new Set(["left","top"]);async function IP(e,t){const{placement:n,platform:s,elements:r}=e,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),l=Er(n),o=ko(n),c=Ds(n)==="y",u=QS.has(l)?-1:1,d=i&&c?-1:1,f=Cr(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof p=="number"&&(h=o==="end"?p*-1:p),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const FP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:r,y:i,placement:l,middlewareData:o}=t,c=await IP(t,e);return l===((n=o.offset)==null?void 0:n.placement)&&(s=o.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:l}}}}},HP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:r}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...c}=Cr(e,t),u={x:n,y:s},d=await _c(t,c),f=Ds(Er(r)),m=t0(f);let h=u[m],p=u[f];if(i){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=h+d[w],b=h-d[v];h=qg(x,h,b)}if(l){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=p+d[w],b=p-d[v];p=qg(x,p,b)}const y=o.fn({...t,[m]:h,[f]:p});return{...y,data:{x:y.x-n,y:y.y-s,enabled:{[m]:i,[f]:l}}}}}},UP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:r,rects:i,middlewareData:l}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Cr(e,t),d={x:n,y:s},f=Ds(r),m=t0(f);let h=d[m],p=d[f];const y=Cr(o,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const b=m==="y"?"height":"width",j=i.reference[m]-i.floating[b]+w.mainAxis,N=i.reference[m]+i.reference[b]-w.mainAxis;h<j?h=j:h>N&&(h=N)}if(u){var v,x;const b=m==="y"?"width":"height",j=QS.has(Er(r)),N=i.reference[f]-i.floating[b]+(j&&((v=l.offset)==null?void 0:v[f])||0)+(j?0:w.crossAxis),C=i.reference[f]+i.reference[b]+(j?0:((x=l.offset)==null?void 0:x[f])||0)-(j?w.crossAxis:0);p<N?p=N:p>C&&(p=C)}return{[m]:h,[f]:p}}}},VP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:r,rects:i,platform:l,elements:o}=t,{apply:c=()=>{},...u}=Cr(e,t),d=await _c(t,u),f=Er(r),m=ko(r),h=Ds(r)==="y",{width:p,height:y}=i.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=m===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,w=m==="end"?"top":"bottom");const x=y-d.top-d.bottom,b=p-d.left-d.right,j=Sa(y-d[w],x),N=Sa(p-d[v],b),C=!t.middlewareData.shift;let S=j,E=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(S=x),C&&!m){const T=kn(d.left,0),D=kn(d.right,0),O=kn(d.top,0),z=kn(d.bottom,0);h?E=p-2*(T!==0||D!==0?T+D:kn(d.left,d.right)):S=y-2*(O!==0||z!==0?O+z:kn(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:S});const k=await l.getDimensions(o.floating);return p!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function hm(){return typeof window<"u"}function Co(e){return KS(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ys(e){var t;return(t=(KS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function KS(e){return hm()?e instanceof Node||e instanceof _n(e).Node:!1}function hs(e){return hm()?e instanceof Element||e instanceof _n(e).Element:!1}function Vs(e){return hm()?e instanceof HTMLElement||e instanceof _n(e).HTMLElement:!1}function ob(e){return!hm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot}const qP=new Set(["inline","contents"]);function uu(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=gs(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!qP.has(r)}const ZP=new Set(["table","td","th"]);function GP(e){return ZP.has(Co(e))}const YP=[":popover-open",":modal"];function gm(e){return YP.some(t=>{try{return e.matches(t)}catch{return!1}})}const XP=["transform","translate","scale","rotate","perspective"],WP=["transform","translate","scale","rotate","perspective","filter"],QP=["paint","layout","strict","content"];function r0(e){const t=a0(),n=hs(e)?gs(e):e;return XP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||WP.some(s=>(n.willChange||"").includes(s))||QP.some(s=>(n.contain||"").includes(s))}function KP(e){let t=ka(e);for(;Vs(t)&&!Gl(t);){if(r0(t))return t;if(gm(t))return null;t=ka(t)}return null}function a0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JP=new Set(["html","body","#document"]);function Gl(e){return JP.has(Co(e))}function gs(e){return _n(e).getComputedStyle(e)}function pm(e){return hs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ka(e){if(Co(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ob(e)&&e.host||Ys(e);return ob(t)?t.host:t}function JS(e){const t=ka(e);return Gl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vs(t)&&uu(t)?t:JS(t)}function Ac(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=JS(e),i=r===((s=e.ownerDocument)==null?void 0:s.body),l=_n(r);if(i){const o=Gg(l);return t.concat(l,l.visualViewport||[],uu(r)?r:[],o&&n?Ac(o):[])}return t.concat(r,Ac(r,[],n))}function Gg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e2(e){const t=gs(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=Vs(e),i=r?e.offsetWidth:n,l=r?e.offsetHeight:s,o=Kd(n)!==i||Kd(s)!==l;return o&&(n=i,s=l),{width:n,height:s,$:o}}function i0(e){return hs(e)?e:e.contextElement}function kl(e){const t=i0(e);if(!Vs(t))return Os(1);const n=t.getBoundingClientRect(),{width:s,height:r,$:i}=e2(t);let l=(i?Kd(n.width):n.width)/s,o=(i?Kd(n.height):n.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const eO=Os(0);function t2(e){const t=_n(e);return!a0()||!t.visualViewport?eO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_n(e)?!1:t}function xi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=i0(e);let l=Os(1);t&&(s?hs(s)&&(l=kl(s)):l=kl(e));const o=tO(i,n,s)?t2(i):Os(0);let c=(r.left+o.x)/l.x,u=(r.top+o.y)/l.y,d=r.width/l.x,f=r.height/l.y;if(i){const m=_n(i),h=s&&hs(s)?_n(s):s;let p=m,y=Gg(p);for(;y&&s&&h!==p;){const w=kl(y),v=y.getBoundingClientRect(),x=gs(y),b=v.left+(y.clientLeft+parseFloat(x.paddingLeft))*w.x,j=v.top+(y.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=j,p=_n(y),y=Gg(p)}}return ef({width:d,height:f,x:c,y:u})}function l0(e,t){const n=pm(e).scrollLeft;return t?t.left+n:xi(Ys(e)).left+n}function n2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-(n?0:l0(e,s)),i=s.top+t.scrollTop;return{x:r,y:i}}function nO(e){let{elements:t,rect:n,offsetParent:s,strategy:r}=e;const i=r==="fixed",l=Ys(s),o=t?gm(t.floating):!1;if(s===l||o&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Os(1);const d=Os(0),f=Vs(s);if((f||!f&&!i)&&((Co(s)!=="body"||uu(l))&&(c=pm(s)),Vs(s))){const h=xi(s);u=kl(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}const m=l&&!f&&!i?n2(l,c,!0):Os(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function sO(e){return Array.from(e.getClientRects())}function rO(e){const t=Ys(e),n=pm(e),s=e.ownerDocument.body,r=kn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=kn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+l0(e);const o=-n.scrollTop;return gs(s).direction==="rtl"&&(l+=kn(t.clientWidth,s.clientWidth)-r),{width:r,height:i,x:l,y:o}}function aO(e,t){const n=_n(e),s=Ys(e),r=n.visualViewport;let i=s.clientWidth,l=s.clientHeight,o=0,c=0;if(r){i=r.width,l=r.height;const u=a0();(!u||u&&t==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}return{width:i,height:l,x:o,y:c}}const iO=new Set(["absolute","fixed"]);function lO(e,t){const n=xi(e,!0,t==="fixed"),s=n.top+e.clientTop,r=n.left+e.clientLeft,i=Vs(e)?kl(e):Os(1),l=e.clientWidth*i.x,o=e.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:l,height:o,x:c,y:u}}function cb(e,t,n){let s;if(t==="viewport")s=aO(e,n);else if(t==="document")s=rO(Ys(e));else if(hs(t))s=lO(t,n);else{const r=t2(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return ef(s)}function s2(e,t){const n=ka(e);return n===t||!hs(n)||Gl(n)?!1:gs(n).position==="fixed"||s2(n,t)}function oO(e,t){const n=t.get(e);if(n)return n;let s=Ac(e,[],!1).filter(o=>hs(o)&&Co(o)!=="body"),r=null;const i=gs(e).position==="fixed";let l=i?ka(e):e;for(;hs(l)&&!Gl(l);){const o=gs(l),c=r0(l);!c&&o.position==="fixed"&&(r=null),(i?!c&&!r:!c&&o.position==="static"&&!!r&&iO.has(r.position)||uu(l)&&!c&&s2(e,l))?s=s.filter(d=>d!==l):r=o,l=ka(l)}return t.set(e,s),s}function cO(e){let{element:t,boundary:n,rootBoundary:s,strategy:r}=e;const l=[...n==="clippingAncestors"?gm(t)?[]:oO(t,this._c):[].concat(n),s],o=l[0],c=l.reduce((u,d)=>{const f=cb(t,d,r);return u.top=kn(f.top,u.top),u.right=Sa(f.right,u.right),u.bottom=Sa(f.bottom,u.bottom),u.left=kn(f.left,u.left),u},cb(t,o,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function uO(e){const{width:t,height:n}=e2(e);return{width:t,height:n}}function dO(e,t,n){const s=Vs(t),r=Ys(t),i=n==="fixed",l=xi(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=Os(0);function u(){c.x=l0(r)}if(s||!s&&!i)if((Co(t)!=="body"||uu(r))&&(o=pm(t)),s){const h=xi(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?n2(r,o):Os(0),f=l.left+o.scrollLeft-c.x-d.x,m=l.top+o.scrollTop-c.y-d.y;return{x:f,y:m,width:l.width,height:l.height}}function Nh(e){return gs(e).position==="static"}function ub(e,t){if(!Vs(e)||gs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ys(e)===n&&(n=n.ownerDocument.body),n}function r2(e,t){const n=_n(e);if(gm(e))return n;if(!Vs(e)){let r=ka(e);for(;r&&!Gl(r);){if(hs(r)&&!Nh(r))return r;r=ka(r)}return n}let s=ub(e,t);for(;s&&GP(s)&&Nh(s);)s=ub(s,t);return s&&Gl(s)&&Nh(s)&&!r0(s)?n:s||KP(e)||n}const fO=async function(e){const t=this.getOffsetParent||r2,n=this.getDimensions,s=await n(e.floating);return{reference:dO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function mO(e){return gs(e).direction==="rtl"}const hO={convertOffsetParentRelativeRectToViewportRelativeRect:nO,getDocumentElement:Ys,getClippingRect:cO,getOffsetParent:r2,getElementRects:fO,getClientRects:sO,getDimensions:uO,getScale:kl,isElement:hs,isRTL:mO};function a2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gO(e,t){let n=null,s;const r=Ys(e);function i(){var o;clearTimeout(s),(o=n)==null||o.disconnect(),n=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(o||t(),!m||!h)return;const p=Yu(f),y=Yu(r.clientWidth-(d+m)),w=Yu(r.clientHeight-(f+h)),v=Yu(d),b={rootMargin:-p+"px "+-y+"px "+-w+"px "+-v+"px",threshold:kn(0,Sa(1,c))||1};let j=!0;function N(C){const S=C[0].intersectionRatio;if(S!==c){if(!j)return l();S?l(!1,S):s=setTimeout(()=>{l(!1,1e-7)},1e3)}S===1&&!a2(u,e.getBoundingClientRect())&&l(),j=!1}try{n=new IntersectionObserver(N,{...b,root:r.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(e)}return l(!0),i}function pO(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=i0(e),d=r||i?[...u?Ac(u):[],...Ac(t)]:[];d.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=u&&o?gO(u,n):null;let m=-1,h=null;l&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let p,y=c?xi(e):null;c&&w();function w(){const v=xi(e);y&&!a2(y,v)&&n(),y=v,p=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(x=>{r&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const xO=FP,vO=HP,yO=OP,bO=VP,wO=BP,db=PP,jO=UP,NO=(e,t,n)=>{const s=new Map,r={platform:hO,...n},i={...r.platform,_c:s};return $P(e,t,{...r,platform:i})};var SO=typeof document<"u",kO=function(){},Ad=SO?g.useLayoutEffect:kO;function tf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!tf(e[s],t[s]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&e.$$typeof)&&!tf(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function i2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fb(e,t){const n=i2(e);return Math.round(t*n)/n}function Sh(e){const t=g.useRef(e);return Ad(()=>{t.current=e}),t}function CO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=g.useState(s);tf(m,s)||h(s);const[p,y]=g.useState(null),[w,v]=g.useState(null),x=g.useCallback(A=>{A!==C.current&&(C.current=A,y(A))},[]),b=g.useCallback(A=>{A!==S.current&&(S.current=A,v(A))},[]),j=i||p,N=l||w,C=g.useRef(null),S=g.useRef(null),E=g.useRef(d),k=c!=null,T=Sh(c),D=Sh(r),O=Sh(u),z=g.useCallback(()=>{if(!C.current||!S.current)return;const A={placement:t,strategy:n,middleware:m};D.current&&(A.platform=D.current),NO(C.current,S.current,A).then(R=>{const B={...R,isPositioned:O.current!==!1};_.current&&!tf(E.current,B)&&(E.current=B,im.flushSync(()=>{f(B)}))})},[m,t,n,D,O]);Ad(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const _=g.useRef(!1);Ad(()=>(_.current=!0,()=>{_.current=!1}),[]),Ad(()=>{if(j&&(C.current=j),N&&(S.current=N),j&&N){if(T.current)return T.current(j,N,z);z()}},[j,N,z,T,k]);const P=g.useMemo(()=>({reference:C,floating:S,setReference:x,setFloating:b}),[x,b]),M=g.useMemo(()=>({reference:j,floating:N}),[j,N]),$=g.useMemo(()=>{const A={position:n,left:0,top:0};if(!M.floating)return A;const R=fb(M.floating,d.x),B=fb(M.floating,d.y);return o?{...A,transform:"translate("+R+"px, "+B+"px)",...i2(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:B}},[n,o,M.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:z,refs:P,elements:M,floatingStyles:$}),[d,z,P,M,$])}const EO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:r}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?db({element:s.current,padding:r}).fn(n):{}:s?db({element:s,padding:r}).fn(n):{}}}},TO=(e,t)=>({...xO(e),options:[e,t]}),_O=(e,t)=>({...vO(e),options:[e,t]}),AO=(e,t)=>({...jO(e),options:[e,t]}),MO=(e,t)=>({...yO(e),options:[e,t]}),RO=(e,t)=>({...bO(e),options:[e,t]}),DO=(e,t)=>({...wO(e),options:[e,t]}),zO=(e,t)=>({...EO(e),options:[e,t]});var LO="Arrow",l2=g.forwardRef((e,t)=>{const{children:n,width:s=10,height:r=5,...i}=e;return a.jsx(je.svg,{...i,ref:t,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});l2.displayName=LO;var $O=l2,o0="Popper",[o2,Eo]=Pn(o0),[PO,c2]=o2(o0),u2=e=>{const{__scopePopper:t,children:n}=e,[s,r]=g.useState(null);return a.jsx(PO,{scope:t,anchor:s,onAnchorChange:r,children:n})};u2.displayName=o0;var d2="PopperAnchor",f2=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...r}=e,i=c2(d2,n),l=g.useRef(null),o=Ie(t,l);return g.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:a.jsx(je.div,{...r,ref:o})});f2.displayName=d2;var c0="PopperContent",[OO,BO]=o2(c0),m2=g.forwardRef((e,t)=>{var ee,ve,he,we,U,W;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:p,...y}=e,w=c2(c0,n),[v,x]=g.useState(null),b=Ie(t,K=>x(K)),[j,N]=g.useState(null),C=HS(j),S=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,k=s+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],O=D.length>0,z={padding:T,boundary:D.filter(FO),altBoundary:O},{refs:_,floatingStyles:P,placement:M,isPositioned:$,middlewareData:A}=CO({strategy:"fixed",placement:k,whileElementsMounted:(...K)=>pO(...K,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[TO({mainAxis:r+E,alignmentAxis:l}),c&&_O({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?AO():void 0,...z}),c&&MO({...z}),RO({...z,apply:({elements:K,rects:Q,availableWidth:ie,availableHeight:be})=>{const{width:fe,height:ne}=Q.reference,$e=K.floating.style;$e.setProperty("--radix-popper-available-width",`${ie}px`),$e.setProperty("--radix-popper-available-height",`${be}px`),$e.setProperty("--radix-popper-anchor-width",`${fe}px`),$e.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),j&&zO({element:j,padding:o}),HO({arrowWidth:S,arrowHeight:E}),m&&DO({strategy:"referenceHidden",...z})]}),[R,B]=p2(M),H=Yt(p);Us(()=>{$&&(H==null||H())},[$,H]);const F=(ee=A.arrow)==null?void 0:ee.x,Z=(ve=A.arrow)==null?void 0:ve.y,X=((he=A.arrow)==null?void 0:he.centerOffset)!==0,[J,le]=g.useState();return Us(()=>{v&&le(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:$?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(we=A.transformOrigin)==null?void 0:we.x,(U=A.transformOrigin)==null?void 0:U.y].join(" "),...((W=A.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(OO,{scope:n,placedSide:R,onArrowChange:N,arrowX:F,arrowY:Z,shouldHideArrow:X,children:a.jsx(je.div,{"data-side":R,"data-align":B,...y,ref:b,style:{...y.style,animation:$?void 0:"none"}})})})});m2.displayName=c0;var h2="PopperArrow",IO={top:"bottom",right:"left",bottom:"top",left:"right"},g2=g.forwardRef(function(t,n){const{__scopePopper:s,...r}=t,i=BO(h2,s),l=IO[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx($O,{...r,ref:n,style:{...r.style,display:"block"}})})});g2.displayName=h2;function FO(e){return e!==null}var HO=e=>({name:"transformOrigin",options:e,fn(t){var w,v,x;const{placement:n,rects:s,middlewareData:r}=t,l=((w=r.arrow)==null?void 0:w.centerOffset)!==0,o=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[u,d]=p2(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=r.arrow)==null?void 0:v.x)??0)+o/2,h=(((x=r.arrow)==null?void 0:x.y)??0)+c/2;let p="",y="";return u==="bottom"?(p=l?f:`${m}px`,y=`${-c}px`):u==="top"?(p=l?f:`${m}px`,y=`${s.floating.height+c}px`):u==="right"?(p=`${-c}px`,y=l?f:`${h}px`):u==="left"&&(p=`${s.floating.width+c}px`,y=l?f:`${h}px`),{data:{x:p,y}}}});function p2(e){const[t,n="center"]=e.split("-");return[t,n]}var x2=u2,u0=f2,d0=m2,f0=g2,Yg=["Enter"," "],UO=["ArrowDown","PageUp","Home"],v2=["ArrowUp","PageDown","End"],VO=[...UO,...v2],qO={ltr:[...Yg,"ArrowRight"],rtl:[...Yg,"ArrowLeft"]},ZO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},du="Menu",[Mc,GO,YO]=Jx(du),[$i,y2]=Pn(du,[YO,Eo,dm]),xm=Eo(),b2=dm(),[XO,Pi]=$i(du),[WO,fu]=$i(du),w2=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:r,onOpenChange:i,modal:l=!0}=e,o=xm(t),[c,u]=g.useState(null),d=g.useRef(!1),f=Yt(i),m=ou(r);return g.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),a.jsx(x2,{...o,children:a.jsx(XO,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(WO,{scope:t,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:l,children:s})})})};w2.displayName=du;var QO="MenuAnchor",m0=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=xm(n);return a.jsx(u0,{...r,...s,ref:t})});m0.displayName=QO;var h0="MenuPortal",[KO,j2]=$i(h0,{forceMount:void 0}),N2=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:r}=e,i=Pi(h0,t);return a.jsx(KO,{scope:t,forceMount:n,children:a.jsx(Kt,{present:n||i.open,children:a.jsx(Hx,{asChild:!0,container:r,children:s})})})};N2.displayName=h0;var Qn="MenuContent",[JO,g0]=$i(Qn),S2=g.forwardRef((e,t)=>{const n=j2(Qn,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,i=Pi(Qn,e.__scopeMenu),l=fu(Qn,e.__scopeMenu);return a.jsx(Mc.Provider,{scope:e.__scopeMenu,children:a.jsx(Kt,{present:s||i.open,children:a.jsx(Mc.Slot,{scope:e.__scopeMenu,children:l.modal?a.jsx(e6,{...r,ref:t}):a.jsx(t6,{...r,ref:t})})})})}),e6=g.forwardRef((e,t)=>{const n=Pi(Qn,e.__scopeMenu),s=g.useRef(null),r=Ie(t,s);return g.useEffect(()=>{const i=s.current;if(i)return Q1(i)},[]),a.jsx(p0,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),t6=g.forwardRef((e,t)=>{const n=Pi(Qn,e.__scopeMenu);return a.jsx(p0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),n6=Ul("MenuContent.ScrollLock"),p0=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:p,...y}=e,w=Pi(Qn,n),v=fu(Qn,n),x=xm(n),b=b2(n),j=GO(n),[N,C]=g.useState(null),S=g.useRef(null),E=Ie(t,S,w.onContentChange),k=g.useRef(0),T=g.useRef(""),D=g.useRef(0),O=g.useRef(null),z=g.useRef("right"),_=g.useRef(0),P=p?Ux:g.Fragment,M=p?{as:n6,allowPinchZoom:!0}:void 0,$=R=>{var ee,ve;const B=T.current+R,H=j().filter(he=>!he.disabled),F=document.activeElement,Z=(ee=H.find(he=>he.ref.current===F))==null?void 0:ee.textValue,X=H.map(he=>he.textValue),J=h6(X,B,Z),le=(ve=H.find(he=>he.textValue===J))==null?void 0:ve.ref.current;(function he(we){T.current=we,window.clearTimeout(k.current),we!==""&&(k.current=window.setTimeout(()=>he(""),1e3))})(B),le&&setTimeout(()=>le.focus())};g.useEffect(()=>()=>window.clearTimeout(k.current),[]),H1();const A=g.useCallback(R=>{var H,F;return z.current===((H=O.current)==null?void 0:H.side)&&p6(R,(F=O.current)==null?void 0:F.area)},[]);return a.jsx(JO,{scope:n,searchRef:T,onItemEnter:g.useCallback(R=>{A(R)&&R.preventDefault()},[A]),onItemLeave:g.useCallback(R=>{var B;A(R)||((B=S.current)==null||B.focus(),C(null))},[A]),onTriggerLeave:g.useCallback(R=>{A(R)&&R.preventDefault()},[A]),pointerGraceTimerRef:D,onPointerGraceIntentChange:g.useCallback(R=>{O.current=R},[]),children:a.jsx(P,{...M,children:a.jsx(Fx,{asChild:!0,trapped:r,onMountAutoFocus:se(i,R=>{var B;R.preventDefault(),(B=S.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:a.jsx(lu,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:a.jsx(AS,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:se(c,R=>{v.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(d0,{role:"menu","aria-orientation":"vertical","data-state":I2(w.open),"data-radix-menu-content":"",dir:v.dir,...x,...y,ref:E,style:{outline:"none",...y.style},onKeyDown:se(y.onKeyDown,R=>{const H=R.target.closest("[data-radix-menu-content]")===R.currentTarget,F=R.ctrlKey||R.altKey||R.metaKey,Z=R.key.length===1;H&&(R.key==="Tab"&&R.preventDefault(),!F&&Z&&$(R.key));const X=S.current;if(R.target!==X||!VO.includes(R.key))return;R.preventDefault();const le=j().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);v2.includes(R.key)&&le.reverse(),f6(le)}),onBlur:se(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(k.current),T.current="")}),onPointerMove:se(e.onPointerMove,Rc(R=>{const B=R.target,H=_.current!==R.clientX;if(R.currentTarget.contains(B)&&H){const F=R.clientX>_.current?"right":"left";z.current=F,_.current=R.clientX}}))})})})})})})});S2.displayName=Qn;var s6="MenuGroup",x0=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(je.div,{role:"group",...s,ref:t})});x0.displayName=s6;var r6="MenuLabel",k2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(je.div,{...s,ref:t})});k2.displayName=r6;var nf="MenuItem",mb="menu.itemSelect",vm=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...r}=e,i=g.useRef(null),l=fu(nf,e.__scopeMenu),o=g0(nf,e.__scopeMenu),c=Ie(t,i),u=g.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(mb,{bubbles:!0,cancelable:!0});f.addEventListener(mb,h=>s==null?void 0:s(h),{once:!0}),O1(f,m),m.defaultPrevented?u.current=!1:l.onClose()}};return a.jsx(C2,{...r,ref:c,disabled:n,onClick:se(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:se(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:se(e.onKeyDown,f=>{const m=o.searchRef.current!=="";n||m&&f.key===" "||Yg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});vm.displayName=nf;var C2=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...i}=e,l=g0(nf,n),o=b2(n),c=g.useRef(null),u=Ie(t,c),[d,f]=g.useState(!1),[m,h]=g.useState("");return g.useEffect(()=>{const p=c.current;p&&h((p.textContent??"").trim())},[i.children]),a.jsx(Mc.ItemSlot,{scope:n,disabled:s,textValue:r??m,children:a.jsx(MS,{asChild:!0,...o,focusable:!s,children:a.jsx(je.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:se(e.onPointerMove,Rc(p=>{s?l.onItemLeave(p):(l.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,Rc(p=>l.onItemLeave(p))),onFocus:se(e.onFocus,()=>f(!0)),onBlur:se(e.onBlur,()=>f(!1))})})})}),a6="MenuCheckboxItem",E2=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...r}=e;return a.jsx(R2,{scope:e.__scopeMenu,checked:n,children:a.jsx(vm,{role:"menuitemcheckbox","aria-checked":sf(n)?"mixed":n,...r,ref:t,"data-state":y0(n),onSelect:se(r.onSelect,()=>s==null?void 0:s(sf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});E2.displayName=a6;var T2="MenuRadioGroup",[i6,l6]=$i(T2,{value:void 0,onValueChange:()=>{}}),_2=g.forwardRef((e,t)=>{const{value:n,onValueChange:s,...r}=e,i=Yt(s);return a.jsx(i6,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(x0,{...r,ref:t})})});_2.displayName=T2;var A2="MenuRadioItem",M2=g.forwardRef((e,t)=>{const{value:n,...s}=e,r=l6(A2,e.__scopeMenu),i=n===r.value;return a.jsx(R2,{scope:e.__scopeMenu,checked:i,children:a.jsx(vm,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":y0(i),onSelect:se(s.onSelect,()=>{var l;return(l=r.onValueChange)==null?void 0:l.call(r,n)},{checkForDefaultPrevented:!1})})})});M2.displayName=A2;var v0="MenuItemIndicator",[R2,o6]=$i(v0,{checked:!1}),D2=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...r}=e,i=o6(v0,n);return a.jsx(Kt,{present:s||sf(i.checked)||i.checked===!0,children:a.jsx(je.span,{...r,ref:t,"data-state":y0(i.checked)})})});D2.displayName=v0;var c6="MenuSeparator",z2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(je.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});z2.displayName=c6;var u6="MenuArrow",L2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=xm(n);return a.jsx(f0,{...r,...s,ref:t})});L2.displayName=u6;var d6="MenuSub",[Wte,$2]=$i(d6),Jo="MenuSubTrigger",P2=g.forwardRef((e,t)=>{const n=Pi(Jo,e.__scopeMenu),s=fu(Jo,e.__scopeMenu),r=$2(Jo,e.__scopeMenu),i=g0(Jo,e.__scopeMenu),l=g.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),a.jsx(m0,{asChild:!0,...u,children:a.jsx(C2,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":I2(n.open),...e,ref:lm(t,r.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,Rc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(e.onPointerLeave,Rc(f=>{var h,p;d();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const y=(p=n.content)==null?void 0:p.dataset.side,w=y==="right",v=w?-5:5,x=m[w?"left":"right"],b=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x,y:m.bottom}],side:y}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||qO[s.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});P2.displayName=Jo;var O2="MenuSubContent",B2=g.forwardRef((e,t)=>{const n=j2(Qn,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,i=Pi(Qn,e.__scopeMenu),l=fu(Qn,e.__scopeMenu),o=$2(O2,e.__scopeMenu),c=g.useRef(null),u=Ie(t,c);return a.jsx(Mc.Provider,{scope:e.__scopeMenu,children:a.jsx(Kt,{present:s||i.open,children:a.jsx(Mc.Slot,{scope:e.__scopeMenu,children:a.jsx(p0,{id:o.contentId,"aria-labelledby":o.triggerId,...r,ref:u,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;l.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(e.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,d=>{l.onClose(),d.preventDefault()}),onKeyDown:se(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=ZO[l.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(h=o.trigger)==null||h.focus(),d.preventDefault())})})})})})});B2.displayName=O2;function I2(e){return e?"open":"closed"}function sf(e){return e==="indeterminate"}function y0(e){return sf(e)?"indeterminate":e?"checked":"unchecked"}function f6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function m6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function h6(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=m6(e,Math.max(i,0));r.length===1&&(l=l.filter(u=>u!==n));const c=l.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function g6(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const o=t[i],c=t[l],u=o.x,d=o.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function p6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return g6(n,t)}function Rc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var x6=w2,v6=m0,y6=N2,b6=S2,w6=x0,j6=k2,N6=vm,S6=E2,k6=_2,C6=M2,E6=D2,T6=z2,_6=L2,A6=P2,M6=B2,ym="DropdownMenu",[R6,Qte]=Pn(ym,[y2]),ln=y2(),[D6,F2]=R6(ym),H2=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:r,defaultOpen:i,onOpenChange:l,modal:o=!0}=e,c=ln(t),u=g.useRef(null),[d,f]=$r({prop:r,defaultProp:i??!1,onChange:l,caller:ym});return a.jsx(D6,{scope:t,triggerId:br(),triggerRef:u,contentId:br(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),modal:o,children:a.jsx(x6,{...c,open:d,onOpenChange:f,dir:s,modal:o,children:n})})};H2.displayName=ym;var U2="DropdownMenuTrigger",V2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=e,i=F2(U2,n),l=ln(n);return a.jsx(v6,{asChild:!0,...l,children:a.jsx(je.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:lm(t,i.triggerRef),onPointerDown:se(e.onPointerDown,o=>{!s&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:se(e.onKeyDown,o=>{s||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});V2.displayName=U2;var z6="DropdownMenuPortal",q2=e=>{const{__scopeDropdownMenu:t,...n}=e,s=ln(t);return a.jsx(y6,{...s,...n})};q2.displayName=z6;var Z2="DropdownMenuContent",G2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=F2(Z2,n),i=ln(n),l=g.useRef(!1);return a.jsx(b6,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,o=>{var c;l.current||(c=r.triggerRef.current)==null||c.focus(),l.current=!1,o.preventDefault()}),onInteractOutside:se(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G2.displayName=Z2;var L6="DropdownMenuGroup",$6=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(w6,{...r,...s,ref:t})});$6.displayName=L6;var P6="DropdownMenuLabel",Y2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(j6,{...r,...s,ref:t})});Y2.displayName=P6;var O6="DropdownMenuItem",X2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(N6,{...r,...s,ref:t})});X2.displayName=O6;var B6="DropdownMenuCheckboxItem",W2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(S6,{...r,...s,ref:t})});W2.displayName=B6;var I6="DropdownMenuRadioGroup",F6=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(k6,{...r,...s,ref:t})});F6.displayName=I6;var H6="DropdownMenuRadioItem",Q2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(C6,{...r,...s,ref:t})});Q2.displayName=H6;var U6="DropdownMenuItemIndicator",K2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(E6,{...r,...s,ref:t})});K2.displayName=U6;var V6="DropdownMenuSeparator",J2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(T6,{...r,...s,ref:t})});J2.displayName=V6;var q6="DropdownMenuArrow",Z6=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(_6,{...r,...s,ref:t})});Z6.displayName=q6;var G6="DropdownMenuSubTrigger",ek=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(A6,{...r,...s,ref:t})});ek.displayName=G6;var Y6="DropdownMenuSubContent",tk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=ln(n);return a.jsx(M6,{...r,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tk.displayName=Y6;var X6=H2,W6=V2,Q6=q2,nk=G2,sk=Y2,rk=X2,ak=W2,ik=Q2,lk=K2,ok=J2,ck=ek,uk=tk;const Oi=X6,Bi=W6,K6=g.forwardRef(({className:e,inset:t,children:n,...s},r)=>a.jsxs(ck,{ref:r,className:I("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,a.jsx(xo,{className:"ml-auto h-4 w-4"})]}));K6.displayName=ck.displayName;const J6=g.forwardRef(({className:e,...t},n)=>a.jsx(uk,{ref:n,className:I("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:qt.DROPDOWN},...t}));J6.displayName=uk.displayName;const La=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(Q6,{children:a.jsx(nk,{ref:s,sideOffset:t,className:I("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:qt.DROPDOWN},...n})}));La.displayName=nk.displayName;const sn=g.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(rk,{ref:s,className:I("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));sn.displayName=rk.displayName;const e8=g.forwardRef(({className:e,children:t,checked:n,...s},r)=>a.jsxs(ak,{ref:r,className:I("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(lk,{children:a.jsx(Nc,{className:"h-4 w-4"})})}),t]}));e8.displayName=ak.displayName;const t8=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(ik,{ref:s,className:I("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(lk,{children:a.jsx(Mx,{className:"h-2 w-2 fill-current"})})}),t]}));t8.displayName=ik.displayName;const n8=g.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(sk,{ref:s,className:I("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));n8.displayName=sk.displayName;const s8=g.forwardRef(({className:e,...t},n)=>a.jsx(ok,{ref:n,className:I("-mx-1 my-1 h-px bg-muted",e),...t}));s8.displayName=ok.displayName;function r8(e,[t,n]){return Math.min(n,Math.max(t,e))}function a8(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var b0="ScrollArea",[dk,Kte]=Pn(b0),[i8,ns]=dk(b0),fk=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:i=600,...l}=e,[o,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,p]=g.useState(null),[y,w]=g.useState(null),[v,x]=g.useState(0),[b,j]=g.useState(0),[N,C]=g.useState(!1),[S,E]=g.useState(!1),k=Ie(t,D=>c(D)),T=ou(r);return a.jsx(i8,{scope:n,type:s,dir:T,scrollHideDelay:i,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:E,onCornerWidthChange:x,onCornerHeightChange:j,children:a.jsx(je.div,{dir:T,...l,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});fk.displayName=b0;var mk="ScrollAreaViewport",hk=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:r,...i}=e,l=ns(mk,n),o=g.useRef(null),c=Ie(t,o,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(je.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});hk.displayName=mk;var Xs="ScrollAreaScrollbar",w0=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=ns(Xs,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=r,o=e.orientation==="horizontal";return g.useEffect(()=>(o?i(!0):l(!0),()=>{o?i(!1):l(!1)}),[o,i,l]),r.type==="hover"?a.jsx(l8,{...s,ref:t,forceMount:n}):r.type==="scroll"?a.jsx(o8,{...s,ref:t,forceMount:n}):r.type==="auto"?a.jsx(gk,{...s,ref:t,forceMount:n}):r.type==="always"?a.jsx(j0,{...s,ref:t}):null});w0.displayName=Xs;var l8=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=ns(Xs,e.__scopeScrollArea),[i,l]=g.useState(!1);return g.useEffect(()=>{const o=r.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),l(!0)},d=()=>{c=window.setTimeout(()=>l(!1),r.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),a.jsx(Kt,{present:n||i,children:a.jsx(gk,{"data-state":i?"visible":"hidden",...s,ref:t})})}),o8=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=ns(Xs,e.__scopeScrollArea),i=e.orientation==="horizontal",l=wm(()=>c("SCROLL_END"),100),[o,c]=a8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,r.scrollHideDelay,c]),g.useEffect(()=>{const u=r.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),l()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[r.viewport,i,c,l]),a.jsx(Kt,{present:n||o!=="hidden",children:a.jsx(j0,{"data-state":o==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:se(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:se(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),gk=g.forwardRef((e,t)=>{const n=ns(Xs,e.__scopeScrollArea),{forceMount:s,...r}=e,[i,l]=g.useState(!1),o=e.orientation==="horizontal",c=wm(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;l(o?u:d)}},10);return Yl(n.viewport,c),Yl(n.content,c),a.jsx(Kt,{present:s||i,children:a.jsx(j0,{"data-state":i?"visible":"hidden",...r,ref:t})})}),j0=g.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,r=ns(Xs,e.__scopeScrollArea),i=g.useRef(null),l=g.useRef(0),[o,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=bk(o.viewport,o.content),d={...s,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:m=>l.current=m};function f(m,h){return h8(m,l.current,o,h)}return n==="horizontal"?a.jsx(c8,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const m=r.viewport.scrollLeft,h=hb(m,o,r.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollLeft=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollLeft=f(m,r.dir))}}):n==="vertical"?a.jsx(u8,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const m=r.viewport.scrollTop,h=hb(m,o);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollTop=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollTop=f(m))}}):null}),c8=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,i=ns(Xs,e.__scopeScrollArea),[l,o]=g.useState(),c=g.useRef(null),u=Ie(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),a.jsx(xk,{"data-orientation":"horizontal",...r,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),jk(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:af(l.paddingLeft),paddingEnd:af(l.paddingRight)}})}})}),u8=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,i=ns(Xs,e.__scopeScrollArea),[l,o]=g.useState(),c=g.useRef(null),u=Ie(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),a.jsx(xk,{"data-orientation":"vertical",...r,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),jk(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:af(l.paddingTop),paddingEnd:af(l.paddingBottom)}})}})}),[d8,pk]=dk(Xs),xk=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,h=ns(Xs,n),[p,y]=g.useState(null),w=Ie(t,k=>y(k)),v=g.useRef(null),x=g.useRef(""),b=h.viewport,j=s.content-s.viewport,N=Yt(d),C=Yt(c),S=wm(f,10);function E(k){if(v.current){const T=k.clientX-v.current.left,D=k.clientY-v.current.top;u({x:T,y:D})}}return g.useEffect(()=>{const k=T=>{const D=T.target;(p==null?void 0:p.contains(D))&&N(T,j)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[b,p,j,N]),g.useEffect(C,[s,C]),Yl(p,S),Yl(h.content,S),a.jsx(d8,{scope:n,scrollbar:p,hasThumb:r,onThumbChange:Yt(i),onThumbPointerUp:Yt(l),onThumbPositionChange:C,onThumbPointerDown:Yt(o),children:a.jsx(je.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:se(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),v.current=p.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(k))}),onPointerMove:se(e.onPointerMove,E),onPointerUp:se(e.onPointerUp,k=>{const T=k.target;T.hasPointerCapture(k.pointerId)&&T.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),rf="ScrollAreaThumb",vk=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=pk(rf,e.__scopeScrollArea);return a.jsx(Kt,{present:n||r.hasThumb,children:a.jsx(f8,{ref:t,...s})})}),f8=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...r}=e,i=ns(rf,n),l=pk(rf,n),{onThumbPositionChange:o}=l,c=Ie(t,f=>l.onThumbChange(f)),u=g.useRef(void 0),d=wm(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const h=g8(f,o);u.current=h,o()}};return o(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,o]),a.jsx(je.div,{"data-state":l.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:se(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,y=f.clientY-h.top;l.onThumbPointerDown({x:p,y})}),onPointerUp:se(e.onPointerUp,l.onThumbPointerUp)})});vk.displayName=rf;var N0="ScrollAreaCorner",yk=g.forwardRef((e,t)=>{const n=ns(N0,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?a.jsx(m8,{...e,ref:t}):null});yk.displayName=N0;var m8=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,r=ns(N0,n),[i,l]=g.useState(0),[o,c]=g.useState(0),u=!!(i&&o);return Yl(r.scrollbarX,()=>{var f;const d=((f=r.scrollbarX)==null?void 0:f.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),Yl(r.scrollbarY,()=>{var f;const d=((f=r.scrollbarY)==null?void 0:f.offsetWidth)||0;r.onCornerWidthChange(d),l(d)}),u?a.jsx(je.div,{...s,ref:t,style:{width:i,height:o,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function af(e){return e?parseInt(e,10):0}function bk(e,t){const n=e/t;return isNaN(n)?0:n}function bm(e){const t=bk(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function h8(e,t,n,s="ltr"){const r=bm(n),i=r/2,l=t||i,o=r-l,c=n.scrollbar.paddingStart+l,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,f=s==="ltr"?[0,d]:[d*-1,0];return wk([c,u],f)(e)}function hb(e,t,n="ltr"){const s=bm(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-r,l=t.content-t.viewport,o=i-s,c=n==="ltr"?[0,l]:[l*-1,0],u=r8(e,c);return wk([0,l],[0,o])(u)}function wk(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function jk(e,t){return e>0&&e<t}var g8=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function r(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,o=n.top!==i.top;(l||o)&&t(),n=i,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function wm(e,t){const n=Yt(e),s=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),g.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Yl(e,t){const n=Yt(t);Us(()=>{let s=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(s),r.unobserve(e)}}},[e,n])}var Nk=fk,p8=hk,x8=yk;const vi=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(Nk,{ref:s,className:I("relative overflow-hidden",e),...n,children:[a.jsx(p8,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(Sk,{}),a.jsx(x8,{})]}));vi.displayName=Nk.displayName;const Sk=g.forwardRef(({className:e,orientation:t="vertical",...n},s)=>a.jsx(w0,{ref:s,orientation:t,className:I("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(vk,{className:"relative flex-1 rounded-full bg-border"})}));Sk.displayName=w0.displayName;function v8({items:e,viewMode:t,onItemSelect:n,selectedItem:s,renderItemCard:r,className:i}){return a.jsxs("div",{className:`space-y-4 ${i}`,children:[t==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(l=>a.jsx("div",{onClick:()=>n(l),className:"cursor-pointer transition-transform hover:scale-[1.02] relative",children:r(l,(s==null?void 0:s.id)===l.id)},l.id))}):a.jsx(vi,{className:"h-[calc(100vh-300px)]",children:a.jsx("div",{className:"space-y-1 pr-4",children:e.map(l=>a.jsx("div",{onClick:()=>n(l),className:"cursor-pointer transition-colors hover:bg-muted/50 rounded-lg",children:r(l,(s==null?void 0:s.id)===l.id)},l.id))})}),e.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No items found matching your criteria."})})]})}function y8({categories:e,onSelect:t,className:n=""}){return a.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(s=>a.jsx("div",{className:"flex-1 min-w-[180px]",children:a.jsx(ti,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))})}function b8({tags:e,onRemove:t,className:n=""}){return e.length===0?null:a.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(s=>a.jsxs(q,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.category,":"]}),a.jsx("span",{children:s.label}),a.jsx("button",{onClick:()=>t(s.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(Xe,{className:"h-3 w-3"})})]},s.id))})}function kk({categories:e,onSelect:t,onCustomSearch:n,placeholder:s="Search by name, description, or abilities...",className:r=""}){const[i,l]=g.useState(!1),[o,c]=g.useState(null),[u,d]=g.useState(""),[f,m]=g.useState(-1),h=g.useRef(null),p=g.useRef(null),y=e.length===1?e[0]:null;g.useEffect(()=>{const T=D=>{h.current&&!h.current.contains(D.target)&&(l(!1),c(null),m(-1))};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const w=o||y?(o||y).options.filter(T=>T.label&&typeof T.label=="string"&&T.label.toLowerCase().includes(u.toLowerCase())||T.description&&typeof T.description=="string"&&T.description.toLowerCase().includes(u.toLowerCase())):e.flatMap(T=>T.options.filter(D=>D.label&&typeof D.label=="string"&&D.label.toLowerCase().includes(u.toLowerCase())||D.description&&typeof D.description=="string"&&D.description.toLowerCase().includes(u.toLowerCase()))),v=T=>{d(T),l(!0),m(-1)},x=T=>{var D;c(T),d(""),(D=p.current)==null||D.focus()},b=T=>{t(T),d(""),c(null),l(!1),m(-1)},j=()=>{u.trim()&&(n(u.trim()),d(""),c(null),l(!1),m(-1))},N=T=>{T.key==="ArrowDown"?(T.preventDefault(),m(D=>Math.min(D+1,w.length-1))):T.key==="ArrowUp"?(T.preventDefault(),m(D=>Math.max(D-1,-1))):T.key==="Enter"?(T.preventDefault(),f>=0&&w[f]?b(w[f]):u.trim()&&j()):T.key==="Escape"&&(l(!1),c(null),m(-1))},C=()=>{l(!0)},S=o||y,E=!y&&!o,k=u.trim()&&!w.some(T=>T.label&&typeof T.label=="string"&&T.label.toLowerCase()===u.toLowerCase());return a.jsxs("div",{ref:h,className:`relative ${r}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Ps,{ref:p,type:"text",placeholder:S?S.placeholder:s,value:u,onChange:T=>v(T.target.value),onFocus:C,onKeyDown:N,className:"pl-10 pr-20"}),k&&a.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:j,title:"Add custom search term",children:a.jsx(fa,{className:"h-4 w-4"})}),a.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>l(!i),children:a.jsx(Pt,{className:`h-4 w-4 transition-transform ${i?"rotate-180":""}`})})]}),i&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:qt.AUTOCOMPLETE+10},children:[E&&a.jsxs("div",{className:"p-2 border-b border-border",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(T=>a.jsxs("button",{onClick:()=>x(T),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[a.jsx("span",{children:T.name}),a.jsx(Pt,{className:"h-4 w-4"})]},T.id))]}),k&&a.jsx("div",{className:"p-2 border-b border-border",children:a.jsxs("button",{onClick:j,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[a.jsx(fa,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),a.jsx("div",{className:"p-2",children:w.length===0&&!k?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((T,D)=>a.jsxs("button",{onClick:()=>b(T),className:`w-full text-left px-2 py-2 rounded text-sm ${D===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[a.jsx("div",{className:"font-medium",children:T.label}),T.description&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:T.description})]},T.id))})]})]})}function $a({categories:e,onSelect:t,onCustomSearch:n,className:s=""}){const r=e.find(l=>l.id==="fuzzy-search"||l.id==="keywords"),i=e.filter(l=>l.id!=="fuzzy-search"&&l.id!=="keywords");return a.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${s}`,children:[r&&a.jsx("div",{className:"flex-1 min-w-[300px]",children:a.jsx(kk,{categories:[r],onSelect:t,onCustomSearch:n,placeholder:r.placeholder,className:"w-full"})}),i.map(l=>a.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:a.jsx(ti,{categories:[l],onSelect:t,placeholder:l.placeholder,className:"w-full"})},l.id))]})}function w8({children:e,className:t=""}){return a.jsx("div",{className:`grid grid-cols-1 lg:grid-cols-6 gap-6 ${t}`,children:e})}function j8({children:e,className:t=""}){return a.jsx("div",{className:`lg:col-span-5 ${t}`,children:e})}function N8({children:e,className:t=""}){return a.jsx("div",{className:`lg:col-span-1 ${t}`,children:a.jsx("div",{className:"sticky top-6",style:{zIndex:qt.STICKY},children:e})})}function S8({title:e="Select an Item",description:t="Choose an item from the list to view its details"}){return a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 text-center",children:[a.jsx(aa,{className:"text-lg font-semibold mb-2",children:e}),a.jsx(ye,{className:"text-muted-foreground",children:t})]})}function k8({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:s,onTagRemove:r,onViewModeChange:i,children:l,className:o=""}){return a.jsxs("div",{className:`mb-8 space-y-4 ${o}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(y8,{categories:e,onSelect:s,className:"w-full"})}),i&&a.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[a.jsx(V,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>i("grid"),className:"h-8 px-3",children:a.jsx(_i,{className:"h-4 w-4"})}),a.jsx(V,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>i("list"),className:"h-8 px-3",children:a.jsx(Ma,{className:"h-4 w-4"})})]})]}),a.jsx(b8,{tags:t,onRemove:r,className:"justify-start"}),l&&a.jsx("div",{className:"pt-4",children:l})]})}const C8=(e,t)=>{const n=e.effects.length>0,s=e.effects.length,r=e.targetType==="touch",i=e.targetType==="self",l=e.foundOnItems.length,o=[e.targetType,...e.effects.map(u=>u.name.toLowerCase()),...e.foundOnItems.map(u=>u.type),...e.plugin.toLowerCase().split(" "),t.toLowerCase().split(" ")].filter(Boolean),c=[e.name,...e.effects.map(u=>`${u.name} ${u.description}`),...e.foundOnItems.map(u=>`${u.name} ${u.type}`),e.plugin,t].join(" ").toLowerCase();return{...e,hasEffects:n,effectCount:s,isWeaponEnchantment:r,isArmorEnchantment:i,itemCount:l,tags:[...new Set(o)],searchableText:c,category:t}},yi=$n((e,t)=>({categories:[],data:[],loading:!1,error:null,viewState:{viewMode:"grid",sortBy:"name",sortOrder:"asc",selectedEnchantment:null,expandedEnchantments:[]},filters:{categories:[],targetTypes:[],itemTypes:[],plugins:[],searchTerm:"",hasEffects:null,hasWornRestrictions:null,minItemCount:null,maxItemCount:null},searchResults:[],searchLoading:!1,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(an("data/enchantment-primer.json"));if(!s.ok)throw new Error(`Failed to load enchantments: ${s.statusText}`);const r=await s.json(),i=[];r.categories.forEach(l=>{l.enchantments.forEach(o=>{i.push(C8(o,l.name))})}),e({categories:r.categories,data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load enchantments",loading:!1})}}},setViewState:n=>{e(s=>({viewState:{...s.viewState,...n}}),!1,"setViewState")},setFilters:n=>{e(s=>({filters:{...s.filters,...n}}),!1,"setFilters")},search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>i.name.toLowerCase().includes(r)||i.searchableText.includes(r)||i.tags.some(l=>l.toLowerCase().includes(r))||i.effects.some(l=>l.name.toLowerCase().includes(r)||l.description.toLowerCase().includes(r))||i.foundOnItems.some(l=>l.name.toLowerCase().includes(r)||l.type.toLowerCase().includes(r)))},selectEnchantment:n=>{e(s=>({viewState:{...s.viewState,selectedEnchantment:n}}),!1,"selectEnchantment")},clearSelection:()=>{e(n=>({viewState:{...n.viewState,selectedEnchantment:null}}),!1,"clearSelection")},clearSearch:()=>{e({searchResults:[],searchLoading:!1},!1,"clearSearch")},get selectedEnchantment(){const n=t();return n.viewState.selectedEnchantment?n.data.find(s=>s.baseEnchantmentId===n.viewState.selectedEnchantment):void 0},getById:n=>t().data.find(r=>r.baseEnchantmentId===n),getByBaseEnchantmentId:n=>t().data.find(r=>r.baseEnchantmentId===n),getByCategory:n=>t().data.filter(r=>r.category===n),getByTargetType:n=>t().data.filter(r=>r.targetType===n),getByPlugin:n=>t().data.filter(r=>r.plugin===n)}));class Qe{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.output=="string"&&Array.isArray(t.ingredients)&&Array.isArray(t.effects)}static equals(t,n){return t.name===n.name}static addComputedProperties(t){const n=t.effects.length>0,s=t.effects.length,r=t.ingredients.length,i=r>3||s>2,l=r<=2&&s<=1,o=t.effects.reduce((m,h)=>m+h.magnitude,0),c=Math.max(...t.effects.map(m=>m.duration),0),u=this.determineDifficulty(t,{ingredientCount:r,effectCount:s,isComplex:i,isSimple:l}),d=this.generateTags(t,{hasEffects:n,effectCount:s,ingredientCount:r,isComplex:i,isSimple:l,difficulty:u}),f=this.createSearchableText(t,d);return{...t,hasEffects:n,effectCount:s,ingredientCount:r,isComplex:i,isSimple:l,totalMagnitude:o,maxDuration:c,tags:d,searchableText:f,difficulty:u}}static determineDifficulty(t,n){return n.isSimple?"Simple":n.isComplex?"Complex":"Moderate"}static generateTags(t,n){const s=[];return t.category&&s.push(t.category),s.push(n.difficulty),n.hasEffects&&s.push("Has Effects"),n.ingredientCount===1?s.push("Single Ingredient"):n.ingredientCount<=3?s.push("Few Ingredients"):s.push("Many Ingredients"),n.effectCount===1?s.push("Single Effect"):n.effectCount<=2?s.push("Few Effects"):s.push("Many Effects"),t.effects.forEach(r=>{s.push(r.name)}),t.ingredients.forEach(r=>{s.push(r)}),[...new Set(s)]}static createSearchableText(t,n){const s=t.ingredients.map(i=>typeof i=="string"?i:i&&typeof i=="object"&&(i.item||i.name||i.label||i.id)||String(i));return[t.name,t.output,t.description||"",...s,...t.effects.map(i=>i.name),...t.effects.map(i=>i.description),...n].join(" ").toLowerCase()}static filterByCategory(t,n){return t.filter(s=>s.category===n)}static filterByCategories(t,n){return n.length===0?t:t.filter(s=>s.category&&n.includes(s.category))}static filterByDifficulty(t,n){return t.filter(s=>s.difficulty===n)}static filterByDifficulties(t,n){return n.length===0?t:t.filter(s=>n.includes(s.difficulty))}static filterByIngredientCount(t,n,s){return t.filter(r=>{const i=r.ingredientCount;return!(n!==null&&i<n||s!==null&&i>s)})}static filterByMagnitude(t,n,s){return t.filter(r=>{const i=r.totalMagnitude;return!(n!==null&&i<n||s!==null&&i>s)})}static filterByEffectProperties(t,n,s){return t.filter(r=>!(n!==null&&r.hasEffects!==n||s!==null&&r.isComplex!==s))}static filterByIngredients(t,n){return n.length===0?t:t.filter(s=>n.some(r=>s.ingredients.some(i=>(typeof i=="string"?i:i.item||i.name||i.label||i.id||String(i)).toLowerCase().includes(r.toLowerCase()))))}static filterByEffects(t,n){return n.length===0?t:t.filter(s=>n.some(r=>s.effects.some(i=>i.name.toLowerCase().includes(r.toLowerCase()))))}static search(t,n){if(!n.trim())return[];const s=n.toLowerCase().trim(),r=[];for(const i of t){const l=this.calculateSearchScore(i,s);if(l>0){const o=this.getMatchedFields(i,s);r.push({recipe:i,score:l,matchedFields:o})}}return r.sort((i,l)=>l.score-i.score)}static calculateSearchScore(t,n){var i;let s=0;const r=n.toLowerCase();return t.name.toLowerCase()===r&&(s+=100),t.output.toLowerCase()===r&&(s+=100),t.name.toLowerCase().includes(r)&&(s+=50),t.output.toLowerCase().includes(r)&&(s+=50),(i=t.description)!=null&&i.toLowerCase().includes(r)&&(s+=30),t.ingredients.forEach(l=>{const o=typeof l=="string"?l:l.item||l.name||l.label||l.id||String(l);o.toLowerCase()===r&&(s+=40),o.toLowerCase().includes(r)&&(s+=20)}),t.effects.forEach(l=>{l.name.toLowerCase()===r&&(s+=40),l.name.toLowerCase().includes(r)&&(s+=20),l.description.toLowerCase().includes(r)&&(s+=15)}),t.tags.forEach(l=>{l.toLowerCase()===r&&(s+=25),l.toLowerCase().includes(r)&&(s+=10)}),s}static getMatchedFields(t,n){var i;const s=[],r=n.toLowerCase();return t.name.toLowerCase().includes(r)&&s.push("name"),t.output.toLowerCase().includes(r)&&s.push("output"),(i=t.description)!=null&&i.toLowerCase().includes(r)&&s.push("description"),t.ingredients.forEach(l=>{(typeof l=="string"?l:l.item||l.name||l.label||l.id||String(l)).toLowerCase().includes(r)&&s.push("ingredients")}),t.effects.forEach(l=>{(l.name.toLowerCase().includes(r)||l.description.toLowerCase().includes(r))&&s.push("effects")}),[...new Set(s)]}static sort(t,n,s="asc"){return[...t].sort((i,l)=>{let o=0;switch(n){case"name":o=i.name.localeCompare(l.name);break;case"category":o=(i.category||"").localeCompare(l.category||"");break;case"difficulty":o=this.compareDifficulties(i.difficulty,l.difficulty);break;case"ingredientCount":o=i.ingredientCount-l.ingredientCount;break;case"effectCount":o=i.effectCount-l.effectCount;break;case"magnitude":o=i.totalMagnitude-l.totalMagnitude;break;case"duration":o=i.maxDuration-l.maxDuration;break}return s==="asc"?o:-o})}static compareDifficulties(t,n){const s={Simple:1,Moderate:2,Complex:3};return(s[t]||0)-(s[n]||0)}static getUniqueCategories(t){const n=t.map(s=>s.category).filter(s=>!!s);return[...new Set(n)].sort()}static getUniqueDifficulties(t){const n=t.map(s=>s.difficulty);return[...new Set(n)].sort((s,r)=>this.compareDifficulties(s,r))}static getUniqueEffects(t){const n=t.flatMap(s=>s.effects.map(r=>r.name));return[...new Set(n)].sort()}static getUniqueIngredients(t){const n=t.flatMap(s=>s.ingredients.map(r=>typeof r=="string"?r:r&&typeof r=="object"&&(r.item||r.name||r.label||r.id)||String(r)));return[...new Set(n)].filter(s=>s&&s!=="[object Object]").sort()}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static applyFilters(t,n){let s=[...t];return n.searchTerm.trim()&&(s=this.search(s,n.searchTerm).map(i=>i.recipe)),n.categories.length>0&&(s=this.filterByCategories(s,n.categories)),n.difficulties.length>0&&(s=this.filterByDifficulties(s,n.difficulties)),n.ingredients.length>0&&(s=this.filterByIngredients(s,n.ingredients)),n.effects.length>0&&(s=this.filterByEffects(s,n.effects)),s=this.filterByEffectProperties(s,n.hasEffects,n.isComplex),s=this.filterByIngredientCount(s,n.minIngredientCount,n.maxIngredientCount),s=this.filterByMagnitude(s,n.minMagnitude,n.maxMagnitude),s}static getStatistics(t){const n=t.length,s=t.filter(j=>j.type==="food").length,r=t.filter(j=>j.type==="alcohol").length,i={};t.forEach(j=>{j.category&&(i[j.category]=(i[j.category]||0)+1)});const l={};t.forEach(j=>{l[j.difficulty]=(l[j.difficulty]||0)+1});const o={};t.forEach(j=>{j.effects.forEach(N=>{o[N.name]=(o[N.name]||0)+1})});const c=t.reduce((j,N)=>j+N.ingredientCount,0),u=t.reduce((j,N)=>j+N.effectCount,0),d=n>0?c/n:0,f=n>0?u/n:0,m=t.reduce((j,N)=>j+N.totalMagnitude,0),h=t.reduce((j,N)=>j+N.maxDuration,0),p=n>0?m/n:0,y=n>0?h/n:0,w={};t.forEach(j=>{j.ingredients.forEach(N=>{w[N]=(w[N]||0)+1})});const v=Object.entries(w).map(([j,N])=>({name:j,count:N})).sort((j,N)=>N.count-j.count).slice(0,10),x={};t.forEach(j=>{j.effects.forEach(N=>{x[N.name]=(x[N.name]||0)+1})});const b=Object.entries(x).map(([j,N])=>({name:j,count:N})).sort((j,N)=>N.count-j.count).slice(0,10);return{totalRecipes:n,foodRecipes:s,alcoholRecipes:r,recipesByCategory:i,recipesByDifficulty:l,recipesByEffect:o,averageIngredientCount:d,averageEffectCount:f,averageMagnitude:p,averageDuration:y,topEffects:b,topIngredients:v}}static getEffectComparisons(t,n){const s={};return n.forEach(r=>{r.effects.forEach(i=>{s[i.name]||(s[i.name]={magnitudeSum:0,durationSum:0,count:0}),s[i.name].magnitudeSum+=i.magnitude,s[i.name].durationSum+=i.duration,s[i.name].count+=1})}),t.effects.map(r=>{const i=s[r.name],l=i.count>0?i.magnitudeSum/i.count:0,o=i.count>0?i.durationSum/i.count:0,c=r.magnitude-l,u=r.duration-o;return{name:r.name,magnitude:{value:r.magnitude,mean:l,difference:c,percentage:l>0?c/l*100:0},duration:{value:r.duration,mean:o,difference:u,percentage:o>0?u/o*100:0}}})}}const Ja=class Ja{constructor(){Ve(this,"cache",null);Ve(this,"lastFetch",0);Ve(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return Ja.instance||(Ja.instance=new Ja),Ja.instance}async loadRecipes(){var t;if(this.cache&&Date.now()-this.lastFetch<this.CACHE_DURATION)return this.cache;try{const n=an("data/cookbook-wiki.json"),s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch recipes: ${s.status} ${s.statusText}`);const r=await s.json(),i=[];if(r.food&&Array.isArray(r.food)?i.push(...r.food):r.food&&typeof r.food=="object"&&r.food.recipes&&Array.isArray(r.food.recipes)&&i.push(...r.food.recipes),r.alcohol&&Array.isArray(r.alcohol)?i.push(...r.alcohol):r.alcohol&&typeof r.alcohol=="object"&&r.alcohol.recipes&&Array.isArray(r.alcohol.recipes)&&i.push(...r.alcohol.recipes),i.length===0){const u=((t=r.food)==null?void 0:t.recipes)||r.recipes||r;Array.isArray(u)&&i.push(...u)}if(!Array.isArray(i)||i.length===0)throw new Error("RecipeDataProvider: No valid recipes found in data structure");const l=[];let o=0,c=0;for(const u of i)if(Qe.isValid(u)){const d=Qe.addComputedProperties(u);l.push(d),o++}else console.warn("RecipeDataProvider: Invalid recipe data:",u),c++;return this.cache=l,this.lastFetch=Date.now(),l}catch(n){throw n}}async getRecipeData(){const t=await this.loadRecipes(),n=Qe.getStatistics(t);return{recipes:t,totalCount:n.totalRecipes,categories:Qe.getUniqueCategories(t),effects:Qe.getUniqueEffects(t),ingredients:Qe.getUniqueIngredients(t),lastUpdated:new Date().toISOString()}}async getRecipeByName(t){return(await this.loadRecipes()).find(s=>s.name===t)||null}async getRecipesByCategory(t){const n=await this.loadRecipes();return Qe.filterByCategory(n,t)}async getRecipesByDifficulty(t){const n=await this.loadRecipes();return Qe.filterByDifficulty(n,t)}async getRecipesByIngredient(t){const n=await this.loadRecipes();return Qe.filterByIngredients(n,[t])}async getRecipesByEffect(t){const n=await this.loadRecipes();return Qe.filterByEffects(n,[t])}async searchRecipes(t){const n=await this.loadRecipes();return Qe.search(n,t).map(r=>r.recipe)}async getStatistics(){const t=await this.loadRecipes();return Qe.getStatistics(t)}clearCache(){this.cache=null,this.lastFetch=0}isCacheValid(){return this.cache!==null&&Date.now()-this.lastFetch<this.CACHE_DURATION}getCacheInfo(){var t;return{hasCache:this.cache!==null,cacheSize:((t=this.cache)==null?void 0:t.length)||0,lastFetch:this.lastFetch,isExpired:this.cache!==null&&Date.now()-this.lastFetch>=this.CACHE_DURATION,timeUntilExpiry:this.cache?Math.max(0,this.CACHE_DURATION-(Date.now()-this.lastFetch)):0}}};Ve(Ja,"instance");let Xg=Ja;const ur=$n((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const r=await Xg.getInstance().loadRecipes();e({data:r,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load recipes",loading:!1})}}},getById:n=>t().data.find(r=>r.name===n),getByName:n=>t().data.find(r=>r.name===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var l,o,c,u,d,f;return i.name.toLowerCase().includes(r)||i.output.toLowerCase().includes(r)||((l=i.description)==null?void 0:l.toLowerCase().includes(r))||((o=i.category)==null?void 0:o.toLowerCase().includes(r))||((c=i.difficulty)==null?void 0:c.toLowerCase().includes(r))||((u=i.tags)==null?void 0:u.some(m=>m.toLowerCase().includes(r)))||((d=i.ingredients)==null?void 0:d.some(m=>m.toLowerCase().includes(r)))||((f=i.effects)==null?void 0:f.some(m=>{var h;return m.name.toLowerCase().includes(r)||((h=m.description)==null?void 0:h.toLowerCase().includes(r))}))})},getByCategory:n=>t().data.filter(r=>r.category===n),getByDifficulty:n=>t().data.filter(r=>r.difficulty===n),getByIngredient:n=>t().data.filter(r=>r.ingredients.some(i=>i.toLowerCase().includes(n.toLowerCase()))),getByEffect:n=>t().data.filter(r=>r.effects.some(i=>i.name.toLowerCase().includes(n.toLowerCase())))})),E8=Object.freeze(Object.defineProperty({__proto__:null,useRecipesStore:ur},Symbol.toStringTag,{value:"Module"}));class Ua{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.editorId=="string"&&typeof t.school=="string"&&typeof t.level=="string"&&typeof t.magickaCost=="number"&&Array.isArray(t.effects)}static equals(t,n){return t.editorId===n.editorId}static addComputedProperties(t){const n=t.effects.length>0,s=t.effects.length,r=t.effects.some(m=>m.area>0),i=t.effects.some(m=>m.duration>0),l=t.effects.every(m=>m.duration===0),o=t.effects.reduce((m,h)=>m+h.magnitude,0),c=Math.max(...t.effects.map(m=>m.duration),0),u=Math.max(...t.effects.map(m=>m.area),0),d=this.generateTags(t,{hasEffects:n,isAreaSpell:r,isDurationSpell:i,isInstantSpell:l}),f=this.createSearchableText(t,d);return{...t,hasEffects:n,effectCount:s,isAreaSpell:r,isDurationSpell:i,isInstantSpell:l,totalMagnitude:o,maxDuration:c,maxArea:u,tags:d,searchableText:f}}static generateTags(t,n){const s=[];return s.push(t.school),s.push(t.level),n.hasEffects&&s.push("Has Effects"),n.isAreaSpell&&s.push("Area Effect"),n.isDurationSpell&&s.push("Duration"),n.isInstantSpell&&s.push("Instant"),t.magickaCost===0?s.push("Free"):t.magickaCost<=50?s.push("Low Cost"):t.magickaCost<=150?s.push("Medium Cost"):s.push("High Cost"),t.effects.forEach(r=>{r.name.toLowerCase().includes("fire")&&s.push("Fire"),(r.name.toLowerCase().includes("frost")||r.name.toLowerCase().includes("ice"))&&s.push("Frost"),(r.name.toLowerCase().includes("shock")||r.name.toLowerCase().includes("lightning"))&&s.push("Shock"),(r.name.toLowerCase().includes("heal")||r.name.toLowerCase().includes("restore"))&&s.push("Healing"),(r.name.toLowerCase().includes("conjure")||r.name.toLowerCase().includes("summon"))&&s.push("Conjuration"),(r.name.toLowerCase().includes("fear")||r.name.toLowerCase().includes("calm"))&&s.push("Illusion"),(r.name.toLowerCase().includes("paralyze")||r.name.toLowerCase().includes("slow"))&&s.push("Control")}),[...new Set(s)]}static createSearchableText(t,n){return[t.name,t.school,t.level,t.description,...n,...t.effects.map(r=>r.name),...t.effects.map(r=>r.description)].join(" ").toLowerCase()}static filterBySchool(t,n){return t.filter(s=>s.school===n)}static filterByLevel(t,n){return t.filter(s=>s.level===n)}static filterBySchools(t,n){return n.length===0?t:t.filter(s=>n.includes(s.school))}static filterByLevels(t,n){return n.length===0?t:t.filter(s=>n.includes(s.level))}static filterByMagickaCost(t,n,s){return t.filter(r=>!(n!==null&&r.magickaCost<n||s!==null&&r.magickaCost>s))}static filterByMagnitude(t,n,s){return t.filter(r=>!(n!==null&&r.totalMagnitude<n||s!==null&&r.totalMagnitude>s))}static filterByEffectProperties(t,n,s,r){return t.filter(i=>!(n!==null&&i.hasEffects!==n||s!==null&&i.isAreaSpell!==s||r!==null&&i.isDurationSpell!==r))}static search(t,n){if(!n.trim())return t.map(i=>({spell:i,score:1,matchedFields:[]}));const s=n.toLowerCase(),r=[];return t.forEach(i=>{let l=0;const o=[];i.name.toLowerCase()===s?(l+=100,o.push("name")):i.name.toLowerCase().includes(s)&&(l+=50,o.push("name")),i.school.toLowerCase()===s?(l+=30,o.push("school")):i.school.toLowerCase().includes(s)&&(l+=15,o.push("school")),i.level.toLowerCase()===s?(l+=25,o.push("level")):i.level.toLowerCase().includes(s)&&(l+=10,o.push("level")),i.description.toLowerCase().includes(s)&&(l+=5,o.push("description")),i.tags.forEach(c=>{c.toLowerCase().includes(s)&&(l+=3,o.push("tags"))}),i.effects.forEach(c=>{c.name.toLowerCase().includes(s)&&(l+=8,o.push("effects")),c.description.toLowerCase().includes(s)&&(l+=4,o.push("effects"))}),l>0&&r.push({spell:i,score:l,matchedFields:[...new Set(o)]})}),r.sort((i,l)=>l.score-i.score)}static sort(t,n,s="asc"){return[...t].sort((i,l)=>{let o=0;switch(n){case"name":o=i.name.localeCompare(l.name);break;case"school":o=i.school.localeCompare(l.school);break;case"level":o=this.compareLevels(i.level,l.level);break;case"magickaCost":o=i.magickaCost-l.magickaCost;break;case"magnitude":o=i.totalMagnitude-l.totalMagnitude;break;case"duration":o=i.maxDuration-l.maxDuration;break}return s==="desc"?-o:o})}static compareLevels(t,n){const s=["Novice","Apprentice","Adept","Expert","Master"],r=s.indexOf(t),i=s.indexOf(n);return r===-1&&i===-1?0:r===-1?1:i===-1?-1:r-i}static getUniqueSchools(t){return[...new Set(t.map(n=>n.school))].sort()}static getUniqueLevels(t){const n=[...new Set(t.map(s=>s.level))];return this.sortLevels(n)}static sortLevels(t){const n=["Novice","Apprentice","Adept","Expert","Master"];return t.sort((s,r)=>{const i=n.indexOf(s),l=n.indexOf(r);return i===-1&&l===-1?0:i===-1?1:l===-1?-1:i-l})}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static applyFilters(t,n){let s=[...t];return n.schools.length>0&&(s=this.filterBySchools(s,n.schools)),n.levels.length>0&&(s=this.filterByLevels(s,n.levels)),s=this.filterByEffectProperties(s,n.hasEffects,n.isAreaSpell,n.isDurationSpell),s=this.filterByMagickaCost(s,n.minMagickaCost,n.maxMagickaCost),s=this.filterByMagnitude(s,n.minMagnitude,n.maxMagnitude),n.searchTerm&&(s=this.search(s,n.searchTerm).map(i=>i.spell)),s}static getStatistics(t){const n=this.getUniqueSchools(t),s=this.getUniqueLevels(t),r=this.getUniqueTags(t),i=t.length,l=t.filter(m=>m.hasEffects).length,o=t.filter(m=>m.isAreaSpell).length,c=t.filter(m=>m.isDurationSpell).length,u=t.filter(m=>m.magickaCost===0).length,d=t.length>0?t.reduce((m,h)=>m+h.magickaCost,0)/t.length:0,f=t.length>0?t.reduce((m,h)=>m+h.totalMagnitude,0)/t.length:0;return{totalSpells:i,spellsWithEffects:l,areaSpells:o,durationSpells:c,freeSpells:u,avgMagickaCost:Math.round(d),avgMagnitude:Math.round(f),schools:n,levels:s,tags:r}}}const ei=class ei{constructor(){Ve(this,"cache",null);Ve(this,"lastFetch",0);Ve(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return ei.instance||(ei.instance=new ei),ei.instance}async loadSpells(){if(this.cache&&Date.now()-this.lastFetch<this.CACHE_DURATION)return this.cache;try{const t=an("data/player_spells.json"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch spells: ${n.status} ${n.statusText}`);const s=await n.json(),r=[];let i=0,l=0;for(const o of s)if(Ua.isValid(o)){const c=Ua.addComputedProperties(o);r.push(c),i++}else console.warn("SpellDataProvider: Invalid spell data:",o),l++;return this.cache=r,this.lastFetch=Date.now(),r}catch(t){throw console.error("SpellDataProvider: Error loading spells:",t),t}}async getSpellData(){const t=await this.loadSpells(),n=Ua.getStatistics(t);return{spells:t,totalCount:n.totalSpells,schools:n.schools,levels:n.levels,lastUpdated:new Date().toISOString()}}async getSpellByEditorId(t){return(await this.loadSpells()).find(s=>s.editorId===t)||null}async getSpellsBySchool(t){const n=await this.loadSpells();return Ua.filterBySchool(n,t)}async getSpellsByLevel(t){const n=await this.loadSpells();return Ua.filterByLevel(n,t)}async searchSpells(t){const n=await this.loadSpells();return Ua.search(n,t).map(r=>r.spell)}async getStatistics(){const t=await this.loadSpells();return Ua.getStatistics(t)}clearCache(){this.cache=null,this.lastFetch=0}isCacheValid(){return this.cache!==null&&Date.now()-this.lastFetch<this.CACHE_DURATION}getCacheInfo(){var t;return{hasCache:this.cache!==null,cacheSize:((t=this.cache)==null?void 0:t.length)||0,lastFetch:this.lastFetch,isValid:this.isCacheValid()}}};Ve(ei,"instance");let lf=ei;const T8=Object.freeze(Object.defineProperty({__proto__:null,SpellDataProvider:lf},Symbol.toStringTag,{value:"Module"})),ol=$n((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const r=await lf.getInstance().loadSpells();e({data:r,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load spells",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),getByEditorId:n=>t().data.find(r=>r.editorId===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var l,o,c,u,d;return i.name.toLowerCase().includes(r)||((l=i.description)==null?void 0:l.toLowerCase().includes(r))||((o=i.school)==null?void 0:o.toLowerCase().includes(r))||((c=i.level)==null?void 0:c.toLowerCase().includes(r))||((u=i.tags)==null?void 0:u.some(f=>f.toLowerCase().includes(r)))||((d=i.effects)==null?void 0:d.some(f=>{var m;return f.name.toLowerCase().includes(r)||((m=f.description)==null?void 0:m.toLowerCase().includes(r))}))})},getBySchool:n=>t().data.filter(r=>r.school===n),getByLevel:n=>t().data.filter(r=>r.level===n)}));function _8(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var i;const l=c=>c===null?null:JSON.parse(c,void 0),o=(i=n.getItem(r))!=null?i:null;return o instanceof Promise?o.then(l):l(o)},setItem:(r,i)=>n.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>n.removeItem(r)}}const Wg=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return Wg(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Wg(s)(n)}}}},A8=(e,t)=>(n,s,r)=>{let i={storage:_8(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...t},l=!1;const o=new Set,c=new Set;let u=i.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},s,r);const d=()=>{const y=i.partialize({...s()});return u.setItem(i.name,{state:y,version:i.version})},f=r.setState;r.setState=(y,w)=>{f(y,w),d()};const m=e((...y)=>{n(...y),d()},s,r);r.getInitialState=()=>m;let h;const p=()=>{var y,w;if(!u)return;l=!1,o.forEach(x=>{var b;return x((b=s())!=null?b:m)});const v=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(y=s())!=null?y:m))||void 0;return Wg(u.getItem.bind(u))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate){const b=i.migrate(x.state,x.version);return b instanceof Promise?b.then(j=>[!0,j]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[j,N]=x;if(h=i.merge(N,(b=s())!=null?b:m),n(h,!0),j)return d()}).then(()=>{v==null||v(h,void 0),h=s(),l=!0,c.forEach(x=>x(h))}).catch(x=>{v==null||v(void 0,x)})};return r.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>l,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||p(),h||m},M8=A8,Ye={FUZZY_SEARCH:"Fuzzy Search",SEARCH_ALL:"Search All",CATEGORIES:"Categories",TYPES:"Types"},Ck=$n()(M8((e,t)=>({activeFilters:{types:[],categories:[],tags:[]},selectedTags:[],viewMode:"grid",lastSearchQuery:"",setActiveFilters:n=>{e({activeFilters:n})},updateActiveFilters:n=>{e(s=>({activeFilters:{...s.activeFilters,...n}}))},addTag:n=>{e(s=>{if(s.selectedTags.some(o=>o.value===n.value&&o.category===n.category))return s;const i=[...s.selectedTags,n];let l={...s.activeFilters};return n.category===Ye.TYPES?l.types=[...l.types,n.value]:n.category===Ye.CATEGORIES?l.categories=[...l.categories,n.value]:(n.category===Ye.FUZZY_SEARCH||n.category===Ye.SEARCH_ALL)&&(l.tags=[...l.tags,n.value]),{selectedTags:i,activeFilters:l}})},removeTag:n=>{e(s=>{const r=s.selectedTags.find(o=>o.id===n);if(!r)return s;const i=s.selectedTags.filter(o=>o.id!==n);let l={...s.activeFilters};return r.category===Ye.TYPES?l.types=l.types.filter(o=>o!==r.value):r.category===Ye.CATEGORIES?l.categories=l.categories.filter(o=>o!==r.value):(r.category===Ye.FUZZY_SEARCH||r.category===Ye.SEARCH_ALL)&&(l.tags=l.tags.filter(o=>o!==r.value)),{selectedTags:i,activeFilters:l}})},removeTagByValue:(n,s)=>{e(r=>{const i=r.selectedTags.filter(o=>!(o.value===n&&(!s||o.category===s)));let l={...r.activeFilters};return s===Ye.TYPES?l.types=l.types.filter(o=>o!==n):s===Ye.CATEGORIES?l.categories=l.categories.filter(o=>o!==n):(s===Ye.FUZZY_SEARCH||s===Ye.SEARCH_ALL)&&(l.tags=l.tags.filter(o=>o!==n)),{selectedTags:i,activeFilters:l}})},clearAllTags:()=>{e({selectedTags:[],activeFilters:{types:[],categories:[],tags:[]}})},setTags:n=>{e(s=>{let r={types:[],categories:[],tags:[]};return n.forEach(i=>{i.category===Ye.TYPES?r.types.push(i.value):i.category===Ye.CATEGORIES?r.categories.push(i.value):(i.category===Ye.FUZZY_SEARCH||i.category===Ye.SEARCH_ALL)&&r.tags.push(i.value)}),{selectedTags:n,activeFilters:r}})},addTags:n=>{e(s=>{const r=new Set(s.selectedTags.map(c=>`${c.value}-${c.category}`)),i=n.filter(c=>!r.has(`${c.value}-${c.category}`));if(i.length===0)return s;const l=[...s.selectedTags,...i];let o={...s.activeFilters};return i.forEach(c=>{c.category===Ye.TYPES?o.types.push(c.value):c.category===Ye.CATEGORIES?o.categories.push(c.value):(c.category===Ye.FUZZY_SEARCH||c.category===Ye.SEARCH_ALL)&&o.tags.push(c.value)}),{selectedTags:l,activeFilters:o}})},setViewMode:n=>{e({viewMode:n})},setLastSearchQuery:n=>{e({lastSearchQuery:n})},clearLastSearchQuery:()=>{e({lastSearchQuery:""})},hasTag:(n,s)=>t().selectedTags.some(i=>i.value===n&&(!s||i.category===s)),getTagsByCategory:n=>t().selectedTags.filter(r=>r.category===n),getFuzzySearchTags:()=>t().selectedTags.filter(s=>s.category===Ye.FUZZY_SEARCH||s.category===Ye.SEARCH_ALL),getFilterTags:()=>t().selectedTags.filter(s=>s.category!==Ye.FUZZY_SEARCH&&s.category!==Ye.SEARCH_ALL),clearAllSearchState:()=>{e({activeFilters:{types:[],categories:[],tags:[]},selectedTags:[],viewMode:"grid",lastSearchQuery:""})}}),{name:"global-search-storage",partialize:e=>({activeFilters:e.activeFilters,selectedTags:e.selectedTags,viewMode:e.viewMode,lastSearchQuery:e.lastSearchQuery})}));function R8(){const{data:e,loading:t,error:n}=Di();return{data:e.length>0?e:null,loading:t,error:n}}function D8(){const{data:e,loading:t,error:n}=zi();return{data:e.length>0?e:null,loading:t,error:n}}function Ek(){const{data:e,loading:t,error:n}=So();return{data:e.length>0?e:null,loading:t,error:n}}function z8(){const{data:e,loading:t,error:n}=Ri();return{data:e.length>0?e:null,loading:t,error:n}}function L8(){const{data:e,loading:t,error:n}=No();return{data:e.length>0?e:null,loading:t,error:n}}function S0(){const{data:e,loading:t,error:n}=Mi();return{data:e.length>0?e:null,loading:t,error:n}}function $8({children:e,showLoadingIndicator:t=!1}){const[n,s]=g.useState(!0),[r,i]=g.useState(null),l=g.useRef(!1),o=Ri(v=>v.load),c=No(v=>v.load),u=Mi(v=>v.load),d=kr(v=>v.load),f=ur(v=>v.load),m=So(v=>v.load),h=Di(v=>v.load),p=ol(v=>v.load),y=zi(v=>v.load),w=g.useCallback(async()=>{if(!l.current)try{s(!0),i(null),await Promise.all([o(),c(),u(),d(),f(),m(),h(),p(),y()]),l.current=!0,s(!1)}catch(v){console.error("Failed to initialize data:",v),i(v instanceof Error?v.message:"Failed to initialize data"),s(!1)}},[o,c,u,d,f,m,h,p,y]);return g.useEffect(()=>{w()},[w]),n&&t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading data..."})]})}):r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-red-600 mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Failed to Load Data"}),a.jsx("p",{className:"text-sm",children:r})]}),a.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):a.jsx(a.Fragment,{children:e})}function pe({children:e,className:t,expanded:n,onToggle:s,disableHover:r=!1,hideChevron:i=!1}){let l,o,c,u;L.Children.forEach(e,y=>{L.isValidElement(y)&&(y.type===pe.Header&&(l=y),y.type===pe.Summary&&(o=y),y.type===pe.Footer&&(c=y),y.type===pe.Details&&(u=y))});const[d,f]=g.useState(!1),m=n!==void 0?n:d,h=s||(()=>f(y=>!y)),p=r?"":"hover:shadow-md hover:scale-[1.02]";return a.jsxs("div",{className:I("rounded-lg border bg-background shadow-sm transition-all duration-200 flex flex-col",p,t),children:[l&&L.cloneElement(l,{onClick:h,expanded:m,hideChevron:i}),a.jsxs("div",{className:"flex-1",children:[o,m&&u]}),c]})}pe.Header=function({children:t,className:n,onClick:s,expanded:r,hideChevron:i=!1}){const l=()=>{s==null||s()};return a.jsxs("div",{className:I("flex items-center gap-3 px-4 py-3 bg-muted/30 cursor-pointer select-none hover:bg-muted/50 transition-colors duration-200 rounded-t-lg",r&&"bg-muted/50",n),onClick:l,tabIndex:0,role:"button","aria-expanded":r,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),l())},children:[t,!i&&a.jsx("span",{className:I("ml-auto transition-transform duration-200 text-muted-foreground",r?"rotate-180":""),children:a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:a.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};pe.Summary=function({children:t,className:n}){return a.jsx("div",{className:I("px-4 py-2 space-y-3",n),children:t})};pe.Footer=function({children:t,className:n}){return a.jsx("div",{className:I("px-4 py-2",n),children:t})};pe.Details=function({children:t,className:n}){return a.jsx("div",{className:I("px-4 py-4 space-y-4 bg-background rounded-b-lg",n),children:t})};const gb={Warrior:{background:"bg-red-200",text:"text-red-800",border:"border-red-300",hover:"hover:bg-red-300"},Mage:{background:"bg-blue-200",text:"text-blue-800",border:"border-blue-300",hover:"hover:bg-blue-300"},Thief:{background:"bg-green-200",text:"text-green-800",border:"border-green-300",hover:"hover:bg-green-300"},Serpent:{background:"bg-purple-200",text:"text-purple-800",border:"border-purple-300",hover:"hover:bg-purple-300"},Other:{background:"bg-yellow-200",text:"text-yellow-800",border:"border-yellow-300",hover:"hover:bg-yellow-300"}};function P8(e){return gb[e]||gb.Other}function O8({className:e="",threshold:t=300}){const[n,s]=g.useState(!1);g.useEffect(()=>{const i=()=>{window.pageYOffset>t?s(!0):s(!1)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[t]);const r=i=>{i.preventDefault(),i.stopPropagation(),window.scrollTo({top:0,behavior:"smooth"})};return n?a.jsx("div",{className:`fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 cursor-pointer ${e}`,onClick:i=>i.stopPropagation(),onMouseEnter:i=>i.stopPropagation(),onMouseLeave:i=>i.stopPropagation(),children:a.jsxs(V,{onClick:r,size:"default",variant:"outline",className:"flex items-center gap-2 shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out transform hover:scale-110 bg-skyrim-gold/90 hover:bg-skyrim-gold text-skyrim-dark border-skyrim-gold hover:border-skyrim-gold backdrop-blur supports-[backdrop-filter]:bg-skyrim-gold/80 hover:supports-[backdrop-filter]:bg-skyrim-gold/95 cursor-pointer",children:[a.jsx(Sc,{className:"h-5 w-5 transition-transform duration-300 ease-in-out group-hover:translate-y-[-2px]"}),"Back to top"]})}):null}const B8={race:{Human:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Elf:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Beast:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},religion:{Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Tribunal:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Ancestor:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},trait:{},destiny:{}},I8={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},F8="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function Tk({category:e,categoryType:t,size:n="md",className:s}){const i=B8[t][e]||F8;return a.jsx(q,{variant:"outline",className:I(i,I8[n],"font-medium transition-colors",s),children:e})}const pb={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16","2xl":"w-16 h-16","3xl":"w-24 h-24","4xl":"w-32 h-32"},H8={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl","2xl":"text-3xl","3xl":"text-3xl","4xl":"text-4xl"};function jm({imgSrc:e,alt:t,size:n="md",className:s,imageClassName:r,showBorder:i=!1}){const[l,o]=L.useState(!1);return!e||l?a.jsx("div",{className:I("bg-white dark:bg-white text-black dark:text-black rounded-full flex items-center justify-center font-bold",pb[n],s),children:a.jsx("span",{className:I(H8[n]),children:t.charAt(0)})}):a.jsxs("div",{className:I("rounded-full flex items-center justify-center relative","bg-white dark:bg-white",pb[n],s),children:[i&&a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-black dark:border-white pointer-events-none"}),a.jsx("img",{src:e,alt:t,className:I(i?"w-3/4 h-3/4 object-contain":"w-full h-full object-contain",r),onError:()=>o(!0),loading:"lazy"})]})}function U8({isExpanded:e,onToggle:t,className:n,leftControls:s,header:r,collapsedContent:i,expandedContent:l,actionArea:o,children:c}){return c?a.jsx("div",{className:I("rounded-lg border bg-background shadow-sm transition-all",n),children:c}):a.jsxs("div",{className:I("rounded-lg border bg-background shadow-sm transition-all group",e?"ring-2 ring-skyrim-gold/60":"",n),children:[a.jsxs("div",{className:"flex items-start",children:[s&&a.jsx("div",{className:"mr-2 flex-shrink-0",children:s}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r&&a.jsx("div",{className:"flex-1 min-w-0",children:r}),a.jsxs("button",{type:"button",onClick:t,"aria-expanded":e,className:"ml-2 p-1 rounded hover:bg-muted/50 focus:outline-none focus:ring-2 focus:ring-skyrim-gold",tabIndex:0,children:[a.jsx("span",{className:"sr-only",children:e?"Collapse":"Expand"}),a.jsx("svg",{className:I("h-4 w-4 transition-transform",e?"rotate-90":""),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:a.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})}),o&&a.jsx("div",{className:"ml-2 flex-shrink-0",children:o})]}),i&&a.jsx("div",{className:"mt-2",children:i}),e&&l&&a.jsx("div",{className:"mt-4",children:l})]})}function mu({options:e,onSelect:t,placeholder:n="Search...",className:s="",disabled:r=!1,searchQuery:i,onSearchQueryChange:l,renderOption:o,emptyMessage:c="No options found",maxHeight:u="max-h-96",showClearButton:d=!0,showToggleButton:f=!0}){const[m,h]=g.useState(!1),[p,y]=g.useState(""),[w,v]=g.useState(-1),x=g.useRef(null),b=g.useRef(null),j=i??p,N=l??y;g.useEffect(()=>{const z=_=>{x.current&&!x.current.contains(_.target)&&(h(!1),v(-1))};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const C=z=>{N(z),h(!0),v(-1)},S=z=>{t(z),N(""),h(!1),v(-1)},E=z=>{z.key==="ArrowDown"?(z.preventDefault(),v(_=>Math.min(_+1,e.length-1))):z.key==="ArrowUp"?(z.preventDefault(),v(_=>Math.max(_-1,-1))):z.key==="Enter"?(z.preventDefault(),w>=0&&e[w]&&S(e[w])):z.key==="Escape"&&(h(!1),v(-1))},k=()=>{h(!0)},T=()=>{var z;N(""),(z=b.current)==null||z.focus()},D=()=>{var z;h(!m),m||(z=b.current)==null||z.focus()},O=(z,_)=>a.jsxs("div",{className:"flex items-center gap-3",children:[z.icon&&a.jsx("div",{className:"flex-shrink-0",children:z.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium truncate",children:z.label}),z.badge&&a.jsx("div",{className:"flex-shrink-0",children:z.badge})]}),z.description&&a.jsx(Re,{text:z.description,className:"text-sm text-muted-foreground line-clamp-2 mt-1"})]})]});return a.jsxs("div",{ref:x,className:I("relative",s),children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Ps,{ref:b,type:"text",placeholder:n,value:j,onChange:z=>C(z.target.value),onFocus:k,onKeyDown:E,className:"pl-10 pr-20",disabled:r}),d&&j&&a.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:T,disabled:r,children:a.jsx(Xe,{className:"h-4 w-4"})}),f&&a.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:D,disabled:r,children:a.jsx(Pt,{className:I("h-4 w-4 transition-transform",m&&"rotate-180")})})]}),m&&a.jsx("div",{className:I("absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",u),style:{zIndex:qt.AUTOCOMPLETE+10},children:a.jsx("div",{className:"p-2",children:e.length===0?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:c}):e.map((z,_)=>a.jsx("button",{onClick:()=>S(z),className:I("w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer",_===w?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"),disabled:r,children:o?o(z,_===w):O(z)},z.id))})})]})}function _k(e="(max-width: 640px)"){const t=()=>typeof window>"u"||typeof window.matchMedia>"u"?!1:window.matchMedia(e).matches,[n,s]=g.useState(t);return g.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia>"u")return;const r=window.matchMedia(e),i=()=>s(r.matches);return s(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),n}function Ii({open:e,onOpenChange:t,title:n,description:s,side:r="right",className:i,mobileQuery:l="(max-width: 640px)",resetKey:o,children:c}){const u=_k(l),d=g.useRef(null);g.useEffect(()=>{e&&d.current&&(d.current.scrollTop=0)},[e,u]),g.useEffect(()=>{e&&d.current&&(d.current.scrollTop=0)},[o]);const f=I("flex flex-col",u?"inset-0 top-0 left-0 right-0 bottom-0 h-[100dvh] max-h-[100dvh] w-[100vw] p-0 rounded-none border-0 overflow-hidden":"w-[450px] sm:w-[800px] lg:w-[800px] sm:!max-w-[800px] lg:!max-w-[800px] p-0 overflow-y-auto bg-background",i);return a.jsx(Vl,{open:e,onOpenChange:t,children:a.jsxs(gi,{side:u?"bottom":r,className:f,children:[(n||s)&&a.jsx("div",{className:I("sticky top-0 z-10 bg-background border-b","p-4"),children:a.jsxs(ql,{className:"p-0",children:[n&&a.jsx(Zl,{children:n}),s&&a.jsx(Qx,{children:s})]})}),a.jsx("div",{ref:d,className:I("flex-1 overflow-y-auto overscroll-contain",u?"p-4":"p-6"),children:c})]})})}const V8={Warrior:"Warrior.svg",Lady:"Lady.svg",Lord:"Lord.svg",Steed:"Steed.svg",Mage:"Mage.svg",Apprentice:"Apprentice.svg",Atronach:"Atronach.svg",Ritual:"Ritual.svg",Thief:"Thief.svg",Lover:"Lover.svg",Shadow:"Shadow.svg",Tower:"Tower.svg",Serpent:"Serpent.svg"};function k0({birthsignName:e,size:t="md",className:n}){const s=V8[e],r=s?an(`assets/sign-avatar/${s}`):void 0;return a.jsxs("div",{className:"relative",children:[a.jsx(jm,{imgSrc:r,alt:e,size:t,className:n,imageClassName:"scale-[160%]",showBorder:!1}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-black dark:border-white pointer-events-none z-10"})]})}function Tr(e){return Array.isArray?Array.isArray(e):Rk(e)==="[object Array]"}function q8(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Z8(e){return e==null?"":q8(e)}function zs(e){return typeof e=="string"}function Ak(e){return typeof e=="number"}function G8(e){return e===!0||e===!1||Y8(e)&&Rk(e)=="[object Boolean]"}function Mk(e){return typeof e=="object"}function Y8(e){return Mk(e)&&e!==null}function Cn(e){return e!=null}function kh(e){return!e.trim().length}function Rk(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const X8="Incorrect 'index' type",W8=e=>`Invalid value for key ${e}`,Q8=e=>`Pattern length exceeds max of ${e}.`,K8=e=>`Missing ${e} property in key`,J8=e=>`Property 'weight' in key '${e}' must be a positive integer`,xb=Object.prototype.hasOwnProperty;class eB{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let r=Dk(s);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Dk(e){let t=null,n=null,s=null,r=1,i=null;if(zs(e)||Tr(e))s=e,t=vb(e),n=Qg(e);else{if(!xb.call(e,"name"))throw new Error(K8("name"));const l=e.name;if(s=l,xb.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(J8(l));t=vb(l),n=Qg(l),i=e.getFn}return{path:t,id:n,weight:r,src:s,getFn:i}}function vb(e){return Tr(e)?e:e.split(".")}function Qg(e){return Tr(e)?e.join("."):e}function tB(e,t){let n=[],s=!1;const r=(i,l,o)=>{if(Cn(i))if(!l[o])n.push(i);else{let c=l[o];const u=i[c];if(!Cn(u))return;if(o===l.length-1&&(zs(u)||Ak(u)||G8(u)))n.push(Z8(u));else if(Tr(u)){s=!0;for(let d=0,f=u.length;d<f;d+=1)r(u[d],l,o+1)}else l.length&&r(u,l,o+1)}};return r(e,zs(t)?t.split("."):t,0),s?n:n[0]}const nB={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},sB={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},rB={location:0,threshold:.6,distance:100},aB={useExtendedSearch:!1,getFn:tB,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var ge={...sB,...nB,...rB,...aB};const iB=/[^ ]+/g;function lB(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(r){const i=r.match(iB).length;if(n.has(i))return n.get(i);const l=1/Math.pow(i,.5*e),o=parseFloat(Math.round(l*s)/s);return n.set(i,o),o},clear(){n.clear()}}}class C0{constructor({getFn:t=ge.getFn,fieldNormWeight:n=ge.fieldNormWeight}={}){this.norm=lB(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,zs(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();zs(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Cn(t)||kh(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((r,i)=>{let l=r.getFn?r.getFn(t):this.getFn(t,r.path);if(Cn(l)){if(Tr(l)){let o=[];const c=[{nestedArrIndex:-1,value:l}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(Cn(d))if(zs(d)&&!kh(d)){let f={v:d,i:u,n:this.norm.get(d)};o.push(f)}else Tr(d)&&d.forEach((f,m)=>{c.push({nestedArrIndex:m,value:f})})}s.$[i]=o}else if(zs(l)&&!kh(l)){let o={v:l,n:this.norm.get(l)};s.$[i]=o}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function zk(e,t,{getFn:n=ge.getFn,fieldNormWeight:s=ge.fieldNormWeight}={}){const r=new C0({getFn:n,fieldNormWeight:s});return r.setKeys(e.map(Dk)),r.setSources(t),r.create(),r}function oB(e,{getFn:t=ge.getFn,fieldNormWeight:n=ge.fieldNormWeight}={}){const{keys:s,records:r}=e,i=new C0({getFn:t,fieldNormWeight:n});return i.setKeys(s),i.setIndexRecords(r),i}function Xu(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:r=ge.distance,ignoreLocation:i=ge.ignoreLocation}={}){const l=t/e.length;if(i)return l;const o=Math.abs(s-n);return r?l+o/r:o?1:l}function cB(e=[],t=ge.minMatchCharLength){let n=[],s=-1,r=-1,i=0;for(let l=e.length;i<l;i+=1){let o=e[i];o&&s===-1?s=i:!o&&s!==-1&&(r=i-1,r-s+1>=t&&n.push([s,r]),s=-1)}return e[i-1]&&i-s>=t&&n.push([s,i-1]),n}const Qa=32;function uB(e,t,n,{location:s=ge.location,distance:r=ge.distance,threshold:i=ge.threshold,findAllMatches:l=ge.findAllMatches,minMatchCharLength:o=ge.minMatchCharLength,includeMatches:c=ge.includeMatches,ignoreLocation:u=ge.ignoreLocation}={}){if(t.length>Qa)throw new Error(Q8(Qa));const d=t.length,f=e.length,m=Math.max(0,Math.min(s,f));let h=i,p=m;const y=o>1||c,w=y?Array(f):[];let v;for(;(v=e.indexOf(t,p))>-1;){let S=Xu(t,{currentLocation:v,expectedLocation:m,distance:r,ignoreLocation:u});if(h=Math.min(S,h),p=v+d,y){let E=0;for(;E<d;)w[v+E]=1,E+=1}}p=-1;let x=[],b=1,j=d+f;const N=1<<d-1;for(let S=0;S<d;S+=1){let E=0,k=j;for(;E<k;)Xu(t,{errors:S,currentLocation:m+k,expectedLocation:m,distance:r,ignoreLocation:u})<=h?E=k:j=k,k=Math.floor((j-E)/2+E);j=k;let T=Math.max(1,m-k+1),D=l?f:Math.min(m+k,f)+d,O=Array(D+2);O[D+1]=(1<<S)-1;for(let _=D;_>=T;_-=1){let P=_-1,M=n[e.charAt(P)];if(y&&(w[P]=+!!M),O[_]=(O[_+1]<<1|1)&M,S&&(O[_]|=(x[_+1]|x[_])<<1|1|x[_+1]),O[_]&N&&(b=Xu(t,{errors:S,currentLocation:P,expectedLocation:m,distance:r,ignoreLocation:u}),b<=h)){if(h=b,p=P,p<=m)break;T=Math.max(1,2*m-p)}}if(Xu(t,{errors:S+1,currentLocation:m,expectedLocation:m,distance:r,ignoreLocation:u})>h)break;x=O}const C={isMatch:p>=0,score:Math.max(.001,b)};if(y){const S=cB(w,o);S.length?c&&(C.indices=S):C.isMatch=!1}return C}function dB(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<s-n-1}return t}const of=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class Lk{constructor(t,{location:n=ge.location,threshold:s=ge.threshold,distance:r=ge.distance,includeMatches:i=ge.includeMatches,findAllMatches:l=ge.findAllMatches,minMatchCharLength:o=ge.minMatchCharLength,isCaseSensitive:c=ge.isCaseSensitive,ignoreDiacritics:u=ge.ignoreDiacritics,ignoreLocation:d=ge.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:r,includeMatches:i,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?of(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(h,p)=>{this.chunks.push({pattern:h,alphabet:dB(h),startIndex:p})},m=this.pattern.length;if(m>Qa){let h=0;const p=m%Qa,y=m-p;for(;h<y;)f(this.pattern.substr(h,Qa),h),h+=Qa;if(p){const w=m-Qa;f(this.pattern.substr(w),w)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:s,includeMatches:r}=this.options;if(t=n?t:t.toLowerCase(),t=s?of(t):t,this.pattern===t){let y={isMatch:!0,score:0};return r&&(y.indices=[[0,t.length-1]]),y}const{location:i,distance:l,threshold:o,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],m=0,h=!1;this.chunks.forEach(({pattern:y,alphabet:w,startIndex:v})=>{const{isMatch:x,score:b,indices:j}=uB(t,y,w,{location:i+v,distance:l,threshold:o,findAllMatches:c,minMatchCharLength:u,includeMatches:r,ignoreLocation:d});x&&(h=!0),m+=b,x&&j&&(f=[...f,...j])});let p={isMatch:h,score:h?m/this.chunks.length:1};return h&&r&&(p.indices=f),p}}class Pa{constructor(t){this.pattern=t}static isMultiMatch(t){return yb(t,this.multiRegex)}static isSingleMatch(t){return yb(t,this.singleRegex)}search(){}}function yb(e,t){const n=e.match(t);return n?n[1]:null}class fB extends Pa{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class mB extends Pa{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class hB extends Pa{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class gB extends Pa{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class pB extends Pa{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class xB extends Pa{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class $k extends Pa{constructor(t,{location:n=ge.location,threshold:s=ge.threshold,distance:r=ge.distance,includeMatches:i=ge.includeMatches,findAllMatches:l=ge.findAllMatches,minMatchCharLength:o=ge.minMatchCharLength,isCaseSensitive:c=ge.isCaseSensitive,ignoreDiacritics:u=ge.ignoreDiacritics,ignoreLocation:d=ge.ignoreLocation}={}){super(t),this._bitapSearch=new Lk(t,{location:n,threshold:s,distance:r,includeMatches:i,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Pk extends Pa{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const r=[],i=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+i,r.push([s,n-1]);const l=!!r.length;return{isMatch:l,score:l?0:1,indices:r}}}const Kg=[fB,Pk,hB,gB,xB,pB,mB,$k],bb=Kg.length,vB=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,yB="|";function bB(e,t={}){return e.split(yB).map(n=>{let s=n.trim().split(vB).filter(i=>i&&!!i.trim()),r=[];for(let i=0,l=s.length;i<l;i+=1){const o=s[i];let c=!1,u=-1;for(;!c&&++u<bb;){const d=Kg[u];let f=d.isMultiMatch(o);f&&(r.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<bb;){const d=Kg[u];let f=d.isSingleMatch(o);if(f){r.push(new d(f,t));break}}}return r})}const wB=new Set([$k.type,Pk.type]);class jB{constructor(t,{isCaseSensitive:n=ge.isCaseSensitive,ignoreDiacritics:s=ge.ignoreDiacritics,includeMatches:r=ge.includeMatches,minMatchCharLength:i=ge.minMatchCharLength,ignoreLocation:l=ge.ignoreLocation,findAllMatches:o=ge.findAllMatches,location:c=ge.location,threshold:u=ge.threshold,distance:d=ge.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:s,includeMatches:r,minMatchCharLength:i,findAllMatches:o,ignoreLocation:l,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=s?of(t):t,this.pattern=t,this.query=bB(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r,ignoreDiacritics:i}=this.options;t=r?t:t.toLowerCase(),t=i?of(t):t;let l=0,o=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];o.length=0,l=0;for(let m=0,h=f.length;m<h;m+=1){const p=f[m],{isMatch:y,indices:w,score:v}=p.search(t);if(y){if(l+=1,c+=v,s){const x=p.constructor.type;wB.has(x)?o=[...o,...w]:o.push(w)}}else{c=0,l=0,o.length=0;break}}if(l){let m={isMatch:!0,score:c/l};return s&&(m.indices=o),m}}return{isMatch:!1,score:1}}}const Jg=[];function NB(...e){Jg.push(...e)}function ep(e,t){for(let n=0,s=Jg.length;n<s;n+=1){let r=Jg[n];if(r.condition(e,t))return new r(e,t)}return new Lk(e,t)}const cf={AND:"$and",OR:"$or"},tp={PATH:"$path",PATTERN:"$val"},np=e=>!!(e[cf.AND]||e[cf.OR]),SB=e=>!!e[tp.PATH],kB=e=>!Tr(e)&&Mk(e)&&!np(e),wb=e=>({[cf.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Ok(e,t,{auto:n=!0}={}){const s=r=>{let i=Object.keys(r);const l=SB(r);if(!l&&i.length>1&&!np(r))return s(wb(r));if(kB(r)){const c=l?r[tp.PATH]:i[0],u=l?r[tp.PATTERN]:r[c];if(!zs(u))throw new Error(W8(c));const d={keyId:Qg(c),pattern:u};return n&&(d.searcher=ep(u,t)),d}let o={children:[],operator:i[0]};return i.forEach(c=>{const u=r[c];Tr(u)&&u.forEach(d=>{o.children.push(s(d))})}),o};return np(e)||(e=wb(e)),s(e)}function CB(e,{ignoreFieldNorm:t=ge.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:r,norm:i,score:l})=>{const o=r?r.weight:null;s*=Math.pow(l===0&&o?Number.EPSILON:l,(o||1)*(t?1:i))}),n.score=s})}function EB(e,t){const n=e.matches;t.matches=[],Cn(n)&&n.forEach(s=>{if(!Cn(s.indices)||!s.indices.length)return;const{indices:r,value:i}=s;let l={indices:r,value:i};s.key&&(l.key=s.key.src),s.idx>-1&&(l.refIndex=s.idx),t.matches.push(l)})}function TB(e,t){t.score=e.score}function _B(e,t,{includeMatches:n=ge.includeMatches,includeScore:s=ge.includeScore}={}){const r=[];return n&&r.push(EB),s&&r.push(TB),e.map(i=>{const{idx:l}=i,o={item:t[l],refIndex:l};return r.length&&r.forEach(c=>{c(i,o)}),o})}class tn{constructor(t,n={},s){this.options={...ge,...n},this.options.useExtendedSearch,this._keyStore=new eB(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof C0))throw new Error(X8);this._myIndex=n||zk(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Cn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,r=this._docs.length;s<r;s+=1){const i=this._docs[s];t(i,s)&&(this.removeAt(s),s-=1,r-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:i,sortFn:l,ignoreFieldNorm:o}=this.options;let c=zs(t)?zs(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return CB(c,{ignoreFieldNorm:o}),i&&c.sort(l),Ak(n)&&n>-1&&(c=c.slice(0,n)),_B(c,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(t){const n=ep(t,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:i,i:l,n:o})=>{if(!Cn(i))return;const{isMatch:c,score:u,indices:d}=n.searchIn(i);c&&r.push({item:i,idx:l,matches:[{score:u,value:i,norm:o,indices:d}]})}),r}_searchLogical(t){const n=Ok(t,this.options),s=(o,c,u)=>{if(!o.children){const{keyId:f,searcher:m}=o,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:m});return h&&h.length?[{idx:u,item:c,matches:h}]:[]}const d=[];for(let f=0,m=o.children.length;f<m;f+=1){const h=o.children[f],p=s(h,c,u);if(p.length)d.push(...p);else if(o.operator===cf.AND)return[]}return d},r=this._myIndex.records,i={},l=[];return r.forEach(({$:o,i:c})=>{if(Cn(o)){let u=s(n,o,c);u.length&&(i[c]||(i[c]={idx:c,item:o,matches:[]},l.push(i[c])),u.forEach(({matches:d})=>{i[c].matches.push(...d)}))}}),l}_searchObjectList(t){const n=ep(t,this.options),{keys:s,records:r}=this._myIndex,i=[];return r.forEach(({$:l,i:o})=>{if(!Cn(l))return;let c=[];s.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:l[d],searcher:n}))}),c.length&&i.push({idx:o,item:l,matches:c})}),i}_findMatches({key:t,value:n,searcher:s}){if(!Cn(n))return[];let r=[];if(Tr(n))n.forEach(({v:i,i:l,n:o})=>{if(!Cn(i))return;const{isMatch:c,score:u,indices:d}=s.searchIn(i);c&&r.push({score:u,key:t,value:i,idx:l,norm:o,indices:d})});else{const{v:i,n:l}=n,{isMatch:o,score:c,indices:u}=s.searchIn(i);o&&r.push({score:c,key:t,value:i,norm:l,indices:u})}return r}}tn.version="7.1.0";tn.createIndex=zk;tn.parseIndex=oB;tn.config=ge;tn.parseQuery=Ok;NB(jB);function Bk(e,t){const n=g.useMemo(()=>e.map(o=>{var c,u;return{id:o.name.toLowerCase().replace(/\s+/g,"-"),name:o.name,description:o.description,group:o.group,statModifications:o.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:o.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:o.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=o.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=o.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:o}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new tn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(o=>({item:o,score:0,matches:[]})),[r,t]);return{filteredBirthsigns:g.useMemo(()=>i.map(o=>o.item.originalBirthsign),[i]),searchResults:i,searchableBirthsigns:n}}function jb({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:s=""}){const[r,i]=g.useState(""),{filteredBirthsigns:l}=Bk(e,r),o=g.useMemo(()=>l.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.group,icon:a.jsx(k0,{birthsignName:d.name,size:"md"}),badge:d.group&&a.jsx(q,{variant:"outline",className:I("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.group}),metadata:{originalBirthsign:d}})),[l]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>a.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&a.jsx("div",{className:"flex-shrink-0",children:d.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:d.label}),d.badge&&a.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&a.jsx(Re,{text:d.description,className:"text-sm text-muted-foreground line-clamp-2 mt-1"})]})]});return a.jsx(mu,{options:o,onSelect:c,placeholder:n,className:s,renderOption:u,emptyMessage:"No birthsigns found",searchQuery:r,onSearchQueryChange:i})}function uf({item:e,originalBirthsign:t,isExpanded:n=!1,onToggle:s,onClick:r,className:i,showViewAllButton:l=!1,showToggle:o=!0,viewAllButtonText:c="View All",viewAllButtonRoute:u="/birthsigns"}){var C,S,E;const d=ut(),f=()=>{d(u)},m=k=>{k.target.closest("[data-no-click]")||r==null||r()},h=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Birthsign";e!=null&&e.description||t!=null&&t.description;const p=(e==null?void 0:e.category)||(t==null?void 0:t.group)||"";e!=null&&e.effects;const y=(e==null?void 0:e.summary)||(t==null?void 0:t.description)||"",w=()=>{if(!(t!=null&&t.stat_modifications))return{health:0,magicka:0,stamina:0};const k={health:0,magicka:0,stamina:0};return t.stat_modifications.forEach(T=>{const D=T.type==="bonus"?T.value:-T.value;T.stat.toLowerCase().includes("health")?k.health+=D:T.stat.toLowerCase().includes("magicka")?k.magicka+=D:T.stat.toLowerCase().includes("stamina")&&(k.stamina+=D)}),k},v=()=>{if(!t)return[];const k=[];return t.powers&&k.push(...t.powers.map(T=>({name:T.name,type:"power"}))),t.conditional_effects&&k.push(...t.conditional_effects.map(T=>({name:T.stat,type:"conditional"}))),t.mastery_effects&&k.push(...t.mastery_effects.map(T=>({name:T.stat,type:"mastery"}))),k},x=k=>{const T=P8(k);return`${T.background} ${T.text} ${T.border}`},b=k=>{switch(k){case"health":return"bg-red-200 text-red-800 border-red-300";case"magicka":return"bg-blue-200 text-blue-800 border-blue-300";case"stamina":return"bg-green-200 text-green-800 border-green-300";default:return"bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30"}},j=w(),N=v();return a.jsxs("div",{className:I("rounded-lg border bg-background shadow-sm transition-all h-full flex flex-col",r&&"cursor-pointer hover:shadow-md hover:bg-accent/50 hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",i),onClick:r?m:void 0,children:[a.jsxs("div",{className:"flex items-start justify-between p-4 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(k0,{birthsignName:h,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ne,{className:"text-primary font-semibold",children:h}),a.jsxs("div",{className:"flex items-center gap-2",children:[p&&a.jsx("div",{className:`inline-flex items-center justify-center px-2 py-1 border rounded-full text-xs font-medium w-16 ${x(p)}`,children:p}),(j.health!==0||j.magicka!==0||j.stamina!==0)&&a.jsxs("div",{className:"flex gap-1",children:[j.health!==0&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 border rounded-full text-xs font-medium ${b("health")}`,children:[a.jsx(qs,{className:"h-3 w-3"}),a.jsxs("span",{children:[j.health>0?"+":"",j.health]})]}),j.magicka!==0&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 border rounded-full text-xs font-medium ${b("magicka")}`,children:[a.jsx(gn,{className:"h-3 w-3"}),a.jsxs("span",{children:[j.magicka>0?"+":"",j.magicka]})]}),j.stamina!==0&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 border rounded-full text-xs font-medium ${b("stamina")}`,children:[a.jsx(nt,{className:"h-3 w-3"}),a.jsxs("span",{children:[j.stamina>0?"+":"",j.stamina]})]})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[N.length>0&&a.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ge,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{children:[N.length," effects"]})]})}),l&&a.jsxs(V,{variant:"outline",size:"sm",onClick:f,className:"text-xs","data-no-click":!0,children:[a.jsx(Aa,{className:"h-3 w-3 mr-1"}),c]}),o&&a.jsx("div",{"data-no-click":!0,children:a.jsx(ts,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"stone",itemName:h})})]})]}),a.jsxs("div",{className:"flex-1 px-4 pb-4 min-h-0",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{children:a.jsx(Re,{text:y})}),t&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(C=t.powers)==null?void 0:C.slice(0,3).map((k,T)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(Ge,{className:"h-3 w-3"}),k.name]},T)),(S=t.conditional_effects)==null?void 0:S.slice(0,3).map((k,T)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-purple-200 text-purple-800 border border-purple-300 rounded-full text-xs font-medium",children:[a.jsx(nt,{className:"h-3 w-3"}),k.stat]},`conditional-${T}`)),(E=t.mastery_effects)==null?void 0:E.slice(0,3).map((k,T)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-200 text-blue-800 border border-blue-300 rounded-full text-xs font-medium",children:[a.jsx(Ge,{className:"h-3 w-3"}),k.stat]},`mastery-${T}`))]})]}),n&&t&&a.jsxs("div",{className:"space-y-4 mt-4",children:[t.stat_modifications&&t.stat_modifications.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(mn,{className:"text-lg font-medium text-foreground",children:"Stat Modifications"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.stat_modifications.map((k,T)=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:k.stat}),a.jsxs("span",{className:I("font-bold",k.type==="bonus"?"text-green-600":"text-red-600"),children:[k.type==="bonus"?"+":"-",k.value,k.value_type==="percentage"?"%":""]})]},T))})]}),t.skill_bonuses&&t.skill_bonuses.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(mn,{className:"text-lg font-medium text-foreground",children:"Skill Bonuses"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.skill_bonuses.map((k,T)=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:k.stat}),a.jsxs("span",{className:"font-bold text-green-600",children:["+",k.value,k.value_type==="percentage"?"%":""]})]},T))})]}),t.powers&&t.powers.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(mn,{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[a.jsx(gn,{className:"h-4 w-4 text-yellow-500"}),"Powers"]}),a.jsx("div",{className:"space-y-2",children:t.powers.map((k,T)=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ge,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:k.name})]}),a.jsx(Re,{text:k.description}),(k.magnitude||k.duration)&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mt-2",children:[k.magnitude&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Magnitude:"})," ",k.magnitude]}),k.duration&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",k.duration,"s"]})]})]},T))})]}),t.conditional_effects&&t.conditional_effects.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(mn,{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[a.jsx(nt,{className:"h-4 w-4 text-purple-500"}),"Conditional Effects"]}),a.jsx("div",{className:"space-y-2",children:t.conditional_effects.map((k,T)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:"font-medium text-sm capitalize",children:k.stat})}),a.jsx(Re,{text:k.description}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Condition:"})," ",k.condition]})]},T))})]}),t.mastery_effects&&t.mastery_effects.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(mn,{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[a.jsx(Ge,{className:"h-4 w-4 text-blue-500"}),"Mastery Effects"]}),a.jsx("div",{className:"space-y-2",children:t.mastery_effects.map((k,T)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ge,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),a.jsx("div",{className:"text-sm font-medium capitalize",children:k.stat}),a.jsx(Re,{text:k.description}),k.condition&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Requirement:"})," ",k.condition]})]},T))})]})]})]})]})}function AB(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function MB(e){const t=e.flatMap(n=>[...n.stat_modifications.map(s=>s.stat),...n.skill_bonuses.map(s=>s.stat)]);return[...new Set(t)].sort()}var RB="Separator",Nb="horizontal",DB=["horizontal","vertical"],Ik=g.forwardRef((e,t)=>{const{decorative:n,orientation:s=Nb,...r}=e,i=zB(s)?s:Nb,o=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(je.div,{"data-orientation":i,...o,...r,ref:t})});Ik.displayName=RB;function zB(e){return DB.includes(e)}var LB=Ik;function Ka({className:e,orientation:t="horizontal",decorative:n=!0,...s}){return a.jsx(LB,{"data-slot":"separator",decorative:n,orientation:t,className:I("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}function $B({birthsign:e,title:t,maxDisplay:n,compact:s=!1,className:r}){var c,u,d,f;if(!e)return null;const i=e.powers.length>0,l=((c=e.conditional_effects)==null?void 0:c.length)>0,o=((u=e.mastery_effects)==null?void 0:u.length)>0;if(!i&&!l&&!o)return null;if(s){const m=[...e.powers.map(p=>({type:"power",data:p})),...((d=e.conditional_effects)==null?void 0:d.map(p=>({type:"conditional",data:p})))||[],...((f=e.mastery_effects)==null?void 0:f.map(p=>({type:"mastery",data:p})))||[]],h=n?m.slice(0,n):m;return a.jsxs("div",{className:I("flex flex-wrap gap-2",r),children:[h.map((p,y)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(Ge,{className:"h-3 w-3"}),p.data.name||p.data.stat]},y)),n&&m.length>n&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted text-muted-foreground border rounded-full text-xs font-medium",children:["+",m.length-n," more"]})]})}return a.jsxs(de,{className:I("border-muted/50",r),children:[t&&a.jsx(Se,{className:"pb-3",children:a.jsx(Me,{className:"text-base",children:t})}),a.jsxs(me,{className:"space-y-4",children:[i&&a.jsxs("div",{children:[a.jsxs(ma,{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(gn,{className:"h-4 w-4 text-yellow-500"}),"Powers"]}),a.jsx("div",{className:"space-y-2",children:e.powers.map((m,h)=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ge,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:m.name})]}),a.jsx("div",{className:"border-t border-border my-2"}),a.jsx(Re,{text:m.description}),(m.magnitude||m.duration)&&a.jsxs("div",{className:"space-y-2 text-sm mt-2",children:[m.magnitude&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium min-w-[80px]",children:"Magnitude:"}),a.jsx("span",{children:m.magnitude})]}),m.duration&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium min-w-[80px]",children:"Duration:"}),a.jsxs("span",{children:[m.duration,"s"]})]})]})]},h))})]}),l&&a.jsxs("div",{children:[a.jsxs(ma,{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(nt,{className:"h-4 w-4 text-purple-500"}),"Conditional Effects"]}),a.jsx("div",{className:"space-y-2",children:e.conditional_effects.map((m,h)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(q,{variant:"outline",className:"text-xs bg-purple-200 text-purple-800 border-purple-300",children:"Conditional"}),a.jsx("span",{className:"font-medium text-sm capitalize",children:m.stat})]}),a.jsx(Re,{text:m.description}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Condition:"})," ",m.condition]})]},h))})]}),o&&a.jsxs("div",{children:[a.jsxs(ma,{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(Ge,{className:"h-4 w-4 text-blue-500"}),"Mastery Effects"]}),a.jsx("div",{className:"space-y-2",children:e.mastery_effects.map((m,h)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ge,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),a.jsx("div",{className:"border-t border-border my-2"}),a.jsx("div",{className:"text-sm font-medium capitalize",children:m.stat}),a.jsx(Re,{text:m.description}),m.condition&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Requirement:"})," ",m.condition]})]},h))})]})]})]})}function PB({birthsign:e,title:t="Stat Modifications",className:n}){const s=e.stat_modifications.length>0,r=e.skill_bonuses.length>0;return!s&&!r?null:a.jsxs(de,{className:I("border-muted/50",n),children:[a.jsx(Se,{className:"pb-3",children:a.jsx(Me,{className:"text-base",children:t})}),a.jsxs(me,{className:"space-y-4",children:[s&&a.jsxs("div",{children:[a.jsx(ma,{className:"text-sm font-medium mb-2",children:"Attributes"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.stat_modifications.map((i,l)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize flex-1 min-w-0 mr-3",children:i.stat.replace(/_/g," ")}),a.jsxs(q,{variant:"outline",className:I("text-xs flex-shrink-0",i.type==="bonus"?"bg-green-200 text-green-800 border-green-300":"bg-red-200 text-red-800 border-red-300"),children:[i.type==="bonus"?"+":"-",i.value,i.value_type==="percentage"?"%":""]})]},l))})]}),r&&a.jsxs("div",{children:[a.jsx(ma,{className:"text-sm font-medium mb-2",children:"Skill Bonuses"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.skill_bonuses.map((i,l)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize flex-1 min-w-0 mr-3",children:i.stat.replace(/_/g," ")}),a.jsxs(q,{variant:"outline",className:"bg-blue-200 text-blue-800 border-blue-300 text-xs flex-shrink-0",children:["+",i.value,i.value_type==="percentage"?"%":""]})]},l))})]})]})]})}function OB({birthsign:e,isOpen:t,onOpenChange:n}){return e?a.jsx(Ii,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(k0,{birthsignName:e.name,size:"4xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(aa,{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"inline-flex items-center px-2 py-1 bg-skyrim-gold/10 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:e.group}),a.jsx(ts,{itemId:e.edid,itemType:"stone",itemName:e.name})]}),a.jsx(Re,{text:e.description})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(PB,{birthsign:e}),a.jsx(Ka,{}),a.jsx($B,{birthsign:e,title:"Special Effects"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ne,{className:"text-lg font-semibold",children:"Game Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"EDID:"}),a.jsx("span",{className:"break-all",children:e.edid})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Form ID:"}),a.jsx("span",{className:"break-all",children:e.formid})]})]})]})]})]})}):null}var Nm="Collapsible",[BB,Fk]=Pn(Nm),[IB,E0]=BB(Nm),Hk=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:i,onOpenChange:l,...o}=e,[c,u]=$r({prop:s,defaultProp:r??!1,onChange:l,caller:Nm});return a.jsx(IB,{scope:n,disabled:i,contentId:br(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:a.jsx(je.div,{"data-state":_0(c),"data-disabled":i?"":void 0,...o,ref:t})})});Hk.displayName=Nm;var Uk="CollapsibleTrigger",Vk=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,r=E0(Uk,n);return a.jsx(je.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":_0(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:t,onClick:se(e.onClick,r.onOpenToggle)})});Vk.displayName=Uk;var T0="CollapsibleContent",qk=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=E0(T0,e.__scopeCollapsible);return a.jsx(Kt,{present:n||r.open,children:({present:i})=>a.jsx(FB,{...s,ref:t,present:i})})});qk.displayName=T0;var FB=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:r,...i}=e,l=E0(T0,n),[o,c]=g.useState(s),u=g.useRef(null),d=Ie(t,u),f=g.useRef(0),m=f.current,h=g.useRef(0),p=h.current,y=l.open||o,w=g.useRef(y),v=g.useRef(void 0);return g.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),Us(()=>{const x=u.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();f.current=b.height,h.current=b.width,w.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),c(s)}},[l.open,s]),a.jsx(je.div,{"data-state":_0(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!y,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:y&&r})});function _0(e){return e?"open":"closed"}var HB=Hk,UB=Vk,VB=qk,xs="Accordion",qB=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[A0,ZB,GB]=Jx(xs),[Sm,Jte]=Pn(xs,[GB,Fk]),M0=Fk(),Zk=L.forwardRef((e,t)=>{const{type:n,...s}=e,r=s,i=s;return a.jsx(A0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?a.jsx(QB,{...i,ref:t}):a.jsx(WB,{...r,ref:t})})});Zk.displayName=xs;var[Gk,YB]=Sm(xs),[Yk,XB]=Sm(xs,{collapsible:!1}),WB=L.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:i=!1,...l}=e,[o,c]=$r({prop:n,defaultProp:s??"",onChange:r,caller:xs});return a.jsx(Gk,{scope:e.__scopeAccordion,value:L.useMemo(()=>o?[o]:[],[o]),onItemOpen:c,onItemClose:L.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(Yk,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(Xk,{...l,ref:t})})})}),QB=L.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...i}=e,[l,o]=$r({prop:n,defaultProp:s??[],onChange:r,caller:xs}),c=L.useCallback(d=>o((f=[])=>[...f,d]),[o]),u=L.useCallback(d=>o((f=[])=>f.filter(m=>m!==d)),[o]);return a.jsx(Gk,{scope:e.__scopeAccordion,value:l,onItemOpen:c,onItemClose:u,children:a.jsx(Yk,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(Xk,{...i,ref:t})})})}),[KB,km]=Sm(xs),Xk=L.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:r,orientation:i="vertical",...l}=e,o=L.useRef(null),c=Ie(o,t),u=ZB(n),f=ou(r)==="ltr",m=se(e.onKeyDown,h=>{var E;if(!qB.includes(h.key))return;const p=h.target,y=u().filter(k=>{var T;return!((T=k.ref.current)!=null&&T.disabled)}),w=y.findIndex(k=>k.ref.current===p),v=y.length;if(w===-1)return;h.preventDefault();let x=w;const b=0,j=v-1,N=()=>{x=w+1,x>j&&(x=b)},C=()=>{x=w-1,x<b&&(x=j)};switch(h.key){case"Home":x=b;break;case"End":x=j;break;case"ArrowRight":i==="horizontal"&&(f?N():C());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?C():N());break;case"ArrowUp":i==="vertical"&&C();break}const S=x%v;(E=y[S].ref.current)==null||E.focus()});return a.jsx(KB,{scope:n,disabled:s,direction:r,orientation:i,children:a.jsx(A0.Slot,{scope:n,children:a.jsx(je.div,{...l,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),df="AccordionItem",[JB,R0]=Sm(df),Wk=L.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...r}=e,i=km(df,n),l=YB(df,n),o=M0(n),c=br(),u=s&&l.value.includes(s)||!1,d=i.disabled||e.disabled;return a.jsx(JB,{scope:n,open:u,disabled:d,triggerId:c,children:a.jsx(HB,{"data-orientation":i.orientation,"data-state":nC(u),...o,...r,ref:t,disabled:d,open:u,onOpenChange:f=>{f?l.onItemOpen(s):l.onItemClose(s)}})})});Wk.displayName=df;var Qk="AccordionHeader",Kk=L.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=km(xs,n),i=R0(Qk,n);return a.jsx(je.h3,{"data-orientation":r.orientation,"data-state":nC(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});Kk.displayName=Qk;var sp="AccordionTrigger",Jk=L.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=km(xs,n),i=R0(sp,n),l=XB(sp,n),o=M0(n);return a.jsx(A0.ItemSlot,{scope:n,children:a.jsx(UB,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":r.orientation,id:i.triggerId,...o,...s,ref:t})})});Jk.displayName=sp;var eC="AccordionContent",tC=L.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=km(xs,n),i=R0(eC,n),l=M0(n);return a.jsx(VB,{role:"region","aria-labelledby":i.triggerId,"data-orientation":r.orientation,...l,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});tC.displayName=eC;function nC(e){return e?"open":"closed"}var eI=Zk,tI=Wk,nI=Kk,sC=Jk,rC=tC;const sI=eI,aC=g.forwardRef(({className:e,...t},n)=>a.jsx(tI,{ref:n,className:I("border-b",e),...t}));aC.displayName="AccordionItem";const iC=g.forwardRef(({className:e,children:t,...n},s)=>a.jsx(nI,{className:"flex",children:a.jsxs(sC,{ref:s,className:I("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(Pt,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));iC.displayName=sC.displayName;const lC=g.forwardRef(({className:e,children:t,...n},s)=>a.jsx(rC,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:I("pb-4 pt-0",e),children:t})}));lC.displayName=rC.displayName;var rI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aI="VisuallyHidden",oC=g.forwardRef((e,t)=>a.jsx(je.span,{...e,ref:t,style:{...rI,...e.style}}));oC.displayName=aI;var iI=oC,[Cm,ene]=Pn("Tooltip",[Eo]),D0=Eo(),lI="TooltipProvider",Sb="tooltip.open",[tne,cC]=Cm(lI),uC="Tooltip",[nne,Em]=Cm(uC),rp="TooltipTrigger",oI=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Em(rp,n),i=cC(rp,n),l=D0(n),o=g.useRef(null),c=Ie(t,o,r.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(u0,{asChild:!0,...l,children:a.jsx(je.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:se(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:se(e.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:se(e.onBlur,r.onClose),onClick:se(e.onClick,r.onClose)})})});oI.displayName=rp;var cI="TooltipPortal",[sne,uI]=Cm(cI,{forceMount:void 0}),Xl="TooltipContent",dC=g.forwardRef((e,t)=>{const n=uI(Xl,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=e,l=Em(Xl,e.__scopeTooltip);return a.jsx(Kt,{present:s||l.open,children:l.disableHoverableContent?a.jsx(fC,{side:r,...i,ref:t}):a.jsx(dI,{side:r,...i,ref:t})})}),dI=g.forwardRef((e,t)=>{const n=Em(Xl,e.__scopeTooltip),s=cC(Xl,e.__scopeTooltip),r=g.useRef(null),i=Ie(t,r),[l,o]=g.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:f}=s,m=g.useCallback(()=>{o(null),f(!1)},[f]),h=g.useCallback((p,y)=>{const w=p.currentTarget,v={x:p.clientX,y:p.clientY},x=pI(v,w.getBoundingClientRect()),b=xI(v,x),j=vI(y.getBoundingClientRect()),N=bI([...b,...j]);o(N),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&d){const p=w=>h(w,d),y=w=>h(w,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",y)}}},[c,d,h,m]),g.useEffect(()=>{if(l){const p=y=>{const w=y.target,v={x:y.clientX,y:y.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!yI(v,l);x?m():b&&(m(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,l,u,m]),a.jsx(fC,{...e,ref:i})}),[fI,mI]=Cm(uC,{isInside:!1}),hI=F5("TooltipContent"),fC=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:l,...o}=e,c=Em(Xl,n),u=D0(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(Sb,d),()=>document.removeEventListener(Sb,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(d0,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(hI,{children:s}),a.jsx(fI,{scope:n,isInside:!0,children:a.jsx(iI,{id:c.contentId,role:"tooltip",children:r||s})})]})})});dC.displayName=Xl;var mC="TooltipArrow",gI=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=D0(n);return mI(mC,n).isInside?null:a.jsx(f0,{...r,...s,ref:t})});gI.displayName=mC;function pI(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function xI(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function vI(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function yI(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const o=t[i],c=t[l],u=o.x,d=o.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function bI(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),wI(t)}function wI(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var hC=dC;const jI=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(hC,{ref:s,sideOffset:t,className:I("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));jI.displayName=hC.displayName;function Yn({title:e,navigateTo:t,onNavigate:n,children:s,className:r,showHeaderButton:i=!0}){return a.jsxs(de,{className:r,children:[a.jsx(Se,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Me,{className:"text-lg",children:e}),i&&a.jsxs(V,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," "]})]})}),a.jsx(me,{className:"space-y-4",children:s})]})}function gC(e){var t,n,s,r,i,l;return{id:`religion-${e.name.toLowerCase().replace(/\s+/g,"-")}`,name:e.name,description:((t=e.tenet)==null?void 0:t.description)||"",tags:ds()?e.favoredRaces||[]:[],summary:((n=e.tenet)==null?void 0:n.description)||"",effects:[...((r=(s=e.tenet)==null?void 0:s.effects)==null?void 0:r.map(o=>({type:"positive",name:o.effectName,description:o.effectDescription,value:o.magnitude,target:o.targetAttribute||""})))||[],...((l=(i=e.blessing)==null?void 0:i.effects)==null?void 0:l.map(o=>({type:"positive",name:o.effectName,description:o.effectDescription,value:o.magnitude,target:o.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:e.type}}function kb(e){var t;return{...e,id:e.edid||e.name,name:e.name,description:e.description,tags:e.tags||[],summary:e.description,effects:[...((t=e.effects)==null?void 0:t.map(n=>({type:"positive",name:n.type,description:n.condition||n.type,value:n.value})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalTrait:e}}function pC(e){var s,r,i,l,o,c,u,d;const t=[...((s=e.stat_modifications)==null?void 0:s.map(f=>({type:f.type==="bonus"?"positive":"negative",name:`${f.stat} ${f.type==="bonus"?"+":"-"}${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} ${f.type==="bonus"?"increased":"decreased"} by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((r=e.skill_bonuses)==null?void 0:r.map(f=>({type:"positive",name:`${f.stat} +${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} skill increased by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((i=e.powers)==null?void 0:i.map(f=>({type:"positive",name:f.name,description:f.description,value:f.magnitude||0,target:"power"})))||[],...((l=e.conditional_effects)==null?void 0:l.map(f=>({type:"neutral",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[],...((o=e.mastery_effects)==null?void 0:o.map(f=>({type:"positive",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[]],n=[e.group,...((c=e.stat_modifications)==null?void 0:c.map(f=>f.stat))||[],...((u=e.skill_bonuses)==null?void 0:u.map(f=>f.stat))||[],...((d=e.powers)==null?void 0:d.map(f=>f.name))||[]].filter((f,m,h)=>h.indexOf(f)===m);return{...e,id:e.id||e.edid,name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.group,originalBirthsign:e}}function NI(e){var s;const t=[{type:"positive",name:e.name,description:e.description||"",value:0,target:"destiny"}],n=[...e.tags||[],...((s=e.prerequisites)==null?void 0:s.map(r=>`Requires: ${r}`))||[]].filter((r,i,l)=>l.indexOf(r)===i);return{...e,id:e.id||e.edid,name:e.name,description:e.description||"",tags:n,summary:e.description||"",effects:t,associatedItems:[],imageUrl:e.icon,category:"Destiny",originalDestinyNode:e}}function SI(){const{data:e,loading:t,error:n,load:s}=Ri();return{birthsigns:e,loading:t,error:n,refetch:s}}function xC({className:e}){const{birthsigns:t}=SI(),{build:n,setStone:s}=pt(),r=ut(),i=n.stone?t.find(u=>u.edid===n.stone):null,l=u=>{s(u.edid)},o=()=>{r("/birth-signs")};if(!i)return a.jsxs(Yn,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:o,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),a.jsx(jb,{birthsigns:t,onSelect:l,placeholder:"Search for a birthsign...",className:"w-full"})]});const c=pC(i);return a.jsxs(Yn,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:o,className:e,children:[a.jsx(jb,{birthsigns:t,onSelect:l,placeholder:`Birth Sign: Select a birthsign (${i.name})`,className:"w-full"}),a.jsx(uf,{item:c,originalBirthsign:i,isExpanded:!0,className:"border-0 shadow-none",showToggle:!1})]})}const kI={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function CI(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function EI(e){const[t,n]=g.useReducer(CI,kI),s=g.useMemo(()=>{const w=AB(e),v=MB(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:w.map(x=>({id:`group-${x}`,label:x,value:x,category:"Birthsign Groups",description:`Birthsigns from ${x} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:v.map(x=>({id:`stat-${x}`,label:x.replace(/_/g," ").replace(/\b\w/g,b=>b.toUpperCase()),value:x,category:"Stats & Skills",description:`Birthsigns that affect ${x}`}))}]},[e]),r=g.useMemo(()=>t.selectedTags.length===0?e:e.filter(w=>t.selectedTags.every(v=>{switch(v.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return w.group===v.value;case"Stats & Skills":return[...w.stat_modifications.map(b=>b.stat),...w.skill_bonuses.map(b=>b.stat)].some(b=>b===v.value);default:return!0}})),[e,t.selectedTags]),i=g.useMemo(()=>t.selectedTags.filter(w=>w.category==="Fuzzy Search").map(w=>w.value).join(" "),[t.selectedTags]),{filteredBirthsigns:l}=Bk(r,i),o=g.useMemo(()=>l.map(pC),[l]),c=g.useMemo(()=>[...o].sort((w,v)=>{var x,b;switch(t.sortBy){case"alphabetical":return w.name.localeCompare(v.name);case"group":{const j=S=>{switch(S){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},N=j(w.category),C=j(v.category);return N!==C?N-C:w.name.localeCompare(v.name)}case"power-count":{const j=((x=w.effects)==null?void 0:x.filter(C=>C.target==="power").length)||0,N=((b=v.effects)==null?void 0:b.filter(C=>C.target==="power").length)||0;return j!==N?N-j:w.name.localeCompare(v.name)}default:return 0}}),[o,t.sortBy]),u=g.useCallback(w=>{n({type:"ADD_TAG",payload:w})},[]),d=g.useCallback(w=>{n({type:"REMOVE_TAG",payload:w})},[]),f=g.useCallback(w=>{n({type:"SET_SORT",payload:w})},[]),m=g.useCallback(w=>{n({type:"SET_VIEW_MODE",payload:w})},[]),h=g.useCallback(w=>{n({type:"TOGGLE_EXPANDED",payload:w})},[]),p=g.useCallback(w=>{n({type:"EXPAND_ALL",payload:w})},[]),y=g.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:d,setSort:f,setViewMode:m,toggleExpanded:h,expandAll:p,collapseAll:y,searchCategories:s,fuzzySearchQuery:i,filteredBirthsigns:r,displayItems:o,sortedDisplayItems:c}}function TI(){const{data:e,loading:t,error:n}=z8(),s=e||[],{selectedTags:r,sortBy:i,viewMode:l,addTag:o,removeTag:c,setSort:u,setViewMode:d,searchCategories:f,sortedDisplayItems:m}=EI(s),[h,p]=g.useState(null),[y,w]=g.useState(!1),v=x=>{p(x),w(!0)};return t?a.jsx(Qt,{title:"Birthsigns",description:"Choose your birthsign",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("p",{children:"Loading birthsigns..."})})}):n?a.jsx(Qt,{title:"Birthsigns",description:"Choose your birthsign",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("p",{className:"text-red-500",children:["Error loading birthsigns: ",n]})})}):a.jsxs(Qt,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx($a,{categories:f,onSelect:x=>{let b;typeof x=="string"?b={id:`custom-${x}`,label:x,value:x,category:"Fuzzy Search"}:b={id:`${x.category}-${x.id}`,label:x.label,value:x.value,category:x.category},r.some(j=>j.value===b.value&&j.category===b.category)||o(b)},onCustomSearch:x=>{let b;typeof x=="string"?b={id:`custom-${x}`,label:x,value:x,category:"Fuzzy Search"}:b={id:`${x.category}-${x.id}`,label:x.label,value:x.value,category:x.category},r.some(j=>j.value===b.value&&j.category===b.category)||o(b)}})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(V,{variant:l==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(V,{variant:l==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Oi,{children:[a.jsx(Bi,{asChild:!0,children:a.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort:"," ",i==="alphabetical"?"A-Z":i==="group"?"Group":"Power Count",a.jsx(Pt,{className:"h-4 w-4"})]})}),a.jsxs(La,{align:"end",children:[a.jsx(sn,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),a.jsx(sn,{onClick:()=>u("group"),children:"By Group"}),a.jsx(sn,{onClick:()=>u("power-count"),children:"By Power Count"})]})]})})]}),a.jsx("div",{className:"my-4",children:r.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>r.forEach(x=>c(x.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(Xe,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),r.map(x=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>c(x.id),title:"Click to remove",children:[x.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},x.id))]})}),l==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:m.map(x=>{const b=s.find(j=>j.id===x.id||j.edid===x.id);return b?a.jsx(uf,{originalBirthsign:b,className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(b)},x.id):null})}):a.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:m.map(x=>{const b=s.find(j=>j.id===x.id||j.edid===x.id);return b?a.jsx(uf,{originalBirthsign:b,className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(b)},x.id):null})}),m.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}),a.jsx(OB,{birthsign:h,isOpen:y,onOpenChange:w})]})}class Ss{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.description=="string"&&Array.isArray(t.tags)&&Array.isArray(t.prerequisites)}static equals(t,n){return t.id===n.id}static hasTag(t,n){return t.tags.includes(n)}static hasAnyTag(t,n){return n.some(s=>this.hasTag(t,s))}static hasAllTags(t,n){return n.every(s=>this.hasTag(t,s))}static filterByTag(t,n){return t.filter(s=>this.hasTag(s,n))}static filterByAnyTag(t,n){return t.filter(s=>this.hasAnyTag(s,n))}static filterByAllTags(t,n){return t.filter(s=>this.hasAllTags(s,n))}static isRootNode(t){return t.prerequisites.length===0}static getRootNodes(t){return t.filter(n=>this.isRootNode(n))}static isLeafNode(t,n){return!n.some(s=>s.prerequisites.includes(t.edid))}static getLeafNodes(t){return t.filter(n=>this.isLeafNode(n,t))}static getNextNodes(t,n){return n.filter(s=>s.prerequisites.includes(t.edid))}static getPrerequisiteNodes(t,n){return n.filter(s=>t.prerequisites.includes(s.edid))}static search(t,n){const s=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s)||r.description.toLowerCase().includes(s)||r.tags.some(i=>i.toLowerCase().includes(s)))}static sortByName(t){return[...t].sort((n,s)=>n.name.localeCompare(s.name))}static sortByPrerequisites(t){return[...t].sort((n,s)=>n.prerequisites.length-s.prerequisites.length)}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static getUniquePrerequisites(t){const n=t.flatMap(s=>s.prerequisites);return[...new Set(n)].sort()}}function Oa(e={}){const{includePrerequisites:t=!1,includeNextNodes:n=!1,filterByTags:s=[],searchTerm:r="",sortBy:i="name"}=e,{data:l,loading:o,error:c,reload:u}=L8(),d=l||[],f=c,m=g.useMemo(()=>Ss.getRootNodes(d),[d]),h=g.useMemo(()=>[],[d]),p=g.useMemo(()=>Ss.getUniqueTags(d),[d]),y=g.useMemo(()=>{let k=[...d];return s.length>0&&(k=Ss.filterByAnyTag(k,s)),r&&(k=Ss.search(k,r)),i==="name"?k=Ss.sortByName(k):i==="prerequisites"&&(k=Ss.sortByPrerequisites(k)),k},[d,s,r,i]),w=k=>d.find(T=>T.id===k),v=k=>d.find(T=>T.edid===k);return{nodes:d,rootNodes:m,filteredNodes:y,isLoading:o,error:f,categories:h,tags:p,refresh:()=>{u()},getNodeById:w,getNodeByName:k=>d.find(T=>T.name===k),getNodeByEdid:v,getNextNodes:k=>{const T=v(k);return T?Ss.getNextNodes(T,d):[]},getPrerequisiteNodes:k=>{const T=v(k);return T?Ss.getPrerequisiteNodes(T,d):[]},filterByCategory:k=>[],filterByTag:k=>Ss.filterByTag(d,k),searchNodes:k=>Ss.search(d,k)}}function z0(e={}){const{initialPath:t=[],validatePath:n=!0}=e,[s,r]=g.useState(t),{nodes:i,rootNodes:l}=Oa();g.useEffect(()=>{r(t)},[t]);const o=g.useMemo(()=>s.length>0?s[s.length-1]:null,[s]),c=g.useMemo(()=>s.length===0?l:i.filter(b=>b.prerequisites.length===0?!1:b.prerequisites.some(j=>s.some(N=>N.edid===j))),[s,i,l]),u=g.useMemo(()=>o?i.filter(b=>b.prerequisites.includes(o.edid)):l,[o,i,l]),d=g.useMemo(()=>o?i.filter(b=>o.prerequisites.includes(b.edid)):[],[o,i]),{isValidPath:f,pathErrors:m}=g.useMemo(()=>{if(!n||s.length===0)return{isValidPath:!0,pathErrors:[]};const b=[];for(let j=1;j<s.length;j++){const N=s[j],C=s.slice(0,j);!N.prerequisites.some(E=>C.some(k=>k.edid===E))&&N.prerequisites.length>0&&b.push(`${N.name} requires one of: ${N.prerequisites.join(", ")}`)}return{isValidPath:b.length===0,pathErrors:b}},[s,n]),h=g.useCallback(b=>{if(s.length>0){if(s[s.length-1],!b.prerequisites.some(N=>s.some(C=>C.edid===N))&&b.prerequisites.length>0)return!1}else if(b.prerequisites.length>0)return!1;return r(j=>[...j,b]),!0},[s]),p=g.useCallback(b=>{r(j=>j.slice(0,b+1))},[]),y=g.useCallback(b=>{r(b)},[]),w=g.useCallback(()=>{r([])},[]),v=g.useCallback(b=>{r(j=>j.slice(0,b+1))},[]),x=g.useCallback(()=>({startNode:s[0]||null,endNode:s[s.length-1]||null,totalNodes:s.length,pathString:s.map(b=>b.name).join("  ")}),[s]);return{currentPath:s,currentNode:o,availableNodes:c,rootNodes:l,isValidPath:f,pathErrors:m,addNodeToPath:h,removeNodeFromPath:p,setPath:y,clearPath:w,goToPathIndex:v,pathLength:s.length,isPathComplete:u.length===0,nextPossibleNodes:u,prerequisiteNodes:d,getPathSummary:x}}function Tm(e={}){const{fromNode:t,maxDepth:n=10}=e,{nodes:s,rootNodes:r,isLoading:i,error:l}=Oa();return{possiblePaths:g.useMemo(()=>{if(i||l||!s.length)return[];const c=[],u=new Set,d=m=>s.filter(h=>h.prerequisites.includes(m)),f=(m,h=0)=>{if(h>=n)return;const p=m[m.length-1],y=d(p.edid);if(y.length===0){c.push({path:[...m],isComplete:!0,endNode:p});return}y.forEach(w=>{const v=m.map(x=>x.id).join("->")+"->"+w.id;u.has(v)||(u.add(v),f([...m,w],h+1))})};if(t){if(d(t.edid).length===0)return[];f([t])}else r.forEach(m=>{f([m])});return c},[s,r,t,n,i,l]),isLoading:i,error:l}}var Ch,_m="HoverCard",[vC,rne]=Pn(_m,[Eo]),Am=Eo(),[_I,L0]=vC(_m),yC=e=>{const{__scopeHoverCard:t,children:n,open:s,defaultOpen:r,onOpenChange:i,openDelay:l=700,closeDelay:o=300}=e,c=Am(t),u=g.useRef(0),d=g.useRef(0),f=g.useRef(!1),m=g.useRef(!1),[h,p]=$r({prop:s,defaultProp:r??!1,onChange:i,caller:_m}),y=g.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>p(!0),l)},[l,p]),w=g.useCallback(()=>{clearTimeout(u.current),!f.current&&!m.current&&(d.current=window.setTimeout(()=>p(!1),o))},[o,p]),v=g.useCallback(()=>p(!1),[p]);return g.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),a.jsx(_I,{scope:t,open:h,onOpenChange:p,onOpen:y,onClose:w,onDismiss:v,hasSelectionRef:f,isPointerDownOnContentRef:m,children:a.jsx(x2,{...c,children:n})})};yC.displayName=_m;var bC="HoverCardTrigger",wC=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,r=L0(bC,n),i=Am(n);return a.jsx(u0,{asChild:!0,...i,children:a.jsx(je.a,{"data-state":r.open?"open":"closed",...s,ref:t,onPointerEnter:se(e.onPointerEnter,mf(r.onOpen)),onPointerLeave:se(e.onPointerLeave,mf(r.onClose)),onFocus:se(e.onFocus,r.onOpen),onBlur:se(e.onBlur,r.onClose),onTouchStart:se(e.onTouchStart,l=>l.preventDefault())})})});wC.displayName=bC;var AI="HoverCardPortal",[ane,MI]=vC(AI,{forceMount:void 0}),ff="HoverCardContent",jC=g.forwardRef((e,t)=>{const n=MI(ff,e.__scopeHoverCard),{forceMount:s=n.forceMount,...r}=e,i=L0(ff,e.__scopeHoverCard);return a.jsx(Kt,{present:s||i.open,children:a.jsx(RI,{"data-state":i.open?"open":"closed",...r,onPointerEnter:se(e.onPointerEnter,mf(i.onOpen)),onPointerLeave:se(e.onPointerLeave,mf(i.onClose)),ref:t})})});jC.displayName=ff;var RI=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:l,...o}=e,c=L0(ff,n),u=Am(n),d=g.useRef(null),f=Ie(t,d),[m,h]=g.useState(!1);return g.useEffect(()=>{if(m){const p=document.body;return Ch=p.style.userSelect||p.style.webkitUserSelect,p.style.userSelect="none",p.style.webkitUserSelect="none",()=>{p.style.userSelect=Ch,p.style.webkitUserSelect=Ch}}},[m]),g.useEffect(()=>{if(d.current){const p=()=>{h(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var w;((w=document.getSelection())==null?void 0:w.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",p),()=>{document.removeEventListener("pointerup",p),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),g.useEffect(()=>{d.current&&LI(d.current).forEach(y=>y.setAttribute("tabindex","-1"))}),a.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:l,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:se(i,p=>{p.preventDefault()}),onDismiss:c.onDismiss,children:a.jsx(d0,{...u,...o,onPointerDown:se(o.onPointerDown,p=>{p.currentTarget.contains(p.target)&&h(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...o.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),DI="HoverCardArrow",zI=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,r=Am(n);return a.jsx(f0,{...r,...s,ref:t})});zI.displayName=DI;function mf(e){return t=>t.pointerType==="touch"?void 0:e()}function LI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var $I=yC,PI=wC,NC=jC;const SC=$I,kC=PI,$0=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},r)=>a.jsx(NC,{ref:r,align:t,sideOffset:n,className:I("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:qt.TOOLTIP},...s}));$0.displayName=NC.displayName;function OI({node:e,allNodes:t,children:n,showPrerequisites:s=!0,showNextNodes:r=!0,showTags:i=!0,className:l=""}){const o=u=>t.filter(d=>d.prerequisites.includes(u)),c=u=>t.filter(d=>e.prerequisites.includes(d.name));return a.jsxs(SC,{children:[a.jsx(kC,{asChild:!0,children:n}),a.jsx($0,{className:`w-80 p-0 ${l}`,children:a.jsxs(de,{className:"border-0 shadow-none",children:[a.jsx(Se,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:e.name})}),e.icon&&a.jsx("div",{className:"w-8 h-8 ml-2",children:a.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-contain"})})]})}),a.jsxs(me,{className:"pt-0 space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),s&&e.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[c(e.name).map(u=>a.jsx(q,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:u.name},u.id)),e.prerequisites.filter(u=>!t.some(d=>d.name===u)).map((u,d)=>a.jsx(q,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500 border-gray-200",children:u},`missing-${d}`))]})]}),r&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Leads to:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[o(e.name).map(u=>a.jsx(q,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:u.name},u.id)),o(e.name).length===0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"No further progression"})]})]}),i&&e.tags.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((u,d)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:u},d))})]}),a.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[a.jsxs("p",{children:["ID: ",e.id]}),e.globalFormId&&a.jsxs("p",{children:["Form ID: ",e.globalFormId]})]})]})]})})]})}function CC({node:e,allNodes:t,variant:n="default",size:s="md",showHoverCard:r=!0,onClick:i,className:l=""}){const o={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},c=a.jsx(q,{variant:n,className:`
        ${o[s]} 
        ${i?"cursor-pointer hover:bg-muted/50":""} 
        ${l}
        rounded-full
      `,onClick:i,children:e.name});return r?a.jsx(OI,{node:e,allNodes:t,children:c}):c}function EC({path:e,allNodes:t,onBreadcrumbClick:n,variant:s="default",className:r=""}){if(e.length===0)return a.jsx("div",{className:`flex items-center gap-2 ${r}`,children:a.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})});const i=s==="compact"?"sm":"md";return a.jsx("div",{className:`flex items-center gap-2 ${r}`,children:e.map((l,o)=>a.jsxs(L.Fragment,{children:[a.jsx(CC,{node:l,allNodes:t,variant:o===e.length-1?"default":"outline",size:i,showHoverCard:!0,onClick:n?()=>n(o):void 0}),o<e.length-1&&a.jsx(xo,{className:"w-4 h-4 text-muted-foreground"})]},l.id))})}function BI({path:e,allNodes:t,selectedPathLength:n,isComplete:s,endNode:r,onPathClick:i,variant:l="default",className:o=""}){const c=l==="compact"?"sm":"md";return a.jsxs("div",{className:`p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer ${o}`,onClick:()=>i(e,n),children:[a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsx("div",{className:"flex flex-wrap items-center gap-1",children:e.map((u,d)=>a.jsxs(L.Fragment,{children:[a.jsx(CC,{node:u,allNodes:t,variant:"outline",size:c,showHoverCard:!0,onClick:f=>{f==null||f.stopPropagation(),i(e,d)},className:`
                   ${d===0&&n===0?"cursor-pointer":""}
                   ${s&&d===e.length-1?"bg-yellow-600 text-yellow-50 border-yellow-700":""}
                 `}),d<e.length-1&&a.jsx(xo,{className:"w-3 h-3 text-muted-foreground"})]},u.id))})}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Length: ",e.length," steps"]}),s&&a.jsxs("span",{children:[" Ends at: ",r.name]}),e.length>n&&a.jsxs("span",{children:[" ",e.length-n," more choices"]})]})]})}function ap({possiblePaths:e,selectedPathLength:t,onPathClick:n,variant:s="default",className:r=""}){const{nodes:i}=Oa();return e.length===0?a.jsxs("div",{className:`text-center py-8 ${r}`,children:[a.jsx("p",{className:"text-muted-foreground",children:"No possible paths available."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You may have reached the end of available destiny paths."})]}):a.jsx("div",{className:`space-y-3 ${r}`,children:e.map((l,o)=>a.jsx(BI,{path:l.path,allNodes:i,selectedPathLength:t,isComplete:l.isComplete,endNode:l.endNode,onPathClick:n,variant:s},o))})}const TC=({navigate:e})=>{const{build:t,setDestinyPath:n}=pt(),{nodes:s,isLoading:r,error:i}=Oa(),l=L.useMemo(()=>t.destinyPath.map(x=>s.find(b=>b.id===x)).filter(x=>!!x),[t.destinyPath,s]),{isValidPath:o,pathErrors:c,setPath:u,clearPath:d,currentPath:f,currentNode:m}=z0({initialPath:l,validatePath:!0}),{possiblePaths:h}=Tm({fromNode:m||void 0}),p=x=>{const b=x.map(j=>j.id);n(b)},y=(x,b)=>{let j;if(f.length===0)j=x.slice(0,b+1);else{if(b===0)return;const N=x.slice(1,b+1);j=[...f,...N]}u(j),p(j)},w=()=>{d(),n([])},v=x=>{const b=f.slice(0,x+1);u(b),p(b)};return a.jsxs(de,{className:"mb-6",children:[a.jsx(Se,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(Me,{className:"text-lg",children:"Destiny"}),a.jsxs(V,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:[a.jsx(Aa,{className:"w-4 h-4 mr-1"}),"View All"]})]})}),a.jsx(me,{children:r?a.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):i?a.jsx("div",{className:"text-destructive",children:i}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Selected Path"}),a.jsx(EC,{path:f,allNodes:s,variant:"compact",onBreadcrumbClick:v})]}),f.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Path Details (",f.length," nodes)"]}),a.jsxs(V,{variant:"outline",size:"sm",onClick:w,className:"text-xs",children:[a.jsx(Nr,{className:"w-3 h-3 mr-1"}),"Clear Path"]})]}),a.jsx("div",{className:"space-y-2",children:f.map((x,b)=>a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium flex-shrink-0",children:b+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h5",{className:"font-medium text-sm text-foreground",children:x.name}),x.description&&a.jsx(Re,{text:x.description,className:"text-xs text-muted-foreground mt-1",as:"p"})]})]})},x.id))})]}),h.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:f.length===0?"Choose Your Starting Point":"Continue Your Path"}),a.jsx(vi,{className:"h-[400px]",children:a.jsx("div",{className:"p-2",children:a.jsx(ap,{possiblePaths:h,selectedPathLength:f.length,onPathClick:y,variant:"compact"})})})]}),!o&&c.length>0&&a.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Bl,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),a.jsx("ul",{className:"space-y-0.5",children:c.map((x,b)=>a.jsxs("li",{children:[" ",x]},b))})]}),f.length===0&&h.length===0&&a.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[a.jsx("p",{className:"text-sm",children:"No destiny paths available"}),a.jsx(V,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"mt-2",children:"Browse All Destinies"})]})]})})]})};class yt{static getRaceById(t,n){return t.find(s=>s.edid===n)}static getRacesByCategory(t,n){return t.filter(s=>s.category===n)}static getUniqueCategories(t){return[...new Set(t.map(n=>n.category))]}static getUniqueTags(t){const n=t.flatMap(s=>[...s.keywords||[],...s.flags||[]]);return[...new Set(n)]}static filterByCategory(t,n){return n?t.filter(s=>s.category===n):t}static filterByTags(t,n){return n.length===0?t:t.filter(s=>n.some(r=>(s.keywords||[]).includes(r)||(s.flags||[]).includes(r)))}static filterByAnyTag(t,n){return n.length===0?t:t.filter(s=>n.some(r=>(s.keywords||[]).includes(r)||(s.flags||[]).includes(r)))}static search(t,n){if(!n.trim())return t;const s=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s)||(r.description||"").toLowerCase().includes(s)||(r.keywords||[]).some(i=>i.toLowerCase().includes(s))||(r.flags||[]).some(i=>i.toLowerCase().includes(s)))}static sortByName(t){return[...t].sort((n,s)=>n.name.localeCompare(s.name))}static sortByCategory(t){return[...t].sort((n,s)=>{const r=n.category.localeCompare(s.category);return r!==0?r:n.name.localeCompare(s.name)})}static transformToPlayerCreationItem(t){const n=[...t.keywords||[],...t.flags||[],t.category],s=[...(t.skillBonuses||[]).map(r=>({name:`${r.skill} +${r.bonus}`,type:"positive",description:`Provides ${r.bonus} bonus to ${r.skill}`,value:r.bonus,target:r.skill})),...(t.racialSpells||[]).map(r=>({name:r.name,type:"positive",description:r.description,target:"racial ability"}))];return{id:t.edid,name:t.name,description:t.description||"",tags:n,effects:s,associatedItems:[],imageUrl:void 0,category:t.category||""}}static getRelatedRaces(t,n){return n.filter(s=>s.edid!==t.edid&&s.category===t.category)}static calculateRaceStats(t){var n,s,r,i,l,o;return{totalHealth:((n=t.startingStats)==null?void 0:n.health)||0,totalMagicka:((s=t.startingStats)==null?void 0:s.magicka)||0,totalStamina:((r=t.startingStats)==null?void 0:r.stamina)||0,totalCarryWeight:((i=t.startingStats)==null?void 0:i.carryWeight)||0,skillBonusCount:((l=t.skillBonuses)==null?void 0:l.length)||0,racialSpellCount:((o=t.racialSpells)==null?void 0:o.length)||0}}static applyFilters(t,n){let s=[...t];return n.search&&(s=this.search(s,n.search)),n.type&&(s=this.filterByCategory(s,n.type)),n.tags.length>0&&(s=this.filterByTags(s,n.tags)),s}}class II{static enrichRacesWithTags(t){t.forEach(n=>{})}static generateSearchCategories(t){const n=[...new Set(t.map(i=>i.category))],s=[...new Set(t.flatMap(i=>i.keywords.map(l=>l.edid)))],r=[...new Set(t.flatMap(i=>i.flags))];return[{id:"category",name:"Race Type",options:n},{id:"keywords",name:"Keywords",options:s},{id:"flags",name:"Flags",options:r}]}static validateRaceData(t){try{return!(!t.name||!t.edid||!t.category||!t.startingStats||typeof t.startingStats.health!="number"||typeof t.startingStats.magicka!="number"||typeof t.startingStats.stamina!="number"||typeof t.startingStats.carryWeight!="number"||!Array.isArray(t.skillBonuses)||!Array.isArray(t.racialSpells)||!Array.isArray(t.keywords)||!Array.isArray(t.flags))}catch{return!1}}static calculateRaceStats(t){const n=t.startingStats.health,s=t.startingStats.magicka,r=t.startingStats.stamina,i=t.startingStats.carryWeight,l=t.skillBonuses.length,o=t.racialSpells.length;return{totalHealth:n,totalMagicka:s,totalStamina:r,totalCarryWeight:i,skillBonusCount:l,racialSpellCount:o}}static calculatePowerLevel(t){const n=this.calculateRaceStats(t),s=(n.totalHealth+n.totalMagicka+n.totalStamina)/3,r=n.skillBonusCount*5+n.racialSpellCount*10;return Math.round(s+r)}static getDifficultyRating(t){const n=this.calculatePowerLevel(t);return n<50?1:n<70?2:n<90?3:n<110?4:5}static getPlaystyleSuggestions(t){const n=[],s=t.startingStats;return s.health>120&&(n.push("Tank"),n.push("Melee Fighter")),s.magicka>120&&(n.push("Mage"),n.push("Spellcaster")),s.stamina>120&&(n.push("Archer"),n.push("Rogue")),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("onehanded"))&&n.push("One-Handed Warrior"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("destruction"))&&n.push("Destruction Mage"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("sneak"))&&n.push("Stealth"),[...new Set(n)]}static formatRaceDescription(t){const n=this.calculateRaceStats(t),s=this.getPlaystyleSuggestions(t);let r=t.description;return s.length>0&&(r+=`

Recommended playstyles: ${s.join(", ")}`),r+=`

Starting Stats: Health ${n.totalHealth}, Magicka ${n.totalMagicka}, Stamina ${n.totalStamina}`,r+=`
Abilities: ${n.skillBonusCount} skill bonuses, ${n.racialSpellCount} racial spells`,r}}function To(e={}){const{includeRelated:t=!1,categoryFilter:n="",searchTerm:s="",sortBy:r="name"}=e,{data:i,loading:l,error:o}=kr(),c=g.useMemo(()=>yt.getUniqueCategories(i),[i]),u=g.useMemo(()=>yt.getUniqueTags(i),[i]),d=g.useMemo(()=>i.filter(x=>!(n&&x.category!==n||s&&yt.search([x],s).length===0)),[i,n,s]),f=g.useMemo(()=>r==="name"?yt.sortByName(d):yt.sortByCategory(d),[d,r]);return{races:i,filteredRaces:f,isLoading:l,error:o,categories:c,tags:u,refresh:async()=>{await kr.getState().load()},getRaceById:x=>yt.getRaceById(i,x),getRacesByCategory:x=>yt.getRacesByCategory(i,x),filterByCategory:x=>yt.filterByCategory(i,x),filterByTag:x=>yt.filterByTags(i,[x]),searchRaces:x=>yt.search(i,x)}}const FI={Altmer:"altmer.svg",Argonian:"argonian.svg",Bosmer:"woodelf.svg",Breton:"breton.svg",Dunmer:"dunmer.svg",Imperial:"imperial.svg",Khajiit:"khajit.svg",Nord:"nord.svg",Orsimer:"orc.svg",Redguard:"redguard.svg"};function qn({raceName:e,size:t="md",className:n}){const s=FI[e],r=s?an(`assets/race-avatar/${s}`):void 0;return a.jsx(jm,{imgSrc:r,alt:e,size:t,className:n})}function ia({category:e,size:t="md",className:n}){return a.jsx(Tk,{category:e,categoryType:"race",size:t,className:n})}const HI={ability:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-200"},trait:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},flag:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"},skill:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"}},UI={sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1"};function VI(e){const t=e.toLowerCase();return["destruction","restoration","alteration","illusion","conjuration","light armor","heavy armor","one-handed","two-handed","archery","block","smithing","enchanting","alchemy","speechcraft","sneak","lockpicking","pickpocket"].some(n=>t.includes(n))?"skill":["waterbreathing","night eye","claws","histskin","dragonskin","magic resistance","voice of the emperor","battle cry"].some(n=>t.includes(n))?"ability":["strong stomach","beast race","bleeds","natural"].some(n=>t.includes(n))?"trait":"flag"}function Es({keyword:e,type:t,size:n="sm",className:s}){const r=t||VI(e),i=HI[r];return a.jsx(q,{variant:"outline",className:I(i.bg,i.text,i.border,UI[n],"font-medium",s),children:e})}const qI={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",purple:"bg-purple-500",orange:"bg-orange-500"},ZI={sm:"h-1.5",md:"h-2",lg:"h-3"};function dr({value:e,maxValue:t,label:n,color:s="blue",size:r="md",showValue:i=!0,className:l}){const o=Math.min(e/t*100,100);return a.jsxs("div",{className:I("space-y-1",l),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:n}),i&&a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})]}),a.jsx("div",{className:"w-full bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:I("transition-all duration-300 ease-out",qI[s],ZI[r]),style:{width:`${o}%`}})})]})}function Wl({effects:e,title:t="Effects",className:n,maxDisplay:s,compact:r=!1,showDescriptions:i=!0}){if(!e||e.length===0)return null;const l=s?e.slice(0,s):e,o=s&&e.length>s;return a.jsxs("div",{className:I("space-y-3",n),children:[t&&a.jsx(mn,{className:"text-lg font-medium text-foreground",children:t}),r?a.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.map((c,u)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:c.description,children:[a.jsx(Ge,{className:"h-3 w-3 text-yellow-500"}),a.jsx("span",{className:"font-medium",children:c.name})]},u)),o&&a.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded text-xs text-muted-foreground",children:["+",e.length-s," more"]})]}):a.jsxs("div",{className:"space-y-3",children:[l.map((c,u)=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-muted",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Ge,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h6",{className:"font-medium text-sm",children:c.name}),i&&c.description&&a.jsx(Re,{text:c.description,className:"text-xs text-muted-foreground mt-1 leading-relaxed"})]})]})},u)),o&&a.jsxs("div",{className:"text-center text-xs text-muted-foreground py-2",children:["+",e.length-s," more effects"]})]})]})}function hu({stats:e,regeneration:t,title:n="Stats",className:s,showRegeneration:r=!0,compact:i=!1}){return a.jsxs("div",{className:I("space-y-3",s),children:[a.jsx(mn,{className:"text-lg font-medium text-foreground",children:n}),i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Health"}),a.jsx("span",{className:"font-medium",children:e.health})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka"}),a.jsx("span",{className:"font-medium",children:e.magicka})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina"}),a.jsx("span",{className:"font-medium",children:e.stamina})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight"}),a.jsx("span",{className:"font-medium",children:e.carryWeight})]})]}),r&&t&&a.jsxs("div",{className:"space-y-2 mt-3",children:[a.jsx(mn,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Health"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Magicka"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Stamina"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]}),!i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(dr,{value:e.health,maxValue:200,label:"Health",color:"red",size:"sm"}),a.jsx(dr,{value:e.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),a.jsx(dr,{value:e.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),r&&t&&a.jsxs("div",{className:"space-y-2 mt-3",children:[a.jsx(mn,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Health"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Magicka"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Stamina"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]})]})}function gu({item:e,className:t,showToggle:n=!0,isExpanded:s=!1,onToggle:r,disableHover:i=!1}){const l=e.originalRace;return a.jsxs(pe,{className:t,expanded:s,onToggle:r,disableHover:i,children:[a.jsx(pe.Header,{children:a.jsxs("div",{className:"flex items-start justify-between w-full",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(qn,{raceName:e.name,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ne,{className:"text-primary font-semibold",children:e.name}),e.category&&a.jsx(q,{variant:"outline",className:I("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:n&&a.jsx(ts,{itemId:(l==null?void 0:l.edid)||e.id,itemType:"race",itemName:e.name})})]})}),a.jsx(pe.Summary,{children:a.jsx("div",{className:"line-clamp-2",children:a.jsx(Re,{text:e.summary||e.description,className:"text-sm text-muted-foreground line-clamp-2"})})}),a.jsxs(pe.Details,{children:[a.jsx("div",{children:a.jsx(Re,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),(l==null?void 0:l.startingStats)&&a.jsx(hu,{stats:l.startingStats,regeneration:l.regeneration,title:"Starting Attributes",showRegeneration:!1,compact:!1}),(l==null?void 0:l.skillBonuses)&&l.skillBonuses.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Skills"}),a.jsx("div",{className:"space-y-2",children:l.skillBonuses.map((o,c)=>a.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium",children:[o.skill," +",o.bonus]}),a.jsx(q,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},c))})]}),(l==null?void 0:l.racialSpells)&&l.racialSpells.length>0&&a.jsx(Wl,{effects:l.racialSpells.map(o=>({name:o.name,description:o.description})),title:"Quirks",showDescriptions:!0})]})]})}function _C(e,t){const n=g.useMemo(()=>e.map(o=>({id:o.edid.toLowerCase().replace("race",""),name:o.name,description:o.description,category:o.category,abilities:o.racialSpells.map(c=>c.name),skills:o.skillBonuses.map(c=>c.skill),keywords:o.keywords.map(c=>c.edid),originalRace:o})),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new tn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(o=>({item:o,score:0,matches:[]})),[r,t]);return{filteredRaces:g.useMemo(()=>i.map(o=>o.item.originalRace),[i]),searchResults:i,searchableRaces:n}}function Ql({races:e,onSelect:t,placeholder:n="Search races...",className:s=""}){const[r,i]=g.useState(""),{filteredRaces:l}=_C(e,r),o=g.useMemo(()=>l.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.category,icon:a.jsx(qn,{raceName:d.name,size:"sm"}),badge:d.category&&a.jsx(q,{variant:"outline",className:I("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.category}),metadata:{originalRace:d}})),[l]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>a.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&a.jsx("div",{className:"flex-shrink-0",children:d.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:d.label}),d.badge&&a.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&a.jsx(Re,{text:d.description,className:"text-sm text-muted-foreground line-clamp-2 mt-1"})]})]});return a.jsx(mu,{options:o,onSelect:c,placeholder:n,className:s,renderOption:u,emptyMessage:"No races found",searchQuery:r,onSearchQueryChange:i})}function Mm({keywords:e,title:t="Keywords",className:n,maxDisplay:s,showCount:r=!0}){if(!e||e.length===0)return null;const i=s?e.slice(0,s):e,l=s&&e.length>s;return a.jsxs("div",{className:I("space-y-3",n),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[t&&a.jsx(mn,{className:"text-lg font-medium text-foreground",children:t}),r&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length," keyword",e.length!==1?"s":""]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.map((o,c)=>a.jsx(Es,{keyword:o,size:"sm"},c)),l&&a.jsxs("span",{className:"text-xs text-muted-foreground px-2 py-1",children:["+",e.length-s," more"]})]})]})}function AC({item:e,originalRace:t,isExpanded:n=!1,onToggle:s,className:r,showViewAllButton:i=!1,showToggle:l=!0,viewAllButtonText:o="View All",viewAllButtonRoute:c="/race"}){const u=ut(),d=()=>{u(c)},f=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Race",m=(e==null?void 0:e.description)||(t==null?void 0:t.description)||"",h=(e==null?void 0:e.category)||(t==null?void 0:t.category)||"",p=(e==null?void 0:e.effects)||[],y=(e==null?void 0:e.summary)||(t==null?void 0:t.description)||"";return a.jsxs(U8,{isExpanded:n,onToggle:s||(()=>{}),className:r,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(qn,{raceName:f,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ne,{className:"text-primary font-semibold",children:f}),h&&a.jsx(ia,{category:h,size:"sm"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[p&&p.length>0&&a.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ge,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{children:[p.length," effects"]})]})}),i&&a.jsxs(V,{variant:"outline",size:"sm",onClick:d,className:"text-xs",children:[a.jsx(Aa,{className:"h-3 w-3 mr-1"}),o]}),l&&a.jsx(ts,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"race",itemName:f})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"line-clamp-2",children:a.jsx(ye,{className:"text-sm text-muted-foreground",children:y})}),a.jsx(Wl,{effects:p,maxDisplay:2,compact:!0})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(ye,{className:"text-sm text-muted-foreground leading-relaxed",children:m})}),(t==null?void 0:t.startingStats)&&a.jsx(hu,{stats:t.startingStats,regeneration:t.regeneration,title:"Starting Stats"}),(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&a.jsx(Wl,{effects:t.racialSpells.map(w=>({name:w.name,description:w.description})),title:"Racial Abilities"}),(t==null?void 0:t.keywords)&&t.keywords.length>0&&a.jsx(Mm,{keywords:t.keywords.map(w=>w.edid),title:"Keywords"})]})]})}function Cb({item:e,originalRace:t,className:n,onClick:s,showViewAllButton:r=!1,showToggle:i=!0,viewAllButtonText:l="View All",viewAllButtonRoute:o="/race"}){const c=ut(),u=m=>{m.stopPropagation(),c(o)},d=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Race";e!=null&&e.description||t!=null&&t.description;const f=(e==null?void 0:e.category)||(t==null?void 0:t.category)||"";return e!=null&&e.effects,e!=null&&e.summary||t!=null&&t.description,a.jsxs("div",{className:I("p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",n),onClick:s,children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(qn,{raceName:d,size:"2xl"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(Ne,{className:"text-primary font-semibold truncate",children:d}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f&&a.jsx(ia,{category:f,size:"sm"}),(t==null?void 0:t.startingStats)&&a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500/20 text-red-700 dark:text-red-400 rounded-full text-xs font-medium whitespace-nowrap",children:[" ",t.startingStats.health]}),a.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-blue-500/20 text-blue-700 dark:text-blue-400 rounded-full text-xs font-medium whitespace-nowrap",children:[" ",t.startingStats.magicka]}),a.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-green-500/20 text-green-700 dark:text-green-400 rounded-full text-xs font-medium whitespace-nowrap",children:[" ",t.startingStats.stamina]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ge,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.racialSpells.length," effects"]})]}),i&&a.jsx("div",{onClick:m=>m.stopPropagation(),children:a.jsx(ts,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"race",itemName:d})})]})]}),a.jsxs("div",{className:"space-y-2",children:[(t==null?void 0:t.skillBonuses)&&t.skillBonuses.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-1 justify-items-center",children:t.skillBonuses.map((m,h)=>a.jsxs("div",{className:"px-2 py-1 bg-muted/50 text-muted-foreground rounded text-xs font-medium text-left w-full",children:[m.skill," +",m.bonus]},h))}),(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:t.racialSpells.map((m,h)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(Ge,{className:"h-3 w-3"}),m.name]},h))})]})]})]}),r&&a.jsxs(V,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:u,children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),l]})]})}function GI({race:e,isOpen:t,onOpenChange:n}){return e?a.jsx(Ii,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(qn,{raceName:e.name,size:"4xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ia,{category:e.category,size:"sm"}),a.jsx(ts,{itemId:e.edid,itemType:"race",itemName:e.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})]})]})}),a.jsxs("div",{className:"space-y-6",children:[e.startingStats&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Starting Stats"}),a.jsx(hu,{stats:e.startingStats,regeneration:e.regeneration,title:"",compact:!1})]}),e.skillBonuses&&e.skillBonuses.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Starting Skills"}),a.jsx("div",{className:"space-y-2",children:e.skillBonuses.map((s,r)=>a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium",children:[s.skill," +",s.bonus]}),a.jsx(q,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},r))})]}),e.racialSpells&&e.racialSpells.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Racial Abilities"}),a.jsx(Wl,{effects:e.racialSpells.map(s=>({name:s.name,description:s.description})),title:"",showDescriptions:!0})]}),e.keywords&&e.keywords.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Keywords"}),a.jsx(Mm,{keywords:e.keywords.map(s=>s.edid),title:"",maxDisplay:10})]})]})]})}):null}function Rm(e){var t,n;return{...e,id:e.edid,name:e.name,description:e.description,tags:[e.category,...Array.isArray(e.flags)?e.flags:[]],summary:e.description.length>100?`${e.description.substring(0,100)}...`:e.description,effects:[...((t=e.skillBonuses)==null?void 0:t.map(s=>({type:"positive",name:s.skill,description:`+${s.bonus} to ${s.skill}`,value:s.bonus,target:s.skill})))||[],...((n=e.racialSpells)==null?void 0:n.map(s=>({type:"positive",name:s.name,description:s.description})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalRace:e}}function YI({className:e,allRaces:t}){const{build:n,setRace:s}=pt(),r=ut(),[i,l]=g.useState(!0),o=n.race?t.find(m=>m.edid===n.race):null,c=m=>{s(m.edid)},u=()=>{r("/race")},d=()=>{l(!i)};if(!o)return a.jsxs(Yn,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),a.jsx(Ql,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=Rm(o);return a.jsxs(Yn,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx(Ql,{races:t,onSelect:c,placeholder:`Race: Select a race (${o.name})`,className:"w-full"}),a.jsx(gu,{item:f,isExpanded:i,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function MC(){const[e,t]=g.useState(null),[n,s]=g.useState("grid"),[r,i]=g.useState([]),l=g.useCallback(f=>{t(f)},[]),o=g.useCallback(f=>{s(f)},[]),c=g.useCallback(f=>{i(m=>m.includes(f)?m.filter(h=>h!==f):[...m,f])},[]),u=g.useCallback(()=>{i([])},[]),d=g.useCallback(f=>{i(f)},[]);return{selectedRace:e,viewMode:n,expandedSections:r,setSelectedRace:l,setViewMode:o,toggleExpandedSection:c,clearExpandedSections:u,expandAllSections:d}}function Dm({races:e}){const[t,n]=g.useState(""),[s,r]=g.useState({search:"",type:"",tags:[]}),i=g.useMemo(()=>yt.getUniqueCategories(e),[e]),l=g.useMemo(()=>yt.getUniqueTags(e),[e]),o=g.useMemo(()=>{let p=e;return t.trim()&&(p=yt.search(p,t)),s.type&&(p=yt.filterByCategory(p,s.type)),s.tags.length>0&&(p=yt.filterByTags(p,s.tags)),yt.sortByName(p)},[e,t,s]),c=g.useCallback(p=>{n(p),r(y=>({...y,search:p}))},[]),u=g.useCallback(p=>{r(p),n(p.search)},[]),d=g.useCallback(()=>{n(""),r({search:"",type:"",tags:[]})},[]),f=g.useCallback(p=>{r(y=>({...y,tags:y.tags.includes(p)?y.tags:[...y.tags,p]}))},[]),m=g.useCallback(p=>{r(y=>({...y,tags:y.tags.filter(w=>w!==p)}))},[]),h=g.useCallback(p=>{r(y=>({...y,type:p}))},[]);return{searchQuery:t,activeFilters:s,filteredRaces:o,categories:i,tags:l,setSearchQuery:c,setFilters:u,clearFilters:d,addTagFilter:f,removeTagFilter:m,setCategoryFilter:h}}function RC({races:e,selectedRaceId:t}){const n=g.useMemo(()=>e.map(u=>yt.transformToPlayerCreationItem(u)),[e]),s=g.useMemo(()=>II.generateSearchCategories(e),[e]),r=g.useMemo(()=>t&&yt.getRaceById(e,t)||null,[e,t]),i=g.useMemo(()=>r?yt.calculateRaceStats(r):null,[r]),l=g.useMemo(()=>e.length,[e]),o=g.useMemo(()=>{const u=e.reduce((d,f)=>(d[f.category]=(d[f.category]||0)+1,d),{});return Object.entries(u).map(([d,f])=>({category:d,count:f}))},[e]),c=g.useMemo(()=>{const u=e.reduce((d,f)=>{var m;return f.keywords.forEach(h=>{d[h.edid]=(d[h.edid]||0)+1}),(m=f.flags)==null||m.forEach(h=>{d[h]=(d[h]||0)+1}),d},{});return Object.entries(u).map(([d,f])=>({tag:d,count:f})).sort((d,f)=>f.count-d.count)},[e]);return{transformedRaces:n,searchCategories:s,raceStats:i,selectedRaceDetails:r,totalRaces:l,categoriesWithCounts:o,tagsWithCounts:c}}function DC({raceId:e,allRaces:t}){const n=g.useMemo(()=>yt.getRaceById(t,e)||null,[t,e]),s=g.useMemo(()=>n?yt.getRelatedRaces(n,t):[],[n,t]),r=g.useMemo(()=>{if(!n||s.length===0)return null;const u=s[0];return{selectedRace:n,comparedRace:u,differences:{stats:{health:{selected:n.startingStats.health,compared:u.startingStats.health,difference:n.startingStats.health-u.startingStats.health},magicka:{selected:n.startingStats.magicka,compared:u.startingStats.magicka,difference:n.startingStats.magicka-u.startingStats.magicka},stamina:{selected:n.startingStats.stamina,compared:u.startingStats.stamina,difference:n.startingStats.stamina-u.startingStats.stamina},carryWeight:{selected:n.startingStats.carryWeight,compared:u.startingStats.carryWeight,difference:n.startingStats.carryWeight-u.startingStats.carryWeight}},skills:n.skillBonuses.map(d=>{const f=u.skillBonuses.find(m=>m.skill===d.skill);return{skill:d.skill,selected:d.bonus,compared:(f==null?void 0:f.bonus)||0,difference:d.bonus-((f==null?void 0:f.bonus)||0)}}),spells:{selected:n.racialSpells.map(d=>d.name),compared:u.racialSpells.map(d=>d.name),unique:n.racialSpells.filter(d=>!u.racialSpells.some(f=>f.name===d.name)).map(d=>d.name)}}}},[n,s]),i=g.useMemo(()=>s.length>0,[s]),l=g.useMemo(()=>s.length,[s]);return{race:n,relatedRaces:s,raceComparison:r,isLoading:!1,error:null,hasRelatedRaces:i,relatedRacesCount:l}}function zC({className:e}){const{races:t}=To(),{build:n,setRace:s}=pt(),r=ut(),[i,l]=g.useState(!0),o=n.race?t.find(m=>m.edid===n.race):null,c=m=>{s(m.edid)},u=()=>{r("/build/race")},d=()=>{l(!i)};if(!o)return a.jsxs(Yn,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),a.jsx(Ql,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=Rm(o);return a.jsxs(Yn,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx(Ql,{races:t,onSelect:c,placeholder:`Race: Select a race (${o.name})`,className:"w-full"}),a.jsx(gu,{item:f,isExpanded:i,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}const LC=[{value:"name",label:"Name"},{value:"category",label:"Category"},{value:"health",label:"Health"},{value:"magicka",label:"Magicka"},{value:"stamina",label:"Stamina"}],XI=e=>{var t;return((t=LC.find(n=>n.value===e))==null?void 0:t.label)||"Name"};function $C(){const{build:e}=pt(),{races:t,isLoading:n,error:s}=To(),{viewMode:r,setViewMode:i}=MC(),{filteredRaces:l}=Dm({races:t}),[o,c]=g.useState("name"),d=(()=>{const k=[...new Set(t.flatMap(O=>O.keywords.map(z=>z.edid)))],T=[...new Set(t.flatMap(O=>O.skillBonuses.map(z=>z.skill)))],D=[...new Set(t.map(O=>O.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:k.map(O=>({id:`keyword-${O}`,label:O,value:O,category:"Fuzzy Search",description:`Races with ${O} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:T.map(O=>({id:`skill-${O}`,label:O,value:O,category:"Skill Bonuses",description:`Races with ${O} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:D.map(O=>({id:`category-${O}`,label:O,value:O,category:"Race Categories",description:`${O} races`}))}]})(),[f,m]=g.useState([]),h=k=>{let T;typeof k=="string"?T={id:`custom-${k}`,label:k,value:k,category:"Fuzzy Search"}:T={id:`${k.category}-${k.id}`,label:k.label,value:k.value,category:k.category},f.some(D=>D.value===T.value&&D.category===T.category)||m(D=>[...D,T])},p=k=>{m(T=>T.filter(D=>D.id!==k))},y=l.filter(k=>f.length===0?!0:f.every(T=>{switch(T.category){case"Fuzzy Search":return!0;case"Race Categories":return k.category===T.value;case"Skill Bonuses":return k.skillBonuses.some(D=>D.skill===T.value);case"Keywords":return k.keywords.some(D=>D.edid===T.value);default:return!0}})),w=f.filter(k=>k.category==="Fuzzy Search").map(k=>k.value).join(" "),{filteredRaces:v}=_C(y,w),b=v.sort((k,T)=>{switch(o){case"name":return k.name.localeCompare(T.name);case"category":return k.category.localeCompare(T.category);case"health":return T.startingStats.health-k.startingStats.health;case"magicka":return T.startingStats.magicka-k.startingStats.magicka;case"stamina":return T.startingStats.stamina-k.startingStats.stamina;default:return 0}}).map(k=>({...Rm(k),originalRace:k})),[j,N]=g.useState(null),[C,S]=g.useState(!1),E=k=>{N(k),S(!0)};return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:s}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsxs(Qt,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx($a,{categories:d,onSelect:h,onCustomSearch:h})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(V,{variant:r==="grid"?"default":"outline",size:"sm",onClick:()=>i("grid"),className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(V,{variant:r==="list"?"default":"outline",size:"sm",onClick:()=>i("list"),className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Oi,{children:[a.jsx(Bi,{asChild:!0,children:a.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",XI(o),a.jsx(Pt,{className:"h-4 w-4"})]})}),a.jsx(La,{align:"end",children:LC.map(k=>a.jsx(sn,{onClick:()=>c(k.value),children:k.label},k.value))})]})})]}),a.jsx("div",{className:"my-4",children:f.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>m([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(Xe,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),f.map(k=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>p(k.id),title:"Click to remove",children:[k.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},k.id))]})}),r==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:b.map(k=>{var D;const T=e.race===((D=k.originalRace)==null?void 0:D.edid);return a.jsx(Cb,{item:k,originalRace:k.originalRace,onClick:()=>E(k.originalRace),className:I(T&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},k.id)})}):a.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:b.map(k=>{var D;const T=e.race===((D=k.originalRace)==null?void 0:D.edid);return a.jsx(Cb,{item:k,originalRace:k.originalRace,onClick:()=>E(k.originalRace),className:I(T&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},k.id)})}),b.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}),a.jsx(GI,{race:j,isOpen:C,onOpenChange:S})]})}function WI({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:s,onTagRemove:r}={}){const[i,l]=g.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return g.useEffect(()=>{e&&l(e)},[e]),{filters:i,handleSearch:f=>{const m={...i,search:f};l(m),n==null||n(f)},handleTagSelect:f=>{const m={id:`${f.category}-${f.id}`,label:f.label,value:f.value,category:f.category};if(!i.selectedTags.some(p=>p.id===m.id)){const p={...i,selectedTags:[...i.selectedTags,m]};l(p),s==null||s(m),t==null||t(p)}},handleTagRemove:f=>{const m={...i,selectedTags:i.selectedTags.filter(h=>h.id!==f)};l(m),r==null||r(f),t==null||t(m)},updateFilters:f=>{l(f),t==null||t(f)}}}function QI({className:e}){const{races:t,isLoading:n,error:s,categories:r,tags:i}=To(),{searchQuery:l,setSearchQuery:o,filteredRaces:c}=Dm({races:t}),u=L.useMemo(()=>c.map(b=>Rm(b)),[c]),d=L.useMemo(()=>[{id:"categories",name:"Categories",placeholder:"Search by category...",options:(r||[]).map(b=>({id:b,label:b,value:b,category:"categories",description:`Race category: ${b}`}))},{id:"tags",name:"Tags",placeholder:"Search by tags...",options:(i||[]).map(b=>({id:b,label:b,value:b,category:"tags",description:`Race tag: ${b}`}))}],[r,i]),{filters:f,handleSearch:m,handleTagSelect:h,handleTagRemove:p}=WI({onSearch:o,onFiltersChange:b=>{}});L.useEffect(()=>{l!==f.search&&m(l)},[l,m,f.search]);const[y,w]=L.useState(null),v=b=>{const j=t.find(N=>N.edid===b.id);return j?a.jsx(AC,{item:b,originalRace:j,isExpanded:!1,showToggle:!0,className:"h-full"},j.edid):null},x=b=>{const j=t.find(N=>N.edid===b.id);return j?a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:j.name}),a.jsx("p",{className:"text-muted-foreground mb-4",children:j.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Category:"})," ",j.category]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Health:"})," ",j.startingStats.health]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Magicka:"})," ",j.startingStats.magicka]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Stamina:"})," ",j.startingStats.stamina]})]})]}):null};return n?a.jsx("div",{className:I("container mx-auto p-6",e),children:a.jsxs("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((b,j)=>a.jsx("div",{className:"h-64 bg-gray-200 rounded"},j))})]})}):s?a.jsx("div",{className:I("container mx-auto p-6",e),children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[a.jsx("strong",{children:"Error:"})," ",s]})}):a.jsxs("div",{className:I("container mx-auto p-6",e),children:[a.jsx(k8,{searchCategories:d,selectedTags:f.selectedTags,viewMode:"grid",onTagSelect:h,onTagRemove:p,className:"mb-6"}),a.jsxs(w8,{children:[a.jsx(j8,{children:a.jsx(v8,{items:u,viewMode:"grid",onItemSelect:w,selectedItem:y,renderItemCard:v})}),a.jsx(N8,{children:y?x(y):a.jsx(S8,{title:"Select a Race",description:"Choose a race from the list to view its details"})})]})]})}function KI({className:e,selectedRace:t,onRaceSelect:n,onRaceClear:s,showSearch:r=!0,showComparison:i=!1,maxDisplayRaces:l=3}){const{races:o,isLoading:c,error:u}=To(),{filteredRaces:d}=Dm({races:o});RC({races:o,selectedRaceId:(t==null?void 0:t.edid)||null});const[f,m]=L.useState(!1);return c?a.jsx("div",{className:I("p-4 border rounded-lg",e),children:a.jsxs("div",{className:"animate-pulse space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})}):u?a.jsx("div",{className:I("p-4 border rounded-lg",e),children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded text-sm",children:[a.jsx("strong",{children:"Error:"})," ",u]})}):a.jsxs("div",{className:I("border rounded-lg overflow-hidden",e),children:[a.jsxs("div",{className:"p-4 bg-muted/50 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ne,{className:"text-lg font-semibold",children:"Race Selection"}),t&&a.jsx(V,{variant:"ghost",size:"sm",onClick:s,className:"text-muted-foreground hover:text-foreground",children:a.jsx(Xe,{className:"h-4 w-4"})})]}),t&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(q,{variant:"secondary",children:t.category}),a.jsxs(ye,{className:"text-sm text-muted-foreground",children:[t.startingStats.health," HP, ",t.startingStats.magicka," MP, ",t.startingStats.stamina," SP"]})]})]}),a.jsx("div",{className:"p-4",children:t?a.jsxs("div",{className:"space-y-4",children:[a.jsx(gu,{item:{id:t.edid,name:t.name,description:t.description,summary:t.description,category:t.category,effects:[],tags:[],originalRace:t},isExpanded:!0,showToggle:!1,className:"border-0 shadow-none"}),i&&a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx(ye,{className:"text-sm font-medium mb-2",children:"Compare with:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.filter(h=>h.edid!==t.edid).slice(0,4).map(h=>a.jsx(V,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-xs",children:h.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})]}):a.jsxs("div",{className:"space-y-4",children:[r&&a.jsxs("div",{children:[a.jsx(ye,{className:"text-sm font-medium mb-2",children:"Search for a race:"}),a.jsx(Ql,{races:d,onSelect:n,placeholder:"Type to search races...",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx(ye,{className:"text-sm font-medium mb-2",children:"Quick select:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.slice(0,l).map(h=>a.jsx(V,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-xs",children:h.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))}),o.length>l&&a.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>m(!f),className:"mt-2 w-full",children:[a.jsx(Pt,{className:I("h-4 w-4 transition-transform",f&&"rotate-180")}),"Show ",o.length-l," more races"]})]}),f&&a.jsx("div",{className:"space-y-2",children:o.slice(l).map(h=>a.jsx(V,{variant:"ghost",size:"sm",onClick:()=>n==null?void 0:n(h),className:"w-full justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-xs",children:h.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})})]})}function JI({raceId:e,className:t}){const n=ut(),{races:s}=To(),{race:r,relatedRaces:i}=DC({raceId:e,allRaces:s});return r?a.jsxs("div",{className:I("container mx-auto p-6",t),children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(V,{variant:"ghost",onClick:()=>n("/races"),className:"mb-4",children:[a.jsx(jy,{className:"h-4 w-4 mr-2"}),"Back to Races"]}),a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx(qn,{raceName:r.name,size:"xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Ra,{className:"text-3xl font-bold",children:r.name}),a.jsx(ia,{category:r.category,size:"lg"})]}),a.jsx(ye,{className:"text-lg text-muted-foreground mb-4",children:r.description}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(s1,{className:"h-4 w-4"}),a.jsx("span",{children:"Playable Race"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ge,{className:"h-4 w-4"}),a.jsxs("span",{children:[r.keywords.length," Keywords"]})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(aa,{className:"text-xl font-semibold mb-4",children:"Statistics"}),a.jsx(hu,{stats:r.startingStats,regeneration:r.regeneration,title:"Starting Stats",compact:!1,showRegeneration:!0})]}),r.racialSpells.length>0&&a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(aa,{className:"text-xl font-semibold mb-4",children:"Racial Abilities"}),a.jsx(Wl,{effects:r.racialSpells.map(l=>({name:l.name,description:l.description})),title:"Racial Spells",showDescriptions:!0,compact:!1})]}),r.keywords.length>0&&a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(aa,{className:"text-xl font-semibold mb-4",children:"Keywords"}),a.jsx(Mm,{keywords:r.keywords.map(l=>l.edid),title:"Race Keywords",showCount:!0})]}),a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(aa,{className:"text-xl font-semibold mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-medium mb-2",children:"Description"}),a.jsx(ye,{className:"text-muted-foreground",children:r.description})]}),r.racialSpells.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-medium mb-2",children:"Racial Spells"}),a.jsx("div",{className:"space-y-2",children:r.racialSpells.map((l,o)=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"font-medium",children:l.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:l.description})]},o))})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"w-full",size:"sm",children:"Add to Character Build"}),a.jsx(V,{variant:"outline",className:"w-full",size:"sm",children:"Compare with Other Races"}),a.jsxs(V,{variant:"outline",className:"w-full",size:"sm",children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),"View in Wiki"]})]})]}),a.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Race Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),a.jsx(q,{variant:"secondary",children:r.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Health:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.health})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.magicka})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.stamina})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.carryWeight})]})]})]}),i.length>0&&a.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Related Races"}),a.jsx("div",{className:"space-y-2",children:i.slice(0,3).map(l=>a.jsx(V,{variant:"ghost",size:"sm",onClick:()=>n(`/races/${l.edid}`),className:"w-full justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qn,{raceName:l.name,size:"sm"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:l.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:l.category})]})]})},l.edid))})]})]})]})]}):a.jsxs("div",{className:I("container mx-auto p-6",t),children:[a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[a.jsx("strong",{children:"Error:"})," ","Race not found"]}),a.jsxs(V,{variant:"outline",onClick:()=>n("/races"),className:"mt-4",children:[a.jsx(jy,{className:"h-4 w-4 mr-2"}),"Back to Races"]})]})}function e9(){const{races:e,isLoading:t,error:n,categories:s,tags:r}=To(),{selectedRace:i,setSelectedRace:l,viewMode:o,setViewMode:c,expandedSections:u}=MC(),{searchQuery:d,setSearchQuery:f,activeFilters:m,clearFilters:h,filteredRaces:p}=Dm({races:e}),{transformedRaces:y,searchCategories:w,categoriesWithCounts:v}=RC({races:e,selectedRaceId:i}),{race:x,relatedRaces:b,raceComparison:j}=DC({raceId:i||"",allRaces:e}),[N,C]=L.useState(!1),[S,E]=L.useState("overview");if(t)return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Loading..."}),a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]});if(n)return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Error"}),a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[a.jsx("strong",{children:"Error:"})," ",n]})]});const k=e[0];return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Races MVA Demo - Model View Adapter Architecture"}),a.jsxs(Da,{value:S,onValueChange:E,className:"mb-6",children:[a.jsxs(za,{children:[a.jsx(zt,{value:"overview",children:"Overview"}),a.jsx(zt,{value:"adapters",children:"Adapters"}),a.jsx(zt,{value:"components",children:"Components"}),a.jsx(zt,{value:"views",children:"Views"})]}),a.jsx(Ut,{value:"overview",className:"space-y-6",children:a.jsxs(de,{children:[a.jsxs(Se,{children:[a.jsx(Me,{children:"MVA Architecture Overview"}),a.jsx(Ms,{children:"This demo showcases the Model-View-Adapter pattern implementation for the Races feature."})]}),a.jsx(me,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Model Layer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Data management and business logic"}),a.jsx(q,{variant:"outline",className:"mt-2",children:"RaceModel"})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Adapter Layer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"State management and data transformation"}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[a.jsx(q,{variant:"outline",children:"useRaceData"}),a.jsx(q,{variant:"outline",children:"useRaceState"}),a.jsx(q,{variant:"outline",children:"useRaceFilters"})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"View Layer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"UI components and presentation"}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[a.jsx(q,{variant:"outline",children:"RaceCard"}),a.jsx(q,{variant:"outline",children:"RacePageView"})]})]})]})})]})}),a.jsx(Ut,{value:"adapters",className:"space-y-6",children:a.jsxs(de,{children:[a.jsxs(Se,{children:[a.jsx(Me,{children:"Adapter State Demo"}),a.jsx(Ms,{children:"Interactive demonstration of adapter state management"})]}),a.jsx(me,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"State Management (useRaceState)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Selected Race:"}),a.jsx(q,{variant:i?"default":"secondary",children:i||"None"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"View Mode:"}),a.jsxs("div",{className:"flex border rounded",children:[a.jsx(V,{variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),children:"Grid"}),a.jsx(V,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),children:"List"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Expanded Sections:"}),a.jsx(q,{variant:"outline",children:u.length})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Filters (useRaceFilters)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Search Query:"}),a.jsx("input",{type:"text",value:d,onChange:T=>f(T.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"Search races..."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Active Filters:"}),a.jsx(q,{variant:"outline",children:m.tags.length+(m.type?1:0)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Filtered Results:"}),a.jsxs(q,{variant:"outline",children:[p.length," of ",e.length]})]}),a.jsx(V,{size:"sm",onClick:h,children:"Clear Filters"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Computed Data (useRaceComputed)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Transformed Races:"}),a.jsx(q,{variant:"outline",children:y.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Search Categories:"}),a.jsx(q,{variant:"outline",children:w.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Categories with Counts:"}),a.jsx(q,{variant:"outline",children:Object.keys(v).length})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Detail View (useRaceDetail)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Selected Race Details:"}),a.jsx(q,{variant:x?"default":"secondary",children:(x==null?void 0:x.name)||"None"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Related Races:"}),a.jsx(q,{variant:"outline",children:b.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Comparison Available:"}),a.jsx(q,{variant:j?"default":"secondary",children:j?"Yes":"No"})]})]})]})]})})]})}),a.jsxs(Ut,{value:"components",className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Atomic & Composition Components"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Data Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Total Races:"})," ",e.length]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Categories:"})," ",s.join(", ")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Total Tags:"})," ",r.length]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Sample Race: ",k==null?void 0:k.name]}),k&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-gray-600 text-sm",children:k.description}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Category:"})," ",k.category]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Keywords:"})," ",k.keywords.length]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAvatar Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),a.jsx(qn,{raceName:(k==null?void 0:k.name)||"Nord",size:"sm"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),a.jsx(qn,{raceName:(k==null?void 0:k.name)||"Nord",size:"lg"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),a.jsx(qn,{raceName:(k==null?void 0:k.name)||"Nord",size:"2xl"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Extra Large"}),a.jsx(qn,{raceName:(k==null?void 0:k.name)||"Nord",size:"xl"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Uses generic EntityAvatar with race-specific configuration"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"CategoryBadge Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),a.jsx(ia,{category:"Human",size:"sm"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),a.jsx(ia,{category:"Elf",size:"md"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),a.jsx(ia,{category:"Beast",size:"lg"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Uses generic CategoryBadge with race-specific styling"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"KeywordTag Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Auto-detected types:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Es,{keyword:"destruction"}),a.jsx(Es,{keyword:"waterbreathing"}),a.jsx(Es,{keyword:"strong stomach"}),a.jsx(Es,{keyword:"custom_flag"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Explicit types:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Es,{keyword:"alteration",type:"skill"}),a.jsx(Es,{keyword:"night eye",type:"ability"}),a.jsx(Es,{keyword:"beast race",type:"trait"}),a.jsx(Es,{keyword:"magic",type:"flag"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Auto-detects keyword types or accepts explicit type prop"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"StatBar Component"}),a.jsxs("div",{className:"space-y-4",children:[k&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(dr,{value:k.startingStats.health,maxValue:200,label:"Health",color:"red",size:"md"}),a.jsx(dr,{value:k.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"md"}),a.jsx(dr,{value:k.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"md"})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Progress bars with configurable colors, sizes, and labels"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceStatsDisplay Component"}),a.jsxs("div",{className:"space-y-4",children:[k&&a.jsx(hu,{stats:k.startingStats,regeneration:k.regeneration,title:"Sample Stats",compact:!0}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Composition component that displays race statistics"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceEffectsDisplay Component"}),a.jsxs("div",{className:"space-y-4",children:[k&&k.racialSpells.length>0&&a.jsx(Wl,{effects:k.racialSpells.map(T=>({name:T.name,description:T.description})),title:"Racial Abilities",maxDisplay:3}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Composition component for displaying race effects/abilities"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceKeywordsDisplay Component"}),a.jsxs("div",{className:"space-y-4",children:[k&&k.keywords.length>0&&a.jsx(Mm,{keywords:k.keywords.map(T=>T.edid),title:"Race Keywords",maxDisplay:6}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Composition component that uses KeywordTag atomic components"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceCard Composition Component"}),a.jsxs("div",{className:"space-y-4",children:[k&&a.jsx(AC,{originalRace:k,isExpanded:!0,showToggle:!1,className:"max-w-2xl"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Main composition component that orchestrates all atomic components"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAutocomplete Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ql,{races:e.slice(0,5),onSelect:T=>{},placeholder:"Search for a race...",className:"w-full"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Search and selection component for races"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAccordion Component"}),a.jsxs("div",{className:"space-y-4",children:[k&&a.jsx(gu,{item:{id:k.edid,name:k.name,description:k.description,summary:k.description,category:k.category,effects:[],tags:[],originalRace:k},isExpanded:N,onToggle:()=>C(!N),showToggle:!0,className:"border-0 shadow-none"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Accordion-style race display for player creation (click to expand/collapse)"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceSelectionCard Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(YI,{allRaces:e.slice(0,5),className:"max-w-2xl"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Complete race selection interface for player creation"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sample Races with All Components"}),a.jsx("div",{className:"space-y-4",children:e.slice(0,2).map(T=>a.jsxs("div",{className:"border rounded p-4",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsx(qn,{raceName:T.name,size:"2xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:T.name}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsx(ia,{category:T.category,size:"sm"})})]})]}),a.jsx("p",{className:"text-sm mb-3",children:T.description}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[a.jsx(dr,{value:T.startingStats.health,maxValue:200,label:"Health",color:"red",size:"sm"}),a.jsx(dr,{value:T.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),a.jsx(dr,{value:T.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.keywords.slice(0,5).map((D,O)=>a.jsx(Es,{keyword:D.edid},O)),T.keywords.length>5&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",T.keywords.length-5," more"]})]})]},T.edid))})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"View Components Demo"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceQuickSelectorView"}),a.jsx(KI,{selectedRace:i?e.find(T=>T.edid===i):void 0,onRaceSelect:T=>l(T.edid),onRaceClear:()=>l(null),showSearch:!0,showComparison:!0,maxDisplayRaces:3,className:"max-w-md"}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:a.jsx("p",{children:"Compact selection interface for embedded contexts"})})]}),i&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceDetailView"}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx(JI,{raceId:i,className:"p-4"})}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:a.jsx("p",{children:"Detailed race view with rich information display"})})]})]})]})]})]}),a.jsxs(Ut,{value:"views",className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"View Components"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(de,{children:[a.jsxs(Se,{children:[a.jsx(Me,{children:"RacePageView"}),a.jsx(Ms,{children:"Main page view with full functionality"})]}),a.jsx(me,{children:a.jsx($C,{className:"border rounded-lg p-4"})})]}),a.jsxs(de,{children:[a.jsxs(Se,{children:[a.jsx(Me,{children:"RaceReferenceView"}),a.jsx(Ms,{children:"Browse/search interface"})]}),a.jsx(me,{children:a.jsx(QI,{className:"border rounded-lg p-4"})})]})]})]})]})]})}function t9(e,t){const n=g.useMemo(()=>e.map(o=>{var c,u,d,f,m,h,p,y,w;return{id:o.name.toLowerCase().replace(/\s+/g,"-"),name:o.name,description:((c=o.tenet)==null?void 0:c.description)||"",type:o.type,favoredRaces:ds()?o.favoredRaces||[]:[],tenetEffects:((d=(u=o.tenet)==null?void 0:u.effects)==null?void 0:d.map(v=>`${v.effectName} ${v.effectDescription}`))||[],blessingEffects:((m=(f=o.blessing)==null?void 0:f.effects)==null?void 0:m.map(v=>`${v.effectName} ${v.effectDescription}`))||[],followerPowers:((p=(h=o.boon1)==null?void 0:h.effects)==null?void 0:p.map(v=>`${v.effectName} ${v.effectDescription}`))||[],devoteePowers:((w=(y=o.boon2)==null?void 0:y.effects)==null?void 0:w.map(v=>`${v.effectName} ${v.effectDescription}`))||[],originalReligion:o}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},...ds()?[{name:"favoredRaces",weight:.1}]:[],{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new tn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(o=>({item:o,score:0,matches:[]})),[r,t]);return{filteredReligions:g.useMemo(()=>i.map(o=>o.item.originalReligion),[i]),searchResults:i,searchableReligions:n}}function n9(e){var t,n,s,r;return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,type:e.type,description:((t=e.tenet)==null?void 0:t.description)||"",tenetDescription:((n=e.tenet)==null?void 0:n.description)||"",followerPower:((s=e.boon1)==null?void 0:s.spellName)||"",devoteePower:((r=e.boon2)==null?void 0:r.spellName)||"",favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[],originalReligion:e}}function s9(e){return e.map(n9)}function r9(e,t){return e.find(n=>n.name.toLowerCase().replace(/\s+/g,"-")===t)}const a9={};function Dc({religionName:e,size:t="2xl",className:n}){const s=a9[e],r=s?an(`assets/religion-avatar/${s}`):void 0;return a.jsx(jm,{imgSrc:r,alt:e,size:t,className:n})}function i9(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function l9({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<mag>/g,t.toString()).replace(/<magnitude>/g,t.toString()).replace(/<dur>/g,n.toString()).replace(/<duration>/g,n.toString()).replace(/<area>/g,s.toString());return r=r.replace(/\b(magnitude|mag)\b/gi,t.toString()).replace(/\b(duration|dur)\b/gi,n.toString()).replace(/\b(area)\b/gi,s.toString()),a.jsx(Re,{text:r,className:"text-sm text-muted-foreground"})}function o9({religion:e,className:t,onClick:n,showToggle:s=!0}){var l;const r=e.blessing,i=((l=r==null?void 0:r.effects)==null?void 0:l.length)||0;return!r||i===0?null:a.jsxs("div",{className:I("p-4 border rounded-2xl bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",t),onClick:n,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx(Dc,{religionName:e.name,size:"2xl"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs(Ne,{className:"text-lg font-semibold text-primary truncate",children:["Blessing of ",e.name]}),a.jsxs(ye,{className:"text-sm text-muted-foreground mt-1",children:[i," effect",i!==1?"s":""]})]}),s&&a.jsx("div",{onClick:o=>o.stopPropagation(),children:a.jsx(ts,{itemId:`blessing-${e.name}`,itemType:"religion",itemName:`Blessing of ${e.name}`})})]}),a.jsx("div",{className:"space-y-2",children:r.effects.filter(o=>o.effectType!=="1"&&o.effectType!=="3").slice(0,2).map((o,c)=>a.jsx("div",{className:"flex items-start gap-2 p-2 bg-muted/30 rounded-lg",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(ye,{className:"font-medium text-sm mb-1",children:o.effectName}),a.jsx(l9,{description:o.effectDescription,magnitude:o.magnitude,duration:o.duration,area:o.area}),(o.duration>0||o.area>0)&&a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[o.duration>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(da,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",i9(o.duration)]})]}),o.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(us,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",o.area]})]})]})]})},c))}),i>2&&a.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:a.jsxs(ye,{className:"text-xs text-muted-foreground",children:["+",i-2," more effect",i-2!==1?"s":""]})})]})}const c9={Restoration:a.jsx(qs,{className:"h-4 w-4 text-green-500"}),Destruction:a.jsx(yo,{className:"h-4 w-4 text-red-500"}),Alteration:a.jsx(nt,{className:"h-4 w-4 text-blue-500"}),Illusion:a.jsx(Ol,{className:"h-4 w-4 text-purple-500"}),Conjuration:a.jsx(gn,{className:"h-4 w-4 text-purple-500"}),Enchanting:a.jsx(_a,{className:"h-4 w-4 text-blue-500"}),Alchemy:a.jsx(Rx,{className:"h-4 w-4 text-green-500"}),"Light Armor":a.jsx(nt,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":a.jsx(nt,{className:"h-4 w-4 text-gray-500"}),"One-Handed":a.jsx(mi,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":a.jsx(mi,{className:"h-4 w-4 text-red-500"}),Archery:a.jsx(us,{className:"h-4 w-4 text-green-500"}),Block:a.jsx(nt,{className:"h-4 w-4 text-yellow-500"}),Smithing:a.jsx(nt,{className:"h-4 w-4 text-gray-500"}),Speechcraft:a.jsx(Ol,{className:"h-4 w-4 text-blue-500"}),Sneak:a.jsx(vo,{className:"h-4 w-4 text-purple-500"}),Lockpicking:a.jsx(Il,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:a.jsx(Il,{className:"h-4 w-4 text-purple-500"})};function u9(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function d9({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<mag>/g,t.toString()).replace(/<magnitude>/g,t.toString()).replace(/<dur>/g,n.toString()).replace(/<duration>/g,n.toString()).replace(/<area>/g,s.toString());return r=r.replace(/\b(magnitude|mag)\b/gi,t.toString()).replace(/\b(duration|dur)\b/gi,n.toString()).replace(/\b(area)\b/gi,s.toString()),a.jsx(Re,{text:r,className:"text-sm text-muted-foreground"})}function f9(e){return c9[e]||a.jsx(Ge,{className:"h-4 w-4 text-gray-500"})}function m9({religion:e,isOpen:t,onOpenChange:n}){var i,l;if(!e)return null;const s=e.blessing,r=((i=s==null?void 0:s.effects)==null?void 0:i.length)||0;return!s||r===0?null:a.jsx(Ii,{isOpen:t,onOpenChange:n,title:`Blessing of ${e.name}`,description:"Divine blessing granted to worshippers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Dc,{religionName:e.name,size:"lg"}),a.jsxs("div",{children:[a.jsxs(Ne,{className:"text-xl font-semibold",children:["Blessing of ",e.name]}),a.jsxs(ye,{className:"text-sm text-muted-foreground",children:[r," effect",r!==1?"s":""]})]})]}),a.jsx(ts,{itemId:`blessing-${e.name}`,itemType:"religion",itemName:`Blessing of ${e.name}`})]}),a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Blessing Effects"}),a.jsx("div",{className:"space-y-3",children:s.effects.filter(o=>o.effectType!=="1"&&o.effectType!=="3").map((o,c)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dc,{religionName:e.name,size:"sm"}),o.effectType&&f9(o.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ye,{className:"font-medium text-sm mb-2",children:o.effectName}),a.jsx(d9,{description:o.effectDescription,magnitude:o.magnitude,duration:o.duration,area:o.area}),o.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(da,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",u9(o.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:o.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(us,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",o.area]})]})})]})]})},c))})]}),a.jsxs("div",{className:"pt-4 border-t border-border",children:[a.jsxs(Ne,{className:"text-lg font-semibold mb-3",children:["About ",e.name]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(ye,{className:"text-sm font-medium mb-1",children:"Religion Type"}),a.jsx(ye,{className:"text-sm text-muted-foreground",children:e.type})]}),((l=e.tenet)==null?void 0:l.description)&&a.jsxs("div",{children:[a.jsx(ye,{className:"text-sm font-medium mb-1",children:"Tenets"}),a.jsx(ye,{className:"text-sm text-muted-foreground",children:e.tenet.description})]}),e.favoredRaces&&e.favoredRaces.length>0&&a.jsxs("div",{children:[a.jsx(ye,{className:"text-sm font-medium mb-1",children:"Favored Races"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.favoredRaces.map((o,c)=>a.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-md",children:o},c))})]})]})]})]})})}function PC({category:e,size:t="md",className:n}){return a.jsx(Tk,{category:e,categoryType:"religion",size:t,className:n})}function OC({item:e,originalReligion:t,className:n,onClick:s,showViewAllButton:r=!1,showToggle:i=!0,viewAllButtonText:l="View All",viewAllButtonRoute:o="/religions",onOpenDetails:c}){var v,x,b,j,N,C,S,E,k,T,D,O,z,_,P,M;const u=ut(),d=$=>{$.stopPropagation(),u(o)},f=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Religion",m=(e==null?void 0:e.description)||((v=t==null?void 0:t.tenet)==null?void 0:v.description)||"",h=(e==null?void 0:e.category)||(t==null?void 0:t.type)||"";e!=null&&e.effects,e!=null&&e.summary||(x=t==null?void 0:t.tenet)!=null&&x.description;const p=(((j=(b=t==null?void 0:t.blessing)==null?void 0:b.effects)==null?void 0:j.length)||0)+(((C=(N=t==null?void 0:t.tenet)==null?void 0:N.effects)==null?void 0:C.length)||0)+(((E=(S=t==null?void 0:t.boon1)==null?void 0:S.effects)==null?void 0:E.length)||0)+(((T=(k=t==null?void 0:t.boon2)==null?void 0:k.effects)==null?void 0:T.length)||0),y=((z=(O=(D=t==null?void 0:t.blessing)==null?void 0:D.effects)==null?void 0:O[0])==null?void 0:z.effectName)||"Blessing",w=(M=(P=(_=t==null?void 0:t.tenet)==null?void 0:_.effects)==null?void 0:P[0])!=null&&M.effectDescription?t.tenet.effects[0].effectDescription.split(".").filter($=>$.trim().length>0).slice(0,4).map($=>({id:$.trim(),title:$.trim(),short:$.trim(),full:$.trim()})):[];return a.jsxs("div",{className:I("p-4 border rounded-2xl bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",n),onClick:$=>{if(s&&s(),c){const A=(t==null?void 0:t.name)||(e==null?void 0:e.id)||"";c(A)}},children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx(Dc,{religionName:f,size:"2xl"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(Ne,{className:"text-lg font-semibold text-primary truncate",children:f}),h&&a.jsx(PC,{category:h,size:"sm",className:"mt-1"})]}),i&&a.jsx("div",{onClick:$=>$.stopPropagation(),children:a.jsx(ts,{itemId:(t==null?void 0:t.name)||(e==null?void 0:e.id)||"",itemType:"religion",itemName:f})})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p>0&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded-full text-xs",children:[a.jsx(Ge,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{className:"font-medium",children:[p," effects"]})]}),(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[t.favoredRaces.slice(0,2).map(($,A)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(Ge,{className:"h-3 w-3"}),$]},A)),t.favoredRaces.length>2&&a.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded-full text-xs font-medium",children:["+",t.favoredRaces.length-2]})]})]}),m&&a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed",children:m})}),a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 rounded-lg",children:[a.jsx(qs,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm font-medium",children:y})]})}),w.length>0&&a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"space-y-1",children:[w.slice(0,4).map(($,A)=>a.jsxs("div",{className:"flex items-start gap-2 p-2 bg-muted/30 rounded-lg text-xs",children:[a.jsx(nt,{className:"h-3 w-3 text-blue-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-muted-foreground leading-relaxed",children:$.title})]},A)),w.length>4&&a.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded-full text-xs font-medium text-center",children:["+",w.length-4," more tenets"]})]})}),r&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(V,{variant:"outline",size:"sm",onClick:d,children:a.jsx(Aa,{className:"h-4 w-4"})})})]})}const h9={Restoration:a.jsx(qs,{className:"h-4 w-4 text-green-500"}),Destruction:a.jsx(yo,{className:"h-4 w-4 text-red-500"}),Alteration:a.jsx(nt,{className:"h-4 w-4 text-blue-500"}),Illusion:a.jsx(Ol,{className:"h-4 w-4 text-purple-500"}),Conjuration:a.jsx(gn,{className:"h-4 w-4 text-purple-500"}),Enchanting:a.jsx(_a,{className:"h-4 w-4 text-blue-500"}),Alchemy:a.jsx(Rx,{className:"h-4 w-4 text-green-500"}),"Light Armor":a.jsx(nt,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":a.jsx(nt,{className:"h-4 w-4 text-gray-500"}),"One-Handed":a.jsx(mi,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":a.jsx(mi,{className:"h-4 w-4 text-red-500"}),Archery:a.jsx(us,{className:"h-4 w-4 text-green-500"}),Block:a.jsx(nt,{className:"h-4 w-4 text-yellow-500"}),Smithing:a.jsx(nt,{className:"h-4 w-4 text-gray-500"}),Speechcraft:a.jsx(Ol,{className:"h-4 w-4 text-blue-500"}),Sneak:a.jsx(vo,{className:"h-4 w-4 text-purple-500"}),Lockpicking:a.jsx(Il,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:a.jsx(Il,{className:"h-4 w-4 text-purple-500"})};function Eh(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Th({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<[^>]*>/g,"");r=r.replace(/<mag>/g,t.toString()),r=r.replace(/<magnitude>/g,t.toString()),r=r.replace(/<dur>/g,n.toString()),r=r.replace(/<duration>/g,n.toString()),s>0&&(r=r.replace(/<area>/g,s.toString())),r=r.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const i=r.split(/(<[^>]+>)/g);return a.jsx(ye,{className:"text-sm text-muted-foreground",children:i.map((l,o)=>{if(l.startsWith("<")&&l.endsWith(">")){const c=l.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},o)}return l})})}function BC({religion:e,isOpen:t,onOpenChange:n}){var r,i;if(!e)return null;const s=l=>h9[l]||a.jsx(Ge,{className:"h-4 w-4 text-skyrim-gold"});return a.jsx(Ii,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Dc,{religionName:e.name,size:"4xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.type&&a.jsx(PC,{category:e.type,size:"sm"}),a.jsx(ts,{itemId:e.name,itemType:"religion",itemName:e.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:((r=e.tenet)==null?void 0:r.description)||"A divine faith with unique blessings and tenets."})]})]})}),a.jsxs("div",{className:"space-y-6",children:[e.favoredRaces&&e.favoredRaces.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Favored Races"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.favoredRaces.map((l,o)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[a.jsx(Ge,{className:"h-4 w-4 text-skyrim-gold"}),a.jsx("span",{className:"text-sm font-medium",children:l})]},o))})]}),e.worshipRestrictions&&e.worshipRestrictions.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Worship Restrictions"}),a.jsx("div",{className:"space-y-2",children:e.worshipRestrictions.map((l,o)=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Xe,{className:"h-4 w-4 text-red-500 mt-0.5"}),a.jsx(ye,{className:"text-sm text-muted-foreground",children:l})]})},o))})]}),e.blessing&&e.blessing.effects.length>0&&a.jsxs("div",{children:[a.jsxs(Ne,{className:"text-lg font-semibold mb-3",children:["Blessing of ",e.name]}),a.jsx("div",{className:"space-y-3",children:e.blessing.effects.filter(l=>l.effectType!=="1"&&l.effectType!=="3").map((l,o)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qs,{className:"h-4 w-4 text-red-500"}),l.effectType&&s(l.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ye,{className:"font-medium text-sm mb-2",children:l.effectName}),a.jsx(Th,{description:l.effectDescription,magnitude:l.magnitude,duration:l.duration,area:l.area}),l.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(da,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",Eh(l.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:l.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(us,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",l.area]})]})})]})]})},o))})]}),((i=e.tenet)==null?void 0:i.effects)&&e.tenet.effects.length>0&&a.jsxs("div",{children:[a.jsxs(Ne,{className:"text-lg font-semibold mb-3",children:["Tenets of ",e.name]}),a.jsx("div",{className:"space-y-3",children:e.tenet.effects.map((l,o)=>l.effectDescription.split(".").filter(u=>u.trim().length>0).map((u,d)=>a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-4 w-4 text-blue-500"}),l.targetAttribute&&s(l.targetAttribute)]}),a.jsx("div",{className:"flex-1",children:a.jsx(ye,{className:"text-sm text-muted-foreground",children:u.trim()+"."})})]},`${o}-${d}`)))})]}),(e.boon1||e.boon2)&&a.jsxs("div",{children:[a.jsxs(Ne,{className:"text-lg font-semibold mb-3",children:["Boons of ",e.name]}),a.jsxs("div",{className:"space-y-4",children:[e.boon1&&e.boon1.effects.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-md font-medium mb-2",children:"Follower Boon"}),a.jsx("div",{className:"space-y-3",children:e.boon1.effects.map((l,o)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"h-4 w-4 text-yellow-500"}),l.effectType&&s(l.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ye,{className:"font-medium text-sm mb-2",children:l.effectName}),a.jsx(Th,{description:l.effectDescription,magnitude:l.magnitude,duration:l.duration,area:l.area}),l.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(da,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",Eh(l.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:l.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(us,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",l.area]})]})})]})]})},o))})]}),e.boon2&&e.boon2.effects.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-md font-medium mb-2",children:"Devotee Boon"}),a.jsx("div",{className:"space-y-3",children:e.boon2.effects.map((l,o)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"h-4 w-4 text-purple-500"}),l.effectType&&s(l.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ye,{className:"font-medium text-sm mb-2",children:l.effectName}),a.jsx(Th,{description:l.effectDescription,magnitude:l.magnitude,duration:l.duration,area:l.area}),l.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(da,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",Eh(l.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:l.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(us,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",l.area]})]})})]})]})},o))})]})]})]})]})]})})}function Eb({religions:e,selectedDeityId:t,onDeitySelect:n,placeholder:s="Search for a deity to follow...",className:r,disabled:i=!1}){const[l,o]=g.useState(""),{filteredReligions:c}=t9(e,l),u=g.useMemo(()=>s9(c),[c]),d=p=>{const y={Divine:"bg-blue-100 text-blue-800 border-blue-200","Daedric Prince":"bg-red-100 text-red-800 border-red-200",Tribunal:"bg-purple-100 text-purple-800 border-purple-200",Ancestor:"bg-green-100 text-green-800 border-green-200","Nordic Deity":"bg-orange-100 text-orange-800 border-orange-200","Yokudan Deity":"bg-yellow-100 text-yellow-800 border-yellow-200","Khajiiti Deity":"bg-indigo-100 text-indigo-800 border-indigo-200",Deity:"bg-gray-100 text-gray-800 border-gray-200"};return a.jsx(q,{variant:"outline",className:I("text-xs font-medium",y[p]||y.Deity),children:p})},f=g.useMemo(()=>u.map(p=>({id:p.id,label:p.name,description:p.tenetDescription,category:p.type,badge:d(p.type),metadata:{originalReligion:p.originalReligion,favoredRaces:p.favoredRaces}})),[u]),m=p=>{n(p.id)},h=(p,y)=>{var w;return a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium",children:p.label}),p.badge]}),p.description&&a.jsx(Re,{text:p.description,className:"text-sm text-muted-foreground line-clamp-2 mb-1"}),ds()&&((w=p.metadata)==null?void 0:w.favoredRaces)&&p.metadata.favoredRaces.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ge,{className:"h-3 w-3 text-skyrim-gold"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Favors: ",p.metadata.favoredRaces.join(", ")]})]})]})})};return a.jsx(mu,{options:f,onSelect:m,placeholder:s,className:r,disabled:i,renderOption:h,emptyMessage:"No deity found.",searchQuery:l,onSearchQueryChange:o})}function _h({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const s=n.split(/(<[^>]+>)/g);return a.jsx("div",{className:t,children:s.map((r,i)=>{if(r.startsWith("<")&&r.endsWith(">")){const l=r.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:l},i)}return r})})}function g9({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return a.jsx(ye,{className:"text-xs text-muted-foreground",children:t.map((n,s)=>{if(n.startsWith("<")&&n.endsWith(">")){const r=n.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:r},s)}return n})})}function Ah({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<[^>]*>/g,"");r=r.replace(/<mag>/g,t.toString()),r=r.replace(/<magnitude>/g,t.toString()),r=r.replace(/<dur>/g,n.toString()),r=r.replace(/<duration>/g,n.toString()),s>0&&(r=r.replace(/<area>/g,s.toString())),r=r.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const i=r.split(/(<[^>]+>)/g);return a.jsx(ye,{className:"text-xs text-muted-foreground",children:i.map((l,o)=>{if(l.startsWith("<")&&l.endsWith(">")){const c=l.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},o)}return l})})}function Mh(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Rh(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],s=t.some(i=>i.test(e)),r=n.some(i=>i.test(e));return{hasMagnitude:s,hasDuration:r}}const p9={Restoration:a.jsx(qs,{className:"h-4 w-4 text-green-500"}),Destruction:a.jsx(yo,{className:"h-4 w-4 text-red-500"}),Alteration:a.jsx(nt,{className:"h-4 w-4 text-blue-500"}),Illusion:a.jsx(Ol,{className:"h-4 w-4 text-purple-500"}),Conjuration:a.jsx(gn,{className:"h-4 w-4 text-purple-500"}),Enchanting:a.jsx(_a,{className:"h-4 w-4 text-blue-500"}),Alchemy:a.jsx(Rx,{className:"h-4 w-4 text-green-500"}),"Light Armor":a.jsx(nt,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":a.jsx(nt,{className:"h-4 w-4 text-gray-500"}),"One-Handed":a.jsx(mi,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":a.jsx(mi,{className:"h-4 w-4 text-red-500"}),Archery:a.jsx(us,{className:"h-4 w-4 text-green-500"}),Block:a.jsx(nt,{className:"h-4 w-4 text-yellow-500"}),Smithing:a.jsx(nt,{className:"h-4 w-4 text-gray-500"}),Speechcraft:a.jsx(Ol,{className:"h-4 w-4 text-blue-500"}),Sneak:a.jsx(vo,{className:"h-4 w-4 text-purple-500"}),Lockpicking:a.jsx(Il,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:a.jsx(Il,{className:"h-4 w-4 text-purple-500"})},x9={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},Tb={sm:"text-xs px-2 py-0.5"};function v9({item:e,originalReligion:t,isExpanded:n=!1,onToggle:s,className:r,showBlessings:i=!0,showTenets:l=!0,showBoons:o=!0,showFavoredRaces:c=!0,disableHover:u,showToggle:d}){var h,p,y,w,v,x,b,j;const f=N=>{switch(N){case"positive":return a.jsx(fa,{className:"h-4 w-4 text-green-500"});case"negative":return a.jsx(jl,{className:"h-4 w-4 text-red-500"});case"neutral":return a.jsx(Mx,{className:"h-4 w-4 text-blue-500"})}},m=N=>p9[N]||a.jsx(Ge,{className:"h-4 w-4 text-skyrim-gold"});return a.jsxs(pe,{expanded:n,onToggle:s,className:r,disableHover:u,children:[a.jsxs(pe.Header,{children:[d&&a.jsx(ts,{itemId:e.id,itemType:"religion",itemName:e.name}),a.jsx("div",{className:"flex-1",children:a.jsx(Ne,{className:"text-primary font-semibold",children:e.name})}),e.category&&a.jsx(q,{variant:"outline",className:I(x9[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",Tb.sm,"font-medium transition-colors"),children:e.category}),ds()&&c&&t&&Array.isArray(t.favoredRaces)&&t.favoredRaces.length>0&&a.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((N,C)=>a.jsxs(q,{variant:"outline",className:I("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",Tb.sm,"font-medium transition-colors"),children:[a.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Favors ",N]},C))})]}),a.jsxs(pe.Summary,{children:[a.jsx("div",{className:"line-clamp-2",children:a.jsx(_h,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(h=e.effects)==null?void 0:h.slice(0,2).map((N,C)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:N.description,children:[f(N.type),a.jsx("span",{className:"font-medium",children:N.name})]},C)),ds()&&c&&((p=t==null?void 0:t.favoredRaces)==null?void 0:p.slice(0,2).map((N,C)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[a.jsx(Ge,{className:"h-3 w-3 text-skyrim-gold"}),a.jsx("span",{className:"font-medium",children:N})]},`race-${C}`)))]})]}),a.jsxs(pe.Details,{children:[e.description&&a.jsx("div",{children:a.jsx(_h,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),ds()&&c&&Array.isArray(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((N,C)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[a.jsx(Ge,{className:"h-4 w-4 text-skyrim-gold"}),a.jsx("span",{className:"text-sm font-medium",children:N})]},C))})]}),Array.isArray(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),a.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((N,C)=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(jl,{className:"h-4 w-4 text-red-500 mt-0.5"}),a.jsx(_h,{text:N,className:"text-sm text-muted-foreground"})]})},C))})]}),i&&Array.isArray((y=t==null?void 0:t.blessing)==null?void 0:y.effects)&&t.blessing.effects.length>0&&a.jsxs("div",{children:[a.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),a.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(N=>N.effectType!=="1"&&N.effectType!=="3").map((N,C)=>{const{hasDuration:S}=Rh(N.effectDescription);return a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&m(N.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ye,{className:"font-medium text-sm mb-1",children:N.effectName}),a.jsx(Ah,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),S&&N.duration>0&&a.jsxs(ye,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",Mh(N.duration),"."]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&a.jsxs("span",{children:["Area: ",N.area]})})]})]})},C)})})]}),l&&Array.isArray((w=t==null?void 0:t.tenet)==null?void 0:w.effects)&&t.tenet.effects.length>0&&a.jsxs("div",{children:[a.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((N,C)=>N.effectDescription.split(".").filter(E=>E.trim().length>0).map((E,k)=>a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.targetAttribute&&m(N.targetAttribute)]}),a.jsx("div",{className:"flex-1",children:a.jsx(g9,{description:E.trim()+"."})})]},`${C}-${k}`)))})]}),o&&(Array.isArray((v=t==null?void 0:t.boon1)==null?void 0:v.effects)&&t.boon1.effects.length>0||Array.isArray((x=t==null?void 0:t.boon2)==null?void 0:x.effects)&&t.boon2.effects.length>0)&&a.jsxs("div",{children:[a.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),a.jsxs("div",{className:"space-y-4",children:[Array.isArray((b=t==null?void 0:t.boon1)==null?void 0:b.effects)&&t.boon1.effects.length>0&&a.jsxs("div",{children:[a.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),a.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((N,C)=>{const{hasDuration:S}=Rh(N.effectDescription);return a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&m(N.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ye,{className:"font-medium text-sm mb-1",children:N.effectName}),a.jsx(Ah,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),S&&N.duration>0&&a.jsxs(ye,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Mh(N.duration),"."]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&a.jsxs("span",{children:["Area: ",N.area]})})]})]})},C)})})]}),Array.isArray((j=t==null?void 0:t.boon2)==null?void 0:j.effects)&&t.boon2.effects.length>0&&a.jsxs("div",{children:[a.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),a.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((N,C)=>{const{hasDuration:S}=Rh(N.effectDescription);return a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&m(N.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ye,{className:"font-medium text-sm mb-1",children:N.effectName}),a.jsx(Ah,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),S&&N.duration>0&&a.jsxs(ye,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Mh(N.duration),"."]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&a.jsxs("span",{children:["Area: ",N.area]})})]})]})},C)})})]})]})]})]})]})}function y9(){const{data:e,loading:t,error:n}=Ek();return{religions:e||[],loading:t,error:n}}function IC({className:e}){const{religions:t,loading:n,error:s}=y9(),{build:r,setReligion:i}=pt(),l=ut(),[o,c]=g.useState(!0),u=r.religion?r9(t,r.religion):null,d=()=>{l("/build/religions")},f=()=>{c(!o)};if(n)return a.jsx(Yn,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading religions..."})});if(s)return a.jsx(Yn,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:a.jsxs("div",{className:"text-sm text-destructive",children:["Error loading religions: ",s]})});if(!u)return a.jsxs(Yn,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's religion"}),a.jsx(Eb,{religions:t,selectedDeityId:r.religion,onDeitySelect:i,placeholder:"Search for a religion...",className:"w-full"})]});const m=gC(u);return a.jsxs(Yn,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[a.jsx(Eb,{religions:t,selectedDeityId:r.religion,onDeitySelect:i,placeholder:`Religion: Select a religion (${u.name})`,className:"w-full"}),a.jsx(v9,{item:m,originalReligion:u,isExpanded:o,onToggle:f,className:"border-0 shadow-none",disableHover:!0,showToggle:!1,showBlessings:!1,showTenets:!0,showBoons:!0,showFavoredRaces:ds()})]})}function FC({level:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return e<=0?null:a.jsxs(q,{variant:"secondary",className:I("bg-blue-100 text-blue-800 border-blue-200",n[t]),children:["Min: Level ",e]})}function b9({name:e,description:t,category:n,assignmentType:s,perkCount:r,level:i,onSelect:l,onMajorClick:o,onMinorClick:c,canAssignMajor:u,canAssignMinor:d,className:f}){const m=p=>{p.stopPropagation(),o(p)},h=p=>{p.stopPropagation(),c(p)};return a.jsxs("div",{className:I("p-4 border rounded-lg hover:bg-muted/50 transition-colors",f),onClick:l,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zm,{skillName:e,size:"2xl",className:"flex-shrink-0"}),a.jsx("h3",{className:"font-semibold text-lg cursor-pointer",children:e})]}),a.jsx(w9,{type:s})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:t}),a.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[a.jsx(j9,{category:n}),a.jsx(N9,{count:r}),typeof i=="number"&&i>0&&a.jsx(FC,{level:i})]}),a.jsxs("div",{className:"flex gap-2","data-assignment-control":!0,children:[a.jsx(V,{size:"sm",variant:s==="major"?"default":"outline",onClick:m,disabled:!u&&s!=="major",className:I("flex-1 text-xs",s==="major"&&"bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-500"),children:s==="major"?"Remove Major":"Major"}),a.jsx(V,{size:"sm",variant:s==="minor"?"default":"outline",onClick:h,disabled:!d&&s!=="minor",className:I("flex-1 text-xs",s==="minor"&&"bg-gray-500 hover:bg-gray-600 text-white border-gray-400"),children:s==="minor"?"Remove Minor":"Minor"})]})]})}function w9({type:e,size:t="sm"}){const n={major:"bg-yellow-600 text-white hover:bg-yellow-700 border-yellow-500",minor:"bg-gray-500 text-white hover:bg-gray-600 border-gray-400",none:"bg-gray-100 text-gray-800 border border-gray-300"},s={major:"Major",minor:"Minor",none:"Unassigned"},r={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a.jsx(q,{className:I(n[e],r[t]),children:s[e]})}function j9({category:e,size:t="sm"}){const n={Combat:"bg-red-100 text-red-800 border-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200"},s={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a.jsx(q,{variant:"outline",className:I(n[e]||"bg-gray-100 text-gray-800 border-gray-300",s[t]),children:e})}function N9({count:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a.jsxs(q,{variant:"secondary",className:I("bg-purple-100 text-purple-800 border-purple-200",n[t]),children:[e," Perks"]})}function S9(){return a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loading Skills..."}),a.jsx("p",{className:"text-muted-foreground",children:"Initializing skill and perk data..."})]})})}function k9({error:e}){return a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs("div",{className:"text-center text-red-600",children:[a.jsx(Bl,{className:"h-12 w-12 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Skills"}),a.jsx("p",{className:"text-muted-foreground",children:e})]})})}const C9={Alchemy:"alchemy.svg",Alteration:"alteration.svg",Block:"block.svg",Conjuration:"conjuration.svg",Destruction:"destruction.svg",Enchanting:"enchanting.svg",Evasion:"evasion.svg",Finesse:"finesse.svg","Heavy Armor":"heavyarmor.svg",Illusion:"illusion.svg",Marksman:"marksman.svg","One-handed":"one-handed.svg",Restoration:"restoration.svg",Smithing:"smithing.svg",Sneak:"sneak.svg",Speech:"speech.svg","Two-handed":"two-handed.svg",Wayfarer:"wayfarer.svg"};function zm({skillName:e,size:t="md",className:n}){const s=C9[e],r=s?an(`assets/skills/${s}`):void 0;return a.jsx(jm,{imgSrc:r,alt:e,size:t,className:n,showBorder:!0})}function E9({skills:e,onSkillSelect:t,onAssignMajor:n,onAssignMinor:s,onRemoveAssignment:r,selectedSkillId:i,className:l}){return a.jsx("div",{className:I("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",l),children:e.map(o=>a.jsx(b9,{name:o.name,description:o.description,category:o.category,assignmentType:o.assignmentType,perkCount:o.perkCount,level:o.level,canAssignMajor:o.canAssignMajor,canAssignMinor:o.canAssignMinor,onSelect:()=>t(o.id),onMajorClick:c=>{c.preventDefault(),n(o.id)},onMinorClick:c=>{c.preventDefault(),s(o.id)},className:i===o.id?"ring-2 ring-primary bg-primary/5":""},o.id))})}function on(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)(s=on(e[n]))!==""&&(t+=(t&&" ")+s);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var HC={exports:{}},UC={},VC={exports:{}},qC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=g;function T9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _9=typeof Object.is=="function"?Object.is:T9,A9=Kl.useState,M9=Kl.useEffect,R9=Kl.useLayoutEffect,D9=Kl.useDebugValue;function z9(e,t){var n=t(),s=A9({inst:{value:n,getSnapshot:t}}),r=s[0].inst,i=s[1];return R9(function(){r.value=n,r.getSnapshot=t,Dh(r)&&i({inst:r})},[e,n,t]),M9(function(){return Dh(r)&&i({inst:r}),e(function(){Dh(r)&&i({inst:r})})},[e]),D9(n),n}function Dh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_9(e,n)}catch{return!0}}function L9(e,t){return t()}var $9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?L9:z9;qC.useSyncExternalStore=Kl.useSyncExternalStore!==void 0?Kl.useSyncExternalStore:$9;VC.exports=qC;var P9=VC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=g,O9=P9;function B9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I9=typeof Object.is=="function"?Object.is:B9,F9=O9.useSyncExternalStore,H9=Lm.useRef,U9=Lm.useEffect,V9=Lm.useMemo,q9=Lm.useDebugValue;UC.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var i=H9(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=V9(function(){function c(h){if(!u){if(u=!0,d=h,h=s(h),r!==void 0&&l.hasValue){var p=l.value;if(r(p,h))return f=p}return f=h}if(p=f,I9(d,h))return p;var y=s(h);return r!==void 0&&r(p,y)?(d=h,p):(d=h,f=y)}var u=!1,d,f,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,s,r]);var o=F9(e,i[0],i[1]);return U9(function(){l.hasValue=!0,l.value=o},[o]),q9(o),o};HC.exports=UC;var Z9=HC.exports;const G9=kx(Z9),Y9={},_b=e=>{let t;const n=new Set,s=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(p=>p(t,h))}},r=()=>t,c={setState:s,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Y9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(s,r,c);return c},X9=e=>e?_b(e):_b,{useDebugValue:W9}=L,{useSyncExternalStoreWithSelector:Q9}=G9,K9=e=>e;function ZC(e,t=K9,n){const s=Q9(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return W9(s),s}const Ab=(e,t)=>{const n=X9(e),s=(r,i=t)=>ZC(n,r,i);return Object.assign(s,n),s},J9=(e,t)=>e?Ab(e,t):Ab;function pn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var e7={value:()=>{}};function $m(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Md(n)}function Md(e){this._=e}function t7(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",r=n.indexOf(".");if(r>=0&&(s=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Md.prototype=$m.prototype={constructor:Md,on:function(e,t){var n=this._,s=t7(e+"",n),r,i=-1,l=s.length;if(arguments.length<2){for(;++i<l;)if((r=(e=s[i]).type)&&(r=n7(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(r=(e=s[i]).type)n[r]=Mb(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Mb(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Md(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),s=0,r,i;s<r;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],s=0,r=i.length;s<r;++s)i[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)}};function n7(e,t){for(var n=0,s=e.length,r;n<s;++n)if((r=e[n]).name===t)return r.value}function Mb(e,t,n){for(var s=0,r=e.length;s<r;++s)if(e[s].name===t){e[s]=e7,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}var ip="http://www.w3.org/1999/xhtml";const Rb={svg:"http://www.w3.org/2000/svg",xhtml:ip,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pm(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Rb.hasOwnProperty(t)?{space:Rb[t],local:e}:e}function s7(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ip&&t.documentElement.namespaceURI===ip?t.createElement(e):t.createElementNS(n,e)}}function r7(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function GC(e){var t=Pm(e);return(t.local?r7:s7)(t)}function a7(){}function P0(e){return e==null?a7:function(){return this.querySelector(e)}}function i7(e){typeof e!="function"&&(e=P0(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],l=i.length,o=s[r]=new Array(l),c,u,d=0;d<l;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),o[d]=u);return new zn(s,this._parents)}function l7(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function o7(){return[]}function YC(e){return e==null?o7:function(){return this.querySelectorAll(e)}}function c7(e){return function(){return l7(e.apply(this,arguments))}}function u7(e){typeof e=="function"?e=c7(e):e=YC(e);for(var t=this._groups,n=t.length,s=[],r=[],i=0;i<n;++i)for(var l=t[i],o=l.length,c,u=0;u<o;++u)(c=l[u])&&(s.push(e.call(c,c.__data__,u,l)),r.push(c));return new zn(s,r)}function XC(e){return function(){return this.matches(e)}}function WC(e){return function(t){return t.matches(e)}}var d7=Array.prototype.find;function f7(e){return function(){return d7.call(this.children,e)}}function m7(){return this.firstElementChild}function h7(e){return this.select(e==null?m7:f7(typeof e=="function"?e:WC(e)))}var g7=Array.prototype.filter;function p7(){return Array.from(this.children)}function x7(e){return function(){return g7.call(this.children,e)}}function v7(e){return this.selectAll(e==null?p7:x7(typeof e=="function"?e:WC(e)))}function y7(e){typeof e!="function"&&(e=XC(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],l=i.length,o=s[r]=[],c,u=0;u<l;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&o.push(c);return new zn(s,this._parents)}function QC(e){return new Array(e.length)}function b7(){return new zn(this._enter||this._groups.map(QC),this._parents)}function hf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}hf.prototype={constructor:hf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function w7(e){return function(){return e}}function j7(e,t,n,s,r,i){for(var l=0,o,c=t.length,u=i.length;l<u;++l)(o=t[l])?(o.__data__=i[l],s[l]=o):n[l]=new hf(e,i[l]);for(;l<c;++l)(o=t[l])&&(r[l]=o)}function N7(e,t,n,s,r,i,l){var o,c,u=new Map,d=t.length,f=i.length,m=new Array(d),h;for(o=0;o<d;++o)(c=t[o])&&(m[o]=h=l.call(c,c.__data__,o,t)+"",u.has(h)?r[o]=c:u.set(h,c));for(o=0;o<f;++o)h=l.call(e,i[o],o,i)+"",(c=u.get(h))?(s[o]=c,c.__data__=i[o],u.delete(h)):n[o]=new hf(e,i[o]);for(o=0;o<d;++o)(c=t[o])&&u.get(m[o])===c&&(r[o]=c)}function S7(e){return e.__data__}function k7(e,t){if(!arguments.length)return Array.from(this,S7);var n=t?N7:j7,s=this._parents,r=this._groups;typeof e!="function"&&(e=w7(e));for(var i=r.length,l=new Array(i),o=new Array(i),c=new Array(i),u=0;u<i;++u){var d=s[u],f=r[u],m=f.length,h=C7(e.call(d,d&&d.__data__,u,s)),p=h.length,y=o[u]=new Array(p),w=l[u]=new Array(p),v=c[u]=new Array(m);n(d,f,y,w,v,h,t);for(var x=0,b=0,j,N;x<p;++x)if(j=y[x]){for(x>=b&&(b=x+1);!(N=w[b])&&++b<p;);j._next=N||null}}return l=new zn(l,s),l._enter=o,l._exit=c,l}function C7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function E7(){return new zn(this._exit||this._groups.map(QC),this._parents)}function T7(e,t,n){var s=this.enter(),r=this,i=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),s&&r?s.merge(r).order():r}function _7(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,r=n.length,i=s.length,l=Math.min(r,i),o=new Array(r),c=0;c<l;++c)for(var u=n[c],d=s[c],f=u.length,m=o[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||d[p])&&(m[p]=h);for(;c<r;++c)o[c]=n[c];return new zn(o,this._parents)}function A7(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s=e[t],r=s.length-1,i=s[r],l;--r>=0;)(l=s[r])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function M7(e){e||(e=R7);function t(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var n=this._groups,s=n.length,r=new Array(s),i=0;i<s;++i){for(var l=n[i],o=l.length,c=r[i]=new Array(o),u,d=0;d<o;++d)(u=l[d])&&(c[d]=u);c.sort(t)}return new zn(r,this._parents).order()}function R7(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function D7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function z7(){return Array.from(this)}function L7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,i=s.length;r<i;++r){var l=s[r];if(l)return l}return null}function $7(){let e=0;for(const t of this)++e;return e}function P7(){return!this.node()}function O7(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var r=t[n],i=0,l=r.length,o;i<l;++i)(o=r[i])&&e.call(o,o.__data__,i,r);return this}function B7(e){return function(){this.removeAttribute(e)}}function I7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function F7(e,t){return function(){this.setAttribute(e,t)}}function H7(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function U7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function V7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function q7(e,t){var n=Pm(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?I7:B7:typeof t=="function"?n.local?V7:U7:n.local?H7:F7)(n,t))}function KC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Z7(e){return function(){this.style.removeProperty(e)}}function G7(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Y7(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function X7(e,t,n){return arguments.length>1?this.each((t==null?Z7:typeof t=="function"?Y7:G7)(e,t,n??"")):Jl(this.node(),e)}function Jl(e,t){return e.style.getPropertyValue(t)||KC(e).getComputedStyle(e,null).getPropertyValue(t)}function W7(e){return function(){delete this[e]}}function Q7(e,t){return function(){this[e]=t}}function K7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function J7(e,t){return arguments.length>1?this.each((t==null?W7:typeof t=="function"?K7:Q7)(e,t)):this.node()[e]}function JC(e){return e.trim().split(/^|\s+/)}function O0(e){return e.classList||new eE(e)}function eE(e){this._node=e,this._names=JC(e.getAttribute("class")||"")}eE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tE(e,t){for(var n=O0(e),s=-1,r=t.length;++s<r;)n.add(t[s])}function nE(e,t){for(var n=O0(e),s=-1,r=t.length;++s<r;)n.remove(t[s])}function eF(e){return function(){tE(this,e)}}function tF(e){return function(){nE(this,e)}}function nF(e,t){return function(){(t.apply(this,arguments)?tE:nE)(this,e)}}function sF(e,t){var n=JC(e+"");if(arguments.length<2){for(var s=O0(this.node()),r=-1,i=n.length;++r<i;)if(!s.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?nF:t?eF:tF)(n,t))}function rF(){this.textContent=""}function aF(e){return function(){this.textContent=e}}function iF(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function lF(e){return arguments.length?this.each(e==null?rF:(typeof e=="function"?iF:aF)(e)):this.node().textContent}function oF(){this.innerHTML=""}function cF(e){return function(){this.innerHTML=e}}function uF(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function dF(e){return arguments.length?this.each(e==null?oF:(typeof e=="function"?uF:cF)(e)):this.node().innerHTML}function fF(){this.nextSibling&&this.parentNode.appendChild(this)}function mF(){return this.each(fF)}function hF(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gF(){return this.each(hF)}function pF(e){var t=typeof e=="function"?e:GC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function xF(){return null}function vF(e,t){var n=typeof e=="function"?e:GC(e),s=t==null?xF:typeof t=="function"?t:P0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function yF(){var e=this.parentNode;e&&e.removeChild(this)}function bF(){return this.each(yF)}function wF(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jF(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function NF(e){return this.select(e?jF:wF)}function SF(e){return arguments.length?this.property("__data__",e):this.node().__data__}function kF(e){return function(t){e.call(this,t,this.__data__)}}function CF(e){return e.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function EF(e){return function(){var t=this.__on;if(t){for(var n=0,s=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++s]=i;++s?t.length=s:delete this.__on}}}function TF(e,t,n){return function(){var s=this.__on,r,i=kF(t);if(s){for(var l=0,o=s.length;l<o;++l)if((r=s[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},s?s.push(r):this.__on=[r]}}function _F(e,t,n){var s=CF(e+""),r,i=s.length,l;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,u=o.length,d;c<u;++c)for(r=0,d=o[c];r<i;++r)if((l=s[r]).type===d.type&&l.name===d.name)return d.value}return}for(o=t?TF:EF,r=0;r<i;++r)this.each(o(s[r],t,n));return this}function sE(e,t,n){var s=KC(e),r=s.CustomEvent;typeof r=="function"?r=new r(t,n):(r=s.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function AF(e,t){return function(){return sE(this,e,t)}}function MF(e,t){return function(){return sE(this,e,t.apply(this,arguments))}}function RF(e,t){return this.each((typeof t=="function"?MF:AF)(e,t))}function*DF(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,i=s.length,l;r<i;++r)(l=s[r])&&(yield l)}var rE=[null];function zn(e,t){this._groups=e,this._parents=t}function pu(){return new zn([[document.documentElement]],rE)}function zF(){return this}zn.prototype=pu.prototype={constructor:zn,select:i7,selectAll:u7,selectChild:h7,selectChildren:v7,filter:y7,data:k7,enter:b7,exit:E7,join:T7,merge:_7,selection:zF,order:A7,sort:M7,call:D7,nodes:z7,node:L7,size:$7,empty:P7,each:O7,attr:q7,style:X7,property:J7,classed:sF,text:lF,html:dF,raise:mF,lower:gF,append:pF,insert:vF,remove:bF,clone:NF,datum:SF,on:_F,dispatch:RF,[Symbol.iterator]:DF};function ls(e){return typeof e=="string"?new zn([[document.querySelector(e)]],[document.documentElement]):new zn([[e]],rE)}function LF(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ts(e,t){if(e=LF(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const $F={passive:!1},zc={capture:!0,passive:!1};function zh(e){e.stopImmediatePropagation()}function Cl(e){e.preventDefault(),e.stopImmediatePropagation()}function aE(e){var t=e.document.documentElement,n=ls(e).on("dragstart.drag",Cl,zc);"onselectstart"in t?n.on("selectstart.drag",Cl,zc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function iE(e,t){var n=e.document.documentElement,s=ls(e).on("dragstart.drag",null);t&&(s.on("click.drag",Cl,zc),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Wu=e=>()=>e;function lp(e,{sourceEvent:t,subject:n,target:s,identifier:r,active:i,x:l,y:o,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}lp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function PF(e){return!e.ctrlKey&&!e.button}function OF(){return this.parentNode}function BF(e,t){return t??{x:e.x,y:e.y}}function IF(){return navigator.maxTouchPoints||"ontouchstart"in this}function FF(){var e=PF,t=OF,n=BF,s=IF,r={},i=$m("start","drag","end"),l=0,o,c,u,d,f=0;function m(j){j.on("mousedown.drag",h).filter(s).on("touchstart.drag",w).on("touchmove.drag",v,$F).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(j,N){if(!(d||!e.call(this,j,N))){var C=b(this,t.call(this,j,N),j,N,"mouse");C&&(ls(j.view).on("mousemove.drag",p,zc).on("mouseup.drag",y,zc),aE(j.view),zh(j),u=!1,o=j.clientX,c=j.clientY,C("start",j))}}function p(j){if(Cl(j),!u){var N=j.clientX-o,C=j.clientY-c;u=N*N+C*C>f}r.mouse("drag",j)}function y(j){ls(j.view).on("mousemove.drag mouseup.drag",null),iE(j.view,u),Cl(j),r.mouse("end",j)}function w(j,N){if(e.call(this,j,N)){var C=j.changedTouches,S=t.call(this,j,N),E=C.length,k,T;for(k=0;k<E;++k)(T=b(this,S,j,N,C[k].identifier,C[k]))&&(zh(j),T("start",j,C[k]))}}function v(j){var N=j.changedTouches,C=N.length,S,E;for(S=0;S<C;++S)(E=r[N[S].identifier])&&(Cl(j),E("drag",j,N[S]))}function x(j){var N=j.changedTouches,C=N.length,S,E;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),S=0;S<C;++S)(E=r[N[S].identifier])&&(zh(j),E("end",j,N[S]))}function b(j,N,C,S,E,k){var T=i.copy(),D=Ts(k||C,N),O,z,_;if((_=n.call(j,new lp("beforestart",{sourceEvent:C,target:m,identifier:E,active:l,x:D[0],y:D[1],dx:0,dy:0,dispatch:T}),S))!=null)return O=_.x-D[0]||0,z=_.y-D[1]||0,function P(M,$,A){var R=D,B;switch(M){case"start":r[E]=P,B=l++;break;case"end":delete r[E],--l;case"drag":D=Ts(A||$,N),B=l;break}T.call(M,j,new lp(M,{sourceEvent:$,subject:_,target:m,identifier:E,active:B,x:D[0]+O,y:D[1]+z,dx:D[0]-R[0],dy:D[1]-R[1],dispatch:T}),S)}}return m.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Wu(!!j),m):e},m.container=function(j){return arguments.length?(t=typeof j=="function"?j:Wu(j),m):t},m.subject=function(j){return arguments.length?(n=typeof j=="function"?j:Wu(j),m):n},m.touchable=function(j){return arguments.length?(s=typeof j=="function"?j:Wu(!!j),m):s},m.on=function(){var j=i.on.apply(i,arguments);return j===i?m:j},m.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,m):Math.sqrt(f)},m}function B0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lE(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function xu(){}var Lc=.7,gf=1/Lc,El="\\s*([+-]?\\d+)\\s*",$c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HF=/^#([0-9a-f]{3,8})$/,UF=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),VF=new RegExp(`^rgb\\(${Bs},${Bs},${Bs}\\)$`),qF=new RegExp(`^rgba\\(${El},${El},${El},${$c}\\)$`),ZF=new RegExp(`^rgba\\(${Bs},${Bs},${Bs},${$c}\\)$`),GF=new RegExp(`^hsl\\(${$c},${Bs},${Bs}\\)$`),YF=new RegExp(`^hsla\\(${$c},${Bs},${Bs},${$c}\\)$`),Db={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B0(xu,Pc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zb,formatHex:zb,formatHex8:XF,formatHsl:WF,formatRgb:Lb,toString:Lb});function zb(){return this.rgb().formatHex()}function XF(){return this.rgb().formatHex8()}function WF(){return oE(this).formatHsl()}function Lb(){return this.rgb().formatRgb()}function Pc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=HF.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$b(t):n===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Qu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Qu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UF.exec(e))?new hn(t[1],t[2],t[3],1):(t=VF.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qF.exec(e))?Qu(t[1],t[2],t[3],t[4]):(t=ZF.exec(e))?Qu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GF.exec(e))?Bb(t[1],t[2]/100,t[3]/100,1):(t=YF.exec(e))?Bb(t[1],t[2]/100,t[3]/100,t[4]):Db.hasOwnProperty(e)?$b(Db[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function $b(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function Qu(e,t,n,s){return s<=0&&(e=t=n=NaN),new hn(e,t,n,s)}function QF(e){return e instanceof xu||(e=Pc(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function op(e,t,n,s){return arguments.length===1?QF(e):new hn(e,t,n,s??1)}function hn(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}B0(hn,op,lE(xu,{brighter(e){return e=e==null?gf:Math.pow(gf,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lc:Math.pow(Lc,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(ai(this.r),ai(this.g),ai(this.b),pf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pb,formatHex:Pb,formatHex8:KF,formatRgb:Ob,toString:Ob}));function Pb(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}`}function KF(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}${ni((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ob(){const e=pf(this.opacity);return`${e===1?"rgb(":"rgba("}${ai(this.r)}, ${ai(this.g)}, ${ai(this.b)}${e===1?")":`, ${e})`}`}function pf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ai(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ni(e){return e=ai(e),(e<16?"0":"")+e.toString(16)}function Bb(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new os(e,t,n,s)}function oE(e){if(e instanceof os)return new os(e.h,e.s,e.l,e.opacity);if(e instanceof xu||(e=Pc(e)),!e)return new os;if(e instanceof os)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,r=Math.min(t,n,s),i=Math.max(t,n,s),l=NaN,o=i-r,c=(i+r)/2;return o?(t===i?l=(n-s)/o+(n<s)*6:n===i?l=(s-t)/o+2:l=(t-n)/o+4,o/=c<.5?i+r:2-i-r,l*=60):o=c>0&&c<1?0:l,new os(l,o,c,e.opacity)}function JF(e,t,n,s){return arguments.length===1?oE(e):new os(e,t,n,s??1)}function os(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}B0(os,JF,lE(xu,{brighter(e){return e=e==null?gf:Math.pow(gf,e),new os(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lc:Math.pow(Lc,e),new os(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,r=2*n-s;return new hn(Lh(e>=240?e-240:e+120,r,s),Lh(e,r,s),Lh(e<120?e+240:e-120,r,s),this.opacity)},clamp(){return new os(Ib(this.h),Ku(this.s),Ku(this.l),pf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pf(this.opacity);return`${e===1?"hsl(":"hsla("}${Ib(this.h)}, ${Ku(this.s)*100}%, ${Ku(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ib(e){return e=(e||0)%360,e<0?e+360:e}function Ku(e){return Math.max(0,Math.min(1,e||0))}function Lh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cE=e=>()=>e;function eH(e,t){return function(n){return e+n*t}}function tH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function nH(e){return(e=+e)==1?uE:function(t,n){return n-t?tH(t,n,e):cE(isNaN(t)?n:t)}}function uE(e,t){var n=t-e;return n?eH(e,n):cE(isNaN(e)?t:e)}const Fb=function e(t){var n=nH(t);function s(r,i){var l=n((r=op(r)).r,(i=op(i)).r),o=n(r.g,i.g),c=n(r.b,i.b),u=uE(r.opacity,i.opacity);return function(d){return r.r=l(d),r.g=o(d),r.b=c(d),r.opacity=u(d),r+""}}return s.gamma=e,s}(1);function Xr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var cp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$h=new RegExp(cp.source,"g");function sH(e){return function(){return e}}function rH(e){return function(t){return e(t)+""}}function aH(e,t){var n=cp.lastIndex=$h.lastIndex=0,s,r,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(s=cp.exec(e))&&(r=$h.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),o[l]?o[l]+=i:o[++l]=i),(s=s[0])===(r=r[0])?o[l]?o[l]+=r:o[++l]=r:(o[++l]=null,c.push({i:l,x:Xr(s,r)})),n=$h.lastIndex;return n<t.length&&(i=t.slice(n),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?rH(c[0].x):sH(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}var Hb=180/Math.PI,up={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dE(e,t,n,s,r,i){var l,o,c;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(c=e*n+t*s)&&(n-=e*c,s-=t*c),(o=Math.sqrt(n*n+s*s))&&(n/=o,s/=o,c/=o),e*s<t*n&&(e=-e,t=-t,c=-c,l=-l),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Hb,skewX:Math.atan(c)*Hb,scaleX:l,scaleY:o}}var Ju;function iH(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?up:dE(t.a,t.b,t.c,t.d,t.e,t.f)}function lH(e){return e==null||(Ju||(Ju=document.createElementNS("http://www.w3.org/2000/svg","g")),Ju.setAttribute("transform",e),!(e=Ju.transform.baseVal.consolidate()))?up:(e=e.matrix,dE(e.a,e.b,e.c,e.d,e.e,e.f))}function fE(e,t,n,s){function r(u){return u.length?u.pop()+" ":""}function i(u,d,f,m,h,p){if(u!==f||d!==m){var y=h.push("translate(",null,t,null,n);p.push({i:y-4,x:Xr(u,f)},{i:y-2,x:Xr(d,m)})}else(f||m)&&h.push("translate("+f+t+m+n)}function l(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(r(f)+"rotate(",null,s)-2,x:Xr(u,d)})):d&&f.push(r(f)+"rotate("+d+s)}function o(u,d,f,m){u!==d?m.push({i:f.push(r(f)+"skewX(",null,s)-2,x:Xr(u,d)}):d&&f.push(r(f)+"skewX("+d+s)}function c(u,d,f,m,h,p){if(u!==f||d!==m){var y=h.push(r(h)+"scale(",null,",",null,")");p.push({i:y-4,x:Xr(u,f)},{i:y-2,x:Xr(d,m)})}else(f!==1||m!==1)&&h.push(r(h)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,m),l(u.rotate,d.rotate,f,m),o(u.skewX,d.skewX,f,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(h){for(var p=-1,y=m.length,w;++p<y;)f[(w=m[p]).i]=w.x(h);return f.join("")}}}var oH=fE(iH,"px, ","px)","deg)"),cH=fE(lH,", ",")",")"),uH=1e-12;function Ub(e){return((e=Math.exp(e))+1/e)/2}function dH(e){return((e=Math.exp(e))-1/e)/2}function fH(e){return((e=Math.exp(2*e))-1)/(e+1)}const mH=function e(t,n,s){function r(i,l){var o=i[0],c=i[1],u=i[2],d=l[0],f=l[1],m=l[2],h=d-o,p=f-c,y=h*h+p*p,w,v;if(y<uH)v=Math.log(m/u)/t,w=function(S){return[o+S*h,c+S*p,u*Math.exp(t*S*v)]};else{var x=Math.sqrt(y),b=(m*m-u*u+s*y)/(2*u*n*x),j=(m*m-u*u-s*y)/(2*m*n*x),N=Math.log(Math.sqrt(b*b+1)-b),C=Math.log(Math.sqrt(j*j+1)-j);v=(C-N)/t,w=function(S){var E=S*v,k=Ub(N),T=u/(n*x)*(k*fH(t*E+N)-dH(N));return[o+T*h,c+T*p,u*k/Ub(t*E+N)]}}return w.duration=v*1e3*t/Math.SQRT2,w}return r.rho=function(i){var l=Math.max(.001,+i),o=l*l,c=o*o;return e(l,o,c)},r}(Math.SQRT2,2,4);var eo=0,ec=0,Po=0,mE=1e3,xf,tc,vf=0,bi=0,Om=0,Oc=typeof performance=="object"&&performance.now?performance:Date,hE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function I0(){return bi||(hE(hH),bi=Oc.now()+Om)}function hH(){bi=0}function yf(){this._call=this._time=this._next=null}yf.prototype=gE.prototype={constructor:yf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?I0():+n)+(t==null?0:+t),!this._next&&tc!==this&&(tc?tc._next=this:xf=this,tc=this),this._call=e,this._time=n,dp()},stop:function(){this._call&&(this._call=null,this._time=1/0,dp())}};function gE(e,t,n){var s=new yf;return s.restart(e,t,n),s}function gH(){I0(),++eo;for(var e=xf,t;e;)(t=bi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--eo}function Vb(){bi=(vf=Oc.now())+Om,eo=ec=0;try{gH()}finally{eo=0,xH(),bi=0}}function pH(){var e=Oc.now(),t=e-vf;t>mE&&(Om-=t,vf=e)}function xH(){for(var e,t=xf,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xf=n);tc=e,dp(s)}function dp(e){if(!eo){ec&&(ec=clearTimeout(ec));var t=e-bi;t>24?(e<1/0&&(ec=setTimeout(Vb,e-Oc.now()-Om)),Po&&(Po=clearInterval(Po))):(Po||(vf=Oc.now(),Po=setInterval(pH,mE)),eo=1,hE(Vb))}}function qb(e,t,n){var s=new yf;return t=t==null?0:+t,s.restart(r=>{s.stop(),e(r+t)},t,n),s}var vH=$m("start","end","cancel","interrupt"),yH=[],pE=0,Zb=1,fp=2,Rd=3,Gb=4,mp=5,Dd=6;function Bm(e,t,n,s,r,i){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;bH(e,n,{name:t,index:s,group:r,on:vH,tween:yH,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:pE})}function F0(e,t){var n=vs(e,t);if(n.state>pE)throw new Error("too late; already scheduled");return n}function Ws(e,t){var n=vs(e,t);if(n.state>Rd)throw new Error("too late; already running");return n}function vs(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function bH(e,t,n){var s=e.__transition,r;s[t]=n,n.timer=gE(i,0,n.time);function i(u){n.state=Zb,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var d,f,m,h;if(n.state!==Zb)return c();for(d in s)if(h=s[d],h.name===n.name){if(h.state===Rd)return qb(l);h.state===Gb?(h.state=Dd,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete s[d]):+d<t&&(h.state=Dd,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete s[d])}if(qb(function(){n.state===Rd&&(n.state=Gb,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=fp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===fp){for(n.state=Rd,r=new Array(m=n.tween.length),d=0,f=-1;d<m;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function o(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=mp,1),f=-1,m=r.length;++f<m;)r[f].call(e,d);n.state===mp&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Dd,n.timer.stop(),delete s[t];for(var u in s)return;delete e.__transition}}function zd(e,t){var n=e.__transition,s,r,i=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((s=n[l]).name!==t){i=!1;continue}r=s.state>fp&&s.state<mp,s.state=Dd,s.timer.stop(),s.on.call(r?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[l]}i&&delete e.__transition}}function wH(e){return this.each(function(){zd(this,e)})}function jH(e,t){var n,s;return function(){var r=Ws(this,e),i=r.tween;if(i!==n){s=n=i;for(var l=0,o=s.length;l<o;++l)if(s[l].name===t){s=s.slice(),s.splice(l,1);break}}r.tween=s}}function NH(e,t,n){var s,r;if(typeof n!="function")throw new Error;return function(){var i=Ws(this,e),l=i.tween;if(l!==s){r=(s=l).slice();for(var o={name:t,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=o;break}c===u&&r.push(o)}i.tween=r}}function SH(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s=vs(this.node(),n).tween,r=0,i=s.length,l;r<i;++r)if((l=s[r]).name===e)return l.value;return null}return this.each((t==null?jH:NH)(n,e,t))}function H0(e,t,n){var s=e._id;return e.each(function(){var r=Ws(this,s);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return vs(r,s).value[t]}}function xE(e,t){var n;return(typeof t=="number"?Xr:t instanceof Pc?Fb:(n=Pc(t))?(t=n,Fb):aH)(e,t)}function kH(e){return function(){this.removeAttribute(e)}}function CH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function EH(e,t,n){var s,r=n+"",i;return function(){var l=this.getAttribute(e);return l===r?null:l===s?i:i=t(s=l,n)}}function TH(e,t,n){var s,r=n+"",i;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===s?i:i=t(s=l,n)}}function _H(e,t,n){var s,r,i;return function(){var l,o=n(this),c;return o==null?void this.removeAttribute(e):(l=this.getAttribute(e),c=o+"",l===c?null:l===s&&c===r?i:(r=c,i=t(s=l,o)))}}function AH(e,t,n){var s,r,i;return function(){var l,o=n(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),c=o+"",l===c?null:l===s&&c===r?i:(r=c,i=t(s=l,o)))}}function MH(e,t){var n=Pm(e),s=n==="transform"?cH:xE;return this.attrTween(e,typeof t=="function"?(n.local?AH:_H)(n,s,H0(this,"attr."+e,t)):t==null?(n.local?CH:kH)(n):(n.local?TH:EH)(n,s,t))}function RH(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function DH(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function zH(e,t){var n,s;function r(){var i=t.apply(this,arguments);return i!==s&&(n=(s=i)&&DH(e,i)),n}return r._value=t,r}function LH(e,t){var n,s;function r(){var i=t.apply(this,arguments);return i!==s&&(n=(s=i)&&RH(e,i)),n}return r._value=t,r}function $H(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=Pm(e);return this.tween(n,(s.local?zH:LH)(s,t))}function PH(e,t){return function(){F0(this,e).delay=+t.apply(this,arguments)}}function OH(e,t){return t=+t,function(){F0(this,e).delay=t}}function BH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PH:OH)(t,e)):vs(this.node(),t).delay}function IH(e,t){return function(){Ws(this,e).duration=+t.apply(this,arguments)}}function FH(e,t){return t=+t,function(){Ws(this,e).duration=t}}function HH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?IH:FH)(t,e)):vs(this.node(),t).duration}function UH(e,t){if(typeof t!="function")throw new Error;return function(){Ws(this,e).ease=t}}function VH(e){var t=this._id;return arguments.length?this.each(UH(t,e)):vs(this.node(),t).ease}function qH(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ws(this,e).ease=n}}function ZH(e){if(typeof e!="function")throw new Error;return this.each(qH(this._id,e))}function GH(e){typeof e!="function"&&(e=XC(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],l=i.length,o=s[r]=[],c,u=0;u<l;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&o.push(c);return new _r(s,this._parents,this._name,this._id)}function YH(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,s=t.length,r=n.length,i=Math.min(s,r),l=new Array(s),o=0;o<i;++o)for(var c=t[o],u=n[o],d=c.length,f=l[o]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(f[h]=m);for(;o<s;++o)l[o]=t[o];return new _r(l,this._parents,this._name,this._id)}function XH(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function WH(e,t,n){var s,r,i=XH(t)?F0:Ws;return function(){var l=i(this,e),o=l.on;o!==s&&(r=(s=o).copy()).on(t,n),l.on=r}}function QH(e,t){var n=this._id;return arguments.length<2?vs(this.node(),n).on.on(e):this.each(WH(n,e,t))}function KH(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function JH(){return this.on("end.remove",KH(this._id))}function eU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=P0(e));for(var s=this._groups,r=s.length,i=new Array(r),l=0;l<r;++l)for(var o=s[l],c=o.length,u=i[l]=new Array(c),d,f,m=0;m<c;++m)(d=o[m])&&(f=e.call(d,d.__data__,m,o))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,Bm(u[m],t,n,m,u,vs(d,n)));return new _r(i,this._parents,t,n)}function tU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=YC(e));for(var s=this._groups,r=s.length,i=[],l=[],o=0;o<r;++o)for(var c=s[o],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var m=e.call(d,d.__data__,f,c),h,p=vs(d,n),y=0,w=m.length;y<w;++y)(h=m[y])&&Bm(h,t,n,y,m,p);i.push(m),l.push(d)}return new _r(i,l,t,n)}var nU=pu.prototype.constructor;function sU(){return new nU(this._groups,this._parents)}function rU(e,t){var n,s,r;return function(){var i=Jl(this,e),l=(this.style.removeProperty(e),Jl(this,e));return i===l?null:i===n&&l===s?r:r=t(n=i,s=l)}}function vE(e){return function(){this.style.removeProperty(e)}}function aU(e,t,n){var s,r=n+"",i;return function(){var l=Jl(this,e);return l===r?null:l===s?i:i=t(s=l,n)}}function iU(e,t,n){var s,r,i;return function(){var l=Jl(this,e),o=n(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),Jl(this,e))),l===c?null:l===s&&c===r?i:(r=c,i=t(s=l,o))}}function lU(e,t){var n,s,r,i="style."+t,l="end."+i,o;return function(){var c=Ws(this,e),u=c.on,d=c.value[i]==null?o||(o=vE(t)):void 0;(u!==n||r!==d)&&(s=(n=u).copy()).on(l,r=d),c.on=s}}function oU(e,t,n){var s=(e+="")=="transform"?oH:xE;return t==null?this.styleTween(e,rU(e,s)).on("end.style."+e,vE(e)):typeof t=="function"?this.styleTween(e,iU(e,s,H0(this,"style."+e,t))).each(lU(this._id,e)):this.styleTween(e,aU(e,s,t),n).on("end.style."+e,null)}function cU(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function uU(e,t,n){var s,r;function i(){var l=t.apply(this,arguments);return l!==r&&(s=(r=l)&&cU(e,l,n)),s}return i._value=t,i}function dU(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,uU(e,t,n??""))}function fU(e){return function(){this.textContent=e}}function mU(e){return function(){var t=e(this);this.textContent=t??""}}function hU(e){return this.tween("text",typeof e=="function"?mU(H0(this,"text",e)):fU(e==null?"":e+""))}function gU(e){return function(t){this.textContent=e.call(this,t)}}function pU(e){var t,n;function s(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&gU(r)),t}return s._value=e,s}function xU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,pU(e))}function vU(){for(var e=this._name,t=this._id,n=yE(),s=this._groups,r=s.length,i=0;i<r;++i)for(var l=s[i],o=l.length,c,u=0;u<o;++u)if(c=l[u]){var d=vs(c,t);Bm(c,e,n,u,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new _r(s,this._parents,e,n)}function yU(){var e,t,n=this,s=n._id,r=n.size();return new Promise(function(i,l){var o={value:l},c={value:function(){--r===0&&i()}};n.each(function(){var u=Ws(this,s),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),u.on=t}),r===0&&i()})}var bU=0;function _r(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function yE(){return++bU}var ir=pu.prototype;_r.prototype={constructor:_r,select:eU,selectAll:tU,selectChild:ir.selectChild,selectChildren:ir.selectChildren,filter:GH,merge:YH,selection:sU,transition:vU,call:ir.call,nodes:ir.nodes,node:ir.node,size:ir.size,empty:ir.empty,each:ir.each,on:QH,attr:MH,attrTween:$H,style:oU,styleTween:dU,text:hU,textTween:xU,remove:JH,tween:SH,delay:BH,duration:HH,ease:VH,easeVarying:ZH,end:yU,[Symbol.iterator]:ir[Symbol.iterator]};function wU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var jU={time:null,delay:0,duration:250,ease:wU};function NU(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function SU(e){var t,n;e instanceof _r?(t=e._id,e=e._name):(t=yE(),(n=jU).time=I0(),e=e==null?null:e+"");for(var s=this._groups,r=s.length,i=0;i<r;++i)for(var l=s[i],o=l.length,c,u=0;u<o;++u)(c=l[u])&&Bm(c,e,t,u,l,n||NU(c,t));return new _r(s,this._parents,e,t)}pu.prototype.interrupt=wH;pu.prototype.transition=SU;const ed=e=>()=>e;function kU(e,{sourceEvent:t,target:n,transform:s,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function mr(e,t,n){this.k=e,this.x=t,this.y=n}mr.prototype={constructor:mr,scale:function(e){return e===1?this:new mr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ha=new mr(1,0,0);mr.prototype;function Ph(e){e.stopImmediatePropagation()}function Oo(e){e.preventDefault(),e.stopImmediatePropagation()}function CU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function EU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Yb(){return this.__zoom||ha}function TU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _U(){return navigator.maxTouchPoints||"ontouchstart"in this}function AU(e,t,n){var s=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}function MU(){var e=CU,t=EU,n=AU,s=TU,r=_U,i=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],o=250,c=mH,u=$m("start","zoom","end"),d,f,m,h=500,p=150,y=0,w=10;function v(_){_.property("__zoom",Yb).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",T).filter(r).on("touchstart.zoom",D).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(_,P,M,$){var A=_.selection?_.selection():_;A.property("__zoom",Yb),_!==A?N(_,P,M,$):A.interrupt().each(function(){C(this,arguments).event($).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},v.scaleBy=function(_,P,M,$){v.scaleTo(_,function(){var A=this.__zoom.k,R=typeof P=="function"?P.apply(this,arguments):P;return A*R},M,$)},v.scaleTo=function(_,P,M,$){v.transform(_,function(){var A=t.apply(this,arguments),R=this.__zoom,B=M==null?j(A):typeof M=="function"?M.apply(this,arguments):M,H=R.invert(B),F=typeof P=="function"?P.apply(this,arguments):P;return n(b(x(R,F),B,H),A,l)},M,$)},v.translateBy=function(_,P,M,$){v.transform(_,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),l)},null,$)},v.translateTo=function(_,P,M,$,A){v.transform(_,function(){var R=t.apply(this,arguments),B=this.__zoom,H=$==null?j(R):typeof $=="function"?$.apply(this,arguments):$;return n(ha.translate(H[0],H[1]).scale(B.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof M=="function"?-M.apply(this,arguments):-M),R,l)},$,A)};function x(_,P){return P=Math.max(i[0],Math.min(i[1],P)),P===_.k?_:new mr(P,_.x,_.y)}function b(_,P,M){var $=P[0]-M[0]*_.k,A=P[1]-M[1]*_.k;return $===_.x&&A===_.y?_:new mr(_.k,$,A)}function j(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function N(_,P,M,$){_.on("start.zoom",function(){C(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event($).end()}).tween("zoom",function(){var A=this,R=arguments,B=C(A,R).event($),H=t.apply(A,R),F=M==null?j(H):typeof M=="function"?M.apply(A,R):M,Z=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),X=A.__zoom,J=typeof P=="function"?P.apply(A,R):P,le=c(X.invert(F).concat(Z/X.k),J.invert(F).concat(Z/J.k));return function(ee){if(ee===1)ee=J;else{var ve=le(ee),he=Z/ve[2];ee=new mr(he,F[0]-ve[0]*he,F[1]-ve[1]*he)}B.zoom(null,ee)}})}function C(_,P,M){return!M&&_.__zooming||new S(_,P)}function S(_,P){this.that=_,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,P),this.taps=0}S.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,P){return this.mouse&&_!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var P=ls(this.that).datum();u.call(_,this.that,new kU(_,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),P)}};function E(_,...P){if(!e.apply(this,arguments))return;var M=C(this,P).event(_),$=this.__zoom,A=Math.max(i[0],Math.min(i[1],$.k*Math.pow(2,s.apply(this,arguments)))),R=Ts(_);if(M.wheel)(M.mouse[0][0]!==R[0]||M.mouse[0][1]!==R[1])&&(M.mouse[1]=$.invert(M.mouse[0]=R)),clearTimeout(M.wheel);else{if($.k===A)return;M.mouse=[R,$.invert(R)],zd(this),M.start()}Oo(_),M.wheel=setTimeout(B,p),M.zoom("mouse",n(b(x($,A),M.mouse[0],M.mouse[1]),M.extent,l));function B(){M.wheel=null,M.end()}}function k(_,...P){if(m||!e.apply(this,arguments))return;var M=_.currentTarget,$=C(this,P,!0).event(_),A=ls(_.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",Z,!0),R=Ts(_,M),B=_.clientX,H=_.clientY;aE(_.view),Ph(_),$.mouse=[R,this.__zoom.invert(R)],zd(this),$.start();function F(X){if(Oo(X),!$.moved){var J=X.clientX-B,le=X.clientY-H;$.moved=J*J+le*le>y}$.event(X).zoom("mouse",n(b($.that.__zoom,$.mouse[0]=Ts(X,M),$.mouse[1]),$.extent,l))}function Z(X){A.on("mousemove.zoom mouseup.zoom",null),iE(X.view,$.moved),Oo(X),$.event(X).end()}}function T(_,...P){if(e.apply(this,arguments)){var M=this.__zoom,$=Ts(_.changedTouches?_.changedTouches[0]:_,this),A=M.invert($),R=M.k*(_.shiftKey?.5:2),B=n(b(x(M,R),$,A),t.apply(this,P),l);Oo(_),o>0?ls(this).transition().duration(o).call(N,B,$,_):ls(this).call(v.transform,B,$,_)}}function D(_,...P){if(e.apply(this,arguments)){var M=_.touches,$=M.length,A=C(this,P,_.changedTouches.length===$).event(_),R,B,H,F;for(Ph(_),B=0;B<$;++B)H=M[B],F=Ts(H,this),F=[F,this.__zoom.invert(F),H.identifier],A.touch0?!A.touch1&&A.touch0[2]!==F[2]&&(A.touch1=F,A.taps=0):(A.touch0=F,R=!0,A.taps=1+!!d);d&&(d=clearTimeout(d)),R&&(A.taps<2&&(f=F[0],d=setTimeout(function(){d=null},h)),zd(this),A.start())}}function O(_,...P){if(this.__zooming){var M=C(this,P).event(_),$=_.changedTouches,A=$.length,R,B,H,F;for(Oo(_),R=0;R<A;++R)B=$[R],H=Ts(B,this),M.touch0&&M.touch0[2]===B.identifier?M.touch0[0]=H:M.touch1&&M.touch1[2]===B.identifier&&(M.touch1[0]=H);if(B=M.that.__zoom,M.touch1){var Z=M.touch0[0],X=M.touch0[1],J=M.touch1[0],le=M.touch1[1],ee=(ee=J[0]-Z[0])*ee+(ee=J[1]-Z[1])*ee,ve=(ve=le[0]-X[0])*ve+(ve=le[1]-X[1])*ve;B=x(B,Math.sqrt(ee/ve)),H=[(Z[0]+J[0])/2,(Z[1]+J[1])/2],F=[(X[0]+le[0])/2,(X[1]+le[1])/2]}else if(M.touch0)H=M.touch0[0],F=M.touch0[1];else return;M.zoom("touch",n(b(B,H,F),M.extent,l))}}function z(_,...P){if(this.__zooming){var M=C(this,P).event(_),$=_.changedTouches,A=$.length,R,B;for(Ph(_),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),R=0;R<A;++R)B=$[R],M.touch0&&M.touch0[2]===B.identifier?delete M.touch0:M.touch1&&M.touch1[2]===B.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(B=Ts(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<w)){var H=ls(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return v.wheelDelta=function(_){return arguments.length?(s=typeof _=="function"?_:ed(+_),v):s},v.filter=function(_){return arguments.length?(e=typeof _=="function"?_:ed(!!_),v):e},v.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:ed(!!_),v):r},v.extent=function(_){return arguments.length?(t=typeof _=="function"?_:ed([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),v):t},v.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],v):[i[0],i[1]]},v.translateExtent=function(_){return arguments.length?(l[0][0]=+_[0][0],l[1][0]=+_[1][0],l[0][1]=+_[0][1],l[1][1]=+_[1][1],v):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},v.constrain=function(_){return arguments.length?(n=_,v):n},v.duration=function(_){return arguments.length?(o=+_,v):o},v.interpolate=function(_){return arguments.length?(c=_,v):c},v.on=function(){var _=u.on.apply(u,arguments);return _===u?v:_},v.clickDistance=function(_){return arguments.length?(y=(_=+_)*_,v):Math.sqrt(y)},v.tapDistance=function(_){return arguments.length?(w=+_,v):w},v}const Im=g.createContext(null),RU=Im.Provider,Ar={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},bE=Ar.error001();function ct(e,t){const n=g.useContext(Im);if(n===null)throw new Error(bE);return ZC(n,e,t)}const Ot=()=>{const e=g.useContext(Im);if(e===null)throw new Error(bE);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},DU=e=>e.userSelectionActive?"none":"all";function wE({position:e,children:t,className:n,style:s,...r}){const i=ct(DU),l=`${e}`.split("-");return L.createElement("div",{className:on(["react-flow__panel",n,...l]),style:{...s,pointerEvents:i},...r},t)}function zU({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:L.createElement(wE,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},L.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const LU=({x:e,y:t,label:n,labelStyle:s={},labelShowBg:r=!0,labelBgStyle:i={},labelBgPadding:l=[2,4],labelBgBorderRadius:o=2,children:c,className:u,...d})=>{const f=g.useRef(null),[m,h]=g.useState({x:0,y:0,width:0,height:0}),p=on(["react-flow__edge-textwrapper",u]);return g.useEffect(()=>{if(f.current){const y=f.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:L.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:p,visibility:m.width?"visible":"hidden",...d},r&&L.createElement("rect",{width:m.width+2*l[0],x:-l[0],y:-l[1],height:m.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),L.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:f,style:s},n),c)};var $U=g.memo(LU);const U0=e=>({width:e.offsetWidth,height:e.offsetHeight}),to=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),V0=(e={x:0,y:0},t)=>({x:to(e.x,t[0][0],t[1][0]),y:to(e.y,t[0][1],t[1][1])}),Xb=(e,t,n)=>e<t?to(Math.abs(e-t),1,50)/50:e>n?-to(Math.abs(e-n),1,50)/50:0,jE=(e,t)=>{const n=Xb(e.x,35,t.width-35)*20,s=Xb(e.y,35,t.height-35)*20;return[n,s]},NE=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},PU=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),q0=({x:e,y:t,width:n,height:s})=>({x:e,y:t,x2:e+n,y2:t+s}),OU=({x:e,y:t,x2:n,y2:s})=>({x:e,y:t,width:n-e,height:s-t}),Wb=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),hp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*s)},BU=e=>Xn(e.width)&&Xn(e.height)&&Xn(e.x)&&Xn(e.y),Xn=e=>!isNaN(e)&&isFinite(e),ht=Symbol.for("internals"),SE=["Enter"," ","Escape"],IU=(e,t)=>{},FU=e=>"nativeEvent"in e;function gp(e){var r,i;const t=FU(e)?e.nativeEvent:e,n=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const kE=e=>"clientX"in e,ga=(e,t)=>{var i,l;const n=kE(e),s=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,r=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:s-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},bf=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},vu=({id:e,path:t,labelX:n,labelY:s,label:r,labelStyle:i,labelShowBg:l,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h=20})=>L.createElement(L.Fragment,null,L.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:m}),h&&L.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),r&&Xn(n)&&Xn(s)?L.createElement($U,{x:n,y:s,label:r,labelStyle:i,labelShowBg:l,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u}):null);vu.displayName="BaseEdge";function Bo(e,t,n){return n===void 0?n:s=>{const r=t().edges.find(i=>i.id===e);r&&n(s,{...r})}}function CE({sourceX:e,sourceY:t,targetX:n,targetY:s}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,l=Math.abs(s-t)/2,o=s<t?s+l:s-l;return[i,o,r,l]}function EE({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:r,sourceControlY:i,targetControlX:l,targetControlY:o}){const c=e*.125+r*.375+l*.375+n*.125,u=t*.125+i*.375+o*.375+s*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var wi;(function(e){e.Strict="strict",e.Loose="loose"})(wi||(wi={}));var si;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(si||(si={}));var Bc;(function(e){e.Partial="partial",e.Full="full"})(Bc||(Bc={}));var ea;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ea||(ea={}));var wf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(wf||(wf={}));var oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(oe||(oe={}));function Qb({pos:e,x1:t,y1:n,x2:s,y2:r}){return e===oe.Left||e===oe.Right?[.5*(t+s),n]:[t,.5*(n+r)]}function TE({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:s,targetY:r,targetPosition:i=oe.Top}){const[l,o]=Qb({pos:n,x1:e,y1:t,x2:s,y2:r}),[c,u]=Qb({pos:i,x1:s,y1:r,x2:e,y2:t}),[d,f,m,h]=EE({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:l,sourceControlY:o,targetControlX:c,targetControlY:u});return[`M${e},${t} C${l},${o} ${c},${u} ${s},${r}`,d,f,m,h]}const Z0=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,sourcePosition:r=oe.Bottom,targetPosition:i=oe.Top,label:l,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:y})=>{const[w,v,x]=TE({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:s,targetPosition:i});return L.createElement(vu,{path:w,labelX:v,labelY:x,label:l,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:y})});Z0.displayName="SimpleBezierEdge";const Kb={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}},HU=({source:e,sourcePosition:t=oe.Bottom,target:n})=>t===oe.Left||t===oe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Jb=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function UU({source:e,sourcePosition:t=oe.Bottom,target:n,targetPosition:s=oe.Top,center:r,offset:i}){const l=Kb[t],o=Kb[s],c={x:e.x+l.x*i,y:e.y+l.y*i},u={x:n.x+o.x*i,y:n.y+o.y*i},d=HU({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",m=d[f];let h=[],p,y;const w={x:0,y:0},v={x:0,y:0},[x,b,j,N]=CE({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[f]*o[f]===-1){p=r.x??x,y=r.y??b;const S=[{x:p,y:c.y},{x:p,y:u.y}],E=[{x:c.x,y},{x:u.x,y}];l[f]===m?h=f==="x"?S:E:h=f==="x"?E:S}else{const S=[{x:c.x,y:u.y}],E=[{x:u.x,y:c.y}];if(f==="x"?h=l.x===m?E:S:h=l.y===m?S:E,t===s){const z=Math.abs(e[f]-n[f]);if(z<=i){const _=Math.min(i-1,i-z);l[f]===m?w[f]=(c[f]>e[f]?-1:1)*_:v[f]=(u[f]>n[f]?-1:1)*_}}if(t!==s){const z=f==="x"?"y":"x",_=l[f]===o[z],P=c[z]>u[z],M=c[z]<u[z];(l[f]===1&&(!_&&P||_&&M)||l[f]!==1&&(!_&&M||_&&P))&&(h=f==="x"?S:E)}const k={x:c.x+w.x,y:c.y+w.y},T={x:u.x+v.x,y:u.y+v.y},D=Math.max(Math.abs(k.x-h[0].x),Math.abs(T.x-h[0].x)),O=Math.max(Math.abs(k.y-h[0].y),Math.abs(T.y-h[0].y));D>=O?(p=(k.x+T.x)/2,y=h[0].y):(p=h[0].x,y=(k.y+T.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...h,{x:u.x+v.x,y:u.y+v.y},n],p,y,j,N]}function VU(e,t,n,s){const r=Math.min(Jb(e,t)/2,Jb(t,n)/2,s),{x:i,y:l}=t;if(e.x===i&&i===n.x||e.y===l&&l===n.y)return`L${i} ${l}`;if(e.y===l){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+r*u},${l}Q ${i},${l} ${i},${l+r*d}`}const o=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${l+r*c}Q ${i},${l} ${i+r*o},${l}`}function pp({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:s,targetY:r,targetPosition:i=oe.Top,borderRadius:l=5,centerX:o,centerY:c,offset:u=20}){const[d,f,m,h,p]=UU({source:{x:e,y:t},sourcePosition:n,target:{x:s,y:r},targetPosition:i,center:{x:o,y:c},offset:u});return[d.reduce((w,v,x)=>{let b="";return x>0&&x<d.length-1?b=VU(d[x-1],v,d[x+1],l):b=`${x===0?"M":"L"}${v.x} ${v.y}`,w+=b,w},""),f,m,h,p]}const Fm=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,label:r,labelStyle:i,labelShowBg:l,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=oe.Bottom,targetPosition:m=oe.Top,markerEnd:h,markerStart:p,pathOptions:y,interactionWidth:w})=>{const[v,x,b]=pp({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:s,targetPosition:m,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return L.createElement(vu,{path:v,labelX:x,labelY:b,label:r,labelStyle:i,labelShowBg:l,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:p,interactionWidth:w})});Fm.displayName="SmoothStepEdge";const G0=g.memo(e=>{var t;return L.createElement(Fm,{...e,pathOptions:g.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});G0.displayName="StepEdge";function qU({sourceX:e,sourceY:t,targetX:n,targetY:s}){const[r,i,l,o]=CE({sourceX:e,sourceY:t,targetX:n,targetY:s});return[`M ${e},${t}L ${n},${s}`,r,i,l,o]}const Y0=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,label:r,labelStyle:i,labelShowBg:l,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})=>{const[p,y,w]=qU({sourceX:e,sourceY:t,targetX:n,targetY:s});return L.createElement(vu,{path:p,labelX:y,labelY:w,label:r,labelStyle:i,labelShowBg:l,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})});Y0.displayName="StraightEdge";function td(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ew({pos:e,x1:t,y1:n,x2:s,y2:r,c:i}){switch(e){case oe.Left:return[t-td(t-s,i),n];case oe.Right:return[t+td(s-t,i),n];case oe.Top:return[t,n-td(n-r,i)];case oe.Bottom:return[t,n+td(r-n,i)]}}function _E({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:s,targetY:r,targetPosition:i=oe.Top,curvature:l=.25}){const[o,c]=ew({pos:n,x1:e,y1:t,x2:s,y2:r,c:l}),[u,d]=ew({pos:i,x1:s,y1:r,x2:e,y2:t,c:l}),[f,m,h,p]=EE({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${c} ${u},${d} ${s},${r}`,f,m,h,p]}const jf=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,sourcePosition:r=oe.Bottom,targetPosition:i=oe.Top,label:l,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,pathOptions:y,interactionWidth:w})=>{const[v,x,b]=_E({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:s,targetPosition:i,curvature:y==null?void 0:y.curvature});return L.createElement(vu,{path:v,labelX:x,labelY:b,label:l,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:w})});jf.displayName="BezierEdge";const X0=g.createContext(null),ZU=X0.Provider;X0.Consumer;const GU=()=>g.useContext(X0),YU=e=>"id"in e&&"source"in e&&"target"in e,XU=({source:e,sourceHandle:t,target:n,targetHandle:s})=>`reactflow__edge-${e}${t||""}-${n}${s||""}`,xp=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`,WU=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),W0=(e,t)=>{if(!e.source||!e.target)return t;let n;return YU(e)?n={...e}:n={...e,id:XU(e)},WU(n,t)?t:t.concat(n)},vp=({x:e,y:t},[n,s,r],i,[l,o])=>{const c={x:(e-n)/r,y:(t-s)/r};return i?{x:l*Math.round(c.x/l),y:o*Math.round(c.y/o)}:c},AE=({x:e,y:t},[n,s,r])=>({x:e*r+n,y:t*r+s}),Tl=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],s=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-s};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-s}:r}},Q0=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((s,r)=>{const{x:i,y:l}=Tl(r,t).positionAbsolute;return PU(s,q0({x:i,y:l,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return OU(n)},ME=(e,t,[n,s,r]=[0,0,1],i=!1,l=!1,o=[0,0])=>{const c={x:(t.x-n)/r,y:(t.y-s)/r,width:t.width/r,height:t.height/r},u=[];return e.forEach(d=>{const{width:f,height:m,selectable:h=!0,hidden:p=!1}=d;if(l&&!h||p)return!1;const{positionAbsolute:y}=Tl(d,o),w={x:y.x,y:y.y,width:f||0,height:m||0},v=hp(c,w),x=typeof f>"u"||typeof m>"u"||f===null||m===null,b=i&&v>0,j=(f||0)*(m||0);(x||b||v>=j||d.dragging)&&u.push(d)}),u},RE=(e,t)=>{const n=e.map(s=>s.id);return t.filter(s=>n.includes(s.source)||n.includes(s.target))},DE=(e,t,n,s,r,i=.1)=>{const l=t/(e.width*(1+i)),o=n/(e.height*(1+i)),c=Math.min(l,o),u=to(c,s,r),d=e.x+e.width/2,f=e.y+e.height/2,m=t/2-d*u,h=n/2-f*u;return{x:m,y:h,zoom:u}},Ga=(e,t=0)=>e.transition().duration(t);function tw(e,t,n,s){return(t[n]||[]).reduce((r,i)=>{var l,o;return`${e.id}-${i.id}-${n}`!==s&&r.push({id:i.id||null,type:n,nodeId:e.id,x:(((l=e.positionAbsolute)==null?void 0:l.x)??0)+i.x+i.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+i.y+i.height/2}),r},[])}function QU(e,t,n,s,r,i){const{x:l,y:o}=ga(e),u=t.elementsFromPoint(l,o).find(p=>p.classList.contains("react-flow__handle"));if(u){const p=u.getAttribute("data-nodeid");if(p){const y=K0(void 0,u),w=u.getAttribute("data-handleid"),v=i({nodeId:p,id:w,type:y});if(v){const x=r.find(b=>b.nodeId===p&&b.type===y&&b.id===w);return{handle:{id:w,type:y,nodeId:p,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:v}}}}let d=[],f=1/0;if(r.forEach(p=>{const y=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(y<=s){const w=i(p);y<=f&&(y<f?d=[{handle:p,validHandleResult:w}]:y===f&&d.push({handle:p,validHandleResult:w}),f=y)}}),!d.length)return{handle:null,validHandleResult:zE()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:p})=>p.isValid),h=d.some(({handle:p})=>p.type==="target");return d.find(({handle:p,validHandleResult:y})=>h?p.type==="target":m?y.isValid:!0)||d[0]}const KU={source:null,target:null,sourceHandle:null,targetHandle:null},zE=()=>({handleDomNode:null,isValid:!1,connection:KU,endHandle:null});function LE(e,t,n,s,r,i,l){const o=r==="target",c=l.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...zE(),handleDomNode:c};if(c){const d=K0(void 0,c),f=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),p=c.classList.contains("connectableend"),y={source:o?f:n,sourceHandle:o?m:s,target:o?n:f,targetHandle:o?s:m};u.connection=y,h&&p&&(t===wi.Strict?o&&d==="source"||!o&&d==="target":f!==n||m!==s)&&(u.endHandle={nodeId:f,handleId:m,type:d},u.isValid=i(y))}return u}function JU({nodes:e,nodeId:t,handleId:n,handleType:s}){return e.reduce((r,i)=>{if(i[ht]){const{handleBounds:l}=i[ht];let o=[],c=[];l&&(o=tw(i,l,"source",`${t}-${n}-${s}`),c=tw(i,l,"target",`${t}-${n}-${s}`)),r.push(...o,...c)}return r},[])}function K0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Oh(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function eV(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function $E({event:e,handleId:t,nodeId:n,onConnect:s,isTarget:r,getState:i,setState:l,isValidConnection:o,edgeUpdaterType:c,onReconnectEnd:u}){const d=NE(e.target),{connectionMode:f,domNode:m,autoPanOnConnect:h,connectionRadius:p,onConnectStart:y,panBy:w,getNodes:v,cancelConnection:x}=i();let b=0,j;const{x:N,y:C}=ga(e),S=d==null?void 0:d.elementFromPoint(N,C),E=K0(c,S),k=m==null?void 0:m.getBoundingClientRect();if(!k||!E)return;let T,D=ga(e,k),O=!1,z=null,_=!1,P=null;const M=JU({nodes:v(),nodeId:n,handleId:t,handleType:E}),$=()=>{if(!h)return;const[B,H]=jE(D,k);w({x:B,y:H}),b=requestAnimationFrame($)};l({connectionPosition:D,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:E,connectionStartHandle:{nodeId:n,handleId:t,type:E},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:E});function A(B){const{transform:H}=i();D=ga(B,k);const{handle:F,validHandleResult:Z}=QU(B,d,vp(D,H,!1,[1,1]),p,M,X=>LE(X,f,n,t,r?"target":"source",o,d));if(j=F,O||($(),O=!0),P=Z.handleDomNode,z=Z.connection,_=Z.isValid,l({connectionPosition:j&&_?AE({x:j.x,y:j.y},H):D,connectionStatus:eV(!!j,_),connectionEndHandle:Z.endHandle}),!j&&!_&&!P)return Oh(T);z.source!==z.target&&P&&(Oh(T),T=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",_),P.classList.toggle("react-flow__handle-valid",_))}function R(B){var H,F;(j||P)&&z&&_&&(s==null||s(z)),(F=(H=i()).onConnectEnd)==null||F.call(H,B),c&&(u==null||u(B)),Oh(T),x(),cancelAnimationFrame(b),O=!1,_=!1,z=null,P=null,d.removeEventListener("mousemove",A),d.removeEventListener("mouseup",R),d.removeEventListener("touchmove",A),d.removeEventListener("touchend",R)}d.addEventListener("mousemove",A),d.addEventListener("mouseup",R),d.addEventListener("touchmove",A),d.addEventListener("touchend",R)}const nw=()=>!0,tV=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),nV=(e,t,n)=>s=>{const{connectionStartHandle:r,connectionEndHandle:i,connectionClickStartHandle:l}=s;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.handleId)===t&&(l==null?void 0:l.type)===n}},PE=g.forwardRef(({type:e="source",position:t=oe.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:l,onConnect:o,children:c,className:u,onMouseDown:d,onTouchStart:f,...m},h)=>{var k,T;const p=l||null,y=e==="target",w=Ot(),v=GU(),{connectOnClick:x,noPanClassName:b}=ct(tV,pn),{connecting:j,clickConnecting:N}=ct(nV(v,p,e),pn);v||(T=(k=w.getState()).onError)==null||T.call(k,"010",Ar.error010());const C=D=>{const{defaultEdgeOptions:O,onConnect:z,hasDefaultEdges:_}=w.getState(),P={...O,...D};if(_){const{edges:M,setEdges:$}=w.getState();$(W0(P,M))}z==null||z(P),o==null||o(P)},S=D=>{if(!v)return;const O=kE(D);r&&(O&&D.button===0||!O)&&$E({event:D,handleId:p,nodeId:v,onConnect:C,isTarget:y,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||nw}),O?d==null||d(D):f==null||f(D)},E=D=>{const{onClickConnectStart:O,onClickConnectEnd:z,connectionClickStartHandle:_,connectionMode:P,isValidConnection:M}=w.getState();if(!v||!_&&!r)return;if(!_){O==null||O(D,{nodeId:v,handleId:p,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:p}});return}const $=NE(D.target),A=n||M||nw,{connection:R,isValid:B}=LE({nodeId:v,id:p,type:e},P,_.nodeId,_.handleId||null,_.type,A,$);B&&C(R),z==null||z(D),w.setState({connectionClickStartHandle:null})};return L.createElement("div",{"data-handleid":p,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${p}-${e}`,className:on(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,u,{source:!y,target:y,connectable:s,connectablestart:r,connectableend:i,connecting:N,connectionindicator:s&&(r&&!j||i&&j)}]),onMouseDown:S,onTouchStart:S,onClick:x?E:void 0,ref:h,...m},c)});PE.displayName="Handle";var no=g.memo(PE);const OE=({data:e,isConnectable:t,targetPosition:n=oe.Top,sourcePosition:s=oe.Bottom})=>L.createElement(L.Fragment,null,L.createElement(no,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,L.createElement(no,{type:"source",position:s,isConnectable:t}));OE.displayName="DefaultNode";var yp=g.memo(OE);const BE=({data:e,isConnectable:t,sourcePosition:n=oe.Bottom})=>L.createElement(L.Fragment,null,e==null?void 0:e.label,L.createElement(no,{type:"source",position:n,isConnectable:t}));BE.displayName="InputNode";var IE=g.memo(BE);const FE=({data:e,isConnectable:t,targetPosition:n=oe.Top})=>L.createElement(L.Fragment,null,L.createElement(no,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);FE.displayName="OutputNode";var HE=g.memo(FE);const J0=()=>null;J0.displayName="GroupNode";const sV=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),nd=e=>e.id;function rV(e,t){return pn(e.selectedNodes.map(nd),t.selectedNodes.map(nd))&&pn(e.selectedEdges.map(nd),t.selectedEdges.map(nd))}const UE=g.memo(({onSelectionChange:e})=>{const t=Ot(),{selectedNodes:n,selectedEdges:s}=ct(sV,rV);return g.useEffect(()=>{const r={nodes:n,edges:s};e==null||e(r),t.getState().onSelectionChange.forEach(i=>i(r))},[n,s,e]),null});UE.displayName="SelectionListener";const aV=e=>!!e.onSelectionChange;function iV({onSelectionChange:e}){const t=ct(aV);return e||t?L.createElement(UE,{onSelectionChange:e}):null}const lV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Ki(e,t){g.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Te(e,t,n){g.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const oV=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:r,onConnectStart:i,onConnectEnd:l,onClickConnectStart:o,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:y,maxZoom:w,nodeExtent:v,onNodesChange:x,onEdgesChange:b,elementsSelectable:j,connectionMode:N,snapGrid:C,snapToGrid:S,translateExtent:E,connectOnClick:k,defaultEdgeOptions:T,fitView:D,fitViewOptions:O,onNodesDelete:z,onEdgesDelete:_,onNodeDrag:P,onNodeDragStart:M,onNodeDragStop:$,onSelectionDrag:A,onSelectionDragStart:R,onSelectionDragStop:B,noPanClassName:H,nodeOrigin:F,rfId:Z,autoPanOnConnect:X,autoPanOnNodeDrag:J,onError:le,connectionRadius:ee,isValidConnection:ve,nodeDragThreshold:he})=>{const{setNodes:we,setEdges:U,setDefaultNodesAndEdges:W,setMinZoom:K,setMaxZoom:Q,setTranslateExtent:ie,setNodeExtent:be,reset:fe}=ct(lV,pn),ne=Ot();return g.useEffect(()=>{const $e=s==null?void 0:s.map(wt=>({...wt,...T}));return W(n,$e),()=>{fe()}},[]),Te("defaultEdgeOptions",T,ne.setState),Te("connectionMode",N,ne.setState),Te("onConnect",r,ne.setState),Te("onConnectStart",i,ne.setState),Te("onConnectEnd",l,ne.setState),Te("onClickConnectStart",o,ne.setState),Te("onClickConnectEnd",c,ne.setState),Te("nodesDraggable",u,ne.setState),Te("nodesConnectable",d,ne.setState),Te("nodesFocusable",f,ne.setState),Te("edgesFocusable",m,ne.setState),Te("edgesUpdatable",h,ne.setState),Te("elementsSelectable",j,ne.setState),Te("elevateNodesOnSelect",p,ne.setState),Te("snapToGrid",S,ne.setState),Te("snapGrid",C,ne.setState),Te("onNodesChange",x,ne.setState),Te("onEdgesChange",b,ne.setState),Te("connectOnClick",k,ne.setState),Te("fitViewOnInit",D,ne.setState),Te("fitViewOnInitOptions",O,ne.setState),Te("onNodesDelete",z,ne.setState),Te("onEdgesDelete",_,ne.setState),Te("onNodeDrag",P,ne.setState),Te("onNodeDragStart",M,ne.setState),Te("onNodeDragStop",$,ne.setState),Te("onSelectionDrag",A,ne.setState),Te("onSelectionDragStart",R,ne.setState),Te("onSelectionDragStop",B,ne.setState),Te("noPanClassName",H,ne.setState),Te("nodeOrigin",F,ne.setState),Te("rfId",Z,ne.setState),Te("autoPanOnConnect",X,ne.setState),Te("autoPanOnNodeDrag",J,ne.setState),Te("onError",le,ne.setState),Te("connectionRadius",ee,ne.setState),Te("isValidConnection",ve,ne.setState),Te("nodeDragThreshold",he,ne.setState),Ki(e,we),Ki(t,U),Ki(y,K),Ki(w,Q),Ki(E,ie),Ki(v,be),null},sw={display:"none"},cV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},VE="react-flow__node-desc",qE="react-flow__edge-desc",uV="react-flow__aria-live",dV=e=>e.ariaLiveMessage;function fV({rfId:e}){const t=ct(dV);return L.createElement("div",{id:`${uV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:cV},t)}function mV({rfId:e,disableKeyboardA11y:t}){return L.createElement(L.Fragment,null,L.createElement("div",{id:`${VE}-${e}`,style:sw},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),L.createElement("div",{id:`${qE}-${e}`,style:sw},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&L.createElement(fV,{rfId:e}))}var Ic=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,s]=g.useState(!1),r=g.useRef(!1),i=g.useRef(new Set([])),[l,o]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return g.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=h=>{if(r.current=h.ctrlKey||h.metaKey||h.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&gp(h))return!1;const y=aw(h.code,o);i.current.add(h[y]),rw(l,i.current,!1)&&(h.preventDefault(),s(!0))},f=h=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&gp(h))return!1;const y=aw(h.code,o);rw(l,i.current,!0)?(s(!1),i.current.clear()):i.current.delete(h[y]),h.key==="Meta"&&i.current.clear(),r.current=!1},m=()=>{i.current.clear(),s(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",m)}}},[e,s]),n};function rw(e,t,n){return e.filter(s=>n||s.length===t.size).some(s=>s.every(r=>t.has(r)))}function aw(e,t){return t.includes(e)?"code":"key"}function ZE(e,t,n,s){var o,c;const r=e.parentNode||e.parentId;if(!r)return n;const i=t.get(r),l=Tl(i,s);return ZE(i,t,{x:(n.x??0)+l.x,y:(n.y??0)+l.y,z:(((o=i[ht])==null?void 0:o.z)??0)>(n.z??0)?((c=i[ht])==null?void 0:c.z)??0:n.z??0},s)}function GE(e,t,n){e.forEach(s=>{var i;const r=s.parentNode||s.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n!=null&&n[s.id]){const{x:l,y:o,z:c}=ZE(s,e,{...s.position,z:((i=s[ht])==null?void 0:i.z)??0},t);s.positionAbsolute={x:l,y:o},s[ht].z=c,n!=null&&n[s.id]&&(s[ht].isParent=!0)}})}function Bh(e,t,n,s){const r=new Map,i={},l=s?1e3:0;return e.forEach(o=>{var h;const c=(Xn(o.zIndex)?o.zIndex:0)+(o.selected?l:0),u=t.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},f=o.parentNode||o.parentId;f&&(i[f]=!0);const m=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(d,ht,{enumerable:!1,value:{handleBounds:m||(h=u==null?void 0:u[ht])==null?void 0:h.handleBounds,z:c}}),r.set(o.id,d)}),GE(r,n,i),r}function YE(e,t={}){const{getNodes:n,width:s,height:r,minZoom:i,maxZoom:l,d3Zoom:o,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),m=t.initial&&!u&&d;if(o&&c&&(m||!t.initial)){const p=n().filter(w=>{var x;const v=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(x=t.nodes)!=null&&x.length?v&&t.nodes.some(b=>b.id===w.id):v}),y=p.every(w=>w.width&&w.height);if(p.length>0&&y){const w=Q0(p,f),{x:v,y:x,zoom:b}=DE(w,s,r,t.minZoom??i,t.maxZoom??l,t.padding??.1),j=ha.translate(v,x).scale(b);return typeof t.duration=="number"&&t.duration>0?o.transform(Ga(c,t.duration),j):o.transform(c,j),!0}}return!1}function hV(e,t){return e.forEach(n=>{const s=t.get(n.id);s&&t.set(s.id,{...s,[ht]:s[ht],selected:n.selected})}),new Map(t)}function gV(e,t){return t.map(n=>{const s=e.find(r=>r.id===n.id);return s&&(n.selected=s.selected),n})}function sd({changedNodes:e,changedEdges:t,get:n,set:s}){const{nodeInternals:r,edges:i,onNodesChange:l,onEdgesChange:o,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&s({nodeInternals:hV(e,r)}),l==null||l(e)),t!=null&&t.length&&(u&&s({edges:gV(t,i)}),o==null||o(t))}const Ji=()=>{},pV={zoomIn:Ji,zoomOut:Ji,zoomTo:Ji,getZoom:()=>1,setViewport:Ji,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ji,fitBounds:Ji,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},xV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),vV=()=>{const e=Ot(),{d3Zoom:t,d3Selection:n}=ct(xV,pn);return g.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(Ga(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(Ga(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,i)=>t.scaleTo(Ga(n,i==null?void 0:i.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,i)=>{const[l,o,c]=e.getState().transform,u=ha.translate(r.x??l,r.y??o).scale(r.zoom??c);t.transform(Ga(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[r,i,l]=e.getState().transform;return{x:r,y:i,zoom:l}},fitView:r=>YE(e.getState,r),setCenter:(r,i,l)=>{const{width:o,height:c,maxZoom:u}=e.getState(),d=typeof(l==null?void 0:l.zoom)<"u"?l.zoom:u,f=o/2-r*d,m=c/2-i*d,h=ha.translate(f,m).scale(d);t.transform(Ga(n,l==null?void 0:l.duration),h)},fitBounds:(r,i)=>{const{width:l,height:o,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:m}=DE(r,l,o,c,u,(i==null?void 0:i.padding)??.1),h=ha.translate(d,f).scale(m);t.transform(Ga(n,i==null?void 0:i.duration),h)},project:r=>{const{transform:i,snapToGrid:l,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),vp(r,i,l,o)},screenToFlowPosition:r=>{const{transform:i,snapToGrid:l,snapGrid:o,domNode:c}=e.getState();if(!c)return r;const{x:u,y:d}=c.getBoundingClientRect(),f={x:r.x-u,y:r.y-d};return vp(f,i,l,o)},flowToScreenPosition:r=>{const{transform:i,domNode:l}=e.getState();if(!l)return r;const{x:o,y:c}=l.getBoundingClientRect(),u=AE(r,i);return{x:u.x+o,y:u.y+c}},viewportInitialized:!0}:pV,[t,n])};function ev(){const e=vV(),t=Ot(),n=g.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),s=g.useCallback(y=>t.getState().nodeInternals.get(y),[]),r=g.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(w=>({...w}))},[]),i=g.useCallback(y=>{const{edges:w=[]}=t.getState();return w.find(v=>v.id===y)},[]),l=g.useCallback(y=>{const{getNodes:w,setNodes:v,hasDefaultNodes:x,onNodesChange:b}=t.getState(),j=w(),N=typeof y=="function"?y(j):y;if(x)v(N);else if(b){const C=N.length===0?j.map(S=>({type:"remove",id:S.id})):N.map(S=>({item:S,type:"reset"}));b(C)}},[]),o=g.useCallback(y=>{const{edges:w=[],setEdges:v,hasDefaultEdges:x,onEdgesChange:b}=t.getState(),j=typeof y=="function"?y(w):y;if(x)v(j);else if(b){const N=j.length===0?w.map(C=>({type:"remove",id:C.id})):j.map(C=>({item:C,type:"reset"}));b(N)}},[]),c=g.useCallback(y=>{const w=Array.isArray(y)?y:[y],{getNodes:v,setNodes:x,hasDefaultNodes:b,onNodesChange:j}=t.getState();if(b){const C=[...v(),...w];x(C)}else if(j){const N=w.map(C=>({item:C,type:"add"}));j(N)}},[]),u=g.useCallback(y=>{const w=Array.isArray(y)?y:[y],{edges:v=[],setEdges:x,hasDefaultEdges:b,onEdgesChange:j}=t.getState();if(b)x([...v,...w]);else if(j){const N=w.map(C=>({item:C,type:"add"}));j(N)}},[]),d=g.useCallback(()=>{const{getNodes:y,edges:w=[],transform:v}=t.getState(),[x,b,j]=v;return{nodes:y().map(N=>({...N})),edges:w.map(N=>({...N})),viewport:{x,y:b,zoom:j}}},[]),f=g.useCallback(({nodes:y,edges:w})=>{const{nodeInternals:v,getNodes:x,edges:b,hasDefaultNodes:j,hasDefaultEdges:N,onNodesDelete:C,onEdgesDelete:S,onNodesChange:E,onEdgesChange:k}=t.getState(),T=(y||[]).map(P=>P.id),D=(w||[]).map(P=>P.id),O=x().reduce((P,M)=>{const $=M.parentNode||M.parentId,A=!T.includes(M.id)&&$&&P.find(B=>B.id===$);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(T.includes(M.id)||A)&&P.push(M),P},[]),z=b.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),_=z.filter(P=>D.includes(P.id));if(O||_){const P=RE(O,z),M=[..._,...P],$=M.reduce((A,R)=>(A.includes(R.id)||A.push(R.id),A),[]);if((N||j)&&(N&&t.setState({edges:b.filter(A=>!$.includes(A.id))}),j&&(O.forEach(A=>{v.delete(A.id)}),t.setState({nodeInternals:new Map(v)}))),$.length>0&&(S==null||S(M),k&&k($.map(A=>({id:A,type:"remove"})))),O.length>0&&(C==null||C(O),E)){const A=O.map(R=>({id:R.id,type:"remove"}));E(A)}}},[]),m=g.useCallback(y=>{const w=BU(y),v=w?null:t.getState().nodeInternals.get(y.id);return!w&&!v?[null,null,w]:[w?y:Wb(v),v,w]},[]),h=g.useCallback((y,w=!0,v)=>{const[x,b,j]=m(y);return x?(v||t.getState().getNodes()).filter(N=>{if(!j&&(N.id===b.id||!N.positionAbsolute))return!1;const C=Wb(N),S=hp(C,x);return w&&S>0||S>=x.width*x.height}):[]},[]),p=g.useCallback((y,w,v=!0)=>{const[x]=m(y);if(!x)return!1;const b=hp(x,w);return v&&b>0||b>=x.width*x.height},[]);return g.useMemo(()=>({...e,getNodes:n,getNode:s,getEdges:r,getEdge:i,setNodes:l,setEdges:o,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:p}),[e,n,s,r,i,l,o,c,u,d,f,h,p])}const yV={actInsideInputWithModifier:!1};var bV=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ot(),{deleteElements:s}=ev(),r=Ic(e,yV),i=Ic(t);g.useEffect(()=>{if(r){const{edges:l,getNodes:o}=n.getState(),c=o().filter(d=>d.selected),u=l.filter(d=>d.selected);s({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[r]),g.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function wV(e){const t=Ot();g.useEffect(()=>{let n;const s=()=>{var i,l;if(!e.current)return;const r=U0(e.current);(r.height===0||r.width===0)&&((l=(i=t.getState()).onError)==null||l.call(i,"004",Ar.error004())),t.setState({width:r.width||500,height:r.height||500})};return s(),window.addEventListener("resize",s),e.current&&(n=new ResizeObserver(()=>s()),n.observe(e.current)),()=>{window.removeEventListener("resize",s),n&&e.current&&n.unobserve(e.current)}},[])}const tv={position:"absolute",width:"100%",height:"100%",top:0,left:0},jV=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,rd=e=>({x:e.x,y:e.y,zoom:e.k}),el=(e,t)=>e.target.closest(`.${t}`),iw=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),lw=e=>{const t=e.ctrlKey&&bf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},NV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),SV=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:s,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:l=!1,panOnScrollSpeed:o=.5,panOnScrollMode:c=si.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:m,translateExtent:h,minZoom:p,maxZoom:y,zoomActivationKeyCode:w,preventScrolling:v=!0,children:x,noWheelClassName:b,noPanClassName:j})=>{const N=g.useRef(),C=Ot(),S=g.useRef(!1),E=g.useRef(!1),k=g.useRef(null),T=g.useRef({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:O,d3ZoomHandler:z,userSelectionActive:_}=ct(NV,pn),P=Ic(w),M=g.useRef(0),$=g.useRef(!1),A=g.useRef();return wV(k),g.useEffect(()=>{if(k.current){const R=k.current.getBoundingClientRect(),B=MU().scaleExtent([p,y]).translateExtent(h),H=ls(k.current).call(B),F=ha.translate(m.x,m.y).scale(to(m.zoom,p,y)),Z=[[0,0],[R.width,R.height]],X=B.constrain()(F,Z,h);B.transform(H,X),B.wheelDelta(lw),C.setState({d3Zoom:B,d3Selection:H,d3ZoomHandler:H.on("wheel.zoom"),transform:[X.x,X.y,X.k],domNode:k.current.closest(".react-flow")})}},[]),g.useEffect(()=>{O&&D&&(l&&!P&&!_?O.on("wheel.zoom",R=>{if(el(R,b))return!1;R.preventDefault(),R.stopImmediatePropagation();const B=O.property("__zoom").k||1;if(R.ctrlKey&&i){const ve=Ts(R),he=lw(R),we=B*Math.pow(2,he);D.scaleTo(O,we,ve,R);return}const H=R.deltaMode===1?20:1;let F=c===si.Vertical?0:R.deltaX*H,Z=c===si.Horizontal?0:R.deltaY*H;!bf()&&R.shiftKey&&c!==si.Vertical&&(F=R.deltaY*H,Z=0),D.translateBy(O,-(F/B)*o,-(Z/B)*o,{internal:!0});const X=rd(O.property("__zoom")),{onViewportChangeStart:J,onViewportChange:le,onViewportChangeEnd:ee}=C.getState();clearTimeout(A.current),$.current||($.current=!0,t==null||t(R,X),J==null||J(X)),$.current&&(e==null||e(R,X),le==null||le(X),A.current=setTimeout(()=>{n==null||n(R,X),ee==null||ee(X),$.current=!1},150))},{passive:!1}):typeof z<"u"&&O.on("wheel.zoom",function(R,B){if(!v&&R.type==="wheel"&&!R.ctrlKey||el(R,b))return null;R.preventDefault(),z.call(this,R,B)},{passive:!1}))},[_,l,c,O,D,z,P,i,v,b,t,e,n]),g.useEffect(()=>{D&&D.on("start",R=>{var F,Z;if(!R.sourceEvent||R.sourceEvent.internal)return null;M.current=(F=R.sourceEvent)==null?void 0:F.button;const{onViewportChangeStart:B}=C.getState(),H=rd(R.transform);S.current=!0,T.current=H,((Z=R.sourceEvent)==null?void 0:Z.type)==="mousedown"&&C.setState({paneDragging:!0}),B==null||B(H),t==null||t(R.sourceEvent,H)})},[D,t]),g.useEffect(()=>{D&&(_&&!S.current?D.on("zoom",null):_||D.on("zoom",R=>{var H;const{onViewportChange:B}=C.getState();if(C.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),E.current=!!(s&&iw(f,M.current??0)),(e||B)&&!((H=R.sourceEvent)!=null&&H.internal)){const F=rd(R.transform);B==null||B(F),e==null||e(R.sourceEvent,F)}}))},[_,D,e,f,s]),g.useEffect(()=>{D&&D.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:B}=C.getState();if(S.current=!1,C.setState({paneDragging:!1}),s&&iw(f,M.current??0)&&!E.current&&s(R.sourceEvent),E.current=!1,(n||B)&&jV(T.current,R.transform)){const H=rd(R.transform);T.current=H,clearTimeout(N.current),N.current=setTimeout(()=>{B==null||B(H),n==null||n(R.sourceEvent,H)},l?150:0)}})},[D,l,f,n,s]),g.useEffect(()=>{D&&D.filter(R=>{const B=P||r,H=i&&R.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&R.button===1&&R.type==="mousedown"&&(el(R,"react-flow__node")||el(R,"react-flow__edge")))return!0;if(!f&&!B&&!l&&!u&&!i||_||!u&&R.type==="dblclick"||el(R,b)&&R.type==="wheel"||el(R,j)&&(R.type!=="wheel"||l&&R.type==="wheel"&&!P)||!i&&R.ctrlKey&&R.type==="wheel"||!B&&!l&&!H&&R.type==="wheel"||!f&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(f)&&!f.includes(R.button)&&R.type==="mousedown")return!1;const F=Array.isArray(f)&&f.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&F})},[_,D,r,i,l,u,f,d,P]),L.createElement("div",{className:"react-flow__renderer",ref:k,style:tv},x)},kV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function CV(){const{userSelectionActive:e,userSelectionRect:t}=ct(kV,pn);return e&&t?L.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function ow(e,t){const n=t.parentNode||t.parentId,s=e.find(r=>r.id===n);if(s){const r=t.position.x+t.width-s.width,i=t.position.y+t.height-s.height;if(r>0||i>0||t.position.x<0||t.position.y<0){if(s.style={...s.style},s.style.width=s.style.width??s.width,s.style.height=s.style.height??s.height,r>0&&(s.style.width+=r),i>0&&(s.style.height+=i),t.position.x<0){const l=Math.abs(t.position.x);s.position.x=s.position.x-l,s.style.width+=l,t.position.x=0}if(t.position.y<0){const l=Math.abs(t.position.y);s.position.y=s.position.y-l,s.style.height+=l,t.position.y=0}s.width=s.style.width,s.height=s.style.height}}}function XE(e,t){if(e.some(s=>s.type==="reset"))return e.filter(s=>s.type==="reset").map(s=>s.item);const n=e.filter(s=>s.type==="add").map(s=>s.item);return t.reduce((s,r)=>{const i=e.filter(o=>o.id===r.id);if(i.length===0)return s.push(r),s;const l={...r};for(const o of i)if(o)switch(o.type){case"select":{l.selected=o.selected;break}case"position":{typeof o.position<"u"&&(l.position=o.position),typeof o.positionAbsolute<"u"&&(l.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(l.dragging=o.dragging),l.expandParent&&ow(s,l);break}case"dimensions":{typeof o.dimensions<"u"&&(l.width=o.dimensions.width,l.height=o.dimensions.height),typeof o.updateStyle<"u"&&(l.style={...l.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(l.resizing=o.resizing),l.expandParent&&ow(s,l);break}case"remove":return s}return s.push(l),s},n)}function WE(e,t){return XE(e,t)}function EV(e,t){return XE(e,t)}const Wr=(e,t)=>({id:e,type:"select",selected:t});function cl(e,t){return e.reduce((n,s)=>{const r=t.includes(s.id);return!s.selected&&r?(s.selected=!0,n.push(Wr(s.id,!0))):s.selected&&!r&&(s.selected=!1,n.push(Wr(s.id,!1))),n},[])}const Ih=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},TV=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),QE=g.memo(({isSelecting:e,selectionMode:t=Bc.Full,panOnDrag:n,onSelectionStart:s,onSelectionEnd:r,onPaneClick:i,onPaneContextMenu:l,onPaneScroll:o,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const m=g.useRef(null),h=Ot(),p=g.useRef(0),y=g.useRef(0),w=g.useRef(),{userSelectionActive:v,elementsSelectable:x,dragging:b}=ct(TV,pn),j=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,y.current=0},N=z=>{i==null||i(z),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=z=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){z.preventDefault();return}l==null||l(z)},S=o?z=>o(z):void 0,E=z=>{const{resetSelectedElements:_,domNode:P}=h.getState();if(w.current=P==null?void 0:P.getBoundingClientRect(),!x||!e||z.button!==0||z.target!==m.current||!w.current)return;const{x:M,y:$}=ga(z,w.current);_(),h.setState({userSelectionRect:{width:0,height:0,startX:M,startY:$,x:M,y:$}}),s==null||s(z)},k=z=>{const{userSelectionRect:_,nodeInternals:P,edges:M,transform:$,onNodesChange:A,onEdgesChange:R,nodeOrigin:B,getNodes:H}=h.getState();if(!e||!w.current||!_)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const F=ga(z,w.current),Z=_.startX??0,X=_.startY??0,J={..._,x:F.x<Z?F.x:Z,y:F.y<X?F.y:X,width:Math.abs(F.x-Z),height:Math.abs(F.y-X)},le=H(),ee=ME(P,J,$,t===Bc.Partial,!0,B),ve=RE(ee,M).map(we=>we.id),he=ee.map(we=>we.id);if(p.current!==he.length){p.current=he.length;const we=cl(le,he);we.length&&(A==null||A(we))}if(y.current!==ve.length){y.current=ve.length;const we=cl(M,ve);we.length&&(R==null||R(we))}h.setState({userSelectionRect:J})},T=z=>{if(z.button!==0)return;const{userSelectionRect:_}=h.getState();!v&&_&&z.target===m.current&&(N==null||N(z)),h.setState({nodesSelectionActive:p.current>0}),j(),r==null||r(z)},D=z=>{v&&(h.setState({nodesSelectionActive:p.current>0}),r==null||r(z)),j()},O=x&&(e||v);return L.createElement("div",{className:on(["react-flow__pane",{dragging:b,selection:e}]),onClick:O?void 0:Ih(N,m),onContextMenu:Ih(C,m),onWheel:Ih(S,m),onMouseEnter:O?void 0:c,onMouseDown:O?E:void 0,onMouseMove:O?k:u,onMouseUp:O?T:void 0,onMouseLeave:O?D:d,ref:m,style:tv},f,L.createElement(CV,null))});QE.displayName="Pane";function KE(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const s=t.get(n);return s?s.selected?!0:KE(s,t):!1}function cw(e,t,n){let s=e;do{if(s!=null&&s.matches(t))return!0;if(s===n.current)return!1;s=s.parentElement}while(s);return!1}function _V(e,t,n,s){return Array.from(e.values()).filter(r=>(r.selected||r.id===s)&&(!r.parentNode||r.parentId||!KE(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var i,l;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=r.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((l=r.positionAbsolute)==null?void 0:l.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode||r.parentId,parentId:r.parentNode||r.parentId,width:r.width,height:r.height,expandParent:r.expandParent}})}function AV(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function JE(e,t,n,s,r=[0,0],i){const l=AV(e,e.extent||s);let o=l;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:m,y:h}=Tl(f,r).positionAbsolute;o=f&&Xn(m)&&Xn(h)&&Xn(f.width)&&Xn(f.height)?[[m+e.width*r[0],h+e.height*r[1]],[m+f.width-e.width+e.width*r[0],h+f.height-e.height+e.height*r[1]]]:o}else i==null||i("005",Ar.error005()),o=l;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:m,y:h}=Tl(f,r).positionAbsolute;o=[[e.extent[0][0]+m,e.extent[0][1]+h],[e.extent[1][0]+m,e.extent[1][1]+h]]}let u={x:0,y:0};if(c){const f=n.get(c);u=Tl(f,r).positionAbsolute}const d=o&&o!=="parent"?V0(t,o):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Fh({nodeId:e,dragItems:t,nodeInternals:n}){const s=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?s.find(r=>r.id===e):s[0],s]}const uw=(e,t,n,s)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const i=Array.from(r),l=t.getBoundingClientRect(),o={x:l.width*s[0],y:l.height*s[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-l.left-o.x)/n,y:(u.top-l.top-o.y)/n,...U0(c)}})};function Io(e,t,n){return n===void 0?n:s=>{const r=t().nodeInternals.get(e);r&&n(s,{...r})}}function bp({id:e,store:t,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:l,nodeInternals:o,onError:c}=t.getState(),u=o.get(e);if(!u){c==null||c("012",Ar.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&l)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=s==null?void 0:s.current)==null?void 0:d.blur()})):r([e])}function MV(){const e=Ot();return g.useCallback(({sourceEvent:n})=>{const{transform:s,snapGrid:r,snapToGrid:i}=e.getState(),l=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,c={x:(l-s[0])/s[2],y:(o-s[1])/s[2]};return{xSnapped:i?r[0]*Math.round(c.x/r[0]):c.x,ySnapped:i?r[1]*Math.round(c.y/r[1]):c.y,...c}},[])}function Hh(e){return(t,n,s)=>e==null?void 0:e(t,s)}function eT({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:s,nodeId:r,isSelectable:i,selectNodesOnDrag:l}){const o=Ot(),[c,u]=g.useState(!1),d=g.useRef([]),f=g.useRef({x:null,y:null}),m=g.useRef(0),h=g.useRef(null),p=g.useRef({x:0,y:0}),y=g.useRef(null),w=g.useRef(!1),v=g.useRef(!1),x=g.useRef(!1),b=MV();return g.useEffect(()=>{if(e!=null&&e.current){const j=ls(e.current),N=({x:E,y:k})=>{const{nodeInternals:T,onNodeDrag:D,onSelectionDrag:O,updateNodePositions:z,nodeExtent:_,snapGrid:P,snapToGrid:M,nodeOrigin:$,onError:A}=o.getState();f.current={x:E,y:k};let R=!1,B={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&_){const F=Q0(d.current,$);B=q0(F)}if(d.current=d.current.map(F=>{const Z={x:E-F.distance.x,y:k-F.distance.y};M&&(Z.x=P[0]*Math.round(Z.x/P[0]),Z.y=P[1]*Math.round(Z.y/P[1]));const X=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];d.current.length>1&&_&&!F.extent&&(X[0][0]=F.positionAbsolute.x-B.x+_[0][0],X[1][0]=F.positionAbsolute.x+(F.width??0)-B.x2+_[1][0],X[0][1]=F.positionAbsolute.y-B.y+_[0][1],X[1][1]=F.positionAbsolute.y+(F.height??0)-B.y2+_[1][1]);const J=JE(F,Z,T,X,$,A);return R=R||F.position.x!==J.position.x||F.position.y!==J.position.y,F.position=J.position,F.positionAbsolute=J.positionAbsolute,F}),!R)return;z(d.current,!0,!0),u(!0);const H=r?D:Hh(O);if(H&&y.current){const[F,Z]=Fh({nodeId:r,dragItems:d.current,nodeInternals:T});H(y.current,F,Z)}},C=()=>{if(!h.current)return;const[E,k]=jE(p.current,h.current);if(E!==0||k!==0){const{transform:T,panBy:D}=o.getState();f.current.x=(f.current.x??0)-E/T[2],f.current.y=(f.current.y??0)-k/T[2],D({x:E,y:k})&&N(f.current)}m.current=requestAnimationFrame(C)},S=E=>{var $;const{nodeInternals:k,multiSelectionActive:T,nodesDraggable:D,unselectNodesAndEdges:O,onNodeDragStart:z,onSelectionDragStart:_}=o.getState();v.current=!0;const P=r?z:Hh(_);(!l||!i)&&!T&&r&&(($=k.get(r))!=null&&$.selected||O()),r&&i&&l&&bp({id:r,store:o,nodeRef:e});const M=b(E);if(f.current=M,d.current=_V(k,D,M,r),P&&d.current){const[A,R]=Fh({nodeId:r,dragItems:d.current,nodeInternals:k});P(E.sourceEvent,A,R)}};if(t)j.on(".drag",null);else{const E=FF().on("start",k=>{const{domNode:T,nodeDragThreshold:D}=o.getState();D===0&&S(k),x.current=!1;const O=b(k);f.current=O,h.current=(T==null?void 0:T.getBoundingClientRect())||null,p.current=ga(k.sourceEvent,h.current)}).on("drag",k=>{var z,_;const T=b(k),{autoPanOnNodeDrag:D,nodeDragThreshold:O}=o.getState();if(k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!w.current&&v.current&&D&&(w.current=!0,C()),!v.current){const P=T.xSnapped-(((z=f==null?void 0:f.current)==null?void 0:z.x)??0),M=T.ySnapped-(((_=f==null?void 0:f.current)==null?void 0:_.y)??0);Math.sqrt(P*P+M*M)>O&&S(k)}(f.current.x!==T.xSnapped||f.current.y!==T.ySnapped)&&d.current&&v.current&&(y.current=k.sourceEvent,p.current=ga(k.sourceEvent,h.current),N(T))}}).on("end",k=>{if(!(!v.current||x.current)&&(u(!1),w.current=!1,v.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:T,nodeInternals:D,onNodeDragStop:O,onSelectionDragStop:z}=o.getState(),_=r?O:Hh(z);if(T(d.current,!1,!1),_){const[P,M]=Fh({nodeId:r,dragItems:d.current,nodeInternals:D});_(k.sourceEvent,P,M)}}}).filter(k=>{const T=k.target;return!k.button&&(!n||!cw(T,`.${n}`,e))&&(!s||cw(T,s,e))});return j.call(E),()=>{j.on(".drag",null)}}}},[e,t,n,s,i,o,r,l,b]),c}function tT(){const e=Ot();return g.useCallback(n=>{const{nodeInternals:s,nodeExtent:r,updateNodePositions:i,getNodes:l,snapToGrid:o,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=l().filter(x=>x.selected&&(x.draggable||d&&typeof x.draggable>"u")),m=o?c[0]:5,h=o?c[1]:5,p=n.isShiftPressed?4:1,y=n.x*m*p,w=n.y*h*p,v=f.map(x=>{if(x.positionAbsolute){const b={x:x.positionAbsolute.x+y,y:x.positionAbsolute.y+w};o&&(b.x=c[0]*Math.round(b.x/c[0]),b.y=c[1]*Math.round(b.y/c[1]));const{positionAbsolute:j,position:N}=JE(x,b,s,r,void 0,u);x.position=N,x.positionAbsolute=j}return x});i(v,!0,!1)},[])}const _l={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Fo=e=>{const t=({id:n,type:s,data:r,xPos:i,yPos:l,xPosOrigin:o,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,onContextMenu:p,onDoubleClick:y,style:w,className:v,isDraggable:x,isSelectable:b,isConnectable:j,isFocusable:N,selectNodesOnDrag:C,sourcePosition:S,targetPosition:E,hidden:k,resizeObserver:T,dragHandle:D,zIndex:O,isParent:z,noDragClassName:_,noPanClassName:P,initialized:M,disableKeyboardA11y:$,ariaLabel:A,rfId:R,hasHandleBounds:B})=>{const H=Ot(),F=g.useRef(null),Z=g.useRef(null),X=g.useRef(S),J=g.useRef(E),le=g.useRef(s),ee=b||x||d||f||m||h,ve=tT(),he=Io(n,H.getState,f),we=Io(n,H.getState,m),U=Io(n,H.getState,h),W=Io(n,H.getState,p),K=Io(n,H.getState,y),Q=fe=>{const{nodeDragThreshold:ne}=H.getState();if(b&&(!C||!x||ne>0)&&bp({id:n,store:H,nodeRef:F}),d){const $e=H.getState().nodeInternals.get(n);$e&&d(fe,{...$e})}},ie=fe=>{if(!gp(fe)&&!$)if(SE.includes(fe.key)&&b){const ne=fe.key==="Escape";bp({id:n,store:H,unselect:ne,nodeRef:F})}else x&&u&&Object.prototype.hasOwnProperty.call(_l,fe.key)&&(H.setState({ariaLiveMessage:`Moved selected node ${fe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~l}`}),ve({x:_l[fe.key].x,y:_l[fe.key].y,isShiftPressed:fe.shiftKey}))};g.useEffect(()=>()=>{Z.current&&(T==null||T.unobserve(Z.current),Z.current=null)},[]),g.useEffect(()=>{if(F.current&&!k){const fe=F.current;(!M||!B||Z.current!==fe)&&(Z.current&&(T==null||T.unobserve(Z.current)),T==null||T.observe(fe),Z.current=fe)}},[k,M,B]),g.useEffect(()=>{const fe=le.current!==s,ne=X.current!==S,$e=J.current!==E;F.current&&(fe||ne||$e)&&(fe&&(le.current=s),ne&&(X.current=S),$e&&(J.current=E),H.getState().updateNodeDimensions([{id:n,nodeElement:F.current,forceUpdate:!0}]))},[n,s,S,E]);const be=eT({nodeRef:F,disabled:k||!x,noDragClassName:_,handleSelector:D,nodeId:n,isSelectable:b,selectNodesOnDrag:C});return k?null:L.createElement("div",{className:on(["react-flow__node",`react-flow__node-${s}`,{[P]:x},v,{selected:u,selectable:b,parent:z,dragging:be}]),ref:F,style:{zIndex:O,transform:`translate(${o}px,${c}px)`,pointerEvents:ee?"all":"none",visibility:M?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:he,onMouseMove:we,onMouseLeave:U,onContextMenu:W,onClick:Q,onDoubleClick:K,onKeyDown:N?ie:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":$?void 0:`${VE}-${R}`,"aria-label":A},L.createElement(ZU,{value:n},L.createElement(e,{id:n,data:r,type:s,xPos:i,yPos:l,selected:u,isConnectable:j,sourcePosition:S,targetPosition:E,dragging:be,dragHandle:D,zIndex:O})))};return t.displayName="NodeWrapper",g.memo(t)};const RV=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Q0(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function DV({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=Ot(),{width:r,height:i,x:l,y:o,transformString:c,userSelectionActive:u}=ct(RV,pn),d=tT(),f=g.useRef(null);if(g.useEffect(()=>{var p;n||(p=f.current)==null||p.focus({preventScroll:!0})},[n]),eT({nodeRef:f}),u||!r||!i)return null;const m=e?p=>{const y=s.getState().getNodes().filter(w=>w.selected);e(p,y)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(_l,p.key)&&d({x:_l[p.key].x,y:_l[p.key].y,isShiftPressed:p.shiftKey})};return L.createElement("div",{className:on(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},L.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:r,height:i,top:o,left:l}}))}var zV=g.memo(DV);const LV=e=>e.nodesSelectionActive,nT=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:l,deleteKeyCode:o,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:h,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:w,panActivationKeyCode:v,zoomActivationKeyCode:x,elementsSelectable:b,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:C,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:T,defaultViewport:D,translateExtent:O,minZoom:z,maxZoom:_,preventScrolling:P,onSelectionContextMenu:M,noWheelClassName:$,noPanClassName:A,disableKeyboardA11y:R})=>{const B=ct(LV),H=Ic(f),F=Ic(v),Z=F||T,X=F||C,J=H||m&&Z!==!0;return bV({deleteKeyCode:o,multiSelectionKeyCode:w}),L.createElement(SV,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:b,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:X,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:!H&&Z,defaultViewport:D,translateExtent:O,minZoom:z,maxZoom:_,zoomActivationKeyCode:x,preventScrolling:P,noWheelClassName:$,noPanClassName:A},L.createElement(QE,{onSelectionStart:p,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:Z,isSelecting:!!J,selectionMode:h},e,B&&L.createElement(zV,{onSelectionContextMenu:M,noPanClassName:A,disableKeyboardA11y:R})))};nT.displayName="FlowRenderer";var $V=g.memo(nT);function PV(e){return ct(g.useCallback(n=>e?ME(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function OV(e){const t={input:Fo(e.input||IE),default:Fo(e.default||yp),output:Fo(e.output||HE),group:Fo(e.group||J0)},n={},s=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,i)=>(r[i]=Fo(e[i]||yp),r),n);return{...t,...s}}const BV=({x:e,y:t,width:n,height:s,origin:r})=>!n||!s?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-s*r[1]},IV=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),sT=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:r,updateNodeDimensions:i,onError:l}=ct(IV,pn),o=PV(e.onlyRenderVisibleElements),c=g.useRef(),u=g.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const m=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));i(m)});return c.current=d,d},[]);return g.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),L.createElement("div",{className:"react-flow__nodes",style:tv},o.map(d=>{var N,C,S;let f=d.type||"default";e.nodeTypes[f]||(l==null||l("003",Ar.error003(f)),f="default");const m=e.nodeTypes[f]||e.nodeTypes.default,h=!!(d.draggable||t&&typeof d.draggable>"u"),p=!!(d.selectable||r&&typeof d.selectable>"u"),y=!!(d.connectable||n&&typeof d.connectable>"u"),w=!!(d.focusable||s&&typeof d.focusable>"u"),v=e.nodeExtent?V0(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,x=(v==null?void 0:v.x)??0,b=(v==null?void 0:v.y)??0,j=BV({x,y:b,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return L.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||oe.Bottom,targetPosition:d.targetPosition||oe.Top,hidden:d.hidden,xPos:x,yPos:b,xPosOrigin:j.x,yPosOrigin:j.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:h,isSelectable:p,isConnectable:y,isFocusable:w,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((N=d[ht])==null?void 0:N.z)??0,isParent:!!((C=d[ht])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((S=d[ht])!=null&&S.handleBounds)})}))};sT.displayName="NodeRenderer";var FV=g.memo(sT);const HV=(e,t,n)=>n===oe.Left?e-t:n===oe.Right?e+t:e,UV=(e,t,n)=>n===oe.Top?e-t:n===oe.Bottom?e+t:e,dw="react-flow__edgeupdater",fw=({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:r,onMouseEnter:i,onMouseOut:l,type:o})=>L.createElement("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:l,className:on([dw,`${dw}-${o}`]),cx:HV(t,s,e),cy:UV(n,s,e),r:s,stroke:"transparent",fill:"transparent"}),VV=()=>!0;var tl=e=>{const t=({id:n,className:s,type:r,data:i,onClick:l,onEdgeDoubleClick:o,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:w,source:v,target:x,sourceX:b,sourceY:j,targetX:N,targetY:C,sourcePosition:S,targetPosition:E,elementsSelectable:k,hidden:T,sourceHandleId:D,targetHandleId:O,onContextMenu:z,onMouseEnter:_,onMouseMove:P,onMouseLeave:M,reconnectRadius:$,onReconnect:A,onReconnectStart:R,onReconnectEnd:B,markerEnd:H,markerStart:F,rfId:Z,ariaLabel:X,isFocusable:J,isReconnectable:le,pathOptions:ee,interactionWidth:ve,disableKeyboardA11y:he})=>{const we=g.useRef(null),[U,W]=g.useState(!1),[K,Q]=g.useState(!1),ie=Ot(),be=g.useMemo(()=>`url('#${xp(F,Z)}')`,[F,Z]),fe=g.useMemo(()=>`url('#${xp(H,Z)}')`,[H,Z]);if(T)return null;const ne=Mt=>{var Bn;const{edges:Bt,addSelectedEdges:ws,unselectNodesAndEdges:nr,multiSelectionActive:sr}=ie.getState(),as=Bt.find(Fa=>Fa.id===n);as&&(k&&(ie.setState({nodesSelectionActive:!1}),as.selected&&sr?(nr({nodes:[],edges:[as]}),(Bn=we.current)==null||Bn.blur()):ws([n])),l&&l(Mt,as))},$e=Bo(n,ie.getState,o),wt=Bo(n,ie.getState,z),bs=Bo(n,ie.getState,_),Ir=Bo(n,ie.getState,P),On=Bo(n,ie.getState,M),ss=(Mt,Bt)=>{if(Mt.button!==0)return;const{edges:ws,isValidConnection:nr}=ie.getState(),sr=Bt?x:v,as=(Bt?O:D)||null,Bn=Bt?"target":"source",Fa=nr||VV,ue=Bt,De=ws.find(Fe=>Fe.id===n);Q(!0),R==null||R(Mt,De,Bn);const Be=Fe=>{Q(!1),B==null||B(Fe,De,Bn)};$E({event:Mt,handleId:as,nodeId:sr,onConnect:Fe=>A==null?void 0:A(De,Fe),isTarget:ue,getState:ie.getState,setState:ie.setState,isValidConnection:Fa,edgeUpdaterType:Bn,onReconnectEnd:Be})},Js=Mt=>ss(Mt,!0),er=Mt=>ss(Mt,!1),tr=()=>W(!0),rs=()=>W(!1),Fr=!k&&!l,Hr=Mt=>{var Bt;if(!he&&SE.includes(Mt.key)&&k){const{unselectNodesAndEdges:ws,addSelectedEdges:nr,edges:sr}=ie.getState();Mt.key==="Escape"?((Bt=we.current)==null||Bt.blur(),ws({edges:[sr.find(Bn=>Bn.id===n)]})):nr([n])}};return L.createElement("g",{className:on(["react-flow__edge",`react-flow__edge-${r}`,s,{selected:c,animated:u,inactive:Fr,updating:U}]),onClick:ne,onDoubleClick:$e,onContextMenu:wt,onMouseEnter:bs,onMouseMove:Ir,onMouseLeave:On,onKeyDown:J?Hr:void 0,tabIndex:J?0:void 0,role:J?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":X===null?void 0:X||`Edge from ${v} to ${x}`,"aria-describedby":J?`${qE}-${Z}`:void 0,ref:we},!K&&L.createElement(e,{id:n,source:v,target:x,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,data:i,style:w,sourceX:b,sourceY:j,targetX:N,targetY:C,sourcePosition:S,targetPosition:E,sourceHandleId:D,targetHandleId:O,markerStart:be,markerEnd:fe,pathOptions:ee,interactionWidth:ve}),le&&L.createElement(L.Fragment,null,(le==="source"||le===!0)&&L.createElement(fw,{position:S,centerX:b,centerY:j,radius:$,onMouseDown:Js,onMouseEnter:tr,onMouseOut:rs,type:"source"}),(le==="target"||le===!0)&&L.createElement(fw,{position:E,centerX:N,centerY:C,radius:$,onMouseDown:er,onMouseEnter:tr,onMouseOut:rs,type:"target"})))};return t.displayName="EdgeWrapper",g.memo(t)};function qV(e){const t={default:tl(e.default||jf),straight:tl(e.bezier||Y0),step:tl(e.step||G0),smoothstep:tl(e.step||Fm),simplebezier:tl(e.simplebezier||Z0)},n={},s=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,i)=>(r[i]=tl(e[i]||jf),r),n);return{...t,...s}}function mw(e,t,n=null){const s=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,l=(n==null?void 0:n.height)||t.height;switch(e){case oe.Top:return{x:s+i/2,y:r};case oe.Right:return{x:s+i,y:r+l/2};case oe.Bottom:return{x:s+i/2,y:r+l};case oe.Left:return{x:s,y:r+l/2}}}function hw(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const ZV=(e,t,n,s,r,i)=>{const l=mw(n,e,t),o=mw(i,s,r);return{sourceX:l.x,sourceY:l.y,targetX:o.x,targetY:o.y}};function GV({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:s,targetWidth:r,targetHeight:i,width:l,height:o,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+s,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=q0({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:l/c[2],height:o/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*m)>0}function gw(e){var s,r,i,l,o;const t=((s=e==null?void 0:e[ht])==null?void 0:s.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const YV=[{level:0,isMaxLevel:!0,edges:[]}];function XV(e,t,n=!1){let s=-1;const r=e.reduce((l,o)=>{var d,f;const c=Xn(o.zIndex);let u=c?o.zIndex:0;if(n){const m=t.get(o.target),h=t.get(o.source),p=o.selected||(m==null?void 0:m.selected)||(h==null?void 0:h.selected),y=Math.max(((d=h==null?void 0:h[ht])==null?void 0:d.z)||0,((f=m==null?void 0:m[ht])==null?void 0:f.z)||0,1e3);u=(c?o.zIndex:0)+(p?y:0)}return l[u]?l[u].push(o):l[u]=[o],s=u>s?u:s,l},{}),i=Object.entries(r).map(([l,o])=>{const c=+l;return{edges:o,level:c,isMaxLevel:c===s}});return i.length===0?YV:i}function WV(e,t,n){const s=ct(g.useCallback(r=>e?r.edges.filter(i=>{const l=t.get(i.source),o=t.get(i.target);return(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&GV({sourcePos:l.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:l.width,sourceHeight:l.height,targetWidth:o.width,targetHeight:o.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return XV(s,t,n)}const QV=({color:e="none",strokeWidth:t=1})=>L.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),KV=({color:e="none",strokeWidth:t=1})=>L.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),pw={[wf.Arrow]:QV,[wf.ArrowClosed]:KV};function JV(e){const t=Ot();return g.useMemo(()=>{var r,i;return Object.prototype.hasOwnProperty.call(pw,e)?pw[e]:((i=(r=t.getState()).onError)==null||i.call(r,"009",Ar.error009(e)),null)},[e])}const eq=({id:e,type:t,color:n,width:s=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:o="auto-start-reverse"})=>{const c=JV(t);return c?L.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0"},L.createElement(c,{color:n,strokeWidth:l})):null},tq=({defaultColor:e,rfId:t})=>n=>{const s=[];return n.edges.reduce((r,i)=>([i.markerStart,i.markerEnd].forEach(l=>{if(l&&typeof l=="object"){const o=xp(l,t);s.includes(o)||(r.push({id:o,color:l.color||e,...l}),s.push(o))}}),r),[]).sort((r,i)=>r.id.localeCompare(i.id))},rT=({defaultColor:e,rfId:t})=>{const n=ct(g.useCallback(tq({defaultColor:e,rfId:t}),[e,t]),(s,r)=>!(s.length!==r.length||s.some((i,l)=>i.id!==r[l].id)));return L.createElement("defs",null,n.map(s=>L.createElement(eq,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient})))};rT.displayName="MarkerDefinitions";var nq=g.memo(rT);const sq=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),aT=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:s,edgeTypes:r,noPanClassName:i,onEdgeContextMenu:l,onEdgeMouseEnter:o,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:y,children:w,disableKeyboardA11y:v})=>{const{edgesFocusable:x,edgesUpdatable:b,elementsSelectable:j,width:N,height:C,connectionMode:S,nodeInternals:E,onError:k}=ct(sq,pn),T=WV(t,E,n);return N?L.createElement(L.Fragment,null,T.map(({level:D,edges:O,isMaxLevel:z})=>L.createElement("svg",{key:D,style:{zIndex:D},width:N,height:C,className:"react-flow__edges react-flow__container"},z&&L.createElement(nq,{defaultColor:e,rfId:s}),L.createElement("g",null,O.map(_=>{const[P,M,$]=gw(E.get(_.source)),[A,R,B]=gw(E.get(_.target));if(!$||!B)return null;let H=_.type||"default";r[H]||(k==null||k("011",Ar.error011(H)),H="default");const F=r[H]||r.default,Z=S===wi.Strict?R.target:(R.target??[]).concat(R.source??[]),X=hw(M.source,_.sourceHandle),J=hw(Z,_.targetHandle),le=(X==null?void 0:X.position)||oe.Bottom,ee=(J==null?void 0:J.position)||oe.Top,ve=!!(_.focusable||x&&typeof _.focusable>"u"),he=_.reconnectable||_.updatable,we=typeof m<"u"&&(he||b&&typeof he>"u");if(!X||!J)return k==null||k("008",Ar.error008(X,_)),null;const{sourceX:U,sourceY:W,targetX:K,targetY:Q}=ZV(P,X,le,A,J,ee);return L.createElement(F,{key:_.id,id:_.id,className:on([_.className,i]),type:H,data:_.data,selected:!!_.selected,animated:!!_.animated,hidden:!!_.hidden,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,style:_.style,source:_.source,target:_.target,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerEnd:_.markerEnd,markerStart:_.markerStart,sourceX:U,sourceY:W,targetX:K,targetY:Q,sourcePosition:le,targetPosition:ee,elementsSelectable:j,onContextMenu:l,onMouseEnter:o,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:y,rfId:s,ariaLabel:_.ariaLabel,isFocusable:ve,isReconnectable:we,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth,disableKeyboardA11y:v})})))),w):null};aT.displayName="EdgeRenderer";var rq=g.memo(aT);const aq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function iq({children:e}){const t=ct(aq);return L.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function lq(e){const t=ev(),n=g.useRef(!1);g.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const oq={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top},iT=({nodeId:e,handleType:t,style:n,type:s=ea.Bezier,CustomComponent:r,connectionStatus:i})=>{var C,S,E;const{fromNode:l,handleId:o,toX:c,toY:u,connectionMode:d}=ct(g.useCallback(k=>({fromNode:k.nodeInternals.get(e),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2],connectionMode:k.connectionMode}),[e]),pn),f=(C=l==null?void 0:l[ht])==null?void 0:C.handleBounds;let m=f==null?void 0:f[t];if(d===wi.Loose&&(m=m||(f==null?void 0:f[t==="source"?"target":"source"])),!l||!m)return null;const h=o?m.find(k=>k.id===o):m[0],p=h?h.x+h.width/2:(l.width??0)/2,y=h?h.y+h.height/2:l.height??0,w=(((S=l.positionAbsolute)==null?void 0:S.x)??0)+p,v=(((E=l.positionAbsolute)==null?void 0:E.y)??0)+y,x=h==null?void 0:h.position,b=x?oq[x]:null;if(!x||!b)return null;if(r)return L.createElement(r,{connectionLineType:s,connectionLineStyle:n,fromNode:l,fromHandle:h,fromX:w,fromY:v,toX:c,toY:u,fromPosition:x,toPosition:b,connectionStatus:i});let j="";const N={sourceX:w,sourceY:v,sourcePosition:x,targetX:c,targetY:u,targetPosition:b};return s===ea.Bezier?[j]=_E(N):s===ea.Step?[j]=pp({...N,borderRadius:0}):s===ea.SmoothStep?[j]=pp(N):s===ea.SimpleBezier?[j]=TE(N):j=`M${w},${v} ${c},${u}`,L.createElement("path",{d:j,fill:"none",className:"react-flow__connection-path",style:n})};iT.displayName="ConnectionLine";const cq=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function uq({containerStyle:e,style:t,type:n,component:s}){const{nodeId:r,handleType:i,nodesConnectable:l,width:o,height:c,connectionStatus:u}=ct(cq,pn);return!(r&&i&&o&&l)?null:L.createElement("svg",{style:e,width:o,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},L.createElement("g",{className:on(["react-flow__connection",u])},L.createElement(iT,{nodeId:r,handleType:i,style:t,type:n,CustomComponent:s,connectionStatus:u})))}function xw(e,t){return g.useRef(null),Ot(),g.useMemo(()=>t(e),[e])}const lT=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:s,onMoveEnd:r,onInit:i,onNodeClick:l,onEdgeClick:o,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:y,onSelectionEnd:w,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:b,connectionLineContainerStyle:j,selectionKeyCode:N,selectionOnDrag:C,selectionMode:S,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:T,deleteKeyCode:D,onlyRenderVisibleElements:O,elementsSelectable:z,selectNodesOnDrag:_,defaultViewport:P,translateExtent:M,minZoom:$,maxZoom:A,preventScrolling:R,defaultMarkerColor:B,zoomOnScroll:H,zoomOnPinch:F,panOnScroll:Z,panOnScrollSpeed:X,panOnScrollMode:J,zoomOnDoubleClick:le,panOnDrag:ee,onPaneClick:ve,onPaneMouseEnter:he,onPaneMouseMove:we,onPaneMouseLeave:U,onPaneScroll:W,onPaneContextMenu:K,onEdgeContextMenu:Q,onEdgeMouseEnter:ie,onEdgeMouseMove:be,onEdgeMouseLeave:fe,onReconnect:ne,onReconnectStart:$e,onReconnectEnd:wt,reconnectRadius:bs,noDragClassName:Ir,noWheelClassName:On,noPanClassName:ss,elevateEdgesOnSelect:Js,disableKeyboardA11y:er,nodeOrigin:tr,nodeExtent:rs,rfId:Fr})=>{const Hr=xw(e,OV),Mt=xw(t,qV);return lq(i),L.createElement($V,{onPaneClick:ve,onPaneMouseEnter:he,onPaneMouseMove:we,onPaneMouseLeave:U,onPaneContextMenu:K,onPaneScroll:W,deleteKeyCode:D,selectionKeyCode:N,selectionOnDrag:C,selectionMode:S,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:T,elementsSelectable:z,onMove:n,onMoveStart:s,onMoveEnd:r,zoomOnScroll:H,zoomOnPinch:F,zoomOnDoubleClick:le,panOnScroll:Z,panOnScrollSpeed:X,panOnScrollMode:J,panOnDrag:ee,defaultViewport:P,translateExtent:M,minZoom:$,maxZoom:A,onSelectionContextMenu:p,preventScrolling:R,noDragClassName:Ir,noWheelClassName:On,noPanClassName:ss,disableKeyboardA11y:er},L.createElement(iq,null,L.createElement(rq,{edgeTypes:Mt,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:O,onEdgeContextMenu:Q,onEdgeMouseEnter:ie,onEdgeMouseMove:be,onEdgeMouseLeave:fe,onReconnect:ne,onReconnectStart:$e,onReconnectEnd:wt,reconnectRadius:bs,defaultMarkerColor:B,noPanClassName:ss,elevateEdgesOnSelect:!!Js,disableKeyboardA11y:er,rfId:Fr},L.createElement(uq,{style:x,type:v,component:b,containerStyle:j})),L.createElement("div",{className:"react-flow__edgelabel-renderer"}),L.createElement(FV,{nodeTypes:Hr,onNodeClick:l,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,selectNodesOnDrag:_,onlyRenderVisibleElements:O,noPanClassName:ss,noDragClassName:Ir,disableKeyboardA11y:er,nodeOrigin:tr,nodeExtent:rs,rfId:Fr})))};lT.displayName="GraphView";var dq=g.memo(lT);const wp=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],qr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:wp,nodeExtent:wp,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:wi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:IU,isValidConnection:void 0},fq=()=>J9((e,t)=>({...qr,setNodes:n=>{const{nodeInternals:s,nodeOrigin:r,elevateNodesOnSelect:i}=t();e({nodeInternals:Bh(n,s,r,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:s={}}=t();e({edges:n.map(r=>({...s,...r}))})},setDefaultNodesAndEdges:(n,s)=>{const r=typeof n<"u",i=typeof s<"u",l=r?Bh(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:l,edges:i?s:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:s,nodeInternals:r,fitViewOnInit:i,fitViewOnInitDone:l,fitViewOnInitOptions:o,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((y,w)=>{const v=r.get(w.id);if(v!=null&&v.hidden)r.set(v.id,{...v,[ht]:{...v[ht],handleBounds:void 0}});else if(v){const x=U0(w.nodeElement);!!(x.width&&x.height&&(v.width!==x.width||v.height!==x.height||w.forceUpdate))&&(r.set(v.id,{...v,[ht]:{...v[ht],handleBounds:{source:uw(".source",w.nodeElement,m,u),target:uw(".target",w.nodeElement,m,u)}},...x}),y.push({id:v.id,type:"dimensions",dimensions:x}))}return y},[]);GE(r,u);const p=l||i&&!l&&YE(t,{initial:!0,...o});e({nodeInternals:new Map(r),fitViewOnInitDone:p}),(h==null?void 0:h.length)>0&&(s==null||s(h))},updateNodePositions:(n,s=!0,r=!1)=>{const{triggerNodeChanges:i}=t(),l=n.map(o=>{const c={id:o.id,type:"position",dragging:r};return s&&(c.positionAbsolute=o.positionAbsolute,c.position=o.position),c});i(l)},triggerNodeChanges:n=>{const{onNodesChange:s,nodeInternals:r,hasDefaultNodes:i,nodeOrigin:l,getNodes:o,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(i){const u=WE(n,o()),d=Bh(u,r,l,c);e({nodeInternals:d})}s==null||s(n)}},addSelectedNodes:n=>{const{multiSelectionActive:s,edges:r,getNodes:i}=t();let l,o=null;s?l=n.map(c=>Wr(c,!0)):(l=cl(i(),n),o=cl(r,[])),sd({changedNodes:l,changedEdges:o,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:s,edges:r,getNodes:i}=t();let l,o=null;s?l=n.map(c=>Wr(c,!0)):(l=cl(r,n),o=cl(i(),[])),sd({changedNodes:o,changedEdges:l,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:s}={})=>{const{edges:r,getNodes:i}=t(),l=n||i(),o=s||r,c=l.map(d=>(d.selected=!1,Wr(d.id,!1))),u=o.map(d=>Wr(d.id,!1));sd({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:s,maxZoom:r}=t();s==null||s.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:s,minZoom:r}=t();s==null||s.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var s;(s=t().d3Zoom)==null||s.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:s}=t(),i=s().filter(o=>o.selected).map(o=>Wr(o.id,!1)),l=n.filter(o=>o.selected).map(o=>Wr(o.id,!1));sd({changedNodes:i,changedEdges:l,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:s}=t();s.forEach(r=>{r.positionAbsolute=V0(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(s)})},panBy:n=>{const{transform:s,width:r,height:i,d3Zoom:l,d3Selection:o,translateExtent:c}=t();if(!l||!o||!n.x&&!n.y)return!1;const u=ha.translate(s[0]+n.x,s[1]+n.y).scale(s[2]),d=[[0,0],[r,i]],f=l==null?void 0:l.constrain()(u,d,c);return l.transform(o,f),s[0]!==f.x||s[1]!==f.y||s[2]!==f.k},cancelConnection:()=>e({connectionNodeId:qr.connectionNodeId,connectionHandleId:qr.connectionHandleId,connectionHandleType:qr.connectionHandleType,connectionStatus:qr.connectionStatus,connectionStartHandle:qr.connectionStartHandle,connectionEndHandle:qr.connectionEndHandle}),reset:()=>e({...qr})}),Object.is),oT=({children:e})=>{const t=g.useRef(null);return t.current||(t.current=fq()),L.createElement(RU,{value:t.current},e)};oT.displayName="ReactFlowProvider";const cT=({children:e})=>g.useContext(Im)?L.createElement(L.Fragment,null,e):L.createElement(oT,null,e);cT.displayName="ReactFlowWrapper";const mq={input:IE,default:yp,output:HE,group:J0},hq={default:jf,straight:Y0,step:G0,smoothstep:Fm,simplebezier:Z0},gq=[0,0],pq=[15,15],xq={x:0,y:0,zoom:1},vq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},nv=g.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:r,nodeTypes:i=mq,edgeTypes:l=hq,onNodeClick:o,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:v,onNodeMouseEnter:x,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:C,onNodeDragStart:S,onNodeDrag:E,onNodeDragStop:k,onNodesDelete:T,onEdgesDelete:D,onSelectionChange:O,onSelectionDragStart:z,onSelectionDrag:_,onSelectionDragStop:P,onSelectionContextMenu:M,onSelectionStart:$,onSelectionEnd:A,connectionMode:R=wi.Strict,connectionLineType:B=ea.Bezier,connectionLineStyle:H,connectionLineComponent:F,connectionLineContainerStyle:Z,deleteKeyCode:X="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:le=!1,selectionMode:ee=Bc.Full,panActivationKeyCode:ve="Space",multiSelectionKeyCode:he=bf()?"Meta":"Control",zoomActivationKeyCode:we=bf()?"Meta":"Control",snapToGrid:U=!1,snapGrid:W=pq,onlyRenderVisibleElements:K=!1,selectNodesOnDrag:Q=!0,nodesDraggable:ie,nodesConnectable:be,nodesFocusable:fe,nodeOrigin:ne=gq,edgesFocusable:$e,edgesUpdatable:wt,elementsSelectable:bs,defaultViewport:Ir=xq,minZoom:On=.5,maxZoom:ss=2,translateExtent:Js=wp,preventScrolling:er=!0,nodeExtent:tr,defaultMarkerColor:rs="#b1b1b7",zoomOnScroll:Fr=!0,zoomOnPinch:Hr=!0,panOnScroll:Mt=!1,panOnScrollSpeed:Bt=.5,panOnScrollMode:ws=si.Free,zoomOnDoubleClick:nr=!0,panOnDrag:sr=!0,onPaneClick:as,onPaneMouseEnter:Bn,onPaneMouseMove:Fa,onPaneMouseLeave:ue,onPaneScroll:De,onPaneContextMenu:Be,children:ze,onEdgeContextMenu:Fe,onEdgeDoubleClick:Zt,onEdgeMouseEnter:It,onEdgeMouseMove:js,onEdgeMouseLeave:wn,onEdgeUpdate:rr,onEdgeUpdateStart:Ns,onEdgeUpdateEnd:In,onReconnect:Gi,onReconnectStart:Pu,onReconnectEnd:g4,reconnectRadius:p4=10,edgeUpdaterRadius:x4=10,onNodesChange:v4,onEdgesChange:y4,noDragClassName:b4="nodrag",noWheelClassName:w4="nowheel",noPanClassName:my="nopan",fitView:j4=!1,fitViewOptions:N4,connectOnClick:S4=!0,attributionPosition:k4,proOptions:C4,defaultEdgeOptions:E4,elevateNodesOnSelect:T4=!0,elevateEdgesOnSelect:_4=!1,disableKeyboardA11y:hy=!1,autoPanOnConnect:A4=!0,autoPanOnNodeDrag:M4=!0,connectionRadius:R4=20,isValidConnection:D4,onError:z4,style:L4,id:gy,nodeDragThreshold:$4,...P4},O4)=>{const oh=gy||"1";return L.createElement("div",{...P4,style:{...L4,...vq},ref:O4,className:on(["react-flow",r]),"data-testid":"rf__wrapper",id:gy},L.createElement(cT,null,L.createElement(dq,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onNodeClick:o,onEdgeClick:c,onNodeMouseEnter:x,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:C,nodeTypes:i,edgeTypes:l,connectionLineType:B,connectionLineStyle:H,connectionLineComponent:F,connectionLineContainerStyle:Z,selectionKeyCode:J,selectionOnDrag:le,selectionMode:ee,deleteKeyCode:X,multiSelectionKeyCode:he,panActivationKeyCode:ve,zoomActivationKeyCode:we,onlyRenderVisibleElements:K,selectNodesOnDrag:Q,defaultViewport:Ir,translateExtent:Js,minZoom:On,maxZoom:ss,preventScrolling:er,zoomOnScroll:Fr,zoomOnPinch:Hr,zoomOnDoubleClick:nr,panOnScroll:Mt,panOnScrollSpeed:Bt,panOnScrollMode:ws,panOnDrag:sr,onPaneClick:as,onPaneMouseEnter:Bn,onPaneMouseMove:Fa,onPaneMouseLeave:ue,onPaneScroll:De,onPaneContextMenu:Be,onSelectionContextMenu:M,onSelectionStart:$,onSelectionEnd:A,onEdgeContextMenu:Fe,onEdgeDoubleClick:Zt,onEdgeMouseEnter:It,onEdgeMouseMove:js,onEdgeMouseLeave:wn,onReconnect:Gi??rr,onReconnectStart:Pu??Ns,onReconnectEnd:g4??In,reconnectRadius:p4??x4,defaultMarkerColor:rs,noDragClassName:b4,noWheelClassName:w4,noPanClassName:my,elevateEdgesOnSelect:_4,rfId:oh,disableKeyboardA11y:hy,nodeOrigin:ne,nodeExtent:tr}),L.createElement(oV,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:v,nodesDraggable:ie,nodesConnectable:be,nodesFocusable:fe,edgesFocusable:$e,edgesUpdatable:wt,elementsSelectable:bs,elevateNodesOnSelect:T4,minZoom:On,maxZoom:ss,nodeExtent:tr,onNodesChange:v4,onEdgesChange:y4,snapToGrid:U,snapGrid:W,connectionMode:R,translateExtent:Js,connectOnClick:S4,defaultEdgeOptions:E4,fitView:j4,fitViewOptions:N4,onNodesDelete:T,onEdgesDelete:D,onNodeDragStart:S,onNodeDrag:E,onNodeDragStop:k,onSelectionDrag:_,onSelectionDragStart:z,onSelectionDragStop:P,noPanClassName:my,nodeOrigin:ne,rfId:oh,autoPanOnConnect:A4,autoPanOnNodeDrag:M4,onError:z4,connectionRadius:R4,isValidConnection:D4,nodeDragThreshold:$4}),L.createElement(iV,{onSelectionChange:O}),ze,L.createElement(zU,{proOptions:C4,position:k4}),L.createElement(mV,{rfId:oh,disableKeyboardA11y:hy})))});nv.displayName="ReactFlow";function uT(e){return t=>{const[n,s]=g.useState(t),r=g.useCallback(i=>s(l=>e(i,l)),[]);return[n,s,r]}}const dT=uT(WE),fT=uT(EV);function yq(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}function bq(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},L.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function wq(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},L.createElement("path",{d:"M0 0h32v4.2H0z"}))}function jq(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},L.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Nq(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},L.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Sq(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},L.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const nc=({children:e,className:t,...n})=>L.createElement("button",{type:"button",className:on(["react-flow__controls-button",t]),...n},e);nc.displayName="ControlButton";const kq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),mT=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:l,onFitView:o,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const m=Ot(),[h,p]=g.useState(!1),{isInteractive:y,minZoomReached:w,maxZoomReached:v}=ct(kq,yq),{zoomIn:x,zoomOut:b,fitView:j}=ev();if(g.useEffect(()=>{p(!0)},[]),!h)return null;const N=()=>{x(),i==null||i()},C=()=>{b(),l==null||l()},S=()=>{j(r),o==null||o()},E=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),c==null||c(!y)};return L.createElement(wE,{className:on(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&L.createElement(L.Fragment,null,L.createElement(nc,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v},L.createElement(bq,null)),L.createElement(nc,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},L.createElement(wq,null))),n&&L.createElement(nc,{className:"react-flow__controls-fitview",onClick:S,title:"fit view","aria-label":"fit view"},L.createElement(jq,null)),s&&L.createElement(nc,{className:"react-flow__controls-interactive",onClick:E,title:"toggle interactivity","aria-label":"toggle interactivity"},y?L.createElement(Sq,null):L.createElement(Nq,null)),d)};mT.displayName="Controls";var hT=g.memo(mT);function Cq(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var fs;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(fs||(fs={}));function Eq({color:e,dimensions:t,lineWidth:n}){return L.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Tq({color:e,radius:t}){return L.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const _q={[fs.Dots]:"#91919a",[fs.Lines]:"#eee",[fs.Cross]:"#e2e2e2"},Aq={[fs.Dots]:1,[fs.Lines]:1,[fs.Cross]:6},Mq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function gT({id:e,variant:t=fs.Dots,gap:n=20,size:s,lineWidth:r=1,offset:i=2,color:l,style:o,className:c}){const u=g.useRef(null),{transform:d,patternId:f}=ct(Mq,Cq),m=l||_q[t],h=s||Aq[t],p=t===fs.Dots,y=t===fs.Cross,w=Array.isArray(n)?n:[n,n],v=[w[0]*d[2]||1,w[1]*d[2]||1],x=h*d[2],b=y?[x,x]:v,j=p?[x/i,x/i]:[b[0]/i,b[1]/i];return L.createElement("svg",{className:on(["react-flow__background",c]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},L.createElement("pattern",{id:f+e,x:d[0]%v[0],y:d[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`},p?L.createElement(Tq,{color:m,radius:x/i}):L.createElement(Eq,{dimensions:b,color:m,lineWidth:r})),L.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}gT.displayName="Background";var pT=g.memo(gT);function Rq(e){if(!e||typeof e!="object")throw new Error("Invalid perk tree data");const t=e;if(!t.treeId||!t.treeName||!t.perks||!Array.isArray(t.perks))throw new Error("Invalid perk tree structure");return t}function xT(e){try{return{success:!0,data:Rq(e)}}catch(t){return{success:!1,error:t}}}const Dq={nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120,fallbackSpacing:100};async function vT(e){try{const t=an(`data/perk-positions/${e}-positions.json`),n=await fetch(t);return n.ok?await n.json():null}catch{return null}}function zq(e,t){const n=new Map;e.forEach(l=>{const o=t==null?void 0:t.positions.find(c=>c.perkId===l.edid);n.set(l.edid,{perk:l,depth:-1,children:l.connections.children,parents:l.connections.parents,savedPosition:o})});const r=e.filter(l=>l.connections.parents.length===0).map(l=>({id:l.edid,depth:0})),i=new Set;for(;r.length>0;){const{id:l,depth:o}=r.shift();if(i.has(l))continue;i.add(l);const c=n.get(l);c&&((c.depth===-1||o<c.depth)&&(c.depth=o),c.children.forEach(u=>{n.has(u)&&!i.has(u)&&r.push({id:u,depth:o+1})}))}return n}function Lq(e,t){const n=new Map,s=new Map;e.forEach(i=>{const l=i.depth;s.has(l)||s.set(l,[]),s.get(l).push(i)});const r=Math.max(...s.keys());return s.forEach((i,l)=>{const o=t.padding+(r-l)*t.verticalSpacing,c=(i.length-1)*t.horizontalSpacing,u=t.padding+(t.gridScaleX-c)/2;i.forEach((d,f)=>{const m=u+f*t.horizontalSpacing;n.set(d.perk.edid,{x:m,y:o})})}),n}function $q(e,t,n){t.positions.forEach(s=>{const r=e.get(s.perkId);r&&(r.savedPosition=s,r.calculatedPosition={x:s.x,y:s.y})})}function Pq(e,t,n={}){const s={...Dq,...n},r=zq(e.perks,t);t&&$q(r,t);const i=Lq(r,s),l=new Map;return r.forEach((o,c)=>{if(o.calculatedPosition)l.set(c,o.calculatedPosition);else{const u=i.get(c);u?l.set(c,u):l.set(c,{x:s.padding,y:s.padding})}}),l}function Oq(e,t){const n=Array.from(t.entries()).map(([s,r])=>({perkId:s,x:r.x,y:r.y,gridX:r.gridX,gridY:r.gridY,horizontal:r.horizontal,vertical:r.vertical}));return{treeId:e.treeId,treeName:e.treeName,positions:n,version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function vw(e,t){const n=new Map;return t.positions.forEach(s=>{n.set(s.perkId,{x:s.x,y:s.y,gridX:s.gridX,gridY:s.gridY,horizontal:s.horizontal,vertical:s.vertical})}),n}function Bq(e){const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=`${e.treeId}-positions.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}const Iq=({data:e,selected:t,onTogglePerk:n,onRankChange:s})=>{var u,d,f,m,h;const r=e.totalRanks,i=r>1?(e.currentRank||0)>0:e.selected||t,l=p=>{if(p.preventDefault(),p.stopPropagation(),(e.totalRanks||1)>1){const w=e.currentRank||0,v=e.totalRanks||1,x=w>=v?0:w+1;s&&s(e.edid,x)}else n&&n(e.edid)},o=()=>{const p={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return e.hasNoPosition?{...p,borderColor:"#ef4444",borderStyle:"dashed",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 1px rgba(239, 68, 68, 0.3)"}:i?{...p,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...p,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...p,borderColor:"hsl(var(--border))"}},c=((d=(u=e.ranks[0])==null?void 0:u.description)==null?void 0:d.base)||"";return a.jsxs(SC,{children:[a.jsx(kC,{asChild:!0,children:a.jsxs("div",{style:o(),onClick:l,onMouseDown:p=>p.stopPropagation(),children:[!e.isRoot&&a.jsx(no,{type:"target",position:oe.Bottom}),a.jsx("div",{className:"font-medium",children:e.name}),r>1&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",r," ranks"]}),e.hasChildren&&a.jsx(no,{type:"source",position:oe.Top})]})}),a.jsx($0,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:qt.TOOLTIP},children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-sm",children:e.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:c}),typeof((h=(m=(f=e.ranks[0])==null?void 0:f.prerequisites)==null?void 0:m.skillLevel)==null?void 0:h.level)=="number"&&e.ranks[0].prerequisites.skillLevel.level>0&&a.jsxs("div",{className:"text-xs text-blue-700 font-medium pt-1",children:["Min. Level: ",e.ranks[0].prerequisites.skillLevel.level]}),r>1&&a.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[a.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",r,a.jsx("br",{}),a.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})},yT=g.memo(Iq);function Uh({skills:e,onSelect:t,placeholder:n="Search skills...",className:s="",disabled:r=!1}){const[i,l]=g.useState(""),o=g.useMemo(()=>{if(!i.trim())return e;const f=i.toLowerCase();return e.filter(m=>m.name.toLowerCase().includes(f)||m.description.toLowerCase().includes(f)||m.category.toLowerCase().includes(f)||m.keyAbilities.some(h=>h.toLowerCase().includes(f))||m.metaTags.some(h=>h.toLowerCase().includes(f)))},[e,i]),c=g.useMemo(()=>o.map(f=>{var m;return{id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&a.jsx(q,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalSkill:f,keyAbilitiesCount:((m=f.keyAbilities)==null?void 0:m.length)||0,scaling:f.scaling}}}),[o]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h,p;return a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(zm,{skillName:f.label,size:"sm",className:"flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.label}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&a.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.keyAbilitiesCount)&&f.metadata.keyAbilitiesCount>0&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.keyAbilitiesCount," ability",f.metadata.keyAbilitiesCount!==1?"s":""]})]}),f.description&&a.jsx(Re,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"}),((p=f.metadata)==null?void 0:p.scaling)&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Scaling:"})," ",f.metadata.scaling]})]})]})};return a.jsx(mu,{options:c,onSelect:u,placeholder:n,className:s,disabled:r,renderOption:d,emptyMessage:"No skills found",searchQuery:i,onSearchQueryChange:l})}function Fq(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const bT=L.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),yu=()=>{const e=L.useContext(bT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Fq(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Hq(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Uq(){return sv(/^Mac/)}function Vq(){return sv(/^iPhone/)}function yw(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function qq(){return sv(/^iPad/)||Uq()&&navigator.maxTouchPoints>1}function wT(){return Vq()||qq()}function sv(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Zq=24,Gq=typeof window<"u"?g.useLayoutEffect:g.useEffect;function bw(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Vh=typeof document<"u"&&window.visualViewport;function ww(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function jT(e){for(ww(e)&&(e=e.parentElement);e&&!ww(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Yq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ad=0,qh;function Xq(e={}){let{isDisabled:t}=e;Gq(()=>{if(!t)return ad++,ad===1&&wT()&&(qh=Wq()),()=>{ad--,ad===0&&(qh==null||qh())}},[t])}function Wq(){let e,t=0,n=f=>{e=jT(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},s=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,h=e.scrollTop,p=e.scrollHeight-e.clientHeight;p!==0&&((h<=0&&m>t||h>=p&&m<t)&&f.preventDefault(),t=m)},r=f=>{let m=f.target;jp(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},i=f=>{let m=f.target;jp(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",Vh&&(Vh.height<window.innerHeight?requestAnimationFrame(()=>{jw(m)}):Vh.addEventListener("resize",()=>jw(m),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},o=window.pageXOffset,c=window.pageYOffset,u=bw(Qq(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=bw(Ho(document,"touchstart",n,{passive:!1,capture:!0}),Ho(document,"touchmove",s,{passive:!1,capture:!0}),Ho(document,"touchend",r,{passive:!1,capture:!0}),Ho(document,"focus",i,!0),Ho(window,"scroll",l));return()=>{u(),d(),window.scrollTo(o,c)}}function Qq(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function Ho(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function jw(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=jT(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,r=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+Zq;i>l&&(n.scrollTop+=r-s)}e=n.parentElement}}function jp(e){return e instanceof HTMLInputElement&&!Yq.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Kq(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Jq(...e){return t=>e.forEach(n=>Kq(n,t))}function NT(...e){return g.useCallback(Jq(...e),e)}const ST=new WeakMap;function Et(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([r,i])=>{if(r.startsWith("--")){e.style.setProperty(r,i);return}s[r]=e.style[r],e.style[r]=i}),!n&&ST.set(e,s)}function eZ(e,t){if(!e||!(e instanceof HTMLElement))return;let n=ST.get(e);n&&(e.style[t]=n[t])}const jt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function id(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let r=s.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[jt(t)?13:12]):(r=s.match(/^matrix\((.+)\)$/),r?parseFloat(r[1].split(", ")[jt(t)?5:4]):null)}function tZ(e){return 8*(Math.log(e+1)-2)}function Zh(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function nZ(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const lt={DURATION:.5,EASE:[.32,.72,0,1]},kT=.4,sZ=.25,rZ=100,CT=8,Va=16,Np=26,Gh="vaul-dragging";function ET(e){const t=L.useRef(e);return L.useEffect(()=>{t.current=e}),L.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function aZ({defaultProp:e,onChange:t}){const n=L.useState(e),[s]=n,r=L.useRef(s),i=ET(t);return L.useEffect(()=>{r.current!==s&&(i(s),r.current=s)},[s,r,i]),n}function TT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,r]=aZ({defaultProp:t,onChange:n}),i=e!==void 0,l=i?e:s,o=ET(n),c=L.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&o(f)}else r(u)},[i,e,r,o]);return[l,c]}function iZ({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:r,fadeFromIndex:i,onSnapPointChange:l,direction:o="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=TT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[m,h]=L.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);L.useEffect(()=>{function S(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const p=L.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),y=L.useMemo(()=>{var S;return(S=n==null?void 0:n.findIndex(E=>E===d))!=null?S:null},[n,d]),w=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===d||!n,v=L.useMemo(()=>{const S=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var E;return(E=n==null?void 0:n.map(k=>{const T=typeof k=="string";let D=0;if(T&&(D=parseInt(k,10)),jt(o)){const z=T?D:m?k*S.height:0;return m?o==="bottom"?S.height-z:-S.height+z:z}const O=T?D:m?k*S.width:0;return m?o==="right"?S.width-O:-S.width+O:O}))!=null?E:[]},[n,m,c]),x=L.useMemo(()=>y!==null?v==null?void 0:v[y]:null,[v,y]),b=L.useCallback(S=>{var E;const k=(E=v==null?void 0:v.findIndex(T=>T===S))!=null?E:null;l(k),Et(s.current,{transition:`transform ${lt.DURATION}s cubic-bezier(${lt.EASE.join(",")})`,transform:jt(o)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`}),v&&k!==v.length-1&&i!==void 0&&k!==i&&k<i?Et(r.current,{transition:`opacity ${lt.DURATION}s cubic-bezier(${lt.EASE.join(",")})`,opacity:"0"}):Et(r.current,{transition:`opacity ${lt.DURATION}s cubic-bezier(${lt.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(k,0)])},[s.current,n,v,i,r,f]);L.useEffect(()=>{if(d||e){var S;const E=(S=n==null?void 0:n.findIndex(k=>k===e||k===d))!=null?S:-1;v&&E!==-1&&typeof v[E]=="number"&&b(v[E])}},[d,e,n,v,b]);function j({draggedDistance:S,closeDrawer:E,velocity:k,dismissible:T}){if(i===void 0)return;const D=o==="bottom"||o==="right"?(x??0)-S:(x??0)+S,O=y===i-1,z=y===0,_=S>0;if(O&&Et(r.current,{transition:`opacity ${lt.DURATION}s cubic-bezier(${lt.EASE.join(",")})`}),!u&&k>2&&!_){T?E():b(v[0]);return}if(!u&&k>2&&_&&v&&n){b(v[n.length-1]);return}const P=v==null?void 0:v.reduce(($,A)=>typeof $!="number"||typeof A!="number"?$:Math.abs(A-D)<Math.abs($-D)?A:$),M=jt(o)?window.innerHeight:window.innerWidth;if(k>kT&&Math.abs(S)<M*.4){const $=_?1:-1;if($>0&&p&&n){b(v[n.length-1]);return}if(z&&$<0&&T&&E(),y===null)return;b(v[y+$]);return}b(P)}function N({draggedDistance:S}){if(x===null)return;const E=o==="bottom"||o==="right"?x-S:x+S;(o==="bottom"||o==="right")&&E<v[v.length-1]||(o==="top"||o==="left")&&E>v[v.length-1]||Et(s.current,{transform:jt(o)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})}function C(S,E){if(!n||typeof y!="number"||!v||i===void 0)return null;const k=y===i-1;if(y>=i&&E)return 0;if(k&&!E)return 1;if(!w&&!k)return null;const D=k?y+1:y-1,O=k?v[D]-v[D-1]:v[D+1]-v[D],z=S/Math.abs(O);return k?1-z:z}return{isLastSnapPoint:p,activeSnapPoint:d,shouldFade:w,getPercentageDragged:C,setActiveSnapPoint:f,activeSnapPointIndex:y,onRelease:j,onDrag:N,snapPointsOffset:v}}const lZ=()=>()=>{};function oZ(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:r}=yu(),i=L.useRef(null),l=g.useMemo(()=>document.body.style.backgroundColor,[]);function o(){return(window.innerWidth-Np)/window.innerWidth}L.useEffect(()=>{if(t&&n){i.current&&clearTimeout(i.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;nZ(s&&!r?Zh(document.body,{background:"black"}):lZ,Zh(c,{transformOrigin:jt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${lt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${lt.EASE.join(",")})`}));const u=Zh(c,{borderRadius:`${CT}px`,overflow:"hidden",...jt(e)?{transform:`scale(${o()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${o()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),i.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},lt.DURATION*1e3)}}},[t,n,l])}let Uo=null;function cZ({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:r,noBodyStyles:i}){const[l,o]=L.useState(()=>typeof window<"u"?window.location.href:""),c=L.useRef(0),u=L.useCallback(()=>{if(yw()&&Uo===null&&e&&!i){Uo={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=m-window.innerHeight;h&&c.current>=m&&(document.body.style.top=`${-(c.current+h)}px`)}),300)}},[e]),d=L.useCallback(()=>{if(yw()&&Uo!==null&&!i){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Uo),window.requestAnimationFrame(()=>{if(r&&l!==window.location.href){o(window.location.href);return}window.scrollTo(m,f)}),Uo=null}},[l]);return L.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),L.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),L.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,s,l,t,n,u,d]),{restorePositionSetting:d}}function uZ({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:r,snapPoints:i,shouldScaleBackground:l=!1,setBackgroundColorOnScale:o=!0,closeThreshold:c=sZ,scrollLockTimeout:u=rZ,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:m=i&&i.length-1,activeSnapPoint:h,setActiveSnapPoint:p,fixed:y,modal:w=!0,onClose:v,nested:x,noBodyStyles:b=!1,direction:j="bottom",defaultOpen:N=!1,disablePreventScroll:C=!0,snapToSequentialPoint:S=!1,preventScrollRestoration:E=!1,repositionInputs:k=!0,onAnimationEnd:T,container:D,autoFocus:O=!1}){var z,_;const[P=!1,M]=TT({defaultProp:N,prop:e,onChange:ue=>{t==null||t(ue),!ue&&!x&&tr(),setTimeout(()=>{T==null||T(ue)},lt.DURATION*1e3),ue&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ue||(document.body.style.pointerEvents="auto")}}),[$,A]=L.useState(!1),[R,B]=L.useState(!1),[H,F]=L.useState(!1),Z=L.useRef(null),X=L.useRef(null),J=L.useRef(null),le=L.useRef(null),ee=L.useRef(null),ve=L.useRef(!1),he=L.useRef(null),we=L.useRef(0),U=L.useRef(!1),W=L.useRef(!N),K=L.useRef(0),Q=L.useRef(null),ie=L.useRef(((z=Q.current)==null?void 0:z.getBoundingClientRect().height)||0),be=L.useRef(((_=Q.current)==null?void 0:_.getBoundingClientRect().width)||0),fe=L.useRef(0),ne=L.useCallback(ue=>{i&&ue===On.length-1&&(X.current=new Date)},[]),{activeSnapPoint:$e,activeSnapPointIndex:wt,setActiveSnapPoint:bs,onRelease:Ir,snapPointsOffset:On,onDrag:ss,shouldFade:Js,getPercentageDragged:er}=iZ({snapPoints:i,activeSnapPointProp:h,setActiveSnapPointProp:p,drawerRef:Q,fadeFromIndex:m,overlayRef:Z,onSnapPointChange:ne,direction:j,container:D,snapToSequentialPoint:S});Xq({isDisabled:!P||R||!w||H||!$||!k||!C});const{restorePositionSetting:tr}=cZ({isOpen:P,modal:w,nested:x??!1,hasBeenOpened:$,preventScrollRestoration:E,noBodyStyles:b});function rs(){return(window.innerWidth-Np)/window.innerWidth}function Fr(ue){var De,Be;!d&&!i||Q.current&&!Q.current.contains(ue.target)||(ie.current=((De=Q.current)==null?void 0:De.getBoundingClientRect().height)||0,be.current=((Be=Q.current)==null?void 0:Be.getBoundingClientRect().width)||0,B(!0),J.current=new Date,wT()&&window.addEventListener("touchend",()=>ve.current=!1,{once:!0}),ue.target.setPointerCapture(ue.pointerId),we.current=jt(j)?ue.pageY:ue.pageX)}function Hr(ue,De){var Be;let ze=ue;const Fe=(Be=window.getSelection())==null?void 0:Be.toString(),Zt=Q.current?id(Q.current,j):null,It=new Date;if(ze.tagName==="SELECT"||ze.hasAttribute("data-vaul-no-drag")||ze.closest("[data-vaul-no-drag]"))return!1;if(j==="right"||j==="left")return!0;if(X.current&&It.getTime()-X.current.getTime()<500)return!1;if(Zt!==null&&(j==="bottom"?Zt>0:Zt<0))return!0;if(Fe&&Fe.length>0)return!1;if(ee.current&&It.getTime()-ee.current.getTime()<u&&Zt===0||De)return ee.current=It,!1;for(;ze;){if(ze.scrollHeight>ze.clientHeight){if(ze.scrollTop!==0)return ee.current=new Date,!1;if(ze.getAttribute("role")==="dialog")return!0}ze=ze.parentNode}return!0}function Mt(ue){if(Q.current&&R){const De=j==="bottom"||j==="right"?1:-1,Be=(we.current-(jt(j)?ue.pageY:ue.pageX))*De,ze=Be>0,Fe=i&&!d&&!ze;if(Fe&&wt===0)return;const Zt=Math.abs(Be),It=document.querySelector("[data-vaul-drawer-wrapper]"),js=j==="bottom"||j==="top"?ie.current:be.current;let wn=Zt/js;const rr=er(Zt,ze);if(rr!==null&&(wn=rr),Fe&&wn>=1||!ve.current&&!Hr(ue.target,ze))return;if(Q.current.classList.add(Gh),ve.current=!0,Et(Q.current,{transition:"none"}),Et(Z.current,{transition:"none"}),i&&ss({draggedDistance:Be}),ze&&!i){const In=tZ(Be),Gi=Math.min(In*-1,0)*De;Et(Q.current,{transform:jt(j)?`translate3d(0, ${Gi}px, 0)`:`translate3d(${Gi}px, 0, 0)`});return}const Ns=1-wn;if((Js||m&&wt===m-1)&&(s==null||s(ue,wn),Et(Z.current,{opacity:`${Ns}`,transition:"none"},!0)),It&&Z.current&&l){const In=Math.min(rs()+wn*(1-rs()),1),Gi=8-wn*8,Pu=Math.max(0,14-wn*14);Et(It,{borderRadius:`${Gi}px`,transform:jt(j)?`scale(${In}) translate3d(0, ${Pu}px, 0)`:`scale(${In}) translate3d(${Pu}px, 0, 0)`,transition:"none"},!0)}if(!i){const In=Zt*De;Et(Q.current,{transform:jt(j)?`translate3d(0, ${In}px, 0)`:`translate3d(${In}px, 0, 0)`})}}}L.useEffect(()=>{window.requestAnimationFrame(()=>{W.current=!0})},[]),L.useEffect(()=>{var ue;function De(){if(!Q.current||!k)return;const Be=document.activeElement;if(jp(Be)||U.current){var ze;const Fe=((ze=window.visualViewport)==null?void 0:ze.height)||0,Zt=window.innerHeight;let It=Zt-Fe;const js=Q.current.getBoundingClientRect().height||0,wn=js>Zt*.8;fe.current||(fe.current=js);const rr=Q.current.getBoundingClientRect().top;if(Math.abs(K.current-It)>60&&(U.current=!U.current),i&&i.length>0&&On&&wt){const Ns=On[wt]||0;It+=Ns}if(K.current=It,js>Fe||U.current){const Ns=Q.current.getBoundingClientRect().height;let In=Ns;Ns>Fe&&(In=Fe-(wn?rr:Np)),y?Q.current.style.height=`${Ns-Math.max(It,0)}px`:Q.current.style.height=`${Math.max(In,Fe-rr)}px`}else Hq()||(Q.current.style.height=`${fe.current}px`);i&&i.length>0&&!U.current?Q.current.style.bottom="0px":Q.current.style.bottom=`${Math.max(It,0)}px`}}return(ue=window.visualViewport)==null||ue.addEventListener("resize",De),()=>{var Be;return(Be=window.visualViewport)==null?void 0:Be.removeEventListener("resize",De)}},[wt,i,On]);function Bt(ue){nr(),v==null||v(),ue||M(!1),setTimeout(()=>{i&&bs(i[0])},lt.DURATION*1e3)}function ws(){if(!Q.current)return;const ue=document.querySelector("[data-vaul-drawer-wrapper]"),De=id(Q.current,j);Et(Q.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${lt.DURATION}s cubic-bezier(${lt.EASE.join(",")})`}),Et(Z.current,{transition:`opacity ${lt.DURATION}s cubic-bezier(${lt.EASE.join(",")})`,opacity:"1"}),l&&De&&De>0&&P&&Et(ue,{borderRadius:`${CT}px`,overflow:"hidden",...jt(j)?{transform:`scale(${rs()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${rs()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${lt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${lt.EASE.join(",")})`},!0)}function nr(){!R||!Q.current||(Q.current.classList.remove(Gh),ve.current=!1,B(!1),le.current=new Date)}function sr(ue){if(!R||!Q.current)return;Q.current.classList.remove(Gh),ve.current=!1,B(!1),le.current=new Date;const De=id(Q.current,j);if(!ue||!Hr(ue.target,!1)||!De||Number.isNaN(De)||J.current===null)return;const Be=le.current.getTime()-J.current.getTime(),ze=we.current-(jt(j)?ue.pageY:ue.pageX),Fe=Math.abs(ze)/Be;if(Fe>.05&&(F(!0),setTimeout(()=>{F(!1)},200)),i){Ir({draggedDistance:ze*(j==="bottom"||j==="right"?1:-1),closeDrawer:Bt,velocity:Fe,dismissible:d}),r==null||r(ue,!0);return}if(j==="bottom"||j==="right"?ze>0:ze<0){ws(),r==null||r(ue,!0);return}if(Fe>kT){Bt(),r==null||r(ue,!1);return}var Zt;const It=Math.min((Zt=Q.current.getBoundingClientRect().height)!=null?Zt:0,window.innerHeight);var js;const wn=Math.min((js=Q.current.getBoundingClientRect().width)!=null?js:0,window.innerWidth),rr=j==="left"||j==="right";if(Math.abs(De)>=(rr?wn:It)*c){Bt(),r==null||r(ue,!1);return}r==null||r(ue,!0),ws()}L.useEffect(()=>(P&&(Et(document.documentElement,{scrollBehavior:"auto"}),X.current=new Date),()=>{eZ(document.documentElement,"scrollBehavior")}),[P]);function as(ue){const De=ue?(window.innerWidth-Va)/window.innerWidth:1,Be=ue?-Va:0;he.current&&window.clearTimeout(he.current),Et(Q.current,{transition:`transform ${lt.DURATION}s cubic-bezier(${lt.EASE.join(",")})`,transform:jt(j)?`scale(${De}) translate3d(0, ${Be}px, 0)`:`scale(${De}) translate3d(${Be}px, 0, 0)`}),!ue&&Q.current&&(he.current=setTimeout(()=>{const ze=id(Q.current,j);Et(Q.current,{transition:"none",transform:jt(j)?`translate3d(0, ${ze}px, 0)`:`translate3d(${ze}px, 0, 0)`})},500))}function Bn(ue,De){if(De<0)return;const Be=(window.innerWidth-Va)/window.innerWidth,ze=Be+De*(1-Be),Fe=-Va+De*Va;Et(Q.current,{transform:jt(j)?`scale(${ze}) translate3d(0, ${Fe}px, 0)`:`scale(${ze}) translate3d(${Fe}px, 0, 0)`,transition:"none"})}function Fa(ue,De){const Be=jt(j)?window.innerHeight:window.innerWidth,ze=De?(Be-Va)/Be:1,Fe=De?-Va:0;De&&Et(Q.current,{transition:`transform ${lt.DURATION}s cubic-bezier(${lt.EASE.join(",")})`,transform:jt(j)?`scale(${ze}) translate3d(0, ${Fe}px, 0)`:`scale(${ze}) translate3d(${Fe}px, 0, 0)`})}return L.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),L.createElement(hS,{defaultOpen:N,onOpenChange:ue=>{!d&&!ue||(ue?A(!0):Bt(!0),M(ue))},open:P},L.createElement(bT.Provider,{value:{activeSnapPoint:$e,snapPoints:i,setActiveSnapPoint:bs,drawerRef:Q,overlayRef:Z,onOpenChange:t,onPress:Fr,onRelease:sr,onDrag:Mt,dismissible:d,shouldAnimate:W,handleOnly:f,isOpen:P,isDragging:R,shouldFade:Js,closeDrawer:Bt,onNestedDrag:Bn,onNestedOpenChange:as,onNestedRelease:Fa,keyboardIsOpen:U,modal:w,snapPointsOffset:On,activeSnapPointIndex:wt,direction:j,shouldScaleBackground:l,setBackgroundColorOnScale:o,noBodyStyles:b,container:D,autoFocus:O}},n))}const _T=L.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:s,onRelease:r,shouldFade:i,isOpen:l,modal:o,shouldAnimate:c}=yu(),u=NT(t,n),d=s&&s.length>0;if(!o)return null;const f=L.useCallback(m=>r(m),[r]);return L.createElement(Gx,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":l&&d?"true":"false","data-vaul-snap-points-overlay":l&&i?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});_T.displayName="Drawer.Overlay";const rv=L.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...s},r){const{drawerRef:i,onPress:l,onRelease:o,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:f,modal:m,isOpen:h,direction:p,snapPoints:y,container:w,handleOnly:v,shouldAnimate:x,autoFocus:b}=yu(),[j,N]=L.useState(!1),C=NT(r,i),S=L.useRef(null),E=L.useRef(null),k=L.useRef(!1),T=y&&y.length>0;oZ();const D=(z,_,P=0)=>{if(k.current)return!0;const M=Math.abs(z.y),$=Math.abs(z.x),A=$>M,R=["bottom","right"].includes(_)?1:-1;if(_==="left"||_==="right"){if(!(z.x*R<0)&&$>=0&&$<=P)return A}else if(!(z.y*R<0)&&M>=0&&M<=P)return!A;return k.current=!0,!0};L.useEffect(()=>{T&&window.requestAnimationFrame(()=>{N(!0)})},[]);function O(z){S.current=null,k.current=!1,o(z)}return L.createElement(Yx,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":j?"true":"false","data-vaul-snap-points":h&&T?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":x!=null&&x.current?"true":"false",...s,ref:C,style:d&&d.length>0?{"--snap-point-height":`${d[f??0]}px`,...t}:t,onPointerDown:z=>{v||(s.onPointerDown==null||s.onPointerDown.call(s,z),S.current={x:z.pageX,y:z.pageY},l(z))},onOpenAutoFocus:z=>{n==null||n(z),b||z.preventDefault()},onPointerDownOutside:z=>{if(e==null||e(z),!m||z.defaultPrevented){z.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:z=>{if(!m){z.preventDefault();return}},onPointerMove:z=>{if(E.current=z,v||(s.onPointerMove==null||s.onPointerMove.call(s,z),!S.current))return;const _=z.pageY-S.current.y,P=z.pageX-S.current.x,M=z.pointerType==="touch"?10:2;D({x:P,y:_},p,M)?c(z):(Math.abs(P)>M||Math.abs(_)>M)&&(S.current=null)},onPointerUp:z=>{s.onPointerUp==null||s.onPointerUp.call(s,z),S.current=null,k.current=!1,o(z)},onPointerOut:z=>{s.onPointerOut==null||s.onPointerOut.call(s,z),O(E.current)},onContextMenu:z=>{s.onContextMenu==null||s.onContextMenu.call(s,z),E.current&&O(E.current)}})});rv.displayName="Drawer.Content";const dZ=250,fZ=120,mZ=L.forwardRef(function({preventCycle:e=!1,children:t,...n},s){const{closeDrawer:r,isDragging:i,snapPoints:l,activeSnapPoint:o,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:m,onDrag:h}=yu(),p=L.useRef(null),y=L.useRef(!1);function w(){if(y.current){b();return}window.setTimeout(()=>{v()},fZ)}function v(){if(i||e||y.current){b();return}if(b(),!l||l.length===0){u||r();return}if(o===l[l.length-1]&&u){r();return}const N=l.findIndex(S=>S===o);if(N===-1)return;const C=l[N+1];c(C)}function x(){p.current=window.setTimeout(()=>{y.current=!0},dZ)}function b(){p.current&&window.clearTimeout(p.current),y.current=!1}return L.createElement("div",{onClick:w,onPointerCancel:b,onPointerDown:j=>{d&&m(j),x()},onPointerMove:j=>{d&&h(j)},ref:s,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},L.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});mZ.displayName="Drawer.Handle";function hZ(e){const t=yu(),{container:n=t.container,...s}=e;return L.createElement(gS,{container:n,...s})}const Pr={Root:uZ,Content:rv,Overlay:_T,Portal:hZ,Title:Xx,Description:Wx},AT=({shouldScaleBackground:e=!0,...t})=>a.jsx(Pr.Root,{shouldScaleBackground:e,...t});AT.displayName="Drawer";const MT=Pr.Portal,av=g.forwardRef(({className:e,...t},n)=>a.jsx(Pr.Overlay,{ref:n,className:I("fixed inset-0 bg-background/80 backdrop-blur-sm",e),style:{zIndex:qt.MODAL},...t}));av.displayName=Pr.Overlay.displayName;const gZ=g.forwardRef(({className:e,children:t,fullHeight:n=!1,...s},r)=>a.jsxs(MT,{children:[a.jsx(av,{}),a.jsxs(Pr.Content,{ref:r,className:I(n?"fixed inset-x-0 bottom-0 z-50 flex h-[100dvh] max-h-[100dvh] w-full bg-background":"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:qt.MODAL+1,backgroundColor:"hsl(var(--background))"},...s,children:[!n&&a.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));gZ.displayName="DrawerContent";const RT=({className:e,...t})=>a.jsx("div",{className:I("grid gap-1.5 p-4 text-center sm:text-left",e),...t});RT.displayName="DrawerHeader";const DT=({className:e,...t})=>a.jsx("div",{className:I("mt-auto flex flex-col gap-2 p-4",e),...t});DT.displayName="DrawerFooter";const zT=g.forwardRef(({className:e,...t},n)=>a.jsx(Pr.Title,{ref:n,className:I("text-lg font-semibold leading-none tracking-tight",e),...t}));zT.displayName=Pr.Title.displayName;const LT=g.forwardRef(({className:e,...t},n)=>a.jsx(Pr.Description,{ref:n,className:I("text-sm text-muted-foreground",e),...t}));LT.displayName=Pr.Description.displayName;function pZ(e,t){const n=new Map;return t.forEach(s=>{var l;const r=s.treeId,i=((l=s.perks)==null?void 0:l.length)||0;n.set(r,i)}),n}function iv(){const{data:e,loading:t,error:n,reload:s}=R8(),{data:r,loading:i,error:l,reload:o}=S0(),c=t||i,u=n||l;return{skills:g.useMemo(()=>{if(!e||!r)return[];const m=pZ(e,r);return e.map(h=>({id:h.edid,name:h.name,category:h.category,description:h.description,keyAbilities:h.keyAbilities||[],metaTags:h.metaTags||[],assignmentType:"none",canAssignMajor:!0,canAssignMinor:!0,level:0,totalPerks:m.get(h.edid)||0,selectedPerksCount:0,selectedPerks:[],isSelected:!1}))},[e,r]),perkTrees:r||[],loading:c,error:u,refreshSkills:async()=>{await Promise.all([s(),o()])}}}function xZ(){var w;const{skills:e,loading:t,error:n}=iv(),{build:s,addMajorSkill:r,addMinorSkill:i,removeMajorSkill:l,removeMinorSkill:o}=pt(),c=g.useMemo(()=>e.map(v=>{var E,k;const x=s.skills.major.includes(v.id),b=s.skills.minor.includes(v.id),N=(((k=(E=s.perks)==null?void 0:E.selected)==null?void 0:k[v.id])||[]).length,C=!x&&s.skills.major.length<3,S=!b&&s.skills.minor.length<6;return{...v,isMajor:x,isMinor:b,selectedPerksCount:N,canAssignMajor:C,canAssignMinor:S}}),[e,s.skills.major,s.skills.minor,(w=s.perks)==null?void 0:w.selected]),u=g.useMemo(()=>c.filter(v=>v.isMajor),[c]),d=g.useMemo(()=>c.filter(v=>v.isMinor),[c]),f=g.useMemo(()=>c.filter(v=>!v.isMajor&&!v.isMinor),[c]);return{skills:c,selectedMajorSkills:u,selectedMinorSkills:d,availableSkills:f,loading:t,error:n,handleMajorSkillSelect:v=>{r(v.id)},handleMinorSkillSelect:v=>{i(v.id)},handleMajorSkillRemove:v=>{l(v)},handleMinorSkillRemove:v=>{o(v)}}}function vZ(e){const[t,n]=g.useState(""),[s,r]=g.useState(null),i=g.useMemo(()=>e.filter(c=>{const u=c.name.toLowerCase().includes(t.toLowerCase())||c.description.toLowerCase().includes(t.toLowerCase())||c.category.toLowerCase().includes(t.toLowerCase())||c.keyAbilities.some(f=>f.toLowerCase().includes(t.toLowerCase()))||c.metaTags.some(f=>f.toLowerCase().includes(t.toLowerCase())),d=!s||c.category===s;return u&&d}),[e,t,s]),l=g.useMemo(()=>{const c=new Set(e.map(u=>u.category));return Array.from(c).sort()},[e]);return{searchQuery:t,setSearchQuery:n,selectedCategory:s,setSelectedCategory:r,filteredSkills:i,categories:l,clearFilters:()=>{n(""),r(null)}}}function lv(e){const{data:t,loading:n,error:s}=S0(),{getSkillPerks:r,getPerkRank:i,addPerk:l,removePerk:o,setPerkRank:c,clearSkillPerks:u}=pt(),d=g.useMemo(()=>!e||!t?null:t.find(x=>x.treeId===e)||null,[e,t]),f=g.useMemo(()=>e?r(e):[],[e,r]),m=g.useMemo(()=>{if(!e||!d)return{};const v={};return d.perks.forEach(x=>{v[x.edid]=i(x.edid)}),v},[e,d,i]),h=g.useMemo(()=>{if(!d)return[];const v=[];return d.perks.forEach(x=>{if(x.isRoot){v.push(x.edid);return}(x.connections.parents||[]).every(N=>f.includes(N))&&v.push(x.edid)}),v},[d,f]);return{perkTrees:t||[],selectedPerkTree:d,selectedPerks:f,perkRanks:m,availablePerks:h,loading:n,error:s,handlePerkSelect:v=>{if(!e)return;f.includes(v)?o(e,v):l(e,v)},handlePerkRankChange:(v,x)=>{c(v,x),x===0?f.includes(v)&&o(e,v):f.includes(v)||l(e,v)},handleResetPerks:()=>{e&&u(e)}}}function $T(){var M,$,A,R,B,H;const{skills:e,loading:t,error:n,refreshSkills:s}=iv(),{build:r,addMajorSkill:i,addMinorSkill:l,removeMajorSkill:o,removeMinorSkill:c}=pt(),{searchQuery:u,setSearchQuery:d,selectedCategory:f,setSelectedCategory:m,filteredSkills:h,categories:p,clearFilters:y}=vZ(e),w=g.useMemo(()=>h.map(F=>{var ee,ve,he;const Z=((ve=(ee=r.perks)==null?void 0:ee.selected)==null?void 0:ve[F.id])||[],X=Z.length,J=F.totalPerks??0,le=S1(F.id,Z,((he=r.perks)==null?void 0:he.ranks)||{});return{...F,selectedPerksCount:X,level:le,assignmentType:r.skills.major.includes(F.id)?"major":r.skills.minor.includes(F.id)?"minor":"none",canAssignMajor:!r.skills.major.includes(F.id)&&r.skills.major.length<3,canAssignMinor:!r.skills.minor.includes(F.id)&&r.skills.minor.length<6,perkCount:`${X}/${J}`}}),[h,r.skills.major,r.skills.minor,(M=r.perks)==null?void 0:M.selected,($=r.perks)==null?void 0:$.ranks]),v=g.useMemo(()=>({majorCount:r.skills.major.length,minorCount:r.skills.minor.length,majorLimit:3,minorLimit:6,canAssignMajor:r.skills.major.length<3,canAssignMinor:r.skills.minor.length<6,totalSkills:w.length,totalPerks:w.reduce((F,Z)=>F+(Z.selectedPerksCount||0),0),totalPerkRanks:0}),[w,r.skills.major,r.skills.minor]),x=g.useCallback(F=>{i(F)},[i]),b=g.useCallback(F=>{l(F)},[l]),j=g.useCallback(F=>{o(F),c(F)},[o,c]),[N,C]=g.useState(null),S=g.useCallback(F=>{C(F)},[]),E=g.useMemo(()=>N&&w.find(F=>F.id===N)||null,[N,w]),{selectedPerkTree:k,handleResetPerks:T}=lv(N),D=g.useMemo(()=>{var F;return!E||!((F=r.perks)!=null&&F.selected)?[]:r.perks.selected[E.id]||[]},[E,(A=r.perks)==null?void 0:A.selected]),O=g.useMemo(()=>{var F;return!E||!((F=r.perks)!=null&&F.ranks)?{}:r.perks.ranks[E.id]||{}},[E,(R=r.perks)==null?void 0:R.ranks]),z=g.useMemo(()=>k?k.perks||[]:[],[k]),_=g.useCallback(F=>{var J,le;if(!E)return;const Z=((le=(J=r.perks)==null?void 0:J.selected)==null?void 0:le[E.id])||[];Z.includes(F)?Z.filter(ee=>ee!==F):[...Z]},[E,(B=r.perks)==null?void 0:B.selected]),P=g.useCallback((F,Z)=>{var J,le;if(!E)return;({...((le=(J=r.perks)==null?void 0:J.ranks)==null?void 0:le[E.id])||{}})},[E,(H=r.perks)==null?void 0:H.ranks]);return{skills:w,skillSummary:v,selectedSkill:E,selectedSkillId:N,perkTree:k,selectedPerks:D,perkRanks:O,availablePerks:z,loading:t,error:n,searchQuery:u,setSearchQuery:d,selectedCategory:f,setSelectedCategory:m,categories:p,clearFilters:y,onAssignMajor:x,onAssignMinor:b,onRemoveAssignment:j,onSkillSelect:S,onPerkSelect:_,onPerkRankChange:P,onResetPerks:T,refreshSkills:s}}function yZ(e){const t=new Set,n=[],s=(r,i)=>{if(t.has(r))return;t.add(r),i.push(e.find(o=>o.edid===r));const l=e.find(o=>o.edid===r);l.connection.children.forEach(o=>{e.some(c=>c.edid===o)&&s(o,i)}),l.connection.parents.forEach(o=>{e.some(c=>c.edid===o)&&s(o,i)})};return e.forEach(r=>{if(!t.has(r.edid)){const i=[];s(r.edid,i),n.push(i)}}),n}function bZ(e,t){try{if(e.length===0)return[];const r=yZ(e).map(o=>wZ(o)).map(o=>jZ(o,t)),i=SZ(r,t);return PT(i,t)}catch{return e.map(s=>({id:s.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function wZ(e){const t=new Map;e.forEach(o=>{t.set(o.edid,{perk:o,depth:-1,children:o.connection.children,parents:o.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((o,c)=>{o.parents.length===0&&n.push(c)});const s=n.map(o=>({id:o,depth:0})),r=new Set;for(;s.length>0;){const{id:o,depth:c}=s.shift();if(r.has(o))continue;r.add(o);const u=t.get(o);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!r.has(d)&&s.push({id:d,depth:c+1})}))}let i=!0,l=0;for(;i&&l<10;)i=!1,l++,t.forEach((o,c)=>{if(o.parents.length>1){const u=o.parents.map(d=>{const f=t.get(d);return f?f.depth:-1}).filter(d=>d!==-1);if(u.length>0){const f=Math.min(...u)+1;o.depth!==f&&(o.depth=f,i=!0)}}});return t.forEach((o,c)=>{o.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=o.depth){const f=o.depth+1;d.depth=f}})}),{nodes:t,roots:n}}function jZ(e,t){const{nodes:n,roots:s}=e,r=[];if(n.forEach((f,m)=>{r.push({id:m,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:f.children})}),r.some(f=>{try{return Sp(f.id,n,t,new Set),!1}catch{return!0}}))return r.forEach(f=>{const m=n.get(f.id);if(m&&m.perk){const h=m.perk.position.x*t.gridScaleX,p=-m.perk.position.y*t.gridScaleY;f.x=h,f.y=p,f.originalX=h,f.originalY=p}}),NZ(r,t),r;const l=r.filter(f=>!r.some(h=>{var p;return h.id!==f.id&&((p=h.children)==null?void 0:p.includes(f.id))}));l.forEach(f=>{f.y=0,f.originalY=0});const o=new Set,c=l.map(f=>({node:f,depth:0}));for(;c.length>0;){const{node:f,depth:m}=c.shift();o.has(f.id)||(o.add(f.id),m>0&&(f.y=-m*t.verticalSpacing,f.originalY=f.y),f.children&&f.children.forEach(h=>{const p=r.find(y=>y.id===h);p&&!o.has(h)&&c.push({node:p,depth:m+1})}))}const u=new Map;return r.forEach(f=>{const m=Math.round(f.y/t.verticalSpacing);u.has(m)||u.set(m,[]),u.get(m).push(f)}),Array.from(u.keys()).sort((f,m)=>m-f).forEach(f=>{u.get(f).forEach(h=>{if(h.children){const p=new Map;h.children.forEach(y=>{const w=r.find(v=>v.id===y);if(w){const v=r.filter(x=>{var b;return((b=x.children)==null?void 0:b.includes(y))&&Math.abs(x.y-w.y)===t.verticalSpacing});v.length>0&&v.some(x=>x.id===h.id)&&(p.has(h.id)||p.set(h.id,[]),p.get(h.id).push(w))}}),p.forEach((y,w)=>{if(y.length>0){const v=r.find(x=>x.id===w);if(v){const x=y.map(S=>{const E=Sp(S.id,n,t);return{child:S,subtreeWidth:E}}),b=x.reduce((S,{subtreeWidth:E})=>S+E,0),j=(y.length-1)*t.horizontalSpacing,N=b+j;let C=v.x-N/2;x.forEach(({child:S,subtreeWidth:E})=>{S.x=C+E/2,S.originalX=S.x,C+=E+t.horizontalSpacing})}}})}})}),PT(r,t),r}function PT(e,t){const r=t.horizontalSpacing*.4,i=new Map;e.forEach(l=>{i.set(l.id,{x:l.x,y:l.y})});for(let l=0;l<5;l++){let o=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],f=e[u],m=d.x+t.nodeWidth*.5,h=d.y+t.nodeHeight*.5,p=f.x+t.nodeWidth*.5,y=f.y+t.nodeHeight*.5,w=p-m,v=y-h,x=Math.sqrt(w*w+v*v);if(x<r&&x>0){const b=w/x*.03,j=v/x*.03;d.x-=b,d.y-=j,f.x+=b,f.y+=j,o++}}if(o===0)break}return e.forEach(l=>{const o=i.get(l.id);if(!o)return;const c=o.x-l.x,u=o.y-l.y,d=l.x+c*.02,f=l.y+u*.02,h=Math.round(o.y/t.verticalSpacing)*t.verticalSpacing,p=Math.max(f,h);l.x=d,l.y=p,l.originalX=d,l.originalY=p}),e}function NZ(e,t){const r=t.nodeHeight*.8,i=50,l=new Map;e.forEach(u=>{l.set(u.id,{x:u.x,y:u.y})});let o=0,c=1;for(;c>0&&o<i;){o++,c=0;for(let u=0;u<e.length;u++)for(let d=u+1;d<e.length;d++){const f=e[u],m=e[d],h=Math.max(0,Math.min(f.x+t.nodeWidth,m.x+t.nodeWidth)-Math.max(f.x,m.x)),p=Math.max(0,Math.min(f.y+t.nodeHeight,m.y+t.nodeHeight)-Math.max(f.y,m.y)),y=f.y+t.nodeHeight*.5,w=m.y+t.nodeHeight*.5,v=Math.abs(w-y),x=v<r;if(h>0&&p>0||x){c++;let b=0;h>0&&p>0?b=p*.08:x&&(b=(r-v)*.08),f.y<m.y?(f.y-=b,m.y+=b):(f.y+=b,m.y-=b)}}if(c===0)break}return e.forEach(u=>{const d=l.get(u.id);if(!d)return;const f=d.y-u.y,m=u.y+f*.03;u.y=m,u.originalY=m}),e}function SZ(e,t){const n=[],s=e.map(c=>{const u=Math.max(...c.map(b=>b.y)),d=c.filter(b=>Math.abs(b.y-u)<1),f=d.map(b=>b.x),m=Math.min(...f),h=Math.max(...f),p=h-m,y=f.reduce((b,j)=>b+j,0)/f.length,w=Math.min(...c.map(b=>b.x)),v=Math.max(...c.map(b=>b.x+b.width)),x=v-w;return{treeNodes:c,rootNodes:d,minRootX:m,maxRootX:h,rootWidth:p,rootCenterX:y,minX:w,maxX:v,treeWidth:x}}),r=Math.min(...s.map(c=>c.minRootX)),l=Math.max(...s.map(c=>c.maxRootX))-r;let o=0;return s.forEach(c=>{const u=l>0?c.rootWidth/l:1,d=c.minRootX-r;o-c.minX+d*u,c.treeNodes.forEach(f=>{const h=(f.x-c.minRootX)*u,p=o+h;n.push({...f,x:p,originalX:p})}),o+=c.treeWidth*u+t.horizontalSpacing}),n}function Sp(e,t,n,s=new Set){if(s.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const r=t.get(e);if(!r)return n.nodeWidth;s.add(e);const i=r.children||[],l=i.map(c=>Sp(c,t,n,new Set(s)));if(l.length===0)return n.nodeWidth;let o=0;return l.forEach((c,u)=>{o+=c,u<i.length-1&&(o+=n.horizontalSpacing)}),Math.max(o,n.nodeWidth)}function kZ(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const CZ={perkNode:e=>a.jsx(yT,{...e,onTogglePerk:e.data.onTogglePerk,onRankChange:e.data.onRankChange})};function EZ({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:s}){const[r,i]=L.useState(null),[l,o]=L.useState(null),[c,u]=L.useState(!1),d=L.useCallback((T,D)=>{},[]),f=g.useMemo(()=>{if(!e)return null;const T=xT(e);return T.success?T.data:(console.error("Invalid perk tree data:",T.error),null)},[e]);L.useEffect(()=>{if(!f){o(null);return}u(!0),vT(f.treeId).then(T=>{o(T)}).catch(T=>{o(null)}).finally(()=>{u(!1)})},[f==null?void 0:f.treeId]);const m=g.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),h=g.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),p=g.useMemo(()=>{if(!f)return[];if(l&&!c){const T=Pq(f,l,h);return Array.from(T.entries()).map(([D,O])=>({id:D,x:O.x,y:O.y,width:h.nodeWidth||140,height:h.nodeHeight||80,originalX:O.x,originalY:O.y}))}else{const T=kZ(f);return bZ(T,m)}},[f,m,l,c,h]),y=g.useMemo(()=>!f||p.length===0?[]:f.perks.map(T=>{const D=T.edid,O=p.find(A=>A.id===D),z=O?{x:O.x,y:O.y}:{x:0,y:0},_=T.connections.children.length>0,P=T.connections.parents.length===0,M=s.find(A=>A.edid===D);return{id:D,type:"perkNode",position:z,draggable:!0,data:{...T,selected:M!==void 0,currentRank:(M==null?void 0:M.currentRank)||0,hasChildren:_,isRoot:P,onTogglePerk:t,onRankChange:n}}}),[f,p,s,t,n]),w=g.useMemo(()=>{if(!f)return[];const T=[];return f.perks.forEach(D=>{const O=D.edid;D.connections.children.length>0&&D.connections.children.forEach(z=>{if(z===O)return;f.perks.some(P=>P.edid===z)&&T.push({id:`${O}-${z}`,source:O,target:z,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),T},[f]),[v,x,b]=dT(y),[j,N,C]=fT(w);L.useEffect(()=>{x(y)},[y,x]),L.useEffect(()=>{N(w)},[w,N]),L.useEffect(()=>{f&&v.length>0&&r&&setTimeout(()=>{r.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[f==null?void 0:f.treeId,r]);const S=g.useCallback(T=>N(D=>W0(T,D)),[N]),E=g.useCallback(T=>{T.stopPropagation()},[]),k=g.useCallback(T=>{T.stopPropagation()},[]);return f?a.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},onMouseDown:T=>T.stopPropagation(),onTouchStart:T=>T.stopPropagation(),children:[a.jsx("div",{className:"absolute top-2 left-2 z-10 flex flex-col gap-1",children:a.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:c?"Loading Positions...":l?"Positioned Tree":"Algorithm v2"})}),a.jsxs(nv,{nodes:v,edges:j,onNodesChange:b,onEdgesChange:C,onConnect:S,onInit:i,nodeTypes:CZ,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:d,onMouseDown:E,onTouchStart:k,panOnDrag:!0,panOnScroll:!1,preventScrolling:!0,children:[a.jsx(pT,{}),a.jsx(hT,{})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:a.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function OT({open:e,onOpenChange:t,selectedSkill:n,skillName:s,perkTree:r,skills:i,onSkillSelect:l,onReset:o}){var j,N;const{selectedPerks:c,perkRanks:u,handlePerkSelect:d,handlePerkRankChange:f,handleResetPerks:m}=lv(n),h=L.useMemo(()=>r?r.perks.filter(C=>c.includes(C.edid)).map(C=>({...C,selected:!0,currentRank:u[C.edid]||1})):[],[r,c,u]),p=L.useCallback(C=>{d(C)},[d]),y=L.useCallback((C,S)=>{f(C,S)},[f]),w=()=>{m(),o()},v=()=>{t(!1)},x=[{id:"skills",name:"Skills",placeholder:"Search skills...",options:i.map(C=>({id:C.id,label:C.name,value:C.id,category:"Skills",description:`${C.selectedPerks}/${C.totalPerks} perks selected`}))}],b=C=>{l(C.value)};return n?a.jsx(AT,{open:e,onOpenChange:t,shouldScaleBackground:!1,dismissible:!0,children:a.jsxs(MT,{children:[a.jsx(av,{}),a.jsxs(rv,{className:"fixed inset-x-0 bottom-0 z-50 mt-24 flex flex-col rounded-t-[10px] border bg-background h-[85vh] bg-card border-t shadow-lg !bg-card","data-vaul-no-drag":!0,style:{backgroundColor:"hsl(var(--card))",zIndex:qt.DRAWER},children:[a.jsx(RT,{className:"border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-64",children:a.jsx(ti,{categories:x,onSelect:b,placeholder:"Search skills..."})}),a.jsxs("div",{className:"flex items-center gap-3",children:[s&&a.jsx(zm,{skillName:s,size:"lg",className:"flex-shrink-0"}),a.jsxs("div",{children:[a.jsx(zT,{className:"text-xl",children:s||(r==null?void 0:r.treeName)||"Skill Perks"}),a.jsxs(LT,{className:"flex items-center gap-2",children:[a.jsxs("span",{children:[c.length," perks selected"]}),((j=i.find(C=>C.id===n))==null?void 0:j.level)&&a.jsxs("span",{className:"text-blue-600 font-medium",children:[" Min: Level"," ",(N=i.find(C=>C.id===n))==null?void 0:N.level]})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(V,{variant:"outline",size:"sm",onClick:w,className:"flex items-center gap-2",children:[a.jsx(Nr,{className:"h-4 w-4"}),"Reset Perks"]}),a.jsx(V,{variant:"outline",size:"sm",onClick:v,className:"flex items-center gap-2",children:a.jsx(Xe,{className:"h-4 w-4"})})]})]})}),a.jsx("div",{className:"flex-1 overflow-hidden",style:{height:"400px"},children:a.jsx("div",{className:"h-full w-full bg-muted/20 rounded",children:r?a.jsx(EZ,{tree:r,onTogglePerk:p,onRankChange:y,selectedPerks:h}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("p",{className:"text-muted-foreground",children:n?"Loading perk tree...":"No skill selected"})})})}),a.jsx(DT,{className:"border-t",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on perk nodes to select/deselect them"}),a.jsx(V,{variant:"outline",onClick:v,children:"Close"})]})})]})]})}):null}function TZ({skills:e,loading:t,error:n,searchQuery:s,onSearchChange:r,selectedCategory:i,onCategorySelect:l,categories:o,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:y}){var b;const[w,v]=g.useState(!1);if(t)return a.jsx(S9,{});if(n)return a.jsx(k9,{error:n});const x=e.map(j=>({id:j.id,name:j.name,category:j.category,description:j.description,keyAbilities:j.keyAbilities||[],metaTags:j.metaTags||[],assignmentType:j.assignmentType,canAssignMajor:j.canAssignMajor,canAssignMinor:j.canAssignMinor,level:j.level,totalPerks:j.totalPerks,selectedPerksCount:j.selectedPerksCount,selectedPerks:j.selectedPerks||[],isSelected:j.isSelected||!1,isMajor:j.assignmentType==="major",isMinor:j.assignmentType==="minor"}));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Available Skills"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," skills found"]})]}),a.jsx(E9,{skills:e,onSkillSelect:j=>{u(j),v(!0)},onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,selectedSkillId:c||void 0})]}),a.jsx(OT,{open:w,onOpenChange:v,selectedSkill:c,skillName:c?(b=e.find(j=>j.id===c))==null?void 0:b.name:void 0,perkTree:p||void 0,skills:x,onSkillSelect:u,onReset:h}),a.jsxs("div",{className:"p-6 bg-muted/50 rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"How to Assign Skills"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Major Skills (0-3)"}),a.jsx("p",{children:"Your primary skills that level up faster and start at a higher level."})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Minor Skills (0-6)"}),a.jsx("p",{children:"Secondary skills that provide additional benefits and customization."})]})]})]})]})}function BT({className:e}){var T;const{selectedMajorSkills:t,selectedMinorSkills:n,availableSkills:s,handleMajorSkillSelect:r,handleMinorSkillSelect:i,handleMajorSkillRemove:l,handleMinorSkillRemove:o}=xZ(),{build:c,getSkillLevel:u,getSkillPerks:d}=pt(),{skills:f}=iv(),m=ut(),[h,p]=g.useState(null),[y,w]=g.useState(!1),v=()=>{m("/skills")},x=D=>{p(D),w(!0)},b=D=>{p(D.edid),w(!0)},j=g.useMemo(()=>{const D=t.map(_=>_.id),O=n.map(_=>_.id),z=[...D,...O];return f.filter(_=>d(_.id).length>0&&!z.includes(_.id))},[f,t,n,d]),N=g.useMemo(()=>{const D=t.map(P=>P.id),O=n.map(P=>P.id),z=[...D,...O],_=j.map(P=>P.id);return f.filter(P=>!z.includes(P.id)&&!_.includes(P.id)).map(P=>({name:P.name,edid:P.id,category:P.category,description:P.description,scaling:"",keyAbilities:P.keyAbilities||[],metaTags:P.metaTags||[]}))},[f,t,n,j]),C=D=>({name:D.name,edid:D.id,category:D.category,description:D.description,scaling:D.scaling||"",keyAbilities:D.keyAbilities||[],metaTags:D.metaTags||[]}),S=f.map(D=>{d(D.id);const O=u(D.id),z=c.skills.major.includes(D.id),_=c.skills.minor.includes(D.id),P=!z&&c.skills.major.length<3,M=!_&&c.skills.minor.length<6;return{...D,isMajor:z,isMinor:_,canAssignMajor:P,canAssignMinor:M,level:O}}),{selectedPerkTree:E}=lv(h),k=(D,O)=>{const z=u(D.id||D.edid),_=d(D.id||D.edid),P=D.totalPerks||0,M=D.id||D.edid;let $="cursor-pointer transition-all hover:shadow-md ",A="text-xs ";switch(O){case"major":$+="bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",A+="bg-yellow-100 text-yellow-800 border-yellow-300";break;case"minor":$+="bg-gray-50/50 border-gray-300 shadow-gray-300/20",A+="bg-gray-100 text-gray-800 border-gray-300";break;case"perked":$+="bg-blue-50/50 border-blue-500 shadow-blue-500/20",A+="bg-blue-100 text-blue-800 border-blue-300";break}return a.jsx(de,{className:$,onClick:()=>x(M),children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(zm,{skillName:D.name,size:"2xl",className:"flex-shrink-0"}),a.jsx("h5",{className:"font-medium text-sm text-foreground",children:D.name}),a.jsx(xo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Re,{text:D.description,className:"text-xs text-muted-foreground line-clamp-2 mb-3",as:"p"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(FC,{level:z,size:"sm"}),a.jsxs(q,{variant:"outline",className:A,children:[_.length,"/",P," perks"]}),O==="major"&&a.jsx(q,{variant:"outline",className:"text-xs bg-yellow-100 text-yellow-800 border-yellow-300",children:"Major"}),O==="minor"&&a.jsx(q,{variant:"outline",className:"text-xs bg-gray-100 text-gray-800 border-gray-300",children:"Minor"}),O==="perked"&&a.jsx(q,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800 border-blue-300",children:"Perked"}),O==="assigned"&&a.jsx(q,{variant:"outline",className:"text-xs bg-orange-100 text-orange-800 border-orange-300",children:"Assigned"})]})]}),(O==="major"||O==="minor")&&a.jsx(V,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),O==="major"?l(M):o(M)},className:`${O==="major"?"text-yellow-600 hover:text-yellow-700 hover:bg-yellow-100":"text-gray-600 hover:text-gray-700 hover:bg-gray-100"}`,children:a.jsx(Xe,{className:"h-4 w-4"})})]})})},M)};return a.jsxs(a.Fragment,{children:[a.jsxs(Yn,{title:"Skills & Perks",navigateTo:"skills",onNavigate:v,className:e,children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Major Skills"}),t.length<3&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(q,{variant:"outline",className:"text-xs",children:[t.length,"/3"]})}),a.jsx(Uh,{skills:s.map(C),onSelect:D=>{const O=s.find(z=>z.id===D.edid);O&&r(O)},placeholder:"Select major skill...",className:"w-full"})]}),t.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:t.map(D=>k(D,"major"))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Minor Skills"}),n.length<6&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(q,{variant:"outline",className:"text-xs",children:[n.length,"/6"]})}),a.jsx(Uh,{skills:s.map(C),onSelect:D=>{const O=s.find(z=>z.id===D.edid);O&&i(O)},placeholder:"Select minor skill...",className:"w-full"})]}),n.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:n.map(D=>k(D,"minor"))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Other Perked Skills"}),a.jsx("div",{className:"space-y-2",children:a.jsx(Uh,{skills:N,onSelect:b,placeholder:"Select skill to add perks...",className:"w-full"})}),j.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:j.map(D=>k(D,"perked"))})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on any skill card to view and manage its perk tree. Skill levels show the minimum level required based on your perk selections."})})]}),a.jsx(OT,{open:y,onOpenChange:w,selectedSkill:h,skillName:h?(T=f.find(D=>D.id===h))==null?void 0:T.name:void 0,perkTree:E||void 0,skills:S,onSkillSelect:p,onReset:()=>{}})]})}function Nw({item:e,className:t,allTraitIds:n,disableHover:s=!1}){e.originalTrait;const{hasRegularTrait:r,hasBonusTrait:i,addRegularTrait:l,addBonusTrait:o,removeTrait:c,canAddRegularTrait:u,canAddBonusTrait:d,build:f}=pt(),h=r(e.id)?"primary":i(e.id)?"secondary":"none",p=x=>{h===x?c(e.id):(c(e.id),x==="primary"&&u()?l(e.id):x==="secondary"&&d()&&o(e.id))},y=!u()&&h!=="primary",w=!d()&&h!=="secondary",v=()=>h==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":h==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return g.useEffect(()=>{var x,b;if(n){const j=((x=f==null?void 0:f.traits)==null?void 0:x.regular)||[],N=((b=f==null?void 0:f.traits)==null?void 0:b.bonus)||[];[...j,...N].filter(E=>!n.includes(E)).forEach(E=>c(E))}},[n,f==null?void 0:f.traits,c]),a.jsxs(pe,{expanded:!0,className:I(t,v()),disableHover:s,hideChevron:!0,children:[a.jsx(pe.Header,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"h-4 w-4 text-black"}),a.jsx(Ne,{className:"text-primary font-semibold",children:e.name})]})}),a.jsx(pe.Summary,{children:a.jsx(Re,{text:e.description,className:"text-base text-muted-foreground"})}),a.jsx(pe.Footer,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(V,{size:"sm",variant:h==="primary"?"default":"outline",disabled:y,className:I("flex-1 text-xs",h==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:x=>{x.stopPropagation(),p("primary")},children:h==="primary"?"Remove Trait":"Starting Trait"}),a.jsx(V,{size:"sm",variant:h==="secondary"?"default":"outline",disabled:w,className:I("flex-1 text-xs",h==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:x=>{x.stopPropagation(),p("secondary")},children:h==="secondary"?"Remove Trait":"Late Game Trait"})]})})]})}function IT(e,t){const n=g.useMemo(()=>e.map(o=>{var c;return{id:o.id||o.name,name:o.name,description:o.description||"",category:o.category||"",effects:((c=o.effects)==null?void 0:c.map(u=>`${u.type} ${u.description||""} ${u.value}`))||[],tags:o.tags||[],originalTrait:o}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new tn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(o=>({item:o,score:0,matches:[]})),[r,t]);return{filteredTraits:g.useMemo(()=>i.map(o=>o.item.originalTrait),[i]),searchResults:i,searchableTraits:n}}function Yh({traits:e,onSelect:t,placeholder:n="Search traits...",className:s="",disabled:r=!1}){const[i,l]=g.useState(""),{filteredTraits:o}=IT(e,i),c=g.useMemo(()=>o.map(f=>({id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&a.jsx(q,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalTrait:f,effectsCount:f.effects.length}})),[o]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h;return a.jsx("div",{className:"flex items-start gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.label}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&a.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.effectsCount)&&f.metadata.effectsCount>0&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.effectsCount," effect",f.metadata.effectsCount!==1?"s":""]})]}),f.description&&a.jsx(Re,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})};return a.jsx(mu,{options:c,onSelect:u,placeholder:n,className:s,disabled:r,renderOption:d,emptyMessage:"No traits found",searchQuery:i,onSearchQueryChange:l})}function FT(e){const t=e.map(n=>n.category).filter(Boolean);return[...new Set(t)].sort()}function _Z(e){const t=e.flatMap(n=>{var s;return((s=n.effects)==null?void 0:s.map(r=>r.type))||[]});return[...new Set(t)].sort()}function HT(e){const t=e.flatMap(n=>n.tags||[]);return[...new Set(t)].sort()}function AZ(){const[e,t]=g.useState({search:"",category:"",tags:[]}),{data:n,loading:s,error:r}=zi(),i=g.useMemo(()=>n.filter(u=>{var d;if(e.search){const f=e.search.toLowerCase();if(![u.name,u.description,u.category,...u.tags||[],...((d=u.effects)==null?void 0:d.map(h=>h.type))||[]].join(" ").toLowerCase().includes(f))return!1}return!(e.category&&u.category!==e.category||e.tags.length>0&&!e.tags.some(m=>{var h,p;return((h=u.tags)==null?void 0:h.includes(m))||u.category===m||((p=u.effects)==null?void 0:p.some(y=>y.type===m))}))}),[n,e]),l=g.useMemo(()=>FT(n),[n]),o=g.useMemo(()=>_Z(n),[n]),c=g.useMemo(()=>HT(n),[n]);return{traits:i,allTraits:n,loading:s,error:r,filters:e,setFilters:t,allCategories:l,allEffectTypes:o,allTags:c}}function UT({className:e}){const{allTraits:t}=AZ(),{build:n,addTraitToSlot:s,removeTrait:r,getRegularTraitLimit:i,getBonusTraitLimit:l}=pt(),o=ut();i(),l();const c=n.traits.regular.map(p=>t.find(y=>y.edid===p)).filter(Boolean),u=n.traits.bonus.map(p=>t.find(y=>y.edid===p)).filter(Boolean),d=(p,y)=>{s(p.edid,y)},f=p=>{r(p)},m=()=>{o("/traits")},h=t.filter(p=>!n.traits.regular.includes(p.edid)&&!n.traits.bonus.includes(p.edid));return a.jsx(Yn,{title:"Traits",navigateTo:"traits",onNavigate:m,className:e,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:"Slot 1"}),c[0]&&a.jsx(q,{variant:"default",className:"text-xs",children:"Starting"})]}),c[0]?a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:c[0].name}),a.jsx(Re,{text:c[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),a.jsx(V,{variant:"ghost",size:"sm",onClick:()=>f(c[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:a.jsx(Xe,{className:"h-3 w-3"})})]}):a.jsx(Yh,{traits:h,onSelect:p=>d(p,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:"Slot 2"}),c[1]&&a.jsx(q,{variant:"default",className:"text-xs",children:"Starting"})]}),c[1]?a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:c[1].name}),a.jsx(Re,{text:c[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),a.jsx(V,{variant:"ghost",size:"sm",onClick:()=>f(c[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:a.jsx(Xe,{className:"h-3 w-3"})})]}):a.jsx(Yh,{traits:h,onSelect:p=>d(p,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&a.jsx(q,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:u[0].name}),a.jsx(Re,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),a.jsx(V,{variant:"ghost",size:"sm",onClick:()=>f(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:a.jsx(Xe,{className:"h-3 w-3"})})]}):a.jsx(Yh,{traits:h,onSelect:p=>d(p,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}const MZ=()=>{const{build:e,resetBuild:t,getSummary:n,setBuildName:s,setBuildNotes:r}=pt(),i=ut(),l=n(),[o,c]=g.useState(!1),u=()=>{navigator.clipboard.writeText(window.location.href)},d=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},f=()=>{c(!1),i("/build")},m=h=>{c(!1),i(`/build#${h}`),setTimeout(()=>{const p=document.getElementById(h);p==null||p.scrollIntoView({behavior:"smooth",block:"start"})},100)};return a.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:qt.MODAL+1},children:a.jsxs(Vl,{open:o,onOpenChange:c,children:[a.jsx(pS,{asChild:!0,children:a.jsx(V,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${o?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:a.jsx(Xd,{className:"h-5 w-5"})})}),a.jsx(gi,{side:"right",className:"w-[450px] sm:w-[800px] lg:w-[800px] sm:!max-w-[800px] lg:!max-w-[800px] p-0",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs(ql,{className:"p-6 pb-4 border-b",children:[a.jsxs(Zl,{className:"flex items-center gap-2",children:[a.jsx(Xd,{className:"h-5 w-5"}),l.name||"Character Build"]}),a.jsx(Qx,{children:"Quick reference and editing for your character build"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsx(yS,{name:e.name,notes:e.notes,onNameChange:s,onNotesChange:r,className:"mb-0"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(zC,{}),a.jsx(xC,{}),a.jsx(UT,{}),a.jsx(IC,{})]}),a.jsx(SS,{showControls:!0,showSummary:!0,compact:!1}),a.jsx(BT,{}),a.jsx(TC,{navigate:i}),a.jsx(A$,{build:e})]}),a.jsxs("div",{className:"p-6 pt-4 border-t bg-muted/50",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(V,{onClick:f,className:"flex-1",children:[a.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Full Build Page"]}),a.jsxs(V,{variant:"outline",onClick:u,children:[a.jsx(WN,{className:"w-4 h-4 mr-2"}),"Share"]}),a.jsxs(V,{variant:"destructive",onClick:d,children:[a.jsx(_3,{className:"w-4 h-4 mr-2"}),"Reset"]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Quick Navigation:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[!e.race&&a.jsx(V,{variant:"outline",size:"sm",onClick:()=>m("race"),children:"Race"}),!e.stone&&a.jsx(V,{variant:"outline",size:"sm",onClick:()=>m("birthsign"),children:"Birthsign"}),e.traits.regular.length===0&&e.traits.bonus.length===0&&a.jsx(V,{variant:"outline",size:"sm",onClick:()=>m("traits"),children:"Traits"}),!e.religion&&a.jsx(V,{variant:"outline",size:"sm",onClick:()=>m("religion"),children:"Religion"}),e.skills.major.length===0&&e.skills.minor.length===0&&a.jsx(V,{variant:"outline",size:"sm",onClick:()=>m("skills"),children:"Skills"}),e.destinyPath.length===0&&a.jsx(V,{variant:"outline",size:"sm",onClick:()=>m("destiny"),children:"Destiny"})]})]})]})]})})]})})},Sw=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),kw=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},RZ=()=>{const e=Jr(s=>s.build),t=Jr(s=>s.setBuild),n=g.useRef(!1);g.useEffect(()=>{if(n.current)return;const s=window.location.hash,[r,i]=s.split("?"),o=new URLSearchParams(i||"").get("b");if(o){const c=kw(o);(c==null?void 0:c.v)===1&&t(c)}n.current=!0},[t]),g.useEffect(()=>{const r=Sw({v:1,name:"Test",perks:{selected:{archery:["archery_01"]},ranks:{archery_01:1}}});kw(r)},[]),g.useEffect(()=>{if(!n.current)return;const s=Sw(e),r=window.location.hash,[i,l]=r.split("?"),o=new URLSearchParams(l||"");o.set("b",s);const c=`${i}?${o.toString()}`;window.history.replaceState(null,"",c)},[e.v,e.name,e.notes,e.race,e.stone,e.religion,e.traits,e.traitLimits,e.skills,e.perks,e.skillLevels,e.equipment,e.destinyPath,e.userProgress,e.attributeAssignments])},VT=g.forwardRef(({className:e,collapsed:t,...n},s)=>a.jsx("aside",{ref:s,"data-collapsed":t?"":void 0,className:I("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300 ease-in-out",t?"w-0 overflow-hidden opacity-0":"w-64 opacity-100",e),...n}));VT.displayName="Sidebar";const qT=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:I("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));qT.displayName="SidebarContent";const ZT=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:I("mb-2",e),...t}));ZT.displayName="SidebarGroup";const GT=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:I("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));GT.displayName="SidebarHeader";const YT=g.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,className:I("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));YT.displayName="SidebarMenu";const XT=g.forwardRef(({className:e,asChild:t,isActive:n,...s},r)=>{const i=t?"span":"button";return a.jsx(i,{ref:r,"data-active":n?"":void 0,className:I("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...s})});XT.displayName="SidebarMenuButton";const WT=g.forwardRef(({className:e,...t},n)=>a.jsx("li",{ref:n,className:I("relative flex items-stretch",e),...t}));WT.displayName="SidebarMenuItem";const QT=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:e,...t}));QT.displayName="SidebarRail";function DZ(e={}){const{autoLoad:t=!0,refreshOnMount:n=!1}=e,{data:s,loading:r,error:i,load:l}=ur(),o=g.useCallback(async()=>{t&&s.length===0&&await l()},[t,s.length,l]),c=g.useCallback(async()=>{await l()},[l]),u=g.useCallback(()=>{},[]);g.useEffect(()=>{t&&s.length===0&&o()},[t,s.length,o]),g.useEffect(()=>{n&&c()},[n,c]);const d=s.length,f=[...new Set(s.map(N=>N.category).filter(Boolean))],m=[...new Set(s.flatMap(N=>N.effects.map(C=>C.name)))],h=[...new Set(s.flatMap(N=>N.ingredients))],p=new Date().toISOString(),y=s.length>0?{recipes:s,totalCount:d,categories:f,effects:m,ingredients:h,lastUpdated:p}:null,w=g.useCallback(N=>ur.getState().getByName(N),[]),v=g.useCallback(N=>ur.getState().getByCategory(N),[]),x=g.useCallback(N=>ur.getState().getByDifficulty(N),[]),b=g.useCallback(N=>ur.getState().getByIngredient(N),[]),j=g.useCallback(N=>ur.getState().getByEffect(N),[]);return{recipes:s,recipeData:y,loading:r,error:i,totalCount:d,categories:f,effects:m,ingredients:h,lastUpdated:p,loadRecipes:o,refresh:c,clearError:u,getRecipeByName:w,getRecipesByCategory:v,getRecipesByDifficulty:x,getRecipesByIngredient:b,getRecipesByEffect:j}}function zZ(e,t={}){const{initialFilters:n={},enableSearch:s=!0,enableSorting:r=!0}=t,i=Array.isArray(e)?e:[],[l,o]=g.useState({categories:[],effects:[],ingredients:[],difficulties:[],searchTerm:"",hasEffects:null,isComplex:null,minIngredientCount:null,maxIngredientCount:null,minMagnitude:null,maxMagnitude:null,...n}),[c,u]=g.useState([]),[d,f]=g.useState("name"),[m,h]=g.useState("asc"),p=g.useCallback(A=>{c.some(R=>R.value===A.value&&R.category===A.category)||u(R=>[...R,A])},[c]),y=g.useCallback(A=>{u(R=>R.filter(B=>B.id!==A))},[]),w=g.useCallback(()=>{u([])},[]),v=g.useCallback(A=>{o(R=>({...R,searchTerm:A}))},[]),x=g.useCallback(A=>{o(R=>({...R,categories:A}))},[]),b=g.useCallback(A=>{o(R=>({...R,effects:A}))},[]),j=g.useCallback(A=>{o(R=>({...R,ingredients:A}))},[]),N=g.useCallback(A=>{o(R=>({...R,difficulties:A}))},[]),C=g.useCallback(A=>{o(R=>({...R,hasEffects:A}))},[]),S=g.useCallback(A=>{o(R=>({...R,isComplex:A}))},[]),E=g.useCallback((A,R)=>{o(B=>({...B,minIngredientCount:A,maxIngredientCount:R}))},[]),k=g.useCallback((A,R)=>{o(B=>({...B,minMagnitude:A,maxMagnitude:R}))},[]),T=g.useCallback(()=>{o({categories:[],effects:[],ingredients:[],difficulties:[],searchTerm:"",hasEffects:null,isComplex:null,minIngredientCount:null,maxIngredientCount:null,minMagnitude:null,maxMagnitude:null}),u([])},[]),D=g.useCallback(()=>{o(A=>({...A,searchTerm:""}))},[]),O=g.useCallback(A=>{h(A)},[]),z=g.useCallback(()=>{h(A=>A==="asc"?"desc":"asc")},[]),_=g.useMemo(()=>{let A=Qe.applyFilters(i,l);if(c.length>0){const R=c.reduce((B,H)=>{switch(H.category){case"categories":B.categories.push(H.value);break;case"effects":B.effects.push(H.value);break;case"ingredients":B.ingredients.push(H.value);break;case"difficulties":B.difficulties.push(H.value);break}return B},{categories:[],effects:[],ingredients:[],difficulties:[]});R.categories.length>0&&(A=Qe.filterByCategories(A,R.categories)),R.effects.length>0&&(A=Qe.filterByEffects(A,R.effects)),R.ingredients.length>0&&(A=Qe.filterByIngredients(A,R.ingredients)),R.difficulties.length>0&&(A=Qe.filterByDifficulties(A,R.difficulties))}return r&&(A=Qe.sort(A,d,m)),A},[i,l,c,r,d,m]),P=g.useMemo(()=>!s||!l.searchTerm.trim()?[]:Qe.search(i,l.searchTerm),[i,l.searchTerm,s]),M=g.useMemo(()=>l.searchTerm.trim()!==""||l.categories.length>0||l.effects.length>0||l.ingredients.length>0||l.difficulties.length>0||l.hasEffects!==null||l.isComplex!==null||l.minIngredientCount!==null||l.maxIngredientCount!==null||l.minMagnitude!==null||l.maxMagnitude!==null||c.length>0,[l,c]),$=g.useMemo(()=>{let A=0;return l.searchTerm.trim()&&A++,l.categories.length>0&&(A+=l.categories.length),l.effects.length>0&&(A+=l.effects.length),l.ingredients.length>0&&(A+=l.ingredients.length),l.difficulties.length>0&&(A+=l.difficulties.length),l.hasEffects!==null&&A++,l.isComplex!==null&&A++,(l.minIngredientCount!==null||l.maxIngredientCount!==null)&&A++,(l.minMagnitude!==null||l.maxMagnitude!==null)&&A++,A+=c.length,A},[l,c]);return{filters:l,searchTerm:l.searchTerm,selectedTags:c,setSelectedTags:u,addTagFilter:p,removeTagFilter:y,clearAllTags:w,filteredRecipes:_,searchResults:P,hasActiveFilters:M,filterCount:$,setSearchTerm:v,setCategories:x,setEffects:b,setIngredients:j,setDifficulties:N,setHasEffects:C,setIsComplex:S,setIngredientCountRange:E,setMagnitudeRange:k,clearFilters:T,clearSearch:D,sortBy:d,sortOrder:m,setSortBy:f,setSortOrder:O,toggleSortOrder:z}}function LZ(e,t={}){const{enableStatistics:n=!0,enableGrouping:s=!0}=t,r=Array.isArray(e)?e:[],i=g.useMemo(()=>n?Qe.getStatistics(r):{totalRecipes:0,recipesByCategory:{},recipesByDifficulty:{},recipesByEffect:{},averageIngredientCount:0,averageEffectCount:0,mostCommonIngredients:[],mostCommonEffects:[]},[r,n]),l=g.useMemo(()=>{if(!s)return{};const b={};return r.forEach(j=>{const N=j.category||"Uncategorized";b[N]||(b[N]=[]),b[N].push(j)}),b},[r,s]),o=g.useMemo(()=>{if(!s)return{};const b={};return r.forEach(j=>{const N=j.difficulty;b[N]||(b[N]=[]),b[N].push(j)}),b},[r,s]),c=g.useMemo(()=>{if(!s)return{};const b={};return r.forEach(j=>{j.effects.forEach(N=>{b[N.name]||(b[N.name]=[]),b[N.name].push(j)})}),b},[r,s]),u=g.useMemo(()=>{if(!s)return{};const b={};return r.forEach(j=>{j.ingredients.forEach(N=>{b[N]||(b[N]=[]),b[N].push(j)})}),b},[r,s]),d=g.useMemo(()=>Qe.getUniqueCategories(r),[r]),f=g.useMemo(()=>Qe.getUniqueDifficulties(r),[r]),m=g.useMemo(()=>Qe.getUniqueEffects(r),[r]),h=g.useMemo(()=>Qe.getUniqueIngredients(r),[r]),p=g.useMemo(()=>[{name:"Recipe Categories",options:d},{name:"Effects",options:m},{name:"Ingredients",options:h},{name:"Difficulty",options:f}],[d,m,h,f]),y=g.useMemo(()=>(b,j)=>{const N=b.ingredientCount-j.ingredientCount,C=b.effectCount-j.effectCount,S=b.totalMagnitude-j.totalMagnitude,E=b.maxDuration-j.maxDuration,k=new Set(b.ingredients),T=new Set(j.ingredients),D=[...k].filter(R=>T.has(R)),O=[...k].filter(R=>!T.has(R)),z=[...T].filter(R=>!k.has(R)),_=new Set(b.effects.map(R=>R.name)),P=new Set(j.effects.map(R=>R.name)),M=[..._].filter(R=>P.has(R)),$=[..._].filter(R=>!P.has(R)),A=[...P].filter(R=>!_.has(R));return{recipe1:b,recipe2:j,differences:{ingredientCount:{difference:N,percentage:j.ingredientCount>0?N/j.ingredientCount*100:0},effectCount:{difference:C,percentage:j.effectCount>0?C/j.effectCount*100:0},magnitude:{difference:S,percentage:j.totalMagnitude>0?S/j.totalMagnitude*100:0},duration:{difference:E,percentage:j.maxDuration>0?E/j.maxDuration*100:0},ingredients:{added:O,removed:z,common:D},effects:{added:$,removed:A,common:M}}}},[]),w=g.useMemo(()=>b=>{if(b.ingredientCount===0)return 0;const j=b.totalMagnitude*b.maxDuration,N=b.ingredientCount;return j/N},[]),v=g.useMemo(()=>b=>{let j=0;switch(j+=b.ingredientCount*.3,j+=b.effectCount*.4,j+=b.effects.reduce((N,C)=>N+C.magnitude*C.duration*.1,0),b.difficulty){case"Simple":j+=1;break;case"Moderate":j+=2;break;case"Complex":j+=3;break}return Math.round(j*10)/10},[]),x=g.useMemo(()=>b=>Qe.getEffectComparisons(b,r),[r]);return{statistics:i,recipesByCategory:l,recipesByDifficulty:o,recipesByEffect:c,recipesByIngredient:u,availableCategories:d,availableDifficulties:f,availableEffects:m,availableIngredients:h,searchCategories:p,compareRecipes:y,getRecipeEfficiency:w,getRecipeComplexity:v,getEffectComparisons:x}}function ov({recipe:e,variant:t="default",onClick:n,isSelected:s=!1,showEffects:r=!0,showIngredients:i=!0,effectComparisons:l=[]}){const o=()=>{n==null||n()},c=w=>typeof w=="string"?w:w&&typeof w=="object"?w.item?w.item:w.name?w.name:w.label?w.label:w.id?w.id:"Unknown Ingredient":String(w||""),u=w=>typeof w=="string"?w:typeof w=="number"?w.toString():w&&typeof w=="object"?w.name?w.name:w.label?w.label:w.id?w.id:w.item?w.item:w.category?w.category:c(w):String(w||""),d=w=>a.jsx(fa,{className:"h-4 w-4 text-green-500"}),f=w=>{if(typeof w=="string")return{name:w,count:1};if(w&&typeof w=="object"){const v=c(w),x=w.count||w.amount||1;return{name:v,count:x}}return{name:String(w||""),count:1}},m=w=>u(w.description||""),h=()=>a.jsxs(de,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:o,children:[a.jsx(Se,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium truncate",children:u(e.name)}),a.jsx("div",{className:"flex gap-1",children:e.category&&a.jsx(q,{variant:"secondary",className:"text-xs",children:u(e.category)})})]})}),a.jsx(me,{className:"pt-0",children:a.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.ingredientCount," ingredients  ",e.effectCount," effects"]})})]}),p=()=>a.jsxs(de,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:o,children:[a.jsx(Se,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium truncate",children:u(e.name)}),e.description&&a.jsx(Re,{text:u(e.description),className:"text-sm text-muted-foreground mt-1 line-clamp-2",as:"p"})]}),a.jsx("div",{className:"flex flex-col gap-1 ml-2",children:e.category&&a.jsx(q,{variant:"secondary",className:"text-xs",children:u(e.category)})})]})}),a.jsx(me,{className:"pt-0",children:a.jsxs("div",{className:"space-y-2",children:[i&&e.ingredients.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:["Ingredients (",e.ingredientCount,")"]}),a.jsx("div",{className:"space-y-1",children:e.ingredients.map((w,v)=>{const{name:x,count:b}=f(w);return a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:x}),a.jsxs("span",{className:"font-medium",children:["",b]})]},v)})})]}),r&&e.effects.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:["Effects (",e.effectCount,")"]}),a.jsx("div",{className:"space-y-2",children:e.effects.map((w,v)=>a.jsx("div",{className:"p-2 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[d(),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-xs mb-1",children:u(w.name)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:a.jsx(Re,{text:m(w),className:"text-xs text-muted-foreground"})})]})]})},v))})]}),!1]})})]}),y=()=>a.jsxs(de,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:o,children:[a.jsx(Se,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium",children:u(e.name)}),e.description&&a.jsx(Re,{text:u(e.description),className:"text-sm text-muted-foreground mt-1",as:"p"})]}),a.jsxs("div",{className:"flex flex-col gap-1 ml-2",children:[e.category&&a.jsx(q,{variant:"secondary",className:"text-xs",children:u(e.category)}),e.type&&a.jsx(q,{variant:"outline",className:"text-xs",children:u(e.type)})]})]})}),a.jsx(me,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[i&&e.ingredients.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:"Ingredients"}),a.jsx("div",{className:"space-y-2",children:e.ingredients.map((w,v)=>{const{name:x,count:b}=f(w);return a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:x}),a.jsxs("span",{className:"font-medium text-sm",children:["",b]})]},v)})})]}),r&&e.effects.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium mb-3",children:"Effects"}),a.jsx("div",{className:"space-y-3",children:e.effects.map((w,v)=>a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[d(),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm mb-1",children:u(w.name)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:a.jsx(Re,{text:m(w),className:"text-sm text-muted-foreground"})})]})]})},v))})]}),!1,a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[a.jsxs("span",{children:["Total Magnitude: ",e.totalMagnitude]}),a.jsxs("span",{children:["Max Duration: ",e.maxDuration,"s"]})]})]})})]});switch(t){case"compact":return h();case"detailed":return y();default:return p()}}function $Z({recipes:e,variant:t="default",columns:n=3,onRecipeClick:s,selectedRecipes:r=[],showEffects:i=!0,showIngredients:l=!0,className:o,getEffectComparisons:c}){const u=()=>{const f="grid gap-4";switch(n){case 1:return`${f} grid-cols-1`;case 2:return`${f} grid-cols-1 sm:grid-cols-2`;case 3:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`;case 4:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4`;default:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`}},d=f=>{s==null||s(f)};return e.length===0?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No recipes found"})})}):a.jsx("div",{className:u(),children:e.map(f=>a.jsx(ov,{recipe:f,variant:t,onClick:()=>d(f),isSelected:r.includes(f.name),showEffects:i,showIngredients:l,effectComparisons:(c==null?void 0:c(f))||[]},f.name))})}function PZ({recipes:e,variant:t="default",onRecipeClick:n,selectedRecipes:s=[],showEffects:r=!0,showIngredients:i=!0,className:l,getEffectComparisons:o}){const c=u=>{n==null||n(u)};return e.length===0?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No recipes found"})})}):a.jsx("div",{className:`space-y-3 ${l||""}`,children:e.map(u=>a.jsx(ov,{recipe:u,variant:t,onClick:()=>c(u),isSelected:s.includes(u.name),showEffects:r,showIngredients:i,effectComparisons:(o==null?void 0:o(u))||[]},u.name))})}function OZ({currentMode:e,onModeChange:t,className:n}){return a.jsxs("div",{className:`flex border rounded-lg p-1 bg-muted ${n||""}`,children:[a.jsx(V,{variant:e==="list"?"default":"ghost",size:"sm",onClick:()=>t("list"),className:"h-8 px-3",title:"List view",children:a.jsx(Ma,{className:"h-4 w-4"})}),a.jsx(V,{variant:e==="grid"?"default":"ghost",size:"sm",onClick:()=>t("grid"),className:"h-8 px-3",title:"Grid view",children:a.jsx(_i,{className:"h-4 w-4"})})]})}function BZ({statistics:e,className:t}){const{totalRecipes:n,foodRecipes:s,alcoholRecipes:r,recipesByCategory:i,recipesByDifficulty:l,averageIngredientCount:o,averageEffectCount:c,averageMagnitude:u,averageDuration:d,topEffects:f,topIngredients:m}=e,h=[{title:"Total Recipes",value:n,icon:kR,description:"All available recipes",color:"text-blue-600"},{title:"Food Recipes",value:s,icon:I3,description:"Culinary recipes",color:"text-green-600"},{title:"Alcohol Recipes",value:r,icon:H3,description:"Beverage recipes",color:"text-purple-600"},{title:"Avg Ingredients",value:o.toFixed(1),icon:us,description:"Per recipe",color:"text-orange-600"},{title:"Avg Effects",value:c.toFixed(1),icon:gn,description:"Per recipe",color:"text-yellow-600"},{title:"Avg Magnitude",value:u.toFixed(1),icon:kc,description:"Effect strength",color:"text-red-600"}];return a.jsxs("div",{className:`space-y-6 ${t||""}`,children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(p=>{const y=p.icon;return a.jsxs(de,{children:[a.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Me,{className:"text-sm font-medium",children:p.title}),a.jsx(y,{className:`h-4 w-4 ${p.color}`})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:p.value}),a.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]},p.title)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(de,{children:[a.jsx(Se,{children:a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"h-4 w-4"}),"Recipe Categories"]})}),a.jsx(me,{children:a.jsxs("div",{className:"space-y-2",children:[Object.entries(i).sort(([,p],[,y])=>y-p).slice(0,8).map(([p,y])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p}),a.jsx(q,{variant:"secondary",className:"text-xs",children:y})]},p)),Object.keys(i).length>8&&a.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["+",Object.keys(i).length-8," more categories"]})]})})]}),a.jsxs(de,{children:[a.jsx(Se,{children:a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(da,{className:"h-4 w-4"}),"Recipe Difficulties"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-2",children:Object.entries(l).sort(([,p],[,y])=>y-p).map(([p,y])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p}),a.jsx(q,{variant:p==="Simple"?"default":p==="Moderate"?"secondary":"destructive",className:"text-xs",children:y})]},p))})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(de,{children:[a.jsx(Se,{children:a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"h-4 w-4"}),"Most Common Effects"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-2",children:f.slice(0,8).map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p.name}),a.jsxs(q,{variant:"outline",className:"text-xs",children:[p.count," recipes"]})]},p.name))})})]}),a.jsxs(de,{children:[a.jsx(Se,{children:a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(us,{className:"h-4 w-4"}),"Most Common Ingredients"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-2",children:m.slice(0,8).map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p.name}),a.jsxs(q,{variant:"outline",className:"text-xs",children:[p.count," recipes"]})]},p.name))})})]})]})]})}function IZ({recipes:e,className:t}){const n=L.useMemo(()=>{const o=new Map;return e.forEach(c=>{c.effects.forEach(u=>{const d=u.name||"Unknown Effect",f=u.magnitude||0,m=u.duration||0;o.has(d)||o.set(d,{name:d,count:0,averageMagnitude:0,averageDuration:0,totalMagnitude:0,totalDuration:0,recipes:[]});const h=o.get(d);h.count++,h.totalMagnitude+=f,h.totalDuration+=m,h.recipes.includes(c.name)||h.recipes.push(c.name)})}),o.forEach(c=>{c.averageMagnitude=c.totalMagnitude/c.count,c.averageDuration=c.totalDuration/c.count}),Array.from(o.values()).sort((c,u)=>u.count-c.count)},[e]),s=L.useMemo(()=>{if(n.length===0)return{magnitude:0,duration:0};const o=n.reduce((u,d)=>u+d.averageMagnitude,0),c=n.reduce((u,d)=>u+d.averageDuration,0);return{magnitude:o/n.length,duration:c/n.length}},[n]),r=(o,c)=>{const d=(o-c)/c*100;return d>20?"text-green-600":d>10?"text-green-500":d<-20?"text-red-600":d<-10?"text-red-500":"text-muted-foreground"},i=(o,c)=>{const d=(o-c)/c*100;return d>10?a.jsx(kc,{className:"h-4 w-4 text-green-500"}):d<-10?a.jsx(Lg,{className:"h-4 w-4 text-red-500"}):null},l=(o,c)=>{const u=o-c,d=u/c*100,f=u>=0?"+":"";return`${f}${u.toFixed(1)} (${f}${d.toFixed(1)}%)`};return n.length===0?a.jsxs(de,{className:t,children:[a.jsx(Se,{children:a.jsx(Me,{className:"text-lg",children:"Food Effect Meta Analysis"})}),a.jsx(me,{children:a.jsx("p",{className:"text-muted-foreground",children:"No effects found to analyze."})})]}):a.jsxs(de,{className:t,children:[a.jsxs(Se,{children:[a.jsx(Me,{className:"text-lg",children:"Food Effect Meta Analysis"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Analysis of ",n.length," unique effects across ",e.length," recipes"]})]}),a.jsx(me,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:s.magnitude.toFixed(1)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Magnitude"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold",children:[s.duration.toFixed(1),"s"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Duration"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-sm",children:"Effect Analysis"}),n.slice(0,10).map(o=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fa,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-medium text-sm",children:o.name}),a.jsxs(q,{variant:"secondary",className:"text-xs",children:[o.count," recipes"]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Magnitude:"}),a.jsx("span",{className:"font-medium",children:o.averageMagnitude.toFixed(1)}),i(o.averageMagnitude,s.magnitude)]}),a.jsx("div",{className:I("text-xs",r(o.averageMagnitude,s.magnitude)),children:l(o.averageMagnitude,s.magnitude)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),a.jsxs("span",{className:"font-medium",children:[o.averageDuration.toFixed(1),"s"]}),i(o.averageDuration,s.duration)]}),a.jsx("div",{className:I("text-xs",r(o.averageDuration,s.duration)),children:l(o.averageDuration,s.duration)})]})]}),o.recipes.length>0&&a.jsx("div",{className:"mt-2 pt-2 border-t border-border",children:a.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["Found in: ",o.recipes.slice(0,3).join(", "),o.recipes.length>3&&` +${o.recipes.length-3} more`]})})]},o.name)),n.length>10&&a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Showing top 10 effects of ",n.length," total"]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Legend"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kc,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{children:"Above average (+10%+)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lg,{className:"h-3 w-3 text-red-500"}),a.jsx("span",{children:"Below average (-10%+)"})]})]})]})]})})]})}function FZ(e,t){return{filteredRecipes:g.useMemo(()=>{if(!t.trim())return e;const r=t.toLowerCase().trim().split(/\s+/);return e.filter(i=>{const l=[i.name,i.output,i.description||"",...i.ingredients.map(o=>typeof o=="string"?o:o&&typeof o=="object"&&(o.name||o.label||o.id)||String(o)),...i.effects.map(o=>o.name),...i.effects.map(o=>o.description),i.category||"",i.difficulty||"",i.type||"",...i.tags].join(" ").toLowerCase();return r.every(o=>l.includes(o))})},[e,t]),searchQuery:t.trim()}}function HZ(){const{recipes:e,loading:t,error:n}=DZ(),{filteredRecipes:s}=zZ(e),{statistics:r,availableCategories:i,availableEffects:l,availableIngredients:o,getEffectComparisons:c}=LZ(e),[u,d]=g.useState("grid"),m=(()=>{try{if(!e||e.length===0)return[];const N=o||[],C=l||[],S=i||[];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, ingredients, effects, or description...",options:[]},{id:"ingredients",name:"Ingredients",placeholder:"Filter by ingredient...",options:N.map(E=>({id:`ingredient-${E}`,label:E,value:E,category:"Ingredients",description:`Recipes with ${E}`}))},{id:"effects",name:"Effects",placeholder:"Filter by effect...",options:C.map(E=>({id:`effect-${E}`,label:E,value:E,category:"Effects",description:`Recipes with ${E} effect`}))},{id:"categories",name:"Categories",placeholder:"Filter by category...",options:S.map(E=>({id:`category-${E}`,label:E,value:E,category:"Categories",description:`${E} recipes`}))}]}catch{return[]}})(),[h,p]=g.useState([]),y=N=>{let C;typeof N=="string"?C={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:C={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},h.some(S=>S.value===C.value&&S.category===C.category)||p(S=>[...S,C])},w=N=>{p(C=>C.filter(S=>S.id!==N))},v=s.filter(N=>h.length===0?!0:h.every(C=>{switch(C.category){case"Fuzzy Search":return!0;case"Categories":return N.category===C.value;case"Ingredients":return N.ingredients.some(S=>typeof S=="string"?S===C.value:S&&typeof S=="object"?S.item===C.value||S.name===C.value||S.label===C.value||S.id===C.value:!1);case"Effects":return N.effects.some(S=>S.name===C.value);default:return!0}})),x=h.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredRecipes:b}=FZ(v,x),j=N=>{};return t?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading recipes..."})]})}):n?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-2",children:"Error loading recipes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Cookbook"}),a.jsxs("p",{className:"text-muted-foreground",children:["Browse and search through ",r.totalRecipes," recipes"]})]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx($a,{categories:m,onSelect:y,onCustomSearch:y})}),a.jsx(OZ,{currentMode:u,onModeChange:d})]}),a.jsx("div",{className:"my-4",children:h.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>p([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(Xe,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),h.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>w(N.id),title:"Click to remove",children:[N.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})}),a.jsxs(Da,{defaultValue:"recipes",className:"w-full",children:[a.jsxs(za,{className:"mb-4",children:[a.jsx(zt,{value:"recipes",children:"Recipes"}),a.jsx(zt,{value:"statistics",children:"Statistics"}),a.jsx(zt,{value:"meta",children:"Meta Analysis"})]}),a.jsx(Ut,{value:"recipes",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-semibold",children:["Recipes (",b.length,")"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",b.length," of ",e.length," recipes"]})]}),u==="grid"&&a.jsx($Z,{recipes:b,variant:"default",columns:3,onRecipeClick:j,showEffects:!0,showIngredients:!0,getEffectComparisons:c}),u==="list"&&a.jsx(PZ,{recipes:b,variant:"default",onRecipeClick:j,showEffects:!0,showIngredients:!0,getEffectComparisons:c})]})}),a.jsx(Ut,{value:"statistics",children:a.jsx(BZ,{statistics:r})}),a.jsx(Ut,{value:"meta",children:a.jsx(IZ,{recipes:e})})]})]})}function UZ(){return a.jsx(Qt,{title:"Cookbook Reference",description:"Browse and search all available recipes. Find the perfect dish for your character's needs.",children:a.jsx(HZ,{})})}function VZ({path:e,className:t=""}){return e.length===0?a.jsxs("div",{className:`space-y-2 ${t}`,children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Selected Path"}),a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:a.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})})]}):a.jsxs("div",{className:`space-y-2 ${t}`,children:[a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Selected Path (",e.length," nodes)"]}),a.jsx("div",{className:"space-y-2",children:e.map((n,s)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium",children:s+1}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:n.name}),n.description&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:n.description})]})]}),a.jsx(q,{variant:"secondary",className:s===e.length-1?"bg-yellow-600 text-yellow-50":"bg-blue-500",children:s===e.length-1?"Current":"Selected"})]},n.id))})]})}function qZ({stepIndex:e,totalSteps:t,title:n,onBack:s,onOverview:r,onClear:i,canBack:l}){const o=t>0?`${e+1} of ${t}`:"Start";return a.jsx("header",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:l&&a.jsxs(V,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:[a.jsx(nm,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Go back"})]})}),a.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-foreground truncate max-w-[200px]",children:n}),a.jsx("div",{className:"text-xs text-muted-foreground",children:o})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(V,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",children:[a.jsx(JN,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Path overview"})]}),a.jsxs(Oi,{children:[a.jsx(Bi,{asChild:!0,children:a.jsxs(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[a.jsx(BR,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"More options"})]})}),a.jsx(La,{align:"end",children:a.jsx(sn,{onClick:i,children:"Clear Path"})})]})]})]})})}function ZZ({step:e,onChange:t}){return a.jsxs(de,{className:"border-primary/20 bg-primary/5 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary"}),a.jsx(Se,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),a.jsx(Me,{className:"text-base font-medium text-primary",children:e.name})]}),a.jsxs(V,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:[a.jsx(m3,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Change step"})]})]})}),a.jsxs(me,{className:"pt-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.summary}),e.meta.tags&&e.meta.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:e.meta.tags.map(n=>a.jsx(q,{variant:"secondary",className:"text-xs",children:n},n))}),e.meta.levelRequirement&&a.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Level ",e.meta.levelRequirement," required"]})]})]})}function GZ({choice:e,onOpenDetails:t,onSelect:n}){return a.jsxs(de,{className:"hover:shadow-md transition-shadow border-2 border-dashed border-muted hover:border-primary/50",children:[a.jsx(Se,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-muted-foreground/30 rounded-full"}),a.jsx(Me,{className:"text-base font-medium",children:e.name})]}),a.jsxs(V,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:[a.jsx(Fl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"View details"})]})]})}),a.jsxs(me,{className:"pt-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:e.description||"No description available"}),e.tags&&e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map(s=>a.jsx(q,{variant:"outline",className:"text-xs",children:s},s))}),e.levelRequirement&&a.jsxs("div",{className:"text-xs text-muted-foreground mb-3",children:["Level ",e.levelRequirement," required"]}),a.jsxs(V,{onClick:n,className:"w-full",size:"sm",children:[a.jsx(Nc,{className:"h-4 w-4 mr-2"}),"Select"]})]})]})}function YZ({canBack:e,canNext:t,onBack:n,onOverview:s}){return a.jsx("div",{className:"sticky bottom-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs(V,{variant:"outline",size:"sm",onClick:n,disabled:!e,className:"flex items-center space-x-2",children:[a.jsx(nm,{className:"h-4 w-4"}),a.jsx("span",{children:"Back"})]}),a.jsx("div",{className:"flex-1 flex justify-center",children:a.jsxs(V,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center space-x-2",children:[a.jsx(JN,{className:"h-4 w-4"}),a.jsx("span",{children:"Path Overview"})]})}),a.jsx(V,{variant:"outline",size:"sm",disabled:!t,className:"flex items-center space-x-2 opacity-50",children:a.jsx("span",{children:"Next"})})]})})}function XZ({open:e,steps:t,currentIndex:n,onJump:s,onClear:r,onClose:i}){return t.length===0?a.jsx(Vl,{open:e,onOpenChange:i,children:a.jsxs(gi,{side:"bottom",className:"h-[80vh]",children:[a.jsx(ql,{children:a.jsx(Zl,{children:"Path Overview"})}),a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No destiny path selected yet"}),a.jsx(V,{onClick:i,children:"Start Building"})]})]})}):a.jsx(Vl,{open:e,onOpenChange:i,children:a.jsxs(gi,{side:"bottom",className:"h-[80vh]",children:[a.jsx(ql,{className:"flex flex-row items-center justify-between px-0",children:a.jsx(Zl,{className:"flex-1 min-w-0",children:"Path Overview"})}),a.jsx(vi,{className:"flex-1 mt-6",children:a.jsx("div",{className:"space-y-2",children:t.map((l,o)=>a.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${o===n?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>s(o),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(q,{variant:o===n?"default":"secondary",children:o+1}),a.jsx("h3",{className:"font-medium text-sm",children:l.name})]}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:l.summary}),l.meta.tags&&l.meta.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[l.meta.tags.slice(0,3).map(c=>a.jsx(q,{variant:"outline",className:"text-xs",children:c},c)),l.meta.tags.length>3&&a.jsxs(q,{variant:"outline",className:"text-xs",children:["+",l.meta.tags.length-3]})]})]}),o===n&&a.jsx("div",{className:"ml-2",children:a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})]})},l.id))})}),a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[a.jsx("div",{className:"text-sm text-muted-foreground text-center",children:"Tap any step to jump to that point in your path"}),a.jsxs(V,{variant:"outline",size:"sm",onClick:r,className:"w-full text-destructive hover:text-destructive border-destructive/20 hover:border-destructive/40",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Restart Path"]})]})]})})}function WZ({open:e,choice:t,onSelect:n,onClose:s}){return t?a.jsx(Vl,{open:e,onOpenChange:s,children:a.jsxs(gi,{side:"bottom",className:"h-[90vh]",children:[a.jsxs(ql,{className:"flex flex-row items-center justify-between",children:[a.jsx(Zl,{className:"text-left",children:t.name}),a.jsx(V,{variant:"ghost",size:"sm",onClick:s,children:a.jsx(Xe,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"No description available"})]}),t.tags&&t.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map(r=>a.jsx(q,{variant:"secondary",className:"text-xs",children:r},r))})]}),t.levelRequirement&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Requirements"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Level ",t.levelRequirement," required"]})]}),t.prerequisites&&t.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Prerequisites"}),a.jsx("div",{className:"space-y-1",children:t.prerequisites.map(r=>a.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",r]},r))})]}),t.lore&&a.jsxs(a.Fragment,{children:[a.jsx(Ka,{}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(_a,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("h3",{className:"font-medium text-sm",children:"Lore"})]}),a.jsx("p",{className:"text-sm text-muted-foreground italic",children:t.lore})]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-2",children:[a.jsxs(V,{onClick:n,className:"w-full",size:"lg",children:[a.jsx(Nc,{className:"h-4 w-4 mr-2"}),"Select This Destiny"]}),a.jsx(V,{variant:"outline",onClick:s,className:"w-full",children:"Close"})]})]})}):null}function QZ({steps:e,onRestart:t,onShare:n}){return a.jsxs(de,{className:"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/20",children:[a.jsx(Se,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yd,{className:"h-5 w-5 text-green-600"}),a.jsx(Me,{className:"text-base text-green-800 dark:text-green-200",children:"Destiny Path Complete!"})]})}),a.jsxs(me,{className:"pt-0",children:[a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300 mb-4",children:["You have successfully built a destiny path with ",e.length," steps."]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-sm mb-2 text-green-800 dark:text-green-200",children:"Your Path:"}),a.jsx("div",{className:"space-y-1",children:e.map((s,r)=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:r+1}),a.jsx("span",{className:"text-green-700 dark:text-green-300",children:s.name})]},s.id))})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(V,{variant:"outline",size:"sm",onClick:t,className:"flex-1",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Start Over"]}),a.jsxs(V,{variant:"outline",size:"sm",onClick:n,className:"flex-1",children:[a.jsx(t1,{className:"h-4 w-4 mr-2"}),"Share Path"]})]})]})]})}function KT(e){const{filterType:t,currentPath:n=[]}=e,{nodes:s,rootNodes:r}=Oa(),[i,l]=g.useState([]),{possiblePaths:o}=Tm({fromNode:n.length>0?n[n.length-1]:void 0}),c=g.useMemo(()=>{if(t!=="build-path"||n.length===0)return s;const w=new Set,v=new Set,x=j=>{v.has(j)||(v.add(j),w.add(j),s.forEach(N=>{N.prerequisites.includes(j)&&x(N.edid)}))},b=n[n.length-1];return x(b.edid),s.filter(j=>w.has(j.edid))},[t,n,s,r]),u=g.useMemo(()=>{if(t==="build-path"){const w=new Set,v=new Set;o.forEach(j=>{j.path.forEach(N=>{w.add(N.edid)}),j.path.length>0&&v.add(j.path[j.path.length-1].edid)});const x=s.filter(j=>w.has(j.edid)),b=s.filter(j=>v.has(j.edid));return[{id:"includes-node",name:"Includes Node",placeholder:"Filter paths that include this node...",options:x.map(j=>{const N=o.filter(C=>C.path.some(S=>S.edid===j.edid)).length;return{id:`includes-${j.id}`,label:j.name,value:j.edid,category:"Includes Node",description:`${N} path${N!==1?"s":""} include ${j.name}`}})},{id:"ends-with-node",name:"Ends With Node",placeholder:"Filter paths that end with this node...",options:b.map(j=>{const N=o.filter(C=>C.path.length>0&&C.path[C.path.length-1].edid===j.edid).length;return{id:`ends-${j.id}`,label:j.name,value:j.edid,category:"Ends With Node",description:`${N} path${N!==1?"s":""} end with ${j.name}`}})}]}else{const w=[...new Set(s.flatMap(x=>x.tags))],v=[...new Set(s.flatMap(x=>x.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:w.map(x=>({id:`tag-${x}`,label:x,value:x,category:"Tags",description:`Nodes with ${x} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Filter by prerequisite...",options:v.map(x=>{const b=s.find(j=>j.edid===x);return{id:`prereq-${x}`,label:b?b.name:x,value:x,category:"Prerequisites",description:`Nodes requiring ${b?b.name:x}`}})}]}},[t,c,s,o]),d=g.useCallback(w=>{l(v=>v.some(b=>b.type===w.type&&b.nodeName===w.nodeName)?v:[...v,w])},[]),f=g.useCallback(w=>{l(v=>v.filter(x=>x.id!==w))},[]),m=g.useCallback(()=>{l([])},[]),h=g.useCallback(()=>u.flatMap(w=>w.options),[u]),p=g.useCallback(w=>c.some(v=>v.id===w.id),[c]),y=g.useMemo(()=>t!=="build-path"||i.length===0?o.map(w=>w.path):o.map(w=>w.path).filter(w=>i.every(v=>{switch(v.type){case"includes-node":return w.some(x=>x.edid===v.nodeName||x.edid===v.nodeId);case"ends-with-node":return w.length>0&&(w[w.length-1].edid===v.nodeName||w[w.length-1].edid===v.nodeId);default:return!0}})),[t,i,o]);return{selectedFilters:i,searchCategories:u,addFilter:d,removeFilter:f,clearFilters:m,filteredPaths:y,availableNodes:c,getFilterOptions:h,isNodeAvailable:p}}function JT({searchCategories:e,selectedFilters:t,onFilterSelect:n,onFilterRemove:s,onClearFilters:r,className:i=""}){const l=e.find(d=>d.id==="includes-node"),o=e.find(d=>d.id==="ends-with-node"),c=e.find(d=>d.id==="tags"),u=e.find(d=>d.id==="prerequisites");return a.jsxs("div",{className:`space-y-4 ${i}`,children:[a.jsxs("div",{className:"flex flex-wrap gap-4",children:[l&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Includes"}),a.jsx(ti,{categories:[l],onSelect:n,placeholder:l.placeholder,className:"w-full"})]}),o&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Ends With"}),a.jsx(ti,{categories:[o],onSelect:n,placeholder:o.placeholder,className:"w-full"})]}),c&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx(ti,{categories:[c],onSelect:n,placeholder:c.placeholder,className:"w-full"})]}),u&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Prerequisites"}),a.jsx(ti,{categories:[u],onSelect:n,placeholder:u.placeholder,className:"w-full"})]})]}),t.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Active Filters"}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:r,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(Xe,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),t.map(d=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>s(d.id),title:"Click to remove",children:[a.jsx("span",{className:"text-xs opacity-70 mr-1",children:d.type==="includes-node"?"Includes:":d.type==="ends-with-node"?"Ends:":d.type==="tags"?"Tag:":"Prereq:"}),d.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},d.id))]})]})]})}function KZ({onPathChange:e,onPathComplete:t,className:n="",compact:s=!1}){var E,k;const{currentPath:r,currentNode:i,isValidPath:l,pathErrors:o,setPath:c,clearPath:u,goToPathIndex:d,isPathComplete:f,getPathSummary:m}=z0(),{possiblePaths:h}=Tm({fromNode:i||void 0}),{nodes:p}=Oa(),y=KT({filterType:"build-path",currentPath:r}),w=y.selectedFilters.length>0?y.filteredPaths:h.map(T=>T.path),v=T=>{if(typeof T=="string")return;let D,O;if(T.category==="Includes Node")D="includes-node",O=T.id.replace(/^includes-/,"");else if(T.category==="Ends With Node")D="ends-with-node",O=T.id.replace(/^ends-/,"");else return;const z={id:T.id,type:D,nodeName:T.value,nodeId:O,label:T.label};y.addFilter(z)},x=T=>{y.removeFilter(T)},b=()=>{y.clearFilters()},j=(T,D)=>{let O;if(r.length===0)O=T.slice(0,D+1);else{if(D===0)return;const z=T.slice(1,D+1);O=[...r,...z]}c(O),e==null||e(O),f&&(t==null||t(O))},N=T=>{d(T),e==null||e(r)},C=()=>{u(),e==null||e([])},S=m();return s?a.jsxs("div",{className:`space-y-4 ${n}`,children:[a.jsx(VZ,{path:r}),r.length>0&&a.jsx("div",{className:"flex justify-end",children:a.jsxs(V,{variant:"outline",size:"sm",onClick:C,className:"text-xs",children:[a.jsx(Nr,{className:"w-3 h-3 mr-1"}),"Clear Path"]})}),w.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Possible Remaining Paths"}),a.jsx(vi,{className:"h-[200px]",children:a.jsx("div",{className:"p-4",children:a.jsx(ap,{possiblePaths:w.map(T=>({path:T,isComplete:!1,endNode:T[T.length-1]})),selectedPathLength:r.length,onPathClick:j,variant:"compact"})})})]}),!l&&o.length>0&&a.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Bl,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),a.jsx("ul",{className:"space-y-0.5",children:o.map((T,D)=>a.jsxs("li",{children:[" ",T]},D))})]})]}):a.jsxs("div",{className:`space-y-6 ${n}`,children:[a.jsxs(de,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(Yd,{className:"w-5 h-5 text-primary"}),"Destiny Path Builder"]}),a.jsx("div",{className:"flex items-center gap-2",children:r.length>0&&a.jsxs(V,{variant:"outline",size:"sm",onClick:C,className:"flex items-center gap-1",children:[a.jsx(Nr,{className:"w-4 h-4"}),"Clear Path"]})})]})}),a.jsxs(me,{children:[a.jsx(EC,{path:r,allNodes:p,onBreadcrumbClick:N,className:"mb-4"}),r.length>0&&a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Path Length: ",r.length]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Start: ",(E=S.startNode)==null?void 0:E.name]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Current: ",(k=S.endNode)==null?void 0:k.name]}),f&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx(q,{variant:"default",className:"text-xs",children:"Complete"})]})]}),!l&&o.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[a.jsx(Bl,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:"Path Validation Errors:"})]}),a.jsx("ul",{className:"text-sm space-y-1",children:o.map((T,D)=>a.jsxs("li",{className:"text-destructive",children:[" ",T]},D))})]})]})]}),r.length>0&&a.jsxs(de,{children:[a.jsx(Se,{children:a.jsx(Me,{className:"text-lg",children:"Current Path"})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-2",children:r.map((T,D)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:D+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:T.name}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:T.description})]})]},T.id))})})]}),a.jsxs(de,{children:[a.jsxs(Se,{children:[a.jsx(Me,{className:"text-lg",children:r.length===0?"Choose Your Starting Point":"Possible Paths"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r.length===0?"Select a root destiny node to begin your path":w.length===0?y.selectedFilters.length>0?"No paths match your current filters":"You have reached the end of this destiny path":y.selectedFilters.length>0?`Showing ${w.length} filtered paths from your current position`:`Explore ${w.length} possible paths from your current position`})]}),a.jsxs(me,{className:"h-[600px] p-0",children:[a.jsx("div",{className:"p-6 pb-6",children:a.jsx(JT,{searchCategories:y.searchCategories,selectedFilters:y.selectedFilters,onFilterSelect:v,onFilterRemove:x,onClearFilters:b})}),w.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[y.selectedFilters.length>0?a.jsx(x3,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}):a.jsx(Yd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:y.selectedFilters.length>0?"No paths match your filters":"Path Complete!"}),a.jsx("p",{className:"text-sm",children:y.selectedFilters.length>0?"Try adjusting your filters to see more paths.":"You've reached the end of this destiny path."})]}):a.jsx(vi,{className:"h-[calc(600px-200px)]",children:a.jsx("div",{className:"p-6 pt-4",children:a.jsx(ap,{possiblePaths:w.map(T=>({path:T,isComplete:!1,endNode:T[T.length-1]})),selectedPathLength:r.length,onPathClick:j})})})]})]})]})}function JZ({item:e,originalNode:t,allNodes:n}){const s=r=>n.filter(i=>i.prerequisites.includes(r)).map(i=>i.name);return a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((r,i)=>a.jsx(q,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},i))})]}),t&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[s(t.name).map((r,i)=>a.jsx(q,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:r},i)),s(t.name).length===0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,i)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:r},i))})]})]})}function eG({items:e,allNodes:t}){return a.jsx(vi,{className:"h-[calc(100vh-500px)]",children:a.jsx(sI,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>a.jsxs(aC,{value:n.id,children:[a.jsx(iC,{className:"text-left hover:no-underline",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),a.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),a.jsx(lC,{children:a.jsx(JZ,{item:n,originalNode:t.find(s=>s.id===n.id),allNodes:t})})]},n.id))})})}const Cw=$n((e,t)=>({steps:[],currentIndex:-1,nextChoices:[],selectChoice:n=>{const{steps:s,currentIndex:r,nextChoices:i}=t(),l=i.find(c=>c.edid===n);if(!l)return;const o={id:l.edid,name:l.name,summary:l.description||"",meta:{tags:l.tags||[],levelRequirement:l.levelRequirement,lore:l.lore},node:l};e(c=>{const u=[...c.steps],d=c.currentIndex+1;return d<u.length&&u.splice(d,u.length-d),u.push(o),{steps:u,currentIndex:d,nextChoices:[]}})},jumpTo:n=>{const{steps:s}=t();n<0||n>=s.length||e(r=>({currentIndex:n,steps:r.steps.slice(0,n+1),nextChoices:[]}))},clear:()=>{e({steps:[],currentIndex:-1,nextChoices:[]})},setNextChoices:n=>{e({nextChoices:n})},hydrateFromQuery:n=>{try{const s=atob(n),r=JSON.parse(s);r.steps&&Array.isArray(r.steps)&&e({steps:r.steps,currentIndex:r.currentIndex||r.steps.length-1,nextChoices:r.nextChoices||[]})}catch(s){console.warn("Failed to hydrate from query:",s)}},toQuery:()=>{const{steps:n,currentIndex:s,nextChoices:r}=t(),i={steps:n,currentIndex:s,nextChoices:r.map(l=>l.edid)};try{return btoa(JSON.stringify(i))}catch(l){return console.warn("Failed to serialize to query:",l),""}}}));function tG(){const{steps:e,currentIndex:t,nextChoices:n,selectChoice:s,jumpTo:r,clear:i}=Cw(),l=t>=0&&t<e.length?e[t]:null,o=e.length,c=n.length===0,{nodes:u,rootNodes:d}=Oa(),[f,m]=g.useState(!1),[h,p]=g.useState(!1),[y,w]=g.useState(null),[v,x]=g.useState(!1);g.useEffect(()=>{const{setNextChoices:E}=Cw.getState();if(t===-1)E(d);else if(l){const k=u.filter(T=>{var D;return(D=T.prerequisites)==null?void 0:D.includes(l.node.edid)});E(k)}else E([])},[t,l,u,d]);const b=E=>{s(E),p(!1),w(null)},j=E=>{w(E),p(!0)},N=()=>{t>0&&r(t-1)},C=E=>{r(E),m(!1)},S=()=>{i(),m(!1)};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx(qZ,{stepIndex:t,totalSteps:o,title:(l==null?void 0:l.name)??"Start Destiny",onBack:N,onOverview:()=>m(!0),onClear:S,canBack:t>0}),a.jsxs("main",{className:"flex-1 px-3 py-2 space-y-4",children:[l&&a.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-muted/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-px flex-1 bg-border"}),a.jsx("span",{className:"text-xs font-medium text-muted-foreground px-2",children:"CURRENT STEP"}),a.jsx("div",{className:"h-px flex-1 bg-border"})]}),a.jsx(ZZ,{step:l,onChange:()=>x(!0)})]}),l&&!c&&n.length>0&&a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-px h-6 bg-primary/30"})}),!c&&n.length>0&&a.jsxs("section",{"aria-label":"Next choices",className:"space-y-3 p-3 rounded-lg bg-background border border-border",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-px flex-1 bg-border"}),a.jsx("span",{className:"text-xs font-medium text-muted-foreground px-2",children:t===-1?"CHOOSE STARTING DESTINY":"CHOOSE NEXT STEP"}),a.jsx("div",{className:"h-px flex-1 bg-border"})]}),a.jsxs("div",{className:"space-y-2",children:[n.slice(0,3).map(E=>a.jsx(GZ,{choice:E,onOpenDetails:()=>j(E),onSelect:()=>b(E.edid)},E.edid)),n.length>3&&a.jsx("div",{className:"text-center py-2",children:a.jsxs("span",{className:"text-sm text-muted-foreground",children:["+",n.length-3," more choices available"]})})]})]}),c&&o>0&&a.jsx(QZ,{steps:e,onRestart:()=>i(),onShare:()=>{}}),o===0&&n.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No destiny paths available. Please check your prerequisites."})})]}),a.jsx(YZ,{canBack:t>0,canNext:!1,onBack:N,onOverview:()=>m(!0)}),a.jsx(XZ,{open:f,steps:e,currentIndex:t,onJump:C,onClear:S,onClose:()=>m(!1)}),a.jsx(WZ,{open:h,choice:y,onSelect:()=>y&&b(y.edid),onClose:()=>{p(!1),w(null)}})]})}function nG(e){return _k("(min-width: 1024px)")?a.jsx(KZ,{...e}):a.jsx(tG,{})}function sG({items:e,filters:t=[]}){const[n,s]=g.useState(null),[r,i]=g.useState("grid"),[l,o]=g.useState({search:"",selectedFilters:{},selectedTags:[]}),c=g.useMemo(()=>{let p=e;if(l.search){const y=l.search.toLowerCase();p=p.filter(w=>w.name.toLowerCase().includes(y)||w.description.toLowerCase().includes(y)||w.tags.some(v=>v.toLowerCase().includes(y)))}return l.selectedTags.length>0&&(p=p.filter(y=>l.selectedTags.some(w=>y.tags.includes(w.value)||y.category===w.value||y.name.toLowerCase().includes(w.value.toLowerCase())))),p},[e,l]),u=g.useMemo(()=>t.length===0?[]:t.map(p=>({...p,options:p.options.map(y=>({...y,count:e.filter(w=>w.tags.includes(y.value)||w.category===y.value).length}))})),[t,e]),d=g.useCallback(p=>{s(p)},[]),f=g.useCallback(p=>{o(p)},[]),m=g.useCallback(p=>{o(y=>({...y,search:p}))},[]),h=g.useCallback(p=>{i(p)},[]);return{selectedItem:n,viewMode:r,currentFilters:l,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:f,handleSearch:m,handleViewModeChange:h,setSelectedItem:s}}function rG(){const{nodes:e,isLoading:t,error:n}=Oa(),{currentPath:s,setPath:r}=z0({validatePath:!0});Tm({fromNode:s.length>0?s[s.length-1]:void 0});const i=KT({filterType:"reference"}),o=g.useMemo(()=>i.selectedFilters.length===0?e:e.filter(h=>i.selectedFilters.every(p=>{var y,w;switch(p.type){case"tags":return(y=h.tags)==null?void 0:y.includes(p.nodeName);case"prerequisites":return(w=h.prerequisites)==null?void 0:w.includes(p.nodeName);default:return!0}})),[e,i.selectedFilters]).map(h=>NI(h));sG({items:o,filters:[]});const c=h=>{if(typeof h=="string")return;let p,y;if(h.category==="Tags")p="tags",y=h.id.replace(/^tag-/,"");else if(h.category==="Prerequisites")p="prerequisites",y=h.id.replace(/^prereq-/,"");else return;const w={id:h.id,type:p,nodeName:h.value,nodeId:y,label:h.label};i.addFilter(w)},u=h=>{i.removeFilter(h)},d=()=>{i.clearFilters()},f=h=>{r(h)},m=h=>{r(h)};return t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:n}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsx(Qt,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:a.jsx("div",{className:"mb-6",children:a.jsxs(Da,{defaultValue:"path",className:"w-full",children:[a.jsxs(za,{className:"grid w-full grid-cols-2",children:[a.jsx(zt,{value:"path",children:"Path Builder"}),a.jsx(zt,{value:"reference",children:"Reference"})]}),a.jsxs(Ut,{value:"reference",className:"space-y-4",children:[a.jsx(JT,{searchCategories:i.searchCategories,selectedFilters:i.selectedFilters,onFilterSelect:c,onFilterRemove:u,onClearFilters:d}),a.jsx("div",{className:"w-full",children:a.jsx(eG,{items:o,allNodes:e})})]}),a.jsx(Ut,{value:"path",className:"space-y-4",children:a.jsx(nG,{onPathChange:f,onPathComplete:m})})]})})})}function e_(e){var t,n,s,r,i,l,o,c,u,d,f,m,h,p;return{name:e.name,type:e.type||e.pantheon||"Unknown",blessing:{spellId:((t=e.blessing)==null?void 0:t.spellId)||"",spellName:((n=e.blessing)==null?void 0:n.spellName)||"",effects:((s=e.blessing)==null?void 0:s.effects)||[]},boon1:{spellId:((r=e.boon1)==null?void 0:r.spellId)||"",spellName:((i=e.boon1)==null?void 0:i.spellName)||"",effects:((l=e.boon1)==null?void 0:l.effects)||[]},boon2:{spellId:((o=e.boon2)==null?void 0:o.spellId)||"",spellName:((c=e.boon2)==null?void 0:c.spellName)||"",effects:((u=e.boon2)==null?void 0:u.effects)||[]},tenet:{spellId:((d=e.tenet)==null?void 0:d.spellId)||"",spellName:((f=e.tenet)==null?void 0:f.spellName)||"",header:((m=e.tenet)==null?void 0:m.header)||"",description:((h=e.tenet)==null?void 0:h.description)||"",effects:((p=e.tenet)==null?void 0:p.effects)||[]},favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[]}}function aG(){const{data:e,loading:t,error:n}=Ek(),[s,r]=g.useState(null),[i,l]=g.useState(null),[o,c]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState("alphabetical"),[h,p]=g.useState("grid"),[y,w]=g.useState("religions"),v=g.useMemo(()=>(e||[]).map(e_),[e]),x=g.useMemo(()=>v.map(gC),[v]),b=g.useMemo(()=>v.filter(z=>z.blessing&&z.blessing.effects.length>0),[v]),j=()=>{const z=[...new Set((e||[]).map(P=>P.pantheon).filter(Boolean))],_=[...new Set(x.flatMap(P=>P.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:z.map(P=>({id:`pantheon-${P}`,label:P,value:P,category:"Pantheons",description:`Religions from ${P} pantheon`}))},...ds()?[{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:_.map(P=>({id:`race-${P}`,label:P,value:P,category:"Favored Races",description:`Religions that favor ${P}`}))}]:[],{id:"religion-types",name:"Religion Types",placeholder:"Search by religion type...",options:[{id:"divine",label:"Divine",value:"Divine",category:"Religion Types",description:"Divine religions"},{id:"daedric",label:"Daedric",value:"Daedric",category:"Religion Types",description:"Daedric religions"},{id:"tribunal",label:"Tribunal",value:"Tribunal",category:"Religion Types",description:"Tribunal religions"},{id:"ancestor",label:"Ancestor",value:"Ancestor",category:"Religion Types",description:"Ancestor religions"}]}]},[N,C]=g.useState([]),S=g.useMemo(()=>{let z=v;return N.length>0&&(z=z.filter(_=>N.every(P=>{var M;if(P.category==="Pantheons"){const $=e==null?void 0:e.find(A=>A.name===_.name);return($==null?void 0:$.pantheon)===P.value}return P.category==="Favored Races"?(M=_.favoredRaces)==null?void 0:M.includes(P.value):P.category==="Religion Types"?_.type===P.value:!0}))),z.sort((_,P)=>{if(f==="alphabetical")return _.name.localeCompare(P.name);if(f==="divine-type"){const M=R=>{switch(R){case"Divine":return 1;case"Daedric":return 2;case"Tribunal":return 3;case"Ancestor":return 4;default:return 5}},$=M(_.type),A=M(P.type);return $!==A?$-A:_.name.localeCompare(P.name)}return 0}),z},[v,N,f,e]),E=z=>{const _=typeof z=="string"?{id:z,label:z,value:z,category:"Custom"}:{id:z.id,label:z.label,value:z.value,category:z.category};C(P=>[...P,_])},k=z=>{C(_=>_.filter(P=>P.id!==z))},T=z=>{const _=v.find(P=>P.name===z);_&&(r(_),c(!0))},D=z=>{l(z),d(!0)},O=z=>{switch(z){case"alphabetical":return"A-Z";case"divine-type":return"Type";default:return"A-Z"}};return t?a.jsx(Qt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-lg",children:"Loading religions..."})})}):n?a.jsx(Qt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-lg text-red-500",children:["Error loading religions: ",n]})})}):a.jsxs(Qt,{title:"Religions",description:"Choose your character's faith and divine blessings",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx($a,{categories:j(),onSelect:E,onCustomSearch:E}),N.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>C([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(Xe,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map(z=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>k(z.id),title:"Click to remove",children:[z.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},z.id))]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(V,{variant:h==="grid"?"default":"outline",size:"sm",onClick:()=>p("grid"),className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(V,{variant:h==="list"?"default":"outline",size:"sm",onClick:()=>p("list"),className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Oi,{children:[a.jsx(Bi,{asChild:!0,children:a.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",O(f),a.jsx(Pt,{className:"h-4 w-4"})]})}),a.jsxs(La,{children:[a.jsx(sn,{onClick:()=>m("alphabetical"),children:"Alphabetical (A-Z)"}),a.jsx(sn,{onClick:()=>m("divine-type"),children:"Religion Type"})]})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(Da,{value:y,onValueChange:z=>w(z),children:[a.jsxs(za,{className:"grid w-full grid-cols-2",children:[a.jsxs(zt,{value:"religions",children:["Religions (",S.length,")"]}),a.jsxs(zt,{value:"blessings",children:["Blessings (",b.length,")"]})]}),a.jsxs(Ut,{value:"religions",className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[S.length," religion",S.length!==1?"s":""," found"]})}),a.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:S.map(z=>a.jsx(OC,{originalReligion:z,onOpenDetails:T,showToggle:!0,className:h==="list"?"w-full":"h-full"},z.name))}),S.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-lg text-muted-foreground",children:"No religions found matching your criteria"}),a.jsx(V,{variant:"outline",onClick:()=>C([]),className:"mt-4",children:"Clear filters"})]})]}),a.jsxs(Ut,{value:"blessings",className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[b.length," blessing",b.length!==1?"s":""," found"]})}),a.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:b.map(z=>a.jsx(o9,{religion:z,onClick:()=>D(z),showToggle:!1,className:h==="list"?"w-full":"h-full"},z.name))}),b.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-lg text-muted-foreground",children:"No blessings found matching your criteria"}),a.jsx(V,{variant:"outline",onClick:()=>C([]),className:"mt-4",children:"Clear filters"})]})]})]})}),a.jsx(BC,{religion:s,isOpen:o,onOpenChange:c}),a.jsx(m9,{religion:i,isOpen:u,onOpenChange:d})]})}const iG="modulepreload",lG=function(e){return"/lorerim-arcaneum/"+e},Ew={},ks=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=lG(c),c in Ew)return;Ew[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":iG,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return r.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function Tw(e){return e.map(t=>({id:`skill-${t.id}`,type:"skill",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...t.keyAbilities||[],...t.metaTags||[],t.scaling||""],originalData:t,url:`/build/perks?skill=${t.id}`}))}function _w(e){return e.map(t=>({id:`race-${t.id}`,type:"race",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.source||"",...t.tags||[],...t.keywords||[]],originalData:t,url:"/races"}))}function Aw(e){return e.map(t=>{var n;return{id:`trait-${t.id}`,type:"trait",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...((n=t.effects)==null?void 0:n.map(s=>s.description||s.type))||[]],originalData:t,url:"/traits"}})}function Mw(e){const t=[];return e.forEach(n=>{var s,r,i,l,o,c,u,d,f,m,h,p,y,w,v;t.push({id:`religion-${n.id||n.name}`,type:"religion",name:n.name,description:((s=n.tenet)==null?void 0:s.description)||"",category:n.type||n.pantheon||"",tags:n.tags||[],searchableText:[n.name,((r=n.tenet)==null?void 0:r.description)||"",n.type||"",n.pantheon||"",...n.tags||[],...ds()?n.favoredRaces||[]:[],...n.worshipRestrictions||[],...((l=(i=n.tenet)==null?void 0:i.effects)==null?void 0:l.map(x=>x.effectName))||[],...((c=(o=n.blessing)==null?void 0:o.effects)==null?void 0:c.map(x=>x.effectName))||[],...((d=(u=n.boon1)==null?void 0:u.effects)==null?void 0:d.map(x=>x.effectName))||[],...((m=(f=n.boon2)==null?void 0:f.effects)==null?void 0:m.map(x=>x.effectName))||[]],originalData:n,url:"/religions"}),n.blessing&&n.blessing.effects.length>0&&t.push({id:`blessing-${n.id||n.name}`,type:"blessing",name:`Blessing of ${n.name}`,description:((h=n.blessing.effects[0])==null?void 0:h.effectDescription)||"",category:"Blessing",tags:n.tags||[],searchableText:[`Blessing of ${n.name}`,n.name,((p=n.blessing.effects[0])==null?void 0:p.effectDescription)||"",((y=n.blessing.effects[0])==null?void 0:y.effectName)||"",...((w=n.blessing.effects)==null?void 0:w.map(x=>x.effectName))||[],...((v=n.blessing.effects)==null?void 0:v.map(x=>x.effectDescription))||[],...n.tags||[],"blessing","divine","worship"],originalData:{...n,blessingOnly:!0},url:"/religions?tab=blessings"})}),t}function Rw(e){return e.map(t=>{var n,s;return{id:`birthsign-${t.id||t.edid}`,type:"birthsign",name:t.name,description:t.description,category:t.group,tags:t.tags||[],searchableText:[t.name,t.description||"",t.group||"",...t.tags||[],...((n=t.powers)==null?void 0:n.map(r=>r.name||r.description))||[],...((s=t.stat_modifications)==null?void 0:s.map(r=>r.stat))||[]],originalData:t,url:"/birthsigns"}})}function Dw(e){return e.map(t=>({id:`destiny-${t.id}`,type:"destiny",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.lore||"",...t.tags||[],...t.prerequisites||[]],originalData:t,url:"/destiny"}))}function zw(e){return e.map(t=>{var n;return{id:`perk-${t.treeId||t.id}`,type:"perk",name:t.treeName||t.name,description:t.treeDescription||t.description,category:t.category,tags:t.tags||[],searchableText:[t.treeName||t.name,t.treeDescription||t.description||"",t.category||"",...t.tags||[],...((n=t.perks)==null?void 0:n.map(s=>s.name))||[]],originalData:t,url:"/build/perks"}})}function Lw(e){return e.map(t=>{var n,s,r,i,l,o;return{id:`perk-ref-${t.edid}`,type:"perk-reference",name:t.name,description:((s=(n=t.ranks[0])==null?void 0:n.description)==null?void 0:s.base)||"",category:t.category,tags:t.tags,searchableText:[t.name,((i=(r=t.ranks[0])==null?void 0:r.description)==null?void 0:i.base)||"",((o=(l=t.ranks[0])==null?void 0:l.description)==null?void 0:o.subtext)||"",t.skillTreeName,t.category,...t.tags,...t.prerequisites,t.isRoot?"root perk":"branch perk",t.totalRanks>1?"multi-rank":"single-rank"],originalData:t,url:`/perk-references?skill=${t.skillTree}&perk=${t.edid}`}})}function $w(e){return e.map(t=>({id:`spell-${t.editorId}`,type:"spell",name:t.name,description:t.description,category:t.school,tags:t.tags,searchableText:[t.name,t.description||"",t.school||"",t.level||"",t.tome||"",...t.tags,...t.effects.map(n=>n.name),...t.effects.map(n=>n.description),t.isAreaSpell?"area spell":"",t.isDurationSpell?"duration spell":"",t.isInstantSpell?"instant spell":"",`magicka cost ${t.magickaCost}`,`magnitude ${t.totalMagnitude}`,`duration ${t.maxDuration}`,`area ${t.maxArea}`].filter(Boolean),originalData:t,url:`/spells?spell=${t.editorId}`}))}function Pw(e){return e.map(t=>({id:`recipe-${t.name}`,type:"recipe",name:t.name,description:t.description,category:t.category,tags:t.tags,searchableText:[t.name,t.description||"",t.category||"",t.output||"",t.difficulty||"",t.type||"",...t.tags,...t.ingredients.map(n=>typeof n=="string"?n:n.name||n.item||""),...t.effects.map(n=>n.name),...t.effects.map(n=>n.description),`ingredients ${t.ingredientCount}`,`effects ${t.effectCount}`,`magnitude ${t.totalMagnitude}`,`duration ${t.maxDuration}`].filter(Boolean),originalData:t,url:`/cookbook?recipe=${encodeURIComponent(t.name)}`}))}function oG(e){return{id:e.item.id,name:e.item.name,description:e.item.description||"",summary:e.item.description||"",tags:e.item.tags,category:e.item.category,imageUrl:void 0,effects:[],associatedItems:[],originalSearchResult:e}}function cG(e){return e.map(t=>{var n,s;return{field:t.key||"unknown",snippet:t.value,startIndex:((n=t.indices[0])==null?void 0:n[0])||0,endIndex:((s=t.indices[0])==null?void 0:s[1])||0}})}function Ow(e){return e.map(t=>({id:`enchantment-${t.baseEnchantmentId}`,type:"enchantment",name:t.name,description:t.effects.map(n=>n.name).join(", "),category:t.category,tags:[t.targetType,...t.foundOnItems.map(n=>n.type),...t.tags],searchableText:[t.name,...t.effects.map(n=>`${n.name} ${n.description}`),...t.foundOnItems.map(n=>`${n.name} ${n.type}`),t.category,t.plugin,t.searchableText],originalData:t,url:"/enchantments"}))}class uG{constructor(){Ve(this,"searchIndex",null);Ve(this,"isIndexing",!1);Ve(this,"allSearchableItems",[]);Ve(this,"indexedStores",new Set);Ve(this,"fuseOptions",{keys:[{name:"name",weight:1},{name:"description",weight:.4},{name:"category",weight:.3},{name:"tags",weight:.4},{name:"searchableText",weight:.2}],threshold:.8,includeMatches:!0,includeScore:!0,minMatchCharLength:1,ignoreLocation:!0,useExtendedSearch:!0,findAllMatches:!0});Ve(this,"transformSkillsToSearchable",Tw);Ve(this,"transformRacesToSearchable",_w);Ve(this,"transformTraitsToSearchable",Aw);Ve(this,"transformReligionsToSearchable",Mw);Ve(this,"transformBirthsignsToSearchable",Rw);Ve(this,"transformDestinyNodesToSearchable",Dw);Ve(this,"transformPerkTreesToSearchable",zw);Ve(this,"transformPerkReferencesToSearchable",Lw);Ve(this,"transformRecipesToSearchable",Pw);Ve(this,"transformSpellsToSearchable",$w);Ve(this,"transformEnchantmentsToSearchable",Ow)}async addToIndex(t,n){this.indexedStores.has(t)||(this.allSearchableItems.push(...n),this.indexedStores.add(t),this.searchIndex=new tn(this.allSearchableItems,this.fuseOptions))}hasIndexedData(){return this.allSearchableItems.length>0}rebuildSearchIndex(){this.allSearchableItems.length>0&&(this.searchIndex=new tn(this.allSearchableItems,this.fuseOptions))}async buildSearchIndex(){if(!this.isIndexing){this.isIndexing=!0;try{const{useSkillsStore:t}=await ks(async()=>{const{useSkillsStore:E}=await Promise.resolve().then(()=>i$);return{useSkillsStore:E}},[]),{useRacesStore:n}=await ks(async()=>{const{useRacesStore:E}=await Promise.resolve().then(()=>n$);return{useRacesStore:E}},void 0),{useTraitsStore:s}=await ks(async()=>{const{useTraitsStore:E}=await Promise.resolve().then(()=>l$);return{useTraitsStore:E}},void 0),{useReligionsStore:r}=await ks(async()=>{const{useReligionsStore:E}=await Promise.resolve().then(()=>a$);return{useReligionsStore:E}},void 0),{useBirthsignsStore:i}=await ks(async()=>{const{useBirthsignsStore:E}=await Promise.resolve().then(()=>JL);return{useBirthsignsStore:E}},void 0),{useDestinyNodesStore:l}=await ks(async()=>{const{useDestinyNodesStore:E}=await Promise.resolve().then(()=>t$);return{useDestinyNodesStore:E}},void 0),{usePerkTreesStore:o}=await ks(async()=>{const{usePerkTreesStore:E}=await Promise.resolve().then(()=>P5);return{usePerkTreesStore:E}},void 0),{useRecipesStore:c}=await ks(async()=>{const{useRecipesStore:E}=await Promise.resolve().then(()=>E8);return{useRecipesStore:E}},void 0),{SpellDataProvider:u}=await ks(async()=>{const{SpellDataProvider:E}=await Promise.resolve().then(()=>T8);return{SpellDataProvider:E}},void 0),{EnchantmentDataProvider:d}=await ks(async()=>{const{EnchantmentDataProvider:E}=await import("./EnchantmentDataProvider-DSnB6gKN.js");return{EnchantmentDataProvider:E}},[]),f=t.getState().data,m=n.getState().data,h=s.getState().data,p=r.getState().data,y=i.getState().data,w=l.getState().data,v=o.getState().data,x=c.getState().data,j=await u.getInstance().loadSpells(),C=await d.getInstance().loadEnchantments();if(!(f!=null&&f.length)||!(m!=null&&m.length)||!(h!=null&&h.length)||!(p!=null&&p.length)||!(y!=null&&y.length)||!(w!=null&&w.length)||!(v!=null&&v.length)||!(x!=null&&x.length)||!(j!=null&&j.length)||!(C!=null&&C.length))throw new Error("Store data not available - stores must be loaded before building search index");const S=[...Tw(f),..._w(m),...Aw(h),...Mw(p),...Rw(y),...Dw(w),...zw(v),...Pw(x),...$w(j),...Ow(C)];this.allSearchableItems=S,this.searchIndex=new tn(S,this.fuseOptions)}catch(t){throw console.error("Failed to build search index:",t),t}finally{this.isIndexing=!1}}}async addPerkReferencesToIndex(t){if(this.indexedStores.has("perk-references"))return;const n=Lw(t);this.allSearchableItems.push(...n),this.indexedStores.add("perk-references"),this.searchIndex=new tn(this.allSearchableItems,this.fuseOptions)}search(t,n){if(!this.searchIndex)return[];if(!t.trim()||t.trim()==="*"){let d=this.allSearchableItems;return n&&(d=this.applyFilters(d,n)),d.map(f=>({item:f,score:1,matches:[],highlights:[]}))}if(!this.searchIndex)return console.warn("Search index not ready, returning empty results"),[];const r=t.includes(" | ")||t.includes(" & ")||t.includes("!")?[]:this.allSearchableItems.filter(d=>d.name.toLowerCase()===t.toLowerCase()),i=this.searchIndex.search(t),l=new Set(r.map(d=>d.id)),o=[...r.map(d=>({item:d,score:0,matches:[]})),...i.filter(d=>!l.has(d.item.id))];let c=o;return n&&(o.length,c=o.filter(d=>{const f=d.item;return this.applyFilters([f],n).length>0}),c.length),c.map(d=>({item:d.item,score:d.score||0,matches:[...d.matches||[]],highlights:cG([...d.matches||[]])}))}applyFilters(t,n){return t.filter(s=>{var r,i,l,o,c,u,d;if(n.types.length>0&&!n.types.includes(s.type)||n.categories.length>0&&s.category&&!n.categories.includes(s.category))return!1;if(n.tags.length>0){const f=s.tags.map(p=>p.toLowerCase());if(!n.tags.map(p=>p.toLowerCase()).some(p=>f.some(y=>y.includes(p)||p.includes(y))))return!1}if(s.type==="skill"&&((r=n.skillCategories)!=null&&r.length)&&(!s.category||!n.skillCategories.includes(s.category))||s.type==="race"&&((i=n.raceTypes)!=null&&i.length)&&(!s.category||!n.raceTypes.includes(s.category))||s.type==="trait"&&((l=n.traitTypes)!=null&&l.length)&&(!s.category||!n.traitTypes.includes(s.category))||s.type==="religion"&&((o=n.religionTypes)!=null&&o.length)&&(!s.category||!n.religionTypes.includes(s.category))||s.type==="birthsign"&&((c=n.birthsignGroups)!=null&&c.length)&&(!s.category||!n.birthsignGroups.includes(s.category))||s.type==="spell"&&((u=n.spellSchools)!=null&&u.length)&&(!s.category||!n.spellSchools.includes(s.category)))return!1;if(s.type==="spell"&&((d=n.spellLevels)!=null&&d.length)){const f=s.originalData;if(!f.level||!n.spellLevels.includes(f.level))return!1}return!0})}getAvailableFilters(){const t=new Map,n=new Map,s=new Map;return this.allSearchableItems.forEach(r=>{const i=t.get(r.type)||0;if(t.set(r.type,i+1),r.category){const l=n.get(r.category)||0;n.set(r.category,l+1)}r.tags.forEach(l=>{const o=s.get(l)||0;s.set(l,o+1)})}),{types:Array.from(t.entries()).map(([r,i])=>({value:r,label:r.charAt(0).toUpperCase()+r.slice(1),count:i})),categories:Array.from(n.entries()).map(([r,i])=>({value:r,label:r,count:i})),tags:Array.from(s.entries()).map(([r,i])=>({value:r,label:r,count:i}))}}getSearchableItems(){return this.allSearchableItems}isReady(){return this.searchIndex!==null&&!this.isIndexing}isLoading(){return this.isIndexing}}const dG={skill:{label:"Skill",icon:"",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},race:{label:"Race",icon:"",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},trait:{label:"Trait",icon:"",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},religion:{label:"Religion",icon:"",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},birthsign:{label:"Birthsign",icon:"",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},destiny:{label:"Destiny",icon:"",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},perk:{label:"Perk",icon:"",color:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"}};function fG({type:e,className:t,variant:n="default"}){const s=dG[e]||{label:e.charAt(0).toUpperCase()+e.slice(1),icon:"",color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return n==="default"?a.jsxs(q,{className:I("inline-flex items-center gap-1 px-2 py-1 text-xs font-medium",s.color,t),children:[a.jsx("span",{children:s.icon}),a.jsx("span",{children:s.label})]}):a.jsxs(q,{variant:n,className:I("inline-flex items-center gap-1",t),children:[a.jsx("span",{children:s.icon}),a.jsx("span",{children:s.label})]})}function mG({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){return a.jsxs(pe,{className:I("transition-all hover:shadow-md",t),expanded:n,onToggle:s,children:[a.jsx(pe.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(fG,{type:e.type})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:e.name}),e.category&&a.jsx(q,{variant:"outline",className:"text-xs",children:e.category})]})})]})}),a.jsxs(pe.Summary,{children:[e.description&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((i,l)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:i},`${i}-${l}`)),e.tags.length>3&&a.jsxs(q,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-3]})]})]}),a.jsxs(pe.Details,{children:[e.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"All Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((i,l)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:i},`${i}-${l}`))})]}),e.description&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})]})}function Fi(e,t){return e?e.find(s=>{const r=!!s.id&&s.id===t.id,i=!!s.edid&&s.edid===t.edid,l=!!s.treeId&&s.treeId===t.treeId,o=!!s.name&&s.name===t.name;return r||i||l||o}):void 0}function hG({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=Ri(o=>o.data),l=Fi(i,e.originalData);return l?a.jsx(uf,{originalBirthsign:l,isExpanded:n,onToggle:s,className:t,showToggle:!1}):(console.error("Birthsign not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalBirthsignsInStore:i.length,firstFewBirthsigns:i.slice(0,3).map(o=>({id:o.id,name:o.name}))}),null)}function gG({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=No(o=>o.data),l=Fi(i,e.originalData);return l?a.jsxs(pe,{className:t,expanded:n,onToggle:s,children:[a.jsx(pe.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:l.icon?a.jsx("img",{src:l.icon,alt:l.name,className:"w-6 h-6 object-contain"}):a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:l.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:l.name}),l.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:l.category})]})]})}),a.jsx(pe.Summary,{children:l.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:l.description})}),a.jsxs(pe.Details,{children:[l.effects&&l.effects.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Effects"}),a.jsx("div",{className:"space-y-1",children:l.effects.map((o,c)=>a.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",o]},c))})]}),l.tags&&l.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:l.tags.map((o,c)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:o},`${o}-${c}`))})]})]})]}):(console.error("Destiny node not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalDestinyNodesInStore:i.length,firstFewDestinyNodes:i.slice(0,3).map(o=>({id:o.id,name:o.name}))}),null)}class pG{constructor(t){Ve(this,"perkNodes",[]);this.perkNodes=this.transformPerkTrees(t)}transformPerkTrees(t){const n=[];return t.forEach(s=>{s.perks.forEach(r=>{var l,o,c,u,d;const i={...r,skillTree:s.treeId,skillTreeName:s.treeName,isRoot:r.isRoot||!1,hasChildren:(((o=(l=r.connections)==null?void 0:l.children)==null?void 0:o.length)||0)>0,prerequisites:((c=r.connections)==null?void 0:c.parents)||[],connections:{parents:((u=r.connections)==null?void 0:u.parents)||[],children:((d=r.connections)==null?void 0:d.children)||[]},searchableText:this.generateSearchableText(r,s),tags:this.generateTags(r,s),category:this.determineCategory(s.treeName),minLevel:this.calculateMinLevel(r)};n.push(i)})}),n}calculateMinLevel(t){var s,r;let n=0;if(t.ranks&&t.ranks.length>0&&t.ranks.forEach(i=>{var l,o;(o=(l=i.prerequisites)==null?void 0:l.skillLevel)!=null&&o.level&&(n=Math.max(n,i.prerequisites.skillLevel.level))}),n===0)if(t.isRoot)n=1;else{const i=((r=(s=t.connections)==null?void 0:s.parents)==null?void 0:r.length)||0;n=Math.max(1,i*5)}return n}generateSearchableText(t,n){var r,i;return[t.name,(r=t.ranks)==null?void 0:r.map(l=>{var o;return(o=l.description)==null?void 0:o.base}).join(" "),(i=t.ranks)==null?void 0:i.map(l=>{var o;return(o=l.description)==null?void 0:o.subtext}).join(" "),n.treeName,this.determineCategory(n.treeName)].filter(Boolean).join(" ").toLowerCase()}generateTags(t,n){var i,l,o,c;const s=[n.treeName,this.determineCategory(n.treeName),t.isRoot?"root":"branch",t.totalRanks>1?"multi-rank":"single-rank"];((l=(i=t.connections)==null?void 0:i.parents)==null?void 0:l.length)>0&&s.push("has-prerequisites"),((c=(o=t.connections)==null?void 0:o.children)==null?void 0:c.length)>0&&s.push("has-children");const r=this.calculateMinLevel(t);return r>0&&s.push(`level-${r}+`),s}determineCategory(t){return{Alchemy:"Magic",Alteration:"Magic",Conjuration:"Magic",Destruction:"Magic",Illusion:"Magic",Restoration:"Magic",Archery:"Combat",Block:"Combat","Heavy Armor":"Combat","One Handed":"Combat",Smithing:"Combat","Two Handed":"Combat","Light Armor":"Stealth",Lockpicking:"Stealth",Pickpocket:"Stealth",Sneak:"Stealth",Speech:"Stealth",Enchanting:"Crafting"}[t]||"Other"}getAllPerks(){return this.perkNodes}getPerksBySkill(t){return this.perkNodes.filter(n=>n.skillTree===t)}getPerksByCategory(t){return this.perkNodes.filter(n=>n.category===t)}getPerksByPrerequisite(t){return this.perkNodes.filter(n=>n.prerequisites.includes(t))}getRootPerks(){return this.perkNodes.filter(t=>t.isRoot)}getMultiRankPerks(){return this.perkNodes.filter(t=>t.totalRanks>1)}searchPerks(t){const n=t.toLowerCase();return this.perkNodes.filter(s=>s.searchableText.includes(n)||s.name.toLowerCase().includes(n)||s.tags.some(r=>r.toLowerCase().includes(n)))}}function t_(){const{data:e,loading:t,error:n}=S0(),s=g.useMemo(()=>e?new pG(e):null,[e]),r=g.useMemo(()=>(s==null?void 0:s.getAllPerks())||[],[s]);return{dataProvider:s,allPerks:r,loading:t,error:n}}function Hm(){const{dataProvider:e,allPerks:t,loading:n,error:s}=t_(),r=g.useMemo(()=>{const h=new Map;return t.forEach(p=>{h.has(p.skillTree)||h.set(p.skillTree,{id:p.skillTree,name:p.skillTreeName,count:0});const y=h.get(p.skillTree);y.count++}),Array.from(h.values()).sort((p,y)=>p.name.localeCompare(y.name))},[t]),i=g.useMemo(()=>{const h=new Map;return t.forEach(p=>{h.has(p.category)||h.set(p.category,{name:p.category,count:0});const y=h.get(p.category);y.count++}),Array.from(h.values()).sort((p,y)=>p.name.localeCompare(y.name))},[t]),l=g.useMemo(()=>{const h=new Set;return t.forEach(p=>{p.tags.forEach(y=>h.add(y))}),Array.from(h).sort()},[t]),o=g.useMemo(()=>t.filter(h=>h.isRoot),[t]),c=g.useMemo(()=>t.filter(h=>h.totalRanks>1),[t]),u=g.useMemo(()=>t.filter(h=>h.totalRanks===1),[t]),d=g.useMemo(()=>h=>(e==null?void 0:e.getPerksBySkill(h))||[],[e]),f=g.useMemo(()=>h=>(e==null?void 0:e.getPerksByCategory(h))||[],[e]),m=g.useMemo(()=>h=>(e==null?void 0:e.searchPerks(h))||[],[e]);return{allPerks:t,skillTrees:r,categories:i,tags:l,rootPerks:o,multiRankPerks:c,singleRankPerks:u,getPerksBySkill:d,getPerksByCategory:f,searchPerks:m,loading:n,error:s,dataProvider:e}}const xG={skill:{Alchemy:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Alteration:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Archery:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200",Block:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Conjuration:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Destruction:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Enchanting:"bg-indigo-100 text-indigo-800 border-indigo-200 hover:bg-indigo-200","Heavy Armor":"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",Illusion:"bg-pink-100 text-pink-800 border-pink-200 hover:bg-pink-200","Light Armor":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200",Lockpicking:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200","One-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Pickpocket:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Restoration:"bg-teal-100 text-teal-800 border-teal-200 hover:bg-teal-200",Smithing:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Sneak:"bg-slate-100 text-slate-800 border-slate-200 hover:bg-slate-200",Speech:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200","Two-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200"},category:{Combat:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Crafting:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Survival:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Social:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200"},rank:{"1 rank":"bg-blue-100 text-blue-800 border-blue-200","2 ranks":"bg-green-100 text-green-800 border-green-200","3 ranks":"bg-purple-100 text-purple-800 border-purple-200","4 ranks":"bg-orange-100 text-orange-800 border-orange-200","5 ranks":"bg-red-100 text-red-800 border-red-200"},availability:{Available:"bg-green-100 text-green-800 border-green-200",Unavailable:"bg-red-100 text-red-800 border-red-200","Prerequisites Met":"bg-blue-100 text-blue-800 border-blue-200","Prerequisites Missing":"bg-gray-100 text-gray-800 border-gray-200"},level:{"Level 1+":"bg-green-100 text-green-800 border-green-200","Level 5+":"bg-blue-100 text-blue-800 border-blue-200","Level 10+":"bg-purple-100 text-purple-800 border-purple-200","Level 15+":"bg-orange-100 text-orange-800 border-orange-200","Level 20+":"bg-red-100 text-red-800 border-red-200","Level 25+":"bg-indigo-100 text-indigo-800 border-indigo-200","Level 30+":"bg-pink-100 text-pink-800 border-pink-200","Level 35+":"bg-teal-100 text-teal-800 border-teal-200","Level 40+":"bg-cyan-100 text-cyan-800 border-cyan-200","Level 45+":"bg-emerald-100 text-emerald-800 border-emerald-200","Level 50+":"bg-amber-100 text-amber-800 border-amber-200"},root:{Root:"bg-gold-100 text-gold-800 border-gold-200 hover:bg-gold-200"}},vG={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},yG="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function En({label:e,type:t,size:n="md",className:s}){const i=xG[t][e]||yG;return a.jsx(q,{variant:"outline",className:I(i,vG[n],"font-medium transition-colors",s),children:e})}function bG({item:e,className:t,isExpanded:n=!1,onToggle:s,disableHover:r=!1,viewMode:i="grid"}){const l=e.originalPerk,{allPerks:o}=Hm();if(!l)return null;const u=(d=>d.map(f=>{const m=o.find(h=>h.edid===f);return(m==null?void 0:m.name)||f}))(l.prerequisites);return a.jsxs(pe,{className:t,expanded:n,onToggle:s,disableHover:r,children:[a.jsxs(pe.Header,{children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsx("div",{className:"flex-1 min-w-0",children:i==="grid"?a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ne,{className:"text-primary font-semibold truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.skillTreeName&&a.jsx(En,{label:l.skillTreeName,type:"skill",size:"sm"}),l.totalRanks>1&&a.jsx(En,{label:`${l.totalRanks} ranks`,type:"rank",size:"sm"}),l.minLevel&&a.jsx(En,{label:`Level ${l.minLevel}+`,type:"level",size:"sm"})]})]}):a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(Ne,{className:"text-primary font-semibold truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.skillTreeName&&a.jsx(En,{label:l.skillTreeName,type:"skill",size:"sm"}),l.totalRanks>1&&a.jsx(En,{label:`${l.totalRanks} ranks`,type:"rank",size:"sm"}),l.minLevel&&a.jsx(En,{label:`Level ${l.minLevel}+`,type:"level",size:"sm"})]})]})})]}),a.jsxs(pe.Summary,{children:[a.jsx(ye,{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((d,f)=>a.jsx(q,{variant:"outline",className:"text-xs",children:d},f)),e.tags.length>3&&a.jsxs(Rs,{className:"text-muted-foreground",children:["+",e.tags.length-3," more"]})]})]}),a.jsxs(pe.Details,{children:[l.prerequisites&&l.prerequisites.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Prerequisites"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:u.map((d,f)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:d},f))})]}),l.ranks&&l.ranks.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Perk Ranks"}),a.jsx("div",{className:"space-y-2",children:l.ranks.map((d,f)=>{var m;return a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsx("div",{className:"flex items-center justify-between mb-1",children:a.jsxs("span",{className:"font-medium text-sm",children:["Rank ",f+1]})}),((m=d.description)==null?void 0:m.base)&&a.jsx(ye,{className:"text-sm text-muted-foreground",children:d.description.base})]},f)})})]}),e.tags.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((d,f)=>a.jsx(q,{variant:"outline",className:"text-xs",children:d},f))})]})]})]})}function n_(e,t){var l,o,c,u,d,f;const n=((o=(l=t.perks)==null?void 0:l.selected)==null?void 0:o[e.skillTree])||[],s=((u=(c=t.perks)==null?void 0:c.ranks)==null?void 0:u[e.skillTree])||{},r=n.includes(e.edid),i=s[e.edid]||0;return{id:e.edid,name:e.name,description:((f=(d=e.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:e.category,tags:e.tags,isSelected:r,originalPerk:e,skillTree:e.skillTree,skillTreeName:e.skillTreeName,isRoot:e.isRoot,hasChildren:e.hasChildren,prerequisites:e.prerequisites,connections:e.connections,totalRanks:e.totalRanks,currentRank:i,isAvailable:e.isRoot||e.prerequisites.every(m=>n.includes(m)),minLevel:e.minLevel}}function wG({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const{build:i}=pt(),{allPerks:l}=Hm(),o=e.originalData,c=l.find(f=>f.edid===(o==null?void 0:o.edid));if(!c)return console.warn("Perk reference not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData}),null;const d={...n_(c,i),originalPerk:c};return a.jsx(bG,{item:d,className:t,isExpanded:n,onToggle:s,viewMode:r})}function jG({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){var c;const i=Mi(u=>u.data),l=Fi(i,e.originalData);if(!l)return console.error("Perk tree not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalPerkTreesInStore:i.length,firstFewPerkTrees:i.slice(0,3).map(u=>({treeId:u.treeId,treeName:u.treeName||u.name}))}),null;const o=((c=l.perks)==null?void 0:c.length)||0;return a.jsxs(pe,{className:t,expanded:n,onToggle:s,children:[a.jsx(pe.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:(l.treeName||l.name).charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:l.treeName||l.name}),l.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:l.category})]})]})}),a.jsxs(pe.Summary,{children:[l.treeDescription&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:l.treeDescription}),o>0&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[a.jsx("span",{className:"font-medium",children:"Perks:"})," ",o," total"]})]}),a.jsxs(pe.Details,{children:[l.perks&&l.perks.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Sample Perks"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.perks.slice(0,6).map((u,d)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:u.name},`${u.edid}-${d}`)),l.perks.length>6&&a.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded text-muted-foreground",children:["+",l.perks.length-6," more"]})]})]}),l.tags&&l.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:l.tags.map((u,d)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded",children:u},`${u}-${d}`))})]})]})]})}function NG({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=kr(c=>c.data),l=Fi(i,e.originalData);if(!l)return console.error("Race not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalRacesInStore:i.length,firstFewRaces:i.slice(0,3).map(c=>({edid:c.edid,name:c.name}))}),null;const o={id:l.id||l.edid||l.name,name:l.name,description:l.description||"",summary:l.description||"",category:l.category||"",tags:l.tags||[],type:"race",effects:[]};return a.jsx("div",{className:t,children:a.jsx(gu,{item:{...o,originalRace:l},isExpanded:n,onToggle:s,showToggle:!1,disableHover:!1,className:"w-full"})})}function SG({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=So(h=>h.data),[l,o]=g.useState(null),[c,u]=g.useState(!1),d=Fi(i,e.originalData);if(!d)return console.error("Religion not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalReligionsInStore:i.length,firstFewReligions:i.slice(0,3).map(h=>({id:h.id,name:h.name}))}),null;const f=e_(d),m=h=>{o(f),u(!0)};return a.jsxs("div",{className:t,children:[a.jsx(OC,{originalReligion:f,className:"w-full",onOpenDetails:m,showToggle:!0}),a.jsx(BC,{religion:l,isOpen:c,onClose:()=>u(!1)})]})}function kG({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=Di(o=>o.data),l=Fi(i,e.originalData);return l?a.jsxs(pe,{className:t,expanded:n,onToggle:s,children:[a.jsx(pe.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:l.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:l.name}),l.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:l.category})]})]})}),a.jsxs(pe.Summary,{children:[l.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:l.description}),l.keyAbilities&&l.keyAbilities.length>0&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[a.jsx("span",{className:"font-medium",children:"Key abilities:"})," ",l.keyAbilities.slice(0,2).join(", "),l.keyAbilities.length>2&&"..."]})]}),a.jsxs(pe.Details,{children:[l.tags&&l.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:l.tags.map((o,c)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:o},`${o}-${c}`))})]}),l.keyAbilities&&l.keyAbilities.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Key Abilities"}),a.jsx("div",{className:"space-y-1",children:l.keyAbilities.map((o,c)=>a.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",o]},c))})]})]})]}):(console.error("Skill not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalSkillsInStore:i.length,firstFewSkills:i.slice(0,3).map(o=>({id:o.id,name:o.name}))}),null)}function CG({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=zi(o=>o.data),l=Fi(i,e.originalData);return l?a.jsxs(pe,{className:t,expanded:n,onToggle:s,children:[a.jsx(pe.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:l.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:l.name}),l.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:l.category})]})]})}),a.jsx(pe.Summary,{children:l.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:l.description})}),a.jsxs(pe.Details,{children:[l.tags&&l.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:l.tags.map((o,c)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:o},`${o}-${c}`))})]}),l.description&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]})]})]}):(console.error("Trait not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalTraitsInStore:i.length,firstFewTraits:i.slice(0,3).map(o=>({id:o.id,name:o.name}))}),null)}const EG={Destruction:yo,Restoration:qs,Conjuration:Dx,Illusion:vo,Alteration:nt,"":cs},TG={Novice:"bg-green-100 text-green-800 border-green-200",Apprentice:"bg-blue-100 text-blue-800 border-blue-200",Adept:"bg-purple-100 text-purple-800 border-purple-200",Expert:"bg-orange-100 text-orange-800 border-orange-200",Master:"bg-red-100 text-red-800 border-red-200"};function _G({spell:e,className:t,isExpanded:n=!1,onToggle:s,disableHover:r=!1}){var o;const i=EG[e.school]||cs,l=()=>{s==null||s()};return a.jsxs(pe,{className:t,expanded:n,onToggle:l,disableHover:r,children:[a.jsx(pe.Header,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(i,{className:"w-5 h-5 text-muted-foreground"}),a.jsx("h3",{className:"text-primary font-semibold text-lg",children:e.name}),a.jsx("span",{className:"ml-auto transition-transform duration-200 text-muted-foreground",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8l4 4 4-4"})})})]})}),a.jsx(pe.Summary,{children:a.jsxs("div",{className:"px-4 py-2 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 7v14"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"})]}),a.jsx("span",{children:e.school})]}),a.jsx(q,{variant:"secondary",className:TG[e.level]||"",children:e.level})]}),a.jsx(Re,{text:e.description,className:"text-sm text-muted-foreground mb-3",as:"p"})]})}),a.jsx(pe.Details,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.hasEffects&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Effects"}),a.jsx("div",{className:"space-y-2",children:e.effects.map((c,u)=>a.jsxs("div",{className:"p-2 rounded bg-muted border text-sm",children:[a.jsx(Re,{text:c.description,className:"text-muted-foreground mb-2",as:"p"}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[c.magnitude>0&&a.jsxs("span",{children:["Magnitude: ",c.magnitude]}),c.duration>0&&a.jsxs("span",{children:["Duration: ",c.duration,"s"]}),c.area>0&&a.jsxs("span",{children:["Area: ",c.area,"ft"]})]})]},u))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Magicka Cost:"}),a.jsxs("span",{className:"font-medium",children:[e.magickaCost," MP"]})]}),e.totalMagnitude>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Magnitude:"}),a.jsx("span",{className:"font-medium",children:e.totalMagnitude})]}),e.maxDuration>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Max Duration:"}),a.jsxs("span",{className:"font-medium",children:[e.maxDuration,"s"]})]}),e.maxArea>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Max Area:"}),a.jsxs("span",{className:"font-medium",children:[e.maxArea,"ft"]})]})]})]}),(e.tome||((o=e.vendors)==null?void 0:o.length))&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Additional Info"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[e.tome&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tome:"}),a.jsx("span",{children:e.tome})]}),e.vendors&&e.vendors.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Vendors:"}),a.jsx("span",{children:e.vendors.join(", ")})]})]})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((c,u)=>a.jsx(q,{variant:"outline",className:"text-xs",children:c},u))})]})]})})]})}const AG=({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="card"})=>{const i=e.originalData;if(!i)return console.warn("SpellSearchCard: Missing spell data for item:",e),a.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[a.jsx("h3",{className:"font-semibold",children:"Spell not found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});if(!i.name||!i.editorId)return console.warn("SpellSearchCard: Invalid spell data structure:",i),a.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[a.jsx("h3",{className:"font-semibold",children:"Invalid spell data"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});const l=L.useCallback(()=>{s&&s()},[s]);return a.jsx(_G,{spell:i,isExpanded:n,onToggle:l,className:t})},MG=({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"})=>{const i=e.originalData;if(!i||!i.name)return console.warn("RecipeSearchCard: Missing or invalid recipe data for item:",e),a.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[a.jsx("h3",{className:"font-semibold",children:"Recipe not found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});const l=Qe.addComputedProperties(i),o=L.useCallback(()=>{s&&s()},[s]);return a.jsx(ov,{recipe:l,variant:r==="list"?"compact":"default",isSelected:!1,onClick:o,showEffects:!0,showIngredients:!0,className:t})},RG={category:{"Standard Enchantments (Touch)":"bg-blue-100 text-blue-800 border-blue-200","Standard Enchantments (Self)":"bg-green-100 text-green-800 border-green-200"},targetType:{touch:"bg-red-100 text-red-800 border-red-200",self:"bg-purple-100 text-purple-800 border-purple-200"},itemType:{weapon:"bg-orange-100 text-orange-800 border-orange-200",armor:"bg-indigo-100 text-indigo-800 border-indigo-200"}},DG={category:{"Standard Enchantments (Touch)":"","Standard Enchantments (Self)":""},targetType:{touch:"",self:""},itemType:{weapon:"",armor:""}},zG={category:{},targetType:{touch:"Weapon",self:"Armor"},itemType:{}},Bw={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"},Ls=L.memo(({type:e,value:t,size:n="md",variant:s="default",className:r})=>{const i=RG[e],l=DG[e],o=zG[e],c=i[t]||"bg-gray-100 text-gray-800 border-gray-200",u=l[t]||"",d=o[t]||t;return s==="outline"?a.jsxs(q,{variant:"outline",className:I(Bw[n],"inline-flex items-center gap-1",r),children:[a.jsx("span",{children:u}),a.jsx("span",{children:d})]}):a.jsxs("span",{className:I("inline-flex items-center gap-1 rounded-full border font-medium",Bw[n],c,r),children:[a.jsx("span",{children:u}),a.jsx("span",{children:d})]})}),LG=L.memo(({effect:e,className:t,showDescription:n=!0,compact:s=!1})=>a.jsxs("div",{className:I("space-y-1",t),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cs,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:e.name})]}),n&&a.jsx("div",{className:"pl-5",children:a.jsx(Re,{text:e.description,options:Kx(),className:"text-sm text-muted-foreground"})})]})),Nf=L.memo(({effects:e,title:t="Effects",className:n,showDescriptions:s=!0,compact:r=!1,maxDisplay:i=3})=>{if(e.length===0)return a.jsx("div",{className:I("text-sm text-muted-foreground",n),children:"No effects"});const l=e.slice(0,i),o=e.length>i;return a.jsxs("div",{className:I("space-y-2",n),children:[t&&a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(cs,{className:"h-4 w-4"}),t]}),a.jsxs("div",{className:I("space-y-2",r?"text-sm":"text-base"),children:[l.map((c,u)=>a.jsx("div",{className:"p-2 rounded bg-muted border",children:a.jsx(LG,{effect:c,showDescription:s,compact:r})},`${c.name}-${u}`)),o&&a.jsxs("div",{className:"text-sm text-muted-foreground italic",children:["+",e.length-i," more effects"]})]})]})}),$G={weapon:"",armor:""},kp=L.memo(({items:e,title:t="Found Items",className:n,maxItems:s=5,showType:r=!0,compact:i=!1})=>{if(e.length===0)return a.jsx("div",{className:I("text-sm text-muted-foreground",n),children:"No items found"});const l=e.slice(0,s),o=e.length>s;return a.jsxs("div",{className:I("space-y-2",n),children:[t&&a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(e1,{className:"h-4 w-4"}),t,a.jsxs("span",{className:"text-xs text-muted-foreground/70",children:["(",e.length,")"]})]}),a.jsxs("div",{className:I("space-y-1"),children:[l.map((c,u)=>a.jsxs("div",{className:I("flex items-center gap-2 p-2 rounded bg-muted border",i?"text-xs":"text-sm"),children:[a.jsx("span",{className:"text-muted-foreground",children:$G[c.type]}),a.jsx("span",{className:"font-medium text-foreground flex-1",children:c.name}),r&&a.jsx(Ls,{type:"itemType",value:c.type,size:"sm",variant:"outline"})]},`${c.name}-${u}`)),o&&a.jsxs("div",{className:"text-sm text-muted-foreground italic",children:["+",e.length-s," more items"]})]})]})});function Iw(e,t){if(!t.trim())return e;const n=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.replace(n,'<mark class="bg-yellow-200 dark:bg-yellow-800">$1</mark>')}function PG({item:e,searchTerm:t="",isExpanded:n=!1,onToggle:s,viewMode:r="grid",className:i}){const l=e.originalData,o=t?Iw(l.name,t):l.name,c=l.effects.length>0?t?Iw(l.effects.map(d=>d.name).join(", "),t):l.effects.map(d=>d.name).join(", "):void 0,u=()=>{window.location.href=`/enchantments?selected=${l.baseEnchantmentId}`};return r==="list"?a.jsx(de,{className:I("cursor-pointer hover:shadow-md transition-shadow border-l-4 border-l-blue-500",i),onClick:u,children:a.jsxs(me,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"text-lg",children:""}),a.jsx("h4",{className:"font-medium text-sm truncate",dangerouslySetInnerHTML:{__html:o}}),a.jsx(Ls,{type:"targetType",value:l.targetType,size:"sm"}),a.jsxs(q,{variant:"outline",className:"text-xs",children:[l.effectCount," effects"]})]}),c&&a.jsx("p",{className:"text-xs text-muted-foreground mb-2",dangerouslySetInnerHTML:{__html:c}}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:l.category}),a.jsx("span",{children:""}),a.jsx("span",{children:l.plugin}),a.jsx("span",{children:""}),a.jsxs("span",{children:[l.itemCount," items"]})]})]}),a.jsx(V,{variant:"ghost",size:"sm",className:"ml-2",onClick:d=>{d.stopPropagation(),s==null||s()},children:n?a.jsx(Sc,{className:"h-4 w-4"}):a.jsx(Pt,{className:"h-4 w-4"})})]}),n&&a.jsxs("div",{className:"mt-4 space-y-3 pt-4 border-t",children:[l.effects.length>0&&a.jsx(Nf,{effects:l.effects,title:"Effects",compact:!0,showDescriptions:!1,maxDisplay:3}),a.jsx(kp,{items:l.foundOnItems,title:"Found on",compact:!0,showType:!0,maxItems:3})]})]})}):a.jsxs(de,{className:I("cursor-pointer hover:shadow-md transition-shadow",i),onClick:u,children:[a.jsx(Se,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Me,{className:"text-lg",dangerouslySetInnerHTML:{__html:o}}),c&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",dangerouslySetInnerHTML:{__html:c}})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx(Ls,{type:"targetType",value:l.targetType}),a.jsxs(q,{variant:"outline",className:"text-xs",children:[l.effectCount," effects"]})]})]})}),a.jsx(me,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[l.effects.length>0&&a.jsx(Nf,{effects:l.effects,title:"Effects",compact:!0,showDescriptions:!1,maxDisplay:2}),a.jsx(kp,{items:l.foundOnItems,title:"Found on",compact:!0,showType:!0,maxItems:3}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:l.category}),a.jsx("span",{children:""}),a.jsx("span",{children:l.plugin}),a.jsx("span",{children:""}),a.jsxs("span",{children:[l.itemCount," items"]})]}),s&&a.jsx(V,{variant:"ghost",size:"sm",className:"w-full mt-2",onClick:d=>{d.stopPropagation(),s()},children:n?a.jsxs(a.Fragment,{children:[a.jsx(Sc,{className:"h-4 w-4 mr-1"}),"Show Less"]}):a.jsxs(a.Fragment,{children:[a.jsx(Pt,{className:"h-4 w-4 mr-1"}),"Show More"]})})]})})]})}function Fw({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){switch(e.type){case"race":return a.jsx(NG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"skill":return a.jsx(kG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"trait":return a.jsx(CG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"birthsign":return a.jsx(hG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"destiny":return a.jsx(gG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"religion":return a.jsx(SG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"perk":return a.jsx(jG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"spell":return a.jsx(AG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"perk-reference":return a.jsx(wG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"recipe":return a.jsx(MG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"enchantment":return a.jsx(PG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});default:return a.jsx(mG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r})}}function OG({item:e}){return a.jsx("div",{className:`w-full border-2 rounded-lg p-4 ${e.color} transition-all duration-200 hover:shadow-lg`,style:{minHeight:`${e.height}px`},"data-testid":`test-card-${e.id}`,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:e.title}),a.jsxs("span",{className:"text-xs text-gray-500",children:["#",e.id.slice(-6)]})]}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((t,n)=>a.jsx("span",{className:"px-2 py-1 text-xs bg-white/50 rounded-full text-gray-700 border",children:t},n))}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Height: ",e.height,"px"]})]})})}const Hw={Alteration:M3,Conjuration:Dx,Destruction:yo,Illusion:vo,Restoration:qs,Mysticism:cs},BG={Alteration:"bg-blue-500 text-white",Conjuration:"bg-purple-500 text-white",Destruction:"bg-red-500 text-white",Illusion:"bg-indigo-500 text-white",Restoration:"bg-green-500 text-white",Mysticism:"bg-yellow-500 text-white"},Uw={Novice:1,Apprentice:2,Adept:3,Expert:4,Master:5},IG={sm:"w-6 h-6 text-sm",md:"w-8 h-8 text-base",lg:"w-10 h-10 text-lg",xl:"w-12 h-12 text-xl","2xl":"w-16 h-16 text-2xl"},FG={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"};let Xh=null;function HG(){return Xh||(Xh=new uG),Xh}function cv(){const[e,t]=g.useState(!1),[n,s]=g.useState(!1),[r,i]=g.useState(null),l=Di(N=>N.data),o=kr(N=>N.data),c=zi(N=>N.data),u=So(N=>N.data),d=Ri(N=>N.data),f=No(N=>N.data),m=Mi(N=>N.data),h=ur(N=>N.data),p=ol(N=>N.data),{allPerks:y}=t_(),w=HG(),v=g.useCallback(async(N,C,S)=>{if(C!=null&&C.length)try{const E=S(C);await w.addToIndex(N,E)}catch(E){console.error(`Failed to index ${N}:`,E)}},[w]);g.useEffect(()=>{l!=null&&l.length&&v("skills",l,w.transformSkillsToSearchable)},[l,v]),g.useEffect(()=>{o!=null&&o.length&&v("races",o,w.transformRacesToSearchable)},[o,v]),g.useEffect(()=>{c!=null&&c.length&&v("traits",c,w.transformTraitsToSearchable)},[c,v]),g.useEffect(()=>{u!=null&&u.length&&v("religions",u,w.transformReligionsToSearchable)},[u,v]),g.useEffect(()=>{d!=null&&d.length&&v("birthsigns",d,w.transformBirthsignsToSearchable)},[d,v]),g.useEffect(()=>{f!=null&&f.length&&v("destinyNodes",f,w.transformDestinyNodesToSearchable)},[f,v]),g.useEffect(()=>{m!=null&&m.length&&v("perkTrees",m,w.transformPerkTreesToSearchable)},[m,v]),g.useEffect(()=>{h!=null&&h.length&&v("recipes",h,w.transformRecipesToSearchable)},[h,v]),g.useEffect(()=>{y!=null&&y.length&&v("perk-references",y,w.transformPerkReferencesToSearchable)},[y,v]),g.useEffect(()=>{p!=null&&p.length&&v("spells",p,w.transformSpellsToSearchable)},[p,v]),g.useEffect(()=>{((l==null?void 0:l.length)||(o==null?void 0:o.length)||(c==null?void 0:c.length)||(u==null?void 0:u.length)||(d==null?void 0:d.length)||(f==null?void 0:f.length)||(m==null?void 0:m.length)||(h==null?void 0:h.length)||(y==null?void 0:y.length)||(p==null?void 0:p.length))&&w.hasIndexedData()&&(w.rebuildSearchIndex(),t(!0))},[l,o,c,u,d,f,m,h,y,p,w]);const x=g.useCallback((N,C)=>N.trim()?w.search(N,C):[],[w]),b=g.useCallback(()=>w.getAvailableFilters(),[w]),j=g.useCallback(()=>w.getSearchableItems(),[w]);return{isReady:e,isIndexing:n,error:r,search:x,getAvailableFilters:b,getSearchableItems:j}}function uv(){const{activeFilters:e,selectedTags:t,viewMode:n,setActiveFilters:s,updateActiveFilters:r,addTag:i,removeTag:l,removeTagByValue:o,clearAllTags:c,setViewMode:u,hasTag:d,getTagsByCategory:f,getFuzzySearchTags:m,getFilterTags:h,clearAllSearchState:p}=Ck(),y=g.useMemo(()=>m().map(S=>S.value).join(" "),[m]),w=g.useMemo(()=>t.length>0,[t]),v=g.useCallback(C=>{let S;typeof C=="string"?S={id:`custom-${C}`,label:C,value:C,category:Ye.FUZZY_SEARCH}:S={id:`${C.category}-${C.id}`,label:C.label,value:C.value,category:C.category},i(S)},[i]),x=g.useCallback(C=>{l(C)},[l]),b=g.useCallback(()=>{c()},[c]),j=g.useCallback(C=>{u(C)},[u]),N=g.useCallback(()=>{c()},[c]);return{activeFilters:e,selectedTags:t,viewMode:n,fuzzySearchQuery:y,hasActiveFilters:w,setActiveFilters:s,updateActiveFilters:r,addTag:i,removeTag:l,removeTagByValue:o,clearAllTags:c,setViewMode:u,handleTagSelect:v,handleTagRemove:x,handleClearFilters:b,handleViewModeChange:j,hasTag:d,getTagsByCategory:f,getFuzzySearchTags:m,getFilterTags:h,clearFilters:N}}function dv(){const{search:e,getAvailableFilters:t,isReady:n,getSearchableItems:s}=cv(),{activeFilters:r}=uv(),i=g.useMemo(()=>s().length,[s]),l=g.useMemo(()=>{if(!n)return[];if(!(r.tags.length>0||r.types.length>0||r.categories.length>0))return s().map(p=>({item:p,score:1,matches:[],highlights:[]}));const d=r.tags.join(" | "),f={...r,tags:[]};return e(d||"*",f)},[n,e,r,s]),o=g.useMemo(()=>n?t():{types:[],categories:[],tags:[]},[n,t,i]),c=g.useMemo(()=>{const u={};return l.forEach(d=>{const f=d.item.type;u[f]=(u[f]||0)+1,d.item.category&&(u[`category:${d.item.category}`]=(u[`category:${d.item.category}`]||0)+1),d.item.tags.forEach(m=>{u[`tag:${m}`]=(u[`tag:${m}`]||0)+1})}),u},[l]);return{searchResults:l,availableFilters:o,resultCounts:c}}const Vw=50;function UG(e){const[t,n]=g.useState(1),s=g.useMemo(()=>{const c=t*Vw;return e.slice(0,c)},[e,t]);g.useEffect(()=>{n(1)},[e]);const r=g.useMemo(()=>s.length<e.length,[s.length,e.length]),i=g.useCallback(()=>{r&&n(c=>c+1)},[r]),l=g.useCallback(()=>{n(1)},[]),o=g.useMemo(()=>({displayedItems:s.length,totalItems:e.length,hasMore:r,currentPage:t,itemsPerPage:Vw}),[s.length,e.length,r,t]);return{displayedItems:s,loadMore:i,resetPagination:l,paginationInfo:o,hasMore:r}}function VG(){const{searchResults:e,resultCounts:t}=dv();uv();const{displayedItems:n,loadMore:s,resetPagination:r,paginationInfo:i,hasMore:l}=UG(e),o=g.useMemo(()=>n,[n]),c=g.useMemo(()=>qG(o,"relevance"),[o]),u=g.useMemo(()=>c.map(oG),[c]),d=g.useMemo(()=>e.length,[e]),f=g.useMemo(()=>{const m={};return n.forEach(h=>{const p=h.item.type;m[p]||(m[p]=[]),m[p].push(h)}),m},[n]);return{filteredResults:o,sortedResults:c,playerCreationItems:u,resultCounts:t,totalResults:d,resultsByType:f,loadMore:s,resetPagination:r,paginationInfo:i,hasMore:l}}function qG(e,t){const n=[...e];switch(t){case"relevance":return n;case"name":return n.sort((s,r)=>s.item.name.localeCompare(r.item.name));case"type":return n.sort((s,r)=>{const i=s.item.type.localeCompare(r.item.type);return i!==0?i:s.item.name.localeCompare(r.item.name)});default:return n}}function ZG({activeFilters:e,onFiltersChange:t,onClearFilters:n,availableFilters:s,resultCount:r,onTagSelect:i,onTagRemove:l,selectedTags:o,className:c}){const u=e.types.length>0||e.categories.length>0||e.tags.length>0,d=h=>{const p=e.types.includes(h)?e.types.filter(y=>y!==h):[...e.types,h];t({types:p})},m=[{id:"fuzzy-search",name:"Search All",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Filter by category...",options:(s.categories||[]).filter(h=>h&&typeof h.label=="string").map(h=>({id:`category-${h.value}`,label:String(h.label),value:h.value,category:"Categories",description:`${h.count} item${h.count!==1?"s":""}`}))},{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:(s.tags||[]).filter(h=>h&&typeof h.label=="string").map(h=>({id:`tag-${h.value}`,label:String(h.label),value:h.value,category:"Tags",description:`${h.count} item${h.count!==1?"s":""}`}))}];return a.jsxs("div",{className:I("space-y-4",c),children:[a.jsx("div",{className:"space-y-2",children:a.jsx($a,{categories:m,onSelect:i,onCustomSearch:i})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"text-sm font-medium",children:"Record Types"})}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.types.map(h=>a.jsxs(V,{variant:e.types.includes(h.value)?"default":"outline",size:"sm",onClick:()=>d(h.value),className:"text-xs",children:[h.label,a.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",h.count,")"]})]},h.value))})]}),o.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Active Filters"}),a.jsx(V,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear All"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(h=>a.jsxs(q,{variant:"secondary",className:"text-xs",children:[h.category,": ",h.label,a.jsx(V,{variant:"ghost",size:"sm",onClick:()=>l(h.id),className:"h-4 w-4 p-0 ml-1 hover:bg-transparent",children:a.jsx(Xe,{className:"h-3 w-3"})})]},h.id))})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[r," result",r!==1?"s":""," found"]}),u&&a.jsx(V,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear Filters"})]})]})}function s_({items:e,keyExtractor:t,renderItem:n,loadMore:s,hasMore:r=!0,columns:i=3,gap:l=12,maxColumnWidth:o,className:c=""}){const[u,d]=g.useState(0),f=g.useRef(null),m=g.useRef(null),h=g.useCallback(()=>o&&u>0?Math.max(1,Math.floor(u/o)):i,[i,o,u]);g.useEffect(()=>{const y=()=>{f.current&&d(f.current.offsetWidth)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),g.useEffect(()=>{if(!s||!r||!m.current)return;const y=new IntersectionObserver(w=>{w.forEach(v=>{v.isIntersecting&&s&&s()})},{threshold:.1,rootMargin:"0px 0px 4000px 0px"});return y.observe(m.current),()=>y.disconnect()},[s,r]);const p=g.useCallback(()=>{const y=h(),w=Array.from({length:y},()=>[]);return e.forEach((v,x)=>{const b=x%y,j=t(v);w[b].push(a.jsx("div",{style:{width:"100%",marginBottom:`${l}px`},children:n(v)},j))}),w.map((v,x)=>a.jsx("div",{style:{width:`calc(${100/y}% - ${l/2}px)`,marginRight:x<y-1?`${l}px`:0},children:v},x))},[e,t,n,h,l]);return e.length===0?a.jsx("div",{className:`text-center py-12 ${c}`,children:a.jsx("p",{className:"text-muted-foreground",children:"No items to display"})}):a.jsxs("div",{ref:f,className:c,children:[a.jsx("div",{style:{display:"flex",width:"100%"},children:p()}),r&&s&&a.jsx("div",{ref:m,className:"w-full h-16 mt-16",style:{minHeight:"64px"}})]})}function GG({items:e,className:t,viewMode:n="grid",onViewModeChange:s,onLoadMore:r,hasMore:i=!0,paginationInfo:l}){const[o,c]=g.useState(new Set);g.useEffect(()=>{if(n==="grid"){const d=new Set(e.map(f=>f.id));c(d)}},[n,e]);const u=d=>{if(n==="grid")return;const f=new Set(o);f.has(d)?f.delete(d):f.add(d),c(f)};return e.length===0?a.jsx("div",{className:`text-center py-12 ${t}`,children:a.jsx("p",{className:"text-muted-foreground",children:"No results found"})}):a.jsxs("div",{className:t,children:[s&&a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-sm text-muted-foreground",children:l?a.jsxs(a.Fragment,{children:["Showing ",l.displayedItems," of ",l.totalItems," result",l.totalItems!==1?"s":"",l.hasMore&&a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Scroll to load more)"})]}):`${e.length} result${e.length!==1?"s":""} found`})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(V,{variant:n==="grid"?"default":"outline",size:"sm",onClick:()=>s("grid"),className:"flex items-center gap-2",children:[a.jsx(JR,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(V,{variant:n==="list"?"default":"outline",size:"sm",onClick:()=>s("list"),className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-4 w-4"}),"List"]})]})]}),n==="grid"?a.jsx(s_,{items:e,keyExtractor:d=>d.id,renderItem:d=>a.jsx(Fw,{item:d,isExpanded:!0,onToggle:()=>{},viewMode:"grid"}),columns:3,gap:16,maxColumnWidth:400,loadMore:r,hasMore:i}):a.jsxs("div",{className:"space-y-2",children:[e.map(d=>{const f=o.has(d.id);return a.jsx(Fw,{item:d,isExpanded:f,onToggle:()=>u(d.id),viewMode:"list"},d.id)}),i&&r&&a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs(V,{variant:"outline",onClick:r,className:"w-full max-w-xs",children:["Load More (",(l==null?void 0:l.displayedItems)||0," of ",(l==null?void 0:l.totalItems)||0,")"]})})]})]})}function YG(){const e=ut(),{lastSearchQuery:t,setLastSearchQuery:n,clearLastSearchQuery:s,addTag:r,clearAllTags:i}=Ck(),l=g.useCallback(u=>{if(!u.trim())return;n(u);const d={id:`custom-${u}`,label:u,value:u,category:Ye.FUZZY_SEARCH};r(d),e("/search")},[e,n,r]),o=g.useCallback(u=>{n(u);const d={id:`type-${u}`,label:u,value:u,category:Ye.TYPES};r(d),e("/search")},[e,n,r]),c=g.useCallback(u=>{typeof u=="string"?l(u):u.id.startsWith("type-")?o(u.value):l(u.value)},[l,o]);return{lastSearchQuery:t,navigateToSearch:l,navigateToSearchWithType:o,handleSearchSelect:c,clearLastSearchQuery:s}}function XG({className:e,placeholder:t="Search skills, races, traits, religions..."}){const{isReady:n}=cv(),{availableFilters:s}=dv(),{handleSearchSelect:r}=YG(),l=[{id:"fuzzy-search",name:"Search All",placeholder:t,options:s.types.map(o=>({id:`type-${o.value}`,label:o.label,value:o.value,category:"Search All",description:`${o.count} ${o.label}${o.count!==1?"s":""}`}))}];return n?a.jsx("div",{className:I("flex items-center gap-2",e),children:a.jsx("div",{className:"flex-1",children:a.jsx(kk,{categories:l,onSelect:r,onCustomSearch:r,placeholder:t})})}):a.jsx("div",{className:I("flex items-center gap-2",e),children:a.jsx("div",{className:"flex-1 h-10 bg-muted animate-pulse rounded-md"})})}function Wh({title:e,description:t,children:n}){return a.jsxs("div",{className:"bg-background",children:[a.jsx("div",{className:"border-b border-border bg-card/50",children:a.jsxs("div",{className:"container mx-auto px-4 py-6",children:[a.jsx(Ra,{className:"text-3xl font-bold text-primary mb-2",children:e}),t&&a.jsx(ye,{className:"text-muted-foreground max-w-2xl",children:t})]})}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:n})]})}function WG(){const{isReady:e,isIndexing:t,error:n}=cv(),{activeFilters:s,selectedTags:r,viewMode:i,setActiveFilters:l,handleTagSelect:o,handleTagRemove:c,handleClearFilters:u,handleViewModeChange:d}=uv(),{availableFilters:f}=dv(),{filteredResults:m,totalResults:h,loadMore:p,resetPagination:y,paginationInfo:w,hasMore:v}=VG();if(g.useEffect(()=>{y()},[s,y]),!e)return a.jsx(Wh,{title:"Search",description:"Building search index...",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[t?a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}):null,a.jsx("p",{className:"text-muted-foreground",children:t?"Building search index...":"Loading search..."})]})})});if(n)return a.jsx(Wh,{title:"Search",description:"Error loading search",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load search: ",n]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"text-primary hover:underline",children:"Try again"})]})})});const x=r.length>0?"Search Results":"Search",b=r.length>0?`Found ${h} result${h!==1?"s":""} for ${r.length} filter${r.length!==1?"s":""}`:"Search across all skills, races, traits, religions, birthsigns, destiny nodes, and perk references";return a.jsxs(a.Fragment,{children:[a.jsxs(Wh,{title:x,description:b,children:[a.jsx("div",{className:"mb-6",children:a.jsx(ZG,{activeFilters:s,onFiltersChange:l,onClearFilters:u,availableFilters:f,resultCount:h,onTagSelect:o,onTagRemove:c,selectedTags:r})}),a.jsx("div",{className:"w-full",children:a.jsx(GG,{items:m.map(j=>j.item),viewMode:i,onViewModeChange:d,onLoadMore:p,hasMore:v,paginationInfo:w})})]}),a.jsx(O8,{threshold:400})]})}function QG(){return a.jsx(WG,{})}const qw=["bg-red-100 border-red-300","bg-blue-100 border-blue-300","bg-green-100 border-green-300","bg-yellow-100 border-yellow-300","bg-purple-100 border-purple-300","bg-pink-100 border-pink-300","bg-indigo-100 border-indigo-300","bg-gray-100 border-gray-300"],Zw=["Mystical Artifact","Ancient Scroll","Enchanted Weapon","Potion of Power","Crystal Shard","Runic Tablet","Magical Tome","Arcane Relic","Divine Essence","Ethereal Fragment"],Gw=["A powerful artifact imbued with ancient magic.","Scroll containing forgotten spells and rituals.","Weapon blessed by the gods themselves.","Brew that grants temporary supernatural abilities.","Crystal that resonates with magical energy.","Tablet inscribed with mysterious runes.","Book of forbidden knowledge and power.","Relic from a bygone era of magic.","Essence of divine power and wisdom.","Fragment of pure ethereal energy."],KG=["magic","ancient","powerful","rare","legendary","enchanted","divine","mystical","forbidden","sacred"];function Yw(e){const t=[];for(let n=0;n<e;n++){const s=`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=Math.floor(Math.random()*200)+100,i=qw[Math.floor(Math.random()*qw.length)],l=Zw[Math.floor(Math.random()*Zw.length)],o=Gw[Math.floor(Math.random()*Gw.length)],c=[],u=Math.floor(Math.random()*3)+1,d=[...KG].sort(()=>.5-Math.random());c.push(...d.slice(0,u)),t.push({id:s,title:l,description:o,height:r,color:i,tags:c})}return t}function JG(){const[e,t]=L.useState(()=>Yw(50)),[n,s]=L.useState(!1),[r,i]=L.useState(!0),l=L.useCallback(async()=>{if(n||!r)return;s(!0),await new Promise(d=>setTimeout(d,500));const u=Yw(20);t(d=>[...d,...u]),e.length+u.length>=200&&i(!1),s(!1)},[n,r,e.length]),o=u=>u.id,c=u=>a.jsx(OG,{item:u});return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"VirtualMasonryGrid Demo"}),a.jsxs("p",{className:"text-muted-foreground",children:["Testing InfiniteGrid implementation with ",e.length," items"]}),n&&a.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Loading more items..."}),!r&&a.jsx("div",{className:"mt-2 text-sm text-green-600",children:"All items loaded (200 total)"})]}),a.jsx(s_,{items:e,keyExtractor:o,renderItem:c,loadMore:l,hasMore:r,columns:3,gap:16,className:"min-h-screen"})]})}function fv(){const[e,t]=g.useState({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[n,s]=g.useState({skills:[],categories:[],prerequisites:[],tags:[]});g.useCallback(h=>{s(h)},[]);const r=g.useCallback(h=>{t(p=>({...p,skills:[...p.skills,h]}))},[]),i=g.useCallback(h=>{t(p=>({...p,skills:p.skills.filter(y=>y!==h)}))},[]);g.useCallback(h=>{t(p=>({...p,categories:[...p.categories,h]}))},[]),g.useCallback(h=>{t(p=>({...p,categories:p.categories.filter(y=>y!==h)}))},[]),g.useCallback(h=>{t(p=>({...p,prerequisites:[...p.prerequisites,h]}))},[]),g.useCallback(h=>{t(p=>({...p,prerequisites:p.prerequisites.filter(y=>y!==h)}))},[]),g.useCallback(h=>{t(p=>({...p,tags:[...p.tags,h]}))},[]);const l=g.useCallback(h=>{t(p=>({...p,tags:p.tags.filter(y=>y!==h)}))},[]);g.useCallback(h=>{t(p=>({...p,rankLevel:h}))},[]),g.useCallback(h=>{t(p=>({...p,rootOnly:h}))},[]);const o=g.useCallback(h=>{t(p=>({...p,minLevel:h}))},[]),c=g.useCallback(h=>{t(p=>({...p,searchQuery:h}))},[]),u=g.useCallback(()=>{t({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0})},[]),d=g.useMemo(()=>{const h=[];return e.skills.forEach(p=>{const y=n.skills.find(w=>w.id===p);y&&h.push({id:`skill-${p}`,type:"skill",value:p,label:y.name})}),e.categories.forEach(p=>{h.push({id:`category-${p}`,type:"category",value:p,label:p})}),e.prerequisites.forEach(p=>{h.push({id:`prerequisite-${p}`,type:"prerequisite",value:p,label:p})}),e.tags.forEach(p=>{h.push({id:`tag-${p}`,type:"tag",value:p,label:p})}),e.rankLevel!=="all"&&h.push({id:"rank-level",type:"rankLevel",value:e.rankLevel,label:e.rankLevel==="single"?"Single Rank":"Multi Rank"}),e.rootOnly&&h.push({id:"root-only",type:"rootOnly",value:"true",label:"Root Perks Only"}),e.minLevel!==void 0&&h.push({id:"min-level",type:"minLevel",value:e.minLevel.toString(),label:`Level ${e.minLevel}+`}),h},[e,n]);g.useMemo(()=>{const h=[];return n.skills.forEach(p=>{h.push({id:`skill-${p.id}`,label:p.name,value:p.id,category:"Skills",type:"skill"})}),n.tags.forEach(p=>{h.push({id:`tag-${p}`,label:p,value:p,category:"Tags",type:"tag"})}),h},[n]);const f=g.useCallback(h=>{if(typeof h=="string")c(h);else if(`${h.category}${h.id}`,h.label,h.value,h.category,h.category==="Skill Trees")r(h.value);else if(h.category==="Minimum Level"){const p=parseInt(h.value);isNaN(p)||o(p)}else h.category==="Fuzzy Search"&&c(h.value)},[r,c,o]),m=g.useCallback(h=>{const p=d.find(y=>y.id===h);if(p)p.type==="skill"?i(p.value):p.type==="tag"?l(p.value):p.type==="minLevel"&&o(void 0);else if(h.startsWith("custom-")){const y=h.replace("custom-","");e.searchQuery===y&&c("")}},[d,i,l,o,e.searchQuery,c]);return{selectedTags:[...d.map(h=>({id:h.id,label:h.label,value:h.value,category:h.type})),...e.searchQuery?[{id:`custom-${e.searchQuery}`,label:e.searchQuery,value:e.searchQuery,category:"Fuzzy Search"}]:[]],viewMode:"grid",searchQuery:e.searchQuery,onTagSelect:f,onTagRemove:m,onClearTags:u,onViewModeChange:()=>{},onSearchChange:c}}class eY{constructor(t,n){Ve(this,"perkNodes");Ve(this,"buildState");this.perkNodes=t,this.buildState=n}transformToPlayerCreationItem(t){var l,o,c,u,d,f;const n=((o=(l=this.buildState.perks)==null?void 0:l.selected)==null?void 0:o[t.skillTree])||[],s=((u=(c=this.buildState.perks)==null?void 0:c.ranks)==null?void 0:u[t.skillTree])||{},r=n.includes(t.edid),i=s[t.edid]||0;return{id:t.edid,name:t.name,description:((f=(d=t.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:t.category,tags:t.tags,isSelected:r,originalPerk:t,skillTree:t.skillTree,skillTreeName:t.skillTreeName,isRoot:t.isRoot,hasChildren:t.hasChildren,prerequisites:t.prerequisites,connections:t.connections,totalRanks:t.totalRanks,currentRank:i,isAvailable:this.isPerkAvailable(t),minLevel:t.minLevel}}isPerkAvailable(t){var s,r;if(t.isRoot)return!0;const n=((r=(s=this.buildState.perks)==null?void 0:s.selected)==null?void 0:r[t.skillTree])||[];return t.prerequisites.every(i=>n.includes(i))}applyFilters(t,n){let s=[...t];if(!n)return s;if(n.skills&&n.skills.length>0&&(s=s.filter(r=>n.skills.includes(r.skillTree))),n.categories&&n.categories.length>0&&(s=s.filter(r=>n.categories.includes(r.category))),n.prerequisites&&n.prerequisites.length>0&&(s=s.filter(r=>n.prerequisites.some(i=>r.prerequisites.includes(i)))),n.tags&&n.tags.length>0&&(s=s.filter(r=>n.tags.some(i=>r.tags.includes(i)))),n.minLevel!==void 0&&(s=s.filter(r=>(r.minLevel||0)>=n.minLevel)),n.rankLevel!=="all"&&(s=s.filter(r=>n.rankLevel==="single"?r.totalRanks===1:n.rankLevel==="multi"?r.totalRanks>1:!0)),n.rootOnly&&(s=s.filter(r=>r.isRoot)),n.searchQuery&&n.searchQuery.trim()){const r=n.searchQuery.trim(),i=s.map(u=>{var d,f;return{id:u.edid,name:u.name,description:((f=(d=u.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",searchableText:u.searchableText,tags:u.tags,category:u.category,skillTree:u.skillTreeName,originalNode:u}}),l={keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0};s=new tn(i,l).search(r).map(u=>u.item.originalNode)}return s}getAvailableFilters(t){const n=new Set,s=new Set,r=new Set,i=new Set;return t.forEach(l=>{n.add(l.skillTree),s.add(l.category),l.tags.forEach(o=>r.add(o)),l.prerequisites.forEach(o=>i.add(o))}),{skills:Array.from(n),categories:Array.from(s),tags:Array.from(r),prerequisites:Array.from(i)}}sortPerks(t,n="name"){const s=[...t];switch(n){case"name":return s.sort((r,i)=>r.name.localeCompare(i.name));case"skill":return s.sort((r,i)=>r.skillTreeName.localeCompare(i.skillTreeName));case"category":return s.sort((r,i)=>r.category.localeCompare(i.category));case"rank":return s.sort((r,i)=>i.totalRanks-r.totalRanks);case"prerequisites":return s.sort((r,i)=>r.prerequisites.length-i.prerequisites.length);default:return s}}}function tY(e,t){const{build:n}=pt(),s=g.useMemo(()=>new eY(e,n),[e,n]),r=g.useMemo(()=>s.applyFilters(e,t||{skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[s,e,t]),i=g.useMemo(()=>r.map(o=>s.transformToPlayerCreationItem(o)),[r,s]),l=g.useMemo(()=>s.getAvailableFilters(e),[s,e]);return{model:s,filteredNodes:r,perkItems:i,availableFilters:l}}function nY(){const{allPerks:e,skillTrees:t,categories:n,tags:s,loading:r,error:i}=Hm(),{selectedTags:l,searchQuery:o}=fv(),c=g.useMemo(()=>{const y=l.filter(b=>b.category==="skill").map(b=>b.value),w=l.filter(b=>b.category==="tag").map(b=>b.value),v=l.filter(b=>b.category==="minLevel").map(b=>parseInt(b.value)).find(b=>!isNaN(b));return{skills:y,categories:[],prerequisites:[],tags:w,rankLevel:"all",rootOnly:!1,searchQuery:o||"",minLevel:v}},[l,o]),{filteredNodes:u,perkItems:d,availableFilters:f}=tY(e,c),m=g.useMemo(()=>{const y=[...new Set(e.map(x=>x.skillTreeName))],w=[...new Set(e.flatMap(x=>x.tags))],v=[...new Set(e.map(x=>x.minLevel||0))].sort((x,b)=>x-b);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:w.map(x=>({id:`keyword-${x}`,label:x,value:x,category:"Fuzzy Search",description:`Perks with ${x} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:y.map(x=>({id:`skill-${x}`,label:x,value:x,category:"Skill Trees",description:`Perks from ${x} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:v.map(x=>({id:`level-${x}`,label:`Level ${x}+`,value:x.toString(),category:"Minimum Level",description:`Perks requiring level ${x} or higher`}))}]},[e]),h=g.useMemo(()=>({totalPerks:e.length,filteredPerks:u.length,rootPerks:e.filter(y=>y.isRoot).length,multiRankPerks:e.filter(y=>y.totalRanks>1).length,singleRankPerks:e.filter(y=>y.totalRanks===1).length,skills:t.length,categories:n.length,tags:s.length}),[e,u,t,n,s]),p=g.useMemo(()=>{const y=new Map;return d.forEach(w=>{y.has(w.skillTree)||y.set(w.skillTree,[]),y.get(w.skillTree).push(w)}),Array.from(y.entries()).map(([w,v])=>{var x;return{skillId:w,skillName:((x=v[0])==null?void 0:x.skillTreeName)||w,perks:v,count:v.length}}).sort((w,v)=>w.skillName.localeCompare(v.skillName))},[d]);return g.useMemo(()=>{const y=new Map;return d.forEach(w=>{y.has(w.category||"")||y.set(w.category||"",[]),y.get(w.category||"").push(w)}),Array.from(y.entries()).map(([w,v])=>({category:w,perks:v,count:v.length})).sort((w,v)=>(w.category||"").localeCompare(v.category||""))},[d]),g.useMemo(()=>d.filter(y=>y.isSelected),[d]),g.useMemo(()=>d.filter(y=>y.isAvailable),[d]),g.useMemo(()=>d.filter(y=>y.isRoot),[d]),g.useMemo(()=>d.filter(y=>y.totalRanks>1),[d]),g.useMemo(()=>d.filter(y=>y.totalRanks===1),[d]),g.useMemo(()=>(y,w="name")=>{const v=[...y];switch(w){case"name":return v.sort((x,b)=>x.name.localeCompare(b.name));case"skill":return v.sort((x,b)=>x.skillTreeName.localeCompare(b.skillTreeName));case"category":return v.sort((x,b)=>(x.category||"").localeCompare(b.category||""));case"rank":return v.sort((x,b)=>b.totalRanks-x.totalRanks);case"prerequisites":return v.sort((x,b)=>x.prerequisites.length-b.prerequisites.length);case"selected":return v.sort((x,b)=>Number(b.isSelected)-Number(x.isSelected));default:return v}},[]),{filteredItems:d,groupedItems:Object.fromEntries(p.map(y=>[y.skillId,y.perks])),stats:{totalPerks:h.totalPerks,skillTrees:h.skills,multiRank:h.multiRankPerks,singleRank:h.singleRankPerks,withPrerequisites:e.filter(y=>y.prerequisites&&y.prerequisites.length>0).length},searchCategories:m,availableFilters:f,isLoading:r,error:i}}function sY({perk:e,isOpen:t,onOpenChange:n}){var s,r;return e?a.jsx(Ii,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-2xl font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(En,{label:e.skillTreeName,type:"skill",size:"sm"}),e.totalRanks>1&&a.jsx(En,{label:`${e.totalRanks} ranks`,type:"rank",size:"sm"}),e.minLevel&&a.jsx(En,{label:`Level ${e.minLevel}+`,type:"level",size:"sm"}),a.jsx(ts,{itemId:e.edid,itemType:"perk",itemName:e.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:((r=(s=e.ranks[0])==null?void 0:s.description)==null?void 0:r.base)||"No description available."})]})]})}),a.jsxs("div",{className:"space-y-6",children:[e.prerequisites&&e.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Prerequisites"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.prerequisites.map((i,l)=>a.jsx(q,{variant:"secondary",className:"text-sm",children:i},l))})]}),e.ranks&&e.ranks.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Perk Ranks"}),a.jsx("div",{className:"space-y-3",children:e.ranks.map((i,l)=>{var o,c,u;return a.jsxs("div",{className:"p-4 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"font-medium text-sm",children:["Rank ",l+1]}),((c=(o=i.prerequisites)==null?void 0:o.skillLevel)==null?void 0:c.level)&&a.jsxs(q,{variant:"outline",className:"text-xs",children:["Level ",i.prerequisites.skillLevel.level]})]}),((u=i.description)==null?void 0:u.base)&&a.jsx(ye,{className:"text-sm text-muted-foreground",children:i.description.base})]},l)})})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((i,l)=>a.jsx(q,{variant:"outline",className:"text-sm",children:i},l))})]}),a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Additional Info"}),a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Skill Tree:"}),a.jsx("span",{className:"font-medium",children:e.skillTreeName})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Total Ranks:"}),a.jsx("span",{className:"font-medium",children:e.totalRanks})]}),e.isRoot&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Type:"}),a.jsx(q,{variant:"secondary",className:"text-xs",children:"Root Perk"})]}),e.hasChildren&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Has Children:"}),a.jsx("span",{className:"font-medium",children:"Yes"})]})]})]})]})]})}):null}function Xw({item:e,className:t,onClick:n,viewMode:s="grid"}){const r=e.originalPerk;return a.jsx("div",{className:I("p-4 rounded-lg border bg-background hover:bg-muted/50 transition-all duration-200 hover:shadow-md cursor-pointer",s==="list"&&"flex items-center gap-4",t),onClick:n,children:s==="grid"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx(ma,{className:"text-sm font-semibold line-clamp-1",children:e.name}),a.jsx(Rs,{className:"text-muted-foreground",children:r.skillTreeName})]})]})}),a.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[r.totalRanks>1&&a.jsx(En,{label:`${r.totalRanks} ranks`,type:"rank",size:"sm"}),r.minLevel&&a.jsx(En,{label:`Level ${r.minLevel}+`,type:"level",size:"sm"})]}),a.jsx(ye,{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:e.description}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((i,l)=>a.jsx(q,{variant:"outline",className:"text-xs",children:i},l)),e.tags.length>3&&a.jsxs(Rs,{className:"text-muted-foreground",children:["+",e.tags.length-3," more"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(ma,{className:"text-sm font-semibold truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.totalRanks>1&&a.jsx(En,{label:`${r.totalRanks} ranks`,type:"rank",size:"sm"}),r.minLevel&&a.jsx(En,{label:`Level ${r.minLevel}+`,type:"level",size:"sm"})]})]}),a.jsx(ye,{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(Rs,{className:"text-muted-foreground",children:r.skillTreeName}),e.tags.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[e.tags.slice(0,2).map((i,l)=>a.jsx(q,{variant:"outline",className:"text-xs",children:i},l)),e.tags.length>2&&a.jsxs(Rs,{className:"text-muted-foreground",children:["+",e.tags.length-2," more"]})]})]})]})]})})}function rY(e,t){const n=g.useMemo(()=>e.map(o=>{var c,u;return{id:o.edid,name:o.name,description:((u=(c=o.ranks[0])==null?void 0:c.description)==null?void 0:u.base)||"",searchableText:o.searchableText,tags:o.tags,category:o.category,skillTree:o.skillTreeName,originalPerk:o}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new tn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(o=>({item:o,score:0,matches:[]})),[r,t]);return{filteredPerks:g.useMemo(()=>i.map(o=>o.item.originalPerk),[i]),searchResults:i,searchablePerks:n}}function aY(){ut();const{build:e}=pt(),{allPerks:t,loading:n,error:s}=Hm(),[r,i]=g.useState("list"),[l,o]=g.useState("alphabetical"),{selectedTags:c,searchQuery:u,onTagSelect:d,onTagRemove:f,onClearTags:m,onSearchChange:h}=fv(),p=g.useMemo(()=>{const k=[...new Set(t.map(O=>O.skillTreeName))],T=[...new Set(t.flatMap(O=>O.tags))],D=[...new Set(t.map(O=>O.minLevel||0))].sort((O,z)=>O-z);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:T.map(O=>({id:`keyword-${O}`,label:O,value:O,category:"Fuzzy Search",description:`Perks with ${O} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:k.map(O=>({id:`skill-${O}`,label:O,value:O,category:"Skill Trees",description:`Perks from ${O} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:D.map(O=>({id:`level-${O}`,label:`Level ${O}+`,value:O.toString(),category:"Minimum Level",description:`Perks requiring level ${O} or higher`}))}]},[t]),{filteredPerks:y}=rY(t,u),w=y.map(k=>({...n_(k,e),originalPerk:k})),v=g.useMemo(()=>{const k=[...w];switch(l){case"alphabetical":return k.sort((T,D)=>T.name.localeCompare(D.name));case"skill-tree":return k.sort((T,D)=>{const O=T.originalPerk.skillTreeName,z=D.originalPerk.skillTreeName;return O.localeCompare(z)||T.name.localeCompare(D.name)});case"level":return k.sort((T,D)=>{const O=T.originalPerk.minLevel||0,z=D.originalPerk.minLevel||0;return O-z||T.name.localeCompare(D.name)});default:return k}},[w,l]),[x,b]=g.useState(null),[j,N]=g.useState(!1),C=k=>{b(k),N(!0)},S=k=>{i(k)},E=k=>{switch(k){case"alphabetical":return"Alphabetical (A-Z)";case"skill-tree":return"Skill Tree";case"level":return"Level";default:return"Alphabetical (A-Z)"}};return n?a.jsx(Qt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-lg",children:"Loading perk data..."})})}):s?a.jsx(Qt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-lg text-red-500",children:["Error loading perk data: ",s]})})}):a.jsxs(Qt,{title:"Perk References",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx($a,{categories:p,onSelect:d,onCustomSearch:h})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(V,{variant:r==="grid"?"default":"outline",size:"sm",onClick:()=>S("grid"),className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(V,{variant:r==="list"?"default":"outline",size:"sm",onClick:()=>S("list"),className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Oi,{children:[a.jsx(Bi,{asChild:!0,children:a.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",E(l),a.jsx(Pt,{className:"h-4 w-4"})]})}),a.jsxs(La,{align:"end",children:[a.jsx(sn,{onClick:()=>o("alphabetical"),children:"Alphabetical (A-Z)"}),a.jsx(sn,{onClick:()=>o("skill-tree"),children:"Skill Tree"}),a.jsx(sn,{onClick:()=>o("level"),children:"Level"})]})]})})]}),a.jsx("div",{className:"my-4",children:c.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:m,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(Xe,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),c.map(k=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>f(k.id),title:"Click to remove",children:[k.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},k.id))]})}),a.jsxs("div",{className:"mt-6",children:[r==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(k=>a.jsx(Xw,{item:k,onClick:()=>C(k.originalPerk),viewMode:"grid"},k.id))}):a.jsx("div",{className:"space-y-2",children:v.map(k=>a.jsx(Xw,{item:k,onClick:()=>C(k.originalPerk),viewMode:"list"},k.id))}),v.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No perks found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]}),a.jsx(sY,{perk:x,isOpen:j,onOpenChange:N})]})}function Ww(){const{skills:e,loading:t,error:n,searchQuery:s,setSearchQuery:r,selectedCategory:i,setSelectedCategory:l,categories:o,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:y}=$T(),{filteredItems:w,groupedItems:v,stats:x,isLoading:b,error:j,searchCategories:N}=nY(),{selectedTags:C,viewMode:S,searchQuery:E,onTagSelect:k,onTagRemove:T,onClearTags:D,onViewModeChange:O,onSearchChange:z}=fv();return t||b?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading data..."})]})}):n||j?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:n||j}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsx(Qt,{title:"Skills & Perks",description:"Manage your character's skills and browse all available perks.",children:a.jsx("div",{className:"mb-6",children:a.jsxs(Da,{defaultValue:"builder",className:"w-full",children:[a.jsxs(za,{className:"grid w-full grid-cols-2",children:[a.jsx(zt,{value:"builder",children:"Perk Builder"}),a.jsx(zt,{value:"reference",children:"Perk References"})]}),a.jsx(Ut,{value:"builder",className:"space-y-4",children:a.jsx(TZ,{skills:e,loading:t,error:n,searchQuery:s,onSearchChange:r,selectedCategory:i,onCategorySelect:l,categories:o,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:y})}),a.jsx(Ut,{value:"reference",className:"space-y-4",children:a.jsx(aY,{items:w,groupedItems:v,stats:x,searchCategories:N,selectedTags:C,viewMode:S,searchQuery:E,onTagSelect:k,onTagRemove:T,onClearTags:D,onViewModeChange:O,onSearchChange:z})})]})})})}function G(e,t,n){function s(o,c){var u;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(u=o._zod).traits??(u.traits=new Set),o._zod.traits.add(e),t(o,c);for(const d in l.prototype)d in o||Object.defineProperty(o,d,{value:l.prototype[d].bind(o)});o._zod.constr=l,o._zod.def=c}const r=(n==null?void 0:n.Parent)??Object;class i extends r{}Object.defineProperty(i,"name",{value:e});function l(o){var c;const u=n!=null&&n.Parent?new i:this;s(u,o),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(l,"init",{value:s}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>{var c,u;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(u=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class Fc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const r_={};function ji(e){return r_}function iY(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,r])=>t.indexOf(+s)===-1).map(([s,r])=>r)}function lY(e,t){return typeof t=="bigint"?t.toString():t}function a_(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function mv(e){return e==null}function hv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function oY(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=n>s?n:s,i=Number.parseInt(e.toFixed(r).replace(".","")),l=Number.parseInt(t.toFixed(r).replace(".",""));return i%l/10**r}function Je(e,t,n){Object.defineProperty(e,t,{get(){{const s=n();return e[t]=s,s}},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function gv(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Vo(e){return JSON.stringify(e)}const i_=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Cp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const cY=a_(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ep(e){if(Cp(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Cp(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const uY=new Set(["string","number","symbol"]);function Um(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Hi(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(s._zod.parent=e),s}function ce(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function dY(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const fY={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function mY(e,t){const n={},s=e._zod.def;for(const r in t){if(!(r in s.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(n[r]=s.shape[r])}return Hi(e,{...e._zod.def,shape:n,checks:[]})}function hY(e,t){const n={...e._zod.def.shape},s=e._zod.def;for(const r in t){if(!(r in s.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&delete n[r]}return Hi(e,{...e._zod.def,shape:n,checks:[]})}function gY(e,t){if(!Ep(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return gv(this,"shape",s),s},checks:[]};return Hi(e,n)}function pY(e,t){return Hi(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return gv(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function xY(e,t,n){const s=t._zod.def.shape,r={...s};if(n)for(const i in n){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(r[i]=e?new e({type:"optional",innerType:s[i]}):s[i])}else for(const i in s)r[i]=e?new e({type:"optional",innerType:s[i]}):s[i];return Hi(t,{...t._zod.def,shape:r,checks:[]})}function vY(e,t,n){const s=t._zod.def.shape,r={...s};if(n)for(const i in n){if(!(i in r))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(r[i]=new e({type:"nonoptional",innerType:s[i]}))}else for(const i in s)r[i]=new e({type:"nonoptional",innerType:s[i]});return Hi(t,{...t._zod.def,shape:r,checks:[]})}function oc(e,t=0){var n;for(let s=t;s<e.issues.length;s++)if(((n=e.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function pv(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function ld(e){return typeof e=="string"?e:e==null?void 0:e.message}function Ni(e,t,n){var r,i,l,o,c,u;const s={...e,path:e.path??[]};if(!e.message){const d=ld((l=(i=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:i.error)==null?void 0:l.call(i,e))??ld((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??ld((c=n.customError)==null?void 0:c.call(n,e))??ld((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";s.message=d}return delete s.inst,delete s.continue,t!=null&&t.reportInput||delete s.input,s}function xv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Hc(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const l_=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,lY,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},o_=G("$ZodError",l_),c_=G("$ZodError",l_,{Parent:Error});function yY(e,t=n=>n.message){const n={},s=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:n}}function bY(e,t){const n=t||function(i){return i.message},s={_errors:[]},r=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(o=>r({issues:o}));else if(l.code==="invalid_key")r({issues:l.issues});else if(l.code==="invalid_element")r({issues:l.issues});else if(l.path.length===0)s._errors.push(n(l));else{let o=s,c=0;for(;c<l.path.length;){const u=l.path[c];c===l.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(l))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return r(e),s}const wY=e=>(t,n,s,r)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new Fc;if(l.issues.length){const o=new((r==null?void 0:r.Err)??e)(l.issues.map(c=>Ni(c,i,ji())));throw i_(o,r==null?void 0:r.callee),o}return l.value},jY=e=>async(t,n,s,r)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new((r==null?void 0:r.Err)??e)(l.issues.map(c=>Ni(c,i,ji())));throw i_(o,r==null?void 0:r.callee),o}return l.value},u_=e=>(t,n,s)=>{const r=s?{...s,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},r);if(i instanceof Promise)throw new Fc;return i.issues.length?{success:!1,error:new(e??o_)(i.issues.map(l=>Ni(l,r,ji())))}:{success:!0,data:i.value}},NY=u_(c_),d_=e=>async(t,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},r);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(l=>Ni(l,r,ji())))}:{success:!0,data:i.value}},SY=d_(c_),kY=/^[cC][^\s-]{8,}$/,CY=/^[0-9a-z]+$/,EY=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,TY=/^[0-9a-vA-V]{20}$/,_Y=/^[A-Za-z0-9]{27}$/,AY=/^[a-zA-Z0-9_-]{21}$/,MY=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,RY=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Qw=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,DY=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,zY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function LY(){return new RegExp(zY,"u")}const $Y=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,OY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,BY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IY=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,f_=/^[A-Za-z0-9_-]*$/,FY=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,HY=/^\+(?:[0-9]){6,14}[0-9]$/,m_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",UY=new RegExp(`^${m_}$`);function h_(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function VY(e){return new RegExp(`^${h_(e)}$`)}function qY(e){const t=h_({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${m_}T(?:${s})$`)}const ZY=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},GY=/^\d+$/,YY=/^-?\d+(?:\.\d+)?/i,XY=/true|false/i,WY=/^[^A-Z]*$/,QY=/^[^a-z]*$/,yn=G("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),g_={number:"number",bigint:"bigint",object:"date"},p_=G("$ZodCheckLessThan",(e,t)=>{yn.init(e,t);const n=g_[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,i=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),x_=G("$ZodCheckGreaterThan",(e,t)=>{yn.init(e,t);const n=g_[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,i=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),KY=G("$ZodCheckMultipleOf",(e,t)=>{yn.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):oY(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),JY=G("$ZodCheckNumberFormat",(e,t)=>{var l;yn.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),s=n?"int":"number",[r,i]=fY[t.format];e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,c.minimum=r,c.maximum=i,n&&(c.pattern=GY)}),e._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:s,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}c<r&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),c>i&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:e})}}),eX=G("$ZodCheckMaxLength",(e,t)=>{var n;yn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!mv(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const r=s.value;if(r.length<=t.maximum)return;const l=xv(r);s.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),tX=G("$ZodCheckMinLength",(e,t)=>{var n;yn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!mv(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const r=s.value;if(r.length>=t.minimum)return;const l=xv(r);s.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),nX=G("$ZodCheckLengthEquals",(e,t)=>{var n;yn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!mv(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=s=>{const r=s.value,i=r.length;if(i===t.length)return;const l=xv(r),o=i>t.length;s.issues.push({origin:l,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),Vm=G("$ZodCheckStringFormat",(e,t)=>{var n,s;yn.init(e,t),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),sX=G("$ZodCheckRegex",(e,t)=>{Vm.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),rX=G("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=WY),Vm.init(e,t)}),aX=G("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=QY),Vm.init(e,t)}),iX=G("$ZodCheckIncludes",(e,t)=>{yn.init(e,t);const n=Um(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),lX=G("$ZodCheckStartsWith",(e,t)=>{yn.init(e,t);const n=new RegExp(`^${Um(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),oX=G("$ZodCheckEndsWith",(e,t)=>{yn.init(e,t);const n=new RegExp(`.*${Um(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),cX=G("$ZodCheckOverwrite",(e,t)=>{yn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class uX{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(l=>l),r=Math.min(...s.map(l=>l.length-l.trimStart().length)),i=s.map(l=>l.slice(r)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...n,r.join(`
`))}}const dX={major:4,minor:0,patch:5},gt=G("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=dX;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const i of s)for(const l of i._zod.onattach)l(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const i=(l,o,c)=>{let u=oc(l),d;for(const f of o){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(u)continue;const m=l.issues.length,h=f._zod.check(l);if(h instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Fc;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,l.issues.length!==m&&(u||(u=oc(l,m)))});else{if(l.issues.length===m)continue;u||(u=oc(l,m))}}return d?d.then(()=>l):l};e._zod.run=(l,o)=>{const c=e._zod.parse(l,o);if(c instanceof Promise){if(o.async===!1)throw new Fc;return c.then(u=>i(u,s,o))}return i(c,s,o)}}e["~standard"]={validate:i=>{var l;try{const o=NY(e,i);return o.success?{value:o.data}:{issues:(l=o.error)==null?void 0:l.issues}}catch{return SY(e,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),vv=G("$ZodString",(e,t)=>{var n;gt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??ZY(e._zod.bag),e._zod.parse=(s,r)=>{if(t.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),at=G("$ZodStringFormat",(e,t)=>{Vm.init(e,t),vv.init(e,t)}),fX=G("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=RY),at.init(e,t)}),mX=G("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Qw(s))}else t.pattern??(t.pattern=Qw());at.init(e,t)}),hX=G("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=DY),at.init(e,t)}),gX=G("$ZodURL",(e,t)=>{at.init(e,t),e._zod.check=n=>{try{const s=n.value,r=new URL(s),i=r.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:FY.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!s.endsWith("/")&&i.endsWith("/")?n.value=i.slice(0,-1):n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),pX=G("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=LY()),at.init(e,t)}),xX=G("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=AY),at.init(e,t)}),vX=G("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=kY),at.init(e,t)}),yX=G("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=CY),at.init(e,t)}),bX=G("$ZodULID",(e,t)=>{t.pattern??(t.pattern=EY),at.init(e,t)}),wX=G("$ZodXID",(e,t)=>{t.pattern??(t.pattern=TY),at.init(e,t)}),jX=G("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=_Y),at.init(e,t)}),NX=G("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=qY(t)),at.init(e,t)}),SX=G("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=UY),at.init(e,t)}),kX=G("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=VY(t)),at.init(e,t)}),CX=G("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=MY),at.init(e,t)}),EX=G("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=$Y),at.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv4"})}),TX=G("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=PY),at.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),_X=G("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=OY),at.init(e,t)}),AX=G("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=BY),at.init(e,t),e._zod.check=n=>{const[s,r]=n.value.split("/");try{if(!r)throw new Error;const i=Number(r);if(`${i}`!==r)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function v_(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const MX=G("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=IY),at.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{v_(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function RX(e){if(!f_.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return v_(n)}const DX=G("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=f_),at.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{RX(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),zX=G("$ZodE164",(e,t)=>{t.pattern??(t.pattern=HY),at.init(e,t)});function LX(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const $X=G("$ZodJWT",(e,t)=>{at.init(e,t),e._zod.check=n=>{LX(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),y_=G("$ZodNumber",(e,t)=>{gt.init(e,t),e._zod.pattern=e._zod.bag.pattern??YY,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const i=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...i?{received:i}:{}}),n}}),PX=G("$ZodNumber",(e,t)=>{JY.init(e,t),y_.init(e,t)}),OX=G("$ZodBoolean",(e,t)=>{gt.init(e,t),e._zod.pattern=XY,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),BX=G("$ZodUnknown",(e,t)=>{gt.init(e,t),e._zod.parse=n=>n}),IX=G("$ZodNever",(e,t)=>{gt.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Kw(e,t,n){e.issues.length&&t.issues.push(...pv(n,e.issues)),t.value[n]=e.value}const FX=G("$ZodArray",(e,t)=>{gt.init(e,t),e._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const i=[];for(let l=0;l<r.length;l++){const o=r[l],c=t.element._zod.run({value:o,issues:[]},s);c instanceof Promise?i.push(c.then(u=>Kw(u,n,l))):Kw(c,n,l)}return i.length?Promise.all(i).then(()=>n):n}});function od(e,t,n){e.issues.length&&t.issues.push(...pv(n,e.issues)),t.value[n]=e.value}function Jw(e,t,n,s){e.issues.length?s[n]===void 0?n in s?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...pv(n,e.issues)):e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}const HX=G("$ZodObject",(e,t)=>{gt.init(e,t);const n=a_(()=>{const f=Object.keys(t.shape);for(const h of f)if(!(t.shape[h]instanceof gt))throw new Error(`Invalid element at key "${h}": expected a Zod schema`);const m=dY(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(m)}});Je(e._zod,"propValues",()=>{const f=t.shape,m={};for(const h in f){const p=f[h]._zod;if(p.values){m[h]??(m[h]=new Set);for(const y of p.values)m[h].add(y)}}return m});const s=f=>{const m=new uX(["shape","payload","ctx"]),h=n.value,p=x=>{const b=Vo(x);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};m.write("const input = payload.value;");const y=Object.create(null);let w=0;for(const x of h.keys)y[x]=`key_${w++}`;m.write("const newResult = {}");for(const x of h.keys)if(h.optionalKeys.has(x)){const b=y[x];m.write(`const ${b} = ${p(x)};`);const j=Vo(x);m.write(`
        if (${b}.issues.length) {
          if (input[${j}] === undefined) {
            if (${j} in input) {
              newResult[${j}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${b}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${j}, ...iss.path] : [${j}],
              }))
            );
          }
        } else if (${b}.value === undefined) {
          if (${j} in input) newResult[${j}] = undefined;
        } else {
          newResult[${j}] = ${b}.value;
        }
        `)}else{const b=y[x];m.write(`const ${b} = ${p(x)};`),m.write(`
          if (${b}.issues.length) payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Vo(x)}, ...iss.path] : [${Vo(x)}]
          })));`),m.write(`newResult[${Vo(x)}] = ${b}.value`)}m.write("payload.value = newResult;"),m.write("return payload;");const v=m.compile();return(x,b)=>v(f,x,b)};let r;const i=Cp,l=!r_.jitless,c=l&&cY.value,u=t.catchall;let d;e._zod.parse=(f,m)=>{d??(d=n.value);const h=f.value;if(!i(h))return f.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),f;const p=[];if(l&&c&&(m==null?void 0:m.async)===!1&&m.jitless!==!0)r||(r=s(t.shape)),f=r(f,m);else{f.value={};const b=d.shape;for(const j of d.keys){const N=b[j],C=N._zod.run({value:h[j],issues:[]},m),S=N._zod.optin==="optional"&&N._zod.optout==="optional";C instanceof Promise?p.push(C.then(E=>S?Jw(E,f,j,h):od(E,f,j))):S?Jw(C,f,j,h):od(C,f,j)}}if(!u)return p.length?Promise.all(p).then(()=>f):f;const y=[],w=d.keySet,v=u._zod,x=v.def.type;for(const b of Object.keys(h)){if(w.has(b))continue;if(x==="never"){y.push(b);continue}const j=v.run({value:h[b],issues:[]},m);j instanceof Promise?p.push(j.then(N=>od(N,f,b))):od(j,f,b)}return y.length&&f.issues.push({code:"unrecognized_keys",keys:y,input:h,inst:e}),p.length?Promise.all(p).then(()=>f):f}});function ej(e,t,n,s){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(i=>Ni(i,s,ji())))}),t}const UX=G("$ZodUnion",(e,t)=>{gt.init(e,t),Je(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Je(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Je(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Je(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${n.map(s=>hv(s.source)).join("|")})$`)}}),e._zod.parse=(n,s)=>{let r=!1;const i=[];for(const l of t.options){const o=l._zod.run({value:n.value,issues:[]},s);if(o instanceof Promise)i.push(o),r=!0;else{if(o.issues.length===0)return o;i.push(o)}}return r?Promise.all(i).then(l=>ej(l,n,e,s)):ej(i,n,e,s)}}),VX=G("$ZodIntersection",(e,t)=>{gt.init(e,t),e._zod.parse=(n,s)=>{const r=n.value,i=t.left._zod.run({value:r,issues:[]},s),l=t.right._zod.run({value:r,issues:[]},s);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([c,u])=>tj(n,c,u)):tj(n,i,l)}});function Tp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ep(e)&&Ep(t)){const n=Object.keys(t),s=Object.keys(e).filter(i=>n.indexOf(i)!==-1),r={...e,...t};for(const i of s){const l=Tp(e[i],t[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};r[i]=l.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const r=e[s],i=t[s],l=Tp(r,i);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function tj(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),oc(e))return e;const s=Tp(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const qX=G("$ZodEnum",(e,t)=>{gt.init(e,t);const n=iY(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(s=>uY.has(typeof s)).map(s=>typeof s=="string"?Um(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const i=s.value;return e._zod.values.has(i)||s.issues.push({code:"invalid_value",values:n,input:i,inst:e}),s}}),ZX=G("$ZodTransform",(e,t)=>{gt.init(e,t),e._zod.parse=(n,s)=>{const r=t.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(l=>(n.value=l,n));if(r instanceof Promise)throw new Fc;return n.value=r,n}}),GX=G("$ZodOptional",(e,t)=>{gt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Je(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${hv(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,s):n.value===void 0?n:t.innerType._zod.run(n,s)}),YX=G("$ZodNullable",(e,t)=>{gt.init(e,t),Je(e._zod,"optin",()=>t.innerType._zod.optin),Je(e._zod,"optout",()=>t.innerType._zod.optout),Je(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${hv(n.source)}|null)$`):void 0}),Je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),XX=G("$ZodDefault",(e,t)=>{gt.init(e,t),e._zod.optin="optional",Je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>nj(i,t)):nj(r,t)}});function nj(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const WX=G("$ZodPrefault",(e,t)=>{gt.init(e,t),e._zod.optin="optional",Je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),QX=G("$ZodNonOptional",(e,t)=>{gt.init(e,t),Je(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>sj(i,e)):sj(r,e)}});function sj(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const KX=G("$ZodCatch",(e,t)=>{gt.init(e,t),e._zod.optin="optional",Je(e._zod,"optout",()=>t.innerType._zod.optout),Je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(l=>Ni(l,s,ji()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(i=>Ni(i,s,ji()))},input:n.value}),n.issues=[]),n)}}),JX=G("$ZodPipe",(e,t)=>{gt.init(e,t),Je(e._zod,"values",()=>t.in._zod.values),Je(e._zod,"optin",()=>t.in._zod.optin),Je(e._zod,"optout",()=>t.out._zod.optout),Je(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{const r=t.in._zod.run(n,s);return r instanceof Promise?r.then(i=>rj(i,t,s)):rj(r,t,s)}});function rj(e,t,n){return oc(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const eW=G("$ZodReadonly",(e,t)=>{gt.init(e,t),Je(e._zod,"propValues",()=>t.innerType._zod.propValues),Je(e._zod,"values",()=>t.innerType._zod.values),Je(e._zod,"optin",()=>t.innerType._zod.optin),Je(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(aj):aj(r)}});function aj(e){return e.value=Object.freeze(e.value),e}const tW=G("$ZodCustom",(e,t)=>{yn.init(e,t),gt.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,r=t.fn(s);if(r instanceof Promise)return r.then(i=>ij(i,n,s,e));ij(r,n,s,e)}});function ij(e,t,n,s){if(!e){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),t.issues.push(Hc(r))}}class nW{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const s=n[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};return delete s.id,{...s,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function sW(){return new nW}const cd=sW();function rW(e,t){return new e({type:"string",...ce(t)})}function aW(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ce(t)})}function lj(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ce(t)})}function iW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ce(t)})}function lW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ce(t)})}function oW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ce(t)})}function cW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ce(t)})}function uW(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ce(t)})}function dW(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ce(t)})}function fW(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ce(t)})}function mW(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ce(t)})}function hW(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ce(t)})}function gW(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ce(t)})}function pW(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ce(t)})}function xW(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ce(t)})}function vW(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ce(t)})}function yW(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ce(t)})}function bW(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ce(t)})}function wW(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ce(t)})}function jW(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ce(t)})}function NW(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ce(t)})}function SW(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ce(t)})}function kW(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ce(t)})}function CW(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ce(t)})}function EW(e,t){return new e({type:"string",format:"date",check:"string_format",...ce(t)})}function TW(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ce(t)})}function _W(e,t){return new e({type:"string",format:"duration",check:"string_format",...ce(t)})}function AW(e,t){return new e({type:"number",checks:[],...ce(t)})}function MW(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ce(t)})}function RW(e,t){return new e({type:"boolean",...ce(t)})}function DW(e){return new e({type:"unknown"})}function zW(e,t){return new e({type:"never",...ce(t)})}function oj(e,t){return new p_({check:"less_than",...ce(t),value:e,inclusive:!1})}function Qh(e,t){return new p_({check:"less_than",...ce(t),value:e,inclusive:!0})}function cj(e,t){return new x_({check:"greater_than",...ce(t),value:e,inclusive:!1})}function Kh(e,t){return new x_({check:"greater_than",...ce(t),value:e,inclusive:!0})}function uj(e,t){return new KY({check:"multiple_of",...ce(t),value:e})}function b_(e,t){return new eX({check:"max_length",...ce(t),maximum:e})}function Sf(e,t){return new tX({check:"min_length",...ce(t),minimum:e})}function w_(e,t){return new nX({check:"length_equals",...ce(t),length:e})}function LW(e,t){return new sX({check:"string_format",format:"regex",...ce(t),pattern:e})}function $W(e){return new rX({check:"string_format",format:"lowercase",...ce(e)})}function PW(e){return new aX({check:"string_format",format:"uppercase",...ce(e)})}function OW(e,t){return new iX({check:"string_format",format:"includes",...ce(t),includes:e})}function BW(e,t){return new lX({check:"string_format",format:"starts_with",...ce(t),prefix:e})}function IW(e,t){return new oX({check:"string_format",format:"ends_with",...ce(t),suffix:e})}function bu(e){return new cX({check:"overwrite",tx:e})}function FW(e){return bu(t=>t.normalize(e))}function HW(){return bu(e=>e.trim())}function UW(){return bu(e=>e.toLowerCase())}function VW(){return bu(e=>e.toUpperCase())}function qW(e,t,n){return new e({type:"array",element:t,...ce(n)})}function ZW(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ce(n)})}const GW=G("ZodISODateTime",(e,t)=>{NX.init(e,t),dt.init(e,t)});function YW(e){return CW(GW,e)}const XW=G("ZodISODate",(e,t)=>{SX.init(e,t),dt.init(e,t)});function WW(e){return EW(XW,e)}const QW=G("ZodISOTime",(e,t)=>{kX.init(e,t),dt.init(e,t)});function KW(e){return TW(QW,e)}const JW=G("ZodISODuration",(e,t)=>{CX.init(e,t),dt.init(e,t)});function eQ(e){return _W(JW,e)}const tQ=(e,t)=>{o_.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>bY(e,n)},flatten:{value:n=>yY(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},qm=G("ZodError",tQ,{Parent:Error}),nQ=wY(qm),sQ=jY(qm),rQ=u_(qm),aQ=d_(qm),kt=G("ZodType",(e,t)=>(gt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),e.clone=(n,s)=>Hi(e,n,s),e.brand=()=>e,e.register=(n,s)=>(n.add(e,s),e),e.parse=(n,s)=>nQ(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>rQ(e,n,s),e.parseAsync=async(n,s)=>sQ(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>aQ(e,n,s),e.spa=e.safeParseAsync,e.refine=(n,s)=>e.check(KQ(n,s)),e.superRefine=n=>e.check(JQ(n)),e.overwrite=n=>e.check(bu(n)),e.optional=()=>hj(e),e.nullable=()=>gj(e),e.nullish=()=>hj(gj(e)),e.nonoptional=n=>VQ(e,n),e.array=()=>Si(e),e.or=n=>DQ([e,n]),e.and=n=>LQ(e,n),e.transform=n=>pj(e,OQ(n)),e.default=n=>FQ(e,n),e.prefault=n=>UQ(e,n),e.catch=n=>ZQ(e,n),e.pipe=n=>pj(e,n),e.readonly=()=>XQ(e),e.describe=n=>{const s=e.clone();return cd.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){var n;return(n=cd.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return cd.get(e);const s=e.clone();return cd.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),j_=G("_ZodString",(e,t)=>{vv.init(e,t),kt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(LW(...s)),e.includes=(...s)=>e.check(OW(...s)),e.startsWith=(...s)=>e.check(BW(...s)),e.endsWith=(...s)=>e.check(IW(...s)),e.min=(...s)=>e.check(Sf(...s)),e.max=(...s)=>e.check(b_(...s)),e.length=(...s)=>e.check(w_(...s)),e.nonempty=(...s)=>e.check(Sf(1,...s)),e.lowercase=s=>e.check($W(s)),e.uppercase=s=>e.check(PW(s)),e.trim=()=>e.check(HW()),e.normalize=(...s)=>e.check(FW(...s)),e.toLowerCase=()=>e.check(UW()),e.toUpperCase=()=>e.check(VW())}),iQ=G("ZodString",(e,t)=>{vv.init(e,t),j_.init(e,t),e.email=n=>e.check(aW(lQ,n)),e.url=n=>e.check(uW(oQ,n)),e.jwt=n=>e.check(kW(NQ,n)),e.emoji=n=>e.check(dW(cQ,n)),e.guid=n=>e.check(lj(dj,n)),e.uuid=n=>e.check(iW(ud,n)),e.uuidv4=n=>e.check(lW(ud,n)),e.uuidv6=n=>e.check(oW(ud,n)),e.uuidv7=n=>e.check(cW(ud,n)),e.nanoid=n=>e.check(fW(uQ,n)),e.guid=n=>e.check(lj(dj,n)),e.cuid=n=>e.check(mW(dQ,n)),e.cuid2=n=>e.check(hW(fQ,n)),e.ulid=n=>e.check(gW(mQ,n)),e.base64=n=>e.check(jW(bQ,n)),e.base64url=n=>e.check(NW(wQ,n)),e.xid=n=>e.check(pW(hQ,n)),e.ksuid=n=>e.check(xW(gQ,n)),e.ipv4=n=>e.check(vW(pQ,n)),e.ipv6=n=>e.check(yW(xQ,n)),e.cidrv4=n=>e.check(bW(vQ,n)),e.cidrv6=n=>e.check(wW(yQ,n)),e.e164=n=>e.check(SW(jQ,n)),e.datetime=n=>e.check(YW(n)),e.date=n=>e.check(WW(n)),e.time=n=>e.check(KW(n)),e.duration=n=>e.check(eQ(n))});function nn(e){return rW(iQ,e)}const dt=G("ZodStringFormat",(e,t)=>{at.init(e,t),j_.init(e,t)}),lQ=G("ZodEmail",(e,t)=>{hX.init(e,t),dt.init(e,t)}),dj=G("ZodGUID",(e,t)=>{fX.init(e,t),dt.init(e,t)}),ud=G("ZodUUID",(e,t)=>{mX.init(e,t),dt.init(e,t)}),oQ=G("ZodURL",(e,t)=>{gX.init(e,t),dt.init(e,t)}),cQ=G("ZodEmoji",(e,t)=>{pX.init(e,t),dt.init(e,t)}),uQ=G("ZodNanoID",(e,t)=>{xX.init(e,t),dt.init(e,t)}),dQ=G("ZodCUID",(e,t)=>{vX.init(e,t),dt.init(e,t)}),fQ=G("ZodCUID2",(e,t)=>{yX.init(e,t),dt.init(e,t)}),mQ=G("ZodULID",(e,t)=>{bX.init(e,t),dt.init(e,t)}),hQ=G("ZodXID",(e,t)=>{wX.init(e,t),dt.init(e,t)}),gQ=G("ZodKSUID",(e,t)=>{jX.init(e,t),dt.init(e,t)}),pQ=G("ZodIPv4",(e,t)=>{EX.init(e,t),dt.init(e,t)}),xQ=G("ZodIPv6",(e,t)=>{TX.init(e,t),dt.init(e,t)}),vQ=G("ZodCIDRv4",(e,t)=>{_X.init(e,t),dt.init(e,t)}),yQ=G("ZodCIDRv6",(e,t)=>{AX.init(e,t),dt.init(e,t)}),bQ=G("ZodBase64",(e,t)=>{MX.init(e,t),dt.init(e,t)}),wQ=G("ZodBase64URL",(e,t)=>{DX.init(e,t),dt.init(e,t)}),jQ=G("ZodE164",(e,t)=>{zX.init(e,t),dt.init(e,t)}),NQ=G("ZodJWT",(e,t)=>{$X.init(e,t),dt.init(e,t)}),N_=G("ZodNumber",(e,t)=>{y_.init(e,t),kt.init(e,t),e.gt=(s,r)=>e.check(cj(s,r)),e.gte=(s,r)=>e.check(Kh(s,r)),e.min=(s,r)=>e.check(Kh(s,r)),e.lt=(s,r)=>e.check(oj(s,r)),e.lte=(s,r)=>e.check(Qh(s,r)),e.max=(s,r)=>e.check(Qh(s,r)),e.int=s=>e.check(fj(s)),e.safe=s=>e.check(fj(s)),e.positive=s=>e.check(cj(0,s)),e.nonnegative=s=>e.check(Kh(0,s)),e.negative=s=>e.check(oj(0,s)),e.nonpositive=s=>e.check(Qh(0,s)),e.multipleOf=(s,r)=>e.check(uj(s,r)),e.step=(s,r)=>e.check(uj(s,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function ri(e){return AW(N_,e)}const SQ=G("ZodNumberFormat",(e,t)=>{PX.init(e,t),N_.init(e,t)});function fj(e){return MW(SQ,e)}const kQ=G("ZodBoolean",(e,t)=>{OX.init(e,t),kt.init(e,t)});function CQ(e){return RW(kQ,e)}const EQ=G("ZodUnknown",(e,t)=>{BX.init(e,t),kt.init(e,t)});function mj(){return DW(EQ)}const TQ=G("ZodNever",(e,t)=>{IX.init(e,t),kt.init(e,t)});function _Q(e){return zW(TQ,e)}const AQ=G("ZodArray",(e,t)=>{FX.init(e,t),kt.init(e,t),e.element=t.element,e.min=(n,s)=>e.check(Sf(n,s)),e.nonempty=n=>e.check(Sf(1,n)),e.max=(n,s)=>e.check(b_(n,s)),e.length=(n,s)=>e.check(w_(n,s)),e.unwrap=()=>e.element});function Si(e,t){return qW(AQ,e,t)}const MQ=G("ZodObject",(e,t)=>{HX.init(e,t),kt.init(e,t),Je(e,"shape",()=>t.shape),e.keyof=()=>$Q(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:mj()}),e.loose=()=>e.clone({...e._zod.def,catchall:mj()}),e.strict=()=>e.clone({...e._zod.def,catchall:_Q()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>gY(e,n),e.merge=n=>pY(e,n),e.pick=n=>mY(e,n),e.omit=n=>hY(e,n),e.partial=(...n)=>xY(S_,e,n[0]),e.required=(...n)=>vY(k_,e,n[0])});function Or(e,t){const n={type:"object",get shape(){return gv(this,"shape",{...e}),this.shape},...ce(t)};return new MQ(n)}const RQ=G("ZodUnion",(e,t)=>{UX.init(e,t),kt.init(e,t),e.options=t.options});function DQ(e,t){return new RQ({type:"union",options:e,...ce(t)})}const zQ=G("ZodIntersection",(e,t)=>{VX.init(e,t),kt.init(e,t)});function LQ(e,t){return new zQ({type:"intersection",left:e,right:t})}const _p=G("ZodEnum",(e,t)=>{qX.init(e,t),kt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,r)=>{const i={};for(const l of s)if(n.has(l))i[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new _p({...t,checks:[],...ce(r),entries:i})},e.exclude=(s,r)=>{const i={...t.entries};for(const l of s)if(n.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new _p({...t,checks:[],...ce(r),entries:i})}});function $Q(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new _p({type:"enum",entries:n,...ce(t)})}const PQ=G("ZodTransform",(e,t)=>{ZX.init(e,t),kt.init(e,t),e._zod.parse=(n,s)=>{n.addIssue=i=>{if(typeof i=="string")n.issues.push(Hc(i,n.value,t));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),l.continue??(l.continue=!0),n.issues.push(Hc(l))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(i=>(n.value=i,n)):(n.value=r,n)}});function OQ(e){return new PQ({type:"transform",transform:e})}const S_=G("ZodOptional",(e,t)=>{GX.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hj(e){return new S_({type:"optional",innerType:e})}const BQ=G("ZodNullable",(e,t)=>{YX.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function gj(e){return new BQ({type:"nullable",innerType:e})}const IQ=G("ZodDefault",(e,t)=>{XX.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function FQ(e,t){return new IQ({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const HQ=G("ZodPrefault",(e,t)=>{WX.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function UQ(e,t){return new HQ({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const k_=G("ZodNonOptional",(e,t)=>{QX.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function VQ(e,t){return new k_({type:"nonoptional",innerType:e,...ce(t)})}const qQ=G("ZodCatch",(e,t)=>{KX.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function ZQ(e,t){return new qQ({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const GQ=G("ZodPipe",(e,t)=>{JX.init(e,t),kt.init(e,t),e.in=t.in,e.out=t.out});function pj(e,t){return new GQ({type:"pipe",in:e,out:t})}const YQ=G("ZodReadonly",(e,t)=>{eW.init(e,t),kt.init(e,t)});function XQ(e){return new YQ({type:"readonly",innerType:e})}const WQ=G("ZodCustom",(e,t)=>{tW.init(e,t),kt.init(e,t)});function QQ(e){const t=new yn({check:"custom"});return t._zod.check=e,t}function KQ(e,t={}){return ZW(WQ,e,t)}function JQ(e){const t=QQ(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(Hc(s,n.value,t._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Hc(r))}},e(n.value,n)));return t}const eK=Or({type:nn(),id:nn()}),tK=Or({skill:nn(),level:ri()}),nK=Or({skillLevel:tK.optional(),items:Si(eK).optional()}),sK=Or({base:nn(),subtext:nn()}),rK=Or({rank:ri(),edid:nn(),name:nn(),description:sK,prerequisites:nK}),aK=Or({x:ri(),y:ri(),horizontal:ri(),vertical:ri()}),iK=Or({parents:Si(nn()),children:Si(nn())}),lK=Or({edid:nn(),name:nn(),ranks:Si(rK),totalRanks:ri(),connections:iK,isRoot:CQ(),position:aK}),oK=Or({treeId:nn(),treeName:nn(),treeDescription:nn(),category:nn(),perks:Si(lK)});Si(oK);function cK(e){return e.length===0?{minX:0,maxX:0,minY:0,maxY:0}:e.reduce((t,n)=>({minX:Math.min(t.minX,n.x),maxX:Math.max(t.maxX,n.x),minY:Math.min(t.minY,n.y),maxY:Math.max(t.maxY,n.y)}),{minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0})}const uK=(e,t)=>({perkNode:n=>a.jsx(yT,{...n,onTogglePerk:e,onRankChange:t})}),Jh={cellWidth:240,cellHeight:140,nodeWidth:140,nodeHeight:80,gridGap:40,padding:80};function dK(e,t,n){const{x:s,y:r,horizontal:i,vertical:l}=e,o=t.maxX-s+t.minX,c=-i,u=t.maxY-r+t.minY,d=-l,f=(o-t.minX)*n.cellWidth+(o-t.minX)*n.gridGap+n.padding+n.cellWidth/2,m=(u-t.minY)*n.cellHeight+(u-t.minY)*n.gridGap+n.padding+n.cellHeight/2,h=c*(n.cellWidth/2-n.nodeWidth/2),p=d*(n.cellHeight/2-n.nodeHeight/2),y=f+h,w=m+p;return{x:y,y:w,gridX:o,gridY:u,horizontal:c,vertical:d}}function fK(e,t,n,s){const r=e-s.padding,i=t-s.padding,l=Math.floor(r/(s.cellWidth+s.gridGap)),o=Math.floor(i/(s.cellHeight+s.gridGap)),c=l*s.cellWidth+l*s.gridGap+s.padding+s.cellWidth/2,u=o*s.cellHeight+o*s.gridGap+s.padding+s.cellHeight/2,d=e-c,f=t-u,m=s.cellWidth/2-s.nodeWidth/2,h=s.cellHeight/2-s.nodeHeight/2,p=Math.max(-1,Math.min(1,d/m)),y=Math.max(-1,Math.min(1,f/h)),w=n.maxX-l+n.minX,v=n.maxY-o+n.minY,x=-p,b=-y;return{x:e,y:t,gridX:w,gridY:v,horizontal:x,vertical:b}}function mK(e,t,n){const s=Math.ceil(Math.sqrt(t)),r=Math.floor(e/s),i=e%s,l=i*(n.cellWidth+n.gridGap)+n.padding+n.cellWidth/2,o=r*(n.cellHeight+n.gridGap)+n.padding+n.cellHeight/2;return{x:l,y:o,gridX:i,gridY:r,horizontal:0,vertical:0}}function hK({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:s,className:r}){const[i,l]=L.useState(null),[o,c]=g.useState(new Map),[u,d]=g.useState(!1),[f,m]=g.useState(!1),[h,p]=g.useState(null),y=g.useMemo(()=>{if(!e)return null;const M=xT(e);return M.success?M.data:(console.error("Invalid perk tree data:",M.error),null)},[e]);L.useEffect(()=>{if(!y){c(new Map);return}d(!0),vT(y.treeId).then(M=>{if(M){const $=vw(y.treeId,M);c($)}else c(new Map)}).catch(M=>{c(new Map)}).finally(()=>{d(!1)})},[y==null?void 0:y.treeId]);const w=g.useMemo(()=>uK(t,n),[t,n]),v=g.useMemo(()=>{if(!y||u)return new Map;const M=new Map,$=y.perks.map(B=>B.position).filter(B=>B!==void 0);let A={minX:0,maxX:0,minY:0,maxY:0};$.length>0&&(A=cK($)),p(A);let R=0;return y.perks.forEach(B=>{const H=o.get(B.edid);if(H){M.set(B.edid,H);return}if(B.position){const Z=dK(B.position,A,Jh);M.set(B.edid,Z);return}const F=mK(R,y.perks.length,Jh);M.set(B.edid,F),R++}),M},[y,o,u]),x=g.useMemo(()=>{if(!y)return{saved:0,avif:0,default:0,total:0};let M=0,$=0,A=0;return y.perks.find(R=>R.edid==="LoreRimTrapper_Rank1"),y.perks.find(R=>R.edid==="LoreRimTrapper_Rank2"),y.perks.find(R=>R.edid==="LoreRimTrapper_Rank3"),y.perks.forEach(R=>{o.get(R.edid)?M++:R.position?$++:A++}),{saved:M,avif:$,default:A,total:y.perks.length}},[y,o]),b=g.useMemo(()=>!y||u?[]:y.perks.map($=>{var Z,X,J,le;const A=$.edid,R=v.get(A)||{x:0,y:0},B=((X=(Z=$.connections)==null?void 0:Z.children)==null?void 0:X.length)>0||!1,H=((le=(J=$.connections)==null?void 0:J.parents)==null?void 0:le.length)===0||!1,F=!o.get(A)&&!$.position;return{id:A,type:"perkNode",position:{x:R.x,y:R.y},draggable:f||F,data:{...$,selected:!1,hasChildren:B,isRoot:H,hasNoPosition:F}}}),[y,v,f,u,o]),j=g.useMemo(()=>{if(!y)return[];const M=[];return y.perks.forEach($=>{var R;const A=$.edid;(R=$.connections)!=null&&R.children&&$.connections.children.forEach(B=>{if(B===A)return;y.perks.some(F=>F.edid===B)&&M.push({id:`${A}-${B}`,source:A,target:B,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),M},[y]),[N,C,S]=dT(b),[E,k,T]=fT(j);L.useEffect(()=>{C(b)},[b,C]),L.useEffect(()=>{y&&C(M=>M.map($=>{const A=s.find(B=>B.edid===$.id),R=A!==void 0;return{...$,draggable:f,data:{...$.data,selected:R,currentRank:(A==null?void 0:A.currentRank)||0}}}))},[s,C,y,f]),L.useEffect(()=>{k(j)},[j,k]),L.useEffect(()=>{y&&N.length>0&&i&&setTimeout(()=>{i.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[y==null?void 0:y.treeId,i]);const D=g.useCallback(M=>k($=>W0(M,$)),[k]),O=g.useCallback((M,$)=>{if(!f||!h)return;const A=fK($.position.x,$.position.y,h,Jh),R=new Map(o);R.set($.id,A),c(R)},[f,o,h]),z=g.useCallback(()=>{if(!y)return;const M=Oq(y,v);Bq(M)},[y,v]),_=g.useCallback(M=>{var R;const $=(R=M.target.files)==null?void 0:R[0];if(!$||!y)return;const A=new FileReader;A.onload=B=>{var H;try{const F=JSON.parse((H=B.target)==null?void 0:H.result);if(F.treeId===y.treeId){const Z=vw(y.treeId,F);c(Z)}else alert("Position file does not match current tree!")}catch(F){alert("Error loading position file!"),console.error("Error loading positions:",F)}},A.readAsText($)},[y]),P=g.useCallback(()=>{m(!f)},[f]);return y?a.jsxs("div",{className:`w-full h-full bg-background rounded-lg border overflow-auto ${r||""}`,children:[a.jsx("div",{className:"p-4 border-b bg-muted/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Experimental AVIF Grid Canvas (Mirrored + Enhanced Spacing)"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Bottom-up tree with left-right mirroring using enhanced grid spacing",o.size>0&&!u&&a.jsx("span",{className:"text-green-600 ml-2",children:" Using saved positions"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[u&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 text-xs text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"Loading positions..."]}),!u&&x.total>0&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-1 text-xs bg-muted/30 rounded border",children:[a.jsxs("span",{className:"text-green-600",children:["Saved: ",x.saved]}),a.jsxs("span",{className:"text-blue-600",children:["AVIF: ",x.avif]}),a.jsxs("span",{className:"text-red-600",children:["Default: ",x.default]}),a.jsxs("span",{className:"text-muted-foreground",children:["Total: ",x.total]})]}),a.jsx("button",{onClick:P,className:`px-3 py-1 text-xs rounded border ${f?"bg-blue-500 text-white border-blue-500":"bg-background text-foreground border-border hover:bg-muted"}`,children:f?"Exit Edit":"Edit Mode"}),a.jsx("button",{onClick:z,className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted",children:"Save Positions"}),a.jsxs("label",{className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted cursor-pointer",children:["Load Positions",a.jsx("input",{type:"file",accept:".json",onChange:_,className:"hidden"})]})]})]})}),a.jsx("div",{className:"w-full h-full min-h-[400px]",style:{zIndex:qt.CONTENT},children:a.jsxs(nv,{nodes:N,edges:E,onNodesChange:S,onEdgesChange:T,onConnect:D,onInit:l,onNodeDragStop:O,nodeTypes:w,nodesDraggable:f,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},style:{backgroundColor:"hsl(var(--background))"},children:[a.jsx(pT,{color:"hsl(var(--muted-foreground))",gap:20,size:1,style:{backgroundColor:"hsl(var(--background))"}}),a.jsx(hT,{})]})})]}):a.jsx("div",{className:`flex items-center justify-center p-8 text-muted-foreground ${r||""}`,children:a.jsx("p",{children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function gK(){var m;const{skills:e,selectedSkill:t,perkTree:n,selectedPerks:s,availablePerks:r,onSkillSelect:i,onPerkSelect:l,onPerkRankChange:o,loading:c,error:u}=$T(),{build:d}=pt(),f=g.useMemo(()=>!n||!s.length?[]:s.map(h=>{var w,v;const p=n.perks.find(x=>x.edid===h);if(!p)return null;const y=((v=(w=d.perks)==null?void 0:w.ranks)==null?void 0:v[h])||0;return{...p,selectedRank:y}}).filter(Boolean),[n,s,(m=d.perks)==null?void 0:m.ranks]);return c?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading skills..."})}):u?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("p",{className:"text-destructive",children:["Error loading skills: ",u]})}):a.jsx("div",{className:"container mx-auto p-6 space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Skills - Experimental AVIF Grid"}),a.jsx("p",{className:"text-muted-foreground",children:"Experimental perk tree visualization using AVIF coordinate system"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select Skill:"}),a.jsxs(Oi,{children:[a.jsx(Bi,{asChild:!0,children:a.jsxs(V,{variant:"outline",className:"w-[300px] justify-between",children:[t?t.name:"Choose a skill to view its perk tree",a.jsx(Pt,{className:"h-4 w-4"})]})}),a.jsx(La,{className:"w-[300px] max-h-[400px] overflow-y-auto",children:e.map(h=>a.jsx(sn,{onClick:()=>i(h.id),className:"cursor-pointer",children:h.name},h.id))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-3",children:t?`${t.name} Perk Tree`:"Perk Tree"}),a.jsx("div",{className:"bg-background border rounded-lg h-[600px]",children:a.jsx(hK,{tree:n||void 0,onTogglePerk:l,onRankChange:o,selectedPerks:f,className:"h-full"})})]}),t&&n&&a.jsxs("div",{className:"bg-muted/20 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Debug Information"}),a.jsxs("div",{className:"text-xs space-y-1 text-muted-foreground",children:[a.jsxs("p",{children:["Selected Skill: ",t.name]}),a.jsxs("p",{children:["Perk Tree: ",n.treeName]}),a.jsxs("p",{children:["Total Perks: ",n.perks.length]}),a.jsxs("p",{children:["Selected Perks: ",s.length]}),a.jsxs("p",{children:["Available Perks: ",r.length]}),a.jsxs("p",{children:["Perks with Position Data:"," ",n.perks.filter(h=>h.position).length]}),n.perks.length>0&&n.perks[0].position&&a.jsxs("p",{children:["Sample Position: X=",n.perks[0].position.x,", Y=",n.perks[0].position.y,", H=",n.perks[0].position.horizontal,", V=",n.perks[0].position.vertical]})]})]})]})]})})}function pK(e={}){const{autoLoad:t=!0,refreshOnMount:n=!1}=e,{data:s,loading:r,error:i,load:l}=ol(),o=g.useCallback(async()=>{t&&s.length===0&&await l()},[t,s.length,l]),c=g.useCallback(async()=>{await l()},[l]),u=g.useCallback(()=>{},[]);g.useEffect(()=>{t&&s.length===0&&o()},[t,s.length,o]),g.useEffect(()=>{n&&c()},[n,c]);const d=s.length,f=[...new Set(s.map(x=>x.school).filter(Boolean))],m=[...new Set(s.map(x=>x.level).filter(Boolean))],h=new Date().toISOString(),p=s.length>0?{spells:s,totalCount:d,schools:f,levels:m,lastUpdated:h}:null,y=g.useCallback(x=>ol.getState().getByEditorId(x),[]),w=g.useCallback(x=>ol.getState().getBySchool(x),[]),v=g.useCallback(x=>ol.getState().getByLevel(x),[]);return{spells:s,spellData:p,loading:r,error:i,totalCount:d,schools:f,levels:m,lastUpdated:h,loadSpells:o,refresh:c,clearError:u,getSpellByEditorId:y,getSpellsBySchool:w,getSpellsByLevel:v}}function xK(){const[e,t]=g.useState(null),[n,s]=g.useState("grid");return{selectedSpell:e,viewMode:n,setSelectedSpell:t,setViewMode:s}}const vK="bg-white dark:bg-white";function yK({school:e,size:t="md",className:n}){const s=Hw[e]||Hw.Mysticism;return a.jsx("div",{className:I("flex items-center justify-center rounded-full overflow-hidden",vK,IG[t],n),title:`${e} magic`,children:a.jsx(s,{className:"w-full h-full object-contain text-black dark:text-black"})})}const bK={default:"bg-primary text-primary-foreground",outline:"border border-border bg-background text-foreground",ghost:"bg-muted text-muted-foreground"};function C_({school:e,size:t="md",variant:n="default",className:s}){const r=BG[e]||"bg-gray-500 text-white";return a.jsx("span",{className:I("inline-flex items-center rounded-full font-medium",FG[t],n==="default"?r:bK[n],s),children:e})}const wK={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},jK={default:"bg-primary text-primary-foreground",outline:"border border-border bg-background text-foreground",ghost:"bg-muted text-muted-foreground"},NK={Novice:"bg-gray-500 text-white",Apprentice:"bg-green-500 text-white",Adept:"bg-blue-500 text-white",Expert:"bg-purple-500 text-white",Master:"bg-yellow-500 text-black"},SK={Novice:1,Apprentice:2,Adept:3,Expert:4,Master:5};function E_({level:e,size:t="md",variant:n="default",className:s}){const r=NK[e]||"bg-gray-500 text-white";return a.jsx("span",{className:I("inline-flex items-center rounded-full font-medium",wK[t],n==="default"?r:jK[n],s),title:`Level ${SK[e]||0}`,children:e})}const kK={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},CK={default:"bg-primary text-primary-foreground",outline:"border border-border bg-background text-foreground",ghost:"bg-muted text-muted-foreground"},EK=e=>e===0?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":e<=25?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":e<=50?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400":e<=100?"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400":"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400";function T_({cost:e,size:t="md",variant:n="default",showIcon:s=!0,className:r}){const i=EK(e),l=t==="sm"?"h-3 w-3":t==="lg"?"h-4 w-4":"h-3.5 w-3.5";return a.jsxs("span",{className:I("inline-flex items-center gap-1 rounded-full font-medium",kK[t],n==="default"?i:CK[n],r),title:`${e} Magicka`,children:[s&&a.jsx(gn,{className:l}),e===0?"Free":e]})}function TK({stats:e,title:t="Spell Stats",compact:n=!1,className:s}){return!(e.duration!==void 0||e.area!==void 0||e.magnitude!==void 0)&&e.magickaCost===0?null:a.jsxs("div",{className:I("space-y-2",s),children:[t&&a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t}),a.jsxs("div",{className:I("grid gap-2",n?"grid-cols-2":"grid-cols-1"),children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(gn,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium",children:e.magickaCost===0?"Free":`${e.magickaCost} MP`})]}),e.duration!==void 0&&e.duration>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(da,{className:"h-4 w-4 text-blue-500"}),a.jsxs("span",{className:"font-medium",children:[e.duration,"s"]})]}),e.area!==void 0&&e.area>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(us,{className:"h-4 w-4 text-green-500"}),a.jsxs("span",{className:"font-medium",children:[e.area,"ft"]})]}),e.magnitude!==void 0&&e.magnitude>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"h-4 w-4 text-purple-500 font-bold",children:""}),a.jsx("span",{className:"font-medium",children:e.magnitude})]})]})]})}function _K({tags:e,title:t="Tags",compact:n=!1,maxDisplay:s=5,className:r}){if(!e||e.length===0)return null;const i=e.slice(0,s),l=e.length>s;return a.jsxs("div",{className:I("space-y-2",r),children:[t&&a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(n1,{className:"h-4 w-4"}),t,e.length>1&&a.jsxs("span",{className:"text-xs text-muted-foreground/70",children:["(",e.length,")"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.map((o,c)=>a.jsx("span",{className:I("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium","bg-muted text-muted-foreground border border-border/50",n?"text-xs":"text-sm"),children:o},c)),l&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-muted/50 text-muted-foreground/70",children:["+",e.length-s]})]})]})}function __({spell:e,onClick:t,className:n,compact:s=!1}){const r=(i,l)=>{var o,c,u;return i.replace(/<mag>/gi,((o=l.magnitude)==null?void 0:o.toString())||"0").replace(/<dur>/gi,((c=l.duration)==null?void 0:c.toString())||"0").replace(/<area>/gi,((u=l.area)==null?void 0:u.toString())||"0")};return a.jsxs(de,{className:I("p-6 cursor-pointer hover:shadow-md transition-shadow",n),onClick:t,children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(yK,{school:e.school,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(Ne,{className:"text-foreground font-semibold",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(C_,{school:e.school,size:"sm"}),a.jsx(E_,{level:e.level,size:"sm"}),a.jsx(T_,{cost:e.magickaCost,size:"sm"})]})]})]})}),e.effects&&e.effects.filter(i=>i.description).length>0&&a.jsxs("div",{children:[a.jsx(Rs,{className:"text-muted-foreground mb-2",children:"Effects"}),a.jsx("div",{className:"space-y-2",children:e.effects.filter(i=>i.description).map((i,l)=>a.jsxs("div",{className:"p-2 rounded bg-muted border text-sm",children:[a.jsx(Re,{text:r(i.description,i),options:Kx(),className:"text-muted-foreground"}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:[i.magnitude>0&&a.jsxs("span",{children:["Magnitude: ",i.magnitude]}),i.duration>0&&a.jsxs("span",{children:["Duration: ",i.duration,"s"]}),i.area>0&&a.jsxs("span",{children:["Area: ",i.area,"ft"]})]})]},l))})]})]})}const AK={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};function MK({spells:e,variant:t="default",showEffects:n=!0,showTags:s=!0,columns:r=3,className:i="",onSpellClick:l}){return e.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):a.jsx("div",{className:`grid gap-4 ${AK[r]} ${i}`,children:e.map((o,c)=>a.jsx(__,{spell:o,onClick:()=>l==null?void 0:l(o),compact:t==="compact"},`${o.name}-${o.editorId}-${c}`))})}function RK({spells:e,variant:t="default",showEffects:n=!0,showTags:s=!0,className:r="",onSpellClick:i}){return e.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):a.jsx("div",{className:`space-y-4 ${r}`,children:e.map((l,o)=>a.jsx(__,{spell:l,onClick:()=>i==null?void 0:i(l),compact:t==="compact"},`${l.name}-${l.editorId}-${o}`))})}const DK={Destruction:yo,Restoration:qs,Conjuration:Dx,Illusion:vo,Alteration:nt,"":cs};function zK({spell:e,isOpen:t,onOpenChange:n}){var r;if(!e)return null;const s=DK[e.school]||cs;return a.jsx(Ii,{open:t,onOpenChange:n,side:"right",title:e.name,description:`${e.school}  ${e.level}  ${e.magickaCost} MP`,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(s,{className:"w-16 h-16 text-muted-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(aa,{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(C_,{school:e.school,size:"sm"}),a.jsx(E_,{level:e.level,size:"sm"}),a.jsx(T_,{cost:e.magickaCost,size:"sm"})]}),a.jsx(Re,{text:e.description})]})]}),a.jsx(Ka,{}),a.jsx(TK,{stats:{magickaCost:e.magickaCost||0,duration:e.maxDuration&&e.maxDuration>0?e.maxDuration:void 0,area:e.maxArea&&e.maxArea>0?e.maxArea:void 0,magnitude:e.totalMagnitude&&e.totalMagnitude>0?e.totalMagnitude:void 0}}),a.jsx(Ka,{}),e.hasEffects&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Effects"}),a.jsx("div",{className:"space-y-2",children:e.effects.filter((i,l,o)=>{const c=i.name.replace(/\s*\(Single\)|\s*\(Dual\)/i,""),u=o.findIndex(d=>d.name.replace(/\s*\(Single\)|\s*\(Dual\)/i,"")===c&&d.magnitude===i.magnitude&&d.duration===i.duration);return l===u}).map((i,l)=>a.jsxs("div",{className:"p-3 rounded bg-muted border",children:[a.jsx("div",{className:"font-medium text-foreground mb-2",children:i.name}),i.description&&a.jsx(Re,{text:i.description,className:"text-sm text-muted-foreground mb-2"}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[i.magnitude>0&&a.jsxs("span",{children:["Magnitude: ",i.magnitude]}),i.duration>0&&a.jsxs("span",{children:["Duration: ",i.duration,"s"]}),i.area>0&&a.jsxs("span",{children:["Area: ",i.area,"ft"]})]})]},l))})]}),e.tags&&e.tags.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(Ka,{}),a.jsx(_K,{tags:e.tags,title:"Tags",maxDisplay:20})]}),(e.tome||((r=e.vendors)==null?void 0:r.length)||e.halfCostPerk)&&a.jsxs(a.Fragment,{children:[a.jsx(Ka,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ne,{className:"text-lg font-semibold",children:"Additional Information"}),e.tome&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"w-4 h-4 text-muted-foreground"}),a.jsx(Rs,{className:"text-muted-foreground",children:"Spell Tome"})]}),a.jsx(ye,{className:"text-sm",children:e.tome})]}),e.vendors&&e.vendors.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rs,{className:"text-muted-foreground",children:"Available From"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.vendors.map((i,l)=>a.jsx(q,{variant:"outline",className:"text-xs",children:i},l))})]}),e.halfCostPerk&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"w-4 h-4 text-muted-foreground"}),a.jsx(Rs,{className:"text-muted-foreground",children:"Half Cost Perk"})]}),a.jsx(ye,{className:"text-sm",children:e.halfCostPerkName})]})]})]}),a.jsx(Ka,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ne,{className:"text-lg font-semibold",children:"Game Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Editor ID:"}),a.jsx("span",{className:"break-all font-mono",children:e.editorId})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"School:"}),a.jsx("span",{children:e.school})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Level:"}),a.jsx("span",{children:e.level})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Effects:"}),a.jsx("span",{children:e.effectCount})]})]})]})]})})}function LK(){const{spells:e,loading:t,error:n}=pK(),{viewMode:s,setViewMode:r}=xK(),i=Array.isArray(e)?e:[],[l,o]=g.useState(null),[c,u]=g.useState(!1),[d,f]=g.useState("alphabetical"),m=N=>{o(N),u(!0)},h=g.useMemo(()=>{if(i.length===0)return[];const N=[...new Set(i.map(S=>S.school))],C=[...new Set(i.map(S=>S.level))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search spells by name, school, level, or effects...",options:[]},{id:"schools",name:"Magic Schools",placeholder:"Filter by school...",options:N.map(S=>({id:`school-${S}`,label:S,value:S,category:"Magic Schools",description:`${S} spells`}))},{id:"levels",name:"Spell Levels",placeholder:"Filter by level...",options:C.map(S=>({id:`level-${S}`,label:S,value:S,category:"Spell Levels",description:`${S} spells`}))}]},[i]),[p,y]=g.useState([]),w=N=>{let C;typeof N=="string"?C={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:C={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},p.some(S=>S.value===C.value&&S.category===C.category)||y(S=>[...S,C])},v=N=>{y(C=>C.filter(S=>S.id!==N))},x=()=>{y([])},b=i.filter(N=>p.length===0?!0:p.every(C=>{switch(C.category){case"Magic Schools":return N.school===C.value;case"Spell Levels":return N.level===C.value;case"Fuzzy Search":const S=C.value.toLowerCase();return N.name.toLowerCase().includes(S)||N.school.toLowerCase().includes(S)||N.level.toLowerCase().includes(S)||N.effects.some(E=>E.description.toLowerCase().includes(S));default:return!0}})),j=g.useMemo(()=>[...b].sort((N,C)=>{switch(d){case"alphabetical":return N.name.localeCompare(C.name);case"school":const S=N.school.localeCompare(C.school);return S!==0?S:N.name.localeCompare(C.name);case"level":const E=Uw[N.level]||0,k=Uw[C.level]||0;return E!==k?E-k:N.name.localeCompare(C.name);default:return 0}}),[b,d]);return t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading spells..."})]})}):n?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("p",{className:"text-destructive mb-4",children:["Error loading spells: ",n]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:["Debug: ",i.length," spells, ",h.length," search categories",h.length>0&&a.jsxs("div",{className:"mt-1",children:["Categories: ",h.map(N=>`${N.name}(${N.options.length})`).join(", ")]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:h.length>0?a.jsx($a,{categories:h,onSelect:w,onCustomSearch:w}):a.jsxs("div",{className:"p-4 border border-dashed border-muted-foreground/20 rounded-lg text-center text-muted-foreground",children:["No search categories available. Spells loaded: ",i.length]})}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:d,onChange:N=>f(N.target.value),className:"appearance-none bg-background border border-border rounded-lg px-3 py-1.5 pr-8 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent cursor-pointer",children:[a.jsx("option",{value:"alphabetical",children:"Sort: A-Z"}),a.jsx("option",{value:"school",children:"Sort: School"}),a.jsx("option",{value:"level",children:"Sort: Level"})]}),a.jsx(Pt,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]}),a.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[a.jsx("button",{onClick:()=>r("grid"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${s==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"Grid view",children:"Grid"}),a.jsx("button",{onClick:()=>r("list"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${s==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"List view",children:"List"})]})]}),p.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:x,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx("span",{className:"text-lg",children:""}),"Clear All"]}),p.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>v(N.id),title:"Click to remove",children:[N.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[j.length," of ",i.length," spells"]}),a.jsx("div",{children:j.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No spells found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}):a.jsxs(a.Fragment,{children:[s==="grid"&&a.jsx(MK,{spells:j,variant:"default",columns:3,onSpellClick:m}),s==="list"&&a.jsx(RK,{spells:j,variant:"default",onSpellClick:m})]})}),a.jsx(zK,{spell:l,isOpen:c,onOpenChange:u})]})}function $K(){return a.jsx(Qt,{title:"Spell Reference",description:"Browse and search all available spells. Find the perfect magic for your character build.",children:a.jsx(LK,{})})}const PK=e=>{switch(e){case"alphabetical":return"A-Z";case"category":return"Category";case"effect-count":return"Effect Count";default:return"A-Z"}};function OK(){const{data:e,loading:t,error:n,reload:s}=D8(),r=e||[],[i,l]=g.useState([]),[o,c]=g.useState("alphabetical"),[u,d]=g.useState("grid");g.useMemo(()=>r.map(kb),[r]);const m=(()=>{const N=FT(r),C=HT(r);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:N.map(S=>({id:`category-${S}`,label:S,value:S,category:"Categories",description:`Traits in ${S} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:C.map(S=>({id:`tag-${S}`,label:S,value:S,category:"Tags",description:`Traits tagged with ${S}`}))}]})(),h=N=>{let C;typeof N=="string"?C={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:C={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},i.some(S=>S.value===C.value&&S.category===C.category)||l(S=>[...S,C])},p=N=>{l(C=>C.filter(S=>S.id!==N))},y=r.filter(N=>i.length===0?!0:i.every(C=>{var S;switch(C.category){case"Fuzzy Search":return!0;case"Categories":return N.category===C.value;case"Tags":return((S=N.tags)==null?void 0:S.some(E=>E===C.value))||!1;default:return!0}})),w=i.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredTraits:v}=IT(y,w),x=v.map(kb),b=r.map(N=>N.id||N.name),j=[...x].sort((N,C)=>{var S,E;switch(o){case"alphabetical":return N.name.localeCompare(C.name);case"category":const k=_=>{switch(_){case"Combat":return 1;case"Magic":return 2;case"Stealth":return 3;case"Social":return 4;case"Survival":return 5;default:return 6}},T=k(N.category),D=k(C.category);return T!==D?T-D:N.name.localeCompare(C.name);case"effect-count":const O=((S=N.effects)==null?void 0:S.length)||0,z=((E=C.effects)==null?void 0:E.length)||0;return O!==z?z-O:N.name.localeCompare(C.name);default:return 0}});return t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:n}),a.jsx("button",{onClick:()=>s(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsxs(Qt,{title:"Traits",description:"Choose your character's traits. Traits provide unique abilities and modifiers that will shape your character's capabilities throughout their journey.",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx($a,{categories:m,onSelect:h,onCustomSearch:h})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(V,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(V,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Oi,{children:[a.jsx(Bi,{asChild:!0,children:a.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",PK(o),a.jsx(Pt,{className:"h-4 w-4"})]})}),a.jsxs(La,{align:"end",children:[a.jsx(sn,{onClick:()=>c("alphabetical"),children:"Alphabetical"}),a.jsx(sn,{onClick:()=>c("category"),children:"Category"}),a.jsx(sn,{onClick:()=>c("effect-count"),children:"Effect Count"})]})]})})]}),a.jsx("div",{className:"my-4",children:i.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>l([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(Xe,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),i.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>p(N.id),title:"Click to remove",children:[N.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})}),u==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:j.map(N=>a.jsx(Nw,{item:N,isExpanded:!0,className:"w-full",allTraitIds:b},N.id))}):a.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:j.map(N=>a.jsx(Nw,{item:N,isExpanded:!0,className:"w-full",allTraitIds:b},N.id))}),j.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function BK(){const{build:e,updateBuild:t}=pt(),[n,s]=g.useState(e.traitLimits.regular),[r,i]=g.useState(e.traitLimits.bonus),l=g.useCallback(c=>{s(c),t({traitLimits:{...e.traitLimits,regular:c}})},[e.traitLimits,t]),o=g.useCallback(c=>{i(c),t({traitLimits:{...e.traitLimits,bonus:c}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:r,handleRegularLimitChange:l,handleBonusLimitChange:o,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}function IK(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:s}=pt(),[r,i]=g.useState(!1),l=BK(),o=ut(),c=[{id:"basic-info",component:a.jsx(yS,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),size:"full"},{id:"race",component:a.jsx(zC,{}),size:"half"},{id:"birthsign",component:a.jsx(xC,{}),size:"half"},{id:"trait",component:a.jsx(UT,{}),size:"half"},{id:"religion",component:a.jsx(IC,{}),size:"half"},{id:"attributes",component:a.jsx(SS,{}),size:"full"},{id:"skills",component:a.jsx(BT,{}),size:"full"},{id:"destiny",component:a.jsx(TC,{navigate:o}),size:"full"}];return a.jsxs(Qt,{title:"Character Builder",description:"Create and customize your character build. Choose your race, birthsign, traits, religion, attributes, skills, and destiny to create the perfect character for your playstyle.",children:[a.jsx(N$,{onReset:()=>i(!0),build:e}),a.jsx(D$,{open:r,onConfirm:()=>{s(),i(!1)},onCancel:()=>i(!1)}),a.jsxs(Da,{defaultValue:"build",className:"w-full",children:[a.jsxs(za,{className:"mb-4",children:[a.jsx(zt,{value:"build",children:"Build"}),a.jsx(zt,{value:"config",children:"Config"})]}),a.jsx(Ut,{value:"build",children:a.jsx(S$,{cards:c,gap:16})}),a.jsx(Ut,{value:"config",children:a.jsx(L$,{regularLimit:l.regularLimit,bonusLimit:l.bonusLimit,onRegularLimitChange:l.handleRegularLimitChange,onBonusLimitChange:l.handleBonusLimitChange,currentRegularCount:l.currentRegularCount,currentBonusCount:l.currentBonusCount})})]})]})}function FK(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Ra,{children:"Crafting"}),a.jsx(Tc,{children:"Plan your crafting recipes and material requirements"})]}),a.jsxs(de,{children:[a.jsxs(Se,{children:[a.jsx(Me,{children:"Coming Soon"}),a.jsx(Ms,{children:"Crafting system is under development"})]}),a.jsx(me,{children:a.jsx(Tc,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function HK(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Ra,{children:"Equipment"}),a.jsx(Tc,{children:"Browse and compare weapons, armor, and items"})]}),a.jsxs(de,{children:[a.jsxs(Se,{children:[a.jsx(Me,{children:"Coming Soon"}),a.jsx(Ms,{children:"Equipment database is under development"})]}),a.jsx(me,{children:a.jsx(Tc,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const UK=L.memo(({enchantment:e,onClick:t,className:n,selected:s=!1})=>a.jsx(de,{className:I("group relative cursor-pointer transition-all duration-200 hover:shadow-md hover:border-primary/50",s&&"ring-2 ring-primary ring-offset-2",n),onClick:t,role:"button",tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),t==null||t())},children:a.jsxs(me,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[a.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:e.name}),a.jsx("div",{className:"flex gap-1 flex-shrink-0",children:a.jsx(Ls,{type:"targetType",value:e.targetType,size:"sm"})})]}),e.hasEffects&&a.jsx("div",{className:"mb-3",children:a.jsx(Nf,{effects:e.effects,title:"Effects",compact:!0,showDescriptions:!0,maxDisplay:2})})]})})),VK=L.memo(({className:e,enchantments:t,loading:n,emptyMessage:s="No enchantments found",onEnchantmentClick:r})=>{const{data:i,loading:l,viewState:o}=yi(),c=n??l,u=t??i,{sortBy:d,sortOrder:f}=o,m=g.useMemo(()=>u?[...u].sort((p,y)=>{let w,v;switch(d){case"name":w=p.name.toLowerCase(),v=y.name.toLowerCase();break;case"category":w=p.category.toLowerCase(),v=y.category.toLowerCase();break;case"targetType":w=p.targetType,v=y.targetType;break;case"plugin":w=p.plugin.toLowerCase(),v=y.plugin.toLowerCase();break;case"itemCount":w=p.itemCount,v=y.itemCount;break;default:w=p.name.toLowerCase(),v=y.name.toLowerCase()}return w<v?f==="asc"?-1:1:w>v?f==="asc"?1:-1:0}):[],[u,d,f]),h=p=>{r==null||r(p)};return c?a.jsx("div",{className:I("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4",e),children:Array.from({length:8}).map((p,y)=>a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 animate-pulse",children:[a.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),a.jsx("div",{className:"h-3 bg-muted rounded mb-2 w-2/3"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},y))}):m.length===0?a.jsxs("div",{className:I("flex flex-col items-center justify-center py-12 text-center",e),children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Enchantments Found"}),a.jsx("p",{className:"text-muted-foreground",children:s})]}):a.jsx("div",{className:I("grid gap-4","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-3","2xl:grid-cols-4",e),children:m.map(p=>a.jsx(UK,{enchantment:p,onClick:()=>h(p)},p.baseEnchantmentId))})});function qK(e,t){const[n,s]=g.useState(e);return g.useEffect(()=>{const r=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(r)}},[e,t]),n}const ZK=L.memo(({className:e,showAdvanced:t=!1})=>{const{data:n,filters:s,setFilters:r}=yi(),[i,l]=g.useState(t),[o,c]=g.useState(s.searchTerm||""),u=qK(o,300),d=g.useMemo(()=>{const N=[...new Set(n.map(k=>k.category))],C=[...new Set(n.map(k=>k.plugin))],S=[...new Set(n.map(k=>k.targetType))],E=[...new Set(n.flatMap(k=>k.foundOnItems.map(T=>T.type)))];return{categories:N.sort(),plugins:C.sort(),targetTypes:S.sort(),itemTypes:E.sort()}},[n]);L.useEffect(()=>{r({searchTerm:u})},[u,r]);const f=N=>{c(N)},m=(N,C)=>{const S=s.categories||[],E=C?[...S,N]:S.filter(k=>k!==N);r({categories:E})},h=(N,C)=>{const S=s.targetTypes||[],E=C?[...S,N]:S.filter(k=>k!==N);r({targetTypes:E})},p=(N,C)=>{const S=s.plugins||[],E=C?[...S,N]:S.filter(k=>k!==N);r({plugins:E})},y=(N,C)=>{const S=s.itemTypes||[],E=C?[...S,N]:S.filter(k=>k!==N);r({itemTypes:E})},w=N=>{r({hasEffects:N})},v=N=>{r({hasWornRestrictions:N})},x=()=>{r({categories:[],targetTypes:[],itemTypes:[],plugins:[],searchTerm:"",hasEffects:null,hasWornRestrictions:null,minItemCount:null,maxItemCount:null})},b=(N,C)=>{switch(N){case"searchTerm":r({searchTerm:""});break;case"categories":r({categories:[]});break;case"targetTypes":r({targetTypes:[]});break;case"plugins":r({plugins:[]});break;case"itemTypes":r({itemTypes:[]});break;case"hasEffects":r({hasEffects:null});break;case"hasWornRestrictions":r({hasWornRestrictions:null});break}},j=s.searchTerm||s.categories.length>0||s.targetTypes.length>0||s.plugins.length>0||s.itemTypes.length>0||s.hasEffects!==null||s.hasWornRestrictions!==null;return a.jsxs("div",{className:I("space-y-4",e),children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Ps,{placeholder:"Search enchantments...",value:o,onChange:N=>f(N.target.value),className:"pl-10"})]}),j&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.searchTerm&&a.jsxs(q,{variant:"secondary",className:"gap-1",children:['Search: "',s.searchTerm,'"',a.jsx("button",{onClick:()=>b("searchTerm"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(Xe,{className:"h-3 w-3"})})]}),s.categories.map(N=>a.jsxs(q,{variant:"secondary",className:"gap-1",children:["Category: ",N,a.jsx("button",{onClick:()=>b("categories"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(Xe,{className:"h-3 w-3"})})]},N)),s.targetTypes.map(N=>a.jsxs(q,{variant:"secondary",className:"gap-1",children:[a.jsx(Ls,{type:"targetType",value:N,size:"sm"}),a.jsx("button",{onClick:()=>b("targetTypes"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(Xe,{className:"h-3 w-3"})})]},N)),s.plugins.map(N=>a.jsxs(q,{variant:"secondary",className:"gap-1",children:["Plugin: ",N,a.jsx("button",{onClick:()=>b("plugins"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(Xe,{className:"h-3 w-3"})})]},N)),s.itemTypes.map(N=>a.jsxs(q,{variant:"secondary",className:"gap-1",children:[a.jsx(Ls,{type:"itemType",value:N,size:"sm"}),a.jsx("button",{onClick:()=>b("itemTypes"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(Xe,{className:"h-3 w-3"})})]},N)),s.hasEffects!==null&&a.jsxs(q,{variant:"secondary",className:"gap-1",children:["Has Effects: ",s.hasEffects?"Yes":"No",a.jsx("button",{onClick:()=>b("hasEffects"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(Xe,{className:"h-3 w-3"})})]}),s.hasWornRestrictions!==null&&a.jsxs(q,{variant:"secondary",className:"gap-1",children:["Has Restrictions: ",s.hasWornRestrictions?"Yes":"No",a.jsx("button",{onClick:()=>b("hasWornRestrictions"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(Xe,{className:"h-3 w-3"})})]}),a.jsx(V,{variant:"ghost",size:"sm",onClick:x,className:"h-6 px-2 text-xs",children:"Clear All"})]}),a.jsxs(V,{variant:"outline",size:"sm",onClick:()=>l(!i),className:"flex items-center gap-2",children:[a.jsx(qR,{className:"h-4 w-4"}),"Filters",i?a.jsx(Sc,{className:"h-4 w-4"}):a.jsx(Pt,{className:"h-4 w-4"})]}),i&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Gt,{children:"Categories"}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:d.categories.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`category-${N}`,checked:s.categories.includes(N),onChange:C=>m(N,C.target.checked),className:"rounded border-gray-300"}),a.jsx(Gt,{htmlFor:`category-${N}`,className:"text-sm",children:N})]},N))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Gt,{children:"Target Type"}),a.jsx("div",{className:"space-y-2",children:d.targetTypes.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`target-${N}`,checked:s.targetTypes.includes(N),onChange:C=>h(N,C.target.checked),className:"rounded border-gray-300"}),a.jsx(Gt,{htmlFor:`target-${N}`,className:"text-sm",children:a.jsx(Ls,{type:"targetType",value:N,size:"sm"})})]},N))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Gt,{children:"Plugin"}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:d.plugins.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`plugin-${N}`,checked:s.plugins.includes(N),onChange:C=>p(N,C.target.checked),className:"rounded border-gray-300"}),a.jsx(Gt,{htmlFor:`plugin-${N}`,className:"text-sm",children:N})]},N))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Gt,{children:"Item Type"}),a.jsx("div",{className:"space-y-2",children:d.itemTypes.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`item-${N}`,checked:s.itemTypes.includes(N),onChange:C=>y(N,C.target.checked),className:"rounded border-gray-300"}),a.jsx(Gt,{htmlFor:`item-${N}`,className:"text-sm",children:a.jsx(Ls,{type:"itemType",value:N,size:"sm"})})]},N))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Gt,{children:"Has Effects"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"has-effects",checked:s.hasEffects===!0,onChange:N=>w(N.target.checked),className:"rounded border-gray-300"}),a.jsx(Gt,{htmlFor:"has-effects",className:"text-sm",children:"Has Effects"})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Gt,{children:"Has Worn Restrictions"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"has-restrictions",checked:s.hasWornRestrictions===!0,onChange:N=>v(N.target.checked),className:"rounded border-gray-300"}),a.jsx(Gt,{htmlFor:"has-restrictions",className:"text-sm",children:"Has Restrictions"})]})})]})]})]})}),GK=()=>{const{data:e,filters:t}=yi(),n=g.useCallback(f=>{if(!f)return()=>!0;const m=f.toLowerCase();return h=>h.searchableText.includes(m)},[]),s=g.useCallback(f=>f.length===0?()=>!0:m=>f.includes(m.category),[]),r=g.useCallback(f=>f.length===0?()=>!0:m=>f.includes(m.targetType),[]),i=g.useCallback(f=>f.length===0?()=>!0:m=>f.includes(m.plugin),[]),l=g.useCallback(f=>f.length===0?()=>!0:m=>m.foundOnItems.map(p=>p.type).some(p=>f.includes(p)),[]),o=g.useCallback(f=>f===null?()=>!0:m=>m.hasEffects===f,[]),c=g.useCallback(f=>f===null?()=>!0:m=>m.wornRestrictions.length>0===f,[]),u=g.useCallback((f,m)=>f===null&&m===null?()=>!0:h=>!(f!==null&&h.itemCount<f||m!==null&&h.itemCount>m),[]),d=g.useMemo(()=>{const f=n(t.searchTerm),m=s(t.categories),h=r(t.targetTypes),p=i(t.plugins),y=l(t.itemTypes),w=o(t.hasEffects),v=c(t.hasWornRestrictions),x=u(t.minItemCount,t.maxItemCount);return e.filter(b=>f(b)&&m(b)&&h(b)&&p(b)&&y(b)&&w(b)&&v(b)&&x(b))},[e,t,n,s,r,i,l,o,c,u]);return{filteredEnchantments:d,filters:t,totalCount:e.length,filteredCount:d.length}},YK=({className:e,showFilters:t=!0,onEnchantmentClick:n})=>{const{filteredEnchantments:s,totalCount:r,filteredCount:i}=GK();return a.jsxs("div",{className:I("space-y-6",e),children:[t&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(ZK,{}),i!==r&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",i," of ",r," enchantments"]})]}),a.jsx(VK,{enchantments:s,loading:!1,onEnchantmentClick:n})]})},XK=L.memo(({enchantment:e,open:t,onOpenChange:n,className:s})=>{const{data:r}=yi(),i=e,l=i?r.findIndex(h=>h.baseEnchantmentId===i.baseEnchantmentId):-1,o=l>0,c=l<r.length-1,u=()=>{o&&i&&(r[l-1],n(!1))},d=()=>{c&&i&&(r[l+1],n(!1))},f=()=>{n(!1)},m=async()=>{if(!i)return;const h=`${i.name}

Effects:
${i.effects.map(p=>`- ${p.name}: ${p.description}`).join(`
`)}

Found on: ${i.foundOnItems.map(p=>p.name).join(", ")}`;try{await navigator.clipboard.writeText(h)}catch(p){console.error("Failed to copy to clipboard:",p)}};return i?a.jsx(Ii,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:i.name}),a.jsx(V,{variant:"ghost",size:"sm",onClick:f,className:"h-8 w-8 p-0",children:a.jsx(Xe,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs(V,{variant:"outline",size:"sm",onClick:u,disabled:!o,className:"flex items-center gap-2",children:[a.jsx(nm,{className:"h-4 w-4"}),"Previous"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[l+1," of ",r.length]}),a.jsxs(V,{variant:"outline",size:"sm",onClick:d,disabled:!c,className:"flex items-center gap-2",children:["Next",a.jsx(xo,{className:"h-4 w-4"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ls,{type:"category",value:i.category,size:"lg"}),a.jsx(Ls,{type:"targetType",value:i.targetType,size:"lg"})]}),i.hasEffects&&a.jsx("div",{children:a.jsx(Nf,{effects:i.effects,title:"Enchantment Effects",showDescriptions:!0,compact:!1})}),a.jsx("div",{children:a.jsx(kp,{items:i.foundOnItems,title:"Found on Items",showType:!0,compact:!1})}),i.wornRestrictions.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Worn Restrictions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.wornRestrictions.map((h,p)=>a.jsx("span",{className:"text-sm bg-muted text-muted-foreground px-3 py-1 rounded-full",children:h},p))})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Plugin:"}),a.jsx("div",{className:"font-medium",children:i.plugin})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Item Count:"}),a.jsx("div",{className:"font-medium",children:i.itemCount})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Effect Count:"}),a.jsx("div",{className:"font-medium",children:i.effectCount})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"ID:"}),a.jsx("div",{className:"font-mono text-xs",children:i.baseEnchantmentId})]})]})}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsxs(V,{variant:"outline",size:"sm",onClick:m,className:"flex items-center gap-2",children:[a.jsx(WN,{className:"h-4 w-4"}),"Copy Details"]}),a.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a.jsx(t1,{className:"h-4 w-4"}),"Share"]})]})]})]})}):null});function qa({title:e,value:t,description:n,icon:s,trend:r,trendValue:i,className:l,variant:o="default"}){const c=()=>{switch(r){case"up":return a.jsx(kc,{className:"h-4 w-4 text-green-500"});case"down":return a.jsx(Lg,{className:"h-4 w-4 text-red-500"});case"neutral":return a.jsx(jl,{className:"h-4 w-4 text-gray-500"});default:return null}},u=()=>{switch(o){case"highlight":return"border-primary/20 bg-primary/5";case"muted":return"border-muted bg-muted/20";default:return"border-border bg-card"}};return a.jsxs(de,{className:I("transition-all duration-200 hover:shadow-md",u(),l),children:[a.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Me,{className:"text-sm font-medium text-muted-foreground",children:e}),s&&a.jsx("div",{className:"text-muted-foreground",children:s})]}),a.jsx(me,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-2xl font-bold",children:typeof t=="number"?t.toLocaleString():t}),n&&a.jsx("p",{className:"text-xs text-muted-foreground",children:n})]}),r&&a.jsxs("div",{className:"flex items-center gap-1",children:[c(),i&&a.jsx("span",{className:I("text-xs font-medium",r==="up"&&"text-green-600",r==="down"&&"text-red-600",r==="neutral"&&"text-gray-600"),children:i})]})]})})]})}function so({title:e,description:t,children:n,className:s,isLoading:r=!1,error:i,height:l="h-64"}){return a.jsxs(de,{className:I("transition-all duration-200",s),children:[a.jsxs(Se,{className:"pb-3",children:[a.jsx(Me,{className:"text-lg font-semibold",children:e}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),a.jsx(me,{children:a.jsx("div",{className:I("w-full",l),children:r?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading chart..."})]})}):i?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm text-destructive",children:i})})}):n})})]})}function WK({data:e,total:t,className:n,title:s="Category Breakdown",description:r="Distribution of enchantments by category"}){if(!e||e.length===0)return a.jsx(so,{title:s,description:r,className:n,error:"No data available"});const i=Math.max(...e.map(l=>l.value));return a.jsx(so,{title:s,description:r,className:n,children:a.jsx("div",{className:"space-y-3",children:e.map((l,o)=>{const c=t>0?l.value/t*100:0,u=i>0?l.value/i*100:0;return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-medium truncate",children:l.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"secondary",className:"text-xs",children:l.value}),a.jsxs("span",{className:"text-muted-foreground text-xs",children:[c.toFixed(1),"%"]})]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:I("h-2 rounded-full transition-all duration-300","bg-gradient-to-r from-blue-500 to-blue-600"),style:{width:`${u}%`}})})]},l.name)})})})}const xj=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-orange-500","bg-cyan-500"];function QK({data:e,total:t,className:n}){return!e||e.length===0?a.jsx(so,{title:"Target Type Distribution",description:"Distribution of enchantments by target type",className:n,error:"No data available"}):a.jsx(so,{title:"Target Type Distribution",description:"Distribution of enchantments by target type",className:n,children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map((s,r)=>{const i=t>0?s.value/t*100:0,l=xj[r%xj.length];return a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[a.jsx("div",{className:I("w-4 h-4 rounded-full",l)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:s.name}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.value," (",i.toFixed(1),"%)"]})]})]},s.name)})})}),a.jsxs("div",{className:"lg:w-48 space-y-3",children:[a.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[a.jsx("div",{className:"text-2xl font-bold",children:t}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Enchantments"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[a.jsx("div",{className:"text-2xl font-bold",children:e.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Target Types"})]})]})]})})}function vj({title:e,description:t,data:n,columns:s,className:r,maxRows:i,sortBy:l,sortDirection:o,onSort:c}){const[u,d]=g.useState(null),[f,m]=g.useState("desc"),h=x=>{c?c(x):u===x?m(f==="asc"?"desc":"asc"):(d(x),m("desc"))},p=g.useMemo(()=>{const x=l||u,b=o||f;return x?[...n].sort((j,N)=>{const C=j[x],S=N[x];if(typeof C=="string"&&typeof S=="string"){const E=C.localeCompare(S);return b==="asc"?E:-E}return typeof C=="number"&&typeof S=="number"?b==="asc"?C-S:S-C:0}):n},[n,l,u,o,f]),y=i?p.slice(0,i):p,w=x=>{const b=l||u,j=o||f;return b!==x?a.jsx(pR,{className:"h-4 w-4"}):j==="asc"?a.jsx(vR,{className:"h-4 w-4"}):a.jsx(dR,{className:"h-4 w-4"})},v=(x,b)=>{const j=x[b.key];return b.render?b.render(j,x):typeof j=="number"?j.toLocaleString():typeof j=="string"?j:String(j)};return a.jsxs(de,{className:I("transition-all duration-200",r),children:[a.jsxs(Se,{className:"pb-3",children:[a.jsx(Me,{className:"text-lg font-semibold",children:e}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),a.jsx(me,{children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b",children:s.map(x=>a.jsx("th",{className:I("px-4 py-2 text-left text-sm font-medium text-muted-foreground",x.sortable&&"cursor-pointer hover:text-foreground",x.className),onClick:()=>x.sortable&&h(x.key),children:a.jsxs("div",{className:"flex items-center gap-1",children:[x.label,x.sortable&&w(x.key)]})},String(x.key)))})}),a.jsx("tbody",{children:y.map((x,b)=>a.jsx("tr",{className:"border-b border-border/50 hover:bg-muted/50 transition-colors",children:s.map(j=>a.jsx("td",{className:I("px-4 py-3 text-sm",j.className),children:v(x,j)},String(j.key)))},b))})]}),i&&n.length>i&&a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",i," of ",n.length," items"]})})]})})]})}function KK({data:e,total:t,className:n}){if(!e||e.length===0)return a.jsx(vj,{title:"Top Effects",description:"Most common enchantment effects",data:[],columns:[],className:n,error:"No data available"});const s=[{key:"name",label:"Effect Name",sortable:!0},{key:"count",label:"Occurrences",sortable:!0,render:i=>a.jsx(q,{variant:"secondary",children:i.toLocaleString()})},{key:"percentage",label:"Percentage",sortable:!0,render:(i,l)=>{const o=t>0?l.count/t*100:0;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-green-500 to-green-600",style:{width:`${Math.min(o,100)}%`}})}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.toFixed(1),"%"]})]})}}],r=e.map(i=>({...i,percentage:t>0?i.count/t*100:0}));return a.jsx(vj,{title:"Top Effects",description:"Most common enchantment effects",data:r,columns:s,className:n,maxRows:10})}function JK({data:e,total:t,className:n}){if(!e||e.length===0)return a.jsx(so,{title:"Item Type Distribution",description:"Distribution of items that can be enchanted",className:n,error:"No data available"});const s=Math.max(...e.map(r=>r.value));return a.jsx(so,{title:"Item Type Distribution",description:"Distribution of items that can be enchanted",className:n,height:"h-80",children:a.jsx("div",{className:"space-y-3",children:e.map((r,i)=>{const l=t>0?r.value/t*100:0,o=s>0?r.value/s*100:0;return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-medium truncate",children:r.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:r.value}),a.jsxs("span",{className:"text-muted-foreground text-xs",children:[l.toFixed(1),"%"]})]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:I("h-2 rounded-full transition-all duration-300","bg-gradient-to-r from-purple-500 to-purple-600"),style:{width:`${o}%`}})})]},r.name)})})})}function eJ(){const{data:e}=yi();return g.useMemo(()=>{if(!e||e.length===0)return{totalEnchantments:0,categoryBreakdown:{},targetTypeDistribution:{},pluginSources:{},topEffects:[],itemTypeDistribution:{},averageEffectsPerEnchantment:0,enchantmentsWithWornRestrictions:0,totalEffects:0,totalItems:0,uniqueEffects:0,uniqueItemTypes:0};const t={},n={},s={},r={},i={};let l=0,o=0,c=0;e.forEach(h=>{const p=h.category||"Unknown";t[p]=(t[p]||0)+1;const y=h.targetType||"Unknown";n[y]=(n[y]||0)+1;const w=h.plugin||"Unknown";s[w]=(s[w]||0)+1,h.effects.forEach(v=>{const x=v.name||"Unknown Effect";r[x]=(r[x]||0)+1,l++}),h.foundOnItems.forEach(v=>{const x=v.type||"Unknown";i[x]=(i[x]||0)+1,o++}),h.wornRestrictions&&h.wornRestrictions.length>0&&c++});const u=Object.entries(r).map(([h,p])=>({name:h,count:p})).sort((h,p)=>p.count-h.count).slice(0,10),d=l/e.length,f=Object.keys(r).length,m=Object.keys(i).length;return{totalEnchantments:e.length,categoryBreakdown:t,targetTypeDistribution:n,pluginSources:s,topEffects:u,itemTypeDistribution:i,averageEffectsPerEnchantment:Math.round(d*100)/100,enchantmentsWithWornRestrictions:c,totalEffects:l,totalItems:o,uniqueEffects:f,uniqueItemTypes:m}},[e])}function tJ(e){return g.useMemo(()=>{const t=Object.entries(e.categoryBreakdown).map(([i,l])=>({name:i,value:l})).sort((i,l)=>l.value-i.value),n=Object.entries(e.targetTypeDistribution).map(([i,l])=>({name:i,value:l})).sort((i,l)=>l.value-i.value),s=Object.entries(e.pluginSources).map(([i,l])=>({name:i,value:l})).sort((i,l)=>l.value-i.value),r=Object.entries(e.itemTypeDistribution).map(([i,l])=>({name:i,value:l})).sort((i,l)=>l.value-i.value).slice(0,15);return{categoryData:t,targetTypeData:n,pluginData:s,itemTypeData:r,effectsData:e.topEffects}},[e])}function nJ({className:e}){const t=eJ(),n=tJ(t);return a.jsxs("div",{className:I("space-y-6",e),children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Enchantment Statistics"}),a.jsx("p",{className:"text-muted-foreground",children:"Comprehensive analytics and insights about enchantment data"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(qa,{title:"Total Enchantments",value:t.totalEnchantments,description:"All available enchantments",icon:a.jsx(cs,{className:"h-4 w-4"}),variant:"highlight"}),a.jsx(qa,{title:"Unique Effects",value:t.uniqueEffects,description:"Different effect types",icon:a.jsx(gn,{className:"h-4 w-4"})}),a.jsx(qa,{title:"Item Types",value:t.uniqueItemTypes,description:"Different item categories",icon:a.jsx(e1,{className:"h-4 w-4"})}),a.jsx(qa,{title:"Avg Effects/Enchantment",value:t.averageEffectsPerEnchantment,description:"Average effects per enchantment",icon:a.jsx(jR,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(qa,{title:"Total Effects",value:t.totalEffects,description:"All effect instances",icon:a.jsx(kc,{className:"h-4 w-4"}),variant:"muted"}),a.jsx(qa,{title:"Total Items",value:t.totalItems,description:"All item instances",icon:a.jsx(nt,{className:"h-4 w-4"}),variant:"muted"}),a.jsx(qa,{title:"With Worn Restrictions",value:t.enchantmentsWithWornRestrictions,description:"Enchantments with restrictions",icon:a.jsx(da,{className:"h-4 w-4"}),variant:"muted"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(WK,{data:n.categoryData,total:t.totalEnchantments}),a.jsx(QK,{data:n.targetTypeData,total:t.totalEnchantments})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(KK,{data:n.effectsData,total:t.totalEffects}),a.jsx(JK,{data:n.itemTypeData,total:t.totalItems})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Data Coverage"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.totalEnchantments," enchantments available"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Effect Diversity"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.uniqueEffects," unique effects with ",t.averageEffectsPerEnchantment," average per enchantment"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Item Coverage"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.uniqueItemTypes," item types with ",t.totalItems," total instances"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Restrictions"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.enchantmentsWithWornRestrictions," enchantments have worn restrictions"]})]})]})]})]})}const sJ=()=>{const{loading:e,error:t,data:n}=yi(),{load:s}=yi();return g.useEffect(()=>{n.length===0&&!e&&s()},[n.length,e,s]),t?a.jsxs("div",{className:"p-4 text-red-600",children:["Error loading enchantments: ",t]}):null};function rJ(){const[e,t]=g.useState(null),[n,s]=g.useState(!1),[r]=N5();return g.useEffect(()=>{r.get("selected")},[r]),a.jsxs("div",{className:"bg-background min-h-screen",children:[a.jsx(sJ,{}),a.jsx(XK,{enchantment:e,open:n,onOpenChange:s}),a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(Ra,{className:"text-4xl font-bold text-skyrim-gold",children:" Enchantments"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Explore the vast collection of enchantments available in the world. Discover powerful effects, find items that carry these enchantments, and understand the restrictions that govern their use."})]}),a.jsxs(Da,{defaultValue:"enchantments",className:"w-full",children:[a.jsxs(za,{className:"mb-4",children:[a.jsx(zt,{value:"enchantments",children:"Enchantments"}),a.jsx(zt,{value:"statistics",children:"Statistics"})]}),a.jsx(Ut,{value:"enchantments",children:a.jsx(YK,{showFilters:!0,className:"mt-4",onEnchantmentClick:i=>{t(i),s(!0)}})}),a.jsx(Ut,{value:"statistics",children:a.jsxs(de,{className:"border-skyrim-gold/20",children:[a.jsx(Se,{children:a.jsx(Me,{className:"text-skyrim-gold flex items-center gap-2",children:" Enchantment Statistics"})}),a.jsx(me,{children:a.jsx(nJ,{})})]})})]})]})]})}const aJ=()=>{const{build:e,getSummary:t}=pt(),n=ut(),s=t();return!e.name&&!e.race?a.jsxs(de,{className:"border-dashed border-2 border-muted",children:[a.jsxs(Se,{children:[a.jsx(Me,{className:"text-lg",children:"No Character Build"}),a.jsx(Ms,{children:"Start building your character to see it here"})]}),a.jsx(me,{children:a.jsx(V,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):a.jsxs(de,{children:[a.jsxs(Se,{children:[a.jsxs(Me,{className:"text-lg flex items-center justify-between",children:[a.jsx("span",{children:s.name}),a.jsx(V,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),a.jsx(Ms,{children:"Current character build status"})]}),a.jsxs(me,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Race:"}),a.jsx(q,{variant:"secondary",className:"ml-2",children:s.race})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),a.jsx(q,{variant:"secondary",className:"ml-2",children:s.stone})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),a.jsx(q,{variant:"secondary",className:"ml-2",children:s.religion})]})]}),a.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[s.traitCount," traits"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[s.majorSkillCount," major skills"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[s.minorSkillCount," minor skills"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[s.equipmentCount," equipment"]})]})]})]})};function iJ(){const e=ut(),t=()=>{e("/build")},n=[{name:"GigaPlanner",description:"Advanced build planner with detailed skill trees and optimization",url:"https://multidyls.github.io/GigaPlanner",icon:a.jsx(zg,{className:"h-5 w-5 text-primary"}),category:"Build Planning",author:"Multidyls"},{name:"Character Builder GPT",description:"AI-powered character creation assistant with personalized build recommendations",url:"https://chatgpt.com/g/g-68462f6313d48191bab174806a049ca4-lorerim-builds-wizard-v2?model=gpt-4o",icon:a.jsx(s1,{className:"h-5 w-5 text-primary"}),category:"AI Assistant",author:"Zoldyg"},{name:"Alchemy Calculator",description:"Comprehensive alchemy crafting and ingredient database with detailed recipes",url:"https://docs.google.com/spreadsheets/d/1zUVCaRlqHX_sER-kJR-ZLIAfsFbTj9FQCO-hMfnp4XA/edit?gid=2066962651#gid=2066962651",icon:a.jsx(cs,{className:"h-5 w-5 text-primary"}),category:"Crafting",author:"Rudy"},{name:"Spell Sheet Generator",description:"Lorerim Spell List Google Sheet",url:"https://docs.google.com/spreadsheets/d/1fvYHRfwAprpgEPaXyuteEx0ud9S572noYnlpVq6cJFs/edit?gid=915313506#gid=915313506",icon:a.jsx(_a,{className:"h-5 w-5 text-primary"}),category:"Spells",author:"ImmatureTurtles"},{name:"Weapons Discussion Hub",description:"Deep dive into weapon mechanics, damage calculations, and optimization strategies",url:"https://discord.com/channels/622647066719420427/1382033558754955354",icon:a.jsx(mi,{className:"h-5 w-5 text-primary"}),category:"Combat",author:"Deo"},{name:"Spin Wheel Tool",description:"Random build generator and challenge creator for fun playthroughs",url:"https://spinthewheel.app/YXGCPykcqJ",icon:a.jsx(Nr,{className:"h-5 w-5 text-primary"}),category:"Fun",author:"Sora the Saint"}],s=r=>{r!=="#"&&window.open(r,"_blank","noopener,noreferrer")};return a.jsx("div",{className:"bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-12",children:[a.jsxs("div",{className:"text-left space-y-6",children:[a.jsx("div",{className:"flex items-center gap-3 mb-4 justify-start",children:a.jsx(Ra,{className:"text-4xl md:text-6xl font-bold text-foreground",children:"Lorerim Arcaneum"})}),a.jsx(NS,{className:"text-xl md:text-2xl text-muted-foreground",children:"A growing collection of Lorerim tools and resources. Build characters, explore mechanics, and contribute to the community."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Big thanks to Biggie Boss"})]}),a.jsx("div",{className:"max-w-md",children:a.jsx(aJ,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[a.jsx(Xd,{className:"h-6 w-6 text-primary"}),"Character Building"]}),a.jsx("p",{className:"text-muted-foreground",children:"Create and customize your character from scratch"})]}),a.jsxs(de,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/30 cursor-pointer group bg-card",onClick:t,children:[a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex items-center gap-2 group-hover:text-primary transition-colors text-card-foreground",children:[a.jsx(cs,{className:"h-5 w-5"}),"Start Character Build"]}),a.jsx(Ms,{className:"text-muted-foreground",children:"Design your character with races, traits, birthsigns, and more"})]}),a.jsx(me,{children:a.jsxs(V,{className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:["Begin Building",a.jsx(hR,{className:"ml-2 h-4 w-4"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(de,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/race"),children:a.jsxs(me,{className:"p-4 text-center",children:[a.jsx($3,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Races"})]})}),a.jsx(de,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/birth-signs"),children:a.jsxs(me,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Birthsigns"})]})}),a.jsx(de,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/traits"),children:a.jsxs(me,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Traits"})]})}),a.jsx(de,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/perks"),children:a.jsxs(me,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Skills"})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[a.jsx(Hl,{className:"h-6 w-6 text-primary"}),"Quick Access"]}),a.jsx("p",{className:"text-muted-foreground",children:"Jump directly to specific tools and features"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(de,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/search"),children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Hl,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-card-foreground",children:"Advanced Search"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Detailed search with filters"})]})]})})}),a.jsx(de,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/spells"),children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(cs,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-card-foreground",children:"Spells"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Browse and search spells"})]})]})})}),a.jsx(de,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/cookbook"),children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(QN,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-card-foreground",children:"Cookbook"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Crafting recipes & guides"})]})]})})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[a.jsx(zg,{className:"h-6 w-6 text-primary"}),"Favorite Tools"]}),a.jsx("p",{className:"text-muted-foreground",children:"Discover the best external tools and resources for Lorerim theorycrafting"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((r,i)=>a.jsxs(de,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/30 cursor-pointer group bg-card",onClick:()=>s(r.url),children:[a.jsxs(Se,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[r.icon,a.jsx(Me,{className:"text-lg group-hover:text-primary transition-colors text-card-foreground",children:r.name})]}),a.jsx(Aa,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-xs font-medium text-primary/80 bg-primary/10 px-2 py-1 rounded-full",children:r.category}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["by ",r.author]})]})]}),a.jsx(me,{className:"pt-0",children:a.jsx(Ms,{className:"text-muted-foreground",children:r.description})})]},i))})]}),a.jsx("div",{className:"text-left pt-8 border-t border-border",children:a.jsx("p",{className:"text-muted-foreground",children:"Crafted by Bardic (Jeremy) Noel, with gratitude to Biggie Boss and the Lorerim community"})})]})})}function lJ(){const e=ut();return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[a.jsx(Ra,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),a.jsx(ye,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),a.jsx(V,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const oJ=()=>a.jsxs(GD,{children:[a.jsx(vt,{path:"/",element:a.jsx(iJ,{})}),a.jsxs(vt,{path:"/build",element:a.jsx(vP,{}),children:[a.jsx(vt,{index:!0,element:a.jsx(IK,{})}),a.jsx(vt,{path:"race",element:a.jsx($C,{})}),a.jsx(vt,{path:"birth-signs",element:a.jsx(TI,{})}),a.jsx(vt,{path:"traits",element:a.jsx(OK,{})}),a.jsx(vt,{path:"religions",element:a.jsx(aG,{})}),a.jsx(vt,{path:"destiny",element:a.jsx(rG,{})}),a.jsx(vt,{path:"perks",element:a.jsx(Ww,{})})]}),a.jsx(vt,{path:"/spells",element:a.jsx($K,{})}),a.jsx(vt,{path:"/cookbook",element:a.jsx(UZ,{})}),a.jsx(vt,{path:"/search",element:a.jsx(QG,{})}),a.jsx(vt,{path:"/virtual-masonry-demo",element:a.jsx(JG,{})}),a.jsx(vt,{path:"/races-mva-demo",element:a.jsx(e9,{})}),a.jsx(vt,{path:"/skills-mva",element:a.jsx(Ww,{})}),a.jsx(vt,{path:"/skills-experimental",element:a.jsx(gK,{})}),a.jsx(vt,{path:"/equipment",element:a.jsx(HK,{})}),a.jsx(vt,{path:"/crafting",element:a.jsx(FK,{})}),a.jsx(vt,{path:"/enchantments",element:a.jsx(rJ,{})}),a.jsx(vt,{path:"*",element:a.jsx(lJ,{})})]});function cJ(){const{theme:e,setTheme:t}=jS(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},s=()=>{switch(e){case"light":return a.jsx(Ny,{className:"h-4 w-4"});case"dark":return a.jsx(u3,{className:"h-4 w-4"});case"system":return a.jsx(o3,{className:"h-4 w-4"});default:return a.jsx(Ny,{className:"h-4 w-4"})}};return a.jsxs(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[s(),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function uJ({sidebarCollapsed:e,onToggleSidebar:t,isMobile:n=!1,MobileDrawerTrigger:s}){return a.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:qt.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[n&&s?a.jsx("div",{className:"mr-2",children:a.jsx(s,{})}):a.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:a.jsx(s3,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),a.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),a.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),a.jsx("div",{className:"flex-1 max-w-md mx-4",children:a.jsx(XG,{placeholder:"Search skills, races, traits...",className:"w-full"})}),a.jsx("div",{className:"ml-auto",children:a.jsx(cJ,{})})]})}const A_=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"}]},{label:"Docs",items:[{to:"/spells",label:"Spells"},{to:"/cookbook",label:"Food and Alcohol"},{to:"/enchantments",label:"Enchantments"}]}];function dJ({onNavigate:e}){const t=ut(),n=window.location.hash.replace(/^#\/?/,"/"),s=(r,i)=>{const l=window.location.hash,[o,c]=l.split("?"),d=new URLSearchParams(c||"").get("b");t(d?`${r}?b=${d}`:r),e(i)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b border-skyrim-gold/20",children:a.jsxs("button",{onClick:()=>s("/",!0),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[a.jsx(KN,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),a.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:A_.map(r=>a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:r.label}),a.jsx("div",{className:"space-y-1",children:r.items.map(i=>{const l=n===i.to;return a.jsx("button",{onClick:()=>s(i.to,!0),className:`w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] active:scale-[0.98] cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 ${l?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent"}`,children:i.label},i.to)})})]},r.label))}),a.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[a.jsx(ye,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),a.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]})]})}function fJ({collapsed:e,onNavigate:t}){const n=ut(),s=window.location.hash.replace(/^#\/?/,"/"),r=i=>{const l=window.location.hash,[o,c]=l.split("?"),d=new URLSearchParams(c||"").get("b");n(d?`${i}?b=${d}`:i)};return a.jsxs(VT,{collapsed:e,children:[a.jsx(GT,{children:!e&&a.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[a.jsx(KN,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),a.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),a.jsx(qT,{children:A_.map(i=>a.jsxs(ZT,{children:[!e&&a.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:i.label}),a.jsx(YT,{children:i.items.map(l=>{const o=s===l.to;return a.jsx(WT,{children:a.jsx(XT,{asChild:!0,isActive:o,onClick:()=>r(l.to),tabIndex:0,children:a.jsx("span",{className:"w-full text-left truncate",children:l.label})})},l.to)})})]},i.label))}),!e&&a.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[a.jsx(ye,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),a.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]}),a.jsx(QT,{})]})}function mJ({onNavigate:e}){const[t,n]=g.useState(!1),s=r=>{r&&n(!1)};return a.jsxs(Vl,{open:t,onOpenChange:n,children:[a.jsx(pS,{asChild:!0,children:a.jsx("button",{"aria-label":"Open navigation menu",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:a.jsx("svg",{className:"w-5 h-5 text-skyrim-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),a.jsx(gi,{side:"left",className:"p-0 w-80",children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(dJ,{onNavigate:s})})})]})}function hJ(){const[e,t]=g.useState(!0),[n,s]=g.useState(!1);return RZ(),g.useEffect(()=>{const r=()=>s(window.innerWidth<768);return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),a.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[a.jsx(uJ,{sidebarCollapsed:e,onToggleSidebar:()=>t(r=>!r),isMobile:n,MobileDrawerTrigger:()=>a.jsx(mJ,{onNavigate:()=>{}})}),a.jsxs("div",{className:"flex flex-1",children:[!n&&a.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0 overflow-hidden":"w-64"}`,style:{zIndex:qt.SIDEBAR},children:a.jsx(fJ,{collapsed:e,onNavigate:r=>{r&&t(!0)}})}),a.jsx("main",{className:"flex-1 transition-all duration-300 ease-in-out min-w-0",children:a.jsx(oJ,{})})]}),a.jsx(MZ,{})]})}function gJ(){return a.jsx(v5,{children:a.jsx(hJ,{})})}var M_={exports:{}},Zm={},R_={exports:{}},D_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,$){var A=M.length;M.push($);e:for(;0<A;){var R=A-1>>>1,B=M[R];if(0<r(B,$))M[R]=$,M[A]=B,A=R;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var $=M[0],A=M.pop();if(A!==$){M[0]=A;e:for(var R=0,B=M.length,H=B>>>1;R<H;){var F=2*(R+1)-1,Z=M[F],X=F+1,J=M[X];if(0>r(Z,A))X<B&&0>r(J,Z)?(M[R]=J,M[X]=A,R=X):(M[R]=Z,M[F]=A,R=F);else if(X<B&&0>r(J,A))M[R]=J,M[X]=A,R=X;else break e}}return $}function r(M,$){var A=M.sortIndex-$.sortIndex;return A!==0?A:M.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function j(M){for(var $=n(u);$!==null;){if($.callback===null)s(u);else if($.startTime<=M)s(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function N(M){if(y=!1,j(M),!p)if(n(c)!==null)p=!0,C||(C=!0,O());else{var $=n(u);$!==null&&P(N,$.startTime-M)}}var C=!1,S=-1,E=5,k=-1;function T(){return w?!0:!(e.unstable_now()-k<E)}function D(){if(w=!1,C){var M=e.unstable_now();k=M;var $=!0;try{e:{p=!1,y&&(y=!1,x(S),S=-1),h=!0;var A=m;try{t:{for(j(M),f=n(c);f!==null&&!(f.expirationTime>M&&T());){var R=f.callback;if(typeof R=="function"){f.callback=null,m=f.priorityLevel;var B=R(f.expirationTime<=M);if(M=e.unstable_now(),typeof B=="function"){f.callback=B,j(M),$=!0;break t}f===n(c)&&s(c),j(M)}else s(c);f=n(c)}if(f!==null)$=!0;else{var H=n(u);H!==null&&P(N,H.startTime-M),$=!1}}break e}finally{f=null,m=A,h=!1}$=void 0}}finally{$?O():C=!1}}}var O;if(typeof b=="function")O=function(){b(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,_=z.port2;z.port1.onmessage=D,O=function(){_.postMessage(null)}}else O=function(){v(D,0)};function P(M,$){S=v(function(){M(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var A=m;m=$;try{return M()}finally{m=A}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var A=m;m=M;try{return $()}finally{m=A}},e.unstable_scheduleCallback=function(M,$,A){var R=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?R+A:R):A=R,M){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=A+B,M={id:d++,callback:$,priorityLevel:M,startTime:A,expirationTime:B,sortIndex:-1},A>R?(M.sortIndex=A,t(u,M),n(c)===null&&M===n(u)&&(y?(x(S),S=-1):y=!0,P(N,A-R))):(M.sortIndex=B,t(c,M),p||h||(p=!0,C||(C=!0,O()))),M},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(M){var $=m;return function(){var A=m;m=$;try{return M.apply(this,arguments)}finally{m=A}}}})(D_);R_.exports=D_;var pJ=R_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var At=pJ,z_=g,xJ=im;function Y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function L_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yj(e){if(wu(e)!==e)throw Error(Y(188))}function vJ(e){var t=e.alternate;if(!t){if(t=wu(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return yj(r),e;if(i===s)return yj(r),t;i=i.sibling}throw Error(Y(188))}if(n.return!==s.return)n=r,s=i;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,s=i;break}if(o===s){l=!0,s=r,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,s=r;break}if(o===s){l=!0,s=i,n=r;break}o=o.sibling}if(!l)throw Error(Y(189))}}if(n.alternate!==s)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function P_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=P_(e),t!==null)return t;e=e.sibling}return null}var et=Object.assign,yJ=Symbol.for("react.element"),dd=Symbol.for("react.transitional.element"),sc=Symbol.for("react.portal"),ul=Symbol.for("react.fragment"),O_=Symbol.for("react.strict_mode"),Ap=Symbol.for("react.profiler"),bJ=Symbol.for("react.provider"),B_=Symbol.for("react.consumer"),hr=Symbol.for("react.context"),yv=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Rp=Symbol.for("react.suspense_list"),bv=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),Dp=Symbol.for("react.activity"),wJ=Symbol.for("react.memo_cache_sentinel"),bj=Symbol.iterator;function qo(e){return e===null||typeof e!="object"?null:(e=bj&&e[bj]||e["@@iterator"],typeof e=="function"?e:null)}var jJ=Symbol.for("react.client.reference");function zp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===jJ?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ul:return"Fragment";case Ap:return"Profiler";case O_:return"StrictMode";case Mp:return"Suspense";case Rp:return"SuspenseList";case Dp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case sc:return"Portal";case hr:return(e.displayName||"Context")+".Provider";case B_:return(e._context.displayName||"Context")+".Consumer";case yv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bv:return t=e.displayName||null,t!==null?t:zp(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return zp(e(t))}catch{}}return null}var rc=Array.isArray,xe=z_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe=xJ.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ii={pending:!1,data:null,method:null,action:null},Lp=[],dl=-1;function Qs(e){return{current:e}}function $t(e){0>dl||(e.current=Lp[dl],Lp[dl]=null,dl--)}function rt(e,t){dl++,Lp[dl]=e.current,e.current=t}var Is=Qs(null),Uc=Qs(null),pa=Qs(null),kf=Qs(null);function Cf(e,t){switch(rt(pa,t),rt(Uc,e),rt(Is,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kN(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kN(t),e=n4(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$t(Is),rt(Is,e)}function ro(){$t(Is),$t(Uc),$t(pa)}function $p(e){e.memoizedState!==null&&rt(kf,e);var t=Is.current,n=n4(t,e.type);t!==n&&(rt(Uc,e),rt(Is,n))}function Ef(e){Uc.current===e&&($t(Is),$t(Uc)),kf.current===e&&($t(kf),Jc._currentValue=ii)}var Pp=Object.prototype.hasOwnProperty,wv=At.unstable_scheduleCallback,eg=At.unstable_cancelCallback,NJ=At.unstable_shouldYield,SJ=At.unstable_requestPaint,Fs=At.unstable_now,kJ=At.unstable_getCurrentPriorityLevel,I_=At.unstable_ImmediatePriority,F_=At.unstable_UserBlockingPriority,Tf=At.unstable_NormalPriority,CJ=At.unstable_LowPriority,H_=At.unstable_IdlePriority,EJ=At.log,TJ=At.unstable_setDisableYieldValue,ju=null,An=null;function la(e){if(typeof EJ=="function"&&TJ(e),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(ju,e)}catch{}}var Mn=Math.clz32?Math.clz32:MJ,_J=Math.log,AJ=Math.LN2;function MJ(e){return e>>>=0,e===0?32:31-(_J(e)/AJ|0)|0}var fd=256,md=4194304;function Ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gm(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var o=s&134217727;return o!==0?(s=o&~i,s!==0?r=Ya(s):(l&=o,l!==0?r=Ya(l):n||(n=o&~e,n!==0&&(r=Ya(n))))):(o=s&~i,o!==0?r=Ya(o):l!==0?r=Ya(l):n||(n=s&~e,n!==0&&(r=Ya(n)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:r}function Nu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function RJ(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U_(){var e=fd;return fd<<=1,!(fd&4194048)&&(fd=256),e}function V_(){var e=md;return md<<=1,!(md&62914560)&&(md=4194304),e}function tg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Su(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function DJ(e,t,n,s,r,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var d=31-Mn(n),f=1<<d;o[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}n&=~f}s!==0&&q_(e,s,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(l&~t))}function q_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Mn(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function Z_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Mn(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function jv(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function G_(){var e=Oe.p;return e!==0?e:(e=window.event,e===void 0?32:f4(e.type))}function zJ(e,t){var n=Oe.p;try{return Oe.p=e,t()}finally{Oe.p=n}}var Ba=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Ba,xn="__reactProps$"+Ba,_o="__reactContainer$"+Ba,Op="__reactEvents$"+Ba,LJ="__reactListeners$"+Ba,$J="__reactHandles$"+Ba,wj="__reactResources$"+Ba,ku="__reactMarker$"+Ba;function Sv(e){delete e[Xt],delete e[xn],delete e[Op],delete e[LJ],delete e[$J]}function fl(e){var t=e[Xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_o]||n[Xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=TN(e);e!==null;){if(n=e[Xt])return n;e=TN(e)}return t}e=n,n=e.parentNode}return null}function Ao(e){if(e=e[Xt]||e[_o]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ac(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Y(33))}function Al(e){var t=e[wj];return t||(t=e[wj]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Dt(e){e[ku]=!0}var Y_=new Set,X_={};function Ui(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(X_[e]=t,e=0;e<t.length;e++)Y_.add(t[e])}var PJ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jj={},Nj={};function OJ(e){return Pp.call(Nj,e)?!0:Pp.call(jj,e)?!1:PJ.test(e)?Nj[e]=!0:(jj[e]=!0,!1)}function Ld(e,t,n){if(OJ(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hd(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function lr(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var ng,Sj;function al(e){if(ng===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ng=t&&t[1]||"",Sj=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ng+e+Sj}var sg=!1;function rg(e,t){if(!e||sg)return"";sg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),l=i[0],o=i[1];if(l&&o){var c=l.split(`
`),u=o.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=r);break}}}finally{sg=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?al(n):""}function BJ(e){switch(e.tag){case 26:case 27:case 5:return al(e.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 15:return rg(e.type,!1);case 11:return rg(e.type.render,!1);case 1:return rg(e.type,!0);case 31:return al("Activity");default:return""}}function kj(e){try{var t="";do t+=BJ(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IJ(e){var t=W_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _f(e){e._valueTracker||(e._valueTracker=IJ(e))}function Q_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=W_(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Af(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var FJ=/[\n"\\]/g;function Zn(e){return e.replace(FJ,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Bp(e,t,n,s,r,i,l,o){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Hn(t)):e.value!==""+Hn(t)&&(e.value=""+Hn(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Ip(e,l,Hn(t)):n!=null?Ip(e,l,Hn(n)):s!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Hn(o):e.removeAttribute("name")}function K_(e,t,n,s,r,i,l,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;n=n!=null?""+Hn(n):"",t=t!=null?""+Hn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=o?e.checked:!!s,e.defaultChecked=!!s,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l)}function Ip(e,t,n){t==="number"&&Af(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ml(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function J_(e,t,n){if(t!=null&&(t=""+Hn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Hn(n):""}function eA(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(Y(92));if(rc(s)){if(1<s.length)throw Error(Y(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Hn(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function io(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var HJ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cj(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||HJ.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function tA(e,t,n){if(t!=null&&typeof t!="object")throw Error(Y(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&Cj(e,r,s)}else for(var i in t)t.hasOwnProperty(i)&&Cj(e,i,t[i])}function kv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $d(e){return VJ.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fp=null;function Cv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,Rl=null;function Ej(e){var t=Ao(e);if(t&&(e=t.stateNode)){var n=e[xn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Bp(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Zn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[xn]||null;if(!r)throw Error(Y(90));Bp(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Q_(s)}break e;case"textarea":J_(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ml(e,!!n.multiple,t,!1)}}}var ag=!1;function nA(e,t,n){if(ag)return e(t,n);ag=!0;try{var s=e(t);return s}finally{if(ag=!1,(ml!==null||Rl!==null)&&(sh(),ml&&(t=ml,e=Rl,Rl=ml=null,Ej(t),e)))for(t=0;t<e.length;t++)Ej(e[t])}}function Vc(e,t){var n=e.stateNode;if(n===null)return null;var s=n[xn]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hp=!1;if(Mr)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Hp=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Hp=!1}var oa=null,Ev=null,Pd=null;function sA(){if(Pd)return Pd;var e,t=Ev,n=t.length,s,r="value"in oa?oa.value:oa.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(s=1;s<=l&&t[n-s]===r[i-s];s++);return Pd=r.slice(e,1<s?1-s:void 0)}function Od(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gd(){return!0}function Tj(){return!1}function bn(e){function t(n,s,r,i,l){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gd:Tj,this.isPropagationStopped=Tj,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd}),t}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ym=bn(Vi),Cu=et({},Vi,{view:0,detail:0}),qJ=bn(Cu),ig,lg,Go,Xm=et({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Go&&(Go&&e.type==="mousemove"?(ig=e.screenX-Go.screenX,lg=e.screenY-Go.screenY):lg=ig=0,Go=e),ig)},movementY:function(e){return"movementY"in e?e.movementY:lg}}),_j=bn(Xm),ZJ=et({},Xm,{dataTransfer:0}),GJ=bn(ZJ),YJ=et({},Cu,{relatedTarget:0}),og=bn(YJ),XJ=et({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),WJ=bn(XJ),QJ=et({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KJ=bn(QJ),JJ=et({},Vi,{data:0}),Aj=bn(JJ),eee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function see(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nee[e])?!!t[e]:!1}function Tv(){return see}var ree=et({},Cu,{key:function(e){if(e.key){var t=eee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tv,charCode:function(e){return e.type==="keypress"?Od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aee=bn(ree),iee=et({},Xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mj=bn(iee),lee=et({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tv}),oee=bn(lee),cee=et({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),uee=bn(cee),dee=et({},Xm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fee=bn(dee),mee=et({},Vi,{newState:0,oldState:0}),hee=bn(mee),gee=[9,13,27,32],_v=Mr&&"CompositionEvent"in window,cc=null;Mr&&"documentMode"in document&&(cc=document.documentMode);var pee=Mr&&"TextEvent"in window&&!cc,rA=Mr&&(!_v||cc&&8<cc&&11>=cc),Rj=" ",Dj=!1;function aA(e,t){switch(e){case"keyup":return gee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hl=!1;function xee(e,t){switch(e){case"compositionend":return iA(t);case"keypress":return t.which!==32?null:(Dj=!0,Rj);case"textInput":return e=t.data,e===Rj&&Dj?null:e;default:return null}}function vee(e,t){if(hl)return e==="compositionend"||!_v&&aA(e,t)?(e=sA(),Pd=Ev=oa=null,hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rA&&t.locale!=="ko"?null:t.data;default:return null}}var yee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yee[e.type]:t==="textarea"}function lA(e,t,n,s){ml?Rl?Rl.push(s):Rl=[s]:ml=s,t=Yf(t,"onChange"),0<t.length&&(n=new Ym("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var uc=null,qc=null;function bee(e){JM(e,0)}function Wm(e){var t=ac(e);if(Q_(t))return e}function Lj(e,t){if(e==="change")return t}var oA=!1;if(Mr){var cg;if(Mr){var ug="oninput"in document;if(!ug){var $j=document.createElement("div");$j.setAttribute("oninput","return;"),ug=typeof $j.oninput=="function"}cg=ug}else cg=!1;oA=cg&&(!document.documentMode||9<document.documentMode)}function Pj(){uc&&(uc.detachEvent("onpropertychange",cA),qc=uc=null)}function cA(e){if(e.propertyName==="value"&&Wm(qc)){var t=[];lA(t,qc,e,Cv(e)),nA(bee,t)}}function wee(e,t,n){e==="focusin"?(Pj(),uc=t,qc=n,uc.attachEvent("onpropertychange",cA)):e==="focusout"&&Pj()}function jee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wm(qc)}function Nee(e,t){if(e==="click")return Wm(t)}function See(e,t){if(e==="input"||e==="change")return Wm(t)}function kee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:kee;function Zc(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Pp.call(t,r)||!Ln(e[r],t[r]))return!1}return!0}function Oj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bj(e,t){var n=Oj(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oj(n)}}function uA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dA(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Af(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Af(e.document)}return t}function Av(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Cee=Mr&&"documentMode"in document&&11>=document.documentMode,gl=null,Up=null,dc=null,Vp=!1;function Ij(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vp||gl==null||gl!==Af(s)||(s=gl,"selectionStart"in s&&Av(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),dc&&Zc(dc,s)||(dc=s,s=Yf(Up,"onSelect"),0<s.length&&(t=new Ym("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=gl)))}function Za(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pl={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},dg={},fA={};Mr&&(fA=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function qi(e){if(dg[e])return dg[e];if(!pl[e])return e;var t=pl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fA)return dg[e]=t[n];return e}var mA=qi("animationend"),hA=qi("animationiteration"),gA=qi("animationstart"),Eee=qi("transitionrun"),Tee=qi("transitionstart"),_ee=qi("transitioncancel"),pA=qi("transitionend"),xA=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qp.push("scrollEnd");function ys(e,t){xA.set(e,t),Ui(t,[e])}var Fj=new WeakMap;function Gn(e,t){if(typeof e=="object"&&e!==null){var n=Fj.get(e);return n!==void 0?n:(t={value:e,source:t,stack:kj(t)},Fj.set(e,t),t)}return{value:e,source:t,stack:kj(t)}}var Fn=[],xl=0,Mv=0;function Qm(){for(var e=xl,t=Mv=xl=0;t<e;){var n=Fn[t];Fn[t++]=null;var s=Fn[t];Fn[t++]=null;var r=Fn[t];Fn[t++]=null;var i=Fn[t];if(Fn[t++]=null,s!==null&&r!==null){var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}i!==0&&vA(n,r,i)}}function Km(e,t,n,s){Fn[xl++]=e,Fn[xl++]=t,Fn[xl++]=n,Fn[xl++]=s,Mv|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Rv(e,t,n,s){return Km(e,t,n,s),Mf(e)}function Mo(e,t){return Km(e,null,null,t),Mf(e)}function vA(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=e.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-Mn(n),e=i.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=n|536870912),i):null}function Mf(e){if(50<wc)throw wc=0,fx=null,Error(Y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var vl={};function Aee(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,n,s){return new Aee(e,t,n,s)}function Dv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wr(e,t){var n=e.alternate;return n===null?(n=Tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function yA(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bd(e,t,n,s,r,i){var l=0;if(s=e,typeof e=="function")Dv(e)&&(l=1);else if(typeof e=="string")l=Rte(e,n,Is.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Dp:return e=Tn(31,n,t,r),e.elementType=Dp,e.lanes=i,e;case ul:return li(n.children,r,i,t);case O_:l=8,r|=24;break;case Ap:return e=Tn(12,n,t,r|2),e.elementType=Ap,e.lanes=i,e;case Mp:return e=Tn(13,n,t,r),e.elementType=Mp,e.lanes=i,e;case Rp:return e=Tn(19,n,t,r),e.elementType=Rp,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bJ:case hr:l=10;break e;case B_:l=9;break e;case yv:l=11;break e;case bv:l=14;break e;case Qr:l=16,s=null;break e}l=29,n=Error(Y(130,e===null?"null":typeof e,"")),s=null}return t=Tn(l,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function li(e,t,n,s){return e=Tn(7,e,s,t),e.lanes=n,e}function fg(e,t,n){return e=Tn(6,e,null,t),e.lanes=n,e}function mg(e,t,n){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yl=[],bl=0,Rf=null,Df=0,Un=[],Vn=0,oi=null,gr=1,pr="";function Xa(e,t){yl[bl++]=Df,yl[bl++]=Rf,Rf=e,Df=t}function bA(e,t,n){Un[Vn++]=gr,Un[Vn++]=pr,Un[Vn++]=oi,oi=e;var s=gr;e=pr;var r=32-Mn(s)-1;s&=~(1<<r),n+=1;var i=32-Mn(t)+r;if(30<i){var l=r-r%5;i=(s&(1<<l)-1).toString(32),s>>=l,r-=l,gr=1<<32-Mn(t)+r|n<<r|s,pr=i+e}else gr=1<<i|n<<r|s,pr=e}function zv(e){e.return!==null&&(Xa(e,1),bA(e,1,0))}function Lv(e){for(;e===Rf;)Rf=yl[--bl],yl[bl]=null,Df=yl[--bl],yl[bl]=null;for(;e===oi;)oi=Un[--Vn],Un[Vn]=null,pr=Un[--Vn],Un[Vn]=null,gr=Un[--Vn],Un[Vn]=null}var Jt=null,ft=null,Pe=!1,ci=null,As=!1,Zp=Error(Y(519));function ki(e){var t=Error(Y(418,""));throw Gc(Gn(t,e)),Zp}function Hj(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Xt]=e,t[xn]=s,n){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(n=0;n<Wc.length;n++)_e(Wc[n],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),K_(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),_f(t);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),eA(t,s.value,s.defaultValue,s.children),_f(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||t4(t.textContent,n)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=ih),t=!0):t=!1,t||ki(e)}function Uj(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 13:As=!1;return;case 27:case 3:As=!0;return;default:Jt=Jt.return}}function Yo(e){if(e!==Jt)return!1;if(!Pe)return Uj(e),Pe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||vx(e.type,e.memoizedProps)),n=!n),n&&ft&&ki(e),Uj(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ft=ms(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ft=null}}else t===27?(t=ft,Ia(e.type)?(e=wx,wx=null,ft=e):ft=t):ft=Jt?ms(e.stateNode.nextSibling):null;return!0}function Eu(){ft=Jt=null,Pe=!1}function Vj(){var e=ci;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),ci=null),e}function Gc(e){ci===null?ci=[e]:ci.push(e)}var Gp=Qs(null),Zi=null,xr=null;function ta(e,t,n){rt(Gp,t._currentValue),t._currentValue=n}function jr(e){e._currentValue=Gp.current,$t(Gp)}function Yp(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Xp(e,t,n,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var l=r.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Yp(i.return,n,e),s||(l=null);break e}i=o.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(Y(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Yp(l,n,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function Tu(e,t,n,s){e=null;for(var r=t,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(Y(387));if(l=l.memoizedProps,l!==null){var o=r.type;Ln(r.pendingProps.value,l.value)||(e!==null?e.push(o):e=[o])}}else if(r===kf.current){if(l=r.alternate,l===null)throw Error(Y(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Jc):e=[Jc])}r=r.return}e!==null&&Xp(t,e,n,s),t.flags|=262144}function zf(e){for(e=e.firstContext;e!==null;){if(!Ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){Zi=e,xr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Wt(e){return wA(Zi,e)}function pd(e,t){return Zi===null&&Ci(e),wA(e,t)}function wA(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},xr===null){if(e===null)throw Error(Y(308));xr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xr=xr.next=t;return n}var Mee=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ree=At.unstable_scheduleCallback,Dee=At.unstable_NormalPriority,Tt={$$typeof:hr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $v(){return{controller:new Mee,data:new Map,refCount:0}}function _u(e){e.refCount--,e.refCount===0&&Ree(Dee,function(){e.controller.abort()})}var fc=null,Wp=0,lo=0,Dl=null;function zee(e,t){if(fc===null){var n=fc=[];Wp=0,lo=ay(),Dl={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Wp++,t.then(qj,qj),t}function qj(){if(--Wp===0&&fc!==null){Dl!==null&&(Dl.status="fulfilled");var e=fc;fc=null,lo=0,Dl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Lee(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var Zj=xe.S;xe.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&zee(e,t),Zj!==null&&Zj(e,t)};var ui=Qs(null);function Pv(){var e=ui.current;return e!==null?e:Ke.pooledCache}function Id(e,t){t===null?rt(ui,ui.current):rt(ui,t.pool)}function jA(){var e=Pv();return e===null?null:{parent:Tt._currentValue,pool:e}}var Au=Error(Y(460)),NA=Error(Y(474)),Jm=Error(Y(542)),Qp={then:function(){}};function Gj(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xd(){}function SA(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(xd,xd),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xj(e),e;default:if(typeof t.status=="string")t.then(xd,xd);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(Y(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xj(e),e}throw mc=t,Au}}var mc=null;function Yj(){if(mc===null)throw Error(Y(459));var e=mc;return mc=null,e}function Xj(e){if(e===Au||e===Jm)throw Error(Y(483))}var Kr=!1;function Ov(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function va(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ue&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Mf(e),vA(e,null,n),t}return Km(e,s,t,n),Mf(e)}function hc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Z_(e,n)}}function hg(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Jp=!1;function gc(){if(Jp){var e=Dl;if(e!==null)throw e}}function pc(e,t,n,s){Jp=!1;var r=e.updateQueue;Kr=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=r.baseState;l=0,d=u=c=null,o=i;do{var m=o.lane&-536870913,h=m!==o.lane;if(h?(Le&m)===m:(s&m)===m){m!==0&&m===lo&&(Jp=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,y=o;m=t;var w=n;switch(y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(w,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,m=typeof p=="function"?p.call(w,f,m):p,m==null)break e;f=et({},f,m);break e;case 2:Kr=!0}}m=o.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,l|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),Ta|=l,e.lanes=l,e.memoizedState=f}}function kA(e,t){if(typeof e!="function")throw Error(Y(191,e));e.call(t)}function CA(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)kA(n[e],t)}var oo=Qs(null),Lf=Qs(0);function Wj(e,t){e=zr,rt(Lf,e),rt(oo,t),zr=e|t.baseLanes}function ex(){rt(Lf,zr),rt(oo,oo.current)}function Bv(){zr=Lf.current,$t(oo),$t(Lf)}var Ca=0,Ee=null,Ze=null,Nt=null,$f=!1,zl=!1,Ei=!1,Pf=0,Yc=0,Ll=null,$ee=0;function xt(){throw Error(Y(321))}function Iv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ln(e[n],t[n]))return!1;return!0}function Fv(e,t,n,s,r,i){return Ca=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xe.H=e===null||e.memoizedState===null?sM:rM,Ei=!1,i=n(s,r),Ei=!1,zl&&(i=TA(t,n,s,r)),EA(e),i}function EA(e){xe.H=Of;var t=Ze!==null&&Ze.next!==null;if(Ca=0,Nt=Ze=Ee=null,$f=!1,Yc=0,Ll=null,t)throw Error(Y(300));e===null||Lt||(e=e.dependencies,e!==null&&zf(e)&&(Lt=!0))}function TA(e,t,n,s){Ee=e;var r=0;do{if(zl&&(Ll=null),Yc=0,zl=!1,25<=r)throw Error(Y(301));if(r+=1,Nt=Ze=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}xe.H=Uee,i=t(n,s)}while(zl);return i}function Pee(){var e=xe.H,t=e.useState()[0];return t=typeof t.then=="function"?Mu(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Hv(){var e=Pf!==0;return Pf=0,e}function Uv(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Vv(e){if($f){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}$f=!1}Ca=0,Nt=Ze=Ee=null,zl=!1,Yc=Pf=0,Ll=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ee.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function St(){if(Ze===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=Nt===null?Ee.memoizedState:Nt.next;if(t!==null)Nt=t,Ze=e;else{if(e===null)throw Ee.alternate===null?Error(Y(467)):Error(Y(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Nt===null?Ee.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function qv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mu(e){var t=Yc;return Yc+=1,Ll===null&&(Ll=[]),e=SA(Ll,e,t),t=Ee,(Nt===null?t.memoizedState:Nt.next)===null&&(t=t.alternate,xe.H=t===null||t.memoizedState===null?sM:rM),e}function eh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mu(e);if(e.$$typeof===hr)return Wt(e)}throw Error(Y(438,String(e)))}function Zv(e){var t=null,n=Ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=Ee.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qv(),Ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=wJ;return t.index++,n}function Rr(e,t){return typeof t=="function"?t(e):t}function Fd(e){var t=St();return Gv(t,Ze,e)}function Gv(e,t,n){var s=e.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=n;var r=e.baseQueue,i=s.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}t.baseQueue=r=i,s.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var o=l=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Le&f)===f:(Ca&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===lo&&(d=!0);else if((Ca&m)===m){u=u.next,m===lo&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=f,l=i):c=c.next=f,Ee.lanes|=m,Ta|=m;f=u.action,Ei&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=m,l=i):c=c.next=m,Ee.lanes|=f,Ta|=f;u=u.next}while(u!==null&&u!==t);if(c===null?l=i:c.next=o,!Ln(i,e.memoizedState)&&(Lt=!0,d&&(n=Dl,n!==null)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function gg(e){var t=St(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);Ln(i,t.memoizedState)||(Lt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function _A(e,t,n){var s=Ee,r=St(),i=Pe;if(i){if(n===void 0)throw Error(Y(407));n=n()}else n=t();var l=!Ln((Ze||r).memoizedState,n);l&&(r.memoizedState=n,Lt=!0),r=r.queue;var o=RA.bind(null,s,r,e);if(Ru(2048,8,o,[e]),r.getSnapshot!==t||l||Nt!==null&&Nt.memoizedState.tag&1){if(s.flags|=2048,co(9,th(),MA.bind(null,s,r,n,t),null),Ke===null)throw Error(Y(349));i||Ca&124||AA(s,t,n)}return n}function AA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t=qv(),Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MA(e,t,n,s){t.value=n,t.getSnapshot=s,DA(t)&&zA(e)}function RA(e,t,n){return n(function(){DA(t)&&zA(e)})}function DA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ln(e,n)}catch{return!0}}function zA(e){var t=Mo(e,2);t!==null&&Dn(t,e,2)}function tx(e){var t=un();if(typeof e=="function"){var n=e;if(e=n(),Ei){la(!0);try{n()}finally{la(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:e},t}function LA(e,t,n,s){return e.baseState=n,Gv(e,Ze,typeof s=="function"?s:Rr)}function Oee(e,t,n,s,r){if(nh(e))throw Error(Y(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};xe.T!==null?n(!0):i.isTransition=!1,s(i),n=t.pending,n===null?(i.next=t.pending=i,$A(t,i)):(i.next=n.next,t.pending=n.next=i)}}function $A(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var i=xe.T,l={};xe.T=l;try{var o=n(r,s),c=xe.S;c!==null&&c(l,o),Qj(e,t,o)}catch(u){nx(e,t,u)}finally{xe.T=i}}else try{i=n(r,s),Qj(e,t,i)}catch(u){nx(e,t,u)}}function Qj(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Kj(e,t,s)},function(s){return nx(e,t,s)}):Kj(e,t,n)}function Kj(e,t,n){t.status="fulfilled",t.value=n,PA(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,$A(e,n)))}function nx(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,PA(t),t=t.next;while(t!==s)}e.action=null}function PA(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function OA(e,t){return t}function Jj(e,t){if(Pe){var n=Ke.formState;if(n!==null){e:{var s=Ee;if(Pe){if(ft){t:{for(var r=ft,i=As;r.nodeType!==8;){if(!i){r=null;break t}if(r=ms(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){ft=ms(r.nextSibling),s=r.data==="F!";break e}}ki(s)}s=!1}s&&(t=n[0])}}return n=un(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OA,lastRenderedState:t},n.queue=s,n=eM.bind(null,Ee,s),s.dispatch=n,s=tx(!1),i=Qv.bind(null,Ee,!1,s.queue),s=un(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,n=Oee.bind(null,Ee,r,i,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function eN(e){var t=St();return BA(t,Ze,e)}function BA(e,t,n){if(t=Gv(e,t,OA)[0],e=Fd(Rr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Mu(t)}catch(l){throw l===Au?Jm:l}else s=t;t=St();var r=t.queue,i=r.dispatch;return n!==t.memoizedState&&(Ee.flags|=2048,co(9,th(),Bee.bind(null,r,n),null)),[s,i,e]}function Bee(e,t){e.action=t}function tN(e){var t=St(),n=Ze;if(n!==null)return BA(t,n,e);St(),t=t.memoizedState,n=St();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function co(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=qv(),Ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function th(){return{destroy:void 0,resource:void 0}}function IA(){return St().memoizedState}function Hd(e,t,n,s){var r=un();s=s===void 0?null:s,Ee.flags|=e,r.memoizedState=co(1|t,th(),n,s)}function Ru(e,t,n,s){var r=St();s=s===void 0?null:s;var i=r.memoizedState.inst;Ze!==null&&s!==null&&Iv(s,Ze.memoizedState.deps)?r.memoizedState=co(t,i,n,s):(Ee.flags|=e,r.memoizedState=co(1|t,i,n,s))}function nN(e,t){Hd(8390656,8,e,t)}function FA(e,t){Ru(2048,8,e,t)}function HA(e,t){return Ru(4,2,e,t)}function UA(e,t){return Ru(4,4,e,t)}function VA(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qA(e,t,n){n=n!=null?n.concat([e]):null,Ru(4,4,VA.bind(null,t,e),n)}function Yv(){}function ZA(e,t){var n=St();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Iv(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function GA(e,t){var n=St();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Iv(t,s[1]))return s[0];if(s=e(),Ei){la(!0);try{e()}finally{la(!1)}}return n.memoizedState=[s,t],s}function Xv(e,t,n){return n===void 0||Ca&1073741824?e.memoizedState=t:(e.memoizedState=n,e=PM(),Ee.lanes|=e,Ta|=e,n)}function YA(e,t,n,s){return Ln(n,t)?n:oo.current!==null?(e=Xv(e,n,s),Ln(e,t)||(Lt=!0),e):Ca&42?(e=PM(),Ee.lanes|=e,Ta|=e,t):(Lt=!0,e.memoizedState=n)}function XA(e,t,n,s,r){var i=Oe.p;Oe.p=i!==0&&8>i?i:8;var l=xe.T,o={};xe.T=o,Qv(e,!1,t,n);try{var c=r(),u=xe.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Lee(c,s);xc(e,t,d,Rn(e))}else xc(e,t,s,Rn(e))}catch(f){xc(e,t,{then:function(){},status:"rejected",reason:f},Rn())}finally{Oe.p=i,xe.T=l}}function Iee(){}function sx(e,t,n,s){if(e.tag!==5)throw Error(Y(476));var r=WA(e).queue;XA(e,r,t,ii,n===null?Iee:function(){return QA(e),n(s)})}function WA(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ii,baseState:ii,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:ii},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function QA(e){var t=WA(e).next.queue;xc(e,t,{},Rn())}function Wv(){return Wt(Jc)}function KA(){return St().memoizedState}function JA(){return St().memoizedState}function Fee(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rn();e=xa(n);var s=va(t,e,n);s!==null&&(Dn(s,t,n),hc(s,t,n)),t={cache:$v()},e.payload=t;return}t=t.return}}function Hee(e,t,n){var s=Rn();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},nh(e)?tM(t,n):(n=Rv(e,t,n,s),n!==null&&(Dn(n,e,s),nM(n,t,s)))}function eM(e,t,n){var s=Rn();xc(e,t,n,s)}function xc(e,t,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(nh(e))tM(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(r.hasEagerState=!0,r.eagerState=o,Ln(o,l))return Km(e,t,r,0),Ke===null&&Qm(),!1}catch{}finally{}if(n=Rv(e,t,r,s),n!==null)return Dn(n,e,s),nM(n,t,s),!0}return!1}function Qv(e,t,n,s){if(s={lane:2,revertLane:ay(),action:s,hasEagerState:!1,eagerState:null,next:null},nh(e)){if(t)throw Error(Y(479))}else t=Rv(e,n,s,2),t!==null&&Dn(t,e,2)}function nh(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function tM(e,t){zl=$f=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nM(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Z_(e,n)}}var Of={readContext:Wt,use:eh,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},sM={readContext:Wt,use:eh,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:nN,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Hd(4194308,4,VA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hd(4194308,4,e,t)},useInsertionEffect:function(e,t){Hd(4,2,e,t)},useMemo:function(e,t){var n=un();t=t===void 0?null:t;var s=e();if(Ei){la(!0);try{e()}finally{la(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=un();if(n!==void 0){var r=n(t);if(Ei){la(!0);try{n(t)}finally{la(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Hee.bind(null,Ee,e),[s.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:function(e){e=tx(e);var t=e.queue,n=eM.bind(null,Ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yv,useDeferredValue:function(e,t){var n=un();return Xv(n,e,t)},useTransition:function(){var e=tx(!1);return e=XA.bind(null,Ee,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=Ee,r=un();if(Pe){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Ke===null)throw Error(Y(349));Le&124||AA(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,nN(RA.bind(null,s,i,e),[e]),s.flags|=2048,co(9,th(),MA.bind(null,s,i,n,t),null),n},useId:function(){var e=un(),t=Ke.identifierPrefix;if(Pe){var n=pr,s=gr;n=(s&~(1<<32-Mn(s)-1)).toString(32)+n,t=""+t+"R"+n,n=Pf++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=$ee++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Wv,useFormState:Jj,useActionState:Jj,useOptimistic:function(e){var t=un();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Qv.bind(null,Ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:Zv,useCacheRefresh:function(){return un().memoizedState=Fee.bind(null,Ee)}},rM={readContext:Wt,use:eh,useCallback:ZA,useContext:Wt,useEffect:FA,useImperativeHandle:qA,useInsertionEffect:HA,useLayoutEffect:UA,useMemo:GA,useReducer:Fd,useRef:IA,useState:function(){return Fd(Rr)},useDebugValue:Yv,useDeferredValue:function(e,t){var n=St();return YA(n,Ze.memoizedState,e,t)},useTransition:function(){var e=Fd(Rr)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Mu(e),t]},useSyncExternalStore:_A,useId:KA,useHostTransitionStatus:Wv,useFormState:eN,useActionState:eN,useOptimistic:function(e,t){var n=St();return LA(n,Ze,e,t)},useMemoCache:Zv,useCacheRefresh:JA},Uee={readContext:Wt,use:eh,useCallback:ZA,useContext:Wt,useEffect:FA,useImperativeHandle:qA,useInsertionEffect:HA,useLayoutEffect:UA,useMemo:GA,useReducer:gg,useRef:IA,useState:function(){return gg(Rr)},useDebugValue:Yv,useDeferredValue:function(e,t){var n=St();return Ze===null?Xv(n,e,t):YA(n,Ze.memoizedState,e,t)},useTransition:function(){var e=gg(Rr)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Mu(e),t]},useSyncExternalStore:_A,useId:KA,useHostTransitionStatus:Wv,useFormState:tN,useActionState:tN,useOptimistic:function(e,t){var n=St();return Ze!==null?LA(n,Ze,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Zv,useCacheRefresh:JA},$l=null,Xc=0;function vd(e){var t=Xc;return Xc+=1,$l===null&&($l=[]),SA($l,e,t)}function Xo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yd(e,t){throw t.$$typeof===yJ?Error(Y(525)):(e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sN(e){var t=e._init;return t(e._payload)}function aM(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function s(v){for(var x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function r(v,x){return v=wr(v,x),v.index=0,v.sibling=null,v}function i(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=67108866,x):b):(v.flags|=67108866,x)):(v.flags|=1048576,x)}function l(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function o(v,x,b,j){return x===null||x.tag!==6?(x=fg(b,v.mode,j),x.return=v,x):(x=r(x,b),x.return=v,x)}function c(v,x,b,j){var N=b.type;return N===ul?d(v,x,b.props.children,j,b.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qr&&sN(N)===x.type)?(x=r(x,b.props),Xo(x,b),x.return=v,x):(x=Bd(b.type,b.key,b.props,null,v.mode,j),Xo(x,b),x.return=v,x)}function u(v,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=mg(b,v.mode,j),x.return=v,x):(x=r(x,b.children||[]),x.return=v,x)}function d(v,x,b,j,N){return x===null||x.tag!==7?(x=li(b,v.mode,j,N),x.return=v,x):(x=r(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=fg(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dd:return b=Bd(x.type,x.key,x.props,null,v.mode,b),Xo(b,x),b.return=v,b;case sc:return x=mg(x,v.mode,b),x.return=v,x;case Qr:var j=x._init;return x=j(x._payload),f(v,x,b)}if(rc(x)||qo(x))return x=li(x,v.mode,b,null),x.return=v,x;if(typeof x.then=="function")return f(v,vd(x),b);if(x.$$typeof===hr)return f(v,pd(v,x),b);yd(v,x)}return null}function m(v,x,b,j){var N=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return N!==null?null:o(v,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dd:return b.key===N?c(v,x,b,j):null;case sc:return b.key===N?u(v,x,b,j):null;case Qr:return N=b._init,b=N(b._payload),m(v,x,b,j)}if(rc(b)||qo(b))return N!==null?null:d(v,x,b,j,null);if(typeof b.then=="function")return m(v,x,vd(b),j);if(b.$$typeof===hr)return m(v,x,pd(v,b),j);yd(v,b)}return null}function h(v,x,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return v=v.get(b)||null,o(x,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case dd:return v=v.get(j.key===null?b:j.key)||null,c(x,v,j,N);case sc:return v=v.get(j.key===null?b:j.key)||null,u(x,v,j,N);case Qr:var C=j._init;return j=C(j._payload),h(v,x,b,j,N)}if(rc(j)||qo(j))return v=v.get(b)||null,d(x,v,j,N,null);if(typeof j.then=="function")return h(v,x,b,vd(j),N);if(j.$$typeof===hr)return h(v,x,b,pd(x,j),N);yd(x,j)}return null}function p(v,x,b,j){for(var N=null,C=null,S=x,E=x=0,k=null;S!==null&&E<b.length;E++){S.index>E?(k=S,S=null):k=S.sibling;var T=m(v,S,b[E],j);if(T===null){S===null&&(S=k);break}e&&S&&T.alternate===null&&t(v,S),x=i(T,x,E),C===null?N=T:C.sibling=T,C=T,S=k}if(E===b.length)return n(v,S),Pe&&Xa(v,E),N;if(S===null){for(;E<b.length;E++)S=f(v,b[E],j),S!==null&&(x=i(S,x,E),C===null?N=S:C.sibling=S,C=S);return Pe&&Xa(v,E),N}for(S=s(S);E<b.length;E++)k=h(S,v,E,b[E],j),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?E:k.key),x=i(k,x,E),C===null?N=k:C.sibling=k,C=k);return e&&S.forEach(function(D){return t(v,D)}),Pe&&Xa(v,E),N}function y(v,x,b,j){if(b==null)throw Error(Y(151));for(var N=null,C=null,S=x,E=x=0,k=null,T=b.next();S!==null&&!T.done;E++,T=b.next()){S.index>E?(k=S,S=null):k=S.sibling;var D=m(v,S,T.value,j);if(D===null){S===null&&(S=k);break}e&&S&&D.alternate===null&&t(v,S),x=i(D,x,E),C===null?N=D:C.sibling=D,C=D,S=k}if(T.done)return n(v,S),Pe&&Xa(v,E),N;if(S===null){for(;!T.done;E++,T=b.next())T=f(v,T.value,j),T!==null&&(x=i(T,x,E),C===null?N=T:C.sibling=T,C=T);return Pe&&Xa(v,E),N}for(S=s(S);!T.done;E++,T=b.next())T=h(S,v,E,T.value,j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?E:T.key),x=i(T,x,E),C===null?N=T:C.sibling=T,C=T);return e&&S.forEach(function(O){return t(v,O)}),Pe&&Xa(v,E),N}function w(v,x,b,j){if(typeof b=="object"&&b!==null&&b.type===ul&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case dd:e:{for(var N=b.key;x!==null;){if(x.key===N){if(N=b.type,N===ul){if(x.tag===7){n(v,x.sibling),j=r(x,b.props.children),j.return=v,v=j;break e}}else if(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qr&&sN(N)===x.type){n(v,x.sibling),j=r(x,b.props),Xo(j,b),j.return=v,v=j;break e}n(v,x);break}else t(v,x);x=x.sibling}b.type===ul?(j=li(b.props.children,v.mode,j,b.key),j.return=v,v=j):(j=Bd(b.type,b.key,b.props,null,v.mode,j),Xo(j,b),j.return=v,v=j)}return l(v);case sc:e:{for(N=b.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),j=r(x,b.children||[]),j.return=v,v=j;break e}else{n(v,x);break}else t(v,x);x=x.sibling}j=mg(b,v.mode,j),j.return=v,v=j}return l(v);case Qr:return N=b._init,b=N(b._payload),w(v,x,b,j)}if(rc(b))return p(v,x,b,j);if(qo(b)){if(N=qo(b),typeof N!="function")throw Error(Y(150));return b=N.call(b),y(v,x,b,j)}if(typeof b.then=="function")return w(v,x,vd(b),j);if(b.$$typeof===hr)return w(v,x,pd(v,b),j);yd(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),j=r(x,b),j.return=v,v=j):(n(v,x),j=fg(b,v.mode,j),j.return=v,v=j),l(v)):n(v,x)}return function(v,x,b,j){try{Xc=0;var N=w(v,x,b,j);return $l=null,N}catch(S){if(S===Au||S===Jm)throw S;var C=Tn(29,S,null,v.mode);return C.lanes=j,C.return=v,C}finally{}}}var uo=aM(!0),iM=aM(!1),Jn=Qs(null),Hs=null;function na(e){var t=e.alternate;rt(_t,_t.current&1),rt(Jn,e),Hs===null&&(t===null||oo.current!==null||t.memoizedState!==null)&&(Hs=e)}function lM(e){if(e.tag===22){if(rt(_t,_t.current),rt(Jn,e),Hs===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Hs=e)}}else sa()}function sa(){rt(_t,_t.current),rt(Jn,Jn.current)}function vr(e){$t(Jn),Hs===e&&(Hs=null),$t(_t)}var _t=Qs(0);function Bf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||bx(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pg(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:et({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rx={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Rn(),r=xa(s);r.payload=t,n!=null&&(r.callback=n),t=va(e,r,s),t!==null&&(Dn(t,e,s),hc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Rn(),r=xa(s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=va(e,r,s),t!==null&&(Dn(t,e,s),hc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rn(),s=xa(n);s.tag=2,t!=null&&(s.callback=t),t=va(e,s,n),t!==null&&(Dn(t,e,n),hc(t,e,n))}};function rN(e,t,n,s,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,l):t.prototype&&t.prototype.isPureReactComponent?!Zc(n,s)||!Zc(r,i):!0}function aN(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&rx.enqueueReplaceState(t,t.state,null)}function Ti(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=et({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var If=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function oM(e){If(e)}function cM(e){console.error(e)}function uM(e){If(e)}function Ff(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function iN(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ax(e,t,n){return n=xa(n),n.tag=3,n.payload={element:null},n.callback=function(){Ff(e,t)},n}function dM(e){return e=xa(e),e.tag=3,e}function fM(e,t,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;e.payload=function(){return r(i)},e.callback=function(){iN(t,n,s)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){iN(t,n,s),typeof r!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function Vee(e,t,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Tu(t,n,r,!0),n=Jn.current,n!==null){switch(n.tag){case 13:return Hs===null?mx():n.alternate===null&&mt===0&&(mt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Qp?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Eg(e,s,r)),!1;case 22:return n.flags|=65536,s===Qp?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Eg(e,s,r)),!1}throw Error(Y(435,n.tag))}return Eg(e,s,r),mx(),!1}if(Pe)return t=Jn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Zp&&(e=Error(Y(422),{cause:s}),Gc(Gn(e,n)))):(s!==Zp&&(t=Error(Y(423),{cause:s}),Gc(Gn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Gn(s,n),r=ax(e.stateNode,s,r),hg(e,r),mt!==4&&(mt=2)),!1;var i=Error(Y(520),{cause:s});if(i=Gn(i,n),bc===null?bc=[i]:bc.push(i),mt!==4&&(mt=2),t===null)return!0;s=Gn(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=ax(n.stateNode,s,e),hg(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ya===null||!ya.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=dM(r),fM(r,e,n,s),hg(n,r),!1}n=n.return}while(n!==null);return!1}var mM=Error(Y(461)),Lt=!1;function Ft(e,t,n,s){t.child=e===null?iM(t,null,n,s):uo(t,e.child,n,s)}function lN(e,t,n,s,r){n=n.render;var i=t.ref;if("ref"in s){var l={};for(var o in s)o!=="ref"&&(l[o]=s[o])}else l=s;return Ci(t),s=Fv(e,t,n,l,i,r),o=Hv(),e!==null&&!Lt?(Uv(e,t,r),Dr(e,t,r)):(Pe&&o&&zv(t),t.flags|=1,Ft(e,t,s,r),t.child)}function oN(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!Dv(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,hM(e,t,i,s,r)):(e=Bd(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Kv(e,r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zc,n(l,s)&&e.ref===t.ref)return Dr(e,t,r)}return t.flags|=1,e=wr(i,s),e.ref=t.ref,e.return=t,t.child=e}function hM(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(Zc(i,s)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=s=i,Kv(e,r))e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,Dr(e,t,r)}return ix(e,t,n,s,r)}function gM(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=i!==null?i.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;t.childLanes=i&~s}else t.childLanes=0,t.child=null;return cN(e,t,s,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Id(t,i!==null?i.cachePool:null),i!==null?Wj(t,i):ex(),lM(t);else return t.lanes=t.childLanes=536870912,cN(e,t,i!==null?i.baseLanes|n:n,n)}else i!==null?(Id(t,i.cachePool),Wj(t,i),sa(),t.memoizedState=null):(e!==null&&Id(t,null),ex(),sa());return Ft(e,t,r,n),t.child}function cN(e,t,n,s){var r=Pv();return r=r===null?null:{parent:Tt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Id(t,null),ex(),lM(t),e!==null&&Tu(e,t,s,!0),null}function Ud(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ix(e,t,n,s,r){return Ci(t),n=Fv(e,t,n,s,void 0,r),s=Hv(),e!==null&&!Lt?(Uv(e,t,r),Dr(e,t,r)):(Pe&&s&&zv(t),t.flags|=1,Ft(e,t,n,r),t.child)}function uN(e,t,n,s,r,i){return Ci(t),t.updateQueue=null,n=TA(t,s,n,r),EA(e),s=Hv(),e!==null&&!Lt?(Uv(e,t,i),Dr(e,t,i)):(Pe&&s&&zv(t),t.flags|=1,Ft(e,t,n,i),t.child)}function dN(e,t,n,s,r){if(Ci(t),t.stateNode===null){var i=vl,l=n.contextType;typeof l=="object"&&l!==null&&(i=Wt(l)),i=new n(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=rx,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},Ov(t),l=n.contextType,i.context=typeof l=="object"&&l!==null?Wt(l):vl,i.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(pg(t,n,l,s),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&rx.enqueueReplaceState(i,i.state,null),pc(t,s,i,r),gc(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,c=Ti(n,o);i.props=c;var u=i.context,d=n.contextType;l=vl,typeof d=="object"&&d!==null&&(l=Wt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==l)&&aN(t,i,s,l),Kr=!1;var m=t.memoizedState;i.state=m,pc(t,s,i,r),gc(),u=t.memoizedState,o||m!==u||Kr?(typeof f=="function"&&(pg(t,n,f,s),u=t.memoizedState),(c=Kr||rN(t,n,c,s,m,u,l))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),i.props=s,i.state=u,i.context=l,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Kp(e,t),l=t.memoizedProps,d=Ti(n,l),i.props=d,f=t.pendingProps,m=i.context,u=n.contextType,c=vl,typeof u=="object"&&u!==null&&(c=Wt(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&aN(t,i,s,c),Kr=!1,m=t.memoizedState,i.state=m,pc(t,s,i,r),gc();var h=t.memoizedState;l!==f||m!==h||Kr||e!==null&&e.dependencies!==null&&zf(e.dependencies)?(typeof o=="function"&&(pg(t,n,o,s),h=t.memoizedState),(d=Kr||rN(t,n,d,s,m,h,c)||e!==null&&e.dependencies!==null&&zf(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=h),i.props=s,i.state=h,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,Ud(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=uo(t,e.child,null,r),t.child=uo(t,null,n,r)):Ft(e,t,n,r),t.memoizedState=i.state,e=t.child):e=Dr(e,t,r),e}function fN(e,t,n,s){return Eu(),t.flags|=256,Ft(e,t,n,s),t.child}var xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vg(e){return{baseLanes:e,cachePool:jA()}}function yg(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Wn),e}function pM(e,t,n){var s=t.pendingProps,r=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(r?na(t):sa(),Pe){var o=ft,c;if(c=o){e:{for(c=o,o=As;c.nodeType!==8;){if(!o){o=null;break e}if(c=ms(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(t.memoizedState={dehydrated:o,treeContext:oi!==null?{id:gr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},c=Tn(18,null,null,0),c.stateNode=o,c.return=t,t.child=c,Jt=t,ft=null,c=!0):c=!1}c||ki(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return bx(o)?t.lanes=32:t.lanes=536870912,null;vr(t)}return o=s.children,s=s.fallback,r?(sa(),r=t.mode,o=Hf({mode:"hidden",children:o},r),s=li(s,r,n,null),o.return=t,s.return=t,o.sibling=s,t.child=o,r=t.child,r.memoizedState=vg(n),r.childLanes=yg(e,l,n),t.memoizedState=xg,s):(na(t),lx(t,o))}if(c=e.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(i)t.flags&256?(na(t),t.flags&=-257,t=bg(e,t,n)):t.memoizedState!==null?(sa(),t.child=e.child,t.flags|=128,t=null):(sa(),r=s.fallback,o=t.mode,s=Hf({mode:"visible",children:s.children},o),r=li(r,o,n,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,uo(t,e.child,null,n),s=t.child,s.memoizedState=vg(n),s.childLanes=yg(e,l,n),t.memoizedState=xg,t=r);else if(na(t),bx(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var u=l.dgst;l=u,s=Error(Y(419)),s.stack="",s.digest=l,Gc({value:s,source:null,stack:null}),t=bg(e,t,n)}else if(Lt||Tu(e,t,n,!1),l=(n&e.childLanes)!==0,Lt||l){if(l=Ke,l!==null&&(s=n&-n,s=s&42?1:jv(s),s=s&(l.suspendedLanes|n)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,Mo(e,s),Dn(l,e,s),mM;o.data==="$?"||mx(),t=bg(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ft=ms(o.nextSibling),Jt=t,Pe=!0,ci=null,As=!1,e!==null&&(Un[Vn++]=gr,Un[Vn++]=pr,Un[Vn++]=oi,gr=e.id,pr=e.overflow,oi=t),t=lx(t,s.children),t.flags|=4096);return t}return r?(sa(),r=s.fallback,o=t.mode,c=e.child,u=c.sibling,s=wr(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?r=wr(u,r):(r=li(r,o,n,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,o=e.child.memoizedState,o===null?o=vg(n):(c=o.cachePool,c!==null?(u=Tt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=jA(),o={baseLanes:o.baseLanes|n,cachePool:c}),r.memoizedState=o,r.childLanes=yg(e,l,n),t.memoizedState=xg,s):(na(t),n=e.child,e=n.sibling,n=wr(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function lx(e,t){return t=Hf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Hf(e,t){return e=Tn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function bg(e,t,n){return uo(t,e.child,null,n),e=lx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mN(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yp(e.return,t,n)}function wg(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function xM(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(Ft(e,t,s.children,n),s=_t.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mN(e,n,t);else if(e.tag===19)mN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(rt(_t,s),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Bf(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),wg(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Bf(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}wg(t,!0,n,null,i);break;case"together":wg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ta|=t.lanes,!(n&t.childLanes))if(e!==null){if(Tu(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kv(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&zf(e)))}function qee(e,t,n){switch(t.tag){case 3:Cf(t,t.stateNode.containerInfo),ta(t,Tt,e.memoizedState.cache),Eu();break;case 27:case 5:$p(t);break;case 4:Cf(t,t.stateNode.containerInfo);break;case 10:ta(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(na(t),t.flags|=128,null):n&t.child.childLanes?pM(e,t,n):(na(t),e=Dr(e,t,n),e!==null?e.sibling:null);na(t);break;case 19:var r=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Tu(e,t,n,!1),s=(n&t.childLanes)!==0),r){if(s)return xM(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),rt(_t,_t.current),s)break;return null;case 22:case 23:return t.lanes=0,gM(e,t,n);case 24:ta(t,Tt,e.memoizedState.cache)}return Dr(e,t,n)}function vM(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Lt=!0;else{if(!Kv(e,n)&&!(t.flags&128))return Lt=!1,qee(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,Pe&&t.flags&1048576&&bA(t,Df,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,typeof s=="function")Dv(s)?(e=Ti(s,e),t.tag=1,t=dN(null,t,s,e,n)):(t.tag=0,t=ix(null,t,s,e,n));else{if(s!=null){if(r=s.$$typeof,r===yv){t.tag=11,t=lN(null,t,s,e,n);break e}else if(r===bv){t.tag=14,t=oN(null,t,s,e,n);break e}}throw t=zp(s)||s,Error(Y(306,t,""))}}return t;case 0:return ix(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,r=Ti(s,t.pendingProps),dN(e,t,s,r,n);case 3:e:{if(Cf(t,t.stateNode.containerInfo),e===null)throw Error(Y(387));s=t.pendingProps;var i=t.memoizedState;r=i.element,Kp(e,t),pc(t,s,null,n);var l=t.memoizedState;if(s=l.cache,ta(t,Tt,s),s!==i.cache&&Xp(t,[Tt],n,!0),gc(),s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=fN(e,t,s,n);break e}else if(s!==r){r=Gn(Error(Y(424)),t),Gc(r),t=fN(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ft=ms(e.firstChild),Jt=t,Pe=!0,ci=null,As=!0,n=iM(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Eu(),s===r){t=Dr(e,t,n);break e}Ft(e,t,s,n)}t=t.child}return t;case 26:return Ud(e,t),e===null?(n=AN(t.type,null,t.pendingProps,null))?t.memoizedState=n:Pe||(n=t.type,e=t.pendingProps,s=Xf(pa.current).createElement(n),s[Xt]=t,s[xn]=e,Vt(s,n,e),Dt(s),t.stateNode=s):t.memoizedState=AN(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $p(t),e===null&&Pe&&(s=t.stateNode=r4(t.type,t.pendingProps,pa.current),Jt=t,As=!0,r=ft,Ia(t.type)?(wx=r,ft=ms(s.firstChild)):ft=r),Ft(e,t,t.pendingProps.children,n),Ud(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((r=s=ft)&&(s=yte(s,t.type,t.pendingProps,As),s!==null?(t.stateNode=s,Jt=t,ft=ms(s.firstChild),As=!1,r=!0):r=!1),r||ki(t)),$p(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,s=i.children,vx(r,i)?s=null:l!==null&&vx(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=Fv(e,t,Pee,null,null,n),Jc._currentValue=r),Ud(e,t),Ft(e,t,s,n),t.child;case 6:return e===null&&Pe&&((e=n=ft)&&(n=bte(n,t.pendingProps,As),n!==null?(t.stateNode=n,Jt=t,ft=null,e=!0):e=!1),e||ki(t)),null;case 13:return pM(e,t,n);case 4:return Cf(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=uo(t,null,s,n):Ft(e,t,s,n),t.child;case 11:return lN(e,t,t.type,t.pendingProps,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,ta(t,t.type,s.value),Ft(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,Ci(t),r=Wt(r),s=s(r),t.flags|=1,Ft(e,t,s,n),t.child;case 14:return oN(e,t,t.type,t.pendingProps,n);case 15:return hM(e,t,t.type,t.pendingProps,n);case 19:return xM(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=Hf(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=wr(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return gM(e,t,n);case 24:return Ci(t),s=Wt(Tt),e===null?(r=Pv(),r===null&&(r=Ke,i=$v(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:s,cache:r},Ov(t),ta(t,Tt,r)):(e.lanes&n&&(Kp(e,t),pc(t,null,null,n),gc()),r=e.memoizedState,i=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ta(t,Tt,s)):(s=i.cache,ta(t,Tt,s),s!==r.cache&&Xp(t,[Tt],n,!0))),Ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Y(156,t.tag))}function or(e){e.flags|=4}function hN(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!l4(t)){if(t=Jn.current,t!==null&&((Le&4194048)===Le?Hs!==null:(Le&62914560)!==Le&&!(Le&536870912)||t!==Hs))throw mc=Qp,NA;e.flags|=8192}}function bd(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?V_():536870912,e.lanes|=t,fo|=t)}function Wo(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Zee(e,t,n){var s=t.pendingProps;switch(Lv(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),jr(Tt),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yo(t)?or(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vj())),it(t),null;case 26:return n=t.memoizedState,e===null?(or(t),n!==null?(it(t),hN(t,n)):(it(t),t.flags&=-16777217)):n?n!==e.memoizedState?(or(t),it(t),hN(t,n)):(it(t),t.flags&=-16777217):(e.memoizedProps!==s&&or(t),it(t),t.flags&=-16777217),null;case 27:Ef(t),n=pa.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&or(t);else{if(!s){if(t.stateNode===null)throw Error(Y(166));return it(t),null}e=Is.current,Yo(t)?Hj(t):(e=r4(r,s,n),t.stateNode=e,or(t))}return it(t),null;case 5:if(Ef(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&or(t);else{if(!s){if(t.stateNode===null)throw Error(Y(166));return it(t),null}if(e=Is.current,Yo(t))Hj(t);else{switch(r=Xf(pa.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}e[Xt]=t,e[xn]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Vt(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&or(t)}}return it(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&or(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Y(166));if(e=pa.current,Yo(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,r=Jt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[Xt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||t4(e.nodeValue,n)),e||ki(t)}else e=Xf(e).createTextNode(s),e[Xt]=t,t.stateNode=e}return it(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Yo(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(Y(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Y(317));r[Xt]=t}else Eu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),r=!1}else r=Vj(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(vr(t),t):(vr(t),null)}if(vr(t),t.flags&128)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),bd(t,t.updateQueue),it(t),null;case 4:return ro(),e===null&&iy(t.stateNode.containerInfo),it(t),null;case 10:return jr(t.type),it(t),null;case 19:if($t(_t),r=t.memoizedState,r===null)return it(t),null;if(s=(t.flags&128)!==0,i=r.rendering,i===null)if(s)Wo(r,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Bf(e),i!==null){for(t.flags|=128,Wo(r,!1),e=i.updateQueue,t.updateQueue=e,bd(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)yA(n,e),n=n.sibling;return rt(_t,_t.current&1|2),t.child}e=e.sibling}r.tail!==null&&Fs()>Vf&&(t.flags|=128,s=!0,Wo(r,!1),t.lanes=4194304)}else{if(!s)if(e=Bf(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,bd(t,e),Wo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!Pe)return it(t),null}else 2*Fs()-r.renderingStartTime>Vf&&n!==536870912&&(t.flags|=128,s=!0,Wo(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(e=r.last,e!==null?e.sibling=i:t.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Fs(),t.sibling=null,e=_t.current,rt(_t,s?e&1|2:e&1),t):(it(t),null);case 22:case 23:return vr(t),Bv(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),n=t.updateQueue,n!==null&&bd(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&$t(ui),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),jr(Tt),it(t),null;case 25:return null;case 30:return null}throw Error(Y(156,t.tag))}function Gee(e,t){switch(Lv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(Tt),ro(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ef(t),null;case 13:if(vr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Eu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $t(_t),null;case 4:return ro(),null;case 10:return jr(t.type),null;case 22:case 23:return vr(t),Bv(),e!==null&&$t(ui),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return jr(Tt),null;case 25:return null;default:return null}}function yM(e,t){switch(Lv(t),t.tag){case 3:jr(Tt),ro();break;case 26:case 27:case 5:Ef(t);break;case 4:ro();break;case 13:vr(t);break;case 19:$t(_t);break;case 10:jr(t.type);break;case 22:case 23:vr(t),Bv(),e!==null&&$t(ui);break;case 24:jr(Tt)}}function Du(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var i=n.create,l=n.inst;s=i(),l.destroy=s}n=n.next}while(n!==r)}}catch(o){We(t,t.return,o)}}function Ea(e,t,n){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&e)===e){var l=s.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,r=t;var c=n,u=o;try{u()}catch(d){We(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){We(t,t.return,d)}}function bM(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{CA(t,n)}catch(s){We(e,e.return,s)}}}function wM(e,t,n){n.props=Ti(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){We(e,t,s)}}function vc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(r){We(e,t,r)}}function $s(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){We(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function jM(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){We(e,e.return,r)}}function jg(e,t,n){try{var s=e.stateNode;hte(s,e.type,n,t),s[xn]=t}catch(r){We(e,e.return,r)}}function NM(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function Ng(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ox(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ih));else if(s!==4&&(s===27&&Ia(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ox(e,t,n),e=e.sibling;e!==null;)ox(e,t,n),e=e.sibling}function Uf(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Ia(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Uf(e,t,n),e=e.sibling;e!==null;)Uf(e,t,n),e=e.sibling}function SM(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Vt(t,s,n),t[Xt]=e,t[xn]=n}catch(i){We(e,e.return,i)}}var fr=!1,bt=!1,Sg=!1,gN=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Yee(e,t){if(e=e.containerInfo,px=Jf,e=dA(e),Av(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==n||r!==0&&f.nodeType!==3||(o=l+r),f!==i||s!==0&&f.nodeType!==3||(c=l+s),f.nodeType===3&&(l+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===r&&(o=l),m===i&&++d===s&&(c=l),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xx={focusedElem:e,selectionRange:n},Jf=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){switch(t=Rt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var p=Ti(n.type,r,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(p,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(y){We(n,n.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)yx(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yx(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Y(163))}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}}function kM(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Zr(e,n),s&4&&Du(5,n);break;case 1:if(Zr(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){We(n,n.return,l)}else{var r=Ti(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){We(n,n.return,l)}}s&64&&bM(n),s&512&&vc(n,n.return);break;case 3:if(Zr(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{CA(e,t)}catch(l){We(n,n.return,l)}}break;case 27:t===null&&s&4&&SM(n);case 26:case 5:Zr(e,n),t===null&&s&4&&jM(n),s&512&&vc(n,n.return);break;case 12:Zr(e,n);break;case 13:Zr(e,n),s&4&&TM(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ste.bind(null,n),wte(e,n))));break;case 22:if(s=n.memoizedState!==null||fr,!s){t=t!==null&&t.memoizedState!==null||bt,r=fr;var i=bt;fr=s,(bt=t)&&!i?Yr(e,n,(n.subtreeFlags&8772)!==0):Zr(e,n),fr=r,bt=i}break;case 30:break;default:Zr(e,n)}}function CM(e){var t=e.alternate;t!==null&&(e.alternate=null,CM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Sv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,dn=!1;function cr(e,t,n){for(n=n.child;n!==null;)EM(e,t,n),n=n.sibling}function EM(e,t,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ju,n)}catch{}switch(n.tag){case 26:bt||$s(n,t),cr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:bt||$s(n,t);var s=tt,r=dn;Ia(n.type)&&(tt=n.stateNode,dn=!1),cr(e,t,n),jc(n.stateNode),tt=s,dn=r;break;case 5:bt||$s(n,t);case 6:if(s=tt,r=dn,tt=null,cr(e,t,n),tt=s,dn=r,tt!==null)if(dn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(n.stateNode)}catch(i){We(n,t,i)}else try{tt.removeChild(n.stateNode)}catch(i){We(n,t,i)}break;case 18:tt!==null&&(dn?(e=tt,EN(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),nu(e)):EN(tt,n.stateNode));break;case 4:s=tt,r=dn,tt=n.stateNode.containerInfo,dn=!0,cr(e,t,n),tt=s,dn=r;break;case 0:case 11:case 14:case 15:bt||Ea(2,n,t),bt||Ea(4,n,t),cr(e,t,n);break;case 1:bt||($s(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&wM(n,t,s)),cr(e,t,n);break;case 21:cr(e,t,n);break;case 22:bt=(s=bt)||n.memoizedState!==null,cr(e,t,n),bt=s;break;default:cr(e,t,n)}}function TM(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nu(e)}catch(n){We(t,t.return,n)}}function Xee(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gN),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gN),t;default:throw Error(Y(435,e.tag))}}function kg(e,t){var n=Xee(e);t.forEach(function(s){var r=rte.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}function jn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 27:if(Ia(o.type)){tt=o.stateNode,dn=!1;break e}break;case 5:tt=o.stateNode,dn=!1;break e;case 3:case 4:tt=o.stateNode.containerInfo,dn=!0;break e}o=o.return}if(tt===null)throw Error(Y(160));EM(i,l,r),tt=null,dn=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)_M(t,e),t=t.sibling}var is=null;function _M(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jn(t,e),Nn(e),s&4&&(Ea(3,e,e.return),Du(3,e),Ea(5,e,e.return));break;case 1:jn(t,e),Nn(e),s&512&&(bt||n===null||$s(n,n.return)),s&64&&fr&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=is;if(jn(t,e),Nn(e),s&512&&(bt||n===null||$s(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[ku]||i[Xt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),Vt(i,s,n),i[Xt]=e,Dt(i),s=i;break e;case"link":var l=RN("link","href",r).get(s+(n.href||""));if(l){for(var o=0;o<l.length;o++)if(i=l[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(o,1);break t}}i=r.createElement(s),Vt(i,s,n),r.head.appendChild(i);break;case"meta":if(l=RN("meta","content",r).get(s+(n.content||""))){for(o=0;o<l.length;o++)if(i=l[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(o,1);break t}}i=r.createElement(s),Vt(i,s,n),r.head.appendChild(i);break;default:throw Error(Y(468,s))}i[Xt]=e,Dt(i),s=i}e.stateNode=s}else DN(r,e.type,e.stateNode);else e.stateNode=MN(r,s,e.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?DN(r,e.type,e.stateNode):MN(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&jg(e,e.memoizedProps,n.memoizedProps)}break;case 27:jn(t,e),Nn(e),s&512&&(bt||n===null||$s(n,n.return)),n!==null&&s&4&&jg(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jn(t,e),Nn(e),s&512&&(bt||n===null||$s(n,n.return)),e.flags&32){r=e.stateNode;try{io(r,"")}catch(h){We(e,e.return,h)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,jg(e,r,n!==null?n.memoizedProps:r)),s&1024&&(Sg=!0);break;case 6:if(jn(t,e),Nn(e),s&4){if(e.stateNode===null)throw Error(Y(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(h){We(e,e.return,h)}}break;case 3:if(Zd=null,r=is,is=Wf(t.containerInfo),jn(t,e),is=r,Nn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{nu(t.containerInfo)}catch(h){We(e,e.return,h)}Sg&&(Sg=!1,AM(e));break;case 4:s=is,is=Wf(e.stateNode.containerInfo),jn(t,e),Nn(e),is=s;break;case 12:jn(t,e),Nn(e);break;case 13:jn(t,e),Nn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(sy=Fs()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,kg(e,s)));break;case 22:r=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=fr,d=bt;if(fr=u||r,bt=d||c,jn(t,e),bt=d,fr=u,Nn(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||c||fr||bt||Wa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(i=c.stateNode,r)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(h){We(c,c.return,h)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){We(c,c.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,kg(e,n))));break;case 19:jn(t,e),Nn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,kg(e,s)));break;case 30:break;case 21:break;default:jn(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(NM(s)){n=s;break}s=s.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var r=n.stateNode,i=Ng(e);Uf(e,i,r);break;case 5:var l=n.stateNode;n.flags&32&&(io(l,""),n.flags&=-33);var o=Ng(e);Uf(e,o,l);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Ng(e);ox(e,u,c);break;default:throw Error(Y(161))}}catch(d){We(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AM(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;AM(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)kM(e,t.alternate,t),t=t.sibling}function Wa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ea(4,t,t.return),Wa(t);break;case 1:$s(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&wM(t,t.return,n),Wa(t);break;case 27:jc(t.stateNode);case 26:case 5:$s(t,t.return),Wa(t);break;case 22:t.memoizedState===null&&Wa(t);break;case 30:Wa(t);break;default:Wa(t)}e=e.sibling}}function Yr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:Yr(r,i,n),Du(4,i);break;case 1:if(Yr(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){We(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var o=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)kA(c[r],o)}catch(u){We(s,s.return,u)}}n&&l&64&&bM(i),vc(i,i.return);break;case 27:SM(i);case 26:case 5:Yr(r,i,n),n&&s===null&&l&4&&jM(i),vc(i,i.return);break;case 12:Yr(r,i,n);break;case 13:Yr(r,i,n),n&&l&4&&TM(r,i);break;case 22:i.memoizedState===null&&Yr(r,i,n),vc(i,i.return);break;case 30:break;default:Yr(r,i,n)}t=t.sibling}}function Jv(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_u(n))}function ey(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_u(e))}function Cs(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)MM(e,t,n,s),t=t.sibling}function MM(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Cs(e,t,n,s),r&2048&&Du(9,t);break;case 1:Cs(e,t,n,s);break;case 3:Cs(e,t,n,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_u(e)));break;case 12:if(r&2048){Cs(e,t,n,s),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,o=i.onPostCommit;typeof o=="function"&&o(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){We(t,t.return,c)}}else Cs(e,t,n,s);break;case 13:Cs(e,t,n,s);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,t.memoizedState!==null?i._visibility&2?Cs(e,t,n,s):yc(e,t):i._visibility&2?Cs(e,t,n,s):(i._visibility|=2,il(e,t,n,s,(t.subtreeFlags&10256)!==0)),r&2048&&Jv(l,t);break;case 24:Cs(e,t,n,s),r&2048&&ey(t.alternate,t);break;default:Cs(e,t,n,s)}}function il(e,t,n,s,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,l=t,o=n,c=s,u=l.flags;switch(l.tag){case 0:case 11:case 15:il(i,l,o,c,r),Du(8,l);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&2?il(i,l,o,c,r):yc(i,l):(d._visibility|=2,il(i,l,o,c,r)),r&&u&2048&&Jv(l.alternate,l);break;case 24:il(i,l,o,c,r),r&&u&2048&&ey(l.alternate,l);break;default:il(i,l,o,c,r)}t=t.sibling}}function yc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:yc(n,s),r&2048&&Jv(s.alternate,s);break;case 24:yc(n,s),r&2048&&ey(s.alternate,s);break;default:yc(n,s)}t=t.sibling}}var ic=8192;function nl(e){if(e.subtreeFlags&ic)for(e=e.child;e!==null;)RM(e),e=e.sibling}function RM(e){switch(e.tag){case 26:nl(e),e.flags&ic&&e.memoizedState!==null&&zte(is,e.memoizedState,e.memoizedProps);break;case 5:nl(e);break;case 3:case 4:var t=is;is=Wf(e.stateNode.containerInfo),nl(e),is=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ic,ic=16777216,nl(e),ic=t):nl(e));break;default:nl(e)}}function DM(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Rt=s,LM(s,e)}DM(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zM(e),e=e.sibling}function zM(e){switch(e.tag){case 0:case 11:case 15:Qo(e),e.flags&2048&&Ea(9,e,e.return);break;case 3:Qo(e);break;case 12:Qo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vd(e)):Qo(e);break;default:Qo(e)}}function Vd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Rt=s,LM(s,e)}DM(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ea(8,t,t.return),Vd(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vd(t));break;default:Vd(t)}e=e.sibling}}function LM(e,t){for(;Rt!==null;){var n=Rt;switch(n.tag){case 0:case 11:case 15:Ea(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:_u(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Rt=s;else e:for(n=e;Rt!==null;){s=Rt;var r=s.sibling,i=s.return;if(CM(s),s===n){Rt=null;break e}if(r!==null){r.return=i,Rt=r;break e}Rt=i}}}var Wee={getCacheForType:function(e){var t=Wt(Tt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Qee=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ke=null,Ae=null,Le=0,He=0,Sn=null,ca=!1,Ro=!1,ty=!1,zr=0,mt=0,Ta=0,di=0,ny=0,Wn=0,fo=0,bc=null,fn=null,cx=!1,sy=0,Vf=1/0,qf=null,ya=null,Ht=0,ba=null,mo=null,Pl=0,ux=0,dx=null,$M=null,wc=0,fx=null;function Rn(){if(Ue&2&&Le!==0)return Le&-Le;if(xe.T!==null){var e=lo;return e!==0?e:ay()}return G_()}function PM(){Wn===0&&(Wn=!(Le&536870912)||Pe?U_():536870912);var e=Jn.current;return e!==null&&(e.flags|=32),Wn}function Dn(e,t,n){(e===Ke&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(ho(e,0),ua(e,Le,Wn,!1)),Su(e,n),(!(Ue&2)||e!==Ke)&&(e===Ke&&(!(Ue&2)&&(di|=n),mt===4&&ua(e,Le,Wn,!1)),Ks(e))}function OM(e,t,n){if(Ue&6)throw Error(Y(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Nu(e,t),r=s?ete(e,t):Cg(e,t,!0),i=s;do{if(r===0){Ro&&!s&&ua(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!Kee(n)){r=Cg(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var o=e;r=bc;var c=o.current.memoizedState.isDehydrated;if(c&&(ho(o,l).flags|=256),l=Cg(o,l,!1),l!==2){if(ty&&!c){o.errorRecoveryDisabledLanes|=i,di|=i,r=4;break e}i=fn,fn=r,i!==null&&(fn===null?fn=i:fn.push.apply(fn,i))}r=l}if(i=!1,r!==2)continue}}if(r===1){ho(e,0),ua(e,t,0,!0);break}e:{switch(s=e,i=r,i){case 0:case 1:throw Error(Y(345));case 4:if((t&4194048)!==t)break;case 6:ua(s,t,Wn,!ca);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((t&62914560)===t&&(r=sy+300-Fs(),10<r)){if(ua(s,t,Wn,!ca),Gm(s,0,!0)!==0)break e;s.timeoutHandle=s4(pN.bind(null,s,n,fn,qf,cx,t,Wn,di,fo,ca,i,2,-0,0),r);break e}pN(s,n,fn,qf,cx,t,Wn,di,fo,ca,i,0,-0,0)}}break}while(!0);Ks(e)}function pN(e,t,n,s,r,i,l,o,c,u,d,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Kc={stylesheets:null,count:0,unsuspend:Dte},RM(t),f=Lte(),f!==null)){e.cancelPendingCommit=f(vN.bind(null,e,t,i,n,s,r,l,o,c,d,1,m,h)),ua(e,i,l,!u);return}vN(e,t,i,n,s,r,l,o,c)}function Kee(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Ln(i(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ua(e,t,n,s){t&=~ny,t&=~di,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var i=31-Mn(r),l=1<<i;s[i]=-1,r&=~l}n!==0&&q_(e,n,t)}function sh(){return Ue&6?!0:(zu(0),!1)}function ry(){if(Ae!==null){if(He===0)var e=Ae.return;else e=Ae,xr=Zi=null,Vv(e),$l=null,Xc=0,e=Ae;for(;e!==null;)yM(e.alternate,e),e=e.return;Ae=null}}function ho(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,pte(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ry(),Ke=e,Ae=n=wr(e.current,null),Le=t,He=0,Sn=null,ca=!1,Ro=Nu(e,t),ty=!1,fo=Wn=ny=di=Ta=mt=0,fn=bc=null,cx=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-Mn(s),i=1<<r;t|=e[r],s&=~i}return zr=t,Qm(),n}function BM(e,t){Ee=null,xe.H=Of,t===Au||t===Jm?(t=Yj(),He=3):t===NA?(t=Yj(),He=4):He=t===mM?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Sn=t,Ae===null&&(mt=1,Ff(e,Gn(t,e.current)))}function IM(){var e=xe.H;return xe.H=Of,e===null?Of:e}function FM(){var e=xe.A;return xe.A=Wee,e}function mx(){mt=4,ca||(Le&4194048)!==Le&&Jn.current!==null||(Ro=!0),!(Ta&134217727)&&!(di&134217727)||Ke===null||ua(Ke,Le,Wn,!1)}function Cg(e,t,n){var s=Ue;Ue|=2;var r=IM(),i=FM();(Ke!==e||Le!==t)&&(qf=null,ho(e,t)),t=!1;var l=mt;e:do try{if(He!==0&&Ae!==null){var o=Ae,c=Sn;switch(He){case 8:ry(),l=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(t=!0);var u=He;if(He=0,Sn=null,wl(e,o,c,u),n&&Ro){l=0;break e}break;default:u=He,He=0,Sn=null,wl(e,o,c,u)}}Jee(),l=mt;break}catch(d){BM(e,d)}while(!0);return t&&e.shellSuspendCounter++,xr=Zi=null,Ue=s,xe.H=r,xe.A=i,Ae===null&&(Ke=null,Le=0,Qm()),l}function Jee(){for(;Ae!==null;)HM(Ae)}function ete(e,t){var n=Ue;Ue|=2;var s=IM(),r=FM();Ke!==e||Le!==t?(qf=null,Vf=Fs()+500,ho(e,t)):Ro=Nu(e,t);e:do try{if(He!==0&&Ae!==null){t=Ae;var i=Sn;t:switch(He){case 1:He=0,Sn=null,wl(e,t,i,1);break;case 2:case 9:if(Gj(i)){He=0,Sn=null,xN(t);break}t=function(){He!==2&&He!==9||Ke!==e||(He=7),Ks(e)},i.then(t,t);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Gj(i)?(He=0,Sn=null,xN(t)):(He=0,Sn=null,wl(e,t,i,7));break;case 5:var l=null;switch(Ae.tag){case 26:l=Ae.memoizedState;case 5:case 27:var o=Ae;if(!l||l4(l)){He=0,Sn=null;var c=o.sibling;if(c!==null)Ae=c;else{var u=o.return;u!==null?(Ae=u,rh(u)):Ae=null}break t}}He=0,Sn=null,wl(e,t,i,5);break;case 6:He=0,Sn=null,wl(e,t,i,6);break;case 8:ry(),mt=6;break e;default:throw Error(Y(462))}}tte();break}catch(d){BM(e,d)}while(!0);return xr=Zi=null,xe.H=s,xe.A=r,Ue=n,Ae!==null?0:(Ke=null,Le=0,Qm(),mt)}function tte(){for(;Ae!==null&&!NJ();)HM(Ae)}function HM(e){var t=vM(e.alternate,e,zr);e.memoizedProps=e.pendingProps,t===null?rh(e):Ae=t}function xN(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=uN(n,t,t.pendingProps,t.type,void 0,Le);break;case 11:t=uN(n,t,t.pendingProps,t.type.render,t.ref,Le);break;case 5:Vv(t);default:yM(n,t),t=Ae=yA(t,zr),t=vM(n,t,zr)}e.memoizedProps=e.pendingProps,t===null?rh(e):Ae=t}function wl(e,t,n,s){xr=Zi=null,Vv(t),$l=null,Xc=0;var r=t.return;try{if(Vee(e,r,t,n,Le)){mt=1,Ff(e,Gn(n,e.current)),Ae=null;return}}catch(i){if(r!==null)throw Ae=r,i;mt=1,Ff(e,Gn(n,e.current)),Ae=null;return}t.flags&32768?(Pe||s===1?e=!0:Ro||Le&536870912?e=!1:(ca=e=!0,(s===2||s===9||s===3||s===6)&&(s=Jn.current,s!==null&&s.tag===13&&(s.flags|=16384))),UM(t,e)):rh(t)}function rh(e){var t=e;do{if(t.flags&32768){UM(t,ca);return}e=t.return;var n=Zee(t.alternate,t,zr);if(n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);mt===0&&(mt=5)}function UM(e,t){do{var n=Gee(e.alternate,e);if(n!==null){n.flags&=32767,Ae=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=n}while(e!==null);mt=6,Ae=null}function vN(e,t,n,s,r,i,l,o,c){e.cancelPendingCommit=null;do ah();while(Ht!==0);if(Ue&6)throw Error(Y(327));if(t!==null){if(t===e.current)throw Error(Y(177));if(i=t.lanes|t.childLanes,i|=Mv,DJ(e,n,i,l,o,c),e===Ke&&(Ae=Ke=null,Le=0),mo=t,ba=e,Pl=n,ux=i,dx=r,$M=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ate(Tf,function(){return YM(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=xe.T,xe.T=null,r=Oe.p,Oe.p=2,l=Ue,Ue|=4;try{Yee(e,t,n)}finally{Ue=l,Oe.p=r,xe.T=s}}Ht=1,VM(),qM(),ZM()}}function VM(){if(Ht===1){Ht=0;var e=ba,t=mo,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=xe.T,xe.T=null;var s=Oe.p;Oe.p=2;var r=Ue;Ue|=4;try{_M(t,e);var i=xx,l=dA(e.containerInfo),o=i.focusedElem,c=i.selectionRange;if(l!==o&&o&&o.ownerDocument&&uA(o.ownerDocument.documentElement,o)){if(c!==null&&Av(o)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var f=o.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=o.textContent.length,y=Math.min(c.start,p),w=c.end===void 0?y:Math.min(c.end,p);!h.extend&&y>w&&(l=w,w=y,y=l);var v=Bj(o,y),x=Bj(o,w);if(v&&x&&(h.rangeCount!==1||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==x.node||h.focusOffset!==x.offset)){var b=f.createRange();b.setStart(v.node,v.offset),h.removeAllRanges(),y>w?(h.addRange(b),h.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),h.addRange(b))}}}}for(f=[],h=o;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var j=f[o];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Jf=!!px,xx=px=null}finally{Ue=r,Oe.p=s,xe.T=n}}e.current=t,Ht=2}}function qM(){if(Ht===2){Ht=0;var e=ba,t=mo,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=xe.T,xe.T=null;var s=Oe.p;Oe.p=2;var r=Ue;Ue|=4;try{kM(e,t.alternate,t)}finally{Ue=r,Oe.p=s,xe.T=n}}Ht=3}}function ZM(){if(Ht===4||Ht===3){Ht=0,SJ();var e=ba,t=mo,n=Pl,s=$M;t.subtreeFlags&10256||t.flags&10256?Ht=5:(Ht=0,mo=ba=null,GM(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(ya=null),Nv(n),t=t.stateNode,An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ju,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=xe.T,r=Oe.p,Oe.p=2,xe.T=null;try{for(var i=e.onRecoverableError,l=0;l<s.length;l++){var o=s[l];i(o.value,{componentStack:o.stack})}}finally{xe.T=t,Oe.p=r}}Pl&3&&ah(),Ks(e),r=e.pendingLanes,n&4194090&&r&42?e===fx?wc++:(wc=0,fx=e):wc=0,zu(0)}}function GM(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_u(t)))}function ah(e){return VM(),qM(),ZM(),YM()}function YM(){if(Ht!==5)return!1;var e=ba,t=ux;ux=0;var n=Nv(Pl),s=xe.T,r=Oe.p;try{Oe.p=32>n?32:n,xe.T=null,n=dx,dx=null;var i=ba,l=Pl;if(Ht=0,mo=ba=null,Pl=0,Ue&6)throw Error(Y(331));var o=Ue;if(Ue|=4,zM(i.current),MM(i,i.current,l,n),Ue=o,zu(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ju,i)}catch{}return!0}finally{Oe.p=r,xe.T=s,GM(e,t)}}function yN(e,t,n){t=Gn(n,t),t=ax(e.stateNode,t,2),e=va(e,t,2),e!==null&&(Su(e,2),Ks(e))}function We(e,t,n){if(e.tag===3)yN(e,e,n);else for(;t!==null;){if(t.tag===3){yN(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ya===null||!ya.has(s))){e=Gn(n,e),n=dM(2),s=va(t,n,2),s!==null&&(fM(n,s,t,e),Su(s,2),Ks(s));break}}t=t.return}}function Eg(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Qee;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(ty=!0,r.add(n),e=nte.bind(null,e,t,n),t.then(e,e))}function nte(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ke===e&&(Le&n)===n&&(mt===4||mt===3&&(Le&62914560)===Le&&300>Fs()-sy?!(Ue&2)&&ho(e,0):ny|=n,fo===Le&&(fo=0)),Ks(e)}function XM(e,t){t===0&&(t=V_()),e=Mo(e,t),e!==null&&(Su(e,t),Ks(e))}function ste(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),XM(e,n)}function rte(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(Y(314))}s!==null&&s.delete(t),XM(e,n)}function ate(e,t){return wv(e,t)}var Zf=null,ll=null,hx=!1,Gf=!1,Tg=!1,fi=0;function Ks(e){e!==ll&&e.next===null&&(ll===null?Zf=ll=e:ll=ll.next=e),Gf=!0,hx||(hx=!0,lte())}function zu(e,t){if(!Tg&&Gf){Tg=!0;do for(var n=!1,s=Zf;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var l=s.suspendedLanes,o=s.pingedLanes;i=(1<<31-Mn(42|e)+1)-1,i&=r&~(l&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,bN(s,i))}else i=Le,i=Gm(s,s===Ke?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||Nu(s,i)||(n=!0,bN(s,i));s=s.next}while(n);Tg=!1}}function ite(){WM()}function WM(){Gf=hx=!1;var e=0;fi!==0&&(gte()&&(e=fi),fi=0);for(var t=Fs(),n=null,s=Zf;s!==null;){var r=s.next,i=QM(s,t);i===0?(s.next=null,n===null?Zf=r:n.next=r,r===null&&(ll=n)):(n=s,(e!==0||i&3)&&(Gf=!0)),s=r}zu(e)}function QM(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var l=31-Mn(i),o=1<<l,c=r[l];c===-1?(!(o&n)||o&s)&&(r[l]=RJ(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}if(t=Ke,n=Le,n=Gm(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(He===2||He===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&eg(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Nu(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&eg(s),Nv(n)){case 2:case 8:n=F_;break;case 32:n=Tf;break;case 268435456:n=H_;break;default:n=Tf}return s=KM.bind(null,e),n=wv(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&eg(s),e.callbackPriority=2,e.callbackNode=null,2}function KM(e,t){if(Ht!==0&&Ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ah()&&e.callbackNode!==n)return null;var s=Le;return s=Gm(e,e===Ke?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(OM(e,s,t),QM(e,Fs()),e.callbackNode!=null&&e.callbackNode===n?KM.bind(null,e):null)}function bN(e,t){if(ah())return null;OM(e,t,!0)}function lte(){xte(function(){Ue&6?wv(I_,ite):WM()})}function ay(){return fi===0&&(fi=U_()),fi}function wN(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$d(""+e)}function jN(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ote(e,t,n,s,r){if(t==="submit"&&n&&n.stateNode===r){var i=wN((r[xn]||null).action),l=s.submitter;l&&(t=(t=l[xn]||null)?wN(t.formAction):l.getAttribute("formAction"),t!==null&&(i=t,l=null));var o=new Ym("action","action",null,s,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(fi!==0){var c=l?jN(r,l):new FormData(r);sx(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(o.preventDefault(),c=l?jN(r,l):new FormData(r),sx(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var _g=0;_g<qp.length;_g++){var Ag=qp[_g],cte=Ag.toLowerCase(),ute=Ag[0].toUpperCase()+Ag.slice(1);ys(cte,"on"+ute)}ys(mA,"onAnimationEnd");ys(hA,"onAnimationIteration");ys(gA,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(Eee,"onTransitionRun");ys(Tee,"onTransitionStart");ys(_ee,"onTransitionCancel");ys(pA,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dte=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function JM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var l=s.length-1;0<=l;l--){var o=s[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=u;try{i(r)}catch(d){If(d)}r.currentTarget=null,i=c}else for(l=0;l<s.length;l++){if(o=s[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=u;try{i(r)}catch(d){If(d)}r.currentTarget=null,i=c}}}}function _e(e,t){var n=t[Op];n===void 0&&(n=t[Op]=new Set);var s=e+"__bubble";n.has(s)||(e4(t,e,2,!1),n.add(s))}function Mg(e,t,n){var s=0;t&&(s|=4),e4(n,e,s,t)}var wd="_reactListening"+Math.random().toString(36).slice(2);function iy(e){if(!e[wd]){e[wd]=!0,Y_.forEach(function(n){n!=="selectionchange"&&(dte.has(n)||Mg(n,!1,e),Mg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wd]||(t[wd]=!0,Mg("selectionchange",!1,t))}}function e4(e,t,n,s){switch(f4(t)){case 2:var r=Ote;break;case 8:r=Bte;break;default:r=uy}n=r.bind(null,t,n,e),r=void 0,!Hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Rg(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===r)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;o!==null;){if(l=fl(o),l===null)return;if(c=l.tag,c===5||c===6||c===26||c===27){s=i=l;continue e}o=o.parentNode}}s=s.return}nA(function(){var u=i,d=Cv(n),f=[];e:{var m=xA.get(e);if(m!==void 0){var h=Ym,p=e;switch(e){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":h=aee;break;case"focusin":p="focus",h=og;break;case"focusout":p="blur",h=og;break;case"beforeblur":case"afterblur":h=og;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=_j;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=GJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=oee;break;case mA:case hA:case gA:h=WJ;break;case pA:h=uee;break;case"scroll":case"scrollend":h=qJ;break;case"wheel":h=fee;break;case"copy":case"cut":case"paste":h=KJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Mj;break;case"toggle":case"beforetoggle":h=hee}var y=(t&4)!==0,w=!y&&(e==="scroll"||e==="scrollend"),v=y?m!==null?m+"Capture":null:m;y=[];for(var x=u,b;x!==null;){var j=x;if(b=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||b===null||v===null||(j=Vc(x,v),j!=null&&y.push(Qc(x,j,b))),w)break;x=x.return}0<y.length&&(m=new h(m,p,null,n,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==Fp&&(p=n.relatedTarget||n.fromElement)&&(fl(p)||p[_o]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?fl(p):null,p!==null&&(w=wu(p),y=p.tag,p!==w||y!==5&&y!==27&&y!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=_j,j="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=Mj,j="onPointerLeave",v="onPointerEnter",x="pointer"),w=h==null?m:ac(h),b=p==null?m:ac(p),m=new y(j,x+"leave",h,n,d),m.target=w,m.relatedTarget=b,j=null,fl(d)===u&&(y=new y(v,x+"enter",p,n,d),y.target=b,y.relatedTarget=w,j=y),w=j,h&&p)t:{for(y=h,v=p,x=0,b=y;b;b=sl(b))x++;for(b=0,j=v;j;j=sl(j))b++;for(;0<x-b;)y=sl(y),x--;for(;0<b-x;)v=sl(v),b--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=sl(y),v=sl(v)}y=null}else y=null;h!==null&&NN(f,m,h,y,!1),p!==null&&w!==null&&NN(f,w,p,y,!0)}}e:{if(m=u?ac(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=Lj;else if(zj(m))if(oA)N=See;else{N=jee;var C=wee}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&kv(u.elementType)&&(N=Lj):N=Nee;if(N&&(N=N(e,u))){lA(f,N,n,d);break e}C&&C(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Ip(m,"number",m.value)}switch(C=u?ac(u):window,e){case"focusin":(zj(C)||C.contentEditable==="true")&&(gl=C,Up=u,dc=null);break;case"focusout":dc=Up=gl=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,Ij(f,n,d);break;case"selectionchange":if(Cee)break;case"keydown":case"keyup":Ij(f,n,d)}var S;if(_v)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else hl?aA(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(rA&&n.locale!=="ko"&&(hl||E!=="onCompositionStart"?E==="onCompositionEnd"&&hl&&(S=sA()):(oa=d,Ev="value"in oa?oa.value:oa.textContent,hl=!0)),C=Yf(u,E),0<C.length&&(E=new Aj(E,e,null,n,d),f.push({event:E,listeners:C}),S?E.data=S:(S=iA(n),S!==null&&(E.data=S)))),(S=pee?xee(e,n):vee(e,n))&&(E=Yf(u,"onBeforeInput"),0<E.length&&(C=new Aj("onBeforeInput","beforeinput",null,n,d),f.push({event:C,listeners:E}),C.data=S)),ote(f,e,u,n,d)}JM(f,t)})}function Qc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yf(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Vc(e,n),r!=null&&s.unshift(Qc(e,r,i)),r=Vc(e,t),r!=null&&s.push(Qc(e,r,i))),e.tag===3)return s;e=e.return}return[]}function sl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function NN(e,t,n,s,r){for(var i=t._reactName,l=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===s)break;o!==5&&o!==26&&o!==27||u===null||(c=u,r?(u=Vc(n,i),u!=null&&l.unshift(Qc(n,u,c))):r||(u=Vc(n,i),u!=null&&l.push(Qc(n,u,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var fte=/\r\n?/g,mte=/\u0000|\uFFFD/g;function SN(e){return(typeof e=="string"?e:""+e).replace(fte,`
`).replace(mte,"")}function t4(e,t){return t=SN(t),SN(e)===t}function ih(){}function qe(e,t,n,s,r,i){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||io(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&io(e,""+s);break;case"className":hd(e,"class",s);break;case"tabIndex":hd(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":hd(e,n,s);break;case"style":tA(e,s,i);break;case"data":if(t!=="object"){hd(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=$d(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&qe(e,t,"name",r.name,r,null),qe(e,t,"formEncType",r.formEncType,r,null),qe(e,t,"formMethod",r.formMethod,r,null),qe(e,t,"formTarget",r.formTarget,r,null)):(qe(e,t,"encType",r.encType,r,null),qe(e,t,"method",r.method,r,null),qe(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=$d(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=ih);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=$d(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Ld(e,"popover",s);break;case"xlinkActuate":lr(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":lr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":lr(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":lr(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":lr(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":lr(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":lr(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":lr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":lr(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ld(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=UJ.get(n)||n,Ld(e,n,s))}}function gx(e,t,n,s,r,i){switch(n){case"style":tA(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"children":typeof s=="string"?io(e,s):(typeof s=="number"||typeof s=="bigint")&&io(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!X_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),i=e[xn]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Ld(e,n,s)}}}function Vt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var l=n[i];if(l!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:qe(e,t,i,l,n,null)}}r&&qe(e,t,"srcSet",n.srcSet,n,null),s&&qe(e,t,"src",n.src,n,null);return;case"input":_e("invalid",e);var o=i=l=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,t));break;default:qe(e,t,s,d,n,null)}}K_(e,i,o,c,u,l,r,!1),_f(e);return;case"select":_e("invalid",e),s=l=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:qe(e,t,r,o,n,null)}t=i,n=l,e.multiple=!!s,t!=null?Ml(e,!!s,t,!1):n!=null&&Ml(e,!!s,n,!0);return;case"textarea":_e("invalid",e),i=r=s=null;for(l in n)if(n.hasOwnProperty(l)&&(o=n[l],o!=null))switch(l){case"value":s=o;break;case"defaultValue":r=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Y(91));break;default:qe(e,t,l,o,n,null)}eA(e,s,r,i),_f(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:qe(e,t,c,s,n,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<Wc.length;s++)_e(Wc[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:qe(e,t,u,s,n,null)}return;default:if(kv(t)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&gx(e,t,d,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&qe(e,t,o,s,n,null))}function hte(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,l=null,o=null,c=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=f;default:s.hasOwnProperty(h)||qe(e,t,h,null,s,f)}}for(var m in s){var h=s[m];if(f=n[m],s.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":i=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":l=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Y(137,t));break;default:h!==f&&qe(e,t,m,h,s,f)}}Bp(e,l,o,c,u,d,i,r);return;case"select":h=l=o=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":h=c;default:s.hasOwnProperty(i)||qe(e,t,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":m=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:i!==c&&qe(e,t,r,i,s,c)}t=o,n=l,s=h,m!=null?Ml(e,!!n,m,!1):!!s!=!!n&&(t!=null?Ml(e,!!n,t,!0):Ml(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:qe(e,t,o,null,s,r)}for(l in s)if(r=s[l],i=n[l],s.hasOwnProperty(l)&&(r!=null||i!=null))switch(l){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Y(91));break;default:r!==i&&qe(e,t,l,r,s,i)}J_(e,m,h);return;case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&m!=null&&!s.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:qe(e,t,p,null,s,m)}for(c in s)if(m=s[c],h=n[c],s.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:qe(e,t,c,m,s,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!s.hasOwnProperty(y)&&qe(e,t,y,null,s,m);for(u in s)if(m=s[u],h=n[u],s.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Y(137,t));break;default:qe(e,t,u,m,s,h)}return;default:if(kv(t)){for(var w in n)m=n[w],n.hasOwnProperty(w)&&m!==void 0&&!s.hasOwnProperty(w)&&gx(e,t,w,void 0,s,m);for(d in s)m=s[d],h=n[d],!s.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||gx(e,t,d,m,s,h);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!s.hasOwnProperty(v)&&qe(e,t,v,null,s,m);for(f in s)m=s[f],h=n[f],!s.hasOwnProperty(f)||m===h||m==null&&h==null||qe(e,t,f,m,s,h)}var px=null,xx=null;function Xf(e){return e.nodeType===9?e:e.ownerDocument}function kN(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n4(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dg=null;function gte(){var e=window.event;return e&&e.type==="popstate"?e===Dg?!1:(Dg=e,!0):(Dg=null,!1)}var s4=typeof setTimeout=="function"?setTimeout:void 0,pte=typeof clearTimeout=="function"?clearTimeout:void 0,CN=typeof Promise=="function"?Promise:void 0,xte=typeof queueMicrotask=="function"?queueMicrotask:typeof CN<"u"?function(e){return CN.resolve(null).then(e).catch(vte)}:s4;function vte(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function EN(e,t){var n=t,s=0,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<s&&8>s){n=s;var l=e.ownerDocument;if(n&1&&jc(l.documentElement),n&2&&jc(l.body),n&4)for(n=l.head,jc(n),l=n.firstChild;l;){var o=l.nextSibling,c=l.nodeName;l[ku]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=o}}if(r===0){e.removeChild(i),nu(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);nu(t)}function yx(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yx(n),Sv(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function yte(e,t,n,s){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ku])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=ms(e.nextSibling),e===null)break}return null}function bte(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ms(e.nextSibling),e===null))return null;return e}function bx(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function wte(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ms(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var wx=null;function TN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function r4(e,t,n){switch(t=Xf(n),e){case"html":if(e=t.documentElement,!e)throw Error(Y(452));return e;case"head":if(e=t.head,!e)throw Error(Y(453));return e;case"body":if(e=t.body,!e)throw Error(Y(454));return e;default:throw Error(Y(451))}}function jc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Sv(e)}var es=new Map,_N=new Set;function Wf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Br=Oe.d;Oe.d={f:jte,r:Nte,D:Ste,C:kte,L:Cte,m:Ete,X:_te,S:Tte,M:Ate};function jte(){var e=Br.f(),t=sh();return e||t}function Nte(e){var t=Ao(e);t!==null&&t.tag===5&&t.type==="form"?QA(t):Br.r(e)}var Do=typeof document>"u"?null:document;function a4(e,t,n){var s=Do;if(s&&typeof t=="string"&&t){var r=Zn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),_N.has(r)||(_N.add(r),e={rel:e,crossOrigin:n,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),Vt(t,"link",e),Dt(t),s.head.appendChild(t)))}}function Ste(e){Br.D(e),a4("dns-prefetch",e,null)}function kte(e,t){Br.C(e,t),a4("preconnect",e,t)}function Cte(e,t,n){Br.L(e,t,n);var s=Do;if(s&&e&&t){var r='link[rel="preload"][as="'+Zn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Zn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Zn(n.imageSizes)+'"]')):r+='[href="'+Zn(e)+'"]';var i=r;switch(t){case"style":i=go(e);break;case"script":i=zo(e)}es.has(i)||(e=et({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),es.set(i,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Lu(i))||t==="script"&&s.querySelector($u(i))||(t=s.createElement("link"),Vt(t,"link",e),Dt(t),s.head.appendChild(t)))}}function Ete(e,t){Br.m(e,t);var n=Do;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Zn(s)+'"][href="'+Zn(e)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=zo(e)}if(!es.has(i)&&(e=et({rel:"modulepreload",href:e},t),es.set(i,e),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($u(i)))return}s=n.createElement("link"),Vt(s,"link",e),Dt(s),n.head.appendChild(s)}}}function Tte(e,t,n){Br.S(e,t,n);var s=Do;if(s&&e){var r=Al(s).hoistableStyles,i=go(e);t=t||"default";var l=r.get(i);if(!l){var o={loading:0,preload:null};if(l=s.querySelector(Lu(i)))o.loading=5;else{e=et({rel:"stylesheet",href:e,"data-precedence":t},n),(n=es.get(i))&&ly(e,n);var c=l=s.createElement("link");Dt(c),Vt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,qd(l,t,s)}l={type:"stylesheet",instance:l,count:1,state:o},r.set(i,l)}}}function _te(e,t){Br.X(e,t);var n=Do;if(n&&e){var s=Al(n).hoistableScripts,r=zo(e),i=s.get(r);i||(i=n.querySelector($u(r)),i||(e=et({src:e,async:!0},t),(t=es.get(r))&&oy(e,t),i=n.createElement("script"),Dt(i),Vt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Ate(e,t){Br.M(e,t);var n=Do;if(n&&e){var s=Al(n).hoistableScripts,r=zo(e),i=s.get(r);i||(i=n.querySelector($u(r)),i||(e=et({src:e,async:!0,type:"module"},t),(t=es.get(r))&&oy(e,t),i=n.createElement("script"),Dt(i),Vt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function AN(e,t,n,s){var r=(r=pa.current)?Wf(r):null;if(!r)throw Error(Y(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=go(n.href),n=Al(r).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=go(n.href);var i=Al(r).hoistableStyles,l=i.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,l),(i=r.querySelector(Lu(e)))&&!i._p&&(l.instance=i,l.state.loading=5),es.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},es.set(e,n),i||Mte(r,e,n,l.state))),t&&s===null)throw Error(Y(528,""));return l}if(t&&s!==null)throw Error(Y(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zo(n),n=Al(r).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,e))}}function go(e){return'href="'+Zn(e)+'"'}function Lu(e){return'link[rel="stylesheet"]['+e+"]"}function i4(e){return et({},e,{"data-precedence":e.precedence,precedence:null})}function Mte(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Vt(t,"link",n),Dt(t),e.head.appendChild(t))}function zo(e){return'[src="'+Zn(e)+'"]'}function $u(e){return"script[async]"+e}function MN(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Zn(n.href)+'"]');if(s)return t.instance=s,Dt(s),s;var r=et({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Dt(s),Vt(s,"style",r),qd(s,n.precedence,e),t.instance=s;case"stylesheet":r=go(n.href);var i=e.querySelector(Lu(r));if(i)return t.state.loading|=4,t.instance=i,Dt(i),i;s=i4(n),(r=es.get(r))&&ly(s,r),i=(e.ownerDocument||e).createElement("link"),Dt(i);var l=i;return l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),Vt(i,"link",s),t.state.loading|=4,qd(i,n.precedence,e),t.instance=i;case"script":return i=zo(n.src),(r=e.querySelector($u(i)))?(t.instance=r,Dt(r),r):(s=n,(r=es.get(i))&&(s=et({},n),oy(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),Dt(r),Vt(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(Y(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,qd(s,n.precedence,e));return t.instance}function qd(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,l=0;l<s.length;l++){var o=s[l];if(o.dataset.precedence===t)i=o;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ly(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function oy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zd=null;function RN(e,t,n){if(Zd===null){var s=new Map,r=Zd=new Map;r.set(n,s)}else r=Zd,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[ku]||i[Xt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(t)||"";l=e+l;var o=s.get(l);o?o.push(i):s.set(l,[i])}}return s}function DN(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Rte(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function l4(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Kc=null;function Dte(){}function zte(e,t,n){if(Kc===null)throw Error(Y(475));var s=Kc;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=go(n.href),i=e.querySelector(Lu(r));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Qf.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=i,Dt(i);return}i=e.ownerDocument||e,n=i4(n),(r=es.get(r))&&ly(n,r),i=i.createElement("link"),Dt(i);var l=i;l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),Vt(i,"link",n),t.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=Qf.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function Lte(){if(Kc===null)throw Error(Y(475));var e=Kc;return e.stylesheets&&e.count===0&&jx(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&jx(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Qf(){if(this.count--,this.count===0){if(this.stylesheets)jx(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kf=null;function jx(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kf=new Map,t.forEach($te,e),Kf=null,Qf.call(e))}function $te(e,t){if(!(t.state.loading&4)){var n=Kf.get(e);if(n)var s=n.get(null);else{n=new Map,Kf.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var l=r[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),s=l)}s&&n.set(null,s)}r=t.instance,l=r.getAttribute("data-precedence"),i=n.get(l)||s,i===s&&n.set(null,r),n.set(l,r),this.count++,s=Qf.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Jc={$$typeof:hr,Provider:null,Consumer:null,_currentValue:ii,_currentValue2:ii,_threadCount:0};function Pte(e,t,n,s,r,i,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tg(0),this.hiddenUpdates=tg(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function o4(e,t,n,s,r,i,l,o,c,u,d,f){return e=new Pte(e,t,n,l,o,c,u,f),t=1,i===!0&&(t|=24),i=Tn(3,null,null,t),e.current=i,i.stateNode=e,t=$v(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:t},Ov(i),e}function c4(e){return e?(e=vl,e):vl}function u4(e,t,n,s,r,i){r=c4(r),s.context===null?s.context=r:s.pendingContext=r,s=xa(t),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=va(e,s,t),n!==null&&(Dn(n,e,t),hc(n,e,t))}function zN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cy(e,t){zN(e,t),(e=e.alternate)&&zN(e,t)}function d4(e){if(e.tag===13){var t=Mo(e,67108864);t!==null&&Dn(t,e,67108864),cy(e,67108864)}}var Jf=!0;function Ote(e,t,n,s){var r=xe.T;xe.T=null;var i=Oe.p;try{Oe.p=2,uy(e,t,n,s)}finally{Oe.p=i,xe.T=r}}function Bte(e,t,n,s){var r=xe.T;xe.T=null;var i=Oe.p;try{Oe.p=8,uy(e,t,n,s)}finally{Oe.p=i,xe.T=r}}function uy(e,t,n,s){if(Jf){var r=Nx(s);if(r===null)Rg(e,t,s,em,n),LN(e,s);else if(Fte(r,e,t,n,s))s.stopPropagation();else if(LN(e,s),t&4&&-1<Ite.indexOf(e)){for(;r!==null;){var i=Ao(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=Ya(i.pendingLanes);if(l!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var c=1<<31-Mn(l);o.entanglements[1]|=c,l&=~c}Ks(i),!(Ue&6)&&(Vf=Fs()+500,zu(0))}}break;case 13:o=Mo(i,2),o!==null&&Dn(o,i,2),sh(),cy(i,2)}if(i=Nx(s),i===null&&Rg(e,t,s,em,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Rg(e,t,s,null,n)}}function Nx(e){return e=Cv(e),dy(e)}var em=null;function dy(e){if(em=null,e=fl(e),e!==null){var t=wu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=$_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return em=e,null}function f4(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kJ()){case I_:return 2;case F_:return 8;case Tf:case CJ:return 32;case H_:return 268435456;default:return 32}default:return 32}}var Sx=!1,wa=null,ja=null,Na=null,eu=new Map,tu=new Map,ra=[],Ite="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LN(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(t.pointerId)}}function Ko(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Ao(t),t!==null&&d4(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Fte(e,t,n,s,r){switch(t){case"focusin":return wa=Ko(wa,e,t,n,s,r),!0;case"dragenter":return ja=Ko(ja,e,t,n,s,r),!0;case"mouseover":return Na=Ko(Na,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return eu.set(i,Ko(eu.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,tu.set(i,Ko(tu.get(i)||null,e,t,n,s,r)),!0}return!1}function m4(e){var t=fl(e.target);if(t!==null){var n=wu(t);if(n!==null){if(t=n.tag,t===13){if(t=$_(n),t!==null){e.blockedOn=t,zJ(e.priority,function(){if(n.tag===13){var s=Rn();s=jv(s);var r=Mo(n,s);r!==null&&Dn(r,n,s),cy(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nx(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Fp=s,n.target.dispatchEvent(s),Fp=null}else return t=Ao(n),t!==null&&d4(t),e.blockedOn=n,!1;t.shift()}return!0}function $N(e,t,n){Gd(e)&&n.delete(t)}function Hte(){Sx=!1,wa!==null&&Gd(wa)&&(wa=null),ja!==null&&Gd(ja)&&(ja=null),Na!==null&&Gd(Na)&&(Na=null),eu.forEach($N),tu.forEach($N)}function jd(e,t){e.blockedOn===t&&(e.blockedOn=null,Sx||(Sx=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,Hte)))}var Nd=null;function PN(e){Nd!==e&&(Nd=e,At.unstable_scheduleCallback(At.unstable_NormalPriority,function(){Nd===e&&(Nd=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(dy(s||n)===null)continue;break}var i=Ao(n);i!==null&&(e.splice(t,3),t-=3,sx(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function nu(e){function t(c){return jd(c,e)}wa!==null&&jd(wa,e),ja!==null&&jd(ja,e),Na!==null&&jd(Na,e),eu.forEach(t),tu.forEach(t);for(var n=0;n<ra.length;n++){var s=ra[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ra.length&&(n=ra[0],n.blockedOn===null);)m4(n),n.blockedOn===null&&ra.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],l=r[xn]||null;if(typeof i=="function")l||PN(n);else if(l){var o=null;if(i&&i.hasAttribute("formAction")){if(r=i,l=i[xn]||null)o=l.formAction;else if(dy(r)!==null)continue}else o=l.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),PN(n)}}}function fy(e){this._internalRoot=e}lh.prototype.render=fy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));var n=t.current,s=Rn();u4(n,s,e,t,null,null)};lh.prototype.unmount=fy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;u4(e.current,2,null,e,null,null),sh(),t[_o]=null}};function lh(e){this._internalRoot=e}lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=G_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ra.length&&t!==0&&t<ra[n].priority;n++);ra.splice(n,0,e),n===0&&m4(e)}};var ON=z_.version;if(ON!=="19.1.0")throw Error(Y(527,ON,"19.1.0"));Oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=vJ(t),e=e!==null?P_(e):null,e=e===null?null:e.stateNode,e};var Ute={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:xe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{ju=Sd.inject(Ute),An=Sd}catch{}}Zm.createRoot=function(e,t){if(!L_(e))throw Error(Y(299));var n=!1,s="",r=oM,i=cM,l=uM,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=o4(e,1,!1,null,null,n,s,r,i,l,o,null),e[_o]=t.current,iy(e),new fy(t)};Zm.hydrateRoot=function(e,t,n){if(!L_(e))throw Error(Y(299));var s=!1,r="",i=oM,l=cM,o=uM,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=o4(e,1,!0,t,n??null,s,r,i,l,o,c,u),t.context=c4(null),n=t.current,s=Rn(),s=jv(s),r=xa(s),r.callback=null,va(n,r,s),n=s,t.current.lanes=n,Su(t,n),Ks(t),e[_o]=t.current,iy(e),new lh(t)};Zm.version="19.1.0";function h4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h4)}catch(e){console.error(e)}}h4(),M_.exports=Zm;var Vte=M_.exports;Vte.createRoot(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx($8,{showLoadingIndicator:!0,children:a.jsx(B$,{children:a.jsx(gJ,{})})})}));export{an as g};
