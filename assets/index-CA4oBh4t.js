var rR=Object.defineProperty;var aR=(e,t,n)=>t in e?rR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ue=(e,t,n)=>aR(e,typeof t!="symbol"?t+"":t,n);function oR(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function sx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bN={exports:{}},_f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR=Symbol.for("react.transitional.element"),lR=Symbol.for("react.fragment");function wN(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:iR,type:e,key:s,ref:t!==void 0?t:null,props:n}}_f.Fragment=lR;_f.jsx=wN;_f.jsxs=wN;bN.exports=_f;var o=bN.exports;const Ct={CONTENT:1,DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,DRAWER:202,HEADER:50,SIDEBAR:60,STICKY:40};var NN={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=Symbol.for("react.transitional.element"),cR=Symbol.for("react.portal"),uR=Symbol.for("react.fragment"),dR=Symbol.for("react.strict_mode"),fR=Symbol.for("react.profiler"),mR=Symbol.for("react.consumer"),hR=Symbol.for("react.context"),gR=Symbol.for("react.forward_ref"),pR=Symbol.for("react.suspense"),xR=Symbol.for("react.memo"),jN=Symbol.for("react.lazy"),tv=Symbol.iterator;function yR(e){return e===null||typeof e!="object"?null:(e=tv&&e[tv]||e["@@iterator"],typeof e=="function"?e:null)}var SN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CN=Object.assign,kN={};function Ui(e,t,n){this.props=e,this.context=t,this.refs=kN,this.updater=n||SN}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function EN(){}EN.prototype=Ui.prototype;function ax(e,t,n){this.props=e,this.context=t,this.refs=kN,this.updater=n||SN}var ox=ax.prototype=new EN;ox.constructor=ax;CN(ox,Ui.prototype);ox.isPureReactComponent=!0;var nv=Array.isArray,We={H:null,A:null,T:null,S:null,V:null},_N=Object.prototype.hasOwnProperty;function ix(e,t,n,s,r,a){return n=a.ref,{$$typeof:rx,type:e,key:t,ref:n!==void 0?n:null,props:a}}function vR(e,t){return ix(e.type,t,void 0,void 0,void 0,e.props)}function lx(e){return typeof e=="object"&&e!==null&&e.$$typeof===rx}function bR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sv=/\/+/g;function Om(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bR(""+e.key):t.toString(36)}function rv(){}function wR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(rv,rv):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Lo(e,t,n,s,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case rx:case cR:i=!0;break;case jN:return i=e._init,Lo(i(e._payload),t,n,s,r)}}if(i)return r=r(e),i=s===""?"."+Om(e,0):s,nv(r)?(n="",i!=null&&(n=i.replace(sv,"$&/")+"/"),Lo(r,t,n,"",function(u){return u})):r!=null&&(lx(r)&&(r=vR(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(sv,"$&/")+"/")+i)),t.push(r)),1;i=0;var l=s===""?".":s+":";if(nv(e))for(var c=0;c<e.length;c++)s=e[c],a=l+Om(s,c),i+=Lo(s,t,n,a,r);else if(c=yR(e),typeof c=="function")for(e=c.call(e),c=0;!(s=e.next()).done;)s=s.value,a=l+Om(s,c++),i+=Lo(s,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return Lo(wR(e),t,n,s,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function fu(e,t,n){if(e==null)return e;var s=[],r=0;return Lo(e,s,"","",function(a){return t.call(n,a,r++)}),s}function NR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var av=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jR(){}be.Children={map:fu,forEach:function(e,t,n){fu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fu(e,function(){t++}),t},toArray:function(e){return fu(e,function(t){return t})||[]},only:function(e){if(!lx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Ui;be.Fragment=uR;be.Profiler=fR;be.PureComponent=ax;be.StrictMode=dR;be.Suspense=pR;be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=We;be.__COMPILER_RUNTIME={__proto__:null,c:function(e){return We.H.useMemoCache(e)}};be.cache=function(e){return function(){return e.apply(null,arguments)}};be.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=CN({},e.props),r=e.key,a=void 0;if(t!=null)for(i in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!_N.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(s[i]=t[i]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];s.children=l}return ix(e.type,r,void 0,void 0,a,s)};be.createContext=function(e){return e={$$typeof:hR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:mR,_context:e},e};be.createElement=function(e,t,n){var s,r={},a=null;if(t!=null)for(s in t.key!==void 0&&(a=""+t.key),t)_N.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=t[s]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)r[s]===void 0&&(r[s]=i[s]);return ix(e,a,void 0,void 0,null,r)};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:gR,render:e}};be.isValidElement=lx;be.lazy=function(e){return{$$typeof:jN,_payload:{_status:-1,_result:e},_init:NR}};be.memo=function(e,t){return{$$typeof:xR,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=We.T,n={};We.T=n;try{var s=e(),r=We.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(jR,av)}catch(a){av(a)}finally{We.T=t}};be.unstable_useCacheRefresh=function(){return We.H.useCacheRefresh()};be.use=function(e){return We.H.use(e)};be.useActionState=function(e,t,n){return We.H.useActionState(e,t,n)};be.useCallback=function(e,t){return We.H.useCallback(e,t)};be.useContext=function(e){return We.H.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e,t){return We.H.useDeferredValue(e,t)};be.useEffect=function(e,t,n){var s=We.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};be.useId=function(){return We.H.useId()};be.useImperativeHandle=function(e,t,n){return We.H.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return We.H.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return We.H.useLayoutEffect(e,t)};be.useMemo=function(e,t){return We.H.useMemo(e,t)};be.useOptimistic=function(e,t){return We.H.useOptimistic(e,t)};be.useReducer=function(e,t,n){return We.H.useReducer(e,t,n)};be.useRef=function(e){return We.H.useRef(e)};be.useState=function(e){return We.H.useState(e)};be.useSyncExternalStore=function(e,t,n){return We.H.useSyncExternalStore(e,t,n)};be.useTransition=function(){return We.H.useTransition()};be.version="19.1.0";NN.exports=be;var g=NN.exports;const $=sx(g),AN=oR({__proto__:null,default:$},[g]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),ov=e=>{const t=CR(e);return t.charAt(0).toUpperCase()+t.slice(1)},TN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),kR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ER={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:a,iconNode:i,...l},c)=>g.createElement("svg",{ref:c,...ER,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:TN("lucide",r),...!a&&!kR(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>g.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const n=g.forwardRef(({className:s,...r},a)=>g.createElement(_R,{ref:a,iconNode:t,className:TN(`lucide-${SR(ov(e))}`,`lucide-${e}`,s),...r}));return n.displayName=ov(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],lg=oe("arrow-left",AR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],MR=oe("arrow-right",TR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],MN=oe("book-open",RR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],iv=oe("brain",DR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cg=oe("check",zR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],$R=oe("chef-hat",LR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],In=oe("chevron-down",PR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BR=oe("chevron-left",OR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rc=oe("chevron-right",IR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UR=oe("chevron-up",HR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gi=oe("circle-alert",FR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ug=oe("circle-check-big",VR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],GR=oe("circle-x",qR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Af=oe("circle",ZR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XR=oe("clock",YR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],WR=oe("copy",KR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],JR=oe("crosshair",QR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],t4=oe("droplets",e4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],pi=oe("external-link",n4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cx=oe("eye",s4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],RN=oe("file-text",r4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],DN=oe("flame",a4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],i4=oe("ghost",o4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ro=oe("grid-3x3",l4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],lv=oe("hand",c4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Tf=oe("heart",u4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],f4=oe("house",d4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jl=oe("info",m4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],g4=oe("layout-grid",h4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ha=oe("list",p4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y4=oe("lock",x4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],zN=oe("maximize-2",v4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],w4=oe("menu",b4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],j4=oe("message-square",N4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],LN=oe("minimize-2",S4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ll=oe("minus",C4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],E4=oe("monitor",k4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],A4=oe("moon",_4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wr=oe("plus",T4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xi=oe("rotate-ccw",M4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],D4=oe("scroll",R4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],L4=oe("search-x",z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yi=oe("search",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ux=oe("settings",P4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Aa=oe("shield",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ec=oe("sparkles",B4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pt=oe("star",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cv=oe("sun",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],dg=oe("sword",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],V4=oe("tag",F4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Nd=oe("target",q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Z4=oe("trash-2",G4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],uv=oe("trending-down",Y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fg=oe("trending-up",X4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tc=oe("triangle-alert",K4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Q4=oe("user-check",W4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$l=oe("user",J4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],t3=oe("users",e3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],s3=oe("utensils",n3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],a3=oe("wine",r3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],i3=oe("wrench",o3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ft=oe("x",l3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nc=oe("zap",c3);var dx={};Object.defineProperty(dx,"__esModule",{value:!0});dx.parse=p3;dx.serialize=x3;const u3=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,d3=/^[\u0021-\u003A\u003C-\u007E]*$/,f3=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,m3=/^[\u0020-\u003A\u003D-\u007E]*$/,h3=Object.prototype.toString,g3=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function p3(e,t){const n=new g3,s=e.length;if(s<2)return n;const r=(t==null?void 0:t.decode)||y3;let a=0;do{const i=e.indexOf("=",a);if(i===-1)break;const l=e.indexOf(";",a),c=l===-1?s:l;if(i>c){a=e.lastIndexOf(";",i-1)+1;continue}const u=dv(e,a,i),d=fv(e,i,u),f=e.slice(u,d);if(n[f]===void 0){let m=dv(e,i+1,c),h=fv(e,c,m);const p=r(e.slice(m,h));n[f]=p}a=c+1}while(a<s);return n}function dv(e,t,n){do{const s=e.charCodeAt(t);if(s!==32&&s!==9)return t}while(++t<n);return n}function fv(e,t,n){for(;t>n;){const s=e.charCodeAt(--t);if(s!==32&&s!==9)return t+1}return n}function x3(e,t,n){const s=(n==null?void 0:n.encode)||encodeURIComponent;if(!u3.test(e))throw new TypeError(`argument name is invalid: ${e}`);const r=s(t);if(!d3.test(r))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+r;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!f3.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!m3.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!v3(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function y3(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function v3(e){return h3.call(e)==="[object Date]"}var mv="popstate";function b3(e={}){function t(r,a){let{pathname:i="/",search:l="",hash:c=""}=ao(r.location.hash.substring(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),mg("",{pathname:i,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){let i=r.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=r.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof a=="string"?a:sc(a))}function s(r,a){Hn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return N3(t,n,s,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w3(){return Math.random().toString(36).substring(2,10)}function hv(e,t){return{usr:e.state,key:e.key,idx:t}}function mg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ao(t):t,state:n,key:t&&t.key||s||w3()}}function sc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ao(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function N3(e,t,n,s={}){let{window:r=document.defaultView,v5Compat:a=!1}=s,i=r.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:y.location,delta:x})}function m(v,x){l="PUSH";let b=mg(y.location,v,x);n&&n(b,v),u=d()+1;let w=hv(b,u),N=y.createHref(b);try{i.pushState(w,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(N)}a&&c&&c({action:l,location:y.location,delta:1})}function h(v,x){l="REPLACE";let b=mg(y.location,v,x);n&&n(b,v),u=d();let w=hv(b,u),N=y.createHref(b);i.replaceState(w,"",N),a&&c&&c({action:l,location:y.location,delta:0})}function p(v){return j3(v)}let y={get action(){return l},get location(){return e(r,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(mv,f),c=v,()=>{r.removeEventListener(mv,f),c=null}},createHref(v){return t(r,v)},createURL:p,encodeLocation(v){let x=p(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(v){return i.go(v)}};return y}function j3(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:sc(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function $N(e,t,n="/"){return S3(e,t,n,!1)}function S3(e,t,n,s){let r=typeof t=="string"?ao(t):t,a=mr(r.pathname||"/",n);if(a==null)return null;let i=PN(e);C3(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=$3(a);l=z3(i[c],u,s)}return l}function PN(e,t=[],n=[],s=""){let r=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let u=lr([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),PN(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:R3(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,i);else for(let c of ON(a.path))r(a,i,c)}),t}function ON(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let i=ON(s.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function C3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D3(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var k3=/^:[\w-]+$/,E3=3,_3=2,A3=1,T3=10,M3=-2,gv=e=>e==="*";function R3(e,t){let n=e.split("/"),s=n.length;return n.some(gv)&&(s+=M3),t&&(s+=_3),n.filter(r=>!gv(r)).reduce((r,a)=>r+(k3.test(a)?E3:a===""?A3:T3),s)}function D3(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function z3(e,t,n=!1){let{routesMeta:s}=e,r={},a="/",i=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=jd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=jd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),i.push({params:r,pathname:lr([a,f.pathname]),pathnameBase:I3(lr([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=lr([a,f.pathnameBase]))}return i}function jd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=L3(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let p=l[m]||"";i=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const h=l[m];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function L3(e,t=!1,n=!0){Hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function $3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function P3(e,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?ao(e):e;return{pathname:n?n.startsWith("/")?n:O3(n,t):t,search:H3(s),hash:U3(r)}}function O3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Bm(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function BN(e){let t=B3(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function IN(e,t,n,s=!1){let r;typeof e=="string"?r=ao(e):(r={...e},nt(!r.pathname||!r.pathname.includes("?"),Bm("?","pathname","search",r)),nt(!r.pathname||!r.pathname.includes("#"),Bm("#","pathname","hash",r)),nt(!r.search||!r.search.includes("#"),Bm("#","search","hash",r)));let a=e===""||r.pathname==="",i=a?"/":r.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!s&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=P3(r,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var lr=e=>e.join("/").replace(/\/\/+/g,"/"),I3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,U3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function F3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var HN=["POST","PUT","PATCH","DELETE"];new Set(HN);var V3=["GET",...HN];new Set(V3);var Fi=g.createContext(null);Fi.displayName="DataRouter";var Mf=g.createContext(null);Mf.displayName="DataRouterState";var UN=g.createContext({isTransitioning:!1});UN.displayName="ViewTransition";var q3=g.createContext(new Map);q3.displayName="Fetchers";var G3=g.createContext(null);G3.displayName="Await";var As=g.createContext(null);As.displayName="Navigation";var Dc=g.createContext(null);Dc.displayName="Location";var Ts=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var fx=g.createContext(null);fx.displayName="RouteError";function Z3(e,{relative:t}={}){nt(zc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=g.useContext(As),{hash:r,pathname:a,search:i}=Lc(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:lr([n,a])),s.createHref({pathname:l,search:i,hash:r})}function zc(){return g.useContext(Dc)!=null}function jr(){return nt(zc(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Dc).location}var FN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VN(e){g.useContext(As).static||g.useLayoutEffect(e)}function yt(){let{isDataRoute:e}=g.useContext(Ts);return e?lD():Y3()}function Y3(){nt(zc(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(Fi),{basename:t,navigator:n}=g.useContext(As),{matches:s}=g.useContext(Ts),{pathname:r}=jr(),a=JSON.stringify(BN(s)),i=g.useRef(!1);return VN(()=>{i.current=!0}),g.useCallback((c,u={})=>{if(Hn(i.current,FN),!i.current)return;if(typeof c=="number"){n.go(c);return}let d=IN(c,JSON.parse(a),r,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:lr([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,a,r,e])}var X3=g.createContext(null);function K3(e){let t=g.useContext(Ts).outlet;return t&&g.createElement(X3.Provider,{value:e},t)}function Lc(e,{relative:t}={}){let{matches:n}=g.useContext(Ts),{pathname:s}=jr(),r=JSON.stringify(BN(n));return g.useMemo(()=>IN(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function W3(e,t){return qN(e,t)}function qN(e,t,n,s){var x;nt(zc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=g.useContext(As),{matches:a}=g.useContext(Ts),i=a[a.length-1],l=i?i.params:{},c=i?i.pathname:"/",u=i?i.pathnameBase:"/",d=i&&i.route;{let b=d&&d.path||"";GN(c,!d||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=jr(),m;if(t){let b=typeof t=="string"?ao(t):t;nt(u==="/"||((x=b.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=f;let h=m.pathname||"/",p=h;if(u!=="/"){let b=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=$N(e,{pathname:p});Hn(d||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Hn(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=nD(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:lr([u,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:lr([u,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,s);return t&&v?g.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function Q3(){let e=iD(),t=F3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:a},"ErrorBoundary")," or"," ",g.createElement("code",{style:a},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:r},n):null,i)}var J3=g.createElement(Q3,null),eD=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(Ts.Provider,{value:this.props.routeContext},g.createElement(fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tD({routeContext:e,match:t,children:n}){let s=g.useContext(Fi);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Ts.Provider,{value:e},n)}function nD(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,a=n==null?void 0:n.errors;if(a!=null){let c=r.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);nt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let i=!1,l=-1;if(n)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,m=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){i=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let f,m=!1,h=null,p=null;n&&(f=a&&u.route.id?a[u.route.id]:void 0,h=u.route.errorElement||J3,i&&(l<0&&d===0?(GN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,p=null):l===d&&(m=!0,p=u.route.hydrateFallbackElement||null)));let y=t.concat(r.slice(0,d+1)),v=()=>{let x;return f?x=h:m?x=p:u.route.Component?x=g.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,g.createElement(tD,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?g.createElement(eD,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}function mx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sD(e){let t=g.useContext(Fi);return nt(t,mx(e)),t}function rD(e){let t=g.useContext(Mf);return nt(t,mx(e)),t}function aD(e){let t=g.useContext(Ts);return nt(t,mx(e)),t}function hx(e){let t=aD(e),n=t.matches[t.matches.length-1];return nt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function oD(){return hx("useRouteId")}function iD(){var s;let e=g.useContext(fx),t=rD("useRouteError"),n=hx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function lD(){let{router:e}=sD("useNavigate"),t=hx("useNavigate"),n=g.useRef(!1);return VN(()=>{n.current=!0}),g.useCallback(async(r,a={})=>{Hn(n.current,FN),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}var pv={};function GN(e,t,n){!t&&!pv[e]&&(pv[e]=!0,Hn(!1,n))}g.memo(cD);function cD({routes:e,future:t,state:n}){return qN(e,void 0,n,t)}function uD(e){return K3(e.context)}function mt(e){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dD({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:a=!1}){nt(!zc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:i,navigator:r,static:a,future:{}}),[i,r,a]);typeof n=="string"&&(n=ao(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:m="default"}=n,h=g.useMemo(()=>{let p=mr(c,i);return p==null?null:{location:{pathname:p,search:u,hash:d,state:f,key:m},navigationType:s}},[i,c,u,d,f,m,s]);return Hn(h!=null,`<Router basename="${i}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:g.createElement(As.Provider,{value:l},g.createElement(Dc.Provider,{children:t,value:h}))}function fD({children:e,location:t}){return W3(hg(e),t)}function hg(e,t=[]){let n=[];return g.Children.forEach(e,(s,r)=>{if(!g.isValidElement(s))return;let a=[...t,r];if(s.type===g.Fragment){n.push.apply(n,hg(s.props.children,a));return}nt(s.type===mt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=hg(s.props.children,a)),n.push(i)}),n}var ed="get",td="application/x-www-form-urlencoded";function Rf(e){return e!=null&&typeof e.tagName=="string"}function mD(e){return Rf(e)&&e.tagName.toLowerCase()==="button"}function hD(e){return Rf(e)&&e.tagName.toLowerCase()==="form"}function gD(e){return Rf(e)&&e.tagName.toLowerCase()==="input"}function pD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xD(e,t){return e.button===0&&(!t||t==="_self")&&!pD(e)}function gg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function yD(e,t){let n=gg(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(a=>{n.append(r,a)})}),n}var mu=null;function vD(){if(mu===null)try{new FormData(document.createElement("form"),0),mu=!1}catch{mu=!0}return mu}var bD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(e){return e!=null&&!bD.has(e)?(Hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${td}"`),null):e}function wD(e,t){let n,s,r,a,i;if(hD(e)){let l=e.getAttribute("action");s=l?mr(l,t):null,n=e.getAttribute("method")||ed,r=Im(e.getAttribute("enctype"))||td,a=new FormData(e)}else if(mD(e)||gD(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?mr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ed,r=Im(e.getAttribute("formenctype"))||Im(l.getAttribute("enctype"))||td,a=new FormData(l,e),!vD()){let{name:u,type:d,value:f}=e;if(d==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,f)}}else{if(Rf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ed,s=null,r=td,i=e}return a&&r==="text/plain"&&(i=a,a=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:a,body:i}}function gx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function ND(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function SD(e,t,n){let s=await Promise.all(e.map(async r=>{let a=t.routes[r.route.id];if(a){let i=await ND(a,n);return i.links?i.links():[]}return[]}));return _D(s.flat(1).filter(jD).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function xv(e,t,n,s,r,a){let i=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var f;let d=s.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function CD(e,t,{includeHydrateFallback:n}={}){return kD(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function kD(e){return[...new Set(e)]}function ED(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function _D(e,t){let n=new Set;return new Set(t),e.reduce((s,r)=>{let a=JSON.stringify(ED(r));return n.has(a)||(n.add(a),s.push({key:a,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AD=new Set([100,101,204,205]);function TD(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&mr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ZN(){let e=g.useContext(Fi);return gx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function MD(){let e=g.useContext(Mf);return gx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var px=g.createContext(void 0);px.displayName="FrameworkContext";function YN(){let e=g.useContext(px);return gx(e,"You must render this element inside a <HydratedRouter> element"),e}function RD(e,t){let n=g.useContext(px),[s,r]=g.useState(!1),[a,i]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,m=g.useRef(null);g.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let y=x=>{x.forEach(b=>{i(b.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),g.useEffect(()=>{if(s){let y=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(y)}}},[s]);let h=()=>{r(!0)},p=()=>{r(!1),i(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:cl(l,h),onBlur:cl(c,p),onMouseEnter:cl(u,h),onMouseLeave:cl(d,p),onTouchStart:cl(f,h)}]:[!1,m,{}]}function cl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function DD({page:e,...t}){let{router:n}=ZN(),s=g.useMemo(()=>$N(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?g.createElement(LD,{page:e,matches:s,...t}):null}function zD(e){let{manifest:t,routeModules:n}=YN(),[s,r]=g.useState([]);return g.useEffect(()=>{let a=!1;return SD(e,t,n).then(i=>{a||r(i)}),()=>{a=!0}},[e,t,n]),s}function LD({page:e,matches:t,...n}){let s=jr(),{manifest:r,routeModules:a}=YN(),{basename:i}=ZN(),{loaderData:l,matches:c}=MD(),u=g.useMemo(()=>xv(e,t,c,r,s,"data"),[e,t,c,r,s]),d=g.useMemo(()=>xv(e,t,c,r,s,"assets"),[e,t,c,r,s]),f=g.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let p=new Set,y=!1;if(t.forEach(x=>{var w;let b=r.routes[x.route.id];!b||!b.hasLoader||(!u.some(N=>N.route.id===x.route.id)&&x.route.id in l&&((w=a[x.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?y=!0:p.add(x.route.id))}),p.size===0)return[];let v=TD(e,i);return y&&p.size>0&&v.searchParams.set("_routes",t.filter(x=>p.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[i,l,s,r,u,t,e,a]),m=g.useMemo(()=>CD(d,r),[d,r]),h=zD(d);return g.createElement(g.Fragment,null,f.map(p=>g.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),m.map(p=>g.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:y})=>g.createElement("link",{key:p,...y})))}function $D(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var XN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XN&&(window.__reactRouterVersion="7.6.3")}catch{}function PD({basename:e,children:t,window:n}){let s=g.useRef();s.current==null&&(s.current=b3({window:n,v5Compat:!0}));let r=s.current,[a,i]=g.useState({action:r.action,location:r.location}),l=g.useCallback(c=>{g.startTransition(()=>i(c))},[i]);return g.useLayoutEffect(()=>r.listen(l),[r,l]),g.createElement(dD,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:r})}var KN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WN=g.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},h){let{basename:p}=g.useContext(As),y=typeof u=="string"&&KN.test(u),v,x=!1;if(typeof u=="string"&&y&&(v=u,XN))try{let E=new URL(window.location.href),_=u.startsWith("//")?new URL(E.protocol+u):new URL(u),P=mr(_.pathname,p);_.origin===E.origin&&P!=null?u=P+_.search+_.hash:x=!0}catch{Hn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=Z3(u,{relative:r}),[w,N,j]=RD(s,m),S=HD(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:f});function C(E){t&&t(E),E.defaultPrevented||S(E)}let k=g.createElement("a",{...m,...j,href:v||b,onClick:x||a?t:C,ref:$D(h,N),target:c,"data-discover":!y&&n==="render"?"true":void 0});return w&&!y?g.createElement(g.Fragment,null,k,g.createElement(DD,{page:b})):k});WN.displayName="Link";var OD=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:a,to:i,viewTransition:l,children:c,...u},d){let f=Lc(i,{relative:u.relative}),m=jr(),h=g.useContext(Mf),{navigator:p,basename:y}=g.useContext(As),v=h!=null&&ZD(f)&&l===!0,x=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,b=m.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&y&&(w=mr(w,y)||w);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=b===x||!r&&b.startsWith(x)&&b.charAt(N)==="/",S=w!=null&&(w===x||!r&&w.startsWith(x)&&w.charAt(x.length)==="/"),C={isActive:j,isPending:S,isTransitioning:v},k=j?t:void 0,E;typeof s=="function"?E=s(C):E=[s,j?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let _=typeof a=="function"?a(C):a;return g.createElement(WN,{...u,"aria-current":k,className:E,ref:d,style:_,to:i,viewTransition:l},typeof c=="function"?c(C):c)});OD.displayName="NavLink";var BD=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:a,method:i=ed,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},h)=>{let p=qD(),y=GD(l,{relative:u}),v=i.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&KN.test(l),b=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let N=w.nativeEvent.submitter,j=(N==null?void 0:N.getAttribute("formmethod"))||i;p(N||w.currentTarget,{fetcherKey:t,method:j,navigate:n,replace:r,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return g.createElement("form",{ref:h,method:v,action:y,onSubmit:s?c:b,...m,"data-discover":!x&&e==="render"?"true":void 0})});BD.displayName="Form";function ID(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QN(e){let t=g.useContext(Fi);return nt(t,ID(e)),t}function HD(e,{target:t,replace:n,state:s,preventScrollReset:r,relative:a,viewTransition:i}={}){let l=yt(),c=jr(),u=Lc(e,{relative:a});return g.useCallback(d=>{if(xD(d,t)){d.preventDefault();let f=n!==void 0?n:sc(c)===sc(u);l(e,{replace:f,state:s,preventScrollReset:r,relative:a,viewTransition:i})}},[c,l,u,n,s,t,e,r,a,i])}function UD(e){Hn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(gg(e)),n=g.useRef(!1),s=jr(),r=g.useMemo(()=>yD(s.search,n.current?null:t.current),[s.search]),a=yt(),i=g.useCallback((l,c)=>{const u=gg(typeof l=="function"?l(r):l);n.current=!0,a("?"+u,c)},[a,r]);return[r,i]}var FD=0,VD=()=>`__${String(++FD)}__`;function qD(){let{router:e}=QN("useSubmit"),{basename:t}=g.useContext(As),n=oD();return g.useCallback(async(s,r={})=>{let{action:a,method:i,encType:l,formData:c,body:u}=wD(s,t);if(r.navigate===!1){let d=r.fetcherKey||VD();await e.fetch(d,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||i,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||i,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function GD(e,{relative:t}={}){let{basename:n}=g.useContext(As),s=g.useContext(Ts);nt(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),a={...Lc(e||".",{relative:t})},i=jr();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:lr([n,a.pathname])),sc(a)}function ZD(e,t={}){let n=g.useContext(UN);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=QN("useViewTransitionState"),r=Lc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=mr(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=mr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return jd(r.pathname,i)!=null||jd(r.pathname,a)!=null}[...AD];var JN={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD=g;function ej(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Tr(){}var Gt={d:{f:Tr,r:function(){throw Error(ej(522))},D:Tr,C:Tr,L:Tr,m:Tr,X:Tr,S:Tr,M:Tr},p:0,findDOMNode:null},XD=Symbol.for("react.portal");function KD(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:XD,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var Pl=YD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Df(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gt;Xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ej(299));return KD(e,t,null,n)};Xt.flushSync=function(e){var t=Pl.T,n=Gt.p;try{if(Pl.T=null,Gt.p=2,e)return e()}finally{Pl.T=t,Gt.p=n,Gt.d.f()}};Xt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Gt.d.C(e,t))};Xt.prefetchDNS=function(e){typeof e=="string"&&Gt.d.D(e)};Xt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=Df(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Gt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:a}):n==="script"&&Gt.d.X(e,{crossOrigin:s,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Xt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Df(t.as,t.crossOrigin);Gt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Gt.d.M(e)};Xt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=Df(n,t.crossOrigin);Gt.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Xt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Df(t.as,t.crossOrigin);Gt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Gt.d.m(e)};Xt.requestFormReset=function(e){Gt.d.r(e)};Xt.unstable_batchedUpdates=function(e,t){return e(t)};Xt.useFormState=function(e,t,n){return Pl.H.useFormState(e,t,n)};Xt.useFormStatus=function(){return Pl.H.useHostTransitionStatus()};Xt.version="19.1.0";function tj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tj)}catch(e){console.error(e)}}tj(),JN.exports=Xt;var zf=JN.exports;const WD=sx(zf);function QD(){return"/lorerim-arcaneum/"}function ss(e){return`${QD()}${e}`}const yv=e=>{let t;const n=new Set,s=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,m))}},r=()=>t,l={setState:s,getState:r,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(s,r,l);return l},JD=e=>e?yv(e):yv,e5=e=>e;function t5(e,t=e5){const n=$.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return $.useDebugValue(n),n}const vv=e=>{const t=JD(e),n=s=>t5(t,s);return Object.assign(n,t),n},Ms=e=>e?vv(e):vv,oo=Ms((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(ss("data/perk-trees.json"));if(!s.ok)throw new Error(`Failed to fetch perk trees data: ${s.status}`);const a=await s.json();e({data:a,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load perk trees",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(a=>{var i,l;return a.name.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))||((l=a.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),n5=Object.freeze(Object.defineProperty({__proto__:null,usePerkTreesStore:oo},Symbol.toStringTag,{value:"Module"}));function s5(){return oo.getState().data}function nj(e,t,n){var i;if(t.length===0)return 0;const r=s5().find(l=>l.treeId===e);if(!r)return 0;let a=0;for(const l of t){const c=r.perks.find(f=>f.edid===l);if(!c)continue;const u=n[l]||1,d=c.ranks.find(f=>f.rank===u);if(d&&(i=d.prerequisites)!=null&&i.skillLevel){const f=d.prerequisites.skillLevel.level;a=Math.max(a,f)}}return a}function hu(e){const t={};for(const[n,s]of Object.entries(e.selected))if(s.length>0){const r=nj(n,s,e.ranks);r>0&&(t[n]=r)}return t}const bv={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},skillLevels:{},equipment:[],userProgress:{unlocks:[]},destinyPath:[],attributeAssignments:{health:0,stamina:0,magicka:0,level:1,assignments:{}}},Ir=Ms((e,t)=>({build:bv,updateBuild:n=>e(s=>({build:{...s.build,...n}})),setBuild:n=>e({build:n}),resetBuild:()=>e({build:bv}),setAttributeAssignment:(n,s)=>{e(r=>{const a={...r.build.attributeAssignments.assignments},i={...r.build.attributeAssignments},l=a[n];return l&&(i[l]=Math.max(0,i[l]-5)),a[n]=s,i[s]+=5,{build:{...r.build,attributeAssignments:{...r.build.attributeAssignments,...i,assignments:a}}}})},clearAttributeAssignment:n=>{e(s=>{const r={...s.build.attributeAssignments.assignments},a={...s.build.attributeAssignments},i=r[n];return i&&(a[i]=Math.max(0,a[i]-5),delete r[n]),{build:{...s.build,attributeAssignments:{...s.build.attributeAssignments,...a,assignments:r}}}})},clearAllAttributeAssignments:()=>{e(n=>({build:{...n.build,attributeAssignments:{health:0,stamina:0,magicka:0,level:n.build.attributeAssignments.level,assignments:{}}}}))},updateAttributeLevel:n=>{e(s=>({build:{...s.build,attributeAssignments:{...s.build.attributeAssignments,level:Math.max(1,n)}}}))}}));function vt(){const e=Ir(F=>F.build.skills.major),t=Ir(F=>F.build.skills.minor),n=Ir(F=>F.build),s=Ir(F=>F.updateBuild),r=Ir(F=>F.resetBuild),a=F=>(e==null?void 0:e.includes(F))??!1,i=F=>(t==null?void 0:t.includes(F))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:a,hasMinorSkill:i,addMajorSkill:F=>{console.log("addMajorSkill called:",{skillId:F});const Y=e??[],Q=t??[];if(!a(F)&&Y.length<3){const X=Q.filter(ye=>ye!==F),se={major:[...Y,F],minor:X};console.log("addMajorSkill - updating build with new skills:",se),s({skills:se})}else console.log("addMajorSkill - skill already major or limit reached, skipping")},removeMajorSkill:F=>{const Y=e??[],Q=t??[],X=Y.filter(se=>se!==F);s({skills:{major:X,minor:Q}})},addMinorSkill:F=>{const Y=e??[],Q=t??[];if(!i(F)&&Q.length<6){const X=Y.filter(se=>se!==F);s({skills:{major:X,minor:[...Q,F]}})}},removeMinorSkill:F=>{const Y=e??[],X=(t??[]).filter(se=>se!==F);s({skills:{major:Y,minor:X}})},addPerk:(F,Y)=>{var se;console.log("addPerk called:",{skillId:F,perkId:Y});const Q=((se=n==null?void 0:n.perks)==null?void 0:se.selected)??{},X=Q[F]??[];if(X.includes(Y))console.log("addPerk - perk already selected, skipping");else{const ye={...n==null?void 0:n.perks,selected:{...Q,[F]:[...X,Y]}},de=hu(ye);console.log("addPerk - updating build with new perks:",ye),console.log("addPerk - calculated skill levels:",de),s({perks:ye,skillLevels:de})}},removePerk:(F,Y)=>{var ne;const Q=((ne=n==null?void 0:n.perks)==null?void 0:ne.selected)??{},se=(Q[F]??[]).filter(Me=>Me!==Y),ye={...n==null?void 0:n.perks,selected:{...Q,[F]:se}},de=hu(ye);s({perks:ye,skillLevels:de})},setPerkRank:(F,Y)=>{var ye;console.log("setPerkRank called:",{perkId:F,rank:Y});const Q=((ye=n==null?void 0:n.perks)==null?void 0:ye.ranks)??{},X={...n==null?void 0:n.perks,ranks:{...Q,[F]:Y}},se=hu(X);console.log("setPerkRank - updating build with new ranks:",X),console.log("setPerkRank - calculated skill levels:",se),s({perks:X,skillLevels:se})},clearSkillPerks:F=>{var Me,ft;const Y=((Me=n==null?void 0:n.perks)==null?void 0:Me.selected)??{},Q=((ft=n==null?void 0:n.perks)==null?void 0:ft.ranks)??{},{[F]:X,...se}=Y,ye={...Q};X&&X.forEach(ls=>{delete ye[ls]});const de={...n==null?void 0:n.perks,selected:se,ranks:ye},ne=hu(de);s({perks:de,skillLevels:ne})},getSkillPerks:F=>{var Y,Q;return((Q=(Y=n==null?void 0:n.perks)==null?void 0:Y.selected)==null?void 0:Q[F])??[]},getPerkRank:F=>{var Y,Q;return((Q=(Y=n==null?void 0:n.perks)==null?void 0:Y.ranks)==null?void 0:Q[F])??0},getSkillLevel:F=>{var Y;return((Y=n==null?void 0:n.skillLevels)==null?void 0:Y[F])??0},addTrait:F=>{const{regular:Y=[],bonus:Q=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:X=2,bonus:se=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};Y.length<X?s({traits:{...n==null?void 0:n.traits,regular:[...Y,F]}}):Q.length<se&&s({traits:{...n==null?void 0:n.traits,bonus:[...Q,F]}})},addRegularTrait:F=>{const{regular:Y=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:Q=2}=(n==null?void 0:n.traitLimits)??{regular:2};Y.length<Q&&s({traits:{...n==null?void 0:n.traits,regular:[...Y,F]}})},addBonusTrait:F=>{const{bonus:Y=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:Q=1}=(n==null?void 0:n.traitLimits)??{bonus:1};Y.length<Q&&s({traits:{...n==null?void 0:n.traits,bonus:[...Y,F]}})},removeTrait:F=>{const{regular:Y=[],bonus:Q=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};s({traits:{regular:Y.filter(X=>X!==F),bonus:Q.filter(X=>X!==F)}})},hasTrait:F=>{var Y,Q,X,se;return(((Q=(Y=n==null?void 0:n.traits)==null?void 0:Y.regular)==null?void 0:Q.includes(F))??!1)||(((se=(X=n==null?void 0:n.traits)==null?void 0:X.bonus)==null?void 0:se.includes(F))??!1)},hasRegularTrait:F=>{var Y,Q;return((Q=(Y=n==null?void 0:n.traits)==null?void 0:Y.regular)==null?void 0:Q.includes(F))??!1},hasBonusTrait:F=>{var Y,Q;return((Q=(Y=n==null?void 0:n.traits)==null?void 0:Y.bonus)==null?void 0:Q.includes(F))??!1},setRace:F=>{s({race:F})},setBirthsign:F=>{s({stone:F})},setStone:F=>{s({stone:F})},setReligion:F=>{s({religion:F})},addEquipment:F=>{const Y=(n==null?void 0:n.equipment)??[];Y.includes(F)||s({equipment:[...Y,F]})},removeEquipment:F=>{const Y=(n==null?void 0:n.equipment)??[];s({equipment:Y.filter(Q=>Q!==F)})},setBuildName:F=>{s({name:F})},setBuildNotes:F=>{s({notes:F})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:F=>{s({destinyPath:F})},updateBuild:s,clearBuild:()=>{s({name:"",notes:"",race:null,stone:null,religion:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},perks:{selected:{},ranks:{}},skillLevels:{},destinyPath:[]})},resetBuild:r,getSummary:()=>{var F,Y,Q,X,se,ye,de,ne,Me;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((Y=(F=n==null?void 0:n.traits)==null?void 0:F.regular)==null?void 0:Y.length)??0)+(((X=(Q=n==null?void 0:n.traits)==null?void 0:Q.bonus)==null?void 0:X.length)??0),majorSkillCount:((ye=(se=n==null?void 0:n.skills)==null?void 0:se.major)==null?void 0:ye.length)??0,minorSkillCount:((ne=(de=n==null?void 0:n.skills)==null?void 0:de.minor)==null?void 0:ne.length)??0,equipmentCount:((Me=n==null?void 0:n.equipment)==null?void 0:Me.length)??0}},getRegularTraitLimit:()=>{var F;return((F=n==null?void 0:n.traitLimits)==null?void 0:F.regular)??2},getBonusTraitLimit:()=>{var F;return((F=n==null?void 0:n.traitLimits)==null?void 0:F.bonus)??1},getRegularTraitCount:()=>{var F,Y;return((Y=(F=n==null?void 0:n.traits)==null?void 0:F.regular)==null?void 0:Y.length)??0},getBonusTraitCount:()=>{var F,Y;return((Y=(F=n==null?void 0:n.traits)==null?void 0:F.bonus)==null?void 0:Y.length)??0},canAddRegularTrait:()=>{var F,Y,Q;return(((Y=(F=n==null?void 0:n.traits)==null?void 0:F.regular)==null?void 0:Y.length)??0)<(((Q=n==null?void 0:n.traitLimits)==null?void 0:Q.regular)??2)},canAddBonusTrait:()=>{var F,Y,Q;return(((Y=(F=n==null?void 0:n.traits)==null?void 0:F.bonus)==null?void 0:Y.length)??0)<(((Q=n==null?void 0:n.traitLimits)==null?void 0:Q.bonus)??1)},getTraitType:F=>{var Y,Q,X,se;return(Q=(Y=n==null?void 0:n.traits)==null?void 0:Y.regular)!=null&&Q.includes(F)?"regular":(se=(X=n==null?void 0:n.traits)==null?void 0:X.bonus)!=null&&se.includes(F)?"bonus":null},isAllTraitsFull:()=>{var se,ye,de,ne,Me,ft;const F=((ye=(se=n==null?void 0:n.traits)==null?void 0:se.regular)==null?void 0:ye.length)??0,Y=((ne=(de=n==null?void 0:n.traits)==null?void 0:de.bonus)==null?void 0:ne.length)??0,Q=((Me=n==null?void 0:n.traitLimits)==null?void 0:Me.regular)??2,X=((ft=n==null?void 0:n.traitLimits)==null?void 0:ft.bonus)??1;return F>=Q&&Y>=X},addTraitToSlot:(F,Y)=>{if(Y==="regular"){const{regular:Q=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:X=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(Q.length<X){const{bonus:se=[]}=(n==null?void 0:n.traits)??{bonus:[]},ye=se.filter(de=>de!==F);s({traits:{regular:[...Q,F],bonus:ye}})}}else{const{bonus:Q=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:X=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(Q.length<X){const{regular:se=[]}=(n==null?void 0:n.traits)??{regular:[]},ye=se.filter(de=>de!==F);s({traits:{regular:ye,bonus:[...Q,F]}})}}},isSlotAvailable:(F,Y=0)=>{var Q,X,se,ye;return F==="regular"?(((X=(Q=n==null?void 0:n.traits)==null?void 0:Q.regular)==null?void 0:X.length)??0)<=Y:(((ye=(se=n==null?void 0:n.traits)==null?void 0:se.bonus)==null?void 0:ye.length)??0)<=Y}}}function sj(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=sj(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function rj(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=sj(e))&&(s&&(s+=" "),s+=t);return s}const wv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Nv=rj,Vi=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Nv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:a}=t,i=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=wv(d)||wv(f);return r[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(p=>{let[y,v]=p;return Array.isArray(v)?v.includes({...a,...l}[y]):{...a,...l}[y]===v})?[...u,f,m]:u},[]);return Nv(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},xx="-",r5=e=>{const t=o5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:i=>{const l=i.split(xx);return l[0]===""&&l.length!==1&&l.shift(),aj(l,t)||a5(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&s[i]?[...c,...s[i]]:c}}},aj=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),r=s?aj(e.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const a=e.join(xx);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},jv=/^\[(.+)\]$/,a5=e=>{if(jv.test(e)){const t=jv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},o5=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const r in n)pg(n[r],s,r,t);return s},pg=(e,t,n,s)=>{e.forEach(r=>{if(typeof r=="string"){const a=r===""?t:Sv(t,r);a.classGroupId=n;return}if(typeof r=="function"){if(i5(r)){pg(r(s),t,n,s);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([a,i])=>{pg(i,Sv(t,a),n,s)})})},Sv=(e,t)=>{let n=e;return t.split(xx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},i5=e=>e.isThemeGetter,l5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const r=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=s.get(a))!==void 0)return r(a,i),i},set(a,i){n.has(a)?n.set(a,i):r(a,i)}}},xg="!",yg=":",c5=yg.length,u5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=r=>{const a=[];let i=0,l=0,c=0,u;for(let p=0;p<r.length;p++){let y=r[p];if(i===0&&l===0){if(y===yg){a.push(r.slice(c,p)),c=p+c5;continue}if(y==="/"){u=p;continue}}y==="["?i++:y==="]"?i--:y==="("?l++:y===")"&&l--}const d=a.length===0?r:r.substring(c),f=d5(d),m=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const r=t+yg,a=s;s=i=>i.startsWith(r)?a(i.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const r=s;s=a=>n({className:a,parseClassName:r})}return s},d5=e=>e.endsWith(xg)?e.substring(0,e.length-1):e.startsWith(xg)?e.substring(1):e,f5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const r=[];let a=[];return s.forEach(i=>{i[0]==="["||t[i]?(r.push(...a.sort(),i),a=[]):a.push(i)}),r.push(...a.sort()),r}},m5=e=>({cache:l5(e.cacheSize),parseClassName:u5(e),sortModifiers:f5(e),...r5(e)}),h5=/\s+/,g5=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:a}=t,i=[],l=e.trim().split(h5);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:m,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let v=!!y,x=s(v?p.substring(0,y):p);if(!x){if(!v){c=d+(c.length>0?" "+c:c);continue}if(x=s(p),!x){c=d+(c.length>0?" "+c:c);continue}v=!1}const b=a(m).join(":"),w=h?b+xg:b,N=w+x;if(i.includes(N))continue;i.push(N);const j=r(x,v);for(let S=0;S<j.length;++S){const C=j[S];i.push(w+C)}c=d+(c.length>0?" "+c:c)}return c};function p5(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oj(t))&&(s&&(s+=" "),s+=n);return s}const oj=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=oj(e[s]))&&(n&&(n+=" "),n+=t);return n};function x5(e,...t){let n,s,r,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=m5(u),s=n.cache.get,r=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=g5(c,n);return r(c,d),d}return function(){return a(p5.apply(null,arguments))}}const wt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ij=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,y5=/^\d+\/\d+$/,v5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,N5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,So=e=>y5.test(e),we=e=>!!e&&!Number.isNaN(Number(e)),Mr=e=>!!e&&Number.isInteger(Number(e)),Hm=e=>e.endsWith("%")&&we(e.slice(0,-1)),Vs=e=>v5.test(e),S5=()=>!0,C5=e=>b5.test(e)&&!w5.test(e),cj=()=>!1,k5=e=>N5.test(e),E5=e=>j5.test(e),_5=e=>!re(e)&&!ae(e),A5=e=>qi(e,fj,cj),re=e=>ij.test(e),wa=e=>qi(e,mj,C5),Um=e=>qi(e,z5,we),Cv=e=>qi(e,uj,cj),T5=e=>qi(e,dj,E5),gu=e=>qi(e,hj,k5),ae=e=>lj.test(e),ul=e=>Gi(e,mj),M5=e=>Gi(e,L5),kv=e=>Gi(e,uj),R5=e=>Gi(e,fj),D5=e=>Gi(e,dj),pu=e=>Gi(e,hj,!0),qi=(e,t,n)=>{const s=ij.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Gi=(e,t,n=!1)=>{const s=lj.exec(e);return s?s[1]?t(s[1]):n:!1},uj=e=>e==="position"||e==="percentage",dj=e=>e==="image"||e==="url",fj=e=>e==="length"||e==="size"||e==="bg-size",mj=e=>e==="length",z5=e=>e==="number",L5=e=>e==="family-name",hj=e=>e==="shadow",$5=()=>{const e=wt("color"),t=wt("font"),n=wt("text"),s=wt("font-weight"),r=wt("tracking"),a=wt("leading"),i=wt("breakpoint"),l=wt("container"),c=wt("spacing"),u=wt("radius"),d=wt("shadow"),f=wt("inset-shadow"),m=wt("text-shadow"),h=wt("drop-shadow"),p=wt("blur"),y=wt("perspective"),v=wt("aspect"),x=wt("ease"),b=wt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...N(),ae,re],S=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],k=()=>[ae,re,c],E=()=>[So,"full","auto",...k()],_=()=>[Mr,"none","subgrid",ae,re],P=()=>["auto",{span:["full",Mr,ae,re]},Mr,ae,re],O=()=>[Mr,"auto",ae,re],L=()=>["auto","min","max","fr",ae,re],T=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...k()],D=()=>[So,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],M=()=>[e,ae,re],R=()=>[...N(),kv,Cv,{position:[ae,re]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",R5,A5,{size:[ae,re]}],I=()=>[Hm,ul,wa],V=()=>["","none","full",u,ae,re],Z=()=>["",we,ul,wa],J=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[we,Hm,kv,Cv],pe=()=>["","none",p,ae,re],me=()=>["none",we,ae,re],ve=()=>["none",we,ae,re],F=()=>[we,ae,re],Y=()=>[So,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[S5],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[_5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",we],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",So,re,ae,v]}],container:["container"],columns:[{columns:[we,re,ae,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Mr,"auto",ae,re]}],basis:[{basis:[So,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[we,So,"auto","initial","none",re]}],grow:[{grow:["",we,ae,re]}],shrink:[{shrink:["",we,ae,re]}],order:[{order:[Mr,"first","last","none",ae,re]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...T(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...T()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":T()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[l,"screen",...D()]}],"min-w":[{"min-w":[l,"screen","none",...D()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",n,ul,wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ae,Um]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hm,re]}],"font-family":[{font:[M5,re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ae,re]}],"line-clamp":[{"line-clamp":[we,"none",ae,Um]}],leading:[{leading:[a,...k()]}],"list-image":[{"list-image":["none",ae,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ae,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[we,"from-font","auto",ae,wa]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[we,"auto",ae,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mr,ae,re],radial:["",ae,re],conic:[Mr,ae,re]},D5,T5]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[we,ae,re]}],"outline-w":[{outline:["",we,ul,wa]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",d,pu,gu]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",f,pu,gu]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[we,wa]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",m,pu,gu]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[we,ae,re]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[we]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[ae,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[we]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ae,re]}],filter:[{filter:["","none",ae,re]}],blur:[{blur:pe()}],brightness:[{brightness:[we,ae,re]}],contrast:[{contrast:[we,ae,re]}],"drop-shadow":[{"drop-shadow":["","none",h,pu,gu]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",we,ae,re]}],"hue-rotate":[{"hue-rotate":[we,ae,re]}],invert:[{invert:["",we,ae,re]}],saturate:[{saturate:[we,ae,re]}],sepia:[{sepia:["",we,ae,re]}],"backdrop-filter":[{"backdrop-filter":["","none",ae,re]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[we,ae,re]}],"backdrop-contrast":[{"backdrop-contrast":[we,ae,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",we,ae,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[we,ae,re]}],"backdrop-invert":[{"backdrop-invert":["",we,ae,re]}],"backdrop-opacity":[{"backdrop-opacity":[we,ae,re]}],"backdrop-saturate":[{"backdrop-saturate":[we,ae,re]}],"backdrop-sepia":[{"backdrop-sepia":["",we,ae,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ae,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[we,"initial",ae,re]}],ease:[{ease:["linear","initial",x,ae,re]}],delay:[{delay:[we,ae,re]}],animate:[{animate:["none",b,ae,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ae,re]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[ae,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Y()}],"translate-x":[{"translate-x":Y()}],"translate-y":[{"translate-y":Y()}],"translate-z":[{"translate-z":Y()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae,re]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[we,ul,wa,Um]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},P5=x5($5);function U(...e){return P5(rj(e))}const O5=Vi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function K({className:e,variant:t,...n}){return o.jsx("div",{className:U(O5({variant:t}),e),...n})}function Ev(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Lf(...e){return t=>{let n=!1;const s=e.map(r=>{const a=Ev(r,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<s.length;r++){const a=s[r];typeof a=="function"?a():Ev(e[r],null)}}}}function $e(...e){return g.useCallback(Lf(...e),e)}function vi(e){const t=I5(e),n=g.forwardRef((s,r)=>{const{children:a,...i}=s,l=g.Children.toArray(a),c=l.find(U5);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}var B5=vi("Slot");function I5(e){const t=g.forwardRef((n,s)=>{const{children:r,...a}=n;if(g.isValidElement(r)){const i=V5(r),l=F5(a,r.props);return r.type!==g.Fragment&&(l.ref=s?Lf(s,i):i),g.cloneElement(r,l)}return g.Children.count(r)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gj=Symbol("radix.slottable");function H5(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=gj,t}function U5(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gj}function F5(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const c=a(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function V5(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const q5=Vi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function W({className:e,variant:t,size:n,asChild:s=!1,...r}){const a=s?B5:"button";return o.jsx(a,{"data-slot":"button",className:U(q5({variant:t,size:n,className:e})),...r})}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function G5(e,t){const n=g.createContext(t),s=a=>{const{children:i,...l}=a,c=g.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};s.displayName=e+"Provider";function r(a){const i=g.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,r]}function on(e,t=[]){let n=[];function s(a,i){const l=g.createContext(i),c=n.length;n=[...n,i];const u=f=>{var x;const{scope:m,children:h,...p}=f,y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,v=g.useMemo(()=>p,Object.values(p));return o.jsx(y.Provider,{value:v,children:h})};u.displayName=a+"Provider";function d(f,m){var y;const h=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,p=g.useContext(h);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const r=()=>{const a=n.map(i=>g.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return r.scopeName=e,[s,Z5(r,...t)]}function Z5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const i=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Es=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Y5=AN[" useId ".trim().toString()]||(()=>{}),X5=0;function cr(e){const[t,n]=g.useState(Y5());return Es(()=>{n(s=>s??String(X5++))},[e]),t?`radix-${t}`:""}var K5=AN[" useInsertionEffect ".trim().toString()]||Es;function Vn({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[r,a,i]=W5({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:r;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=g.useCallback(d=>{var f;if(l){const m=Q5(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else a(d)},[l,e,a,i]);return[c,u]}function W5({defaultProp:e,onChange:t}){const[n,s]=g.useState(e),r=g.useRef(n),a=g.useRef(t);return K5(()=>{a.current=t},[t]),g.useEffect(()=>{var i;r.current!==n&&((i=a.current)==null||i.call(a,n),r.current=n)},[n,r]),[n,s,a]}function Q5(e){return typeof e=="function"}var J5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xe=J5.reduce((e,t)=>{const n=vi(`Primitive.${t}`),s=g.forwardRef((r,a)=>{const{asChild:i,...l}=r,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function pj(e,t){e&&zf.flushSync(()=>e.dispatchEvent(t))}function It(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function ez(e,t=globalThis==null?void 0:globalThis.document){const n=It(e);g.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var tz="DismissableLayer",vg="dismissableLayer.update",nz="dismissableLayer.pointerDownOutside",sz="dismissableLayer.focusOutside",_v,xj=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$c=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=g.useContext(xj),[d,f]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=g.useState({}),p=$e(t,C=>f(C)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(v),b=d?y.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=x,j=oz(C=>{const k=C.target,E=[...u.branches].some(_=>_.contains(k));!N||E||(r==null||r(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),S=iz(C=>{const k=C.target;[...u.branches].some(_=>_.contains(k))||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return ez(C=>{b===u.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_v=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Av(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=_v)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Av())},[d,u]),g.useEffect(()=>{const C=()=>h({});return document.addEventListener(vg,C),()=>document.removeEventListener(vg,C)},[]),o.jsx(xe.div,{...c,ref:p,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,S.onFocusCapture),onBlurCapture:te(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,j.onPointerDownCapture)})});$c.displayName=tz;var rz="DismissableLayerBranch",az=g.forwardRef((e,t)=>{const n=g.useContext(xj),s=g.useRef(null),r=$e(t,s);return g.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(xe.div,{...e,ref:r})});az.displayName=rz;function oz(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),s=g.useRef(!1),r=g.useRef(()=>{});return g.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){yj(nz,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}else t.removeEventListener("click",r.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function iz(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),s=g.useRef(!1);return g.useEffect(()=>{const r=a=>{a.target&&!s.current&&yj(sz,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Av(){const e=new CustomEvent(vg);document.dispatchEvent(e)}function yj(e,t,n,{discrete:s}){const r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?pj(r,a):r.dispatchEvent(a)}var Fm="focusScope.autoFocusOnMount",Vm="focusScope.autoFocusOnUnmount",Tv={bubbles:!1,cancelable:!0},lz="FocusScope",yx=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...i}=e,[l,c]=g.useState(null),u=It(r),d=It(a),f=g.useRef(null),m=$e(t,y=>c(y)),h=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let y=function(w){if(h.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:zr(f.current,{select:!0})},v=function(w){if(h.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||zr(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&zr(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),b.disconnect()}}},[s,l,h.paused]),g.useEffect(()=>{if(l){Rv.add(h);const y=document.activeElement;if(!l.contains(y)){const x=new CustomEvent(Fm,Tv);l.addEventListener(Fm,u),l.dispatchEvent(x),x.defaultPrevented||(cz(hz(vj(l)),{select:!0}),document.activeElement===y&&zr(l))}return()=>{l.removeEventListener(Fm,u),setTimeout(()=>{const x=new CustomEvent(Vm,Tv);l.addEventListener(Vm,d),l.dispatchEvent(x),x.defaultPrevented||zr(y??document.body,{select:!0}),l.removeEventListener(Vm,d),Rv.remove(h)},0)}}},[l,u,d,h]);const p=g.useCallback(y=>{if(!n&&!s||h.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(v&&x){const b=y.currentTarget,[w,N]=uz(b);w&&N?!y.shiftKey&&x===N?(y.preventDefault(),n&&zr(w,{select:!0})):y.shiftKey&&x===w&&(y.preventDefault(),n&&zr(N,{select:!0})):x===b&&y.preventDefault()}},[n,s,h.paused]);return o.jsx(xe.div,{tabIndex:-1,...i,ref:m,onKeyDown:p})});yx.displayName=lz;function cz(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(zr(s,{select:t}),document.activeElement!==n)return}function uz(e){const t=vj(e),n=Mv(t,e),s=Mv(t.reverse(),e);return[n,s]}function vj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mv(e,t){for(const n of e)if(!dz(n,{upTo:t}))return n}function dz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fz(e){return e instanceof HTMLInputElement&&"select"in e}function zr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&fz(e)&&t&&e.select()}}var Rv=mz();function mz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Dv(e,t),e.unshift(t)},remove(t){var n;e=Dv(e,t),(n=e[0])==null||n.resume()}}}function Dv(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function hz(e){return e.filter(t=>t.tagName!=="A")}var gz="Portal",vx=g.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[r,a]=g.useState(!1);Es(()=>a(!0),[]);const i=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?WD.createPortal(o.jsx(xe.div,{...s,ref:t}),i):null});vx.displayName=gz;function pz(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var Vt=e=>{const{present:t,children:n}=e,s=xz(t),r=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),a=$e(s.ref,yz(r));return typeof n=="function"||s.isPresent?g.cloneElement(r,{ref:a}):null};Vt.displayName="Presence";function xz(e){const[t,n]=g.useState(),s=g.useRef(null),r=g.useRef(e),a=g.useRef("none"),i=e?"mounted":"unmounted",[l,c]=pz(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=xu(s.current);a.current=l==="mounted"?u:"none"},[l]),Es(()=>{const u=s.current,d=r.current;if(d!==e){const m=a.current,h=xu(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,c]),Es(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const y=xu(s.current).includes(h.animationName);if(h.target===t&&y&&(c("ANIMATION_END"),!r.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=h=>{h.target===t&&(a.current=xu(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function xu(e){return(e==null?void 0:e.animationName)||"none"}function yz(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qm=0;function bj(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zv()),document.body.insertAdjacentElement("beforeend",e[1]??zv()),qm++,()=>{qm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),qm--}},[])}function zv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ps=function(){return ps=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ps.apply(this,arguments)};function wj(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function vz(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,a;s<r;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var nd="right-scroll-bar-position",sd="width-before-scroll-bar",bz="with-scroll-bars-hidden",wz="--removed-body-scroll-bar-size";function Gm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Nz(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=t,n.facade}var jz=typeof window<"u"?g.useLayoutEffect:g.useEffect,Lv=new WeakMap;function Sz(e,t){var n=Nz(null,function(s){return e.forEach(function(r){return Gm(r,s)})});return jz(function(){var s=Lv.get(n);if(s){var r=new Set(s),a=new Set(e),i=n.current;r.forEach(function(l){a.has(l)||Gm(l,null)}),a.forEach(function(l){r.has(l)||Gm(l,i)})}Lv.set(n,e)},[e]),n}function Cz(e){return e}function kz(e,t){t===void 0&&(t=Cz);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,s);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(s=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return r}function Ez(e){e===void 0&&(e={});var t=kz(null);return t.options=ps({async:!0,ssr:!1},e),t}var Nj=function(e){var t=e.sideCar,n=wj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,ps({},n))};Nj.isSideCarExport=!0;function _z(e,t){return e.useMedium(t),Nj}var jj=Ez(),Zm=function(){},$f=g.forwardRef(function(e,t){var n=g.useRef(null),s=g.useState({onScrollCapture:Zm,onWheelCapture:Zm,onTouchMoveCapture:Zm}),r=s[0],a=s[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,h=e.noRelative,p=e.noIsolation,y=e.inert,v=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,N=wj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,S=Sz([n,t]),C=ps(ps({},N),r);return g.createElement(g.Fragment,null,d&&g.createElement(j,{sideCar:jj,removeScrollBar:u,shards:f,noRelative:h,noIsolation:p,inert:y,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:w}),i?g.cloneElement(g.Children.only(l),ps(ps({},C),{ref:S})):g.createElement(b,ps({},C,{className:c,ref:S}),l))});$f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$f.classNames={fullWidth:sd,zeroRight:nd};var Az=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Az();return t&&e.setAttribute("nonce",t),e}function Mz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Rz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Dz=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Tz())&&(Mz(t,n),Rz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zz=function(){var e=Dz();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Sj=function(){var e=zz(),t=function(n){var s=n.styles,r=n.dynamic;return e(s,r),null};return t},Lz={left:0,top:0,right:0,gap:0},Ym=function(e){return parseInt(e||"",10)||0},$z=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[Ym(n),Ym(s),Ym(r)]},Pz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Lz;var t=$z(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Oz=Sj(),ei="data-scroll-locked",Bz=function(e,t,n,s){var r=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(bz,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(ei,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nd,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(sd,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(nd," .").concat(nd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(sd," .").concat(sd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ei,`] {
    `).concat(wz,": ").concat(l,`px;
  }
`)},$v=function(){var e=parseInt(document.body.getAttribute(ei)||"0",10);return isFinite(e)?e:0},Iz=function(){g.useEffect(function(){return document.body.setAttribute(ei,($v()+1).toString()),function(){var e=$v()-1;e<=0?document.body.removeAttribute(ei):document.body.setAttribute(ei,e.toString())}},[])},Hz=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,r=s===void 0?"margin":s;Iz();var a=g.useMemo(function(){return Pz(r)},[r]);return g.createElement(Oz,{styles:Bz(a,!t,r,n?"":"!important")})},bg=!1;if(typeof window<"u")try{var yu=Object.defineProperty({},"passive",{get:function(){return bg=!0,!0}});window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{bg=!1}var Co=bg?{passive:!1}:!1,Uz=function(e){return e.tagName==="TEXTAREA"},Cj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Uz(e)&&n[t]==="visible")},Fz=function(e){return Cj(e,"overflowY")},Vz=function(e){return Cj(e,"overflowX")},Pv=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=kj(e,s);if(r){var a=Ej(e,s),i=a[1],l=a[2];if(i>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},qz=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Gz=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},kj=function(e,t){return e==="v"?Fz(t):Vz(t)},Ej=function(e,t){return e==="v"?qz(t):Gz(t)},Zz=function(e,t){return e==="h"&&t==="rtl"?-1:1},Yz=function(e,t,n,s,r){var a=Zz(e,window.getComputedStyle(t).direction),i=a*s,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,m=0;do{if(!l)break;var h=Ej(e,l),p=h[0],y=h[1],v=h[2],x=y-v-a*p;(p||x)&&kj(e,l)&&(f+=x,m+=p);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},vu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ov=function(e){return[e.deltaX,e.deltaY]},Bv=function(e){return e&&"current"in e?e.current:e},Xz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Wz=0,ko=[];function Qz(e){var t=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),r=g.useState(Wz++)[0],a=g.useState(Sj)[0],i=g.useRef(e);g.useEffect(function(){i.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var y=vz([e.lockRef.current],(e.shards||[]).map(Bv),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var x=vu(y),b=n.current,w="deltaX"in y?y.deltaX:b[0]-x[0],N="deltaY"in y?y.deltaY:b[1]-x[1],j,S=y.target,C=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in y&&C==="h"&&S.type==="range")return!1;var k=Pv(C,S);if(!k)return!0;if(k?j=C:(j=C==="v"?"h":"v",k=Pv(C,S)),!k)return!1;if(!s.current&&"changedTouches"in y&&(w||N)&&(s.current=j),!j)return!0;var E=s.current||j;return Yz(E,v,y,E==="h"?w:N)},[]),c=g.useCallback(function(y){var v=y;if(!(!ko.length||ko[ko.length-1]!==a)){var x="deltaY"in v?Ov(v):vu(v),b=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&Xz(j.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(Bv).filter(Boolean).filter(function(j){return j.contains(v.target)}),N=w.length>0?l(v,w[0]):!i.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=g.useCallback(function(y,v,x,b){var w={name:y,delta:v,target:x,should:b,shadowParent:Jz(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),d=g.useCallback(function(y){n.current=vu(y),s.current=void 0},[]),f=g.useCallback(function(y){u(y.type,Ov(y),y.target,l(y,e.lockRef.current))},[]),m=g.useCallback(function(y){u(y.type,vu(y),y.target,l(y,e.lockRef.current))},[]);g.useEffect(function(){return ko.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Co),document.addEventListener("touchmove",c,Co),document.addEventListener("touchstart",d,Co),function(){ko=ko.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,Co),document.removeEventListener("touchmove",c,Co),document.removeEventListener("touchstart",d,Co)}},[]);var h=e.removeScrollBar,p=e.inert;return g.createElement(g.Fragment,null,p?g.createElement(a,{styles:Kz(r)}):null,h?g.createElement(Hz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Jz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const eL=_z(jj,Qz);var bx=g.forwardRef(function(e,t){return g.createElement($f,ps({},e,{ref:t,sideCar:eL}))});bx.classNames=$f.classNames;var tL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Eo=new WeakMap,bu=new WeakMap,wu={},Xm=0,_j=function(e){return e&&(e.host||_j(e.parentNode))},nL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=_j(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},sL=function(e,t,n,s){var r=nL(t,Array.isArray(e)?e:[e]);wu[n]||(wu[n]=new WeakMap);var a=wu[n],i=[],l=new Set,c=new Set(r),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(s),p=h!==null&&h!=="false",y=(Eo.get(m)||0)+1,v=(a.get(m)||0)+1;Eo.set(m,y),a.set(m,v),i.push(m),y===1&&p&&bu.set(m,!0),v===1&&m.setAttribute(n,"true"),p||m.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(t),l.clear(),Xm++,function(){i.forEach(function(f){var m=Eo.get(f)-1,h=a.get(f)-1;Eo.set(f,m),a.set(f,h),m||(bu.has(f)||f.removeAttribute(s),bu.delete(f)),h||f.removeAttribute(n)}),Xm--,Xm||(Eo=new WeakMap,Eo=new WeakMap,bu=new WeakMap,wu={})}},Aj=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=tL(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),sL(s,r,n,"aria-hidden")):function(){return null}},Pf="Dialog",[Tj,hee]=on(Pf),[rL,rs]=Tj(Pf),Mj=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:r,onOpenChange:a,modal:i=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=Vn({prop:s,defaultProp:r??!1,onChange:a,caller:Pf});return o.jsx(rL,{scope:t,triggerRef:l,contentRef:c,contentId:cr(),titleId:cr(),descriptionId:cr(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};Mj.displayName=Pf;var Rj="DialogTrigger",Dj=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=rs(Rj,n),a=$e(t,r.triggerRef);return o.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":jx(r.open),...s,ref:a,onClick:te(e.onClick,r.onOpenToggle)})});Dj.displayName=Rj;var wx="DialogPortal",[aL,zj]=Tj(wx,{forceMount:void 0}),Lj=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:r}=e,a=rs(wx,t);return o.jsx(aL,{scope:t,forceMount:n,children:g.Children.map(s,i=>o.jsx(Vt,{present:n||a.open,children:o.jsx(vx,{asChild:!0,container:r,children:i})}))})};Lj.displayName=wx;var Sd="DialogOverlay",$j=g.forwardRef((e,t)=>{const n=zj(Sd,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,a=rs(Sd,e.__scopeDialog);return a.modal?o.jsx(Vt,{present:s||a.open,children:o.jsx(iL,{...r,ref:t})}):null});$j.displayName=Sd;var oL=vi("DialogOverlay.RemoveScroll"),iL=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=rs(Sd,n);return o.jsx(bx,{as:oL,allowPinchZoom:!0,shards:[r.contentRef],children:o.jsx(xe.div,{"data-state":jx(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Ga="DialogContent",Pj=g.forwardRef((e,t)=>{const n=zj(Ga,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,a=rs(Ga,e.__scopeDialog);return o.jsx(Vt,{present:s||a.open,children:a.modal?o.jsx(lL,{...r,ref:t}):o.jsx(cL,{...r,ref:t})})});Pj.displayName=Ga;var lL=g.forwardRef((e,t)=>{const n=rs(Ga,e.__scopeDialog),s=g.useRef(null),r=$e(t,n.contentRef,s);return g.useEffect(()=>{const a=s.current;if(a)return Aj(a)},[]),o.jsx(Oj,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:te(e.onFocusOutside,a=>a.preventDefault())})}),cL=g.forwardRef((e,t)=>{const n=rs(Ga,e.__scopeDialog),s=g.useRef(!1),r=g.useRef(!1);return o.jsx(Oj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),Oj=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:a,...i}=e,l=rs(Ga,n),c=g.useRef(null),u=$e(t,c);return bj(),o.jsxs(o.Fragment,{children:[o.jsx(yx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:a,children:o.jsx($c,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jx(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(uL,{titleId:l.titleId}),o.jsx(fL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Nx="DialogTitle",Bj=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=rs(Nx,n);return o.jsx(xe.h2,{id:r.titleId,...s,ref:t})});Bj.displayName=Nx;var Ij="DialogDescription",Hj=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=rs(Ij,n);return o.jsx(xe.p,{id:r.descriptionId,...s,ref:t})});Hj.displayName=Ij;var Uj="DialogClose",Fj=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=rs(Uj,n);return o.jsx(xe.button,{type:"button",...s,ref:t,onClick:te(e.onClick,()=>r.onOpenChange(!1))})});Fj.displayName=Uj;function jx(e){return e?"open":"closed"}var Vj="DialogTitleWarning",[gee,qj]=G5(Vj,{contentName:Ga,titleName:Nx,docsSlug:"dialog"}),uL=({titleId:e})=>{const t=qj(Vj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},dL="DialogDescriptionWarning",fL=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qj(dL).contentName}}.`;return g.useEffect(()=>{var a;const r=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Gj=Mj,mL=Dj,Zj=Lj,Sx=$j,Cx=Pj,kx=Bj,Ex=Hj,hL=Fj;const Yj=Gj,gL=mL,pL=Zj,Xj=g.forwardRef(({className:e,...t},n)=>o.jsx(Sx,{className:U("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:Ct.MODAL},...t,ref:n}));Xj.displayName=Sx.displayName;const xL=Vi("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),_x=g.forwardRef(({side:e="right",className:t,children:n,...s},r)=>o.jsxs(pL,{children:[o.jsx(Xj,{}),o.jsxs(Cx,{ref:r,className:U(xL({side:e}),t),style:{zIndex:Ct.MODAL+1,backgroundColor:"hsl(var(--background))"},...s,children:[n,o.jsxs(hL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Ft,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_x.displayName=Cx.displayName;const Ax=({className:e,...t})=>o.jsx("div",{className:U("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ax.displayName="SheetHeader";const Tx=g.forwardRef(({className:e,...t},n)=>o.jsx(kx,{ref:n,className:U("text-lg font-semibold text-foreground",e),...t}));Tx.displayName=kx.displayName;const Mx=g.forwardRef(({className:e,...t},n)=>o.jsx(Ex,{ref:n,className:U("text-sm text-muted-foreground",e),...t}));Mx.displayName=Ex.displayName;const yL=()=>{const{build:e,resetBuild:t,getSummary:n,getRegularTraitLimit:s,getBonusTraitLimit:r}=vt(),a=yt(),i=n(),[l,c]=g.useState(!1),u=e.name||e.race||e.traits.regular.length>0||e.traits.bonus.length>0||e.stone||e.religion||e.skills.major.length>0||e.skills.minor.length>0||e.equipment.length>0,d=()=>{navigator.clipboard.writeText(window.location.href)},f=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},m=v=>{c(!1),a(v)},h=s(),p=r(),y=h+p;return o.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:Ct.MODAL+1},children:o.jsxs(Yj,{open:l,onOpenChange:c,children:[o.jsx(gL,{asChild:!0,children:o.jsx(W,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${l?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:o.jsx($l,{className:"h-5 w-5"})})}),o.jsxs(_x,{side:"right",className:"w-[400px] sm:w-[540px] p-6",children:[o.jsxs(Ax,{children:[o.jsxs(Tx,{className:"flex items-center gap-2",children:[o.jsx($l,{className:"h-5 w-5"}),u?i.name:"Character Build"]}),o.jsx(Mx,{children:u?"Your current character build status":"Create and manage your character build"})]}),o.jsx("div",{className:"mt-6 space-y-6",children:u?o.jsxs(o.Fragment,{children:[e.race&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Race"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"font-medium",children:i.race}),o.jsx(K,{variant:"secondary",className:"bg-blue-500",children:"Selected"})]})]}),e.stone&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Birth Sign"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"font-medium",children:i.stone}),o.jsx(K,{variant:"secondary",className:"bg-purple-500",children:"Selected"})]})]}),e.religion&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Religion"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"font-medium",children:i.religion}),o.jsx(K,{variant:"secondary",className:"bg-orange-500",children:"Selected"})]})]}),(e.traits.regular.length>0||e.traits.bonus.length>0)&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Traits (",e.traits.regular.length+e.traits.bonus.length,"/",y,")"]}),o.jsxs("div",{className:"space-y-2",children:[e.traits.regular.map(v=>o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-muted-foreground",children:"Starting"})]},`regular-${v}`)),e.traits.bonus.map(v=>o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),o.jsx("span",{className:"text-muted-foreground",children:"Late Game"})]},`bonus-${v}`))]})]}),(e.skills.major.length>0||e.skills.minor.length>0)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Skills"}),o.jsxs("div",{className:"space-y-2",children:[e.skills.major.length>0&&o.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Major Skills"}),o.jsx(K,{variant:"outline",children:e.skills.major.length})]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.major.map(v=>o.jsx(K,{variant:"secondary",className:"bg-red-500 text-xs",children:v},v))})]}),e.skills.minor.length>0&&o.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Minor Skills"}),o.jsx(K,{variant:"outline",children:e.skills.minor.length})]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.minor.map(v=>o.jsx(K,{variant:"secondary",className:"bg-blue-500 text-xs",children:v},v))})]})]})]}),e.equipment.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Equipment (",e.equipment.length,")"]}),o.jsx("div",{className:"space-y-2",children:e.equipment.map(v=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"font-medium",children:v}),o.jsx(K,{variant:"secondary",className:"bg-gray-500",children:"Equipped"})]},v))})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx($l,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Character Build"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building your character by selecting a race, traits, and other options."})]})}),o.jsx("div",{className:"mt-8 space-y-3",children:u?o.jsxs(o.Fragment,{children:[o.jsxs(W,{onClick:()=>m("/build"),className:"w-full",children:[o.jsx(pi,{className:"w-4 h-4 mr-2"}),"Edit Build"]}),o.jsxs(W,{variant:"outline",onClick:d,className:"w-full",children:[o.jsx(WR,{className:"w-4 h-4 mr-2"}),"Copy Share URL"]}),o.jsxs(W,{variant:"destructive",onClick:f,className:"w-full",children:[o.jsx(Z4,{className:"w-4 h-4 mr-2"}),"Reset Build"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(W,{onClick:()=>m("/build"),className:"w-full",children:[o.jsx(pi,{className:"w-4 h-4 mr-2"}),"Create Character Build"]}),o.jsx(W,{variant:"outline",onClick:()=>m("/race"),className:"w-full",children:"Browse Races"}),o.jsx(W,{variant:"outline",onClick:()=>m("/traits"),className:"w-full",children:"Browse Traits"})]})})]})]})})},Iv=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),Hv=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},vL=()=>{const e=Ir(s=>s.build),t=Ir(s=>s.setBuild),n=g.useRef(!1);g.useEffect(()=>{if(n.current)return;const s=window.location.hash,[r,a]=s.split("?"),l=new URLSearchParams(a||"").get("b");if(console.log("URL Sync - Hydrating from URL:",{hash:s,encodedBuild:l}),l){const c=Hv(l);console.log("URL Sync - Decoded build:",c),(c==null?void 0:c.v)===1?(console.log("URL Sync - Setting build from URL"),t(c)):console.warn("Invalid or outdated build schema in URL")}else console.log("URL Sync - No build parameter found in URL");n.current=!0},[t]),g.useEffect(()=>{const s={v:1,name:"Test",perks:{selected:{archery:["archery_01"]},ranks:{archery_01:1}}},r=Iv(s),a=Hv(r);console.log("URL Sync - Test encoding/decoding:",{testBuild:s,encoded:r,decoded:a,matches:JSON.stringify(s)===JSON.stringify(a)})},[]),g.useEffect(()=>{if(!n.current)return;console.log("URL Sync - Build state changed:",e);const s=Iv(e),r=window.location.hash,[a,i]=r.split("?"),l=new URLSearchParams(i||"");l.set("b",s);const c=`${a}?${l.toString()}`;console.log("URL Sync - Updating URL:",c),window.history.replaceState(null,"",c)},[e.v,e.name,e.race,e.stone,e.religion,e.traits,e.skills,e.perks,e.equipment,e.destinyPath])},Kj=g.forwardRef(({className:e,collapsed:t,...n},s)=>o.jsx("aside",{ref:s,"data-collapsed":t?"":void 0,className:U("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300",t?"w-0 overflow-hidden":"w-64",e),...n}));Kj.displayName="Sidebar";const Wj=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:U("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));Wj.displayName="SidebarContent";const Qj=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:U("mb-2",e),...t}));Qj.displayName="SidebarGroup";const Jj=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:U("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));Jj.displayName="SidebarHeader";const eS=g.forwardRef(({className:e,...t},n)=>o.jsx("ul",{ref:n,className:U("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));eS.displayName="SidebarMenu";const tS=g.forwardRef(({className:e,asChild:t,isActive:n,...s},r)=>{const a=t?"span":"button";return o.jsx(a,{ref:r,"data-active":n?"":void 0,className:U("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...s})});tS.displayName="SidebarMenuButton";const nS=g.forwardRef(({className:e,...t},n)=>o.jsx("li",{ref:n,className:U("relative flex items-stretch",e),...t}));nS.displayName="SidebarMenuItem";const sS=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:e,...t}));sS.displayName="SidebarRail";const bL=Vi("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),ln=g.forwardRef(({className:e,variant:t,as:n,...s},r)=>{const a=n||wL(t);return o.jsx(a,{className:U(bL({variant:t,className:e})),ref:r,...s})});ln.displayName="Typography";function wL(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const io=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"h1",as:"h1",className:e,ref:n,...t}));io.displayName="H1";const Bo=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"h2",as:"h2",className:e,ref:n,...t}));Bo.displayName="H2";const pt=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"h3",as:"h3",className:e,ref:n,...t}));pt.displayName="H3";const NL=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"h4",as:"h4",className:e,ref:n,...t}));NL.displayName="H4";const Qn=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"h5",as:"h5",className:e,ref:n,...t}));Qn.displayName="H5";const jL=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"h6",as:"h6",className:e,ref:n,...t}));jL.displayName="H6";const Fe=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"p",as:"p",className:e,ref:n,...t}));Fe.displayName="P";const SL=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));SL.displayName="Blockquote";const CL=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"code",as:"code",className:e,ref:n,...t}));CL.displayName="Code";const rS=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"lead",as:"p",className:e,ref:n,...t}));rS.displayName="Lead";const kL=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"large",as:"div",className:e,ref:n,...t}));kL.displayName="Large";const aS=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"small",as:"small",className:e,ref:n,...t}));aS.displayName="Small";const rc=g.forwardRef(({className:e,...t},n)=>o.jsx(ln,{variant:"muted",as:"p",className:e,ref:n,...t}));rc.displayName="Muted";const Rs=({children:e,title:t,description:n,className:s=""})=>o.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${s}`,children:[t&&o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&o.jsx("p",{className:"text-muted-foreground mt-2 max-w-4xl",children:n})]})}),e]});function Rx(e){const t=e+"CollectionProvider",[n,s]=on(t),[r,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:v,children:x}=y,b=$.useRef(null),w=$.useRef(new Map).current;return o.jsx(r,{scope:v,itemMap:w,collectionRef:b,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=vi(l),u=$.forwardRef((y,v)=>{const{scope:x,children:b}=y,w=a(l,x),N=$e(v,w.collectionRef);return o.jsx(c,{ref:N,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=vi(d),h=$.forwardRef((y,v)=>{const{scope:x,children:b,...w}=y,N=$.useRef(null),j=$e(v,N),S=a(d,x);return $.useEffect(()=>(S.itemMap.set(N,{ref:N,...w}),()=>void S.itemMap.delete(N))),o.jsx(m,{[f]:"",ref:j,children:b})});h.displayName=d;function p(y){const v=a(e+"CollectionConsumer",y);return $.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,C)=>w.indexOf(S.ref.current)-w.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:h},p,s]}var EL=g.createContext(void 0);function Zi(e){const t=g.useContext(EL);return e||t||"ltr"}var Km="rovingFocusGroup.onEntryFocus",_L={bubbles:!1,cancelable:!0},Pc="RovingFocusGroup",[wg,oS,AL]=Rx(Pc),[TL,Yi]=on(Pc,[AL]),[ML,RL]=TL(Pc),iS=g.forwardRef((e,t)=>o.jsx(wg.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(wg.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(DL,{...e,ref:t})})}));iS.displayName=Pc;var DL=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=g.useRef(null),h=$e(t,m),p=Zi(a),[y,v]=Vn({prop:i,defaultProp:l??null,onChange:c,caller:Pc}),[x,b]=g.useState(!1),w=It(u),N=oS(n),j=g.useRef(!1),[S,C]=g.useState(0);return g.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Km,w),()=>k.removeEventListener(Km,w)},[w]),o.jsx(ML,{scope:n,orientation:s,dir:p,loop:r,currentTabStopId:y,onItemFocus:g.useCallback(k=>v(k),[v]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:g.useCallback(()=>C(k=>k-1),[]),children:o.jsx(xe.div,{tabIndex:x||S===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{j.current=!0}),onFocus:te(e.onFocus,k=>{const E=!j.current;if(k.target===k.currentTarget&&E&&!x){const _=new CustomEvent(Km,_L);if(k.currentTarget.dispatchEvent(_),!_.defaultPrevented){const P=N().filter(A=>A.focusable),O=P.find(A=>A.active),L=P.find(A=>A.id===y),z=[O,L,...P].filter(Boolean).map(A=>A.ref.current);uS(z,d)}}j.current=!1}),onBlur:te(e.onBlur,()=>b(!1))})})}),lS="RovingFocusGroupItem",cS=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:a,children:i,...l}=e,c=cr(),u=a||c,d=RL(lS,n),f=d.currentTabStopId===u,m=oS(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:y}=d;return g.useEffect(()=>{if(s)return h(),()=>p()},[s,h,p]),o.jsx(wg.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:o.jsx(xe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:te(e.onMouseDown,v=>{s?d.onItemFocus(u):v.preventDefault()}),onFocus:te(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:te(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=$L(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=m().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const N=w.indexOf(v.currentTarget);w=d.loop?PL(w,N+1):w.slice(N+1)}setTimeout(()=>uS(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:y!=null}):i})})});cS.displayName=lS;var zL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function LL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $L(e,t,n){const s=LL(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return zL[s]}function uS(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function PL(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Dx=iS,zx=cS,Of="Tabs",[OL,pee]=on(Of,[Yi]),dS=Yi(),[BL,Lx]=OL(Of),fS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Zi(l),[f,m]=Vn({prop:s,onChange:r,defaultProp:a??"",caller:Of});return o.jsx(BL,{scope:n,baseId:cr(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:o.jsx(xe.div,{dir:d,"data-orientation":i,...u,ref:t})})});fS.displayName=Of;var mS="TabsList",hS=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...r}=e,a=Lx(mS,n),i=dS(n);return o.jsx(Dx,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:s,children:o.jsx(xe.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:t})})});hS.displayName=mS;var gS="TabsTrigger",pS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...a}=e,i=Lx(gS,n),l=dS(n),c=vS(i.baseId,s),u=bS(i.baseId,s),d=s===i.value;return o.jsx(zx,{asChild:!0,...l,focusable:!r,active:d,children:o.jsx(xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...a,ref:t,onMouseDown:te(e.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?i.onValueChange(s):f.preventDefault()}),onKeyDown:te(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(s)}),onFocus:te(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!r&&f&&i.onValueChange(s)})})})});pS.displayName=gS;var xS="TabsContent",yS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:r,children:a,...i}=e,l=Lx(xS,n),c=vS(l.baseId,s),u=bS(l.baseId,s),d=s===l.value,f=g.useRef(d);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Vt,{present:r||d,children:({present:m})=>o.jsx(xe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});yS.displayName=xS;function vS(e,t){return`${e}-trigger-${t}`}function bS(e,t){return`${e}-content-${t}`}var IL=fS,HL=hS,UL=pS,FL=yS;function Xi({className:e,...t}){return o.jsx(IL,{"data-slot":"tabs",className:U("flex flex-col gap-2",e),...t})}function Ki({className:e,...t}){return o.jsx(HL,{"data-slot":"tabs-list",className:U("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function nn({className:e,...t}){return o.jsx(UL,{"data-slot":"tabs-trigger",className:U("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function yn({className:e,...t}){return o.jsx(FL,{"data-slot":"tabs-content",className:U("flex-1 outline-none",e),...t})}const Qt=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],VL=({currentPath:e})=>{var d;const t=yt(),n=Qt.findIndex(f=>f.to===e),s=n>=0?n:0,r=f=>{const m=Qt.find(h=>h.value===f);m&&t(m.to)},a=f=>{t(f.to)},i=()=>{s>0&&t(Qt[s-1].to)},l=()=>{s<Qt.length-1&&t(Qt[s+1].to)},c=f=>{switch(f.key){case"ArrowLeft":f.preventDefault(),i();break;case"ArrowRight":f.preventDefault(),l();break;case"Home":f.preventDefault(),t(Qt[0].to);break;case"End":f.preventDefault(),t(Qt[Qt.length-1].to);break}},u=((d=Qt[s])==null?void 0:d.value)||"build";return o.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:c,tabIndex:0,children:o.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:o.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[o.jsx(W,{onClick:i,disabled:s===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${s>0?Qt[s-1].label:"none"}`,children:o.jsx(BR,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx(Xi,{value:u,onValueChange:r,children:o.jsx(Ki,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:Qt.map((f,m)=>o.jsxs(nn,{value:f.value,onClick:()=>a(f),className:U("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:u===f.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${m+1}: ${f.label}`,role:"tab","aria-selected":u===f.value,"aria-label":`Step ${m+1}: ${f.label}`,children:[o.jsx("span",{className:"hidden sm:inline",children:f.label}),o.jsx("span",{className:"sm:hidden",children:f.label.split(" ")[0]}),u===f.value&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},f.value))})})}),o.jsx(W,{onClick:l,disabled:s===Qt.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${s<Qt.length-1?Qt[s+1].label:"none"}`,children:o.jsx(Rc,{className:"h-4 w-4"})})]})})})},qL=()=>{const e=jr();return o.jsxs("div",{className:"flex flex-col min-h-full",children:[o.jsx(VL,{currentPath:e.pathname}),o.jsx("div",{className:"flex-grow",children:o.jsx(uD,{})})]})};function GL(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function wS(e){const[t,n]=g.useState(void 0);return Es(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Bf="Switch",[ZL,xee]=on(Bf),[YL,XL]=ZL(Bf),NS=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,h]=g.useState(null),p=$e(t,w=>h(w)),y=g.useRef(!1),v=m?d||!!m.closest("form"):!0,[x,b]=Vn({prop:r,defaultProp:a??!1,onChange:u,caller:Bf});return o.jsxs(YL,{scope:n,checked:x,disabled:l,children:[o.jsx(xe.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":kS(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:te(e.onClick,w=>{b(N=>!N),v&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),v&&o.jsx(CS,{control:m,bubbles:!y.current,name:s,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});NS.displayName=Bf;var jS="SwitchThumb",SS=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,r=XL(jS,n);return o.jsx(xe.span,{"data-state":kS(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t})});SS.displayName=jS;var KL="SwitchBubbleInput",CS=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...r},a)=>{const i=g.useRef(null),l=$e(i,a),c=GL(n),u=wS(t);return g.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const p=new Event("click",{bubbles:s});h.call(d,n),d.dispatchEvent(p)}},[c,n,s]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CS.displayName=KL;function kS(e){return e?"checked":"unchecked"}var ES=NS,WL=SS;const Qs=g.forwardRef(({className:e,...t},n)=>o.jsx(ES,{className:U("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:o.jsx(WL,{className:U("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qs.displayName=ES.displayName;function lo({itemId:e,itemType:t,itemName:n,isInBuild:s=!1,className:r,onCheckedChange:a}){const{setRace:i,setStone:l,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:f,addMajorSkill:m,removeMajorSkill:h,removeMinorSkill:p,addEquipment:y,removeEquipment:v,build:x}=vt(),w=s||(()=>{switch(t){case"race":return x.race===e;case"stone":return x.stone===e;case"religion":return x.religion===e;case"trait":return x.traits.regular.includes(e)||x.traits.bonus.includes(e);case"skill":return x.skills.major.includes(e)||x.skills.minor.includes(e);case"equipment":return x.equipment.includes(e);default:return!1}})(),N=S=>{if(a){a(S);return}switch(t){case"race":i(S?e:null);break;case"stone":l(S?e:null);break;case"religion":c(S?e:null);break;case"trait":S?x.traits.regular.length<2?u(e):x.traits.bonus.length<1&&d(e):f(e);break;case"skill":S?m(e):(h(e),p(e));break;case"equipment":S?y(e):v(e);break}},j=()=>w?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return o.jsx("div",{className:U("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",w?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",r),onClick:S=>{S.stopPropagation(),N(!w)},title:j(),children:o.jsx(Qs,{checked:w,onCheckedChange:N,className:U("transition-all duration-200",w?"data-[state=checked]:bg-[#d4af37]":"")})})}const ws=g.forwardRef(({className:e,type:t,...n},s)=>o.jsx("input",{type:t,className:U("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));ws.displayName="Input";function Da({categories:e,onSelect:t,placeholder:n="Search categories...",className:s=""}){const[r,a]=g.useState(!1),[i,l]=g.useState(null),[c,u]=g.useState(""),[d,f]=g.useState(-1),m=g.useRef(null),h=g.useRef(null),p=e.length===1?e[0]:null;g.useEffect(()=>{const C=k=>{m.current&&!m.current.contains(k.target)&&(a(!1),l(null),f(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const y=i||p?(i||p).options.filter(C=>String(C.label||"").toLowerCase().includes(c.toLowerCase())||String(C.description||"").toLowerCase().includes(c.toLowerCase())):e.flatMap(C=>C.options.filter(k=>String(k.label||"").toLowerCase().includes(c.toLowerCase())||String(k.description||"").toLowerCase().includes(c.toLowerCase()))),v=C=>{u(C),a(!0),f(-1)},x=C=>{var k;l(C),u(""),(k=h.current)==null||k.focus()},b=C=>{t(C),u(""),l(null),a(!1),f(-1)},w=C=>{C.key==="ArrowDown"?(C.preventDefault(),f(k=>Math.min(k+1,y.length-1))):C.key==="ArrowUp"?(C.preventDefault(),f(k=>Math.max(k-1,-1))):C.key==="Enter"?(C.preventDefault(),d>=0&&y[d]&&b(y[d])):C.key==="Escape"&&(a(!1),l(null),f(-1))},N=()=>{a(!0)},j=i||p,S=!p&&!i;return o.jsxs("div",{ref:m,className:`relative ${s}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ws,{ref:h,type:"text",placeholder:j?j.placeholder:n,value:c,onChange:C=>v(C.target.value),onFocus:N,onKeyDown:w,className:"pl-10 pr-10"}),o.jsx(W,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>a(!r),children:o.jsx(In,{className:`h-4 w-4 transition-transform ${r?"rotate-180":""}`})})]}),r&&o.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:Ct.AUTOCOMPLETE+10},children:[S&&o.jsxs("div",{className:"p-2 border-b border-border",children:[o.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>o.jsxs("button",{onClick:()=>x(C),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[o.jsx("span",{children:C.name}),o.jsx(In,{className:"h-4 w-4"})]},C.id))]}),o.jsx("div",{className:"p-2",children:y.length===0?o.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):y.map((C,k)=>o.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${k===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[o.jsx("div",{className:"font-medium",children:C.label||"Unnamed Option"}),C.description&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function Ne({className:e,...t}){return o.jsx("div",{"data-slot":"card",className:U("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function Le({className:e,action:t,children:n,...s}){return o.jsxs("div",{"data-slot":"card-header",className:U("flex flex-row items-start justify-between space-y-0",e),...s,children:[o.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&o.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function Ge({className:e,...t}){return o.jsx("div",{"data-slot":"card-title",className:U("text-xl font-bold leading-none",e),...t})}function er({className:e,...t}){return o.jsx("div",{"data-slot":"card-description",className:U("text-base text-muted-foreground",e),...t})}function je({className:e,...t}){return o.jsx("div",{"data-slot":"card-content",className:U("pt-0",e),...t})}const QL=["top","right","bottom","left"],la=Math.min,gn=Math.max,Cd=Math.round,Nu=Math.floor,Ns=e=>({x:e,y:e}),JL={left:"right",right:"left",bottom:"top",top:"bottom"},e$={start:"end",end:"start"};function Ng(e,t,n){return gn(e,la(t,n))}function hr(e,t){return typeof e=="function"?e(t):e}function gr(e){return e.split("-")[0]}function Wi(e){return e.split("-")[1]}function $x(e){return e==="x"?"y":"x"}function Px(e){return e==="y"?"height":"width"}const t$=new Set(["top","bottom"]);function ys(e){return t$.has(gr(e))?"y":"x"}function Ox(e){return $x(ys(e))}function n$(e,t,n){n===void 0&&(n=!1);const s=Wi(e),r=Ox(e),a=Px(r);let i=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=kd(i)),[i,kd(i)]}function s$(e){const t=kd(e);return[jg(e),t,jg(t)]}function jg(e){return e.replace(/start|end/g,t=>e$[t])}const Uv=["left","right"],Fv=["right","left"],r$=["top","bottom"],a$=["bottom","top"];function o$(e,t,n){switch(e){case"top":case"bottom":return n?t?Fv:Uv:t?Uv:Fv;case"left":case"right":return t?r$:a$;default:return[]}}function i$(e,t,n,s){const r=Wi(e);let a=o$(gr(e),n==="start",s);return r&&(a=a.map(i=>i+"-"+r),t&&(a=a.concat(a.map(jg)))),a}function kd(e){return e.replace(/left|right|bottom|top/g,t=>JL[t])}function l$(e){return{top:0,right:0,bottom:0,left:0,...e}}function _S(e){return typeof e!="number"?l$(e):{top:e,right:e,bottom:e,left:e}}function Ed(e){const{x:t,y:n,width:s,height:r}=e;return{width:s,height:r,top:n,left:t,right:t+s,bottom:n+r,x:t,y:n}}function Vv(e,t,n){let{reference:s,floating:r}=e;const a=ys(t),i=Ox(t),l=Px(i),c=gr(t),u=a==="y",d=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,m=s[l]/2-r[l]/2;let h;switch(c){case"top":h={x:d,y:s.y-r.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-r.width,y:f};break;default:h={x:s.x,y:s.y}}switch(Wi(t)){case"start":h[i]-=m*(n&&u?-1:1);break;case"end":h[i]+=m*(n&&u?-1:1);break}return h}const c$=async(e,t,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:f}=Vv(u,s,c),m=s,h={},p=0;for(let y=0;y<l.length;y++){const{name:v,fn:x}=l[y],{x:b,y:w,data:N,reset:j}=await x({x:d,y:f,initialPlacement:s,placement:m,strategy:r,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=w??f,h={...h,[v]:{...h[v],...N}},j&&p<=50&&(p++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):j.rects),{x:d,y:f}=Vv(u,m,c)),y=-1)}return{x:d,y:f,placement:m,strategy:r,middlewareData:h}};async function ac(e,t){var n;t===void 0&&(t={});const{x:s,y:r,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=hr(t,e),p=_S(h),v=l[m?f==="floating"?"reference":"floating":f],x=Ed(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:s,y:r,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Ed(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-j.top+p.top)/N.y,bottom:(j.bottom-x.bottom+p.bottom)/N.y,left:(x.left-j.left+p.left)/N.x,right:(j.right-x.right+p.right)/N.x}}const u$=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:r,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=hr(e,t)||{};if(u==null)return{};const f=_S(d),m={x:n,y:s},h=Ox(r),p=Px(h),y=await i.getDimensions(u),v=h==="y",x=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",N=a.reference[p]+a.reference[h]-m[h]-a.floating[p],j=m[h]-a.reference[h],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=S?S[w]:0;(!C||!await(i.isElement==null?void 0:i.isElement(S)))&&(C=l.floating[w]||a.floating[p]);const k=N/2-j/2,E=C/2-y[p]/2-1,_=la(f[x],E),P=la(f[b],E),O=_,L=C-y[p]-P,T=C/2-y[p]/2+k,z=Ng(O,T,L),A=!c.arrow&&Wi(r)!=null&&T!==z&&a.reference[p]/2-(T<O?_:P)-y[p]/2<0,D=A?T<O?T-O:T-L:0;return{[h]:m[h]+D,data:{[h]:z,centerOffset:T-z-D,...A&&{alignmentOffset:D}},reset:A}}}),d$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:r,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:y=!0,...v}=hr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=gr(r),b=ys(l),w=gr(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(w||!y?[kd(l)]:s$(l)),S=p!=="none";!m&&S&&j.push(...i$(l,y,p,N));const C=[l,...j],k=await ac(t,v),E=[];let _=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&E.push(k[x]),f){const T=n$(r,i,N);E.push(k[T[0]],k[T[1]])}if(_=[..._,{placement:r,overflows:E}],!E.every(T=>T<=0)){var P,O;const T=(((P=a.flip)==null?void 0:P.index)||0)+1,z=C[T];if(z&&(!(f==="alignment"?b!==ys(z):!1)||_.every(M=>M.overflows[0]>0&&ys(M.placement)===b)))return{data:{index:T,overflows:_},reset:{placement:z}};let A=(O=_.filter(D=>D.overflows[0]<=0).sort((D,M)=>D.overflows[1]-M.overflows[1])[0])==null?void 0:O.placement;if(!A)switch(h){case"bestFit":{var L;const D=(L=_.filter(M=>{if(S){const R=ys(M.placement);return R===b||R==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(R=>R>0).reduce((R,B)=>R+B,0)]).sort((M,R)=>M[1]-R[1])[0])==null?void 0:L[0];D&&(A=D);break}case"initialPlacement":A=l;break}if(r!==A)return{reset:{placement:A}}}return{}}}};function qv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Gv(e){return QL.some(t=>e[t]>=0)}const f$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...r}=hr(e,t);switch(s){case"referenceHidden":{const a=await ac(t,{...r,elementContext:"reference"}),i=qv(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Gv(i)}}}case"escaped":{const a=await ac(t,{...r,altBoundary:!0}),i=qv(a,n.floating);return{data:{escapedOffsets:i,escaped:Gv(i)}}}default:return{}}}}},AS=new Set(["left","top"]);async function m$(e,t){const{placement:n,platform:s,elements:r}=e,a=await(s.isRTL==null?void 0:s.isRTL(r.floating)),i=gr(n),l=Wi(n),c=ys(n)==="y",u=AS.has(i)?-1:1,d=a&&c?-1:1,f=hr(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(h=l==="end"?p*-1:p),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const h$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:r,y:a,placement:i,middlewareData:l}=t,c=await m$(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:a+c.y,data:{...c,placement:i}}}}},g$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:r}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...c}=hr(e,t),u={x:n,y:s},d=await ac(t,c),f=ys(gr(r)),m=$x(f);let h=u[m],p=u[f];if(a){const v=m==="y"?"top":"left",x=m==="y"?"bottom":"right",b=h+d[v],w=h-d[x];h=Ng(b,h,w)}if(i){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=p+d[v],w=p-d[x];p=Ng(b,p,w)}const y=l.fn({...t,[m]:h,[f]:p});return{...y,data:{x:y.x-n,y:y.y-s,enabled:{[m]:a,[f]:i}}}}}},p$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:r,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=hr(e,t),d={x:n,y:s},f=ys(r),m=$x(f);let h=d[m],p=d[f];const y=hr(l,t),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const w=m==="y"?"height":"width",N=a.reference[m]-a.floating[w]+v.mainAxis,j=a.reference[m]+a.reference[w]-v.mainAxis;h<N?h=N:h>j&&(h=j)}if(u){var x,b;const w=m==="y"?"width":"height",N=AS.has(gr(r)),j=a.reference[f]-a.floating[w]+(N&&((x=i.offset)==null?void 0:x[f])||0)+(N?0:v.crossAxis),S=a.reference[f]+a.reference[w]+(N?0:((b=i.offset)==null?void 0:b[f])||0)-(N?v.crossAxis:0);p<j?p=j:p>S&&(p=S)}return{[m]:h,[f]:p}}}},x$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:r,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=hr(e,t),d=await ac(t,u),f=gr(r),m=Wi(r),h=ys(r)==="y",{width:p,height:y}=a.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=m==="end"?"top":"bottom");const b=y-d.top-d.bottom,w=p-d.left-d.right,N=la(y-d[v],b),j=la(p-d[x],w),S=!t.middlewareData.shift;let C=N,k=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=b),S&&!m){const _=gn(d.left,0),P=gn(d.right,0),O=gn(d.top,0),L=gn(d.bottom,0);h?k=p-2*(_!==0||P!==0?_+P:gn(d.left,d.right)):C=y-2*(O!==0||L!==0?O+L:gn(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:C});const E=await i.getDimensions(l.floating);return p!==E.width||y!==E.height?{reset:{rects:!0}}:{}}}};function If(){return typeof window<"u"}function Qi(e){return TS(e)?(e.nodeName||"").toLowerCase():"#document"}function vn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ds(e){var t;return(t=(TS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function TS(e){return If()?e instanceof Node||e instanceof vn(e).Node:!1}function ts(e){return If()?e instanceof Element||e instanceof vn(e).Element:!1}function _s(e){return If()?e instanceof HTMLElement||e instanceof vn(e).HTMLElement:!1}function Zv(e){return!If()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vn(e).ShadowRoot}const y$=new Set(["inline","contents"]);function Oc(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=ns(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!y$.has(r)}const v$=new Set(["table","td","th"]);function b$(e){return v$.has(Qi(e))}const w$=[":popover-open",":modal"];function Hf(e){return w$.some(t=>{try{return e.matches(t)}catch{return!1}})}const N$=["transform","translate","scale","rotate","perspective"],j$=["transform","translate","scale","rotate","perspective","filter"],S$=["paint","layout","strict","content"];function Bx(e){const t=Ix(),n=ts(e)?ns(e):e;return N$.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||j$.some(s=>(n.willChange||"").includes(s))||S$.some(s=>(n.contain||"").includes(s))}function C$(e){let t=ca(e);for(;_s(t)&&!bi(t);){if(Bx(t))return t;if(Hf(t))return null;t=ca(t)}return null}function Ix(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const k$=new Set(["html","body","#document"]);function bi(e){return k$.has(Qi(e))}function ns(e){return vn(e).getComputedStyle(e)}function Uf(e){return ts(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ca(e){if(Qi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zv(e)&&e.host||Ds(e);return Zv(t)?t.host:t}function MS(e){const t=ca(e);return bi(t)?e.ownerDocument?e.ownerDocument.body:e.body:_s(t)&&Oc(t)?t:MS(t)}function oc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=MS(e),a=r===((s=e.ownerDocument)==null?void 0:s.body),i=vn(r);if(a){const l=Sg(i);return t.concat(i,i.visualViewport||[],Oc(r)?r:[],l&&n?oc(l):[])}return t.concat(r,oc(r,[],n))}function Sg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RS(e){const t=ns(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=_s(e),a=r?e.offsetWidth:n,i=r?e.offsetHeight:s,l=Cd(n)!==a||Cd(s)!==i;return l&&(n=a,s=i),{width:n,height:s,$:l}}function Hx(e){return ts(e)?e:e.contextElement}function ti(e){const t=Hx(e);if(!_s(t))return Ns(1);const n=t.getBoundingClientRect(),{width:s,height:r,$:a}=RS(t);let i=(a?Cd(n.width):n.width)/s,l=(a?Cd(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const E$=Ns(0);function DS(e){const t=vn(e);return!Ix()||!t.visualViewport?E$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==vn(e)?!1:t}function Za(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=Hx(e);let i=Ns(1);t&&(s?ts(s)&&(i=ti(s)):i=ti(e));const l=_$(a,n,s)?DS(a):Ns(0);let c=(r.left+l.x)/i.x,u=(r.top+l.y)/i.y,d=r.width/i.x,f=r.height/i.y;if(a){const m=vn(a),h=s&&ts(s)?vn(s):s;let p=m,y=Sg(p);for(;y&&s&&h!==p;){const v=ti(y),x=y.getBoundingClientRect(),b=ns(y),w=x.left+(y.clientLeft+parseFloat(b.paddingLeft))*v.x,N=x.top+(y.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=N,p=vn(y),y=Sg(p)}}return Ed({width:d,height:f,x:c,y:u})}function Ux(e,t){const n=Uf(e).scrollLeft;return t?t.left+n:Za(Ds(e)).left+n}function zS(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-(n?0:Ux(e,s)),a=s.top+t.scrollTop;return{x:r,y:a}}function A$(e){let{elements:t,rect:n,offsetParent:s,strategy:r}=e;const a=r==="fixed",i=Ds(s),l=t?Hf(t.floating):!1;if(s===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Ns(1);const d=Ns(0),f=_s(s);if((f||!f&&!a)&&((Qi(s)!=="body"||Oc(i))&&(c=Uf(s)),_s(s))){const h=Za(s);u=ti(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}const m=i&&!f&&!a?zS(i,c,!0):Ns(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function T$(e){return Array.from(e.getClientRects())}function M$(e){const t=Ds(e),n=Uf(e),s=e.ownerDocument.body,r=gn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=gn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let i=-n.scrollLeft+Ux(e);const l=-n.scrollTop;return ns(s).direction==="rtl"&&(i+=gn(t.clientWidth,s.clientWidth)-r),{width:r,height:a,x:i,y:l}}function R$(e,t){const n=vn(e),s=Ds(e),r=n.visualViewport;let a=s.clientWidth,i=s.clientHeight,l=0,c=0;if(r){a=r.width,i=r.height;const u=Ix();(!u||u&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:a,height:i,x:l,y:c}}const D$=new Set(["absolute","fixed"]);function z$(e,t){const n=Za(e,!0,t==="fixed"),s=n.top+e.clientTop,r=n.left+e.clientLeft,a=_s(e)?ti(e):Ns(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=r*a.x,u=s*a.y;return{width:i,height:l,x:c,y:u}}function Yv(e,t,n){let s;if(t==="viewport")s=R$(e,n);else if(t==="document")s=M$(Ds(e));else if(ts(t))s=z$(t,n);else{const r=DS(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ed(s)}function LS(e,t){const n=ca(e);return n===t||!ts(n)||bi(n)?!1:ns(n).position==="fixed"||LS(n,t)}function L$(e,t){const n=t.get(e);if(n)return n;let s=oc(e,[],!1).filter(l=>ts(l)&&Qi(l)!=="body"),r=null;const a=ns(e).position==="fixed";let i=a?ca(e):e;for(;ts(i)&&!bi(i);){const l=ns(i),c=Bx(i);!c&&l.position==="fixed"&&(r=null),(a?!c&&!r:!c&&l.position==="static"&&!!r&&D$.has(r.position)||Oc(i)&&!c&&LS(e,i))?s=s.filter(d=>d!==i):r=l,i=ca(i)}return t.set(e,s),s}function $$(e){let{element:t,boundary:n,rootBoundary:s,strategy:r}=e;const i=[...n==="clippingAncestors"?Hf(t)?[]:L$(t,this._c):[].concat(n),s],l=i[0],c=i.reduce((u,d)=>{const f=Yv(t,d,r);return u.top=gn(f.top,u.top),u.right=la(f.right,u.right),u.bottom=la(f.bottom,u.bottom),u.left=gn(f.left,u.left),u},Yv(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function P$(e){const{width:t,height:n}=RS(e);return{width:t,height:n}}function O$(e,t,n){const s=_s(t),r=Ds(t),a=n==="fixed",i=Za(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ns(0);function u(){c.x=Ux(r)}if(s||!s&&!a)if((Qi(t)!=="body"||Oc(r))&&(l=Uf(t)),s){const h=Za(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else r&&u();a&&!s&&r&&u();const d=r&&!s&&!a?zS(r,l):Ns(0),f=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function Wm(e){return ns(e).position==="static"}function Xv(e,t){if(!_s(e)||ns(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ds(e)===n&&(n=n.ownerDocument.body),n}function $S(e,t){const n=vn(e);if(Hf(e))return n;if(!_s(e)){let r=ca(e);for(;r&&!bi(r);){if(ts(r)&&!Wm(r))return r;r=ca(r)}return n}let s=Xv(e,t);for(;s&&b$(s)&&Wm(s);)s=Xv(s,t);return s&&bi(s)&&Wm(s)&&!Bx(s)?n:s||C$(e)||n}const B$=async function(e){const t=this.getOffsetParent||$S,n=this.getDimensions,s=await n(e.floating);return{reference:O$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function I$(e){return ns(e).direction==="rtl"}const H$={convertOffsetParentRelativeRectToViewportRelativeRect:A$,getDocumentElement:Ds,getClippingRect:$$,getOffsetParent:$S,getElementRects:B$,getClientRects:T$,getDimensions:P$,getScale:ti,isElement:ts,isRTL:I$};function PS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function U$(e,t){let n=null,s;const r=Ds(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||t(),!m||!h)return;const p=Nu(f),y=Nu(r.clientWidth-(d+m)),v=Nu(r.clientHeight-(f+h)),x=Nu(d),w={rootMargin:-p+"px "+-y+"px "+-v+"px "+-x+"px",threshold:gn(0,la(1,c))||1};let N=!0;function j(S){const C=S[0].intersectionRatio;if(C!==c){if(!N)return i();C?i(!1,C):s=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!PS(u,e.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(j,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(e)}return i(!0),a}function F$(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=Hx(e),d=r||a?[...u?oc(u):[],...oc(t)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const f=u&&l?U$(u,n):null;let m=-1,h=null;i&&(h=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let p,y=c?Za(e):null;c&&v();function v(){const x=Za(e);y&&!PS(y,x)&&n(),y=x,p=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(b=>{r&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const V$=h$,q$=g$,G$=d$,Z$=x$,Y$=f$,Kv=u$,X$=p$,K$=(e,t,n)=>{const s=new Map,r={platform:H$,...n},a={...r.platform,_c:s};return c$(e,t,{...r,platform:a})};var W$=typeof document<"u",Q$=function(){},rd=W$?g.useLayoutEffect:Q$;function _d(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!_d(e[s],t[s]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,r[s]))return!1;for(s=n;s--!==0;){const a=r[s];if(!(a==="_owner"&&e.$$typeof)&&!_d(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function OS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wv(e,t){const n=OS(e);return Math.round(t*n)/n}function Qm(e){const t=g.useRef(e);return rd(()=>{t.current=e}),t}function J$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=g.useState(s);_d(m,s)||h(s);const[p,y]=g.useState(null),[v,x]=g.useState(null),b=g.useCallback(M=>{M!==S.current&&(S.current=M,y(M))},[]),w=g.useCallback(M=>{M!==C.current&&(C.current=M,x(M))},[]),N=a||p,j=i||v,S=g.useRef(null),C=g.useRef(null),k=g.useRef(d),E=c!=null,_=Qm(c),P=Qm(r),O=Qm(u),L=g.useCallback(()=>{if(!S.current||!C.current)return;const M={placement:t,strategy:n,middleware:m};P.current&&(M.platform=P.current),K$(S.current,C.current,M).then(R=>{const B={...R,isPositioned:O.current!==!1};T.current&&!_d(k.current,B)&&(k.current=B,zf.flushSync(()=>{f(B)}))})},[m,t,n,P,O]);rd(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const T=g.useRef(!1);rd(()=>(T.current=!0,()=>{T.current=!1}),[]),rd(()=>{if(N&&(S.current=N),j&&(C.current=j),N&&j){if(_.current)return _.current(N,j,L);L()}},[N,j,L,_,E]);const z=g.useMemo(()=>({reference:S,floating:C,setReference:b,setFloating:w}),[b,w]),A=g.useMemo(()=>({reference:N,floating:j}),[N,j]),D=g.useMemo(()=>{const M={position:n,left:0,top:0};if(!A.floating)return M;const R=Wv(A.floating,d.x),B=Wv(A.floating,d.y);return l?{...M,transform:"translate("+R+"px, "+B+"px)",...OS(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:B}},[n,l,A.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:L,refs:z,elements:A,floatingStyles:D}),[d,L,z,A,D])}const eP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:r}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Kv({element:s.current,padding:r}).fn(n):{}:s?Kv({element:s,padding:r}).fn(n):{}}}},tP=(e,t)=>({...V$(e),options:[e,t]}),nP=(e,t)=>({...q$(e),options:[e,t]}),sP=(e,t)=>({...X$(e),options:[e,t]}),rP=(e,t)=>({...G$(e),options:[e,t]}),aP=(e,t)=>({...Z$(e),options:[e,t]}),oP=(e,t)=>({...Y$(e),options:[e,t]}),iP=(e,t)=>({...eP(e),options:[e,t]});var lP="Arrow",BS=g.forwardRef((e,t)=>{const{children:n,width:s=10,height:r=5,...a}=e;return o.jsx(xe.svg,{...a,ref:t,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});BS.displayName=lP;var cP=BS,Fx="Popper",[IS,Ji]=on(Fx),[uP,HS]=IS(Fx),US=e=>{const{__scopePopper:t,children:n}=e,[s,r]=g.useState(null);return o.jsx(uP,{scope:t,anchor:s,onAnchorChange:r,children:n})};US.displayName=Fx;var FS="PopperAnchor",VS=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...r}=e,a=HS(FS,n),i=g.useRef(null),l=$e(t,i);return g.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||i.current)}),s?null:o.jsx(xe.div,{...r,ref:l})});VS.displayName=FS;var Vx="PopperContent",[dP,fP]=IS(Vx),qS=g.forwardRef((e,t)=>{var ee,pe,me,ve,F,Y;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:p,...y}=e,v=HS(Vx,n),[x,b]=g.useState(null),w=$e(t,Q=>b(Q)),[N,j]=g.useState(null),S=wS(N),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,E=s+(a!=="center"?"-"+a:""),_=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],O=P.length>0,L={padding:_,boundary:P.filter(hP),altBoundary:O},{refs:T,floatingStyles:z,placement:A,isPositioned:D,middlewareData:M}=J$({strategy:"fixed",placement:E,whileElementsMounted:(...Q)=>F$(...Q,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[tP({mainAxis:r+k,alignmentAxis:i}),c&&nP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?sP():void 0,...L}),c&&rP({...L}),aP({...L,apply:({elements:Q,rects:X,availableWidth:se,availableHeight:ye})=>{const{width:de,height:ne}=X.reference,Me=Q.floating.style;Me.setProperty("--radix-popper-available-width",`${se}px`),Me.setProperty("--radix-popper-available-height",`${ye}px`),Me.setProperty("--radix-popper-anchor-width",`${de}px`),Me.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),N&&iP({element:N,padding:l}),gP({arrowWidth:C,arrowHeight:k}),m&&oP({strategy:"referenceHidden",...L})]}),[R,B]=YS(A),H=It(p);Es(()=>{D&&(H==null||H())},[D,H]);const I=(ee=M.arrow)==null?void 0:ee.x,V=(pe=M.arrow)==null?void 0:pe.y,Z=((me=M.arrow)==null?void 0:me.centerOffset)!==0,[J,ie]=g.useState();return Es(()=>{x&&ie(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:D?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ve=M.transformOrigin)==null?void 0:ve.x,(F=M.transformOrigin)==null?void 0:F.y].join(" "),...((Y=M.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(dP,{scope:n,placedSide:R,onArrowChange:j,arrowX:I,arrowY:V,shouldHideArrow:Z,children:o.jsx(xe.div,{"data-side":R,"data-align":B,...y,ref:w,style:{...y.style,animation:D?void 0:"none"}})})})});qS.displayName=Vx;var GS="PopperArrow",mP={top:"bottom",right:"left",bottom:"top",left:"right"},ZS=g.forwardRef(function(t,n){const{__scopePopper:s,...r}=t,a=fP(GS,s),i=mP[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(cP,{...r,ref:n,style:{...r.style,display:"block"}})})});ZS.displayName=GS;function hP(e){return e!==null}var gP=e=>({name:"transformOrigin",options:e,fn(t){var v,x,b;const{placement:n,rects:s,middlewareData:r}=t,i=((v=r.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=YS(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((x=r.arrow)==null?void 0:x.x)??0)+l/2,h=(((b=r.arrow)==null?void 0:b.y)??0)+c/2;let p="",y="";return u==="bottom"?(p=i?f:`${m}px`,y=`${-c}px`):u==="top"?(p=i?f:`${m}px`,y=`${s.floating.height+c}px`):u==="right"?(p=`${-c}px`,y=i?f:`${h}px`):u==="left"&&(p=`${s.floating.width+c}px`,y=i?f:`${h}px`),{data:{x:p,y}}}});function YS(e){const[t,n="center"]=e.split("-");return[t,n]}var XS=US,qx=VS,Gx=qS,Zx=ZS,Cg=["Enter"," "],pP=["ArrowDown","PageUp","Home"],KS=["ArrowUp","PageDown","End"],xP=[...pP,...KS],yP={ltr:[...Cg,"ArrowRight"],rtl:[...Cg,"ArrowLeft"]},vP={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bc="Menu",[ic,bP,wP]=Rx(Bc),[co,WS]=on(Bc,[wP,Ji,Yi]),Ff=Ji(),QS=Yi(),[NP,uo]=co(Bc),[jP,Ic]=co(Bc),JS=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:r,onOpenChange:a,modal:i=!0}=e,l=Ff(t),[c,u]=g.useState(null),d=g.useRef(!1),f=It(a),m=Zi(r);return g.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),o.jsx(XS,{...l,children:o.jsx(NP,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(jP,{scope:t,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:s})})})};JS.displayName=Bc;var SP="MenuAnchor",Yx=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=Ff(n);return o.jsx(qx,{...r,...s,ref:t})});Yx.displayName=SP;var Xx="MenuPortal",[CP,e2]=co(Xx,{forceMount:void 0}),t2=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:r}=e,a=uo(Xx,t);return o.jsx(CP,{scope:t,forceMount:n,children:o.jsx(Vt,{present:n||a.open,children:o.jsx(vx,{asChild:!0,container:r,children:s})})})};t2.displayName=Xx;var Bn="MenuContent",[kP,Kx]=co(Bn),n2=g.forwardRef((e,t)=>{const n=e2(Bn,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,a=uo(Bn,e.__scopeMenu),i=Ic(Bn,e.__scopeMenu);return o.jsx(ic.Provider,{scope:e.__scopeMenu,children:o.jsx(Vt,{present:s||a.open,children:o.jsx(ic.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(EP,{...r,ref:t}):o.jsx(_P,{...r,ref:t})})})})}),EP=g.forwardRef((e,t)=>{const n=uo(Bn,e.__scopeMenu),s=g.useRef(null),r=$e(t,s);return g.useEffect(()=>{const a=s.current;if(a)return Aj(a)},[]),o.jsx(Wx,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_P=g.forwardRef((e,t)=>{const n=uo(Bn,e.__scopeMenu);return o.jsx(Wx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),AP=vi("MenuContent.ScrollLock"),Wx=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:p,...y}=e,v=uo(Bn,n),x=Ic(Bn,n),b=Ff(n),w=QS(n),N=bP(n),[j,S]=g.useState(null),C=g.useRef(null),k=$e(t,C,v.onContentChange),E=g.useRef(0),_=g.useRef(""),P=g.useRef(0),O=g.useRef(null),L=g.useRef("right"),T=g.useRef(0),z=p?bx:g.Fragment,A=p?{as:AP,allowPinchZoom:!0}:void 0,D=R=>{var ee,pe;const B=_.current+R,H=N().filter(me=>!me.disabled),I=document.activeElement,V=(ee=H.find(me=>me.ref.current===I))==null?void 0:ee.textValue,Z=H.map(me=>me.textValue),J=HP(Z,B,V),ie=(pe=H.find(me=>me.textValue===J))==null?void 0:pe.ref.current;(function me(ve){_.current=ve,window.clearTimeout(E.current),ve!==""&&(E.current=window.setTimeout(()=>me(""),1e3))})(B),ie&&setTimeout(()=>ie.focus())};g.useEffect(()=>()=>window.clearTimeout(E.current),[]),bj();const M=g.useCallback(R=>{var H,I;return L.current===((H=O.current)==null?void 0:H.side)&&FP(R,(I=O.current)==null?void 0:I.area)},[]);return o.jsx(kP,{scope:n,searchRef:_,onItemEnter:g.useCallback(R=>{M(R)&&R.preventDefault()},[M]),onItemLeave:g.useCallback(R=>{var B;M(R)||((B=C.current)==null||B.focus(),S(null))},[M]),onTriggerLeave:g.useCallback(R=>{M(R)&&R.preventDefault()},[M]),pointerGraceTimerRef:P,onPointerGraceIntentChange:g.useCallback(R=>{O.current=R},[]),children:o.jsx(z,{...A,children:o.jsx(yx,{asChild:!0,trapped:r,onMountAutoFocus:te(a,R=>{var B;R.preventDefault(),(B=C.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx($c,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:o.jsx(Dx,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:s,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:te(c,R=>{x.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Gx,{role:"menu","aria-orientation":"vertical","data-state":y2(v.open),"data-radix-menu-content":"",dir:x.dir,...b,...y,ref:k,style:{outline:"none",...y.style},onKeyDown:te(y.onKeyDown,R=>{const H=R.target.closest("[data-radix-menu-content]")===R.currentTarget,I=R.ctrlKey||R.altKey||R.metaKey,V=R.key.length===1;H&&(R.key==="Tab"&&R.preventDefault(),!I&&V&&D(R.key));const Z=C.current;if(R.target!==Z||!xP.includes(R.key))return;R.preventDefault();const ie=N().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);KS.includes(R.key)&&ie.reverse(),BP(ie)}),onBlur:te(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(E.current),_.current="")}),onPointerMove:te(e.onPointerMove,lc(R=>{const B=R.target,H=T.current!==R.clientX;if(R.currentTarget.contains(B)&&H){const I=R.clientX>T.current?"right":"left";L.current=I,T.current=R.clientX}}))})})})})})})});n2.displayName=Bn;var TP="MenuGroup",Qx=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return o.jsx(xe.div,{role:"group",...s,ref:t})});Qx.displayName=TP;var MP="MenuLabel",s2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return o.jsx(xe.div,{...s,ref:t})});s2.displayName=MP;var Ad="MenuItem",Qv="menu.itemSelect",Vf=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...r}=e,a=g.useRef(null),i=Ic(Ad,e.__scopeMenu),l=Kx(Ad,e.__scopeMenu),c=$e(t,a),u=g.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(Qv,{bubbles:!0,cancelable:!0});f.addEventListener(Qv,h=>s==null?void 0:s(h),{once:!0}),pj(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(r2,{...r,ref:c,disabled:n,onClick:te(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:te(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:te(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||Cg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Vf.displayName=Ad;var r2=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...a}=e,i=Kx(Ad,n),l=QS(n),c=g.useRef(null),u=$e(t,c),[d,f]=g.useState(!1),[m,h]=g.useState("");return g.useEffect(()=>{const p=c.current;p&&h((p.textContent??"").trim())},[a.children]),o.jsx(ic.ItemSlot,{scope:n,disabled:s,textValue:r??m,children:o.jsx(zx,{asChild:!0,...l,focusable:!s,children:o.jsx(xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:te(e.onPointerMove,lc(p=>{s?i.onItemLeave(p):(i.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,lc(p=>i.onItemLeave(p))),onFocus:te(e.onFocus,()=>f(!0)),onBlur:te(e.onBlur,()=>f(!1))})})})}),RP="MenuCheckboxItem",a2=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...r}=e;return o.jsx(u2,{scope:e.__scopeMenu,checked:n,children:o.jsx(Vf,{role:"menuitemcheckbox","aria-checked":Td(n)?"mixed":n,...r,ref:t,"data-state":e0(n),onSelect:te(r.onSelect,()=>s==null?void 0:s(Td(n)?!0:!n),{checkForDefaultPrevented:!1})})})});a2.displayName=RP;var o2="MenuRadioGroup",[DP,zP]=co(o2,{value:void 0,onValueChange:()=>{}}),i2=g.forwardRef((e,t)=>{const{value:n,onValueChange:s,...r}=e,a=It(s);return o.jsx(DP,{scope:e.__scopeMenu,value:n,onValueChange:a,children:o.jsx(Qx,{...r,ref:t})})});i2.displayName=o2;var l2="MenuRadioItem",c2=g.forwardRef((e,t)=>{const{value:n,...s}=e,r=zP(l2,e.__scopeMenu),a=n===r.value;return o.jsx(u2,{scope:e.__scopeMenu,checked:a,children:o.jsx(Vf,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":e0(a),onSelect:te(s.onSelect,()=>{var i;return(i=r.onValueChange)==null?void 0:i.call(r,n)},{checkForDefaultPrevented:!1})})})});c2.displayName=l2;var Jx="MenuItemIndicator",[u2,LP]=co(Jx,{checked:!1}),d2=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...r}=e,a=LP(Jx,n);return o.jsx(Vt,{present:s||Td(a.checked)||a.checked===!0,children:o.jsx(xe.span,{...r,ref:t,"data-state":e0(a.checked)})})});d2.displayName=Jx;var $P="MenuSeparator",f2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return o.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});f2.displayName=$P;var PP="MenuArrow",m2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=Ff(n);return o.jsx(Zx,{...r,...s,ref:t})});m2.displayName=PP;var OP="MenuSub",[yee,h2]=co(OP),El="MenuSubTrigger",g2=g.forwardRef((e,t)=>{const n=uo(El,e.__scopeMenu),s=Ic(El,e.__scopeMenu),r=h2(El,e.__scopeMenu),a=Kx(El,e.__scopeMenu),i=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(Yx,{asChild:!0,...u,children:o.jsx(r2,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":y2(n.open),...e,ref:Lf(t,r.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,lc(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:te(e.onPointerLeave,lc(f=>{var h,p;d();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const y=(p=n.content)==null?void 0:p.dataset.side,v=y==="right",x=v?-5:5,b=m[v?"left":"right"],w=m[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:b,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,f=>{var h;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||yP[s.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});g2.displayName=El;var p2="MenuSubContent",x2=g.forwardRef((e,t)=>{const n=e2(Bn,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,a=uo(Bn,e.__scopeMenu),i=Ic(Bn,e.__scopeMenu),l=h2(p2,e.__scopeMenu),c=g.useRef(null),u=$e(t,c);return o.jsx(ic.Provider,{scope:e.__scopeMenu,children:o.jsx(Vt,{present:s||a.open,children:o.jsx(ic.Slot,{scope:e.__scopeMenu,children:o.jsx(Wx,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:te(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:te(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=vP[i.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});x2.displayName=p2;function y2(e){return e?"open":"closed"}function Td(e){return e==="indeterminate"}function e0(e){return Td(e)?"indeterminate":e?"checked":"unchecked"}function BP(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function IP(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function HP(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=IP(e,Math.max(a,0));r.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function UP(e,t){const{x:n,y:s}=e;let r=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function FP(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return UP(n,t)}function lc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var VP=JS,qP=Yx,GP=t2,ZP=n2,YP=Qx,XP=s2,KP=Vf,WP=a2,QP=i2,JP=c2,eO=d2,tO=f2,nO=m2,sO=g2,rO=x2,qf="DropdownMenu",[aO,vee]=on(qf,[WS]),Kt=WS(),[oO,v2]=aO(qf),b2=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:r,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Kt(t),u=g.useRef(null),[d,f]=Vn({prop:r,defaultProp:a??!1,onChange:i,caller:qf});return o.jsx(oO,{scope:t,triggerId:cr(),triggerRef:u,contentId:cr(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),modal:l,children:o.jsx(VP,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};b2.displayName=qf;var w2="DropdownMenuTrigger",N2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=e,a=v2(w2,n),i=Kt(n);return o.jsx(qP,{asChild:!0,...i,children:o.jsx(xe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Lf(t,a.triggerRef),onPointerDown:te(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:te(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});N2.displayName=w2;var iO="DropdownMenuPortal",j2=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Kt(t);return o.jsx(GP,{...s,...n})};j2.displayName=iO;var S2="DropdownMenuContent",C2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=v2(S2,n),a=Kt(n),i=g.useRef(!1);return o.jsx(ZP,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...s,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,l=>{var c;i.current||(c=r.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:te(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});C2.displayName=S2;var lO="DropdownMenuGroup",cO=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(YP,{...r,...s,ref:t})});cO.displayName=lO;var uO="DropdownMenuLabel",k2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(XP,{...r,...s,ref:t})});k2.displayName=uO;var dO="DropdownMenuItem",E2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(KP,{...r,...s,ref:t})});E2.displayName=dO;var fO="DropdownMenuCheckboxItem",_2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(WP,{...r,...s,ref:t})});_2.displayName=fO;var mO="DropdownMenuRadioGroup",hO=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(QP,{...r,...s,ref:t})});hO.displayName=mO;var gO="DropdownMenuRadioItem",A2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(JP,{...r,...s,ref:t})});A2.displayName=gO;var pO="DropdownMenuItemIndicator",T2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(eO,{...r,...s,ref:t})});T2.displayName=pO;var xO="DropdownMenuSeparator",M2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(tO,{...r,...s,ref:t})});M2.displayName=xO;var yO="DropdownMenuArrow",vO=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(nO,{...r,...s,ref:t})});vO.displayName=yO;var bO="DropdownMenuSubTrigger",R2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(sO,{...r,...s,ref:t})});R2.displayName=bO;var wO="DropdownMenuSubContent",D2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Kt(n);return o.jsx(rO,{...r,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D2.displayName=wO;var NO=b2,jO=N2,SO=j2,z2=C2,L2=k2,$2=E2,P2=_2,O2=A2,B2=T2,I2=M2,H2=R2,U2=D2;const t0=NO,n0=jO,CO=g.forwardRef(({className:e,inset:t,children:n,...s},r)=>o.jsxs(H2,{ref:r,className:U("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,o.jsx(Rc,{className:"ml-auto h-4 w-4"})]}));CO.displayName=H2.displayName;const kO=g.forwardRef(({className:e,...t},n)=>o.jsx(U2,{ref:n,className:U("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Ct.DROPDOWN},...t}));kO.displayName=U2.displayName;const Gf=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>o.jsx(SO,{children:o.jsx(z2,{ref:s,sideOffset:t,className:U("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Ct.DROPDOWN},...n})}));Gf.displayName=z2.displayName;const ur=g.forwardRef(({className:e,inset:t,...n},s)=>o.jsx($2,{ref:s,className:U("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ur.displayName=$2.displayName;const EO=g.forwardRef(({className:e,children:t,checked:n,...s},r)=>o.jsxs(P2,{ref:r,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(B2,{children:o.jsx(cg,{className:"h-4 w-4"})})}),t]}));EO.displayName=P2.displayName;const _O=g.forwardRef(({className:e,children:t,...n},s)=>o.jsxs(O2,{ref:s,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(B2,{children:o.jsx(Af,{className:"h-2 w-2 fill-current"})})}),t]}));_O.displayName=O2.displayName;const AO=g.forwardRef(({className:e,inset:t,...n},s)=>o.jsx(L2,{ref:s,className:U("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));AO.displayName=L2.displayName;const TO=g.forwardRef(({className:e,...t},n)=>o.jsx(I2,{ref:n,className:U("-mx-1 my-1 h-px bg-muted",e),...t}));TO.displayName=I2.displayName;function MO(e,[t,n]){return Math.min(n,Math.max(t,e))}function RO(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var s0="ScrollArea",[F2,bee]=on(s0),[DO,qn]=F2(s0),V2=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:a=600,...i}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,p]=g.useState(null),[y,v]=g.useState(null),[x,b]=g.useState(0),[w,N]=g.useState(0),[j,S]=g.useState(!1),[C,k]=g.useState(!1),E=$e(t,P=>c(P)),_=Zi(r);return o.jsx(DO,{scope:n,type:s,dir:_,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:y,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:N,children:o.jsx(xe.div,{dir:_,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});V2.displayName=s0;var q2="ScrollAreaViewport",G2=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:r,...a}=e,i=qn(q2,n),l=g.useRef(null),c=$e(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});G2.displayName=q2;var zs="ScrollAreaScrollbar",r0=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=qn(zs,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=r,l=e.orientation==="horizontal";return g.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),r.type==="hover"?o.jsx(zO,{...s,ref:t,forceMount:n}):r.type==="scroll"?o.jsx(LO,{...s,ref:t,forceMount:n}):r.type==="auto"?o.jsx(Z2,{...s,ref:t,forceMount:n}):r.type==="always"?o.jsx(a0,{...s,ref:t}):null});r0.displayName=zs;var zO=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=qn(zs,e.__scopeScrollArea),[a,i]=g.useState(!1);return g.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),o.jsx(Vt,{present:n||a,children:o.jsx(Z2,{"data-state":a?"visible":"hidden",...s,ref:t})})}),LO=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=qn(zs,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Yf(()=>c("SCROLL_END"),100),[l,c]=RO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,c]),g.useEffect(()=>{const u=r.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),i()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[r.viewport,a,c,i]),o.jsx(Vt,{present:n||l!=="hidden",children:o.jsx(a0,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:te(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Z2=g.forwardRef((e,t)=>{const n=qn(zs,e.__scopeScrollArea),{forceMount:s,...r}=e,[a,i]=g.useState(!1),l=e.orientation==="horizontal",c=Yf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:d)}},10);return wi(n.viewport,c),wi(n.content,c),o.jsx(Vt,{present:s||a,children:o.jsx(a0,{"data-state":a?"visible":"hidden",...r,ref:t})})}),a0=g.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,r=qn(zs,e.__scopeScrollArea),a=g.useRef(null),i=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Q2(l.viewport,l.content),d={...s,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,h){return HO(m,i.current,l,h)}return n==="horizontal"?o.jsx($O,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&a.current){const m=r.viewport.scrollLeft,h=Jv(m,l,r.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollLeft=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollLeft=f(m,r.dir))}}):n==="vertical"?o.jsx(PO,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&a.current){const m=r.viewport.scrollTop,h=Jv(m,l);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollTop=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollTop=f(m))}}):null}),$O=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,a=qn(zs,e.__scopeScrollArea),[i,l]=g.useState(),c=g.useRef(null),u=$e(t,c,a.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(X2,{"data-orientation":"horizontal",...r,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),eC(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Rd(i.paddingLeft),paddingEnd:Rd(i.paddingRight)}})}})}),PO=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,a=qn(zs,e.__scopeScrollArea),[i,l]=g.useState(),c=g.useRef(null),u=$e(t,c,a.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(X2,{"data-orientation":"vertical",...r,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),eC(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Rd(i.paddingTop),paddingEnd:Rd(i.paddingBottom)}})}})}),[OO,Y2]=F2(zs),X2=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,h=qn(zs,n),[p,y]=g.useState(null),v=$e(t,E=>y(E)),x=g.useRef(null),b=g.useRef(""),w=h.viewport,N=s.content-s.viewport,j=It(d),S=It(c),C=Yf(f,10);function k(E){if(x.current){const _=E.clientX-x.current.left,P=E.clientY-x.current.top;u({x:_,y:P})}}return g.useEffect(()=>{const E=_=>{const P=_.target;(p==null?void 0:p.contains(P))&&j(_,N)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,p,N,j]),g.useEffect(S,[s,S]),wi(p,C),wi(h.content,C),o.jsx(OO,{scope:n,scrollbar:p,hasThumb:r,onThumbChange:It(a),onThumbPointerUp:It(i),onThumbPositionChange:S,onThumbPointerDown:It(l),children:o.jsx(xe.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:te(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:te(e.onPointerMove,k),onPointerUp:te(e.onPointerUp,E=>{const _=E.target;_.hasPointerCapture(E.pointerId)&&_.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),Md="ScrollAreaThumb",K2=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Y2(Md,e.__scopeScrollArea);return o.jsx(Vt,{present:n||r.hasThumb,children:o.jsx(BO,{ref:t,...s})})}),BO=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...r}=e,a=qn(Md,n),i=Y2(Md,n),{onThumbPositionChange:l}=i,c=$e(t,f=>i.onThumbChange(f)),u=g.useRef(void 0),d=Yf(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(d(),!u.current){const h=UO(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,d,l]),o.jsx(xe.div,{"data-state":i.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:te(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,y=f.clientY-h.top;i.onThumbPointerDown({x:p,y})}),onPointerUp:te(e.onPointerUp,i.onThumbPointerUp)})});K2.displayName=Md;var o0="ScrollAreaCorner",W2=g.forwardRef((e,t)=>{const n=qn(o0,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?o.jsx(IO,{...e,ref:t}):null});W2.displayName=o0;var IO=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,r=qn(o0,n),[a,i]=g.useState(0),[l,c]=g.useState(0),u=!!(a&&l);return wi(r.scrollbarX,()=>{var f;const d=((f=r.scrollbarX)==null?void 0:f.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),wi(r.scrollbarY,()=>{var f;const d=((f=r.scrollbarY)==null?void 0:f.offsetWidth)||0;r.onCornerWidthChange(d),i(d)}),u?o.jsx(xe.div,{...s,ref:t,style:{width:a,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Rd(e){return e?parseInt(e,10):0}function Q2(e,t){const n=e/t;return isNaN(n)?0:n}function Zf(e){const t=Q2(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function HO(e,t,n,s="ltr"){const r=Zf(n),a=r/2,i=t||a,l=r-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=s==="ltr"?[0,d]:[d*-1,0];return J2([c,u],f)(e)}function Jv(e,t,n="ltr"){const s=Zf(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-r,i=t.content-t.viewport,l=a-s,c=n==="ltr"?[0,i]:[i*-1,0],u=MO(e,c);return J2([0,i],[0,l])(u)}function J2(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function eC(e,t){return e>0&&e<t}var UO=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function r(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function Yf(e,t){const n=It(e),s=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),g.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function wi(e,t){const n=It(t);Es(()=>{let s=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(s),r.unobserve(e)}}},[e,n])}var tC=V2,FO=G2,VO=W2;const Ni=g.forwardRef(({className:e,children:t,...n},s)=>o.jsxs(tC,{ref:s,className:U("relative overflow-hidden",e),...n,children:[o.jsx(FO,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(nC,{}),o.jsx(VO,{})]}));Ni.displayName=tC.displayName;const nC=g.forwardRef(({className:e,orientation:t="vertical",...n},s)=>o.jsx(r0,{ref:s,orientation:t,className:U("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(K2,{className:"relative flex-1 rounded-full bg-border"})}));nC.displayName=r0.displayName;function qO({items:e,viewMode:t,onItemSelect:n,selectedItem:s,renderItemCard:r,className:a}){return o.jsxs("div",{className:`space-y-4 ${a}`,children:[t==="grid"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(i=>o.jsx("div",{onClick:()=>n(i),className:"cursor-pointer transition-transform hover:scale-[1.02] relative",children:r(i,(s==null?void 0:s.id)===i.id)},i.id))}):o.jsx(Ni,{className:"h-[calc(100vh-300px)]",children:o.jsx("div",{className:"space-y-1 pr-4",children:e.map(i=>o.jsx("div",{onClick:()=>n(i),className:"cursor-pointer transition-colors hover:bg-muted/50 rounded-lg",children:r(i,(s==null?void 0:s.id)===i.id)},i.id))})}),e.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"No items found matching your criteria."})})]})}function GO({categories:e,onSelect:t,className:n=""}){return o.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(s=>o.jsx("div",{className:"flex-1 min-w-[180px]",children:o.jsx(Da,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))})}function ZO({tags:e,onRemove:t,className:n=""}){return e.length===0?null:o.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(s=>o.jsxs(K,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[o.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.category,":"]}),o.jsx("span",{children:s.label}),o.jsx("button",{onClick:()=>t(s.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:o.jsx(Ft,{className:"h-3 w-3"})})]},s.id))})}function sC({categories:e,onSelect:t,onCustomSearch:n,placeholder:s="Search by name, description, or abilities...",className:r=""}){const[a,i]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(""),[f,m]=g.useState(-1),h=g.useRef(null),p=g.useRef(null),y=e.length===1?e[0]:null;g.useEffect(()=>{const _=P=>{h.current&&!h.current.contains(P.target)&&(i(!1),c(null),m(-1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const v=l||y?(l||y).options.filter(_=>_.label&&typeof _.label=="string"&&_.label.toLowerCase().includes(u.toLowerCase())||_.description&&typeof _.description=="string"&&_.description.toLowerCase().includes(u.toLowerCase())):e.flatMap(_=>_.options.filter(P=>P.label&&typeof P.label=="string"&&P.label.toLowerCase().includes(u.toLowerCase())||P.description&&typeof P.description=="string"&&P.description.toLowerCase().includes(u.toLowerCase()))),x=_=>{d(_),i(!0),m(-1)},b=_=>{var P;c(_),d(""),(P=p.current)==null||P.focus()},w=_=>{t(_),d(""),c(null),i(!1),m(-1)},N=()=>{u.trim()&&(n(u.trim()),d(""),c(null),i(!1),m(-1))},j=_=>{_.key==="ArrowDown"?(_.preventDefault(),m(P=>Math.min(P+1,v.length-1))):_.key==="ArrowUp"?(_.preventDefault(),m(P=>Math.max(P-1,-1))):_.key==="Enter"?(_.preventDefault(),f>=0&&v[f]?w(v[f]):u.trim()&&N()):_.key==="Escape"&&(i(!1),c(null),m(-1))},S=()=>{i(!0)},C=l||y,k=!y&&!l,E=u.trim()&&!v.some(_=>_.label&&typeof _.label=="string"&&_.label.toLowerCase()===u.toLowerCase());return o.jsxs("div",{ref:h,className:`relative ${r}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ws,{ref:p,type:"text",placeholder:C?C.placeholder:s,value:u,onChange:_=>x(_.target.value),onFocus:S,onKeyDown:j,className:"pl-10 pr-20"}),E&&o.jsx(W,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:N,title:"Add custom search term",children:o.jsx(Wr,{className:"h-4 w-4"})}),o.jsx(W,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>i(!a),children:o.jsx(In,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&o.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:Ct.AUTOCOMPLETE+10},children:[k&&o.jsxs("div",{className:"p-2 border-b border-border",children:[o.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(_=>o.jsxs("button",{onClick:()=>b(_),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[o.jsx("span",{children:_.name}),o.jsx(In,{className:"h-4 w-4"})]},_.id))]}),E&&o.jsx("div",{className:"p-2 border-b border-border",children:o.jsxs("button",{onClick:N,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[o.jsx(Wr,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),o.jsx("div",{className:"p-2",children:v.length===0&&!E?o.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):v.map((_,P)=>o.jsxs("button",{onClick:()=>w(_),className:`w-full text-left px-2 py-2 rounded text-sm ${P===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[o.jsx("div",{className:"font-medium",children:_.label}),_.description&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:_.description})]},_.id))})]})]})}function ga({categories:e,onSelect:t,onCustomSearch:n,className:s=""}){const r=e.find(i=>i.id==="fuzzy-search"||i.id==="keywords"),a=e.filter(i=>i.id!=="fuzzy-search"&&i.id!=="keywords");return o.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${s}`,children:[r&&o.jsx("div",{className:"flex-1 min-w-[300px]",children:o.jsx(sC,{categories:[r],onSelect:t,onCustomSearch:n,placeholder:r.placeholder,className:"w-full"})}),a.map(i=>o.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:o.jsx(Da,{categories:[i],onSelect:t,placeholder:i.placeholder,className:"w-full"})},i.id))]})}function YO({children:e,className:t=""}){return o.jsx("div",{className:`grid grid-cols-1 lg:grid-cols-6 gap-6 ${t}`,children:e})}function XO({children:e,className:t=""}){return o.jsx("div",{className:`lg:col-span-5 ${t}`,children:e})}function KO({children:e,className:t=""}){return o.jsx("div",{className:`lg:col-span-1 ${t}`,children:o.jsx("div",{className:"sticky top-6",style:{zIndex:Ct.STICKY},children:e})})}function WO({title:e="Select an Item",description:t="Choose an item from the list to view its details"}){return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 text-center",children:[o.jsx(Bo,{className:"text-lg font-semibold mb-2",children:e}),o.jsx(Fe,{className:"text-muted-foreground",children:t})]})}function QO({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:s,onTagRemove:r,onViewModeChange:a,children:i,className:l=""}){return o.jsxs("div",{className:`mb-8 space-y-4 ${l}`,children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(GO,{categories:e,onSelect:s,className:"w-full"})}),a&&o.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[o.jsx(W,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>a("grid"),className:"h-8 px-3",children:o.jsx(ro,{className:"h-4 w-4"})}),o.jsx(W,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>a("list"),className:"h-8 px-3",children:o.jsx(ha,{className:"h-4 w-4"})})]})]}),o.jsx(ZO,{tags:t,onRemove:r,className:"justify-start"}),i&&o.jsx("div",{className:"pt-4",children:i})]})}function i0({children:e,columns:t=2,gap:n="md",className:s}){const r={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},a={sm:"gap-3",md:"gap-4",lg:"gap-6"};return o.jsx("div",{className:U("grid",r[t],a[n],s),children:e})}function JO({children:e,columns:t=2,gap:n="md",className:s}){const r={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},a={sm:"gap-2",md:"gap-4",lg:"gap-6"};return o.jsx("div",{className:U("grid",r[t],a[n],s),children:e})}var Xf="Collapsible",[e6,rC]=on(Xf),[t6,l0]=e6(Xf),aC=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:a,onOpenChange:i,...l}=e,[c,u]=Vn({prop:s,defaultProp:r??!1,onChange:i,caller:Xf});return o.jsx(t6,{scope:n,disabled:a,contentId:cr(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:o.jsx(xe.div,{"data-state":u0(c),"data-disabled":a?"":void 0,...l,ref:t})})});aC.displayName=Xf;var oC="CollapsibleTrigger",iC=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,r=l0(oC,n);return o.jsx(xe.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":u0(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:t,onClick:te(e.onClick,r.onOpenToggle)})});iC.displayName=oC;var c0="CollapsibleContent",lC=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=l0(c0,e.__scopeCollapsible);return o.jsx(Vt,{present:n||r.open,children:({present:a})=>o.jsx(n6,{...s,ref:t,present:a})})});lC.displayName=c0;var n6=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:r,...a}=e,i=l0(c0,n),[l,c]=g.useState(s),u=g.useRef(null),d=$e(t,u),f=g.useRef(0),m=f.current,h=g.useRef(0),p=h.current,y=i.open||l,v=g.useRef(y),x=g.useRef(void 0);return g.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),Es(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,h.current=w.width,v.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(s)}},[i.open,s]),o.jsx(xe.div,{"data-state":u0(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!y,...a,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:y&&r})});function u0(e){return e?"open":"closed"}var s6=aC,r6=iC,a6=lC,as="Accordion",o6=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[d0,i6,l6]=Rx(as),[Kf,wee]=on(as,[l6,rC]),f0=rC(),cC=$.forwardRef((e,t)=>{const{type:n,...s}=e,r=s,a=s;return o.jsx(d0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?o.jsx(f6,{...a,ref:t}):o.jsx(d6,{...r,ref:t})})});cC.displayName=as;var[uC,c6]=Kf(as),[dC,u6]=Kf(as,{collapsible:!1}),d6=$.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:a=!1,...i}=e,[l,c]=Vn({prop:n,defaultProp:s??"",onChange:r,caller:as});return o.jsx(uC,{scope:e.__scopeAccordion,value:$.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:$.useCallback(()=>a&&c(""),[a,c]),children:o.jsx(dC,{scope:e.__scopeAccordion,collapsible:a,children:o.jsx(fC,{...i,ref:t})})})}),f6=$.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...a}=e,[i,l]=Vn({prop:n,defaultProp:s??[],onChange:r,caller:as}),c=$.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=$.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return o.jsx(uC,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:o.jsx(dC,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(fC,{...a,ref:t})})})}),[m6,Wf]=Kf(as),fC=$.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:r,orientation:a="vertical",...i}=e,l=$.useRef(null),c=$e(l,t),u=i6(n),f=Zi(r)==="ltr",m=te(e.onKeyDown,h=>{var k;if(!o6.includes(h.key))return;const p=h.target,y=u().filter(E=>{var _;return!((_=E.ref.current)!=null&&_.disabled)}),v=y.findIndex(E=>E.ref.current===p),x=y.length;if(v===-1)return;h.preventDefault();let b=v;const w=0,N=x-1,j=()=>{b=v+1,b>N&&(b=w)},S=()=>{b=v-1,b<w&&(b=N)};switch(h.key){case"Home":b=w;break;case"End":b=N;break;case"ArrowRight":a==="horizontal"&&(f?j():S());break;case"ArrowDown":a==="vertical"&&j();break;case"ArrowLeft":a==="horizontal"&&(f?S():j());break;case"ArrowUp":a==="vertical"&&S();break}const C=b%x;(k=y[C].ref.current)==null||k.focus()});return o.jsx(m6,{scope:n,disabled:s,direction:r,orientation:a,children:o.jsx(d0.Slot,{scope:n,children:o.jsx(xe.div,{...i,"data-orientation":a,ref:c,onKeyDown:s?void 0:m})})})}),Dd="AccordionItem",[h6,m0]=Kf(Dd),mC=$.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...r}=e,a=Wf(Dd,n),i=c6(Dd,n),l=f0(n),c=cr(),u=s&&i.value.includes(s)||!1,d=a.disabled||e.disabled;return o.jsx(h6,{scope:n,open:u,disabled:d,triggerId:c,children:o.jsx(s6,{"data-orientation":a.orientation,"data-state":vC(u),...l,...r,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(s):i.onItemClose(s)}})})});mC.displayName=Dd;var hC="AccordionHeader",gC=$.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=Wf(as,n),a=m0(hC,n);return o.jsx(xe.h3,{"data-orientation":r.orientation,"data-state":vC(a.open),"data-disabled":a.disabled?"":void 0,...s,ref:t})});gC.displayName=hC;var kg="AccordionTrigger",pC=$.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=Wf(as,n),a=m0(kg,n),i=u6(kg,n),l=f0(n);return o.jsx(d0.ItemSlot,{scope:n,children:o.jsx(r6,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":r.orientation,id:a.triggerId,...l,...s,ref:t})})});pC.displayName=kg;var xC="AccordionContent",yC=$.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=Wf(as,n),a=m0(xC,n),i=f0(n);return o.jsx(a6,{role:"region","aria-labelledby":a.triggerId,"data-orientation":r.orientation,...i,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});yC.displayName=xC;function vC(e){return e?"open":"closed"}var g6=cC,p6=mC,x6=gC,bC=pC,wC=yC;const h0=g6,Qf=g.forwardRef(({className:e,...t},n)=>o.jsx(p6,{ref:n,className:U("border-b",e),...t}));Qf.displayName="AccordionItem";const Jf=g.forwardRef(({className:e,children:t,...n},s)=>o.jsx(x6,{className:"flex",children:o.jsxs(bC,{ref:s,className:U("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,o.jsx(In,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Jf.displayName=bC.displayName;const em=g.forwardRef(({className:e,children:t,...n},s)=>o.jsx(wC,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:U("pb-4 pt-0",e),children:t})}));em.displayName=wC.displayName;function y6({children:e,title:t="Customize Display",description:n="Configure what information to show",defaultOpen:s=!1,className:r}){return o.jsx(h0,{type:"single",collapsible:!0,defaultValue:s?"customize-display":void 0,className:r,children:o.jsxs(Qf,{value:"customize-display",className:"border-none",children:[o.jsx(Jf,{className:"hover:no-underline",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ux,{className:"h-4 w-4"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:t}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]})}),o.jsx(em,{children:o.jsx("div",{className:"space-y-4 pt-2",children:e})})]})})}var v6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),b6="VisuallyHidden",NC=g.forwardRef((e,t)=>o.jsx(xe.span,{...e,ref:t,style:{...v6,...e.style}}));NC.displayName=b6;var w6=NC,[tm,Nee]=on("Tooltip",[Ji]),g0=Ji(),N6="TooltipProvider",eb="tooltip.open",[jee,jC]=tm(N6),SC="Tooltip",[See,nm]=tm(SC),Eg="TooltipTrigger",j6=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=nm(Eg,n),a=jC(Eg,n),i=g0(n),l=g.useRef(null),c=$e(t,l,r.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(qx,{asChild:!0,...i,children:o.jsx(xe.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:te(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:te(e.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:te(e.onBlur,r.onClose),onClick:te(e.onClick,r.onClose)})})});j6.displayName=Eg;var S6="TooltipPortal",[Cee,C6]=tm(S6,{forceMount:void 0}),ji="TooltipContent",CC=g.forwardRef((e,t)=>{const n=C6(ji,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...a}=e,i=nm(ji,e.__scopeTooltip);return o.jsx(Vt,{present:s||i.open,children:i.disableHoverableContent?o.jsx(kC,{side:r,...a,ref:t}):o.jsx(k6,{side:r,...a,ref:t})})}),k6=g.forwardRef((e,t)=>{const n=nm(ji,e.__scopeTooltip),s=jC(ji,e.__scopeTooltip),r=g.useRef(null),a=$e(t,r),[i,l]=g.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:f}=s,m=g.useCallback(()=>{l(null),f(!1)},[f]),h=g.useCallback((p,y)=>{const v=p.currentTarget,x={x:p.clientX,y:p.clientY},b=M6(x,v.getBoundingClientRect()),w=R6(x,b),N=D6(y.getBoundingClientRect()),j=L6([...w,...N]);l(j),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&d){const p=v=>h(v,d),y=v=>h(v,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",y)}}},[c,d,h,m]),g.useEffect(()=>{if(i){const p=y=>{const v=y.target,x={x:y.clientX,y:y.clientY},b=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!z6(x,i);b?m():w&&(m(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,i,u,m]),o.jsx(kC,{...e,ref:a})}),[E6,_6]=tm(SC,{isInside:!1}),A6=H5("TooltipContent"),kC=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=nm(ji,n),u=g0(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(eb,d),()=>document.removeEventListener(eb,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx($c,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Gx,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(A6,{children:s}),o.jsx(E6,{scope:n,isInside:!0,children:o.jsx(w6,{id:c.contentId,role:"tooltip",children:r||s})})]})})});CC.displayName=ji;var EC="TooltipArrow",T6=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=g0(n);return _6(EC,n).isInside?null:o.jsx(Zx,{...r,...s,ref:t})});T6.displayName=EC;function M6(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,r,a)){case a:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function R6(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function D6(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function z6(e,t){const{x:n,y:s}=e;let r=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function L6(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),$6(t)}function $6(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(r.y-i.y)>=(a.y-i.y)*(r.x-i.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const a=n[n.length-1],i=n[n.length-2];if((a.x-i.x)*(r.y-i.y)>=(a.y-i.y)*(r.x-i.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var _C=CC;const P6=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>o.jsx(_C,{ref:s,sideOffset:t,className:U("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));P6.displayName=_C.displayName;function $n({title:e,navigateTo:t,onNavigate:n,children:s,className:r,showHeaderButton:a=!0}){return o.jsxs(Ne,{className:r,children:[o.jsx(Le,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ge,{className:"text-lg",children:e}),a&&o.jsxs(W,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," "]})]})}),o.jsx(je,{className:"space-y-4",children:s})]})}var O6="Label",AC=g.forwardRef((e,t)=>o.jsx(xe.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));AC.displayName=O6;const B6=Vi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tr=g.forwardRef(({className:e,children:t,...n},s)=>o.jsx(AC,{ref:s,className:U(B6(),e),...n,children:t}));tr.displayName="Label";function ju({title:e,description:t,checked:n,onCheckedChange:s,className:r,disabled:a=!1,onClick:i,showSwitch:l=!0}){const c=()=>{i?i():a||s(!n)};return o.jsxs("div",{className:U("flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",a&&"opacity-50 cursor-not-allowed",r),onClick:c,children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(tr,{className:"text-base font-medium",children:e}),t&&o.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),l&&o.jsx(Qs,{checked:n,onCheckedChange:s,disabled:a})]})}const fo=Ms((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(ss("data/birthsigns.json"));if(!s.ok)throw new Error(`Failed to fetch birthsigns data: ${s.status}`);const a=(await s.json()).map(i=>{var l,c;return{...i,id:i.edid||i.name.toLowerCase().replace(/\s+/g,"-"),tags:[i.group,...((l=i.powers)==null?void 0:l.map(u=>u.name))||[],...((c=i.stat_modifications)==null?void 0:c.map(u=>u.stat))||[]].filter(u=>!!u)}});e({data:a,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load birthsigns",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(a=>{var i,l;return a.name.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))||((l=a.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),I6=Object.freeze(Object.defineProperty({__proto__:null,useBirthsignsStore:fo},Symbol.toStringTag,{value:"Module"}));function H6(e){var s;const t=[],n=((s=e.description)==null?void 0:s.toLowerCase())||"";return(n.includes("damage")||n.includes("weapon"))&&t.push("Combat"),(n.includes("armor")||n.includes("defense"))&&t.push("Defensive"),(n.includes("magicka")||n.includes("spell")||n.includes("magic"))&&t.push("Magic"),(n.includes("regeneration")||n.includes("health")||n.includes("stamina"))&&t.push("Utility"),(n.includes("detect")||n.includes("stealth"))&&t.push("Stealth"),(n.includes("cost")||n.includes("less"))&&t.push("Cost Reduction"),(n.includes("increase")||n.includes("more"))&&t.push("Enhancement"),n.includes("resistance")&&t.push("Resistance"),[...new Set(t)]}const el=Ms((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(ss("data/subclasses.json"));if(!s.ok)throw new Error(`Failed to fetch destiny nodes data: ${s.status}`);const a=(await s.json()).map((i,l)=>({...i,id:i.globalFormId||i.edid||`destiny-${l}`,nextBranches:i.nextBranches||[],levelRequirement:i.levelRequirement,lore:i.lore,tags:H6(i),prerequisites:Array.isArray(i.prerequisites)?i.prerequisites:[]}));e({data:a,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load destiny nodes",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(a=>{var i,l;return a.name.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))||((l=a.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),U6=Object.freeze(Object.defineProperty({__proto__:null,useDestinyNodesStore:el},Symbol.toStringTag,{value:"Module"})),ua=Ms((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(ss("data/playable-races.json"));if(!s.ok)throw new Error(`Failed to fetch races data: ${s.status}`);const a=(await s.json()).races.map(i=>({...i,id:i.id||i.edid||i.name.toLowerCase().replace(/\s+/g,"-"),tags:[i.category,...i.keywords||[]].filter(l=>!!l),name:i.name,edid:i.edid,description:i.description,category:i.category,source:i.source,startingStats:i.startingStats,physicalAttributes:i.physicalAttributes,skillBonuses:i.skillBonuses,racialSpells:i.racialSpells,keywords:i.keywords,flags:i.flags,regeneration:i.regeneration,combat:i.combat}));e({data:a,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load races",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(a=>{var i,l;return a.name.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))||((l=a.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),F6=Object.freeze(Object.defineProperty({__proto__:null,useRacesStore:ua},Symbol.toStringTag,{value:"Module"}));class qe{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.output=="string"&&Array.isArray(t.ingredients)&&Array.isArray(t.effects)}static equals(t,n){return t.name===n.name}static addComputedProperties(t){const n=t.effects.length>0,s=t.effects.length,r=t.ingredients.length,a=r>3||s>2,i=r<=2&&s<=1,l=t.effects.reduce((m,h)=>m+h.magnitude,0),c=Math.max(...t.effects.map(m=>m.duration),0),u=this.determineDifficulty(t,{ingredientCount:r,effectCount:s,isComplex:a,isSimple:i}),d=this.generateTags(t,{hasEffects:n,effectCount:s,ingredientCount:r,isComplex:a,isSimple:i,difficulty:u}),f=this.createSearchableText(t,d);return{...t,hasEffects:n,effectCount:s,ingredientCount:r,isComplex:a,isSimple:i,totalMagnitude:l,maxDuration:c,tags:d,searchableText:f,difficulty:u}}static determineDifficulty(t,n){return n.isSimple?"Simple":n.isComplex?"Complex":"Moderate"}static generateTags(t,n){const s=[];return t.category&&s.push(t.category),s.push(n.difficulty),n.hasEffects&&s.push("Has Effects"),n.ingredientCount===1?s.push("Single Ingredient"):n.ingredientCount<=3?s.push("Few Ingredients"):s.push("Many Ingredients"),n.effectCount===1?s.push("Single Effect"):n.effectCount<=2?s.push("Few Effects"):s.push("Many Effects"),t.effects.forEach(r=>{s.push(r.name)}),t.ingredients.forEach(r=>{s.push(r)}),[...new Set(s)]}static createSearchableText(t,n){const s=t.ingredients.map(a=>typeof a=="string"?a:a&&typeof a=="object"&&(a.item||a.name||a.label||a.id)||String(a));return[t.name,t.output,t.description||"",...s,...t.effects.map(a=>a.name),...t.effects.map(a=>a.description),...n].join(" ").toLowerCase()}static filterByCategory(t,n){return t.filter(s=>s.category===n)}static filterByCategories(t,n){return n.length===0?t:t.filter(s=>s.category&&n.includes(s.category))}static filterByDifficulty(t,n){return t.filter(s=>s.difficulty===n)}static filterByDifficulties(t,n){return n.length===0?t:t.filter(s=>n.includes(s.difficulty))}static filterByIngredientCount(t,n,s){return t.filter(r=>{const a=r.ingredientCount;return!(n!==null&&a<n||s!==null&&a>s)})}static filterByMagnitude(t,n,s){return t.filter(r=>{const a=r.totalMagnitude;return!(n!==null&&a<n||s!==null&&a>s)})}static filterByEffectProperties(t,n,s){return t.filter(r=>!(n!==null&&r.hasEffects!==n||s!==null&&r.isComplex!==s))}static filterByIngredients(t,n){return n.length===0?t:t.filter(s=>n.some(r=>s.ingredients.some(a=>(typeof a=="string"?a:a.item||a.name||a.label||a.id||String(a)).toLowerCase().includes(r.toLowerCase()))))}static filterByEffects(t,n){return n.length===0?t:t.filter(s=>n.some(r=>s.effects.some(a=>a.name.toLowerCase().includes(r.toLowerCase()))))}static search(t,n){if(!n.trim())return[];const s=n.toLowerCase().trim(),r=[];for(const a of t){const i=this.calculateSearchScore(a,s);if(i>0){const l=this.getMatchedFields(a,s);r.push({recipe:a,score:i,matchedFields:l})}}return r.sort((a,i)=>i.score-a.score)}static calculateSearchScore(t,n){var a;let s=0;const r=n.toLowerCase();return t.name.toLowerCase()===r&&(s+=100),t.output.toLowerCase()===r&&(s+=100),t.name.toLowerCase().includes(r)&&(s+=50),t.output.toLowerCase().includes(r)&&(s+=50),(a=t.description)!=null&&a.toLowerCase().includes(r)&&(s+=30),t.ingredients.forEach(i=>{const l=typeof i=="string"?i:i.item||i.name||i.label||i.id||String(i);l.toLowerCase()===r&&(s+=40),l.toLowerCase().includes(r)&&(s+=20)}),t.effects.forEach(i=>{i.name.toLowerCase()===r&&(s+=40),i.name.toLowerCase().includes(r)&&(s+=20),i.description.toLowerCase().includes(r)&&(s+=15)}),t.tags.forEach(i=>{i.toLowerCase()===r&&(s+=25),i.toLowerCase().includes(r)&&(s+=10)}),s}static getMatchedFields(t,n){var a;const s=[],r=n.toLowerCase();return t.name.toLowerCase().includes(r)&&s.push("name"),t.output.toLowerCase().includes(r)&&s.push("output"),(a=t.description)!=null&&a.toLowerCase().includes(r)&&s.push("description"),t.ingredients.forEach(i=>{(typeof i=="string"?i:i.item||i.name||i.label||i.id||String(i)).toLowerCase().includes(r)&&s.push("ingredients")}),t.effects.forEach(i=>{(i.name.toLowerCase().includes(r)||i.description.toLowerCase().includes(r))&&s.push("effects")}),[...new Set(s)]}static sort(t,n,s="asc"){return[...t].sort((a,i)=>{let l=0;switch(n){case"name":l=a.name.localeCompare(i.name);break;case"category":l=(a.category||"").localeCompare(i.category||"");break;case"difficulty":l=this.compareDifficulties(a.difficulty,i.difficulty);break;case"ingredientCount":l=a.ingredientCount-i.ingredientCount;break;case"effectCount":l=a.effectCount-i.effectCount;break;case"magnitude":l=a.totalMagnitude-i.totalMagnitude;break;case"duration":l=a.maxDuration-i.maxDuration;break}return s==="asc"?l:-l})}static compareDifficulties(t,n){const s={Simple:1,Moderate:2,Complex:3};return(s[t]||0)-(s[n]||0)}static getUniqueCategories(t){const n=t.map(s=>s.category).filter(s=>!!s);return[...new Set(n)].sort()}static getUniqueDifficulties(t){const n=t.map(s=>s.difficulty);return[...new Set(n)].sort((s,r)=>this.compareDifficulties(s,r))}static getUniqueEffects(t){const n=t.flatMap(s=>s.effects.map(r=>r.name));return[...new Set(n)].sort()}static getUniqueIngredients(t){const n=t.flatMap(s=>s.ingredients.map(r=>typeof r=="string"?r:r&&typeof r=="object"&&(r.item||r.name||r.label||r.id)||String(r)));return[...new Set(n)].filter(s=>s&&s!=="[object Object]").sort()}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static applyFilters(t,n){let s=[...t];return n.searchTerm.trim()&&(s=this.search(s,n.searchTerm).map(a=>a.recipe)),n.categories.length>0&&(s=this.filterByCategories(s,n.categories)),n.difficulties.length>0&&(s=this.filterByDifficulties(s,n.difficulties)),n.ingredients.length>0&&(s=this.filterByIngredients(s,n.ingredients)),n.effects.length>0&&(s=this.filterByEffects(s,n.effects)),s=this.filterByEffectProperties(s,n.hasEffects,n.isComplex),s=this.filterByIngredientCount(s,n.minIngredientCount,n.maxIngredientCount),s=this.filterByMagnitude(s,n.minMagnitude,n.maxMagnitude),s}static getStatistics(t){const n=t.length,s=t.filter(N=>N.type==="food").length,r=t.filter(N=>N.type==="alcohol").length,a={};t.forEach(N=>{N.category&&(a[N.category]=(a[N.category]||0)+1)});const i={};t.forEach(N=>{i[N.difficulty]=(i[N.difficulty]||0)+1});const l={};t.forEach(N=>{N.effects.forEach(j=>{l[j.name]=(l[j.name]||0)+1})});const c=t.reduce((N,j)=>N+j.ingredientCount,0),u=t.reduce((N,j)=>N+j.effectCount,0),d=n>0?c/n:0,f=n>0?u/n:0,m=t.reduce((N,j)=>N+j.totalMagnitude,0),h=t.reduce((N,j)=>N+j.maxDuration,0),p=n>0?m/n:0,y=n>0?h/n:0,v={};t.forEach(N=>{N.ingredients.forEach(j=>{v[j]=(v[j]||0)+1})});const x=Object.entries(v).map(([N,j])=>({name:N,count:j})).sort((N,j)=>j.count-N.count).slice(0,10),b={};t.forEach(N=>{N.effects.forEach(j=>{b[j.name]=(b[j.name]||0)+1})});const w=Object.entries(b).map(([N,j])=>({name:N,count:j})).sort((N,j)=>j.count-N.count).slice(0,10);return{totalRecipes:n,foodRecipes:s,alcoholRecipes:r,recipesByCategory:a,recipesByDifficulty:i,recipesByEffect:l,averageIngredientCount:d,averageEffectCount:f,averageMagnitude:p,averageDuration:y,topEffects:w,topIngredients:x}}static getEffectComparisons(t,n){const s={};return n.forEach(r=>{r.effects.forEach(a=>{s[a.name]||(s[a.name]={magnitudeSum:0,durationSum:0,count:0}),s[a.name].magnitudeSum+=a.magnitude,s[a.name].durationSum+=a.duration,s[a.name].count+=1})}),t.effects.map(r=>{const a=s[r.name],i=a.count>0?a.magnitudeSum/a.count:0,l=a.count>0?a.durationSum/a.count:0,c=r.magnitude-i,u=r.duration-l;return{name:r.name,magnitude:{value:r.magnitude,mean:i,difference:c,percentage:i>0?c/i*100:0},duration:{value:r.duration,mean:l,difference:u,percentage:l>0?u/l*100:0}}})}}const Ma=class Ma{constructor(){Ue(this,"cache",null);Ue(this,"lastFetch",0);Ue(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return Ma.instance||(Ma.instance=new Ma),Ma.instance}async loadRecipes(){var t;if(this.cache&&Date.now()-this.lastFetch<this.CACHE_DURATION)return this.cache;try{const n=ss("data/cookbook-wiki.json"),s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch recipes: ${s.status} ${s.statusText}`);const r=await s.json(),a=[];if(console.log("RecipeDataProvider: Raw data keys:",Object.keys(r)),r.food&&Array.isArray(r.food)?(console.log("RecipeDataProvider: Found",r.food.length,"food recipes"),a.push(...r.food)):r.food&&typeof r.food=="object"&&(console.log("RecipeDataProvider: Food section is an object, checking for recipes property"),r.food.recipes&&Array.isArray(r.food.recipes)&&(console.log("RecipeDataProvider: Found",r.food.recipes.length,"food recipes in recipes property"),a.push(...r.food.recipes))),r.alcohol&&Array.isArray(r.alcohol)?(console.log("RecipeDataProvider: Found",r.alcohol.length,"alcohol recipes"),a.push(...r.alcohol)):r.alcohol&&typeof r.alcohol=="object"&&(console.log("RecipeDataProvider: Alcohol section is an object, checking for recipes property"),r.alcohol.recipes&&Array.isArray(r.alcohol.recipes)&&(console.log("RecipeDataProvider: Found",r.alcohol.recipes.length,"alcohol recipes in recipes property"),a.push(...r.alcohol.recipes))),a.length===0){console.log("RecipeDataProvider: No recipes found in food/alcohol sections, trying fallback");const u=((t=r.food)==null?void 0:t.recipes)||r.recipes||r;Array.isArray(u)&&(console.log("RecipeDataProvider: Found",u.length,"recipes in fallback data"),a.push(...u))}if(!Array.isArray(a)||a.length===0)throw new Error("RecipeDataProvider: No valid recipes found in data structure");const i=[];let l=0,c=0;for(const u of a)if(qe.isValid(u)){const d=qe.addComputedProperties(u);i.push(d),l++}else console.warn("RecipeDataProvider: Invalid recipe data:",u),c++;return this.cache=i,this.lastFetch=Date.now(),console.log(`RecipeDataProvider: Loaded ${l} valid recipes, ${c} invalid recipes`),i}catch(n){throw console.error("RecipeDataProvider: Error loading recipes:",n),n}}async getRecipeData(){console.log("RecipeDataProvider: getRecipeData called");const t=await this.loadRecipes();console.log("RecipeDataProvider: Getting statistics for",t.length,"recipes");const n=qe.getStatistics(t),s={recipes:t,totalCount:n.totalRecipes,categories:qe.getUniqueCategories(t),effects:qe.getUniqueEffects(t),ingredients:qe.getUniqueIngredients(t),lastUpdated:new Date().toISOString()};return console.log("RecipeDataProvider: getRecipeData result:",{recipesCount:s.recipes.length,totalCount:s.totalCount,categories:s.categories,effects:s.effects,ingredients:s.ingredients}),s}async getRecipeByName(t){return(await this.loadRecipes()).find(s=>s.name===t)||null}async getRecipesByCategory(t){const n=await this.loadRecipes();return qe.filterByCategory(n,t)}async getRecipesByDifficulty(t){const n=await this.loadRecipes();return qe.filterByDifficulty(n,t)}async getRecipesByIngredient(t){const n=await this.loadRecipes();return qe.filterByIngredients(n,[t])}async getRecipesByEffect(t){const n=await this.loadRecipes();return qe.filterByEffects(n,[t])}async searchRecipes(t){const n=await this.loadRecipes();return qe.search(n,t).map(r=>r.recipe)}async getStatistics(){const t=await this.loadRecipes();return qe.getStatistics(t)}clearCache(){this.cache=null,this.lastFetch=0,console.log("RecipeDataProvider: Cache cleared")}isCacheValid(){return this.cache!==null&&Date.now()-this.lastFetch<this.CACHE_DURATION}getCacheInfo(){var t;return{hasCache:this.cache!==null,cacheSize:((t=this.cache)==null?void 0:t.length)||0,lastFetch:this.lastFetch,isExpired:this.cache!==null&&Date.now()-this.lastFetch>=this.CACHE_DURATION,timeUntilExpiry:this.cache?Math.max(0,this.CACHE_DURATION-(Date.now()-this.lastFetch)):0}}};Ue(Ma,"instance");let _g=Ma;const Ks=Ms((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const r=await _g.getInstance().loadRecipes();e({data:r,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load recipes",loading:!1})}}},getById:n=>t().data.find(r=>r.name===n),getByName:n=>t().data.find(r=>r.name===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(a=>{var i,l,c,u,d,f;return a.name.toLowerCase().includes(r)||a.output.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))||((l=a.category)==null?void 0:l.toLowerCase().includes(r))||((c=a.difficulty)==null?void 0:c.toLowerCase().includes(r))||((u=a.tags)==null?void 0:u.some(m=>m.toLowerCase().includes(r)))||((d=a.ingredients)==null?void 0:d.some(m=>m.toLowerCase().includes(r)))||((f=a.effects)==null?void 0:f.some(m=>{var h;return m.name.toLowerCase().includes(r)||((h=m.description)==null?void 0:h.toLowerCase().includes(r))}))})},getByCategory:n=>t().data.filter(r=>r.category===n),getByDifficulty:n=>t().data.filter(r=>r.difficulty===n),getByIngredient:n=>t().data.filter(r=>r.ingredients.some(a=>a.toLowerCase().includes(n.toLowerCase()))),getByEffect:n=>t().data.filter(r=>r.effects.some(a=>a.name.toLowerCase().includes(n.toLowerCase())))})),V6=Object.freeze(Object.defineProperty({__proto__:null,useRecipesStore:Ks},Symbol.toStringTag,{value:"Module"})),tl=Ms((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(ss("data/wintersun-religion-docs.json"));if(!s.ok)throw new Error(`Failed to fetch religions data: ${s.status}`);const a=(await s.json()).flatMap(i=>i.deities.map(l=>({...l,id:l.id||l.name,pantheon:i.type,type:l.type||i.type,tags:[i.type,...l.favoredRaces||[],...l.tags||[]].filter(Boolean)})));e({data:a,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load religions",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(a=>{var i,l;return a.name.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))||((l=a.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),q6=Object.freeze(Object.defineProperty({__proto__:null,useReligionsStore:tl},Symbol.toStringTag,{value:"Module"})),mo=Ms((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(ss("data/skills.json"));if(!s.ok)throw new Error(`Failed to fetch skills data: ${s.status}`);const a=(await s.json()).skills.map(i=>({...i,id:i.id||i.edid||i.name.toLowerCase().replace(/\s+/g,"-"),tags:[...i.metaTags||[],i.category].filter(l=>!!l)}));e({data:a,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load skills",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(a=>{var i,l;return a.name.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))||((l=a.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),G6=Object.freeze(Object.defineProperty({__proto__:null,useSkillsStore:mo},Symbol.toStringTag,{value:"Module"}));class Na{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.editorId=="string"&&typeof t.school=="string"&&typeof t.level=="string"&&typeof t.magickaCost=="number"&&Array.isArray(t.effects)}static equals(t,n){return t.editorId===n.editorId}static addComputedProperties(t){const n=t.effects.length>0,s=t.effects.length,r=t.effects.some(m=>m.area>0),a=t.effects.some(m=>m.duration>0),i=t.effects.every(m=>m.duration===0),l=t.effects.reduce((m,h)=>m+h.magnitude,0),c=Math.max(...t.effects.map(m=>m.duration),0),u=Math.max(...t.effects.map(m=>m.area),0),d=this.generateTags(t,{hasEffects:n,isAreaSpell:r,isDurationSpell:a,isInstantSpell:i}),f=this.createSearchableText(t,d);return{...t,hasEffects:n,effectCount:s,isAreaSpell:r,isDurationSpell:a,isInstantSpell:i,totalMagnitude:l,maxDuration:c,maxArea:u,tags:d,searchableText:f}}static generateTags(t,n){const s=[];return s.push(t.school),s.push(t.level),n.hasEffects&&s.push("Has Effects"),n.isAreaSpell&&s.push("Area Effect"),n.isDurationSpell&&s.push("Duration"),n.isInstantSpell&&s.push("Instant"),t.magickaCost===0?s.push("Free"):t.magickaCost<=50?s.push("Low Cost"):t.magickaCost<=150?s.push("Medium Cost"):s.push("High Cost"),t.effects.forEach(r=>{r.name.toLowerCase().includes("fire")&&s.push("Fire"),(r.name.toLowerCase().includes("frost")||r.name.toLowerCase().includes("ice"))&&s.push("Frost"),(r.name.toLowerCase().includes("shock")||r.name.toLowerCase().includes("lightning"))&&s.push("Shock"),(r.name.toLowerCase().includes("heal")||r.name.toLowerCase().includes("restore"))&&s.push("Healing"),(r.name.toLowerCase().includes("conjure")||r.name.toLowerCase().includes("summon"))&&s.push("Conjuration"),(r.name.toLowerCase().includes("fear")||r.name.toLowerCase().includes("calm"))&&s.push("Illusion"),(r.name.toLowerCase().includes("paralyze")||r.name.toLowerCase().includes("slow"))&&s.push("Control")}),[...new Set(s)]}static createSearchableText(t,n){return[t.name,t.school,t.level,t.description,...n,...t.effects.map(r=>r.name),...t.effects.map(r=>r.description)].join(" ").toLowerCase()}static filterBySchool(t,n){return t.filter(s=>s.school===n)}static filterByLevel(t,n){return t.filter(s=>s.level===n)}static filterBySchools(t,n){return n.length===0?t:t.filter(s=>n.includes(s.school))}static filterByLevels(t,n){return n.length===0?t:t.filter(s=>n.includes(s.level))}static filterByMagickaCost(t,n,s){return t.filter(r=>!(n!==null&&r.magickaCost<n||s!==null&&r.magickaCost>s))}static filterByMagnitude(t,n,s){return t.filter(r=>!(n!==null&&r.totalMagnitude<n||s!==null&&r.totalMagnitude>s))}static filterByEffectProperties(t,n,s,r){return t.filter(a=>!(n!==null&&a.hasEffects!==n||s!==null&&a.isAreaSpell!==s||r!==null&&a.isDurationSpell!==r))}static search(t,n){if(!n.trim())return t.map(a=>({spell:a,score:1,matchedFields:[]}));const s=n.toLowerCase(),r=[];return t.forEach(a=>{let i=0;const l=[];a.name.toLowerCase()===s?(i+=100,l.push("name")):a.name.toLowerCase().includes(s)&&(i+=50,l.push("name")),a.school.toLowerCase()===s?(i+=30,l.push("school")):a.school.toLowerCase().includes(s)&&(i+=15,l.push("school")),a.level.toLowerCase()===s?(i+=25,l.push("level")):a.level.toLowerCase().includes(s)&&(i+=10,l.push("level")),a.description.toLowerCase().includes(s)&&(i+=5,l.push("description")),a.tags.forEach(c=>{c.toLowerCase().includes(s)&&(i+=3,l.push("tags"))}),a.effects.forEach(c=>{c.name.toLowerCase().includes(s)&&(i+=8,l.push("effects")),c.description.toLowerCase().includes(s)&&(i+=4,l.push("effects"))}),i>0&&r.push({spell:a,score:i,matchedFields:[...new Set(l)]})}),r.sort((a,i)=>i.score-a.score)}static sort(t,n,s="asc"){return[...t].sort((a,i)=>{let l=0;switch(n){case"name":l=a.name.localeCompare(i.name);break;case"school":l=a.school.localeCompare(i.school);break;case"level":l=this.compareLevels(a.level,i.level);break;case"magickaCost":l=a.magickaCost-i.magickaCost;break;case"magnitude":l=a.totalMagnitude-i.totalMagnitude;break;case"duration":l=a.maxDuration-i.maxDuration;break}return s==="desc"?-l:l})}static compareLevels(t,n){const s=["Novice","Apprentice","Adept","Expert","Master"],r=s.indexOf(t),a=s.indexOf(n);return r===-1&&a===-1?0:r===-1?1:a===-1?-1:r-a}static getUniqueSchools(t){return[...new Set(t.map(n=>n.school))].sort()}static getUniqueLevels(t){const n=[...new Set(t.map(s=>s.level))];return this.sortLevels(n)}static sortLevels(t){const n=["Novice","Apprentice","Adept","Expert","Master"];return t.sort((s,r)=>{const a=n.indexOf(s),i=n.indexOf(r);return a===-1&&i===-1?0:a===-1?1:i===-1?-1:a-i})}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static applyFilters(t,n){let s=[...t];return n.schools.length>0&&(s=this.filterBySchools(s,n.schools)),n.levels.length>0&&(s=this.filterByLevels(s,n.levels)),s=this.filterByEffectProperties(s,n.hasEffects,n.isAreaSpell,n.isDurationSpell),s=this.filterByMagickaCost(s,n.minMagickaCost,n.maxMagickaCost),s=this.filterByMagnitude(s,n.minMagnitude,n.maxMagnitude),n.searchTerm&&(s=this.search(s,n.searchTerm).map(a=>a.spell)),s}static getStatistics(t){const n=this.getUniqueSchools(t),s=this.getUniqueLevels(t),r=this.getUniqueTags(t),a=t.length,i=t.filter(m=>m.hasEffects).length,l=t.filter(m=>m.isAreaSpell).length,c=t.filter(m=>m.isDurationSpell).length,u=t.filter(m=>m.magickaCost===0).length,d=t.length>0?t.reduce((m,h)=>m+h.magickaCost,0)/t.length:0,f=t.length>0?t.reduce((m,h)=>m+h.totalMagnitude,0)/t.length:0;return{totalSpells:a,spellsWithEffects:i,areaSpells:l,durationSpells:c,freeSpells:u,avgMagickaCost:Math.round(d),avgMagnitude:Math.round(f),schools:n,levels:s,tags:r}}}const Ra=class Ra{constructor(){Ue(this,"cache",null);Ue(this,"lastFetch",0);Ue(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return Ra.instance||(Ra.instance=new Ra),Ra.instance}async loadSpells(){if(this.cache&&Date.now()-this.lastFetch<this.CACHE_DURATION)return this.cache;try{const t=ss("data/player_spells.json"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch spells: ${n.status} ${n.statusText}`);const s=await n.json(),r=[];let a=0,i=0;for(const l of s)if(Na.isValid(l)){const c=Na.addComputedProperties(l);r.push(c),a++}else console.warn("SpellDataProvider: Invalid spell data:",l),i++;return this.cache=r,this.lastFetch=Date.now(),r}catch(t){throw console.error("SpellDataProvider: Error loading spells:",t),t}}async getSpellData(){console.log("SpellDataProvider: getSpellData called");const t=await this.loadSpells();console.log("SpellDataProvider: Getting statistics for",t.length,"spells");const n=Na.getStatistics(t),s={spells:t,totalCount:n.totalSpells,schools:n.schools,levels:n.levels,lastUpdated:new Date().toISOString()};return console.log("SpellDataProvider: getSpellData result:",{spellsCount:s.spells.length,totalCount:s.totalCount,schools:s.schools,levels:s.levels}),s}async getSpellByEditorId(t){return(await this.loadSpells()).find(s=>s.editorId===t)||null}async getSpellsBySchool(t){const n=await this.loadSpells();return Na.filterBySchool(n,t)}async getSpellsByLevel(t){const n=await this.loadSpells();return Na.filterByLevel(n,t)}async searchSpells(t){const n=await this.loadSpells();return Na.search(n,t).map(r=>r.spell)}async getStatistics(){const t=await this.loadSpells();return Na.getStatistics(t)}clearCache(){console.log("SpellDataProvider: Clearing cache"),this.cache=null,this.lastFetch=0}isCacheValid(){return this.cache!==null&&Date.now()-this.lastFetch<this.CACHE_DURATION}getCacheInfo(){var t;return{hasCache:this.cache!==null,cacheSize:((t=this.cache)==null?void 0:t.length)||0,lastFetch:this.lastFetch,isValid:this.isCacheValid()}}};Ue(Ra,"instance");let zd=Ra;const Z6=Object.freeze(Object.defineProperty({__proto__:null,SpellDataProvider:zd},Symbol.toStringTag,{value:"Module"})),Io=Ms((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const r=await zd.getInstance().loadSpells();e({data:r,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load spells",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),getByEditorId:n=>t().data.find(r=>r.editorId===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(a=>{var i,l,c,u,d;return a.name.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))||((l=a.school)==null?void 0:l.toLowerCase().includes(r))||((c=a.level)==null?void 0:c.toLowerCase().includes(r))||((u=a.tags)==null?void 0:u.some(f=>f.toLowerCase().includes(r)))||((d=a.effects)==null?void 0:d.some(f=>{var m;return f.name.toLowerCase().includes(r)||((m=f.description)==null?void 0:m.toLowerCase().includes(r))}))})},getBySchool:n=>t().data.filter(r=>r.school===n),getByLevel:n=>t().data.filter(r=>r.level===n)})),ho=Ms((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(ss("data/traits.json"));if(!s.ok)throw new Error(`Failed to fetch traits data: ${s.status}`);const a=(await s.json()).traits.map(i=>{var l;return{...i,id:i.id||i.edid||i.name,tags:[i.category,...i.tags||[],...((l=i.effects)==null?void 0:l.map(c=>c.type))||[]].filter(c=>!!c)}});e({data:a,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load traits",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(a=>{var i,l;return a.name.toLowerCase().includes(r)||((i=a.description)==null?void 0:i.toLowerCase().includes(r))||((l=a.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),Y6=Object.freeze(Object.defineProperty({__proto__:null,useTraitsStore:ho},Symbol.toStringTag,{value:"Module"}));function X6(){const{data:e,loading:t,error:n}=mo();return{data:e.length>0?e:null,loading:t,error:n}}function K6(){const{data:e,loading:t,error:n}=ho();return{data:e.length>0?e:null,loading:t,error:n}}function TC(){const{data:e,loading:t,error:n}=tl();return{data:e.length>0?e:null,loading:t,error:n}}function W6(){const{data:e,loading:t,error:n}=fo();return{data:e.length>0?e:null,loading:t,error:n}}function Q6(){const{data:e,loading:t,error:n}=el();return{data:e.length>0?e:null,loading:t,error:n}}function p0(){const{data:e,loading:t,error:n}=oo();return{data:e.length>0?e:null,loading:t,error:n}}function J6(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function eB(e){const t=e.flatMap(n=>[...n.stat_modifications.map(s=>s.stat),...n.skill_bonuses.map(s=>s.stat)]);return[...new Set(t)].sort()}function ce({children:e,className:t,expanded:n,onToggle:s,disableHover:r=!1}){let a,i,l,c;$.Children.forEach(e,p=>{$.isValidElement(p)&&(p.type===ce.Header&&(a=p),p.type===ce.Summary&&(i=p),p.type===ce.Footer&&(l=p),p.type===ce.Details&&(c=p))});const[u,d]=g.useState(!1),f=n!==void 0?n:u,m=s||(()=>d(p=>!p)),h=r?"":"hover:shadow-md hover:scale-[1.02]";return o.jsxs("div",{className:U("rounded-lg border bg-background shadow-sm transition-all duration-200 flex flex-col",h,t),children:[a&&$.cloneElement(a,{onClick:m,expanded:f}),o.jsxs("div",{className:"flex-1",children:[i,f&&c]}),l]})}ce.Header=function({children:t,className:n,onClick:s,expanded:r}){const a=()=>{s==null||s()};return o.jsxs("div",{className:U("flex items-center gap-3 px-4 py-3 bg-muted/30 cursor-pointer select-none hover:bg-muted/50 transition-colors duration-200 rounded-t-lg",r&&"bg-muted/50",n),onClick:a,tabIndex:0,role:"button","aria-expanded":r,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),a())},children:[t,o.jsx("span",{className:U("ml-auto transition-transform duration-200 text-muted-foreground",r?"rotate-180":""),children:o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:o.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};ce.Summary=function({children:t,className:n}){return o.jsx("div",{className:U("px-4 py-2 space-y-3",n),children:t})};ce.Footer=function({children:t,className:n}){return o.jsx("div",{className:U("px-4 py-2",n),children:t})};ce.Details=function({children:t,className:n}){return o.jsx("div",{className:U("px-4 py-4 space-y-4 bg-background rounded-b-lg",n),children:t})};const tB={race:{Human:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Elf:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Beast:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},religion:{},trait:{},destiny:{}},nB={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},sB="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function rB({category:e,categoryType:t,size:n="md",className:s}){const a=tB[t][e]||sB;return o.jsx(K,{variant:"outline",className:U(a,nB[n],"font-medium transition-colors",s),children:e})}const sm={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},ni={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function aB(e){return sm.traitLimit[e]}function tb(e){return sm.summaryCard[e]}function oB(e){return sm.backgrounds[e]}function MC(e){return sm.borders[e]}function iB({title:e,description:t,icon:n,variant:s="default",children:r,className:a}){const i=()=>{if(n)return n;switch(s){case"warning":return o.jsx(tc,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return o.jsx(Jl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return o.jsxs(Ne,{className:U(ni.card,a),children:[o.jsxs(Le,{children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[i(),e]}),t&&o.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),o.jsx(je,{className:U(ni.section),children:r})]})}function nb({label:e,value:t,onChange:n,min:s=0,max:r=10,currentCount:a,type:i="regular",className:l}){const c=()=>{switch(i){case"regular":return o.jsx(Af,{className:"h-4 w-4"});case"bonus":return o.jsx(Pt,{className:"h-4 w-4"});default:return null}},u=()=>aB(i);return o.jsxs("div",{className:U(ni.item,l),children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c(),o.jsx(tr,{htmlFor:`${i}-limit`,className:u(),children:e})]}),o.jsx(ws,{id:`${i}-limit`,type:"number",min:s,max:r,value:t,onChange:d=>n(parseInt(d.target.value)||0),className:"mt-1"}),a!==void 0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",a]})]})}function sb({type:e,title:t,message:n,className:s}){const r=()=>{switch(e){case"warning":return o.jsx(tc,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return o.jsx(Jl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return o.jsx(tc,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return o.jsx(Jl,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return o.jsxs("div",{className:U("flex items-start gap-2 p-4 rounded-lg border",oB(e),MC(e),s),children:[r(),o.jsxs("div",{className:"text-sm",children:[o.jsx("strong",{children:t}),o.jsx("p",{className:"mt-1",children:n})]})]})}function lB({open:e,title:t,message:n,variant:s="warning",confirmText:r="Confirm",cancelText:a="Cancel",onConfirm:i,onCancel:l,className:c}){if(!e)return null;const u=()=>{switch(s){case"warning":return o.jsx(tc,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return o.jsx(Jl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return o.jsx(GR,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return o.jsx(ug,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return o.jsx(tc,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},d=()=>{switch(s){case"error":return"destructive";case"success":return"default";default:return"default"}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:o.jsxs("div",{className:U("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",MC(s),c),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[u(),o.jsx("span",{className:"font-semibold",children:t})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:l,children:a}),o.jsx(W,{variant:d(),size:"sm",onClick:i,children:r})]})]})})}const cB={race:{Altmer:"altmer.svg",Argonian:"argonian.svg",Bosmer:"woodelf.svg",Breton:"breton.svg",Dunmer:"dunmer.svg",Imperial:"imperial.svg",Khajiit:"khajit.svg",Nord:"nord.svg",Orsimer:"orc.svg",Redguard:"redguard.svg"},religion:{},trait:{},destiny:{},birthsign:{Apprentice:"apprentice.svg"}},rb={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16","2xl":"w-16 h-16","3xl":"w-24 h-24","4xl":"w-32 h-32"},uB={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl","2xl":"text-3xl","3xl":"text-3xl","4xl":"text-4xl"};function RC({entityName:e,entityType:t,size:n="md",className:s}){const a=cB[t][e],[i,l]=$.useState(!1);return!a||i?o.jsx("div",{className:U("bg-muted rounded-full flex items-center justify-center font-bold text-muted-foreground",rb[n],s),children:o.jsx("span",{className:U(uB[n]),children:e.charAt(0)})}):o.jsx("div",{className:U("rounded-full overflow-hidden flex items-center justify-center","bg-muted dark:bg-white",rb[n],s),children:o.jsx("img",{src:ss(`assets/${t==="birthsign"?"sign-avatar":`${t}-avatar`}/${a}`),alt:`${e} avatar`,className:"w-full h-full object-contain dark:brightness-0",onError:()=>l(!0),loading:"lazy"})})}const Jm=new Map;function dB(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(Jm.has(n))return Jm.get(n);let s=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((r,a)=>{const i=[];s.forEach(l=>{if(l.className)i.push(l);else{let c=0,u;const d=new RegExp(r.pattern,r.pattern.flags.includes("g")?r.pattern.flags:r.pattern.flags+"g");d.lastIndex=0;let f=0;for(;(u=d.exec(l.text))!==null;){u.index>c&&i.push({text:l.text.slice(c,u.index),key:`${l.key}-${f++}`});let m=u[0];r.transform&&(m=r.transform(m));const h=typeof r.className=="function"?r.className(m):r.className;i.push({text:m,className:h,key:`${l.key}-${f++}`}),c=d.lastIndex}c<l.text.length&&i.push({text:l.text.slice(c),key:`${l.key}-${f++}`})}}),s=i}),s=s.map((r,a)=>({...r,key:r.key||String(a)})),Jm.set(n,s),s}const fB=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],mB=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function hB(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,s=e.startsWith("-")||t<0;return n?"font-bold text-green-600":s?"font-bold text-red-600":"font-bold text-skyrim-gold"}},{pattern:/\*\*\*(.*?)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const s=parseFloat(n[0]),r=n[0].startsWith("+")||s>0,a=n[0].startsWith("-")||s<0;if(r)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(a)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<\d+>/g,className:"font-bold italic text-skyrim-gold",transform:e=>e.slice(1,-1)},{pattern:new RegExp(`\\b(${fB.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${mB.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function Pa({text:e,options:t,className:n="text-sm text-muted-foreground",as:s="div"}){const r=g.useMemo(()=>hB(),[]),a=g.useMemo(()=>e?dB(e,t||r):[],[e,t,r]);if(!e)return null;if(n.includes("line-clamp")){const l=n.match(/line-clamp-\d+/g)||[],c=n.replace(/line-clamp-\d+/g,"").trim();return o.jsx(s,{className:c,children:o.jsx("div",{className:`${l.join(" ")} overflow-hidden`,children:a.map(u=>o.jsx("span",{className:u.className,children:u.text},u.key))})})}return o.jsx(s,{className:n,children:a.map(l=>o.jsx("span",{className:l.className,children:l.text},l.key))})}function DC({isExpanded:e,onToggle:t,className:n,leftControls:s,header:r,collapsedContent:a,expandedContent:i,actionArea:l,children:c}){return c?o.jsx("div",{className:U("rounded-lg border bg-background shadow-sm transition-all",n),children:c}):o.jsxs("div",{className:U("rounded-lg border bg-background shadow-sm transition-all group",e?"ring-2 ring-skyrim-gold/60":"",n),children:[o.jsxs("div",{className:"flex items-start",children:[s&&o.jsx("div",{className:"mr-2 flex-shrink-0",children:s}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r&&o.jsx("div",{className:"flex-1 min-w-0",children:r}),o.jsxs("button",{type:"button",onClick:t,"aria-expanded":e,className:"ml-2 p-1 rounded hover:bg-muted/50 focus:outline-none focus:ring-2 focus:ring-skyrim-gold",tabIndex:0,children:[o.jsx("span",{className:"sr-only",children:e?"Collapse":"Expand"}),o.jsx("svg",{className:U("h-4 w-4 transition-transform",e?"rotate-90":""),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:o.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})}),l&&o.jsx("div",{className:"ml-2 flex-shrink-0",children:l})]}),a&&o.jsx("div",{className:"mt-2",children:a}),e&&i&&o.jsx("div",{className:"mt-4",children:i})]})}function Hc({options:e,onSelect:t,placeholder:n="Search...",className:s="",disabled:r=!1,searchQuery:a,onSearchQueryChange:i,renderOption:l,emptyMessage:c="No options found",maxHeight:u="max-h-96",showClearButton:d=!0,showToggleButton:f=!0}){const[m,h]=g.useState(!1),[p,y]=g.useState(""),[v,x]=g.useState(-1),b=g.useRef(null),w=g.useRef(null),N=a??p,j=i??y;g.useEffect(()=>{const L=T=>{b.current&&!b.current.contains(T.target)&&(h(!1),x(-1))};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const S=L=>{j(L),h(!0),x(-1)},C=L=>{t(L),j(""),h(!1),x(-1)},k=L=>{L.key==="ArrowDown"?(L.preventDefault(),x(T=>Math.min(T+1,e.length-1))):L.key==="ArrowUp"?(L.preventDefault(),x(T=>Math.max(T-1,-1))):L.key==="Enter"?(L.preventDefault(),v>=0&&e[v]&&C(e[v])):L.key==="Escape"&&(h(!1),x(-1))},E=()=>{h(!0)},_=()=>{var L;j(""),(L=w.current)==null||L.focus()},P=()=>{var L;h(!m),m||(L=w.current)==null||L.focus()},O=(L,T)=>o.jsxs("div",{className:"flex items-center gap-3",children:[L.icon&&o.jsx("div",{className:"flex-shrink-0",children:L.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium truncate",children:L.label}),L.badge&&o.jsx("div",{className:"flex-shrink-0",children:L.badge})]}),L.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:L.description})]})]});return o.jsxs("div",{ref:b,className:U("relative",s),children:[o.jsxs("div",{className:"relative",children:[o.jsx(yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ws,{ref:w,type:"text",placeholder:n,value:N,onChange:L=>S(L.target.value),onFocus:E,onKeyDown:k,className:"pl-10 pr-20",disabled:r}),d&&N&&o.jsx(W,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:_,disabled:r,children:o.jsx(Ft,{className:"h-4 w-4"})}),f&&o.jsx(W,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:P,disabled:r,children:o.jsx(In,{className:U("h-4 w-4 transition-transform",m&&"rotate-180")})})]}),m&&o.jsx("div",{className:U("absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",u),style:{zIndex:Ct.AUTOCOMPLETE+10},children:o.jsx("div",{className:"p-2",children:e.length===0?o.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:c}):e.map((L,T)=>o.jsx("button",{onClick:()=>C(L),className:U("w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer",T===v?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"),disabled:r,children:l?l(L,T===v):O(L)},L.id))})})]})}function gB({title:e,items:t,layout:n="grid",className:s}){const r=i=>{switch(i){case"race":return o.jsx($l,{className:"h-4 w-4"});case"birthsign":return o.jsx(Pt,{className:"h-4 w-4"});case"religion":return o.jsx(Tf,{className:"h-4 w-4"});case"traits":return o.jsx(V4,{className:"h-4 w-4"});default:return null}},a=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return o.jsxs(Ne,{className:U(ni.card,s),children:[o.jsx(Le,{children:o.jsx(Ge,{children:e})}),o.jsx(je,{className:U(ni.section),children:o.jsx("div",{className:a(),children:t.map((i,l)=>o.jsxs("div",{className:U(ni.item,i.className),children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.icon||r(i.type),o.jsxs("span",{className:U("font-medium text-sm",tb("primary")),children:[i.label,":"]})]}),o.jsx("div",{className:U("text-sm",tb("secondary")),children:i.value||"Not selected"})]},l))})})]})}function pB(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function zC({birthsignName:e,size:t="md",className:n}){return o.jsx(RC,{entityName:e,entityType:"birthsign",size:t,className:n})}const ab={Warrior:{background:"bg-red-100",text:"text-red-800",border:"border-red-200",hover:"hover:bg-red-200"},Mage:{background:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",hover:"hover:bg-blue-200"},Thief:{background:"bg-green-100",text:"text-green-800",border:"border-green-200",hover:"hover:bg-red-200"},Serpent:{background:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",hover:"hover:bg-purple-200"},Other:{background:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",hover:"hover:bg-yellow-200"}};function xB(e){return ab[e]||ab.Other}function Ag({item:e,className:t,showAddToBuild:n=!0,isExpanded:s=!1,onToggle:r,disableHover:a=!1}){var l,c,u,d;const i=e.originalBirthsign;return i?o.jsxs(ce,{className:t,expanded:s,onToggle:r,disableHover:a,children:[o.jsxs(ce.Header,{children:[n&&o.jsx(lo,{itemId:e.id,itemType:"stone",itemName:e.name}),o.jsx(zC,{birthsignName:i.name,size:"md"}),o.jsx(pt,{className:"text-primary font-semibold",children:i.name}),o.jsx("div",{className:"flex items-center gap-3 ml-auto",children:i.group&&o.jsx(K,{variant:"outline",className:U(xB(i.group)||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200","text-xs font-medium transition-colors"),children:i.group})})]}),o.jsx(ce.Summary,{children:o.jsx(Pa,{text:i.description,className:"text-base text-muted-foreground"})}),o.jsxs(ce.Details,{children:[i.stat_modifications.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Stat Modifications"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.stat_modifications.map((f,m)=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[o.jsx("span",{className:"font-medium capitalize",children:f.stat}),o.jsxs("span",{className:U("font-bold",f.type==="bonus"?"text-green-600":"text-red-600"),children:[f.type==="bonus"?"+":"-",f.value,f.value_type==="percentage"?"%":""]})]},m))})]}),i.powers.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Powers"}),o.jsx("div",{className:"space-y-2",children:i.powers.map((f,m)=>o.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Pt,{className:"h-4 w-4 text-yellow-500"}),o.jsx("span",{className:"font-medium text-sm",children:f.name})]}),o.jsx("div",{className:"border-t border-border my-2"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},m))})]}),i.skill_bonuses.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Skill Bonuses"}),o.jsx("div",{className:"space-y-2",children:i.skill_bonuses.map((f,m)=>o.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[o.jsxs("span",{className:"font-medium",children:[f.stat," +",f.value]}),o.jsx(K,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},m))})]}),(((l=i.conditional_effects)==null?void 0:l.length)>0||((c=i.mastery_effects)==null?void 0:c.length)>0)&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Special Effects"}),o.jsxs("div",{className:"space-y-3",children:[(u=i.conditional_effects)==null?void 0:u.map((f,m)=>o.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[o.jsx("div",{className:"flex items-center gap-2 mb-1",children:o.jsx("span",{className:"font-medium text-sm",children:"Conditional Effect"})}),o.jsx("div",{className:"border-t border-border my-2"}),o.jsx("div",{className:"text-sm font-medium",children:f.stat}),o.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},`conditional-${m}`)),(d=i.mastery_effects)==null?void 0:d.map((f,m)=>o.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Pt,{className:"h-4 w-4 text-yellow-500"}),o.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),o.jsx("div",{className:"border-t border-border my-2"}),o.jsx("div",{className:"text-sm font-medium",children:f.stat}),o.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},`mastery-${m}`))]})]})]})]}):null}function pr(e){return Array.isArray?Array.isArray(e):PC(e)==="[object Array]"}function yB(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function vB(e){return e==null?"":yB(e)}function vs(e){return typeof e=="string"}function LC(e){return typeof e=="number"}function bB(e){return e===!0||e===!1||wB(e)&&PC(e)=="[object Boolean]"}function $C(e){return typeof e=="object"}function wB(e){return $C(e)&&e!==null}function pn(e){return e!=null}function eh(e){return!e.trim().length}function PC(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const NB="Incorrect 'index' type",jB=e=>`Invalid value for key ${e}`,SB=e=>`Pattern length exceeds max of ${e}.`,CB=e=>`Missing ${e} property in key`,kB=e=>`Property 'weight' in key '${e}' must be a positive integer`,ob=Object.prototype.hasOwnProperty;class EB{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let r=OC(s);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function OC(e){let t=null,n=null,s=null,r=1,a=null;if(vs(e)||pr(e))s=e,t=ib(e),n=Tg(e);else{if(!ob.call(e,"name"))throw new Error(CB("name"));const i=e.name;if(s=i,ob.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(kB(i));t=ib(i),n=Tg(i),a=e.getFn}return{path:t,id:n,weight:r,src:s,getFn:a}}function ib(e){return pr(e)?e:e.split(".")}function Tg(e){return pr(e)?e.join("."):e}function _B(e,t){let n=[],s=!1;const r=(a,i,l)=>{if(pn(a))if(!i[l])n.push(a);else{let c=i[l];const u=a[c];if(!pn(u))return;if(l===i.length-1&&(vs(u)||LC(u)||bB(u)))n.push(vB(u));else if(pr(u)){s=!0;for(let d=0,f=u.length;d<f;d+=1)r(u[d],i,l+1)}else i.length&&r(u,i,l+1)}};return r(e,vs(t)?t.split("."):t,0),s?n:n[0]}const AB={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},TB={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},MB={location:0,threshold:.6,distance:100},RB={useExtendedSearch:!1,getFn:_B,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var he={...TB,...AB,...MB,...RB};const DB=/[^ ]+/g;function zB(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(r){const a=r.match(DB).length;if(n.has(a))return n.get(a);const i=1/Math.pow(a,.5*e),l=parseFloat(Math.round(i*s)/s);return n.set(a,l),l},clear(){n.clear()}}}class x0{constructor({getFn:t=he.getFn,fieldNormWeight:n=he.fieldNormWeight}={}){this.norm=zB(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,vs(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();vs(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!pn(t)||eh(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((r,a)=>{let i=r.getFn?r.getFn(t):this.getFn(t,r.path);if(pn(i)){if(pr(i)){let l=[];const c=[{nestedArrIndex:-1,value:i}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(pn(d))if(vs(d)&&!eh(d)){let f={v:d,i:u,n:this.norm.get(d)};l.push(f)}else pr(d)&&d.forEach((f,m)=>{c.push({nestedArrIndex:m,value:f})})}s.$[a]=l}else if(vs(i)&&!eh(i)){let l={v:i,n:this.norm.get(i)};s.$[a]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function BC(e,t,{getFn:n=he.getFn,fieldNormWeight:s=he.fieldNormWeight}={}){const r=new x0({getFn:n,fieldNormWeight:s});return r.setKeys(e.map(OC)),r.setSources(t),r.create(),r}function LB(e,{getFn:t=he.getFn,fieldNormWeight:n=he.fieldNormWeight}={}){const{keys:s,records:r}=e,a=new x0({getFn:t,fieldNormWeight:n});return a.setKeys(s),a.setIndexRecords(r),a}function Su(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:r=he.distance,ignoreLocation:a=he.ignoreLocation}={}){const i=t/e.length;if(a)return i;const l=Math.abs(s-n);return r?i+l/r:l?1:i}function $B(e=[],t=he.minMatchCharLength){let n=[],s=-1,r=-1,a=0;for(let i=e.length;a<i;a+=1){let l=e[a];l&&s===-1?s=a:!l&&s!==-1&&(r=a-1,r-s+1>=t&&n.push([s,r]),s=-1)}return e[a-1]&&a-s>=t&&n.push([s,a-1]),n}const Ta=32;function PB(e,t,n,{location:s=he.location,distance:r=he.distance,threshold:a=he.threshold,findAllMatches:i=he.findAllMatches,minMatchCharLength:l=he.minMatchCharLength,includeMatches:c=he.includeMatches,ignoreLocation:u=he.ignoreLocation}={}){if(t.length>Ta)throw new Error(SB(Ta));const d=t.length,f=e.length,m=Math.max(0,Math.min(s,f));let h=a,p=m;const y=l>1||c,v=y?Array(f):[];let x;for(;(x=e.indexOf(t,p))>-1;){let C=Su(t,{currentLocation:x,expectedLocation:m,distance:r,ignoreLocation:u});if(h=Math.min(C,h),p=x+d,y){let k=0;for(;k<d;)v[x+k]=1,k+=1}}p=-1;let b=[],w=1,N=d+f;const j=1<<d-1;for(let C=0;C<d;C+=1){let k=0,E=N;for(;k<E;)Su(t,{errors:C,currentLocation:m+E,expectedLocation:m,distance:r,ignoreLocation:u})<=h?k=E:N=E,E=Math.floor((N-k)/2+k);N=E;let _=Math.max(1,m-E+1),P=i?f:Math.min(m+E,f)+d,O=Array(P+2);O[P+1]=(1<<C)-1;for(let T=P;T>=_;T-=1){let z=T-1,A=n[e.charAt(z)];if(y&&(v[z]=+!!A),O[T]=(O[T+1]<<1|1)&A,C&&(O[T]|=(b[T+1]|b[T])<<1|1|b[T+1]),O[T]&j&&(w=Su(t,{errors:C,currentLocation:z,expectedLocation:m,distance:r,ignoreLocation:u}),w<=h)){if(h=w,p=z,p<=m)break;_=Math.max(1,2*m-p)}}if(Su(t,{errors:C+1,currentLocation:m,expectedLocation:m,distance:r,ignoreLocation:u})>h)break;b=O}const S={isMatch:p>=0,score:Math.max(.001,w)};if(y){const C=$B(v,l);C.length?c&&(S.indices=C):S.isMatch=!1}return S}function OB(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<s-n-1}return t}const Ld=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class IC{constructor(t,{location:n=he.location,threshold:s=he.threshold,distance:r=he.distance,includeMatches:a=he.includeMatches,findAllMatches:i=he.findAllMatches,minMatchCharLength:l=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreDiacritics:u=he.ignoreDiacritics,ignoreLocation:d=he.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:r,includeMatches:a,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?Ld(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(h,p)=>{this.chunks.push({pattern:h,alphabet:OB(h),startIndex:p})},m=this.pattern.length;if(m>Ta){let h=0;const p=m%Ta,y=m-p;for(;h<y;)f(this.pattern.substr(h,Ta),h),h+=Ta;if(p){const v=m-Ta;f(this.pattern.substr(v),v)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:s,includeMatches:r}=this.options;if(t=n?t:t.toLowerCase(),t=s?Ld(t):t,this.pattern===t){let y={isMatch:!0,score:0};return r&&(y.indices=[[0,t.length-1]]),y}const{location:a,distance:i,threshold:l,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],m=0,h=!1;this.chunks.forEach(({pattern:y,alphabet:v,startIndex:x})=>{const{isMatch:b,score:w,indices:N}=PB(t,y,v,{location:a+x,distance:i,threshold:l,findAllMatches:c,minMatchCharLength:u,includeMatches:r,ignoreLocation:d});b&&(h=!0),m+=w,b&&N&&(f=[...f,...N])});let p={isMatch:h,score:h?m/this.chunks.length:1};return h&&r&&(p.indices=f),p}}class pa{constructor(t){this.pattern=t}static isMultiMatch(t){return lb(t,this.multiRegex)}static isSingleMatch(t){return lb(t,this.singleRegex)}search(){}}function lb(e,t){const n=e.match(t);return n?n[1]:null}class BB extends pa{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class IB extends pa{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class HB extends pa{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class UB extends pa{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class FB extends pa{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class VB extends pa{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class HC extends pa{constructor(t,{location:n=he.location,threshold:s=he.threshold,distance:r=he.distance,includeMatches:a=he.includeMatches,findAllMatches:i=he.findAllMatches,minMatchCharLength:l=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreDiacritics:u=he.ignoreDiacritics,ignoreLocation:d=he.ignoreLocation}={}){super(t),this._bitapSearch=new IC(t,{location:n,threshold:s,distance:r,includeMatches:a,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class UC extends pa{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const r=[],a=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+a,r.push([s,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const Mg=[BB,UC,HB,UB,VB,FB,IB,HC],cb=Mg.length,qB=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,GB="|";function ZB(e,t={}){return e.split(GB).map(n=>{let s=n.trim().split(qB).filter(a=>a&&!!a.trim()),r=[];for(let a=0,i=s.length;a<i;a+=1){const l=s[a];let c=!1,u=-1;for(;!c&&++u<cb;){const d=Mg[u];let f=d.isMultiMatch(l);f&&(r.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<cb;){const d=Mg[u];let f=d.isSingleMatch(l);if(f){r.push(new d(f,t));break}}}return r})}const YB=new Set([HC.type,UC.type]);class XB{constructor(t,{isCaseSensitive:n=he.isCaseSensitive,ignoreDiacritics:s=he.ignoreDiacritics,includeMatches:r=he.includeMatches,minMatchCharLength:a=he.minMatchCharLength,ignoreLocation:i=he.ignoreLocation,findAllMatches:l=he.findAllMatches,location:c=he.location,threshold:u=he.threshold,distance:d=he.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:s,includeMatches:r,minMatchCharLength:a,findAllMatches:l,ignoreLocation:i,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=s?Ld(t):t,this.pattern=t,this.query=ZB(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r,ignoreDiacritics:a}=this.options;t=r?t:t.toLowerCase(),t=a?Ld(t):t;let i=0,l=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];l.length=0,i=0;for(let m=0,h=f.length;m<h;m+=1){const p=f[m],{isMatch:y,indices:v,score:x}=p.search(t);if(y){if(i+=1,c+=x,s){const b=p.constructor.type;YB.has(b)?l=[...l,...v]:l.push(v)}}else{c=0,i=0,l.length=0;break}}if(i){let m={isMatch:!0,score:c/i};return s&&(m.indices=l),m}}return{isMatch:!1,score:1}}}const Rg=[];function KB(...e){Rg.push(...e)}function Dg(e,t){for(let n=0,s=Rg.length;n<s;n+=1){let r=Rg[n];if(r.condition(e,t))return new r(e,t)}return new IC(e,t)}const $d={AND:"$and",OR:"$or"},zg={PATH:"$path",PATTERN:"$val"},Lg=e=>!!(e[$d.AND]||e[$d.OR]),WB=e=>!!e[zg.PATH],QB=e=>!pr(e)&&$C(e)&&!Lg(e),ub=e=>({[$d.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function FC(e,t,{auto:n=!0}={}){const s=r=>{let a=Object.keys(r);const i=WB(r);if(!i&&a.length>1&&!Lg(r))return s(ub(r));if(QB(r)){const c=i?r[zg.PATH]:a[0],u=i?r[zg.PATTERN]:r[c];if(!vs(u))throw new Error(jB(c));const d={keyId:Tg(c),pattern:u};return n&&(d.searcher=Dg(u,t)),d}let l={children:[],operator:a[0]};return a.forEach(c=>{const u=r[c];pr(u)&&u.forEach(d=>{l.children.push(s(d))})}),l};return Lg(e)||(e=ub(e)),s(e)}function JB(e,{ignoreFieldNorm:t=he.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:r,norm:a,score:i})=>{const l=r?r.weight:null;s*=Math.pow(i===0&&l?Number.EPSILON:i,(l||1)*(t?1:a))}),n.score=s})}function e8(e,t){const n=e.matches;t.matches=[],pn(n)&&n.forEach(s=>{if(!pn(s.indices)||!s.indices.length)return;const{indices:r,value:a}=s;let i={indices:r,value:a};s.key&&(i.key=s.key.src),s.idx>-1&&(i.refIndex=s.idx),t.matches.push(i)})}function t8(e,t){t.score=e.score}function n8(e,t,{includeMatches:n=he.includeMatches,includeScore:s=he.includeScore}={}){const r=[];return n&&r.push(e8),s&&r.push(t8),e.map(a=>{const{idx:i}=a,l={item:t[i],refIndex:i};return r.length&&r.forEach(c=>{c(a,l)}),l})}class Zt{constructor(t,n={},s){this.options={...he,...n},this.options.useExtendedSearch,this._keyStore=new EB(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof x0))throw new Error(NB);this._myIndex=n||BC(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){pn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,r=this._docs.length;s<r;s+=1){const a=this._docs[s];t(a,s)&&(this.removeAt(s),s-=1,r-=1,n.push(a))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:a,sortFn:i,ignoreFieldNorm:l}=this.options;let c=vs(t)?vs(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return JB(c,{ignoreFieldNorm:l}),a&&c.sort(i),LC(n)&&n>-1&&(c=c.slice(0,n)),n8(c,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(t){const n=Dg(t,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:a,i,n:l})=>{if(!pn(a))return;const{isMatch:c,score:u,indices:d}=n.searchIn(a);c&&r.push({item:a,idx:i,matches:[{score:u,value:a,norm:l,indices:d}]})}),r}_searchLogical(t){const n=FC(t,this.options),s=(l,c,u)=>{if(!l.children){const{keyId:f,searcher:m}=l,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:m});return h&&h.length?[{idx:u,item:c,matches:h}]:[]}const d=[];for(let f=0,m=l.children.length;f<m;f+=1){const h=l.children[f],p=s(h,c,u);if(p.length)d.push(...p);else if(l.operator===$d.AND)return[]}return d},r=this._myIndex.records,a={},i=[];return r.forEach(({$:l,i:c})=>{if(pn(l)){let u=s(n,l,c);u.length&&(a[c]||(a[c]={idx:c,item:l,matches:[]},i.push(a[c])),u.forEach(({matches:d})=>{a[c].matches.push(...d)}))}}),i}_searchObjectList(t){const n=Dg(t,this.options),{keys:s,records:r}=this._myIndex,a=[];return r.forEach(({$:i,i:l})=>{if(!pn(i))return;let c=[];s.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:i[d],searcher:n}))}),c.length&&a.push({idx:l,item:i,matches:c})}),a}_findMatches({key:t,value:n,searcher:s}){if(!pn(n))return[];let r=[];if(pr(n))n.forEach(({v:a,i,n:l})=>{if(!pn(a))return;const{isMatch:c,score:u,indices:d}=s.searchIn(a);c&&r.push({score:u,key:t,value:a,idx:i,norm:l,indices:d})});else{const{v:a,n:i}=n,{isMatch:l,score:c,indices:u}=s.searchIn(a);l&&r.push({score:c,key:t,value:a,norm:i,indices:u})}return r}}Zt.version="7.1.0";Zt.createIndex=BC;Zt.parseIndex=LB;Zt.config=he;Zt.parseQuery=FC;KB(XB);function VC(e,t){const n=g.useMemo(()=>e.map(l=>{var c,u;return{id:l.name.toLowerCase().replace(/\s+/g,"-"),name:l.name,description:l.description,group:l.group,statModifications:l.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:l.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:l.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=l.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=l.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Zt(n,s),[n,s]),a=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredBirthsigns:g.useMemo(()=>a.map(l=>l.item.originalBirthsign),[a]),searchResults:a,searchableBirthsigns:n}}function db({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:s=""}){const[r,a]=g.useState(""),{filteredBirthsigns:i}=VC(e,r),l=g.useMemo(()=>i.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.group,icon:o.jsx(zC,{birthsignName:d.name,size:"sm"}),badge:d.group&&o.jsx(K,{variant:"outline",className:U("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.group}),metadata:{originalBirthsign:d}})),[i]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>o.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&o.jsx("div",{className:"flex-shrink-0",children:d.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:d.label}),d.badge&&o.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:d.description})]})]});return o.jsx(Hc,{options:l,onSelect:c,placeholder:n,className:s,renderOption:u,emptyMessage:"No birthsigns found",searchQuery:r,onSearchQueryChange:a})}function s8(){const{data:e,loading:t,error:n,load:s}=fo();return{birthsigns:e,loading:t,error:n,refetch:s}}function $g(e){var t,n,s,r,a,i;return{id:`religion-${e.name.toLowerCase().replace(/\s+/g,"-")}`,name:e.name,description:((t=e.tenet)==null?void 0:t.description)||"",tags:e.favoredRaces||[],summary:((n=e.tenet)==null?void 0:n.description)||"",effects:[...((r=(s=e.tenet)==null?void 0:s.effects)==null?void 0:r.map(l=>({type:"positive",name:l.effectName,description:l.effectDescription,value:l.magnitude,target:l.targetAttribute||""})))||[],...((i=(a=e.blessing)==null?void 0:a.effects)==null?void 0:i.map(l=>({type:"positive",name:l.effectName,description:l.effectDescription,value:l.magnitude,target:l.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:e.type}}function fb(e){var t;return{...e,id:e.edid||e.name,name:e.name,description:e.description,tags:e.tags||[],summary:e.description,effects:[...((t=e.effects)==null?void 0:t.map(n=>({type:"positive",name:n.type,description:n.condition||n.type,value:n.value})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalTrait:e}}function qC(e){var s,r,a,i,l,c,u,d;const t=[...((s=e.stat_modifications)==null?void 0:s.map(f=>({type:f.type==="bonus"?"positive":"negative",name:`${f.stat} ${f.type==="bonus"?"+":"-"}${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} ${f.type==="bonus"?"increased":"decreased"} by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((r=e.skill_bonuses)==null?void 0:r.map(f=>({type:"positive",name:`${f.stat} +${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} skill increased by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((a=e.powers)==null?void 0:a.map(f=>({type:"positive",name:f.name,description:f.description,value:f.magnitude||0,target:"power"})))||[],...((i=e.conditional_effects)==null?void 0:i.map(f=>({type:"neutral",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[],...((l=e.mastery_effects)==null?void 0:l.map(f=>({type:"positive",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[]],n=[e.group,...((c=e.stat_modifications)==null?void 0:c.map(f=>f.stat))||[],...((u=e.skill_bonuses)==null?void 0:u.map(f=>f.stat))||[],...((d=e.powers)==null?void 0:d.map(f=>f.name))||[]].filter((f,m,h)=>h.indexOf(f)===m);return{...e,id:e.id||e.edid,name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.group,originalBirthsign:e}}function r8(e){var s;const t=[{type:"positive",name:e.name,description:e.description||"",value:0,target:"destiny"}],n=[...e.tags||[],...((s=e.prerequisites)==null?void 0:s.map(r=>`Requires: ${r}`))||[]].filter((r,a,i)=>i.indexOf(r)===a);return{...e,id:e.id||e.edid,name:e.name,description:e.description||"",tags:n,summary:e.description||"",effects:t,associatedItems:[],imageUrl:e.icon,category:"Destiny",originalDestinyNode:e}}function a8({className:e}){const{birthsigns:t}=s8(),{build:n,setStone:s}=vt(),r=yt(),[a,i]=g.useState(!0),l=n.stone?t.find(m=>m.edid===n.stone):null,c=m=>{s(m.edid)},u=()=>{r("/birth-signs")},d=()=>{i(!a)};if(!l)return o.jsxs($n,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),o.jsx(db,{birthsigns:t,onSelect:c,placeholder:"Search for a birthsign...",className:"w-full"})]});const f=qC(l);return o.jsxs($n,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[o.jsx(db,{birthsigns:t,onSelect:c,placeholder:`Birth Sign: Select a birthsign (${l.name})`,className:"w-full"}),o.jsx(Ag,{item:f,isExpanded:a,onToggle:d,className:"border-0 shadow-none",showAddToBuild:!1,disableHover:!0})]})}const o8={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function i8(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function l8(e){const[t,n]=g.useReducer(i8,o8),s=g.useMemo(()=>{const v=J6(e),x=eB(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:v.map(b=>({id:`group-${b}`,label:b,value:b,category:"Birthsign Groups",description:`Birthsigns from ${b} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:x.map(b=>({id:`stat-${b}`,label:b.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase()),value:b,category:"Stats & Skills",description:`Birthsigns that affect ${b}`}))}]},[e]),r=g.useMemo(()=>t.selectedTags.length===0?e:e.filter(v=>t.selectedTags.every(x=>{switch(x.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return v.group===x.value;case"Stats & Skills":return[...v.stat_modifications.map(w=>w.stat),...v.skill_bonuses.map(w=>w.stat)].some(w=>w===x.value);default:return!0}})),[e,t.selectedTags]),a=g.useMemo(()=>t.selectedTags.filter(v=>v.category==="Fuzzy Search").map(v=>v.value).join(" "),[t.selectedTags]),{filteredBirthsigns:i}=VC(r,a),l=g.useMemo(()=>i.map(qC),[i]),c=g.useMemo(()=>[...l].sort((v,x)=>{var b,w;switch(t.sortBy){case"alphabetical":return v.name.localeCompare(x.name);case"group":{const N=C=>{switch(C){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},j=N(v.category),S=N(x.category);return j!==S?j-S:v.name.localeCompare(x.name)}case"power-count":{const N=((b=v.effects)==null?void 0:b.filter(S=>S.target==="power").length)||0,j=((w=x.effects)==null?void 0:w.filter(S=>S.target==="power").length)||0;return N!==j?j-N:v.name.localeCompare(x.name)}default:return 0}}),[l,t.sortBy]),u=g.useCallback(v=>{n({type:"ADD_TAG",payload:v})},[]),d=g.useCallback(v=>{n({type:"REMOVE_TAG",payload:v})},[]),f=g.useCallback(v=>{n({type:"SET_SORT",payload:v})},[]),m=g.useCallback(v=>{n({type:"SET_VIEW_MODE",payload:v})},[]),h=g.useCallback(v=>{n({type:"TOGGLE_EXPANDED",payload:v})},[]),p=g.useCallback(v=>{n({type:"EXPAND_ALL",payload:v})},[]),y=g.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:d,setSort:f,setViewMode:m,toggleExpanded:h,expandAll:p,collapseAll:y,searchCategories:s,fuzzySearchQuery:a,filteredBirthsigns:r,displayItems:l,sortedDisplayItems:c}}const c8={showStats:!0,showPowers:!0,showSkills:!0,showEffects:!0};function u8(e,t){switch(t.type){case"TOGGLE_STATS":return{...e,showStats:!e.showStats};case"TOGGLE_POWERS":return{...e,showPowers:!e.showPowers};case"TOGGLE_SKILLS":return{...e,showSkills:!e.showSkills};case"TOGGLE_EFFECTS":return{...e,showEffects:!e.showEffects};case"TOGGLE_ALL":return{showStats:t.payload,showPowers:t.payload,showSkills:t.payload,showEffects:t.payload};case"SET_STATS":return{...e,showStats:t.payload};case"SET_POWERS":return{...e,showPowers:t.payload};case"SET_SKILLS":return{...e,showSkills:t.payload};case"SET_EFFECTS":return{...e,showEffects:t.payload};default:return e}}function d8(){const[e,t]=g.useReducer(u8,c8),n=g.useCallback(()=>{t({type:"TOGGLE_STATS"})},[]),s=g.useCallback(()=>{t({type:"TOGGLE_POWERS"})},[]),r=g.useCallback(()=>{t({type:"TOGGLE_SKILLS"})},[]),a=g.useCallback(()=>{t({type:"TOGGLE_EFFECTS"})},[]),i=g.useCallback(f=>{t({type:"TOGGLE_ALL",payload:f})},[]),l=g.useCallback(f=>{t({type:"SET_STATS",payload:f})},[]),c=g.useCallback(f=>{t({type:"SET_POWERS",payload:f})},[]),u=g.useCallback(f=>{t({type:"SET_SKILLS",payload:f})},[]),d=g.useCallback(f=>{t({type:"SET_EFFECTS",payload:f})},[]);return{...e,toggleStats:n,togglePowers:s,toggleSkills:r,toggleEffects:a,toggleAll:i,setStats:l,setPowers:c,setSkills:u,setEffects:d}}function f8(){const{data:e,loading:t,error:n,reload:s}=W6(),r=e||[],{selectedTags:a,sortBy:i,viewMode:l,addTag:c,removeTag:u,setSort:d,setViewMode:f,searchCategories:m,filteredBirthsigns:h,displayItems:p,sortedDisplayItems:y}=l8(r);g.useEffect(()=>{console.log("birthsigns",r),console.log("sortedDisplayItems",y),console.log("displayItems",p),console.log("filteredBirthsigns",h)},[r,y,p,h]);const[v,x]=g.useState(new Set),{showStats:b,showPowers:w,showSkills:N,showEffects:j,toggleStats:S,togglePowers:C,toggleSkills:k,toggleEffects:E,toggleAll:_,setStats:P,setPowers:O,setSkills:L,setEffects:T}=d8(),z=y.length>0&&y.every(D=>v.has(D.id));y.some(D=>v.has(D.id));const A=D=>{const M=new Set(v),R=3,B=y.findIndex(J=>J.id===D),I=Math.floor(B/R)*R,V=Math.min(I+R,y.length);y.slice(I,V).some(J=>M.has(J.id))?y.slice(I,V).forEach(J=>{M.delete(J.id)}):y.slice(I,V).forEach(J=>{M.add(J.id)}),x(M)};return t?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading birthsigns..."})]})}):n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-destructive mb-4",children:n}),o.jsx("button",{onClick:()=>s(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):o.jsxs(Rs,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ga,{categories:m,onSelect:D=>{let M;typeof D=="string"?M={id:`custom-${D}`,label:D,value:D,category:"Fuzzy Search"}:M={id:`${D.category}-${D.id}`,label:D.label,value:D.value,category:D.category},a.some(R=>R.value===M.value&&R.category===M.category)||c(M)},onCustomSearch:D=>{let M;typeof D=="string"?M={id:`custom-${D}`,label:D,value:D,category:"Fuzzy Search"}:M={id:`${D.category}-${D.id}`,label:D.label,value:D.value,category:D.category},a.some(R=>R.value===M.value&&R.category===M.category)||c(M)}})}),o.jsxs(t0,{children:[o.jsx(n0,{asChild:!0,children:o.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[o.jsx(In,{className:"h-4 w-4"}),i==="alphabetical"?"A-Z":i==="group"?"Type":"Count"]})}),o.jsxs(Gf,{align:"end",children:[o.jsx(ur,{onClick:()=>d("alphabetical"),children:"Alphabetical"}),o.jsx(ur,{onClick:()=>d("group"),children:"Birthsign Group"}),o.jsx(ur,{onClick:()=>d("power-count"),children:"Power Count"})]})]}),o.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[o.jsx(W,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:o.jsx(ha,{className:"h-4 w-4"})}),o.jsx(W,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:o.jsx(ro,{className:"h-4 w-4"})})]}),o.jsx(W,{variant:"outline",size:"sm",onClick:z?()=>{x(new Set)}:()=>{x(new Set(y.map(D=>D.id)))},className:"flex items-center justify-center",title:z?"Collapse all accordions":"Expand all accordions",children:z?o.jsx(LN,{className:"h-4 w-4"}):o.jsx(zN,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"my-4",children:a.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsxs("button",{onClick:()=>a.forEach(D=>u(D.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[o.jsx(Ft,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),a.map(D=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>u(D.id),title:"Click to remove",children:[D.label,o.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},D.id))]})}),y.length>0&&o.jsx(h0,{type:"single",collapsible:!0,className:"w-full",children:o.jsxs(Qf,{value:"customize-display",className:"border-none",children:[o.jsxs(Jf,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-background hover:bg-muted/50 transition-colors data-[state=open]:rounded-b-none data-[state=open]:border-b-0 justify-start",children:[o.jsx(ux,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Customize Display"})]}),o.jsx(em,{className:"px-3 py-3 rounded-b-lg border border-t-0 bg-background",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[o.jsx(Qs,{checked:b&&w&&N&&j,onCheckedChange:_}),o.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),o.jsxs("div",{className:"flex items-stretch gap-3 w-full",children:[o.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:S,children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(tr,{className:"text-base font-medium",children:"Stats"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute modifications"})]}),o.jsx(Qs,{checked:b,onCheckedChange:P,onClick:D=>D.stopPropagation()})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:C,children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(tr,{className:"text-base font-medium",children:"Powers"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Special abilities and spells"})]}),o.jsx(Qs,{checked:w,onCheckedChange:O,onClick:D=>D.stopPropagation()})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:k,children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(tr,{className:"text-base font-medium",children:"Skills"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Skill bonuses and effects"})]}),o.jsx(Qs,{checked:N,onCheckedChange:L,onClick:D=>D.stopPropagation()})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:E,children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(tr,{className:"text-base font-medium",children:"Effects"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Conditional and mastery effects"})]}),o.jsx(Qs,{checked:j,onCheckedChange:T,onClick:D=>D.stopPropagation()})]})]})]})})]})}),l==="grid"?o.jsx(i0,{columns:3,gap:"md",className:"w-full mt-6",children:y.map(D=>{const M=r.find(B=>B.id===D.id||B.edid===D.id);if(!M)return null;const R=v.has(D.id);return o.jsx(Ag,{item:{...D,originalBirthsign:M},isExpanded:R,onToggle:()=>A(D.id),className:"w-full"},D.id)})}):o.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:y.map(D=>{const M=r.find(B=>B.id===D.id||B.edid===D.id);if(!M)return null;const R=v.has(D.id);return o.jsx(Ag,{item:{...D,originalBirthsign:M},isExpanded:R,onToggle:()=>A(D.id),className:"w-full"},D.id)})}),y.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function m8(e={}){const{autoLoad:t=!0,refreshOnMount:n=!1}=e,{data:s,loading:r,error:a,load:i}=Ks(),l=g.useCallback(async()=>{t&&s.length===0&&await i()},[t,s.length,i]),c=g.useCallback(async()=>{await i()},[i]),u=g.useCallback(()=>{},[]);g.useEffect(()=>{t&&s.length===0&&l()},[t,s.length,l]),g.useEffect(()=>{n&&c()},[n,c]);const d=s.length,f=[...new Set(s.map(j=>j.category).filter(Boolean))],m=[...new Set(s.flatMap(j=>j.effects.map(S=>S.name)))],h=[...new Set(s.flatMap(j=>j.ingredients))],p=new Date().toISOString(),y=s.length>0?{recipes:s,totalCount:d,categories:f,effects:m,ingredients:h,lastUpdated:p}:null,v=g.useCallback(j=>Ks.getState().getByName(j),[]),x=g.useCallback(j=>Ks.getState().getByCategory(j),[]),b=g.useCallback(j=>Ks.getState().getByDifficulty(j),[]),w=g.useCallback(j=>Ks.getState().getByIngredient(j),[]),N=g.useCallback(j=>Ks.getState().getByEffect(j),[]);return{recipes:s,recipeData:y,loading:r,error:a,totalCount:d,categories:f,effects:m,ingredients:h,lastUpdated:p,loadRecipes:l,refresh:c,clearError:u,getRecipeByName:v,getRecipesByCategory:x,getRecipesByDifficulty:b,getRecipesByIngredient:w,getRecipesByEffect:N}}function h8(e,t={}){const{initialFilters:n={},enableSearch:s=!0,enableSorting:r=!0}=t,a=Array.isArray(e)?e:[],[i,l]=g.useState({categories:[],effects:[],ingredients:[],difficulties:[],searchTerm:"",hasEffects:null,isComplex:null,minIngredientCount:null,maxIngredientCount:null,minMagnitude:null,maxMagnitude:null,...n}),[c,u]=g.useState([]),[d,f]=g.useState("name"),[m,h]=g.useState("asc"),p=g.useCallback(M=>{c.some(R=>R.value===M.value&&R.category===M.category)||u(R=>[...R,M])},[c]),y=g.useCallback(M=>{u(R=>R.filter(B=>B.id!==M))},[]),v=g.useCallback(()=>{u([])},[]),x=g.useCallback(M=>{l(R=>({...R,searchTerm:M}))},[]),b=g.useCallback(M=>{l(R=>({...R,categories:M}))},[]),w=g.useCallback(M=>{l(R=>({...R,effects:M}))},[]),N=g.useCallback(M=>{l(R=>({...R,ingredients:M}))},[]),j=g.useCallback(M=>{l(R=>({...R,difficulties:M}))},[]),S=g.useCallback(M=>{l(R=>({...R,hasEffects:M}))},[]),C=g.useCallback(M=>{l(R=>({...R,isComplex:M}))},[]),k=g.useCallback((M,R)=>{l(B=>({...B,minIngredientCount:M,maxIngredientCount:R}))},[]),E=g.useCallback((M,R)=>{l(B=>({...B,minMagnitude:M,maxMagnitude:R}))},[]),_=g.useCallback(()=>{l({categories:[],effects:[],ingredients:[],difficulties:[],searchTerm:"",hasEffects:null,isComplex:null,minIngredientCount:null,maxIngredientCount:null,minMagnitude:null,maxMagnitude:null}),u([])},[]),P=g.useCallback(()=>{l(M=>({...M,searchTerm:""}))},[]),O=g.useCallback(M=>{h(M)},[]),L=g.useCallback(()=>{h(M=>M==="asc"?"desc":"asc")},[]),T=g.useMemo(()=>{let M=qe.applyFilters(a,i);if(c.length>0){const R=c.reduce((B,H)=>{switch(H.category){case"categories":B.categories.push(H.value);break;case"effects":B.effects.push(H.value);break;case"ingredients":B.ingredients.push(H.value);break;case"difficulties":B.difficulties.push(H.value);break}return B},{categories:[],effects:[],ingredients:[],difficulties:[]});R.categories.length>0&&(M=qe.filterByCategories(M,R.categories)),R.effects.length>0&&(M=qe.filterByEffects(M,R.effects)),R.ingredients.length>0&&(M=qe.filterByIngredients(M,R.ingredients)),R.difficulties.length>0&&(M=qe.filterByDifficulties(M,R.difficulties))}return r&&(M=qe.sort(M,d,m)),M},[a,i,c,r,d,m]),z=g.useMemo(()=>!s||!i.searchTerm.trim()?[]:qe.search(a,i.searchTerm),[a,i.searchTerm,s]),A=g.useMemo(()=>i.searchTerm.trim()!==""||i.categories.length>0||i.effects.length>0||i.ingredients.length>0||i.difficulties.length>0||i.hasEffects!==null||i.isComplex!==null||i.minIngredientCount!==null||i.maxIngredientCount!==null||i.minMagnitude!==null||i.maxMagnitude!==null||c.length>0,[i,c]),D=g.useMemo(()=>{let M=0;return i.searchTerm.trim()&&M++,i.categories.length>0&&(M+=i.categories.length),i.effects.length>0&&(M+=i.effects.length),i.ingredients.length>0&&(M+=i.ingredients.length),i.difficulties.length>0&&(M+=i.difficulties.length),i.hasEffects!==null&&M++,i.isComplex!==null&&M++,(i.minIngredientCount!==null||i.maxIngredientCount!==null)&&M++,(i.minMagnitude!==null||i.maxMagnitude!==null)&&M++,M+=c.length,M},[i,c]);return{filters:i,searchTerm:i.searchTerm,selectedTags:c,setSelectedTags:u,addTagFilter:p,removeTagFilter:y,clearAllTags:v,filteredRecipes:T,searchResults:z,hasActiveFilters:A,filterCount:D,setSearchTerm:x,setCategories:b,setEffects:w,setIngredients:N,setDifficulties:j,setHasEffects:S,setIsComplex:C,setIngredientCountRange:k,setMagnitudeRange:E,clearFilters:_,clearSearch:P,sortBy:d,sortOrder:m,setSortBy:f,setSortOrder:O,toggleSortOrder:L}}function g8(e,t={}){const{enableStatistics:n=!0,enableGrouping:s=!0}=t,r=Array.isArray(e)?e:[],a=g.useMemo(()=>n?qe.getStatistics(r):{totalRecipes:0,recipesByCategory:{},recipesByDifficulty:{},recipesByEffect:{},averageIngredientCount:0,averageEffectCount:0,mostCommonIngredients:[],mostCommonEffects:[]},[r,n]),i=g.useMemo(()=>{if(!s)return{};const w={};return r.forEach(N=>{const j=N.category||"Uncategorized";w[j]||(w[j]=[]),w[j].push(N)}),w},[r,s]),l=g.useMemo(()=>{if(!s)return{};const w={};return r.forEach(N=>{const j=N.difficulty;w[j]||(w[j]=[]),w[j].push(N)}),w},[r,s]),c=g.useMemo(()=>{if(!s)return{};const w={};return r.forEach(N=>{N.effects.forEach(j=>{w[j.name]||(w[j.name]=[]),w[j.name].push(N)})}),w},[r,s]),u=g.useMemo(()=>{if(!s)return{};const w={};return r.forEach(N=>{N.ingredients.forEach(j=>{w[j]||(w[j]=[]),w[j].push(N)})}),w},[r,s]),d=g.useMemo(()=>qe.getUniqueCategories(r),[r]),f=g.useMemo(()=>qe.getUniqueDifficulties(r),[r]),m=g.useMemo(()=>qe.getUniqueEffects(r),[r]),h=g.useMemo(()=>qe.getUniqueIngredients(r),[r]),p=g.useMemo(()=>[{name:"Recipe Categories",options:d},{name:"Effects",options:m},{name:"Ingredients",options:h},{name:"Difficulty",options:f}],[d,m,h,f]),y=g.useMemo(()=>(w,N)=>{const j=w.ingredientCount-N.ingredientCount,S=w.effectCount-N.effectCount,C=w.totalMagnitude-N.totalMagnitude,k=w.maxDuration-N.maxDuration,E=new Set(w.ingredients),_=new Set(N.ingredients),P=[...E].filter(R=>_.has(R)),O=[...E].filter(R=>!_.has(R)),L=[..._].filter(R=>!E.has(R)),T=new Set(w.effects.map(R=>R.name)),z=new Set(N.effects.map(R=>R.name)),A=[...T].filter(R=>z.has(R)),D=[...T].filter(R=>!z.has(R)),M=[...z].filter(R=>!T.has(R));return{recipe1:w,recipe2:N,differences:{ingredientCount:{difference:j,percentage:N.ingredientCount>0?j/N.ingredientCount*100:0},effectCount:{difference:S,percentage:N.effectCount>0?S/N.effectCount*100:0},magnitude:{difference:C,percentage:N.totalMagnitude>0?C/N.totalMagnitude*100:0},duration:{difference:k,percentage:N.maxDuration>0?k/N.maxDuration*100:0},ingredients:{added:O,removed:L,common:P},effects:{added:D,removed:M,common:A}}}},[]),v=g.useMemo(()=>w=>{if(w.ingredientCount===0)return 0;const N=w.totalMagnitude*w.maxDuration,j=w.ingredientCount;return N/j},[]),x=g.useMemo(()=>w=>{let N=0;switch(N+=w.ingredientCount*.3,N+=w.effectCount*.4,N+=w.effects.reduce((j,S)=>j+S.magnitude*S.duration*.1,0),w.difficulty){case"Simple":N+=1;break;case"Moderate":N+=2;break;case"Complex":N+=3;break}return Math.round(N*10)/10},[]),b=g.useMemo(()=>w=>qe.getEffectComparisons(w,r),[r]);return{statistics:a,recipesByCategory:i,recipesByDifficulty:l,recipesByEffect:c,recipesByIngredient:u,availableCategories:d,availableDifficulties:f,availableEffects:m,availableIngredients:h,searchCategories:p,compareRecipes:y,getRecipeEfficiency:v,getRecipeComplexity:x,getEffectComparisons:b}}function y0({recipe:e,variant:t="default",onClick:n,isSelected:s=!1,showEffects:r=!0,showIngredients:a=!0,effectComparisons:i=[]}){const l=()=>{n==null||n()},c=v=>typeof v=="string"?v:v&&typeof v=="object"?v.item?v.item:v.name?v.name:v.label?v.label:v.id?v.id:"Unknown Ingredient":String(v||""),u=v=>typeof v=="string"?v:typeof v=="number"?v.toString():v&&typeof v=="object"?v.name?v.name:v.label?v.label:v.id?v.id:v.item?v.item:v.category?v.category:c(v):String(v||""),d=v=>o.jsx(Wr,{className:"h-4 w-4 text-green-500"}),f=v=>{if(typeof v=="string")return{name:v,count:1};if(v&&typeof v=="object"){const x=c(v),b=v.count||v.amount||1;return{name:x,count:b}}return{name:String(v||""),count:1}},m=v=>u(v.description||""),h=()=>o.jsxs(Ne,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:l,children:[o.jsx(Le,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-medium truncate",children:u(e.name)}),o.jsx("div",{className:"flex gap-1",children:e.category&&o.jsx(K,{variant:"secondary",className:"text-xs",children:u(e.category)})})]})}),o.jsx(je,{className:"pt-0",children:o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.ingredientCount," ingredients  ",e.effectCount," effects"]})})]}),p=()=>o.jsxs(Ne,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:l,children:[o.jsx(Le,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium truncate",children:u(e.name)}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:u(e.description)})]}),o.jsx("div",{className:"flex flex-col gap-1 ml-2",children:e.category&&o.jsx(K,{variant:"secondary",className:"text-xs",children:u(e.category)})})]})}),o.jsx(je,{className:"pt-0",children:o.jsxs("div",{className:"space-y-2",children:[a&&e.ingredients.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:["Ingredients (",e.ingredientCount,")"]}),o.jsx("div",{className:"space-y-1",children:e.ingredients.map((v,x)=>{const{name:b,count:w}=f(v);return o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:b}),o.jsxs("span",{className:"font-medium",children:["",w]})]},x)})})]}),r&&e.effects.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:["Effects (",e.effectCount,")"]}),o.jsx("div",{className:"space-y-2",children:e.effects.map((v,x)=>o.jsx("div",{className:"p-2 bg-muted/50 rounded-lg border border-border",children:o.jsxs("div",{className:"flex items-start gap-2",children:[d(),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-xs mb-1",children:u(v.name)}),o.jsx("div",{className:"text-xs text-muted-foreground",children:m(v)})]})]})},x))})]}),!1]})})]}),y=()=>o.jsxs(Ne,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:l,children:[o.jsx(Le,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium",children:u(e.name)}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u(e.description)})]}),o.jsxs("div",{className:"flex flex-col gap-1 ml-2",children:[e.category&&o.jsx(K,{variant:"secondary",className:"text-xs",children:u(e.category)}),e.type&&o.jsx(K,{variant:"outline",className:"text-xs",children:u(e.type)})]})]})}),o.jsx(je,{className:"pt-0",children:o.jsxs("div",{className:"space-y-3",children:[a&&e.ingredients.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Ingredients"}),o.jsx("div",{className:"space-y-2",children:e.ingredients.map((v,x)=>{const{name:b,count:w}=f(v);return o.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[o.jsx("span",{className:"text-sm",children:b}),o.jsxs("span",{className:"font-medium text-sm",children:["",w]})]},x)})})]}),r&&e.effects.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-3",children:"Effects"}),o.jsx("div",{className:"space-y-3",children:e.effects.map((v,x)=>o.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:o.jsxs("div",{className:"flex items-start gap-3",children:[d(),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm mb-1",children:u(v.name)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:m(v)})]})]})},x))})]}),!1,o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[o.jsxs("span",{children:["Total Magnitude: ",e.totalMagnitude]}),o.jsxs("span",{children:["Max Duration: ",e.maxDuration,"s"]})]})]})})]});switch(t){case"compact":return h();case"detailed":return y();default:return p()}}function p8({recipes:e,variant:t="default",columns:n=3,onRecipeClick:s,selectedRecipes:r=[],showEffects:a=!0,showIngredients:i=!0,className:l,getEffectComparisons:c}){const u=()=>{const f="grid gap-4";switch(n){case 1:return`${f} grid-cols-1`;case 2:return`${f} grid-cols-1 sm:grid-cols-2`;case 3:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`;case 4:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4`;default:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`}},d=f=>{s==null||s(f)};return e.length===0?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No recipes found"})})}):o.jsx("div",{className:u(),children:e.map(f=>o.jsx(y0,{recipe:f,variant:t,onClick:()=>d(f),isSelected:r.includes(f.name),showEffects:a,showIngredients:i,effectComparisons:(c==null?void 0:c(f))||[]},f.name))})}function x8({recipes:e,variant:t="default",onRecipeClick:n,selectedRecipes:s=[],showEffects:r=!0,showIngredients:a=!0,className:i,getEffectComparisons:l}){const c=u=>{n==null||n(u)};return e.length===0?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No recipes found"})})}):o.jsx("div",{className:`space-y-3 ${i||""}`,children:e.map(u=>o.jsx(y0,{recipe:u,variant:t,onClick:()=>c(u),isSelected:s.includes(u.name),showEffects:r,showIngredients:a,effectComparisons:(l==null?void 0:l(u))||[]},u.name))})}function y8({currentMode:e,onModeChange:t,className:n}){return o.jsxs("div",{className:`flex border rounded-lg p-1 bg-muted ${n||""}`,children:[o.jsx(W,{variant:e==="list"?"default":"ghost",size:"sm",onClick:()=>t("list"),className:"h-8 px-3",title:"List view",children:o.jsx(ha,{className:"h-4 w-4"})}),o.jsx(W,{variant:e==="grid"?"default":"ghost",size:"sm",onClick:()=>t("grid"),className:"h-8 px-3",title:"Grid view",children:o.jsx(ro,{className:"h-4 w-4"})})]})}function v8({statistics:e,className:t}){const{totalRecipes:n,foodRecipes:s,alcoholRecipes:r,recipesByCategory:a,recipesByDifficulty:i,averageIngredientCount:l,averageEffectCount:c,averageMagnitude:u,averageDuration:d,topEffects:f,topIngredients:m}=e,h=[{title:"Total Recipes",value:n,icon:$R,description:"All available recipes",color:"text-blue-600"},{title:"Food Recipes",value:s,icon:s3,description:"Culinary recipes",color:"text-green-600"},{title:"Alcohol Recipes",value:r,icon:a3,description:"Beverage recipes",color:"text-purple-600"},{title:"Avg Ingredients",value:l.toFixed(1),icon:Nd,description:"Per recipe",color:"text-orange-600"},{title:"Avg Effects",value:c.toFixed(1),icon:nc,description:"Per recipe",color:"text-yellow-600"},{title:"Avg Magnitude",value:u.toFixed(1),icon:fg,description:"Effect strength",color:"text-red-600"}];return o.jsxs("div",{className:`space-y-6 ${t||""}`,children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(p=>{const y=p.icon;return o.jsxs(Ne,{children:[o.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:p.title}),o.jsx(y,{className:`h-4 w-4 ${p.color}`})]}),o.jsxs(je,{children:[o.jsx("div",{className:"text-2xl font-bold",children:p.value}),o.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]},p.title)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Ne,{children:[o.jsx(Le,{children:o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(MN,{className:"h-4 w-4"}),"Recipe Categories"]})}),o.jsx(je,{children:o.jsxs("div",{className:"space-y-2",children:[Object.entries(a).sort(([,p],[,y])=>y-p).slice(0,8).map(([p,y])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:p}),o.jsx(K,{variant:"secondary",className:"text-xs",children:y})]},p)),Object.keys(a).length>8&&o.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["+",Object.keys(a).length-8," more categories"]})]})})]}),o.jsxs(Ne,{children:[o.jsx(Le,{children:o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(XR,{className:"h-4 w-4"}),"Recipe Difficulties"]})}),o.jsx(je,{children:o.jsx("div",{className:"space-y-2",children:Object.entries(i).sort(([,p],[,y])=>y-p).map(([p,y])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:p}),o.jsx(K,{variant:p==="Simple"?"default":p==="Moderate"?"secondary":"destructive",className:"text-xs",children:y})]},p))})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Ne,{children:[o.jsx(Le,{children:o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(nc,{className:"h-4 w-4"}),"Most Common Effects"]})}),o.jsx(je,{children:o.jsx("div",{className:"space-y-2",children:f.slice(0,8).map((p,y)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:p.name}),o.jsxs(K,{variant:"outline",className:"text-xs",children:[p.count," recipes"]})]},p.name))})})]}),o.jsxs(Ne,{children:[o.jsx(Le,{children:o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(Nd,{className:"h-4 w-4"}),"Most Common Ingredients"]})}),o.jsx(je,{children:o.jsx("div",{className:"space-y-2",children:m.slice(0,8).map((p,y)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:p.name}),o.jsxs(K,{variant:"outline",className:"text-xs",children:[p.count," recipes"]})]},p.name))})})]})]})]})}function b8({recipes:e,className:t}){const n=$.useMemo(()=>{const l=new Map;return e.forEach(c=>{c.effects.forEach(u=>{const d=u.name||"Unknown Effect",f=u.magnitude||0,m=u.duration||0;l.has(d)||l.set(d,{name:d,count:0,averageMagnitude:0,averageDuration:0,totalMagnitude:0,totalDuration:0,recipes:[]});const h=l.get(d);h.count++,h.totalMagnitude+=f,h.totalDuration+=m,h.recipes.includes(c.name)||h.recipes.push(c.name)})}),l.forEach(c=>{c.averageMagnitude=c.totalMagnitude/c.count,c.averageDuration=c.totalDuration/c.count}),Array.from(l.values()).sort((c,u)=>u.count-c.count)},[e]),s=$.useMemo(()=>{if(n.length===0)return{magnitude:0,duration:0};const l=n.reduce((u,d)=>u+d.averageMagnitude,0),c=n.reduce((u,d)=>u+d.averageDuration,0);return{magnitude:l/n.length,duration:c/n.length}},[n]),r=(l,c)=>{const d=(l-c)/c*100;return d>20?"text-green-600":d>10?"text-green-500":d<-20?"text-red-600":d<-10?"text-red-500":"text-muted-foreground"},a=(l,c)=>{const d=(l-c)/c*100;return d>10?o.jsx(fg,{className:"h-4 w-4 text-green-500"}):d<-10?o.jsx(uv,{className:"h-4 w-4 text-red-500"}):null},i=(l,c)=>{const u=l-c,d=u/c*100,f=u>=0?"+":"";return`${f}${u.toFixed(1)} (${f}${d.toFixed(1)}%)`};return n.length===0?o.jsxs(Ne,{className:t,children:[o.jsx(Le,{children:o.jsx(Ge,{className:"text-lg",children:"Food Effect Meta Analysis"})}),o.jsx(je,{children:o.jsx("p",{className:"text-muted-foreground",children:"No effects found to analyze."})})]}):o.jsxs(Ne,{className:t,children:[o.jsxs(Le,{children:[o.jsx(Ge,{className:"text-lg",children:"Food Effect Meta Analysis"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Analysis of ",n.length," unique effects across ",e.length," recipes"]})]}),o.jsx(je,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:s.magnitude.toFixed(1)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Magnitude"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold",children:[s.duration.toFixed(1),"s"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Duration"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-medium text-sm",children:"Effect Analysis"}),n.slice(0,10).map(l=>o.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"font-medium text-sm",children:l.name}),o.jsxs(K,{variant:"secondary",className:"text-xs",children:[l.count," recipes"]})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Magnitude:"}),o.jsx("span",{className:"font-medium",children:l.averageMagnitude.toFixed(1)}),a(l.averageMagnitude,s.magnitude)]}),o.jsx("div",{className:U("text-xs",r(l.averageMagnitude,s.magnitude)),children:i(l.averageMagnitude,s.magnitude)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),o.jsxs("span",{className:"font-medium",children:[l.averageDuration.toFixed(1),"s"]}),a(l.averageDuration,s.duration)]}),o.jsx("div",{className:U("text-xs",r(l.averageDuration,s.duration)),children:i(l.averageDuration,s.duration)})]})]}),l.recipes.length>0&&o.jsx("div",{className:"mt-2 pt-2 border-t border-border",children:o.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["Found in: ",l.recipes.slice(0,3).join(", "),l.recipes.length>3&&` +${l.recipes.length-3} more`]})})]},l.name)),n.length>10&&o.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Showing top 10 effects of ",n.length," total"]})]}),o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-sm mb-2",children:"Legend"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fg,{className:"h-3 w-3 text-green-500"}),o.jsx("span",{children:"Above average (+10%+)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(uv,{className:"h-3 w-3 text-red-500"}),o.jsx("span",{children:"Below average (-10%+)"})]})]})]})]})})]})}function w8(e,t){return{filteredRecipes:g.useMemo(()=>{if(!t.trim())return e;const r=t.toLowerCase().trim().split(/\s+/);return e.filter(a=>{const i=[a.name,a.output,a.description||"",...a.ingredients.map(l=>typeof l=="string"?l:l&&typeof l=="object"&&(l.name||l.label||l.id)||String(l)),...a.effects.map(l=>l.name),...a.effects.map(l=>l.description),a.category||"",a.difficulty||"",a.type||"",...a.tags].join(" ").toLowerCase();return r.every(l=>i.includes(l))})},[e,t]),searchQuery:t.trim()}}function N8(){const{recipes:e,loading:t,error:n}=m8(),{filteredRecipes:s}=h8(e),{statistics:r,availableCategories:a,availableEffects:i,availableIngredients:l,getEffectComparisons:c}=g8(e),[u,d]=g.useState("grid"),m=(()=>{try{if(!e||e.length===0)return console.warn("No recipes loaded for search categories"),[];const j=l||[],S=i||[],C=a||[];return console.log("Using pre-computed ingredients:",j.slice(0,10),`(total: ${j.length})`),[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, ingredients, effects, or description...",options:[]},{id:"ingredients",name:"Ingredients",placeholder:"Filter by ingredient...",options:j.map(k=>({id:`ingredient-${k}`,label:k,value:k,category:"Ingredients",description:`Recipes with ${k}`}))},{id:"effects",name:"Effects",placeholder:"Filter by effect...",options:S.map(k=>({id:`effect-${k}`,label:k,value:k,category:"Effects",description:`Recipes with ${k} effect`}))},{id:"categories",name:"Categories",placeholder:"Filter by category...",options:C.map(k=>({id:`category-${k}`,label:k,value:k,category:"Categories",description:`${k} recipes`}))}]}catch(j){return console.error("Error generating search categories:",j),[]}})(),[h,p]=g.useState([]),y=j=>{let S;typeof j=="string"?S={id:`custom-${j}`,label:j,value:j,category:"Fuzzy Search"}:S={id:`${j.category}-${j.id}`,label:j.label,value:j.value,category:j.category},h.some(C=>C.value===S.value&&C.category===S.category)||p(C=>[...C,S])},v=j=>{p(S=>S.filter(C=>C.id!==j))},x=s.filter(j=>h.length===0?!0:h.every(S=>{switch(S.category){case"Fuzzy Search":return!0;case"Categories":return j.category===S.value;case"Ingredients":return j.ingredients.some(C=>typeof C=="string"?C===S.value:C&&typeof C=="object"?C.item===S.value||C.name===S.value||C.label===S.value||C.id===S.value:!1);case"Effects":return j.effects.some(C=>C.name===S.value);default:return!0}})),b=h.filter(j=>j.category==="Fuzzy Search").map(j=>j.value).join(" "),{filteredRecipes:w}=w8(x,b),N=j=>{console.log("Recipe clicked:",j.name)};return t?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading recipes..."})]})}):n?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-destructive mb-2",children:"Error loading recipes"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Cookbook"}),o.jsxs("p",{className:"text-muted-foreground",children:["Browse and search through ",r.totalRecipes," recipes"]})]})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ga,{categories:m,onSelect:y,onCustomSearch:y})}),o.jsx(y8,{currentMode:u,onModeChange:d})]}),o.jsx("div",{className:"my-4",children:h.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsxs("button",{onClick:()=>p([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[o.jsx(Ft,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),h.map(j=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>v(j.id),title:"Click to remove",children:[j.label,o.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},j.id))]})}),o.jsxs(Xi,{defaultValue:"recipes",className:"w-full",children:[o.jsxs(Ki,{className:"mb-4",children:[o.jsx(nn,{value:"recipes",children:"Recipes"}),o.jsx(nn,{value:"statistics",children:"Statistics"}),o.jsx(nn,{value:"meta",children:"Meta Analysis"})]}),o.jsx(yn,{value:"recipes",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["Recipes (",w.length,")"]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",w.length," of ",e.length," recipes"]})]}),u==="grid"&&o.jsx(p8,{recipes:w,variant:"default",columns:3,onRecipeClick:N,showEffects:!0,showIngredients:!0,getEffectComparisons:c}),u==="list"&&o.jsx(x8,{recipes:w,variant:"default",onRecipeClick:N,showEffects:!0,showIngredients:!0,getEffectComparisons:c})]})}),o.jsx(yn,{value:"statistics",children:o.jsx(v8,{statistics:r})}),o.jsx(yn,{value:"meta",children:o.jsx(b8,{recipes:e})})]})]})}function j8(){return o.jsx(Rs,{title:"Cookbook Reference",description:"Browse and search all available recipes. Find the perfect dish for your character's needs.",children:o.jsx(N8,{})})}var th,rm="HoverCard",[GC,kee]=on(rm,[Ji]),am=Ji(),[S8,v0]=GC(rm),ZC=e=>{const{__scopeHoverCard:t,children:n,open:s,defaultOpen:r,onOpenChange:a,openDelay:i=700,closeDelay:l=300}=e,c=am(t),u=g.useRef(0),d=g.useRef(0),f=g.useRef(!1),m=g.useRef(!1),[h,p]=Vn({prop:s,defaultProp:r??!1,onChange:a,caller:rm}),y=g.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>p(!0),i)},[i,p]),v=g.useCallback(()=>{clearTimeout(u.current),!f.current&&!m.current&&(d.current=window.setTimeout(()=>p(!1),l))},[l,p]),x=g.useCallback(()=>p(!1),[p]);return g.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),o.jsx(S8,{scope:t,open:h,onOpenChange:p,onOpen:y,onClose:v,onDismiss:x,hasSelectionRef:f,isPointerDownOnContentRef:m,children:o.jsx(XS,{...c,children:n})})};ZC.displayName=rm;var YC="HoverCardTrigger",XC=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,r=v0(YC,n),a=am(n);return o.jsx(qx,{asChild:!0,...a,children:o.jsx(xe.a,{"data-state":r.open?"open":"closed",...s,ref:t,onPointerEnter:te(e.onPointerEnter,Od(r.onOpen)),onPointerLeave:te(e.onPointerLeave,Od(r.onClose)),onFocus:te(e.onFocus,r.onOpen),onBlur:te(e.onBlur,r.onClose),onTouchStart:te(e.onTouchStart,i=>i.preventDefault())})})});XC.displayName=YC;var C8="HoverCardPortal",[Eee,k8]=GC(C8,{forceMount:void 0}),Pd="HoverCardContent",KC=g.forwardRef((e,t)=>{const n=k8(Pd,e.__scopeHoverCard),{forceMount:s=n.forceMount,...r}=e,a=v0(Pd,e.__scopeHoverCard);return o.jsx(Vt,{present:s||a.open,children:o.jsx(E8,{"data-state":a.open?"open":"closed",...r,onPointerEnter:te(e.onPointerEnter,Od(a.onOpen)),onPointerLeave:te(e.onPointerLeave,Od(a.onClose)),ref:t})})});KC.displayName=Pd;var E8=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:i,...l}=e,c=v0(Pd,n),u=am(n),d=g.useRef(null),f=$e(t,d),[m,h]=g.useState(!1);return g.useEffect(()=>{if(m){const p=document.body;return th=p.style.userSelect||p.style.webkitUserSelect,p.style.userSelect="none",p.style.webkitUserSelect="none",()=>{p.style.userSelect=th,p.style.webkitUserSelect=th}}},[m]),g.useEffect(()=>{if(d.current){const p=()=>{h(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var v;((v=document.getSelection())==null?void 0:v.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",p),()=>{document.removeEventListener("pointerup",p),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),g.useEffect(()=>{d.current&&T8(d.current).forEach(y=>y.setAttribute("tabindex","-1"))}),o.jsx($c,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:i,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:te(a,p=>{p.preventDefault()}),onDismiss:c.onDismiss,children:o.jsx(Gx,{...u,...l,onPointerDown:te(l.onPointerDown,p=>{p.currentTarget.contains(p.target)&&h(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...l.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),_8="HoverCardArrow",A8=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,r=am(n);return o.jsx(Zx,{...r,...s,ref:t})});A8.displayName=_8;function Od(e){return t=>t.pointerType==="touch"?void 0:e()}function T8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var M8=ZC,R8=XC,WC=KC;const QC=M8,JC=R8,b0=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},r)=>o.jsx(WC,{ref:r,align:t,sideOffset:n,className:U("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Ct.TOOLTIP},...s}));b0.displayName=WC.displayName;function D8({node:e,allNodes:t,children:n,showPrerequisites:s=!0,showNextNodes:r=!0,showTags:a=!0,className:i=""}){const l=u=>t.filter(d=>d.prerequisites.includes(u)),c=u=>t.filter(d=>e.prerequisites.includes(d.name));return o.jsxs(QC,{children:[o.jsx(JC,{asChild:!0,children:n}),o.jsx(b0,{className:`w-80 p-0 ${i}`,children:o.jsxs(Ne,{className:"border-0 shadow-none",children:[o.jsx(Le,{className:"pb-2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:"flex-1",children:o.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:e.name})}),e.icon&&o.jsx("div",{className:"w-8 h-8 ml-2",children:o.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-contain"})})]})}),o.jsxs(je,{className:"pt-0 space-y-3",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),s&&e.prerequisites.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[c(e.name).map(u=>o.jsx(K,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:u.name},u.id)),e.prerequisites.filter(u=>!t.some(d=>d.name===u)).map((u,d)=>o.jsx(K,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500 border-gray-200",children:u},`missing-${d}`))]})]}),r&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Leads to:"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[l(e.name).map(u=>o.jsx(K,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:u.name},u.id)),l(e.name).length===0&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"No further progression"})]})]}),a&&e.tags.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((u,d)=>o.jsx(K,{variant:"secondary",className:"text-xs",children:u},d))})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[o.jsxs("p",{children:["ID: ",e.id]}),e.globalFormId&&o.jsxs("p",{children:["Form ID: ",e.globalFormId]})]})]})]})})]})}function ek({node:e,allNodes:t,variant:n="default",size:s="md",showHoverCard:r=!0,onClick:a,className:i=""}){const l={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},c=o.jsx(K,{variant:n,className:`
        ${l[s]} 
        ${a?"cursor-pointer hover:bg-muted/50":""} 
        ${i}
        rounded-full
      `,onClick:a,children:e.name});return r?o.jsx(D8,{node:e,allNodes:t,children:c}):c}function tk({path:e,allNodes:t,onBreadcrumbClick:n,variant:s="default",className:r=""}){if(e.length===0)return o.jsx("div",{className:`flex items-center gap-2 ${r}`,children:o.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})});const a=s==="compact"?"sm":"md";return o.jsx("div",{className:`flex items-center gap-2 ${r}`,children:e.map((i,l)=>o.jsxs($.Fragment,{children:[o.jsx(ek,{node:i,allNodes:t,variant:l===e.length-1?"default":"outline",size:a,showHoverCard:!0,onClick:n?()=>n(l):void 0}),l<e.length-1&&o.jsx(Rc,{className:"w-4 h-4 text-muted-foreground"})]},i.id))})}function z8({path:e,allNodes:t,selectedPathLength:n,isComplete:s,endNode:r,onPathClick:a,variant:i="default",className:l=""}){const c=i==="compact"?"sm":"md";return o.jsxs("div",{className:`p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer ${l}`,onClick:()=>a(e,n),children:[o.jsx("div",{className:"flex items-center gap-2 mb-2",children:o.jsx("div",{className:"flex flex-wrap items-center gap-1",children:e.map((u,d)=>o.jsxs($.Fragment,{children:[o.jsx(ek,{node:u,allNodes:t,variant:"outline",size:c,showHoverCard:!0,onClick:f=>{f==null||f.stopPropagation(),a(e,d)},className:`
                   ${d===0&&n===0?"cursor-pointer":""}
                   ${s&&d===e.length-1?"bg-yellow-600 text-yellow-50 border-yellow-700":""}
                 `}),d<e.length-1&&o.jsx(Rc,{className:"w-3 h-3 text-muted-foreground"})]},u.id))})}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsxs("span",{children:["Length: ",e.length," steps"]}),s&&o.jsxs("span",{children:[" Ends at: ",r.name]}),e.length>n&&o.jsxs("span",{children:[" ",e.length-n," more choices"]})]})]})}function L8({path:e,className:t=""}){return e.length===0?o.jsxs("div",{className:`space-y-2 ${t}`,children:[o.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Selected Path"}),o.jsx("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:o.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})})]}):o.jsxs("div",{className:`space-y-2 ${t}`,children:[o.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Selected Path (",e.length," nodes)"]}),o.jsx("div",{className:"space-y-2",children:e.map((n,s)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium",children:s+1}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-sm",children:n.name}),n.description&&o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:n.description})]})]}),o.jsx(K,{variant:"secondary",className:s===e.length-1?"bg-yellow-600 text-yellow-50":"bg-blue-500",children:s===e.length-1?"Current":"Selected"})]},n.id))})]})}class fs{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.description=="string"&&Array.isArray(t.tags)&&Array.isArray(t.prerequisites)}static equals(t,n){return t.id===n.id}static hasTag(t,n){return t.tags.includes(n)}static hasAnyTag(t,n){return n.some(s=>this.hasTag(t,s))}static hasAllTags(t,n){return n.every(s=>this.hasTag(t,s))}static filterByTag(t,n){return t.filter(s=>this.hasTag(s,n))}static filterByAnyTag(t,n){return t.filter(s=>this.hasAnyTag(s,n))}static filterByAllTags(t,n){return t.filter(s=>this.hasAllTags(s,n))}static isRootNode(t){return t.prerequisites.length===0}static getRootNodes(t){return t.filter(n=>this.isRootNode(n))}static isLeafNode(t,n){return!n.some(s=>s.prerequisites.includes(t.edid))}static getLeafNodes(t){return t.filter(n=>this.isLeafNode(n,t))}static getNextNodes(t,n){return n.filter(s=>s.prerequisites.includes(t.edid))}static getPrerequisiteNodes(t,n){return n.filter(s=>t.prerequisites.includes(s.edid))}static search(t,n){const s=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s)||r.description.toLowerCase().includes(s)||r.tags.some(a=>a.toLowerCase().includes(s)))}static sortByName(t){return[...t].sort((n,s)=>n.name.localeCompare(s.name))}static sortByPrerequisites(t){return[...t].sort((n,s)=>n.prerequisites.length-s.prerequisites.length)}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static getUniquePrerequisites(t){const n=t.flatMap(s=>s.prerequisites);return[...new Set(n)].sort()}}function go(e={}){const{includePrerequisites:t=!1,includeNextNodes:n=!1,filterByTags:s=[],searchTerm:r="",sortBy:a="name"}=e,{data:i,loading:l,error:c,reload:u}=Q6(),d=i||[],f=c,m=g.useMemo(()=>fs.getRootNodes(d),[d]),h=g.useMemo(()=>[],[d]),p=g.useMemo(()=>fs.getUniqueTags(d),[d]),y=g.useMemo(()=>{let E=[...d];return s.length>0&&(E=fs.filterByAnyTag(E,s)),r&&(E=fs.search(E,r)),a==="name"?E=fs.sortByName(E):a==="prerequisites"&&(E=fs.sortByPrerequisites(E)),E},[d,s,r,a]),v=E=>d.find(_=>_.id===E),x=E=>d.find(_=>_.edid===E);return{nodes:d,rootNodes:m,filteredNodes:y,isLoading:l,error:f,categories:h,tags:p,refresh:()=>{u()},getNodeById:v,getNodeByName:E=>d.find(_=>_.name===E),getNodeByEdid:x,getNextNodes:E=>{const _=x(E);return _?fs.getNextNodes(_,d):[]},getPrerequisiteNodes:E=>{const _=x(E);return _?fs.getPrerequisiteNodes(_,d):[]},filterByCategory:E=>[],filterByTag:E=>fs.filterByTag(d,E),searchNodes:E=>fs.search(d,E)}}function om(e={}){const{fromNode:t,maxDepth:n=10}=e,{nodes:s,rootNodes:r,isLoading:a,error:i}=go();return{possiblePaths:g.useMemo(()=>{if(a||i||!s.length)return[];const c=[],u=new Set,d=m=>s.filter(h=>h.prerequisites.includes(m)),f=(m,h=0)=>{if(h>=n)return;const p=m[m.length-1],y=d(p.edid);if(y.length===0){c.push({path:[...m],isComplete:!0,endNode:p});return}y.forEach(v=>{const x=m.map(b=>b.id).join("->")+"->"+v.id;u.has(x)||(u.add(x),f([...m,v],h+1))})};if(t){if(d(t.edid).length===0)return[];f([t])}else r.forEach(m=>{f([m])});return c},[s,r,t,n,a,i]),isLoading:a,error:i}}function nk(e){const{filterType:t,currentPath:n=[]}=e,{nodes:s,rootNodes:r}=go(),[a,i]=g.useState([]),{possiblePaths:l}=om({fromNode:n.length>0?n[n.length-1]:void 0}),c=g.useMemo(()=>{if(t!=="build-path"||n.length===0)return s;const v=new Set,x=new Set,b=N=>{x.has(N)||(x.add(N),v.add(N),s.forEach(j=>{j.prerequisites.includes(N)&&b(j.edid)}))},w=n[n.length-1];return b(w.edid),s.filter(N=>v.has(N.edid))},[t,n,s,r]),u=g.useMemo(()=>{if(t==="build-path"){const v=new Set,x=new Set;l.forEach(N=>{N.path.forEach(j=>{v.add(j.edid)}),N.path.length>0&&x.add(N.path[N.path.length-1].edid)});const b=s.filter(N=>v.has(N.edid)),w=s.filter(N=>x.has(N.edid));return[{id:"includes-node",name:"Includes Node",placeholder:"Filter paths that include this node...",options:b.map(N=>{const j=l.filter(S=>S.path.some(C=>C.edid===N.edid)).length;return{id:`includes-${N.id}`,label:N.name,value:N.edid,category:"Includes Node",description:`${j} path${j!==1?"s":""} include ${N.name}`}})},{id:"ends-with-node",name:"Ends With Node",placeholder:"Filter paths that end with this node...",options:w.map(N=>{const j=l.filter(S=>S.path.length>0&&S.path[S.path.length-1].edid===N.edid).length;return{id:`ends-${N.id}`,label:N.name,value:N.edid,category:"Ends With Node",description:`${j} path${j!==1?"s":""} end with ${N.name}`}})}]}else{const v=[...new Set(s.flatMap(b=>b.tags))],x=[...new Set(s.flatMap(b=>b.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:v.map(b=>({id:`tag-${b}`,label:b,value:b,category:"Tags",description:`Nodes with ${b} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Filter by prerequisite...",options:x.map(b=>{const w=s.find(N=>N.edid===b);return{id:`prereq-${b}`,label:w?w.name:b,value:b,category:"Prerequisites",description:`Nodes requiring ${w?w.name:b}`}})}]}},[t,c,s,l]),d=g.useCallback(v=>{i(x=>x.some(w=>w.type===v.type&&w.nodeName===v.nodeName)?x:[...x,v])},[]),f=g.useCallback(v=>{i(x=>x.filter(b=>b.id!==v))},[]),m=g.useCallback(()=>{i([])},[]),h=g.useCallback(()=>u.flatMap(v=>v.options),[u]),p=g.useCallback(v=>c.some(x=>x.id===v.id),[c]),y=g.useMemo(()=>t!=="build-path"||a.length===0?l.map(v=>v.path):l.map(v=>v.path).filter(v=>a.every(x=>{switch(x.type){case"includes-node":return v.some(b=>b.edid===x.nodeName||b.edid===x.nodeId);case"ends-with-node":return v.length>0&&(v[v.length-1].edid===x.nodeName||v[v.length-1].edid===x.nodeId);default:return!0}})),[t,a,l]);return{selectedFilters:a,searchCategories:u,addFilter:d,removeFilter:f,clearFilters:m,filteredPaths:y,availableNodes:c,getFilterOptions:h,isNodeAvailable:p}}function w0(e={}){const{initialPath:t=[],validatePath:n=!0}=e,[s,r]=g.useState(t),{nodes:a,rootNodes:i}=go(),l=g.useMemo(()=>s.length>0?s[s.length-1]:null,[s]),c=g.useMemo(()=>s.length===0?i:a.filter(w=>w.prerequisites.length===0?!1:w.prerequisites.some(N=>s.some(j=>j.edid===N))),[s,a,i]),u=g.useMemo(()=>l?a.filter(w=>w.prerequisites.includes(l.edid)):i,[l,a,i]),d=g.useMemo(()=>l?a.filter(w=>l.prerequisites.includes(w.edid)):[],[l,a]),{isValidPath:f,pathErrors:m}=g.useMemo(()=>{if(!n||s.length===0)return{isValidPath:!0,pathErrors:[]};const w=[];for(let N=1;N<s.length;N++){const j=s[N],S=s.slice(0,N);!j.prerequisites.some(k=>S.some(E=>E.edid===k))&&j.prerequisites.length>0&&w.push(`${j.name} requires one of: ${j.prerequisites.join(", ")}`)}return{isValidPath:w.length===0,pathErrors:w}},[s,n]),h=g.useCallback(w=>{if(s.length>0){if(s[s.length-1],!w.prerequisites.some(j=>s.some(S=>S.edid===j))&&w.prerequisites.length>0)return!1}else if(w.prerequisites.length>0)return!1;return r(N=>[...N,w]),!0},[s]),p=g.useCallback(w=>{r(N=>N.slice(0,w+1))},[]),y=g.useCallback(w=>{r(w)},[]),v=g.useCallback(()=>{r([])},[]),x=g.useCallback(w=>{r(N=>N.slice(0,w+1))},[]),b=g.useCallback(()=>({startNode:s[0]||null,endNode:s[s.length-1]||null,totalNodes:s.length,pathString:s.map(w=>w.name).join("  ")}),[s]);return{currentPath:s,currentNode:l,availableNodes:c,rootNodes:i,isValidPath:f,pathErrors:m,addNodeToPath:h,removeNodeFromPath:p,setPath:y,clearPath:v,goToPathIndex:x,pathLength:s.length,isPathComplete:u.length===0,nextPossibleNodes:u,prerequisiteNodes:d,getPathSummary:b}}function sk({searchCategories:e,selectedFilters:t,onFilterSelect:n,onFilterRemove:s,onClearFilters:r,className:a=""}){const i=e.find(d=>d.id==="includes-node"),l=e.find(d=>d.id==="ends-with-node"),c=e.find(d=>d.id==="tags"),u=e.find(d=>d.id==="prerequisites");return o.jsxs("div",{className:`space-y-4 ${a}`,children:[o.jsxs("div",{className:"flex flex-wrap gap-4",children:[i&&o.jsxs("div",{className:"space-y-2 max-w-sm",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Includes"}),o.jsx(Da,{categories:[i],onSelect:n,placeholder:i.placeholder,className:"w-full"})]}),l&&o.jsxs("div",{className:"space-y-2 max-w-sm",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Ends With"}),o.jsx(Da,{categories:[l],onSelect:n,placeholder:l.placeholder,className:"w-full"})]}),c&&o.jsxs("div",{className:"space-y-2 max-w-sm",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Tags"}),o.jsx(Da,{categories:[c],onSelect:n,placeholder:c.placeholder,className:"w-full"})]}),u&&o.jsxs("div",{className:"space-y-2 max-w-sm",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Prerequisites"}),o.jsx(Da,{categories:[u],onSelect:n,placeholder:u.placeholder,className:"w-full"})]})]}),t.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Active Filters"}),o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsxs("button",{onClick:r,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[o.jsx(Ft,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),t.map(d=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>s(d.id),title:"Click to remove",children:[o.jsx("span",{className:"text-xs opacity-70 mr-1",children:d.type==="includes-node"?"Includes:":d.type==="ends-with-node"?"Ends:":d.type==="tags"?"Tag:":"Prereq:"}),d.label,o.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},d.id))]})]})]})}function Pg({possiblePaths:e,selectedPathLength:t,onPathClick:n,variant:s="default",className:r=""}){const{nodes:a}=go();return e.length===0?o.jsxs("div",{className:`text-center py-8 ${r}`,children:[o.jsx("p",{className:"text-muted-foreground",children:"No possible paths available."}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You may have reached the end of available destiny paths."})]}):o.jsx("div",{className:`space-y-3 ${r}`,children:e.map((i,l)=>o.jsx(z8,{path:i.path,allNodes:a,selectedPathLength:t,isComplete:i.isComplete,endNode:i.endNode,onPathClick:n,variant:s},l))})}function $8({onPathChange:e,onPathComplete:t,className:n="",compact:s=!1}){var k,E;const{currentPath:r,currentNode:a,isValidPath:i,pathErrors:l,setPath:c,clearPath:u,goToPathIndex:d,isPathComplete:f,getPathSummary:m}=w0(),{possiblePaths:h}=om({fromNode:a||void 0}),{nodes:p}=go(),y=nk({filterType:"build-path",currentPath:r}),v=y.selectedFilters.length>0?y.filteredPaths:h.map(_=>_.path),x=_=>{if(typeof _=="string")return;let P,O;if(_.category==="Includes Node")P="includes-node",O=_.id.replace(/^includes-/,"");else if(_.category==="Ends With Node")P="ends-with-node",O=_.id.replace(/^ends-/,"");else return;const L={id:_.id,type:P,nodeName:_.value,nodeId:O,label:_.label};y.addFilter(L)},b=_=>{y.removeFilter(_)},w=()=>{y.clearFilters()},N=(_,P)=>{let O;if(r.length===0)O=_.slice(0,P+1);else{if(P===0)return;const L=_.slice(1,P+1);O=[...r,...L]}c(O),e==null||e(O),f&&(t==null||t(O))},j=_=>{d(_),e==null||e(r)},S=()=>{u(),e==null||e([])},C=m();return s?o.jsxs("div",{className:`space-y-4 ${n}`,children:[o.jsx(L8,{path:r}),r.length>0&&o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{variant:"outline",size:"sm",onClick:S,className:"text-xs",children:[o.jsx(xi,{className:"w-3 h-3 mr-1"}),"Clear Path"]})}),v.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Possible Remaining Paths"}),o.jsx(Ni,{className:"h-[200px]",children:o.jsx("div",{className:"p-4",children:o.jsx(Pg,{possiblePaths:v.map(_=>({path:_,isComplete:!1,endNode:_[_.length-1]})),selectedPathLength:r.length,onPathClick:N,variant:"compact"})})})]}),!i&&l.length>0&&o.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(gi,{className:"w-3 h-3"}),o.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),o.jsx("ul",{className:"space-y-0.5",children:l.map((_,P)=>o.jsxs("li",{children:[" ",_]},P))})]})]}):o.jsxs("div",{className:`space-y-6 ${n}`,children:[o.jsxs(Ne,{children:[o.jsx(Le,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(ug,{className:"w-5 h-5 text-primary"}),"Destiny Path Builder"]}),o.jsx("div",{className:"flex items-center gap-2",children:r.length>0&&o.jsxs(W,{variant:"outline",size:"sm",onClick:S,className:"flex items-center gap-1",children:[o.jsx(xi,{className:"w-4 h-4"}),"Clear Path"]})})]})}),o.jsxs(je,{children:[o.jsx(tk,{path:r,allNodes:p,onBreadcrumbClick:j,className:"mb-4"}),r.length>0&&o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("span",{children:["Path Length: ",r.length]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Start: ",(k=C.startNode)==null?void 0:k.name]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Current: ",(E=C.endNode)==null?void 0:E.name]}),f&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx(K,{variant:"default",className:"text-xs",children:"Complete"})]})]}),!i&&l.length>0&&o.jsxs("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[o.jsx(gi,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Path Validation Errors:"})]}),o.jsx("ul",{className:"text-sm space-y-1",children:l.map((_,P)=>o.jsxs("li",{className:"text-destructive",children:[" ",_]},P))})]})]})]}),r.length>0&&o.jsxs(Ne,{children:[o.jsx(Le,{children:o.jsx(Ge,{className:"text-lg",children:"Current Path"})}),o.jsx(je,{children:o.jsx("div",{className:"space-y-2",children:r.map((_,P)=>o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[o.jsx(K,{variant:"outline",className:"text-xs",children:P+1}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium",children:_.name}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:_.description})]})]},_.id))})})]}),o.jsxs(Ne,{children:[o.jsxs(Le,{children:[o.jsx(Ge,{className:"text-lg",children:r.length===0?"Choose Your Starting Point":"Possible Paths"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r.length===0?"Select a root destiny node to begin your path":v.length===0?y.selectedFilters.length>0?"No paths match your current filters":"You have reached the end of this destiny path":y.selectedFilters.length>0?`Showing ${v.length} filtered paths from your current position`:`Explore ${v.length} possible paths from your current position`})]}),o.jsxs(je,{className:"h-[600px] p-0",children:[o.jsx("div",{className:"p-6 pb-6",children:o.jsx(sk,{searchCategories:y.searchCategories,selectedFilters:y.selectedFilters,onFilterSelect:x,onFilterRemove:b,onClearFilters:w})}),v.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[y.selectedFilters.length>0?o.jsx(L4,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}):o.jsx(ug,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:y.selectedFilters.length>0?"No paths match your filters":"Path Complete!"}),o.jsx("p",{className:"text-sm",children:y.selectedFilters.length>0?"Try adjusting your filters to see more paths.":"You've reached the end of this destiny path."})]}):o.jsx(Ni,{className:"h-[calc(600px-200px)]",children:o.jsx("div",{className:"p-6 pt-4",children:o.jsx(Pg,{possiblePaths:v.map(_=>({path:_,isComplete:!1,endNode:_[_.length-1]})),selectedPathLength:r.length,onPathClick:N})})})]})]})]})}function P8({item:e,originalNode:t,allNodes:n}){const s=r=>n.filter(a=>a.prerequisites.includes(r)).map(a=>a.name);return o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((r,a)=>o.jsx(K,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},a))})]}),t&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[s(t.name).map((r,a)=>o.jsx(K,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:r},a)),s(t.name).length===0&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,a)=>o.jsx(K,{variant:"secondary",className:"text-xs",children:r},a))})]})]})}function O8({items:e,allNodes:t}){return o.jsx(Ni,{className:"h-[calc(100vh-500px)]",children:o.jsx(h0,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>o.jsxs(Qf,{value:n.id,children:[o.jsx(Jf,{className:"text-left hover:no-underline",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),o.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),o.jsx(em,{children:o.jsx(P8,{item:n,originalNode:t.find(s=>s.id===n.id),allNodes:t})})]},n.id))})})}const B8=({navigate:e})=>{const{build:t,setDestinyPath:n}=vt(),{nodes:s,isLoading:r,error:a}=go(),i=$.useMemo(()=>t.destinyPath.map(b=>s.find(w=>w.id===b)).filter(b=>!!b),[t.destinyPath,s]),{isValidPath:l,pathErrors:c,setPath:u,clearPath:d,currentPath:f,currentNode:m}=w0({initialPath:i,validatePath:!0}),{possiblePaths:h}=om({fromNode:m||void 0}),p=b=>{const w=b.map(N=>N.id);n(w)},y=(b,w)=>{let N;if(f.length===0)N=b.slice(0,w+1);else{if(w===0)return;const j=b.slice(1,w+1);N=[...f,...j]}u(N),p(N)},v=()=>{d(),n([])},x=b=>{const w=f.slice(0,b+1);u(w),p(w)};return o.jsxs(Ne,{className:"mb-6",children:[o.jsx(Le,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(Ge,{className:"text-lg",children:"Destiny"}),o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:[o.jsx(pi,{className:"w-4 h-4 mr-1"}),"View All"]})]})}),o.jsx(je,{children:r?o.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):a?o.jsx("div",{className:"text-destructive",children:a}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Selected Path"}),o.jsx(tk,{path:f,allNodes:s,variant:"compact",onBreadcrumbClick:x})]}),f.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Path Details (",f.length," nodes)"]}),o.jsxs(W,{variant:"outline",size:"sm",onClick:v,className:"text-xs",children:[o.jsx(xi,{className:"w-3 h-3 mr-1"}),"Clear Path"]})]}),o.jsx("div",{className:"space-y-2",children:f.map((b,w)=>o.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium flex-shrink-0",children:w+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h5",{className:"font-medium text-sm text-foreground",children:b.name}),b.description&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:b.description})]})]})},b.id))})]}),h.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:f.length===0?"Choose Your Starting Point":"Continue Your Path"}),o.jsx(Ni,{className:"h-[200px]",children:o.jsx("div",{className:"p-2",children:o.jsx(Pg,{possiblePaths:h,selectedPathLength:f.length,onPathClick:y,variant:"compact"})})})]}),!l&&c.length>0&&o.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(gi,{className:"w-3 h-3"}),o.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),o.jsx("ul",{className:"space-y-0.5",children:c.map((b,w)=>o.jsxs("li",{children:[" ",b]},w))})]}),f.length===0&&h.length===0&&o.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[o.jsx("p",{className:"text-sm",children:"No destiny paths available"}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"mt-2",children:"Browse All Destinies"})]})]})})]})};function I8({items:e,filters:t=[]}){const[n,s]=g.useState(null),[r,a]=g.useState("grid"),[i,l]=g.useState({search:"",selectedFilters:{},selectedTags:[]}),c=g.useMemo(()=>{let p=e;if(i.search){const y=i.search.toLowerCase();p=p.filter(v=>v.name.toLowerCase().includes(y)||v.description.toLowerCase().includes(y)||v.tags.some(x=>x.toLowerCase().includes(y)))}return i.selectedTags.length>0&&(p=p.filter(y=>i.selectedTags.some(v=>y.tags.includes(v.value)||y.category===v.value||y.name.toLowerCase().includes(v.value.toLowerCase())))),p},[e,i]),u=g.useMemo(()=>t.length===0?[]:t.map(p=>({...p,options:p.options.map(y=>({...y,count:e.filter(v=>v.tags.includes(y.value)||v.category===y.value).length}))})),[t,e]),d=g.useCallback(p=>{s(p)},[]),f=g.useCallback(p=>{l(p)},[]),m=g.useCallback(p=>{l(y=>({...y,search:p}))},[]),h=g.useCallback(p=>{a(p)},[]);return{selectedItem:n,viewMode:r,currentFilters:i,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:f,handleSearch:m,handleViewModeChange:h,setSelectedItem:s}}function H8(){const{nodes:e,isLoading:t,error:n}=go(),{currentPath:s,setPath:r}=w0({validatePath:!0});om({fromNode:s.length>0?s[s.length-1]:void 0});const a=nk({filterType:"reference"}),l=g.useMemo(()=>a.selectedFilters.length===0?e:e.filter(h=>a.selectedFilters.every(p=>{var y,v;switch(p.type){case"tags":return(y=h.tags)==null?void 0:y.includes(p.nodeName);case"prerequisites":return(v=h.prerequisites)==null?void 0:v.includes(p.nodeName);default:return!0}})),[e,a.selectedFilters]).map(h=>r8(h));I8({items:l,filters:[]});const c=h=>{if(typeof h=="string")return;let p,y;if(h.category==="Tags")p="tags",y=h.id.replace(/^tag-/,"");else if(h.category==="Prerequisites")p="prerequisites",y=h.id.replace(/^prereq-/,"");else return;const v={id:h.id,type:p,nodeName:h.value,nodeId:y,label:h.label};a.addFilter(v)},u=h=>{a.removeFilter(h)},d=()=>{a.clearFilters()},f=h=>{r(h)},m=h=>{r(h)};return t?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-destructive mb-4",children:n}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):o.jsx(Rs,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:o.jsx("div",{className:"mb-6",children:o.jsxs(Xi,{defaultValue:"path",className:"w-full",children:[o.jsxs(Ki,{className:"grid w-full grid-cols-2",children:[o.jsx(nn,{value:"path",children:"Path Builder"}),o.jsx(nn,{value:"reference",children:"Reference"})]}),o.jsxs(yn,{value:"reference",className:"space-y-4",children:[o.jsx(sk,{searchCategories:a.searchCategories,selectedFilters:a.selectedFilters,onFilterSelect:c,onFilterRemove:u,onClearFilters:d}),o.jsx("div",{className:"w-full",children:o.jsx(O8,{items:l,allNodes:e})})]}),o.jsx(yn,{value:"path",className:"space-y-4",children:o.jsx($8,{onPathChange:f,onPathComplete:m})})]})})})}class ut{static getRaceById(t,n){return t.find(s=>s.edid===n)}static getRacesByCategory(t,n){return t.filter(s=>s.category===n)}static getUniqueCategories(t){return[...new Set(t.map(n=>n.category))]}static getUniqueTags(t){const n=t.flatMap(s=>[...s.keywords||[],...s.flags||[]]);return[...new Set(n)]}static filterByCategory(t,n){return n?t.filter(s=>s.category===n):t}static filterByTags(t,n){return n.length===0?t:t.filter(s=>n.some(r=>(s.keywords||[]).includes(r)||(s.flags||[]).includes(r)))}static filterByAnyTag(t,n){return n.length===0?t:t.filter(s=>n.some(r=>(s.keywords||[]).includes(r)||(s.flags||[]).includes(r)))}static search(t,n){if(!n.trim())return t;const s=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s)||(r.description||"").toLowerCase().includes(s)||(r.keywords||[]).some(a=>a.toLowerCase().includes(s))||(r.flags||[]).some(a=>a.toLowerCase().includes(s)))}static sortByName(t){return[...t].sort((n,s)=>n.name.localeCompare(s.name))}static sortByCategory(t){return[...t].sort((n,s)=>{const r=n.category.localeCompare(s.category);return r!==0?r:n.name.localeCompare(s.name)})}static transformToPlayerCreationItem(t){const n=[...t.keywords||[],...t.flags||[],t.category],s=[...(t.skillBonuses||[]).map(r=>({name:`${r.skill} +${r.bonus}`,type:"positive",description:`Provides ${r.bonus} bonus to ${r.skill}`,value:r.bonus,target:r.skill})),...(t.racialSpells||[]).map(r=>({name:r.name,type:"positive",description:r.description,target:"racial ability"}))];return{id:t.edid,name:t.name,description:t.description||"",tags:n,effects:s,associatedItems:[],imageUrl:void 0,category:t.category||""}}static getRelatedRaces(t,n){return n.filter(s=>s.edid!==t.edid&&s.category===t.category)}static calculateRaceStats(t){var n,s,r,a,i,l;return{totalHealth:((n=t.startingStats)==null?void 0:n.health)||0,totalMagicka:((s=t.startingStats)==null?void 0:s.magicka)||0,totalStamina:((r=t.startingStats)==null?void 0:r.stamina)||0,totalCarryWeight:((a=t.startingStats)==null?void 0:a.carryWeight)||0,skillBonusCount:((i=t.skillBonuses)==null?void 0:i.length)||0,racialSpellCount:((l=t.racialSpells)==null?void 0:l.length)||0}}static applyFilters(t,n){let s=[...t];return n.search&&(s=this.search(s,n.search)),n.type&&(s=this.filterByCategory(s,n.type)),n.tags.length>0&&(s=this.filterByTags(s,n.tags)),s}}class U8{static enrichRacesWithTags(t){t.forEach(n=>{})}static generateSearchCategories(t){const n=[...new Set(t.map(a=>a.category))],s=[...new Set(t.flatMap(a=>a.keywords.map(i=>i.edid)))],r=[...new Set(t.flatMap(a=>a.flags))];return[{id:"category",name:"Race Type",options:n},{id:"keywords",name:"Keywords",options:s},{id:"flags",name:"Flags",options:r}]}static validateRaceData(t){try{return!(!t.name||!t.edid||!t.category||!t.startingStats||typeof t.startingStats.health!="number"||typeof t.startingStats.magicka!="number"||typeof t.startingStats.stamina!="number"||typeof t.startingStats.carryWeight!="number"||!Array.isArray(t.skillBonuses)||!Array.isArray(t.racialSpells)||!Array.isArray(t.keywords)||!Array.isArray(t.flags))}catch{return!1}}static calculateRaceStats(t){const n=t.startingStats.health,s=t.startingStats.magicka,r=t.startingStats.stamina,a=t.startingStats.carryWeight,i=t.skillBonuses.length,l=t.racialSpells.length;return{totalHealth:n,totalMagicka:s,totalStamina:r,totalCarryWeight:a,skillBonusCount:i,racialSpellCount:l}}static calculatePowerLevel(t){const n=this.calculateRaceStats(t),s=(n.totalHealth+n.totalMagicka+n.totalStamina)/3,r=n.skillBonusCount*5+n.racialSpellCount*10;return Math.round(s+r)}static getDifficultyRating(t){const n=this.calculatePowerLevel(t);return n<50?1:n<70?2:n<90?3:n<110?4:5}static getPlaystyleSuggestions(t){const n=[],s=t.startingStats;return s.health>120&&(n.push("Tank"),n.push("Melee Fighter")),s.magicka>120&&(n.push("Mage"),n.push("Spellcaster")),s.stamina>120&&(n.push("Archer"),n.push("Rogue")),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("onehanded"))&&n.push("One-Handed Warrior"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("destruction"))&&n.push("Destruction Mage"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("sneak"))&&n.push("Stealth"),[...new Set(n)]}static formatRaceDescription(t){const n=this.calculateRaceStats(t),s=this.getPlaystyleSuggestions(t);let r=t.description;return s.length>0&&(r+=`

Recommended playstyles: ${s.join(", ")}`),r+=`

Starting Stats: Health ${n.totalHealth}, Magicka ${n.totalMagicka}, Stamina ${n.totalStamina}`,r+=`
Abilities: ${n.skillBonusCount} skill bonuses, ${n.racialSpellCount} racial spells`,r}}function nl(e={}){const{includeRelated:t=!1,categoryFilter:n="",searchTerm:s="",sortBy:r="name"}=e,{data:a,loading:i,error:l}=ua(),c=g.useMemo(()=>ut.getUniqueCategories(a),[a]),u=g.useMemo(()=>ut.getUniqueTags(a),[a]),d=g.useMemo(()=>a.filter(b=>!(n&&b.category!==n||s&&ut.search([b],s).length===0)),[a,n,s]),f=g.useMemo(()=>r==="name"?ut.sortByName(d):ut.sortByCategory(d),[d,r]);return{races:a,filteredRaces:f,isLoading:i,error:l,categories:c,tags:u,refresh:async()=>{await ua.getState().load()},getRaceById:b=>ut.getRaceById(a,b),getRacesByCategory:b=>ut.getRacesByCategory(a,b),filterByCategory:b=>ut.filterByCategory(a,b),filterByTag:b=>ut.filterByTags(a,[b]),searchRaces:b=>ut.search(a,b)}}function Dn({raceName:e,size:t="md",className:n}){return o.jsx(RC,{entityName:e,entityType:"race",size:t,className:n})}function Gr({category:e,size:t="md",className:n}){return o.jsx(rB,{category:e,categoryType:"race",size:t,className:n})}const F8={ability:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-200"},trait:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},flag:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"},skill:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"}},V8={sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1"};function q8(e){const t=e.toLowerCase();return["destruction","restoration","alteration","illusion","conjuration","light armor","heavy armor","one-handed","two-handed","archery","block","smithing","enchanting","alchemy","speechcraft","sneak","lockpicking","pickpocket"].some(n=>t.includes(n))?"skill":["waterbreathing","night eye","claws","histskin","dragonskin","magic resistance","voice of the emperor","battle cry"].some(n=>t.includes(n))?"ability":["strong stomach","beast race","bleeds","natural"].some(n=>t.includes(n))?"trait":"flag"}function hs({keyword:e,type:t,size:n="sm",className:s}){const r=t||q8(e),a=F8[r];return o.jsx(K,{variant:"outline",className:U(a.bg,a.text,a.border,V8[n],"font-medium",s),children:e})}const G8={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",purple:"bg-purple-500",orange:"bg-orange-500"},Z8={sm:"h-1.5",md:"h-2",lg:"h-3"};function Ws({value:e,maxValue:t,label:n,color:s="blue",size:r="md",showValue:a=!0,className:i}){const l=Math.min(e/t*100,100);return o.jsxs("div",{className:U("space-y-1",i),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:n}),a&&o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})]}),o.jsx("div",{className:"w-full bg-muted rounded-full overflow-hidden",children:o.jsx("div",{className:U("transition-all duration-300 ease-out",G8[s],Z8[r]),style:{width:`${l}%`}})})]})}function Si({effects:e,title:t="Effects",className:n,maxDisplay:s,compact:r=!1,showDescriptions:a=!0}){if(!e||e.length===0)return null;const i=s?e.slice(0,s):e,l=s&&e.length>s;return o.jsxs("div",{className:U("space-y-3",n),children:[t&&o.jsx(Qn,{className:"text-lg font-medium text-foreground",children:t}),r?o.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.map((c,u)=>o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:c.description,children:[o.jsx(Pt,{className:"h-3 w-3 text-yellow-500"}),o.jsx("span",{className:"font-medium",children:c.name})]},u)),l&&o.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded text-xs text-muted-foreground",children:["+",e.length-s," more"]})]}):o.jsxs("div",{className:"space-y-3",children:[i.map((c,u)=>o.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-muted",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Pt,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h6",{className:"font-medium text-sm",children:c.name}),a&&c.description&&o.jsx(Fe,{className:"text-xs text-muted-foreground mt-1 leading-relaxed",children:c.description})]})]})},u)),l&&o.jsxs("div",{className:"text-center text-xs text-muted-foreground py-2",children:["+",e.length-s," more effects"]})]})]})}function Uc({stats:e,regeneration:t,title:n="Stats",className:s,showRegeneration:r=!0,compact:a=!1}){return o.jsxs("div",{className:U("space-y-3",s),children:[o.jsx(Qn,{className:"text-lg font-medium text-foreground",children:n}),a&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Health"}),o.jsx("span",{className:"font-medium",children:e.health})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka"}),o.jsx("span",{className:"font-medium",children:e.magicka})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina"}),o.jsx("span",{className:"font-medium",children:e.stamina})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight"}),o.jsx("span",{className:"font-medium",children:e.carryWeight})]})]}),r&&t&&o.jsxs("div",{className:"space-y-2 mt-3",children:[o.jsx(Qn,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:"Health"}),o.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:"Magicka"}),o.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:"Stamina"}),o.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]}),!a&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ws,{value:e.health,maxValue:200,label:"Health",color:"red",size:"sm"}),o.jsx(Ws,{value:e.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),o.jsx(Ws,{value:e.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),r&&t&&o.jsxs("div",{className:"space-y-2 mt-3",children:[o.jsx(Qn,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:"Health"}),o.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:"Magicka"}),o.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:"Stamina"}),o.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]})]})}function Fc({item:e,className:t,showToggle:n=!0,isExpanded:s=!1,onToggle:r,disableHover:a=!1}){const i=e.originalRace;return o.jsxs(ce,{className:t,expanded:s,onToggle:r,disableHover:a,children:[o.jsx(ce.Header,{children:o.jsxs("div",{className:"flex items-start justify-between w-full",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Dn,{raceName:e.name,size:"2xl"}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(pt,{className:"text-primary font-semibold",children:e.name}),e.category&&o.jsx(K,{variant:"outline",className:U("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category})]})]}),o.jsx("div",{className:"flex items-center gap-3",children:n&&o.jsx(lo,{itemId:(i==null?void 0:i.edid)||e.id,itemType:"race",itemName:e.name})})]})}),o.jsx(ce.Summary,{children:o.jsx("div",{className:"line-clamp-2",children:o.jsx(Fe,{className:"text-sm text-muted-foreground",children:e.summary||e.description})})}),o.jsxs(ce.Details,{children:[o.jsx("div",{children:o.jsx(Fe,{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),(i==null?void 0:i.startingStats)&&o.jsx(Uc,{stats:i.startingStats,regeneration:i.regeneration,title:"Starting Attributes",showRegeneration:!1,compact:!1}),(i==null?void 0:i.skillBonuses)&&i.skillBonuses.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Skills"}),o.jsx("div",{className:"space-y-2",children:i.skillBonuses.map((l,c)=>o.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[o.jsxs("span",{className:"font-medium",children:[l.skill," +",l.bonus]}),o.jsx(K,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},c))})]}),(i==null?void 0:i.racialSpells)&&i.racialSpells.length>0&&o.jsx(Si,{effects:i.racialSpells.map(l=>({name:l.name,description:l.description})),title:"Quirks",showDescriptions:!0})]})]})}function rk(e,t){const n=g.useMemo(()=>e.map(l=>({id:l.edid.toLowerCase().replace("race",""),name:l.name,description:l.description,category:l.category,abilities:l.racialSpells.map(c=>c.name),skills:l.skillBonuses.map(c=>c.skill),keywords:l.keywords.map(c=>c.edid),originalRace:l})),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Zt(n,s),[n,s]),a=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredRaces:g.useMemo(()=>a.map(l=>l.item.originalRace),[a]),searchResults:a,searchableRaces:n}}function Ci({races:e,onSelect:t,placeholder:n="Search races...",className:s=""}){const[r,a]=g.useState(""),{filteredRaces:i}=rk(e,r),l=g.useMemo(()=>i.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.category,icon:o.jsx(Dn,{raceName:d.name,size:"sm"}),badge:d.category&&o.jsx(K,{variant:"outline",className:U("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.category}),metadata:{originalRace:d}})),[i]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>o.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&o.jsx("div",{className:"flex-shrink-0",children:d.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:d.label}),d.badge&&o.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:d.description})]})]});return o.jsx(Hc,{options:l,onSelect:c,placeholder:n,className:s,renderOption:u,emptyMessage:"No races found",searchQuery:r,onSearchQueryChange:a})}function im({keywords:e,title:t="Keywords",className:n,maxDisplay:s,showCount:r=!0}){if(!e||e.length===0)return null;const a=s?e.slice(0,s):e,i=s&&e.length>s;return o.jsxs("div",{className:U("space-y-3",n),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[t&&o.jsx(Qn,{className:"text-lg font-medium text-foreground",children:t}),r&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length," keyword",e.length!==1?"s":""]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.map((l,c)=>o.jsx(hs,{keyword:l,size:"sm"},c)),i&&o.jsxs("span",{className:"text-xs text-muted-foreground px-2 py-1",children:["+",e.length-s," more"]})]})]})}function ak({item:e,originalRace:t,isExpanded:n=!1,onToggle:s,className:r,showViewAllButton:a=!1,showToggle:i=!0,viewAllButtonText:l="View All",viewAllButtonRoute:c="/race"}){const u=yt(),d=()=>{u(c)},f=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Race",m=(e==null?void 0:e.description)||(t==null?void 0:t.description)||"",h=(e==null?void 0:e.category)||(t==null?void 0:t.category)||"",p=(e==null?void 0:e.effects)||[],y=(e==null?void 0:e.summary)||(t==null?void 0:t.description)||"";return o.jsxs(DC,{isExpanded:n,onToggle:s||(()=>{}),className:r,children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Dn,{raceName:f,size:"2xl"}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(pt,{className:"text-primary font-semibold",children:f}),h&&o.jsx(Gr,{category:h,size:"sm"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[p&&p.length>0&&o.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pt,{className:"h-3 w-3 text-yellow-500"}),o.jsxs("span",{children:[p.length," effects"]})]})}),a&&o.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"text-xs",children:[o.jsx(pi,{className:"h-3 w-3 mr-1"}),l]}),i&&o.jsx(lo,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"race",itemName:f})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"line-clamp-2",children:o.jsx(Fe,{className:"text-sm text-muted-foreground",children:y})}),o.jsx(Si,{effects:p,maxDisplay:2,compact:!0})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(Fe,{className:"text-sm text-muted-foreground leading-relaxed",children:m})}),(t==null?void 0:t.startingStats)&&o.jsx(Uc,{stats:t.startingStats,regeneration:t.regeneration,title:"Starting Stats"}),(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&o.jsx(Si,{effects:t.racialSpells.map(v=>({name:v.name,description:v.description})),title:"Racial Abilities"}),(t==null?void 0:t.keywords)&&t.keywords.length>0&&o.jsx(im,{keywords:t.keywords.map(v=>v.edid),title:"Keywords"})]})]})}function mb({item:e,originalRace:t,className:n,onClick:s,showViewAllButton:r=!1,showToggle:a=!0,viewAllButtonText:i="View All",viewAllButtonRoute:l="/race"}){const c=yt(),u=m=>{m.stopPropagation(),c(l)},d=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Race";e!=null&&e.description||t!=null&&t.description;const f=(e==null?void 0:e.category)||(t==null?void 0:t.category)||"";return e!=null&&e.effects,e!=null&&e.summary||t!=null&&t.description,o.jsxs("div",{className:U("p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",n),onClick:s,children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Dn,{raceName:d,size:"2xl"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(pt,{className:"text-primary font-semibold truncate",children:d}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f&&o.jsx(Gr,{category:f,size:"sm"}),(t==null?void 0:t.startingStats)&&o.jsxs("div",{className:"flex gap-1",children:[o.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500/20 text-red-700 dark:text-red-400 rounded-full text-xs font-medium whitespace-nowrap",children:[" ",t.startingStats.health]}),o.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-blue-500/20 text-blue-700 dark:text-blue-400 rounded-full text-xs font-medium whitespace-nowrap",children:[" ",t.startingStats.magicka]}),o.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-green-500/20 text-green-700 dark:text-green-400 rounded-full text-xs font-medium whitespace-nowrap",children:[" ",t.startingStats.stamina]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pt,{className:"h-3 w-3 text-yellow-500"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.racialSpells.length," effects"]})]}),a&&o.jsx("div",{onClick:m=>m.stopPropagation(),children:o.jsx(lo,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"race",itemName:d})})]})]}),o.jsxs("div",{className:"space-y-2",children:[(t==null?void 0:t.skillBonuses)&&t.skillBonuses.length>0&&o.jsx("div",{className:"grid grid-cols-3 gap-1 justify-items-center",children:t.skillBonuses.map((m,h)=>o.jsxs("div",{className:"px-2 py-1 bg-muted/50 text-muted-foreground rounded text-xs font-medium text-left w-full",children:[m.skill," +",m.bonus]},h))}),(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2",children:t.racialSpells.map((m,h)=>o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[o.jsx(Pt,{className:"h-3 w-3"}),m.name]},h))})]})]})]}),r&&o.jsxs(W,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:u,children:[o.jsx(pi,{className:"h-4 w-4 mr-2"}),i]})]})}function Y8({race:e,isOpen:t,onOpenChange:n}){return e?o.jsx(Yj,{open:t,onOpenChange:n,children:o.jsxs(_x,{side:"right",className:"w-[400px] sm:w-[700px] lg:w-[800px] max-w-[800px] p-6 overflow-y-auto bg-background",style:{maxWidth:"800px",zIndex:Ct.DRAWER,background:"hsl(var(--card))",backdropFilter:"none"},children:[o.jsx(Ax,{className:"mb-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Dn,{raceName:e.name,size:"4xl"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Tx,{className:"text-2xl font-bold mb-2",children:e.name}),o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Gr,{category:e.category,size:"sm"}),o.jsx(lo,{itemId:e.edid,itemType:"race",itemName:e.name})]}),o.jsx(Mx,{className:"text-sm leading-relaxed",children:e.description})]})]})}),o.jsxs("div",{className:"space-y-6",children:[e.startingStats&&o.jsxs("div",{children:[o.jsx(pt,{className:"text-lg font-semibold mb-3",children:"Starting Stats"}),o.jsx(Uc,{stats:e.startingStats,regeneration:e.regeneration,title:"",compact:!1})]}),e.skillBonuses&&e.skillBonuses.length>0&&o.jsxs("div",{children:[o.jsx(pt,{className:"text-lg font-semibold mb-3",children:"Starting Skills"}),o.jsx("div",{className:"space-y-2",children:e.skillBonuses.map((s,r)=>o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border flex items-center justify-between",children:[o.jsxs("span",{className:"font-medium",children:[s.skill," +",s.bonus]}),o.jsx(K,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},r))})]}),e.racialSpells&&e.racialSpells.length>0&&o.jsxs("div",{children:[o.jsx(pt,{className:"text-lg font-semibold mb-3",children:"Racial Abilities"}),o.jsx(Si,{effects:e.racialSpells.map(s=>({name:s.name,description:s.description})),title:"",showDescriptions:!0})]}),e.keywords&&e.keywords.length>0&&o.jsxs("div",{children:[o.jsx(pt,{className:"text-lg font-semibold mb-3",children:"Keywords"}),o.jsx(im,{keywords:e.keywords.map(s=>s.edid),title:"",maxDisplay:10})]})]})]})}):null}function lm(e){var t,n;return{...e,id:e.edid,name:e.name,description:e.description,tags:[e.category,...Array.isArray(e.flags)?e.flags:[]],summary:e.description.length>100?`${e.description.substring(0,100)}...`:e.description,effects:[...((t=e.skillBonuses)==null?void 0:t.map(s=>({type:"positive",name:s.skill,description:`+${s.bonus} to ${s.skill}`,value:s.bonus,target:s.skill})))||[],...((n=e.racialSpells)==null?void 0:n.map(s=>({type:"positive",name:s.name,description:s.description})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalRace:e}}function X8({className:e,allRaces:t}){const{build:n,setRace:s}=vt(),r=yt(),[a,i]=g.useState(!0),l=n.race?t.find(m=>m.edid===n.race):null,c=m=>{s(m.edid)},u=()=>{r("/race")},d=()=>{i(!a)};if(!l)return o.jsxs($n,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),o.jsx(Ci,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=lm(l);return o.jsxs($n,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[o.jsx(Ci,{races:t,onSelect:c,placeholder:`Race: Select a race (${l.name})`,className:"w-full"}),o.jsx(Fc,{item:f,isExpanded:a,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function ok(){const[e,t]=g.useState(null),[n,s]=g.useState("grid"),[r,a]=g.useState([]),i=g.useCallback(f=>{t(f)},[]),l=g.useCallback(f=>{s(f)},[]),c=g.useCallback(f=>{a(m=>m.includes(f)?m.filter(h=>h!==f):[...m,f])},[]),u=g.useCallback(()=>{a([])},[]),d=g.useCallback(f=>{a(f)},[]);return{selectedRace:e,viewMode:n,expandedSections:r,setSelectedRace:i,setViewMode:l,toggleExpandedSection:c,clearExpandedSections:u,expandAllSections:d}}function cm({races:e}){const[t,n]=g.useState(""),[s,r]=g.useState({search:"",type:"",tags:[]}),a=g.useMemo(()=>ut.getUniqueCategories(e),[e]),i=g.useMemo(()=>ut.getUniqueTags(e),[e]),l=g.useMemo(()=>{let p=e;return t.trim()&&(p=ut.search(p,t)),s.type&&(p=ut.filterByCategory(p,s.type)),s.tags.length>0&&(p=ut.filterByTags(p,s.tags)),ut.sortByName(p)},[e,t,s]),c=g.useCallback(p=>{n(p),r(y=>({...y,search:p}))},[]),u=g.useCallback(p=>{r(p),n(p.search)},[]),d=g.useCallback(()=>{n(""),r({search:"",type:"",tags:[]})},[]),f=g.useCallback(p=>{r(y=>({...y,tags:y.tags.includes(p)?y.tags:[...y.tags,p]}))},[]),m=g.useCallback(p=>{r(y=>({...y,tags:y.tags.filter(v=>v!==p)}))},[]),h=g.useCallback(p=>{r(y=>({...y,type:p}))},[]);return{searchQuery:t,activeFilters:s,filteredRaces:l,categories:a,tags:i,setSearchQuery:c,setFilters:u,clearFilters:d,addTagFilter:f,removeTagFilter:m,setCategoryFilter:h}}function ik({races:e,selectedRaceId:t}){const n=g.useMemo(()=>e.map(u=>ut.transformToPlayerCreationItem(u)),[e]),s=g.useMemo(()=>U8.generateSearchCategories(e),[e]),r=g.useMemo(()=>t&&ut.getRaceById(e,t)||null,[e,t]),a=g.useMemo(()=>r?ut.calculateRaceStats(r):null,[r]),i=g.useMemo(()=>e.length,[e]),l=g.useMemo(()=>{const u=e.reduce((d,f)=>(d[f.category]=(d[f.category]||0)+1,d),{});return Object.entries(u).map(([d,f])=>({category:d,count:f}))},[e]),c=g.useMemo(()=>{const u=e.reduce((d,f)=>{var m;return f.keywords.forEach(h=>{d[h.edid]=(d[h.edid]||0)+1}),(m=f.flags)==null||m.forEach(h=>{d[h]=(d[h]||0)+1}),d},{});return Object.entries(u).map(([d,f])=>({tag:d,count:f})).sort((d,f)=>f.count-d.count)},[e]);return{transformedRaces:n,searchCategories:s,raceStats:a,selectedRaceDetails:r,totalRaces:i,categoriesWithCounts:l,tagsWithCounts:c}}function lk({raceId:e,allRaces:t}){const n=g.useMemo(()=>ut.getRaceById(t,e)||null,[t,e]),s=g.useMemo(()=>n?ut.getRelatedRaces(n,t):[],[n,t]),r=g.useMemo(()=>{if(!n||s.length===0)return null;const u=s[0];return{selectedRace:n,comparedRace:u,differences:{stats:{health:{selected:n.startingStats.health,compared:u.startingStats.health,difference:n.startingStats.health-u.startingStats.health},magicka:{selected:n.startingStats.magicka,compared:u.startingStats.magicka,difference:n.startingStats.magicka-u.startingStats.magicka},stamina:{selected:n.startingStats.stamina,compared:u.startingStats.stamina,difference:n.startingStats.stamina-u.startingStats.stamina},carryWeight:{selected:n.startingStats.carryWeight,compared:u.startingStats.carryWeight,difference:n.startingStats.carryWeight-u.startingStats.carryWeight}},skills:n.skillBonuses.map(d=>{const f=u.skillBonuses.find(m=>m.skill===d.skill);return{skill:d.skill,selected:d.bonus,compared:(f==null?void 0:f.bonus)||0,difference:d.bonus-((f==null?void 0:f.bonus)||0)}}),spells:{selected:n.racialSpells.map(d=>d.name),compared:u.racialSpells.map(d=>d.name),unique:n.racialSpells.filter(d=>!u.racialSpells.some(f=>f.name===d.name)).map(d=>d.name)}}}},[n,s]),a=g.useMemo(()=>s.length>0,[s]),i=g.useMemo(()=>s.length,[s]);return{race:n,relatedRaces:s,raceComparison:r,isLoading:!1,error:null,hasRelatedRaces:a,relatedRacesCount:i}}function K8({className:e}){const{races:t}=nl(),{build:n,setRace:s}=vt(),r=yt(),[a,i]=g.useState(!0),l=n.race?t.find(m=>m.edid===n.race):null,c=m=>{s(m.edid)},u=()=>{r("/build/race")},d=()=>{i(!a)};if(!l)return o.jsxs($n,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),o.jsx(Ci,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=lm(l);return o.jsxs($n,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[o.jsx(Ci,{races:t,onSelect:c,placeholder:`Race: Select a race (${l.name})`,className:"w-full"}),o.jsx(Fc,{item:f,isExpanded:a,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function ck(){const{build:e}=vt(),{races:t,isLoading:n,error:s}=nl(),{viewMode:r,setViewMode:a}=ok(),{filteredRaces:i}=cm({races:t}),c=(()=>{const S=[...new Set(t.flatMap(E=>E.keywords.map(_=>_.edid)))],C=[...new Set(t.flatMap(E=>E.skillBonuses.map(_=>_.skill)))],k=[...new Set(t.map(E=>E.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:S.map(E=>({id:`keyword-${E}`,label:E,value:E,category:"Fuzzy Search",description:`Races with ${E} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:C.map(E=>({id:`skill-${E}`,label:E,value:E,category:"Skill Bonuses",description:`Races with ${E} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:k.map(E=>({id:`category-${E}`,label:E,value:E,category:"Race Categories",description:`${E} races`}))}]})(),[u,d]=g.useState([]),f=S=>{let C;typeof S=="string"?C={id:`custom-${S}`,label:S,value:S,category:"Fuzzy Search"}:C={id:`${S.category}-${S.id}`,label:S.label,value:S.value,category:S.category},u.some(k=>k.value===C.value&&k.category===C.category)||d(k=>[...k,C])},m=S=>{d(C=>C.filter(k=>k.id!==S))},h=i.filter(S=>u.length===0?!0:u.every(C=>{switch(C.category){case"Fuzzy Search":return!0;case"Race Categories":return S.category===C.value;case"Skill Bonuses":return S.skillBonuses.some(k=>k.skill===C.value);case"Keywords":return S.keywords.some(k=>k.edid===C.value);default:return!0}})),p=u.filter(S=>S.category==="Fuzzy Search").map(S=>S.value).join(" "),{filteredRaces:y}=rk(h,p),v=y.map(S=>({...lm(S),originalRace:S})),[x,b]=g.useState(null),[w,N]=g.useState(!1),j=S=>{b(S),N(!0)};return n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-destructive mb-4",children:s}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):o.jsxs(Rs,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ga,{categories:c,onSelect:f,onCustomSearch:f})}),o.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[o.jsx(W,{variant:r==="list"?"default":"ghost",size:"sm",onClick:()=>a("list"),className:"h-8 px-3",title:"List view",children:o.jsx(ha,{className:"h-4 w-4"})}),o.jsx(W,{variant:r==="grid"?"default":"ghost",size:"sm",onClick:()=>a("grid"),className:"h-8 px-3",title:"Grid view",children:o.jsx(ro,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"my-4",children:u.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsxs("button",{onClick:()=>d([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[o.jsx(Ft,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),u.map(S=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>m(S.id),title:"Click to remove",children:[S.label,o.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},S.id))]})}),r==="grid"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:v.map(S=>{var k;const C=e.race===((k=S.originalRace)==null?void 0:k.edid);return o.jsx(mb,{item:S,originalRace:S.originalRace,onClick:()=>j(S.originalRace),className:U(C&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},S.id)})}):o.jsx("div",{className:"flex flex-col gap-4 w-full",children:v.map(S=>{var k;const C=e.race===((k=S.originalRace)==null?void 0:k.edid);return o.jsx(mb,{item:S,originalRace:S.originalRace,onClick:()=>j(S.originalRace),className:U(C&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},S.id)})}),v.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}),o.jsx(Y8,{race:x,isOpen:w,onOpenChange:N})]})}function W8({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:s,onTagRemove:r}={}){const[a,i]=g.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return g.useEffect(()=>{e&&i(e)},[e]),{filters:a,handleSearch:f=>{const m={...a,search:f};i(m),n==null||n(f)},handleTagSelect:f=>{const m={id:`${f.category}-${f.id}`,label:f.label,value:f.value,category:f.category};if(!a.selectedTags.some(p=>p.id===m.id)){const p={...a,selectedTags:[...a.selectedTags,m]};i(p),s==null||s(m),t==null||t(p)}},handleTagRemove:f=>{const m={...a,selectedTags:a.selectedTags.filter(h=>h.id!==f)};i(m),r==null||r(f),t==null||t(m)},updateFilters:f=>{i(f),t==null||t(f)}}}function Q8({className:e}){const{races:t,isLoading:n,error:s,categories:r,tags:a}=nl(),{searchQuery:i,setSearchQuery:l,filteredRaces:c}=cm({races:t}),u=$.useMemo(()=>c.map(w=>lm(w)),[c]),d=$.useMemo(()=>[{id:"categories",name:"Categories",placeholder:"Search by category...",options:(r||[]).map(w=>({id:w,label:w,value:w,category:"categories",description:`Race category: ${w}`}))},{id:"tags",name:"Tags",placeholder:"Search by tags...",options:(a||[]).map(w=>({id:w,label:w,value:w,category:"tags",description:`Race tag: ${w}`}))}],[r,a]),{filters:f,handleSearch:m,handleTagSelect:h,handleTagRemove:p}=W8({onSearch:l,onFiltersChange:w=>{}});$.useEffect(()=>{i!==f.search&&m(i)},[i,m,f.search]);const[y,v]=$.useState(null),x=w=>{const N=t.find(j=>j.edid===w.id);return N?o.jsx(ak,{item:w,originalRace:N,isExpanded:!1,showToggle:!0,className:"h-full"},N.edid):null},b=w=>{const N=t.find(j=>j.edid===w.id);return N?o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:N.name}),o.jsx("p",{className:"text-muted-foreground mb-4",children:N.description}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Category:"})," ",N.category]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Health:"})," ",N.startingStats.health]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Magicka:"})," ",N.startingStats.magicka]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Stamina:"})," ",N.startingStats.stamina]})]})]}):null};return n?o.jsx("div",{className:U("container mx-auto p-6",e),children:o.jsxs("div",{className:"animate-pulse space-y-6",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((w,N)=>o.jsx("div",{className:"h-64 bg-gray-200 rounded"},N))})]})}):s?o.jsx("div",{className:U("container mx-auto p-6",e),children:o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[o.jsx("strong",{children:"Error:"})," ",s]})}):o.jsxs("div",{className:U("container mx-auto p-6",e),children:[o.jsx(QO,{searchCategories:d,selectedTags:f.selectedTags,viewMode:"grid",onTagSelect:h,onTagRemove:p,className:"mb-6"}),o.jsxs(YO,{children:[o.jsx(XO,{children:o.jsx(qO,{items:u,viewMode:"grid",onItemSelect:v,selectedItem:y,renderItemCard:x})}),o.jsx(KO,{children:y?b(y):o.jsx(WO,{title:"Select a Race",description:"Choose a race from the list to view its details"})})]})]})}function J8({className:e,selectedRace:t,onRaceSelect:n,onRaceClear:s,showSearch:r=!0,showComparison:a=!1,maxDisplayRaces:i=3}){const{races:l,isLoading:c,error:u}=nl(),{filteredRaces:d}=cm({races:l});ik({races:l,selectedRaceId:(t==null?void 0:t.edid)||null});const[f,m]=$.useState(!1);return c?o.jsx("div",{className:U("p-4 border rounded-lg",e),children:o.jsxs("div",{className:"animate-pulse space-y-3",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})}):u?o.jsx("div",{className:U("p-4 border rounded-lg",e),children:o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded text-sm",children:[o.jsx("strong",{children:"Error:"})," ",u]})}):o.jsxs("div",{className:U("border rounded-lg overflow-hidden",e),children:[o.jsxs("div",{className:"p-4 bg-muted/50 border-b",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(pt,{className:"text-lg font-semibold",children:"Race Selection"}),t&&o.jsx(W,{variant:"ghost",size:"sm",onClick:s,className:"text-muted-foreground hover:text-foreground",children:o.jsx(Ft,{className:"h-4 w-4"})})]}),t&&o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[o.jsx(K,{variant:"secondary",children:t.category}),o.jsxs(Fe,{className:"text-sm text-muted-foreground",children:[t.startingStats.health," HP, ",t.startingStats.magicka," MP, ",t.startingStats.stamina," SP"]})]})]}),o.jsx("div",{className:"p-4",children:t?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Fc,{item:{id:t.edid,name:t.name,description:t.description,summary:t.description,category:t.category,effects:[],tags:[],originalRace:t},isExpanded:!0,showToggle:!1,className:"border-0 shadow-none"}),a&&o.jsxs("div",{className:"pt-4 border-t",children:[o.jsx(Fe,{className:"text-sm font-medium mb-2",children:"Compare with:"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.filter(h=>h.edid!==t.edid).slice(0,4).map(h=>o.jsx(W,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-xs",children:h.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})]}):o.jsxs("div",{className:"space-y-4",children:[r&&o.jsxs("div",{children:[o.jsx(Fe,{className:"text-sm font-medium mb-2",children:"Search for a race:"}),o.jsx(Ci,{races:d,onSelect:n,placeholder:"Type to search races...",className:"w-full"})]}),o.jsxs("div",{children:[o.jsx(Fe,{className:"text-sm font-medium mb-2",children:"Quick select:"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.slice(0,i).map(h=>o.jsx(W,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-xs",children:h.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))}),l.length>i&&o.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>m(!f),className:"mt-2 w-full",children:[o.jsx(In,{className:U("h-4 w-4 transition-transform",f&&"rotate-180")}),"Show ",l.length-i," more races"]})]}),f&&o.jsx("div",{className:"space-y-2",children:l.slice(i).map(h=>o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n==null?void 0:n(h),className:"w-full justify-start text-left h-auto p-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-xs",children:h.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})})]})}function eI({raceId:e,className:t}){const n=yt(),{race:s,relatedRaces:r}=lk(e);return nl(),s?o.jsxs("div",{className:U("container mx-auto p-6",t),children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(W,{variant:"ghost",onClick:()=>n("/races"),className:"mb-4",children:[o.jsx(lg,{className:"h-4 w-4 mr-2"}),"Back to Races"]}),o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx(Dn,{raceName:s.name,size:"xl"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(io,{className:"text-3xl font-bold",children:s.name}),o.jsx(Gr,{category:s.category,size:"lg"})]}),o.jsx(Fe,{className:"text-lg text-muted-foreground mb-4",children:s.description}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(t3,{className:"h-4 w-4"}),o.jsx("span",{children:"Playable Race"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pt,{className:"h-4 w-4"}),o.jsxs("span",{children:[s.keywords.length," Keywords"]})]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[o.jsx(Bo,{className:"text-xl font-semibold mb-4",children:"Statistics"}),o.jsx(Uc,{stats:s.startingStats,regeneration:s.regeneration,title:"Starting Stats",compact:!1,showRegeneration:!0})]}),s.racialSpells.length>0&&o.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[o.jsx(Bo,{className:"text-xl font-semibold mb-4",children:"Racial Abilities"}),o.jsx(Si,{effects:s.racialSpells.map(a=>({name:a.name,description:a.description})),title:"Racial Spells",showDescriptions:!0,compact:!1})]}),s.keywords.length>0&&o.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[o.jsx(Bo,{className:"text-xl font-semibold mb-4",children:"Keywords"}),o.jsx(im,{keywords:s.keywords.map(a=>a.edid),title:"Race Keywords",showCount:!0})]}),o.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[o.jsx(Bo,{className:"text-xl font-semibold mb-4",children:"Additional Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(pt,{className:"text-lg font-medium mb-2",children:"Description"}),o.jsx(Fe,{className:"text-muted-foreground",children:s.description})]}),s.racialSpells.length>0&&o.jsxs("div",{children:[o.jsx(pt,{className:"text-lg font-medium mb-2",children:"Racial Spells"}),o.jsx("div",{className:"space-y-2",children:s.racialSpells.map((a,i)=>o.jsxs("div",{className:"p-3 bg-muted/50 rounded",children:[o.jsx("div",{className:"font-medium",children:a.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:a.description})]},i))})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[o.jsx(pt,{className:"text-lg font-semibold mb-3",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{className:"w-full",size:"sm",children:"Add to Character Build"}),o.jsx(W,{variant:"outline",className:"w-full",size:"sm",children:"Compare with Other Races"}),o.jsxs(W,{variant:"outline",className:"w-full",size:"sm",children:[o.jsx(pi,{className:"h-4 w-4 mr-2"}),"View in Wiki"]})]})]}),o.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[o.jsx(pt,{className:"text-lg font-semibold mb-3",children:"Race Summary"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),o.jsx(K,{variant:"secondary",children:s.category})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Health:"}),o.jsx("span",{className:"font-medium",children:s.startingStats.health})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka:"}),o.jsx("span",{className:"font-medium",children:s.startingStats.magicka})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina:"}),o.jsx("span",{className:"font-medium",children:s.startingStats.stamina})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight:"}),o.jsx("span",{className:"font-medium",children:s.startingStats.carryWeight})]})]})]}),r.length>0&&o.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[o.jsx(pt,{className:"text-lg font-semibold mb-3",children:"Related Races"}),o.jsx("div",{className:"space-y-2",children:r.slice(0,3).map(a=>o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n(`/races/${a.edid}`),className:"w-full justify-start text-left h-auto p-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dn,{raceName:a.name,size:"sm"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:a.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:a.category})]})]})},a.edid))})]})]})]})]}):o.jsxs("div",{className:U("container mx-auto p-6",t),children:[o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[o.jsx("strong",{children:"Error:"})," ","Race not found"]}),o.jsxs(W,{variant:"outline",onClick:()=>n("/races"),className:"mt-4",children:[o.jsx(lg,{className:"h-4 w-4 mr-2"}),"Back to Races"]})]})}function tI(){const{races:e,isLoading:t,error:n,categories:s,tags:r}=nl(),{selectedRace:a,setSelectedRace:i,viewMode:l,setViewMode:c,expandedSections:u}=ok(),{searchQuery:d,setSearchQuery:f,activeFilters:m,clearFilters:h,filteredRaces:p}=cm({races:e}),{transformedRaces:y,searchCategories:v,categoriesWithCounts:x}=ik({races:e,selectedRaceId:a}),{race:b,relatedRaces:w,raceComparison:N}=lk({raceId:a||"",allRaces:e}),[j,S]=$.useState(!1),[C,k]=$.useState("overview");if(t)return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Loading..."}),o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]});if(n)return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Error"}),o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[o.jsx("strong",{children:"Error:"})," ",n]})]});const E=e[0];return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Races MVA Demo - Model View Adapter Architecture"}),o.jsxs(Xi,{value:C,onValueChange:k,className:"mb-6",children:[o.jsxs(Ki,{children:[o.jsx(nn,{value:"overview",children:"Overview"}),o.jsx(nn,{value:"adapters",children:"Adapters"}),o.jsx(nn,{value:"components",children:"Components"}),o.jsx(nn,{value:"views",children:"Views"})]}),o.jsx(yn,{value:"overview",className:"space-y-6",children:o.jsxs(Ne,{children:[o.jsxs(Le,{children:[o.jsx(Ge,{children:"MVA Architecture Overview"}),o.jsx(er,{children:"This demo showcases the Model-View-Adapter pattern implementation for the Races feature."})]}),o.jsx(je,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Model Layer"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Data management and business logic"}),o.jsx(K,{variant:"outline",className:"mt-2",children:"RaceModel"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Adapter Layer"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"State management and data transformation"}),o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[o.jsx(K,{variant:"outline",children:"useRaceData"}),o.jsx(K,{variant:"outline",children:"useRaceState"}),o.jsx(K,{variant:"outline",children:"useRaceFilters"})]})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"View Layer"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"UI components and presentation"}),o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[o.jsx(K,{variant:"outline",children:"RaceCard"}),o.jsx(K,{variant:"outline",children:"RacePageView"})]})]})]})})]})}),o.jsx(yn,{value:"adapters",className:"space-y-6",children:o.jsxs(Ne,{children:[o.jsxs(Le,{children:[o.jsx(Ge,{children:"Adapter State Demo"}),o.jsx(er,{children:"Interactive demonstration of adapter state management"})]}),o.jsx(je,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold",children:"State Management (useRaceState)"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Selected Race:"}),o.jsx(K,{variant:a?"default":"secondary",children:a||"None"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"View Mode:"}),o.jsxs("div",{className:"flex border rounded",children:[o.jsx(W,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),children:"Grid"}),o.jsx(W,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),children:"List"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Expanded Sections:"}),o.jsx(K,{variant:"outline",children:u.length})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold",children:"Filters (useRaceFilters)"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Search Query:"}),o.jsx("input",{type:"text",value:d,onChange:_=>f(_.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"Search races..."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Active Filters:"}),o.jsx(K,{variant:"outline",children:m.tags.length+(m.type?1:0)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Filtered Results:"}),o.jsxs(K,{variant:"outline",children:[p.length," of ",e.length]})]}),o.jsx(W,{size:"sm",onClick:h,children:"Clear Filters"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold",children:"Computed Data (useRaceComputed)"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Transformed Races:"}),o.jsx(K,{variant:"outline",children:y.length})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Search Categories:"}),o.jsx(K,{variant:"outline",children:v.length})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Categories with Counts:"}),o.jsx(K,{variant:"outline",children:Object.keys(x).length})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold",children:"Detail View (useRaceDetail)"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Selected Race Details:"}),o.jsx(K,{variant:b?"default":"secondary",children:(b==null?void 0:b.name)||"None"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Related Races:"}),o.jsx(K,{variant:"outline",children:w.length})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"Comparison Available:"}),o.jsx(K,{variant:N?"default":"secondary",children:N?"Yes":"No"})]})]})]})]})})]})}),o.jsxs(yn,{value:"components",className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Atomic & Composition Components"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Data Summary"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Total Races:"})," ",e.length]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Categories:"})," ",s.join(", ")]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Total Tags:"})," ",r.length]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Sample Race: ",E==null?void 0:E.name]}),E&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-gray-600 text-sm",children:E.description}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Category:"})," ",E.category]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Keywords:"})," ",E.keywords.length]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAvatar Component"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),o.jsx(Dn,{raceName:(E==null?void 0:E.name)||"Nord",size:"sm"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),o.jsx(Dn,{raceName:(E==null?void 0:E.name)||"Nord",size:"lg"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),o.jsx(Dn,{raceName:(E==null?void 0:E.name)||"Nord",size:"2xl"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Extra Large"}),o.jsx(Dn,{raceName:(E==null?void 0:E.name)||"Nord",size:"xl"})]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Uses generic EntityAvatar with race-specific configuration"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"CategoryBadge Component"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),o.jsx(Gr,{category:"Human",size:"sm"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),o.jsx(Gr,{category:"Elf",size:"md"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),o.jsx(Gr,{category:"Beast",size:"lg"})]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Uses generic CategoryBadge with race-specific styling"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"KeywordTag Component"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Auto-detected types:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(hs,{keyword:"destruction"}),o.jsx(hs,{keyword:"waterbreathing"}),o.jsx(hs,{keyword:"strong stomach"}),o.jsx(hs,{keyword:"custom_flag"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Explicit types:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(hs,{keyword:"alteration",type:"skill"}),o.jsx(hs,{keyword:"night eye",type:"ability"}),o.jsx(hs,{keyword:"beast race",type:"trait"}),o.jsx(hs,{keyword:"magic",type:"flag"})]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Auto-detects keyword types or accepts explicit type prop"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"StatBar Component"}),o.jsxs("div",{className:"space-y-4",children:[E&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ws,{value:E.startingStats.health,maxValue:200,label:"Health",color:"red",size:"md"}),o.jsx(Ws,{value:E.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"md"}),o.jsx(Ws,{value:E.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"md"})]}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Progress bars with configurable colors, sizes, and labels"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceStatsDisplay Component"}),o.jsxs("div",{className:"space-y-4",children:[E&&o.jsx(Uc,{stats:E.startingStats,regeneration:E.regeneration,title:"Sample Stats",compact:!0}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Composition component that displays race statistics"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceEffectsDisplay Component"}),o.jsxs("div",{className:"space-y-4",children:[E&&E.racialSpells.length>0&&o.jsx(Si,{effects:E.racialSpells.map(_=>({name:_.name,description:_.description})),title:"Racial Abilities",maxDisplay:3}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Composition component for displaying race effects/abilities"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceKeywordsDisplay Component"}),o.jsxs("div",{className:"space-y-4",children:[E&&E.keywords.length>0&&o.jsx(im,{keywords:E.keywords.map(_=>_.edid),title:"Race Keywords",maxDisplay:6}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Composition component that uses KeywordTag atomic components"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceCard Composition Component"}),o.jsxs("div",{className:"space-y-4",children:[E&&o.jsx(ak,{originalRace:E,isExpanded:!0,showToggle:!1,className:"max-w-2xl"}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Main composition component that orchestrates all atomic components"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAutocomplete Component"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ci,{races:e.slice(0,5),onSelect:_=>console.log("Selected:",_.name),placeholder:"Search for a race...",className:"w-full"}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Search and selection component for races"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAccordion Component"}),o.jsxs("div",{className:"space-y-4",children:[E&&o.jsx(Fc,{item:{id:E.edid,name:E.name,description:E.description,summary:E.description,category:E.category,effects:[],tags:[],originalRace:E},isExpanded:j,onToggle:()=>S(!j),showToggle:!0,className:"border-0 shadow-none"}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Accordion-style race display for player creation (click to expand/collapse)"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceSelectionCard Component"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(X8,{allRaces:e.slice(0,5),className:"max-w-2xl"}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsx("p",{children:"Complete race selection interface for player creation"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sample Races with All Components"}),o.jsx("div",{className:"space-y-4",children:e.slice(0,2).map(_=>o.jsxs("div",{className:"border rounded p-4",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[o.jsx(Dn,{raceName:_.name,size:"2xl"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-lg",children:_.name}),o.jsx("div",{className:"flex items-center gap-2 mt-1",children:o.jsx(Gr,{category:_.category,size:"sm"})})]})]}),o.jsx("p",{className:"text-sm mb-3",children:_.description}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[o.jsx(Ws,{value:_.startingStats.health,maxValue:200,label:"Health",color:"red",size:"sm"}),o.jsx(Ws,{value:_.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),o.jsx(Ws,{value:_.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[_.keywords.slice(0,5).map((P,O)=>o.jsx(hs,{keyword:P.edid},O)),_.keywords.length>5&&o.jsxs("span",{className:"text-xs text-gray-500",children:["+",_.keywords.length-5," more"]})]})]},_.edid))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"View Components Demo"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceQuickSelectorView"}),o.jsx(J8,{selectedRace:a?e.find(_=>_.edid===a):void 0,onRaceSelect:_=>i(_.edid),onRaceClear:()=>i(null),showSearch:!0,showComparison:!0,maxDisplayRaces:3,className:"max-w-md"}),o.jsx("div",{className:"text-xs text-gray-500 mt-2",children:o.jsx("p",{children:"Compact selection interface for embedded contexts"})})]}),a&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceDetailView"}),o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsx(eI,{raceId:a,className:"p-4"})}),o.jsx("div",{className:"text-xs text-gray-500 mt-2",children:o.jsx("p",{children:"Detailed race view with rich information display"})})]})]})]})]})]}),o.jsxs(yn,{value:"views",className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"View Components"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ne,{children:[o.jsxs(Le,{children:[o.jsx(Ge,{children:"RacePageView"}),o.jsx(er,{children:"Main page view with full functionality"})]}),o.jsx(je,{children:o.jsx(ck,{className:"border rounded-lg p-4"})})]}),o.jsxs(Ne,{children:[o.jsxs(Le,{children:[o.jsx(Ge,{children:"RaceReferenceView"}),o.jsx(er,{children:"Browse/search interface"})]}),o.jsx(je,{children:o.jsx(Q8,{className:"border rounded-lg p-4"})})]})]})]})]})]})}function nh({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const s=n.split(/(<[^>]+>)/g);return o.jsx("div",{className:t,children:s.map((r,a)=>{if(r.startsWith("<")&&r.endsWith(">")){const i=r.slice(1,-1);return o.jsx("span",{className:"font-bold italic text-skyrim-gold",children:i},a)}return r})})}function nI({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return o.jsx(Fe,{className:"text-xs text-muted-foreground",children:t.map((n,s)=>{if(n.startsWith("<")&&n.endsWith(">")){const r=n.slice(1,-1);return o.jsx("span",{className:"font-bold italic text-skyrim-gold",children:r},s)}return n})})}function sh({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<[^>]*>/g,"");r=r.replace(/<mag>/g,t.toString()),r=r.replace(/<magnitude>/g,t.toString()),r=r.replace(/<dur>/g,n.toString()),r=r.replace(/<duration>/g,n.toString()),s>0&&(r=r.replace(/<area>/g,s.toString())),r=r.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const a=r.split(/(<[^>]+>)/g);return o.jsx(Fe,{className:"text-xs text-muted-foreground",children:a.map((i,l)=>{if(i.startsWith("<")&&i.endsWith(">")){const c=i.slice(1,-1);return o.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},l)}return i})})}function rh(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function ah(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],s=t.some(a=>a.test(e)),r=n.some(a=>a.test(e));return{hasMagnitude:s,hasDuration:r}}const sI={Restoration:o.jsx(Tf,{className:"h-4 w-4 text-green-500"}),Destruction:o.jsx(DN,{className:"h-4 w-4 text-red-500"}),Alteration:o.jsx(Aa,{className:"h-4 w-4 text-blue-500"}),Illusion:o.jsx(iv,{className:"h-4 w-4 text-purple-500"}),Conjuration:o.jsx(nc,{className:"h-4 w-4 text-purple-500"}),Enchanting:o.jsx(MN,{className:"h-4 w-4 text-blue-500"}),Alchemy:o.jsx(t4,{className:"h-4 w-4 text-green-500"}),"Light Armor":o.jsx(Aa,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":o.jsx(Aa,{className:"h-4 w-4 text-gray-500"}),"One-Handed":o.jsx(dg,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":o.jsx(dg,{className:"h-4 w-4 text-red-500"}),Archery:o.jsx(Nd,{className:"h-4 w-4 text-green-500"}),Block:o.jsx(Aa,{className:"h-4 w-4 text-yellow-500"}),Smithing:o.jsx(Aa,{className:"h-4 w-4 text-gray-500"}),Speechcraft:o.jsx(iv,{className:"h-4 w-4 text-blue-500"}),Sneak:o.jsx(cx,{className:"h-4 w-4 text-purple-500"}),Lockpicking:o.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:o.jsx(lv,{className:"h-4 w-4 text-purple-500"})},rI={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},hb={sm:"text-xs px-2 py-0.5"};function Bd({item:e,originalReligion:t,isExpanded:n=!1,onToggle:s,className:r,showBlessings:a=!0,showTenets:i=!0,showBoons:l=!0,showFavoredRaces:c=!0,disableHover:u,showToggle:d}){var h,p,y,v,x,b,w,N;const f=j=>{switch(j){case"positive":return o.jsx(Wr,{className:"h-4 w-4 text-green-500"});case"negative":return o.jsx(Ll,{className:"h-4 w-4 text-red-500"});case"neutral":return o.jsx(Af,{className:"h-4 w-4 text-blue-500"})}},m=j=>sI[j]||o.jsx(Pt,{className:"h-4 w-4 text-skyrim-gold"});return o.jsxs(ce,{expanded:n,onToggle:s,className:r,disableHover:u,children:[o.jsxs(ce.Header,{children:[d&&o.jsx(lo,{itemId:e.id,itemType:"religion",itemName:e.name}),o.jsx("div",{className:"flex-1",children:o.jsx(pt,{className:"text-primary font-semibold",children:e.name})}),e.category&&o.jsx(K,{variant:"outline",className:U(rI[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",hb.sm,"font-medium transition-colors"),children:e.category}),c&&t&&Array.isArray(t.favoredRaces)&&t.favoredRaces.length>0&&o.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((j,S)=>o.jsxs(K,{variant:"outline",className:U("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",hb.sm,"font-medium transition-colors"),children:[o.jsx(Pt,{className:"h-3 w-3 mr-1"}),"Favors ",j]},S))})]}),o.jsxs(ce.Summary,{children:[o.jsx("div",{className:"line-clamp-2",children:o.jsx(nh,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[(h=e.effects)==null?void 0:h.slice(0,2).map((j,S)=>o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:j.description,children:[f(j.type),o.jsx("span",{className:"font-medium",children:j.name})]},S)),c&&((p=t==null?void 0:t.favoredRaces)==null?void 0:p.slice(0,2).map((j,S)=>o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[o.jsx(Pt,{className:"h-3 w-3 text-skyrim-gold"}),o.jsx("span",{className:"font-medium",children:j})]},`race-${S}`)))]})]}),o.jsxs(ce.Details,{children:[e.description&&o.jsx("div",{children:o.jsx(nh,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),c&&Array.isArray(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((j,S)=>o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[o.jsx(Pt,{className:"h-4 w-4 text-skyrim-gold"}),o.jsx("span",{className:"text-sm font-medium",children:j})]},S))})]}),Array.isArray(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),o.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((j,S)=>o.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Ll,{className:"h-4 w-4 text-red-500 mt-0.5"}),o.jsx(nh,{text:j,className:"text-sm text-muted-foreground"})]})},S))})]}),a&&Array.isArray((y=t==null?void 0:t.blessing)==null?void 0:y.effects)&&t.blessing.effects.length>0&&o.jsxs("div",{children:[o.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),o.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(j=>j.effectType!=="1"&&j.effectType!=="3").map((j,S)=>{const{hasDuration:C}=ah(j.effectDescription);return o.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),j.effectType&&m(j.effectType)]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{className:"font-medium text-sm mb-1",children:j.effectName}),o.jsx(sh,{description:j.effectDescription,magnitude:j.magnitude,duration:j.duration,area:j.area}),C&&j.duration>0&&o.jsxs(Fe,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",rh(j.duration),"."]}),o.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:j.area>0&&o.jsxs("span",{children:["Area: ",j.area]})})]})]})},S)})})]}),i&&Array.isArray((v=t==null?void 0:t.tenet)==null?void 0:v.effects)&&t.tenet.effects.length>0&&o.jsxs("div",{children:[o.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((j,S)=>j.effectDescription.split(".").filter(k=>k.trim().length>0).map((k,E)=>o.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),j.targetAttribute&&m(j.targetAttribute)]}),o.jsx("div",{className:"flex-1",children:o.jsx(nI,{description:k.trim()+"."})})]},`${S}-${E}`)))})]}),l&&(Array.isArray((x=t==null?void 0:t.boon1)==null?void 0:x.effects)&&t.boon1.effects.length>0||Array.isArray((b=t==null?void 0:t.boon2)==null?void 0:b.effects)&&t.boon2.effects.length>0)&&o.jsxs("div",{children:[o.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),o.jsxs("div",{className:"space-y-4",children:[Array.isArray((w=t==null?void 0:t.boon1)==null?void 0:w.effects)&&t.boon1.effects.length>0&&o.jsxs("div",{children:[o.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),o.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((j,S)=>{const{hasDuration:C}=ah(j.effectDescription);return o.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),j.effectType&&m(j.effectType)]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{className:"font-medium text-sm mb-1",children:j.effectName}),o.jsx(sh,{description:j.effectDescription,magnitude:j.magnitude,duration:j.duration,area:j.area}),C&&j.duration>0&&o.jsxs(Fe,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",rh(j.duration),"."]}),o.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:j.area>0&&o.jsxs("span",{children:["Area: ",j.area]})})]})]})},S)})})]}),Array.isArray((N=t==null?void 0:t.boon2)==null?void 0:N.effects)&&t.boon2.effects.length>0&&o.jsxs("div",{children:[o.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),o.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((j,S)=>{const{hasDuration:C}=ah(j.effectDescription);return o.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),j.effectType&&m(j.effectType)]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{className:"font-medium text-sm mb-1",children:j.effectName}),o.jsx(sh,{description:j.effectDescription,magnitude:j.magnitude,duration:j.duration,area:j.area}),C&&j.duration>0&&o.jsxs(Fe,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",rh(j.duration),"."]}),o.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:j.area>0&&o.jsxs("span",{children:["Area: ",j.area]})})]})]})},S)})})]})]})]})]})]})}function aI(){const{data:e,loading:t,error:n}=TC(),[s,r]=g.useState(new Set),[a,i]=g.useState("alphabetical"),[l,c]=g.useState("grid"),[u,d]=g.useState(!0),[f,m]=g.useState(!0),[h,p]=g.useState(!0),[y,v]=g.useState(!0),x=g.useMemo(()=>(e||[]).map($g),[e]),w=(()=>{const z=[...new Set((e||[]).map(D=>D.pantheon).filter(Boolean))],A=[...new Set(x.flatMap(D=>D.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:z.map(D=>({id:`pantheon-${D}`,label:D,value:D,category:"Pantheons",description:`Religions from ${D} pantheon`}))},{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:A.map(D=>({id:`race-${D}`,label:D,value:D,category:"Favored Races",description:`Religions that favor ${D}`}))}]})(),[N,j]=g.useState([]),S=z=>{let A;typeof z=="string"?A={id:`custom-${z}`,label:z,value:z,category:"Custom"}:A={id:z.id,label:z.label,value:z.value,category:z.category},N.find(D=>D.value===A.value)||j(D=>[...D,A])},C=z=>{j(A=>A.filter(D=>D.id!==z))},k=g.useMemo(()=>N.length===0?e||[]:(e||[]).filter(z=>N.every(A=>{var M,R,B;const D=A.value.toLowerCase();return!!((M=z.pantheon)!=null&&M.toLowerCase().includes(D)||(R=z.tags)!=null&&R.some(H=>H.toLowerCase().includes(D))||z.name.toLowerCase().includes(D)||(B=z.description)!=null&&B.toLowerCase().includes(D))})),[e,N]),E=g.useMemo(()=>{const z=[...k];switch(a){case"alphabetical":return z.sort((A,D)=>A.name.localeCompare(D.name));case"divine-type":return z.sort((A,D)=>{const M=H=>{switch(H==null?void 0:H.toLowerCase()){case"divine":return 1;case"daedric":return 2;case"yokudan":return 3;case"custom":return 4;default:return 5}},R=M(A.pantheon),B=M(D.pantheon);return R!==B?R-B:A.name.localeCompare(D.name)});default:return z}},[k,a]),_=g.useMemo(()=>E.map($g),[E]),P=z=>{r(A=>{const D=new Set(A);return D.has(z)?D.delete(z):D.add(z),D})},O=()=>{r(new Set(_.map(z=>z.id)))},L=()=>{r(new Set)},T=_.length>0&&_.every(z=>s.has(z.id));return _.some(z=>s.has(z.id)),t?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading religions..."})]})}):n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-destructive mb-4",children:n}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):o.jsxs(Rs,{title:"Religions",description:"Choose your character's religion. Each deity offers unique blessings, tenets, and powers that will guide your spiritual journey through Tamriel.",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ga,{categories:w,onSelect:S,onCustomSearch:S})}),o.jsxs(t0,{children:[o.jsx(n0,{asChild:!0,children:o.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[o.jsx(In,{className:"h-4 w-4"}),a==="alphabetical"?"A-Z":"Type"]})}),o.jsxs(Gf,{align:"end",children:[o.jsx(ur,{onClick:()=>i("alphabetical"),children:"Alphabetical"}),o.jsx(ur,{onClick:()=>i("divine-type"),children:"Divine Type"})]})]}),o.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[o.jsx(W,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 px-3",title:"List view",children:o.jsx(ha,{className:"h-4 w-4"})}),o.jsx(W,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),className:"h-8 px-3",title:"Grid view",children:o.jsx(ro,{className:"h-4 w-4"})})]}),o.jsx(W,{variant:"outline",size:"sm",onClick:T?L:O,className:"flex items-center justify-center",title:T?"Collapse all accordions":"Expand all accordions",children:T?o.jsx(LN,{className:"h-4 w-4"}):o.jsx(zN,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"my-4",children:N.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsxs("button",{onClick:()=>j([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[o.jsx(Ft,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map(z=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>C(z.id),title:"Click to remove",children:[z.label,o.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},z.id))]})}),_.length>0&&o.jsxs(y6,{children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[o.jsx(Qs,{checked:u&&f&&h&&y,onCheckedChange:z=>{d(z),m(z),p(z),v(z)}}),o.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),o.jsxs(JO,{columns:4,children:[o.jsx(ju,{title:"Blessings",description:"Deity blessings and effects",checked:u,onCheckedChange:d}),o.jsx(ju,{title:"Tenets",description:"Religious tenets and rules",checked:f,onCheckedChange:m}),o.jsx(ju,{title:"Boons",description:"Follower and devotee powers",checked:h,onCheckedChange:p}),o.jsx(ju,{title:"Favored Races",description:"Races favored by this deity",checked:y,onCheckedChange:v})]})]}),l==="grid"?o.jsx(i0,{columns:3,gap:"md",className:"w-full mt-6",children:_.map(z=>{const A=e.find(M=>M.name===z.name),D=s.has(z.id);return o.jsx(Bd,{item:z,originalReligion:A,isExpanded:D,onToggle:()=>P(z.id),className:"w-full",showBlessings:u,showTenets:f,showBoons:h,showFavoredRaces:y},z.id)})}):o.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:_.map(z=>{const A=e.find(M=>M.name===z.name),D=s.has(z.id);return o.jsx(Bd,{item:z,originalReligion:A,isExpanded:D,onToggle:()=>P(z.id),className:"w-full",showBlessings:u,showTenets:f,showBoons:h,showFavoredRaces:y},z.id)})}),_.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground",children:"No religions found matching your criteria."}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}const oI="modulepreload",iI=function(e){return"/lorerim-arcaneum/"+e},gb={},qs=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=iI(c),c in gb)return;gb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":oI,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return r.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function pb(e){return e.map(t=>({id:`skill-${t.id}`,type:"skill",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...t.keyAbilities||[],...t.metaTags||[],t.scaling||""],originalData:t,url:`/build/perks?skill=${t.id}`}))}function xb(e){return e.map(t=>({id:`race-${t.id}`,type:"race",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.source||"",...t.tags||[],...t.keywords||[]],originalData:t,url:"/races"}))}function yb(e){return e.map(t=>{var n;return{id:`trait-${t.id}`,type:"trait",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...((n=t.effects)==null?void 0:n.map(s=>s.description||s.type))||[]],originalData:t,url:"/traits"}})}function vb(e){return e.map(t=>{var n,s,r,a,i,l,c,u,d,f;return{id:`religion-${t.id||t.name}`,type:"religion",name:t.name,description:((n=t.tenet)==null?void 0:n.description)||"",category:t.type||t.pantheon||"",tags:t.tags||[],searchableText:[t.name,((s=t.tenet)==null?void 0:s.description)||"",t.type||"",t.pantheon||"",...t.tags||[],...t.favoredRaces||[],...t.worshipRestrictions||[],...((a=(r=t.tenet)==null?void 0:r.effects)==null?void 0:a.map(m=>m.effectName))||[],...((l=(i=t.blessing)==null?void 0:i.effects)==null?void 0:l.map(m=>m.effectName))||[],...((u=(c=t.boon1)==null?void 0:c.effects)==null?void 0:u.map(m=>m.effectName))||[],...((f=(d=t.boon2)==null?void 0:d.effects)==null?void 0:f.map(m=>m.effectName))||[]],originalData:t,url:"/religions"}})}function bb(e){return e.map(t=>{var n,s;return{id:`birthsign-${t.id||t.edid}`,type:"birthsign",name:t.name,description:t.description,category:t.group,tags:t.tags||[],searchableText:[t.name,t.description||"",t.group||"",...t.tags||[],...((n=t.powers)==null?void 0:n.map(r=>r.name||r.description))||[],...((s=t.stat_modifications)==null?void 0:s.map(r=>r.stat))||[]],originalData:t,url:"/birthsigns"}})}function wb(e){return e.map(t=>({id:`destiny-${t.id}`,type:"destiny",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.lore||"",...t.tags||[],...t.prerequisites||[]],originalData:t,url:"/destiny"}))}function Nb(e){return e.map(t=>{var n;return{id:`perk-${t.treeId||t.id}`,type:"perk",name:t.treeName||t.name,description:t.treeDescription||t.description,category:t.category,tags:t.tags||[],searchableText:[t.treeName||t.name,t.treeDescription||t.description||"",t.category||"",...t.tags||[],...((n=t.perks)==null?void 0:n.map(s=>s.name))||[]],originalData:t,url:"/build/perks"}})}function jb(e){return e.map(t=>{var n,s,r,a,i,l;return{id:`perk-ref-${t.edid}`,type:"perk-reference",name:t.name,description:((s=(n=t.ranks[0])==null?void 0:n.description)==null?void 0:s.base)||"",category:t.category,tags:t.tags,searchableText:[t.name,((a=(r=t.ranks[0])==null?void 0:r.description)==null?void 0:a.base)||"",((l=(i=t.ranks[0])==null?void 0:i.description)==null?void 0:l.subtext)||"",t.skillTreeName,t.category,...t.tags,...t.prerequisites,t.isRoot?"root perk":"branch perk",t.totalRanks>1?"multi-rank":"single-rank"],originalData:t,url:`/perk-references?skill=${t.skillTree}&perk=${t.edid}`}})}function Sb(e){return e.map(t=>({id:`spell-${t.editorId}`,type:"spell",name:t.name,description:t.description,category:t.school,tags:t.tags,searchableText:[t.name,t.description||"",t.school||"",t.level||"",t.tome||"",...t.tags,...t.effects.map(n=>n.name),...t.effects.map(n=>n.description),t.isAreaSpell?"area spell":"",t.isDurationSpell?"duration spell":"",t.isInstantSpell?"instant spell":"",`magicka cost ${t.magickaCost}`,`magnitude ${t.totalMagnitude}`,`duration ${t.maxDuration}`,`area ${t.maxArea}`].filter(Boolean),originalData:t,url:`/spells?spell=${t.editorId}`}))}function Cb(e){return e.map(t=>({id:`recipe-${t.name}`,type:"recipe",name:t.name,description:t.description,category:t.category,tags:t.tags,searchableText:[t.name,t.description||"",t.category||"",t.output||"",t.difficulty||"",t.type||"",...t.tags,...t.ingredients.map(n=>typeof n=="string"?n:n.name||n.item||""),...t.effects.map(n=>n.name),...t.effects.map(n=>n.description),`ingredients ${t.ingredientCount}`,`effects ${t.effectCount}`,`magnitude ${t.totalMagnitude}`,`duration ${t.maxDuration}`].filter(Boolean),originalData:t,url:`/cookbook?recipe=${encodeURIComponent(t.name)}`}))}function lI(e){return{id:e.item.id,name:e.item.name,description:e.item.description||"",summary:e.item.description||"",tags:e.item.tags,category:e.item.category,imageUrl:void 0,effects:[],associatedItems:[],originalSearchResult:e}}function cI(e){return e.map(t=>{var n,s;return{field:t.key||"unknown",snippet:t.value,startIndex:((n=t.indices[0])==null?void 0:n[0])||0,endIndex:((s=t.indices[0])==null?void 0:s[1])||0}})}class uI{constructor(){Ue(this,"searchIndex",null);Ue(this,"isIndexing",!1);Ue(this,"allSearchableItems",[]);Ue(this,"indexedStores",new Set);Ue(this,"fuseOptions",{keys:[{name:"name",weight:.8},{name:"description",weight:.6},{name:"category",weight:.4},{name:"tags",weight:.5},{name:"searchableText",weight:.3}],threshold:.6,includeMatches:!0,includeScore:!0,minMatchCharLength:2,ignoreLocation:!0,useExtendedSearch:!1,findAllMatches:!0});Ue(this,"transformSkillsToSearchable",pb);Ue(this,"transformRacesToSearchable",xb);Ue(this,"transformTraitsToSearchable",yb);Ue(this,"transformReligionsToSearchable",vb);Ue(this,"transformBirthsignsToSearchable",bb);Ue(this,"transformDestinyNodesToSearchable",wb);Ue(this,"transformPerkTreesToSearchable",Nb);Ue(this,"transformPerkReferencesToSearchable",jb);Ue(this,"transformRecipesToSearchable",Cb);Ue(this,"transformSpellsToSearchable",Sb)}async addToIndex(t,n){this.indexedStores.has(t)||(this.allSearchableItems.push(...n),this.indexedStores.add(t),this.searchIndex=new Zt(this.allSearchableItems,this.fuseOptions))}hasIndexedData(){return this.allSearchableItems.length>0}rebuildSearchIndex(){this.allSearchableItems.length>0&&(this.searchIndex=new Zt(this.allSearchableItems,this.fuseOptions))}async buildSearchIndex(){if(!this.isIndexing){this.isIndexing=!0;try{const{useSkillsStore:t}=await qs(async()=>{const{useSkillsStore:j}=await Promise.resolve().then(()=>G6);return{useSkillsStore:j}},[]),{useRacesStore:n}=await qs(async()=>{const{useRacesStore:j}=await Promise.resolve().then(()=>F6);return{useRacesStore:j}},void 0),{useTraitsStore:s}=await qs(async()=>{const{useTraitsStore:j}=await Promise.resolve().then(()=>Y6);return{useTraitsStore:j}},void 0),{useReligionsStore:r}=await qs(async()=>{const{useReligionsStore:j}=await Promise.resolve().then(()=>q6);return{useReligionsStore:j}},void 0),{useBirthsignsStore:a}=await qs(async()=>{const{useBirthsignsStore:j}=await Promise.resolve().then(()=>I6);return{useBirthsignsStore:j}},void 0),{useDestinyNodesStore:i}=await qs(async()=>{const{useDestinyNodesStore:j}=await Promise.resolve().then(()=>U6);return{useDestinyNodesStore:j}},void 0),{usePerkTreesStore:l}=await qs(async()=>{const{usePerkTreesStore:j}=await Promise.resolve().then(()=>n5);return{usePerkTreesStore:j}},void 0),{useRecipesStore:c}=await qs(async()=>{const{useRecipesStore:j}=await Promise.resolve().then(()=>V6);return{useRecipesStore:j}},void 0),{SpellDataProvider:u}=await qs(async()=>{const{SpellDataProvider:j}=await Promise.resolve().then(()=>Z6);return{SpellDataProvider:j}},void 0),d=t.getState().data,f=n.getState().data,m=s.getState().data,h=r.getState().data,p=a.getState().data,y=i.getState().data,v=l.getState().data,x=c.getState().data,w=await u.getInstance().loadSpells();if(!(d!=null&&d.length)||!(f!=null&&f.length)||!(m!=null&&m.length)||!(h!=null&&h.length)||!(p!=null&&p.length)||!(y!=null&&y.length)||!(v!=null&&v.length)||!(x!=null&&x.length)||!(w!=null&&w.length))throw console.log("Stores not loaded yet, cannot build search index"),new Error("Store data not available - stores must be loaded before building search index");const N=[...pb(d),...xb(f),...yb(m),...vb(h),...bb(p),...wb(y),...Nb(v),...Cb(x),...Sb(w)];this.allSearchableItems=N,this.searchIndex=new Zt(N,this.fuseOptions)}catch(t){throw console.error("Failed to build search index:",t),t}finally{this.isIndexing=!1}}}async addPerkReferencesToIndex(t){if(this.indexedStores.has("perk-references"))return;const n=jb(t);this.allSearchableItems.push(...n),this.indexedStores.add("perk-references"),this.searchIndex=new Zt(this.allSearchableItems,this.fuseOptions)}search(t,n){if(!this.searchIndex)return[];if(!t.trim()||t.trim()==="*"){let i=this.allSearchableItems;return n&&(i=this.applyFilters(i,n)),i.map(l=>({item:l,score:1,matches:[],highlights:[]}))}if(!this.searchIndex)return console.warn("Search index not ready, returning empty results"),[];const s=this.searchIndex.search(t);let r=s;return n&&(r=s.filter(i=>{const l=i.item;return this.applyFilters([l],n).length>0})),r.map(i=>({item:i.item,score:i.score||0,matches:[...i.matches||[]],highlights:cI([...i.matches||[]])}))}applyFilters(t,n){return t.filter(s=>{var r,a,i,l,c,u,d;if(n.types.length>0&&!n.types.includes(s.type)||n.categories.length>0&&s.category&&!n.categories.includes(s.category))return!1;if(n.tags.length>0){const f=s.tags.map(p=>p.toLowerCase());if(!n.tags.map(p=>p.toLowerCase()).some(p=>f.some(y=>y.includes(p)||p.includes(y))))return!1}if(s.type==="skill"&&((r=n.skillCategories)!=null&&r.length)&&(!s.category||!n.skillCategories.includes(s.category))||s.type==="race"&&((a=n.raceTypes)!=null&&a.length)&&(!s.category||!n.raceTypes.includes(s.category))||s.type==="trait"&&((i=n.traitTypes)!=null&&i.length)&&(!s.category||!n.traitTypes.includes(s.category))||s.type==="religion"&&((l=n.religionTypes)!=null&&l.length)&&(!s.category||!n.religionTypes.includes(s.category))||s.type==="birthsign"&&((c=n.birthsignGroups)!=null&&c.length)&&(!s.category||!n.birthsignGroups.includes(s.category))||s.type==="spell"&&((u=n.spellSchools)!=null&&u.length)&&(!s.category||!n.spellSchools.includes(s.category)))return!1;if(s.type==="spell"&&((d=n.spellLevels)!=null&&d.length)){const f=s.originalData;if(!f.level||!n.spellLevels.includes(f.level))return!1}return!0})}getAvailableFilters(){const t=new Map,n=new Map,s=new Map;return this.allSearchableItems.forEach(r=>{const a=t.get(r.type)||0;if(t.set(r.type,a+1),r.category){const i=n.get(r.category)||0;n.set(r.category,i+1)}r.tags.forEach(i=>{const l=s.get(i)||0;s.set(i,l+1)})}),{types:Array.from(t.entries()).map(([r,a])=>({value:r,label:r.charAt(0).toUpperCase()+r.slice(1),count:a})),categories:Array.from(n.entries()).map(([r,a])=>({value:r,label:r,count:a})),tags:Array.from(s.entries()).map(([r,a])=>({value:r,label:r,count:a}))}}getSearchableItems(){return this.allSearchableItems}isReady(){return this.searchIndex!==null&&!this.isIndexing}isLoading(){return this.isIndexing}}const dI={skill:{label:"Skill",icon:"",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},race:{label:"Race",icon:"",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},trait:{label:"Trait",icon:"",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},religion:{label:"Religion",icon:"",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},birthsign:{label:"Birthsign",icon:"",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},destiny:{label:"Destiny",icon:"",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},perk:{label:"Perk",icon:"",color:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"}};function fI({type:e,className:t,variant:n="default"}){const s=dI[e]||{label:e.charAt(0).toUpperCase()+e.slice(1),icon:"",color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return n==="default"?o.jsxs(K,{className:U("inline-flex items-center gap-1 px-2 py-1 text-xs font-medium",s.color,t),children:[o.jsx("span",{children:s.icon}),o.jsx("span",{children:s.label})]}):o.jsxs(K,{variant:n,className:U("inline-flex items-center gap-1",t),children:[o.jsx("span",{children:s.icon}),o.jsx("span",{children:s.label})]})}function mI({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){return o.jsxs(ce,{className:U("transition-all hover:shadow-md",t),expanded:n,onToggle:s,children:[o.jsx(ce.Header,{children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(fI,{type:e.type})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-sm truncate",children:e.name}),e.category&&o.jsx(K,{variant:"outline",className:"text-xs",children:e.category})]})})]})}),o.jsxs(ce.Summary,{children:[e.description&&o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((a,i)=>o.jsx(K,{variant:"secondary",className:"text-xs",children:a},`${a}-${i}`)),e.tags.length>3&&o.jsxs(K,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-3]})]})]}),o.jsxs(ce.Details,{children:[e.tags.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"All Tags"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((a,i)=>o.jsx(K,{variant:"secondary",className:"text-xs",children:a},`${a}-${i}`))})]}),e.description&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})]})}function po(e,t){return e?e.find(s=>{const r=!!s.id&&s.id===t.id,a=!!s.edid&&s.edid===t.edid,i=!!s.treeId&&s.treeId===t.treeId,l=!!s.name&&s.name===t.name;return r||a||i||l}):void 0}function hI({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const a=fo(l=>l.data),i=po(a,e.originalData);return i?o.jsxs(ce,{className:t,expanded:n,onToggle:s,children:[o.jsx(ce.Header,{children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:i.name.charAt(0)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-primary",children:i.name}),i.group&&o.jsx("span",{className:"text-sm text-muted-foreground",children:i.group})]})]})}),o.jsxs(ce.Summary,{children:[i.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:i.description}),i.stat_modifications&&i.stat_modifications.length>0&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[o.jsx("span",{className:"font-medium",children:"Stat bonuses:"})," ",i.stat_modifications.slice(0,2).map(l=>`${l.stat} +${l.value}`).join(", "),i.stat_modifications.length>2&&"..."]})]}),o.jsxs(ce.Details,{children:[i.stat_modifications&&i.stat_modifications.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Stat Bonuses"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.stat_modifications.map((l,c)=>o.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:[l.stat," +",l.value]},`${l.stat}-${c}`))})]}),i.skill_bonuses&&i.skill_bonuses.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Skill Bonuses"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.skill_bonuses.map((l,c)=>o.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:[l.stat," +",l.value]},`${l.stat}-${c}`))})]}),i.powers&&i.powers.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Powers"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.powers.map((l,c)=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l.name},`${l.name}-${c}`))})]}),i.tags&&i.tags.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.tags.map((l,c)=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded",children:l},`${l}-${c}`))})]})]})]}):(console.error("Birthsign not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalBirthsignsInStore:a.length,firstFewBirthsigns:a.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}function gI({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const a=el(l=>l.data),i=po(a,e.originalData);return i?o.jsxs(ce,{className:t,expanded:n,onToggle:s,children:[o.jsx(ce.Header,{children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:i.icon?o.jsx("img",{src:i.icon,alt:i.name,className:"w-6 h-6 object-contain"}):o.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:i.name.charAt(0)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-primary",children:i.name}),i.category&&o.jsx("span",{className:"text-sm text-muted-foreground",children:i.category})]})]})}),o.jsx(ce.Summary,{children:i.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:i.description})}),o.jsxs(ce.Details,{children:[i.effects&&i.effects.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Effects"}),o.jsx("div",{className:"space-y-1",children:i.effects.map((l,c)=>o.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",l]},c))})]}),i.tags&&i.tags.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.tags.map((l,c)=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]})]})]}):(console.error("Destiny node not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalDestinyNodesInStore:a.length,firstFewDestinyNodes:a.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}class pI{constructor(t){Ue(this,"perkNodes",[]);this.perkNodes=this.transformPerkTrees(t)}transformPerkTrees(t){const n=[];return t.forEach(s=>{s.perks.forEach(r=>{var i,l,c,u,d;const a={...r,skillTree:s.treeId,skillTreeName:s.treeName,isRoot:r.isRoot||!1,hasChildren:(((l=(i=r.connections)==null?void 0:i.children)==null?void 0:l.length)||0)>0,prerequisites:((c=r.connections)==null?void 0:c.parents)||[],connections:{parents:((u=r.connections)==null?void 0:u.parents)||[],children:((d=r.connections)==null?void 0:d.children)||[]},searchableText:this.generateSearchableText(r,s),tags:this.generateTags(r,s),category:this.determineCategory(s.treeName),minLevel:this.calculateMinLevel(r)};n.push(a)})}),n}calculateMinLevel(t){var s,r;let n=0;if(t.ranks&&t.ranks.length>0&&t.ranks.forEach(a=>{var i,l;(l=(i=a.prerequisites)==null?void 0:i.skillLevel)!=null&&l.level&&(n=Math.max(n,a.prerequisites.skillLevel.level))}),n===0)if(t.isRoot)n=1;else{const a=((r=(s=t.connections)==null?void 0:s.parents)==null?void 0:r.length)||0;n=Math.max(1,a*5)}return n}generateSearchableText(t,n){var r,a;return[t.name,(r=t.ranks)==null?void 0:r.map(i=>{var l;return(l=i.description)==null?void 0:l.base}).join(" "),(a=t.ranks)==null?void 0:a.map(i=>{var l;return(l=i.description)==null?void 0:l.subtext}).join(" "),n.treeName,this.determineCategory(n.treeName)].filter(Boolean).join(" ").toLowerCase()}generateTags(t,n){var a,i,l,c;const s=[n.treeName,this.determineCategory(n.treeName),t.isRoot?"root":"branch",t.totalRanks>1?"multi-rank":"single-rank"];((i=(a=t.connections)==null?void 0:a.parents)==null?void 0:i.length)>0&&s.push("has-prerequisites"),((c=(l=t.connections)==null?void 0:l.children)==null?void 0:c.length)>0&&s.push("has-children");const r=this.calculateMinLevel(t);return r>0&&s.push(`level-${r}+`),s}determineCategory(t){return{Alchemy:"Magic",Alteration:"Magic",Conjuration:"Magic",Destruction:"Magic",Illusion:"Magic",Restoration:"Magic",Archery:"Combat",Block:"Combat","Heavy Armor":"Combat","One Handed":"Combat",Smithing:"Combat","Two Handed":"Combat","Light Armor":"Stealth",Lockpicking:"Stealth",Pickpocket:"Stealth",Sneak:"Stealth",Speech:"Stealth",Enchanting:"Crafting"}[t]||"Other"}getAllPerks(){return this.perkNodes}getPerksBySkill(t){return this.perkNodes.filter(n=>n.skillTree===t)}getPerksByCategory(t){return this.perkNodes.filter(n=>n.category===t)}getPerksByPrerequisite(t){return this.perkNodes.filter(n=>n.prerequisites.includes(t))}getRootPerks(){return this.perkNodes.filter(t=>t.isRoot)}getMultiRankPerks(){return this.perkNodes.filter(t=>t.totalRanks>1)}searchPerks(t){const n=t.toLowerCase();return this.perkNodes.filter(s=>s.searchableText.includes(n)||s.name.toLowerCase().includes(n)||s.tags.some(r=>r.toLowerCase().includes(n)))}}function uk(){const{data:e,loading:t,error:n}=p0(),s=g.useMemo(()=>e?new pI(e):null,[e]),r=g.useMemo(()=>(s==null?void 0:s.getAllPerks())||[],[s]);return{dataProvider:s,allPerks:r,loading:t,error:n}}function um(){const{dataProvider:e,allPerks:t,loading:n,error:s}=uk(),r=g.useMemo(()=>{const h=new Map;return t.forEach(p=>{h.has(p.skillTree)||h.set(p.skillTree,{id:p.skillTree,name:p.skillTreeName,count:0});const y=h.get(p.skillTree);y.count++}),Array.from(h.values()).sort((p,y)=>p.name.localeCompare(y.name))},[t]),a=g.useMemo(()=>{const h=new Map;return t.forEach(p=>{h.has(p.category)||h.set(p.category,{name:p.category,count:0});const y=h.get(p.category);y.count++}),Array.from(h.values()).sort((p,y)=>p.name.localeCompare(y.name))},[t]),i=g.useMemo(()=>{const h=new Set;return t.forEach(p=>{p.tags.forEach(y=>h.add(y))}),Array.from(h).sort()},[t]),l=g.useMemo(()=>t.filter(h=>h.isRoot),[t]),c=g.useMemo(()=>t.filter(h=>h.totalRanks>1),[t]),u=g.useMemo(()=>t.filter(h=>h.totalRanks===1),[t]),d=g.useMemo(()=>h=>(e==null?void 0:e.getPerksBySkill(h))||[],[e]),f=g.useMemo(()=>h=>(e==null?void 0:e.getPerksByCategory(h))||[],[e]),m=g.useMemo(()=>h=>(e==null?void 0:e.searchPerks(h))||[],[e]);return{allPerks:t,skillTrees:r,categories:a,tags:i,rootPerks:l,multiRankPerks:c,singleRankPerks:u,getPerksBySkill:d,getPerksByCategory:f,searchPerks:m,loading:n,error:s,dataProvider:e}}const xI={skill:{Alchemy:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Alteration:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Archery:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200",Block:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Conjuration:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Destruction:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Enchanting:"bg-indigo-100 text-indigo-800 border-indigo-200 hover:bg-indigo-200","Heavy Armor":"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",Illusion:"bg-pink-100 text-pink-800 border-pink-200 hover:bg-pink-200","Light Armor":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200",Lockpicking:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200","One-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Pickpocket:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Restoration:"bg-teal-100 text-teal-800 border-teal-200 hover:bg-teal-200",Smithing:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Sneak:"bg-slate-100 text-slate-800 border-slate-200 hover:bg-slate-200",Speech:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200","Two-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200"},category:{Combat:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Crafting:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Survival:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Social:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200"},rank:{"1 rank":"bg-blue-100 text-blue-800 border-blue-200","2 ranks":"bg-green-100 text-green-800 border-green-200","3 ranks":"bg-purple-100 text-purple-800 border-purple-200","4 ranks":"bg-orange-100 text-orange-800 border-orange-200","5 ranks":"bg-red-100 text-red-800 border-red-200"},availability:{Available:"bg-green-100 text-green-800 border-green-200",Unavailable:"bg-red-100 text-red-800 border-red-200","Prerequisites Met":"bg-blue-100 text-blue-800 border-blue-200","Prerequisites Missing":"bg-gray-100 text-gray-800 border-gray-200"},level:{"Level 1+":"bg-green-100 text-green-800 border-green-200","Level 5+":"bg-blue-100 text-blue-800 border-blue-200","Level 10+":"bg-purple-100 text-purple-800 border-purple-200","Level 15+":"bg-orange-100 text-orange-800 border-orange-200","Level 20+":"bg-red-100 text-red-800 border-red-200","Level 25+":"bg-indigo-100 text-indigo-800 border-indigo-200","Level 30+":"bg-pink-100 text-pink-800 border-pink-200","Level 35+":"bg-teal-100 text-teal-800 border-teal-200","Level 40+":"bg-cyan-100 text-cyan-800 border-cyan-200","Level 45+":"bg-emerald-100 text-emerald-800 border-emerald-200","Level 50+":"bg-amber-100 text-amber-800 border-amber-200"},root:{Root:"bg-gold-100 text-gold-800 border-gold-200 hover:bg-gold-200"}},yI={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},vI="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function _o({label:e,type:t,size:n="md",className:s}){const a=xI[t][e]||vI;return o.jsx(K,{variant:"outline",className:U(a,yI[n],"font-medium transition-colors",s),children:e})}function Og({item:e,className:t,isExpanded:n=!1,onToggle:s,disableHover:r=!1,viewMode:a="grid"}){const i=e.originalPerk,{allPerks:l}=um();if(!i)return null;const u=(d=>d.map(f=>{const m=l.find(h=>h.edid===f);return(m==null?void 0:m.name)||f}))(i.prerequisites);return o.jsxs(ce,{className:t,expanded:n,onToggle:s,disableHover:r,children:[o.jsxs(ce.Header,{children:[o.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:e.name.charAt(0)})}),o.jsx("div",{className:"flex-1 min-w-0",children:a==="grid"?o.jsxs("div",{className:"space-y-1",children:[o.jsx(pt,{className:"text-primary font-semibold truncate",children:e.name}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.skillTreeName&&o.jsx(_o,{label:i.skillTreeName,type:"skill",size:"sm"}),i.totalRanks>1&&o.jsx(_o,{label:`${i.totalRanks} ranks`,type:"rank",size:"sm"}),i.minLevel&&o.jsx(_o,{label:`Level ${i.minLevel}+`,type:"level",size:"sm"})]})]}):o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx(pt,{className:"text-primary font-semibold truncate",children:e.name}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.skillTreeName&&o.jsx(_o,{label:i.skillTreeName,type:"skill",size:"sm"}),i.totalRanks>1&&o.jsx(_o,{label:`${i.totalRanks} ranks`,type:"rank",size:"sm"}),i.minLevel&&o.jsx(_o,{label:`Level ${i.minLevel}+`,type:"level",size:"sm"})]})]})})]}),o.jsxs(ce.Summary,{children:[o.jsx(Fe,{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((d,f)=>o.jsx(K,{variant:"outline",className:"text-xs",children:d},f)),e.tags.length>3&&o.jsxs(aS,{className:"text-muted-foreground",children:["+",e.tags.length-3," more"]})]})]}),o.jsxs(ce.Details,{children:[i.prerequisites&&i.prerequisites.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Prerequisites"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:u.map((d,f)=>o.jsx(K,{variant:"secondary",className:"text-xs",children:d},f))})]}),i.ranks&&i.ranks.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Perk Ranks"}),o.jsx("div",{className:"space-y-2",children:i.ranks.map((d,f)=>{var m;return o.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[o.jsx("div",{className:"flex items-center justify-between mb-1",children:o.jsxs("span",{className:"font-medium text-sm",children:["Rank ",f+1]})}),((m=d.description)==null?void 0:m.base)&&o.jsx(Fe,{className:"text-sm text-muted-foreground",children:d.description.base})]},f)})})]}),e.tags.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((d,f)=>o.jsx(K,{variant:"outline",className:"text-xs",children:d},f))})]})]})]})}function dk(e,t){var i,l,c,u,d,f;const n=((l=(i=t.perks)==null?void 0:i.selected)==null?void 0:l[e.skillTree])||[],s=((u=(c=t.perks)==null?void 0:c.ranks)==null?void 0:u[e.skillTree])||{},r=n.includes(e.edid),a=s[e.edid]||0;return{id:e.edid,name:e.name,description:((f=(d=e.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:e.category,tags:e.tags,isSelected:r,originalPerk:e,skillTree:e.skillTree,skillTreeName:e.skillTreeName,isRoot:e.isRoot,hasChildren:e.hasChildren,prerequisites:e.prerequisites,connections:e.connections,totalRanks:e.totalRanks,currentRank:a,isAvailable:e.isRoot||e.prerequisites.every(m=>n.includes(m)),minLevel:e.minLevel}}function bI({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const{build:a}=vt(),{allPerks:i}=um(),l=e.originalData,c=i.find(f=>f.edid===(l==null?void 0:l.edid));if(!c)return console.warn("Perk reference not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData}),null;const d={...dk(c,a),originalPerk:c};return o.jsx(Og,{item:d,className:t,isExpanded:n,onToggle:s,viewMode:r})}function wI({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){var c;const a=oo(u=>u.data),i=po(a,e.originalData);if(!i)return console.error("Perk tree not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalPerkTreesInStore:a.length,firstFewPerkTrees:a.slice(0,3).map(u=>({treeId:u.treeId,treeName:u.treeName||u.name}))}),null;const l=((c=i.perks)==null?void 0:c.length)||0;return o.jsxs(ce,{className:t,expanded:n,onToggle:s,children:[o.jsx(ce.Header,{children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:(i.treeName||i.name).charAt(0)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-primary",children:i.treeName||i.name}),i.category&&o.jsx("span",{className:"text-sm text-muted-foreground",children:i.category})]})]})}),o.jsxs(ce.Summary,{children:[i.treeDescription&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:i.treeDescription}),l>0&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[o.jsx("span",{className:"font-medium",children:"Perks:"})," ",l," total"]})]}),o.jsxs(ce.Details,{children:[i.perks&&i.perks.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Sample Perks"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.perks.slice(0,6).map((u,d)=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:u.name},`${u.edid}-${d}`)),i.perks.length>6&&o.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded text-muted-foreground",children:["+",i.perks.length-6," more"]})]})]}),i.tags&&i.tags.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.tags.map((u,d)=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded",children:u},`${u}-${d}`))})]})]})]})}function NI({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const a=ua(c=>c.data),i=po(a,e.originalData);if(!i)return console.error("Race not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalRacesInStore:a.length,firstFewRaces:a.slice(0,3).map(c=>({edid:c.edid,name:c.name}))}),null;const l={id:i.id||i.edid||i.name,name:i.name,description:i.description||"",summary:i.description||"",category:i.category||"",tags:i.tags||[],type:"race",effects:[]};return o.jsx("div",{className:t,children:o.jsx(Fc,{item:{...l,originalRace:i},isExpanded:n,onToggle:s,showToggle:!1,disableHover:!1,className:"w-full"})})}function jI({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){var u,d,f,m,h,p,y,v,x,b,w,N,j,S,C,k,E,_,P,O;const a=tl(L=>L.data),i=po(a,e.originalData);if(!i)return console.error("Religion not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalReligionsInStore:a.length,firstFewReligions:a.slice(0,3).map(L=>({id:L.id,name:L.name}))}),null;const l={name:i.name,type:i.type||i.pantheon||"Unknown",blessing:{spellId:((u=i.blessing)==null?void 0:u.spellId)||"",spellName:((d=i.blessing)==null?void 0:d.spellName)||"",effects:((f=i.blessing)==null?void 0:f.effects)||[]},boon1:{spellId:((m=i.boon1)==null?void 0:m.spellId)||"",spellName:((h=i.boon1)==null?void 0:h.spellName)||"",effects:((p=i.boon1)==null?void 0:p.effects)||[]},boon2:{spellId:((y=i.boon2)==null?void 0:y.spellId)||"",spellName:((v=i.boon2)==null?void 0:v.spellName)||"",effects:((x=i.boon2)==null?void 0:x.effects)||[]},tenet:{spellId:((b=i.tenet)==null?void 0:b.spellId)||"",spellName:((w=i.tenet)==null?void 0:w.spellName)||"",header:((N=i.tenet)==null?void 0:N.header)||"",description:((j=i.tenet)==null?void 0:j.description)||"",effects:((S=i.tenet)==null?void 0:S.effects)||[]},favoredRaces:i.favoredRaces||[],worshipRestrictions:i.worshipRestrictions||[]},c={id:i.id||i.name,name:i.name,description:((C=i.tenet)==null?void 0:C.description)||"",category:i.type||i.pantheon||"",tags:i.favoredRaces||i.tags||[],type:"religion",summary:((k=i.tenet)==null?void 0:k.description)||"",effects:[...((_=(E=i.tenet)==null?void 0:E.effects)==null?void 0:_.map(L=>({type:"positive",name:L.effectName,description:L.effectDescription,value:L.magnitude,target:L.targetAttribute||""})))||[],...((O=(P=i.blessing)==null?void 0:P.effects)==null?void 0:O.map(L=>({type:"positive",name:L.effectName,description:L.effectDescription,value:L.magnitude,target:L.targetAttribute||""})))||[]]};return o.jsx("div",{className:t,children:o.jsx(Bd,{item:c,originalReligion:l,isExpanded:n,onToggle:s,className:"w-full",showBlessings:!0,showTenets:!0,showBoons:!0,showFavoredRaces:!0,disableHover:!1,showToggle:!1})})}function SI({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const a=mo(l=>l.data),i=po(a,e.originalData);return i?o.jsxs(ce,{className:t,expanded:n,onToggle:s,children:[o.jsx(ce.Header,{children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:i.name.charAt(0)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-primary",children:i.name}),i.category&&o.jsx("span",{className:"text-sm text-muted-foreground",children:i.category})]})]})}),o.jsxs(ce.Summary,{children:[i.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:i.description}),i.keyAbilities&&i.keyAbilities.length>0&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[o.jsx("span",{className:"font-medium",children:"Key abilities:"})," ",i.keyAbilities.slice(0,2).join(", "),i.keyAbilities.length>2&&"..."]})]}),o.jsxs(ce.Details,{children:[i.tags&&i.tags.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.tags.map((l,c)=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]}),i.keyAbilities&&i.keyAbilities.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Key Abilities"}),o.jsx("div",{className:"space-y-1",children:i.keyAbilities.map((l,c)=>o.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",l]},c))})]})]})]}):(console.error("Skill not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalSkillsInStore:a.length,firstFewSkills:a.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}function CI({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const a=ho(l=>l.data),i=po(a,e.originalData);return i?o.jsxs(ce,{className:t,expanded:n,onToggle:s,children:[o.jsx(ce.Header,{children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:i.name.charAt(0)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-primary",children:i.name}),i.category&&o.jsx("span",{className:"text-sm text-muted-foreground",children:i.category})]})]})}),o.jsx(ce.Summary,{children:i.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:i.description})}),o.jsxs(ce.Details,{children:[i.tags&&i.tags.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.tags.map((l,c)=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]}),i.description&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})]})]}):(console.error("Trait not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalTraitsInStore:a.length,firstFewTraits:a.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}const kI={Destruction:DN,Restoration:Tf,Conjuration:i4,Illusion:cx,Alteration:Aa,"":ec},EI={Novice:"bg-green-100 text-green-800 border-green-200",Apprentice:"bg-blue-100 text-blue-800 border-blue-200",Adept:"bg-purple-100 text-purple-800 border-purple-200",Expert:"bg-orange-100 text-orange-800 border-orange-200",Master:"bg-red-100 text-red-800 border-red-200"};function N0({spell:e,className:t,isExpanded:n=!1,onToggle:s,disableHover:r=!1}){var l;const a=kI[e.school]||ec,i=()=>{s==null||s()};return o.jsxs(ce,{className:t,expanded:n,onToggle:i,disableHover:r,children:[o.jsx(ce.Header,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(a,{className:"w-5 h-5 text-muted-foreground"}),o.jsx("h3",{className:"text-primary font-semibold text-lg",children:e.name}),o.jsx("span",{className:"ml-auto transition-transform duration-200 text-muted-foreground",children:o.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8l4 4 4-4"})})})]})}),o.jsx(ce.Summary,{children:o.jsxs("div",{className:"px-4 py-2 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 7v14"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"})]}),o.jsx("span",{children:e.school})]}),o.jsx(K,{variant:"secondary",className:EI[e.level]||"",children:e.level})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description})]})}),o.jsx(ce.Details,{children:o.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.hasEffects&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Effects"}),o.jsx("div",{className:"space-y-2",children:e.effects.map((c,u)=>o.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-sm",children:c.name}),c.magnitude>0&&o.jsx(K,{variant:"outline",className:"text-xs",children:c.magnitude})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),o.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-muted-foreground",children:[c.duration>0&&o.jsxs("span",{children:["Duration: ",c.duration,"s"]}),c.area>0&&o.jsxs("span",{children:["Area: ",c.area,"ft"]})]})]},u))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Statistics"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Magicka Cost:"}),o.jsxs("span",{className:"font-medium",children:[e.magickaCost," MP"]})]}),e.totalMagnitude>0&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Magnitude:"}),o.jsx("span",{className:"font-medium",children:e.totalMagnitude})]}),e.maxDuration>0&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Max Duration:"}),o.jsxs("span",{className:"font-medium",children:[e.maxDuration,"s"]})]}),e.maxArea>0&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Max Area:"}),o.jsxs("span",{className:"font-medium",children:[e.maxArea,"ft"]})]})]})]}),(e.tome||((l=e.vendors)==null?void 0:l.length))&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Additional Info"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[e.tome&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Tome:"}),o.jsx("span",{children:e.tome})]}),e.vendors&&e.vendors.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Vendors:"}),o.jsx("span",{children:e.vendors.join(", ")})]})]})]}),e.tags&&e.tags.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((c,u)=>o.jsx(K,{variant:"outline",className:"text-xs",children:c},u))})]})]})})]})}const _I=({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="card"})=>{const a=e.originalData;if(!a)return console.warn("SpellSearchCard: Missing spell data for item:",e),o.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[o.jsx("h3",{className:"font-semibold",children:"Spell not found"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});if(!a.name||!a.editorId)return console.warn("SpellSearchCard: Invalid spell data structure:",a),o.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[o.jsx("h3",{className:"font-semibold",children:"Invalid spell data"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});const i=$.useCallback(()=>{s&&s()},[s]);return o.jsx(N0,{spell:a,isExpanded:n,onToggle:i,className:t})},AI=({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"})=>{const a=e.originalData;if(!a||!a.name)return console.warn("RecipeSearchCard: Missing or invalid recipe data for item:",e),o.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[o.jsx("h3",{className:"font-semibold",children:"Recipe not found"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});const i=qe.addComputedProperties(a),l=$.useCallback(()=>{s&&s()},[s]);return o.jsx(y0,{recipe:i,variant:r==="list"?"compact":"default",isSelected:!1,onClick:l,showEffects:!0,showIngredients:!0,className:t})};function kb({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){switch(e.type){case"race":return o.jsx(NI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"skill":return o.jsx(SI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"trait":return o.jsx(CI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"birthsign":return o.jsx(hI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"destiny":return o.jsx(gI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"religion":return o.jsx(jI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"perk":return o.jsx(wI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"spell":return o.jsx(_I,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"perk-reference":return o.jsx(bI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"recipe":return o.jsx(AI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});default:return o.jsx(mI,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r})}}function TI({item:e}){return o.jsx("div",{className:`w-full border-2 rounded-lg p-4 ${e.color} transition-all duration-200 hover:shadow-lg`,style:{minHeight:`${e.height}px`},"data-testid":`test-card-${e.id}`,children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:e.title}),o.jsxs("span",{className:"text-xs text-gray-500",children:["#",e.id.slice(-6)]})]}),o.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((t,n)=>o.jsx("span",{className:"px-2 py-1 text-xs bg-white/50 rounded-full text-gray-700 border",children:t},n))}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Height: ",e.height,"px"]})]})})}const MI={scaling:o.jsx(ec,{className:"h-4 w-4 text-skyrim-gold"}),ability:o.jsx(Pt,{className:"h-4 w-4 text-blue-500"}),combat:o.jsx(dg,{className:"h-4 w-4 text-red-500"}),magic:o.jsx(nc,{className:"h-4 w-4 text-blue-500"}),stealth:o.jsx(cx,{className:"h-4 w-4 text-green-500"}),crafting:o.jsx(i3,{className:"h-4 w-4 text-orange-500"}),healing:o.jsx(Tf,{className:"h-4 w-4 text-red-400"}),protection:o.jsx(Aa,{className:"h-4 w-4 text-blue-400"}),damage:o.jsx(Nd,{className:"h-4 w-4 text-red-600"}),utility:o.jsx(D4,{className:"h-4 w-4 text-purple-500"}),movement:o.jsx(Af,{className:"h-4 w-4 text-cyan-500"}),social:o.jsx(Q4,{className:"h-4 w-4 text-yellow-500"}),thievery:o.jsx(y4,{className:"h-4 w-4 text-green-600"}),ranged:o.jsx(JR,{className:"h-4 w-4 text-orange-400"})},RI={Combat:"",Magic:"",Stealth:""},DI={Combat:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200"},zI={sm:"text-xs px-2 py-0.5"};function LI({item:e,originalSkill:t,isExpanded:n=!1,onToggle:s,onSelect:r,className:a,showScaling:i=!0,showAbilities:l=!0,showTags:c=!0}){const u=RI[e.category||""]||"",d=DI[e.category||""]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",f=m=>MI[m]||o.jsx(Pt,{className:"h-4 w-4 text-skyrim-gold"});return o.jsxs(DC,{isExpanded:n,onToggle:s||(()=>{}),className:a,children:[o.jsx("div",{className:"flex items-start gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:m=>{m.stopPropagation(),r==null||r()},children:[o.jsx("span",{className:"text-lg",children:u}),o.jsx(pt,{className:"text-base font-semibold",children:e.name}),o.jsx(lo,{itemId:e.id,itemType:"skill",itemName:e.name})]}),o.jsx(Fe,{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]})}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(K,{variant:"outline",className:U(d,zI.sm),children:e.category})}),l&&(t==null?void 0:t.keyAbilities)&&t.keyAbilities.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Qn,{className:"text-sm font-medium flex items-center gap-2",children:[f("ability"),"Key Abilities"]}),o.jsx("ul",{className:"space-y-1",children:t.keyAbilities.map((m,h)=>o.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[o.jsx("span",{className:"text-skyrim-gold mt-1",children:""}),o.jsx("span",{children:m})]},h))})]}),c&&(t==null?void 0:t.metaTags)&&t.metaTags.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qn,{className:"text-sm font-medium",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:t.metaTags.map((m,h)=>o.jsx(K,{variant:"secondary",className:"text-xs px-2 py-0.5",children:m},h))})]})]})]})}function $I(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const fk=$.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Vc=()=>{const e=$.useContext(fk);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};$I(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function PI(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function OI(){return j0(/^Mac/)}function BI(){return j0(/^iPhone/)}function Eb(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function II(){return j0(/^iPad/)||OI()&&navigator.maxTouchPoints>1}function mk(){return BI()||II()}function j0(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const HI=24,UI=typeof window<"u"?g.useLayoutEffect:g.useEffect;function _b(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const oh=typeof document<"u"&&window.visualViewport;function Ab(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function hk(e){for(Ab(e)&&(e=e.parentElement);e&&!Ab(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const FI=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Cu=0,ih;function VI(e={}){let{isDisabled:t}=e;UI(()=>{if(!t)return Cu++,Cu===1&&mk()&&(ih=qI()),()=>{Cu--,Cu===0&&(ih==null||ih())}},[t])}function qI(){let e,t=0,n=f=>{e=hk(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},s=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,h=e.scrollTop,p=e.scrollHeight-e.clientHeight;p!==0&&((h<=0&&m>t||h>=p&&m<t)&&f.preventDefault(),t=m)},r=f=>{let m=f.target;Bg(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},a=f=>{let m=f.target;Bg(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",oh&&(oh.height<window.innerHeight?requestAnimationFrame(()=>{Tb(m)}):oh.addEventListener("resize",()=>Tb(m),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=_b(GI(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=_b(dl(document,"touchstart",n,{passive:!1,capture:!0}),dl(document,"touchmove",s,{passive:!1,capture:!0}),dl(document,"touchend",r,{passive:!1,capture:!0}),dl(document,"focus",a,!0),dl(window,"scroll",i));return()=>{u(),d(),window.scrollTo(l,c)}}function GI(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function dl(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function Tb(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=hk(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,r=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const i=n.getBoundingClientRect().bottom+HI;a>i&&(n.scrollTop+=r-s)}e=n.parentElement}}function Bg(e){return e instanceof HTMLInputElement&&!FI.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function ZI(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function YI(...e){return t=>e.forEach(n=>ZI(n,t))}function gk(...e){return g.useCallback(YI(...e),e)}const pk=new WeakMap;function Nt(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([r,a])=>{if(r.startsWith("--")){e.style.setProperty(r,a);return}s[r]=e.style[r],e.style[r]=a}),!n&&pk.set(e,s)}function XI(e,t){if(!e||!(e instanceof HTMLElement))return;let n=pk.get(e);n&&(e.style[t]=n[t])}const ht=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ku(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let r=s.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[ht(t)?13:12]):(r=s.match(/^matrix\((.+)\)$/),r?parseFloat(r[1].split(", ")[ht(t)?5:4]):null)}function KI(e){return 8*(Math.log(e+1)-2)}function lh(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function WI(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const tt={DURATION:.5,EASE:[.32,.72,0,1]},xk=.4,QI=.25,JI=100,yk=8,ja=16,Ig=26,ch="vaul-dragging";function vk(e){const t=$.useRef(e);return $.useEffect(()=>{t.current=e}),$.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function e9({defaultProp:e,onChange:t}){const n=$.useState(e),[s]=n,r=$.useRef(s),a=vk(t);return $.useEffect(()=>{r.current!==s&&(a(s),r.current=s)},[s,r,a]),n}function bk({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,r]=e9({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:s,l=vk(n),c=$.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else r(u)},[a,e,r,l]);return[i,c]}function t9({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:r,fadeFromIndex:a,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=bk({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[m,h]=$.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);$.useEffect(()=>{function C(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const p=$.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),y=$.useMemo(()=>{var C;return(C=n==null?void 0:n.findIndex(k=>k===d))!=null?C:null},[n,d]),v=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===d||!n,x=$.useMemo(()=>{const C=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var k;return(k=n==null?void 0:n.map(E=>{const _=typeof E=="string";let P=0;if(_&&(P=parseInt(E,10)),ht(l)){const L=_?P:m?E*C.height:0;return m?l==="bottom"?C.height-L:-C.height+L:L}const O=_?P:m?E*C.width:0;return m?l==="right"?C.width-O:-C.width+O:O}))!=null?k:[]},[n,m,c]),b=$.useMemo(()=>y!==null?x==null?void 0:x[y]:null,[x,y]),w=$.useCallback(C=>{var k;const E=(k=x==null?void 0:x.findIndex(_=>_===C))!=null?k:null;i(E),Nt(s.current,{transition:`transform ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,transform:ht(l)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`}),x&&E!==x.length-1&&a!==void 0&&E!==a&&E<a?Nt(r.current,{transition:`opacity ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,opacity:"0"}):Nt(r.current,{transition:`opacity ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(E,0)])},[s.current,n,x,a,r,f]);$.useEffect(()=>{if(d||e){var C;const k=(C=n==null?void 0:n.findIndex(E=>E===e||E===d))!=null?C:-1;x&&k!==-1&&typeof x[k]=="number"&&w(x[k])}},[d,e,n,x,w]);function N({draggedDistance:C,closeDrawer:k,velocity:E,dismissible:_}){if(a===void 0)return;const P=l==="bottom"||l==="right"?(b??0)-C:(b??0)+C,O=y===a-1,L=y===0,T=C>0;if(O&&Nt(r.current,{transition:`opacity ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`}),!u&&E>2&&!T){_?k():w(x[0]);return}if(!u&&E>2&&T&&x&&n){w(x[n.length-1]);return}const z=x==null?void 0:x.reduce((D,M)=>typeof D!="number"||typeof M!="number"?D:Math.abs(M-P)<Math.abs(D-P)?M:D),A=ht(l)?window.innerHeight:window.innerWidth;if(E>xk&&Math.abs(C)<A*.4){const D=T?1:-1;if(D>0&&p&&n){w(x[n.length-1]);return}if(L&&D<0&&_&&k(),y===null)return;w(x[y+D]);return}w(z)}function j({draggedDistance:C}){if(b===null)return;const k=l==="bottom"||l==="right"?b-C:b+C;(l==="bottom"||l==="right")&&k<x[x.length-1]||(l==="top"||l==="left")&&k>x[x.length-1]||Nt(s.current,{transform:ht(l)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`})}function S(C,k){if(!n||typeof y!="number"||!x||a===void 0)return null;const E=y===a-1;if(y>=a&&k)return 0;if(E&&!k)return 1;if(!v&&!E)return null;const P=E?y+1:y-1,O=E?x[P]-x[P-1]:x[P+1]-x[P],L=C/Math.abs(O);return E?1-L:L}return{isLastSnapPoint:p,activeSnapPoint:d,shouldFade:v,getPercentageDragged:S,setActiveSnapPoint:f,activeSnapPointIndex:y,onRelease:N,onDrag:j,snapPointsOffset:x}}const n9=()=>()=>{};function s9(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:r}=Vc(),a=$.useRef(null),i=g.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Ig)/window.innerWidth}$.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;WI(s&&!r?lh(document.body,{background:"black"}):n9,lh(c,{transformOrigin:ht(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${tt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${tt.EASE.join(",")})`}));const u=lh(c,{borderRadius:`${yk}px`,overflow:"hidden",...ht(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},tt.DURATION*1e3)}}},[t,n,i])}let fl=null;function r9({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:r,noBodyStyles:a}){const[i,l]=$.useState(()=>typeof window<"u"?window.location.href:""),c=$.useRef(0),u=$.useCallback(()=>{if(Eb()&&fl===null&&e&&!a){fl={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=m-window.innerHeight;h&&c.current>=m&&(document.body.style.top=`${-(c.current+h)}px`)}),300)}},[e]),d=$.useCallback(()=>{if(Eb()&&fl!==null&&!a){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,fl),window.requestAnimationFrame(()=>{if(r&&i!==window.location.href){l(window.location.href);return}window.scrollTo(m,f)}),fl=null}},[i]);return $.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),$.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),$.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,s,i,t,n,u,d]),{restorePositionSetting:d}}function a9({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:r,snapPoints:a,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=QI,scrollLockTimeout:u=JI,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:m=a&&a.length-1,activeSnapPoint:h,setActiveSnapPoint:p,fixed:y,modal:v=!0,onClose:x,nested:b,noBodyStyles:w=!1,direction:N="bottom",defaultOpen:j=!1,disablePreventScroll:S=!0,snapToSequentialPoint:C=!1,preventScrollRestoration:k=!1,repositionInputs:E=!0,onAnimationEnd:_,container:P,autoFocus:O=!1}){var L,T;const[z=!1,A]=bk({defaultProp:j,prop:e,onChange:fe=>{t==null||t(fe),!fe&&!b&&Is(),setTimeout(()=>{_==null||_(fe)},tt.DURATION*1e3),fe&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),fe||(document.body.style.pointerEvents="auto")}}),[D,M]=$.useState(!1),[R,B]=$.useState(!1),[H,I]=$.useState(!1),V=$.useRef(null),Z=$.useRef(null),J=$.useRef(null),ie=$.useRef(null),ee=$.useRef(null),pe=$.useRef(!1),me=$.useRef(null),ve=$.useRef(0),F=$.useRef(!1),Y=$.useRef(!j),Q=$.useRef(0),X=$.useRef(null),se=$.useRef(((L=X.current)==null?void 0:L.getBoundingClientRect().height)||0),ye=$.useRef(((T=X.current)==null?void 0:T.getBoundingClientRect().width)||0),de=$.useRef(0),ne=$.useCallback(fe=>{a&&fe===kn.length-1&&(Z.current=new Date)},[]),{activeSnapPoint:Me,activeSnapPointIndex:ft,setActiveSnapPoint:ls,onRelease:Er,snapPointsOffset:kn,onDrag:Gn,shouldFade:Os,getPercentageDragged:Bs}=t9({snapPoints:a,activeSnapPointProp:h,setActiveSnapPointProp:p,drawerRef:X,fadeFromIndex:m,overlayRef:V,onSnapPointChange:ne,direction:N,container:P,snapToSequentialPoint:C});VI({isDisabled:!z||R||!v||H||!D||!E||!S});const{restorePositionSetting:Is}=r9({isOpen:z,modal:v,nested:b??!1,hasBeenOpened:D,preventScrollRestoration:k,noBodyStyles:w});function Zn(){return(window.innerWidth-Ig)/window.innerWidth}function _r(fe){var _e,ze;!d&&!a||X.current&&!X.current.contains(fe.target)||(se.current=((_e=X.current)==null?void 0:_e.getBoundingClientRect().height)||0,ye.current=((ze=X.current)==null?void 0:ze.getBoundingClientRect().width)||0,B(!0),J.current=new Date,mk()&&window.addEventListener("touchend",()=>pe.current=!1,{once:!0}),fe.target.setPointerCapture(fe.pointerId),ve.current=ht(N)?fe.pageY:fe.pageX)}function Ar(fe,_e){var ze;let Ae=fe;const Pe=(ze=window.getSelection())==null?void 0:ze.toString(),Bt=X.current?ku(X.current,N):null,zt=new Date;if(Ae.tagName==="SELECT"||Ae.hasAttribute("data-vaul-no-drag")||Ae.closest("[data-vaul-no-drag]"))return!1;if(N==="right"||N==="left")return!0;if(Z.current&&zt.getTime()-Z.current.getTime()<500)return!1;if(Bt!==null&&(N==="bottom"?Bt>0:Bt<0))return!0;if(Pe&&Pe.length>0)return!1;if(ee.current&&zt.getTime()-ee.current.getTime()<u&&Bt===0||_e)return ee.current=zt,!1;for(;Ae;){if(Ae.scrollHeight>Ae.clientHeight){if(Ae.scrollTop!==0)return ee.current=new Date,!1;if(Ae.getAttribute("role")==="dialog")return!0}Ae=Ae.parentNode}return!0}function Et(fe){if(X.current&&R){const _e=N==="bottom"||N==="right"?1:-1,ze=(ve.current-(ht(N)?fe.pageY:fe.pageX))*_e,Ae=ze>0,Pe=a&&!d&&!Ae;if(Pe&&ft===0)return;const Bt=Math.abs(ze),zt=document.querySelector("[data-vaul-drawer-wrapper]"),us=N==="bottom"||N==="top"?se.current:ye.current;let dn=Bt/us;const Fs=Bs(Bt,Ae);if(Fs!==null&&(dn=Fs),Pe&&dn>=1||!pe.current&&!Ar(fe.target,Ae))return;if(X.current.classList.add(ch),pe.current=!0,Nt(X.current,{transition:"none"}),Nt(V.current,{transition:"none"}),a&&Gn({draggedDistance:ze}),Ae&&!a){const _n=KI(ze),jo=Math.min(_n*-1,0)*_e;Nt(X.current,{transform:ht(N)?`translate3d(0, ${jo}px, 0)`:`translate3d(${jo}px, 0, 0)`});return}const ds=1-dn;if((Os||m&&ft===m-1)&&(s==null||s(fe,dn),Nt(V.current,{opacity:`${ds}`,transition:"none"},!0)),zt&&V.current&&i){const _n=Math.min(Zn()+dn*(1-Zn()),1),jo=8-dn*8,du=Math.max(0,14-dn*14);Nt(zt,{borderRadius:`${jo}px`,transform:ht(N)?`scale(${_n}) translate3d(0, ${du}px, 0)`:`scale(${_n}) translate3d(${du}px, 0, 0)`,transition:"none"},!0)}if(!a){const _n=Bt*_e;Nt(X.current,{transform:ht(N)?`translate3d(0, ${_n}px, 0)`:`translate3d(${_n}px, 0, 0)`})}}}$.useEffect(()=>{window.requestAnimationFrame(()=>{Y.current=!0})},[]),$.useEffect(()=>{var fe;function _e(){if(!X.current||!E)return;const ze=document.activeElement;if(Bg(ze)||F.current){var Ae;const Pe=((Ae=window.visualViewport)==null?void 0:Ae.height)||0,Bt=window.innerHeight;let zt=Bt-Pe;const us=X.current.getBoundingClientRect().height||0,dn=us>Bt*.8;de.current||(de.current=us);const Fs=X.current.getBoundingClientRect().top;if(Math.abs(Q.current-zt)>60&&(F.current=!F.current),a&&a.length>0&&kn&&ft){const ds=kn[ft]||0;zt+=ds}if(Q.current=zt,us>Pe||F.current){const ds=X.current.getBoundingClientRect().height;let _n=ds;ds>Pe&&(_n=Pe-(dn?Fs:Ig)),y?X.current.style.height=`${ds-Math.max(zt,0)}px`:X.current.style.height=`${Math.max(_n,Pe-Fs)}px`}else PI()||(X.current.style.height=`${de.current}px`);a&&a.length>0&&!F.current?X.current.style.bottom="0px":X.current.style.bottom=`${Math.max(zt,0)}px`}}return(fe=window.visualViewport)==null||fe.addEventListener("resize",_e),()=>{var ze;return(ze=window.visualViewport)==null?void 0:ze.removeEventListener("resize",_e)}},[ft,a,kn]);function Dt(fe){Hs(),x==null||x(),fe||A(!1),setTimeout(()=>{a&&ls(a[0])},tt.DURATION*1e3)}function cs(){if(!X.current)return;const fe=document.querySelector("[data-vaul-drawer-wrapper]"),_e=ku(X.current,N);Nt(X.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`}),Nt(V.current,{transition:`opacity ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,opacity:"1"}),i&&_e&&_e>0&&z&&Nt(fe,{borderRadius:`${yk}px`,overflow:"hidden",...ht(N)?{transform:`scale(${Zn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Zn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${tt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${tt.EASE.join(",")})`},!0)}function Hs(){!R||!X.current||(X.current.classList.remove(ch),pe.current=!1,B(!1),ie.current=new Date)}function Us(fe){if(!R||!X.current)return;X.current.classList.remove(ch),pe.current=!1,B(!1),ie.current=new Date;const _e=ku(X.current,N);if(!fe||!Ar(fe.target,!1)||!_e||Number.isNaN(_e)||J.current===null)return;const ze=ie.current.getTime()-J.current.getTime(),Ae=ve.current-(ht(N)?fe.pageY:fe.pageX),Pe=Math.abs(Ae)/ze;if(Pe>.05&&(I(!0),setTimeout(()=>{I(!1)},200)),a){Er({draggedDistance:Ae*(N==="bottom"||N==="right"?1:-1),closeDrawer:Dt,velocity:Pe,dismissible:d}),r==null||r(fe,!0);return}if(N==="bottom"||N==="right"?Ae>0:Ae<0){cs(),r==null||r(fe,!0);return}if(Pe>xk){Dt(),r==null||r(fe,!1);return}var Bt;const zt=Math.min((Bt=X.current.getBoundingClientRect().height)!=null?Bt:0,window.innerHeight);var us;const dn=Math.min((us=X.current.getBoundingClientRect().width)!=null?us:0,window.innerWidth),Fs=N==="left"||N==="right";if(Math.abs(_e)>=(Fs?dn:zt)*c){Dt(),r==null||r(fe,!1);return}r==null||r(fe,!0),cs()}$.useEffect(()=>(z&&(Nt(document.documentElement,{scrollBehavior:"auto"}),Z.current=new Date),()=>{XI(document.documentElement,"scrollBehavior")}),[z]);function Yn(fe){const _e=fe?(window.innerWidth-ja)/window.innerWidth:1,ze=fe?-ja:0;me.current&&window.clearTimeout(me.current),Nt(X.current,{transition:`transform ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,transform:ht(N)?`scale(${_e}) translate3d(0, ${ze}px, 0)`:`scale(${_e}) translate3d(${ze}px, 0, 0)`}),!fe&&X.current&&(me.current=setTimeout(()=>{const Ae=ku(X.current,N);Nt(X.current,{transition:"none",transform:ht(N)?`translate3d(0, ${Ae}px, 0)`:`translate3d(${Ae}px, 0, 0)`})},500))}function En(fe,_e){if(_e<0)return;const ze=(window.innerWidth-ja)/window.innerWidth,Ae=ze+_e*(1-ze),Pe=-ja+_e*ja;Nt(X.current,{transform:ht(N)?`scale(${Ae}) translate3d(0, ${Pe}px, 0)`:`scale(${Ae}) translate3d(${Pe}px, 0, 0)`,transition:"none"})}function ba(fe,_e){const ze=ht(N)?window.innerHeight:window.innerWidth,Ae=_e?(ze-ja)/ze:1,Pe=_e?-ja:0;_e&&Nt(X.current,{transition:`transform ${tt.DURATION}s cubic-bezier(${tt.EASE.join(",")})`,transform:ht(N)?`scale(${Ae}) translate3d(0, ${Pe}px, 0)`:`scale(${Ae}) translate3d(${Pe}px, 0, 0)`})}return $.useEffect(()=>{v||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[v]),$.createElement(Gj,{defaultOpen:j,onOpenChange:fe=>{!d&&!fe||(fe?M(!0):Dt(!0),A(fe))},open:z},$.createElement(fk.Provider,{value:{activeSnapPoint:Me,snapPoints:a,setActiveSnapPoint:ls,drawerRef:X,overlayRef:V,onOpenChange:t,onPress:_r,onRelease:Us,onDrag:Et,dismissible:d,shouldAnimate:Y,handleOnly:f,isOpen:z,isDragging:R,shouldFade:Os,closeDrawer:Dt,onNestedDrag:En,onNestedOpenChange:Yn,onNestedRelease:ba,keyboardIsOpen:F,modal:v,snapPointsOffset:kn,activeSnapPointIndex:ft,direction:N,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:w,container:P,autoFocus:O}},n))}const wk=$.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:s,onRelease:r,shouldFade:a,isOpen:i,modal:l,shouldAnimate:c}=Vc(),u=gk(t,n),d=s&&s.length>0;if(!l)return null;const f=$.useCallback(m=>r(m),[r]);return $.createElement(Sx,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":i&&d?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});wk.displayName="Drawer.Overlay";const S0=$.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...s},r){const{drawerRef:a,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:f,modal:m,isOpen:h,direction:p,snapPoints:y,container:v,handleOnly:x,shouldAnimate:b,autoFocus:w}=Vc(),[N,j]=$.useState(!1),S=gk(r,a),C=$.useRef(null),k=$.useRef(null),E=$.useRef(!1),_=y&&y.length>0;s9();const P=(L,T,z=0)=>{if(E.current)return!0;const A=Math.abs(L.y),D=Math.abs(L.x),M=D>A,R=["bottom","right"].includes(T)?1:-1;if(T==="left"||T==="right"){if(!(L.x*R<0)&&D>=0&&D<=z)return M}else if(!(L.y*R<0)&&A>=0&&A<=z)return!M;return E.current=!0,!0};$.useEffect(()=>{_&&window.requestAnimationFrame(()=>{j(!0)})},[]);function O(L){C.current=null,E.current=!1,l(L)}return $.createElement(Cx,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":N?"true":"false","data-vaul-snap-points":h&&_?"true":"false","data-vaul-custom-container":v?"true":"false","data-vaul-animate":b!=null&&b.current?"true":"false",...s,ref:S,style:d&&d.length>0?{"--snap-point-height":`${d[f??0]}px`,...t}:t,onPointerDown:L=>{x||(s.onPointerDown==null||s.onPointerDown.call(s,L),C.current={x:L.pageX,y:L.pageY},i(L))},onOpenAutoFocus:L=>{n==null||n(L),w||L.preventDefault()},onPointerDownOutside:L=>{if(e==null||e(L),!m||L.defaultPrevented){L.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:L=>{if(!m){L.preventDefault();return}},onPointerMove:L=>{if(k.current=L,x||(s.onPointerMove==null||s.onPointerMove.call(s,L),!C.current))return;const T=L.pageY-C.current.y,z=L.pageX-C.current.x,A=L.pointerType==="touch"?10:2;P({x:z,y:T},p,A)?c(L):(Math.abs(z)>A||Math.abs(T)>A)&&(C.current=null)},onPointerUp:L=>{s.onPointerUp==null||s.onPointerUp.call(s,L),C.current=null,E.current=!1,l(L)},onPointerOut:L=>{s.onPointerOut==null||s.onPointerOut.call(s,L),O(k.current)},onContextMenu:L=>{s.onContextMenu==null||s.onContextMenu.call(s,L),k.current&&O(k.current)}})});S0.displayName="Drawer.Content";const o9=250,i9=120,l9=$.forwardRef(function({preventCycle:e=!1,children:t,...n},s){const{closeDrawer:r,isDragging:a,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:m,onDrag:h}=Vc(),p=$.useRef(null),y=$.useRef(!1);function v(){if(y.current){w();return}window.setTimeout(()=>{x()},i9)}function x(){if(a||e||y.current){w();return}if(w(),!i||i.length===0){u||r();return}if(l===i[i.length-1]&&u){r();return}const j=i.findIndex(C=>C===l);if(j===-1)return;const S=i[j+1];c(S)}function b(){p.current=window.setTimeout(()=>{y.current=!0},o9)}function w(){p.current&&window.clearTimeout(p.current),y.current=!1}return $.createElement("div",{onClick:v,onPointerCancel:w,onPointerDown:N=>{d&&m(N),b()},onPointerMove:N=>{d&&h(N)},ref:s,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},$.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});l9.displayName="Drawer.Handle";function c9(e){const t=Vc(),{container:n=t.container,...s}=e;return $.createElement(Zj,{container:n,...s})}const Sr={Root:a9,Content:S0,Overlay:wk,Portal:c9,Title:kx,Description:Ex},Nk=({shouldScaleBackground:e=!0,...t})=>o.jsx(Sr.Root,{shouldScaleBackground:e,...t});Nk.displayName="Drawer";const jk=Sr.Portal,C0=g.forwardRef(({className:e,...t},n)=>o.jsx(Sr.Overlay,{ref:n,className:U("fixed inset-0 bg-black/40",e),style:{zIndex:Ct.MODAL},...t}));C0.displayName=Sr.Overlay.displayName;const u9=g.forwardRef(({className:e,children:t,...n},s)=>o.jsxs(jk,{children:[o.jsx(C0,{}),o.jsxs(Sr.Content,{ref:s,className:U("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:Ct.MODAL+1},...n,children:[o.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));u9.displayName="DrawerContent";const Sk=({className:e,...t})=>o.jsx("div",{className:U("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Sk.displayName="DrawerHeader";const Ck=({className:e,...t})=>o.jsx("div",{className:U("mt-auto flex flex-col gap-2 p-4",e),...t});Ck.displayName="DrawerFooter";const kk=g.forwardRef(({className:e,...t},n)=>o.jsx(Sr.Title,{ref:n,className:U("text-lg font-semibold leading-none tracking-tight",e),...t}));kk.displayName=Sr.Title.displayName;const Ek=g.forwardRef(({className:e,...t},n)=>o.jsx(Sr.Description,{ref:n,className:U("text-sm text-muted-foreground",e),...t}));Ek.displayName=Sr.Description.displayName;var _k="Toggle",Ak=g.forwardRef((e,t)=>{const{pressed:n,defaultPressed:s,onPressedChange:r,...a}=e,[i,l]=Vn({prop:n,onChange:r,defaultProp:s??!1,caller:_k});return o.jsx(xe.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:te(e.onClick,()=>{e.disabled||l(!i)})})});Ak.displayName=_k;var xa="ToggleGroup",[Tk,_ee]=on(xa,[Yi]),Mk=Yi(),k0=$.forwardRef((e,t)=>{const{type:n,...s}=e;if(n==="single"){const r=s;return o.jsx(d9,{...r,ref:t})}if(n==="multiple"){const r=s;return o.jsx(f9,{...r,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${xa}\``)});k0.displayName=xa;var[Rk,Dk]=Tk(xa),d9=$.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...a}=e,[i,l]=Vn({prop:n,defaultProp:s??"",onChange:r,caller:xa});return o.jsx(Rk,{scope:e.__scopeToggleGroup,type:"single",value:$.useMemo(()=>i?[i]:[],[i]),onItemActivate:l,onItemDeactivate:$.useCallback(()=>l(""),[l]),children:o.jsx(zk,{...a,ref:t})})}),f9=$.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...a}=e,[i,l]=Vn({prop:n,defaultProp:s??[],onChange:r,caller:xa}),c=$.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=$.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return o.jsx(Rk,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:o.jsx(zk,{...a,ref:t})})});k0.displayName=xa;var[m9,h9]=Tk(xa),zk=$.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:s=!1,rovingFocus:r=!0,orientation:a,dir:i,loop:l=!0,...c}=e,u=Mk(n),d=Zi(i),f={role:"group",dir:d,...c};return o.jsx(m9,{scope:n,rovingFocus:r,disabled:s,children:r?o.jsx(Dx,{asChild:!0,...u,orientation:a,dir:d,loop:l,children:o.jsx(xe.div,{...f,ref:t})}):o.jsx(xe.div,{...f,ref:t})})}),Id="ToggleGroupItem",Lk=$.forwardRef((e,t)=>{const n=Dk(Id,e.__scopeToggleGroup),s=h9(Id,e.__scopeToggleGroup),r=Mk(e.__scopeToggleGroup),a=n.value.includes(e.value),i=s.disabled||e.disabled,l={...e,pressed:a,disabled:i},c=$.useRef(null);return s.rovingFocus?o.jsx(zx,{asChild:!0,...r,focusable:!i,active:a,ref:c,children:o.jsx(Mb,{...l,ref:t})}):o.jsx(Mb,{...l,ref:t})});Lk.displayName=Id;var Mb=$.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:s,...r}=e,a=Dk(Id,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?i:void 0;return o.jsx(Ak,{...l,...r,ref:t,onPressedChange:c=>{c?a.onItemActivate(s):a.onItemDeactivate(s)}})}),$k=k0,Pk=Lk;const Ok=Vi("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-transparent hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground",outline:"border border-input bg-background hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground data-[state=on]:border-muted-foreground/20"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-8"}},defaultVariants:{variant:"default",size:"default"}}),g9=g.forwardRef(({className:e,variant:t,size:n,children:s,...r},a)=>o.jsx($k,{ref:a,className:U(Ok({variant:t,size:n}),e),...r,children:s}));g9.displayName=$k.displayName;const p9=g.forwardRef(({className:e,variant:t,size:n,children:s,...r},a)=>o.jsx(Pk,{ref:a,className:U(Ok({variant:t,size:n}),e),...r,children:s}));p9.displayName=Pk.displayName;function x9({type:e,size:t="sm"}){const n={major:"bg-yellow-600 text-white hover:bg-yellow-700 border-yellow-500",minor:"bg-gray-500 text-white hover:bg-gray-600 border-gray-400",none:"bg-gray-100 text-gray-800 border border-gray-300"},s={major:"Major",minor:"Minor",none:"Unassigned"},r={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return o.jsx(K,{className:U(n[e],r[t]),children:s[e]})}function y9({category:e,size:t="sm"}){const n={Combat:"bg-red-100 text-red-800 border-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200"},s={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return o.jsx(K,{variant:"outline",className:U(n[e]||"bg-gray-100 text-gray-800 border-gray-300",s[t]),children:e})}function v9({count:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return o.jsxs(K,{variant:"secondary",className:U("bg-purple-100 text-purple-800 border-purple-200",n[t]),children:[e," Perks"]})}function Bk({level:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return e<=0?null:o.jsxs(K,{variant:"secondary",className:U("bg-blue-100 text-blue-800 border-blue-200",n[t]),children:["Min: Level ",e]})}function b9(){return o.jsx("div",{className:"container mx-auto p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loading Skills..."}),o.jsx("p",{className:"text-muted-foreground",children:"Initializing skill and perk data..."})]})})}function w9({error:e}){return o.jsx("div",{className:"container mx-auto p-6",children:o.jsxs("div",{className:"text-center text-red-600",children:[o.jsx(gi,{className:"h-12 w-12 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Skills"}),o.jsx("p",{className:"text-muted-foreground",children:e})]})})}function N9({name:e,description:t,category:n,assignmentType:s,perkCount:r,level:a,onSelect:i,onMajorClick:l,onMinorClick:c,canAssignMajor:u,canAssignMinor:d,className:f}){const m=p=>{p.stopPropagation(),l(p)},h=p=>{p.stopPropagation(),c(p)};return o.jsxs("div",{className:U("p-4 border rounded-lg hover:bg-muted/50 transition-colors",f),onClick:i,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-semibold text-lg cursor-pointer",children:e}),o.jsx(x9,{type:s})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:t}),o.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[o.jsx(y9,{category:n}),o.jsx(v9,{count:r}),typeof a=="number"&&a>0&&o.jsx(Bk,{level:a})]}),o.jsxs("div",{className:"flex gap-2","data-assignment-control":!0,children:[o.jsx(W,{size:"sm",variant:s==="major"?"default":"outline",onClick:m,disabled:!u&&s!=="major",className:U("flex-1 text-xs",s==="major"&&"bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-500"),children:s==="major"?"Remove Major":"Major"}),o.jsx(W,{size:"sm",variant:s==="minor"?"default":"outline",onClick:h,disabled:!d&&s!=="minor",className:U("flex-1 text-xs",s==="minor"&&"bg-gray-500 hover:bg-gray-600 text-white border-gray-400"),children:s==="minor"?"Remove Minor":"Minor"})]})]})}function j9({skills:e,onSkillSelect:t,onAssignMajor:n,onAssignMinor:s,onRemoveAssignment:r,selectedSkillId:a,className:i}){return o.jsx("div",{className:U("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",i),children:e.map(l=>o.jsx(N9,{name:l.name,description:l.description,category:l.category,assignmentType:l.assignmentType,perkCount:l.perkCount,level:l.level,canAssignMajor:l.canAssignMajor,canAssignMinor:l.canAssignMinor,onSelect:()=>t(l.id),onMajorClick:c=>{c.preventDefault(),n(l.id)},onMinorClick:c=>{c.preventDefault(),s(l.id)},className:a===l.id?"ring-2 ring-primary bg-primary/5":""},l.id))})}function Rb({item:e,isExpanded:t=!1,onToggle:n,className:s,allTraitIds:r,disableHover:a=!1}){e.originalTrait;const{hasRegularTrait:i,hasBonusTrait:l,addRegularTrait:c,addBonusTrait:u,removeTrait:d,canAddRegularTrait:f,canAddBonusTrait:m,build:h}=vt(),y=i(e.id)?"primary":l(e.id)?"secondary":"none",v=N=>{y===N?d(e.id):(d(e.id),N==="primary"&&f()?c(e.id):N==="secondary"&&m()&&u(e.id))},x=!f()&&y!=="primary",b=!m()&&y!=="secondary",w=()=>y==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":y==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return g.useEffect(()=>{var N,j;if(r){const S=((N=h==null?void 0:h.traits)==null?void 0:N.regular)||[],C=((j=h==null?void 0:h.traits)==null?void 0:j.bonus)||[];[...S,...C].filter(_=>!r.includes(_)).forEach(_=>d(_))}},[r,h==null?void 0:h.traits,d]),o.jsxs(ce,{expanded:t,onToggle:n,className:U(s,w()),disableHover:a,children:[o.jsx(ce.Header,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nc,{className:"h-4 w-4 text-black"}),o.jsx(pt,{className:"text-primary font-semibold",children:e.name})]})}),o.jsx(ce.Summary,{children:o.jsx(Pa,{text:e.description,className:U("text-base text-muted-foreground",t?"":"line-clamp-2")})}),o.jsx(ce.Footer,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{size:"sm",variant:y==="primary"?"default":"outline",disabled:x,className:U("flex-1 text-xs",y==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:N=>{N.stopPropagation(),v("primary")},children:y==="primary"?"Remove Trait":"Starting Trait"}),o.jsx(W,{size:"sm",variant:y==="secondary"?"default":"outline",disabled:b,className:U("flex-1 text-xs",y==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:N=>{N.stopPropagation(),v("secondary")},children:y==="secondary"?"Remove Trait":"Late Game Trait"})]})})]})}function Wt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)(s=Wt(e[n]))!==""&&(t+=(t&&" ")+s);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Ik={exports:{}},Hk={},Uk={exports:{}},Fk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=g;function S9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var C9=typeof Object.is=="function"?Object.is:S9,k9=ki.useState,E9=ki.useEffect,_9=ki.useLayoutEffect,A9=ki.useDebugValue;function T9(e,t){var n=t(),s=k9({inst:{value:n,getSnapshot:t}}),r=s[0].inst,a=s[1];return _9(function(){r.value=n,r.getSnapshot=t,uh(r)&&a({inst:r})},[e,n,t]),E9(function(){return uh(r)&&a({inst:r}),e(function(){uh(r)&&a({inst:r})})},[e]),A9(n),n}function uh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!C9(e,n)}catch{return!0}}function M9(e,t){return t()}var R9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M9:T9;Fk.useSyncExternalStore=ki.useSyncExternalStore!==void 0?ki.useSyncExternalStore:R9;Uk.exports=Fk;var D9=Uk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=g,z9=D9;function L9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $9=typeof Object.is=="function"?Object.is:L9,P9=z9.useSyncExternalStore,O9=dm.useRef,B9=dm.useEffect,I9=dm.useMemo,H9=dm.useDebugValue;Hk.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var a=O9(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=I9(function(){function c(h){if(!u){if(u=!0,d=h,h=s(h),r!==void 0&&i.hasValue){var p=i.value;if(r(p,h))return f=p}return f=h}if(p=f,$9(d,h))return p;var y=s(h);return r!==void 0&&r(p,y)?(d=h,p):(d=h,f=y)}var u=!1,d,f,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,s,r]);var l=P9(e,a[0],a[1]);return B9(function(){i.hasValue=!0,i.value=l},[l]),H9(l),l};Ik.exports=Hk;var U9=Ik.exports;const F9=sx(U9),V9={},Db=e=>{let t;const n=new Set,s=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(p=>p(t,h))}},r=()=>t,c={setState:s,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(V9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(s,r,c);return c},q9=e=>e?Db(e):Db,{useDebugValue:G9}=$,{useSyncExternalStoreWithSelector:Z9}=F9,Y9=e=>e;function Vk(e,t=Y9,n){const s=Z9(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return G9(s),s}const zb=(e,t)=>{const n=q9(e),s=(r,a=t)=>Vk(n,r,a);return Object.assign(s,n),s},X9=(e,t)=>e?zb(e,t):zb;function rn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var K9={value:()=>{}};function fm(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new ad(n)}function ad(e){this._=e}function W9(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",r=n.indexOf(".");if(r>=0&&(s=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}ad.prototype=fm.prototype={constructor:ad,on:function(e,t){var n=this._,s=W9(e+"",n),r,a=-1,i=s.length;if(arguments.length<2){for(;++a<i;)if((r=(e=s[a]).type)&&(r=Q9(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(r=(e=s[a]).type)n[r]=Lb(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Lb(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ad(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),s=0,r,a;s<r;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],s=0,r=a.length;s<r;++s)a[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)}};function Q9(e,t){for(var n=0,s=e.length,r;n<s;++n)if((r=e[n]).name===t)return r.value}function Lb(e,t,n){for(var s=0,r=e.length;s<r;++s)if(e[s].name===t){e[s]=K9,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}var Hg="http://www.w3.org/1999/xhtml";const $b={svg:"http://www.w3.org/2000/svg",xhtml:Hg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mm(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$b.hasOwnProperty(t)?{space:$b[t],local:e}:e}function J9(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hg&&t.documentElement.namespaceURI===Hg?t.createElement(e):t.createElementNS(n,e)}}function e7(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qk(e){var t=mm(e);return(t.local?e7:J9)(t)}function t7(){}function E0(e){return e==null?t7:function(){return this.querySelector(e)}}function n7(e){typeof e!="function"&&(e=E0(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var a=t[r],i=a.length,l=s[r]=new Array(i),c,u,d=0;d<i;++d)(c=a[d])&&(u=e.call(c,c.__data__,d,a))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Sn(s,this._parents)}function s7(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function r7(){return[]}function Gk(e){return e==null?r7:function(){return this.querySelectorAll(e)}}function a7(e){return function(){return s7(e.apply(this,arguments))}}function o7(e){typeof e=="function"?e=a7(e):e=Gk(e);for(var t=this._groups,n=t.length,s=[],r=[],a=0;a<n;++a)for(var i=t[a],l=i.length,c,u=0;u<l;++u)(c=i[u])&&(s.push(e.call(c,c.__data__,u,i)),r.push(c));return new Sn(s,r)}function Zk(e){return function(){return this.matches(e)}}function Yk(e){return function(t){return t.matches(e)}}var i7=Array.prototype.find;function l7(e){return function(){return i7.call(this.children,e)}}function c7(){return this.firstElementChild}function u7(e){return this.select(e==null?c7:l7(typeof e=="function"?e:Yk(e)))}var d7=Array.prototype.filter;function f7(){return Array.from(this.children)}function m7(e){return function(){return d7.call(this.children,e)}}function h7(e){return this.selectAll(e==null?f7:m7(typeof e=="function"?e:Yk(e)))}function g7(e){typeof e!="function"&&(e=Zk(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var a=t[r],i=a.length,l=s[r]=[],c,u=0;u<i;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Sn(s,this._parents)}function Xk(e){return new Array(e.length)}function p7(){return new Sn(this._enter||this._groups.map(Xk),this._parents)}function Hd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Hd.prototype={constructor:Hd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function x7(e){return function(){return e}}function y7(e,t,n,s,r,a){for(var i=0,l,c=t.length,u=a.length;i<u;++i)(l=t[i])?(l.__data__=a[i],s[i]=l):n[i]=new Hd(e,a[i]);for(;i<c;++i)(l=t[i])&&(r[i]=l)}function v7(e,t,n,s,r,a,i){var l,c,u=new Map,d=t.length,f=a.length,m=new Array(d),h;for(l=0;l<d;++l)(c=t[l])&&(m[l]=h=i.call(c,c.__data__,l,t)+"",u.has(h)?r[l]=c:u.set(h,c));for(l=0;l<f;++l)h=i.call(e,a[l],l,a)+"",(c=u.get(h))?(s[l]=c,c.__data__=a[l],u.delete(h)):n[l]=new Hd(e,a[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(m[l])===c&&(r[l]=c)}function b7(e){return e.__data__}function w7(e,t){if(!arguments.length)return Array.from(this,b7);var n=t?v7:y7,s=this._parents,r=this._groups;typeof e!="function"&&(e=x7(e));for(var a=r.length,i=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=s[u],f=r[u],m=f.length,h=N7(e.call(d,d&&d.__data__,u,s)),p=h.length,y=l[u]=new Array(p),v=i[u]=new Array(p),x=c[u]=new Array(m);n(d,f,y,v,x,h,t);for(var b=0,w=0,N,j;b<p;++b)if(N=y[b]){for(b>=w&&(w=b+1);!(j=v[w])&&++w<p;);N._next=j||null}}return i=new Sn(i,s),i._enter=l,i._exit=c,i}function N7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function j7(){return new Sn(this._exit||this._groups.map(Xk),this._parents)}function S7(e,t,n){var s=this.enter(),r=this,a=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?a.remove():n(a),s&&r?s.merge(r).order():r}function C7(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,r=n.length,a=s.length,i=Math.min(r,a),l=new Array(r),c=0;c<i;++c)for(var u=n[c],d=s[c],f=u.length,m=l[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||d[p])&&(m[p]=h);for(;c<r;++c)l[c]=n[c];return new Sn(l,this._parents)}function k7(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s=e[t],r=s.length-1,a=s[r],i;--r>=0;)(i=s[r])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function E7(e){e||(e=_7);function t(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var n=this._groups,s=n.length,r=new Array(s),a=0;a<s;++a){for(var i=n[a],l=i.length,c=r[a]=new Array(l),u,d=0;d<l;++d)(u=i[d])&&(c[d]=u);c.sort(t)}return new Sn(r,this._parents).order()}function _7(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function A7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function T7(){return Array.from(this)}function M7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,a=s.length;r<a;++r){var i=s[r];if(i)return i}return null}function R7(){let e=0;for(const t of this)++e;return e}function D7(){return!this.node()}function z7(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var r=t[n],a=0,i=r.length,l;a<i;++a)(l=r[a])&&e.call(l,l.__data__,a,r);return this}function L7(e){return function(){this.removeAttribute(e)}}function $7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function P7(e,t){return function(){this.setAttribute(e,t)}}function O7(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function B7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function I7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function H7(e,t){var n=mm(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?$7:L7:typeof t=="function"?n.local?I7:B7:n.local?O7:P7)(n,t))}function Kk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function U7(e){return function(){this.style.removeProperty(e)}}function F7(e,t,n){return function(){this.style.setProperty(e,t,n)}}function V7(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function q7(e,t,n){return arguments.length>1?this.each((t==null?U7:typeof t=="function"?V7:F7)(e,t,n??"")):Ei(this.node(),e)}function Ei(e,t){return e.style.getPropertyValue(t)||Kk(e).getComputedStyle(e,null).getPropertyValue(t)}function G7(e){return function(){delete this[e]}}function Z7(e,t){return function(){this[e]=t}}function Y7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function X7(e,t){return arguments.length>1?this.each((t==null?G7:typeof t=="function"?Y7:Z7)(e,t)):this.node()[e]}function Wk(e){return e.trim().split(/^|\s+/)}function _0(e){return e.classList||new Qk(e)}function Qk(e){this._node=e,this._names=Wk(e.getAttribute("class")||"")}Qk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Jk(e,t){for(var n=_0(e),s=-1,r=t.length;++s<r;)n.add(t[s])}function eE(e,t){for(var n=_0(e),s=-1,r=t.length;++s<r;)n.remove(t[s])}function K7(e){return function(){Jk(this,e)}}function W7(e){return function(){eE(this,e)}}function Q7(e,t){return function(){(t.apply(this,arguments)?Jk:eE)(this,e)}}function J7(e,t){var n=Wk(e+"");if(arguments.length<2){for(var s=_0(this.node()),r=-1,a=n.length;++r<a;)if(!s.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Q7:t?K7:W7)(n,t))}function eH(){this.textContent=""}function tH(e){return function(){this.textContent=e}}function nH(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function sH(e){return arguments.length?this.each(e==null?eH:(typeof e=="function"?nH:tH)(e)):this.node().textContent}function rH(){this.innerHTML=""}function aH(e){return function(){this.innerHTML=e}}function oH(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function iH(e){return arguments.length?this.each(e==null?rH:(typeof e=="function"?oH:aH)(e)):this.node().innerHTML}function lH(){this.nextSibling&&this.parentNode.appendChild(this)}function cH(){return this.each(lH)}function uH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dH(){return this.each(uH)}function fH(e){var t=typeof e=="function"?e:qk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function mH(){return null}function hH(e,t){var n=typeof e=="function"?e:qk(e),s=t==null?mH:typeof t=="function"?t:E0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function gH(){var e=this.parentNode;e&&e.removeChild(this)}function pH(){return this.each(gH)}function xH(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yH(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vH(e){return this.select(e?yH:xH)}function bH(e){return arguments.length?this.property("__data__",e):this.node().__data__}function wH(e){return function(t){e.call(this,t,this.__data__)}}function NH(e){return e.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function jH(e){return function(){var t=this.__on;if(t){for(var n=0,s=-1,r=t.length,a;n<r;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++s]=a;++s?t.length=s:delete this.__on}}}function SH(e,t,n){return function(){var s=this.__on,r,a=wH(t);if(s){for(var i=0,l=s.length;i<l;++i)if((r=s[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=t;return}}this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},s?s.push(r):this.__on=[r]}}function CH(e,t,n){var s=NH(e+""),r,a=s.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(r=0,d=l[c];r<a;++r)if((i=s[r]).type===d.type&&i.name===d.name)return d.value}return}for(l=t?SH:jH,r=0;r<a;++r)this.each(l(s[r],t,n));return this}function tE(e,t,n){var s=Kk(e),r=s.CustomEvent;typeof r=="function"?r=new r(t,n):(r=s.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function kH(e,t){return function(){return tE(this,e,t)}}function EH(e,t){return function(){return tE(this,e,t.apply(this,arguments))}}function _H(e,t){return this.each((typeof t=="function"?EH:kH)(e,t))}function*AH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,a=s.length,i;r<a;++r)(i=s[r])&&(yield i)}var nE=[null];function Sn(e,t){this._groups=e,this._parents=t}function qc(){return new Sn([[document.documentElement]],nE)}function TH(){return this}Sn.prototype=qc.prototype={constructor:Sn,select:n7,selectAll:o7,selectChild:u7,selectChildren:h7,filter:g7,data:w7,enter:p7,exit:j7,join:S7,merge:C7,selection:TH,order:k7,sort:E7,call:A7,nodes:T7,node:M7,size:R7,empty:D7,each:z7,attr:H7,style:q7,property:X7,classed:J7,text:sH,html:iH,raise:cH,lower:dH,append:fH,insert:hH,remove:pH,clone:vH,datum:bH,on:CH,dispatch:_H,[Symbol.iterator]:AH};function Kn(e){return typeof e=="string"?new Sn([[document.querySelector(e)]],[document.documentElement]):new Sn([[e]],nE)}function MH(e){let t;for(;t=e.sourceEvent;)e=t;return e}function gs(e,t){if(e=MH(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const RH={passive:!1},cc={capture:!0,passive:!1};function dh(e){e.stopImmediatePropagation()}function si(e){e.preventDefault(),e.stopImmediatePropagation()}function sE(e){var t=e.document.documentElement,n=Kn(e).on("dragstart.drag",si,cc);"onselectstart"in t?n.on("selectstart.drag",si,cc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function rE(e,t){var n=e.document.documentElement,s=Kn(e).on("dragstart.drag",null);t&&(s.on("click.drag",si,cc),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Eu=e=>()=>e;function Ug(e,{sourceEvent:t,subject:n,target:s,identifier:r,active:a,x:i,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Ug.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function DH(e){return!e.ctrlKey&&!e.button}function zH(){return this.parentNode}function LH(e,t){return t??{x:e.x,y:e.y}}function $H(){return navigator.maxTouchPoints||"ontouchstart"in this}function PH(){var e=DH,t=zH,n=LH,s=$H,r={},a=fm("start","drag","end"),i=0,l,c,u,d,f=0;function m(N){N.on("mousedown.drag",h).filter(s).on("touchstart.drag",v).on("touchmove.drag",x,RH).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(N,j){if(!(d||!e.call(this,N,j))){var S=w(this,t.call(this,N,j),N,j,"mouse");S&&(Kn(N.view).on("mousemove.drag",p,cc).on("mouseup.drag",y,cc),sE(N.view),dh(N),u=!1,l=N.clientX,c=N.clientY,S("start",N))}}function p(N){if(si(N),!u){var j=N.clientX-l,S=N.clientY-c;u=j*j+S*S>f}r.mouse("drag",N)}function y(N){Kn(N.view).on("mousemove.drag mouseup.drag",null),rE(N.view,u),si(N),r.mouse("end",N)}function v(N,j){if(e.call(this,N,j)){var S=N.changedTouches,C=t.call(this,N,j),k=S.length,E,_;for(E=0;E<k;++E)(_=w(this,C,N,j,S[E].identifier,S[E]))&&(dh(N),_("start",N,S[E]))}}function x(N){var j=N.changedTouches,S=j.length,C,k;for(C=0;C<S;++C)(k=r[j[C].identifier])&&(si(N),k("drag",N,j[C]))}function b(N){var j=N.changedTouches,S=j.length,C,k;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<S;++C)(k=r[j[C].identifier])&&(dh(N),k("end",N,j[C]))}function w(N,j,S,C,k,E){var _=a.copy(),P=gs(E||S,j),O,L,T;if((T=n.call(N,new Ug("beforestart",{sourceEvent:S,target:m,identifier:k,active:i,x:P[0],y:P[1],dx:0,dy:0,dispatch:_}),C))!=null)return O=T.x-P[0]||0,L=T.y-P[1]||0,function z(A,D,M){var R=P,B;switch(A){case"start":r[k]=z,B=i++;break;case"end":delete r[k],--i;case"drag":P=gs(M||D,j),B=i;break}_.call(A,N,new Ug(A,{sourceEvent:D,subject:T,target:m,identifier:k,active:B,x:P[0]+O,y:P[1]+L,dx:P[0]-R[0],dy:P[1]-R[1],dispatch:_}),C)}}return m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Eu(!!N),m):e},m.container=function(N){return arguments.length?(t=typeof N=="function"?N:Eu(N),m):t},m.subject=function(N){return arguments.length?(n=typeof N=="function"?N:Eu(N),m):n},m.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:Eu(!!N),m):s},m.on=function(){var N=a.on.apply(a,arguments);return N===a?m:N},m.clickDistance=function(N){return arguments.length?(f=(N=+N)*N,m):Math.sqrt(f)},m}function A0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function aE(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Gc(){}var uc=.7,Ud=1/uc,ri="\\s*([+-]?\\d+)\\s*",dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OH=/^#([0-9a-f]{3,8})$/,BH=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),IH=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),HH=new RegExp(`^rgba\\(${ri},${ri},${ri},${dc}\\)$`),UH=new RegExp(`^rgba\\(${js},${js},${js},${dc}\\)$`),FH=new RegExp(`^hsl\\(${dc},${js},${js}\\)$`),VH=new RegExp(`^hsla\\(${dc},${js},${js},${dc}\\)$`),Pb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A0(Gc,fc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ob,formatHex:Ob,formatHex8:qH,formatHsl:GH,formatRgb:Bb,toString:Bb});function Ob(){return this.rgb().formatHex()}function qH(){return this.rgb().formatHex8()}function GH(){return oE(this).formatHsl()}function Bb(){return this.rgb().formatRgb()}function fc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=OH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ib(t):n===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BH.exec(e))?new sn(t[1],t[2],t[3],1):(t=IH.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HH.exec(e))?_u(t[1],t[2],t[3],t[4]):(t=UH.exec(e))?_u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FH.exec(e))?Fb(t[1],t[2]/100,t[3]/100,1):(t=VH.exec(e))?Fb(t[1],t[2]/100,t[3]/100,t[4]):Pb.hasOwnProperty(e)?Ib(Pb[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function Ib(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function _u(e,t,n,s){return s<=0&&(e=t=n=NaN),new sn(e,t,n,s)}function ZH(e){return e instanceof Gc||(e=fc(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function Fg(e,t,n,s){return arguments.length===1?ZH(e):new sn(e,t,n,s??1)}function sn(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}A0(sn,Fg,aE(Gc,{brighter(e){return e=e==null?Ud:Math.pow(Ud,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uc:Math.pow(uc,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(Oa(this.r),Oa(this.g),Oa(this.b),Fd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hb,formatHex:Hb,formatHex8:YH,formatRgb:Ub,toString:Ub}));function Hb(){return`#${za(this.r)}${za(this.g)}${za(this.b)}`}function YH(){return`#${za(this.r)}${za(this.g)}${za(this.b)}${za((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ub(){const e=Fd(this.opacity);return`${e===1?"rgb(":"rgba("}${Oa(this.r)}, ${Oa(this.g)}, ${Oa(this.b)}${e===1?")":`, ${e})`}`}function Fd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function za(e){return e=Oa(e),(e<16?"0":"")+e.toString(16)}function Fb(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wn(e,t,n,s)}function oE(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);if(e instanceof Gc||(e=fc(e)),!e)return new Wn;if(e instanceof Wn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,r=Math.min(t,n,s),a=Math.max(t,n,s),i=NaN,l=a-r,c=(a+r)/2;return l?(t===a?i=(n-s)/l+(n<s)*6:n===a?i=(s-t)/l+2:i=(t-n)/l+4,l/=c<.5?a+r:2-a-r,i*=60):l=c>0&&c<1?0:i,new Wn(i,l,c,e.opacity)}function XH(e,t,n,s){return arguments.length===1?oE(e):new Wn(e,t,n,s??1)}function Wn(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}A0(Wn,XH,aE(Gc,{brighter(e){return e=e==null?Ud:Math.pow(Ud,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uc:Math.pow(uc,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,r=2*n-s;return new sn(fh(e>=240?e-240:e+120,r,s),fh(e,r,s),fh(e<120?e+240:e-120,r,s),this.opacity)},clamp(){return new Wn(Vb(this.h),Au(this.s),Au(this.l),Fd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fd(this.opacity);return`${e===1?"hsl(":"hsla("}${Vb(this.h)}, ${Au(this.s)*100}%, ${Au(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vb(e){return e=(e||0)%360,e<0?e+360:e}function Au(e){return Math.max(0,Math.min(1,e||0))}function fh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const iE=e=>()=>e;function KH(e,t){return function(n){return e+n*t}}function WH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function QH(e){return(e=+e)==1?lE:function(t,n){return n-t?WH(t,n,e):iE(isNaN(t)?n:t)}}function lE(e,t){var n=t-e;return n?KH(e,n):iE(isNaN(e)?t:e)}const qb=function e(t){var n=QH(t);function s(r,a){var i=n((r=Fg(r)).r,(a=Fg(a)).r),l=n(r.g,a.g),c=n(r.b,a.b),u=lE(r.opacity,a.opacity);return function(d){return r.r=i(d),r.g=l(d),r.b=c(d),r.opacity=u(d),r+""}}return s.gamma=e,s}(1);function $r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Vg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mh=new RegExp(Vg.source,"g");function JH(e){return function(){return e}}function eU(e){return function(t){return e(t)+""}}function tU(e,t){var n=Vg.lastIndex=mh.lastIndex=0,s,r,a,i=-1,l=[],c=[];for(e=e+"",t=t+"";(s=Vg.exec(e))&&(r=mh.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),l[i]?l[i]+=a:l[++i]=a),(s=s[0])===(r=r[0])?l[i]?l[i]+=r:l[++i]=r:(l[++i]=null,c.push({i,x:$r(s,r)})),n=mh.lastIndex;return n<t.length&&(a=t.slice(n),l[i]?l[i]+=a:l[++i]=a),l.length<2?c[0]?eU(c[0].x):JH(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}var Gb=180/Math.PI,qg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cE(e,t,n,s,r,a){var i,l,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*s)&&(n-=e*c,s-=t*c),(l=Math.sqrt(n*n+s*s))&&(n/=l,s/=l,c/=l),e*s<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*Gb,skewX:Math.atan(c)*Gb,scaleX:i,scaleY:l}}var Tu;function nU(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?qg:cE(t.a,t.b,t.c,t.d,t.e,t.f)}function sU(e){return e==null||(Tu||(Tu=document.createElementNS("http://www.w3.org/2000/svg","g")),Tu.setAttribute("transform",e),!(e=Tu.transform.baseVal.consolidate()))?qg:(e=e.matrix,cE(e.a,e.b,e.c,e.d,e.e,e.f))}function uE(e,t,n,s){function r(u){return u.length?u.pop()+" ":""}function a(u,d,f,m,h,p){if(u!==f||d!==m){var y=h.push("translate(",null,t,null,n);p.push({i:y-4,x:$r(u,f)},{i:y-2,x:$r(d,m)})}else(f||m)&&h.push("translate("+f+t+m+n)}function i(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(r(f)+"rotate(",null,s)-2,x:$r(u,d)})):d&&f.push(r(f)+"rotate("+d+s)}function l(u,d,f,m){u!==d?m.push({i:f.push(r(f)+"skewX(",null,s)-2,x:$r(u,d)}):d&&f.push(r(f)+"skewX("+d+s)}function c(u,d,f,m,h,p){if(u!==f||d!==m){var y=h.push(r(h)+"scale(",null,",",null,")");p.push({i:y-4,x:$r(u,f)},{i:y-2,x:$r(d,m)})}else(f!==1||m!==1)&&h.push(r(h)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,f,m),i(u.rotate,d.rotate,f,m),l(u.skewX,d.skewX,f,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(h){for(var p=-1,y=m.length,v;++p<y;)f[(v=m[p]).i]=v.x(h);return f.join("")}}}var rU=uE(nU,"px, ","px)","deg)"),aU=uE(sU,", ",")",")"),oU=1e-12;function Zb(e){return((e=Math.exp(e))+1/e)/2}function iU(e){return((e=Math.exp(e))-1/e)/2}function lU(e){return((e=Math.exp(2*e))-1)/(e+1)}const cU=function e(t,n,s){function r(a,i){var l=a[0],c=a[1],u=a[2],d=i[0],f=i[1],m=i[2],h=d-l,p=f-c,y=h*h+p*p,v,x;if(y<oU)x=Math.log(m/u)/t,v=function(C){return[l+C*h,c+C*p,u*Math.exp(t*C*x)]};else{var b=Math.sqrt(y),w=(m*m-u*u+s*y)/(2*u*n*b),N=(m*m-u*u-s*y)/(2*m*n*b),j=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(N*N+1)-N);x=(S-j)/t,v=function(C){var k=C*x,E=Zb(j),_=u/(n*b)*(E*lU(t*k+j)-iU(j));return[l+_*h,c+_*p,u*E/Zb(t*k+j)]}}return v.duration=x*1e3*t/Math.SQRT2,v}return r.rho=function(a){var i=Math.max(.001,+a),l=i*i,c=l*l;return e(i,l,c)},r}(Math.SQRT2,2,4);var _i=0,_l=0,ml=0,dE=1e3,Vd,Al,qd=0,Ya=0,hm=0,mc=typeof performance=="object"&&performance.now?performance:Date,fE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function T0(){return Ya||(fE(uU),Ya=mc.now()+hm)}function uU(){Ya=0}function Gd(){this._call=this._time=this._next=null}Gd.prototype=mE.prototype={constructor:Gd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?T0():+n)+(t==null?0:+t),!this._next&&Al!==this&&(Al?Al._next=this:Vd=this,Al=this),this._call=e,this._time=n,Gg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gg())}};function mE(e,t,n){var s=new Gd;return s.restart(e,t,n),s}function dU(){T0(),++_i;for(var e=Vd,t;e;)(t=Ya-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_i}function Yb(){Ya=(qd=mc.now())+hm,_i=_l=0;try{dU()}finally{_i=0,mU(),Ya=0}}function fU(){var e=mc.now(),t=e-qd;t>dE&&(hm-=t,qd=e)}function mU(){for(var e,t=Vd,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vd=n);Al=e,Gg(s)}function Gg(e){if(!_i){_l&&(_l=clearTimeout(_l));var t=e-Ya;t>24?(e<1/0&&(_l=setTimeout(Yb,e-mc.now()-hm)),ml&&(ml=clearInterval(ml))):(ml||(qd=mc.now(),ml=setInterval(fU,dE)),_i=1,fE(Yb))}}function Xb(e,t,n){var s=new Gd;return t=t==null?0:+t,s.restart(r=>{s.stop(),e(r+t)},t,n),s}var hU=fm("start","end","cancel","interrupt"),gU=[],hE=0,Kb=1,Zg=2,od=3,Wb=4,Yg=5,id=6;function gm(e,t,n,s,r,a){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;pU(e,n,{name:t,index:s,group:r,on:hU,tween:gU,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:hE})}function M0(e,t){var n=os(e,t);if(n.state>hE)throw new Error("too late; already scheduled");return n}function Ls(e,t){var n=os(e,t);if(n.state>od)throw new Error("too late; already running");return n}function os(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function pU(e,t,n){var s=e.__transition,r;s[t]=n,n.timer=mE(a,0,n.time);function a(u){n.state=Kb,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var d,f,m,h;if(n.state!==Kb)return c();for(d in s)if(h=s[d],h.name===n.name){if(h.state===od)return Xb(i);h.state===Wb?(h.state=id,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete s[d]):+d<t&&(h.state=id,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete s[d])}if(Xb(function(){n.state===od&&(n.state=Wb,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Zg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Zg){for(n.state=od,r=new Array(m=n.tween.length),d=0,f=-1;d<m;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Yg,1),f=-1,m=r.length;++f<m;)r[f].call(e,d);n.state===Yg&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=id,n.timer.stop(),delete s[t];for(var u in s)return;delete e.__transition}}function ld(e,t){var n=e.__transition,s,r,a=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((s=n[i]).name!==t){a=!1;continue}r=s.state>Zg&&s.state<Yg,s.state=id,s.timer.stop(),s.on.call(r?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[i]}a&&delete e.__transition}}function xU(e){return this.each(function(){ld(this,e)})}function yU(e,t){var n,s;return function(){var r=Ls(this,e),a=r.tween;if(a!==n){s=n=a;for(var i=0,l=s.length;i<l;++i)if(s[i].name===t){s=s.slice(),s.splice(i,1);break}}r.tween=s}}function vU(e,t,n){var s,r;if(typeof n!="function")throw new Error;return function(){var a=Ls(this,e),i=a.tween;if(i!==s){r=(s=i).slice();for(var l={name:t,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=l;break}c===u&&r.push(l)}a.tween=r}}function bU(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s=os(this.node(),n).tween,r=0,a=s.length,i;r<a;++r)if((i=s[r]).name===e)return i.value;return null}return this.each((t==null?yU:vU)(n,e,t))}function R0(e,t,n){var s=e._id;return e.each(function(){var r=Ls(this,s);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return os(r,s).value[t]}}function gE(e,t){var n;return(typeof t=="number"?$r:t instanceof fc?qb:(n=fc(t))?(t=n,qb):tU)(e,t)}function wU(e){return function(){this.removeAttribute(e)}}function NU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jU(e,t,n){var s,r=n+"",a;return function(){var i=this.getAttribute(e);return i===r?null:i===s?a:a=t(s=i,n)}}function SU(e,t,n){var s,r=n+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===s?a:a=t(s=i,n)}}function CU(e,t,n){var s,r,a;return function(){var i,l=n(this),c;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=l+"",i===c?null:i===s&&c===r?a:(r=c,a=t(s=i,l)))}}function kU(e,t,n){var s,r,a;return function(){var i,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=l+"",i===c?null:i===s&&c===r?a:(r=c,a=t(s=i,l)))}}function EU(e,t){var n=mm(e),s=n==="transform"?aU:gE;return this.attrTween(e,typeof t=="function"?(n.local?kU:CU)(n,s,R0(this,"attr."+e,t)):t==null?(n.local?NU:wU)(n):(n.local?SU:jU)(n,s,t))}function _U(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function AU(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function TU(e,t){var n,s;function r(){var a=t.apply(this,arguments);return a!==s&&(n=(s=a)&&AU(e,a)),n}return r._value=t,r}function MU(e,t){var n,s;function r(){var a=t.apply(this,arguments);return a!==s&&(n=(s=a)&&_U(e,a)),n}return r._value=t,r}function RU(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=mm(e);return this.tween(n,(s.local?TU:MU)(s,t))}function DU(e,t){return function(){M0(this,e).delay=+t.apply(this,arguments)}}function zU(e,t){return t=+t,function(){M0(this,e).delay=t}}function LU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DU:zU)(t,e)):os(this.node(),t).delay}function $U(e,t){return function(){Ls(this,e).duration=+t.apply(this,arguments)}}function PU(e,t){return t=+t,function(){Ls(this,e).duration=t}}function OU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$U:PU)(t,e)):os(this.node(),t).duration}function BU(e,t){if(typeof t!="function")throw new Error;return function(){Ls(this,e).ease=t}}function IU(e){var t=this._id;return arguments.length?this.each(BU(t,e)):os(this.node(),t).ease}function HU(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ls(this,e).ease=n}}function UU(e){if(typeof e!="function")throw new Error;return this.each(HU(this._id,e))}function FU(e){typeof e!="function"&&(e=Zk(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var a=t[r],i=a.length,l=s[r]=[],c,u=0;u<i;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new xr(s,this._parents,this._name,this._id)}function VU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,s=t.length,r=n.length,a=Math.min(s,r),i=new Array(s),l=0;l<a;++l)for(var c=t[l],u=n[l],d=c.length,f=i[l]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(f[h]=m);for(;l<s;++l)i[l]=t[l];return new xr(i,this._parents,this._name,this._id)}function qU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function GU(e,t,n){var s,r,a=qU(t)?M0:Ls;return function(){var i=a(this,e),l=i.on;l!==s&&(r=(s=l).copy()).on(t,n),i.on=r}}function ZU(e,t){var n=this._id;return arguments.length<2?os(this.node(),n).on.on(e):this.each(GU(n,e,t))}function YU(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function XU(){return this.on("end.remove",YU(this._id))}function KU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=E0(e));for(var s=this._groups,r=s.length,a=new Array(r),i=0;i<r;++i)for(var l=s[i],c=l.length,u=a[i]=new Array(c),d,f,m=0;m<c;++m)(d=l[m])&&(f=e.call(d,d.__data__,m,l))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,gm(u[m],t,n,m,u,os(d,n)));return new xr(a,this._parents,t,n)}function WU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Gk(e));for(var s=this._groups,r=s.length,a=[],i=[],l=0;l<r;++l)for(var c=s[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var m=e.call(d,d.__data__,f,c),h,p=os(d,n),y=0,v=m.length;y<v;++y)(h=m[y])&&gm(h,t,n,y,m,p);a.push(m),i.push(d)}return new xr(a,i,t,n)}var QU=qc.prototype.constructor;function JU(){return new QU(this._groups,this._parents)}function eF(e,t){var n,s,r;return function(){var a=Ei(this,e),i=(this.style.removeProperty(e),Ei(this,e));return a===i?null:a===n&&i===s?r:r=t(n=a,s=i)}}function pE(e){return function(){this.style.removeProperty(e)}}function tF(e,t,n){var s,r=n+"",a;return function(){var i=Ei(this,e);return i===r?null:i===s?a:a=t(s=i,n)}}function nF(e,t,n){var s,r,a;return function(){var i=Ei(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Ei(this,e))),i===c?null:i===s&&c===r?a:(r=c,a=t(s=i,l))}}function sF(e,t){var n,s,r,a="style."+t,i="end."+a,l;return function(){var c=Ls(this,e),u=c.on,d=c.value[a]==null?l||(l=pE(t)):void 0;(u!==n||r!==d)&&(s=(n=u).copy()).on(i,r=d),c.on=s}}function rF(e,t,n){var s=(e+="")=="transform"?rU:gE;return t==null?this.styleTween(e,eF(e,s)).on("end.style."+e,pE(e)):typeof t=="function"?this.styleTween(e,nF(e,s,R0(this,"style."+e,t))).each(sF(this._id,e)):this.styleTween(e,tF(e,s,t),n).on("end.style."+e,null)}function aF(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function oF(e,t,n){var s,r;function a(){var i=t.apply(this,arguments);return i!==r&&(s=(r=i)&&aF(e,i,n)),s}return a._value=t,a}function iF(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,oF(e,t,n??""))}function lF(e){return function(){this.textContent=e}}function cF(e){return function(){var t=e(this);this.textContent=t??""}}function uF(e){return this.tween("text",typeof e=="function"?cF(R0(this,"text",e)):lF(e==null?"":e+""))}function dF(e){return function(t){this.textContent=e.call(this,t)}}function fF(e){var t,n;function s(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&dF(r)),t}return s._value=e,s}function mF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fF(e))}function hF(){for(var e=this._name,t=this._id,n=xE(),s=this._groups,r=s.length,a=0;a<r;++a)for(var i=s[a],l=i.length,c,u=0;u<l;++u)if(c=i[u]){var d=os(c,t);gm(c,e,n,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new xr(s,this._parents,e,n)}function gF(){var e,t,n=this,s=n._id,r=n.size();return new Promise(function(a,i){var l={value:i},c={value:function(){--r===0&&a()}};n.each(function(){var u=Ls(this,s),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),r===0&&a()})}var pF=0;function xr(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function xE(){return++pF}var Gs=qc.prototype;xr.prototype={constructor:xr,select:KU,selectAll:WU,selectChild:Gs.selectChild,selectChildren:Gs.selectChildren,filter:FU,merge:VU,selection:JU,transition:hF,call:Gs.call,nodes:Gs.nodes,node:Gs.node,size:Gs.size,empty:Gs.empty,each:Gs.each,on:ZU,attr:EU,attrTween:RU,style:rF,styleTween:iF,text:uF,textTween:mF,remove:XU,tween:bU,delay:LU,duration:OU,ease:IU,easeVarying:UU,end:gF,[Symbol.iterator]:Gs[Symbol.iterator]};function xF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yF={time:null,delay:0,duration:250,ease:xF};function vF(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bF(e){var t,n;e instanceof xr?(t=e._id,e=e._name):(t=xE(),(n=yF).time=T0(),e=e==null?null:e+"");for(var s=this._groups,r=s.length,a=0;a<r;++a)for(var i=s[a],l=i.length,c,u=0;u<l;++u)(c=i[u])&&gm(c,e,t,u,i,n||vF(c,t));return new xr(s,this._parents,e,t)}qc.prototype.interrupt=xU;qc.prototype.transition=bF;const Mu=e=>()=>e;function wF(e,{sourceEvent:t,target:n,transform:s,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function nr(e,t,n){this.k=e,this.x=t,this.y=n}nr.prototype={constructor:nr,scale:function(e){return e===1?this:new nr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new nr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qr=new nr(1,0,0);nr.prototype;function hh(e){e.stopImmediatePropagation()}function hl(e){e.preventDefault(),e.stopImmediatePropagation()}function NF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function jF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Qb(){return this.__zoom||Qr}function SF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function CF(){return navigator.maxTouchPoints||"ontouchstart"in this}function kF(e,t,n){var s=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function EF(){var e=NF,t=jF,n=kF,s=SF,r=CF,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=cU,u=fm("start","zoom","end"),d,f,m,h=500,p=150,y=0,v=10;function x(T){T.property("__zoom",Qb).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",_).filter(r).on("touchstart.zoom",P).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(T,z,A,D){var M=T.selection?T.selection():T;M.property("__zoom",Qb),T!==M?j(T,z,A,D):M.interrupt().each(function(){S(this,arguments).event(D).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},x.scaleBy=function(T,z,A,D){x.scaleTo(T,function(){var M=this.__zoom.k,R=typeof z=="function"?z.apply(this,arguments):z;return M*R},A,D)},x.scaleTo=function(T,z,A,D){x.transform(T,function(){var M=t.apply(this,arguments),R=this.__zoom,B=A==null?N(M):typeof A=="function"?A.apply(this,arguments):A,H=R.invert(B),I=typeof z=="function"?z.apply(this,arguments):z;return n(w(b(R,I),B,H),M,i)},A,D)},x.translateBy=function(T,z,A,D){x.transform(T,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),i)},null,D)},x.translateTo=function(T,z,A,D,M){x.transform(T,function(){var R=t.apply(this,arguments),B=this.__zoom,H=D==null?N(R):typeof D=="function"?D.apply(this,arguments):D;return n(Qr.translate(H[0],H[1]).scale(B.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof A=="function"?-A.apply(this,arguments):-A),R,i)},D,M)};function b(T,z){return z=Math.max(a[0],Math.min(a[1],z)),z===T.k?T:new nr(z,T.x,T.y)}function w(T,z,A){var D=z[0]-A[0]*T.k,M=z[1]-A[1]*T.k;return D===T.x&&M===T.y?T:new nr(T.k,D,M)}function N(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function j(T,z,A,D){T.on("start.zoom",function(){S(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(D).end()}).tween("zoom",function(){var M=this,R=arguments,B=S(M,R).event(D),H=t.apply(M,R),I=A==null?N(H):typeof A=="function"?A.apply(M,R):A,V=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),Z=M.__zoom,J=typeof z=="function"?z.apply(M,R):z,ie=c(Z.invert(I).concat(V/Z.k),J.invert(I).concat(V/J.k));return function(ee){if(ee===1)ee=J;else{var pe=ie(ee),me=V/pe[2];ee=new nr(me,I[0]-pe[0]*me,I[1]-pe[1]*me)}B.zoom(null,ee)}})}function S(T,z,A){return!A&&T.__zooming||new C(T,z)}function C(T,z){this.that=T,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,z),this.taps=0}C.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,z){return this.mouse&&T!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var z=Kn(this.that).datum();u.call(T,this.that,new wF(T,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),z)}};function k(T,...z){if(!e.apply(this,arguments))return;var A=S(this,z).event(T),D=this.__zoom,M=Math.max(a[0],Math.min(a[1],D.k*Math.pow(2,s.apply(this,arguments)))),R=gs(T);if(A.wheel)(A.mouse[0][0]!==R[0]||A.mouse[0][1]!==R[1])&&(A.mouse[1]=D.invert(A.mouse[0]=R)),clearTimeout(A.wheel);else{if(D.k===M)return;A.mouse=[R,D.invert(R)],ld(this),A.start()}hl(T),A.wheel=setTimeout(B,p),A.zoom("mouse",n(w(b(D,M),A.mouse[0],A.mouse[1]),A.extent,i));function B(){A.wheel=null,A.end()}}function E(T,...z){if(m||!e.apply(this,arguments))return;var A=T.currentTarget,D=S(this,z,!0).event(T),M=Kn(T.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",V,!0),R=gs(T,A),B=T.clientX,H=T.clientY;sE(T.view),hh(T),D.mouse=[R,this.__zoom.invert(R)],ld(this),D.start();function I(Z){if(hl(Z),!D.moved){var J=Z.clientX-B,ie=Z.clientY-H;D.moved=J*J+ie*ie>y}D.event(Z).zoom("mouse",n(w(D.that.__zoom,D.mouse[0]=gs(Z,A),D.mouse[1]),D.extent,i))}function V(Z){M.on("mousemove.zoom mouseup.zoom",null),rE(Z.view,D.moved),hl(Z),D.event(Z).end()}}function _(T,...z){if(e.apply(this,arguments)){var A=this.__zoom,D=gs(T.changedTouches?T.changedTouches[0]:T,this),M=A.invert(D),R=A.k*(T.shiftKey?.5:2),B=n(w(b(A,R),D,M),t.apply(this,z),i);hl(T),l>0?Kn(this).transition().duration(l).call(j,B,D,T):Kn(this).call(x.transform,B,D,T)}}function P(T,...z){if(e.apply(this,arguments)){var A=T.touches,D=A.length,M=S(this,z,T.changedTouches.length===D).event(T),R,B,H,I;for(hh(T),B=0;B<D;++B)H=A[B],I=gs(H,this),I=[I,this.__zoom.invert(I),H.identifier],M.touch0?!M.touch1&&M.touch0[2]!==I[2]&&(M.touch1=I,M.taps=0):(M.touch0=I,R=!0,M.taps=1+!!d);d&&(d=clearTimeout(d)),R&&(M.taps<2&&(f=I[0],d=setTimeout(function(){d=null},h)),ld(this),M.start())}}function O(T,...z){if(this.__zooming){var A=S(this,z).event(T),D=T.changedTouches,M=D.length,R,B,H,I;for(hl(T),R=0;R<M;++R)B=D[R],H=gs(B,this),A.touch0&&A.touch0[2]===B.identifier?A.touch0[0]=H:A.touch1&&A.touch1[2]===B.identifier&&(A.touch1[0]=H);if(B=A.that.__zoom,A.touch1){var V=A.touch0[0],Z=A.touch0[1],J=A.touch1[0],ie=A.touch1[1],ee=(ee=J[0]-V[0])*ee+(ee=J[1]-V[1])*ee,pe=(pe=ie[0]-Z[0])*pe+(pe=ie[1]-Z[1])*pe;B=b(B,Math.sqrt(ee/pe)),H=[(V[0]+J[0])/2,(V[1]+J[1])/2],I=[(Z[0]+ie[0])/2,(Z[1]+ie[1])/2]}else if(A.touch0)H=A.touch0[0],I=A.touch0[1];else return;A.zoom("touch",n(w(B,H,I),A.extent,i))}}function L(T,...z){if(this.__zooming){var A=S(this,z).event(T),D=T.changedTouches,M=D.length,R,B;for(hh(T),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),R=0;R<M;++R)B=D[R],A.touch0&&A.touch0[2]===B.identifier?delete A.touch0:A.touch1&&A.touch1[2]===B.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(B=gs(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<v)){var H=Kn(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return x.wheelDelta=function(T){return arguments.length?(s=typeof T=="function"?T:Mu(+T),x):s},x.filter=function(T){return arguments.length?(e=typeof T=="function"?T:Mu(!!T),x):e},x.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:Mu(!!T),x):r},x.extent=function(T){return arguments.length?(t=typeof T=="function"?T:Mu([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),x):t},x.scaleExtent=function(T){return arguments.length?(a[0]=+T[0],a[1]=+T[1],x):[a[0],a[1]]},x.translateExtent=function(T){return arguments.length?(i[0][0]=+T[0][0],i[1][0]=+T[1][0],i[0][1]=+T[0][1],i[1][1]=+T[1][1],x):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},x.constrain=function(T){return arguments.length?(n=T,x):n},x.duration=function(T){return arguments.length?(l=+T,x):l},x.interpolate=function(T){return arguments.length?(c=T,x):c},x.on=function(){var T=u.on.apply(u,arguments);return T===u?x:T},x.clickDistance=function(T){return arguments.length?(y=(T=+T)*T,x):Math.sqrt(y)},x.tapDistance=function(T){return arguments.length?(v=+T,x):v},x}const pm=g.createContext(null),_F=pm.Provider,yr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},yE=yr.error001();function st(e,t){const n=g.useContext(pm);if(n===null)throw new Error(yE);return Vk(n,e,t)}const Rt=()=>{const e=g.useContext(pm);if(e===null)throw new Error(yE);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},AF=e=>e.userSelectionActive?"none":"all";function vE({position:e,children:t,className:n,style:s,...r}){const a=st(AF),i=`${e}`.split("-");return $.createElement("div",{className:Wt(["react-flow__panel",n,...i]),style:{...s,pointerEvents:a},...r},t)}function TF({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:$.createElement(vE,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},$.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const MF=({x:e,y:t,label:n,labelStyle:s={},labelShowBg:r=!0,labelBgStyle:a={},labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const f=g.useRef(null),[m,h]=g.useState({x:0,y:0,width:0,height:0}),p=Wt(["react-flow__edge-textwrapper",u]);return g.useEffect(()=>{if(f.current){const y=f.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:$.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:p,visibility:m.width?"visible":"hidden",...d},r&&$.createElement("rect",{width:m.width+2*i[0],x:-i[0],y:-i[1],height:m.height+2*i[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),$.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:f,style:s},n),c)};var RF=g.memo(MF);const D0=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ai=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),z0=(e={x:0,y:0},t)=>({x:Ai(e.x,t[0][0],t[1][0]),y:Ai(e.y,t[0][1],t[1][1])}),Jb=(e,t,n)=>e<t?Ai(Math.abs(e-t),1,50)/50:e>n?-Ai(Math.abs(e-n),1,50)/50:0,bE=(e,t)=>{const n=Jb(e.x,35,t.width-35)*20,s=Jb(e.y,35,t.height-35)*20;return[n,s]},wE=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},DF=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),L0=({x:e,y:t,width:n,height:s})=>({x:e,y:t,x2:e+n,y2:t+s}),zF=({x:e,y:t,x2:n,y2:s})=>({x:e,y:t,width:n-e,height:s-t}),ew=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Xg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*s)},LF=e=>Pn(e.width)&&Pn(e.height)&&Pn(e.x)&&Pn(e.y),Pn=e=>!isNaN(e)&&isFinite(e),it=Symbol.for("internals"),NE=["Enter"," ","Escape"],$F=(e,t)=>{},PF=e=>"nativeEvent"in e;function Kg(e){var r,a;const t=PF(e)?e.nativeEvent:e,n=((a=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const jE=e=>"clientX"in e,Jr=(e,t)=>{var a,i;const n=jE(e),s=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,r=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:s-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},Zd=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Zc=({id:e,path:t,labelX:n,labelY:s,label:r,labelStyle:a,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h=20})=>$.createElement($.Fragment,null,$.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:m}),h&&$.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),r&&Pn(n)&&Pn(s)?$.createElement(RF,{x:n,y:s,label:r,labelStyle:a,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);Zc.displayName="BaseEdge";function gl(e,t,n){return n===void 0?n:s=>{const r=t().edges.find(a=>a.id===e);r&&n(s,{...r})}}function SE({sourceX:e,sourceY:t,targetX:n,targetY:s}){const r=Math.abs(n-e)/2,a=n<e?n+r:n-r,i=Math.abs(s-t)/2,l=s<t?s+i:s-i;return[a,l,r,i]}function CE({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:r,sourceControlY:a,targetControlX:i,targetControlY:l}){const c=e*.125+r*.375+i*.375+n*.125,u=t*.125+a*.375+l*.375+s*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var Xa;(function(e){e.Strict="strict",e.Loose="loose"})(Xa||(Xa={}));var La;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(La||(La={}));var hc;(function(e){e.Partial="partial",e.Full="full"})(hc||(hc={}));var Hr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Hr||(Hr={}));var Yd;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Yd||(Yd={}));var le;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(le||(le={}));function tw({pos:e,x1:t,y1:n,x2:s,y2:r}){return e===le.Left||e===le.Right?[.5*(t+s),n]:[t,.5*(n+r)]}function kE({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:s,targetY:r,targetPosition:a=le.Top}){const[i,l]=tw({pos:n,x1:e,y1:t,x2:s,y2:r}),[c,u]=tw({pos:a,x1:s,y1:r,x2:e,y2:t}),[d,f,m,h]=CE({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${l} ${c},${u} ${s},${r}`,d,f,m,h]}const $0=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,sourcePosition:r=le.Bottom,targetPosition:a=le.Top,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:y})=>{const[v,x,b]=kE({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:s,targetPosition:a});return $.createElement(Zc,{path:v,labelX:x,labelY:b,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:y})});$0.displayName="SimpleBezierEdge";const nw={[le.Left]:{x:-1,y:0},[le.Right]:{x:1,y:0},[le.Top]:{x:0,y:-1},[le.Bottom]:{x:0,y:1}},OF=({source:e,sourcePosition:t=le.Bottom,target:n})=>t===le.Left||t===le.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},sw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function BF({source:e,sourcePosition:t=le.Bottom,target:n,targetPosition:s=le.Top,center:r,offset:a}){const i=nw[t],l=nw[s],c={x:e.x+i.x*a,y:e.y+i.y*a},u={x:n.x+l.x*a,y:n.y+l.y*a},d=OF({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",m=d[f];let h=[],p,y;const v={x:0,y:0},x={x:0,y:0},[b,w,N,j]=SE({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[f]*l[f]===-1){p=r.x??b,y=r.y??w;const C=[{x:p,y:c.y},{x:p,y:u.y}],k=[{x:c.x,y},{x:u.x,y}];i[f]===m?h=f==="x"?C:k:h=f==="x"?k:C}else{const C=[{x:c.x,y:u.y}],k=[{x:u.x,y:c.y}];if(f==="x"?h=i.x===m?k:C:h=i.y===m?C:k,t===s){const L=Math.abs(e[f]-n[f]);if(L<=a){const T=Math.min(a-1,a-L);i[f]===m?v[f]=(c[f]>e[f]?-1:1)*T:x[f]=(u[f]>n[f]?-1:1)*T}}if(t!==s){const L=f==="x"?"y":"x",T=i[f]===l[L],z=c[L]>u[L],A=c[L]<u[L];(i[f]===1&&(!T&&z||T&&A)||i[f]!==1&&(!T&&A||T&&z))&&(h=f==="x"?C:k)}const E={x:c.x+v.x,y:c.y+v.y},_={x:u.x+x.x,y:u.y+x.y},P=Math.max(Math.abs(E.x-h[0].x),Math.abs(_.x-h[0].x)),O=Math.max(Math.abs(E.y-h[0].y),Math.abs(_.y-h[0].y));P>=O?(p=(E.x+_.x)/2,y=h[0].y):(p=h[0].x,y=(E.y+_.y)/2)}return[[e,{x:c.x+v.x,y:c.y+v.y},...h,{x:u.x+x.x,y:u.y+x.y},n],p,y,N,j]}function IF(e,t,n,s){const r=Math.min(sw(e,t)/2,sw(t,n)/2,s),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return`L${a} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${a+r*u},${i}Q ${a},${i} ${a},${i+r*d}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${a},${i+r*c}Q ${a},${i} ${a+r*l},${i}`}function Wg({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:s,targetY:r,targetPosition:a=le.Top,borderRadius:i=5,centerX:l,centerY:c,offset:u=20}){const[d,f,m,h,p]=BF({source:{x:e,y:t},sourcePosition:n,target:{x:s,y:r},targetPosition:a,center:{x:l,y:c},offset:u});return[d.reduce((v,x,b)=>{let w="";return b>0&&b<d.length-1?w=IF(d[b-1],x,d[b+1],i):w=`${b===0?"M":"L"}${x.x} ${x.y}`,v+=w,v},""),f,m,h,p]}const xm=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,label:r,labelStyle:a,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=le.Bottom,targetPosition:m=le.Top,markerEnd:h,markerStart:p,pathOptions:y,interactionWidth:v})=>{const[x,b,w]=Wg({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:s,targetPosition:m,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return $.createElement(Zc,{path:x,labelX:b,labelY:w,label:r,labelStyle:a,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:p,interactionWidth:v})});xm.displayName="SmoothStepEdge";const P0=g.memo(e=>{var t;return $.createElement(xm,{...e,pathOptions:g.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});P0.displayName="StepEdge";function HF({sourceX:e,sourceY:t,targetX:n,targetY:s}){const[r,a,i,l]=SE({sourceX:e,sourceY:t,targetX:n,targetY:s});return[`M ${e},${t}L ${n},${s}`,r,a,i,l]}const O0=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,label:r,labelStyle:a,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})=>{const[p,y,v]=HF({sourceX:e,sourceY:t,targetX:n,targetY:s});return $.createElement(Zc,{path:p,labelX:y,labelY:v,label:r,labelStyle:a,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})});O0.displayName="StraightEdge";function Ru(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function rw({pos:e,x1:t,y1:n,x2:s,y2:r,c:a}){switch(e){case le.Left:return[t-Ru(t-s,a),n];case le.Right:return[t+Ru(s-t,a),n];case le.Top:return[t,n-Ru(n-r,a)];case le.Bottom:return[t,n+Ru(r-n,a)]}}function EE({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:s,targetY:r,targetPosition:a=le.Top,curvature:i=.25}){const[l,c]=rw({pos:n,x1:e,y1:t,x2:s,y2:r,c:i}),[u,d]=rw({pos:a,x1:s,y1:r,x2:e,y2:t,c:i}),[f,m,h,p]=CE({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${s},${r}`,f,m,h,p]}const Xd=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,sourcePosition:r=le.Bottom,targetPosition:a=le.Top,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,pathOptions:y,interactionWidth:v})=>{const[x,b,w]=EE({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:s,targetPosition:a,curvature:y==null?void 0:y.curvature});return $.createElement(Zc,{path:x,labelX:b,labelY:w,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:v})});Xd.displayName="BezierEdge";const B0=g.createContext(null),UF=B0.Provider;B0.Consumer;const FF=()=>g.useContext(B0),VF=e=>"id"in e&&"source"in e&&"target"in e,qF=({source:e,sourceHandle:t,target:n,targetHandle:s})=>`reactflow__edge-${e}${t||""}-${n}${s||""}`,Qg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`,GF=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),I0=(e,t)=>{if(!e.source||!e.target)return t;let n;return VF(e)?n={...e}:n={...e,id:qF(e)},GF(n,t)?t:t.concat(n)},Jg=({x:e,y:t},[n,s,r],a,[i,l])=>{const c={x:(e-n)/r,y:(t-s)/r};return a?{x:i*Math.round(c.x/i),y:l*Math.round(c.y/l)}:c},_E=({x:e,y:t},[n,s,r])=>({x:e*r+n,y:t*r+s}),ai=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],s=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-s};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-s}:r}},H0=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((s,r)=>{const{x:a,y:i}=ai(r,t).positionAbsolute;return DF(s,L0({x:a,y:i,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return zF(n)},AE=(e,t,[n,s,r]=[0,0,1],a=!1,i=!1,l=[0,0])=>{const c={x:(t.x-n)/r,y:(t.y-s)/r,width:t.width/r,height:t.height/r},u=[];return e.forEach(d=>{const{width:f,height:m,selectable:h=!0,hidden:p=!1}=d;if(i&&!h||p)return!1;const{positionAbsolute:y}=ai(d,l),v={x:y.x,y:y.y,width:f||0,height:m||0},x=Xg(c,v),b=typeof f>"u"||typeof m>"u"||f===null||m===null,w=a&&x>0,N=(f||0)*(m||0);(b||w||x>=N||d.dragging)&&u.push(d)}),u},TE=(e,t)=>{const n=e.map(s=>s.id);return t.filter(s=>n.includes(s.source)||n.includes(s.target))},ME=(e,t,n,s,r,a=.1)=>{const i=t/(e.width*(1+a)),l=n/(e.height*(1+a)),c=Math.min(i,l),u=Ai(c,s,r),d=e.x+e.width/2,f=e.y+e.height/2,m=t/2-d*u,h=n/2-f*u;return{x:m,y:h,zoom:u}},Ca=(e,t=0)=>e.transition().duration(t);function aw(e,t,n,s){return(t[n]||[]).reduce((r,a)=>{var i,l;return`${e.id}-${a.id}-${n}`!==s&&r.push({id:a.id||null,type:n,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+a.x+a.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+a.y+a.height/2}),r},[])}function ZF(e,t,n,s,r,a){const{x:i,y:l}=Jr(e),u=t.elementsFromPoint(i,l).find(p=>p.classList.contains("react-flow__handle"));if(u){const p=u.getAttribute("data-nodeid");if(p){const y=U0(void 0,u),v=u.getAttribute("data-handleid"),x=a({nodeId:p,id:v,type:y});if(x){const b=r.find(w=>w.nodeId===p&&w.type===y&&w.id===v);return{handle:{id:v,type:y,nodeId:p,x:(b==null?void 0:b.x)||n.x,y:(b==null?void 0:b.y)||n.y},validHandleResult:x}}}}let d=[],f=1/0;if(r.forEach(p=>{const y=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(y<=s){const v=a(p);y<=f&&(y<f?d=[{handle:p,validHandleResult:v}]:y===f&&d.push({handle:p,validHandleResult:v}),f=y)}}),!d.length)return{handle:null,validHandleResult:RE()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:p})=>p.isValid),h=d.some(({handle:p})=>p.type==="target");return d.find(({handle:p,validHandleResult:y})=>h?p.type==="target":m?y.isValid:!0)||d[0]}const YF={source:null,target:null,sourceHandle:null,targetHandle:null},RE=()=>({handleDomNode:null,isValid:!1,connection:YF,endHandle:null});function DE(e,t,n,s,r,a,i){const l=r==="target",c=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...RE(),handleDomNode:c};if(c){const d=U0(void 0,c),f=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),p=c.classList.contains("connectableend"),y={source:l?f:n,sourceHandle:l?m:s,target:l?n:f,targetHandle:l?s:m};u.connection=y,h&&p&&(t===Xa.Strict?l&&d==="source"||!l&&d==="target":f!==n||m!==s)&&(u.endHandle={nodeId:f,handleId:m,type:d},u.isValid=a(y))}return u}function XF({nodes:e,nodeId:t,handleId:n,handleType:s}){return e.reduce((r,a)=>{if(a[it]){const{handleBounds:i}=a[it];let l=[],c=[];i&&(l=aw(a,i,"source",`${t}-${n}-${s}`),c=aw(a,i,"target",`${t}-${n}-${s}`)),r.push(...l,...c)}return r},[])}function U0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function gh(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function KF(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function zE({event:e,handleId:t,nodeId:n,onConnect:s,isTarget:r,getState:a,setState:i,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const d=wE(e.target),{connectionMode:f,domNode:m,autoPanOnConnect:h,connectionRadius:p,onConnectStart:y,panBy:v,getNodes:x,cancelConnection:b}=a();let w=0,N;const{x:j,y:S}=Jr(e),C=d==null?void 0:d.elementFromPoint(j,S),k=U0(c,C),E=m==null?void 0:m.getBoundingClientRect();if(!E||!k)return;let _,P=Jr(e,E),O=!1,L=null,T=!1,z=null;const A=XF({nodes:x(),nodeId:n,handleId:t,handleType:k}),D=()=>{if(!h)return;const[B,H]=bE(P,E);v({x:B,y:H}),w=requestAnimationFrame(D)};i({connectionPosition:P,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:k,connectionStartHandle:{nodeId:n,handleId:t,type:k},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:k});function M(B){const{transform:H}=a();P=Jr(B,E);const{handle:I,validHandleResult:V}=ZF(B,d,Jg(P,H,!1,[1,1]),p,A,Z=>DE(Z,f,n,t,r?"target":"source",l,d));if(N=I,O||(D(),O=!0),z=V.handleDomNode,L=V.connection,T=V.isValid,i({connectionPosition:N&&T?_E({x:N.x,y:N.y},H):P,connectionStatus:KF(!!N,T),connectionEndHandle:V.endHandle}),!N&&!T&&!z)return gh(_);L.source!==L.target&&z&&(gh(_),_=z,z.classList.add("connecting","react-flow__handle-connecting"),z.classList.toggle("valid",T),z.classList.toggle("react-flow__handle-valid",T))}function R(B){var H,I;(N||z)&&L&&T&&(s==null||s(L)),(I=(H=a()).onConnectEnd)==null||I.call(H,B),c&&(u==null||u(B)),gh(_),b(),cancelAnimationFrame(w),O=!1,T=!1,L=null,z=null,d.removeEventListener("mousemove",M),d.removeEventListener("mouseup",R),d.removeEventListener("touchmove",M),d.removeEventListener("touchend",R)}d.addEventListener("mousemove",M),d.addEventListener("mouseup",R),d.addEventListener("touchmove",M),d.addEventListener("touchend",R)}const ow=()=>!0,WF=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),QF=(e,t,n)=>s=>{const{connectionStartHandle:r,connectionEndHandle:a,connectionClickStartHandle:i}=s;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n}},LE=g.forwardRef(({type:e="source",position:t=le.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:r=!0,isConnectableEnd:a=!0,id:i,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...m},h)=>{var E,_;const p=i||null,y=e==="target",v=Rt(),x=FF(),{connectOnClick:b,noPanClassName:w}=st(WF,rn),{connecting:N,clickConnecting:j}=st(QF(x,p,e),rn);x||(_=(E=v.getState()).onError)==null||_.call(E,"010",yr.error010());const S=P=>{const{defaultEdgeOptions:O,onConnect:L,hasDefaultEdges:T}=v.getState(),z={...O,...P};if(T){const{edges:A,setEdges:D}=v.getState();D(I0(z,A))}L==null||L(z),l==null||l(z)},C=P=>{if(!x)return;const O=jE(P);r&&(O&&P.button===0||!O)&&zE({event:P,handleId:p,nodeId:x,onConnect:S,isTarget:y,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||ow}),O?d==null||d(P):f==null||f(P)},k=P=>{const{onClickConnectStart:O,onClickConnectEnd:L,connectionClickStartHandle:T,connectionMode:z,isValidConnection:A}=v.getState();if(!x||!T&&!r)return;if(!T){O==null||O(P,{nodeId:x,handleId:p,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:p}});return}const D=wE(P.target),M=n||A||ow,{connection:R,isValid:B}=DE({nodeId:x,id:p,type:e},z,T.nodeId,T.handleId||null,T.type,M,D);B&&S(R),L==null||L(P),v.setState({connectionClickStartHandle:null})};return $.createElement("div",{"data-handleid":p,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${p}-${e}`,className:Wt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!y,target:y,connectable:s,connectablestart:r,connectableend:a,connecting:j,connectionindicator:s&&(r&&!N||a&&N)}]),onMouseDown:C,onTouchStart:C,onClick:b?k:void 0,ref:h,...m},c)});LE.displayName="Handle";var Ti=g.memo(LE);const $E=({data:e,isConnectable:t,targetPosition:n=le.Top,sourcePosition:s=le.Bottom})=>$.createElement($.Fragment,null,$.createElement(Ti,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,$.createElement(Ti,{type:"source",position:s,isConnectable:t}));$E.displayName="DefaultNode";var ep=g.memo($E);const PE=({data:e,isConnectable:t,sourcePosition:n=le.Bottom})=>$.createElement($.Fragment,null,e==null?void 0:e.label,$.createElement(Ti,{type:"source",position:n,isConnectable:t}));PE.displayName="InputNode";var OE=g.memo(PE);const BE=({data:e,isConnectable:t,targetPosition:n=le.Top})=>$.createElement($.Fragment,null,$.createElement(Ti,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);BE.displayName="OutputNode";var IE=g.memo(BE);const F0=()=>null;F0.displayName="GroupNode";const JF=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Du=e=>e.id;function eV(e,t){return rn(e.selectedNodes.map(Du),t.selectedNodes.map(Du))&&rn(e.selectedEdges.map(Du),t.selectedEdges.map(Du))}const HE=g.memo(({onSelectionChange:e})=>{const t=Rt(),{selectedNodes:n,selectedEdges:s}=st(JF,eV);return g.useEffect(()=>{const r={nodes:n,edges:s};e==null||e(r),t.getState().onSelectionChange.forEach(a=>a(r))},[n,s,e]),null});HE.displayName="SelectionListener";const tV=e=>!!e.onSelectionChange;function nV({onSelectionChange:e}){const t=st(tV);return e||t?$.createElement(HE,{onSelectionChange:e}):null}const sV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Ao(e,t){g.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ce(e,t,n){g.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const rV=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:r,onConnectStart:a,onConnectEnd:i,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:y,maxZoom:v,nodeExtent:x,onNodesChange:b,onEdgesChange:w,elementsSelectable:N,connectionMode:j,snapGrid:S,snapToGrid:C,translateExtent:k,connectOnClick:E,defaultEdgeOptions:_,fitView:P,fitViewOptions:O,onNodesDelete:L,onEdgesDelete:T,onNodeDrag:z,onNodeDragStart:A,onNodeDragStop:D,onSelectionDrag:M,onSelectionDragStart:R,onSelectionDragStop:B,noPanClassName:H,nodeOrigin:I,rfId:V,autoPanOnConnect:Z,autoPanOnNodeDrag:J,onError:ie,connectionRadius:ee,isValidConnection:pe,nodeDragThreshold:me})=>{const{setNodes:ve,setEdges:F,setDefaultNodesAndEdges:Y,setMinZoom:Q,setMaxZoom:X,setTranslateExtent:se,setNodeExtent:ye,reset:de}=st(sV,rn),ne=Rt();return g.useEffect(()=>{const Me=s==null?void 0:s.map(ft=>({...ft,..._}));return Y(n,Me),()=>{de()}},[]),Ce("defaultEdgeOptions",_,ne.setState),Ce("connectionMode",j,ne.setState),Ce("onConnect",r,ne.setState),Ce("onConnectStart",a,ne.setState),Ce("onConnectEnd",i,ne.setState),Ce("onClickConnectStart",l,ne.setState),Ce("onClickConnectEnd",c,ne.setState),Ce("nodesDraggable",u,ne.setState),Ce("nodesConnectable",d,ne.setState),Ce("nodesFocusable",f,ne.setState),Ce("edgesFocusable",m,ne.setState),Ce("edgesUpdatable",h,ne.setState),Ce("elementsSelectable",N,ne.setState),Ce("elevateNodesOnSelect",p,ne.setState),Ce("snapToGrid",C,ne.setState),Ce("snapGrid",S,ne.setState),Ce("onNodesChange",b,ne.setState),Ce("onEdgesChange",w,ne.setState),Ce("connectOnClick",E,ne.setState),Ce("fitViewOnInit",P,ne.setState),Ce("fitViewOnInitOptions",O,ne.setState),Ce("onNodesDelete",L,ne.setState),Ce("onEdgesDelete",T,ne.setState),Ce("onNodeDrag",z,ne.setState),Ce("onNodeDragStart",A,ne.setState),Ce("onNodeDragStop",D,ne.setState),Ce("onSelectionDrag",M,ne.setState),Ce("onSelectionDragStart",R,ne.setState),Ce("onSelectionDragStop",B,ne.setState),Ce("noPanClassName",H,ne.setState),Ce("nodeOrigin",I,ne.setState),Ce("rfId",V,ne.setState),Ce("autoPanOnConnect",Z,ne.setState),Ce("autoPanOnNodeDrag",J,ne.setState),Ce("onError",ie,ne.setState),Ce("connectionRadius",ee,ne.setState),Ce("isValidConnection",pe,ne.setState),Ce("nodeDragThreshold",me,ne.setState),Ao(e,ve),Ao(t,F),Ao(y,Q),Ao(v,X),Ao(k,se),Ao(x,ye),null},iw={display:"none"},aV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},UE="react-flow__node-desc",FE="react-flow__edge-desc",oV="react-flow__aria-live",iV=e=>e.ariaLiveMessage;function lV({rfId:e}){const t=st(iV);return $.createElement("div",{id:`${oV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:aV},t)}function cV({rfId:e,disableKeyboardA11y:t}){return $.createElement($.Fragment,null,$.createElement("div",{id:`${UE}-${e}`,style:iw},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),$.createElement("div",{id:`${FE}-${e}`,style:iw},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&$.createElement(lV,{rfId:e}))}var gc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,s]=g.useState(!1),r=g.useRef(!1),a=g.useRef(new Set([])),[i,l]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return g.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=h=>{if(r.current=h.ctrlKey||h.metaKey||h.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&Kg(h))return!1;const y=cw(h.code,l);a.current.add(h[y]),lw(i,a.current,!1)&&(h.preventDefault(),s(!0))},f=h=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&Kg(h))return!1;const y=cw(h.code,l);lw(i,a.current,!0)?(s(!1),a.current.clear()):a.current.delete(h[y]),h.key==="Meta"&&a.current.clear(),r.current=!1},m=()=>{a.current.clear(),s(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",m)}}},[e,s]),n};function lw(e,t,n){return e.filter(s=>n||s.length===t.size).some(s=>s.every(r=>t.has(r)))}function cw(e,t){return t.includes(e)?"code":"key"}function VE(e,t,n,s){var l,c;const r=e.parentNode||e.parentId;if(!r)return n;const a=t.get(r),i=ai(a,s);return VE(a,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((l=a[it])==null?void 0:l.z)??0)>(n.z??0)?((c=a[it])==null?void 0:c.z)??0:n.z??0},s)}function qE(e,t,n){e.forEach(s=>{var a;const r=s.parentNode||s.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n!=null&&n[s.id]){const{x:i,y:l,z:c}=VE(s,e,{...s.position,z:((a=s[it])==null?void 0:a.z)??0},t);s.positionAbsolute={x:i,y:l},s[it].z=c,n!=null&&n[s.id]&&(s[it].isParent=!0)}})}function ph(e,t,n,s){const r=new Map,a={},i=s?1e3:0;return e.forEach(l=>{var h;const c=(Pn(l.zIndex)?l.zIndex:0)+(l.selected?i:0),u=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(a[f]=!0);const m=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(d,it,{enumerable:!1,value:{handleBounds:m||(h=u==null?void 0:u[it])==null?void 0:h.handleBounds,z:c}}),r.set(l.id,d)}),qE(r,n,a),r}function GE(e,t={}){const{getNodes:n,width:s,height:r,minZoom:a,maxZoom:i,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),m=t.initial&&!u&&d;if(l&&c&&(m||!t.initial)){const p=n().filter(v=>{var b;const x=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return(b=t.nodes)!=null&&b.length?x&&t.nodes.some(w=>w.id===v.id):x}),y=p.every(v=>v.width&&v.height);if(p.length>0&&y){const v=H0(p,f),{x,y:b,zoom:w}=ME(v,s,r,t.minZoom??a,t.maxZoom??i,t.padding??.1),N=Qr.translate(x,b).scale(w);return typeof t.duration=="number"&&t.duration>0?l.transform(Ca(c,t.duration),N):l.transform(c,N),!0}}return!1}function uV(e,t){return e.forEach(n=>{const s=t.get(n.id);s&&t.set(s.id,{...s,[it]:s[it],selected:n.selected})}),new Map(t)}function dV(e,t){return t.map(n=>{const s=e.find(r=>r.id===n.id);return s&&(n.selected=s.selected),n})}function zu({changedNodes:e,changedEdges:t,get:n,set:s}){const{nodeInternals:r,edges:a,onNodesChange:i,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&s({nodeInternals:uV(e,r)}),i==null||i(e)),t!=null&&t.length&&(u&&s({edges:dV(t,a)}),l==null||l(t))}const To=()=>{},fV={zoomIn:To,zoomOut:To,zoomTo:To,getZoom:()=>1,setViewport:To,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:To,fitBounds:To,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},mV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),hV=()=>{const e=Rt(),{d3Zoom:t,d3Selection:n}=st(mV,rn);return g.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(Ca(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(Ca(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,a)=>t.scaleTo(Ca(n,a==null?void 0:a.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,a)=>{const[i,l,c]=e.getState().transform,u=Qr.translate(r.x??i,r.y??l).scale(r.zoom??c);t.transform(Ca(n,a==null?void 0:a.duration),u)},getViewport:()=>{const[r,a,i]=e.getState().transform;return{x:r,y:a,zoom:i}},fitView:r=>GE(e.getState,r),setCenter:(r,a,i)=>{const{width:l,height:c,maxZoom:u}=e.getState(),d=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,f=l/2-r*d,m=c/2-a*d,h=Qr.translate(f,m).scale(d);t.transform(Ca(n,i==null?void 0:i.duration),h)},fitBounds:(r,a)=>{const{width:i,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:m}=ME(r,i,l,c,u,(a==null?void 0:a.padding)??.1),h=Qr.translate(d,f).scale(m);t.transform(Ca(n,a==null?void 0:a.duration),h)},project:r=>{const{transform:a,snapToGrid:i,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Jg(r,a,i,l)},screenToFlowPosition:r=>{const{transform:a,snapToGrid:i,snapGrid:l,domNode:c}=e.getState();if(!c)return r;const{x:u,y:d}=c.getBoundingClientRect(),f={x:r.x-u,y:r.y-d};return Jg(f,a,i,l)},flowToScreenPosition:r=>{const{transform:a,domNode:i}=e.getState();if(!i)return r;const{x:l,y:c}=i.getBoundingClientRect(),u=_E(r,a);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:fV,[t,n])};function V0(){const e=hV(),t=Rt(),n=g.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),s=g.useCallback(y=>t.getState().nodeInternals.get(y),[]),r=g.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(v=>({...v}))},[]),a=g.useCallback(y=>{const{edges:v=[]}=t.getState();return v.find(x=>x.id===y)},[]),i=g.useCallback(y=>{const{getNodes:v,setNodes:x,hasDefaultNodes:b,onNodesChange:w}=t.getState(),N=v(),j=typeof y=="function"?y(N):y;if(b)x(j);else if(w){const S=j.length===0?N.map(C=>({type:"remove",id:C.id})):j.map(C=>({item:C,type:"reset"}));w(S)}},[]),l=g.useCallback(y=>{const{edges:v=[],setEdges:x,hasDefaultEdges:b,onEdgesChange:w}=t.getState(),N=typeof y=="function"?y(v):y;if(b)x(N);else if(w){const j=N.length===0?v.map(S=>({type:"remove",id:S.id})):N.map(S=>({item:S,type:"reset"}));w(j)}},[]),c=g.useCallback(y=>{const v=Array.isArray(y)?y:[y],{getNodes:x,setNodes:b,hasDefaultNodes:w,onNodesChange:N}=t.getState();if(w){const S=[...x(),...v];b(S)}else if(N){const j=v.map(S=>({item:S,type:"add"}));N(j)}},[]),u=g.useCallback(y=>{const v=Array.isArray(y)?y:[y],{edges:x=[],setEdges:b,hasDefaultEdges:w,onEdgesChange:N}=t.getState();if(w)b([...x,...v]);else if(N){const j=v.map(S=>({item:S,type:"add"}));N(j)}},[]),d=g.useCallback(()=>{const{getNodes:y,edges:v=[],transform:x}=t.getState(),[b,w,N]=x;return{nodes:y().map(j=>({...j})),edges:v.map(j=>({...j})),viewport:{x:b,y:w,zoom:N}}},[]),f=g.useCallback(({nodes:y,edges:v})=>{const{nodeInternals:x,getNodes:b,edges:w,hasDefaultNodes:N,hasDefaultEdges:j,onNodesDelete:S,onEdgesDelete:C,onNodesChange:k,onEdgesChange:E}=t.getState(),_=(y||[]).map(z=>z.id),P=(v||[]).map(z=>z.id),O=b().reduce((z,A)=>{const D=A.parentNode||A.parentId,M=!_.includes(A.id)&&D&&z.find(B=>B.id===D);return(typeof A.deletable=="boolean"?A.deletable:!0)&&(_.includes(A.id)||M)&&z.push(A),z},[]),L=w.filter(z=>typeof z.deletable=="boolean"?z.deletable:!0),T=L.filter(z=>P.includes(z.id));if(O||T){const z=TE(O,L),A=[...T,...z],D=A.reduce((M,R)=>(M.includes(R.id)||M.push(R.id),M),[]);if((j||N)&&(j&&t.setState({edges:w.filter(M=>!D.includes(M.id))}),N&&(O.forEach(M=>{x.delete(M.id)}),t.setState({nodeInternals:new Map(x)}))),D.length>0&&(C==null||C(A),E&&E(D.map(M=>({id:M,type:"remove"})))),O.length>0&&(S==null||S(O),k)){const M=O.map(R=>({id:R.id,type:"remove"}));k(M)}}},[]),m=g.useCallback(y=>{const v=LF(y),x=v?null:t.getState().nodeInternals.get(y.id);return!v&&!x?[null,null,v]:[v?y:ew(x),x,v]},[]),h=g.useCallback((y,v=!0,x)=>{const[b,w,N]=m(y);return b?(x||t.getState().getNodes()).filter(j=>{if(!N&&(j.id===w.id||!j.positionAbsolute))return!1;const S=ew(j),C=Xg(S,b);return v&&C>0||C>=b.width*b.height}):[]},[]),p=g.useCallback((y,v,x=!0)=>{const[b]=m(y);if(!b)return!1;const w=Xg(b,v);return x&&w>0||w>=b.width*b.height},[]);return g.useMemo(()=>({...e,getNodes:n,getNode:s,getEdges:r,getEdge:a,setNodes:i,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:p}),[e,n,s,r,a,i,l,c,u,d,f,h,p])}const gV={actInsideInputWithModifier:!1};var pV=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Rt(),{deleteElements:s}=V0(),r=gc(e,gV),a=gc(t);g.useEffect(()=>{if(r){const{edges:i,getNodes:l}=n.getState(),c=l().filter(d=>d.selected),u=i.filter(d=>d.selected);s({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[r]),g.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function xV(e){const t=Rt();g.useEffect(()=>{let n;const s=()=>{var a,i;if(!e.current)return;const r=D0(e.current);(r.height===0||r.width===0)&&((i=(a=t.getState()).onError)==null||i.call(a,"004",yr.error004())),t.setState({width:r.width||500,height:r.height||500})};return s(),window.addEventListener("resize",s),e.current&&(n=new ResizeObserver(()=>s()),n.observe(e.current)),()=>{window.removeEventListener("resize",s),n&&e.current&&n.unobserve(e.current)}},[])}const q0={position:"absolute",width:"100%",height:"100%",top:0,left:0},yV=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Lu=e=>({x:e.x,y:e.y,zoom:e.k}),Mo=(e,t)=>e.target.closest(`.${t}`),uw=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),dw=e=>{const t=e.ctrlKey&&Zd()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},vV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),bV=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:s,zoomOnScroll:r=!0,zoomOnPinch:a=!0,panOnScroll:i=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=La.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:m,translateExtent:h,minZoom:p,maxZoom:y,zoomActivationKeyCode:v,preventScrolling:x=!0,children:b,noWheelClassName:w,noPanClassName:N})=>{const j=g.useRef(),S=Rt(),C=g.useRef(!1),k=g.useRef(!1),E=g.useRef(null),_=g.useRef({x:0,y:0,zoom:0}),{d3Zoom:P,d3Selection:O,d3ZoomHandler:L,userSelectionActive:T}=st(vV,rn),z=gc(v),A=g.useRef(0),D=g.useRef(!1),M=g.useRef();return xV(E),g.useEffect(()=>{if(E.current){const R=E.current.getBoundingClientRect(),B=EF().scaleExtent([p,y]).translateExtent(h),H=Kn(E.current).call(B),I=Qr.translate(m.x,m.y).scale(Ai(m.zoom,p,y)),V=[[0,0],[R.width,R.height]],Z=B.constrain()(I,V,h);B.transform(H,Z),B.wheelDelta(dw),S.setState({d3Zoom:B,d3Selection:H,d3ZoomHandler:H.on("wheel.zoom"),transform:[Z.x,Z.y,Z.k],domNode:E.current.closest(".react-flow")})}},[]),g.useEffect(()=>{O&&P&&(i&&!z&&!T?O.on("wheel.zoom",R=>{if(Mo(R,w))return!1;R.preventDefault(),R.stopImmediatePropagation();const B=O.property("__zoom").k||1;if(R.ctrlKey&&a){const pe=gs(R),me=dw(R),ve=B*Math.pow(2,me);P.scaleTo(O,ve,pe,R);return}const H=R.deltaMode===1?20:1;let I=c===La.Vertical?0:R.deltaX*H,V=c===La.Horizontal?0:R.deltaY*H;!Zd()&&R.shiftKey&&c!==La.Vertical&&(I=R.deltaY*H,V=0),P.translateBy(O,-(I/B)*l,-(V/B)*l,{internal:!0});const Z=Lu(O.property("__zoom")),{onViewportChangeStart:J,onViewportChange:ie,onViewportChangeEnd:ee}=S.getState();clearTimeout(M.current),D.current||(D.current=!0,t==null||t(R,Z),J==null||J(Z)),D.current&&(e==null||e(R,Z),ie==null||ie(Z),M.current=setTimeout(()=>{n==null||n(R,Z),ee==null||ee(Z),D.current=!1},150))},{passive:!1}):typeof L<"u"&&O.on("wheel.zoom",function(R,B){if(!x&&R.type==="wheel"&&!R.ctrlKey||Mo(R,w))return null;R.preventDefault(),L.call(this,R,B)},{passive:!1}))},[T,i,c,O,P,L,z,a,x,w,t,e,n]),g.useEffect(()=>{P&&P.on("start",R=>{var I,V;if(!R.sourceEvent||R.sourceEvent.internal)return null;A.current=(I=R.sourceEvent)==null?void 0:I.button;const{onViewportChangeStart:B}=S.getState(),H=Lu(R.transform);C.current=!0,_.current=H,((V=R.sourceEvent)==null?void 0:V.type)==="mousedown"&&S.setState({paneDragging:!0}),B==null||B(H),t==null||t(R.sourceEvent,H)})},[P,t]),g.useEffect(()=>{P&&(T&&!C.current?P.on("zoom",null):T||P.on("zoom",R=>{var H;const{onViewportChange:B}=S.getState();if(S.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),k.current=!!(s&&uw(f,A.current??0)),(e||B)&&!((H=R.sourceEvent)!=null&&H.internal)){const I=Lu(R.transform);B==null||B(I),e==null||e(R.sourceEvent,I)}}))},[T,P,e,f,s]),g.useEffect(()=>{P&&P.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:B}=S.getState();if(C.current=!1,S.setState({paneDragging:!1}),s&&uw(f,A.current??0)&&!k.current&&s(R.sourceEvent),k.current=!1,(n||B)&&yV(_.current,R.transform)){const H=Lu(R.transform);_.current=H,clearTimeout(j.current),j.current=setTimeout(()=>{B==null||B(H),n==null||n(R.sourceEvent,H)},i?150:0)}})},[P,i,f,n,s]),g.useEffect(()=>{P&&P.filter(R=>{const B=z||r,H=a&&R.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&R.button===1&&R.type==="mousedown"&&(Mo(R,"react-flow__node")||Mo(R,"react-flow__edge")))return!0;if(!f&&!B&&!i&&!u&&!a||T||!u&&R.type==="dblclick"||Mo(R,w)&&R.type==="wheel"||Mo(R,N)&&(R.type!=="wheel"||i&&R.type==="wheel"&&!z)||!a&&R.ctrlKey&&R.type==="wheel"||!B&&!i&&!H&&R.type==="wheel"||!f&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(f)&&!f.includes(R.button)&&R.type==="mousedown")return!1;const I=Array.isArray(f)&&f.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&I})},[T,P,r,a,i,u,f,d,z]),$.createElement("div",{className:"react-flow__renderer",ref:E,style:q0},b)},wV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function NV(){const{userSelectionActive:e,userSelectionRect:t}=st(wV,rn);return e&&t?$.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function fw(e,t){const n=t.parentNode||t.parentId,s=e.find(r=>r.id===n);if(s){const r=t.position.x+t.width-s.width,a=t.position.y+t.height-s.height;if(r>0||a>0||t.position.x<0||t.position.y<0){if(s.style={...s.style},s.style.width=s.style.width??s.width,s.style.height=s.style.height??s.height,r>0&&(s.style.width+=r),a>0&&(s.style.height+=a),t.position.x<0){const i=Math.abs(t.position.x);s.position.x=s.position.x-i,s.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);s.position.y=s.position.y-i,s.style.height+=i,t.position.y=0}s.width=s.style.width,s.height=s.style.height}}}function ZE(e,t){if(e.some(s=>s.type==="reset"))return e.filter(s=>s.type==="reset").map(s=>s.item);const n=e.filter(s=>s.type==="add").map(s=>s.item);return t.reduce((s,r)=>{const a=e.filter(l=>l.id===r.id);if(a.length===0)return s.push(r),s;const i={...r};for(const l of a)if(l)switch(l.type){case"select":{i.selected=l.selected;break}case"position":{typeof l.position<"u"&&(i.position=l.position),typeof l.positionAbsolute<"u"&&(i.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(i.dragging=l.dragging),i.expandParent&&fw(s,i);break}case"dimensions":{typeof l.dimensions<"u"&&(i.width=l.dimensions.width,i.height=l.dimensions.height),typeof l.updateStyle<"u"&&(i.style={...i.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(i.resizing=l.resizing),i.expandParent&&fw(s,i);break}case"remove":return s}return s.push(i),s},n)}function YE(e,t){return ZE(e,t)}function jV(e,t){return ZE(e,t)}const Pr=(e,t)=>({id:e,type:"select",selected:t});function Ho(e,t){return e.reduce((n,s)=>{const r=t.includes(s.id);return!s.selected&&r?(s.selected=!0,n.push(Pr(s.id,!0))):s.selected&&!r&&(s.selected=!1,n.push(Pr(s.id,!1))),n},[])}const xh=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},SV=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),XE=g.memo(({isSelecting:e,selectionMode:t=hc.Full,panOnDrag:n,onSelectionStart:s,onSelectionEnd:r,onPaneClick:a,onPaneContextMenu:i,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const m=g.useRef(null),h=Rt(),p=g.useRef(0),y=g.useRef(0),v=g.useRef(),{userSelectionActive:x,elementsSelectable:b,dragging:w}=st(SV,rn),N=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,y.current=0},j=L=>{a==null||a(L),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},S=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}i==null||i(L)},C=l?L=>l(L):void 0,k=L=>{const{resetSelectedElements:T,domNode:z}=h.getState();if(v.current=z==null?void 0:z.getBoundingClientRect(),!b||!e||L.button!==0||L.target!==m.current||!v.current)return;const{x:A,y:D}=Jr(L,v.current);T(),h.setState({userSelectionRect:{width:0,height:0,startX:A,startY:D,x:A,y:D}}),s==null||s(L)},E=L=>{const{userSelectionRect:T,nodeInternals:z,edges:A,transform:D,onNodesChange:M,onEdgesChange:R,nodeOrigin:B,getNodes:H}=h.getState();if(!e||!v.current||!T)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const I=Jr(L,v.current),V=T.startX??0,Z=T.startY??0,J={...T,x:I.x<V?I.x:V,y:I.y<Z?I.y:Z,width:Math.abs(I.x-V),height:Math.abs(I.y-Z)},ie=H(),ee=AE(z,J,D,t===hc.Partial,!0,B),pe=TE(ee,A).map(ve=>ve.id),me=ee.map(ve=>ve.id);if(p.current!==me.length){p.current=me.length;const ve=Ho(ie,me);ve.length&&(M==null||M(ve))}if(y.current!==pe.length){y.current=pe.length;const ve=Ho(A,pe);ve.length&&(R==null||R(ve))}h.setState({userSelectionRect:J})},_=L=>{if(L.button!==0)return;const{userSelectionRect:T}=h.getState();!x&&T&&L.target===m.current&&(j==null||j(L)),h.setState({nodesSelectionActive:p.current>0}),N(),r==null||r(L)},P=L=>{x&&(h.setState({nodesSelectionActive:p.current>0}),r==null||r(L)),N()},O=b&&(e||x);return $.createElement("div",{className:Wt(["react-flow__pane",{dragging:w,selection:e}]),onClick:O?void 0:xh(j,m),onContextMenu:xh(S,m),onWheel:xh(C,m),onMouseEnter:O?void 0:c,onMouseDown:O?k:void 0,onMouseMove:O?E:u,onMouseUp:O?_:void 0,onMouseLeave:O?P:d,ref:m,style:q0},f,$.createElement(NV,null))});XE.displayName="Pane";function KE(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const s=t.get(n);return s?s.selected?!0:KE(s,t):!1}function mw(e,t,n){let s=e;do{if(s!=null&&s.matches(t))return!0;if(s===n.current)return!1;s=s.parentElement}while(s);return!1}function CV(e,t,n,s){return Array.from(e.values()).filter(r=>(r.selected||r.id===s)&&(!r.parentNode||r.parentId||!KE(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var a,i;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=r.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((i=r.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode||r.parentId,parentId:r.parentNode||r.parentId,width:r.width,height:r.height,expandParent:r.expandParent}})}function kV(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function WE(e,t,n,s,r=[0,0],a){const i=kV(e,e.extent||s);let l=i;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:m,y:h}=ai(f,r).positionAbsolute;l=f&&Pn(m)&&Pn(h)&&Pn(f.width)&&Pn(f.height)?[[m+e.width*r[0],h+e.height*r[1]],[m+f.width-e.width+e.width*r[0],h+f.height-e.height+e.height*r[1]]]:l}else a==null||a("005",yr.error005()),l=i;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:m,y:h}=ai(f,r).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+h],[e.extent[1][0]+m,e.extent[1][1]+h]]}let u={x:0,y:0};if(c){const f=n.get(c);u=ai(f,r).positionAbsolute}const d=l&&l!=="parent"?z0(t,l):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function yh({nodeId:e,dragItems:t,nodeInternals:n}){const s=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?s.find(r=>r.id===e):s[0],s]}const hw=(e,t,n,s)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const a=Array.from(r),i=t.getBoundingClientRect(),l={x:i.width*s[0],y:i.height*s[1]};return a.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-i.left-l.x)/n,y:(u.top-i.top-l.y)/n,...D0(c)}})};function pl(e,t,n){return n===void 0?n:s=>{const r=t().nodeInternals.get(e);r&&n(s,{...r})}}function tp({id:e,store:t,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:r,unselectNodesAndEdges:a,multiSelectionActive:i,nodeInternals:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",yr.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=s==null?void 0:s.current)==null?void 0:d.blur()})):r([e])}function EV(){const e=Rt();return g.useCallback(({sourceEvent:n})=>{const{transform:s,snapGrid:r,snapToGrid:a}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,c={x:(i-s[0])/s[2],y:(l-s[1])/s[2]};return{xSnapped:a?r[0]*Math.round(c.x/r[0]):c.x,ySnapped:a?r[1]*Math.round(c.y/r[1]):c.y,...c}},[])}function vh(e){return(t,n,s)=>e==null?void 0:e(t,s)}function QE({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:s,nodeId:r,isSelectable:a,selectNodesOnDrag:i}){const l=Rt(),[c,u]=g.useState(!1),d=g.useRef([]),f=g.useRef({x:null,y:null}),m=g.useRef(0),h=g.useRef(null),p=g.useRef({x:0,y:0}),y=g.useRef(null),v=g.useRef(!1),x=g.useRef(!1),b=g.useRef(!1),w=EV();return g.useEffect(()=>{if(e!=null&&e.current){const N=Kn(e.current),j=({x:k,y:E})=>{const{nodeInternals:_,onNodeDrag:P,onSelectionDrag:O,updateNodePositions:L,nodeExtent:T,snapGrid:z,snapToGrid:A,nodeOrigin:D,onError:M}=l.getState();f.current={x:k,y:E};let R=!1,B={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&T){const I=H0(d.current,D);B=L0(I)}if(d.current=d.current.map(I=>{const V={x:k-I.distance.x,y:E-I.distance.y};A&&(V.x=z[0]*Math.round(V.x/z[0]),V.y=z[1]*Math.round(V.y/z[1]));const Z=[[T[0][0],T[0][1]],[T[1][0],T[1][1]]];d.current.length>1&&T&&!I.extent&&(Z[0][0]=I.positionAbsolute.x-B.x+T[0][0],Z[1][0]=I.positionAbsolute.x+(I.width??0)-B.x2+T[1][0],Z[0][1]=I.positionAbsolute.y-B.y+T[0][1],Z[1][1]=I.positionAbsolute.y+(I.height??0)-B.y2+T[1][1]);const J=WE(I,V,_,Z,D,M);return R=R||I.position.x!==J.position.x||I.position.y!==J.position.y,I.position=J.position,I.positionAbsolute=J.positionAbsolute,I}),!R)return;L(d.current,!0,!0),u(!0);const H=r?P:vh(O);if(H&&y.current){const[I,V]=yh({nodeId:r,dragItems:d.current,nodeInternals:_});H(y.current,I,V)}},S=()=>{if(!h.current)return;const[k,E]=bE(p.current,h.current);if(k!==0||E!==0){const{transform:_,panBy:P}=l.getState();f.current.x=(f.current.x??0)-k/_[2],f.current.y=(f.current.y??0)-E/_[2],P({x:k,y:E})&&j(f.current)}m.current=requestAnimationFrame(S)},C=k=>{var D;const{nodeInternals:E,multiSelectionActive:_,nodesDraggable:P,unselectNodesAndEdges:O,onNodeDragStart:L,onSelectionDragStart:T}=l.getState();x.current=!0;const z=r?L:vh(T);(!i||!a)&&!_&&r&&((D=E.get(r))!=null&&D.selected||O()),r&&a&&i&&tp({id:r,store:l,nodeRef:e});const A=w(k);if(f.current=A,d.current=CV(E,P,A,r),z&&d.current){const[M,R]=yh({nodeId:r,dragItems:d.current,nodeInternals:E});z(k.sourceEvent,M,R)}};if(t)N.on(".drag",null);else{const k=PH().on("start",E=>{const{domNode:_,nodeDragThreshold:P}=l.getState();P===0&&C(E),b.current=!1;const O=w(E);f.current=O,h.current=(_==null?void 0:_.getBoundingClientRect())||null,p.current=Jr(E.sourceEvent,h.current)}).on("drag",E=>{var L,T;const _=w(E),{autoPanOnNodeDrag:P,nodeDragThreshold:O}=l.getState();if(E.sourceEvent.type==="touchmove"&&E.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!v.current&&x.current&&P&&(v.current=!0,S()),!x.current){const z=_.xSnapped-(((L=f==null?void 0:f.current)==null?void 0:L.x)??0),A=_.ySnapped-(((T=f==null?void 0:f.current)==null?void 0:T.y)??0);Math.sqrt(z*z+A*A)>O&&C(E)}(f.current.x!==_.xSnapped||f.current.y!==_.ySnapped)&&d.current&&x.current&&(y.current=E.sourceEvent,p.current=Jr(E.sourceEvent,h.current),j(_))}}).on("end",E=>{if(!(!x.current||b.current)&&(u(!1),v.current=!1,x.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:_,nodeInternals:P,onNodeDragStop:O,onSelectionDragStop:L}=l.getState(),T=r?O:vh(L);if(_(d.current,!1,!1),T){const[z,A]=yh({nodeId:r,dragItems:d.current,nodeInternals:P});T(E.sourceEvent,z,A)}}}).filter(E=>{const _=E.target;return!E.button&&(!n||!mw(_,`.${n}`,e))&&(!s||mw(_,s,e))});return N.call(k),()=>{N.on(".drag",null)}}}},[e,t,n,s,a,l,r,i,w]),c}function JE(){const e=Rt();return g.useCallback(n=>{const{nodeInternals:s,nodeExtent:r,updateNodePositions:a,getNodes:i,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=i().filter(b=>b.selected&&(b.draggable||d&&typeof b.draggable>"u")),m=l?c[0]:5,h=l?c[1]:5,p=n.isShiftPressed?4:1,y=n.x*m*p,v=n.y*h*p,x=f.map(b=>{if(b.positionAbsolute){const w={x:b.positionAbsolute.x+y,y:b.positionAbsolute.y+v};l&&(w.x=c[0]*Math.round(w.x/c[0]),w.y=c[1]*Math.round(w.y/c[1]));const{positionAbsolute:N,position:j}=WE(b,w,s,r,void 0,u);b.position=j,b.positionAbsolute=N}return b});a(x,!0,!1)},[])}const oi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var xl=e=>{const t=({id:n,type:s,data:r,xPos:a,yPos:i,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,onContextMenu:p,onDoubleClick:y,style:v,className:x,isDraggable:b,isSelectable:w,isConnectable:N,isFocusable:j,selectNodesOnDrag:S,sourcePosition:C,targetPosition:k,hidden:E,resizeObserver:_,dragHandle:P,zIndex:O,isParent:L,noDragClassName:T,noPanClassName:z,initialized:A,disableKeyboardA11y:D,ariaLabel:M,rfId:R,hasHandleBounds:B})=>{const H=Rt(),I=g.useRef(null),V=g.useRef(null),Z=g.useRef(C),J=g.useRef(k),ie=g.useRef(s),ee=w||b||d||f||m||h,pe=JE(),me=pl(n,H.getState,f),ve=pl(n,H.getState,m),F=pl(n,H.getState,h),Y=pl(n,H.getState,p),Q=pl(n,H.getState,y),X=de=>{const{nodeDragThreshold:ne}=H.getState();if(w&&(!S||!b||ne>0)&&tp({id:n,store:H,nodeRef:I}),d){const Me=H.getState().nodeInternals.get(n);Me&&d(de,{...Me})}},se=de=>{if(!Kg(de)&&!D)if(NE.includes(de.key)&&w){const ne=de.key==="Escape";tp({id:n,store:H,unselect:ne,nodeRef:I})}else b&&u&&Object.prototype.hasOwnProperty.call(oi,de.key)&&(H.setState({ariaLiveMessage:`Moved selected node ${de.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~i}`}),pe({x:oi[de.key].x,y:oi[de.key].y,isShiftPressed:de.shiftKey}))};g.useEffect(()=>()=>{V.current&&(_==null||_.unobserve(V.current),V.current=null)},[]),g.useEffect(()=>{if(I.current&&!E){const de=I.current;(!A||!B||V.current!==de)&&(V.current&&(_==null||_.unobserve(V.current)),_==null||_.observe(de),V.current=de)}},[E,A,B]),g.useEffect(()=>{const de=ie.current!==s,ne=Z.current!==C,Me=J.current!==k;I.current&&(de||ne||Me)&&(de&&(ie.current=s),ne&&(Z.current=C),Me&&(J.current=k),H.getState().updateNodeDimensions([{id:n,nodeElement:I.current,forceUpdate:!0}]))},[n,s,C,k]);const ye=QE({nodeRef:I,disabled:E||!b,noDragClassName:T,handleSelector:P,nodeId:n,isSelectable:w,selectNodesOnDrag:S});return E?null:$.createElement("div",{className:Wt(["react-flow__node",`react-flow__node-${s}`,{[z]:b},x,{selected:u,selectable:w,parent:L,dragging:ye}]),ref:I,style:{zIndex:O,transform:`translate(${l}px,${c}px)`,pointerEvents:ee?"all":"none",visibility:A?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:me,onMouseMove:ve,onMouseLeave:F,onContextMenu:Y,onClick:X,onDoubleClick:Q,onKeyDown:j?se:void 0,tabIndex:j?0:void 0,role:j?"button":void 0,"aria-describedby":D?void 0:`${UE}-${R}`,"aria-label":M},$.createElement(UF,{value:n},$.createElement(e,{id:n,data:r,type:s,xPos:a,yPos:i,selected:u,isConnectable:N,sourcePosition:C,targetPosition:k,dragging:ye,dragHandle:P,zIndex:O})))};return t.displayName="NodeWrapper",g.memo(t)};const _V=e=>{const t=e.getNodes().filter(n=>n.selected);return{...H0(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function AV({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=Rt(),{width:r,height:a,x:i,y:l,transformString:c,userSelectionActive:u}=st(_V,rn),d=JE(),f=g.useRef(null);if(g.useEffect(()=>{var p;n||(p=f.current)==null||p.focus({preventScroll:!0})},[n]),QE({nodeRef:f}),u||!r||!a)return null;const m=e?p=>{const y=s.getState().getNodes().filter(v=>v.selected);e(p,y)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(oi,p.key)&&d({x:oi[p.key].x,y:oi[p.key].y,isShiftPressed:p.shiftKey})};return $.createElement("div",{className:Wt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},$.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:r,height:a,top:l,left:i}}))}var TV=g.memo(AV);const MV=e=>e.nodesSelectionActive,e_=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:a,onPaneScroll:i,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:h,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:b,elementsSelectable:w,zoomOnScroll:N,zoomOnPinch:j,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:k,zoomOnDoubleClick:E,panOnDrag:_,defaultViewport:P,translateExtent:O,minZoom:L,maxZoom:T,preventScrolling:z,onSelectionContextMenu:A,noWheelClassName:D,noPanClassName:M,disableKeyboardA11y:R})=>{const B=st(MV),H=gc(f),I=gc(x),V=I||_,Z=I||S,J=H||m&&V!==!0;return pV({deleteKeyCode:l,multiSelectionKeyCode:v}),$.createElement(bV,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:w,zoomOnScroll:N,zoomOnPinch:j,panOnScroll:Z,panOnScrollSpeed:C,panOnScrollMode:k,zoomOnDoubleClick:E,panOnDrag:!H&&V,defaultViewport:P,translateExtent:O,minZoom:L,maxZoom:T,zoomActivationKeyCode:b,preventScrolling:z,noWheelClassName:D,noPanClassName:M},$.createElement(XE,{onSelectionStart:p,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:a,onPaneScroll:i,panOnDrag:V,isSelecting:!!J,selectionMode:h},e,B&&$.createElement(TV,{onSelectionContextMenu:A,noPanClassName:M,disableKeyboardA11y:R})))};e_.displayName="FlowRenderer";var RV=g.memo(e_);function DV(e){return st(g.useCallback(n=>e?AE(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function zV(e){const t={input:xl(e.input||OE),default:xl(e.default||ep),output:xl(e.output||IE),group:xl(e.group||F0)},n={},s=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,a)=>(r[a]=xl(e[a]||ep),r),n);return{...t,...s}}const LV=({x:e,y:t,width:n,height:s,origin:r})=>!n||!s?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-s*r[1]},$V=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),t_=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:r,updateNodeDimensions:a,onError:i}=st($V,rn),l=DV(e.onlyRenderVisibleElements),c=g.useRef(),u=g.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const m=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));a(m)});return c.current=d,d},[]);return g.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),$.createElement("div",{className:"react-flow__nodes",style:q0},l.map(d=>{var j,S,C;let f=d.type||"default";e.nodeTypes[f]||(i==null||i("003",yr.error003(f)),f="default");const m=e.nodeTypes[f]||e.nodeTypes.default,h=!!(d.draggable||t&&typeof d.draggable>"u"),p=!!(d.selectable||r&&typeof d.selectable>"u"),y=!!(d.connectable||n&&typeof d.connectable>"u"),v=!!(d.focusable||s&&typeof d.focusable>"u"),x=e.nodeExtent?z0(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,b=(x==null?void 0:x.x)??0,w=(x==null?void 0:x.y)??0,N=LV({x:b,y:w,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return $.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||le.Bottom,targetPosition:d.targetPosition||le.Top,hidden:d.hidden,xPos:b,yPos:w,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:h,isSelectable:p,isConnectable:y,isFocusable:v,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((j=d[it])==null?void 0:j.z)??0,isParent:!!((S=d[it])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((C=d[it])!=null&&C.handleBounds)})}))};t_.displayName="NodeRenderer";var PV=g.memo(t_);const OV=(e,t,n)=>n===le.Left?e-t:n===le.Right?e+t:e,BV=(e,t,n)=>n===le.Top?e-t:n===le.Bottom?e+t:e,gw="react-flow__edgeupdater",pw=({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:r,onMouseEnter:a,onMouseOut:i,type:l})=>$.createElement("circle",{onMouseDown:r,onMouseEnter:a,onMouseOut:i,className:Wt([gw,`${gw}-${l}`]),cx:OV(t,s,e),cy:BV(n,s,e),r:s,stroke:"transparent",fill:"transparent"}),IV=()=>!0;var Ro=e=>{const t=({id:n,className:s,type:r,data:a,onClick:i,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:v,source:x,target:b,sourceX:w,sourceY:N,targetX:j,targetY:S,sourcePosition:C,targetPosition:k,elementsSelectable:E,hidden:_,sourceHandleId:P,targetHandleId:O,onContextMenu:L,onMouseEnter:T,onMouseMove:z,onMouseLeave:A,reconnectRadius:D,onReconnect:M,onReconnectStart:R,onReconnectEnd:B,markerEnd:H,markerStart:I,rfId:V,ariaLabel:Z,isFocusable:J,isReconnectable:ie,pathOptions:ee,interactionWidth:pe,disableKeyboardA11y:me})=>{const ve=g.useRef(null),[F,Y]=g.useState(!1),[Q,X]=g.useState(!1),se=Rt(),ye=g.useMemo(()=>`url('#${Qg(I,V)}')`,[I,V]),de=g.useMemo(()=>`url('#${Qg(H,V)}')`,[H,V]);if(_)return null;const ne=Et=>{var En;const{edges:Dt,addSelectedEdges:cs,unselectNodesAndEdges:Hs,multiSelectionActive:Us}=se.getState(),Yn=Dt.find(ba=>ba.id===n);Yn&&(E&&(se.setState({nodesSelectionActive:!1}),Yn.selected&&Us?(Hs({nodes:[],edges:[Yn]}),(En=ve.current)==null||En.blur()):cs([n])),i&&i(Et,Yn))},Me=gl(n,se.getState,l),ft=gl(n,se.getState,L),ls=gl(n,se.getState,T),Er=gl(n,se.getState,z),kn=gl(n,se.getState,A),Gn=(Et,Dt)=>{if(Et.button!==0)return;const{edges:cs,isValidConnection:Hs}=se.getState(),Us=Dt?b:x,Yn=(Dt?O:P)||null,En=Dt?"target":"source",ba=Hs||IV,fe=Dt,_e=cs.find(Pe=>Pe.id===n);X(!0),R==null||R(Et,_e,En);const ze=Pe=>{X(!1),B==null||B(Pe,_e,En)};zE({event:Et,handleId:Yn,nodeId:Us,onConnect:Pe=>M==null?void 0:M(_e,Pe),isTarget:fe,getState:se.getState,setState:se.setState,isValidConnection:ba,edgeUpdaterType:En,onReconnectEnd:ze})},Os=Et=>Gn(Et,!0),Bs=Et=>Gn(Et,!1),Is=()=>Y(!0),Zn=()=>Y(!1),_r=!E&&!i,Ar=Et=>{var Dt;if(!me&&NE.includes(Et.key)&&E){const{unselectNodesAndEdges:cs,addSelectedEdges:Hs,edges:Us}=se.getState();Et.key==="Escape"?((Dt=ve.current)==null||Dt.blur(),cs({edges:[Us.find(En=>En.id===n)]})):Hs([n])}};return $.createElement("g",{className:Wt(["react-flow__edge",`react-flow__edge-${r}`,s,{selected:c,animated:u,inactive:_r,updating:F}]),onClick:ne,onDoubleClick:Me,onContextMenu:ft,onMouseEnter:ls,onMouseMove:Er,onMouseLeave:kn,onKeyDown:J?Ar:void 0,tabIndex:J?0:void 0,role:J?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Z===null?void 0:Z||`Edge from ${x} to ${b}`,"aria-describedby":J?`${FE}-${V}`:void 0,ref:ve},!Q&&$.createElement(e,{id:n,source:x,target:b,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,data:a,style:v,sourceX:w,sourceY:N,targetX:j,targetY:S,sourcePosition:C,targetPosition:k,sourceHandleId:P,targetHandleId:O,markerStart:ye,markerEnd:de,pathOptions:ee,interactionWidth:pe}),ie&&$.createElement($.Fragment,null,(ie==="source"||ie===!0)&&$.createElement(pw,{position:C,centerX:w,centerY:N,radius:D,onMouseDown:Os,onMouseEnter:Is,onMouseOut:Zn,type:"source"}),(ie==="target"||ie===!0)&&$.createElement(pw,{position:k,centerX:j,centerY:S,radius:D,onMouseDown:Bs,onMouseEnter:Is,onMouseOut:Zn,type:"target"})))};return t.displayName="EdgeWrapper",g.memo(t)};function HV(e){const t={default:Ro(e.default||Xd),straight:Ro(e.bezier||O0),step:Ro(e.step||P0),smoothstep:Ro(e.step||xm),simplebezier:Ro(e.simplebezier||$0)},n={},s=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,a)=>(r[a]=Ro(e[a]||Xd),r),n);return{...t,...s}}function xw(e,t,n=null){const s=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,a=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case le.Top:return{x:s+a/2,y:r};case le.Right:return{x:s+a,y:r+i/2};case le.Bottom:return{x:s+a/2,y:r+i};case le.Left:return{x:s,y:r+i/2}}}function yw(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const UV=(e,t,n,s,r,a)=>{const i=xw(n,e,t),l=xw(a,s,r);return{sourceX:i.x,sourceY:i.y,targetX:l.x,targetY:l.y}};function FV({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:s,targetWidth:r,targetHeight:a,width:i,height:l,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+s,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=L0({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:l/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*m)>0}function vw(e){var s,r,a,i,l;const t=((s=e==null?void 0:e[it])==null?void 0:s.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const VV=[{level:0,isMaxLevel:!0,edges:[]}];function qV(e,t,n=!1){let s=-1;const r=e.reduce((i,l)=>{var d,f;const c=Pn(l.zIndex);let u=c?l.zIndex:0;if(n){const m=t.get(l.target),h=t.get(l.source),p=l.selected||(m==null?void 0:m.selected)||(h==null?void 0:h.selected),y=Math.max(((d=h==null?void 0:h[it])==null?void 0:d.z)||0,((f=m==null?void 0:m[it])==null?void 0:f.z)||0,1e3);u=(c?l.zIndex:0)+(p?y:0)}return i[u]?i[u].push(l):i[u]=[l],s=u>s?u:s,i},{}),a=Object.entries(r).map(([i,l])=>{const c=+i;return{edges:l,level:c,isMaxLevel:c===s}});return a.length===0?VV:a}function GV(e,t,n){const s=st(g.useCallback(r=>e?r.edges.filter(a=>{const i=t.get(a.source),l=t.get(a.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&FV({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:l.width,targetHeight:l.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return qV(s,t,n)}const ZV=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),YV=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),bw={[Yd.Arrow]:ZV,[Yd.ArrowClosed]:YV};function XV(e){const t=Rt();return g.useMemo(()=>{var r,a;return Object.prototype.hasOwnProperty.call(bw,e)?bw[e]:((a=(r=t.getState()).onError)==null||a.call(r,"009",yr.error009(e)),null)},[e])}const KV=({id:e,type:t,color:n,width:s=12.5,height:r=12.5,markerUnits:a="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const c=XV(t);return c?$.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0"},$.createElement(c,{color:n,strokeWidth:i})):null},WV=({defaultColor:e,rfId:t})=>n=>{const s=[];return n.edges.reduce((r,a)=>([a.markerStart,a.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const l=Qg(i,t);s.includes(l)||(r.push({id:l,color:i.color||e,...i}),s.push(l))}}),r),[]).sort((r,a)=>r.id.localeCompare(a.id))},n_=({defaultColor:e,rfId:t})=>{const n=st(g.useCallback(WV({defaultColor:e,rfId:t}),[e,t]),(s,r)=>!(s.length!==r.length||s.some((a,i)=>a.id!==r[i].id)));return $.createElement("defs",null,n.map(s=>$.createElement(KV,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient})))};n_.displayName="MarkerDefinitions";var QV=g.memo(n_);const JV=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),s_=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:s,edgeTypes:r,noPanClassName:a,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:y,children:v,disableKeyboardA11y:x})=>{const{edgesFocusable:b,edgesUpdatable:w,elementsSelectable:N,width:j,height:S,connectionMode:C,nodeInternals:k,onError:E}=st(JV,rn),_=GV(t,k,n);return j?$.createElement($.Fragment,null,_.map(({level:P,edges:O,isMaxLevel:L})=>$.createElement("svg",{key:P,style:{zIndex:P},width:j,height:S,className:"react-flow__edges react-flow__container"},L&&$.createElement(QV,{defaultColor:e,rfId:s}),$.createElement("g",null,O.map(T=>{const[z,A,D]=vw(k.get(T.source)),[M,R,B]=vw(k.get(T.target));if(!D||!B)return null;let H=T.type||"default";r[H]||(E==null||E("011",yr.error011(H)),H="default");const I=r[H]||r.default,V=C===Xa.Strict?R.target:(R.target??[]).concat(R.source??[]),Z=yw(A.source,T.sourceHandle),J=yw(V,T.targetHandle),ie=(Z==null?void 0:Z.position)||le.Bottom,ee=(J==null?void 0:J.position)||le.Top,pe=!!(T.focusable||b&&typeof T.focusable>"u"),me=T.reconnectable||T.updatable,ve=typeof m<"u"&&(me||w&&typeof me>"u");if(!Z||!J)return E==null||E("008",yr.error008(Z,T)),null;const{sourceX:F,sourceY:Y,targetX:Q,targetY:X}=UV(z,Z,ie,M,J,ee);return $.createElement(I,{key:T.id,id:T.id,className:Wt([T.className,a]),type:H,data:T.data,selected:!!T.selected,animated:!!T.animated,hidden:!!T.hidden,label:T.label,labelStyle:T.labelStyle,labelShowBg:T.labelShowBg,labelBgStyle:T.labelBgStyle,labelBgPadding:T.labelBgPadding,labelBgBorderRadius:T.labelBgBorderRadius,style:T.style,source:T.source,target:T.target,sourceHandleId:T.sourceHandle,targetHandleId:T.targetHandle,markerEnd:T.markerEnd,markerStart:T.markerStart,sourceX:F,sourceY:Y,targetX:Q,targetY:X,sourcePosition:ie,targetPosition:ee,elementsSelectable:N,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:y,rfId:s,ariaLabel:T.ariaLabel,isFocusable:pe,isReconnectable:ve,pathOptions:"pathOptions"in T?T.pathOptions:void 0,interactionWidth:T.interactionWidth,disableKeyboardA11y:x})})))),v):null};s_.displayName="EdgeRenderer";var eq=g.memo(s_);const tq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function nq({children:e}){const t=st(tq);return $.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function sq(e){const t=V0(),n=g.useRef(!1);g.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const rq={[le.Left]:le.Right,[le.Right]:le.Left,[le.Top]:le.Bottom,[le.Bottom]:le.Top},r_=({nodeId:e,handleType:t,style:n,type:s=Hr.Bezier,CustomComponent:r,connectionStatus:a})=>{var S,C,k;const{fromNode:i,handleId:l,toX:c,toY:u,connectionMode:d}=st(g.useCallback(E=>({fromNode:E.nodeInternals.get(e),handleId:E.connectionHandleId,toX:(E.connectionPosition.x-E.transform[0])/E.transform[2],toY:(E.connectionPosition.y-E.transform[1])/E.transform[2],connectionMode:E.connectionMode}),[e]),rn),f=(S=i==null?void 0:i[it])==null?void 0:S.handleBounds;let m=f==null?void 0:f[t];if(d===Xa.Loose&&(m=m||(f==null?void 0:f[t==="source"?"target":"source"])),!i||!m)return null;const h=l?m.find(E=>E.id===l):m[0],p=h?h.x+h.width/2:(i.width??0)/2,y=h?h.y+h.height/2:i.height??0,v=(((C=i.positionAbsolute)==null?void 0:C.x)??0)+p,x=(((k=i.positionAbsolute)==null?void 0:k.y)??0)+y,b=h==null?void 0:h.position,w=b?rq[b]:null;if(!b||!w)return null;if(r)return $.createElement(r,{connectionLineType:s,connectionLineStyle:n,fromNode:i,fromHandle:h,fromX:v,fromY:x,toX:c,toY:u,fromPosition:b,toPosition:w,connectionStatus:a});let N="";const j={sourceX:v,sourceY:x,sourcePosition:b,targetX:c,targetY:u,targetPosition:w};return s===Hr.Bezier?[N]=EE(j):s===Hr.Step?[N]=Wg({...j,borderRadius:0}):s===Hr.SmoothStep?[N]=Wg(j):s===Hr.SimpleBezier?[N]=kE(j):N=`M${v},${x} ${c},${u}`,$.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:n})};r_.displayName="ConnectionLine";const aq=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function oq({containerStyle:e,style:t,type:n,component:s}){const{nodeId:r,handleType:a,nodesConnectable:i,width:l,height:c,connectionStatus:u}=st(aq,rn);return!(r&&a&&l&&i)?null:$.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},$.createElement("g",{className:Wt(["react-flow__connection",u])},$.createElement(r_,{nodeId:r,handleType:a,style:t,type:n,CustomComponent:s,connectionStatus:u})))}function ww(e,t){return g.useRef(null),Rt(),g.useMemo(()=>t(e),[e])}const a_=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:s,onMoveEnd:r,onInit:a,onNodeClick:i,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:y,onSelectionEnd:v,connectionLineType:x,connectionLineStyle:b,connectionLineComponent:w,connectionLineContainerStyle:N,selectionKeyCode:j,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:k,panActivationKeyCode:E,zoomActivationKeyCode:_,deleteKeyCode:P,onlyRenderVisibleElements:O,elementsSelectable:L,selectNodesOnDrag:T,defaultViewport:z,translateExtent:A,minZoom:D,maxZoom:M,preventScrolling:R,defaultMarkerColor:B,zoomOnScroll:H,zoomOnPinch:I,panOnScroll:V,panOnScrollSpeed:Z,panOnScrollMode:J,zoomOnDoubleClick:ie,panOnDrag:ee,onPaneClick:pe,onPaneMouseEnter:me,onPaneMouseMove:ve,onPaneMouseLeave:F,onPaneScroll:Y,onPaneContextMenu:Q,onEdgeContextMenu:X,onEdgeMouseEnter:se,onEdgeMouseMove:ye,onEdgeMouseLeave:de,onReconnect:ne,onReconnectStart:Me,onReconnectEnd:ft,reconnectRadius:ls,noDragClassName:Er,noWheelClassName:kn,noPanClassName:Gn,elevateEdgesOnSelect:Os,disableKeyboardA11y:Bs,nodeOrigin:Is,nodeExtent:Zn,rfId:_r})=>{const Ar=ww(e,zV),Et=ww(t,HV);return sq(a),$.createElement(RV,{onPaneClick:pe,onPaneMouseEnter:me,onPaneMouseMove:ve,onPaneMouseLeave:F,onPaneContextMenu:Q,onPaneScroll:Y,deleteKeyCode:P,selectionKeyCode:j,selectionOnDrag:S,selectionMode:C,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:k,panActivationKeyCode:E,zoomActivationKeyCode:_,elementsSelectable:L,onMove:n,onMoveStart:s,onMoveEnd:r,zoomOnScroll:H,zoomOnPinch:I,zoomOnDoubleClick:ie,panOnScroll:V,panOnScrollSpeed:Z,panOnScrollMode:J,panOnDrag:ee,defaultViewport:z,translateExtent:A,minZoom:D,maxZoom:M,onSelectionContextMenu:p,preventScrolling:R,noDragClassName:Er,noWheelClassName:kn,noPanClassName:Gn,disableKeyboardA11y:Bs},$.createElement(nq,null,$.createElement(eq,{edgeTypes:Et,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:O,onEdgeContextMenu:X,onEdgeMouseEnter:se,onEdgeMouseMove:ye,onEdgeMouseLeave:de,onReconnect:ne,onReconnectStart:Me,onReconnectEnd:ft,reconnectRadius:ls,defaultMarkerColor:B,noPanClassName:Gn,elevateEdgesOnSelect:!!Os,disableKeyboardA11y:Bs,rfId:_r},$.createElement(oq,{style:b,type:x,component:w,containerStyle:N})),$.createElement("div",{className:"react-flow__edgelabel-renderer"}),$.createElement(PV,{nodeTypes:Ar,onNodeClick:i,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,selectNodesOnDrag:T,onlyRenderVisibleElements:O,noPanClassName:Gn,noDragClassName:Er,disableKeyboardA11y:Bs,nodeOrigin:Is,nodeExtent:Zn,rfId:_r})))};a_.displayName="GraphView";var iq=g.memo(a_);const np=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Rr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:np,nodeExtent:np,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Xa.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:$F,isValidConnection:void 0},lq=()=>X9((e,t)=>({...Rr,setNodes:n=>{const{nodeInternals:s,nodeOrigin:r,elevateNodesOnSelect:a}=t();e({nodeInternals:ph(n,s,r,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:s={}}=t();e({edges:n.map(r=>({...s,...r}))})},setDefaultNodesAndEdges:(n,s)=>{const r=typeof n<"u",a=typeof s<"u",i=r?ph(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:a?s:[],hasDefaultNodes:r,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:s,nodeInternals:r,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((y,v)=>{const x=r.get(v.id);if(x!=null&&x.hidden)r.set(x.id,{...x,[it]:{...x[it],handleBounds:void 0}});else if(x){const b=D0(v.nodeElement);!!(b.width&&b.height&&(x.width!==b.width||x.height!==b.height||v.forceUpdate))&&(r.set(x.id,{...x,[it]:{...x[it],handleBounds:{source:hw(".source",v.nodeElement,m,u),target:hw(".target",v.nodeElement,m,u)}},...b}),y.push({id:x.id,type:"dimensions",dimensions:b}))}return y},[]);qE(r,u);const p=i||a&&!i&&GE(t,{initial:!0,...l});e({nodeInternals:new Map(r),fitViewOnInitDone:p}),(h==null?void 0:h.length)>0&&(s==null||s(h))},updateNodePositions:(n,s=!0,r=!1)=>{const{triggerNodeChanges:a}=t(),i=n.map(l=>{const c={id:l.id,type:"position",dragging:r};return s&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});a(i)},triggerNodeChanges:n=>{const{onNodesChange:s,nodeInternals:r,hasDefaultNodes:a,nodeOrigin:i,getNodes:l,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(a){const u=YE(n,l()),d=ph(u,r,i,c);e({nodeInternals:d})}s==null||s(n)}},addSelectedNodes:n=>{const{multiSelectionActive:s,edges:r,getNodes:a}=t();let i,l=null;s?i=n.map(c=>Pr(c,!0)):(i=Ho(a(),n),l=Ho(r,[])),zu({changedNodes:i,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:s,edges:r,getNodes:a}=t();let i,l=null;s?i=n.map(c=>Pr(c,!0)):(i=Ho(r,n),l=Ho(a(),[])),zu({changedNodes:l,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:s}={})=>{const{edges:r,getNodes:a}=t(),i=n||a(),l=s||r,c=i.map(d=>(d.selected=!1,Pr(d.id,!1))),u=l.map(d=>Pr(d.id,!1));zu({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:s,maxZoom:r}=t();s==null||s.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:s,minZoom:r}=t();s==null||s.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var s;(s=t().d3Zoom)==null||s.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:s}=t(),a=s().filter(l=>l.selected).map(l=>Pr(l.id,!1)),i=n.filter(l=>l.selected).map(l=>Pr(l.id,!1));zu({changedNodes:a,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:s}=t();s.forEach(r=>{r.positionAbsolute=z0(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(s)})},panBy:n=>{const{transform:s,width:r,height:a,d3Zoom:i,d3Selection:l,translateExtent:c}=t();if(!i||!l||!n.x&&!n.y)return!1;const u=Qr.translate(s[0]+n.x,s[1]+n.y).scale(s[2]),d=[[0,0],[r,a]],f=i==null?void 0:i.constrain()(u,d,c);return i.transform(l,f),s[0]!==f.x||s[1]!==f.y||s[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Rr.connectionNodeId,connectionHandleId:Rr.connectionHandleId,connectionHandleType:Rr.connectionHandleType,connectionStatus:Rr.connectionStatus,connectionStartHandle:Rr.connectionStartHandle,connectionEndHandle:Rr.connectionEndHandle}),reset:()=>e({...Rr})}),Object.is),o_=({children:e})=>{const t=g.useRef(null);return t.current||(t.current=lq()),$.createElement(_F,{value:t.current},e)};o_.displayName="ReactFlowProvider";const i_=({children:e})=>g.useContext(pm)?$.createElement($.Fragment,null,e):$.createElement(o_,null,e);i_.displayName="ReactFlowWrapper";const cq={input:OE,default:ep,output:IE,group:F0},uq={default:Xd,straight:O0,step:P0,smoothstep:xm,simplebezier:$0},dq=[0,0],fq=[15,15],mq={x:0,y:0,zoom:1},hq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},G0=g.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:r,nodeTypes:a=cq,edgeTypes:i=uq,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:x,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:N,onNodeContextMenu:j,onNodeDoubleClick:S,onNodeDragStart:C,onNodeDrag:k,onNodeDragStop:E,onNodesDelete:_,onEdgesDelete:P,onSelectionChange:O,onSelectionDragStart:L,onSelectionDrag:T,onSelectionDragStop:z,onSelectionContextMenu:A,onSelectionStart:D,onSelectionEnd:M,connectionMode:R=Xa.Strict,connectionLineType:B=Hr.Bezier,connectionLineStyle:H,connectionLineComponent:I,connectionLineContainerStyle:V,deleteKeyCode:Z="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ie=!1,selectionMode:ee=hc.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:me=Zd()?"Meta":"Control",zoomActivationKeyCode:ve=Zd()?"Meta":"Control",snapToGrid:F=!1,snapGrid:Y=fq,onlyRenderVisibleElements:Q=!1,selectNodesOnDrag:X=!0,nodesDraggable:se,nodesConnectable:ye,nodesFocusable:de,nodeOrigin:ne=dq,edgesFocusable:Me,edgesUpdatable:ft,elementsSelectable:ls,defaultViewport:Er=mq,minZoom:kn=.5,maxZoom:Gn=2,translateExtent:Os=np,preventScrolling:Bs=!0,nodeExtent:Is,defaultMarkerColor:Zn="#b1b1b7",zoomOnScroll:_r=!0,zoomOnPinch:Ar=!0,panOnScroll:Et=!1,panOnScrollSpeed:Dt=.5,panOnScrollMode:cs=La.Free,zoomOnDoubleClick:Hs=!0,panOnDrag:Us=!0,onPaneClick:Yn,onPaneMouseEnter:En,onPaneMouseMove:ba,onPaneMouseLeave:fe,onPaneScroll:_e,onPaneContextMenu:ze,children:Ae,onEdgeContextMenu:Pe,onEdgeDoubleClick:Bt,onEdgeMouseEnter:zt,onEdgeMouseMove:us,onEdgeMouseLeave:dn,onEdgeUpdate:Fs,onEdgeUpdateStart:ds,onEdgeUpdateEnd:_n,onReconnect:jo,onReconnectStart:du,onReconnectEnd:zM,reconnectRadius:LM=10,edgeUpdaterRadius:$M=10,onNodesChange:PM,onEdgesChange:OM,noDragClassName:BM="nodrag",noWheelClassName:IM="nowheel",noPanClassName:Qy="nopan",fitView:HM=!1,fitViewOptions:UM,connectOnClick:FM=!0,attributionPosition:VM,proOptions:qM,defaultEdgeOptions:GM,elevateNodesOnSelect:ZM=!0,elevateEdgesOnSelect:YM=!1,disableKeyboardA11y:Jy=!1,autoPanOnConnect:XM=!0,autoPanOnNodeDrag:KM=!0,connectionRadius:WM=20,isValidConnection:QM,onError:JM,style:eR,id:ev,nodeDragThreshold:tR,...nR},sR)=>{const Pm=ev||"1";return $.createElement("div",{...nR,style:{...eR,...hq},ref:sR,className:Wt(["react-flow",r]),"data-testid":"rf__wrapper",id:ev},$.createElement(i_,null,$.createElement(iq,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:N,onNodeContextMenu:j,onNodeDoubleClick:S,nodeTypes:a,edgeTypes:i,connectionLineType:B,connectionLineStyle:H,connectionLineComponent:I,connectionLineContainerStyle:V,selectionKeyCode:J,selectionOnDrag:ie,selectionMode:ee,deleteKeyCode:Z,multiSelectionKeyCode:me,panActivationKeyCode:pe,zoomActivationKeyCode:ve,onlyRenderVisibleElements:Q,selectNodesOnDrag:X,defaultViewport:Er,translateExtent:Os,minZoom:kn,maxZoom:Gn,preventScrolling:Bs,zoomOnScroll:_r,zoomOnPinch:Ar,zoomOnDoubleClick:Hs,panOnScroll:Et,panOnScrollSpeed:Dt,panOnScrollMode:cs,panOnDrag:Us,onPaneClick:Yn,onPaneMouseEnter:En,onPaneMouseMove:ba,onPaneMouseLeave:fe,onPaneScroll:_e,onPaneContextMenu:ze,onSelectionContextMenu:A,onSelectionStart:D,onSelectionEnd:M,onEdgeContextMenu:Pe,onEdgeDoubleClick:Bt,onEdgeMouseEnter:zt,onEdgeMouseMove:us,onEdgeMouseLeave:dn,onReconnect:jo??Fs,onReconnectStart:du??ds,onReconnectEnd:zM??_n,reconnectRadius:LM??$M,defaultMarkerColor:Zn,noDragClassName:BM,noWheelClassName:IM,noPanClassName:Qy,elevateEdgesOnSelect:YM,rfId:Pm,disableKeyboardA11y:Jy,nodeOrigin:ne,nodeExtent:Is}),$.createElement(rV,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:x,nodesDraggable:se,nodesConnectable:ye,nodesFocusable:de,edgesFocusable:Me,edgesUpdatable:ft,elementsSelectable:ls,elevateNodesOnSelect:ZM,minZoom:kn,maxZoom:Gn,nodeExtent:Is,onNodesChange:PM,onEdgesChange:OM,snapToGrid:F,snapGrid:Y,connectionMode:R,translateExtent:Os,connectOnClick:FM,defaultEdgeOptions:GM,fitView:HM,fitViewOptions:UM,onNodesDelete:_,onEdgesDelete:P,onNodeDragStart:C,onNodeDrag:k,onNodeDragStop:E,onSelectionDrag:T,onSelectionDragStart:L,onSelectionDragStop:z,noPanClassName:Qy,nodeOrigin:ne,rfId:Pm,autoPanOnConnect:XM,autoPanOnNodeDrag:KM,onError:JM,connectionRadius:WM,isValidConnection:QM,nodeDragThreshold:tR}),$.createElement(nV,{onSelectionChange:O}),Ae,$.createElement(TF,{proOptions:qM,position:VM}),$.createElement(cV,{rfId:Pm,disableKeyboardA11y:Jy})))});G0.displayName="ReactFlow";function l_(e){return t=>{const[n,s]=g.useState(t),r=g.useCallback(a=>s(i=>e(a,i)),[]);return[n,s,r]}}const c_=l_(YE),u_=l_(jV);function gq(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}function pq(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},$.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function xq(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},$.createElement("path",{d:"M0 0h32v4.2H0z"}))}function yq(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},$.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function vq(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},$.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function bq(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},$.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Tl=({children:e,className:t,...n})=>$.createElement("button",{type:"button",className:Wt(["react-flow__controls-button",t]),...n},e);Tl.displayName="ControlButton";const wq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),d_=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:r,onZoomIn:a,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const m=Rt(),[h,p]=g.useState(!1),{isInteractive:y,minZoomReached:v,maxZoomReached:x}=st(wq,gq),{zoomIn:b,zoomOut:w,fitView:N}=V0();if(g.useEffect(()=>{p(!0)},[]),!h)return null;const j=()=>{b(),a==null||a()},S=()=>{w(),i==null||i()},C=()=>{N(r),l==null||l()},k=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),c==null||c(!y)};return $.createElement(vE,{className:Wt(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&$.createElement($.Fragment,null,$.createElement(Tl,{onClick:j,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},$.createElement(pq,null)),$.createElement(Tl,{onClick:S,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},$.createElement(xq,null))),n&&$.createElement(Tl,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},$.createElement(yq,null)),s&&$.createElement(Tl,{className:"react-flow__controls-interactive",onClick:k,title:"toggle interactivity","aria-label":"toggle interactivity"},y?$.createElement(bq,null):$.createElement(vq,null)),d)};d_.displayName="Controls";var f_=g.memo(d_);function Nq(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var Jn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Jn||(Jn={}));function jq({color:e,dimensions:t,lineWidth:n}){return $.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Sq({color:e,radius:t}){return $.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Cq={[Jn.Dots]:"#91919a",[Jn.Lines]:"#eee",[Jn.Cross]:"#e2e2e2"},kq={[Jn.Dots]:1,[Jn.Lines]:1,[Jn.Cross]:6},Eq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function m_({id:e,variant:t=Jn.Dots,gap:n=20,size:s,lineWidth:r=1,offset:a=2,color:i,style:l,className:c}){const u=g.useRef(null),{transform:d,patternId:f}=st(Eq,Nq),m=i||Cq[t],h=s||kq[t],p=t===Jn.Dots,y=t===Jn.Cross,v=Array.isArray(n)?n:[n,n],x=[v[0]*d[2]||1,v[1]*d[2]||1],b=h*d[2],w=y?[b,b]:x,N=p?[b/a,b/a]:[w[0]/a,w[1]/a];return $.createElement("svg",{className:Wt(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},$.createElement("pattern",{id:f+e,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},p?$.createElement(Sq,{color:m,radius:b/a}):$.createElement(jq,{dimensions:w,color:m,lineWidth:r})),$.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}m_.displayName="Background";var h_=g.memo(m_);function _q(e){if(!e||typeof e!="object")throw new Error("Invalid perk tree data");const t=e;if(!t.treeId||!t.treeName||!t.perks||!Array.isArray(t.perks))throw new Error("Invalid perk tree structure");return t}function g_(e){try{return{success:!0,data:_q(e)}}catch(t){return{success:!1,error:t}}}const Aq={nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120,fallbackSpacing:100};async function p_(e){try{const t=ss(`data/perk-positions/${e}-positions.json`);console.log("Attempting to load positions from:",t);const n=await fetch(t);if(console.log("Response status:",n.status,n.statusText),!n.ok)return console.warn(`No saved positions found for tree ${e} at ${t}`),null;const s=await n.json();return console.log("Successfully loaded positions for tree:",e),s}catch(t){return console.warn(`Failed to load saved positions for tree ${e}:`,t),null}}function Tq(e,t){const n=new Map;e.forEach(i=>{const l=t==null?void 0:t.positions.find(c=>c.perkId===i.edid);n.set(i.edid,{perk:i,depth:-1,children:i.connections.children,parents:i.connections.parents,savedPosition:l})});const r=e.filter(i=>i.connections.parents.length===0).map(i=>({id:i.edid,depth:0})),a=new Set;for(;r.length>0;){const{id:i,depth:l}=r.shift();if(a.has(i))continue;a.add(i);const c=n.get(i);c&&((c.depth===-1||l<c.depth)&&(c.depth=l),c.children.forEach(u=>{n.has(u)&&!a.has(u)&&r.push({id:u,depth:l+1})}))}return n}function Mq(e,t){const n=new Map,s=new Map;e.forEach(a=>{const i=a.depth;s.has(i)||s.set(i,[]),s.get(i).push(a)});const r=Math.max(...s.keys());return s.forEach((a,i)=>{const l=t.padding+(r-i)*t.verticalSpacing,c=(a.length-1)*t.horizontalSpacing,u=t.padding+(t.gridScaleX-c)/2;a.forEach((d,f)=>{const m=u+f*t.horizontalSpacing;n.set(d.perk.edid,{x:m,y:l})})}),n}function Rq(e,t,n){t.positions.forEach(s=>{const r=e.get(s.perkId);r&&(r.savedPosition=s,r.calculatedPosition={x:s.x,y:s.y})})}function Dq(e,t,n={}){const s={...Aq,...n},r=Tq(e.perks,t);t&&Rq(r,t);const a=Mq(r,s),i=new Map;return r.forEach((l,c)=>{if(l.calculatedPosition)i.set(c,l.calculatedPosition);else{const u=a.get(c);u?i.set(c,u):i.set(c,{x:s.padding,y:s.padding})}}),i}function zq(e,t){const n=Array.from(t.entries()).map(([s,r])=>({perkId:s,x:r.x,y:r.y,gridX:r.gridX,gridY:r.gridY,horizontal:r.horizontal,vertical:r.vertical}));return{treeId:e.treeId,treeName:e.treeName,positions:n,version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function Nw(e,t){const n=new Map;return t.positions.forEach(s=>{n.set(s.perkId,{x:s.x,y:s.y,gridX:s.gridX,gridY:s.gridY,horizontal:s.horizontal,vertical:s.vertical})}),n}function Lq(e){const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=`${e.treeId}-positions.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}const $q=({data:e,selected:t,onTogglePerk:n,onRankChange:s})=>{var u,d,f,m,h;const r=e.totalRanks,a=r>1?(e.currentRank||0)>0:e.selected||t,i=p=>{if(p.preventDefault(),p.stopPropagation(),(e.totalRanks||1)>1){const v=e.currentRank||0,x=e.totalRanks||1,b=v>=x?0:v+1;s&&s(e.edid,b)}else n&&n(e.edid)},l=()=>{const p={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return a?{...p,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...p,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...p,borderColor:"hsl(var(--border))"}},c=((d=(u=e.ranks[0])==null?void 0:u.description)==null?void 0:d.base)||"";return o.jsxs(QC,{children:[o.jsx(JC,{asChild:!0,children:o.jsxs("div",{style:l(),onClick:i,onMouseDown:p=>p.stopPropagation(),children:[!e.isRoot&&o.jsx(Ti,{type:"target",position:le.Bottom}),o.jsx("div",{className:"font-medium",children:e.name}),r>1&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",r," ranks"]}),e.hasChildren&&o.jsx(Ti,{type:"source",position:le.Top})]})}),o.jsx(b0,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:Ct.TOOLTIP},children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:e.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:c}),typeof((h=(m=(f=e.ranks[0])==null?void 0:f.prerequisites)==null?void 0:m.skillLevel)==null?void 0:h.level)=="number"&&e.ranks[0].prerequisites.skillLevel.level>0&&o.jsxs("div",{className:"text-xs text-blue-700 font-medium pt-1",children:["Min. Level: ",e.ranks[0].prerequisites.skillLevel.level]}),r>1&&o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[o.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",r,o.jsx("br",{}),o.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})},x_=g.memo($q);var Pq="Separator",jw="horizontal",Oq=["horizontal","vertical"],y_=g.forwardRef((e,t)=>{const{decorative:n,orientation:s=jw,...r}=e,a=Bq(s)?s:jw,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(xe.div,{"data-orientation":a,...l,...r,ref:t})});y_.displayName=Pq;function Bq(e){return Oq.includes(e)}var Iq=y_;function Hq({className:e,orientation:t="horizontal",decorative:n=!0,...s}){return o.jsx(Iq,{"data-slot":"separator",decorative:n,orientation:t,className:U("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}let bh=null;function Uq(){return bh||(bh=new uI),bh}function Z0(){const[e,t]=g.useState(!1),[n,s]=g.useState(!1),[r,a]=g.useState(null),i=mo(j=>j.data),l=ua(j=>j.data),c=ho(j=>j.data),u=tl(j=>j.data),d=fo(j=>j.data),f=el(j=>j.data),m=oo(j=>j.data),h=Ks(j=>j.data),p=Io(j=>j.data),{allPerks:y}=uk(),v=Uq(),x=g.useCallback(async(j,S,C)=>{if(S!=null&&S.length)try{const k=C(S);await v.addToIndex(j,k)}catch(k){console.error(`Failed to index ${j}:`,k)}},[v]);g.useEffect(()=>{i!=null&&i.length&&x("skills",i,v.transformSkillsToSearchable)},[i,x]),g.useEffect(()=>{l!=null&&l.length&&x("races",l,v.transformRacesToSearchable)},[l,x]),g.useEffect(()=>{c!=null&&c.length&&x("traits",c,v.transformTraitsToSearchable)},[c,x]),g.useEffect(()=>{u!=null&&u.length&&x("religions",u,v.transformReligionsToSearchable)},[u,x]),g.useEffect(()=>{d!=null&&d.length&&x("birthsigns",d,v.transformBirthsignsToSearchable)},[d,x]),g.useEffect(()=>{f!=null&&f.length&&x("destinyNodes",f,v.transformDestinyNodesToSearchable)},[f,x]),g.useEffect(()=>{m!=null&&m.length&&x("perkTrees",m,v.transformPerkTreesToSearchable)},[m,x]),g.useEffect(()=>{h!=null&&h.length&&x("recipes",h,v.transformRecipesToSearchable)},[h,x]),g.useEffect(()=>{y!=null&&y.length&&x("perk-references",y,v.transformPerkReferencesToSearchable)},[y,x]),g.useEffect(()=>{p!=null&&p.length&&x("spells",p,v.transformSpellsToSearchable)},[p,x]),g.useEffect(()=>{((i==null?void 0:i.length)||(l==null?void 0:l.length)||(c==null?void 0:c.length)||(u==null?void 0:u.length)||(d==null?void 0:d.length)||(f==null?void 0:f.length)||(m==null?void 0:m.length)||(h==null?void 0:h.length)||(y==null?void 0:y.length)||(p==null?void 0:p.length))&&v.hasIndexedData()&&(v.rebuildSearchIndex(),t(!0))},[i,l,c,u,d,f,m,h,y,p,v]);const b=g.useCallback((j,S)=>j.trim()?v.search(j,S):[],[v]),w=g.useCallback(()=>v.getAvailableFilters(),[v]),N=g.useCallback(()=>v.getSearchableItems(),[v]);return{isReady:e,isIndexing:n,error:r,search:b,getAvailableFilters:w,getSearchableItems:N}}function wh(e,t){return e.length!==t.length?!1:e.every((n,s)=>n===t[s])}function Sw(e){var t,n,s;return{tags:((t=e.get("tags"))==null?void 0:t.split(",").filter(Boolean))||[],types:((n=e.get("types"))==null?void 0:n.split(",").filter(Boolean))||[],categories:((s=e.get("categories"))==null?void 0:s.split(",").filter(Boolean))||[],viewMode:e.get("view")||"grid"}}function Y0(){const[e,t]=UD(),n=g.useRef(!1),s=g.useRef(""),r=g.useRef(null),a=Sw(e),[i,l]=g.useState({types:a.types,categories:a.categories,tags:a.tags}),[c,u]=g.useState(a.viewMode);g.useEffect(()=>{if(n.current)return;const y=e.toString();if(y===s.current)return;s.current=y;const v=Sw(e);wh(v.types,i.types)||l(x=>({...x,types:v.types})),wh(v.categories,i.categories)||l(x=>({...x,categories:v.categories})),wh(v.tags,i.tags)||l(x=>({...x,tags:v.tags})),v.viewMode!==c&&u(v.viewMode)},[e,i.types,i.categories,i.tags,c]),g.useEffect(()=>{r.current&&clearTimeout(r.current),n.current=!0;const y=new URLSearchParams;i.types.length>0&&y.set("types",i.types.join(",")),i.categories.length>0&&y.set("categories",i.categories.join(",")),i.tags.length>0&&y.set("tags",i.tags.join(",")),c!=="grid"&&y.set("view",c),t(y,{replace:!0}),r.current=setTimeout(()=>{n.current=!1},10)},[i,c,t]),g.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]);const d=g.useCallback(y=>{l(v=>({...v,...y}))},[]),f=g.useCallback(y=>{l(v=>({...v,tags:v.tags.includes(y)?v.tags:[...v.tags,y]}))},[]),m=g.useCallback(y=>{l(v=>({...v,tags:v.tags.filter(x=>x!==y)}))},[]),h=g.useCallback(()=>{l({types:[],categories:[],tags:[]})},[]),p=g.useCallback(y=>{u(y)},[]);return{activeFilters:i,setActiveFilters:d,addTag:f,removeTag:m,clearFilters:h,viewMode:c,setViewMode:p}}function X0(){const{search:e,getAvailableFilters:t,isReady:n,getSearchableItems:s}=Z0(),{activeFilters:r}=Y0(),a=g.useMemo(()=>s().length,[s]),i=g.useMemo(()=>{if(!n)return[];if(!(r.tags.length>0||r.types.length>0||r.categories.length>0))return s().map(p=>({item:p,score:1,matches:[],highlights:[]}));const d=r.tags.join(" "),f={...r,tags:[]};return e(d||"*",f)},[n,e,r,s]),l=g.useMemo(()=>n?t():{types:[],categories:[],tags:[]},[n,t,a]),c=g.useMemo(()=>{const u={};return i.forEach(d=>{const f=d.item.type;u[f]=(u[f]||0)+1,d.item.category&&(u[`category:${d.item.category}`]=(u[`category:${d.item.category}`]||0)+1),d.item.tags.forEach(m=>{u[`tag:${m}`]=(u[`tag:${m}`]||0)+1})}),u},[i]);return{searchResults:i,availableFilters:l,resultCounts:c}}function Fq(){const{searchResults:e,resultCounts:t}=X0();Y0();const n=g.useMemo(()=>e,[e]),s=g.useMemo(()=>Vq(n,"relevance"),[n]),r=g.useMemo(()=>s.map(lI),[s]),a=g.useMemo(()=>e.length,[e]),i=g.useMemo(()=>{const l={};return e.forEach(c=>{const u=c.item.type;l[u]||(l[u]=[]),l[u].push(c)}),l},[e]);return{filteredResults:n,sortedResults:s,playerCreationItems:r,resultCounts:t,totalResults:a,resultsByType:i}}function Vq(e,t){const n=[...e];switch(t){case"relevance":return n;case"name":return n.sort((s,r)=>s.item.name.localeCompare(r.item.name));case"type":return n.sort((s,r)=>{const a=s.item.type.localeCompare(r.item.type);return a!==0?a:s.item.name.localeCompare(r.item.name)});default:return n}}function qq({activeFilters:e,onFiltersChange:t,onClearFilters:n,availableFilters:s,resultCount:r,onTagSelect:a,onTagRemove:i,selectedTags:l,className:c}){const u=e.types.length>0||e.categories.length>0||e.tags.length>0,d=h=>{const p=e.types.includes(h)?e.types.filter(y=>y!==h):[...e.types,h];t({types:p})},m=[{id:"fuzzy-search",name:"Search All",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Filter by category...",options:(s.categories||[]).filter(h=>h&&typeof h.label=="string").map(h=>({id:`category-${h.value}`,label:String(h.label),value:h.value,category:"Categories",description:`${h.count} item${h.count!==1?"s":""}`}))},{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:(s.tags||[]).filter(h=>h&&typeof h.label=="string").map(h=>({id:`tag-${h.value}`,label:String(h.label),value:h.value,category:"Tags",description:`${h.count} item${h.count!==1?"s":""}`}))}];return o.jsxs("div",{className:U("space-y-4",c),children:[o.jsx("div",{className:"space-y-2",children:o.jsx(ga,{categories:m,onSelect:a,onCustomSearch:a})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("span",{className:"text-sm font-medium",children:"Record Types"})}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s.types.map(h=>o.jsxs(W,{variant:e.types.includes(h.value)?"default":"outline",size:"sm",onClick:()=>d(h.value),className:"text-xs",children:[h.label,o.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",h.count,")"]})]},h.value))})]}),l.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Active Filters"}),o.jsx(W,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(h=>o.jsxs(K,{variant:"secondary",className:"text-xs",children:[h.category,": ",h.label,o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>i(h.id),className:"h-4 w-4 p-0 ml-1 hover:bg-transparent",children:o.jsx(Ft,{className:"h-3 w-3"})})]},h.id))})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[o.jsxs("span",{children:[r," result",r!==1?"s":""," found"]}),u&&o.jsx(W,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear Filters"})]})]})}function v_({items:e,keyExtractor:t,renderItem:n,loadMore:s,hasMore:r=!0,columns:a=3,gap:i=12,maxColumnWidth:l,className:c=""}){const[u,d]=g.useState(0),f=g.useRef(null),m=g.useCallback(()=>l&&u>0?Math.max(1,Math.floor(u/l)):a,[a,l,u]);g.useEffect(()=>{const p=()=>{f.current&&d(f.current.offsetWidth)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),g.useEffect(()=>{var v;if(!s||!r)return;const p=new IntersectionObserver(x=>{x.forEach(b=>{b.isIntersecting&&s&&s()})},{threshold:.1}),y=(v=f.current)==null?void 0:v.lastElementChild;return y&&p.observe(y),()=>p.disconnect()},[s,r,e.length]);const h=g.useCallback(()=>{const p=m(),y=Array.from({length:p},()=>[]);return e.forEach((v,x)=>{const b=x%p,w=t(v);y[b].push(o.jsx("div",{style:{width:"100%",marginBottom:`${i}px`},children:n(v)},w))}),y.map((v,x)=>o.jsx("div",{style:{width:`calc(${100/p}% - ${i/2}px)`,marginRight:x<p-1?`${i}px`:0},children:v},x))},[e,t,n,m,i]);return e.length===0?o.jsx("div",{className:`text-center py-12 ${c}`,children:o.jsx("p",{className:"text-muted-foreground",children:"No items to display"})}):o.jsx("div",{ref:f,className:c,children:o.jsx("div",{style:{display:"flex",width:"100%"},children:h()})})}function Gq({items:e,className:t,viewMode:n="grid",onViewModeChange:s}){const[r,a]=g.useState(new Set);g.useEffect(()=>{if(n==="grid"){const l=new Set(e.map(c=>c.id));a(l)}},[n,e]);const i=l=>{if(n==="grid")return;const c=new Set(r);c.has(l)?c.delete(l):c.add(l),a(c)};return e.length===0?o.jsx("div",{className:`text-center py-12 ${t}`,children:o.jsx("p",{className:"text-muted-foreground",children:"No results found"})}):o.jsxs("div",{className:t,children:[s&&o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.length," result",e.length!==1?"s":""," found"]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(W,{variant:n==="grid"?"default":"outline",size:"sm",onClick:()=>s("grid"),className:"flex items-center gap-2",children:[o.jsx(g4,{className:"h-4 w-4"}),"Grid"]}),o.jsxs(W,{variant:n==="list"?"default":"outline",size:"sm",onClick:()=>s("list"),className:"flex items-center gap-2",children:[o.jsx(ha,{className:"h-4 w-4"}),"List"]})]})]}),n==="grid"?o.jsx(v_,{items:e,keyExtractor:l=>l.id,renderItem:l=>o.jsx(kb,{item:l,isExpanded:!0,onToggle:()=>{},viewMode:"grid"}),columns:3,gap:16,maxColumnWidth:400}):o.jsx("div",{className:"space-y-2",children:e.map(l=>{const c=r.has(l.id);return o.jsx(kb,{item:l,isExpanded:c,onToggle:()=>i(l.id),viewMode:"list"},l.id)})})]})}function Zq({className:e,placeholder:t="Search skills, races, traits, religions..."}){const n=yt(),{isReady:s}=Z0(),{availableFilters:r}=X0(),i=[{id:"fuzzy-search",name:"Search All",placeholder:t,options:r.types.map(c=>({id:`type-${c.value}`,label:c.label,value:c.value,category:"Search All",description:`${c.count} ${c.label}${c.count!==1?"s":""}`}))}],l=c=>{if(typeof c=="string")n(`/search?tags=${encodeURIComponent(c)}`);else if(c.id.startsWith("type-")){const u=c.value;n(`/search?types=${encodeURIComponent(u)}`)}else n(`/search?tags=${encodeURIComponent(c.value)}`)};return s?o.jsx("div",{className:U("flex items-center gap-2",e),children:o.jsx("div",{className:"flex-1",children:o.jsx(sC,{categories:i,onSelect:l,onCustomSearch:l,placeholder:t})})}):o.jsx("div",{className:U("flex items-center gap-2",e),children:o.jsx("div",{className:"flex-1 h-10 bg-muted animate-pulse rounded-md"})})}function Nh({title:e,description:t,children:n}){return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"border-b border-border bg-card/50",children:o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx(io,{className:"text-3xl font-bold text-primary mb-2",children:e}),t&&o.jsx(Fe,{className:"text-muted-foreground max-w-2xl",children:t})]})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:n})]})}function Yq(){const{isReady:e,isIndexing:t,error:n}=Z0(),{activeFilters:s,setActiveFilters:r,clearFilters:a,addTag:i,removeTag:l}=Y0(),{availableFilters:c,searchResults:u}=X0(),{totalResults:d}=Fq(),[f,m]=g.useState([]),[h,p]=g.useState("grid");g.useEffect(()=>{const j=[];s.tags.forEach(S=>{j.push({id:`custom-${S}`,label:S,value:S,category:"Search All"})}),s.categories.forEach(S=>{j.push({id:`category-${S}`,label:S,value:S,category:"Categories"})}),m(j)},[s.tags,s.categories]);const y=j=>{let S;typeof j=="string"?S={id:`custom-${j}`,label:j,value:j,category:"Search All"}:S={id:`${j.category}-${j.id}`,label:j.label,value:j.value,category:j.category},f.some(C=>C.value===S.value&&C.category===S.category)||(m(C=>[...C,S]),S.category==="Categories"?r({categories:[...s.categories,S.value]}):S.category==="Tags"?r({tags:[...s.tags,S.value]}):i(S.value))},v=j=>{const S=f.find(C=>C.id===j);S&&(m(C=>C.filter(k=>k.id!==j)),S.category==="Categories"?r({categories:s.categories.filter(C=>C!==S.value)}):S.category==="Tags"?r({tags:s.tags.filter(C=>C!==S.value)}):l(S.value))},x=()=>{m([]),a()},b=j=>{p(j)};if(!e)return o.jsx(Nh,{title:"Search",description:"Building search index...",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[t?o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}):null,o.jsx("p",{className:"text-muted-foreground",children:t?"Building search index...":"Loading search..."})]})})});if(n)return o.jsx(Nh,{title:"Search",description:"Error loading search",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load search: ",n]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"text-primary hover:underline",children:"Try again"})]})})});const w=f.length>0?"Search Results":"Search",N=f.length>0?`Found ${d} result${d!==1?"s":""} for ${f.length} filter${f.length!==1?"s":""}`:"Search across all skills, races, traits, religions, birthsigns, destiny nodes, and perk references";return o.jsxs(Nh,{title:w,description:N,children:[o.jsx("div",{className:"mb-6",children:o.jsx(qq,{activeFilters:s,onFiltersChange:r,onClearFilters:x,availableFilters:c,resultCount:d,onTagSelect:y,onTagRemove:v,selectedTags:f})}),o.jsx("div",{className:"w-full",children:o.jsx(Gq,{items:u.map(j=>j.item),viewMode:h,onViewModeChange:b})})]})}function Xq(){return o.jsx(Yq,{})}const Cw=["bg-red-100 border-red-300","bg-blue-100 border-blue-300","bg-green-100 border-green-300","bg-yellow-100 border-yellow-300","bg-purple-100 border-purple-300","bg-pink-100 border-pink-300","bg-indigo-100 border-indigo-300","bg-gray-100 border-gray-300"],kw=["Mystical Artifact","Ancient Scroll","Enchanted Weapon","Potion of Power","Crystal Shard","Runic Tablet","Magical Tome","Arcane Relic","Divine Essence","Ethereal Fragment"],Ew=["A powerful artifact imbued with ancient magic.","Scroll containing forgotten spells and rituals.","Weapon blessed by the gods themselves.","Brew that grants temporary supernatural abilities.","Crystal that resonates with magical energy.","Tablet inscribed with mysterious runes.","Book of forbidden knowledge and power.","Relic from a bygone era of magic.","Essence of divine power and wisdom.","Fragment of pure ethereal energy."],Kq=["magic","ancient","powerful","rare","legendary","enchanted","divine","mystical","forbidden","sacred"];function _w(e){const t=[];for(let n=0;n<e;n++){const s=`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=Math.floor(Math.random()*200)+100,a=Cw[Math.floor(Math.random()*Cw.length)],i=kw[Math.floor(Math.random()*kw.length)],l=Ew[Math.floor(Math.random()*Ew.length)],c=[],u=Math.floor(Math.random()*3)+1,d=[...Kq].sort(()=>.5-Math.random());c.push(...d.slice(0,u)),t.push({id:s,title:i,description:l,height:r,color:a,tags:c})}return t}function Wq(){const[e,t]=$.useState(()=>_w(50)),[n,s]=$.useState(!1),[r,a]=$.useState(!0),i=$.useCallback(async()=>{if(n||!r)return;s(!0),await new Promise(d=>setTimeout(d,500));const u=_w(20);t(d=>[...d,...u]),e.length+u.length>=200&&a(!1),s(!1)},[n,r,e.length]),l=u=>u.id,c=u=>o.jsx(TI,{item:u});return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"VirtualMasonryGrid Demo"}),o.jsxs("p",{className:"text-muted-foreground",children:["Testing InfiniteGrid implementation with ",e.length," items"]}),n&&o.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Loading more items..."}),!r&&o.jsx("div",{className:"mt-2 text-sm text-green-600",children:"All items loaded (200 total)"})]}),o.jsx(v_,{items:e,keyExtractor:l,renderItem:c,loadMore:i,hasMore:r,columns:3,gap:16,className:"min-h-screen"})]})}function Qq(e,t){const n=new Map;return t.forEach(s=>{var i;const r=s.treeId,a=((i=s.perks)==null?void 0:i.length)||0;n.set(r,a)}),n}function K0(){const{data:e,loading:t,error:n,reload:s}=X6(),{data:r,loading:a,error:i,reload:l}=p0(),c=t||a,u=n||i;return{skills:g.useMemo(()=>{if(!e||!r)return[];const m=Qq(e,r);return e.map(h=>({id:h.edid,name:h.name,category:h.category,description:h.description,keyAbilities:h.keyAbilities||[],metaTags:h.metaTags||[],assignmentType:"none",canAssignMajor:!0,canAssignMinor:!0,level:0,totalPerks:m.get(h.edid)||0,selectedPerksCount:0,selectedPerks:[],isSelected:!1}))},[e,r]),perkTrees:r||[],loading:c,error:u,refreshSkills:async()=>{await Promise.all([s(),l()])}}}function Jq(){var v;const{skills:e,loading:t,error:n}=K0(),{build:s,addMajorSkill:r,addMinorSkill:a,removeMajorSkill:i,removeMinorSkill:l}=vt(),c=g.useMemo(()=>e.map(x=>{var k,E;const b=s.skills.major.includes(x.id),w=s.skills.minor.includes(x.id),j=(((E=(k=s.perks)==null?void 0:k.selected)==null?void 0:E[x.id])||[]).length,S=!b&&s.skills.major.length<3,C=!w&&s.skills.minor.length<6;return{...x,isMajor:b,isMinor:w,selectedPerksCount:j,canAssignMajor:S,canAssignMinor:C}}),[e,s.skills.major,s.skills.minor,(v=s.perks)==null?void 0:v.selected]),u=g.useMemo(()=>c.filter(x=>x.isMajor),[c]),d=g.useMemo(()=>c.filter(x=>x.isMinor),[c]),f=g.useMemo(()=>c.filter(x=>!x.isMajor&&!x.isMinor),[c]);return{skills:c,selectedMajorSkills:u,selectedMinorSkills:d,availableSkills:f,loading:t,error:n,handleMajorSkillSelect:x=>{r(x.id)},handleMinorSkillSelect:x=>{a(x.id)},handleMajorSkillRemove:x=>{i(x)},handleMinorSkillRemove:x=>{l(x)}}}function eG(e){const[t,n]=g.useState(""),[s,r]=g.useState(null),a=g.useMemo(()=>e.filter(c=>{const u=c.name.toLowerCase().includes(t.toLowerCase())||c.description.toLowerCase().includes(t.toLowerCase())||c.category.toLowerCase().includes(t.toLowerCase())||c.keyAbilities.some(f=>f.toLowerCase().includes(t.toLowerCase()))||c.metaTags.some(f=>f.toLowerCase().includes(t.toLowerCase())),d=!s||c.category===s;return u&&d}),[e,t,s]),i=g.useMemo(()=>{const c=new Set(e.map(u=>u.category));return Array.from(c).sort()},[e]);return{searchQuery:t,setSearchQuery:n,selectedCategory:s,setSelectedCategory:r,filteredSkills:a,categories:i,clearFilters:()=>{n(""),r(null)}}}function W0(e){const{data:t,loading:n,error:s}=p0(),{getSkillPerks:r,getPerkRank:a,addPerk:i,removePerk:l,setPerkRank:c,clearSkillPerks:u}=vt(),d=g.useMemo(()=>!e||!t?null:t.find(b=>b.treeId===e)||null,[e,t]),f=g.useMemo(()=>e?r(e):[],[e,r]),m=g.useMemo(()=>{if(!e||!d)return{};const x={};return d.perks.forEach(b=>{x[b.edid]=a(b.edid)}),x},[e,d,a]),h=g.useMemo(()=>{if(!d)return[];const x=[];return d.perks.forEach(b=>{if(b.isRoot){x.push(b.edid);return}(b.connections.parents||[]).every(j=>f.includes(j))&&x.push(b.edid)}),x},[d,f]);return{perkTrees:t||[],selectedPerkTree:d,selectedPerks:f,perkRanks:m,availablePerks:h,loading:n,error:s,handlePerkSelect:x=>{if(!e)return;f.includes(x)?l(e,x):i(e,x)},handlePerkRankChange:(x,b)=>{c(x,b),b===0?f.includes(x)&&l(e,x):f.includes(x)||i(e,x)},handleResetPerks:()=>{e&&u(e)}}}function b_(){var A,D,M,R,B,H;const{skills:e,loading:t,error:n,refreshSkills:s}=K0(),{build:r,addMajorSkill:a,addMinorSkill:i,removeMajorSkill:l,removeMinorSkill:c}=vt(),{searchQuery:u,setSearchQuery:d,selectedCategory:f,setSelectedCategory:m,filteredSkills:h,categories:p,clearFilters:y}=eG(e),v=g.useMemo(()=>h.map(I=>{var ee,pe,me;const V=((pe=(ee=r.perks)==null?void 0:ee.selected)==null?void 0:pe[I.id])||[],Z=V.length,J=I.totalPerks??0,ie=nj(I.id,V,((me=r.perks)==null?void 0:me.ranks)||{});return{...I,selectedPerksCount:Z,level:ie,assignmentType:r.skills.major.includes(I.id)?"major":r.skills.minor.includes(I.id)?"minor":"none",canAssignMajor:!r.skills.major.includes(I.id)&&r.skills.major.length<3,canAssignMinor:!r.skills.minor.includes(I.id)&&r.skills.minor.length<6,perkCount:`${Z}/${J}`}}),[h,r.skills.major,r.skills.minor,(A=r.perks)==null?void 0:A.selected,(D=r.perks)==null?void 0:D.ranks]),x=g.useMemo(()=>({majorCount:r.skills.major.length,minorCount:r.skills.minor.length,majorLimit:3,minorLimit:6,canAssignMajor:r.skills.major.length<3,canAssignMinor:r.skills.minor.length<6,totalSkills:v.length,totalPerks:v.reduce((I,V)=>I+(V.selectedPerksCount||0),0),totalPerkRanks:0}),[v,r.skills.major,r.skills.minor]),b=g.useCallback(I=>{a(I)},[a]),w=g.useCallback(I=>{i(I)},[i]),N=g.useCallback(I=>{l(I),c(I)},[l,c]),[j,S]=g.useState(null),C=g.useCallback(I=>{S(I)},[]),k=g.useMemo(()=>j&&v.find(I=>I.id===j)||null,[j,v]),{selectedPerkTree:E,handleResetPerks:_}=W0(j),P=g.useMemo(()=>{var I;return!k||!((I=r.perks)!=null&&I.selected)?[]:r.perks.selected[k.id]||[]},[k,(M=r.perks)==null?void 0:M.selected]),O=g.useMemo(()=>{var I;return!k||!((I=r.perks)!=null&&I.ranks)?{}:r.perks.ranks[k.id]||{}},[k,(R=r.perks)==null?void 0:R.ranks]),L=g.useMemo(()=>E?E.perks||[]:[],[E]),T=g.useCallback(I=>{var J,ie;if(!k)return;const V=((ie=(J=r.perks)==null?void 0:J.selected)==null?void 0:ie[k.id])||[];V.includes(I)?(V.filter(ee=>ee!==I),console.log("Remove perk:",I,"from skill:",k.id)):([...V],console.log("Add perk:",I,"to skill:",k.id))},[k,(B=r.perks)==null?void 0:B.selected]),z=g.useCallback((I,V)=>{var J,ie;if(!k)return;({...((ie=(J=r.perks)==null?void 0:J.ranks)==null?void 0:ie[k.id])||{}},console.log("Update perk rank:",I,"to",V,"for skill:",k.id))},[k,(H=r.perks)==null?void 0:H.ranks]);return{skills:v,skillSummary:x,selectedSkill:k,selectedSkillId:j,perkTree:E,selectedPerks:P,perkRanks:O,availablePerks:L,loading:t,error:n,searchQuery:u,setSearchQuery:d,selectedCategory:f,setSelectedCategory:m,categories:p,clearFilters:y,onAssignMajor:b,onAssignMinor:w,onRemoveAssignment:N,onSkillSelect:C,onPerkSelect:T,onPerkRankChange:z,onResetPerks:_,refreshSkills:s}}function tG({query:e,onQueryChange:t,placeholder:n="Search skills...",className:s}){return o.jsx("div",{className:U("mb-6",s),children:o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ws,{placeholder:n,value:e,onChange:r=>t(r.target.value),className:"pl-10"})]})})}function nG({categories:e,selectedCategory:t,onCategorySelect:n,className:s}){return o.jsx("div",{className:U("mb-6",s),children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(W,{variant:t===null?"default":"outline",size:"sm",onClick:()=>n(null),children:"All Categories"}),e.map(r=>o.jsx(W,{variant:t===r?"default":"outline",size:"sm",onClick:()=>n(r),children:r},r))]})})}function jh({skills:e,onSelect:t,placeholder:n="Search skills...",className:s="",disabled:r=!1}){const[a,i]=g.useState(""),l=g.useMemo(()=>{if(!a.trim())return e;const f=a.toLowerCase();return e.filter(m=>m.name.toLowerCase().includes(f)||m.description.toLowerCase().includes(f)||m.category.toLowerCase().includes(f)||m.keyAbilities.some(h=>h.toLowerCase().includes(f))||m.metaTags.some(h=>h.toLowerCase().includes(f)))},[e,a]),c=g.useMemo(()=>l.map(f=>{var m;return{id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&o.jsx(K,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalSkill:f,keyAbilitiesCount:((m=f.keyAbilities)==null?void 0:m.length)||0,scaling:f.scaling}}}),[l]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h,p;return o.jsx("div",{className:"flex items-start gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:f.label}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&o.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.keyAbilitiesCount)&&f.metadata.keyAbilitiesCount>0&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.keyAbilitiesCount," ability",f.metadata.keyAbilitiesCount!==1?"s":""]})]}),f.description&&o.jsx(Pa,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"}),((p=f.metadata)==null?void 0:p.scaling)&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[o.jsx("strong",{children:"Scaling:"})," ",f.metadata.scaling]})]})})};return o.jsx(Hc,{options:c,onSelect:u,placeholder:n,className:s,disabled:r,renderOption:d,emptyMessage:"No skills found",searchQuery:a,onSearchQueryChange:i})}function sG(e){const t=new Set,n=[],s=(r,a)=>{if(t.has(r))return;t.add(r),a.push(e.find(l=>l.edid===r));const i=e.find(l=>l.edid===r);i.connection.children.forEach(l=>{e.some(c=>c.edid===l)&&s(l,a)}),i.connection.parents.forEach(l=>{e.some(c=>c.edid===l)&&s(l,a)})};return e.forEach(r=>{if(!t.has(r.edid)){const a=[];s(r.edid,a),n.push(a)}}),n}function rG(e,t){try{if(e.length===0)return[];const r=sG(e).map(l=>aG(l)).map(l=>oG(l,t)),a=lG(r,t);return w_(a,t)}catch{return e.map(s=>({id:s.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function aG(e){const t=new Map;e.forEach(l=>{t.set(l.edid,{perk:l,depth:-1,children:l.connection.children,parents:l.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((l,c)=>{l.parents.length===0&&n.push(c)});const s=n.map(l=>({id:l,depth:0})),r=new Set;for(;s.length>0;){const{id:l,depth:c}=s.shift();if(r.has(l))continue;r.add(l);const u=t.get(l);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!r.has(d)&&s.push({id:d,depth:c+1})}))}let a=!0,i=0;for(;a&&i<10;)a=!1,i++,t.forEach((l,c)=>{if(l.parents.length>1){const u=l.parents.map(d=>{const f=t.get(d);return f?f.depth:-1}).filter(d=>d!==-1);if(u.length>0){const f=Math.min(...u)+1;l.depth!==f&&(l.depth=f,a=!0)}}});return t.forEach((l,c)=>{l.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=l.depth){const f=l.depth+1;d.depth=f}})}),{nodes:t,roots:n}}function oG(e,t){const{nodes:n,roots:s}=e,r=[];if(n.forEach((f,m)=>{r.push({id:m,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:f.children})}),r.some(f=>{try{return sp(f.id,n,t,new Set),!1}catch{return!0}}))return r.forEach(f=>{const m=n.get(f.id);if(m&&m.perk){const h=m.perk.position.x*t.gridScaleX,p=-m.perk.position.y*t.gridScaleY;f.x=h,f.y=p,f.originalX=h,f.originalY=p}}),iG(r,t),r;const i=r.filter(f=>!r.some(h=>{var p;return h.id!==f.id&&((p=h.children)==null?void 0:p.includes(f.id))}));i.forEach(f=>{f.y=0,f.originalY=0});const l=new Set,c=i.map(f=>({node:f,depth:0}));for(;c.length>0;){const{node:f,depth:m}=c.shift();l.has(f.id)||(l.add(f.id),m>0&&(f.y=-m*t.verticalSpacing,f.originalY=f.y),f.children&&f.children.forEach(h=>{const p=r.find(y=>y.id===h);p&&!l.has(h)&&c.push({node:p,depth:m+1})}))}const u=new Map;return r.forEach(f=>{const m=Math.round(f.y/t.verticalSpacing);u.has(m)||u.set(m,[]),u.get(m).push(f)}),Array.from(u.keys()).sort((f,m)=>m-f).forEach(f=>{u.get(f).forEach(h=>{if(h.children){const p=new Map;h.children.forEach(y=>{const v=r.find(x=>x.id===y);if(v){const x=r.filter(b=>{var w;return((w=b.children)==null?void 0:w.includes(y))&&Math.abs(b.y-v.y)===t.verticalSpacing});x.length>0&&x.some(b=>b.id===h.id)&&(p.has(h.id)||p.set(h.id,[]),p.get(h.id).push(v))}}),p.forEach((y,v)=>{if(y.length>0){const x=r.find(b=>b.id===v);if(x){const b=y.map(C=>{const k=sp(C.id,n,t);return{child:C,subtreeWidth:k}}),w=b.reduce((C,{subtreeWidth:k})=>C+k,0),N=(y.length-1)*t.horizontalSpacing,j=w+N;let S=x.x-j/2;b.forEach(({child:C,subtreeWidth:k})=>{C.x=S+k/2,C.originalX=C.x,S+=k+t.horizontalSpacing})}}})}})}),w_(r,t),r}function w_(e,t){const r=t.horizontalSpacing*.4,a=new Map;e.forEach(i=>{a.set(i.id,{x:i.x,y:i.y})});for(let i=0;i<5;i++){let l=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],f=e[u],m=d.x+t.nodeWidth*.5,h=d.y+t.nodeHeight*.5,p=f.x+t.nodeWidth*.5,y=f.y+t.nodeHeight*.5,v=p-m,x=y-h,b=Math.sqrt(v*v+x*x);if(b<r&&b>0){const w=v/b*.03,N=x/b*.03;d.x-=w,d.y-=N,f.x+=w,f.y+=N,l++}}if(l===0)break}return e.forEach(i=>{const l=a.get(i.id);if(!l)return;const c=l.x-i.x,u=l.y-i.y,d=i.x+c*.02,f=i.y+u*.02,h=Math.round(l.y/t.verticalSpacing)*t.verticalSpacing,p=Math.max(f,h);i.x=d,i.y=p,i.originalX=d,i.originalY=p}),e}function iG(e,t){const r=t.nodeHeight*.8,a=50,i=new Map;e.forEach(u=>{i.set(u.id,{x:u.x,y:u.y})});let l=0,c=1;for(;c>0&&l<a;){l++,c=0;for(let u=0;u<e.length;u++)for(let d=u+1;d<e.length;d++){const f=e[u],m=e[d],h=Math.max(0,Math.min(f.x+t.nodeWidth,m.x+t.nodeWidth)-Math.max(f.x,m.x)),p=Math.max(0,Math.min(f.y+t.nodeHeight,m.y+t.nodeHeight)-Math.max(f.y,m.y)),y=f.y+t.nodeHeight*.5,v=m.y+t.nodeHeight*.5,x=Math.abs(v-y),b=x<r;if(h>0&&p>0||b){c++;let w=0;h>0&&p>0?w=p*.08:b&&(w=(r-x)*.08),f.y<m.y?(f.y-=w,m.y+=w):(f.y+=w,m.y-=w)}}if(c===0)break}return e.forEach(u=>{const d=i.get(u.id);if(!d)return;const f=d.y-u.y,m=u.y+f*.03;u.y=m,u.originalY=m}),e}function lG(e,t){const n=[],s=e.map(c=>{const u=Math.max(...c.map(w=>w.y)),d=c.filter(w=>Math.abs(w.y-u)<1),f=d.map(w=>w.x),m=Math.min(...f),h=Math.max(...f),p=h-m,y=f.reduce((w,N)=>w+N,0)/f.length,v=Math.min(...c.map(w=>w.x)),x=Math.max(...c.map(w=>w.x+w.width)),b=x-v;return{treeNodes:c,rootNodes:d,minRootX:m,maxRootX:h,rootWidth:p,rootCenterX:y,minX:v,maxX:x,treeWidth:b}}),r=Math.min(...s.map(c=>c.minRootX)),i=Math.max(...s.map(c=>c.maxRootX))-r;let l=0;return s.forEach(c=>{const u=i>0?c.rootWidth/i:1,d=c.minRootX-r;l-c.minX+d*u,c.treeNodes.forEach(f=>{const h=(f.x-c.minRootX)*u,p=l+h;n.push({...f,x:p,originalX:p})}),l+=c.treeWidth*u+t.horizontalSpacing}),n}function sp(e,t,n,s=new Set){if(s.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const r=t.get(e);if(!r)return n.nodeWidth;s.add(e);const a=r.children||[],i=a.map(c=>sp(c,t,n,new Set(s)));if(i.length===0)return n.nodeWidth;let l=0;return i.forEach((c,u)=>{l+=c,u<a.length-1&&(l+=n.horizontalSpacing)}),Math.max(l,n.nodeWidth)}function cG(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const uG={perkNode:e=>o.jsx(x_,{...e,onTogglePerk:e.data.onTogglePerk,onRankChange:e.data.onRankChange})};function dG({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:s}){const[r,a]=$.useState(null),[i,l]=$.useState(null),[c,u]=$.useState(!1),d=$.useCallback((_,P)=>{},[]),f=g.useMemo(()=>{if(!e)return null;const _=g_(e);return _.success?_.data:(console.error("Invalid perk tree data:",_.error),null)},[e]);$.useEffect(()=>{if(!f){l(null);return}console.log("Loading saved positions for tree:",f.treeId),u(!0),p_(f.treeId).then(_=>{console.log("Loaded saved positions:",_?"Found":"Not found"),l(_)}).catch(_=>{console.warn("Failed to load saved positions:",_),l(null)}).finally(()=>{u(!1)})},[f==null?void 0:f.treeId]);const m=g.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),h=g.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),p=g.useMemo(()=>{if(!f)return[];if(console.log("Layout decision:",{hasSavedPositions:!!i,isLoadingPositions:c,treeId:f.treeId}),i&&!c){console.log("Using preset positions for tree:",f.treeId);const _=Dq(f,i,h);return Array.from(_.entries()).map(([P,O])=>({id:P,x:O.x,y:O.y,width:h.nodeWidth||140,height:h.nodeHeight||80,originalX:O.x,originalY:O.y}))}else{console.log("Using fallback layout algorithm for tree:",f.treeId);const _=cG(f);return rG(_,m)}},[f,m,i,c,h]),y=g.useMemo(()=>!f||p.length===0?[]:f.perks.map(_=>{const P=_.edid,O=p.find(M=>M.id===P),L=O?{x:O.x,y:O.y}:{x:0,y:0},T=_.connections.children.length>0,z=_.connections.parents.length===0,A=s.find(M=>M.edid===P);return{id:P,type:"perkNode",position:L,draggable:!0,data:{..._,selected:A!==void 0,currentRank:(A==null?void 0:A.currentRank)||0,hasChildren:T,isRoot:z,onTogglePerk:t,onRankChange:n}}}),[f,p,s,t,n]),v=g.useMemo(()=>{if(!f)return[];const _=[];return f.perks.forEach(P=>{const O=P.edid;P.connections.children.length>0&&P.connections.children.forEach(L=>{if(L===O)return;f.perks.some(z=>z.edid===L)&&_.push({id:`${O}-${L}`,source:O,target:L,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),_},[f]),[x,b,w]=c_(y),[N,j,S]=u_(v);$.useEffect(()=>{b(y)},[y,b]),$.useEffect(()=>{j(v)},[v,j]),$.useEffect(()=>{f&&x.length>0&&r&&setTimeout(()=>{r.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[f==null?void 0:f.treeId,r]);const C=g.useCallback(_=>j(P=>I0(_,P)),[j]),k=g.useCallback(_=>{_.stopPropagation()},[]),E=g.useCallback(_=>{_.stopPropagation()},[]);return f?o.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},onMouseDown:_=>_.stopPropagation(),onTouchStart:_=>_.stopPropagation(),children:[o.jsx("div",{className:"absolute top-2 left-2 z-10 flex flex-col gap-1",children:o.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:c?"Loading Positions...":i?"Positioned Tree":"Algorithm v2"})}),o.jsxs(G0,{nodes:x,edges:N,onNodesChange:w,onEdgesChange:S,onConnect:C,onInit:a,nodeTypes:uG,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:d,onMouseDown:k,onTouchStart:E,panOnDrag:!0,panOnScroll:!1,preventScrolling:!0,children:[o.jsx(h_,{}),o.jsx(f_,{})]})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:o.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function N_({open:e,onOpenChange:t,selectedSkill:n,skillName:s,perkTree:r,skills:a,onSkillSelect:i,onReset:l}){var N,j;console.log("SkillPerkTreeDrawer props:",{open:e,selectedSkill:n,skillName:s,perkTree:r?"Found":"Not found",skillsCount:a.length});const{selectedPerks:c,perkRanks:u,handlePerkSelect:d,handlePerkRankChange:f,handleResetPerks:m}=W0(n),h=$.useMemo(()=>r?r.perks.filter(S=>c.includes(S.edid)).map(S=>({...S,selected:!0,currentRank:u[S.edid]||1})):[],[r,c,u]),p=$.useCallback(S=>{d(S)},[d]),y=$.useCallback((S,C)=>{f(S,C)},[f]),v=()=>{m(),l()},x=()=>{t(!1)},b=[{id:"skills",name:"Skills",placeholder:"Search skills...",options:a.map(S=>({id:S.id,label:S.name,value:S.id,category:"Skills",description:`${S.selectedPerks}/${S.totalPerks} perks selected`}))}],w=S=>{i(S.value)};return n?o.jsxs(Nk,{open:e,onOpenChange:t,shouldScaleBackground:!1,dismissible:!0,children:[console.log("Drawer render - open:",e),o.jsxs(jk,{children:[o.jsx(C0,{}),o.jsxs(S0,{className:"fixed inset-x-0 bottom-0 z-50 mt-24 flex flex-col rounded-t-[10px] border bg-background h-[85vh] bg-card border-t shadow-lg !bg-card","data-vaul-no-drag":!0,style:{backgroundColor:"hsl(var(--card))",zIndex:Ct.DRAWER},children:[console.log("Drawer content render - zIndex:",Ct.DRAWER),o.jsx(Sk,{className:"border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-64",children:o.jsx(Da,{categories:b,onSelect:w,placeholder:"Search skills..."})}),o.jsxs("div",{children:[o.jsx(kk,{className:"text-xl",children:s||(r==null?void 0:r.treeName)||"Skill Perks"}),o.jsxs(Ek,{className:"flex items-center gap-2",children:[o.jsxs("span",{children:[c.length," perks selected"]}),((N=a.find(S=>S.id===n))==null?void 0:N.level)&&o.jsxs("span",{className:"text-blue-600 font-medium",children:[" Min: Level"," ",(j=a.find(S=>S.id===n))==null?void 0:j.level]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(W,{variant:"outline",size:"sm",onClick:v,className:"flex items-center gap-2",children:[o.jsx(xi,{className:"h-4 w-4"}),"Reset Perks"]}),o.jsx(W,{variant:"outline",size:"sm",onClick:x,className:"flex items-center gap-2",children:o.jsx(Ft,{className:"h-4 w-4"})})]})]})}),o.jsx("div",{className:"flex-1 overflow-hidden",style:{height:"400px"},children:o.jsx("div",{className:"h-full w-full bg-muted/20 rounded",children:r?o.jsx(dG,{tree:r,onTogglePerk:p,onRankChange:y,selectedPerks:h}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("p",{className:"text-muted-foreground",children:n?"Loading perk tree...":"No skill selected"})})})}),o.jsx(Ck,{className:"border-t",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on perk nodes to select/deselect them"}),o.jsx(W,{variant:"outline",onClick:x,children:"Close"})]})})]})]})]}):null}function fG({skills:e,loading:t,error:n,searchQuery:s,onSearchChange:r,selectedCategory:a,onCategorySelect:i,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:y}){var w;const[v,x]=g.useState(!1);if(t)return o.jsx(b9,{});if(n)return o.jsx(w9,{error:n});const b=e.map(N=>({edid:N.id,name:N.name,category:N.category,description:N.description,scaling:"",keyAbilities:[],metaTags:[],totalPerks:N.totalPerks,selectedPerks:N.selectedPerksCount,level:N.level,isMajor:N.assignmentType==="major",isMinor:N.assignmentType==="minor"}));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ne,{children:[o.jsx(Le,{children:o.jsxs(Ge,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Build Summary"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(K,{variant:"outline",className:"bg-yellow-50 text-yellow-800 border-yellow-300",children:[y.majorCount,"/",y.majorLimit," Major"]}),o.jsxs(K,{variant:"outline",className:"bg-gray-50 text-gray-800 border-gray-300",children:[y.minorCount,"/",y.minorLimit," Minor"]})]})]})}),o.jsx(je,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Total Skills"}),o.jsx("p",{className:"font-semibold",children:y.totalSkills})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Selected Perks"}),o.jsx("p",{className:"font-semibold",children:y.totalPerks})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Perk Ranks"}),o.jsx("p",{className:"font-semibold",children:y.totalPerkRanks})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Available Major"}),o.jsx("p",{className:"font-semibold text-yellow-600",children:y.majorLimit-y.majorCount})]})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(tG,{query:s,onQueryChange:r}),o.jsx(nG,{categories:l,selectedCategory:a,onCategorySelect:i})]}),o.jsx(Hq,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Available Skills"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," skills found"]})]}),o.jsx(j9,{skills:e,onSkillSelect:N=>{console.log("Skill selected:",N),console.log("Setting perkTreeOpen to true"),u(N),x(!0)},onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,selectedSkillId:c||void 0})]}),o.jsx(N_,{open:v,onOpenChange:x,selectedSkill:c,skillName:c?(w=e.find(N=>N.id===c))==null?void 0:w.name:void 0,perkTree:p||void 0,skills:b,onSkillSelect:u,onReset:h}),o.jsx(Ne,{className:"bg-muted/50",children:o.jsxs(je,{className:"pt-6",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"How to Assign Skills"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Major Skills (0-3)"}),o.jsx("p",{children:"Your primary skills that level up faster and start at a higher level."})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Minor Skills (0-6)"}),o.jsx("p",{children:"Secondary skills that provide additional benefits and customization."})]})]})]})})]})}function j_(){const[e,t]=g.useState({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[n,s]=g.useState({skills:[],categories:[],prerequisites:[],tags:[]});g.useCallback(h=>{s(h)},[]);const r=g.useCallback(h=>{t(p=>({...p,skills:[...p.skills,h]}))},[]),a=g.useCallback(h=>{t(p=>({...p,skills:p.skills.filter(y=>y!==h)}))},[]);g.useCallback(h=>{t(p=>({...p,categories:[...p.categories,h]}))},[]),g.useCallback(h=>{t(p=>({...p,categories:p.categories.filter(y=>y!==h)}))},[]),g.useCallback(h=>{t(p=>({...p,prerequisites:[...p.prerequisites,h]}))},[]),g.useCallback(h=>{t(p=>({...p,prerequisites:p.prerequisites.filter(y=>y!==h)}))},[]),g.useCallback(h=>{t(p=>({...p,tags:[...p.tags,h]}))},[]);const i=g.useCallback(h=>{t(p=>({...p,tags:p.tags.filter(y=>y!==h)}))},[]);g.useCallback(h=>{t(p=>({...p,rankLevel:h}))},[]),g.useCallback(h=>{t(p=>({...p,rootOnly:h}))},[]);const l=g.useCallback(h=>{t(p=>({...p,minLevel:h}))},[]),c=g.useCallback(h=>{t(p=>({...p,searchQuery:h}))},[]),u=g.useCallback(()=>{t({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0})},[]),d=g.useMemo(()=>{const h=[];return e.skills.forEach(p=>{const y=n.skills.find(v=>v.id===p);y&&h.push({id:`skill-${p}`,type:"skill",value:p,label:y.name})}),e.categories.forEach(p=>{h.push({id:`category-${p}`,type:"category",value:p,label:p})}),e.prerequisites.forEach(p=>{h.push({id:`prerequisite-${p}`,type:"prerequisite",value:p,label:p})}),e.tags.forEach(p=>{h.push({id:`tag-${p}`,type:"tag",value:p,label:p})}),e.rankLevel!=="all"&&h.push({id:"rank-level",type:"rankLevel",value:e.rankLevel,label:e.rankLevel==="single"?"Single Rank":"Multi Rank"}),e.rootOnly&&h.push({id:"root-only",type:"rootOnly",value:"true",label:"Root Perks Only"}),e.minLevel!==void 0&&h.push({id:"min-level",type:"minLevel",value:e.minLevel.toString(),label:`Level ${e.minLevel}+`}),h},[e,n]);g.useMemo(()=>{const h=[];return n.skills.forEach(p=>{h.push({id:`skill-${p.id}`,label:p.name,value:p.id,category:"Skills",type:"skill"})}),n.tags.forEach(p=>{h.push({id:`tag-${p}`,label:p,value:p,category:"Tags",type:"tag"})}),h},[n]);const f=g.useCallback(h=>{if(typeof h=="string")c(h);else if(`${h.category}${h.id}`,h.label,h.value,h.category,h.category==="Skill Trees")r(h.value);else if(h.category==="Minimum Level"){const p=parseInt(h.value);isNaN(p)||l(p)}else h.category==="Fuzzy Search"&&c(h.value)},[r,c,l]),m=g.useCallback(h=>{const p=d.find(y=>y.id===h);if(p)p.type==="skill"?a(p.value):p.type==="tag"?i(p.value):p.type==="minLevel"&&l(void 0);else if(h.startsWith("custom-")){const y=h.replace("custom-","");e.searchQuery===y&&c("")}},[d,a,i,l,e.searchQuery,c]);return{selectedTags:[...d.map(h=>({id:h.id,label:h.label,value:h.value,category:h.type})),...e.searchQuery?[{id:`custom-${e.searchQuery}`,label:e.searchQuery,value:e.searchQuery,category:"Fuzzy Search"}]:[]],viewMode:"grid",searchQuery:e.searchQuery,onTagSelect:f,onTagRemove:m,onClearTags:u,onViewModeChange:()=>{},onSearchChange:c}}class mG{constructor(t,n){Ue(this,"perkNodes");Ue(this,"buildState");this.perkNodes=t,this.buildState=n}transformToPlayerCreationItem(t){var i,l,c,u,d,f;const n=((l=(i=this.buildState.perks)==null?void 0:i.selected)==null?void 0:l[t.skillTree])||[],s=((u=(c=this.buildState.perks)==null?void 0:c.ranks)==null?void 0:u[t.skillTree])||{},r=n.includes(t.edid),a=s[t.edid]||0;return{id:t.edid,name:t.name,description:((f=(d=t.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:t.category,tags:t.tags,isSelected:r,originalPerk:t,skillTree:t.skillTree,skillTreeName:t.skillTreeName,isRoot:t.isRoot,hasChildren:t.hasChildren,prerequisites:t.prerequisites,connections:t.connections,totalRanks:t.totalRanks,currentRank:a,isAvailable:this.isPerkAvailable(t),minLevel:t.minLevel}}isPerkAvailable(t){var s,r;if(t.isRoot)return!0;const n=((r=(s=this.buildState.perks)==null?void 0:s.selected)==null?void 0:r[t.skillTree])||[];return t.prerequisites.every(a=>n.includes(a))}applyFilters(t,n){let s=[...t];if(!n)return s;if(n.skills&&n.skills.length>0&&(s=s.filter(r=>n.skills.includes(r.skillTree))),n.categories&&n.categories.length>0&&(s=s.filter(r=>n.categories.includes(r.category))),n.prerequisites&&n.prerequisites.length>0&&(s=s.filter(r=>n.prerequisites.some(a=>r.prerequisites.includes(a)))),n.tags&&n.tags.length>0&&(s=s.filter(r=>n.tags.some(a=>r.tags.includes(a)))),n.minLevel!==void 0&&(s=s.filter(r=>(r.minLevel||0)>=n.minLevel)),n.rankLevel!=="all"&&(s=s.filter(r=>n.rankLevel==="single"?r.totalRanks===1:n.rankLevel==="multi"?r.totalRanks>1:!0)),n.rootOnly&&(s=s.filter(r=>r.isRoot)),n.searchQuery&&n.searchQuery.trim()){const r=n.searchQuery.trim(),a=s.map(u=>{var d,f;return{id:u.edid,name:u.name,description:((f=(d=u.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",searchableText:u.searchableText,tags:u.tags,category:u.category,skillTree:u.skillTreeName,originalNode:u}}),i={keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0};s=new Zt(a,i).search(r).map(u=>u.item.originalNode)}return s}getAvailableFilters(t){const n=new Set,s=new Set,r=new Set,a=new Set;return t.forEach(i=>{n.add(i.skillTree),s.add(i.category),i.tags.forEach(l=>r.add(l)),i.prerequisites.forEach(l=>a.add(l))}),{skills:Array.from(n),categories:Array.from(s),tags:Array.from(r),prerequisites:Array.from(a)}}sortPerks(t,n="name"){const s=[...t];switch(n){case"name":return s.sort((r,a)=>r.name.localeCompare(a.name));case"skill":return s.sort((r,a)=>r.skillTreeName.localeCompare(a.skillTreeName));case"category":return s.sort((r,a)=>r.category.localeCompare(a.category));case"rank":return s.sort((r,a)=>a.totalRanks-r.totalRanks);case"prerequisites":return s.sort((r,a)=>r.prerequisites.length-a.prerequisites.length);default:return s}}}function hG(e,t){const{build:n}=vt(),s=g.useMemo(()=>new mG(e,n),[e,n]),r=g.useMemo(()=>s.applyFilters(e,t||{skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[s,e,t]),a=g.useMemo(()=>r.map(l=>s.transformToPlayerCreationItem(l)),[r,s]),i=g.useMemo(()=>s.getAvailableFilters(e),[s,e]);return{model:s,filteredNodes:r,perkItems:a,availableFilters:i}}function gG(){const{allPerks:e,skillTrees:t,categories:n,tags:s,loading:r,error:a}=um(),{selectedTags:i,searchQuery:l}=j_(),c=g.useMemo(()=>{const y=i.filter(w=>w.category==="skill").map(w=>w.value),v=i.filter(w=>w.category==="tag").map(w=>w.value),x=i.filter(w=>w.category==="minLevel").map(w=>parseInt(w.value)).find(w=>!isNaN(w));return{skills:y,categories:[],prerequisites:[],tags:v,rankLevel:"all",rootOnly:!1,searchQuery:l||"",minLevel:x}},[i,l]),{filteredNodes:u,perkItems:d,availableFilters:f}=hG(e,c),m=g.useMemo(()=>{const y=[...new Set(e.map(b=>b.skillTreeName))],v=[...new Set(e.flatMap(b=>b.tags))],x=[...new Set(e.map(b=>b.minLevel||0))].sort((b,w)=>b-w);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:v.map(b=>({id:`keyword-${b}`,label:b,value:b,category:"Fuzzy Search",description:`Perks with ${b} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:y.map(b=>({id:`skill-${b}`,label:b,value:b,category:"Skill Trees",description:`Perks from ${b} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:x.map(b=>({id:`level-${b}`,label:`Level ${b}+`,value:b.toString(),category:"Minimum Level",description:`Perks requiring level ${b} or higher`}))}]},[e]),h=g.useMemo(()=>({totalPerks:e.length,filteredPerks:u.length,rootPerks:e.filter(y=>y.isRoot).length,multiRankPerks:e.filter(y=>y.totalRanks>1).length,singleRankPerks:e.filter(y=>y.totalRanks===1).length,skills:t.length,categories:n.length,tags:s.length}),[e,u,t,n,s]),p=g.useMemo(()=>{const y=new Map;return d.forEach(v=>{y.has(v.skillTree)||y.set(v.skillTree,[]),y.get(v.skillTree).push(v)}),Array.from(y.entries()).map(([v,x])=>{var b;return{skillId:v,skillName:((b=x[0])==null?void 0:b.skillTreeName)||v,perks:x,count:x.length}}).sort((v,x)=>v.skillName.localeCompare(x.skillName))},[d]);return g.useMemo(()=>{const y=new Map;return d.forEach(v=>{y.has(v.category||"")||y.set(v.category||"",[]),y.get(v.category||"").push(v)}),Array.from(y.entries()).map(([v,x])=>({category:v,perks:x,count:x.length})).sort((v,x)=>(v.category||"").localeCompare(x.category||""))},[d]),g.useMemo(()=>d.filter(y=>y.isSelected),[d]),g.useMemo(()=>d.filter(y=>y.isAvailable),[d]),g.useMemo(()=>d.filter(y=>y.isRoot),[d]),g.useMemo(()=>d.filter(y=>y.totalRanks>1),[d]),g.useMemo(()=>d.filter(y=>y.totalRanks===1),[d]),g.useMemo(()=>(y,v="name")=>{const x=[...y];switch(v){case"name":return x.sort((b,w)=>b.name.localeCompare(w.name));case"skill":return x.sort((b,w)=>b.skillTreeName.localeCompare(w.skillTreeName));case"category":return x.sort((b,w)=>(b.category||"").localeCompare(w.category||""));case"rank":return x.sort((b,w)=>w.totalRanks-b.totalRanks);case"prerequisites":return x.sort((b,w)=>b.prerequisites.length-w.prerequisites.length);case"selected":return x.sort((b,w)=>Number(w.isSelected)-Number(b.isSelected));default:return x}},[]),{filteredItems:d,groupedItems:Object.fromEntries(p.map(y=>[y.skillId,y.perks])),stats:{totalPerks:h.totalPerks,skillTrees:h.skills,multiRank:h.multiRankPerks,singleRank:h.singleRankPerks,withPrerequisites:e.filter(y=>y.prerequisites&&y.prerequisites.length>0).length},searchCategories:m,availableFilters:f,isLoading:r,error:a}}function pG(e,t){const n=g.useMemo(()=>e.map(l=>{var c,u;return{id:l.edid,name:l.name,description:((u=(c=l.ranks[0])==null?void 0:c.description)==null?void 0:u.base)||"",searchableText:l.searchableText,tags:l.tags,category:l.category,skillTree:l.skillTreeName,originalPerk:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Zt(n,s),[n,s]),a=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredPerks:g.useMemo(()=>a.map(l=>l.item.originalPerk),[a]),searchResults:a,searchablePerks:n}}function xG(){const e=yt(),{build:t}=vt(),{allPerks:n,loading:s,error:r}=um(),[a,i]=g.useState("list"),c=(()=>{const S=[...new Set(n.map(E=>E.skillTreeName))],C=[...new Set(n.flatMap(E=>E.tags))],k=[...new Set(n.map(E=>E.minLevel||0))].sort((E,_)=>E-_);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:C.map(E=>({id:`keyword-${E}`,label:E,value:E,category:"Fuzzy Search",description:`Perks with ${E} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:S.map(E=>({id:`skill-${E}`,label:E,value:E,category:"Skill Trees",description:`Perks from ${E} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:k.map(E=>({id:`level-${E}`,label:`Level ${E}+`,value:E.toString(),category:"Minimum Level",description:`Perks requiring level ${E} or higher`}))}]})(),[u,d]=g.useState([]),f=S=>{let C;typeof S=="string"?C={id:`custom-${S}`,label:S,value:S,category:"Fuzzy Search"}:C={id:`${S.category}-${S.id}`,label:S.label,value:S.value,category:S.category},u.some(k=>k.value===C.value&&k.category===C.category)||d(k=>[...k,C])},m=S=>{d(C=>C.filter(k=>k.id!==S))},h=n.filter(S=>u.length===0?!0:u.every(C=>{switch(C.category){case"Fuzzy Search":return!0;case"Skill Trees":return S.skillTreeName===C.value;case"Minimum Level":const k=parseInt(C.value);return!isNaN(k)&&(S.minLevel||0)>=k;default:return!0}})),p=u.filter(S=>S.category==="Fuzzy Search").map(S=>S.value).join(" "),{filteredPerks:y}=pG(h,p),v=y.map(S=>({...dk(S,t),originalPerk:S})),[x,b]=g.useState(new Set),w=S=>{const C=new Set(x);if(a==="grid"){const E=v.findIndex(T=>T.id===S),P=Math.floor(E/3)*3,O=Math.min(P+3,v.length);v.slice(P,O).some(T=>C.has(T.id))?v.slice(P,O).forEach(T=>{C.delete(T.id)}):v.slice(P,O).forEach(T=>{C.add(T.id)})}else C.has(S)?C.delete(S):C.add(S);b(C)},N=()=>{d([])},j=S=>{i(S),b(new Set)};return s?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading perk data..."})]})}):r?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-destructive mb-4",children:r}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):o.jsx(Rs,{title:"Perk References",description:"Browse and search all available perks. Find the perfect abilities for your character build.",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"flex items-center gap-2",children:[o.jsx(lg,{className:"h-4 w-4"}),"Back"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ga,{categories:c,onSelect:f,onCustomSearch:f,className:"w-full"}),u.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsxs("button",{onClick:N,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[o.jsx("svg",{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Clear All"]}),u.map(S=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>m(S.id),title:"Click to remove",children:[S.label,o.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},S.id))]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.length," perk",v.length!==1?"s":""," found"]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(W,{variant:a==="grid"?"default":"outline",size:"sm",onClick:()=>j("grid"),className:"flex items-center gap-2",children:[o.jsx(ro,{className:"h-4 w-4"}),"Grid"]}),o.jsxs(W,{variant:a==="list"?"default":"outline",size:"sm",onClick:()=>j("list"),className:"flex items-center gap-2",children:[o.jsx(ha,{className:"h-4 w-4"}),"List"]})]})]}),a==="grid"?o.jsx(i0,{columns:3,gap:"md",children:v.map(S=>o.jsx(Og,{item:S,isExpanded:x.has(S.id),onToggle:()=>w(S.id),viewMode:"grid"},S.id))}):o.jsx("div",{className:"space-y-2",children:v.map(S=>o.jsx(Og,{item:S,isExpanded:x.has(S.id),onToggle:()=>w(S.id),viewMode:"list"},S.id))})]})})}function Aw(){const{skills:e,loading:t,error:n,searchQuery:s,setSearchQuery:r,selectedCategory:a,setSelectedCategory:i,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:y}=b_(),{filteredItems:v,groupedItems:x,stats:b,isLoading:w,error:N,searchCategories:j}=gG(),{selectedTags:S,viewMode:C,searchQuery:k,onTagSelect:E,onTagRemove:_,onClearTags:P,onViewModeChange:O,onSearchChange:L}=j_();return t||w?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading data..."})]})}):n||N?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-destructive mb-4",children:n||N}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):o.jsx(Rs,{title:"Skills & Perks",description:"Manage your character's skills and browse all available perks.",children:o.jsx("div",{className:"mb-6",children:o.jsxs(Xi,{defaultValue:"builder",className:"w-full",children:[o.jsxs(Ki,{className:"grid w-full grid-cols-2",children:[o.jsx(nn,{value:"builder",children:"Perk Builder"}),o.jsx(nn,{value:"reference",children:"Perk References"})]}),o.jsx(yn,{value:"builder",className:"space-y-4",children:o.jsx(fG,{skills:e,loading:t,error:n,searchQuery:s,onSearchChange:r,selectedCategory:a,onCategorySelect:i,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:y})}),o.jsx(yn,{value:"reference",className:"space-y-4",children:o.jsx(xG,{items:v,groupedItems:x,stats:b,searchCategories:j,selectedTags:S,viewMode:C,searchQuery:k,onTagSelect:E,onTagRemove:_,onClearTags:P,onViewModeChange:O,onSearchChange:L})})]})})})}function yG({className:e}){var P;const{selectedMajorSkills:t,selectedMinorSkills:n,availableSkills:s,handleMajorSkillSelect:r,handleMinorSkillSelect:a,handleMajorSkillRemove:i,handleMinorSkillRemove:l}=Jq(),{build:c,getSkillLevel:u,getSkillPerks:d}=vt(),{skills:f}=K0(),m=yt(),[h,p]=g.useState(null),[y,v]=g.useState(!1),x=()=>{m("/skills")},b=O=>{console.log("Opening perk tree for skill:",O),p(O),v(!0)},w=O=>{p(O.edid),v(!0)},N=g.useMemo(()=>{const O=t.map(z=>z.id),L=n.map(z=>z.id),T=[...O,...L];return f.filter(z=>d(z.id).length>0&&!T.includes(z.id))},[f,t,n,d]),j=g.useMemo(()=>{const O=t.map(A=>A.id),L=n.map(A=>A.id),T=[...O,...L],z=N.map(A=>A.id);return f.filter(A=>!T.includes(A.id)&&!z.includes(A.id)).map(A=>({name:A.name,edid:A.id,category:A.category,description:A.description,scaling:"",keyAbilities:A.keyAbilities||[],metaTags:A.metaTags||[]}))},[f,t,n,N]),S=O=>({name:O.name,edid:O.id,category:O.category,description:O.description,scaling:O.scaling||"",keyAbilities:O.keyAbilities||[],metaTags:O.metaTags||[]}),C=g.useMemo(()=>{const O=t.map(z=>z.id),L=n.map(z=>z.id),T=[...O,...L];return f.filter(z=>{const A=d(z.id);return T.includes(z.id)&&A.length===0})},[f,t,n,d]),k=f.map(O=>{d(O.id);const L=u(O.id),T=c.skills.major.includes(O.id),z=c.skills.minor.includes(O.id),A=!T&&c.skills.major.length<3,D=!z&&c.skills.minor.length<6;return{...O,isMajor:T,isMinor:z,canAssignMajor:A,canAssignMinor:D,level:L}}),{selectedPerkTree:E}=W0(h),_=(O,L)=>{const T=u(O.id||O.edid),z=d(O.id||O.edid),A=O.totalPerks||0,D=O.id||O.edid;let M="cursor-pointer transition-all hover:shadow-md ",R="text-xs ";switch(L){case"major":M+="bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",R+="bg-yellow-100 text-yellow-800 border-yellow-300";break;case"minor":M+="bg-gray-50/50 border-gray-300 shadow-gray-300/20",R+="bg-gray-100 text-gray-800 border-gray-300";break;case"perked":M+="bg-blue-50/50 border-blue-500 shadow-blue-500/20",R+="bg-blue-100 text-blue-800 border-blue-300";break;case"assigned":M+="bg-orange-50/50 border-orange-500 shadow-orange-500/20",R+="bg-orange-100 text-orange-800 border-orange-300";break}return o.jsx(Ne,{className:M,onClick:()=>b(D),children:o.jsx(je,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h5",{className:"font-medium text-sm text-foreground",children:O.name}),o.jsx(Rc,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-3",children:O.description}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(Bk,{level:T,size:"sm"}),o.jsxs(K,{variant:"outline",className:R,children:[z.length,"/",A," perks"]}),L==="major"&&o.jsx(K,{variant:"outline",className:"text-xs bg-yellow-100 text-yellow-800 border-yellow-300",children:"Major"}),L==="minor"&&o.jsx(K,{variant:"outline",className:"text-xs bg-gray-100 text-gray-800 border-gray-300",children:"Minor"}),L==="perked"&&o.jsx(K,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800 border-blue-300",children:"Perked"}),L==="assigned"&&o.jsx(K,{variant:"outline",className:"text-xs bg-orange-100 text-orange-800 border-orange-300",children:"Assigned"})]})]}),(L==="major"||L==="minor")&&o.jsx(W,{size:"sm",variant:"ghost",onClick:B=>{B.stopPropagation(),L==="major"?i(D):l(D)},className:`${L==="major"?"text-yellow-600 hover:text-yellow-700 hover:bg-yellow-100":"text-gray-600 hover:text-gray-700 hover:bg-gray-100"}`,children:o.jsx(Ft,{className:"h-4 w-4"})})]})})},D)};return o.jsxs(o.Fragment,{children:[o.jsxs($n,{title:"Skills & Perks",navigateTo:"skills",onNavigate:x,className:e,children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-md font-medium text-foreground",children:"Major Skills"}),t.length<3&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(K,{variant:"outline",className:"text-xs",children:[t.length,"/3"]})}),o.jsx(jh,{skills:s.map(S),onSelect:O=>{const L=s.find(T=>T.id===O.edid);L&&r(L)},placeholder:"Select major skill...",className:"w-full"})]}),t.length>0&&o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:t.map(O=>_(O,"major"))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-md font-medium text-foreground",children:"Minor Skills"}),n.length<6&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(K,{variant:"outline",className:"text-xs",children:[n.length,"/6"]})}),o.jsx(jh,{skills:s.map(S),onSelect:O=>{const L=s.find(T=>T.id===O.edid);L&&a(L)},placeholder:"Select minor skill...",className:"w-full"})]}),n.length>0&&o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:n.map(O=>_(O,"minor"))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-md font-medium text-foreground",children:"Other Perked Skills"}),o.jsx("div",{className:"space-y-2",children:o.jsx(jh,{skills:j,onSelect:w,placeholder:"Select skill to add perks...",className:"w-full"})}),N.length>0&&o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:N.map(O=>_(O,"perked"))})]}),C.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-md font-medium text-foreground",children:"Assigned Skills (No Perks)"}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:C.map(O=>_(O,"assigned"))})]})]}),o.jsx("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on any skill card to view and manage its perk tree. Skill levels show the minimum level required based on your perk selections."})})]}),o.jsx(N_,{open:y,onOpenChange:v,selectedSkill:h,skillName:h?(P=f.find(O=>O.id===h))==null?void 0:P.name:void 0,perkTree:E||void 0,skills:k,onSkillSelect:p,onReset:()=>{}})]})}function q(e,t,n){function s(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,c);for(const d in i.prototype)d in l||Object.defineProperty(l,d,{value:i.prototype[d].bind(l)});l._zod.constr=i,l._zod.def=c}const r=(n==null?void 0:n.Parent)??Object;class a extends r{}Object.defineProperty(a,"name",{value:e});function i(l){var c;const u=n!=null&&n.Parent?new a:this;s(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(i,"init",{value:s}),Object.defineProperty(i,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class pc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const S_={};function Ka(e){return S_}function vG(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,r])=>t.indexOf(+s)===-1).map(([s,r])=>r)}function bG(e,t){return typeof t=="bigint"?t.toString():t}function C_(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Q0(e){return e==null}function J0(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function wG(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=n>s?n:s,a=Number.parseInt(e.toFixed(r).replace(".","")),i=Number.parseInt(t.toFixed(r).replace(".",""));return a%i/10**r}function Ye(e,t,n){Object.defineProperty(e,t,{get(){{const s=n();return e[t]=s,s}},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function ey(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function yl(e){return JSON.stringify(e)}const k_=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function rp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const NG=C_(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ap(e){if(rp(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(rp(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const jG=new Set(["string","number","symbol"]);function ym(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xo(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(s._zod.parent=e),s}function ue(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function SG(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const CG={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function kG(e,t){const n={},s=e._zod.def;for(const r in t){if(!(r in s.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(n[r]=s.shape[r])}return xo(e,{...e._zod.def,shape:n,checks:[]})}function EG(e,t){const n={...e._zod.def.shape},s=e._zod.def;for(const r in t){if(!(r in s.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&delete n[r]}return xo(e,{...e._zod.def,shape:n,checks:[]})}function _G(e,t){if(!ap(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return ey(this,"shape",s),s},checks:[]};return xo(e,n)}function AG(e,t){return xo(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return ey(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function TG(e,t,n){const s=t._zod.def.shape,r={...s};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=e?new e({type:"optional",innerType:s[a]}):s[a])}else for(const a in s)r[a]=e?new e({type:"optional",innerType:s[a]}):s[a];return xo(t,{...t._zod.def,shape:r,checks:[]})}function MG(e,t,n){const s=t._zod.def.shape,r={...s};if(n)for(const a in n){if(!(a in r))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)r[a]=new e({type:"nonoptional",innerType:s[a]});return xo(t,{...t._zod.def,shape:r,checks:[]})}function Ol(e,t=0){var n;for(let s=t;s<e.issues.length;s++)if(((n=e.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function ty(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function $u(e){return typeof e=="string"?e:e==null?void 0:e.message}function Wa(e,t,n){var r,a,i,l,c,u;const s={...e,path:e.path??[]};if(!e.message){const d=$u((i=(a=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:a.error)==null?void 0:i.call(a,e))??$u((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??$u((c=n.customError)==null?void 0:c.call(n,e))??$u((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";s.message=d}return delete s.inst,delete s.continue,t!=null&&t.reportInput||delete s.input,s}function ny(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function xc(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const E_=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,bG,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},__=q("$ZodError",E_),A_=q("$ZodError",E_,{Parent:Error});function RG(e,t=n=>n.message){const n={},s=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:n}}function DG(e,t){const n=t||function(a){return a.message},s={_errors:[]},r=a=>{for(const i of a.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)s._errors.push(n(i));else{let l=s,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(e),s}const zG=e=>(t,n,s,r)=>{const a=s?Object.assign(s,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},a);if(i instanceof Promise)throw new pc;if(i.issues.length){const l=new((r==null?void 0:r.Err)??e)(i.issues.map(c=>Wa(c,a,Ka())));throw k_(l,r==null?void 0:r.callee),l}return i.value},LG=e=>async(t,n,s,r)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},a);if(i instanceof Promise&&(i=await i),i.issues.length){const l=new((r==null?void 0:r.Err)??e)(i.issues.map(c=>Wa(c,a,Ka())));throw k_(l,r==null?void 0:r.callee),l}return i.value},T_=e=>(t,n,s)=>{const r=s?{...s,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new pc;return a.issues.length?{success:!1,error:new(e??__)(a.issues.map(i=>Wa(i,r,Ka())))}:{success:!0,data:a.value}},$G=T_(A_),M_=e=>async(t,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(i=>Wa(i,r,Ka())))}:{success:!0,data:a.value}},PG=M_(A_),OG=/^[cC][^\s-]{8,}$/,BG=/^[0-9a-z]+$/,IG=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,HG=/^[0-9a-vA-V]{20}$/,UG=/^[A-Za-z0-9]{27}$/,FG=/^[a-zA-Z0-9_-]{21}$/,VG=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,qG=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Tw=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,GG=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ZG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function YG(){return new RegExp(ZG,"u")}const XG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KG=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,WG=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,QG=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,JG=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,R_=/^[A-Za-z0-9_-]*$/,eZ=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,tZ=/^\+(?:[0-9]){6,14}[0-9]$/,D_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",nZ=new RegExp(`^${D_}$`);function z_(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function sZ(e){return new RegExp(`^${z_(e)}$`)}function rZ(e){const t=z_({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${D_}T(?:${s})$`)}const aZ=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},oZ=/^\d+$/,iZ=/^-?\d+(?:\.\d+)?/i,lZ=/true|false/i,cZ=/^[^A-Z]*$/,uZ=/^[^a-z]*$/,cn=q("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),L_={number:"number",bigint:"bigint",object:"date"},$_=q("$ZodCheckLessThan",(e,t)=>{cn.init(e,t);const n=L_[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,a=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),P_=q("$ZodCheckGreaterThan",(e,t)=>{cn.init(e,t);const n=L_[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,a=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),dZ=q("$ZodCheckMultipleOf",(e,t)=>{cn.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):wG(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),fZ=q("$ZodCheckNumberFormat",(e,t)=>{var i;cn.init(e,t),t.format=t.format||"float64";const n=(i=t.format)==null?void 0:i.includes("int"),s=n?"int":"number",[r,a]=CG[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=r,c.maximum=a,n&&(c.pattern=oZ)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:s,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}c<r&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),c>a&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inst:e})}}),mZ=q("$ZodCheckMaxLength",(e,t)=>{var n;cn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!Q0(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const r=s.value;if(r.length<=t.maximum)return;const i=ny(r);s.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),hZ=q("$ZodCheckMinLength",(e,t)=>{var n;cn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!Q0(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const r=s.value;if(r.length>=t.minimum)return;const i=ny(r);s.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),gZ=q("$ZodCheckLengthEquals",(e,t)=>{var n;cn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!Q0(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=s=>{const r=s.value,a=r.length;if(a===t.length)return;const i=ny(r),l=a>t.length;s.issues.push({origin:i,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),vm=q("$ZodCheckStringFormat",(e,t)=>{var n,s;cn.init(e,t),e._zod.onattach.push(r=>{const a=r._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),pZ=q("$ZodCheckRegex",(e,t)=>{vm.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),xZ=q("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=cZ),vm.init(e,t)}),yZ=q("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=uZ),vm.init(e,t)}),vZ=q("$ZodCheckIncludes",(e,t)=>{cn.init(e,t);const n=ym(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),bZ=q("$ZodCheckStartsWith",(e,t)=>{cn.init(e,t);const n=new RegExp(`^${ym(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),wZ=q("$ZodCheckEndsWith",(e,t)=>{cn.init(e,t);const n=new RegExp(`.*${ym(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),NZ=q("$ZodCheckOverwrite",(e,t)=>{cn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class jZ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(i=>i),r=Math.min(...s.map(i=>i.length-i.trimStart().length)),a=s.map(i=>i.slice(r)).map(i=>" ".repeat(this.indent*2)+i);for(const i of a)this.content.push(i)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new t(...n,r.join(`
`))}}const SZ={major:4,minor:0,patch:5},lt=q("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=SZ;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const a of s)for(const i of a._zod.onattach)i(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const a=(i,l,c)=>{let u=Ol(i),d;for(const f of l){if(f._zod.def.when){if(!f._zod.def.when(i))continue}else if(u)continue;const m=i.issues.length,h=f._zod.check(i);if(h instanceof Promise&&(c==null?void 0:c.async)===!1)throw new pc;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,i.issues.length!==m&&(u||(u=Ol(i,m)))});else{if(i.issues.length===m)continue;u||(u=Ol(i,m))}}return d?d.then(()=>i):i};e._zod.run=(i,l)=>{const c=e._zod.parse(i,l);if(c instanceof Promise){if(l.async===!1)throw new pc;return c.then(u=>a(u,s,l))}return a(c,s,l)}}e["~standard"]={validate:a=>{var i;try{const l=$G(e,a);return l.success?{value:l.data}:{issues:(i=l.error)==null?void 0:i.issues}}catch{return PG(e,a).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),sy=q("$ZodString",(e,t)=>{var n;lt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??aZ(e._zod.bag),e._zod.parse=(s,r)=>{if(t.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Je=q("$ZodStringFormat",(e,t)=>{vm.init(e,t),sy.init(e,t)}),CZ=q("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=qG),Je.init(e,t)}),kZ=q("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Tw(s))}else t.pattern??(t.pattern=Tw());Je.init(e,t)}),EZ=q("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=GG),Je.init(e,t)}),_Z=q("$ZodURL",(e,t)=>{Je.init(e,t),e._zod.check=n=>{try{const s=n.value,r=new URL(s),a=r.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:eZ.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!s.endsWith("/")&&a.endsWith("/")?n.value=a.slice(0,-1):n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),AZ=q("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=YG()),Je.init(e,t)}),TZ=q("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=FG),Je.init(e,t)}),MZ=q("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=OG),Je.init(e,t)}),RZ=q("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=BG),Je.init(e,t)}),DZ=q("$ZodULID",(e,t)=>{t.pattern??(t.pattern=IG),Je.init(e,t)}),zZ=q("$ZodXID",(e,t)=>{t.pattern??(t.pattern=HG),Je.init(e,t)}),LZ=q("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=UG),Je.init(e,t)}),$Z=q("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=rZ(t)),Je.init(e,t)}),PZ=q("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=nZ),Je.init(e,t)}),OZ=q("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=sZ(t)),Je.init(e,t)}),BZ=q("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=VG),Je.init(e,t)}),IZ=q("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=XG),Je.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv4"})}),HZ=q("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=KG),Je.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),UZ=q("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=WG),Je.init(e,t)}),FZ=q("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=QG),Je.init(e,t),e._zod.check=n=>{const[s,r]=n.value.split("/");try{if(!r)throw new Error;const a=Number(r);if(`${a}`!==r)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function O_(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const VZ=q("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=JG),Je.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{O_(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function qZ(e){if(!R_.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return O_(n)}const GZ=q("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=R_),Je.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{qZ(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),ZZ=q("$ZodE164",(e,t)=>{t.pattern??(t.pattern=tZ),Je.init(e,t)});function YZ(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const XZ=q("$ZodJWT",(e,t)=>{Je.init(e,t),e._zod.check=n=>{YZ(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),B_=q("$ZodNumber",(e,t)=>{lt.init(e,t),e._zod.pattern=e._zod.bag.pattern??iZ,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...a?{received:a}:{}}),n}}),KZ=q("$ZodNumber",(e,t)=>{fZ.init(e,t),B_.init(e,t)}),WZ=q("$ZodBoolean",(e,t)=>{lt.init(e,t),e._zod.pattern=lZ,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),QZ=q("$ZodUnknown",(e,t)=>{lt.init(e,t),e._zod.parse=n=>n}),JZ=q("$ZodNever",(e,t)=>{lt.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Mw(e,t,n){e.issues.length&&t.issues.push(...ty(n,e.issues)),t.value[n]=e.value}const eY=q("$ZodArray",(e,t)=>{lt.init(e,t),e._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const a=[];for(let i=0;i<r.length;i++){const l=r[i],c=t.element._zod.run({value:l,issues:[]},s);c instanceof Promise?a.push(c.then(u=>Mw(u,n,i))):Mw(c,n,i)}return a.length?Promise.all(a).then(()=>n):n}});function Pu(e,t,n){e.issues.length&&t.issues.push(...ty(n,e.issues)),t.value[n]=e.value}function Rw(e,t,n,s){e.issues.length?s[n]===void 0?n in s?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...ty(n,e.issues)):e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}const tY=q("$ZodObject",(e,t)=>{lt.init(e,t);const n=C_(()=>{const f=Object.keys(t.shape);for(const h of f)if(!(t.shape[h]instanceof lt))throw new Error(`Invalid element at key "${h}": expected a Zod schema`);const m=SG(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(m)}});Ye(e._zod,"propValues",()=>{const f=t.shape,m={};for(const h in f){const p=f[h]._zod;if(p.values){m[h]??(m[h]=new Set);for(const y of p.values)m[h].add(y)}}return m});const s=f=>{const m=new jZ(["shape","payload","ctx"]),h=n.value,p=b=>{const w=yl(b);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};m.write("const input = payload.value;");const y=Object.create(null);let v=0;for(const b of h.keys)y[b]=`key_${v++}`;m.write("const newResult = {}");for(const b of h.keys)if(h.optionalKeys.has(b)){const w=y[b];m.write(`const ${w} = ${p(b)};`);const N=yl(b);m.write(`
        if (${w}.issues.length) {
          if (input[${N}] === undefined) {
            if (${N} in input) {
              newResult[${N}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${w}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${N}, ...iss.path] : [${N}],
              }))
            );
          }
        } else if (${w}.value === undefined) {
          if (${N} in input) newResult[${N}] = undefined;
        } else {
          newResult[${N}] = ${w}.value;
        }
        `)}else{const w=y[b];m.write(`const ${w} = ${p(b)};`),m.write(`
          if (${w}.issues.length) payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${yl(b)}, ...iss.path] : [${yl(b)}]
          })));`),m.write(`newResult[${yl(b)}] = ${w}.value`)}m.write("payload.value = newResult;"),m.write("return payload;");const x=m.compile();return(b,w)=>x(f,b,w)};let r;const a=rp,i=!S_.jitless,c=i&&NG.value,u=t.catchall;let d;e._zod.parse=(f,m)=>{d??(d=n.value);const h=f.value;if(!a(h))return f.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),f;const p=[];if(i&&c&&(m==null?void 0:m.async)===!1&&m.jitless!==!0)r||(r=s(t.shape)),f=r(f,m);else{f.value={};const w=d.shape;for(const N of d.keys){const j=w[N],S=j._zod.run({value:h[N],issues:[]},m),C=j._zod.optin==="optional"&&j._zod.optout==="optional";S instanceof Promise?p.push(S.then(k=>C?Rw(k,f,N,h):Pu(k,f,N))):C?Rw(S,f,N,h):Pu(S,f,N)}}if(!u)return p.length?Promise.all(p).then(()=>f):f;const y=[],v=d.keySet,x=u._zod,b=x.def.type;for(const w of Object.keys(h)){if(v.has(w))continue;if(b==="never"){y.push(w);continue}const N=x.run({value:h[w],issues:[]},m);N instanceof Promise?p.push(N.then(j=>Pu(j,f,w))):Pu(N,f,w)}return y.length&&f.issues.push({code:"unrecognized_keys",keys:y,input:h,inst:e}),p.length?Promise.all(p).then(()=>f):f}});function Dw(e,t,n,s){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(a=>Wa(a,s,Ka())))}),t}const nY=q("$ZodUnion",(e,t)=>{lt.init(e,t),Ye(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Ye(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Ye(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Ye(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${n.map(s=>J0(s.source)).join("|")})$`)}}),e._zod.parse=(n,s)=>{let r=!1;const a=[];for(const i of t.options){const l=i._zod.run({value:n.value,issues:[]},s);if(l instanceof Promise)a.push(l),r=!0;else{if(l.issues.length===0)return l;a.push(l)}}return r?Promise.all(a).then(i=>Dw(i,n,e,s)):Dw(a,n,e,s)}}),sY=q("$ZodIntersection",(e,t)=>{lt.init(e,t),e._zod.parse=(n,s)=>{const r=n.value,a=t.left._zod.run({value:r,issues:[]},s),i=t.right._zod.run({value:r,issues:[]},s);return a instanceof Promise||i instanceof Promise?Promise.all([a,i]).then(([c,u])=>zw(n,c,u)):zw(n,a,i)}});function op(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ap(e)&&ap(t)){const n=Object.keys(t),s=Object.keys(e).filter(a=>n.indexOf(a)!==-1),r={...e,...t};for(const a of s){const i=op(e[a],t[a]);if(!i.valid)return{valid:!1,mergeErrorPath:[a,...i.mergeErrorPath]};r[a]=i.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const r=e[s],a=t[s],i=op(r,a);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function zw(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Ol(e))return e;const s=op(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const rY=q("$ZodEnum",(e,t)=>{lt.init(e,t);const n=vG(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(s=>jG.has(typeof s)).map(s=>typeof s=="string"?ym(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const a=s.value;return e._zod.values.has(a)||s.issues.push({code:"invalid_value",values:n,input:a,inst:e}),s}}),aY=q("$ZodTransform",(e,t)=>{lt.init(e,t),e._zod.parse=(n,s)=>{const r=t.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(i=>(n.value=i,n));if(r instanceof Promise)throw new pc;return n.value=r,n}}),oY=q("$ZodOptional",(e,t)=>{lt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ye(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ye(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${J0(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,s):n.value===void 0?n:t.innerType._zod.run(n,s)}),iY=q("$ZodNullable",(e,t)=>{lt.init(e,t),Ye(e._zod,"optin",()=>t.innerType._zod.optin),Ye(e._zod,"optout",()=>t.innerType._zod.optout),Ye(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${J0(n.source)}|null)$`):void 0}),Ye(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),lY=q("$ZodDefault",(e,t)=>{lt.init(e,t),e._zod.optin="optional",Ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>Lw(a,t)):Lw(r,t)}});function Lw(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const cY=q("$ZodPrefault",(e,t)=>{lt.init(e,t),e._zod.optin="optional",Ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),uY=q("$ZodNonOptional",(e,t)=>{lt.init(e,t),Ye(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>$w(a,e)):$w(r,e)}});function $w(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const dY=q("$ZodCatch",(e,t)=>{lt.init(e,t),e._zod.optin="optional",Ye(e._zod,"optout",()=>t.innerType._zod.optout),Ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(i=>Wa(i,s,Ka()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>Wa(a,s,Ka()))},input:n.value}),n.issues=[]),n)}}),fY=q("$ZodPipe",(e,t)=>{lt.init(e,t),Ye(e._zod,"values",()=>t.in._zod.values),Ye(e._zod,"optin",()=>t.in._zod.optin),Ye(e._zod,"optout",()=>t.out._zod.optout),Ye(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{const r=t.in._zod.run(n,s);return r instanceof Promise?r.then(a=>Pw(a,t,s)):Pw(r,t,s)}});function Pw(e,t,n){return Ol(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const mY=q("$ZodReadonly",(e,t)=>{lt.init(e,t),Ye(e._zod,"propValues",()=>t.innerType._zod.propValues),Ye(e._zod,"values",()=>t.innerType._zod.values),Ye(e._zod,"optin",()=>t.innerType._zod.optin),Ye(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(Ow):Ow(r)}});function Ow(e){return e.value=Object.freeze(e.value),e}const hY=q("$ZodCustom",(e,t)=>{cn.init(e,t),lt.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,r=t.fn(s);if(r instanceof Promise)return r.then(a=>Bw(a,n,s,e));Bw(r,n,s,e)}});function Bw(e,t,n,s){if(!e){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),t.issues.push(xc(r))}}class gY{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const s=n[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};return delete s.id,{...s,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function pY(){return new gY}const Ou=pY();function xY(e,t){return new e({type:"string",...ue(t)})}function yY(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ue(t)})}function Iw(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ue(t)})}function vY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ue(t)})}function bY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ue(t)})}function wY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ue(t)})}function NY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ue(t)})}function jY(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ue(t)})}function SY(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ue(t)})}function CY(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ue(t)})}function kY(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ue(t)})}function EY(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ue(t)})}function _Y(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ue(t)})}function AY(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ue(t)})}function TY(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ue(t)})}function MY(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ue(t)})}function RY(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ue(t)})}function DY(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ue(t)})}function zY(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ue(t)})}function LY(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ue(t)})}function $Y(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ue(t)})}function PY(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ue(t)})}function OY(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ue(t)})}function BY(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ue(t)})}function IY(e,t){return new e({type:"string",format:"date",check:"string_format",...ue(t)})}function HY(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ue(t)})}function UY(e,t){return new e({type:"string",format:"duration",check:"string_format",...ue(t)})}function FY(e,t){return new e({type:"number",checks:[],...ue(t)})}function VY(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ue(t)})}function qY(e,t){return new e({type:"boolean",...ue(t)})}function GY(e){return new e({type:"unknown"})}function ZY(e,t){return new e({type:"never",...ue(t)})}function Hw(e,t){return new $_({check:"less_than",...ue(t),value:e,inclusive:!1})}function Sh(e,t){return new $_({check:"less_than",...ue(t),value:e,inclusive:!0})}function Uw(e,t){return new P_({check:"greater_than",...ue(t),value:e,inclusive:!1})}function Ch(e,t){return new P_({check:"greater_than",...ue(t),value:e,inclusive:!0})}function Fw(e,t){return new dZ({check:"multiple_of",...ue(t),value:e})}function I_(e,t){return new mZ({check:"max_length",...ue(t),maximum:e})}function Kd(e,t){return new hZ({check:"min_length",...ue(t),minimum:e})}function H_(e,t){return new gZ({check:"length_equals",...ue(t),length:e})}function YY(e,t){return new pZ({check:"string_format",format:"regex",...ue(t),pattern:e})}function XY(e){return new xZ({check:"string_format",format:"lowercase",...ue(e)})}function KY(e){return new yZ({check:"string_format",format:"uppercase",...ue(e)})}function WY(e,t){return new vZ({check:"string_format",format:"includes",...ue(t),includes:e})}function QY(e,t){return new bZ({check:"string_format",format:"starts_with",...ue(t),prefix:e})}function JY(e,t){return new wZ({check:"string_format",format:"ends_with",...ue(t),suffix:e})}function Yc(e){return new NZ({check:"overwrite",tx:e})}function eX(e){return Yc(t=>t.normalize(e))}function tX(){return Yc(e=>e.trim())}function nX(){return Yc(e=>e.toLowerCase())}function sX(){return Yc(e=>e.toUpperCase())}function rX(e,t,n){return new e({type:"array",element:t,...ue(n)})}function aX(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ue(n)})}const oX=q("ZodISODateTime",(e,t)=>{$Z.init(e,t),rt.init(e,t)});function iX(e){return BY(oX,e)}const lX=q("ZodISODate",(e,t)=>{PZ.init(e,t),rt.init(e,t)});function cX(e){return IY(lX,e)}const uX=q("ZodISOTime",(e,t)=>{OZ.init(e,t),rt.init(e,t)});function dX(e){return HY(uX,e)}const fX=q("ZodISODuration",(e,t)=>{BZ.init(e,t),rt.init(e,t)});function mX(e){return UY(fX,e)}const hX=(e,t)=>{__.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>DG(e,n)},flatten:{value:n=>RG(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},bm=q("ZodError",hX,{Parent:Error}),gX=zG(bm),pX=LG(bm),xX=T_(bm),yX=M_(bm),bt=q("ZodType",(e,t)=>(lt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),e.clone=(n,s)=>xo(e,n,s),e.brand=()=>e,e.register=(n,s)=>(n.add(e,s),e),e.parse=(n,s)=>gX(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>xX(e,n,s),e.parseAsync=async(n,s)=>pX(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>yX(e,n,s),e.spa=e.safeParseAsync,e.refine=(n,s)=>e.check(dK(n,s)),e.superRefine=n=>e.check(fK(n)),e.overwrite=n=>e.check(Yc(n)),e.optional=()=>Zw(e),e.nullable=()=>Yw(e),e.nullish=()=>Zw(Yw(e)),e.nonoptional=n=>sK(e,n),e.array=()=>Qa(e),e.or=n=>GX([e,n]),e.and=n=>YX(e,n),e.transform=n=>Xw(e,WX(n)),e.default=n=>eK(e,n),e.prefault=n=>nK(e,n),e.catch=n=>aK(e,n),e.pipe=n=>Xw(e,n),e.readonly=()=>lK(e),e.describe=n=>{const s=e.clone();return Ou.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){var n;return(n=Ou.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ou.get(e);const s=e.clone();return Ou.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),U_=q("_ZodString",(e,t)=>{sy.init(e,t),bt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(YY(...s)),e.includes=(...s)=>e.check(WY(...s)),e.startsWith=(...s)=>e.check(QY(...s)),e.endsWith=(...s)=>e.check(JY(...s)),e.min=(...s)=>e.check(Kd(...s)),e.max=(...s)=>e.check(I_(...s)),e.length=(...s)=>e.check(H_(...s)),e.nonempty=(...s)=>e.check(Kd(1,...s)),e.lowercase=s=>e.check(XY(s)),e.uppercase=s=>e.check(KY(s)),e.trim=()=>e.check(tX()),e.normalize=(...s)=>e.check(eX(...s)),e.toLowerCase=()=>e.check(nX()),e.toUpperCase=()=>e.check(sX())}),vX=q("ZodString",(e,t)=>{sy.init(e,t),U_.init(e,t),e.email=n=>e.check(yY(bX,n)),e.url=n=>e.check(jY(wX,n)),e.jwt=n=>e.check(OY($X,n)),e.emoji=n=>e.check(SY(NX,n)),e.guid=n=>e.check(Iw(Vw,n)),e.uuid=n=>e.check(vY(Bu,n)),e.uuidv4=n=>e.check(bY(Bu,n)),e.uuidv6=n=>e.check(wY(Bu,n)),e.uuidv7=n=>e.check(NY(Bu,n)),e.nanoid=n=>e.check(CY(jX,n)),e.guid=n=>e.check(Iw(Vw,n)),e.cuid=n=>e.check(kY(SX,n)),e.cuid2=n=>e.check(EY(CX,n)),e.ulid=n=>e.check(_Y(kX,n)),e.base64=n=>e.check(LY(DX,n)),e.base64url=n=>e.check($Y(zX,n)),e.xid=n=>e.check(AY(EX,n)),e.ksuid=n=>e.check(TY(_X,n)),e.ipv4=n=>e.check(MY(AX,n)),e.ipv6=n=>e.check(RY(TX,n)),e.cidrv4=n=>e.check(DY(MX,n)),e.cidrv6=n=>e.check(zY(RX,n)),e.e164=n=>e.check(PY(LX,n)),e.datetime=n=>e.check(iX(n)),e.date=n=>e.check(cX(n)),e.time=n=>e.check(dX(n)),e.duration=n=>e.check(mX(n))});function Yt(e){return xY(vX,e)}const rt=q("ZodStringFormat",(e,t)=>{Je.init(e,t),U_.init(e,t)}),bX=q("ZodEmail",(e,t)=>{EZ.init(e,t),rt.init(e,t)}),Vw=q("ZodGUID",(e,t)=>{CZ.init(e,t),rt.init(e,t)}),Bu=q("ZodUUID",(e,t)=>{kZ.init(e,t),rt.init(e,t)}),wX=q("ZodURL",(e,t)=>{_Z.init(e,t),rt.init(e,t)}),NX=q("ZodEmoji",(e,t)=>{AZ.init(e,t),rt.init(e,t)}),jX=q("ZodNanoID",(e,t)=>{TZ.init(e,t),rt.init(e,t)}),SX=q("ZodCUID",(e,t)=>{MZ.init(e,t),rt.init(e,t)}),CX=q("ZodCUID2",(e,t)=>{RZ.init(e,t),rt.init(e,t)}),kX=q("ZodULID",(e,t)=>{DZ.init(e,t),rt.init(e,t)}),EX=q("ZodXID",(e,t)=>{zZ.init(e,t),rt.init(e,t)}),_X=q("ZodKSUID",(e,t)=>{LZ.init(e,t),rt.init(e,t)}),AX=q("ZodIPv4",(e,t)=>{IZ.init(e,t),rt.init(e,t)}),TX=q("ZodIPv6",(e,t)=>{HZ.init(e,t),rt.init(e,t)}),MX=q("ZodCIDRv4",(e,t)=>{UZ.init(e,t),rt.init(e,t)}),RX=q("ZodCIDRv6",(e,t)=>{FZ.init(e,t),rt.init(e,t)}),DX=q("ZodBase64",(e,t)=>{VZ.init(e,t),rt.init(e,t)}),zX=q("ZodBase64URL",(e,t)=>{GZ.init(e,t),rt.init(e,t)}),LX=q("ZodE164",(e,t)=>{ZZ.init(e,t),rt.init(e,t)}),$X=q("ZodJWT",(e,t)=>{XZ.init(e,t),rt.init(e,t)}),F_=q("ZodNumber",(e,t)=>{B_.init(e,t),bt.init(e,t),e.gt=(s,r)=>e.check(Uw(s,r)),e.gte=(s,r)=>e.check(Ch(s,r)),e.min=(s,r)=>e.check(Ch(s,r)),e.lt=(s,r)=>e.check(Hw(s,r)),e.lte=(s,r)=>e.check(Sh(s,r)),e.max=(s,r)=>e.check(Sh(s,r)),e.int=s=>e.check(qw(s)),e.safe=s=>e.check(qw(s)),e.positive=s=>e.check(Uw(0,s)),e.nonnegative=s=>e.check(Ch(0,s)),e.negative=s=>e.check(Hw(0,s)),e.nonpositive=s=>e.check(Sh(0,s)),e.multipleOf=(s,r)=>e.check(Fw(s,r)),e.step=(s,r)=>e.check(Fw(s,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function $a(e){return FY(F_,e)}const PX=q("ZodNumberFormat",(e,t)=>{KZ.init(e,t),F_.init(e,t)});function qw(e){return VY(PX,e)}const OX=q("ZodBoolean",(e,t)=>{WZ.init(e,t),bt.init(e,t)});function BX(e){return qY(OX,e)}const IX=q("ZodUnknown",(e,t)=>{QZ.init(e,t),bt.init(e,t)});function Gw(){return GY(IX)}const HX=q("ZodNever",(e,t)=>{JZ.init(e,t),bt.init(e,t)});function UX(e){return ZY(HX,e)}const FX=q("ZodArray",(e,t)=>{eY.init(e,t),bt.init(e,t),e.element=t.element,e.min=(n,s)=>e.check(Kd(n,s)),e.nonempty=n=>e.check(Kd(1,n)),e.max=(n,s)=>e.check(I_(n,s)),e.length=(n,s)=>e.check(H_(n,s)),e.unwrap=()=>e.element});function Qa(e,t){return rX(FX,e,t)}const VX=q("ZodObject",(e,t)=>{tY.init(e,t),bt.init(e,t),Ye(e,"shape",()=>t.shape),e.keyof=()=>XX(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Gw()}),e.loose=()=>e.clone({...e._zod.def,catchall:Gw()}),e.strict=()=>e.clone({...e._zod.def,catchall:UX()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>_G(e,n),e.merge=n=>AG(e,n),e.pick=n=>kG(e,n),e.omit=n=>EG(e,n),e.partial=(...n)=>TG(V_,e,n[0]),e.required=(...n)=>MG(q_,e,n[0])});function Cr(e,t){const n={type:"object",get shape(){return ey(this,"shape",{...e}),this.shape},...ue(t)};return new VX(n)}const qX=q("ZodUnion",(e,t)=>{nY.init(e,t),bt.init(e,t),e.options=t.options});function GX(e,t){return new qX({type:"union",options:e,...ue(t)})}const ZX=q("ZodIntersection",(e,t)=>{sY.init(e,t),bt.init(e,t)});function YX(e,t){return new ZX({type:"intersection",left:e,right:t})}const ip=q("ZodEnum",(e,t)=>{rY.init(e,t),bt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,r)=>{const a={};for(const i of s)if(n.has(i))a[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new ip({...t,checks:[],...ue(r),entries:a})},e.exclude=(s,r)=>{const a={...t.entries};for(const i of s)if(n.has(i))delete a[i];else throw new Error(`Key ${i} not found in enum`);return new ip({...t,checks:[],...ue(r),entries:a})}});function XX(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new ip({type:"enum",entries:n,...ue(t)})}const KX=q("ZodTransform",(e,t)=>{aY.init(e,t),bt.init(e,t),e._zod.parse=(n,s)=>{n.addIssue=a=>{if(typeof a=="string")n.issues.push(xc(a,n.value,t));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!0),n.issues.push(xc(i))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(a=>(n.value=a,n)):(n.value=r,n)}});function WX(e){return new KX({type:"transform",transform:e})}const V_=q("ZodOptional",(e,t)=>{oY.init(e,t),bt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Zw(e){return new V_({type:"optional",innerType:e})}const QX=q("ZodNullable",(e,t)=>{iY.init(e,t),bt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Yw(e){return new QX({type:"nullable",innerType:e})}const JX=q("ZodDefault",(e,t)=>{lY.init(e,t),bt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function eK(e,t){return new JX({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const tK=q("ZodPrefault",(e,t)=>{cY.init(e,t),bt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nK(e,t){return new tK({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const q_=q("ZodNonOptional",(e,t)=>{uY.init(e,t),bt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sK(e,t){return new q_({type:"nonoptional",innerType:e,...ue(t)})}const rK=q("ZodCatch",(e,t)=>{dY.init(e,t),bt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function aK(e,t){return new rK({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const oK=q("ZodPipe",(e,t)=>{fY.init(e,t),bt.init(e,t),e.in=t.in,e.out=t.out});function Xw(e,t){return new oK({type:"pipe",in:e,out:t})}const iK=q("ZodReadonly",(e,t)=>{mY.init(e,t),bt.init(e,t)});function lK(e){return new iK({type:"readonly",innerType:e})}const cK=q("ZodCustom",(e,t)=>{hY.init(e,t),bt.init(e,t)});function uK(e){const t=new cn({check:"custom"});return t._zod.check=e,t}function dK(e,t={}){return aX(cK,e,t)}function fK(e){const t=uK(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(xc(s,n.value,t._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(xc(r))}},e(n.value,n)));return t}const mK=Cr({type:Yt(),id:Yt()}),hK=Cr({skill:Yt(),level:$a()}),gK=Cr({skillLevel:hK.optional(),items:Qa(mK).optional()}),pK=Cr({base:Yt(),subtext:Yt()}),xK=Cr({rank:$a(),edid:Yt(),name:Yt(),description:pK,prerequisites:gK}),yK=Cr({x:$a(),y:$a(),horizontal:$a(),vertical:$a()}),vK=Cr({parents:Qa(Yt()),children:Qa(Yt())}),bK=Cr({edid:Yt(),name:Yt(),ranks:Qa(xK),totalRanks:$a(),connections:vK,isRoot:BX(),position:yK}),wK=Cr({treeId:Yt(),treeName:Yt(),treeDescription:Yt(),category:Yt(),perks:Qa(bK)});Qa(wK);function NK({skills:e,originalSkills:t,selectedSkill:n,onSkillSelect:s,className:r}){const[a,i]=g.useState(new Set),l=u=>{i(d=>{const f=new Set(d);return f.has(u)?f.delete(u):f.add(u),f})},c=u=>{s(u)};return o.jsx("div",{className:`space-y-2 ${r||""}`,children:e.map(u=>{const d=a.has(u.id),f=(n==null?void 0:n.id)===u.id,m=t.find(h=>h.id===u.id);return o.jsx("div",{className:`transition-colors ${f?"ring-2 ring-skyrim-gold bg-skyrim-gold/10":""}`,children:o.jsx(LI,{item:u,originalSkill:m,isExpanded:d,onToggle:()=>l(u.id),onSelect:()=>c(u.id),showScaling:!0,showAbilities:!0,showTags:!0})},u.id)})})}function jK(e){return e.length===0?{minX:0,maxX:0,minY:0,maxY:0}:e.reduce((t,n)=>({minX:Math.min(t.minX,n.x),maxX:Math.max(t.maxX,n.x),minY:Math.min(t.minY,n.y),maxY:Math.max(t.maxY,n.y)}),{minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0})}const SK=(e,t)=>({perkNode:n=>o.jsx(x_,{...n,onTogglePerk:e,onRankChange:t})}),Kw={cellWidth:240,cellHeight:140,nodeWidth:140,nodeHeight:80,gridGap:40,padding:80};function CK(e,t,n){const{x:s,y:r,horizontal:a,vertical:i}=e,l=t.maxX-s+t.minX,c=-a,u=t.maxY-r+t.minY,d=-i,f=(l-t.minX)*n.cellWidth+(l-t.minX)*n.gridGap+n.padding+n.cellWidth/2,m=(u-t.minY)*n.cellHeight+(u-t.minY)*n.gridGap+n.padding+n.cellHeight/2,h=c*(n.cellWidth/2-n.nodeWidth/2),p=d*(n.cellHeight/2-n.nodeHeight/2),y=f+h,v=m+p;return{x:y,y:v,gridX:l,gridY:u,horizontal:c,vertical:d}}function kK(e,t,n,s){const r=e-s.padding,a=t-s.padding,i=Math.floor(r/(s.cellWidth+s.gridGap)),l=Math.floor(a/(s.cellHeight+s.gridGap)),c=i*s.cellWidth+i*s.gridGap+s.padding+s.cellWidth/2,u=l*s.cellHeight+l*s.gridGap+s.padding+s.cellHeight/2,d=e-c,f=t-u,m=s.cellWidth/2-s.nodeWidth/2,h=s.cellHeight/2-s.nodeHeight/2,p=Math.max(-1,Math.min(1,d/m)),y=Math.max(-1,Math.min(1,f/h));return{x:e,y:t,gridX:i,gridY:l,horizontal:p,vertical:y}}function EK({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:s,className:r}){const[a,i]=$.useState(null),[l,c]=g.useState(new Map),[u,d]=g.useState(!1),[f,m]=g.useState(!1),[h,p]=g.useState(null),y=g.useMemo(()=>{if(!e)return null;const z=g_(e);return z.success?z.data:(console.error("Invalid perk tree data:",z.error),null)},[e]);$.useEffect(()=>{if(!y){c(new Map);return}console.log("Loading saved positions for tree:",y.treeId),d(!0),p_(y.treeId).then(z=>{if(console.log("Loaded saved positions:",z?"Found":"Not found"),z){const A=Nw(y.treeId,z);c(A)}else c(new Map)}).catch(z=>{console.warn("Failed to load saved positions:",z),c(new Map)}).finally(()=>{d(!1)})},[y==null?void 0:y.treeId]);const v=g.useMemo(()=>SK(t,n),[t,n]),x=g.useMemo(()=>{if(!y||u)return new Map;const z=new Map,A=y.perks.map(M=>M.position).filter(M=>M!==void 0),D=jK(A);return p(D),y.perks.forEach(M=>{if(M.position){const R=l.get(M.edid);if(R)z.set(M.edid,R);else{const B=CK(M.position,D,Kw);z.set(M.edid,B)}}}),z},[y,l,u]),b=g.useMemo(()=>!y||u?[]:y.perks.map(A=>{var H,I,V,Z;const D=A.edid,M=x.get(D)||{x:0,y:0},R=((I=(H=A.connections)==null?void 0:H.children)==null?void 0:I.length)>0||!1,B=((Z=(V=A.connections)==null?void 0:V.parents)==null?void 0:Z.length)===0||!1;return{id:D,type:"perkNode",position:{x:M.x,y:M.y},draggable:f,data:{...A,selected:!1,hasChildren:R,isRoot:B}}}),[y,x,f,u]),w=g.useMemo(()=>{if(!y)return[];const z=[];return y.perks.forEach(A=>{var M;const D=A.edid;(M=A.connections)!=null&&M.children&&A.connections.children.forEach(R=>{if(R===D)return;y.perks.some(H=>H.edid===R)&&z.push({id:`${D}-${R}`,source:D,target:R,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),z},[y]),[N,j,S]=c_(b),[C,k,E]=u_(w);$.useEffect(()=>{j(b)},[b,j]),$.useEffect(()=>{y&&j(z=>z.map(A=>{const D=s.find(R=>R.edid===A.id),M=D!==void 0;return{...A,draggable:f,data:{...A.data,selected:M,currentRank:(D==null?void 0:D.currentRank)||0}}}))},[s,j,y,f]),$.useEffect(()=>{k(w)},[w,k]),$.useEffect(()=>{y&&N.length>0&&a&&setTimeout(()=>{a.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[y==null?void 0:y.treeId,a]);const _=g.useCallback(z=>k(A=>I0(z,A)),[k]),P=g.useCallback((z,A)=>{if(!f||!h)return;const D=kK(A.position.x,A.position.y,h,Kw),M=new Map(l);M.set(A.id,D),c(M)},[f,l,h]),O=g.useCallback(()=>{if(!y)return;const z=new Map;y.perks.forEach(D=>{const M=l.get(D.edid),R=x.get(D.edid);M?z.set(D.edid,M):R&&z.set(D.edid,R)});const A=zq(y,z);Lq(A)},[y,l,x]),L=g.useCallback(z=>{var M;const A=(M=z.target.files)==null?void 0:M[0];if(!A||!y)return;const D=new FileReader;D.onload=R=>{var B;try{const H=JSON.parse((B=R.target)==null?void 0:B.result);if(H.treeId===y.treeId){const I=Nw(y.treeId,H);c(I)}else alert("Position file does not match current tree!")}catch(H){alert("Error loading position file!"),console.error("Error loading positions:",H)}},D.readAsText(A)},[y]),T=g.useCallback(()=>{m(!f)},[f]);return y?o.jsxs("div",{className:`w-full h-full bg-background rounded-lg border overflow-auto ${r||""}`,children:[o.jsx("div",{className:"p-4 border-b bg-muted/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Experimental AVIF Grid Canvas (Mirrored + Enhanced Spacing)"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Bottom-up tree with left-right mirroring using enhanced grid spacing",l.size>0&&!u&&o.jsx("span",{className:"text-green-600 ml-2",children:" Using saved positions"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[u&&o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 text-xs text-blue-600",children:[o.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"Loading positions..."]}),o.jsx("button",{onClick:T,className:`px-3 py-1 text-xs rounded border ${f?"bg-blue-500 text-white border-blue-500":"bg-background text-foreground border-border hover:bg-muted"}`,children:f?"Exit Edit":"Edit Mode"}),o.jsx("button",{onClick:O,className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted",children:"Save Positions"}),o.jsxs("label",{className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted cursor-pointer",children:["Load Positions",o.jsx("input",{type:"file",accept:".json",onChange:L,className:"hidden"})]})]})]})}),o.jsx("div",{className:"w-full h-full min-h-[400px]",style:{zIndex:Ct.CONTENT},children:o.jsxs(G0,{nodes:N,edges:C,onNodesChange:S,onEdgesChange:E,onConnect:_,onInit:i,onNodeDragStop:P,nodeTypes:v,nodesDraggable:f,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},style:{backgroundColor:"hsl(var(--background))"},children:[o.jsx(h_,{color:"hsl(var(--muted-foreground))",gap:20,size:1,style:{backgroundColor:"hsl(var(--background))"}}),o.jsx(f_,{})]})})]}):o.jsx("div",{className:`flex items-center justify-center p-8 text-muted-foreground ${r||""}`,children:o.jsx("p",{children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function _K(e){return{id:e.id,name:e.name,description:e.description,category:e.category,tags:[...e.metaTags,e.category.toLowerCase()],effects:[...e.keyAbilities.map(t=>({type:"positive",name:"Key Ability",description:t,target:"ability"}))],summary:e.description.length>100?`${e.description.substring(0,100)}...`:e.description,associatedItems:[],imageUrl:void 0}}function Ww(e){return e.map(_K)}function AK(){const{skills:e,selectedSkill:t,perkTree:n,selectedPerks:s,perkRanks:r,availablePerks:a,onSkillSelect:i,onPerkSelect:l,onPerkRankChange:c,isLoading:u,error:d}=b_(),f=g.useMemo(()=>Ww(e),[e]);return u?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading skills..."})}):d?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("p",{className:"text-destructive",children:["Error loading skills: ",d]})}):o.jsx("div",{className:"container mx-auto p-6 space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Skills - Experimental AVIF Grid"}),o.jsx("p",{className:"text-muted-foreground",children:"Experimental perk tree visualization using AVIF coordinate system"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Skills"}),o.jsx(NK,{skills:f,originalSkills:e,selectedSkill:t?Ww([t])[0]:void 0,onSkillSelect:i})]})})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-3",children:t?`${t.name} Perk Tree`:"Perk Tree"}),o.jsx("div",{className:"bg-background border rounded-lg h-[600px]",children:o.jsx(EK,{tree:n,selectedPerks:s,perkRanks:r,availablePerks:a,onPerkSelect:l,onPerkRankChange:c,className:"h-full"})})]}),t&&n&&o.jsxs("div",{className:"bg-muted/20 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium mb-2",children:"Debug Information"}),o.jsxs("div",{className:"text-xs space-y-1 text-muted-foreground",children:[o.jsxs("p",{children:["Selected Skill: ",t.name]}),o.jsxs("p",{children:["Perk Tree: ",n.treeName]}),o.jsxs("p",{children:["Total Perks: ",n.perks.length]}),o.jsxs("p",{children:["Selected Perks: ",s.length]}),o.jsxs("p",{children:["Available Perks: ",a.length]}),n.perks.length>0&&n.perks[0].position&&o.jsxs("p",{children:["Sample Position: X=",n.perks[0].position.x,", Y=",n.perks[0].position.y,", H=",n.perks[0].position.horizontal,", V=",n.perks[0].position.vertical]})]})]})]})})]})]})})}function TK(e={}){const{autoLoad:t=!0,refreshOnMount:n=!1}=e,{data:s,loading:r,error:a,load:i}=Io(),l=g.useCallback(async()=>{t&&s.length===0&&await i()},[t,s.length,i]),c=g.useCallback(async()=>{await i()},[i]),u=g.useCallback(()=>{},[]);g.useEffect(()=>{t&&s.length===0&&l()},[t,s.length,l]),g.useEffect(()=>{n&&c()},[n,c]);const d=s.length,f=[...new Set(s.map(b=>b.school).filter(Boolean))],m=[...new Set(s.map(b=>b.level).filter(Boolean))],h=new Date().toISOString(),p=s.length>0?{spells:s,totalCount:d,schools:f,levels:m,lastUpdated:h}:null,y=g.useCallback(b=>Io.getState().getByEditorId(b),[]),v=g.useCallback(b=>Io.getState().getBySchool(b),[]),x=g.useCallback(b=>Io.getState().getByLevel(b),[]);return{spells:s,spellData:p,loading:r,error:a,totalCount:d,schools:f,levels:m,lastUpdated:h,loadSpells:l,refresh:c,clearError:u,getSpellByEditorId:y,getSpellsBySchool:v,getSpellsByLevel:x}}function MK(){const[e,t]=g.useState(null),[n,s]=g.useState("grid");return{selectedSpell:e,viewMode:n,setSelectedSpell:t,setViewMode:s}}const RK={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};function DK({spells:e,variant:t="default",showEffects:n=!0,showTags:s=!0,columns:r=3,className:a="",expandedCards:i=new Set,onToggleExpansion:l}){return e.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):o.jsx("div",{className:`grid gap-4 ${RK[r]} ${a}`,children:e.map((c,u)=>o.jsx(N0,{spell:c,isExpanded:i.has(`${c.name}-${c.editorId}-${u}`),onToggle:()=>l==null?void 0:l(`${c.name}-${c.editorId}-${u}`)},`${c.name}-${c.editorId}-${u}`))})}function zK({spells:e,variant:t="default",showEffects:n=!0,showTags:s=!0,className:r="",expandedCards:a=new Set,onToggleExpansion:i}){return e.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):o.jsx("div",{className:`space-y-4 ${r}`,children:e.map((l,c)=>o.jsx(N0,{spell:l,isExpanded:a.has(`${l.name}-${l.editorId}-${c}`),onToggle:()=>i==null?void 0:i(`${l.name}-${l.editorId}-${c}`)},`${l.name}-${l.editorId}-${c}`))})}const Qw={Novice:1,Apprentice:2,Adept:3,Expert:4,Master:5};function LK(){const{spells:e,loading:t,error:n}=TK(),{viewMode:s,setViewMode:r}=MK(),a=Array.isArray(e)?e:[],[i,l]=g.useState(new Set),[c,u]=g.useState("alphabetical"),d=w=>{l(N=>{const j=new Set(N);return j.has(w)?j.delete(w):j.add(w),j})},f=g.useMemo(()=>{if(console.log("Generating search categories directly:",{safeSpellsLength:a.length,firstSpell:a[0]}),a.length===0)return[];const w=[...new Set(a.map(j=>j.school))],N=[...new Set(a.map(j=>j.level))];return console.log("Extracted categories:",{schools:w,levels:N}),[{id:"keywords",name:"Fuzzy Search",placeholder:"Search spells by name, school, level, or effects...",options:[]},{id:"schools",name:"Magic Schools",placeholder:"Filter by school...",options:w.map(j=>({id:`school-${j}`,label:j,value:j,category:"Magic Schools",description:`${j} spells`}))},{id:"levels",name:"Spell Levels",placeholder:"Filter by level...",options:N.map(j=>({id:`level-${j}`,label:j,value:j,category:"Spell Levels",description:`${j} spells`}))}]},[a]);g.useEffect(()=>{console.log("SpellPageView Debug:",{spellsLength:(e==null?void 0:e.length)||0,safeSpellsLength:a.length,loading:t,error:n,searchCategoriesLength:(f==null?void 0:f.length)||0,searchCategories:f})},[e,a,t,n,f]);const[m,h]=g.useState([]),p=w=>{let N;typeof w=="string"?N={id:`custom-${w}`,label:w,value:w,category:"Fuzzy Search"}:N={id:`${w.category}-${w.id}`,label:w.label,value:w.value,category:w.category},m.some(j=>j.value===N.value&&j.category===N.category)||h(j=>[...j,N])},y=w=>{h(N=>N.filter(j=>j.id!==w))},v=()=>{h([])},x=a.filter(w=>m.length===0?!0:m.every(N=>{switch(N.category){case"Magic Schools":return w.school===N.value;case"Spell Levels":return w.level===N.value;case"Fuzzy Search":const j=N.value.toLowerCase();return w.name.toLowerCase().includes(j)||w.school.toLowerCase().includes(j)||w.level.toLowerCase().includes(j)||w.effects.some(S=>S.name.toLowerCase().includes(j));default:return!0}})),b=g.useMemo(()=>[...x].sort((w,N)=>{switch(c){case"alphabetical":return w.name.localeCompare(N.name);case"school":const j=w.school.localeCompare(N.school);return j!==0?j:w.name.localeCompare(N.name);case"level":const S=Qw[w.level]||0,C=Qw[N.level]||0;return S!==C?S-C:w.name.localeCompare(N.name);default:return 0}}),[x,c]);return t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading spells..."})]})}):n?o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("p",{className:"text-destructive mb-4",children:["Error loading spells: ",n]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:["Debug: ",a.length," spells, ",f.length," search categories",f.length>0&&o.jsxs("div",{className:"mt-1",children:["Categories: ",f.map(w=>`${w.name}(${w.options.length})`).join(", ")]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-1",children:f.length>0?o.jsx(ga,{categories:f,onSelect:p,onCustomSearch:p}):o.jsxs("div",{className:"p-4 border border-dashed border-muted-foreground/20 rounded-lg text-center text-muted-foreground",children:["No search categories available. Spells loaded: ",a.length]})}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:c,onChange:w=>u(w.target.value),className:"appearance-none bg-background border border-border rounded-lg px-3 py-1.5 pr-8 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent cursor-pointer",children:[o.jsx("option",{value:"alphabetical",children:"Sort: A-Z"}),o.jsx("option",{value:"school",children:"Sort: School"}),o.jsx("option",{value:"level",children:"Sort: Level"})]}),o.jsx(In,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]}),o.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[o.jsx("button",{onClick:()=>r("grid"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${s==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"Grid view",children:"Grid"}),o.jsx("button",{onClick:()=>r("list"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${s==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"List view",children:"List"})]})]}),m.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsxs("button",{onClick:v,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[o.jsx("span",{className:"text-lg",children:""}),"Clear All"]}),m.map(w=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>y(w.id),title:"Click to remove",children:[w.label,o.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},w.id))]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[b.length," of ",a.length," spells"]}),o.jsx("div",{children:b.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground",children:"No spells found matching your criteria."}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}):o.jsxs(o.Fragment,{children:[s==="grid"&&o.jsx(DK,{spells:b,variant:"default",columns:3,expandedCards:i,onToggleExpansion:d}),s==="list"&&o.jsx(zK,{spells:b,variant:"default",expandedCards:i,onToggleExpansion:d})]})})]})}function $K(){return o.jsx(Rs,{title:"Spell Reference",description:"Browse and search all available spells. Find the perfect magic for your character build.",children:o.jsx(LK,{})})}function G_(e,t){const n=g.useMemo(()=>e.map(l=>{var c;return{id:l.id||l.name,name:l.name,description:l.description||"",category:l.category||"",effects:((c=l.effects)==null?void 0:c.map(u=>`${u.type} ${u.description||""} ${u.value}`))||[],tags:l.tags||[],originalTrait:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Zt(n,s),[n,s]),a=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredTraits:g.useMemo(()=>a.map(l=>l.item.originalTrait),[a]),searchResults:a,searchableTraits:n}}function Z_(e){const t=e.map(n=>n.category).filter(Boolean);return[...new Set(t)].sort()}function PK(e){const t=e.flatMap(n=>{var s;return((s=n.effects)==null?void 0:s.map(r=>r.type))||[]});return[...new Set(t)].sort()}function Y_(e){const t=e.flatMap(n=>n.tags||[]);return[...new Set(t)].sort()}function OK(){const[e,t]=g.useState({search:"",category:"",tags:[]}),{data:n,loading:s,error:r}=ho(),a=g.useMemo(()=>n.filter(u=>{var d;if(e.search){const f=e.search.toLowerCase();if(![u.name,u.description,u.category,...u.tags||[],...((d=u.effects)==null?void 0:d.map(h=>h.type))||[]].join(" ").toLowerCase().includes(f))return!1}return!(e.category&&u.category!==e.category||e.tags.length>0&&!e.tags.some(m=>{var h,p;return((h=u.tags)==null?void 0:h.includes(m))||u.category===m||((p=u.effects)==null?void 0:p.some(y=>y.type===m))}))}),[n,e]),i=g.useMemo(()=>Z_(n),[n]),l=g.useMemo(()=>PK(n),[n]),c=g.useMemo(()=>Y_(n),[n]);return{traits:a,allTraits:n,loading:s,error:r,filters:e,setFilters:t,allCategories:i,allEffectTypes:l,allTags:c}}function BK(){const{data:e,loading:t,error:n,reload:s}=K6(),r=e||[],[a,i]=g.useState([]),[l,c]=g.useState("alphabetical"),[u,d]=g.useState("grid"),[f,m]=g.useState(new Set);g.useMemo(()=>r.map(fb),[r]);const p=(()=>{const k=Z_(r),E=Y_(r);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:k.map(_=>({id:`category-${_}`,label:_,value:_,category:"Categories",description:`Traits in ${_} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:E.map(_=>({id:`tag-${_}`,label:_,value:_,category:"Tags",description:`Traits tagged with ${_}`}))}]})(),y=k=>{let E;typeof k=="string"?E={id:`custom-${k}`,label:k,value:k,category:"Fuzzy Search"}:E={id:`${k.category}-${k.id}`,label:k.label,value:k.value,category:k.category},a.some(_=>_.value===E.value&&_.category===E.category)||i(_=>[..._,E])},v=k=>{i(E=>E.filter(_=>_.id!==k))},x=r.filter(k=>a.length===0?!0:a.every(E=>{var _;switch(E.category){case"Fuzzy Search":return!0;case"Categories":return k.category===E.value;case"Tags":return((_=k.tags)==null?void 0:_.some(P=>P===E.value))||!1;default:return!0}})),b=a.filter(k=>k.category==="Fuzzy Search").map(k=>k.value).join(" "),{filteredTraits:w}=G_(x,b),N=w.map(fb),j=r.map(k=>k.id||k.name),S=[...N].sort((k,E)=>{var _,P;switch(l){case"alphabetical":return k.name.localeCompare(E.name);case"category":const O=D=>{switch(D){case"Combat":return 1;case"Magic":return 2;case"Stealth":return 3;case"Social":return 4;case"Survival":return 5;default:return 6}},L=O(k.category),T=O(E.category);return L!==T?L-T:k.name.localeCompare(E.name);case"effect-count":const z=((_=k.effects)==null?void 0:_.length)||0,A=((P=E.effects)==null?void 0:P.length)||0;return z!==A?A-z:k.name.localeCompare(E.name);default:return 0}}),C=k=>{const E=new Set(f);if(u==="grid"){const P=S.findIndex(A=>A.id===k),L=Math.floor(P/3)*3,T=Math.min(L+3,S.length);S.slice(L,T).some(A=>E.has(A.id))?S.slice(L,T).forEach(A=>{E.delete(A.id)}):S.slice(L,T).forEach(A=>{E.add(A.id)})}else E.has(k)?E.delete(k):E.add(k);m(E)};return t?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-destructive mb-4",children:n}),o.jsx("button",{onClick:()=>s(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):o.jsxs(Rs,{title:"Traits",description:"Choose your character's traits. Traits provide unique abilities and modifiers that will shape your character's capabilities throughout their journey.",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ga,{categories:p,onSelect:y,onCustomSearch:y})}),o.jsxs(t0,{children:[o.jsx(n0,{asChild:!0,children:o.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[o.jsx(In,{className:"h-4 w-4"}),l==="alphabetical"?"A-Z":l==="category"?"Category":"Count"]})}),o.jsxs(Gf,{align:"end",children:[o.jsx(ur,{onClick:()=>c("alphabetical"),children:"Alphabetical"}),o.jsx(ur,{onClick:()=>c("category"),children:"Category"}),o.jsx(ur,{onClick:()=>c("effect-count"),children:"Effect Count"})]})]}),o.jsxs("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg",children:[o.jsx(W,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:o.jsx(ha,{className:"h-4 w-4"})}),o.jsx(W,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:o.jsx(ro,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"my-4",children:a.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[o.jsx(Ft,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),a.map(k=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>v(k.id),title:"Click to remove",children:[k.label,o.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},k.id))]})}),u==="grid"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:S.map(k=>{const E=f.has(k.id);return o.jsx(Rb,{item:k,isExpanded:E,onToggle:()=>C(k.id),className:"w-full",allTraitIds:j},k.id)})}):o.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:S.map(k=>{const E=f.has(k.id);return o.jsx(Rb,{item:k,isExpanded:E,onToggle:()=>C(k.id),className:"w-full",allTraitIds:j},k.id)})}),S.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function IK(){const{data:e,loading:t,error:n}=TC();return{religions:e||[],loading:t,error:n}}function HK(e){var t,n,s,r;return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,type:e.type,description:((t=e.tenet)==null?void 0:t.description)||"",tenetDescription:((n=e.tenet)==null?void 0:n.description)||"",followerPower:((s=e.boon1)==null?void 0:s.spellName)||"",devoteePower:((r=e.boon2)==null?void 0:r.spellName)||"",favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[],originalReligion:e}}function UK(e){return e.map(HK)}function FK(e,t){return e.find(n=>n.name.toLowerCase().replace(/\s+/g,"-")===t)}function VK(e,t){const n=g.useMemo(()=>e.map(l=>{var c,u,d,f,m,h,p,y,v;return{id:l.name.toLowerCase().replace(/\s+/g,"-"),name:l.name,description:((c=l.tenet)==null?void 0:c.description)||"",type:l.type,favoredRaces:l.favoredRaces||[],tenetEffects:((d=(u=l.tenet)==null?void 0:u.effects)==null?void 0:d.map(x=>`${x.effectName} ${x.effectDescription}`))||[],blessingEffects:((m=(f=l.blessing)==null?void 0:f.effects)==null?void 0:m.map(x=>`${x.effectName} ${x.effectDescription}`))||[],followerPowers:((p=(h=l.boon1)==null?void 0:h.effects)==null?void 0:p.map(x=>`${x.effectName} ${x.effectDescription}`))||[],devoteePowers:((v=(y=l.boon2)==null?void 0:y.effects)==null?void 0:v.map(x=>`${x.effectName} ${x.effectDescription}`))||[],originalReligion:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},{name:"favoredRaces",weight:.1},{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Zt(n,s),[n,s]),a=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredReligions:g.useMemo(()=>a.map(l=>l.item.originalReligion),[a]),searchResults:a,searchableReligions:n}}function Jw({religions:e,selectedDeityId:t,onDeitySelect:n,placeholder:s="Search for a deity to follow...",className:r,disabled:a=!1}){const[i,l]=g.useState(""),{filteredReligions:c}=VK(e,i),u=g.useMemo(()=>UK(c),[c]),d=p=>{const y={Divine:"bg-blue-100 text-blue-800 border-blue-200","Daedric Prince":"bg-red-100 text-red-800 border-red-200",Tribunal:"bg-purple-100 text-purple-800 border-purple-200",Ancestor:"bg-green-100 text-green-800 border-green-200","Nordic Deity":"bg-orange-100 text-orange-800 border-orange-200","Yokudan Deity":"bg-yellow-100 text-yellow-800 border-yellow-200","Khajiiti Deity":"bg-indigo-100 text-indigo-800 border-indigo-200",Deity:"bg-gray-100 text-gray-800 border-gray-200"};return o.jsx(K,{variant:"outline",className:U("text-xs font-medium",y[p]||y.Deity),children:p})},f=g.useMemo(()=>u.map(p=>({id:p.id,label:p.name,description:p.tenetDescription,category:p.type,badge:d(p.type),metadata:{originalReligion:p.originalReligion,favoredRaces:p.favoredRaces}})),[u]),m=p=>{n(p.id)},h=(p,y)=>{var v;return o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium",children:p.label}),p.badge]}),p.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-1",children:p.description}),((v=p.metadata)==null?void 0:v.favoredRaces)&&p.metadata.favoredRaces.length>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pt,{className:"h-3 w-3 text-skyrim-gold"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Favors: ",p.metadata.favoredRaces.join(", ")]})]})]})})};return o.jsx(Hc,{options:f,onSelect:m,placeholder:s,className:r,disabled:a,renderOption:h,emptyMessage:"No deity found.",searchQuery:i,onSearchQueryChange:l})}function qK({className:e}){const{religions:t,loading:n,error:s}=IK(),{build:r,setReligion:a}=vt(),i=yt(),[l,c]=g.useState(!0),u=r.religion?FK(t,r.religion):null,d=()=>{i("/build/religions")},f=()=>{c(!l)};if(n)return o.jsx($n,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:o.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading religions..."})});if(s)return o.jsx($n,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:o.jsxs("div",{className:"text-sm text-destructive",children:["Error loading religions: ",s]})});if(!u)return o.jsxs($n,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's religion"}),o.jsx(Jw,{religions:t,selectedDeityId:r.religion,onDeitySelect:a,placeholder:"Search for a religion...",className:"w-full"})]});const m=$g(u);return o.jsxs($n,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[o.jsx(Jw,{religions:t,selectedDeityId:r.religion,onDeitySelect:a,placeholder:`Religion: Select a religion (${u.name})`,className:"w-full"}),o.jsx(Bd,{item:m,originalReligion:u,isExpanded:l,onToggle:f,className:"border-0 shadow-none",disableHover:!0,showToggle:!1,showBlessings:!1,showTenets:!0,showBoons:!0,showFavoredRaces:!0})]})}function kh({traits:e,onSelect:t,placeholder:n="Search traits...",className:s="",disabled:r=!1}){const[a,i]=g.useState(""),{filteredTraits:l}=G_(e,a),c=g.useMemo(()=>l.map(f=>({id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&o.jsx(K,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalTrait:f,effectsCount:f.effects.length}})),[l]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h;return o.jsx("div",{className:"flex items-start gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:f.label}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&o.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.effectsCount)&&f.metadata.effectsCount>0&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.effectsCount," effect",f.metadata.effectsCount!==1?"s":""]})]}),f.description&&o.jsx(Pa,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})};return o.jsx(Hc,{options:c,onSelect:u,placeholder:n,className:s,disabled:r,renderOption:d,emptyMessage:"No traits found",searchQuery:a,onSearchQueryChange:i})}function GK({className:e}){const{allTraits:t}=OK(),{build:n,addTraitToSlot:s,removeTrait:r,getRegularTraitLimit:a,getBonusTraitLimit:i}=vt(),l=yt();a(),i();const c=n.traits.regular.map(p=>t.find(y=>y.edid===p)).filter(Boolean),u=n.traits.bonus.map(p=>t.find(y=>y.edid===p)).filter(Boolean),d=(p,y)=>{s(p.edid,y)},f=p=>{r(p)},m=()=>{l("/traits")},h=t.filter(p=>!n.traits.regular.includes(p.edid)&&!n.traits.bonus.includes(p.edid));return o.jsx($n,{title:"Traits",navigateTo:"traits",onNavigate:m,className:e,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(K,{variant:"outline",className:"text-xs",children:"Slot 1"}),c[0]&&o.jsx(K,{variant:"default",className:"text-xs",children:"Starting"})]}),c[0]?o.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm",children:c[0].name}),o.jsx(Pa,{text:c[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>f(c[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:o.jsx(Ft,{className:"h-3 w-3"})})]}):o.jsx(kh,{traits:h,onSelect:p=>d(p,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(K,{variant:"outline",className:"text-xs",children:"Slot 2"}),c[1]&&o.jsx(K,{variant:"default",className:"text-xs",children:"Starting"})]}),c[1]?o.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm",children:c[1].name}),o.jsx(Pa,{text:c[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>f(c[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:o.jsx(Ft,{className:"h-3 w-3"})})]}):o.jsx(kh,{traits:h,onSelect:p=>d(p,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(K,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&o.jsx(K,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?o.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm",children:u[0].name}),o.jsx(Pa,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>f(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:o.jsx(Ft,{className:"h-3 w-3"})})]}):o.jsx(kh,{traits:h,onSelect:p=>d(p,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}function ZK({name:e,notes:t,onNameChange:n,onNotesChange:s,className:r}){return o.jsxs(Ne,{className:`mb-6 ${r||""}`,children:[o.jsx(Le,{children:o.jsx(Ge,{children:"Basic Information"})}),o.jsxs(je,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(tr,{htmlFor:"name",children:"Character Name"}),o.jsx(ws,{id:"name",value:e,onChange:a=>n(a.target.value),placeholder:"Enter character name..."})]}),o.jsxs("div",{children:[o.jsx(tr,{htmlFor:"notes",children:"Notes"}),o.jsx("textarea",{id:"notes",value:t,onChange:a=>s(a.target.value),placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}function Ja(e){return e?e.replace(/\*\*\*(.*?)\*\*\*/g,"**$1**").replace(/<(\d+)>/g,"Level $1").replace(/\n+/g," ").trim():""}function yo(e,t,n){try{return e()}catch(s){return console.warn(`Failed to resolve ${n}:`,s),t}}function YK(e){return e?yo(()=>{const t=ua.getState().data;if(t.length===0)throw new Error("Races data not loaded yet. Please wait a moment and try again.");let n=t.find(s=>s.edid===e);return n||(n=t.find(s=>s.name.toLowerCase()===e.toLowerCase())),n||(n=t.find(s=>s.id===e)),n?{name:n.name,effects:n.description?Ja(n.description):void 0}:(console.warn(`Race not found for ID: ${e}. Available races: ${t.map(s=>s.edid).join(", ")}`),{name:"Unknown Race"})},{name:"Unknown Race"},"race"):{name:"Not selected"}}function XK(e){return e?yo(()=>{const t=fo.getState().data;if(t.length===0)throw new Error("Birthsigns data not loaded yet. Please wait a moment and try again.");const n=t.find(s=>s.edid===e);return n?{name:n.name,effects:Ja(n.description||"No effects")}:{name:"Unknown Birth Sign",effects:"No effects"}},{name:"Unknown Birth Sign",effects:"No effects"},"birth sign"):{name:"Not selected",effects:"No effects"}}function KK(e,t){return yo(()=>{const n=ho.getState().data;if(n.length===0)throw new Error("Traits data not loaded yet. Please wait a moment and try again.");const s=[];return e.forEach(r=>{const a=n.find(i=>i.edid===r);a&&s.push({name:a.name,effects:Ja(a.description||"No effects"),type:"regular"})}),t.forEach(r=>{const a=n.find(i=>i.edid===r);a&&s.push({name:a.name,effects:Ja(a.description||"No effects"),type:"bonus"})}),s},[],"traits")}function WK(e){return e?yo(()=>{const t=tl.getState().data;if(t.length===0)throw new Error("Religions data not loaded yet. Please wait a moment and try again.");const n=t.find(s=>s.id===e||s.name===e);return n?{name:n.name,effects:Ja(n.type||"No effects")}:{name:"Unknown Religion",effects:"No effects"}},{name:"Unknown Religion",effects:"No effects"},"religion"):{name:"Not selected",effects:"No effects"}}function QK(e,t,n){return yo(()=>{const s=mo.getState().data;if(s.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");const r=a=>a.map(i=>{const l=s.find(u=>u.edid===i),c=n[i];return{name:(l==null?void 0:l.name)||"Unknown Skill",level:c||void 0}});return{major:r(e),minor:r(t),other:[]}},{major:[],minor:[],other:[]},"skills")}function JK(e,t){return yo(()=>{const n=mo.getState().data,s=oo.getState().data;if(n.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");if(s.length===0)throw new Error("Perk trees data not loaded yet. Please wait a moment and try again.");return Object.entries(e).map(([r,a])=>{const i=n.find(u=>u.edid===r),l=s.find(u=>u.treeId===r),c=a.map(u=>{var h,p,y;let d=l==null?void 0:l.perks.find(v=>v.edid===u);d||(d=l==null?void 0:l.perks.find(v=>v.name.toLowerCase()===u.toLowerCase())),d||console.warn(`Perk lookup fallback for ID: ${u}`);const f=t[u];d||console.warn(`Perk not found for ID: ${u} in skill: ${r}. Available perks: ${l==null?void 0:l.perks.map(v=>v.edid).join(", ")}`);const m=((y=(p=(h=d==null?void 0:d.ranks)==null?void 0:h[0])==null?void 0:p.description)==null?void 0:y.base)||"No effects";return{name:(d==null?void 0:d.name)||"Unknown Perk",effects:Ja(m),rank:f||void 0}});return{skillName:(i==null?void 0:i.name)||"Unknown Skill",perks:c}}).filter(r=>r.perks.length>0)},[],"perks")}function eW(e){return e.length===0?[]:yo(()=>{const t=el.getState().data;if(t.length===0)throw new Error("Destiny nodes data not loaded yet. Please wait a moment and try again.");return e.map(n=>{const s=t.find(r=>r.id===n||r.name===n);return{name:(s==null?void 0:s.name)||"Unknown Destiny",effects:s!=null&&s.description?Ja(s.description):void 0}})},[],"destiny path")}function tW(e){const t=[],n=e.map(s=>s.name.toLowerCase());return n.some(s=>s.includes("one-handed")||s.includes("two-handed"))&&t.push("melee"),n.some(s=>s.includes("archery"))&&t.push("archery"),n.some(s=>s.includes("magic")||s.includes("destruction"))&&t.push("magic"),n.some(s=>s.includes("stealth")||s.includes("sneak"))&&t.push("stealth"),n.some(s=>s.includes("smithing")||s.includes("enchanting"))&&t.push("crafting"),t}function nW(e){const t=[],n=e.map(s=>s.name.toLowerCase());return n.some(s=>s.includes("warrior")||s.includes("combat"))&&t.push("warrior"),n.some(s=>s.includes("mage")||s.includes("magic"))&&t.push("mage"),n.some(s=>s.includes("thief")||s.includes("stealth"))&&t.push("thief"),n.some(s=>s.includes("archer")||s.includes("ranged"))&&t.push("archer"),t}function sW(e,t,n){const s=["lorerim"];if(e.name!=="Not selected"){const l=e.name.toLowerCase().replace(/\s+/g,"");s.push(l)}const r=[...t.major,...t.minor],a=tW(r);s.push(...a);const i=nW(n);return s.push(...i),s.slice(0,5)}function rW(e){const t=YK(e.race),n=XK(e.stone),s=WK(e.religion),r=KK(e.traits.regular,e.traits.bonus),a=QK(e.skills.major,e.skills.minor,e.skillLevels),i=JK(e.perks.selected,e.perks.ranks),l=eW(e.destinyPath),c=sW(t,a,r),u={level:e.attributeAssignments.level||1,health:e.attributeAssignments.health||0,stamina:e.attributeAssignments.stamina||0,magicka:e.attributeAssignments.magicka||0,totalPoints:(e.attributeAssignments.health||0)+(e.attributeAssignments.stamina||0)+(e.attributeAssignments.magicka||0)};return{name:e.name||"Unnamed Character",notes:e.notes||"",race:t,birthSign:n,traits:r,religion:s,skills:a,perks:i,destinyPath:l,tags:c,attributes:u}}function aW(e,t){const n=[];n.push(`** Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__ Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__ Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__ Traits__"),e.traits.forEach(r=>{const a=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${a}**`)}),n.push("")),n.push("__ Religion__"),n.push(`${e.religion.name}`),n.push(""),n.push(`__ Attributes (Level ${e.attributes.level})__`);const s=[];if(e.attributes.health>0&&s.push(`Health: ${e.attributes.health}`),e.attributes.stamina>0&&s.push(`Stamina: ${e.attributes.stamina}`),e.attributes.magicka>0&&s.push(`Magicka: ${e.attributes.magicka}`),s.length>0?n.push(s.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__ Skills__"),e.skills.major.length>0){const r=e.skills.major.map(a=>a.level?`${a.name} (Level ${a.level})`:a.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(a=>a.level?`${a.name} (Level ${a.level})`:a.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(a=>a.level?`${a.name} (Level ${a.level})`:a.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__ Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(a=>{const i=a.rank&&a.rank>1?` (Rank ${a.rank})`:"";n.push(` **${a.name}${i}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__ Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}function oW(e,t){const n=[];n.push(`** Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__ Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__ Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__ Traits__"),e.traits.forEach(r=>{const a=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${a}**`)}),n.push("")),n.push("__ Religion__"),n.push(`${e.religion.name}`),n.push(""),n.push(`__ Attributes (Level ${e.attributes.level})__`);const s=[];if(e.attributes.health>0&&s.push(`Health: ${e.attributes.health}`),e.attributes.stamina>0&&s.push(`Stamina: ${e.attributes.stamina}`),e.attributes.magicka>0&&s.push(`Magicka: ${e.attributes.magicka}`),s.length>0?n.push(s.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__ Skills__"),e.skills.major.length>0){const r=e.skills.major.map(a=>a.level?`${a.name} (Level ${a.level})`:a.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(a=>a.level?`${a.name} (Level ${a.level})`:a.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(a=>a.level?`${a.name} (Level ${a.level})`:a.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__ Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(a=>{const i=a.rank&&a.rank>1?` (Rank ${a.rank})`:"";n.push(` **${a.name}${i}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__ Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}async function iW(e){try{await navigator.clipboard.writeText(e)}catch{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch{throw new Error("Failed to copy to clipboard")}finally{document.body.removeChild(n)}}}function lW({build:e,className:t}){const[n,s]=g.useState(!1),[r,a]=g.useState(null),[i,l]=g.useState(""),[c,u]=g.useState("names"),d=g.useCallback(async f=>{s(!0),a(null),l(""),u(f);try{const m=rW(e),h=window.location.href,p=f==="full"?oW(m,h):aW(m,h);await iW(p),a(f),setTimeout(()=>a(null),2e3)}catch(m){console.error("Discord export failed:",m),l(m instanceof Error?m.message:"Export failed"),setTimeout(()=>l(""),3e3)}finally{s(!1)}},[e]);return o.jsxs("div",{className:U("relative",t),children:[o.jsxs("div",{className:"flex rounded-md border border-input bg-background",children:[o.jsx(W,{variant:n?"ghost":c==="names"?"default":"ghost",size:"sm",onClick:()=>d("names"),disabled:n,className:U("rounded-r-none border-r",c==="names"&&!n&&"bg-primary text-primary-foreground",r==="names"&&"bg-green-600 hover:bg-green-700 text-white",i&&"bg-red-600 hover:bg-red-700 text-white"),title:i||"Export build to Discord format (short form)","aria-label":"Export build to Discord format (short form)",children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),o.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="names"?o.jsxs(o.Fragment,{children:[o.jsx(cg,{className:"w-4 h-4"}),o.jsx("span",{className:"ml-2",children:"Copied!"})]}):i?o.jsxs(o.Fragment,{children:[o.jsx(gi,{className:"w-4 h-4"}),o.jsx("span",{className:"ml-2",children:"Error"})]}):o.jsxs(o.Fragment,{children:[o.jsx(j4,{className:"w-4 h-4"}),o.jsx("span",{className:"ml-2",children:"Export (short form)"})]})}),o.jsx(W,{variant:n?"ghost":c==="full"?"default":"ghost",size:"sm",onClick:()=>d("full"),disabled:n,className:U("rounded-l-none",c==="full"&&!n&&"bg-primary text-primary-foreground",r==="full"&&"bg-green-600 hover:bg-green-700 text-white",i&&"bg-red-600 hover:bg-red-700 text-white"),title:i||"Export build to Discord format (long form)","aria-label":"Export build to Discord format (long form)",children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),o.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="full"?o.jsxs(o.Fragment,{children:[o.jsx(cg,{className:"w-4 h-4"}),o.jsx("span",{className:"ml-2",children:"Copied!"})]}):i?o.jsxs(o.Fragment,{children:[o.jsx(gi,{className:"w-4 h-4"}),o.jsx("span",{className:"ml-2",children:"Error"})]}):o.jsxs(o.Fragment,{children:[o.jsx(RN,{className:"w-4 h-4"}),o.jsx("span",{className:"ml-2",children:"Export (long form)"})]})})]}),i&&o.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-red-100 border border-red-300 rounded text-xs text-red-800 max-w-xs z-50",role:"alert","aria-live":"polite",children:i})]})}function cW({onReset:e,build:t,className:n}){return o.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${n||""}`,children:[o.jsxs(W,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[o.jsx(xi,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),o.jsx(lW,{build:t})]})}function uW({cards:e,className:t="",gap:n=16}){const[s,r]=g.useState(0),a=g.useRef(null);g.useCallback(()=>s<768?1:s<1024?2:s<1280?3:4,[s]),g.useEffect(()=>{const c=()=>{a.current&&r(a.current.offsetWidth)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const i=g.useCallback(()=>{const c=s<768?1:2,u=[];let d=[];return e.forEach((f,m)=>{f.size==="full"?(d.length>0&&(u.push(l(d,c)),d=[]),u.push(o.jsx("div",{style:{width:"100%",marginBottom:`${n}px`},children:f.component},f.id))):d.push(f)}),d.length>0&&u.push(l(d,c)),o.jsx(o.Fragment,{children:u})},[e,s,n]),l=g.useCallback((c,u)=>{var m;const d=Array.from({length:u},()=>[]),f=new Array(u).fill(0);return c.forEach(h=>{let p=0,y=1/0;for(let v=0;v<u;v++)f[v]<y&&(y=f[v],p=v);d[p].push(o.jsx("div",{style:{width:"100%",marginBottom:`${n}px`},children:h.component},h.id)),f[p]+=1}),o.jsx("div",{style:{display:"flex",width:"100%",marginBottom:`${n}px`},children:d.map((h,p)=>o.jsx("div",{style:{width:`calc(${100/u}% - ${n/2}px)`,marginRight:p<u-1?`${n}px`:0},children:h},p))},`group-${(m=c[0])==null?void 0:m.id}`)},[n]);return e.length===0?o.jsx("div",{className:`text-center py-12 ${t}`,children:o.jsx("p",{className:"text-muted-foreground",children:"No build cards to display"})}):o.jsx("div",{ref:a,className:t,children:o.jsx("div",{style:{width:"100%"},children:i()})})}function dW({build:e,title:t="Build Summary",layout:n="grid",className:s}){const r=pB(e);return o.jsx(gB,{title:t,items:r,layout:n,className:s})}function fW({open:e,title:t,message:n,variant:s="warning",confirmText:r,cancelText:a,onConfirm:i,onCancel:l,className:c}){return o.jsx(lB,{open:e,title:t,message:n,variant:s,confirmText:r,cancelText:a,onConfirm:i,onCancel:l,className:c})}function mW({open:e,onConfirm:t,onCancel:n}){return o.jsx(fW,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function hW({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:s,currentRegularCount:r,currentBonusCount:a,className:i}){const l=e!==2||t!==1;return o.jsxs(iB,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:o.jsx(Jl,{className:"h-4 w-4 text-muted-foreground"}),className:i,children:[o.jsx(sb,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(nb,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:r,type:"regular"}),o.jsx(nb,{label:"Late Game Traits Limit",value:t,onChange:s,min:0,max:5,currentCount:a,type:"bonus"})]}),l&&o.jsx(sb,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}function gW(){const{build:e,updateBuild:t}=vt(),[n,s]=g.useState(e.traitLimits.regular),[r,a]=g.useState(e.traitLimits.bonus),i=g.useCallback(c=>{s(c),t({traitLimits:{...e.traitLimits,regular:c}})},[e.traitLimits,t]),l=g.useCallback(c=>{a(c),t({traitLimits:{...e.traitLimits,bonus:c}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:r,handleRegularLimitChange:i,handleBonusLimitChange:l,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}const pW={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500"},xW={sm:"h-1.5",md:"h-2",lg:"h-3"};function Eh({value:e,label:t,color:n="blue",size:s="md",showValue:r=!0,className:a,maxValue:i}){const l=i?Math.min(e/i*100,100):100;return o.jsxs("div",{className:U("space-y-1",a),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:t}),r&&o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})]}),o.jsx("div",{className:"w-full bg-muted rounded-full overflow-hidden",children:o.jsx("div",{className:U("transition-all duration-300 ease-out",pW[n],xW[s]),style:{width:`${l}%`}})})]})}function yW({displayData:e,level:t,className:n,showRatios:s=!0,compact:r=!1,selectedRace:a}){return r?o.jsxs("div",{className:U("space-y-3",n),children:[o.jsx(Qn,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),a&&o.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Base stats from ",a.name]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Health"}),o.jsx("div",{className:"font-medium text-lg",children:e.health.total}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.health.assigned]})]}),o.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Stamina"}),o.jsx("div",{className:"font-medium text-lg",children:e.stamina.total}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.stamina.assigned]})]}),o.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Magicka"}),o.jsx("div",{className:"font-medium text-lg",children:e.magicka.total}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.magicka.assigned]})]})]}),s&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Level ",t," "," ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," ","assignments"]})]}):o.jsxs("div",{className:U("space-y-4",n),children:[o.jsx(Qn,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),a&&a.startingStats&&o.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:o.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[o.jsxs("p",{className:"font-medium mb-1",children:["Base Stats from ",a.name,":"]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium",children:"Health"}),o.jsx("div",{className:"text-muted-foreground",children:a.startingStats.health})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium",children:"Stamina"}),o.jsx("div",{className:"text-muted-foreground",children:a.startingStats.stamina})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium",children:"Magicka"}),o.jsx("div",{className:"text-muted-foreground",children:a.startingStats.magicka})]})]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Eh,{value:e.health.total,label:"Health",color:"red",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)}),o.jsx(Eh,{value:e.stamina.total,label:"Stamina",color:"green",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)}),o.jsx(Eh,{value:e.magicka.total,label:"Magicka",color:"blue",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)})]}),s&&o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:"Health"}),o.jsxs("div",{className:"text-muted-foreground",children:[e.health.ratio.toFixed(1),"%"]})]}),o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:"Stamina"}),o.jsxs("div",{className:"text-muted-foreground",children:[e.stamina.ratio.toFixed(1),"%"]})]}),o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:"Magicka"}),o.jsxs("div",{className:"text-muted-foreground",children:[e.magicka.ratio.toFixed(1),"%"]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Level ",t," "," ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," ","assignments made"]})]})}function vW({level:e,assignments:t,onAssignmentChange:n,onClearAssignment:s,onClearAll:r,onUpdateAttributeLevel:a,className:i}){const l=v=>Object.values(t).filter(x=>x===v).length,c=l("health"),u=l("stamina"),d=l("magicka"),f=c+u+d,m=f+1,h=(v,x)=>{const b=l(v),w=x-b;if(w>0)for(let j=0;j<w;j++){const S=Math.max(2,f+2+j);n(S,v)}else if(w<0){for(let j=0;j<Math.abs(w);j++)for(let S=e;S>=2;S--)if(t[S]===v){s(S);break}}const N=f+w;a(N+1)},p=v=>{h(v,l(v)+1)},y=v=>{const x=l(v);x>0&&h(v,x-1)};return o.jsxs("div",{className:U("space-y-4",i),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Qn,{className:"text-lg font-medium text-foreground",children:"Attribute Points"}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(W,{variant:"outline",size:"sm",onClick:r,className:"text-xs",children:[o.jsx(xi,{className:"h-3 w-3 mr-1"}),"Clear All"]})})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:["Character Level: ",m," (derived from ",f," attribute points)"]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{className:"flex flex-col items-center p-3 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200 dark:border-red-800",children:[o.jsx("div",{className:"font-medium text-red-700 dark:text-red-300 mb-3",children:"Health"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>y("health"),disabled:c<=0,className:"h-8 w-8 p-0",children:o.jsx(Ll,{className:"h-4 w-4"})}),o.jsx(ws,{type:"number",value:c,onChange:v=>{const x=parseInt(v.target.value)||0;x>=0&&h("health",x)},className:"w-16 text-center text-lg font-bold text-red-700 dark:text-red-300 bg-white dark:bg-gray-800 border-red-300 dark:border-red-600 focus:border-red-500 focus:ring-red-500",min:0}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>p("health"),className:"h-8 w-8 p-0",children:o.jsx(Wr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex flex-col items-center p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"font-medium text-green-700 dark:text-green-300 mb-3",children:"Stamina"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>y("stamina"),disabled:u<=0,className:"h-8 w-8 p-0",children:o.jsx(Ll,{className:"h-4 w-4"})}),o.jsx(ws,{type:"number",value:u,onChange:v=>{const x=parseInt(v.target.value)||0;x>=0&&h("stamina",x)},className:"w-16 text-center text-lg font-bold text-green-700 dark:text-green-300 bg-white dark:bg-gray-800 border-green-300 dark:border-green-600 focus:border-green-500 focus:ring-green-500",min:0}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>p("stamina"),className:"h-8 w-8 p-0",children:o.jsx(Wr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex flex-col items-center p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300 mb-3",children:"Magicka"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>y("magicka"),disabled:d<=0,className:"h-8 w-8 p-0",children:o.jsx(Ll,{className:"h-4 w-4"})}),o.jsx(ws,{type:"number",value:d,onChange:v=>{const x=parseInt(v.target.value)||0;x>=0&&h("magicka",x)},className:"w-16 text-center text-lg font-bold text-blue-700 dark:text-blue-300 bg-white dark:bg-gray-800 border-blue-300 dark:border-blue-600 focus:border-blue-500 focus:ring-blue-500",min:0}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>p("magicka"),className:"h-8 w-8 p-0",children:o.jsx(Wr,{className:"h-4 w-4"})})]})]})]})]})]})}function bW(){const{build:e,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:s,updateAttributeLevel:r}=Ir(),{data:a}=ua(),i=e.attributeAssignments,l=g.useMemo(()=>!e.race||a.length===0?null:a.find(p=>p.edid===e.race)||null,[e.race,a]),c=g.useMemo(()=>l!=null&&l.startingStats?{health:l.startingStats.health,stamina:l.startingStats.stamina,magicka:l.startingStats.magicka}:{health:100,stamina:100,magicka:100},[l]),u=g.useMemo(()=>{i.level;const p=i.health+i.stamina+i.magicka;return{health:{base:c.health,assigned:i.health,total:c.health+i.health,ratio:p>0?i.health/p*100:0},stamina:{base:c.stamina,assigned:i.stamina,total:c.stamina+i.stamina,ratio:p>0?i.stamina/p*100:0},magicka:{base:c.magicka,assigned:i.magicka,total:c.magicka+i.magicka,ratio:p>0?i.magicka/p*100:0}}},[i,c]),d=p=>p>0&&p<=i.level,f=p=>i.assignments[p]||null,m=()=>i.health+i.stamina+i.magicka,h=()=>{const p=Object.keys(i.assignments).map(Number),y=[];for(let v=2;v<=i.level;v++)p.includes(v)||y.push(v);return y};return{assignments:i,displayData:u,level:i.level,selectedRace:l,baseStats:c,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:s,updateAttributeLevel:r,canAssignAtLevel:d,getAssignmentAtLevel:f,getTotalAssignments:m,getUnassignedLevels:h}}function wW({className:e,showControls:t=!0,showSummary:n=!0,compact:s=!1}){const[r,a]=g.useState(!0),{assignments:i,displayData:l,level:c,selectedRace:u,setAttributeAssignment:d,clearAttributeAssignment:f,clearAllAttributeAssignments:m,updateAttributeLevel:h}=bW(),p=(x,b)=>{d(x,b)},y=x=>{f(x)},v=()=>{m()};return o.jsxs(Ne,{className:U("w-full",e),children:[o.jsx(Le,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(ux,{className:"h-5 w-5"}),"Attribute Assignments"]}),t&&o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>a(!r),children:r?o.jsx(UR,{className:"h-4 w-4"}):o.jsx(In,{className:"h-4 w-4"})})]})}),o.jsxs(je,{className:"space-y-4",children:[n&&o.jsx(yW,{displayData:l,level:c,compact:s,selectedRace:u}),t&&r&&o.jsx(vW,{level:c,assignments:i.assignments,onAssignmentChange:p,onClearAssignment:y,onClearAll:v,onUpdateAttributeLevel:h})]})]})}function NW(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:s}=vt(),[r,a]=g.useState(!1),i=gW(),l=yt(),c=[{id:"basic-info",component:o.jsx(ZK,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),size:"full"},{id:"race",component:o.jsx(K8,{}),size:"half"},{id:"birthsign",component:o.jsx(a8,{}),size:"half"},{id:"trait",component:o.jsx(GK,{}),size:"half"},{id:"religion",component:o.jsx(qK,{}),size:"half"},{id:"attributes",component:o.jsx(wW,{}),size:"full"},{id:"skills",component:o.jsx(yG,{}),size:"full"},{id:"destiny",component:o.jsx(B8,{navigate:l}),size:"full"},{id:"summary",component:o.jsx(dW,{build:e}),size:"full"}];return o.jsxs(Rs,{title:"Character Builder",children:[o.jsx(cW,{onReset:()=>a(!0),build:e}),o.jsx(mW,{open:r,onConfirm:()=>{s(),a(!1)},onCancel:()=>a(!1)}),o.jsxs(Xi,{defaultValue:"build",className:"w-full",children:[o.jsxs(Ki,{className:"mb-4",children:[o.jsx(nn,{value:"build",children:"Build"}),o.jsx(nn,{value:"config",children:"Config"})]}),o.jsx(yn,{value:"build",children:o.jsx(uW,{cards:c,gap:16})}),o.jsx(yn,{value:"config",children:o.jsx(hW,{regularLimit:i.regularLimit,bonusLimit:i.bonusLimit,onRegularLimitChange:i.handleRegularLimitChange,onBonusLimitChange:i.handleBonusLimitChange,currentRegularCount:i.currentRegularCount,currentBonusCount:i.currentBonusCount})})]})]})}function jW(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(io,{children:"Crafting"}),o.jsx(rc,{children:"Plan your crafting recipes and material requirements"})]}),o.jsxs(Ne,{children:[o.jsxs(Le,{children:[o.jsx(Ge,{children:"Coming Soon"}),o.jsx(er,{children:"Crafting system is under development"})]}),o.jsx(je,{children:o.jsx(rc,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function SW(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(io,{children:"Equipment"}),o.jsx(rc,{children:"Browse and compare weapons, armor, and items"})]}),o.jsxs(Ne,{children:[o.jsxs(Le,{children:[o.jsx(Ge,{children:"Coming Soon"}),o.jsx(er,{children:"Equipment database is under development"})]}),o.jsx(je,{children:o.jsx(rc,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const CW=()=>{const{build:e,getSummary:t}=vt(),n=yt(),s=t();return!e.name&&!e.race?o.jsxs(Ne,{className:"border-dashed border-2 border-muted",children:[o.jsxs(Le,{children:[o.jsx(Ge,{className:"text-lg",children:"No Character Build"}),o.jsx(er,{children:"Start building your character to see it here"})]}),o.jsx(je,{children:o.jsx(W,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):o.jsxs(Ne,{children:[o.jsxs(Le,{children:[o.jsxs(Ge,{className:"text-lg flex items-center justify-between",children:[o.jsx("span",{children:s.name}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),o.jsx(er,{children:"Current character build status"})]}),o.jsxs(je,{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Race:"}),o.jsx(K,{variant:"secondary",className:"ml-2",children:s.race})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),o.jsx(K,{variant:"secondary",className:"ml-2",children:s.stone})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),o.jsx(K,{variant:"secondary",className:"ml-2",children:s.religion})]})]}),o.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[o.jsxs("span",{children:[s.traitCount," traits"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[s.majorSkillCount," major skills"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[s.minorSkillCount," minor skills"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[s.equipmentCount," equipment"]})]})]})]})};function kW(){const e=yt(),t=()=>{e("/build")};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-12",children:[o.jsxs("div",{className:"text-left space-y-6",children:[o.jsx("div",{className:"flex items-center gap-3 mb-4 justify-start",children:o.jsx(io,{className:"text-4xl md:text-6xl font-bold text-foreground",children:"Lorerim Arcaneum"})}),o.jsx(rS,{className:"text-xl md:text-2xl text-muted-foreground",children:"Your theorycrafting playground and reference hub for Lorerim players. Build characters, explore mechanics, and dive deep into the lore."})]}),o.jsx("div",{className:"max-w-md",children:o.jsx(CW,{})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[o.jsx($l,{className:"h-6 w-6 text-primary"}),"Character Building"]}),o.jsx("p",{className:"text-muted-foreground",children:"Create and customize your character from scratch"})]}),o.jsxs(Ne,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/30 cursor-pointer group bg-card",onClick:t,children:[o.jsxs(Le,{children:[o.jsxs(Ge,{className:"flex items-center gap-2 group-hover:text-primary transition-colors text-card-foreground",children:[o.jsx(ec,{className:"h-5 w-5"}),"Start Character Build"]}),o.jsx(er,{className:"text-muted-foreground",children:"Design your character with races, traits, birthsigns, and more"})]}),o.jsx(je,{children:o.jsxs(W,{className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:["Begin Building",o.jsx(MR,{className:"ml-2 h-4 w-4"})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/race"),children:o.jsxs(je,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Races"})]})}),o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/birth-signs"),children:o.jsxs(je,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Birthsigns"})]})}),o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/traits"),children:o.jsxs(je,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Traits"})]})}),o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/perks"),children:o.jsxs(je,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Skills"})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[o.jsx(yi,{className:"h-6 w-6 text-primary"}),"Quick Access"]}),o.jsx("p",{className:"text-muted-foreground",children:"Jump directly to specific tools and features"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/search"),children:o.jsx(je,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yi,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-card-foreground",children:"Advanced Search"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Detailed search with filters"})]})]})})}),o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/spells"),children:o.jsx(je,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ec,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-card-foreground",children:"Spells"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Browse and search spells"})]})]})})}),o.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/cookbook"),children:o.jsx(je,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(RN,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-card-foreground",children:"Cookbook"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Crafting recipes & guides"})]})]})})})]})]})]}),o.jsx("div",{className:"text-left pt-8 border-t border-border",children:o.jsx("p",{className:"text-muted-foreground",children:"Built with  for the Lorerim community"})})]})})}function EW(){const e=yt();return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[o.jsx(io,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),o.jsx(Fe,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),o.jsx(W,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const _W=()=>o.jsxs(fD,{children:[o.jsx(mt,{path:"/",element:o.jsx(kW,{})}),o.jsxs(mt,{path:"/build",element:o.jsx(qL,{}),children:[o.jsx(mt,{index:!0,element:o.jsx(NW,{})}),o.jsx(mt,{path:"race",element:o.jsx(ck,{})}),o.jsx(mt,{path:"birth-signs",element:o.jsx(f8,{})}),o.jsx(mt,{path:"traits",element:o.jsx(BK,{})}),o.jsx(mt,{path:"religions",element:o.jsx(aI,{})}),o.jsx(mt,{path:"destiny",element:o.jsx(H8,{})}),o.jsx(mt,{path:"perks",element:o.jsx(Aw,{})})]}),o.jsx(mt,{path:"/spells",element:o.jsx($K,{})}),o.jsx(mt,{path:"/cookbook",element:o.jsx(j8,{})}),o.jsx(mt,{path:"/search",element:o.jsx(Xq,{})}),o.jsx(mt,{path:"/virtual-masonry-demo",element:o.jsx(Wq,{})}),o.jsx(mt,{path:"/races-mva-demo",element:o.jsx(tI,{})}),o.jsx(mt,{path:"/skills-mva",element:o.jsx(Aw,{})}),o.jsx(mt,{path:"/skills-experimental",element:o.jsx(AK,{})}),o.jsx(mt,{path:"/equipment",element:o.jsx(SW,{})}),o.jsx(mt,{path:"/crafting",element:o.jsx(jW,{})}),o.jsx(mt,{path:"*",element:o.jsx(EW,{})})]}),X_=g.createContext(void 0);function AW({children:e}){const[t,n]=g.useState("system"),[s,r]=g.useState("dark");return g.useEffect(()=>{const a=localStorage.getItem("theme");a&&["light","dark","system"].includes(a)&&n(a)},[]),g.useEffect(()=>{localStorage.setItem("theme",t);let a;t==="system"?a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a=t,r(a);const i=document.documentElement;a==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[t]),g.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),i=()=>{if(t==="system"){const l=a.matches?"dark":"light";r(l);const c=document.documentElement;l==="dark"?c.classList.add("dark"):c.classList.remove("dark")}};return a.addEventListener("change",i),()=>a.removeEventListener("change",i)},[t]),o.jsx(X_.Provider,{value:{theme:t,setTheme:n,resolvedTheme:s},children:e})}function TW(){const e=g.useContext(X_);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function MW(){const{theme:e,setTheme:t}=TW(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},s=()=>{switch(e){case"light":return o.jsx(cv,{className:"h-4 w-4"});case"dark":return o.jsx(A4,{className:"h-4 w-4"});case"system":return o.jsx(E4,{className:"h-4 w-4"});default:return o.jsx(cv,{className:"h-4 w-4"})}};return o.jsxs(W,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[s(),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function RW({sidebarCollapsed:e,onToggleSidebar:t}){return o.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:Ct.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[o.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:o.jsx(w4,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),o.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),o.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),o.jsx("div",{className:"flex-1 max-w-md mx-4",children:o.jsx(Zq,{placeholder:"Search skills, races, traits...",className:"w-full"})}),o.jsx("div",{className:"ml-auto",children:o.jsx(MW,{})})]})}const DW=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"}]},{label:"Docs",items:[{to:"/spells",label:"Spells"},{to:"/cookbook",label:"Food and Alcohol"}]}];function zW({collapsed:e}){const t=yt(),n=window.location.hash.replace(/^#\/?/,"/"),s=r=>{const a=window.location.hash,[i,l]=a.split("?"),u=new URLSearchParams(l||"").get("b");t(u?`${r}?b=${u}`:r)};return o.jsxs(Kj,{collapsed:e,children:[o.jsx(Jj,{children:!e&&o.jsxs("button",{onClick:()=>s("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[o.jsx(f4,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),o.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),o.jsx(Wj,{children:DW.map(r=>o.jsxs(Qj,{children:[!e&&o.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:r.label}),o.jsx(eS,{children:r.items.map(a=>{const i=n===a.to;return o.jsx(nS,{children:o.jsx(tS,{asChild:!0,isActive:i,onClick:()=>s(a.to),tabIndex:0,children:o.jsx("span",{className:"w-full text-left truncate",children:a.label})})},a.to)})})]},r.label))}),!e&&o.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[o.jsx(Fe,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),o.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]}),o.jsx(sS,{})]})}function LW(){const[e,t]=g.useState(!1);return vL(),o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(RW,{sidebarCollapsed:e,onToggleSidebar:()=>t(n=>!n)}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0":"w-64"}`,style:{zIndex:Ct.SIDEBAR},children:o.jsx(zW,{collapsed:e})}),o.jsx("main",{className:"flex-1  transition-all duration-300 ease-in-out",children:o.jsx(_W,{})})]}),o.jsx(yL,{})]})}function $W(){return o.jsx(PD,{children:o.jsx(LW,{})})}function PW({children:e,showLoadingIndicator:t=!1}){const[n,s]=g.useState(!0),[r,a]=g.useState(null),i=g.useRef(!1),l=fo(x=>x.load),c=el(x=>x.load),u=oo(x=>x.load),d=ua(x=>x.load),f=Ks(x=>x.load),m=tl(x=>x.load),h=mo(x=>x.load),p=Io(x=>x.load),y=ho(x=>x.load),v=g.useCallback(async()=>{if(!i.current)try{s(!0),a(null),await Promise.all([l(),c(),u(),d(),f(),m(),h(),p(),y()]),i.current=!0,s(!1)}catch(x){console.error("Failed to initialize data:",x),a(x instanceof Error?x.message:"Failed to initialize data"),s(!1)}},[l,c,u,d,f,m,h,p,y]);return g.useEffect(()=>{v()},[v]),n&&t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading data..."})]})}):r?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-red-600 mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Failed to Load Data"}),o.jsx("p",{className:"text-sm",children:r})]}),o.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):o.jsx(o.Fragment,{children:e})}var K_={exports:{}},wm={},W_={exports:{}},Q_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,D){var M=A.length;A.push(D);e:for(;0<M;){var R=M-1>>>1,B=A[R];if(0<r(B,D))A[R]=D,A[M]=B,M=R;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var D=A[0],M=A.pop();if(M!==D){A[0]=M;e:for(var R=0,B=A.length,H=B>>>1;R<H;){var I=2*(R+1)-1,V=A[I],Z=I+1,J=A[Z];if(0>r(V,M))Z<B&&0>r(J,V)?(A[R]=J,A[Z]=M,R=Z):(A[R]=V,A[I]=M,R=I);else if(Z<B&&0>r(J,M))A[R]=J,A[Z]=M,R=Z;else break e}}return D}function r(A,D){var M=A.sortIndex-D.sortIndex;return M!==0?M:A.id-D.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function N(A){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=A)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function j(A){if(y=!1,N(A),!p)if(n(c)!==null)p=!0,S||(S=!0,O());else{var D=n(u);D!==null&&z(j,D.startTime-A)}}var S=!1,C=-1,k=5,E=-1;function _(){return v?!0:!(e.unstable_now()-E<k)}function P(){if(v=!1,S){var A=e.unstable_now();E=A;var D=!0;try{e:{p=!1,y&&(y=!1,b(C),C=-1),h=!0;var M=m;try{t:{for(N(A),f=n(c);f!==null&&!(f.expirationTime>A&&_());){var R=f.callback;if(typeof R=="function"){f.callback=null,m=f.priorityLevel;var B=R(f.expirationTime<=A);if(A=e.unstable_now(),typeof B=="function"){f.callback=B,N(A),D=!0;break t}f===n(c)&&s(c),N(A)}else s(c);f=n(c)}if(f!==null)D=!0;else{var H=n(u);H!==null&&z(j,H.startTime-A),D=!1}}break e}finally{f=null,m=M,h=!1}D=void 0}}finally{D?O():S=!1}}}var O;if(typeof w=="function")O=function(){w(P)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,T=L.port2;L.port1.onmessage=P,O=function(){T.postMessage(null)}}else O=function(){x(P,0)};function z(A,D){C=x(function(){A(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var M=m;m=D;try{return A()}finally{m=M}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=m;m=A;try{return D()}finally{m=M}},e.unstable_scheduleCallback=function(A,D,M){var R=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?R+M:R):M=R,A){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=M+B,A={id:d++,callback:D,priorityLevel:A,startTime:M,expirationTime:B,sortIndex:-1},M>R?(A.sortIndex=M,t(u,A),n(c)===null&&A===n(u)&&(y?(b(C),C=-1):y=!0,z(j,M-R))):(A.sortIndex=B,t(c,A),p||h||(p=!0,S||(S=!0,O()))),A},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(A){var D=m;return function(){var M=m;m=D;try{return A.apply(this,arguments)}finally{m=M}}}})(Q_);W_.exports=Q_;var OW=W_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=OW,J_=g,BW=zf;function G(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function eA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e1(e){if(Xc(e)!==e)throw Error(G(188))}function IW(e){var t=e.alternate;if(!t){if(t=Xc(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return e1(r),e;if(a===s)return e1(r),t;a=a.sibling}throw Error(G(188))}if(n.return!==s.return)n=r,s=a;else{for(var i=!1,l=r.child;l;){if(l===n){i=!0,n=r,s=a;break}if(l===s){i=!0,s=r,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,s=r;break}if(l===s){i=!0,s=a,n=r;break}l=l.sibling}if(!i)throw Error(G(189))}}if(n.alternate!==s)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function nA(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=nA(e),t!==null)return t;e=e.sibling}return null}var Xe=Object.assign,HW=Symbol.for("react.element"),Iu=Symbol.for("react.transitional.element"),Ml=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),sA=Symbol.for("react.strict_mode"),lp=Symbol.for("react.profiler"),UW=Symbol.for("react.provider"),rA=Symbol.for("react.consumer"),sr=Symbol.for("react.context"),ry=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),up=Symbol.for("react.suspense_list"),ay=Symbol.for("react.memo"),Or=Symbol.for("react.lazy"),dp=Symbol.for("react.activity"),FW=Symbol.for("react.memo_cache_sentinel"),t1=Symbol.iterator;function vl(e){return e===null||typeof e!="object"?null:(e=t1&&e[t1]||e["@@iterator"],typeof e=="function"?e:null)}var VW=Symbol.for("react.client.reference");function fp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===VW?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Uo:return"Fragment";case lp:return"Profiler";case sA:return"StrictMode";case cp:return"Suspense";case up:return"SuspenseList";case dp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ml:return"Portal";case sr:return(e.displayName||"Context")+".Provider";case rA:return(e._context.displayName||"Context")+".Consumer";case ry:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ay:return t=e.displayName||null,t!==null?t:fp(e.type)||"Memo";case Or:t=e._payload,e=e._init;try{return fp(e(t))}catch{}}return null}var Rl=Array.isArray,ge=J_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De=BW.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ba={pending:!1,data:null,method:null,action:null},mp=[],Fo=-1;function $s(e){return{current:e}}function Mt(e){0>Fo||(e.current=mp[Fo],mp[Fo]=null,Fo--)}function Qe(e,t){Fo++,mp[Fo]=e.current,e.current=t}var Ss=$s(null),yc=$s(null),ea=$s(null),Wd=$s(null);function Qd(e,t){switch(Qe(ea,t),Qe(yc,e),Qe(Ss,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?oN(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=oN(t),e=wM(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Mt(Ss),Qe(Ss,e)}function Mi(){Mt(Ss),Mt(yc),Mt(ea)}function hp(e){e.memoizedState!==null&&Qe(Wd,e);var t=Ss.current,n=wM(t,e.type);t!==n&&(Qe(yc,e),Qe(Ss,n))}function Jd(e){yc.current===e&&(Mt(Ss),Mt(yc)),Wd.current===e&&(Mt(Wd),_c._currentValue=Ba)}var gp=Object.prototype.hasOwnProperty,oy=kt.unstable_scheduleCallback,_h=kt.unstable_cancelCallback,qW=kt.unstable_shouldYield,GW=kt.unstable_requestPaint,Cs=kt.unstable_now,ZW=kt.unstable_getCurrentPriorityLevel,aA=kt.unstable_ImmediatePriority,oA=kt.unstable_UserBlockingPriority,ef=kt.unstable_NormalPriority,YW=kt.unstable_LowPriority,iA=kt.unstable_IdlePriority,XW=kt.log,KW=kt.unstable_setDisableYieldValue,Kc=null,bn=null;function Zr(e){if(typeof XW=="function"&&KW(e),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(Kc,e)}catch{}}var wn=Math.clz32?Math.clz32:JW,WW=Math.log,QW=Math.LN2;function JW(e){return e>>>=0,e===0?32:31-(WW(e)/QW|0)|0}var Hu=256,Uu=4194304;function ka(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nm(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=s&134217727;return l!==0?(s=l&~a,s!==0?r=ka(s):(i&=l,i!==0?r=ka(i):n||(n=l&~e,n!==0&&(r=ka(n))))):(l=s&~a,l!==0?r=ka(l):i!==0?r=ka(i):n||(n=s&~e,n!==0&&(r=ka(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function Wc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function eQ(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lA(){var e=Hu;return Hu<<=1,!(Hu&4194048)&&(Hu=256),e}function cA(){var e=Uu;return Uu<<=1,!(Uu&62914560)&&(Uu=4194304),e}function Ah(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tQ(e,t,n,s,r,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-wn(n),f=1<<d;l[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}n&=~f}s!==0&&uA(e,s,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(i&~t))}function uA(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-wn(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function dA(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-wn(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function iy(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ly(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function fA(){var e=De.p;return e!==0?e:(e=window.event,e===void 0?32:MM(e.type))}function nQ(e,t){var n=De.p;try{return De.p=e,t()}finally{De.p=n}}var ya=Math.random().toString(36).slice(2),Ht="__reactFiber$"+ya,an="__reactProps$"+ya,sl="__reactContainer$"+ya,pp="__reactEvents$"+ya,sQ="__reactListeners$"+ya,rQ="__reactHandles$"+ya,n1="__reactResources$"+ya,Jc="__reactMarker$"+ya;function cy(e){delete e[Ht],delete e[an],delete e[pp],delete e[sQ],delete e[rQ]}function Vo(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sl]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cN(e);e!==null;){if(n=e[Ht])return n;e=cN(e)}return t}e=n,n=e.parentNode}return null}function rl(e){if(e=e[Ht]||e[sl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Dl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(G(33))}function ii(e){var t=e[n1];return t||(t=e[n1]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[Jc]=!0}var mA=new Set,hA={};function vo(e,t){Ri(e,t),Ri(e+"Capture",t)}function Ri(e,t){for(hA[e]=t,e=0;e<t.length;e++)mA.add(t[e])}var aQ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),s1={},r1={};function oQ(e){return gp.call(r1,e)?!0:gp.call(s1,e)?!1:aQ.test(e)?r1[e]=!0:(s1[e]=!0,!1)}function cd(e,t,n){if(oQ(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Fu(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Zs(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var Th,a1;function $o(e){if(Th===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Th=t&&t[1]||"",a1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Th+e+a1}var Mh=!1;function Rh(e,t){if(!e||Mh)return"";Mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=s.DetermineComponentFrameRoot(),i=a[0],l=a[1];if(i&&l){var c=i.split(`
`),u=l.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=r);break}}}finally{Mh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$o(n):""}function iQ(e){switch(e.tag){case 26:case 27:case 5:return $o(e.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 15:return Rh(e.type,!1);case 11:return Rh(e.type.render,!1);case 1:return Rh(e.type,!0);case 31:return $o("Activity");default:return""}}function o1(e){try{var t="";do t+=iQ(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lQ(e){var t=gA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tf(e){e._valueTracker||(e._valueTracker=lQ(e))}function pA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=gA(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function nf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cQ=/[\n"\\]/g;function zn(e){return e.replace(cQ,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xp(e,t,n,s,r,a,i,l){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tn(t)):e.value!==""+Tn(t)&&(e.value=""+Tn(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?yp(e,i,Tn(t)):n!=null?yp(e,i,Tn(n)):s!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Tn(l):e.removeAttribute("name")}function xA(e,t,n,s,r,a,i,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+Tn(n):"",t=t!=null?""+Tn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=l?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i)}function yp(e,t,n){t==="number"&&nf(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function li(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function yA(e,t,n){if(t!=null&&(t=""+Tn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Tn(n):""}function vA(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(G(92));if(Rl(s)){if(1<s.length)throw Error(G(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Tn(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function Di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var uQ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function i1(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||uQ.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function bA(e,t,n){if(t!=null&&typeof t!="object")throw Error(G(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&i1(e,r,s)}else for(var a in t)t.hasOwnProperty(a)&&i1(e,a,t[a])}function uy(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dQ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fQ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ud(e){return fQ.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vp=null;function dy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qo=null,ci=null;function l1(e){var t=rl(e);if(t&&(e=t.stateNode)){var n=e[an]||null;e:switch(e=t.stateNode,t.type){case"input":if(xp(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+zn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[an]||null;if(!r)throw Error(G(90));xp(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&pA(s)}break e;case"textarea":yA(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&li(e,!!n.multiple,t,!1)}}}var Dh=!1;function wA(e,t,n){if(Dh)return e(t,n);Dh=!0;try{var s=e(t);return s}finally{if(Dh=!1,(qo!==null||ci!==null)&&(Rm(),qo&&(t=qo,e=ci,ci=qo=null,l1(t),e)))for(t=0;t<e.length;t++)l1(e[t])}}function vc(e,t){var n=e.stateNode;if(n===null)return null;var s=n[an]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bp=!1;if(vr)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){bp=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{bp=!1}var Yr=null,fy=null,dd=null;function NA(){if(dd)return dd;var e,t=fy,n=t.length,s,r="value"in Yr?Yr.value:Yr.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===r[a-s];s++);return dd=r.slice(e,1<s?1-s:void 0)}function fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vu(){return!0}function c1(){return!1}function un(e){function t(n,s,r,a,i){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vu:c1,this.isPropagationStopped=c1,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),t}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jm=un(bo),eu=Xe({},bo,{view:0,detail:0}),mQ=un(eu),zh,Lh,wl,Sm=Xe({},eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:my,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wl&&(wl&&e.type==="mousemove"?(zh=e.screenX-wl.screenX,Lh=e.screenY-wl.screenY):Lh=zh=0,wl=e),zh)},movementY:function(e){return"movementY"in e?e.movementY:Lh}}),u1=un(Sm),hQ=Xe({},Sm,{dataTransfer:0}),gQ=un(hQ),pQ=Xe({},eu,{relatedTarget:0}),$h=un(pQ),xQ=Xe({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),yQ=un(xQ),vQ=Xe({},bo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bQ=un(vQ),wQ=Xe({},bo,{data:0}),d1=un(wQ),NQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SQ[e])?!!t[e]:!1}function my(){return CQ}var kQ=Xe({},eu,{key:function(e){if(e.key){var t=NQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:my,charCode:function(e){return e.type==="keypress"?fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EQ=un(kQ),_Q=Xe({},Sm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f1=un(_Q),AQ=Xe({},eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:my}),TQ=un(AQ),MQ=Xe({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),RQ=un(MQ),DQ=Xe({},Sm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zQ=un(DQ),LQ=Xe({},bo,{newState:0,oldState:0}),$Q=un(LQ),PQ=[9,13,27,32],hy=vr&&"CompositionEvent"in window,Bl=null;vr&&"documentMode"in document&&(Bl=document.documentMode);var OQ=vr&&"TextEvent"in window&&!Bl,jA=vr&&(!hy||Bl&&8<Bl&&11>=Bl),m1=" ",h1=!1;function SA(e,t){switch(e){case"keyup":return PQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Go=!1;function BQ(e,t){switch(e){case"compositionend":return CA(t);case"keypress":return t.which!==32?null:(h1=!0,m1);case"textInput":return e=t.data,e===m1&&h1?null:e;default:return null}}function IQ(e,t){if(Go)return e==="compositionend"||!hy&&SA(e,t)?(e=NA(),dd=fy=Yr=null,Go=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jA&&t.locale!=="ko"?null:t.data;default:return null}}var HQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HQ[e.type]:t==="textarea"}function kA(e,t,n,s){qo?ci?ci.push(s):ci=[s]:qo=s,t=wf(t,"onChange"),0<t.length&&(n=new jm("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Il=null,bc=null;function UQ(e){yM(e,0)}function Cm(e){var t=Dl(e);if(pA(t))return e}function p1(e,t){if(e==="change")return t}var EA=!1;if(vr){var Ph;if(vr){var Oh="oninput"in document;if(!Oh){var x1=document.createElement("div");x1.setAttribute("oninput","return;"),Oh=typeof x1.oninput=="function"}Ph=Oh}else Ph=!1;EA=Ph&&(!document.documentMode||9<document.documentMode)}function y1(){Il&&(Il.detachEvent("onpropertychange",_A),bc=Il=null)}function _A(e){if(e.propertyName==="value"&&Cm(bc)){var t=[];kA(t,bc,e,dy(e)),wA(UQ,t)}}function FQ(e,t,n){e==="focusin"?(y1(),Il=t,bc=n,Il.attachEvent("onpropertychange",_A)):e==="focusout"&&y1()}function VQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cm(bc)}function qQ(e,t){if(e==="click")return Cm(t)}function GQ(e,t){if(e==="input"||e==="change")return Cm(t)}function ZQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:ZQ;function wc(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!gp.call(t,r)||!Cn(e[r],t[r]))return!1}return!0}function v1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function b1(e,t){var n=v1(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v1(n)}}function AA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?AA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TA(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nf(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nf(e.document)}return t}function gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var YQ=vr&&"documentMode"in document&&11>=document.documentMode,Zo=null,wp=null,Hl=null,Np=!1;function w1(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Np||Zo==null||Zo!==nf(s)||(s=Zo,"selectionStart"in s&&gy(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Hl&&wc(Hl,s)||(Hl=s,s=wf(wp,"onSelect"),0<s.length&&(t=new jm("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Zo)))}function Sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yo={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},Bh={},MA={};vr&&(MA=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function wo(e){if(Bh[e])return Bh[e];if(!Yo[e])return e;var t=Yo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in MA)return Bh[e]=t[n];return e}var RA=wo("animationend"),DA=wo("animationiteration"),zA=wo("animationstart"),XQ=wo("transitionrun"),KQ=wo("transitionstart"),WQ=wo("transitioncancel"),LA=wo("transitionend"),$A=new Map,jp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jp.push("scrollEnd");function is(e,t){$A.set(e,t),vo(t,[e])}var N1=new WeakMap;function Ln(e,t){if(typeof e=="object"&&e!==null){var n=N1.get(e);return n!==void 0?n:(t={value:e,source:t,stack:o1(t)},N1.set(e,t),t)}return{value:e,source:t,stack:o1(t)}}var An=[],Xo=0,py=0;function km(){for(var e=Xo,t=py=Xo=0;t<e;){var n=An[t];An[t++]=null;var s=An[t];An[t++]=null;var r=An[t];An[t++]=null;var a=An[t];if(An[t++]=null,s!==null&&r!==null){var i=s.pending;i===null?r.next=r:(r.next=i.next,i.next=r),s.pending=r}a!==0&&PA(n,r,a)}}function Em(e,t,n,s){An[Xo++]=e,An[Xo++]=t,An[Xo++]=n,An[Xo++]=s,py|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function xy(e,t,n,s){return Em(e,t,n,s),sf(e)}function al(e,t){return Em(e,null,null,t),sf(e)}function PA(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,s=a.alternate,s!==null&&(s.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-wn(n),e=a.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=n|536870912),a):null}function sf(e){if(50<Wl)throw Wl=0,Vp=null,Error(G(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ko={};function QQ(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,s){return new QQ(e,t,n,s)}function yy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dr(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function OA(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function md(e,t,n,s,r,a){var i=0;if(s=e,typeof e=="function")yy(e)&&(i=1);else if(typeof e=="string")i=eee(e,n,Ss.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case dp:return e=xn(31,n,t,r),e.elementType=dp,e.lanes=a,e;case Uo:return Ia(n.children,r,a,t);case sA:i=8,r|=24;break;case lp:return e=xn(12,n,t,r|2),e.elementType=lp,e.lanes=a,e;case cp:return e=xn(13,n,t,r),e.elementType=cp,e.lanes=a,e;case up:return e=xn(19,n,t,r),e.elementType=up,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UW:case sr:i=10;break e;case rA:i=9;break e;case ry:i=11;break e;case ay:i=14;break e;case Or:i=16,s=null;break e}i=29,n=Error(G(130,e===null?"null":typeof e,"")),s=null}return t=xn(i,n,t,r),t.elementType=e,t.type=s,t.lanes=a,t}function Ia(e,t,n,s){return e=xn(7,e,s,t),e.lanes=n,e}function Ih(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Hh(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wo=[],Qo=0,rf=null,af=0,Mn=[],Rn=0,Ha=null,rr=1,ar="";function Ea(e,t){Wo[Qo++]=af,Wo[Qo++]=rf,rf=e,af=t}function BA(e,t,n){Mn[Rn++]=rr,Mn[Rn++]=ar,Mn[Rn++]=Ha,Ha=e;var s=rr;e=ar;var r=32-wn(s)-1;s&=~(1<<r),n+=1;var a=32-wn(t)+r;if(30<a){var i=r-r%5;a=(s&(1<<i)-1).toString(32),s>>=i,r-=i,rr=1<<32-wn(t)+r|n<<r|s,ar=a+e}else rr=1<<a|n<<r|s,ar=e}function vy(e){e.return!==null&&(Ea(e,1),BA(e,1,0))}function by(e){for(;e===rf;)rf=Wo[--Qo],Wo[Qo]=null,af=Wo[--Qo],Wo[Qo]=null;for(;e===Ha;)Ha=Mn[--Rn],Mn[Rn]=null,ar=Mn[--Rn],Mn[Rn]=null,rr=Mn[--Rn],Mn[Rn]=null}var qt=null,at=null,Re=!1,Ua=null,xs=!1,Sp=Error(G(519));function eo(e){var t=Error(G(418,""));throw Nc(Ln(t,e)),Sp}function j1(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Ht]=e,t[an]=s,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<Cc.length;n++)ke(Cc[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),xA(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),tf(t);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),vA(t,s.value,s.defaultValue,s.children),tf(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||bM(t.textContent,n)?(s.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),s.onScroll!=null&&ke("scroll",t),s.onScrollEnd!=null&&ke("scrollend",t),s.onClick!=null&&(t.onclick=Lm),t=!0):t=!1,t||eo(e)}function S1(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:qt=qt.return}}function Nl(e){if(e!==qt)return!1;if(!Re)return S1(e),Re=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Kp(e.type,e.memoizedProps)),n=!n),n&&at&&eo(e),S1(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){at=es(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}at=null}}else t===27?(t=at,va(e.type)?(e=Jp,Jp=null,at=e):at=t):at=qt?es(e.stateNode.nextSibling):null;return!0}function tu(){at=qt=null,Re=!1}function C1(){var e=Ua;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Ua=null),e}function Nc(e){Ua===null?Ua=[e]:Ua.push(e)}var Cp=$s(null),No=null,or=null;function Ur(e,t,n){Qe(Cp,t._currentValue),t._currentValue=n}function fr(e){e._currentValue=Cp.current,Mt(Cp)}function kp(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ep(e,t,n,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var i=r.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),kp(a.return,n,e),s||(i=null);break e}a=l.next}}else if(r.tag===18){if(i=r.return,i===null)throw Error(G(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),kp(i,n,e),i=null}else i=r.child;if(i!==null)i.return=r;else for(i=r;i!==null;){if(i===e){i=null;break}if(r=i.sibling,r!==null){r.return=i.return,i=r;break}i=i.return}r=i}}function nu(e,t,n,s){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var i=r.alternate;if(i===null)throw Error(G(387));if(i=i.memoizedProps,i!==null){var l=r.type;Cn(r.pendingProps.value,i.value)||(e!==null?e.push(l):e=[l])}}else if(r===Wd.current){if(i=r.alternate,i===null)throw Error(G(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(_c):e=[_c])}r=r.return}e!==null&&Ep(t,e,n,s),t.flags|=262144}function of(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function to(e){No=e,or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ut(e){return IA(No,e)}function qu(e,t){return No===null&&to(e),IA(e,t)}function IA(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},or===null){if(e===null)throw Error(G(308));or=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else or=or.next=t;return n}var JQ=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},eJ=kt.unstable_scheduleCallback,tJ=kt.unstable_NormalPriority,jt={$$typeof:sr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wy(){return{controller:new JQ,data:new Map,refCount:0}}function su(e){e.refCount--,e.refCount===0&&eJ(tJ,function(){e.controller.abort()})}var Ul=null,_p=0,zi=0,ui=null;function nJ(e,t){if(Ul===null){var n=Ul=[];_p=0,zi=Vy(),ui={status:"pending",value:void 0,then:function(s){n.push(s)}}}return _p++,t.then(k1,k1),t}function k1(){if(--_p===0&&Ul!==null){ui!==null&&(ui.status="fulfilled");var e=Ul;Ul=null,zi=0,ui=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sJ(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var E1=ge.S;ge.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&nJ(e,t),E1!==null&&E1(e,t)};var Fa=$s(null);function Ny(){var e=Fa.current;return e!==null?e:Ze.pooledCache}function hd(e,t){t===null?Qe(Fa,Fa.current):Qe(Fa,t.pool)}function HA(){var e=Ny();return e===null?null:{parent:jt._currentValue,pool:e}}var ru=Error(G(460)),UA=Error(G(474)),_m=Error(G(542)),Ap={then:function(){}};function _1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gu(){}function FA(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Gu,Gu),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,T1(e),e;default:if(typeof t.status=="string")t.then(Gu,Gu);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(G(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,T1(e),e}throw Fl=t,ru}}var Fl=null;function A1(){if(Fl===null)throw Error(G(459));var e=Fl;return Fl=null,e}function T1(e){if(e===ru||e===_m)throw Error(G(483))}var Br=!1;function jy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ta(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function na(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Be&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=sf(e),PA(e,null,n),t}return Em(e,s,t,n),sf(e)}function Vl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,dA(e,n)}}function Uh(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Mp=!1;function ql(){if(Mp){var e=ui;if(e!==null)throw e}}function Gl(e,t,n,s){Mp=!1;var r=e.updateQueue;Br=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=r.baseState;i=0,d=u=c=null,l=a;do{var m=l.lane&-536870913,h=m!==l.lane;if(h?(Te&m)===m:(s&m)===m){m!==0&&m===zi&&(Mp=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,y=l;m=t;var v=n;switch(y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(v,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,m=typeof p=="function"?p.call(v,f,m):p,m==null)break e;f=Xe({},f,m);break e;case 2:Br=!0}}m=l.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,a===null&&(r.shared.lanes=0),ma|=i,e.lanes=i,e.memoizedState=f}}function VA(e,t){if(typeof e!="function")throw Error(G(191,e));e.call(t)}function qA(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)VA(n[e],t)}var Li=$s(null),lf=$s(0);function M1(e,t){e=Nr,Qe(lf,e),Qe(Li,t),Nr=e|t.baseLanes}function Rp(){Qe(lf,Nr),Qe(Li,Li.current)}function Sy(){Nr=lf.current,Mt(Li),Mt(lf)}var da=0,Se=null,He=null,gt=null,cf=!1,di=!1,no=!1,uf=0,jc=0,fi=null,rJ=0;function ct(){throw Error(G(321))}function Cy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function ky(e,t,n,s,r,a){return da=a,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ge.H=e===null||e.memoizedState===null?NT:jT,no=!1,a=n(s,r),no=!1,di&&(a=ZA(t,n,s,r)),GA(e),a}function GA(e){ge.H=df;var t=He!==null&&He.next!==null;if(da=0,gt=He=Se=null,cf=!1,jc=0,fi=null,t)throw Error(G(300));e===null||Tt||(e=e.dependencies,e!==null&&of(e)&&(Tt=!0))}function ZA(e,t,n,s){Se=e;var r=0;do{if(di&&(fi=null),jc=0,di=!1,25<=r)throw Error(G(301));if(r+=1,gt=He=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ge.H=dJ,a=t(n,s)}while(di);return a}function aJ(){var e=ge.H,t=e.useState()[0];return t=typeof t.then=="function"?au(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(Se.flags|=1024),t}function Ey(){var e=uf!==0;return uf=0,e}function _y(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ay(e){if(cf){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cf=!1}da=0,gt=He=Se=null,di=!1,jc=uf=0,fi=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Se.memoizedState=gt=e:gt=gt.next=e,gt}function xt(){if(He===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=gt===null?Se.memoizedState:gt.next;if(t!==null)gt=t,He=e;else{if(e===null)throw Se.alternate===null?Error(G(467)):Error(G(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},gt===null?Se.memoizedState=gt=e:gt=gt.next=e}return gt}function Ty(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(e){var t=jc;return jc+=1,fi===null&&(fi=[]),e=FA(fi,e,t),t=Se,(gt===null?t.memoizedState:gt.next)===null&&(t=t.alternate,ge.H=t===null||t.memoizedState===null?NT:jT),e}function Am(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return au(e);if(e.$$typeof===sr)return Ut(e)}throw Error(G(438,String(e)))}function My(e){var t=null,n=Se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=Se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ty(),Se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=FW;return t.index++,n}function br(e,t){return typeof t=="function"?t(e):t}function gd(e){var t=xt();return Ry(t,He,e)}function Ry(e,t,n){var s=e.queue;if(s===null)throw Error(G(311));s.lastRenderedReducer=n;var r=e.baseQueue,a=s.pending;if(a!==null){if(r!==null){var i=r.next;r.next=a.next,a.next=i}t.baseQueue=r=a,s.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var l=i=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Te&f)===f:(da&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===zi&&(d=!0);else if((da&m)===m){u=u.next,m===zi&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,i=a):c=c.next=f,Se.lanes|=m,ma|=m;f=u.action,no&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,i=a):c=c.next=m,Se.lanes|=f,ma|=f;u=u.next}while(u!==null&&u!==t);if(c===null?i=a:c.next=l,!Cn(a,e.memoizedState)&&(Tt=!0,d&&(n=ui,n!==null)))throw n;e.memoizedState=a,e.baseState=i,e.baseQueue=c,s.lastRenderedState=a}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Fh(e){var t=xt(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do a=e(a,i.action),i=i.next;while(i!==r);Cn(a,t.memoizedState)||(Tt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function YA(e,t,n){var s=Se,r=xt(),a=Re;if(a){if(n===void 0)throw Error(G(407));n=n()}else n=t();var i=!Cn((He||r).memoizedState,n);i&&(r.memoizedState=n,Tt=!0),r=r.queue;var l=WA.bind(null,s,r,e);if(ou(2048,8,l,[e]),r.getSnapshot!==t||i||gt!==null&&gt.memoizedState.tag&1){if(s.flags|=2048,$i(9,Tm(),KA.bind(null,s,r,n,t),null),Ze===null)throw Error(G(349));a||da&124||XA(s,t,n)}return n}function XA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t=Ty(),Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KA(e,t,n,s){t.value=n,t.getSnapshot=s,QA(t)&&JA(e)}function WA(e,t,n){return n(function(){QA(t)&&JA(e)})}function QA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function JA(e){var t=al(e,2);t!==null&&jn(t,e,2)}function Dp(e){var t=Jt();if(typeof e=="function"){var n=e;if(e=n(),no){Zr(!0);try{n()}finally{Zr(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t}function eT(e,t,n,s){return e.baseState=n,Ry(e,He,typeof s=="function"?s:br)}function oJ(e,t,n,s,r){if(Mm(e))throw Error(G(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){a.listeners.push(i)}};ge.T!==null?n(!0):a.isTransition=!1,s(a),n=t.pending,n===null?(a.next=t.pending=a,tT(t,a)):(a.next=n.next,t.pending=n.next=a)}}function tT(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var a=ge.T,i={};ge.T=i;try{var l=n(r,s),c=ge.S;c!==null&&c(i,l),R1(e,t,l)}catch(u){zp(e,t,u)}finally{ge.T=a}}else try{a=n(r,s),R1(e,t,a)}catch(u){zp(e,t,u)}}function R1(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){D1(e,t,s)},function(s){return zp(e,t,s)}):D1(e,t,n)}function D1(e,t,n){t.status="fulfilled",t.value=n,nT(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,tT(e,n)))}function zp(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,nT(t),t=t.next;while(t!==s)}e.action=null}function nT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sT(e,t){return t}function z1(e,t){if(Re){var n=Ze.formState;if(n!==null){e:{var s=Se;if(Re){if(at){t:{for(var r=at,a=xs;r.nodeType!==8;){if(!a){r=null;break t}if(r=es(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){at=es(r.nextSibling),s=r.data==="F!";break e}}eo(s)}s=!1}s&&(t=n[0])}}return n=Jt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sT,lastRenderedState:t},n.queue=s,n=vT.bind(null,Se,s),s.dispatch=n,s=Dp(!1),a=$y.bind(null,Se,!1,s.queue),s=Jt(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,n=oJ.bind(null,Se,r,a,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function L1(e){var t=xt();return rT(t,He,e)}function rT(e,t,n){if(t=Ry(e,t,sT)[0],e=gd(br)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=au(t)}catch(i){throw i===ru?_m:i}else s=t;t=xt();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(Se.flags|=2048,$i(9,Tm(),iJ.bind(null,r,n),null)),[s,a,e]}function iJ(e,t){e.action=t}function $1(e){var t=xt(),n=He;if(n!==null)return rT(t,n,e);xt(),t=t.memoizedState,n=xt();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function $i(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=Se.updateQueue,t===null&&(t=Ty(),Se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Tm(){return{destroy:void 0,resource:void 0}}function aT(){return xt().memoizedState}function pd(e,t,n,s){var r=Jt();s=s===void 0?null:s,Se.flags|=e,r.memoizedState=$i(1|t,Tm(),n,s)}function ou(e,t,n,s){var r=xt();s=s===void 0?null:s;var a=r.memoizedState.inst;He!==null&&s!==null&&Cy(s,He.memoizedState.deps)?r.memoizedState=$i(t,a,n,s):(Se.flags|=e,r.memoizedState=$i(1|t,a,n,s))}function P1(e,t){pd(8390656,8,e,t)}function oT(e,t){ou(2048,8,e,t)}function iT(e,t){return ou(4,2,e,t)}function lT(e,t){return ou(4,4,e,t)}function cT(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uT(e,t,n){n=n!=null?n.concat([e]):null,ou(4,4,cT.bind(null,t,e),n)}function Dy(){}function dT(e,t){var n=xt();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Cy(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function fT(e,t){var n=xt();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Cy(t,s[1]))return s[0];if(s=e(),no){Zr(!0);try{e()}finally{Zr(!1)}}return n.memoizedState=[s,t],s}function zy(e,t,n){return n===void 0||da&1073741824?e.memoizedState=t:(e.memoizedState=n,e=nM(),Se.lanes|=e,ma|=e,n)}function mT(e,t,n,s){return Cn(n,t)?n:Li.current!==null?(e=zy(e,n,s),Cn(e,t)||(Tt=!0),e):da&42?(e=nM(),Se.lanes|=e,ma|=e,t):(Tt=!0,e.memoizedState=n)}function hT(e,t,n,s,r){var a=De.p;De.p=a!==0&&8>a?a:8;var i=ge.T,l={};ge.T=l,$y(e,!1,t,n);try{var c=r(),u=ge.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=sJ(c,s);Zl(e,t,d,Nn(e))}else Zl(e,t,s,Nn(e))}catch(f){Zl(e,t,{then:function(){},status:"rejected",reason:f},Nn())}finally{De.p=a,ge.T=i}}function lJ(){}function Lp(e,t,n,s){if(e.tag!==5)throw Error(G(476));var r=gT(e).queue;hT(e,r,t,Ba,n===null?lJ:function(){return pT(e),n(s)})}function gT(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ba,baseState:Ba,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:Ba},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pT(e){var t=gT(e).next.queue;Zl(e,t,{},Nn())}function Ly(){return Ut(_c)}function xT(){return xt().memoizedState}function yT(){return xt().memoizedState}function cJ(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Nn();e=ta(n);var s=na(t,e,n);s!==null&&(jn(s,t,n),Vl(s,t,n)),t={cache:wy()},e.payload=t;return}t=t.return}}function uJ(e,t,n){var s=Nn();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Mm(e)?bT(t,n):(n=xy(e,t,n,s),n!==null&&(jn(n,e,s),wT(n,t,s)))}function vT(e,t,n){var s=Nn();Zl(e,t,n,s)}function Zl(e,t,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mm(e))bT(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(r.hasEagerState=!0,r.eagerState=l,Cn(l,i))return Em(e,t,r,0),Ze===null&&km(),!1}catch{}finally{}if(n=xy(e,t,r,s),n!==null)return jn(n,e,s),wT(n,t,s),!0}return!1}function $y(e,t,n,s){if(s={lane:2,revertLane:Vy(),action:s,hasEagerState:!1,eagerState:null,next:null},Mm(e)){if(t)throw Error(G(479))}else t=xy(e,n,s,2),t!==null&&jn(t,e,2)}function Mm(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function bT(e,t){di=cf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wT(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,dA(e,n)}}var df={readContext:Ut,use:Am,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},NT={readContext:Ut,use:Am,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:P1,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,pd(4194308,4,cT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pd(4194308,4,e,t)},useInsertionEffect:function(e,t){pd(4,2,e,t)},useMemo:function(e,t){var n=Jt();t=t===void 0?null:t;var s=e();if(no){Zr(!0);try{e()}finally{Zr(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Jt();if(n!==void 0){var r=n(t);if(no){Zr(!0);try{n(t)}finally{Zr(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=uJ.bind(null,Se,e),[s.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:function(e){e=Dp(e);var t=e.queue,n=vT.bind(null,Se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Dy,useDeferredValue:function(e,t){var n=Jt();return zy(n,e,t)},useTransition:function(){var e=Dp(!1);return e=hT.bind(null,Se,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=Se,r=Jt();if(Re){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),Ze===null)throw Error(G(349));Te&124||XA(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,P1(WA.bind(null,s,a,e),[e]),s.flags|=2048,$i(9,Tm(),KA.bind(null,s,a,n,t),null),n},useId:function(){var e=Jt(),t=Ze.identifierPrefix;if(Re){var n=ar,s=rr;n=(s&~(1<<32-wn(s)-1)).toString(32)+n,t=""+t+"R"+n,n=uf++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=rJ++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ly,useFormState:z1,useActionState:z1,useOptimistic:function(e){var t=Jt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$y.bind(null,Se,!0,n),n.dispatch=t,[e,t]},useMemoCache:My,useCacheRefresh:function(){return Jt().memoizedState=cJ.bind(null,Se)}},jT={readContext:Ut,use:Am,useCallback:dT,useContext:Ut,useEffect:oT,useImperativeHandle:uT,useInsertionEffect:iT,useLayoutEffect:lT,useMemo:fT,useReducer:gd,useRef:aT,useState:function(){return gd(br)},useDebugValue:Dy,useDeferredValue:function(e,t){var n=xt();return mT(n,He.memoizedState,e,t)},useTransition:function(){var e=gd(br)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:au(e),t]},useSyncExternalStore:YA,useId:xT,useHostTransitionStatus:Ly,useFormState:L1,useActionState:L1,useOptimistic:function(e,t){var n=xt();return eT(n,He,e,t)},useMemoCache:My,useCacheRefresh:yT},dJ={readContext:Ut,use:Am,useCallback:dT,useContext:Ut,useEffect:oT,useImperativeHandle:uT,useInsertionEffect:iT,useLayoutEffect:lT,useMemo:fT,useReducer:Fh,useRef:aT,useState:function(){return Fh(br)},useDebugValue:Dy,useDeferredValue:function(e,t){var n=xt();return He===null?zy(n,e,t):mT(n,He.memoizedState,e,t)},useTransition:function(){var e=Fh(br)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:au(e),t]},useSyncExternalStore:YA,useId:xT,useHostTransitionStatus:Ly,useFormState:$1,useActionState:$1,useOptimistic:function(e,t){var n=xt();return He!==null?eT(n,He,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:My,useCacheRefresh:yT},mi=null,Sc=0;function Zu(e){var t=Sc;return Sc+=1,mi===null&&(mi=[]),FA(mi,e,t)}function jl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yu(e,t){throw t.$$typeof===HW?Error(G(525)):(e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function O1(e){var t=e._init;return t(e._payload)}function ST(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function s(x){for(var b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function r(x,b){return x=dr(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=67108866,b):w):(x.flags|=67108866,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function l(x,b,w,N){return b===null||b.tag!==6?(b=Ih(w,x.mode,N),b.return=x,b):(b=r(b,w),b.return=x,b)}function c(x,b,w,N){var j=w.type;return j===Uo?d(x,b,w.props.children,N,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Or&&O1(j)===b.type)?(b=r(b,w.props),jl(b,w),b.return=x,b):(b=md(w.type,w.key,w.props,null,x.mode,N),jl(b,w),b.return=x,b)}function u(x,b,w,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Hh(w,x.mode,N),b.return=x,b):(b=r(b,w.children||[]),b.return=x,b)}function d(x,b,w,N,j){return b===null||b.tag!==7?(b=Ia(w,x.mode,N,j),b.return=x,b):(b=r(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Ih(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Iu:return w=md(b.type,b.key,b.props,null,x.mode,w),jl(w,b),w.return=x,w;case Ml:return b=Hh(b,x.mode,w),b.return=x,b;case Or:var N=b._init;return b=N(b._payload),f(x,b,w)}if(Rl(b)||vl(b))return b=Ia(b,x.mode,w,null),b.return=x,b;if(typeof b.then=="function")return f(x,Zu(b),w);if(b.$$typeof===sr)return f(x,qu(x,b),w);Yu(x,b)}return null}function m(x,b,w,N){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return j!==null?null:l(x,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Iu:return w.key===j?c(x,b,w,N):null;case Ml:return w.key===j?u(x,b,w,N):null;case Or:return j=w._init,w=j(w._payload),m(x,b,w,N)}if(Rl(w)||vl(w))return j!==null?null:d(x,b,w,N,null);if(typeof w.then=="function")return m(x,b,Zu(w),N);if(w.$$typeof===sr)return m(x,b,qu(x,w),N);Yu(x,w)}return null}function h(x,b,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return x=x.get(w)||null,l(b,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Iu:return x=x.get(N.key===null?w:N.key)||null,c(b,x,N,j);case Ml:return x=x.get(N.key===null?w:N.key)||null,u(b,x,N,j);case Or:var S=N._init;return N=S(N._payload),h(x,b,w,N,j)}if(Rl(N)||vl(N))return x=x.get(w)||null,d(b,x,N,j,null);if(typeof N.then=="function")return h(x,b,w,Zu(N),j);if(N.$$typeof===sr)return h(x,b,w,qu(b,N),j);Yu(b,N)}return null}function p(x,b,w,N){for(var j=null,S=null,C=b,k=b=0,E=null;C!==null&&k<w.length;k++){C.index>k?(E=C,C=null):E=C.sibling;var _=m(x,C,w[k],N);if(_===null){C===null&&(C=E);break}e&&C&&_.alternate===null&&t(x,C),b=a(_,b,k),S===null?j=_:S.sibling=_,S=_,C=E}if(k===w.length)return n(x,C),Re&&Ea(x,k),j;if(C===null){for(;k<w.length;k++)C=f(x,w[k],N),C!==null&&(b=a(C,b,k),S===null?j=C:S.sibling=C,S=C);return Re&&Ea(x,k),j}for(C=s(C);k<w.length;k++)E=h(C,x,k,w[k],N),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?k:E.key),b=a(E,b,k),S===null?j=E:S.sibling=E,S=E);return e&&C.forEach(function(P){return t(x,P)}),Re&&Ea(x,k),j}function y(x,b,w,N){if(w==null)throw Error(G(151));for(var j=null,S=null,C=b,k=b=0,E=null,_=w.next();C!==null&&!_.done;k++,_=w.next()){C.index>k?(E=C,C=null):E=C.sibling;var P=m(x,C,_.value,N);if(P===null){C===null&&(C=E);break}e&&C&&P.alternate===null&&t(x,C),b=a(P,b,k),S===null?j=P:S.sibling=P,S=P,C=E}if(_.done)return n(x,C),Re&&Ea(x,k),j;if(C===null){for(;!_.done;k++,_=w.next())_=f(x,_.value,N),_!==null&&(b=a(_,b,k),S===null?j=_:S.sibling=_,S=_);return Re&&Ea(x,k),j}for(C=s(C);!_.done;k++,_=w.next())_=h(C,x,k,_.value,N),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?k:_.key),b=a(_,b,k),S===null?j=_:S.sibling=_,S=_);return e&&C.forEach(function(O){return t(x,O)}),Re&&Ea(x,k),j}function v(x,b,w,N){if(typeof w=="object"&&w!==null&&w.type===Uo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Iu:e:{for(var j=w.key;b!==null;){if(b.key===j){if(j=w.type,j===Uo){if(b.tag===7){n(x,b.sibling),N=r(b,w.props.children),N.return=x,x=N;break e}}else if(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Or&&O1(j)===b.type){n(x,b.sibling),N=r(b,w.props),jl(N,w),N.return=x,x=N;break e}n(x,b);break}else t(x,b);b=b.sibling}w.type===Uo?(N=Ia(w.props.children,x.mode,N,w.key),N.return=x,x=N):(N=md(w.type,w.key,w.props,null,x.mode,N),jl(N,w),N.return=x,x=N)}return i(x);case Ml:e:{for(j=w.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),N=r(b,w.children||[]),N.return=x,x=N;break e}else{n(x,b);break}else t(x,b);b=b.sibling}N=Hh(w,x.mode,N),N.return=x,x=N}return i(x);case Or:return j=w._init,w=j(w._payload),v(x,b,w,N)}if(Rl(w))return p(x,b,w,N);if(vl(w)){if(j=vl(w),typeof j!="function")throw Error(G(150));return w=j.call(w),y(x,b,w,N)}if(typeof w.then=="function")return v(x,b,Zu(w),N);if(w.$$typeof===sr)return v(x,b,qu(x,w),N);Yu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),N=r(b,w),N.return=x,x=N):(n(x,b),N=Ih(w,x.mode,N),N.return=x,x=N),i(x)):n(x,b)}return function(x,b,w,N){try{Sc=0;var j=v(x,b,w,N);return mi=null,j}catch(C){if(C===ru||C===_m)throw C;var S=xn(29,C,null,x.mode);return S.lanes=N,S.return=x,S}finally{}}}var Pi=ST(!0),CT=ST(!1),Un=$s(null),ks=null;function Fr(e){var t=e.alternate;Qe(St,St.current&1),Qe(Un,e),ks===null&&(t===null||Li.current!==null||t.memoizedState!==null)&&(ks=e)}function kT(e){if(e.tag===22){if(Qe(St,St.current),Qe(Un,e),ks===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ks=e)}}else Vr()}function Vr(){Qe(St,St.current),Qe(Un,Un.current)}function ir(e){Mt(Un),ks===e&&(ks=null),Mt(St)}var St=$s(0);function ff(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Qp(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Vh(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $p={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Nn(),r=ta(s);r.payload=t,n!=null&&(r.callback=n),t=na(e,r,s),t!==null&&(jn(t,e,s),Vl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Nn(),r=ta(s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=na(e,r,s),t!==null&&(jn(t,e,s),Vl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nn(),s=ta(n);s.tag=2,t!=null&&(s.callback=t),t=na(e,s,n),t!==null&&(jn(t,e,n),Vl(t,e,n))}};function B1(e,t,n,s,r,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!wc(n,s)||!wc(r,a):!0}function I1(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&$p.enqueueReplaceState(t,t.state,null)}function so(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=Xe({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var mf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ET(e){mf(e)}function _T(e){console.error(e)}function AT(e){mf(e)}function hf(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function H1(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Pp(e,t,n){return n=ta(n),n.tag=3,n.payload={element:null},n.callback=function(){hf(e,t)},n}function TT(e){return e=ta(e),e.tag=3,e}function MT(e,t,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;e.payload=function(){return r(a)},e.callback=function(){H1(t,n,s)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){H1(t,n,s),typeof r!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function fJ(e,t,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&nu(t,n,r,!0),n=Un.current,n!==null){switch(n.tag){case 13:return ks===null?qp():n.alternate===null&&ot===0&&(ot=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Ap?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),tg(e,s,r)),!1;case 22:return n.flags|=65536,s===Ap?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),tg(e,s,r)),!1}throw Error(G(435,n.tag))}return tg(e,s,r),qp(),!1}if(Re)return t=Un.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Sp&&(e=Error(G(422),{cause:s}),Nc(Ln(e,n)))):(s!==Sp&&(t=Error(G(423),{cause:s}),Nc(Ln(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Ln(s,n),r=Pp(e.stateNode,s,r),Uh(e,r),ot!==4&&(ot=2)),!1;var a=Error(G(520),{cause:s});if(a=Ln(a,n),Kl===null?Kl=[a]:Kl.push(a),ot!==4&&(ot=2),t===null)return!0;s=Ln(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Pp(n.stateNode,s,e),Uh(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(sa===null||!sa.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=TT(r),MT(r,e,n,s),Uh(n,r),!1}n=n.return}while(n!==null);return!1}var RT=Error(G(461)),Tt=!1;function Lt(e,t,n,s){t.child=e===null?CT(t,null,n,s):Pi(t,e.child,n,s)}function U1(e,t,n,s,r){n=n.render;var a=t.ref;if("ref"in s){var i={};for(var l in s)l!=="ref"&&(i[l]=s[l])}else i=s;return to(t),s=ky(e,t,n,i,a,r),l=Ey(),e!==null&&!Tt?(_y(e,t,r),wr(e,t,r)):(Re&&l&&vy(t),t.flags|=1,Lt(e,t,s,r),t.child)}function F1(e,t,n,s,r){if(e===null){var a=n.type;return typeof a=="function"&&!yy(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,DT(e,t,a,s,r)):(e=md(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Py(e,r)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:wc,n(i,s)&&e.ref===t.ref)return wr(e,t,r)}return t.flags|=1,e=dr(a,s),e.ref=t.ref,e.return=t,t.child=e}function DT(e,t,n,s,r){if(e!==null){var a=e.memoizedProps;if(wc(a,s)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=s=a,Py(e,r))e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,wr(e,t,r)}return Op(e,t,n,s,r)}function zT(e,t,n){var s=t.pendingProps,r=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~s}else t.childLanes=0,t.child=null;return V1(e,t,s,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hd(t,a!==null?a.cachePool:null),a!==null?M1(t,a):Rp(),kT(t);else return t.lanes=t.childLanes=536870912,V1(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(hd(t,a.cachePool),M1(t,a),Vr(),t.memoizedState=null):(e!==null&&hd(t,null),Rp(),Vr());return Lt(e,t,r,n),t.child}function V1(e,t,n,s){var r=Ny();return r=r===null?null:{parent:jt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&hd(t,null),Rp(),kT(t),e!==null&&nu(e,t,s,!0),null}function xd(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(G(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Op(e,t,n,s,r){return to(t),n=ky(e,t,n,s,void 0,r),s=Ey(),e!==null&&!Tt?(_y(e,t,r),wr(e,t,r)):(Re&&s&&vy(t),t.flags|=1,Lt(e,t,n,r),t.child)}function q1(e,t,n,s,r,a){return to(t),t.updateQueue=null,n=ZA(t,s,n,r),GA(e),s=Ey(),e!==null&&!Tt?(_y(e,t,a),wr(e,t,a)):(Re&&s&&vy(t),t.flags|=1,Lt(e,t,n,a),t.child)}function G1(e,t,n,s,r){if(to(t),t.stateNode===null){var a=Ko,i=n.contextType;typeof i=="object"&&i!==null&&(a=Ut(i)),a=new n(s,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=$p,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=s,a.state=t.memoizedState,a.refs={},jy(t),i=n.contextType,a.context=typeof i=="object"&&i!==null?Ut(i):Ko,a.state=t.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(Vh(t,n,i,s),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(i=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),i!==a.state&&$p.enqueueReplaceState(a,a.state,null),Gl(t,s,a,r),ql(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){a=t.stateNode;var l=t.memoizedProps,c=so(n,l);a.props=c;var u=a.context,d=n.contextType;i=Ko,typeof d=="object"&&d!==null&&(i=Ut(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==i)&&I1(t,a,s,i),Br=!1;var m=t.memoizedState;a.state=m,Gl(t,s,a,r),ql(),u=t.memoizedState,l||m!==u||Br?(typeof f=="function"&&(Vh(t,n,f,s),u=t.memoizedState),(c=Br||B1(t,n,c,s,m,u,i))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),a.props=s,a.state=u,a.context=i,s=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Tp(e,t),i=t.memoizedProps,d=so(n,i),a.props=d,f=t.pendingProps,m=a.context,u=n.contextType,c=Ko,typeof u=="object"&&u!==null&&(c=Ut(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||m!==c)&&I1(t,a,s,c),Br=!1,m=t.memoizedState,a.state=m,Gl(t,s,a,r),ql();var h=t.memoizedState;i!==f||m!==h||Br||e!==null&&e.dependencies!==null&&of(e.dependencies)?(typeof l=="function"&&(Vh(t,n,l,s),h=t.memoizedState),(d=Br||B1(t,n,d,s,m,h,c)||e!==null&&e.dependencies!==null&&of(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,h,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,h,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=h),a.props=s,a.state=h,a.context=c,s=d):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return a=s,xd(e,t),s=(t.flags&128)!==0,a||s?(a=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&s?(t.child=Pi(t,e.child,null,r),t.child=Pi(t,null,n,r)):Lt(e,t,n,r),t.memoizedState=a.state,e=t.child):e=wr(e,t,r),e}function Z1(e,t,n,s){return tu(),t.flags|=256,Lt(e,t,n,s),t.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gh(e){return{baseLanes:e,cachePool:HA()}}function Zh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=On),e}function LT(e,t,n){var s=t.pendingProps,r=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),i&&(r=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(r?Fr(t):Vr(),Re){var l=at,c;if(c=l){e:{for(c=l,l=xs;c.nodeType!==8;){if(!l){l=null;break e}if(c=es(c.nextSibling),c===null){l=null;break e}}l=c}l!==null?(t.memoizedState={dehydrated:l,treeContext:Ha!==null?{id:rr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},c=xn(18,null,null,0),c.stateNode=l,c.return=t,t.child=c,qt=t,at=null,c=!0):c=!1}c||eo(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Qp(l)?t.lanes=32:t.lanes=536870912,null;ir(t)}return l=s.children,s=s.fallback,r?(Vr(),r=t.mode,l=gf({mode:"hidden",children:l},r),s=Ia(s,r,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,r=t.child,r.memoizedState=Gh(n),r.childLanes=Zh(e,i,n),t.memoizedState=qh,s):(Fr(t),Bp(t,l))}if(c=e.memoizedState,c!==null&&(l=c.dehydrated,l!==null)){if(a)t.flags&256?(Fr(t),t.flags&=-257,t=Yh(e,t,n)):t.memoizedState!==null?(Vr(),t.child=e.child,t.flags|=128,t=null):(Vr(),r=s.fallback,l=t.mode,s=gf({mode:"visible",children:s.children},l),r=Ia(r,l,n,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,Pi(t,e.child,null,n),s=t.child,s.memoizedState=Gh(n),s.childLanes=Zh(e,i,n),t.memoizedState=qh,t=r);else if(Fr(t),Qp(l)){if(i=l.nextSibling&&l.nextSibling.dataset,i)var u=i.dgst;i=u,s=Error(G(419)),s.stack="",s.digest=i,Nc({value:s,source:null,stack:null}),t=Yh(e,t,n)}else if(Tt||nu(e,t,n,!1),i=(n&e.childLanes)!==0,Tt||i){if(i=Ze,i!==null&&(s=n&-n,s=s&42?1:iy(s),s=s&(i.suspendedLanes|n)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,al(e,s),jn(i,e,s),RT;l.data==="$?"||qp(),t=Yh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,at=es(l.nextSibling),qt=t,Re=!0,Ua=null,xs=!1,e!==null&&(Mn[Rn++]=rr,Mn[Rn++]=ar,Mn[Rn++]=Ha,rr=e.id,ar=e.overflow,Ha=t),t=Bp(t,s.children),t.flags|=4096);return t}return r?(Vr(),r=s.fallback,l=t.mode,c=e.child,u=c.sibling,s=dr(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?r=dr(u,r):(r=Ia(r,l,n,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,l=e.child.memoizedState,l===null?l=Gh(n):(c=l.cachePool,c!==null?(u=jt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=HA(),l={baseLanes:l.baseLanes|n,cachePool:c}),r.memoizedState=l,r.childLanes=Zh(e,i,n),t.memoizedState=qh,s):(Fr(t),n=e.child,e=n.sibling,n=dr(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Bp(e,t){return t=gf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gf(e,t){return e=xn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Yh(e,t,n){return Pi(t,e.child,null,n),e=Bp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y1(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),kp(e.return,t,n)}function Xh(e,t,n,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function $T(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(Lt(e,t,s.children,n),s=St.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Y1(e,n,t);else if(e.tag===19)Y1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(Qe(St,s),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ff(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Xh(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ff(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Xh(t,!0,n,null,a);break;case"together":Xh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,!(n&t.childLanes))if(e!==null){if(nu(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Py(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&of(e)))}function mJ(e,t,n){switch(t.tag){case 3:Qd(t,t.stateNode.containerInfo),Ur(t,jt,e.memoizedState.cache),tu();break;case 27:case 5:hp(t);break;case 4:Qd(t,t.stateNode.containerInfo);break;case 10:Ur(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Fr(t),t.flags|=128,null):n&t.child.childLanes?LT(e,t,n):(Fr(t),e=wr(e,t,n),e!==null?e.sibling:null);Fr(t);break;case 19:var r=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(nu(e,t,n,!1),s=(n&t.childLanes)!==0),r){if(s)return $T(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Qe(St,St.current),s)break;return null;case 22:case 23:return t.lanes=0,zT(e,t,n);case 24:Ur(t,jt,e.memoizedState.cache)}return wr(e,t,n)}function PT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Tt=!0;else{if(!Py(e,n)&&!(t.flags&128))return Tt=!1,mJ(e,t,n);Tt=!!(e.flags&131072)}else Tt=!1,Re&&t.flags&1048576&&BA(t,af,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,typeof s=="function")yy(s)?(e=so(s,e),t.tag=1,t=G1(null,t,s,e,n)):(t.tag=0,t=Op(null,t,s,e,n));else{if(s!=null){if(r=s.$$typeof,r===ry){t.tag=11,t=U1(null,t,s,e,n);break e}else if(r===ay){t.tag=14,t=F1(null,t,s,e,n);break e}}throw t=fp(s)||s,Error(G(306,t,""))}}return t;case 0:return Op(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,r=so(s,t.pendingProps),G1(e,t,s,r,n);case 3:e:{if(Qd(t,t.stateNode.containerInfo),e===null)throw Error(G(387));s=t.pendingProps;var a=t.memoizedState;r=a.element,Tp(e,t),Gl(t,s,null,n);var i=t.memoizedState;if(s=i.cache,Ur(t,jt,s),s!==a.cache&&Ep(t,[jt],n,!0),ql(),s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Z1(e,t,s,n);break e}else if(s!==r){r=Ln(Error(G(424)),t),Nc(r),t=Z1(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=es(e.firstChild),qt=t,Re=!0,Ua=null,xs=!0,n=CT(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(tu(),s===r){t=wr(e,t,n);break e}Lt(e,t,s,n)}t=t.child}return t;case 26:return xd(e,t),e===null?(n=dN(t.type,null,t.pendingProps,null))?t.memoizedState=n:Re||(n=t.type,e=t.pendingProps,s=Nf(ea.current).createElement(n),s[Ht]=t,s[an]=e,Ot(s,n,e),At(s),t.stateNode=s):t.memoizedState=dN(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hp(t),e===null&&Re&&(s=t.stateNode=jM(t.type,t.pendingProps,ea.current),qt=t,xs=!0,r=at,va(t.type)?(Jp=r,at=es(s.firstChild)):at=r),Lt(e,t,t.pendingProps.children,n),xd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((r=s=at)&&(s=HJ(s,t.type,t.pendingProps,xs),s!==null?(t.stateNode=s,qt=t,at=es(s.firstChild),xs=!1,r=!0):r=!1),r||eo(t)),hp(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Kp(r,a)?s=null:i!==null&&Kp(r,i)&&(t.flags|=32),t.memoizedState!==null&&(r=ky(e,t,aJ,null,null,n),_c._currentValue=r),xd(e,t),Lt(e,t,s,n),t.child;case 6:return e===null&&Re&&((e=n=at)&&(n=UJ(n,t.pendingProps,xs),n!==null?(t.stateNode=n,qt=t,at=null,e=!0):e=!1),e||eo(t)),null;case 13:return LT(e,t,n);case 4:return Qd(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Pi(t,null,s,n):Lt(e,t,s,n),t.child;case 11:return U1(e,t,t.type,t.pendingProps,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Ur(t,t.type,s.value),Lt(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,to(t),r=Ut(r),s=s(r),t.flags|=1,Lt(e,t,s,n),t.child;case 14:return F1(e,t,t.type,t.pendingProps,n);case 15:return DT(e,t,t.type,t.pendingProps,n);case 19:return $T(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=gf(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=dr(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return zT(e,t,n);case 24:return to(t),s=Ut(jt),e===null?(r=Ny(),r===null&&(r=Ze,a=wy(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:s,cache:r},jy(t),Ur(t,jt,r)):(e.lanes&n&&(Tp(e,t),Gl(t,null,null,n),ql()),r=e.memoizedState,a=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ur(t,jt,s)):(s=a.cache,Ur(t,jt,s),s!==r.cache&&Ep(t,[jt],n,!0))),Lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(G(156,t.tag))}function Ys(e){e.flags|=4}function X1(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!kM(t)){if(t=Un.current,t!==null&&((Te&4194048)===Te?ks!==null:(Te&62914560)!==Te&&!(Te&536870912)||t!==ks))throw Fl=Ap,UA;e.flags|=8192}}function Xu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?cA():536870912,e.lanes|=t,Oi|=t)}function Sl(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function hJ(e,t,n){var s=t.pendingProps;switch(by(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return et(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),fr(jt),Mi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Nl(t)?Ys(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,C1())),et(t),null;case 26:return n=t.memoizedState,e===null?(Ys(t),n!==null?(et(t),X1(t,n)):(et(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ys(t),et(t),X1(t,n)):(et(t),t.flags&=-16777217):(e.memoizedProps!==s&&Ys(t),et(t),t.flags&=-16777217),null;case 27:Jd(t),n=ea.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ys(t);else{if(!s){if(t.stateNode===null)throw Error(G(166));return et(t),null}e=Ss.current,Nl(t)?j1(t):(e=jM(r,s,n),t.stateNode=e,Ys(t))}return et(t),null;case 5:if(Jd(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ys(t);else{if(!s){if(t.stateNode===null)throw Error(G(166));return et(t),null}if(e=Ss.current,Nl(t))j1(t);else{switch(r=Nf(ea.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}e[Ht]=t,e[an]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Ot(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ys(t)}}return et(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ys(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(G(166));if(e=ea.current,Nl(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,r=qt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[Ht]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||bM(e.nodeValue,n)),e||eo(t)}else e=Nf(e).createTextNode(s),e[Ht]=t,t.stateNode=e}return et(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Nl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(G(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(G(317));r[Ht]=t}else tu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),r=!1}else r=C1(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(ir(t),t):(ir(t),null)}if(ir(t),t.flags&128)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var a=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==r&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Xu(t,t.updateQueue),et(t),null;case 4:return Mi(),e===null&&qy(t.stateNode.containerInfo),et(t),null;case 10:return fr(t.type),et(t),null;case 19:if(Mt(St),r=t.memoizedState,r===null)return et(t),null;if(s=(t.flags&128)!==0,a=r.rendering,a===null)if(s)Sl(r,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ff(e),a!==null){for(t.flags|=128,Sl(r,!1),e=a.updateQueue,t.updateQueue=e,Xu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)OA(n,e),n=n.sibling;return Qe(St,St.current&1|2),t.child}e=e.sibling}r.tail!==null&&Cs()>xf&&(t.flags|=128,s=!0,Sl(r,!1),t.lanes=4194304)}else{if(!s)if(e=ff(a),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Xu(t,e),Sl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Re)return et(t),null}else 2*Cs()-r.renderingStartTime>xf&&n!==536870912&&(t.flags|=128,s=!0,Sl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Cs(),t.sibling=null,e=St.current,Qe(St,s?e&1|2:e&1),t):(et(t),null);case 22:case 23:return ir(t),Sy(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),n=t.updateQueue,n!==null&&Xu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Mt(Fa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),fr(jt),et(t),null;case 25:return null;case 30:return null}throw Error(G(156,t.tag))}function gJ(e,t){switch(by(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(jt),Mi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Jd(t),null;case 13:if(ir(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));tu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mt(St),null;case 4:return Mi(),null;case 10:return fr(t.type),null;case 22:case 23:return ir(t),Sy(),e!==null&&Mt(Fa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fr(jt),null;case 25:return null;default:return null}}function OT(e,t){switch(by(t),t.tag){case 3:fr(jt),Mi();break;case 26:case 27:case 5:Jd(t);break;case 4:Mi();break;case 13:ir(t);break;case 19:Mt(St);break;case 10:fr(t.type);break;case 22:case 23:ir(t),Sy(),e!==null&&Mt(Fa);break;case 24:fr(jt)}}function iu(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var a=n.create,i=n.inst;s=a(),i.destroy=s}n=n.next}while(n!==r)}}catch(l){Ve(t,t.return,l)}}function fa(e,t,n){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var a=r.next;s=a;do{if((s.tag&e)===e){var i=s.inst,l=i.destroy;if(l!==void 0){i.destroy=void 0,r=t;var c=n,u=l;try{u()}catch(d){Ve(r,c,d)}}}s=s.next}while(s!==a)}}catch(d){Ve(t,t.return,d)}}function BT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{qA(t,n)}catch(s){Ve(e,e.return,s)}}}function IT(e,t,n){n.props=so(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ve(e,t,s)}}function Yl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(r){Ve(e,t,r)}}function bs(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){Ve(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function HT(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){Ve(e,e.return,r)}}function Kh(e,t,n){try{var s=e.stateNode;$J(s,e.type,n,t),s[an]=t}catch(r){Ve(e,e.return,r)}}function UT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&va(e.type)||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ip(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Lm));else if(s!==4&&(s===27&&va(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ip(e,t,n),e=e.sibling;e!==null;)Ip(e,t,n),e=e.sibling}function pf(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&va(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(pf(e,t,n),e=e.sibling;e!==null;)pf(e,t,n),e=e.sibling}function FT(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ot(t,s,n),t[Ht]=e,t[an]=n}catch(a){Ve(e,e.return,a)}}var Js=!1,dt=!1,Qh=!1,K1=typeof WeakSet=="function"?WeakSet:Set,_t=null;function pJ(e,t){if(e=e.containerInfo,Yp=kf,e=TA(e),gy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==n||r!==0&&f.nodeType!==3||(l=i+r),f!==a||s!==0&&f.nodeType!==3||(c=i+s),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===r&&(l=i),m===a&&++d===s&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xp={focusedElem:e,selectionRange:n},kf=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,s=n.stateNode;try{var p=so(n.type,r,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(p,a),s.__reactInternalSnapshotBeforeUpdate=e}catch(y){Ve(n,n.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Wp(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(G(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function VT(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Dr(e,n),s&4&&iu(5,n);break;case 1:if(Dr(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(i){Ve(n,n.return,i)}else{var r=so(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Ve(n,n.return,i)}}s&64&&BT(n),s&512&&Yl(n,n.return);break;case 3:if(Dr(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{qA(e,t)}catch(i){Ve(n,n.return,i)}}break;case 27:t===null&&s&4&&FT(n);case 26:case 5:Dr(e,n),t===null&&s&4&&HT(n),s&512&&Yl(n,n.return);break;case 12:Dr(e,n);break;case 13:Dr(e,n),s&4&&ZT(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=CJ.bind(null,n),FJ(e,n))));break;case 22:if(s=n.memoizedState!==null||Js,!s){t=t!==null&&t.memoizedState!==null||dt,r=Js;var a=dt;Js=s,(dt=t)&&!a?Lr(e,n,(n.subtreeFlags&8772)!==0):Dr(e,n),Js=r,dt=a}break;case 30:break;default:Dr(e,n)}}function qT(e){var t=e.alternate;t!==null&&(e.alternate=null,qT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&cy(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,en=!1;function Xs(e,t,n){for(n=n.child;n!==null;)GT(e,t,n),n=n.sibling}function GT(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Kc,n)}catch{}switch(n.tag){case 26:dt||bs(n,t),Xs(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:dt||bs(n,t);var s=Ke,r=en;va(n.type)&&(Ke=n.stateNode,en=!1),Xs(e,t,n),Ql(n.stateNode),Ke=s,en=r;break;case 5:dt||bs(n,t);case 6:if(s=Ke,r=en,Ke=null,Xs(e,t,n),Ke=s,en=r,Ke!==null)if(en)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(n.stateNode)}catch(a){Ve(n,t,a)}else try{Ke.removeChild(n.stateNode)}catch(a){Ve(n,t,a)}break;case 18:Ke!==null&&(en?(e=Ke,lN(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Mc(e)):lN(Ke,n.stateNode));break;case 4:s=Ke,r=en,Ke=n.stateNode.containerInfo,en=!0,Xs(e,t,n),Ke=s,en=r;break;case 0:case 11:case 14:case 15:dt||fa(2,n,t),dt||fa(4,n,t),Xs(e,t,n);break;case 1:dt||(bs(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&IT(n,t,s)),Xs(e,t,n);break;case 21:Xs(e,t,n);break;case 22:dt=(s=dt)||n.memoizedState!==null,Xs(e,t,n),dt=s;break;default:Xs(e,t,n)}}function ZT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Mc(e)}catch(n){Ve(t,t.return,n)}}function xJ(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new K1),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new K1),t;default:throw Error(G(435,e.tag))}}function Jh(e,t){var n=xJ(e);t.forEach(function(s){var r=kJ.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}function fn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 27:if(va(l.type)){Ke=l.stateNode,en=!1;break e}break;case 5:Ke=l.stateNode,en=!1;break e;case 3:case 4:Ke=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(Ke===null)throw Error(G(160));GT(a,i,r),Ke=null,en=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)YT(t,e),t=t.sibling}var Xn=null;function YT(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(t,e),mn(e),s&4&&(fa(3,e,e.return),iu(3,e),fa(5,e,e.return));break;case 1:fn(t,e),mn(e),s&512&&(dt||n===null||bs(n,n.return)),s&64&&Js&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=Xn;if(fn(t,e),mn(e),s&512&&(dt||n===null||bs(n,n.return)),s&4){var a=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Jc]||a[Ht]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(s),r.head.insertBefore(a,r.querySelector("head > title"))),Ot(a,s,n),a[Ht]=e,At(a),s=a;break e;case"link":var i=mN("link","href",r).get(s+(n.href||""));if(i){for(var l=0;l<i.length;l++)if(a=i[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(l,1);break t}}a=r.createElement(s),Ot(a,s,n),r.head.appendChild(a);break;case"meta":if(i=mN("meta","content",r).get(s+(n.content||""))){for(l=0;l<i.length;l++)if(a=i[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(l,1);break t}}a=r.createElement(s),Ot(a,s,n),r.head.appendChild(a);break;default:throw Error(G(468,s))}a[Ht]=e,At(a),s=a}e.stateNode=s}else hN(r,e.type,e.stateNode);else e.stateNode=fN(r,s,e.memoizedProps);else a!==s?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,s===null?hN(r,e.type,e.stateNode):fN(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Kh(e,e.memoizedProps,n.memoizedProps)}break;case 27:fn(t,e),mn(e),s&512&&(dt||n===null||bs(n,n.return)),n!==null&&s&4&&Kh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(fn(t,e),mn(e),s&512&&(dt||n===null||bs(n,n.return)),e.flags&32){r=e.stateNode;try{Di(r,"")}catch(h){Ve(e,e.return,h)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,Kh(e,r,n!==null?n.memoizedProps:r)),s&1024&&(Qh=!0);break;case 6:if(fn(t,e),mn(e),s&4){if(e.stateNode===null)throw Error(G(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(h){Ve(e,e.return,h)}}break;case 3:if(bd=null,r=Xn,Xn=jf(t.containerInfo),fn(t,e),Xn=r,mn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Mc(t.containerInfo)}catch(h){Ve(e,e.return,h)}Qh&&(Qh=!1,XT(e));break;case 4:s=Xn,Xn=jf(e.stateNode.containerInfo),fn(t,e),mn(e),Xn=s;break;case 12:fn(t,e),mn(e);break;case 13:fn(t,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Uy=Cs()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Jh(e,s)));break;case 22:r=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Js,d=dt;if(Js=u||r,dt=d||c,fn(t,e),dt=d,Js=u,mn(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||c||Js||dt||_a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(a=c.stateNode,r)i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(h){Ve(c,c.return,h)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){Ve(c,c.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Jh(e,n))));break;case 19:fn(t,e),mn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Jh(e,s)));break;case 30:break;case 21:break;default:fn(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(UT(s)){n=s;break}s=s.return}if(n==null)throw Error(G(160));switch(n.tag){case 27:var r=n.stateNode,a=Wh(e);pf(e,a,r);break;case 5:var i=n.stateNode;n.flags&32&&(Di(i,""),n.flags&=-33);var l=Wh(e);pf(e,l,i);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Wh(e);Ip(e,u,c);break;default:throw Error(G(161))}}catch(d){Ve(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;XT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Dr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)VT(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fa(4,t,t.return),_a(t);break;case 1:bs(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&IT(t,t.return,n),_a(t);break;case 27:Ql(t.stateNode);case 26:case 5:bs(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function Lr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Lr(r,a,n),iu(4,a);break;case 1:if(Lr(r,a,n),s=a,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Ve(s,s.return,u)}if(s=a,r=s.updateQueue,r!==null){var l=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)VA(c[r],l)}catch(u){Ve(s,s.return,u)}}n&&i&64&&BT(a),Yl(a,a.return);break;case 27:FT(a);case 26:case 5:Lr(r,a,n),n&&s===null&&i&4&&HT(a),Yl(a,a.return);break;case 12:Lr(r,a,n);break;case 13:Lr(r,a,n),n&&i&4&&ZT(r,a);break;case 22:a.memoizedState===null&&Lr(r,a,n),Yl(a,a.return);break;case 30:break;default:Lr(r,a,n)}t=t.sibling}}function Oy(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&su(n))}function By(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&su(e))}function ms(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)KT(e,t,n,s),t=t.sibling}function KT(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ms(e,t,n,s),r&2048&&iu(9,t);break;case 1:ms(e,t,n,s);break;case 3:ms(e,t,n,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&su(e)));break;case 12:if(r&2048){ms(e,t,n,s),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,l=a.onPostCommit;typeof l=="function"&&l(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Ve(t,t.return,c)}}else ms(e,t,n,s);break;case 13:ms(e,t,n,s);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,t.memoizedState!==null?a._visibility&2?ms(e,t,n,s):Xl(e,t):a._visibility&2?ms(e,t,n,s):(a._visibility|=2,Po(e,t,n,s,(t.subtreeFlags&10256)!==0)),r&2048&&Oy(i,t);break;case 24:ms(e,t,n,s),r&2048&&By(t.alternate,t);break;default:ms(e,t,n,s)}}function Po(e,t,n,s,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,i=t,l=n,c=s,u=i.flags;switch(i.tag){case 0:case 11:case 15:Po(a,i,l,c,r),iu(8,i);break;case 23:break;case 22:var d=i.stateNode;i.memoizedState!==null?d._visibility&2?Po(a,i,l,c,r):Xl(a,i):(d._visibility|=2,Po(a,i,l,c,r)),r&&u&2048&&Oy(i.alternate,i);break;case 24:Po(a,i,l,c,r),r&&u&2048&&By(i.alternate,i);break;default:Po(a,i,l,c,r)}t=t.sibling}}function Xl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:Xl(n,s),r&2048&&Oy(s.alternate,s);break;case 24:Xl(n,s),r&2048&&By(s.alternate,s);break;default:Xl(n,s)}t=t.sibling}}var zl=8192;function Do(e){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)WT(e),e=e.sibling}function WT(e){switch(e.tag){case 26:Do(e),e.flags&zl&&e.memoizedState!==null&&nee(Xn,e.memoizedState,e.memoizedProps);break;case 5:Do(e);break;case 3:case 4:var t=Xn;Xn=jf(e.stateNode.containerInfo),Do(e),Xn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=zl,zl=16777216,Do(e),zl=t):Do(e));break;default:Do(e)}}function QT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];_t=s,eM(s,e)}QT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)JT(e),e=e.sibling}function JT(e){switch(e.tag){case 0:case 11:case 15:Cl(e),e.flags&2048&&fa(9,e,e.return);break;case 3:Cl(e);break;case 12:Cl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yd(e)):Cl(e);break;default:Cl(e)}}function yd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];_t=s,eM(s,e)}QT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fa(8,t,t.return),yd(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,yd(t));break;default:yd(t)}e=e.sibling}}function eM(e,t){for(;_t!==null;){var n=_t;switch(n.tag){case 0:case 11:case 15:fa(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:su(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,_t=s;else e:for(n=e;_t!==null;){s=_t;var r=s.sibling,a=s.return;if(qT(s),s===n){_t=null;break e}if(r!==null){r.return=a,_t=r;break e}_t=a}}}var yJ={getCacheForType:function(e){var t=Ut(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},vJ=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ze=null,Ee=null,Te=0,Oe=0,hn=null,Xr=!1,ol=!1,Iy=!1,Nr=0,ot=0,ma=0,Va=0,Hy=0,On=0,Oi=0,Kl=null,tn=null,Hp=!1,Uy=0,xf=1/0,yf=null,sa=null,$t=0,ra=null,Bi=null,hi=0,Up=0,Fp=null,tM=null,Wl=0,Vp=null;function Nn(){if(Be&2&&Te!==0)return Te&-Te;if(ge.T!==null){var e=zi;return e!==0?e:Vy()}return fA()}function nM(){On===0&&(On=!(Te&536870912)||Re?lA():536870912);var e=Un.current;return e!==null&&(e.flags|=32),On}function jn(e,t,n){(e===Ze&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Ii(e,0),Kr(e,Te,On,!1)),Qc(e,n),(!(Be&2)||e!==Ze)&&(e===Ze&&(!(Be&2)&&(Va|=n),ot===4&&Kr(e,Te,On,!1)),Ps(e))}function sM(e,t,n){if(Be&6)throw Error(G(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Wc(e,t),r=s?NJ(e,t):eg(e,t,!0),a=s;do{if(r===0){ol&&!s&&Kr(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!bJ(n)){r=eg(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var l=e;r=Kl;var c=l.current.memoizedState.isDehydrated;if(c&&(Ii(l,i).flags|=256),i=eg(l,i,!1),i!==2){if(Iy&&!c){l.errorRecoveryDisabledLanes|=a,Va|=a,r=4;break e}a=tn,tn=r,a!==null&&(tn===null?tn=a:tn.push.apply(tn,a))}r=i}if(a=!1,r!==2)continue}}if(r===1){Ii(e,0),Kr(e,t,0,!0);break}e:{switch(s=e,a=r,a){case 0:case 1:throw Error(G(345));case 4:if((t&4194048)!==t)break;case 6:Kr(s,t,On,!Xr);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(G(329))}if((t&62914560)===t&&(r=Uy+300-Cs(),10<r)){if(Kr(s,t,On,!Xr),Nm(s,0,!0)!==0)break e;s.timeoutHandle=NM(W1.bind(null,s,n,tn,yf,Hp,t,On,Va,Oi,Xr,a,2,-0,0),r);break e}W1(s,n,tn,yf,Hp,t,On,Va,Oi,Xr,a,0,-0,0)}}break}while(!0);Ps(e)}function W1(e,t,n,s,r,a,i,l,c,u,d,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Ec={stylesheets:null,count:0,unsuspend:tee},WT(t),f=see(),f!==null)){e.cancelPendingCommit=f(J1.bind(null,e,t,a,n,s,r,i,l,c,d,1,m,h)),Kr(e,a,i,!u);return}J1(e,t,a,n,s,r,i,l,c)}function bJ(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!Cn(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kr(e,t,n,s){t&=~Hy,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var a=31-wn(r),i=1<<a;s[a]=-1,r&=~i}n!==0&&uA(e,n,t)}function Rm(){return Be&6?!0:(lu(0),!1)}function Fy(){if(Ee!==null){if(Oe===0)var e=Ee.return;else e=Ee,or=No=null,Ay(e),mi=null,Sc=0,e=Ee;for(;e!==null;)OT(e.alternate,e),e=e.return;Ee=null}}function Ii(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,OJ(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Fy(),Ze=e,Ee=n=dr(e.current,null),Te=t,Oe=0,hn=null,Xr=!1,ol=Wc(e,t),Iy=!1,Oi=On=Hy=Va=ma=ot=0,tn=Kl=null,Hp=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-wn(s),a=1<<r;t|=e[r],s&=~a}return Nr=t,km(),n}function rM(e,t){Se=null,ge.H=df,t===ru||t===_m?(t=A1(),Oe=3):t===UA?(t=A1(),Oe=4):Oe=t===RT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,Ee===null&&(ot=1,hf(e,Ln(t,e.current)))}function aM(){var e=ge.H;return ge.H=df,e===null?df:e}function oM(){var e=ge.A;return ge.A=yJ,e}function qp(){ot=4,Xr||(Te&4194048)!==Te&&Un.current!==null||(ol=!0),!(ma&134217727)&&!(Va&134217727)||Ze===null||Kr(Ze,Te,On,!1)}function eg(e,t,n){var s=Be;Be|=2;var r=aM(),a=oM();(Ze!==e||Te!==t)&&(yf=null,Ii(e,t)),t=!1;var i=ot;e:do try{if(Oe!==0&&Ee!==null){var l=Ee,c=hn;switch(Oe){case 8:Fy(),i=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(t=!0);var u=Oe;if(Oe=0,hn=null,Jo(e,l,c,u),n&&ol){i=0;break e}break;default:u=Oe,Oe=0,hn=null,Jo(e,l,c,u)}}wJ(),i=ot;break}catch(d){rM(e,d)}while(!0);return t&&e.shellSuspendCounter++,or=No=null,Be=s,ge.H=r,ge.A=a,Ee===null&&(Ze=null,Te=0,km()),i}function wJ(){for(;Ee!==null;)iM(Ee)}function NJ(e,t){var n=Be;Be|=2;var s=aM(),r=oM();Ze!==e||Te!==t?(yf=null,xf=Cs()+500,Ii(e,t)):ol=Wc(e,t);e:do try{if(Oe!==0&&Ee!==null){t=Ee;var a=hn;t:switch(Oe){case 1:Oe=0,hn=null,Jo(e,t,a,1);break;case 2:case 9:if(_1(a)){Oe=0,hn=null,Q1(t);break}t=function(){Oe!==2&&Oe!==9||Ze!==e||(Oe=7),Ps(e)},a.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:_1(a)?(Oe=0,hn=null,Q1(t)):(Oe=0,hn=null,Jo(e,t,a,7));break;case 5:var i=null;switch(Ee.tag){case 26:i=Ee.memoizedState;case 5:case 27:var l=Ee;if(!i||kM(i)){Oe=0,hn=null;var c=l.sibling;if(c!==null)Ee=c;else{var u=l.return;u!==null?(Ee=u,Dm(u)):Ee=null}break t}}Oe=0,hn=null,Jo(e,t,a,5);break;case 6:Oe=0,hn=null,Jo(e,t,a,6);break;case 8:Fy(),ot=6;break e;default:throw Error(G(462))}}jJ();break}catch(d){rM(e,d)}while(!0);return or=No=null,ge.H=s,ge.A=r,Be=n,Ee!==null?0:(Ze=null,Te=0,km(),ot)}function jJ(){for(;Ee!==null&&!qW();)iM(Ee)}function iM(e){var t=PT(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,t===null?Dm(e):Ee=t}function Q1(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=q1(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=q1(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Ay(t);default:OT(n,t),t=Ee=OA(t,Nr),t=PT(n,t,Nr)}e.memoizedProps=e.pendingProps,t===null?Dm(e):Ee=t}function Jo(e,t,n,s){or=No=null,Ay(t),mi=null,Sc=0;var r=t.return;try{if(fJ(e,r,t,n,Te)){ot=1,hf(e,Ln(n,e.current)),Ee=null;return}}catch(a){if(r!==null)throw Ee=r,a;ot=1,hf(e,Ln(n,e.current)),Ee=null;return}t.flags&32768?(Re||s===1?e=!0:ol||Te&536870912?e=!1:(Xr=e=!0,(s===2||s===9||s===3||s===6)&&(s=Un.current,s!==null&&s.tag===13&&(s.flags|=16384))),lM(t,e)):Dm(t)}function Dm(e){var t=e;do{if(t.flags&32768){lM(t,Xr);return}e=t.return;var n=hJ(t.alternate,t,Nr);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);ot===0&&(ot=5)}function lM(e,t){do{var n=gJ(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);ot=6,Ee=null}function J1(e,t,n,s,r,a,i,l,c){e.cancelPendingCommit=null;do zm();while($t!==0);if(Be&6)throw Error(G(327));if(t!==null){if(t===e.current)throw Error(G(177));if(a=t.lanes|t.childLanes,a|=py,tQ(e,n,a,i,l,c),e===Ze&&(Ee=Ze=null,Te=0),Bi=t,ra=e,hi=n,Up=a,Fp=r,tM=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,EJ(ef,function(){return mM(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=ge.T,ge.T=null,r=De.p,De.p=2,i=Be,Be|=4;try{pJ(e,t,n)}finally{Be=i,De.p=r,ge.T=s}}$t=1,cM(),uM(),dM()}}function cM(){if($t===1){$t=0;var e=ra,t=Bi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ge.T,ge.T=null;var s=De.p;De.p=2;var r=Be;Be|=4;try{YT(t,e);var a=Xp,i=TA(e.containerInfo),l=a.focusedElem,c=a.selectionRange;if(i!==l&&l&&l.ownerDocument&&AA(l.ownerDocument.documentElement,l)){if(c!==null&&gy(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=l.textContent.length,y=Math.min(c.start,p),v=c.end===void 0?y:Math.min(c.end,p);!h.extend&&y>v&&(i=v,v=y,y=i);var x=b1(l,y),b=b1(l,v);if(x&&b&&(h.rangeCount!==1||h.anchorNode!==x.node||h.anchorOffset!==x.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var w=f.createRange();w.setStart(x.node,x.offset),h.removeAllRanges(),y>v?(h.addRange(w),h.extend(b.node,b.offset)):(w.setEnd(b.node,b.offset),h.addRange(w))}}}}for(f=[],h=l;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var N=f[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}kf=!!Yp,Xp=Yp=null}finally{Be=r,De.p=s,ge.T=n}}e.current=t,$t=2}}function uM(){if($t===2){$t=0;var e=ra,t=Bi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ge.T,ge.T=null;var s=De.p;De.p=2;var r=Be;Be|=4;try{VT(e,t.alternate,t)}finally{Be=r,De.p=s,ge.T=n}}$t=3}}function dM(){if($t===4||$t===3){$t=0,GW();var e=ra,t=Bi,n=hi,s=tM;t.subtreeFlags&10256||t.flags&10256?$t=5:($t=0,Bi=ra=null,fM(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(sa=null),ly(n),t=t.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Kc,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=ge.T,r=De.p,De.p=2,ge.T=null;try{for(var a=e.onRecoverableError,i=0;i<s.length;i++){var l=s[i];a(l.value,{componentStack:l.stack})}}finally{ge.T=t,De.p=r}}hi&3&&zm(),Ps(e),r=e.pendingLanes,n&4194090&&r&42?e===Vp?Wl++:(Wl=0,Vp=e):Wl=0,lu(0)}}function fM(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,su(t)))}function zm(e){return cM(),uM(),dM(),mM()}function mM(){if($t!==5)return!1;var e=ra,t=Up;Up=0;var n=ly(hi),s=ge.T,r=De.p;try{De.p=32>n?32:n,ge.T=null,n=Fp,Fp=null;var a=ra,i=hi;if($t=0,Bi=ra=null,hi=0,Be&6)throw Error(G(331));var l=Be;if(Be|=4,JT(a.current),KT(a,a.current,i,n),Be=l,lu(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Kc,a)}catch{}return!0}finally{De.p=r,ge.T=s,fM(e,t)}}function eN(e,t,n){t=Ln(n,t),t=Pp(e.stateNode,t,2),e=na(e,t,2),e!==null&&(Qc(e,2),Ps(e))}function Ve(e,t,n){if(e.tag===3)eN(e,e,n);else for(;t!==null;){if(t.tag===3){eN(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sa===null||!sa.has(s))){e=Ln(n,e),n=TT(2),s=na(t,n,2),s!==null&&(MT(n,s,t,e),Qc(s,2),Ps(s));break}}t=t.return}}function tg(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new vJ;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(Iy=!0,r.add(n),e=SJ.bind(null,e,t,n),t.then(e,e))}function SJ(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ze===e&&(Te&n)===n&&(ot===4||ot===3&&(Te&62914560)===Te&&300>Cs()-Uy?!(Be&2)&&Ii(e,0):Hy|=n,Oi===Te&&(Oi=0)),Ps(e)}function hM(e,t){t===0&&(t=cA()),e=al(e,t),e!==null&&(Qc(e,t),Ps(e))}function CJ(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hM(e,n)}function kJ(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(G(314))}s!==null&&s.delete(t),hM(e,n)}function EJ(e,t){return oy(e,t)}var vf=null,Oo=null,Gp=!1,bf=!1,ng=!1,qa=0;function Ps(e){e!==Oo&&e.next===null&&(Oo===null?vf=Oo=e:Oo=Oo.next=e),bf=!0,Gp||(Gp=!0,AJ())}function lu(e,t){if(!ng&&bf){ng=!0;do for(var n=!1,s=vf;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var a=0;else{var i=s.suspendedLanes,l=s.pingedLanes;a=(1<<31-wn(42|e)+1)-1,a&=r&~(i&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,tN(s,a))}else a=Te,a=Nm(s,s===Ze?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(a&3)||Wc(s,a)||(n=!0,tN(s,a));s=s.next}while(n);ng=!1}}function _J(){gM()}function gM(){bf=Gp=!1;var e=0;qa!==0&&(PJ()&&(e=qa),qa=0);for(var t=Cs(),n=null,s=vf;s!==null;){var r=s.next,a=pM(s,t);a===0?(s.next=null,n===null?vf=r:n.next=r,r===null&&(Oo=n)):(n=s,(e!==0||a&3)&&(bf=!0)),s=r}lu(e)}function pM(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var i=31-wn(a),l=1<<i,c=r[i];c===-1?(!(l&n)||l&s)&&(r[i]=eQ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}if(t=Ze,n=Te,n=Nm(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&_h(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Wc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&_h(s),ly(n)){case 2:case 8:n=oA;break;case 32:n=ef;break;case 268435456:n=iA;break;default:n=ef}return s=xM.bind(null,e),n=oy(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&_h(s),e.callbackPriority=2,e.callbackNode=null,2}function xM(e,t){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(zm()&&e.callbackNode!==n)return null;var s=Te;return s=Nm(e,e===Ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(sM(e,s,t),pM(e,Cs()),e.callbackNode!=null&&e.callbackNode===n?xM.bind(null,e):null)}function tN(e,t){if(zm())return null;sM(e,t,!0)}function AJ(){BJ(function(){Be&6?oy(aA,_J):gM()})}function Vy(){return qa===0&&(qa=lA()),qa}function nN(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ud(""+e)}function sN(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function TJ(e,t,n,s,r){if(t==="submit"&&n&&n.stateNode===r){var a=nN((r[an]||null).action),i=s.submitter;i&&(t=(t=i[an]||null)?nN(t.formAction):i.getAttribute("formAction"),t!==null&&(a=t,i=null));var l=new jm("action","action",null,s,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(qa!==0){var c=i?sN(r,i):new FormData(r);Lp(n,{pending:!0,data:c,method:r.method,action:a},null,c)}}else typeof a=="function"&&(l.preventDefault(),c=i?sN(r,i):new FormData(r),Lp(n,{pending:!0,data:c,method:r.method,action:a},a,c))},currentTarget:r}]})}}for(var sg=0;sg<jp.length;sg++){var rg=jp[sg],MJ=rg.toLowerCase(),RJ=rg[0].toUpperCase()+rg.slice(1);is(MJ,"on"+RJ)}is(RA,"onAnimationEnd");is(DA,"onAnimationIteration");is(zA,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(XQ,"onTransitionRun");is(KQ,"onTransitionStart");is(WQ,"onTransitionCancel");is(LA,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DJ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cc));function yM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=u;try{a(r)}catch(d){mf(d)}r.currentTarget=null,a=c}else for(i=0;i<s.length;i++){if(l=s[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=u;try{a(r)}catch(d){mf(d)}r.currentTarget=null,a=c}}}}function ke(e,t){var n=t[pp];n===void 0&&(n=t[pp]=new Set);var s=e+"__bubble";n.has(s)||(vM(t,e,2,!1),n.add(s))}function ag(e,t,n){var s=0;t&&(s|=4),vM(n,e,s,t)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function qy(e){if(!e[Ku]){e[Ku]=!0,mA.forEach(function(n){n!=="selectionchange"&&(DJ.has(n)||ag(n,!1,e),ag(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ku]||(t[Ku]=!0,ag("selectionchange",!1,t))}}function vM(e,t,n,s){switch(MM(t)){case 2:var r=oee;break;case 8:r=iee;break;default:r=Xy}n=r.bind(null,t,n,e),r=void 0,!bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function og(e,t,n,s,r){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var l=s.stateNode.containerInfo;if(l===r)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===r)return;i=i.return}for(;l!==null;){if(i=Vo(l),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){s=a=i;continue e}l=l.parentNode}}s=s.return}wA(function(){var u=a,d=dy(n),f=[];e:{var m=$A.get(e);if(m!==void 0){var h=jm,p=e;switch(e){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":h=EQ;break;case"focusin":p="focus",h=$h;break;case"focusout":p="blur",h=$h;break;case"beforeblur":case"afterblur":h=$h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=u1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=gQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=TQ;break;case RA:case DA:case zA:h=yQ;break;case LA:h=RQ;break;case"scroll":case"scrollend":h=mQ;break;case"wheel":h=zQ;break;case"copy":case"cut":case"paste":h=bQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=f1;break;case"toggle":case"beforetoggle":h=$Q}var y=(t&4)!==0,v=!y&&(e==="scroll"||e==="scrollend"),x=y?m!==null?m+"Capture":null:m;y=[];for(var b=u,w;b!==null;){var N=b;if(w=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||w===null||x===null||(N=vc(b,x),N!=null&&y.push(kc(b,N,w))),v)break;b=b.return}0<y.length&&(m=new h(m,p,null,n,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==vp&&(p=n.relatedTarget||n.fromElement)&&(Vo(p)||p[sl]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Vo(p):null,p!==null&&(v=Xc(p),y=p.tag,p!==v||y!==5&&y!==27&&y!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=u1,N="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=f1,N="onPointerLeave",x="onPointerEnter",b="pointer"),v=h==null?m:Dl(h),w=p==null?m:Dl(p),m=new y(N,b+"leave",h,n,d),m.target=v,m.relatedTarget=w,N=null,Vo(d)===u&&(y=new y(x,b+"enter",p,n,d),y.target=w,y.relatedTarget=v,N=y),v=N,h&&p)t:{for(y=h,x=p,b=0,w=y;w;w=zo(w))b++;for(w=0,N=x;N;N=zo(N))w++;for(;0<b-w;)y=zo(y),b--;for(;0<w-b;)x=zo(x),w--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=zo(y),x=zo(x)}y=null}else y=null;h!==null&&rN(f,m,h,y,!1),p!==null&&v!==null&&rN(f,v,p,y,!0)}}e:{if(m=u?Dl(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var j=p1;else if(g1(m))if(EA)j=GQ;else{j=VQ;var S=FQ}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&uy(u.elementType)&&(j=p1):j=qQ;if(j&&(j=j(e,u))){kA(f,j,n,d);break e}S&&S(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&yp(m,"number",m.value)}switch(S=u?Dl(u):window,e){case"focusin":(g1(S)||S.contentEditable==="true")&&(Zo=S,wp=u,Hl=null);break;case"focusout":Hl=wp=Zo=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,w1(f,n,d);break;case"selectionchange":if(YQ)break;case"keydown":case"keyup":w1(f,n,d)}var C;if(hy)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Go?SA(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(jA&&n.locale!=="ko"&&(Go||k!=="onCompositionStart"?k==="onCompositionEnd"&&Go&&(C=NA()):(Yr=d,fy="value"in Yr?Yr.value:Yr.textContent,Go=!0)),S=wf(u,k),0<S.length&&(k=new d1(k,e,null,n,d),f.push({event:k,listeners:S}),C?k.data=C:(C=CA(n),C!==null&&(k.data=C)))),(C=OQ?BQ(e,n):IQ(e,n))&&(k=wf(u,"onBeforeInput"),0<k.length&&(S=new d1("onBeforeInput","beforeinput",null,n,d),f.push({event:S,listeners:k}),S.data=C)),TJ(f,e,u,n,d)}yM(f,t)})}function kc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wf(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=vc(e,n),r!=null&&s.unshift(kc(e,r,a)),r=vc(e,t),r!=null&&s.push(kc(e,r,a))),e.tag===3)return s;e=e.return}return[]}function zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rN(e,t,n,s,r){for(var a=t._reactName,i=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||u===null||(c=u,r?(u=vc(n,a),u!=null&&i.unshift(kc(n,u,c))):r||(u=vc(n,a),u!=null&&i.push(kc(n,u,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var zJ=/\r\n?/g,LJ=/\u0000|\uFFFD/g;function aN(e){return(typeof e=="string"?e:""+e).replace(zJ,`
`).replace(LJ,"")}function bM(e,t){return t=aN(t),aN(e)===t}function Lm(){}function Ie(e,t,n,s,r,a){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Di(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Di(e,""+s);break;case"className":Fu(e,"class",s);break;case"tabIndex":Fu(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Fu(e,n,s);break;case"style":bA(e,s,a);break;case"data":if(t!=="object"){Fu(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ud(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&Ie(e,t,"name",r.name,r,null),Ie(e,t,"formEncType",r.formEncType,r,null),Ie(e,t,"formMethod",r.formMethod,r,null),Ie(e,t,"formTarget",r.formTarget,r,null)):(Ie(e,t,"encType",r.encType,r,null),Ie(e,t,"method",r.method,r,null),Ie(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ud(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=Lm);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(G(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(G(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=ud(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":ke("beforetoggle",e),ke("toggle",e),cd(e,"popover",s);break;case"xlinkActuate":Zs(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Zs(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Zs(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Zs(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Zs(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Zs(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Zs(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Zs(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Zs(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":cd(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=dQ.get(n)||n,cd(e,n,s))}}function Zp(e,t,n,s,r,a){switch(n){case"style":bA(e,s,a);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(G(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(G(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Di(e,s):(typeof s=="number"||typeof s=="bigint")&&Di(e,""+s);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Lm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hA.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[an]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof s=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):cd(e,n,s)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var s=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(i!=null)switch(a){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(G(137,t));default:Ie(e,t,a,i,n,null)}}r&&Ie(e,t,"srcSet",n.srcSet,n,null),s&&Ie(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var l=a=i=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(G(137,t));break;default:Ie(e,t,s,d,n,null)}}xA(e,a,l,c,u,i,r,!1),tf(e);return;case"select":ke("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":i=l;break;case"multiple":s=l;default:Ie(e,t,r,l,n,null)}t=a,n=i,e.multiple=!!s,t!=null?li(e,!!s,t,!1):n!=null&&li(e,!!s,n,!0);return;case"textarea":ke("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":r=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(G(91));break;default:Ie(e,t,i,l,n,null)}vA(e,s,r,a),tf(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ie(e,t,c,s,n,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(s=0;s<Cc.length;s++)ke(Cc[s],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(G(137,t));default:Ie(e,t,u,s,n,null)}return;default:if(uy(t)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&Zp(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&Ie(e,t,l,s,n,null))}function $J(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,i=null,l=null,c=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=f;default:s.hasOwnProperty(h)||Ie(e,t,h,null,s,f)}}for(var m in s){var h=s[m];if(f=n[m],s.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":a=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(G(137,t));break;default:h!==f&&Ie(e,t,m,h,s,f)}}xp(e,i,l,c,u,d,a,r);return;case"select":h=i=l=m=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":h=c;default:s.hasOwnProperty(a)||Ie(e,t,a,null,s,c)}for(r in s)if(a=s[r],c=n[r],s.hasOwnProperty(r)&&(a!=null||c!=null))switch(r){case"value":m=a;break;case"defaultValue":l=a;break;case"multiple":i=a;default:a!==c&&Ie(e,t,r,a,s,c)}t=l,n=i,s=h,m!=null?li(e,!!n,m,!1):!!s!=!!n&&(t!=null?li(e,!!n,t,!0):li(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ie(e,t,l,null,s,r)}for(i in s)if(r=s[i],a=n[i],s.hasOwnProperty(i)&&(r!=null||a!=null))switch(i){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(G(91));break;default:r!==a&&Ie(e,t,i,r,s,a)}yA(e,m,h);return;case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&m!=null&&!s.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:Ie(e,t,p,null,s,m)}for(c in s)if(m=s[c],h=n[c],s.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ie(e,t,c,m,s,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!s.hasOwnProperty(y)&&Ie(e,t,y,null,s,m);for(u in s)if(m=s[u],h=n[u],s.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(G(137,t));break;default:Ie(e,t,u,m,s,h)}return;default:if(uy(t)){for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!==void 0&&!s.hasOwnProperty(v)&&Zp(e,t,v,void 0,s,m);for(d in s)m=s[d],h=n[d],!s.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||Zp(e,t,d,m,s,h);return}}for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!=null&&!s.hasOwnProperty(x)&&Ie(e,t,x,null,s,m);for(f in s)m=s[f],h=n[f],!s.hasOwnProperty(f)||m===h||m==null&&h==null||Ie(e,t,f,m,s,h)}var Yp=null,Xp=null;function Nf(e){return e.nodeType===9?e:e.ownerDocument}function oN(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wM(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ig=null;function PJ(){var e=window.event;return e&&e.type==="popstate"?e===ig?!1:(ig=e,!0):(ig=null,!1)}var NM=typeof setTimeout=="function"?setTimeout:void 0,OJ=typeof clearTimeout=="function"?clearTimeout:void 0,iN=typeof Promise=="function"?Promise:void 0,BJ=typeof queueMicrotask=="function"?queueMicrotask:typeof iN<"u"?function(e){return iN.resolve(null).then(e).catch(IJ)}:NM;function IJ(e){setTimeout(function(){throw e})}function va(e){return e==="head"}function lN(e,t){var n=t,s=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<s&&8>s){n=s;var i=e.ownerDocument;if(n&1&&Ql(i.documentElement),n&2&&Ql(i.body),n&4)for(n=i.head,Ql(n),i=n.firstChild;i;){var l=i.nextSibling,c=i.nodeName;i[Jc]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=l}}if(r===0){e.removeChild(a),Mc(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=a}while(n);Mc(t)}function Wp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Wp(n),cy(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function HJ(e,t,n,s){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Jc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=es(e.nextSibling),e===null)break}return null}function UJ(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=es(e.nextSibling),e===null))return null;return e}function Qp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function FJ(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function es(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Jp=null;function cN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function jM(e,t,n){switch(t=Nf(n),e){case"html":if(e=t.documentElement,!e)throw Error(G(452));return e;case"head":if(e=t.head,!e)throw Error(G(453));return e;case"body":if(e=t.body,!e)throw Error(G(454));return e;default:throw Error(G(451))}}function Ql(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);cy(e)}var Fn=new Map,uN=new Set;function jf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kr=De.d;De.d={f:VJ,r:qJ,D:GJ,C:ZJ,L:YJ,m:XJ,X:WJ,S:KJ,M:QJ};function VJ(){var e=kr.f(),t=Rm();return e||t}function qJ(e){var t=rl(e);t!==null&&t.tag===5&&t.type==="form"?pT(t):kr.r(e)}var il=typeof document>"u"?null:document;function SM(e,t,n){var s=il;if(s&&typeof t=="string"&&t){var r=zn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),uN.has(r)||(uN.add(r),e={rel:e,crossOrigin:n,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),Ot(t,"link",e),At(t),s.head.appendChild(t)))}}function GJ(e){kr.D(e),SM("dns-prefetch",e,null)}function ZJ(e,t){kr.C(e,t),SM("preconnect",e,t)}function YJ(e,t,n){kr.L(e,t,n);var s=il;if(s&&e&&t){var r='link[rel="preload"][as="'+zn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+zn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+zn(n.imageSizes)+'"]')):r+='[href="'+zn(e)+'"]';var a=r;switch(t){case"style":a=Hi(e);break;case"script":a=ll(e)}Fn.has(a)||(e=Xe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Fn.set(a,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(cu(a))||t==="script"&&s.querySelector(uu(a))||(t=s.createElement("link"),Ot(t,"link",e),At(t),s.head.appendChild(t)))}}function XJ(e,t){kr.m(e,t);var n=il;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+zn(s)+'"][href="'+zn(e)+'"]',a=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ll(e)}if(!Fn.has(a)&&(e=Xe({rel:"modulepreload",href:e},t),Fn.set(a,e),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(uu(a)))return}s=n.createElement("link"),Ot(s,"link",e),At(s),n.head.appendChild(s)}}}function KJ(e,t,n){kr.S(e,t,n);var s=il;if(s&&e){var r=ii(s).hoistableStyles,a=Hi(e);t=t||"default";var i=r.get(a);if(!i){var l={loading:0,preload:null};if(i=s.querySelector(cu(a)))l.loading=5;else{e=Xe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fn.get(a))&&Gy(e,n);var c=i=s.createElement("link");At(c),Ot(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,vd(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:l},r.set(a,i)}}}function WJ(e,t){kr.X(e,t);var n=il;if(n&&e){var s=ii(n).hoistableScripts,r=ll(e),a=s.get(r);a||(a=n.querySelector(uu(r)),a||(e=Xe({src:e,async:!0},t),(t=Fn.get(r))&&Zy(e,t),a=n.createElement("script"),At(a),Ot(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}}function QJ(e,t){kr.M(e,t);var n=il;if(n&&e){var s=ii(n).hoistableScripts,r=ll(e),a=s.get(r);a||(a=n.querySelector(uu(r)),a||(e=Xe({src:e,async:!0,type:"module"},t),(t=Fn.get(r))&&Zy(e,t),a=n.createElement("script"),At(a),Ot(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}}function dN(e,t,n,s){var r=(r=ea.current)?jf(r):null;if(!r)throw Error(G(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Hi(n.href),n=ii(r).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Hi(n.href);var a=ii(r).hoistableStyles,i=a.get(e);if(i||(r=r.ownerDocument||r,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,i),(a=r.querySelector(cu(e)))&&!a._p&&(i.instance=a,i.state.loading=5),Fn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fn.set(e,n),a||JJ(r,e,n,i.state))),t&&s===null)throw Error(G(528,""));return i}if(t&&s!==null)throw Error(G(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ll(n),n=ii(r).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(G(444,e))}}function Hi(e){return'href="'+zn(e)+'"'}function cu(e){return'link[rel="stylesheet"]['+e+"]"}function CM(e){return Xe({},e,{"data-precedence":e.precedence,precedence:null})}function JJ(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ot(t,"link",n),At(t),e.head.appendChild(t))}function ll(e){return'[src="'+zn(e)+'"]'}function uu(e){return"script[async]"+e}function fN(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+zn(n.href)+'"]');if(s)return t.instance=s,At(s),s;var r=Xe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),At(s),Ot(s,"style",r),vd(s,n.precedence,e),t.instance=s;case"stylesheet":r=Hi(n.href);var a=e.querySelector(cu(r));if(a)return t.state.loading|=4,t.instance=a,At(a),a;s=CM(n),(r=Fn.get(r))&&Gy(s,r),a=(e.ownerDocument||e).createElement("link"),At(a);var i=a;return i._p=new Promise(function(l,c){i.onload=l,i.onerror=c}),Ot(a,"link",s),t.state.loading|=4,vd(a,n.precedence,e),t.instance=a;case"script":return a=ll(n.src),(r=e.querySelector(uu(a)))?(t.instance=r,At(r),r):(s=n,(r=Fn.get(a))&&(s=Xe({},n),Zy(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),At(r),Ot(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(G(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,vd(s,n.precedence,e));return t.instance}function vd(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,a=r,i=0;i<s.length;i++){var l=s[i];if(l.dataset.precedence===t)a=l;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Gy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bd=null;function mN(e,t,n){if(bd===null){var s=new Map,r=bd=new Map;r.set(n,s)}else r=bd,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Jc]||a[Ht]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var i=a.getAttribute(t)||"";i=e+i;var l=s.get(i);l?l.push(a):s.set(i,[a])}}return s}function hN(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function eee(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kM(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ec=null;function tee(){}function nee(e,t,n){if(Ec===null)throw Error(G(475));var s=Ec;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Hi(n.href),a=e.querySelector(cu(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Sf.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=a,At(a);return}a=e.ownerDocument||e,n=CM(n),(r=Fn.get(r))&&Gy(n,r),a=a.createElement("link"),At(a);var i=a;i._p=new Promise(function(l,c){i.onload=l,i.onerror=c}),Ot(a,"link",n),t.instance=a}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=Sf.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function see(){if(Ec===null)throw Error(G(475));var e=Ec;return e.stylesheets&&e.count===0&&ex(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&ex(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Sf(){if(this.count--,this.count===0){if(this.stylesheets)ex(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cf=null;function ex(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cf=new Map,t.forEach(ree,e),Cf=null,Sf.call(e))}function ree(e,t){if(!(t.state.loading&4)){var n=Cf.get(e);if(n)var s=n.get(null);else{n=new Map,Cf.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var i=r[a];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),s=i)}s&&n.set(null,s)}r=t.instance,i=r.getAttribute("data-precedence"),a=n.get(i)||s,a===s&&n.set(null,r),n.set(i,r),this.count++,s=Sf.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var _c={$$typeof:sr,Provider:null,Consumer:null,_currentValue:Ba,_currentValue2:Ba,_threadCount:0};function aee(e,t,n,s,r,a,i,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ah(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.hiddenUpdates=Ah(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function EM(e,t,n,s,r,a,i,l,c,u,d,f){return e=new aee(e,t,n,i,l,c,u,f),t=1,a===!0&&(t|=24),a=xn(3,null,null,t),e.current=a,a.stateNode=e,t=wy(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:s,isDehydrated:n,cache:t},jy(a),e}function _M(e){return e?(e=Ko,e):Ko}function AM(e,t,n,s,r,a){r=_M(r),s.context===null?s.context=r:s.pendingContext=r,s=ta(t),s.payload={element:n},a=a===void 0?null:a,a!==null&&(s.callback=a),n=na(e,s,t),n!==null&&(jn(n,e,t),Vl(n,e,t))}function gN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yy(e,t){gN(e,t),(e=e.alternate)&&gN(e,t)}function TM(e){if(e.tag===13){var t=al(e,67108864);t!==null&&jn(t,e,67108864),Yy(e,67108864)}}var kf=!0;function oee(e,t,n,s){var r=ge.T;ge.T=null;var a=De.p;try{De.p=2,Xy(e,t,n,s)}finally{De.p=a,ge.T=r}}function iee(e,t,n,s){var r=ge.T;ge.T=null;var a=De.p;try{De.p=8,Xy(e,t,n,s)}finally{De.p=a,ge.T=r}}function Xy(e,t,n,s){if(kf){var r=tx(s);if(r===null)og(e,t,s,Ef,n),pN(e,s);else if(cee(r,e,t,n,s))s.stopPropagation();else if(pN(e,s),t&4&&-1<lee.indexOf(e)){for(;r!==null;){var a=rl(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var i=ka(a.pendingLanes);if(i!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var c=1<<31-wn(i);l.entanglements[1]|=c,i&=~c}Ps(a),!(Be&6)&&(xf=Cs()+500,lu(0))}}break;case 13:l=al(a,2),l!==null&&jn(l,a,2),Rm(),Yy(a,2)}if(a=tx(s),a===null&&og(e,t,s,Ef,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else og(e,t,s,null,n)}}function tx(e){return e=dy(e),Ky(e)}var Ef=null;function Ky(e){if(Ef=null,e=Vo(e),e!==null){var t=Xc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=tA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ef=e,null}function MM(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ZW()){case aA:return 2;case oA:return 8;case ef:case YW:return 32;case iA:return 268435456;default:return 32}default:return 32}}var nx=!1,aa=null,oa=null,ia=null,Ac=new Map,Tc=new Map,qr=[],lee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pN(e,t){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function kl(e,t,n,s,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},t!==null&&(t=rl(t),t!==null&&TM(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function cee(e,t,n,s,r){switch(t){case"focusin":return aa=kl(aa,e,t,n,s,r),!0;case"dragenter":return oa=kl(oa,e,t,n,s,r),!0;case"mouseover":return ia=kl(ia,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return Ac.set(a,kl(Ac.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,Tc.set(a,kl(Tc.get(a)||null,e,t,n,s,r)),!0}return!1}function RM(e){var t=Vo(e.target);if(t!==null){var n=Xc(t);if(n!==null){if(t=n.tag,t===13){if(t=tA(n),t!==null){e.blockedOn=t,nQ(e.priority,function(){if(n.tag===13){var s=Nn();s=iy(s);var r=al(n,s);r!==null&&jn(r,n,s),Yy(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tx(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);vp=s,n.target.dispatchEvent(s),vp=null}else return t=rl(n),t!==null&&TM(t),e.blockedOn=n,!1;t.shift()}return!0}function xN(e,t,n){wd(e)&&n.delete(t)}function uee(){nx=!1,aa!==null&&wd(aa)&&(aa=null),oa!==null&&wd(oa)&&(oa=null),ia!==null&&wd(ia)&&(ia=null),Ac.forEach(xN),Tc.forEach(xN)}function Wu(e,t){e.blockedOn===t&&(e.blockedOn=null,nx||(nx=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,uee)))}var Qu=null;function yN(e){Qu!==e&&(Qu=e,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,function(){Qu===e&&(Qu=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(Ky(s||n)===null)continue;break}var a=rl(n);a!==null&&(e.splice(t,3),t-=3,Lp(a,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Mc(e){function t(c){return Wu(c,e)}aa!==null&&Wu(aa,e),oa!==null&&Wu(oa,e),ia!==null&&Wu(ia,e),Ac.forEach(t),Tc.forEach(t);for(var n=0;n<qr.length;n++){var s=qr[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)RM(n),n.blockedOn===null&&qr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],a=n[s+1],i=r[an]||null;if(typeof a=="function")i||yN(n);else if(i){var l=null;if(a&&a.hasAttribute("formAction")){if(r=a,i=a[an]||null)l=i.formAction;else if(Ky(r)!==null)continue}else l=i.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),yN(n)}}}function Wy(e){this._internalRoot=e}$m.prototype.render=Wy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));var n=t.current,s=Nn();AM(n,s,e,t,null,null)};$m.prototype.unmount=Wy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;AM(e.current,2,null,e,null,null),Rm(),t[sl]=null}};function $m(e){this._internalRoot=e}$m.prototype.unstable_scheduleHydration=function(e){if(e){var t=fA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qr.length&&t!==0&&t<qr[n].priority;n++);qr.splice(n,0,e),n===0&&RM(e)}};var vN=J_.version;if(vN!=="19.1.0")throw Error(G(527,vN,"19.1.0"));De.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=IW(t),e=e!==null?nA(e):null,e=e===null?null:e.stateNode,e};var dee={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Kc=Ju.inject(dee),bn=Ju}catch{}}wm.createRoot=function(e,t){if(!eA(e))throw Error(G(299));var n=!1,s="",r=ET,a=_T,i=AT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=EM(e,1,!1,null,null,n,s,r,a,i,l,null),e[sl]=t.current,qy(e),new Wy(t)};wm.hydrateRoot=function(e,t,n){if(!eA(e))throw Error(G(299));var s=!1,r="",a=ET,i=_T,l=AT,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=EM(e,1,!0,t,n??null,s,r,a,i,l,c,u),t.context=_M(null),n=t.current,s=Nn(),s=iy(s),r=ta(s),r.callback=null,na(n,r,s),n=s,t.current.lanes=n,Qc(t,n),Ps(t),e[sl]=t.current,qy(e),new $m(t)};wm.version="19.1.0";function DM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DM)}catch(e){console.error(e)}}DM(),K_.exports=wm;var fee=K_.exports;fee.createRoot(document.getElementById("root")).render(o.jsx(g.StrictMode,{children:o.jsx(PW,{showLoadingIndicator:!0,children:o.jsx(AW,{children:o.jsx($W,{})})})}));
