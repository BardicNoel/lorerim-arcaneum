var aR=Object.defineProperty;var iR=(e,t,n)=>t in e?aR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ze=(e,t,n)=>iR(e,typeof t!="symbol"?t+"":t,n);function oR(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function zx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var WN={exports:{}},lm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR=Symbol.for("react.transitional.element"),cR=Symbol.for("react.fragment");function KN(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:lR,type:e,key:s,ref:t!==void 0?t:null,props:n}}lm.Fragment=cR;lm.jsx=KN;lm.jsxs=KN;WN.exports=lm;var a=WN.exports;const kt={CONTENT:1,DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,DRAWER:202,HEADER:50,SIDEBAR:60,STICKY:40};var QN={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px=Symbol.for("react.transitional.element"),uR=Symbol.for("react.portal"),dR=Symbol.for("react.fragment"),fR=Symbol.for("react.strict_mode"),mR=Symbol.for("react.profiler"),hR=Symbol.for("react.consumer"),gR=Symbol.for("react.context"),pR=Symbol.for("react.forward_ref"),xR=Symbol.for("react.suspense"),vR=Symbol.for("react.memo"),JN=Symbol.for("react.lazy"),ky=Symbol.iterator;function yR(e){return e===null||typeof e!="object"?null:(e=ky&&e[ky]||e["@@iterator"],typeof e=="function"?e:null)}var e1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t1=Object.assign,n1={};function vl(e,t,n){this.props=e,this.context=t,this.refs=n1,this.updater=n||e1}vl.prototype.isReactComponent={};vl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function s1(){}s1.prototype=vl.prototype;function $x(e,t,n){this.props=e,this.context=t,this.refs=n1,this.updater=n||e1}var Ox=$x.prototype=new s1;Ox.constructor=$x;t1(Ox,vl.prototype);Ox.isPureReactComponent=!0;var Cy=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},r1=Object.prototype.hasOwnProperty;function Ix(e,t,n,s,r,i){return n=i.ref,{$$typeof:Px,type:e,key:t,ref:n!==void 0?n:null,props:i}}function bR(e,t){return Ix(e.type,t,void 0,void 0,void 0,e.props)}function Bx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Px}function wR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ey=/\/+/g;function yh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wR(""+e.key):t.toString(36)}function Ty(){}function jR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ty,Ty):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function io(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Px:case uR:o=!0;break;case JN:return o=e._init,io(o(e._payload),t,n,s,r)}}if(o)return r=r(e),o=s===""?"."+yh(e,0):s,Cy(r)?(n="",o!=null&&(n=o.replace(Ey,"$&/")+"/"),io(r,t,n,"",function(u){return u})):r!=null&&(Bx(r)&&(r=bR(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Ey,"$&/")+"/")+o)),t.push(r)),1;o=0;var l=s===""?".":s+":";if(Cy(e))for(var c=0;c<e.length;c++)s=e[c],i=l+yh(s,c),o+=io(s,t,n,i,r);else if(c=yR(e),typeof c=="function")for(e=c.call(e),c=0;!(s=e.next()).done;)s=s.value,i=l+yh(s,c++),o+=io(s,t,n,i,r);else if(i==="object"){if(typeof e.then=="function")return io(jR(e),t,n,s,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Uu(e,t,n){if(e==null)return e;var s=[],r=0;return io(e,s,"","",function(i){return t.call(n,i,r++)}),s}function NR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ay=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function SR(){}Ne.Children={map:Uu,forEach:function(e,t,n){Uu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Uu(e,function(){t++}),t},toArray:function(e){return Uu(e,function(t){return t})||[]},only:function(e){if(!Bx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=vl;Ne.Fragment=dR;Ne.Profiler=mR;Ne.PureComponent=$x;Ne.StrictMode=fR;Ne.Suspense=xR;Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it;Ne.__COMPILER_RUNTIME={__proto__:null,c:function(e){return it.H.useMemoCache(e)}};Ne.cache=function(e){return function(){return e.apply(null,arguments)}};Ne.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=t1({},e.props),r=e.key,i=void 0;if(t!=null)for(o in t.ref!==void 0&&(i=void 0),t.key!==void 0&&(r=""+t.key),t)!r1.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(s[o]=t[o]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}return Ix(e.type,r,void 0,void 0,i,s)};Ne.createContext=function(e){return e={$$typeof:gR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:hR,_context:e},e};Ne.createElement=function(e,t,n){var s,r={},i=null;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)r1.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=t[s]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)r[s]===void 0&&(r[s]=o[s]);return Ix(e,i,void 0,void 0,null,r)};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:pR,render:e}};Ne.isValidElement=Bx;Ne.lazy=function(e){return{$$typeof:JN,_payload:{_status:-1,_result:e},_init:NR}};Ne.memo=function(e,t){return{$$typeof:vR,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=it.T,n={};it.T=n;try{var s=e(),r=it.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(SR,Ay)}catch(i){Ay(i)}finally{it.T=t}};Ne.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()};Ne.use=function(e){return it.H.use(e)};Ne.useActionState=function(e,t,n){return it.H.useActionState(e,t,n)};Ne.useCallback=function(e,t){return it.H.useCallback(e,t)};Ne.useContext=function(e){return it.H.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e,t){return it.H.useDeferredValue(e,t)};Ne.useEffect=function(e,t,n){var s=it.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};Ne.useId=function(){return it.H.useId()};Ne.useImperativeHandle=function(e,t,n){return it.H.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return it.H.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return it.H.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return it.H.useMemo(e,t)};Ne.useOptimistic=function(e,t){return it.H.useOptimistic(e,t)};Ne.useReducer=function(e,t,n){return it.H.useReducer(e,t,n)};Ne.useRef=function(e){return it.H.useRef(e)};Ne.useState=function(e){return it.H.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return it.H.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return it.H.useTransition()};Ne.version="19.1.0";QN.exports=Ne;var g=QN.exports;const P=zx(g),a1=oR({__proto__:null,default:P},[g]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),_y=e=>{const t=CR(e);return t.charAt(0).toUpperCase()+t.slice(1)},i1=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),ER=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...TR,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:i1("lucide",r),...!i&&!ER(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const n=g.forwardRef(({className:s,...r},i)=>g.createElement(AR,{ref:i,iconNode:t,className:i1(`lucide-${kR(_y(e))}`,`lucide-${e}`,s),...r}));return n.displayName=_y(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],MR=ee("arrow-down",_R);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],My=ee("arrow-left",RR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LR=ee("arrow-right",DR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],PR=ee("arrow-up-down",zR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],OR=ee("arrow-up",$R);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_a=ee("book-open",IR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Fo=ee("brain",BR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],HR=ee("chart-column",FR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cc=ee("check",UR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],GR=ee("chef-hat",VR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rt=ee("chevron-down",qR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cm=ee("chevron-left",ZR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yl=ee("chevron-right",YR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ec=ee("chevron-up",XR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ho=ee("circle-alert",WR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tc=ee("circle-check-big",KR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],JR=ee("circle-x",QR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fx=ee("circle",e3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Nr=ee("clock",t3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],o1=ee("copy",n3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],r3=ee("dna",s3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bh=ee("download",a3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Hx=ee("droplets",i3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],l3=ee("ellipsis-vertical",o3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ma=ee("external-link",c3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bl=ee("eye",u3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],l1=ee("file-text",d3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],wl=ee("flame",f3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],h3=ee("funnel",m3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Ux=ee("ghost",g3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Di=ee("grid-3x3",p3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Uo=ee("hand",x3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ys=ee("heart",v3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],c1=ee("house",y3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vo=ee("info",b3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],j3=ee("layout-grid",w3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Ra=ee("list",N3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ry=ee("loader-circle",S3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],u1=ee("map",k3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],E3=ee("menu",C3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],A3=ee("message-square",T3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M5 12h14",key:"1ays0h"}]],ko=ee("minus",_3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],R3=ee("monitor",M3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],L3=ee("moon",D3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],d1=ee("package",z3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],$3=ee("pen-line",P3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ma=ee("plus",O3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tr=ee("rotate-ccw",I3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],F3=ee("search-x",B3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pi=ee("search",H3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tf=ee("settings",U3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],f1=ee("share-2",V3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],at=ee("shield",G3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],xs=ee("sparkles",q3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qe=ee("star",Z3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Dy=ee("sun",Y3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],xi=ee("sword",X3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],m1=ee("tag",W3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ns=ee("target",K3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],J3=ee("trash-2",Q3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],tD=ee("trees",eD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Gg=ee("trending-down",nD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ac=ee("trending-up",sD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vi=ee("triangle-alert",rD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],iD=ee("user-check",aD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nf=ee("user",oD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],h1=ee("users",lD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],uD=ee("utensils",cD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],fD=ee("wine",dD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],He=ee("x",mD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ln=ee("zap",hD);var Vx={};Object.defineProperty(Vx,"__esModule",{value:!0});Vx.parse=wD;Vx.serialize=jD;const gD=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,pD=/^[\u0021-\u003A\u003C-\u007E]*$/,xD=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,vD=/^[\u0020-\u003A\u003D-\u007E]*$/,yD=Object.prototype.toString,bD=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function wD(e,t){const n=new bD,s=e.length;if(s<2)return n;const r=(t==null?void 0:t.decode)||ND;let i=0;do{const o=e.indexOf("=",i);if(o===-1)break;const l=e.indexOf(";",i),c=l===-1?s:l;if(o>c){i=e.lastIndexOf(";",o-1)+1;continue}const u=Ly(e,i,o),d=zy(e,o,u),f=e.slice(u,d);if(n[f]===void 0){let m=Ly(e,o+1,c),h=zy(e,c,m);const p=r(e.slice(m,h));n[f]=p}i=c+1}while(i<s);return n}function Ly(e,t,n){do{const s=e.charCodeAt(t);if(s!==32&&s!==9)return t}while(++t<n);return n}function zy(e,t,n){for(;t>n;){const s=e.charCodeAt(--t);if(s!==32&&s!==9)return t+1}return n}function jD(e,t,n){const s=(n==null?void 0:n.encode)||encodeURIComponent;if(!gD.test(e))throw new TypeError(`argument name is invalid: ${e}`);const r=s(t);if(!pD.test(r))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+r;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!xD.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!vD.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!SD(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function ND(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function SD(e){return yD.call(e)==="[object Date]"}var Py="popstate";function kD(e={}){function t(r,i){let{pathname:o="/",search:l="",hash:c=""}=Li(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),qg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let o=r.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=r.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:_c(i))}function s(r,i){rs(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return ED(t,n,s,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CD(){return Math.random().toString(36).substring(2,10)}function $y(e,t){return{usr:e.state,key:e.key,idx:t}}function qg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Li(t):t,state:n,key:t&&t.key||s||CD()}}function _c({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Li(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function ED(e,t,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let b=d(),v=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:v})}function m(b,v){l="PUSH";let x=qg(y.location,b,v);n&&n(x,b),u=d()+1;let w=$y(x,u),j=y.createHref(x);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function h(b,v){l="REPLACE";let x=qg(y.location,b,v);n&&n(x,b),u=d();let w=$y(x,u),j=y.createHref(x);o.replaceState(w,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function p(b){return TD(b)}let y={get action(){return l},get location(){return e(r,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Py,f),c=b,()=>{r.removeEventListener(Py,f),c=null}},createHref(b){return t(r,b)},createURL:p,encodeLocation(b){let v=p(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:h,go(b){return o.go(b)}};return y}function TD(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:_c(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function g1(e,t,n="/"){return AD(e,t,n,!1)}function AD(e,t,n,s){let r=typeof t=="string"?Li(t):t,i=Ar(r.pathname||"/",n);if(i==null)return null;let o=p1(e);_D(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=FD(i);l=ID(o[c],u,s)}return l}function p1(e,t=[],n=[],s=""){let r=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(dt(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let u=Sr([s,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(dt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),p1(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:$D(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let c of x1(i.path))r(i,o,c)}),t}function x1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=x1(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _D(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:OD(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var MD=/^:[\w-]+$/,RD=3,DD=2,LD=1,zD=10,PD=-2,Oy=e=>e==="*";function $D(e,t){let n=e.split("/"),s=n.length;return n.some(Oy)&&(s+=PD),t&&(s+=DD),n.filter(r=>!Oy(r)).reduce((r,i)=>r+(MD.test(i)?RD:i===""?LD:zD),s)}function OD(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function ID(e,t,n=!1){let{routesMeta:s}=e,r={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=sf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=sf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:Sr([i,f.pathname]),pathnameBase:GD(Sr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Sr([i,f.pathnameBase]))}return o}function sf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=BD(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let p=l[m]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const h=l[m];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function BD(e,t=!1,n=!0){rs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function FD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ar(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function HD(e,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Li(e):e;return{pathname:n?n.startsWith("/")?n:UD(n,t):t,search:qD(s),hash:ZD(r)}}function UD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function wh(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v1(e){let t=VD(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function y1(e,t,n,s=!1){let r;typeof e=="string"?r=Li(e):(r={...e},dt(!r.pathname||!r.pathname.includes("?"),wh("?","pathname","search",r)),dt(!r.pathname||!r.pathname.includes("#"),wh("#","pathname","hash",r)),dt(!r.search||!r.search.includes("#"),wh("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=HD(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Sr=e=>e.join("/").replace(/\/\/+/g,"/"),GD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var b1=["POST","PUT","PATCH","DELETE"];new Set(b1);var XD=["GET",...b1];new Set(XD);var jl=g.createContext(null);jl.displayName="DataRouter";var um=g.createContext(null);um.displayName="DataRouterState";var w1=g.createContext({isTransitioning:!1});w1.displayName="ViewTransition";var WD=g.createContext(new Map);WD.displayName="Fetchers";var KD=g.createContext(null);KD.displayName="Await";var Xs=g.createContext(null);Xs.displayName="Navigation";var au=g.createContext(null);au.displayName="Location";var Ws=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ws.displayName="Route";var Gx=g.createContext(null);Gx.displayName="RouteError";function QD(e,{relative:t}={}){dt(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=g.useContext(Xs),{hash:r,pathname:i,search:o}=ou(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Sr([n,i])),s.createHref({pathname:l,search:o,hash:r})}function iu(){return g.useContext(au)!=null}function Ir(){return dt(iu(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(au).location}var j1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N1(e){g.useContext(Xs).static||g.useLayoutEffect(e)}function tt(){let{isDataRoute:e}=g.useContext(Ws);return e?m5():JD()}function JD(){dt(iu(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(jl),{basename:t,navigator:n}=g.useContext(Xs),{matches:s}=g.useContext(Ws),{pathname:r}=Ir(),i=JSON.stringify(v1(s)),o=g.useRef(!1);return N1(()=>{o.current=!0}),g.useCallback((c,u={})=>{if(rs(o.current,j1),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=y1(c,JSON.parse(i),r,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Sr([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,i,r,e])}var e5=g.createContext(null);function t5(e){let t=g.useContext(Ws).outlet;return t&&g.createElement(e5.Provider,{value:e},t)}function ou(e,{relative:t}={}){let{matches:n}=g.useContext(Ws),{pathname:s}=Ir(),r=JSON.stringify(v1(n));return g.useMemo(()=>y1(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function n5(e,t){return S1(e,t)}function S1(e,t,n,s){var v;dt(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=g.useContext(Xs),{matches:i}=g.useContext(Ws),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let x=d&&d.path||"";k1(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=Ir(),m;if(t){let x=typeof t=="string"?Li(t):t;dt(u==="/"||((v=x.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),m=x}else m=f;let h=m.pathname||"/",p=h;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=g1(e,{pathname:p});rs(d||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),rs(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=o5(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Sr([u,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Sr([u,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,s);return t&&b?g.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function s5(){let e=f5(),t=YD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:r},n):null,o)}var r5=g.createElement(s5,null),a5=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(Ws.Provider,{value:this.props.routeContext},g.createElement(Gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i5({routeContext:e,match:t,children:n}){let s=g.useContext(jl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Ws.Provider,{value:e},n)}function o5(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,i=n==null?void 0:n.errors;if(i!=null){let c=r.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);dt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,m=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){o=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let f,m=!1,h=null,p=null;n&&(f=i&&u.route.id?i[u.route.id]:void 0,h=u.route.errorElement||r5,o&&(l<0&&d===0?(k1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,p=null):l===d&&(m=!0,p=u.route.hydrateFallbackElement||null)));let y=t.concat(r.slice(0,d+1)),b=()=>{let v;return f?v=h:m?v=p:u.route.Component?v=g.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=c,g.createElement(i5,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?g.createElement(a5,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function qx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l5(e){let t=g.useContext(jl);return dt(t,qx(e)),t}function c5(e){let t=g.useContext(um);return dt(t,qx(e)),t}function u5(e){let t=g.useContext(Ws);return dt(t,qx(e)),t}function Zx(e){let t=u5(e),n=t.matches[t.matches.length-1];return dt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function d5(){return Zx("useRouteId")}function f5(){var s;let e=g.useContext(Gx),t=c5("useRouteError"),n=Zx("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function m5(){let{router:e}=l5("useNavigate"),t=Zx("useNavigate"),n=g.useRef(!1);return N1(()=>{n.current=!0}),g.useCallback(async(r,i={})=>{rs(n.current,j1),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var Iy={};function k1(e,t,n){!t&&!Iy[e]&&(Iy[e]=!0,rs(!1,n))}g.memo(h5);function h5({routes:e,future:t,state:n}){return S1(e,void 0,n,t)}function g5(e){return t5(e.context)}function yt(e){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p5({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){dt(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:o,navigator:r,static:i,future:{}}),[o,r,i]);typeof n=="string"&&(n=Li(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:m="default"}=n,h=g.useMemo(()=>{let p=Ar(c,o);return p==null?null:{location:{pathname:p,search:u,hash:d,state:f,key:m},navigationType:s}},[o,c,u,d,f,m,s]);return rs(h!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:g.createElement(Xs.Provider,{value:l},g.createElement(au.Provider,{children:t,value:h}))}function x5({children:e,location:t}){return n5(Zg(e),t)}function Zg(e,t=[]){let n=[];return g.Children.forEach(e,(s,r)=>{if(!g.isValidElement(s))return;let i=[...t,r];if(s.type===g.Fragment){n.push.apply(n,Zg(s.props.children,i));return}dt(s.type===yt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Zg(s.props.children,i)),n.push(o)}),n}var _d="get",Md="application/x-www-form-urlencoded";function dm(e){return e!=null&&typeof e.tagName=="string"}function v5(e){return dm(e)&&e.tagName.toLowerCase()==="button"}function y5(e){return dm(e)&&e.tagName.toLowerCase()==="form"}function b5(e){return dm(e)&&e.tagName.toLowerCase()==="input"}function w5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function j5(e,t){return e.button===0&&(!t||t==="_self")&&!w5(e)}function Yg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function N5(e,t){let n=Yg(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}var Vu=null;function S5(){if(Vu===null)try{new FormData(document.createElement("form"),0),Vu=!1}catch{Vu=!0}return Vu}var k5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jh(e){return e!=null&&!k5.has(e)?(rs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Md}"`),null):e}function C5(e,t){let n,s,r,i,o;if(y5(e)){let l=e.getAttribute("action");s=l?Ar(l,t):null,n=e.getAttribute("method")||_d,r=jh(e.getAttribute("enctype"))||Md,i=new FormData(e)}else if(v5(e)||b5(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?Ar(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||_d,r=jh(e.getAttribute("formenctype"))||jh(l.getAttribute("enctype"))||Md,i=new FormData(l,e),!S5()){let{name:u,type:d,value:f}=e;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,f)}}else{if(dm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_d,s=null,r=Md,o=e}return i&&r==="text/plain"&&(o=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:o}}function Yx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function E5(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function A5(e,t,n){let s=await Promise.all(e.map(async r=>{let i=t.routes[r.route.id];if(i){let o=await E5(i,n);return o.links?o.links():[]}return[]}));return D5(s.flat(1).filter(T5).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function By(e,t,n,s,r,i){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=s.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function _5(e,t,{includeHydrateFallback:n}={}){return M5(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function M5(e){return[...new Set(e)]}function R5(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function D5(e,t){let n=new Set;return new Set(t),e.reduce((s,r)=>{let i=JSON.stringify(R5(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L5=new Set([100,101,204,205]);function z5(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ar(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function C1(){let e=g.useContext(jl);return Yx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function P5(){let e=g.useContext(um);return Yx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xx=g.createContext(void 0);Xx.displayName="FrameworkContext";function E1(){let e=g.useContext(Xx);return Yx(e,"You must render this element inside a <HydratedRouter> element"),e}function $5(e,t){let n=g.useContext(Xx),[s,r]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,m=g.useRef(null);g.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=v=>{v.forEach(x=>{o(x.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[e]),g.useEffect(()=>{if(s){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[s]);let h=()=>{r(!0)},p=()=>{r(!1),o(!1)};return n?e!=="intent"?[i,m,{}]:[i,m,{onFocus:Ol(l,h),onBlur:Ol(c,p),onMouseEnter:Ol(u,h),onMouseLeave:Ol(d,p),onTouchStart:Ol(f,h)}]:[!1,m,{}]}function Ol(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function O5({page:e,...t}){let{router:n}=C1(),s=g.useMemo(()=>g1(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?g.createElement(B5,{page:e,matches:s,...t}):null}function I5(e){let{manifest:t,routeModules:n}=E1(),[s,r]=g.useState([]);return g.useEffect(()=>{let i=!1;return A5(e,t,n).then(o=>{i||r(o)}),()=>{i=!0}},[e,t,n]),s}function B5({page:e,matches:t,...n}){let s=Ir(),{manifest:r,routeModules:i}=E1(),{basename:o}=C1(),{loaderData:l,matches:c}=P5(),u=g.useMemo(()=>By(e,t,c,r,s,"data"),[e,t,c,r,s]),d=g.useMemo(()=>By(e,t,c,r,s,"assets"),[e,t,c,r,s]),f=g.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let p=new Set,y=!1;if(t.forEach(v=>{var w;let x=r.routes[v.route.id];!x||!x.hasLoader||(!u.some(j=>j.route.id===v.route.id)&&v.route.id in l&&((w=i[v.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?y=!0:p.add(v.route.id))}),p.size===0)return[];let b=z5(e,o);return y&&p.size>0&&b.searchParams.set("_routes",t.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[o,l,s,r,u,t,e,i]),m=g.useMemo(()=>_5(d,r),[d,r]),h=I5(d);return g.createElement(g.Fragment,null,f.map(p=>g.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),m.map(p=>g.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:y})=>g.createElement("link",{key:p,...y})))}function F5(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T1&&(window.__reactRouterVersion="7.6.3")}catch{}function H5({basename:e,children:t,window:n}){let s=g.useRef();s.current==null&&(s.current=kD({window:n,v5Compat:!0}));let r=s.current,[i,o]=g.useState({action:r.action,location:r.location}),l=g.useCallback(c=>{g.startTransition(()=>o(c))},[o]);return g.useLayoutEffect(()=>r.listen(l),[r,l]),g.createElement(p5,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:r})}var A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_1=g.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},h){let{basename:p}=g.useContext(Xs),y=typeof u=="string"&&A1.test(u),b,v=!1;if(typeof u=="string"&&y&&(b=u,T1))try{let C=new URL(window.location.href),T=u.startsWith("//")?new URL(C.protocol+u):new URL(u),_=Ar(T.pathname,p);T.origin===C.origin&&_!=null?u=_+T.search+T.hash:v=!0}catch{rs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=QD(u,{relative:r}),[w,j,N]=$5(s,m),k=q5(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:f});function S(C){t&&t(C),C.defaultPrevented||k(C)}let E=g.createElement("a",{...m,...N,href:b||x,onClick:v||i?t:S,ref:F5(h,j),target:c,"data-discover":!y&&n==="render"?"true":void 0});return w&&!y?g.createElement(g.Fragment,null,E,g.createElement(O5,{page:x})):E});_1.displayName="Link";var U5=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let f=ou(o,{relative:u.relative}),m=Ir(),h=g.useContext(um),{navigator:p,basename:y}=g.useContext(Xs),b=h!=null&&Q5(f)&&l===!0,v=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,x=m.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&y&&(w=Ar(w,y)||w);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let N=x===v||!r&&x.startsWith(v)&&x.charAt(j)==="/",k=w!=null&&(w===v||!r&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:N,isPending:k,isTransitioning:b},E=N?t:void 0,C;typeof s=="function"?C=s(S):C=[s,N?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(S):i;return g.createElement(_1,{...u,"aria-current":E,className:C,ref:d,style:T,to:o,viewTransition:l},typeof c=="function"?c(S):c)});U5.displayName="NavLink";var V5=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:i,method:o=_d,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},h)=>{let p=W5(),y=K5(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&A1.test(l),x=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let j=w.nativeEvent.submitter,N=(j==null?void 0:j.getAttribute("formmethod"))||o;p(j||w.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:r,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return g.createElement("form",{ref:h,method:b,action:y,onSubmit:s?c:x,...m,"data-discover":!v&&e==="render"?"true":void 0})});V5.displayName="Form";function G5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M1(e){let t=g.useContext(jl);return dt(t,G5(e)),t}function q5(e,{target:t,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:o}={}){let l=tt(),c=Ir(),u=ou(e,{relative:i});return g.useCallback(d=>{if(j5(d,t)){d.preventDefault();let f=n!==void 0?n:_c(c)===_c(u);l(e,{replace:f,state:s,preventScrollReset:r,relative:i,viewTransition:o})}},[c,l,u,n,s,t,e,r,i,o])}function Z5(e){rs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(Yg(e)),n=g.useRef(!1),s=Ir(),r=g.useMemo(()=>N5(s.search,n.current?null:t.current),[s.search]),i=tt(),o=g.useCallback((l,c)=>{const u=Yg(typeof l=="function"?l(r):l);n.current=!0,i("?"+u,c)},[i,r]);return[r,o]}var Y5=0,X5=()=>`__${String(++Y5)}__`;function W5(){let{router:e}=M1("useSubmit"),{basename:t}=g.useContext(Xs),n=d5();return g.useCallback(async(s,r={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=C5(s,t);if(r.navigate===!1){let d=r.fetcherKey||X5();await e.fetch(d,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function K5(e,{relative:t}={}){let{basename:n}=g.useContext(Xs),s=g.useContext(Ws);dt(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...ou(e||".",{relative:t})},o=Ir();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Sr([n,i.pathname])),_c(i)}function Q5(e,t={}){let n=g.useContext(w1);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=M1("useViewTransitionState"),r=ou(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sf(r.pathname,o)!=null||sf(r.pathname,i)!=null}[...L5];var R1={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=g;function D1(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function qr(){}var sn={d:{f:qr,r:function(){throw Error(D1(522))},D:qr,C:qr,L:qr,m:qr,X:qr,S:qr,M:qr},p:0,findDOMNode:null},eL=Symbol.for("react.portal");function tL(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eL,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var uc=J5.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fm(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=sn;cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(D1(299));return tL(e,t,null,n)};cn.flushSync=function(e){var t=uc.T,n=sn.p;try{if(uc.T=null,sn.p=2,e)return e()}finally{uc.T=t,sn.p=n,sn.d.f()}};cn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,sn.d.C(e,t))};cn.prefetchDNS=function(e){typeof e=="string"&&sn.d.D(e)};cn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=fm(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?sn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&sn.d.X(e,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};cn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=fm(t.as,t.crossOrigin);sn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&sn.d.M(e)};cn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=fm(n,t.crossOrigin);sn.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};cn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=fm(t.as,t.crossOrigin);sn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else sn.d.m(e)};cn.requestFormReset=function(e){sn.d.r(e)};cn.unstable_batchedUpdates=function(e,t){return e(t)};cn.useFormState=function(e,t,n){return uc.H.useFormState(e,t,n)};cn.useFormStatus=function(){return uc.H.useHostTransitionStatus()};cn.version="19.1.0";function L1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L1)}catch(e){console.error(e)}}L1(),R1.exports=cn;var mm=R1.exports;const nL=zx(mm);function sL(){return"/lorerim-arcaneum/"}function en(e){return`${sL()}${e}`}const Fy=e=>{let t;const n=new Set,s=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,m))}},r=()=>t,l={setState:s,getState:r,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(s,r,l);return l},rL=e=>e?Fy(e):Fy,aL=e=>e;function iL(e,t=aL){const n=P.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return P.useDebugValue(n),n}const Hy=e=>{const t=rL(e),n=s=>iL(t,s);return Object.assign(n,t),n},jn=e=>e?Hy(e):Hy,zi=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(en("data/perk-trees.json"));if(!s.ok)throw new Error(`Failed to fetch perk trees data: ${s.status}`);const i=await s.json();e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load perk trees",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),oL=Object.freeze(Object.defineProperty({__proto__:null,usePerkTreesStore:zi},Symbol.toStringTag,{value:"Module"})),bs=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(en("data/playable-races.json"));if(!s.ok)throw new Error(`Failed to fetch races data: ${s.status}`);const i=(await s.json()).races.map(o=>({...o,id:o.id||o.edid||o.name.toLowerCase().replace(/\s+/g,"-"),tags:[o.category,...o.keywords||[]].filter(l=>!!l),name:o.name,edid:o.edid,description:o.description,category:o.category,source:o.source,startingStats:o.startingStats,physicalAttributes:o.physicalAttributes,skillBonuses:o.skillBonuses,racialSpells:o.racialSpells,keywords:o.keywords,flags:o.flags,regeneration:o.regeneration,combat:o.combat}));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load races",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),lL=Object.freeze(Object.defineProperty({__proto__:null,useRacesStore:bs},Symbol.toStringTag,{value:"Module"})),Da=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(en("data/skills.json"));if(!s.ok)throw new Error(`Failed to fetch skills data: ${s.status}`);const i=(await s.json()).skills.map(o=>({...o,id:o.id||o.edid||o.name.toLowerCase().replace(/\s+/g,"-"),tags:[...o.metaTags||[],o.category].filter(l=>!!l)}));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load skills",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),cL=Object.freeze(Object.defineProperty({__proto__:null,useSkillsStore:Da},Symbol.toStringTag,{value:"Module"}));function uL(){return zi.getState().data}function dL(){return bs.getState().data}function fL(e){const n=Da.getState().data.find(s=>s.edid===e);return(n==null?void 0:n.name)||e}function hm(e,t){let n=0;if(t.race){const r=dL().find(i=>i.edid===t.race);if(r!=null&&r.skillBonuses){const i=fL(e),o=r.skillBonuses.find(l=>l.skill===i);o&&(n+=o.bonus)}}return t.skills.major.includes(e)?n+=10:t.skills.minor.includes(e)&&(n+=5),n}function mL(e,t){var o,l,c;const n=hm(e,t),s=((l=(o=t.perks)==null?void 0:o.selected)==null?void 0:l[e])||[],r=((c=t.perks)==null?void 0:c.ranks)||{},i=gm(e,s,r);return n+i}function gm(e,t,n){var o;if(t.length===0)return 0;const r=uL().find(l=>l.treeId===e);if(!r)return 0;let i=0;for(const l of t){const c=r.perks.find(f=>f.edid===l);if(!c)continue;const u=n[l]||1,d=c.ranks.find(f=>f.rank===u);if(d&&(o=d.prerequisites)!=null&&o.skillLevel){const f=d.prerequisites.skillLevel.level;i=Math.max(i,f)}}return i}function Gu(e){const t={};for(const[n,s]of Object.entries(e.selected))if(s.length>0){const r=gm(n,s,e.ranks);r>0&&(t[n]=r)}return t}const Uy={v:1,name:"",notes:"",race:null,stone:null,religion:null,favoriteBlessing:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},skillLevels:{},equipment:[],userProgress:{unlocks:[]},destinyPath:[],attributeAssignments:{health:0,stamina:0,magicka:0,level:1,assignments:{}}},gr=jn((e,t)=>({build:Uy,updateBuild:n=>{console.log(" [Character Store] Received build updates:",n),n.destinyPath&&console.log(" [Character Store] Destiny path update detected:",n.destinyPath),e(s=>{console.log(" [Character Store] Current state before update:",s.build);const r={...s.build,...n};return console.log(" [Character Store] Previous build state:",s.build),console.log(" [Character Store] New build state:",r),r.destinyPath&&console.log(" [Character Store] New destiny path in build:",r.destinyPath),console.log(" [Character Store] About to return new state:",{build:r}),{build:r}}),console.log(" [Character Store] Build state updated successfully")},setBuild:n=>e({build:n}),resetBuild:()=>e({build:Uy}),setAttributeAssignment:(n,s)=>{e(r=>{const i={...r.build.attributeAssignments.assignments},o={...r.build.attributeAssignments},l=i[n];return l&&(o[l]=Math.max(0,o[l]-5)),i[n]=s,o[s]+=5,{build:{...r.build,attributeAssignments:{...r.build.attributeAssignments,...o,assignments:i}}}})},clearAttributeAssignment:n=>{e(s=>{const r={...s.build.attributeAssignments.assignments},i={...s.build.attributeAssignments},o=r[n];return o&&(i[o]=Math.max(0,i[o]-5),delete r[n]),{build:{...s.build,attributeAssignments:{...s.build.attributeAssignments,...i,assignments:r}}}})},clearAllAttributeAssignments:()=>{e(n=>({build:{...n.build,attributeAssignments:{health:0,stamina:0,magicka:0,level:n.build.attributeAssignments.level,assignments:{}}}}))},updateAttributeLevel:n=>{e(s=>({build:{...s.build,attributeAssignments:{...s.build.attributeAssignments,level:Math.max(1,n)}}}))}}));function nt(){const e=gr(H=>H.build.skills.major),t=gr(H=>H.build.skills.minor),n=gr(H=>H.build),s=gr(H=>H.updateBuild),r=gr(H=>H.resetBuild),i=H=>(e==null?void 0:e.includes(H))??!1,o=H=>(t==null?void 0:t.includes(H))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:i,hasMinorSkill:o,addMajorSkill:H=>{const G=e??[],K=t??[];if(!i(H)&&G.length<3){const ie=K.filter(Q=>Q!==H),ne={major:[...G,H],minor:ie};s({skills:ne})}},removeMajorSkill:H=>{const G=e??[],K=t??[],ie=G.filter(ne=>ne!==H);s({skills:{major:ie,minor:K}})},addMinorSkill:H=>{const G=e??[],K=t??[];if(!o(H)&&K.length<6){const ie=G.filter(ne=>ne!==H);s({skills:{major:ie,minor:[...K,H]}})}},removeMinorSkill:H=>{const G=e??[],ie=(t??[]).filter(ne=>ne!==H);s({skills:{major:G,minor:ie}})},addPerk:(H,G)=>{var ne;const K=((ne=n==null?void 0:n.perks)==null?void 0:ne.selected)??{},ie=K[H]??[];if(!ie.includes(G)){const Q={...n==null?void 0:n.perks,selected:{...K,[H]:[...ie,G]}},Se=Gu(Q);s({perks:Q,skillLevels:Se})}},removePerk:(H,G)=>{var Qe;const K=((Qe=n==null?void 0:n.perks)==null?void 0:Qe.selected)??{},ne=(K[H]??[]).filter(Et=>Et!==G),Q={...n==null?void 0:n.perks,selected:{...K,[H]:ne}},Se=Gu(Q);s({perks:Q,skillLevels:Se})},setPerkRank:(H,G)=>{var Q;const K=((Q=n==null?void 0:n.perks)==null?void 0:Q.ranks)??{},ie={...n==null?void 0:n.perks,ranks:{...K,[H]:G}},ne=Gu(ie);s({perks:ie,skillLevels:ne})},clearSkillPerks:H=>{var Et,fn;const G=((Et=n==null?void 0:n.perks)==null?void 0:Et.selected)??{},K=((fn=n==null?void 0:n.perks)==null?void 0:fn.ranks)??{},{[H]:ie,...ne}=G,Q={...K};ie&&ie.forEach(mn=>{delete Q[mn]});const Se={...n==null?void 0:n.perks,selected:ne,ranks:Q},Qe=Gu(Se);s({perks:Se,skillLevels:Qe})},getSkillPerks:H=>{var G,K;return((K=(G=n==null?void 0:n.perks)==null?void 0:G.selected)==null?void 0:K[H])??[]},getPerkRank:H=>{var G,K;return((K=(G=n==null?void 0:n.perks)==null?void 0:G.ranks)==null?void 0:K[H])??0},getSkillLevel:H=>n?mL(H,n):0,getStartingSkillLevel:H=>n?hm(H,n):0,addTrait:H=>{const{regular:G=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:ie=2,bonus:ne=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};G.length<ie?s({traits:{...n==null?void 0:n.traits,regular:[...G,H]}}):K.length<ne&&s({traits:{...n==null?void 0:n.traits,bonus:[...K,H]}})},addRegularTrait:H=>{const{regular:G=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:K=2}=(n==null?void 0:n.traitLimits)??{regular:2};G.length<K&&s({traits:{...n==null?void 0:n.traits,regular:[...G,H]}})},addBonusTrait:H=>{const{bonus:G=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:K=1}=(n==null?void 0:n.traitLimits)??{bonus:1};G.length<K&&s({traits:{...n==null?void 0:n.traits,bonus:[...G,H]}})},removeTrait:H=>{const{regular:G=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};s({traits:{regular:G.filter(ie=>ie!==H),bonus:K.filter(ie=>ie!==H)}})},hasTrait:H=>{var G,K,ie,ne;return(((K=(G=n==null?void 0:n.traits)==null?void 0:G.regular)==null?void 0:K.includes(H))??!1)||(((ne=(ie=n==null?void 0:n.traits)==null?void 0:ie.bonus)==null?void 0:ne.includes(H))??!1)},hasRegularTrait:H=>{var G,K;return((K=(G=n==null?void 0:n.traits)==null?void 0:G.regular)==null?void 0:K.includes(H))??!1},hasBonusTrait:H=>{var G,K;return((K=(G=n==null?void 0:n.traits)==null?void 0:G.bonus)==null?void 0:K.includes(H))??!1},setRace:H=>{s({race:H})},setBirthsign:H=>{s({stone:H})},setStone:H=>{s({stone:H})},setReligion:H=>{s({religion:H})},setFavoriteBlessing:H=>{s({favoriteBlessing:H})},addEquipment:H=>{const G=(n==null?void 0:n.equipment)??[];G.includes(H)||s({equipment:[...G,H]})},removeEquipment:H=>{const G=(n==null?void 0:n.equipment)??[];s({equipment:G.filter(K=>K!==H)})},setBuildName:H=>{s({name:H})},setBuildNotes:H=>{s({notes:H})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:H=>{s({destinyPath:H})},updateBuild:s,clearBuild:()=>{s({name:"",notes:"",race:null,stone:null,religion:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},perks:{selected:{},ranks:{}},skillLevels:{},destinyPath:[]})},resetBuild:r,getSummary:()=>{var H,G,K,ie,ne,Q,Se,Qe,Et;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((G=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:G.length)??0)+(((ie=(K=n==null?void 0:n.traits)==null?void 0:K.bonus)==null?void 0:ie.length)??0),majorSkillCount:((Q=(ne=n==null?void 0:n.skills)==null?void 0:ne.major)==null?void 0:Q.length)??0,minorSkillCount:((Qe=(Se=n==null?void 0:n.skills)==null?void 0:Se.minor)==null?void 0:Qe.length)??0,equipmentCount:((Et=n==null?void 0:n.equipment)==null?void 0:Et.length)??0}},getRegularTraitLimit:()=>{var H;return((H=n==null?void 0:n.traitLimits)==null?void 0:H.regular)??2},getBonusTraitLimit:()=>{var H;return((H=n==null?void 0:n.traitLimits)==null?void 0:H.bonus)??1},getRegularTraitCount:()=>{var H,G;return((G=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:G.length)??0},getBonusTraitCount:()=>{var H,G;return((G=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:G.length)??0},canAddRegularTrait:()=>{var H,G,K;return(((G=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:G.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.regular)??2)},canAddBonusTrait:()=>{var H,G,K;return(((G=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:G.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.bonus)??1)},getTraitType:H=>{var G,K,ie,ne;return(K=(G=n==null?void 0:n.traits)==null?void 0:G.regular)!=null&&K.includes(H)?"regular":(ne=(ie=n==null?void 0:n.traits)==null?void 0:ie.bonus)!=null&&ne.includes(H)?"bonus":null},isAllTraitsFull:()=>{var ne,Q,Se,Qe,Et,fn;const H=((Q=(ne=n==null?void 0:n.traits)==null?void 0:ne.regular)==null?void 0:Q.length)??0,G=((Qe=(Se=n==null?void 0:n.traits)==null?void 0:Se.bonus)==null?void 0:Qe.length)??0,K=((Et=n==null?void 0:n.traitLimits)==null?void 0:Et.regular)??2,ie=((fn=n==null?void 0:n.traitLimits)==null?void 0:fn.bonus)??1;return H>=K&&G>=ie},addTraitToSlot:(H,G)=>{if(G==="regular"){const{regular:K=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:ie=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(K.length<ie){const{bonus:ne=[]}=(n==null?void 0:n.traits)??{bonus:[]},Q=ne.filter(Se=>Se!==H);s({traits:{regular:[...K,H],bonus:Q}})}}else{const{bonus:K=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:ie=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(K.length<ie){const{regular:ne=[]}=(n==null?void 0:n.traits)??{regular:[]},Q=ne.filter(Se=>Se!==H);s({traits:{regular:Q,bonus:[...K,H]}})}}},isSlotAvailable:(H,G=0)=>{var K,ie,ne,Q;return H==="regular"?(((ie=(K=n==null?void 0:n.traits)==null?void 0:K.regular)==null?void 0:ie.length)??0)<=G:(((Q=(ne=n==null?void 0:n.traits)==null?void 0:ne.bonus)==null?void 0:Q.length)??0)<=G}}}function Vy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pm(...e){return t=>{let n=!1;const s=e.map(r=>{const i=Vy(r,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():Vy(e[r],null)}}}}function Ie(...e){return g.useCallback(pm(...e),e)}function Go(e){const t=gL(e),n=g.forwardRef((s,r)=>{const{children:i,...o}=s,l=g.Children.toArray(i),c=l.find(xL);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:r,children:i})});return n.displayName=`${e}.Slot`,n}var hL=Go("Slot");function gL(e){const t=g.forwardRef((n,s)=>{const{children:r,...i}=n;if(g.isValidElement(r)){const o=yL(r),l=vL(i,r.props);return r.type!==g.Fragment&&(l.ref=s?pm(s,o):o),g.cloneElement(r,l)}return g.Children.count(r)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var z1=Symbol("radix.slottable");function pL(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=z1,t}function xL(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===z1}function vL(e,t){const n={...t};for(const s in t){const r=e[s],i=t[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}function yL(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function P1(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=P1(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function $1(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=P1(e))&&(s&&(s+=" "),s+=t);return s}const Gy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qy=$1,Nl=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return qy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=t,o=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=Gy(d)||Gy(f);return r[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(p=>{let[y,b]=p;return Array.isArray(b)?b.includes({...i,...l}[y]):{...i,...l}[y]===b})?[...u,f,m]:u},[]);return qy(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Wx="-",bL=e=>{const t=jL(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Wx);return l[0]===""&&l.length!==1&&l.shift(),O1(l,t)||wL(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},O1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),r=s?O1(e.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const i=e.join(Wx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Zy=/^\[(.+)\]$/,wL=e=>{if(Zy.test(e)){const t=Zy.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},jL=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const r in n)Xg(n[r],s,r,t);return s},Xg=(e,t,n,s)=>{e.forEach(r=>{if(typeof r=="string"){const i=r===""?t:Yy(t,r);i.classGroupId=n;return}if(typeof r=="function"){if(NL(r)){Xg(r(s),t,n,s);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{Xg(o,Yy(t,i),n,s)})})},Yy=(e,t)=>{let n=e;return t.split(Wx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},NL=e=>e.isThemeGetter,SL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const r=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}},Wg="!",Kg=":",kL=Kg.length,CL=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=r=>{const i=[];let o=0,l=0,c=0,u;for(let p=0;p<r.length;p++){let y=r[p];if(o===0&&l===0){if(y===Kg){i.push(r.slice(c,p)),c=p+kL;continue}if(y==="/"){u=p;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const d=i.length===0?r:r.substring(c),f=EL(d),m=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const r=t+Kg,i=s;s=o=>o.startsWith(r)?i(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const r=s;s=i=>n({className:i,parseClassName:r})}return s},EL=e=>e.endsWith(Wg)?e.substring(0,e.length-1):e.startsWith(Wg)?e.substring(1):e,TL=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const r=[];let i=[];return s.forEach(o=>{o[0]==="["||t[o]?(r.push(...i.sort(),o),i=[]):i.push(o)}),r.push(...i.sort()),r}},AL=e=>({cache:SL(e.cacheSize),parseClassName:CL(e),sortModifiers:TL(e),...bL(e)}),_L=/\s+/,ML=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:i}=t,o=[],l=e.trim().split(_L);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:m,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let b=!!y,v=s(b?p.substring(0,y):p);if(!v){if(!b){c=d+(c.length>0?" "+c:c);continue}if(v=s(p),!v){c=d+(c.length>0?" "+c:c);continue}b=!1}const x=i(m).join(":"),w=h?x+Wg:x,j=w+v;if(o.includes(j))continue;o.push(j);const N=r(v,b);for(let k=0;k<N.length;++k){const S=N[k];o.push(w+S)}c=d+(c.length>0?" "+c:c)}return c};function RL(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=I1(t))&&(s&&(s+=" "),s+=n);return s}const I1=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=I1(e[s]))&&(n&&(n+=" "),n+=t);return n};function DL(e,...t){let n,s,r,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=AL(u),s=n.cache.get,r=n.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=ML(c,n);return r(c,d),d}return function(){return i(RL.apply(null,arguments))}}const Tt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},B1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,F1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LL=/^\d+\/\d+$/,zL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$L=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,OL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wi=e=>LL.test(e),ke=e=>!!e&&!Number.isNaN(Number(e)),Zr=e=>!!e&&Number.isInteger(Number(e)),Nh=e=>e.endsWith("%")&&ke(e.slice(0,-1)),lr=e=>zL.test(e),BL=()=>!0,FL=e=>PL.test(e)&&!$L.test(e),H1=()=>!1,HL=e=>OL.test(e),UL=e=>IL.test(e),VL=e=>!re(e)&&!ae(e),GL=e=>Sl(e,G1,H1),re=e=>B1.test(e),Ga=e=>Sl(e,q1,FL),Sh=e=>Sl(e,WL,ke),Xy=e=>Sl(e,U1,H1),qL=e=>Sl(e,V1,UL),qu=e=>Sl(e,Z1,HL),ae=e=>F1.test(e),Il=e=>kl(e,q1),ZL=e=>kl(e,KL),Wy=e=>kl(e,U1),YL=e=>kl(e,G1),XL=e=>kl(e,V1),Zu=e=>kl(e,Z1,!0),Sl=(e,t,n)=>{const s=B1.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},kl=(e,t,n=!1)=>{const s=F1.exec(e);return s?s[1]?t(s[1]):n:!1},U1=e=>e==="position"||e==="percentage",V1=e=>e==="image"||e==="url",G1=e=>e==="length"||e==="size"||e==="bg-size",q1=e=>e==="length",WL=e=>e==="number",KL=e=>e==="family-name",Z1=e=>e==="shadow",QL=()=>{const e=Tt("color"),t=Tt("font"),n=Tt("text"),s=Tt("font-weight"),r=Tt("tracking"),i=Tt("leading"),o=Tt("breakpoint"),l=Tt("container"),c=Tt("spacing"),u=Tt("radius"),d=Tt("shadow"),f=Tt("inset-shadow"),m=Tt("text-shadow"),h=Tt("drop-shadow"),p=Tt("blur"),y=Tt("perspective"),b=Tt("aspect"),v=Tt("ease"),x=Tt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...j(),ae,re],k=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],E=()=>[ae,re,c],C=()=>[Wi,"full","auto",...E()],T=()=>[Zr,"none","subgrid",ae,re],_=()=>["auto",{span:["full",Zr,ae,re]},Zr,ae,re],O=()=>[Zr,"auto",ae,re],L=()=>["auto","min","max","fr",ae,re],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...E()],z=()=>[Wi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],M=()=>[e,ae,re],R=()=>[...j(),Wy,Xy,{position:[ae,re]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",YL,GL,{size:[ae,re]}],V=()=>[Nh,Il,Ga],X=()=>["","none","full",u,ae,re],W=()=>["",ke,Il,Ga],J=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[ke,Nh,Wy,Xy],xe=()=>["","none",p,ae,re],me=()=>["none",ke,ae,re],ye=()=>["none",ke,ae,re],Xe=()=>[ke,ae,re],st=()=>[Wi,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[lr],breakpoint:[lr],color:[BL],container:[lr],"drop-shadow":[lr],ease:["in","out","in-out"],font:[VL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[lr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[lr],shadow:[lr],spacing:["px",ke],text:[lr],"text-shadow":[lr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wi,re,ae,b]}],container:["container"],columns:[{columns:[ke,re,ae,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Zr,"auto",ae,re]}],basis:[{basis:[Wi,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Wi,"auto","initial","none",re]}],grow:[{grow:["",ke,ae,re]}],shrink:[{shrink:["",ke,ae,re]}],order:[{order:[Zr,"first","last","none",ae,re]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:_()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:_()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[l,"screen",...z()]}],"min-w":[{"min-w":[l,"screen","none",...z()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",n,Il,Ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ae,Sh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nh,re]}],"font-family":[{font:[ZL,re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ae,re]}],"line-clamp":[{"line-clamp":[ke,"none",ae,Sh]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",ae,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ae,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",ae,Ga]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[ke,"auto",ae,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zr,ae,re],radial:["",ae,re],conic:[Zr,ae,re]},XL,qL]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,ae,re]}],"outline-w":[{outline:["",ke,Il,Ga]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",d,Zu,qu]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",f,Zu,qu]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[ke,Ga]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",m,Zu,qu]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[ke,ae,re]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[ae,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ae,re]}],filter:[{filter:["","none",ae,re]}],blur:[{blur:xe()}],brightness:[{brightness:[ke,ae,re]}],contrast:[{contrast:[ke,ae,re]}],"drop-shadow":[{"drop-shadow":["","none",h,Zu,qu]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",ke,ae,re]}],"hue-rotate":[{"hue-rotate":[ke,ae,re]}],invert:[{invert:["",ke,ae,re]}],saturate:[{saturate:[ke,ae,re]}],sepia:[{sepia:["",ke,ae,re]}],"backdrop-filter":[{"backdrop-filter":["","none",ae,re]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[ke,ae,re]}],"backdrop-contrast":[{"backdrop-contrast":[ke,ae,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,ae,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,ae,re]}],"backdrop-invert":[{"backdrop-invert":["",ke,ae,re]}],"backdrop-opacity":[{"backdrop-opacity":[ke,ae,re]}],"backdrop-saturate":[{"backdrop-saturate":[ke,ae,re]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,ae,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ae,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",ae,re]}],ease:[{ease:["linear","initial",v,ae,re]}],delay:[{delay:[ke,ae,re]}],animate:[{animate:["none",x,ae,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ae,re]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:Xe()}],"skew-x":[{"skew-x":Xe()}],"skew-y":[{"skew-y":Xe()}],transform:[{transform:[ae,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae,re]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[ke,Il,Ga,Sh]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JL=DL(QL);function I(...e){return JL($1(e))}const ez=Nl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function U({className:e,variant:t,size:n,asChild:s=!1,...r}){const i=s?hL:"button";return a.jsx(i,{"data-slot":"button",className:I(ez({variant:t,size:n,className:e})),...r})}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function tz(e,t){const n=g.createContext(t),s=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function r(i){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,r]}function Un(e,t=[]){let n=[];function s(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:m,children:h,...p}=f,y=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,b=g.useMemo(()=>p,Object.values(p));return a.jsx(y.Provider,{value:b,children:h})};u.displayName=i+"Provider";function d(f,m){var y;const h=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,p=g.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return r.scopeName=e,[s,nz(r,...t)]}function nz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var qs=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},sz=a1[" useId ".trim().toString()]||(()=>{}),rz=0;function kr(e){const[t,n]=g.useState(sz());return qs(()=>{n(s=>s??String(rz++))},[e]),t?`radix-${t}`:""}var az=a1[" useInsertionEffect ".trim().toString()]||qs;function Br({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[r,i,o]=iz({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:r;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=g.useCallback(d=>{var f;if(l){const m=oz(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function iz({defaultProp:e,onChange:t}){const[n,s]=g.useState(e),r=g.useRef(n),i=g.useRef(t);return az(()=>{i.current=t},[t]),g.useEffect(()=>{var o;r.current!==n&&((o=i.current)==null||o.call(i,n),r.current=n)},[n,r]),[n,s,i]}function oz(e){return typeof e=="function"}var lz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=lz.reduce((e,t)=>{const n=Go(`Primitive.${t}`),s=g.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Y1(e,t){e&&mm.flushSync(()=>e.dispatchEvent(t))}function Xt(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function cz(e,t=globalThis==null?void 0:globalThis.document){const n=Xt(e);g.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var uz="DismissableLayer",Qg="dismissableLayer.update",dz="dismissableLayer.pointerDownOutside",fz="dismissableLayer.focusOutside",Ky,X1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lu=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(X1),[d,f]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=g.useState({}),p=Ie(t,S=>f(S)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(b),x=d?y.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=v,N=gz(S=>{const E=S.target,C=[...u.branches].some(T=>T.contains(E));!j||C||(r==null||r(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),k=pz(S=>{const E=S.target;[...u.branches].some(T=>T.contains(E))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return cz(S=>{x===u.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ky=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Qy(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ky)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Qy())},[d,u]),g.useEffect(()=>{const S=()=>h({});return document.addEventListener(Qg,S),()=>document.removeEventListener(Qg,S)},[]),a.jsx(we.div,{...c,ref:p,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,k.onFocusCapture),onBlurCapture:se(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,N.onPointerDownCapture)})});lu.displayName=uz;var mz="DismissableLayerBranch",hz=g.forwardRef((e,t)=>{const n=g.useContext(X1),s=g.useRef(null),r=Ie(t,s);return g.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(we.div,{...e,ref:r})});hz.displayName=mz;function gz(e,t=globalThis==null?void 0:globalThis.document){const n=Xt(e),s=g.useRef(!1),r=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){W1(dz,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}else t.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function pz(e,t=globalThis==null?void 0:globalThis.document){const n=Xt(e),s=g.useRef(!1);return g.useEffect(()=>{const r=i=>{i.target&&!s.current&&W1(fz,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Qy(){const e=new CustomEvent(Qg);document.dispatchEvent(e)}function W1(e,t,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?Y1(r,i):r.dispatchEvent(i)}var kh="focusScope.autoFocusOnMount",Ch="focusScope.autoFocusOnUnmount",Jy={bubbles:!1,cancelable:!0},xz="FocusScope",Kx=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),u=Xt(r),d=Xt(i),f=g.useRef(null),m=Ie(t,y=>c(y)),h=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let y=function(w){if(h.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Wr(f.current,{select:!0})},b=function(w){if(h.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Wr(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Wr(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),x.disconnect()}}},[s,l,h.paused]),g.useEffect(()=>{if(l){tb.add(h);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(kh,Jy);l.addEventListener(kh,u),l.dispatchEvent(v),v.defaultPrevented||(vz(Nz(K1(l)),{select:!0}),document.activeElement===y&&Wr(l))}return()=>{l.removeEventListener(kh,u),setTimeout(()=>{const v=new CustomEvent(Ch,Jy);l.addEventListener(Ch,d),l.dispatchEvent(v),v.defaultPrevented||Wr(y??document.body,{select:!0}),l.removeEventListener(Ch,d),tb.remove(h)},0)}}},[l,u,d,h]);const p=g.useCallback(y=>{if(!n&&!s||h.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(b&&v){const x=y.currentTarget,[w,j]=yz(x);w&&j?!y.shiftKey&&v===j?(y.preventDefault(),n&&Wr(w,{select:!0})):y.shiftKey&&v===w&&(y.preventDefault(),n&&Wr(j,{select:!0})):v===x&&y.preventDefault()}},[n,s,h.paused]);return a.jsx(we.div,{tabIndex:-1,...o,ref:m,onKeyDown:p})});Kx.displayName=xz;function vz(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Wr(s,{select:t}),document.activeElement!==n)return}function yz(e){const t=K1(e),n=eb(t,e),s=eb(t.reverse(),e);return[n,s]}function K1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eb(e,t){for(const n of e)if(!bz(n,{upTo:t}))return n}function bz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wz(e){return e instanceof HTMLInputElement&&"select"in e}function Wr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&wz(e)&&t&&e.select()}}var tb=jz();function jz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nb(e,t),e.unshift(t)},remove(t){var n;e=nb(e,t),(n=e[0])==null||n.resume()}}}function nb(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Nz(e){return e.filter(t=>t.tagName!=="A")}var Sz="Portal",Qx=g.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[r,i]=g.useState(!1);qs(()=>i(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?nL.createPortal(a.jsx(we.div,{...s,ref:t}),o):null});Qx.displayName=Sz;function kz(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var tn=e=>{const{present:t,children:n}=e,s=Cz(t),r=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),i=Ie(s.ref,Ez(r));return typeof n=="function"||s.isPresent?g.cloneElement(r,{ref:i}):null};tn.displayName="Presence";function Cz(e){const[t,n]=g.useState(),s=g.useRef(null),r=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=kz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Yu(s.current);i.current=l==="mounted"?u:"none"},[l]),qs(()=>{const u=s.current,d=r.current;if(d!==e){const m=i.current,h=Yu(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,c]),qs(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const y=Yu(s.current).includes(h.animationName);if(h.target===t&&y&&(c("ANIMATION_END"),!r.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=h=>{h.target===t&&(i.current=Yu(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Yu(e){return(e==null?void 0:e.animationName)||"none"}function Ez(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Eh=0;function Q1(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sb()),document.body.insertAdjacentElement("beforeend",e[1]??sb()),Eh++,()=>{Eh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Eh--}},[])}function sb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ls=function(){return Ls=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ls.apply(this,arguments)};function J1(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function Tz(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,i;s<r;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Rd="right-scroll-bar-position",Dd="width-before-scroll-bar",Az="with-scroll-bars-hidden",_z="--removed-body-scroll-bar-size";function Th(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mz(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=t,n.facade}var Rz=typeof window<"u"?g.useLayoutEffect:g.useEffect,rb=new WeakMap;function Dz(e,t){var n=Mz(null,function(s){return e.forEach(function(r){return Th(r,s)})});return Rz(function(){var s=rb.get(n);if(s){var r=new Set(s),i=new Set(e),o=n.current;r.forEach(function(l){i.has(l)||Th(l,null)}),i.forEach(function(l){r.has(l)||Th(l,o)})}rb.set(n,e)},[e]),n}function Lz(e){return e}function zz(e,t){t===void 0&&(t=Lz);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return r}function Pz(e){e===void 0&&(e={});var t=zz(null);return t.options=Ls({async:!0,ssr:!1},e),t}var eS=function(e){var t=e.sideCar,n=J1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,Ls({},n))};eS.isSideCarExport=!0;function $z(e,t){return e.useMedium(t),eS}var tS=Pz(),Ah=function(){},xm=g.forwardRef(function(e,t){var n=g.useRef(null),s=g.useState({onScrollCapture:Ah,onWheelCapture:Ah,onTouchMoveCapture:Ah}),r=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,h=e.noRelative,p=e.noIsolation,y=e.inert,b=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,j=J1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,k=Dz([n,t]),S=Ls(Ls({},j),r);return g.createElement(g.Fragment,null,d&&g.createElement(N,{sideCar:tS,removeScrollBar:u,shards:f,noRelative:h,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(l),Ls(Ls({},S),{ref:k})):g.createElement(x,Ls({},S,{className:c,ref:k}),l))});xm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xm.classNames={fullWidth:Dd,zeroRight:Rd};var Oz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Iz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Oz();return t&&e.setAttribute("nonce",t),e}function Bz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Fz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Hz=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Iz())&&(Bz(t,n),Fz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Uz=function(){var e=Hz();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},nS=function(){var e=Uz(),t=function(n){var s=n.styles,r=n.dynamic;return e(s,r),null};return t},Vz={left:0,top:0,right:0,gap:0},_h=function(e){return parseInt(e||"",10)||0},Gz=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[_h(n),_h(s),_h(r)]},qz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Vz;var t=Gz(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Zz=nS(),Co="data-scroll-locked",Yz=function(e,t,n,s){var r=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Az,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Co,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rd,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Dd,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Rd," .").concat(Rd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Dd," .").concat(Dd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Co,`] {
    `).concat(_z,": ").concat(l,`px;
  }
`)},ab=function(){var e=parseInt(document.body.getAttribute(Co)||"0",10);return isFinite(e)?e:0},Xz=function(){g.useEffect(function(){return document.body.setAttribute(Co,(ab()+1).toString()),function(){var e=ab()-1;e<=0?document.body.removeAttribute(Co):document.body.setAttribute(Co,e.toString())}},[])},Wz=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,r=s===void 0?"margin":s;Xz();var i=g.useMemo(function(){return qz(r)},[r]);return g.createElement(Zz,{styles:Yz(i,!t,r,n?"":"!important")})},Jg=!1;if(typeof window<"u")try{var Xu=Object.defineProperty({},"passive",{get:function(){return Jg=!0,!0}});window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{Jg=!1}var Ki=Jg?{passive:!1}:!1,Kz=function(e){return e.tagName==="TEXTAREA"},sS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kz(e)&&n[t]==="visible")},Qz=function(e){return sS(e,"overflowY")},Jz=function(e){return sS(e,"overflowX")},ib=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=rS(e,s);if(r){var i=aS(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},eP=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},tP=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},rS=function(e,t){return e==="v"?Qz(t):Jz(t)},aS=function(e,t){return e==="v"?eP(t):tP(t)},nP=function(e,t){return e==="h"&&t==="rtl"?-1:1},sP=function(e,t,n,s,r){var i=nP(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var h=aS(e,l),p=h[0],y=h[1],b=h[2],v=y-b-i*p;(p||v)&&rS(e,l)&&(f+=v,m+=p);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Wu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ob=function(e){return[e.deltaX,e.deltaY]},lb=function(e){return e&&"current"in e?e.current:e},rP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iP=0,Qi=[];function oP(e){var t=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),r=g.useState(iP++)[0],i=g.useState(nS)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var y=Tz([e.lockRef.current],(e.shards||[]).map(lb),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=Wu(y),x=n.current,w="deltaX"in y?y.deltaX:x[0]-v[0],j="deltaY"in y?y.deltaY:x[1]-v[1],N,k=y.target,S=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in y&&S==="h"&&k.type==="range")return!1;var E=ib(S,k);if(!E)return!0;if(E?N=S:(N=S==="v"?"h":"v",E=ib(S,k)),!E)return!1;if(!s.current&&"changedTouches"in y&&(w||j)&&(s.current=N),!N)return!0;var C=s.current||N;return sP(C,b,y,C==="h"?w:j)},[]),c=g.useCallback(function(y){var b=y;if(!(!Qi.length||Qi[Qi.length-1]!==i)){var v="deltaY"in b?ob(b):Wu(b),x=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&rP(N.delta,v)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(lb).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(y,b,v,x){var w={name:y,delta:b,target:v,should:x,shadowParent:lP(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=g.useCallback(function(y){n.current=Wu(y),s.current=void 0},[]),f=g.useCallback(function(y){u(y.type,ob(y),y.target,l(y,e.lockRef.current))},[]),m=g.useCallback(function(y){u(y.type,Wu(y),y.target,l(y,e.lockRef.current))},[]);g.useEffect(function(){return Qi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ki),document.addEventListener("touchmove",c,Ki),document.addEventListener("touchstart",d,Ki),function(){Qi=Qi.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Ki),document.removeEventListener("touchmove",c,Ki),document.removeEventListener("touchstart",d,Ki)}},[]);var h=e.removeScrollBar,p=e.inert;return g.createElement(g.Fragment,null,p?g.createElement(i,{styles:aP(r)}):null,h?g.createElement(Wz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cP=$z(tS,oP);var Jx=g.forwardRef(function(e,t){return g.createElement(xm,Ls({},e,{ref:t,sideCar:cP}))});Jx.classNames=xm.classNames;var uP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ji=new WeakMap,Ku=new WeakMap,Qu={},Mh=0,iS=function(e){return e&&(e.host||iS(e.parentNode))},dP=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=iS(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},fP=function(e,t,n,s){var r=dP(t,Array.isArray(e)?e:[e]);Qu[n]||(Qu[n]=new WeakMap);var i=Qu[n],o=[],l=new Set,c=new Set(r),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(s),p=h!==null&&h!=="false",y=(Ji.get(m)||0)+1,b=(i.get(m)||0)+1;Ji.set(m,y),i.set(m,b),o.push(m),y===1&&p&&Ku.set(m,!0),b===1&&m.setAttribute(n,"true"),p||m.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(t),l.clear(),Mh++,function(){o.forEach(function(f){var m=Ji.get(f)-1,h=i.get(f)-1;Ji.set(f,m),i.set(f,h),m||(Ku.has(f)||f.removeAttribute(s),Ku.delete(f)),h||f.removeAttribute(n)}),Mh--,Mh||(Ji=new WeakMap,Ji=new WeakMap,Ku=new WeakMap,Qu={})}},oS=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=uP(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),fP(s,r,n,"aria-hidden")):function(){return null}},vm="Dialog",[lS,Dne]=Un(vm),[mP,Ns]=lS(vm),cS=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=Br({prop:s,defaultProp:r??!1,onChange:i,caller:vm});return a.jsx(mP,{scope:t,triggerRef:l,contentRef:c,contentId:kr(),titleId:kr(),descriptionId:kr(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};cS.displayName=vm;var uS="DialogTrigger",dS=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ns(uS,n),i=Ie(t,r.triggerRef);return a.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":n0(r.open),...s,ref:i,onClick:se(e.onClick,r.onOpenToggle)})});dS.displayName=uS;var e0="DialogPortal",[hP,fS]=lS(e0,{forceMount:void 0}),mS=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:r}=e,i=Ns(e0,t);return a.jsx(hP,{scope:t,forceMount:n,children:g.Children.map(s,o=>a.jsx(tn,{present:n||i.open,children:a.jsx(Qx,{asChild:!0,container:r,children:o})}))})};mS.displayName=e0;var rf="DialogOverlay",hS=g.forwardRef((e,t)=>{const n=fS(rf,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,i=Ns(rf,e.__scopeDialog);return i.modal?a.jsx(tn,{present:s||i.open,children:a.jsx(pP,{...r,ref:t})}):null});hS.displayName=rf;var gP=Go("DialogOverlay.RemoveScroll"),pP=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ns(rf,n);return a.jsx(Jx,{as:gP,allowPinchZoom:!0,shards:[r.contentRef],children:a.jsx(we.div,{"data-state":n0(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),yi="DialogContent",gS=g.forwardRef((e,t)=>{const n=fS(yi,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,i=Ns(yi,e.__scopeDialog);return a.jsx(tn,{present:s||i.open,children:i.modal?a.jsx(xP,{...r,ref:t}):a.jsx(vP,{...r,ref:t})})});gS.displayName=yi;var xP=g.forwardRef((e,t)=>{const n=Ns(yi,e.__scopeDialog),s=g.useRef(null),r=Ie(t,n.contentRef,s);return g.useEffect(()=>{const i=s.current;if(i)return oS(i)},[]),a.jsx(pS,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault())})}),vP=g.forwardRef((e,t)=>{const n=Ns(yi,e.__scopeDialog),s=g.useRef(!1),r=g.useRef(!1);return a.jsx(pS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),pS=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...o}=e,l=Ns(yi,n),c=g.useRef(null),u=Ie(t,c);return Q1(),a.jsxs(a.Fragment,{children:[a.jsx(Kx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:a.jsx(lu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":n0(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(yP,{titleId:l.titleId}),a.jsx(wP,{contentRef:c,descriptionId:l.descriptionId})]})]})}),t0="DialogTitle",xS=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ns(t0,n);return a.jsx(we.h2,{id:r.titleId,...s,ref:t})});xS.displayName=t0;var vS="DialogDescription",yS=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ns(vS,n);return a.jsx(we.p,{id:r.descriptionId,...s,ref:t})});yS.displayName=vS;var bS="DialogClose",wS=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=Ns(bS,n);return a.jsx(we.button,{type:"button",...s,ref:t,onClick:se(e.onClick,()=>r.onOpenChange(!1))})});wS.displayName=bS;function n0(e){return e?"open":"closed"}var jS="DialogTitleWarning",[Lne,NS]=tz(jS,{contentName:yi,titleName:t0,docsSlug:"dialog"}),yP=({titleId:e})=>{const t=NS(jS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},bP="DialogDescriptionWarning",wP=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NS(bP).contentName}}.`;return g.useEffect(()=>{var i;const r=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},s0=cS,jP=dS,r0=mS,cu=hS,uu=gS,du=xS,fu=yS,SS=wS;const qo=s0,kS=jP,NP=r0,CS=g.forwardRef(({className:e,...t},n)=>a.jsx(cu,{className:I("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:kt.MODAL},...t,ref:n}));CS.displayName=cu.displayName;const SP=Nl("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bi=g.forwardRef(({side:e="right",className:t,children:n,...s},r)=>a.jsxs(NP,{children:[a.jsx(CS,{}),a.jsxs(uu,{ref:r,className:I(SP({side:e}),t),style:{zIndex:kt.MODAL+1,backgroundColor:"hsl(var(--background))"},...s,children:[n,a.jsxs(SS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(He,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bi.displayName=uu.displayName;const Zo=({className:e,...t})=>a.jsx("div",{className:I("flex flex-col space-y-2 text-center sm:text-left",e),...t});Zo.displayName="SheetHeader";const Yo=g.forwardRef(({className:e,...t},n)=>a.jsx(du,{ref:n,className:I("text-lg font-semibold text-foreground",e),...t}));Yo.displayName=du.displayName;const a0=g.forwardRef(({className:e,...t},n)=>a.jsx(fu,{ref:n,className:I("text-sm text-muted-foreground",e),...t}));a0.displayName=fu.displayName;function ue({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:I("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function be({className:e,action:t,children:n,...s}){return a.jsxs("div",{"data-slot":"card-header",className:I("flex flex-row items-start justify-between space-y-0",e),...s,children:[a.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&a.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function _e({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:I("text-xl font-bold leading-none",e),...t})}function ps({className:e,...t}){return a.jsx("div",{"data-slot":"card-description",className:I("text-base text-muted-foreground",e),...t})}function fe({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:I("pt-0",e),...t})}const Ln=g.forwardRef(({className:e,type:t,...n},s)=>a.jsx("input",{type:t,className:I("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Ln.displayName="Input";var kP="Label",ES=g.forwardRef((e,t)=>a.jsx(we.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ES.displayName=kP;const CP=Nl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),zt=g.forwardRef(({className:e,children:t,...n},s)=>a.jsx(ES,{ref:s,className:I(CP(),e),...n,children:t}));zt.displayName="Label";function TS({name:e,notes:t,onNameChange:n,onNotesChange:s,className:r}){const[i,o]=g.useState(e),[l,c]=g.useState(t),u=g.useCallback((()=>{let h;return p=>{clearTimeout(h),h=setTimeout(()=>{n(p)},300)}})(),[n]),d=g.useCallback((()=>{let h;return p=>{clearTimeout(h),h=setTimeout(()=>{s(p)},300)}})(),[s]);g.useEffect(()=>{o(e)},[e]),g.useEffect(()=>{c(t)},[t]);const f=h=>{const p=h.target.value;o(p),u(p)},m=h=>{const p=h.target.value;c(p),d(p)};return a.jsxs(ue,{className:`mb-6 ${r||""}`,children:[a.jsx(be,{children:a.jsx(_e,{children:"Basic Information"})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(zt,{htmlFor:"name",children:"Character Name"}),a.jsx(Ln,{id:"name",value:i,onChange:f,placeholder:"Enter character name..."})]}),a.jsxs("div",{children:[a.jsx(zt,{htmlFor:"notes",children:"Notes"}),a.jsx("textarea",{id:"notes",value:l,onChange:m,placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}function EP({onClick:e,className:t}){return a.jsxs(U,{variant:"outline",size:"sm",onClick:e,className:t,title:"GigaPlanner Tools - Import character builds","aria-label":"Open GigaPlanner tools",children:[a.jsx(tf,{className:"w-4 h-4 mr-2"}),"GigaPlanner Tools"]})}const Pi=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(en("data/birthsigns.json"));if(!s.ok)throw new Error(`Failed to fetch birthsigns data: ${s.status}`);const i=(await s.json()).map(o=>{var l,c;return{...o,id:o.edid||o.name.toLowerCase().replace(/\s+/g,"-"),tags:[o.group,...((l=o.powers)==null?void 0:l.map(u=>u.name))||[],...((c=o.stat_modifications)==null?void 0:c.map(u=>u.stat))||[]].filter(u=>!!u)}});e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load birthsigns",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),TP=Object.freeze(Object.defineProperty({__proto__:null,useBirthsignsStore:Pi},Symbol.toStringTag,{value:"Module"})),AP={SHOW_FAVORED_RACES:!1,ENABLE_RACE_AUTOCOMPLETE:!1,SHOW_RACE_FILTERS:!1};function _P(e){return AP[e]}function zn(){return _P("SHOW_FAVORED_RACES")}const i0=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(en("data/wintersun-religion-docs.json"));if(!s.ok)throw new Error(`Failed to fetch religions data: ${s.status}`);const i=(await s.json()).flatMap(o=>o.deities.map(l=>{var u;if(!((u=l.blessing)!=null&&u.effects)||l.blessing.effects.length===0)return null;const c=l.blessing.effects.filter(d=>d.effectType!=="1"&&d.effectType!=="3");return c.length===0?null:{id:l.id||l.name,name:l.name,type:l.type||o.type,pantheon:o.type,blessingName:l.blessing.spellName||`Blessing of ${l.name}`,blessingDescription:c.map(d=>d.effectDescription).join(" "),effects:c.map(d=>({name:d.effectName,description:d.effectDescription,magnitude:d.magnitude,duration:d.duration,area:d.area,effectType:d.effectType,targetAttribute:d.targetAttribute,keywords:d.keywords||[]})),tags:[o.type,...zn()?l.favoredRaces||[]:[],...l.tags||[]].filter(Boolean),originalReligion:{...l,id:l.id||l.name,pantheon:o.type,type:l.type||o.type,tags:[o.type,...zn()?l.favoredRaces||[]:[],...l.tags||[]].filter(Boolean)}}}).filter(Boolean));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load blessings",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o;return i.name.toLowerCase().includes(r)||i.blessingName.toLowerCase().includes(r)||i.blessingDescription.toLowerCase().includes(r)||((o=i.tags)==null?void 0:o.some(l=>l.toLowerCase().includes(r)))})},getByType:n=>t().data.filter(r=>r.type===n)}));function MP(e){var s;const t=[],n=((s=e.description)==null?void 0:s.toLowerCase())||"";return(n.includes("damage")||n.includes("weapon"))&&t.push("Combat"),(n.includes("armor")||n.includes("defense"))&&t.push("Defensive"),(n.includes("magicka")||n.includes("spell")||n.includes("magic"))&&t.push("Magic"),(n.includes("regeneration")||n.includes("health")||n.includes("stamina"))&&t.push("Utility"),(n.includes("detect")||n.includes("stealth"))&&t.push("Stealth"),(n.includes("cost")||n.includes("less"))&&t.push("Cost Reduction"),(n.includes("increase")||n.includes("more"))&&t.push("Enhancement"),n.includes("resistance")&&t.push("Resistance"),[...new Set(t)]}const Cl=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(en("data/subclasses.json"));if(!s.ok)throw new Error(`Failed to fetch destiny nodes data: ${s.status}`);const i=(await s.json()).map((o,l)=>({...o,id:o.globalFormId||o.edid||`destiny-${l}`,nextBranches:o.nextBranches||[],levelRequirement:o.levelRequirement,lore:o.lore,tags:MP(o),prerequisites:Array.isArray(o.prerequisites)?o.prerequisites:[]}));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load destiny nodes",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),RP=Object.freeze(Object.defineProperty({__proto__:null,useDestinyNodesStore:Cl},Symbol.toStringTag,{value:"Module"})),El=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(en("data/wintersun-religion-docs.json"));if(!s.ok)throw new Error(`Failed to fetch religions data: ${s.status}`);const i=(await s.json()).flatMap(o=>o.deities.map(l=>({...l,id:l.id||l.name,pantheon:o.type,type:l.type||o.type,tags:[o.type,...zn()?l.favoredRaces||[]:[],...l.tags||[]].filter(Boolean)})));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load religions",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n||r.name===n||r.name.toLowerCase().replace(/\s+/g,"-")===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),DP=Object.freeze(Object.defineProperty({__proto__:null,useReligionsStore:El},Symbol.toStringTag,{value:"Module"})),$i=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(en("data/traits.json"));if(!s.ok)throw new Error(`Failed to fetch traits data: ${s.status}`);const i=(await s.json()).traits.map(o=>{var l;return{...o,id:o.id||o.edid||o.name,tags:[o.category,...o.tags||[],...((l=o.effects)==null?void 0:l.map(c=>c.type))||[]].filter(c=>!!c)}});e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load traits",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),LP=Object.freeze(Object.defineProperty({__proto__:null,useTraitsStore:$i},Symbol.toStringTag,{value:"Module"}));function Jn(e){return e?e.replace(/\*\*\*(.*?)\*\*\*/g,"**$1**").replace(/<(\d+)>/g,"Level $1").replace(/\n+/g," ").trim():""}function La(e,t,n){try{return e()}catch(s){return console.warn(`Failed to resolve ${n}:`,s),t}}function zP(e){return e?La(()=>{const t=bs.getState().data;if(t.length===0)throw new Error("Races data not loaded yet. Please wait a moment and try again.");let n=t.find(s=>s.edid===e);return n||(n=t.find(s=>s.name.toLowerCase()===e.toLowerCase())),n||(n=t.find(s=>s.id===e)),n?{name:n.name,effects:n.description?Jn(n.description):void 0}:(console.warn(`Race not found for ID: ${e}. Available races: ${t.map(s=>s.edid).join(", ")}`),{name:"Unknown Race"})},{name:"Unknown Race"},"race"):{name:"Not selected"}}function PP(e){return e?La(()=>{const t=Pi.getState().data;if(t.length===0)throw new Error("Birthsigns data not loaded yet. Please wait a moment and try again.");const n=t.find(s=>s.edid===e);return n?{name:n.name,effects:Jn(n.description||"No effects")}:{name:"Unknown Birth Sign",effects:"No effects"}},{name:"Unknown Birth Sign",effects:"No effects"},"birth sign"):{name:"Not selected",effects:"No effects"}}function $P(e,t){return La(()=>{const n=$i.getState().data;if(n.length===0)throw new Error("Traits data not loaded yet. Please wait a moment and try again.");const s=[];return e.forEach(r=>{const i=n.find(o=>o.edid===r);i&&s.push({name:i.name,effects:Jn(i.description||"No effects"),type:"regular"})}),t.forEach(r=>{const i=n.find(o=>o.edid===r);i&&s.push({name:i.name,effects:Jn(i.description||"No effects"),type:"bonus"})}),s},[],"traits")}function OP(e){return e?La(()=>{var o,l,c,u,d,f,m,h,p,y,b,v;const t=El.getState().data;if(t.length===0)throw new Error("Religions data not loaded yet. Please wait a moment and try again.");const n=t.find(x=>x.id===e||x.name===e||x.name.toLowerCase().replace(/\s+/g,"-")===e);if(!n)return{name:"Unknown Religion",effects:"No effects"};const s=((c=(l=(o=n.tenet)==null?void 0:o.effects)==null?void 0:l[0])==null?void 0:c.effectDescription)||((u=n.tenet)==null?void 0:u.description)||void 0,r=((m=(f=(d=n.boon1)==null?void 0:d.effects)==null?void 0:f[0])==null?void 0:m.effectDescription)||((h=n.boon1)==null?void 0:h.spellName)||void 0,i=((b=(y=(p=n.boon2)==null?void 0:p.effects)==null?void 0:y[0])==null?void 0:b.effectDescription)||((v=n.boon2)==null?void 0:v.spellName)||void 0;return{name:n.name,effects:Jn(n.type||"No effects"),tenets:s?Jn(s):void 0,followerBoon:r?Jn(r):void 0,devoteeBoon:i?Jn(i):void 0}},{name:"Unknown Religion",effects:"No effects"},"religion"):{name:"Not selected",effects:"No effects"}}function IP(e){return e?La(()=>{const t=i0.getState().data;if(t.length===0)throw new Error("Blessings data not loaded yet. Please wait a moment and try again.");const n=t.find(r=>r.id===e);if(!n)return{name:"Unknown Blessing",effects:"No effects",source:"Unknown"};const s=n.effects.slice(0,2).map(r=>r.name).join(", ");return{name:n.blessingName,effects:Jn(s||"No effects"),source:n.name}},{name:"Unknown Blessing",effects:"No effects",source:"Unknown"},"favorite blessing"):{name:"Not selected",effects:"No effects",source:"None"}}function BP(e,t,n){return La(()=>{const s=Da.getState().data;if(s.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");const r=i=>i.map(o=>{const l=s.find(u=>u.edid===o),c=n[o];return{name:(l==null?void 0:l.name)||"Unknown Skill",level:c||void 0}});return{major:r(e),minor:r(t),other:[]}},{major:[],minor:[],other:[]},"skills")}function FP(e,t){return La(()=>{const n=Da.getState().data,s=zi.getState().data;if(n.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");if(s.length===0)throw new Error("Perk trees data not loaded yet. Please wait a moment and try again.");return Object.entries(e).map(([r,i])=>{const o=n.find(u=>u.edid===r),l=s.find(u=>u.treeId===r),c=new Map;return i.forEach(u=>{var y,b,v,x;let d=l==null?void 0:l.perks.find(w=>w.edid===u);d||(d=l==null?void 0:l.perks.find(w=>w.name.toLowerCase()===u.toLowerCase())),d||console.warn(`Perk lookup fallback for ID: ${u}`);const f=t[u];d||console.warn(`Perk not found for ID: ${u} in skill: ${r}. Available perks: ${l==null?void 0:l.perks.map(w=>w.edid).join(", ")}`);const m=((v=(b=(y=d==null?void 0:d.ranks)==null?void 0:y[0])==null?void 0:b.description)==null?void 0:v.base)||"No effects",h=(d==null?void 0:d.edid)||u,p=((x=c.get(h))==null?void 0:x.rank)||0;f&&f>p?c.set(h,{name:(d==null?void 0:d.name)||"Unknown Perk",effects:Jn(m),rank:f}):c.has(h)||c.set(h,{name:(d==null?void 0:d.name)||"Unknown Perk",effects:Jn(m),rank:f||void 0})}),{skillName:(o==null?void 0:o.name)||"Unknown Skill",perks:Array.from(c.values())}}).filter(r=>r.perks.length>0)},[],"perks")}function HP(e){return e.length===0?[]:La(()=>{const t=Cl.getState().data;if(t.length===0)throw new Error("Destiny nodes data not loaded yet. Please wait a moment and try again.");return e.map(n=>{let s=t.find(r=>r.edid===n);return s||(s=t.find(r=>r.id===n)),s||(s=t.find(r=>r.name===n)),{name:(s==null?void 0:s.name)||"Unknown Destiny",effects:s!=null&&s.description?Jn(s.description):void 0}})},[],"destiny path")}function UP(e){const t=[],n=e.map(s=>s.name.toLowerCase());return n.some(s=>s.includes("one-handed")||s.includes("two-handed"))&&t.push("melee"),n.some(s=>s.includes("archery"))&&t.push("archery"),n.some(s=>s.includes("magic")||s.includes("destruction"))&&t.push("magic"),n.some(s=>s.includes("stealth")||s.includes("sneak"))&&t.push("stealth"),n.some(s=>s.includes("smithing")||s.includes("enchanting"))&&t.push("crafting"),t}function VP(e){const t=[],n=e.map(s=>s.name.toLowerCase());return n.some(s=>s.includes("warrior")||s.includes("combat"))&&t.push("warrior"),n.some(s=>s.includes("mage")||s.includes("magic"))&&t.push("mage"),n.some(s=>s.includes("thief")||s.includes("stealth"))&&t.push("thief"),n.some(s=>s.includes("archer")||s.includes("ranged"))&&t.push("archer"),t}function GP(e,t,n){const s=["lorerim"];if(e.name!=="Not selected"){const l=e.name.toLowerCase().replace(/\s+/g,"");s.push(l)}const r=[...t.major,...t.minor],i=UP(r);s.push(...i);const o=VP(n);return s.push(...o),s.slice(0,5)}function qP(e){const t=zP(e.race),n=PP(e.stone),s=OP(e.religion),r=IP(e.favoriteBlessing),i=$P(e.traits.regular,e.traits.bonus),o=BP(e.skills.major,e.skills.minor,e.skillLevels),l=FP(e.perks.selected,e.perks.ranks),c=HP(e.destinyPath),u=GP(t,o,i),d=e.attributeAssignments.assignments||{},f=Object.values(d).filter(N=>N==="health").length,m=Object.values(d).filter(N=>N==="stamina").length,h=Object.values(d).filter(N=>N==="magicka").length,y=bs.getState().data.find(N=>N.edid===e.race),b=(y==null?void 0:y.startingStats)||{health:100,stamina:100,magicka:100},v=b.health+(e.attributeAssignments.health||0),x=b.stamina+(e.attributeAssignments.stamina||0),w=b.magicka+(e.attributeAssignments.magicka||0),j={level:e.attributeAssignments.level||1,health:v,stamina:x,magicka:w,healthLevels:f,staminaLevels:m,magickaLevels:h,totalPoints:(e.attributeAssignments.health||0)+(e.attributeAssignments.stamina||0)+(e.attributeAssignments.magicka||0)};return{name:e.name||"Unnamed Character",notes:e.notes||"",race:t,birthSign:n,traits:i,religion:s,favoriteBlessing:r,skills:o,perks:l,destinyPath:c,tags:u,attributes:j}}function ZP(e,t){const n=[];n.push(`** Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__ Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__ Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__ Traits__"),e.traits.forEach(r=>{const i=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${i}**`)}),n.push("")),n.push("__ Religion__"),n.push(`${e.religion.name}`),e.religion.tenets&&n.push(` **Tenets:** ${e.religion.tenets}`),e.religion.followerBoon&&n.push(` **Follower:** ${e.religion.followerBoon}`),e.religion.devoteeBoon&&n.push(` **Devotee:** ${e.religion.devoteeBoon}`),n.push(""),n.push("__ Favorite Blessing__"),n.push(`${e.favoriteBlessing.name}`),e.favoriteBlessing.source!=="None"&&n.push(` **Source:** ${e.favoriteBlessing.source}`),e.favoriteBlessing.effects!=="No effects"&&n.push(` **Effects:** ${e.favoriteBlessing.effects}`),n.push(""),n.push(`__ Attributes (Level ${e.attributes.level})__`);const s=[];if(e.attributes.health>0){const r=`Health: ${e.attributes.health} (${e.attributes.healthLevels} levels)`;s.push(r)}if(e.attributes.stamina>0){const r=`Stamina: ${e.attributes.stamina} (${e.attributes.staminaLevels} levels)`;s.push(r)}if(e.attributes.magicka>0){const r=`Magicka: ${e.attributes.magicka} (${e.attributes.magickaLevels} levels)`;s.push(r)}if(s.length>0?n.push(s.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__ Skills__"),e.skills.major.length>0){const r=e.skills.major.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__ Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(i=>{const o=i.rank&&i.rank>1?` (Rank ${i.rank})`:"";n.push(` **${i.name}${o}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__ Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}function YP(e,t){const n=[];n.push(`** Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__ Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__ Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__ Traits__"),e.traits.forEach(r=>{const i=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${i}**`)}),n.push("")),n.push("__ Religion__"),n.push(`${e.religion.name}`),e.religion.tenets&&n.push(` **Tenets:** ${e.religion.tenets}`),e.religion.followerBoon&&n.push(` **Follower:** ${e.religion.followerBoon}`),e.religion.devoteeBoon&&n.push(` **Devotee:** ${e.religion.devoteeBoon}`),n.push(""),n.push("__ Favorite Blessing__"),n.push(`${e.favoriteBlessing.name}`),e.favoriteBlessing.source!=="None"&&n.push(` **Source:** ${e.favoriteBlessing.source}`),e.favoriteBlessing.effects!=="No effects"&&n.push(` **Effects:** ${e.favoriteBlessing.effects}`),n.push(""),n.push(`__ Attributes (Level ${e.attributes.level})__`);const s=[];if(e.attributes.health>0){const r=`Health: ${e.attributes.health} (${e.attributes.healthLevels} levels)`;s.push(r)}if(e.attributes.stamina>0){const r=`Stamina: ${e.attributes.stamina} (${e.attributes.staminaLevels} levels)`;s.push(r)}if(e.attributes.magicka>0){const r=`Magicka: ${e.attributes.magicka} (${e.attributes.magickaLevels} levels)`;s.push(r)}if(s.length>0?n.push(s.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__ Skills__"),e.skills.major.length>0){const r=e.skills.major.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__ Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(i=>{const o=i.rank&&i.rank>1?` (Rank ${i.rank})`:"";n.push(` **${i.name}${o}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__ Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}async function XP(e){try{await navigator.clipboard.writeText(e)}catch{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch{throw new Error("Failed to copy to clipboard")}finally{document.body.removeChild(n)}}}function WP({build:e,className:t}){const[n,s]=g.useState(!1),[r,i]=g.useState(null),[o,l]=g.useState(""),[c,u]=g.useState("names"),d=g.useCallback(async f=>{s(!0),i(null),l(""),u(f);try{const m=qP(e),h=window.location.href,p=f==="full"?YP(m,h):ZP(m,h);await XP(p),i(f),setTimeout(()=>i(null),2e3)}catch(m){console.error("Discord export failed:",m),l(m instanceof Error?m.message:"Export failed"),setTimeout(()=>l(""),3e3)}finally{s(!1)}},[e]);return a.jsxs("div",{className:I("relative",t),children:[a.jsxs("div",{className:"flex rounded-md border border-input bg-background",children:[a.jsx(U,{variant:n?"ghost":c==="names"?"default":"ghost",size:"sm",onClick:()=>d("names"),disabled:n,className:I("rounded-r-none border-r",c==="names"&&!n&&"bg-primary text-primary-foreground",r==="names"&&"bg-green-600 hover:bg-green-700 text-white",o&&"bg-red-600 hover:bg-red-700 text-white"),title:o||"Export build to Discord format (short form)","aria-label":"Export build to Discord format (short form)",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),a.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="names"?a.jsxs(a.Fragment,{children:[a.jsx(Cc,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Copied!"})]}):o?a.jsxs(a.Fragment,{children:[a.jsx(Ho,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Error"})]}):a.jsxs(a.Fragment,{children:[a.jsx(A3,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Export (short form)"})]})}),a.jsx(U,{variant:n?"ghost":c==="full"?"default":"ghost",size:"sm",onClick:()=>d("full"),disabled:n,className:I("rounded-l-none",c==="full"&&!n&&"bg-primary text-primary-foreground",r==="full"&&"bg-green-600 hover:bg-green-700 text-white",o&&"bg-red-600 hover:bg-red-700 text-white"),title:o||"Export build to Discord format (long form)","aria-label":"Export build to Discord format (long form)",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),a.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="full"?a.jsxs(a.Fragment,{children:[a.jsx(Cc,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Copied!"})]}):o?a.jsxs(a.Fragment,{children:[a.jsx(Ho,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Error"})]}):a.jsxs(a.Fragment,{children:[a.jsx(l1,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Export (long form)"})]})})]}),o&&a.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-red-100 border border-red-300 rounded text-xs text-red-800 max-w-xs z-50",role:"alert","aria-live":"polite",children:o})]})}function KP({onReset:e,build:t,onOpenGigaPlannerTools:n,className:s}){return a.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${s||""}`,children:[a.jsxs(U,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[a.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),a.jsx(WP,{build:t}),n&&a.jsx(EP,{onClick:n})]})}function QP({cards:e,className:t="",gap:n=16}){const[s,r]=g.useState(0),i=g.useRef(null);g.useCallback(()=>s<768?1:s<1024?2:s<1280?3:4,[s]),g.useEffect(()=>{const c=()=>{i.current&&r(i.current.offsetWidth)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const o=g.useCallback(()=>{const c=s<768?1:2,u=[];let d=[];return e.forEach((f,m)=>{f.size==="full"?(d.length>0&&(u.push(l(d,c)),d=[]),u.push(a.jsx("div",{id:f.id,style:{width:"100%",marginBottom:`${n}px`},children:f.component},f.id))):d.push(f)}),d.length>0&&u.push(l(d,c)),a.jsx(a.Fragment,{children:u})},[e,s,n]),l=g.useCallback((c,u)=>{var m;const d=Array.from({length:u},()=>[]),f=new Array(u).fill(0);return c.forEach(h=>{let p=0,y=1/0;for(let b=0;b<u;b++)f[b]<y&&(y=f[b],p=b);d[p].push(a.jsx("div",{id:h.id,style:{width:"100%",marginBottom:`${n}px`},children:h.component},h.id)),f[p]+=1}),a.jsx("div",{style:{display:"flex",width:"100%",marginBottom:`${n}px`},children:d.map((h,p)=>a.jsx("div",{style:{width:`calc(${100/u}% - ${n/2}px)`,marginRight:p<u-1?`${n}px`:0},children:h},p))},`group-${(m=c[0])==null?void 0:m.id}`)},[n]);return e.length===0?a.jsx("div",{className:`text-center py-12 ${t}`,children:a.jsx("p",{className:"text-muted-foreground",children:"No build cards to display"})}):a.jsx("div",{ref:i,className:t,children:a.jsx("div",{style:{width:"100%"},children:o()})})}const JP=Nl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function q({className:e,variant:t,...n}){return a.jsx("div",{className:I(JP({variant:t}),e),...n})}const ym={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},Eo={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function e$(e){return ym.traitLimit[e]}function cb(e){return ym.summaryCard[e]}function t$(e){return ym.backgrounds[e]}function AS(e){return ym.borders[e]}function n$({title:e,items:t,layout:n="grid",className:s}){const r=o=>{switch(o){case"race":return a.jsx(nf,{className:"h-4 w-4"});case"birthsign":return a.jsx(qe,{className:"h-4 w-4"});case"religion":return a.jsx(Ys,{className:"h-4 w-4"});case"traits":return a.jsx(m1,{className:"h-4 w-4"});default:return null}},i=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return a.jsxs(ue,{className:I(Eo.card,s),children:[a.jsx(be,{children:a.jsx(_e,{children:e})}),a.jsx(fe,{className:I(Eo.section),children:a.jsx("div",{className:i(),children:t.map((o,l)=>a.jsxs("div",{className:I(Eo.item,o.className),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.icon||r(o.type),a.jsxs("span",{className:I("font-medium text-sm",cb("primary")),children:[o.label,":"]})]}),a.jsx("div",{className:I("text-sm",cb("secondary")),children:o.value||"Not selected"})]},l))})})]})}function s$(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function r$({build:e,title:t="Build Summary",layout:n="grid",className:s}){const r=s$(e);return a.jsx(n$,{title:t,items:r,layout:n,className:s})}function a$({open:e,title:t,message:n,variant:s="warning",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:o,onCancel:l,className:c}){if(!e)return null;const u=()=>{switch(s){case"warning":return a.jsx(vi,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return a.jsx(Vo,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return a.jsx(JR,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return a.jsx(Tc,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return a.jsx(vi,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},d=()=>{switch(s){case"error":return"destructive";case"success":return"default";default:return"default"}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:a.jsxs("div",{className:I("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",AS(s),c),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[u(),a.jsx("span",{className:"font-semibold",children:t})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",size:"sm",onClick:l,children:i}),a.jsx(U,{variant:d(),size:"sm",onClick:o,children:r})]})]})})}function i$({open:e,title:t,message:n,variant:s="warning",confirmText:r,cancelText:i,onConfirm:o,onCancel:l,className:c}){return a.jsx(a$,{open:e,title:t,message:n,variant:s,confirmText:r,cancelText:i,onConfirm:o,onCancel:l,className:c})}function o$({open:e,onConfirm:t,onCancel:n}){return a.jsx(i$,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function l$({title:e,description:t,icon:n,variant:s="default",children:r,className:i}){const o=()=>{if(n)return n;switch(s){case"warning":return a.jsx(vi,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return a.jsx(Vo,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return a.jsxs(ue,{className:I(Eo.card,i),children:[a.jsxs(be,{children:[a.jsxs(_e,{className:"flex items-center gap-2",children:[o(),e]}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),a.jsx(fe,{className:I(Eo.section),children:r})]})}function ub({label:e,value:t,onChange:n,min:s=0,max:r=10,currentCount:i,type:o="regular",className:l}){const c=()=>{switch(o){case"regular":return a.jsx(Fx,{className:"h-4 w-4"});case"bonus":return a.jsx(qe,{className:"h-4 w-4"});default:return null}},u=()=>e$(o);return a.jsxs("div",{className:I(Eo.item,l),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c(),a.jsx(zt,{htmlFor:`${o}-limit`,className:u(),children:e})]}),a.jsx(Ln,{id:`${o}-limit`,type:"number",min:s,max:r,value:t,onChange:d=>n(parseInt(d.target.value)||0),className:"mt-1"}),i!==void 0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",i]})]})}function db({type:e,title:t,message:n,className:s}){const r=()=>{switch(e){case"warning":return a.jsx(vi,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return a.jsx(Vo,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return a.jsx(vi,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return a.jsx(Vo,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return a.jsxs("div",{className:I("flex items-start gap-2 p-4 rounded-lg border",t$(e),AS(e),s),children:[r(),a.jsxs("div",{className:"text-sm",children:[a.jsx("strong",{children:t}),a.jsx("p",{className:"mt-1",children:n})]})]})}function c$({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:s,currentRegularCount:r,currentBonusCount:i,className:o}){const l=e!==2||t!==1;return a.jsxs(l$,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:a.jsx(Vo,{className:"h-4 w-4 text-muted-foreground"}),className:o,children:[a.jsx(db,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ub,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:r,type:"regular"}),a.jsx(ub,{label:"Late Game Traits Limit",value:t,onChange:s,min:0,max:5,currentCount:i,type:"bonus"})]}),l&&a.jsx(db,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}const u$={magicResist:{name:"Magic Resist",isPercentage:!0,prefactor:1,threshold:150,weights:{health:0,magicka:1,stamina:0},description:"Reduces incoming magical damage",category:"survival"},magickaRegen:{name:"Magicka Regen",isPercentage:!0,prefactor:8,threshold:100,weights:{health:0,magicka:1,stamina:0},description:"Increases magicka regeneration rate",category:"magic"},diseaseResist:{name:"Disease Resist",isPercentage:!0,prefactor:4,threshold:100,weights:{health:.4,magicka:0,stamina:.6},description:"Reduces chance of contracting diseases",category:"survival"},poisonResist:{name:"Poison Resist",isPercentage:!0,prefactor:4,threshold:140,weights:{health:.6,magicka:0,stamina:.4},description:"Reduces poison damage and effects",category:"survival"},staminaRegen:{name:"Stamina Regen",isPercentage:!0,prefactor:8,threshold:100,weights:{health:0,magicka:0,stamina:1},description:"Increases stamina regeneration rate",category:"movement"},moveSpeed:{name:"Move Speed",isPercentage:!0,prefactor:.75,threshold:125,weights:{health:.2,magicka:0,stamina:.8},description:"Increases movement speed",category:"movement"},carryWeight:{name:"Carry Weight",isPercentage:!1,prefactor:4,threshold:110,weights:{health:.8,magicka:0,stamina:.2},description:"Increases maximum carry capacity",category:"survival"},rangedDamage:{name:"Ranged Damage",isPercentage:!0,prefactor:4,threshold:150,weights:{health:.2,magicka:0,stamina:.8},description:"Increases ranged weapon damage",category:"combat"},oneHandDamage:{name:"One-Hand Damage",isPercentage:!0,prefactor:4,threshold:150,weights:{health:.5,magicka:0,stamina:.5},description:"Increases one-handed weapon damage",category:"combat"},twoHandDamage:{name:"Two-Hand Damage",isPercentage:!0,prefactor:4,threshold:150,weights:{health:.8,magicka:0,stamina:.2},description:"Increases two-handed weapon damage",category:"combat"},unarmedDamage:{name:"Unarmed Damage",isPercentage:!1,prefactor:4.5,threshold:125,weights:{health:.5,magicka:0,stamina:.5},description:"Increases unarmed combat damage",category:"combat"}};class fb{static calculateBaseAttributes(t,n){let s={health:100,stamina:100,magicka:100};if(t.race&&n.races){const r=n.races.find(i=>i.edid===t.race);r!=null&&r.startingStats&&(s={health:r.startingStats.health||100,stamina:r.startingStats.stamina||100,magicka:r.startingStats.magicka||100})}return s.health+=t.attributeAssignments.health||0,s.stamina+=t.attributeAssignments.stamina||0,s.magicka+=t.attributeAssignments.magicka||0,s}static calculateDerivedStat(t,n){const s=t.health*n.weights.health+t.magicka*n.weights.magicka+t.stamina*n.weights.stamina;if(s>n.threshold){const r=n.prefactor*Math.sqrt(s-n.threshold);return Math.floor(r)}return 0}static calculateAllDerivedStats(t,n){return Object.entries(n).map(([s,r])=>({name:r.name,value:this.calculateDerivedStat(t,r),isPercentage:r.isPercentage,formula:`${r.prefactor} * sqrt(weightedSum - ${r.threshold})`,description:r.description,category:r.category}))}static validateBaseAttributes(t){return t.health>=0&&t.stamina>=0&&t.magicka>=0&&t.health<=1e3&&t.stamina<=1e3&&t.magicka<=1e3}static getCalculationBreakdown(t,n){const s=t.health*n.weights.health+t.magicka*n.weights.magicka+t.stamina*n.weights.stamina,r=s-n.threshold,i=r>0?Math.floor(n.prefactor*Math.sqrt(r)):0;return{weightedSum:s,threshold:n.threshold,difference:r,prefactor:n.prefactor,result:i}}}function d$(){const{build:e}=nt(),{data:t}=bs();return g.useMemo(()=>{var o,l,c;const s={races:t},r=fb.calculateBaseAttributes(e,s),i=fb.calculateAllDerivedStats(r,u$);return{baseAttributes:r,derivedStats:i,sources:{race:e.race||"None",birthsign:e.stone||"None",traits:[...((o=e.traits)==null?void 0:o.regular)||[],...((l=e.traits)==null?void 0:l.bonus)||[]],equipment:e.equipment||[],religion:e.religion||"None",destinyPath:e.destinyPath||[],attributeAssignments:((c=e.attributeAssignments)==null?void 0:c.level)||0}}},[e,t])}function f$(){const{build:e,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:s,updateAttributeLevel:r}=gr(),{data:i}=bs(),o=e.attributeAssignments,l=g.useMemo(()=>!e.race||i.length===0?null:i.find(p=>p.edid===e.race)||null,[e.race,i]),c=g.useMemo(()=>l!=null&&l.startingStats?{health:l.startingStats.health,stamina:l.startingStats.stamina,magicka:l.startingStats.magicka}:{health:100,stamina:100,magicka:100},[l]),u=g.useMemo(()=>{o.level;const p=o.health+o.stamina+o.magicka;return{health:{base:c.health,assigned:o.health,total:c.health+o.health,ratio:p>0?o.health/p*100:0},stamina:{base:c.stamina,assigned:o.stamina,total:c.stamina+o.stamina,ratio:p>0?o.stamina/p*100:0},magicka:{base:c.magicka,assigned:o.magicka,total:c.magicka+o.magicka,ratio:p>0?o.magicka/p*100:0}}},[o,c]),d=p=>p>0&&p<=o.level,f=p=>o.assignments[p]||null,m=()=>o.health+o.stamina+o.magicka,h=()=>{const p=Object.keys(o.assignments).map(Number),y=[];for(let b=2;b<=o.level;b++)p.includes(b)||y.push(b);return y};return{assignments:o,displayData:u,level:o.level,selectedRace:l,baseStats:c,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:s,updateAttributeLevel:r,canAssignAtLevel:d,getAssignmentAtLevel:f,getTotalAssignments:m,getUnassignedLevels:h}}const _S=g.createContext(void 0);function m$({children:e}){const[t,n]=g.useState("system"),[s,r]=g.useState("dark"),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=localStorage.getItem("theme");l&&["light","dark","system"].includes(l)&&n(l),o(!0)},[]),g.useEffect(()=>{i&&localStorage.setItem("theme",t);let l;t==="system"?l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":l=t,r(l);const c=document.documentElement;l==="dark"?c.classList.add("dark"):c.classList.remove("dark")},[t,i]),g.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{if(t==="system"){const u=l.matches?"dark":"light";r(u);const d=document.documentElement;u==="dark"?d.classList.add("dark"):d.classList.remove("dark")}};return l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[t]),a.jsx(_S.Provider,{value:{theme:t,setTheme:n,resolvedTheme:s},children:e})}function MS(){const e=g.useContext(_S);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const h$=Nl("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),Nn=g.forwardRef(({className:e,variant:t,as:n,...s},r)=>{const i=n||g$(t);return a.jsx(i,{className:I(h$({variant:t,className:e})),ref:r,...s})});Nn.displayName="Typography";function g$(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const za=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"h1",as:"h1",className:e,ref:n,...t}));za.displayName="H1";const oa=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"h2",as:"h2",className:e,ref:n,...t}));oa.displayName="H2";const je=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"h3",as:"h3",className:e,ref:n,...t}));je.displayName="H3";const ha=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"h4",as:"h4",className:e,ref:n,...t}));ha.displayName="H4";const vn=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"h5",as:"h5",className:e,ref:n,...t}));vn.displayName="H5";const p$=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"h6",as:"h6",className:e,ref:n,...t}));p$.displayName="H6";const ve=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"p",as:"p",className:e,ref:n,...t}));ve.displayName="P";const x$=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));x$.displayName="Blockquote";const v$=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"code",as:"code",className:e,ref:n,...t}));v$.displayName="Code";const RS=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"lead",as:"p",className:e,ref:n,...t}));RS.displayName="Lead";const y$=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"large",as:"div",className:e,ref:n,...t}));y$.displayName="Large";const Ps=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"small",as:"small",className:e,ref:n,...t}));Ps.displayName="Small";const Mc=g.forwardRef(({className:e,...t},n)=>a.jsx(Nn,{variant:"muted",as:"p",className:e,ref:n,...t}));Mc.displayName="Muted";function b$({level:e,assignments:t,onAssignmentChange:n,onClearAssignment:s,onClearAll:r,onUpdateAttributeLevel:i,className:o}){const{resolvedTheme:l}=MS(),c=l==="dark",u=x=>Object.values(t).filter(w=>w===x).length,d=u("health"),f=u("stamina"),m=u("magicka"),h=d+f+m,p=h+1,y=(x,w)=>{const j=u(x),N=w-j;if(N>0)for(let S=0;S<N;S++){const E=Math.max(2,h+2+S);n(E,x)}else if(N<0){for(let S=0;S<Math.abs(N);S++)for(let E=e;E>=2;E--)if(t[E]===x){s(E);break}}const k=h+N;i(k+1)},b=x=>{y(x,u(x)+1)},v=x=>{const w=u(x);w>0&&y(x,w-1)};return a.jsxs("div",{className:I("space-y-4",o),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(vn,{className:"text-lg font-medium text-foreground",children:"Attribute Points"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(U,{variant:"outline",size:"sm",onClick:r,className:"text-xs",children:[a.jsx(Tr,{className:"h-3 w-3 mr-1"}),"Clear All"]})})]}),a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border",children:[a.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:["Character Level: ",p," (derived from ",h," ","attribute points)"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-red-200 dark:border-red-800",style:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[a.jsx("div",{className:I("font-medium mb-3",c?"text-red-200":"text-red-500"),children:"Health"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{variant:"outline",size:"sm",onClick:()=>v("health"),disabled:d<=0,className:"h-8 w-8 p-0",children:a.jsx(ko,{className:"h-4 w-4"})}),a.jsx(Ln,{type:"number",value:d,onChange:x=>{const w=parseInt(x.target.value)||0;w>=0&&y("health",w)},className:I("w-16 text-center text-lg font-bold border-red-300 focus:border-red-500 focus:ring-red-500",c?"text-red-300 border-red-600":"text-red-700"),min:0}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>b("health"),className:"h-8 w-8 p-0",children:a.jsx(ma,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-green-200 dark:border-green-800",style:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[a.jsx("div",{className:I("font-medium mb-3",c?"text-green-200":"text-green-500"),children:"Stamina"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{variant:"outline",size:"sm",onClick:()=>v("stamina"),disabled:f<=0,className:"h-8 w-8 p-0",children:a.jsx(ko,{className:"h-4 w-4"})}),a.jsx(Ln,{type:"number",value:f,onChange:x=>{const w=parseInt(x.target.value)||0;w>=0&&y("stamina",w)},className:I("w-16 text-center text-lg font-bold border-green-300 focus:border-green-500 focus:ring-green-500",c?"text-green-300 border-green-600":"text-green-700"),min:0}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>b("stamina"),className:"h-8 w-8 p-0",children:a.jsx(ma,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-blue-200 dark:border-blue-800",style:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[a.jsx("div",{className:I("font-medium mb-3",c?"text-blue-200":"text-blue-500"),children:"Magicka"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{variant:"outline",size:"sm",onClick:()=>v("magicka"),disabled:m<=0,className:"h-8 w-8 p-0",children:a.jsx(ko,{className:"h-4 w-4"})}),a.jsx(Ln,{type:"number",value:m,onChange:x=>{const w=parseInt(x.target.value)||0;w>=0&&y("magicka",w)},className:I("w-16 text-center text-lg font-bold border-blue-300 focus:border-blue-500 focus:ring-blue-500",c?"text-blue-300 border-blue-600":"text-blue-700"),min:0}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>b("magicka"),className:"h-8 w-8 p-0",children:a.jsx(ma,{className:"h-4 w-4"})})]})]})]})]})]})}const w$={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500"},j$={sm:"h-1.5",md:"h-2",lg:"h-3"};function Rh({value:e,label:t,color:n="blue",size:s="md",showValue:r=!0,className:i,maxValue:o}){const l=o?Math.min(e/o*100,100):100;return a.jsxs("div",{className:I("space-y-1",i),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:t}),r&&a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})]}),a.jsx("div",{className:"w-full bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:I("transition-all duration-300 ease-out",w$[n],j$[s]),style:{width:`${l}%`}})})]})}function N$({displayData:e,level:t,className:n,showRatios:s=!0,compact:r=!1,selectedRace:i}){return r?a.jsxs("div",{className:I("space-y-3",n),children:[a.jsx(vn,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),i&&a.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Base stats from ",i.name]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Health"}),a.jsx("div",{className:"font-medium text-lg",children:e.health.total}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.health.assigned]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Stamina"}),a.jsx("div",{className:"font-medium text-lg",children:e.stamina.total}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.stamina.assigned]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Magicka"}),a.jsx("div",{className:"font-medium text-lg",children:e.magicka.total}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.magicka.assigned]})]})]}),s&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Level ",t," "," ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," ","assignments"]})]}):a.jsxs("div",{className:I("space-y-4",n),children:[a.jsx(vn,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Rh,{value:e.health.total,label:"Health",color:"red",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)}),a.jsx(Rh,{value:e.stamina.total,label:"Stamina",color:"green",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)}),a.jsx(Rh,{value:e.magicka.total,label:"Magicka",color:"blue",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)})]}),s&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Health"}),a.jsxs("div",{className:"text-muted-foreground",children:[e.health.ratio.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Stamina"}),a.jsxs("div",{className:"text-muted-foreground",children:[e.stamina.ratio.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Magicka"}),a.jsxs("div",{className:"text-muted-foreground",children:[e.magicka.ratio.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Level ",t," "," ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," ","assignments made"]})]})}function DS({className:e,showControls:t=!0,showSummary:n=!0,compact:s=!1}){const[r,i]=g.useState(!0),{assignments:o,displayData:l,level:c,selectedRace:u,setAttributeAssignment:d,clearAttributeAssignment:f,clearAllAttributeAssignments:m,updateAttributeLevel:h}=f$(),p=d$(),y=(j,N)=>{d(j,N)},b=j=>{f(j)},v=()=>{m()},x=p.derivedStats.reduce((j,N)=>(j[N.category]||(j[N.category]=[]),j[N.category].push(N),j),{}),w=["combat","survival","movement","magic"];return a.jsxs(ue,{className:I("w-full",e),children:[a.jsx(be,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(tf,{className:"h-5 w-5"}),"Attributes & Derived Stats"]}),t&&a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>i(!r),children:r?a.jsx(Ec,{className:"h-4 w-4"}):a.jsx(Rt,{className:"h-4 w-4"})})]})}),a.jsxs(fe,{className:"space-y-6",children:[t&&r&&a.jsx(b$,{level:c,assignments:o.assignments,onAssignmentChange:y,onClearAssignment:b,onClearAll:v,onUpdateAttributeLevel:h}),n&&a.jsx(N$,{displayData:l,level:c,compact:s,selectedRace:u}),n&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-lg font-medium text-foreground",children:"Derived Stats"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(j=>{const N=x[j];return!N||N.length===0?null:a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"text-sm font-medium mb-3 capitalize",children:[j," Stats"]}),a.jsx("div",{className:"space-y-2",children:N.map(k=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:k.name}),a.jsx("span",{className:"font-medium",children:k.isPercentage?`${k.value}%`:k.value})]},k.name))})]},j)})})]})]})]})}const Ld=new Map;function S$(){Ld.clear()}S$();function k$(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(Ld.has(n))return Ld.get(n);let s=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((r,i)=>{const o=[];s.forEach(l=>{if(l.className)o.push(l);else{let c=0,u;const d=new RegExp(r.pattern,r.pattern.flags.includes("g")?r.pattern.flags:r.pattern.flags+"g");d.lastIndex=0;let f=0;for(;(u=d.exec(l.text))!==null;){u.index>c&&o.push({text:l.text.slice(c,u.index),key:`${l.key}-${f++}`});let m=u[0];const h=typeof r.className=="function"?r.className(u[0]):r.className;r.transform&&(m=r.transform(m)),o.push({text:m,className:h,key:`${l.key}-${f++}`}),c=d.lastIndex}c<l.text.length&&o.push({text:l.text.slice(c),key:`${l.key}-${f++}`})}}),s=o}),s=s.map((r,i)=>({...r,key:r.key||String(i)})),Ld.set(n,s),s}const C$=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],E$=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function o0(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/\*\*\*([^*]+)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const s=parseFloat(n[0]),r=n[0].startsWith("+")||s>0,i=n[0].startsWith("-")||s<0;if(r)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(i)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<([^>]+)>/g,className:e=>{const t=e.slice(1,-1);if(!/^\d+$/.test(t))return"text-foreground"},transform:e=>{const t=e.match(/<([^>]+)>/);return t?t[1]:e.slice(1,-1)}},{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,s=e.startsWith("-")||t<0,r=t===0;return n?"font-bold text-green-600":s?"font-bold text-red-600":r?"font-bold text-skyrim-gold":"font-bold text-green-600"}},{pattern:new RegExp(`\\b(${C$.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${E$.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function Me({text:e,options:t,className:n="text-sm text-muted-foreground",as:s="div"}){const r=g.useMemo(()=>o0(),[]),i=g.useMemo(()=>e?k$(e,t||r):[],[e,t,r]);if(!e)return null;if(n.includes("line-clamp")){const l=n.match(/line-clamp-\d+/g)||[],c=n.replace(/line-clamp-\d+/g,"").trim(),u=s==="p"?"span":"div";return a.jsx(s,{className:c,children:a.jsx(u,{className:`${l.join(" ")} overflow-hidden`,children:i.map(d=>a.jsx("span",{className:d.className,children:d.text},d.key))})})}return a.jsx(s,{className:n,children:i.map(l=>a.jsx("span",{className:l.className,children:l.text},l.key))})}const Jt=({children:e,title:t,description:n,className:s=""})=>a.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${s}`,children:[t&&a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&a.jsx(Me,{text:n,className:"text-muted-foreground mt-2 max-w-4xl",as:"p"})]})}),e]});function l0(e){const t=e+"CollectionProvider",[n,s]=Un(t),[r,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:v}=y,x=P.useRef(null),w=P.useRef(new Map).current;return a.jsx(r,{scope:b,itemMap:w,collectionRef:x,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=Go(l),u=P.forwardRef((y,b)=>{const{scope:v,children:x}=y,w=i(l,v),j=Ie(b,w.collectionRef);return a.jsx(c,{ref:j,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Go(d),h=P.forwardRef((y,b)=>{const{scope:v,children:x,...w}=y,j=P.useRef(null),N=Ie(b,j),k=i(d,v);return P.useEffect(()=>(k.itemMap.set(j,{ref:j,...w}),()=>void k.itemMap.delete(j))),a.jsx(m,{[f]:"",ref:N,children:x})});h.displayName=d;function p(y){const b=i(e+"CollectionConsumer",y);return P.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,S)=>w.indexOf(k.ref.current)-w.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},p,s]}var T$=g.createContext(void 0);function mu(e){const t=g.useContext(T$);return e||t||"ltr"}var Dh="rovingFocusGroup.onEntryFocus",A$={bubbles:!1,cancelable:!0},hu="RovingFocusGroup",[ep,LS,_$]=l0(hu),[M$,bm]=Un(hu,[_$]),[R$,D$]=M$(hu),zS=g.forwardRef((e,t)=>a.jsx(ep.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(ep.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(L$,{...e,ref:t})})}));zS.displayName=hu;var L$=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=g.useRef(null),h=Ie(t,m),p=mu(i),[y,b]=Br({prop:o,defaultProp:l??null,onChange:c,caller:hu}),[v,x]=g.useState(!1),w=Xt(u),j=LS(n),N=g.useRef(!1),[k,S]=g.useState(0);return g.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Dh,w),()=>E.removeEventListener(Dh,w)},[w]),a.jsx(R$,{scope:n,orientation:s,dir:p,loop:r,currentTabStopId:y,onItemFocus:g.useCallback(E=>b(E),[b]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>S(E=>E-1),[]),children:a.jsx(we.div,{tabIndex:v||k===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{N.current=!0}),onFocus:se(e.onFocus,E=>{const C=!N.current;if(E.target===E.currentTarget&&C&&!v){const T=new CustomEvent(Dh,A$);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const _=j().filter(D=>D.focusable),O=_.find(D=>D.active),L=_.find(D=>D.id===y),$=[O,L,..._].filter(Boolean).map(D=>D.ref.current);OS($,d)}}N.current=!1}),onBlur:se(e.onBlur,()=>x(!1))})})}),PS="RovingFocusGroupItem",$S=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,children:o,...l}=e,c=kr(),u=i||c,d=D$(PS,n),f=d.currentTabStopId===u,m=LS(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:y}=d;return g.useEffect(()=>{if(s)return h(),()=>p()},[s,h,p]),a.jsx(ep.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:a.jsx(we.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:se(e.onMouseDown,b=>{s?d.onItemFocus(u):b.preventDefault()}),onFocus:se(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:se(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=$$(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=m().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const j=w.indexOf(b.currentTarget);w=d.loop?O$(w,j+1):w.slice(j+1)}setTimeout(()=>OS(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});$S.displayName=PS;var z$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $$(e,t,n){const s=P$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return z$[s]}function OS(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function O$(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var IS=zS,BS=$S,wm="Tabs",[I$,zne]=Un(wm,[bm]),FS=bm(),[B$,c0]=I$(wm),HS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=mu(l),[f,m]=Br({prop:s,onChange:r,defaultProp:i??"",caller:wm});return a.jsx(B$,{scope:n,baseId:kr(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:a.jsx(we.div,{dir:d,"data-orientation":o,...u,ref:t})})});HS.displayName=wm;var US="TabsList",VS=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...r}=e,i=c0(US,n),o=FS(n);return a.jsx(IS,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:a.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:t})})});VS.displayName=US;var GS="TabsTrigger",qS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=e,o=c0(GS,n),l=FS(n),c=XS(o.baseId,s),u=WS(o.baseId,s),d=s===o.value;return a.jsx(BS,{asChild:!0,...l,focusable:!r,active:d,children:a.jsx(we.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:t,onMouseDown:se(e.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:se(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!r&&f&&o.onValueChange(s)})})})});qS.displayName=GS;var ZS="TabsContent",YS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...o}=e,l=c0(ZS,n),c=XS(l.baseId,s),u=WS(l.baseId,s),d=s===l.value,f=g.useRef(d);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(tn,{present:r||d,children:({present:m})=>a.jsx(we.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});YS.displayName=ZS;function XS(e,t){return`${e}-trigger-${t}`}function WS(e,t){return`${e}-content-${t}`}var F$=HS,H$=VS,U$=qS,V$=YS;function Pa({className:e,...t}){return a.jsx(F$,{"data-slot":"tabs",className:I("flex flex-col gap-2",e),...t})}function $a({className:e,...t}){return a.jsx(H$,{"data-slot":"tabs-list",className:I("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Ot({className:e,...t}){return a.jsx(U$,{"data-slot":"tabs-trigger",className:I("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function qt({className:e,...t}){return a.jsx(V$,{"data-slot":"tabs-content",className:I("flex-1 outline-none",e),...t})}const hn=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],G$=({currentPath:e})=>{var f;const t=tt(),n=m=>{const h=window.location.hash,[p,y]=h.split("?"),v=new URLSearchParams(y||"").get("b");t(v?`${m}?b=${v}`:m)},s=hn.findIndex(m=>m.to===e),r=s>=0?s:0,i=m=>{const h=hn.find(p=>p.value===m);h&&n(h.to)},o=m=>{n(m.to)},l=()=>{r>0&&n(hn[r-1].to)},c=()=>{r<hn.length-1&&n(hn[r+1].to)},u=m=>{switch(m.key){case"ArrowLeft":m.preventDefault(),l();break;case"ArrowRight":m.preventDefault(),c();break;case"Home":m.preventDefault(),n(hn[0].to);break;case"End":m.preventDefault(),n(hn[hn.length-1].to);break}},d=((f=hn[r])==null?void 0:f.value)||"build";return a.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:u,tabIndex:0,children:a.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsx(U,{onClick:l,disabled:r===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${r>0?hn[r-1].label:"none"}`,children:a.jsx(cm,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx(Pa,{value:d,onValueChange:i,children:a.jsx($a,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:hn.map((m,h)=>a.jsxs(Ot,{value:m.value,onClick:()=>o(m),className:I("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:d===m.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${h+1}: ${m.label}`,role:"tab","aria-selected":d===m.value,"aria-label":`Step ${h+1}: ${m.label}`,children:[a.jsx("span",{className:"hidden sm:inline",children:m.label}),a.jsx("span",{className:"sm:hidden",children:m.label.split(" ")[0]}),d===m.value&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},m.value))})})}),a.jsx(U,{onClick:c,disabled:r===hn.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${r<hn.length-1?hn[r+1].label:"none"}`,children:a.jsx(yl,{className:"h-4 w-4"})})]})})})},q$=()=>{const e=Ir();return a.jsxs("div",{className:"flex flex-col min-h-full",children:[a.jsx(G$,{currentPath:e.pathname}),a.jsx("div",{className:"flex-grow",children:a.jsx(g5,{})})]})};function Z$(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function KS(e){const[t,n]=g.useState(void 0);return qs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var jm="Switch",[Y$,Pne]=Un(jm),[X$,W$]=Y$(jm),QS=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,h]=g.useState(null),p=Ie(t,w=>h(w)),y=g.useRef(!1),b=m?d||!!m.closest("form"):!0,[v,x]=Br({prop:r,defaultProp:i??!1,onChange:u,caller:jm});return a.jsxs(X$,{scope:n,checked:v,disabled:l,children:[a.jsx(we.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":n2(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:se(e.onClick,w=>{x(j=>!j),b&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),b&&a.jsx(t2,{control:m,bubbles:!y.current,name:s,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});QS.displayName=jm;var JS="SwitchThumb",e2=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,r=W$(JS,n);return a.jsx(we.span,{"data-state":n2(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t})});e2.displayName=JS;var K$="SwitchBubbleInput",t2=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...r},i)=>{const o=g.useRef(null),l=Ie(o,i),c=Z$(n),u=KS(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const p=new Event("click",{bubbles:s});h.call(d,n),d.dispatchEvent(p)}},[c,n,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});t2.displayName=K$;function n2(e){return e?"checked":"unchecked"}var s2=QS,Q$=e2;const r2=g.forwardRef(({className:e,...t},n)=>a.jsx(s2,{className:I("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:a.jsx(Q$,{className:I("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));r2.displayName=s2.displayName;function os({itemId:e,itemType:t,itemName:n,isInBuild:s=!1,className:r,onCheckedChange:i}){const{setRace:o,setStone:l,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:f,addMajorSkill:m,removeMajorSkill:h,removeMinorSkill:p,addEquipment:y,removeEquipment:b,build:v}=nt(),w=s||(()=>{switch(t){case"race":return v.race===e;case"stone":return v.stone===e;case"religion":return v.religion===e;case"trait":return v.traits.regular.includes(e)||v.traits.bonus.includes(e);case"skill":return v.skills.major.includes(e)||v.skills.minor.includes(e);case"equipment":return v.equipment.includes(e);default:return!1}})(),j=k=>{if(i){i(k);return}switch(t){case"race":o(k?e:null);break;case"stone":l(k?e:null);break;case"religion":c(k?e:null);break;case"trait":k?v.traits.regular.length<2?u(e):v.traits.bonus.length<1&&d(e):f(e);break;case"skill":k?m(e):(h(e),p(e));break;case"equipment":k?y(e):b(e);break}},N=()=>w?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return a.jsx("div",{className:I("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",w?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",r),onClick:k=>{k.stopPropagation(),j(!w)},title:N(),children:a.jsx(r2,{checked:w,onCheckedChange:j,className:I("transition-all duration-200",w?"data-[state=checked]:bg-[#d4af37]":"")})})}function ri({categories:e,onSelect:t,placeholder:n="Search categories...",className:s=""}){const[r,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(""),[d,f]=g.useState(-1),m=g.useRef(null),h=g.useRef(null),p=e.length===1?e[0]:null;g.useEffect(()=>{const S=E=>{m.current&&!m.current.contains(E.target)&&(i(!1),l(null),f(-1))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const y=o||p?(o||p).options.filter(S=>String(S.label||"").toLowerCase().includes(c.toLowerCase())||String(S.description||"").toLowerCase().includes(c.toLowerCase())):e.flatMap(S=>S.options.filter(E=>String(E.label||"").toLowerCase().includes(c.toLowerCase())||String(E.description||"").toLowerCase().includes(c.toLowerCase()))),b=S=>{u(S),i(!0),f(-1)},v=S=>{var E;l(S),u(""),(E=h.current)==null||E.focus()},x=S=>{t(S),u(""),l(null),i(!1),f(-1)},w=S=>{S.key==="ArrowDown"?(S.preventDefault(),f(E=>Math.min(E+1,y.length-1))):S.key==="ArrowUp"?(S.preventDefault(),f(E=>Math.max(E-1,-1))):S.key==="Enter"?(S.preventDefault(),d>=0&&y[d]&&x(y[d])):S.key==="Escape"&&(i(!1),l(null),f(-1))},j=()=>{i(!0)},N=o||p,k=!p&&!o;return a.jsxs("div",{ref:m,className:`relative ${s}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Ln,{ref:h,type:"text",placeholder:N?N.placeholder:n,value:c,onChange:S=>b(S.target.value),onFocus:j,onKeyDown:w,className:"pl-10 pr-10"}),a.jsx(U,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>i(!r),children:a.jsx(Rt,{className:`h-4 w-4 transition-transform ${r?"rotate-180":""}`})})]}),r&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:kt.AUTOCOMPLETE+10},children:[k&&a.jsxs("div",{className:"p-2 border-b border-border",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(S=>a.jsxs("button",{onClick:()=>v(S),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[a.jsx("span",{children:S.name}),a.jsx(Rt,{className:"h-4 w-4"})]},S.id))]}),a.jsx("div",{className:"p-2",children:y.length===0?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):y.map((S,E)=>a.jsxs("button",{onClick:()=>x(S),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${E===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[a.jsx("div",{className:"font-medium",children:S.label||"Unnamed Option"}),S.description&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:S.description})]},S.id))})]})]})}const J$=["top","right","bottom","left"],ka=Math.min,_n=Math.max,af=Math.round,Ju=Math.floor,Fs=e=>({x:e,y:e}),eO={left:"right",right:"left",bottom:"top",top:"bottom"},tO={start:"end",end:"start"};function tp(e,t,n){return _n(e,ka(t,n))}function _r(e,t){return typeof e=="function"?e(t):e}function Mr(e){return e.split("-")[0]}function Tl(e){return e.split("-")[1]}function u0(e){return e==="x"?"y":"x"}function d0(e){return e==="y"?"height":"width"}const nO=new Set(["top","bottom"]);function $s(e){return nO.has(Mr(e))?"y":"x"}function f0(e){return u0($s(e))}function sO(e,t,n){n===void 0&&(n=!1);const s=Tl(e),r=f0(e),i=d0(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=of(o)),[o,of(o)]}function rO(e){const t=of(e);return[np(e),t,np(t)]}function np(e){return e.replace(/start|end/g,t=>tO[t])}const mb=["left","right"],hb=["right","left"],aO=["top","bottom"],iO=["bottom","top"];function oO(e,t,n){switch(e){case"top":case"bottom":return n?t?hb:mb:t?mb:hb;case"left":case"right":return t?aO:iO;default:return[]}}function lO(e,t,n,s){const r=Tl(e);let i=oO(Mr(e),n==="start",s);return r&&(i=i.map(o=>o+"-"+r),t&&(i=i.concat(i.map(np)))),i}function of(e){return e.replace(/left|right|bottom|top/g,t=>eO[t])}function cO(e){return{top:0,right:0,bottom:0,left:0,...e}}function a2(e){return typeof e!="number"?cO(e):{top:e,right:e,bottom:e,left:e}}function lf(e){const{x:t,y:n,width:s,height:r}=e;return{width:s,height:r,top:n,left:t,right:t+s,bottom:n+r,x:t,y:n}}function gb(e,t,n){let{reference:s,floating:r}=e;const i=$s(t),o=f0(t),l=d0(o),c=Mr(t),u=i==="y",d=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,m=s[l]/2-r[l]/2;let h;switch(c){case"top":h={x:d,y:s.y-r.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-r.width,y:f};break;default:h={x:s.x,y:s.y}}switch(Tl(t)){case"start":h[o]-=m*(n&&u?-1:1);break;case"end":h[o]+=m*(n&&u?-1:1);break}return h}const uO=async(e,t,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:f}=gb(u,s,c),m=s,h={},p=0;for(let y=0;y<l.length;y++){const{name:b,fn:v}=l[y],{x,y:w,data:j,reset:N}=await v({x:d,y:f,initialPlacement:s,placement:m,strategy:r,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,h={...h,[b]:{...h[b],...j}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):N.rects),{x:d,y:f}=gb(u,m,c)),y=-1)}return{x:d,y:f,placement:m,strategy:r,middlewareData:h}};async function Rc(e,t){var n;t===void 0&&(t={});const{x:s,y:r,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=_r(t,e),p=a2(h),b=l[m?f==="floating"?"reference":"floating":f],v=lf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=lf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(v.top-N.top+p.top)/j.y,bottom:(N.bottom-v.bottom+p.bottom)/j.y,left:(v.left-N.left+p.left)/j.x,right:(N.right-v.right+p.right)/j.x}}const dO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:r,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=_r(e,t)||{};if(u==null)return{};const f=a2(d),m={x:n,y:s},h=f0(r),p=d0(h),y=await o.getDimensions(u),b=h==="y",v=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=i.reference[p]+i.reference[h]-m[h]-i.floating[p],N=m[h]-i.reference[h],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=k?k[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=l.floating[w]||i.floating[p]);const E=j/2-N/2,C=S/2-y[p]/2-1,T=ka(f[v],C),_=ka(f[x],C),O=T,L=S-y[p]-_,A=S/2-y[p]/2+E,$=tp(O,A,L),D=!c.arrow&&Tl(r)!=null&&A!==$&&i.reference[p]/2-(A<O?T:_)-y[p]/2<0,z=D?A<O?A-O:A-L:0;return{[h]:m[h]+z,data:{[h]:$,centerOffset:A-$-z,...D&&{alignmentOffset:z}},reset:D}}}),fO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:y=!0,...b}=_r(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Mr(r),x=$s(l),w=Mr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(w||!y?[of(l)]:rO(l)),k=p!=="none";!m&&k&&N.push(...lO(l,y,p,j));const S=[l,...N],E=await Rc(t,b),C=[];let T=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&C.push(E[v]),f){const A=sO(r,o,j);C.push(E[A[0]],E[A[1]])}if(T=[...T,{placement:r,overflows:C}],!C.every(A=>A<=0)){var _,O;const A=(((_=i.flip)==null?void 0:_.index)||0)+1,$=S[A];if($&&(!(f==="alignment"?x!==$s($):!1)||T.every(M=>M.overflows[0]>0&&$s(M.placement)===x)))return{data:{index:A,overflows:T},reset:{placement:$}};let D=(O=T.filter(z=>z.overflows[0]<=0).sort((z,M)=>z.overflows[1]-M.overflows[1])[0])==null?void 0:O.placement;if(!D)switch(h){case"bestFit":{var L;const z=(L=T.filter(M=>{if(k){const R=$s(M.placement);return R===x||R==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(R=>R>0).reduce((R,B)=>R+B,0)]).sort((M,R)=>M[1]-R[1])[0])==null?void 0:L[0];z&&(D=z);break}case"initialPlacement":D=l;break}if(r!==D)return{reset:{placement:D}}}return{}}}};function pb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xb(e){return J$.some(t=>e[t]>=0)}const mO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...r}=_r(e,t);switch(s){case"referenceHidden":{const i=await Rc(t,{...r,elementContext:"reference"}),o=pb(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xb(o)}}}case"escaped":{const i=await Rc(t,{...r,altBoundary:!0}),o=pb(i,n.floating);return{data:{escapedOffsets:o,escaped:xb(o)}}}default:return{}}}}},i2=new Set(["left","top"]);async function hO(e,t){const{placement:n,platform:s,elements:r}=e,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Mr(n),l=Tl(n),c=$s(n)==="y",u=i2.has(o)?-1:1,d=i&&c?-1:1,f=_r(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(h=l==="end"?p*-1:p),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const gO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:r,y:i,placement:o,middlewareData:l}=t,c=await hO(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:o}}}}},pO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:r}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:v,y:x}=b;return{x:v,y:x}}},...c}=_r(e,t),u={x:n,y:s},d=await Rc(t,c),f=$s(Mr(r)),m=u0(f);let h=u[m],p=u[f];if(i){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=h+d[b],w=h-d[v];h=tp(x,h,w)}if(o){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=p+d[b],w=p-d[v];p=tp(x,p,w)}const y=l.fn({...t,[m]:h,[f]:p});return{...y,data:{x:y.x-n,y:y.y-s,enabled:{[m]:i,[f]:o}}}}}},xO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:r,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=_r(e,t),d={x:n,y:s},f=$s(r),m=u0(f);let h=d[m],p=d[f];const y=_r(l,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const w=m==="y"?"height":"width",j=i.reference[m]-i.floating[w]+b.mainAxis,N=i.reference[m]+i.reference[w]-b.mainAxis;h<j?h=j:h>N&&(h=N)}if(u){var v,x;const w=m==="y"?"width":"height",j=i2.has(Mr(r)),N=i.reference[f]-i.floating[w]+(j&&((v=o.offset)==null?void 0:v[f])||0)+(j?0:b.crossAxis),k=i.reference[f]+i.reference[w]+(j?0:((x=o.offset)==null?void 0:x[f])||0)-(j?b.crossAxis:0);p<N?p=N:p>k&&(p=k)}return{[m]:h,[f]:p}}}},vO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:r,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=_r(e,t),d=await Rc(t,u),f=Mr(r),m=Tl(r),h=$s(r)==="y",{width:p,height:y}=i.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,b=m==="end"?"top":"bottom");const x=y-d.top-d.bottom,w=p-d.left-d.right,j=ka(y-d[b],x),N=ka(p-d[v],w),k=!t.middlewareData.shift;let S=j,E=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(S=x),k&&!m){const T=_n(d.left,0),_=_n(d.right,0),O=_n(d.top,0),L=_n(d.bottom,0);h?E=p-2*(T!==0||_!==0?T+_:_n(d.left,d.right)):S=y-2*(O!==0||L!==0?O+L:_n(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:S});const C=await o.getDimensions(l.floating);return p!==C.width||y!==C.height?{reset:{rects:!0}}:{}}}};function Nm(){return typeof window<"u"}function Al(e){return o2(e)?(e.nodeName||"").toLowerCase():"#document"}function Pn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ks(e){var t;return(t=(o2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function o2(e){return Nm()?e instanceof Node||e instanceof Pn(e).Node:!1}function ws(e){return Nm()?e instanceof Element||e instanceof Pn(e).Element:!1}function Zs(e){return Nm()?e instanceof HTMLElement||e instanceof Pn(e).HTMLElement:!1}function vb(e){return!Nm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pn(e).ShadowRoot}const yO=new Set(["inline","contents"]);function gu(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=js(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!yO.has(r)}const bO=new Set(["table","td","th"]);function wO(e){return bO.has(Al(e))}const jO=[":popover-open",":modal"];function Sm(e){return jO.some(t=>{try{return e.matches(t)}catch{return!1}})}const NO=["transform","translate","scale","rotate","perspective"],SO=["transform","translate","scale","rotate","perspective","filter"],kO=["paint","layout","strict","content"];function m0(e){const t=h0(),n=ws(e)?js(e):e;return NO.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||SO.some(s=>(n.willChange||"").includes(s))||kO.some(s=>(n.contain||"").includes(s))}function CO(e){let t=Ca(e);for(;Zs(t)&&!Xo(t);){if(m0(t))return t;if(Sm(t))return null;t=Ca(t)}return null}function h0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EO=new Set(["html","body","#document"]);function Xo(e){return EO.has(Al(e))}function js(e){return Pn(e).getComputedStyle(e)}function km(e){return ws(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ca(e){if(Al(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vb(e)&&e.host||Ks(e);return vb(t)?t.host:t}function l2(e){const t=Ca(e);return Xo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zs(t)&&gu(t)?t:l2(t)}function Dc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=l2(e),i=r===((s=e.ownerDocument)==null?void 0:s.body),o=Pn(r);if(i){const l=sp(o);return t.concat(o,o.visualViewport||[],gu(r)?r:[],l&&n?Dc(l):[])}return t.concat(r,Dc(r,[],n))}function sp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function c2(e){const t=js(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=Zs(e),i=r?e.offsetWidth:n,o=r?e.offsetHeight:s,l=af(n)!==i||af(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function g0(e){return ws(e)?e:e.contextElement}function To(e){const t=g0(e);if(!Zs(t))return Fs(1);const n=t.getBoundingClientRect(),{width:s,height:r,$:i}=c2(t);let o=(i?af(n.width):n.width)/s,l=(i?af(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TO=Fs(0);function u2(e){const t=Pn(e);return!h0()||!t.visualViewport?TO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function AO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Pn(e)?!1:t}function wi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=g0(e);let o=Fs(1);t&&(s?ws(s)&&(o=To(s)):o=To(e));const l=AO(i,n,s)?u2(i):Fs(0);let c=(r.left+l.x)/o.x,u=(r.top+l.y)/o.y,d=r.width/o.x,f=r.height/o.y;if(i){const m=Pn(i),h=s&&ws(s)?Pn(s):s;let p=m,y=sp(p);for(;y&&s&&h!==p;){const b=To(y),v=y.getBoundingClientRect(),x=js(y),w=v.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,j=v.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=j,p=Pn(y),y=sp(p)}}return lf({width:d,height:f,x:c,y:u})}function p0(e,t){const n=km(e).scrollLeft;return t?t.left+n:wi(Ks(e)).left+n}function d2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-(n?0:p0(e,s)),i=s.top+t.scrollTop;return{x:r,y:i}}function _O(e){let{elements:t,rect:n,offsetParent:s,strategy:r}=e;const i=r==="fixed",o=Ks(s),l=t?Sm(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Fs(1);const d=Fs(0),f=Zs(s);if((f||!f&&!i)&&((Al(s)!=="body"||gu(o))&&(c=km(s)),Zs(s))){const h=wi(s);u=To(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}const m=o&&!f&&!i?d2(o,c,!0):Fs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function MO(e){return Array.from(e.getClientRects())}function RO(e){const t=Ks(e),n=km(e),s=e.ownerDocument.body,r=_n(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=_n(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+p0(e);const l=-n.scrollTop;return js(s).direction==="rtl"&&(o+=_n(t.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:l}}function DO(e,t){const n=Pn(e),s=Ks(e),r=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(r){i=r.width,o=r.height;const u=h0();(!u||u&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:l,y:c}}const LO=new Set(["absolute","fixed"]);function zO(e,t){const n=wi(e,!0,t==="fixed"),s=n.top+e.clientTop,r=n.left+e.clientLeft,i=Zs(e)?To(e):Fs(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:o,height:l,x:c,y:u}}function yb(e,t,n){let s;if(t==="viewport")s=DO(e,n);else if(t==="document")s=RO(Ks(e));else if(ws(t))s=zO(t,n);else{const r=u2(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return lf(s)}function f2(e,t){const n=Ca(e);return n===t||!ws(n)||Xo(n)?!1:js(n).position==="fixed"||f2(n,t)}function PO(e,t){const n=t.get(e);if(n)return n;let s=Dc(e,[],!1).filter(l=>ws(l)&&Al(l)!=="body"),r=null;const i=js(e).position==="fixed";let o=i?Ca(e):e;for(;ws(o)&&!Xo(o);){const l=js(o),c=m0(o);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&LO.has(r.position)||gu(o)&&!c&&f2(e,o))?s=s.filter(d=>d!==o):r=l,o=Ca(o)}return t.set(e,s),s}function $O(e){let{element:t,boundary:n,rootBoundary:s,strategy:r}=e;const o=[...n==="clippingAncestors"?Sm(t)?[]:PO(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=yb(t,d,r);return u.top=_n(f.top,u.top),u.right=ka(f.right,u.right),u.bottom=ka(f.bottom,u.bottom),u.left=_n(f.left,u.left),u},yb(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function OO(e){const{width:t,height:n}=c2(e);return{width:t,height:n}}function IO(e,t,n){const s=Zs(t),r=Ks(t),i=n==="fixed",o=wi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Fs(0);function u(){c.x=p0(r)}if(s||!s&&!i)if((Al(t)!=="body"||gu(r))&&(l=km(t)),s){const h=wi(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?d2(r,l):Fs(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function Lh(e){return js(e).position==="static"}function bb(e,t){if(!Zs(e)||js(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ks(e)===n&&(n=n.ownerDocument.body),n}function m2(e,t){const n=Pn(e);if(Sm(e))return n;if(!Zs(e)){let r=Ca(e);for(;r&&!Xo(r);){if(ws(r)&&!Lh(r))return r;r=Ca(r)}return n}let s=bb(e,t);for(;s&&wO(s)&&Lh(s);)s=bb(s,t);return s&&Xo(s)&&Lh(s)&&!m0(s)?n:s||CO(e)||n}const BO=async function(e){const t=this.getOffsetParent||m2,n=this.getDimensions,s=await n(e.floating);return{reference:IO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function FO(e){return js(e).direction==="rtl"}const HO={convertOffsetParentRelativeRectToViewportRelativeRect:_O,getDocumentElement:Ks,getClippingRect:$O,getOffsetParent:m2,getElementRects:BO,getClientRects:MO,getDimensions:OO,getScale:To,isElement:ws,isRTL:FO};function h2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function UO(e,t){let n=null,s;const r=Ks(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||t(),!m||!h)return;const p=Ju(f),y=Ju(r.clientWidth-(d+m)),b=Ju(r.clientHeight-(f+h)),v=Ju(d),w={rootMargin:-p+"px "+-y+"px "+-b+"px "+-v+"px",threshold:_n(0,ka(1,c))||1};let j=!0;function N(k){const S=k[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):s=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!h2(u,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(N,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return o(!0),i}function VO(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=g0(e),d=r||i?[...u?Dc(u):[],...Dc(t)]:[];d.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=u&&l?UO(u,n):null;let m=-1,h=null;o&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let p,y=c?wi(e):null;c&&b();function b(){const v=wi(e);y&&!h2(y,v)&&n(),y=v,p=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(x=>{r&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const GO=gO,qO=pO,ZO=fO,YO=vO,XO=mO,wb=dO,WO=xO,KO=(e,t,n)=>{const s=new Map,r={platform:HO,...n},i={...r.platform,_c:s};return uO(e,t,{...r,platform:i})};var QO=typeof document<"u",JO=function(){},zd=QO?g.useLayoutEffect:JO;function cf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!cf(e[s],t[s]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&e.$$typeof)&&!cf(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function g2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jb(e,t){const n=g2(e);return Math.round(t*n)/n}function zh(e){const t=g.useRef(e);return zd(()=>{t.current=e}),t}function e6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=g.useState(s);cf(m,s)||h(s);const[p,y]=g.useState(null),[b,v]=g.useState(null),x=g.useCallback(M=>{M!==k.current&&(k.current=M,y(M))},[]),w=g.useCallback(M=>{M!==S.current&&(S.current=M,v(M))},[]),j=i||p,N=o||b,k=g.useRef(null),S=g.useRef(null),E=g.useRef(d),C=c!=null,T=zh(c),_=zh(r),O=zh(u),L=g.useCallback(()=>{if(!k.current||!S.current)return;const M={placement:t,strategy:n,middleware:m};_.current&&(M.platform=_.current),KO(k.current,S.current,M).then(R=>{const B={...R,isPositioned:O.current!==!1};A.current&&!cf(E.current,B)&&(E.current=B,mm.flushSync(()=>{f(B)}))})},[m,t,n,_,O]);zd(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const A=g.useRef(!1);zd(()=>(A.current=!0,()=>{A.current=!1}),[]),zd(()=>{if(j&&(k.current=j),N&&(S.current=N),j&&N){if(T.current)return T.current(j,N,L);L()}},[j,N,L,T,C]);const $=g.useMemo(()=>({reference:k,floating:S,setReference:x,setFloating:w}),[x,w]),D=g.useMemo(()=>({reference:j,floating:N}),[j,N]),z=g.useMemo(()=>{const M={position:n,left:0,top:0};if(!D.floating)return M;const R=jb(D.floating,d.x),B=jb(D.floating,d.y);return l?{...M,transform:"translate("+R+"px, "+B+"px)",...g2(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:B}},[n,l,D.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:L,refs:$,elements:D,floatingStyles:z}),[d,L,$,D,z])}const t6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:r}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?wb({element:s.current,padding:r}).fn(n):{}:s?wb({element:s,padding:r}).fn(n):{}}}},n6=(e,t)=>({...GO(e),options:[e,t]}),s6=(e,t)=>({...qO(e),options:[e,t]}),r6=(e,t)=>({...WO(e),options:[e,t]}),a6=(e,t)=>({...ZO(e),options:[e,t]}),i6=(e,t)=>({...YO(e),options:[e,t]}),o6=(e,t)=>({...XO(e),options:[e,t]}),l6=(e,t)=>({...t6(e),options:[e,t]});var c6="Arrow",p2=g.forwardRef((e,t)=>{const{children:n,width:s=10,height:r=5,...i}=e;return a.jsx(we.svg,{...i,ref:t,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});p2.displayName=c6;var u6=p2,x0="Popper",[x2,_l]=Un(x0),[d6,v2]=x2(x0),y2=e=>{const{__scopePopper:t,children:n}=e,[s,r]=g.useState(null);return a.jsx(d6,{scope:t,anchor:s,onAnchorChange:r,children:n})};y2.displayName=x0;var b2="PopperAnchor",w2=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...r}=e,i=v2(b2,n),o=g.useRef(null),l=Ie(t,o);return g.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:a.jsx(we.div,{...r,ref:l})});w2.displayName=b2;var v0="PopperContent",[f6,m6]=x2(v0),j2=g.forwardRef((e,t)=>{var te,xe,me,ye,Xe,st;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:p,...y}=e,b=v2(v0,n),[v,x]=g.useState(null),w=Ie(t,H=>x(H)),[j,N]=g.useState(null),k=KS(j),S=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,C=s+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},_=Array.isArray(u)?u:[u],O=_.length>0,L={padding:T,boundary:_.filter(g6),altBoundary:O},{refs:A,floatingStyles:$,placement:D,isPositioned:z,middlewareData:M}=e6({strategy:"fixed",placement:C,whileElementsMounted:(...H)=>VO(...H,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[n6({mainAxis:r+E,alignmentAxis:o}),c&&s6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?r6():void 0,...L}),c&&a6({...L}),i6({...L,apply:({elements:H,rects:G,availableWidth:K,availableHeight:ie})=>{const{width:ne,height:Q}=G.reference,Se=H.floating.style;Se.setProperty("--radix-popper-available-width",`${K}px`),Se.setProperty("--radix-popper-available-height",`${ie}px`),Se.setProperty("--radix-popper-anchor-width",`${ne}px`),Se.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),j&&l6({element:j,padding:l}),p6({arrowWidth:S,arrowHeight:E}),m&&o6({strategy:"referenceHidden",...L})]}),[R,B]=k2(D),F=Xt(p);qs(()=>{z&&(F==null||F())},[z,F]);const V=(te=M.arrow)==null?void 0:te.x,X=(xe=M.arrow)==null?void 0:xe.y,W=((me=M.arrow)==null?void 0:me.centerOffset)!==0,[J,le]=g.useState();return qs(()=>{v&&le(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ye=M.transformOrigin)==null?void 0:ye.x,(Xe=M.transformOrigin)==null?void 0:Xe.y].join(" "),...((st=M.hide)==null?void 0:st.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(f6,{scope:n,placedSide:R,onArrowChange:N,arrowX:V,arrowY:X,shouldHideArrow:W,children:a.jsx(we.div,{"data-side":R,"data-align":B,...y,ref:w,style:{...y.style,animation:z?void 0:"none"}})})})});j2.displayName=v0;var N2="PopperArrow",h6={top:"bottom",right:"left",bottom:"top",left:"right"},S2=g.forwardRef(function(t,n){const{__scopePopper:s,...r}=t,i=m6(N2,s),o=h6[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(u6,{...r,ref:n,style:{...r.style,display:"block"}})})});S2.displayName=N2;function g6(e){return e!==null}var p6=e=>({name:"transformOrigin",options:e,fn(t){var b,v,x;const{placement:n,rects:s,middlewareData:r}=t,o=((b=r.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=k2(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=r.arrow)==null?void 0:v.x)??0)+l/2,h=(((x=r.arrow)==null?void 0:x.y)??0)+c/2;let p="",y="";return u==="bottom"?(p=o?f:`${m}px`,y=`${-c}px`):u==="top"?(p=o?f:`${m}px`,y=`${s.floating.height+c}px`):u==="right"?(p=`${-c}px`,y=o?f:`${h}px`):u==="left"&&(p=`${s.floating.width+c}px`,y=o?f:`${h}px`),{data:{x:p,y}}}});function k2(e){const[t,n="center"]=e.split("-");return[t,n]}var C2=y2,y0=w2,b0=j2,w0=S2,rp=["Enter"," "],x6=["ArrowDown","PageUp","Home"],E2=["ArrowUp","PageDown","End"],v6=[...x6,...E2],y6={ltr:[...rp,"ArrowRight"],rtl:[...rp,"ArrowLeft"]},b6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pu="Menu",[Lc,w6,j6]=l0(pu),[Oi,T2]=Un(pu,[j6,_l,bm]),Cm=_l(),A2=bm(),[N6,Ii]=Oi(pu),[S6,xu]=Oi(pu),_2=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:r,onOpenChange:i,modal:o=!0}=e,l=Cm(t),[c,u]=g.useState(null),d=g.useRef(!1),f=Xt(i),m=mu(r);return g.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),a.jsx(C2,{...l,children:a.jsx(N6,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(S6,{scope:t,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};_2.displayName=pu;var k6="MenuAnchor",j0=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=Cm(n);return a.jsx(y0,{...r,...s,ref:t})});j0.displayName=k6;var N0="MenuPortal",[C6,M2]=Oi(N0,{forceMount:void 0}),R2=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:r}=e,i=Ii(N0,t);return a.jsx(C6,{scope:t,forceMount:n,children:a.jsx(tn,{present:n||i.open,children:a.jsx(Qx,{asChild:!0,container:r,children:s})})})};R2.displayName=N0;var ss="MenuContent",[E6,S0]=Oi(ss),D2=g.forwardRef((e,t)=>{const n=M2(ss,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,i=Ii(ss,e.__scopeMenu),o=xu(ss,e.__scopeMenu);return a.jsx(Lc.Provider,{scope:e.__scopeMenu,children:a.jsx(tn,{present:s||i.open,children:a.jsx(Lc.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(T6,{...r,ref:t}):a.jsx(A6,{...r,ref:t})})})})}),T6=g.forwardRef((e,t)=>{const n=Ii(ss,e.__scopeMenu),s=g.useRef(null),r=Ie(t,s);return g.useEffect(()=>{const i=s.current;if(i)return oS(i)},[]),a.jsx(k0,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),A6=g.forwardRef((e,t)=>{const n=Ii(ss,e.__scopeMenu);return a.jsx(k0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_6=Go("MenuContent.ScrollLock"),k0=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:p,...y}=e,b=Ii(ss,n),v=xu(ss,n),x=Cm(n),w=A2(n),j=w6(n),[N,k]=g.useState(null),S=g.useRef(null),E=Ie(t,S,b.onContentChange),C=g.useRef(0),T=g.useRef(""),_=g.useRef(0),O=g.useRef(null),L=g.useRef("right"),A=g.useRef(0),$=p?Jx:g.Fragment,D=p?{as:_6,allowPinchZoom:!0}:void 0,z=R=>{var te,xe;const B=T.current+R,F=j().filter(me=>!me.disabled),V=document.activeElement,X=(te=F.find(me=>me.ref.current===V))==null?void 0:te.textValue,W=F.map(me=>me.textValue),J=H6(W,B,X),le=(xe=F.find(me=>me.textValue===J))==null?void 0:xe.ref.current;(function me(ye){T.current=ye,window.clearTimeout(C.current),ye!==""&&(C.current=window.setTimeout(()=>me(""),1e3))})(B),le&&setTimeout(()=>le.focus())};g.useEffect(()=>()=>window.clearTimeout(C.current),[]),Q1();const M=g.useCallback(R=>{var F,V;return L.current===((F=O.current)==null?void 0:F.side)&&V6(R,(V=O.current)==null?void 0:V.area)},[]);return a.jsx(E6,{scope:n,searchRef:T,onItemEnter:g.useCallback(R=>{M(R)&&R.preventDefault()},[M]),onItemLeave:g.useCallback(R=>{var B;M(R)||((B=S.current)==null||B.focus(),k(null))},[M]),onTriggerLeave:g.useCallback(R=>{M(R)&&R.preventDefault()},[M]),pointerGraceTimerRef:_,onPointerGraceIntentChange:g.useCallback(R=>{O.current=R},[]),children:a.jsx($,{...D,children:a.jsx(Kx,{asChild:!0,trapped:r,onMountAutoFocus:se(i,R=>{var B;R.preventDefault(),(B=S.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(lu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:a.jsx(IS,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:se(c,R=>{v.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(b0,{role:"menu","aria-orientation":"vertical","data-state":X2(b.open),"data-radix-menu-content":"",dir:v.dir,...x,...y,ref:E,style:{outline:"none",...y.style},onKeyDown:se(y.onKeyDown,R=>{const F=R.target.closest("[data-radix-menu-content]")===R.currentTarget,V=R.ctrlKey||R.altKey||R.metaKey,X=R.key.length===1;F&&(R.key==="Tab"&&R.preventDefault(),!V&&X&&z(R.key));const W=S.current;if(R.target!==W||!v6.includes(R.key))return;R.preventDefault();const le=j().filter(te=>!te.disabled).map(te=>te.ref.current);E2.includes(R.key)&&le.reverse(),B6(le)}),onBlur:se(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:se(e.onPointerMove,zc(R=>{const B=R.target,F=A.current!==R.clientX;if(R.currentTarget.contains(B)&&F){const V=R.clientX>A.current?"right":"left";L.current=V,A.current=R.clientX}}))})})})})})})});D2.displayName=ss;var M6="MenuGroup",C0=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(we.div,{role:"group",...s,ref:t})});C0.displayName=M6;var R6="MenuLabel",L2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(we.div,{...s,ref:t})});L2.displayName=R6;var uf="MenuItem",Nb="menu.itemSelect",Em=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...r}=e,i=g.useRef(null),o=xu(uf,e.__scopeMenu),l=S0(uf,e.__scopeMenu),c=Ie(t,i),u=g.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(Nb,{bubbles:!0,cancelable:!0});f.addEventListener(Nb,h=>s==null?void 0:s(h),{once:!0}),Y1(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(z2,{...r,ref:c,disabled:n,onClick:se(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:se(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:se(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||rp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Em.displayName=uf;var z2=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...i}=e,o=S0(uf,n),l=A2(n),c=g.useRef(null),u=Ie(t,c),[d,f]=g.useState(!1),[m,h]=g.useState("");return g.useEffect(()=>{const p=c.current;p&&h((p.textContent??"").trim())},[i.children]),a.jsx(Lc.ItemSlot,{scope:n,disabled:s,textValue:r??m,children:a.jsx(BS,{asChild:!0,...l,focusable:!s,children:a.jsx(we.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:se(e.onPointerMove,zc(p=>{s?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,zc(p=>o.onItemLeave(p))),onFocus:se(e.onFocus,()=>f(!0)),onBlur:se(e.onBlur,()=>f(!1))})})})}),D6="MenuCheckboxItem",P2=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...r}=e;return a.jsx(F2,{scope:e.__scopeMenu,checked:n,children:a.jsx(Em,{role:"menuitemcheckbox","aria-checked":df(n)?"mixed":n,...r,ref:t,"data-state":T0(n),onSelect:se(r.onSelect,()=>s==null?void 0:s(df(n)?!0:!n),{checkForDefaultPrevented:!1})})})});P2.displayName=D6;var $2="MenuRadioGroup",[L6,z6]=Oi($2,{value:void 0,onValueChange:()=>{}}),O2=g.forwardRef((e,t)=>{const{value:n,onValueChange:s,...r}=e,i=Xt(s);return a.jsx(L6,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(C0,{...r,ref:t})})});O2.displayName=$2;var I2="MenuRadioItem",B2=g.forwardRef((e,t)=>{const{value:n,...s}=e,r=z6(I2,e.__scopeMenu),i=n===r.value;return a.jsx(F2,{scope:e.__scopeMenu,checked:i,children:a.jsx(Em,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":T0(i),onSelect:se(s.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,n)},{checkForDefaultPrevented:!1})})})});B2.displayName=I2;var E0="MenuItemIndicator",[F2,P6]=Oi(E0,{checked:!1}),H2=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...r}=e,i=P6(E0,n);return a.jsx(tn,{present:s||df(i.checked)||i.checked===!0,children:a.jsx(we.span,{...r,ref:t,"data-state":T0(i.checked)})})});H2.displayName=E0;var $6="MenuSeparator",U2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});U2.displayName=$6;var O6="MenuArrow",V2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=Cm(n);return a.jsx(w0,{...r,...s,ref:t})});V2.displayName=O6;var I6="MenuSub",[$ne,G2]=Oi(I6),nc="MenuSubTrigger",q2=g.forwardRef((e,t)=>{const n=Ii(nc,e.__scopeMenu),s=xu(nc,e.__scopeMenu),r=G2(nc,e.__scopeMenu),i=S0(nc,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(j0,{asChild:!0,...u,children:a.jsx(z2,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":X2(n.open),...e,ref:pm(t,r.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,zc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(e.onPointerLeave,zc(f=>{var h,p;d();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const y=(p=n.content)==null?void 0:p.dataset.side,b=y==="right",v=b?-5:5,x=m[b?"left":"right"],w=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||y6[s.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});q2.displayName=nc;var Z2="MenuSubContent",Y2=g.forwardRef((e,t)=>{const n=M2(ss,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,i=Ii(ss,e.__scopeMenu),o=xu(ss,e.__scopeMenu),l=G2(Z2,e.__scopeMenu),c=g.useRef(null),u=Ie(t,c);return a.jsx(Lc.Provider,{scope:e.__scopeMenu,children:a.jsx(tn,{present:s||i.open,children:a.jsx(Lc.Slot,{scope:e.__scopeMenu,children:a.jsx(k0,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:se(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=b6[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});Y2.displayName=Z2;function X2(e){return e?"open":"closed"}function df(e){return e==="indeterminate"}function T0(e){return df(e)?"indeterminate":e?"checked":"unchecked"}function B6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function F6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function H6(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=F6(e,Math.max(i,0));r.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function U6(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function V6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return U6(n,t)}function zc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var G6=_2,q6=j0,Z6=R2,Y6=D2,X6=C0,W6=L2,K6=Em,Q6=P2,J6=O2,eI=B2,tI=H2,nI=U2,sI=V2,rI=q2,aI=Y2,Tm="DropdownMenu",[iI,One]=Un(Tm,[T2]),un=T2(),[oI,W2]=iI(Tm),K2=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=un(t),u=g.useRef(null),[d,f]=Br({prop:r,defaultProp:i??!1,onChange:o,caller:Tm});return a.jsx(oI,{scope:t,triggerId:kr(),triggerRef:u,contentId:kr(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(G6,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};K2.displayName=Tm;var Q2="DropdownMenuTrigger",J2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=e,i=W2(Q2,n),o=un(n);return a.jsx(q6,{asChild:!0,...o,children:a.jsx(we.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:pm(t,i.triggerRef),onPointerDown:se(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:se(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});J2.displayName=Q2;var lI="DropdownMenuPortal",ek=e=>{const{__scopeDropdownMenu:t,...n}=e,s=un(t);return a.jsx(Z6,{...s,...n})};ek.displayName=lI;var tk="DropdownMenuContent",nk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=W2(tk,n),i=un(n),o=g.useRef(!1);return a.jsx(Y6,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,l=>{var c;o.current||(c=r.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:se(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nk.displayName=tk;var cI="DropdownMenuGroup",uI=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(X6,{...r,...s,ref:t})});uI.displayName=cI;var dI="DropdownMenuLabel",sk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(W6,{...r,...s,ref:t})});sk.displayName=dI;var fI="DropdownMenuItem",rk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(K6,{...r,...s,ref:t})});rk.displayName=fI;var mI="DropdownMenuCheckboxItem",ak=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(Q6,{...r,...s,ref:t})});ak.displayName=mI;var hI="DropdownMenuRadioGroup",gI=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(J6,{...r,...s,ref:t})});gI.displayName=hI;var pI="DropdownMenuRadioItem",ik=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(eI,{...r,...s,ref:t})});ik.displayName=pI;var xI="DropdownMenuItemIndicator",ok=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(tI,{...r,...s,ref:t})});ok.displayName=xI;var vI="DropdownMenuSeparator",lk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(nI,{...r,...s,ref:t})});lk.displayName=vI;var yI="DropdownMenuArrow",bI=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(sI,{...r,...s,ref:t})});bI.displayName=yI;var wI="DropdownMenuSubTrigger",ck=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(rI,{...r,...s,ref:t})});ck.displayName=wI;var jI="DropdownMenuSubContent",uk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=un(n);return a.jsx(aI,{...r,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uk.displayName=jI;var NI=K2,SI=J2,kI=ek,dk=nk,fk=sk,mk=rk,hk=ak,gk=ik,pk=ok,xk=lk,vk=ck,yk=uk;const Bi=NI,Fi=SI,CI=g.forwardRef(({className:e,inset:t,children:n,...s},r)=>a.jsxs(vk,{ref:r,className:I("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,a.jsx(yl,{className:"ml-auto h-4 w-4"})]}));CI.displayName=vk.displayName;const EI=g.forwardRef(({className:e,...t},n)=>a.jsx(yk,{ref:n,className:I("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:kt.DROPDOWN},...t}));EI.displayName=yk.displayName;const Oa=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(kI,{children:a.jsx(dk,{ref:s,sideOffset:t,className:I("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:kt.DROPDOWN},...n})}));Oa.displayName=dk.displayName;const on=g.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(mk,{ref:s,className:I("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));on.displayName=mk.displayName;const TI=g.forwardRef(({className:e,children:t,checked:n,...s},r)=>a.jsxs(hk,{ref:r,className:I("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(pk,{children:a.jsx(Cc,{className:"h-4 w-4"})})}),t]}));TI.displayName=hk.displayName;const AI=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(gk,{ref:s,className:I("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(pk,{children:a.jsx(Fx,{className:"h-2 w-2 fill-current"})})}),t]}));AI.displayName=gk.displayName;const _I=g.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(fk,{ref:s,className:I("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));_I.displayName=fk.displayName;const MI=g.forwardRef(({className:e,...t},n)=>a.jsx(xk,{ref:n,className:I("-mx-1 my-1 h-px bg-muted",e),...t}));MI.displayName=xk.displayName;function RI(e,[t,n]){return Math.min(n,Math.max(t,e))}function DI(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var A0="ScrollArea",[bk,Ine]=Un(A0),[LI,ls]=bk(A0),wk=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:i=600,...o}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,p]=g.useState(null),[y,b]=g.useState(null),[v,x]=g.useState(0),[w,j]=g.useState(0),[N,k]=g.useState(!1),[S,E]=g.useState(!1),C=Ie(t,_=>c(_)),T=mu(r);return a.jsx(LI,{scope:n,type:s,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:E,onCornerWidthChange:x,onCornerHeightChange:j,children:a.jsx(we.div,{dir:T,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});wk.displayName=A0;var jk="ScrollAreaViewport",Nk=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:r,...i}=e,o=ls(jk,n),l=g.useRef(null),c=Ie(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(we.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Nk.displayName=jk;var Qs="ScrollAreaScrollbar",_0=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=ls(Qs,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=r,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),r.type==="hover"?a.jsx(zI,{...s,ref:t,forceMount:n}):r.type==="scroll"?a.jsx(PI,{...s,ref:t,forceMount:n}):r.type==="auto"?a.jsx(Sk,{...s,ref:t,forceMount:n}):r.type==="always"?a.jsx(M0,{...s,ref:t}):null});_0.displayName=Qs;var zI=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=ls(Qs,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),a.jsx(tn,{present:n||i,children:a.jsx(Sk,{"data-state":i?"visible":"hidden",...s,ref:t})})}),PI=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=ls(Qs,e.__scopeScrollArea),i=e.orientation==="horizontal",o=_m(()=>c("SCROLL_END"),100),[l,c]=DI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,c]),g.useEffect(()=>{const u=r.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[r.viewport,i,c,o]),a.jsx(tn,{present:n||l!=="hidden",children:a.jsx(M0,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:se(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:se(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Sk=g.forwardRef((e,t)=>{const n=ls(Qs,e.__scopeScrollArea),{forceMount:s,...r}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",c=_m(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Wo(n.viewport,c),Wo(n.content,c),a.jsx(tn,{present:s||i,children:a.jsx(M0,{"data-state":i?"visible":"hidden",...r,ref:t})})}),M0=g.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,r=ls(Qs,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Ak(l.viewport,l.content),d={...s,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return HI(m,o.current,l,h)}return n==="horizontal"?a.jsx($I,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const m=r.viewport.scrollLeft,h=Sb(m,l,r.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollLeft=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollLeft=f(m,r.dir))}}):n==="vertical"?a.jsx(OI,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const m=r.viewport.scrollTop,h=Sb(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollTop=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollTop=f(m))}}):null}),$I=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,i=ls(Qs,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ie(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Ck,{"data-orientation":"horizontal",...r,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Am(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),Mk(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:mf(o.paddingLeft),paddingEnd:mf(o.paddingRight)}})}})}),OI=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,i=ls(Qs,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ie(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Ck,{"data-orientation":"vertical",...r,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Am(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),Mk(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:mf(o.paddingTop),paddingEnd:mf(o.paddingBottom)}})}})}),[II,kk]=bk(Qs),Ck=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,h=ls(Qs,n),[p,y]=g.useState(null),b=Ie(t,C=>y(C)),v=g.useRef(null),x=g.useRef(""),w=h.viewport,j=s.content-s.viewport,N=Xt(d),k=Xt(c),S=_m(f,10);function E(C){if(v.current){const T=C.clientX-v.current.left,_=C.clientY-v.current.top;u({x:T,y:_})}}return g.useEffect(()=>{const C=T=>{const _=T.target;(p==null?void 0:p.contains(_))&&N(T,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,p,j,N]),g.useEffect(k,[s,k]),Wo(p,S),Wo(h.content,S),a.jsx(II,{scope:n,scrollbar:p,hasThumb:r,onThumbChange:Xt(i),onThumbPointerUp:Xt(o),onThumbPositionChange:k,onThumbPointerDown:Xt(l),children:a.jsx(we.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:se(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=p.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(C))}),onPointerMove:se(e.onPointerMove,E),onPointerUp:se(e.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),ff="ScrollAreaThumb",Ek=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=kk(ff,e.__scopeScrollArea);return a.jsx(tn,{present:n||r.hasThumb,children:a.jsx(BI,{ref:t,...s})})}),BI=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...r}=e,i=ls(ff,n),o=kk(ff,n),{onThumbPositionChange:l}=o,c=Ie(t,f=>o.onThumbChange(f)),u=g.useRef(void 0),d=_m(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const h=UI(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),a.jsx(we.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:se(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,y=f.clientY-h.top;o.onThumbPointerDown({x:p,y})}),onPointerUp:se(e.onPointerUp,o.onThumbPointerUp)})});Ek.displayName=ff;var R0="ScrollAreaCorner",Tk=g.forwardRef((e,t)=>{const n=ls(R0,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?a.jsx(FI,{...e,ref:t}):null});Tk.displayName=R0;var FI=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,r=ls(R0,n),[i,o]=g.useState(0),[l,c]=g.useState(0),u=!!(i&&l);return Wo(r.scrollbarX,()=>{var f;const d=((f=r.scrollbarX)==null?void 0:f.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),Wo(r.scrollbarY,()=>{var f;const d=((f=r.scrollbarY)==null?void 0:f.offsetWidth)||0;r.onCornerWidthChange(d),o(d)}),u?a.jsx(we.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function mf(e){return e?parseInt(e,10):0}function Ak(e,t){const n=e/t;return isNaN(n)?0:n}function Am(e){const t=Ak(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function HI(e,t,n,s="ltr"){const r=Am(n),i=r/2,o=t||i,l=r-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=s==="ltr"?[0,d]:[d*-1,0];return _k([c,u],f)(e)}function Sb(e,t,n="ltr"){const s=Am(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-r,o=t.content-t.viewport,l=i-s,c=n==="ltr"?[0,o]:[o*-1,0],u=RI(e,c);return _k([0,o],[0,l])(u)}function _k(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function Mk(e,t){return e>0&&e<t}var UI=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function r(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function _m(e,t){const n=Xt(e),s=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),g.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Wo(e,t){const n=Xt(t);qs(()=>{let s=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(s),r.unobserve(e)}}},[e,n])}var Rk=wk,VI=Nk,GI=Tk;const ji=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(Rk,{ref:s,className:I("relative overflow-hidden",e),...n,children:[a.jsx(VI,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(Dk,{}),a.jsx(GI,{})]}));ji.displayName=Rk.displayName;const Dk=g.forwardRef(({className:e,orientation:t="vertical",...n},s)=>a.jsx(_0,{ref:s,orientation:t,className:I("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(Ek,{className:"relative flex-1 rounded-full bg-border"})}));Dk.displayName=_0.displayName;function qI({items:e,viewMode:t,onItemSelect:n,selectedItem:s,renderItemCard:r,className:i}){return a.jsxs("div",{className:`space-y-4 ${i}`,children:[t==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(o=>a.jsx("div",{onClick:()=>n(o),className:"cursor-pointer transition-transform hover:scale-[1.02] relative",children:r(o,(s==null?void 0:s.id)===o.id)},o.id))}):a.jsx(ji,{className:"h-[calc(100vh-300px)]",children:a.jsx("div",{className:"space-y-1 pr-4",children:e.map(o=>a.jsx("div",{onClick:()=>n(o),className:"cursor-pointer transition-colors hover:bg-muted/50 rounded-lg",children:r(o,(s==null?void 0:s.id)===o.id)},o.id))})}),e.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No items found matching your criteria."})})]})}function ZI({categories:e,onSelect:t,className:n=""}){return a.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(s=>a.jsx("div",{className:"flex-1 min-w-[180px]",children:a.jsx(ri,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))})}function YI({tags:e,onRemove:t,className:n=""}){return e.length===0?null:a.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(s=>a.jsxs(q,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.category,":"]}),a.jsx("span",{children:s.label}),a.jsx("button",{onClick:()=>t(s.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(He,{className:"h-3 w-3"})})]},s.id))})}function Lk({categories:e,onSelect:t,onCustomSearch:n,placeholder:s="Search by name, description, or abilities...",className:r=""}){const[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(""),[f,m]=g.useState(-1),h=g.useRef(null),p=g.useRef(null),y=e.length===1?e[0]:null;g.useEffect(()=>{const T=_=>{h.current&&!h.current.contains(_.target)&&(o(!1),c(null),m(-1))};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const b=l||y?(l||y).options.filter(T=>T.label&&typeof T.label=="string"&&T.label.toLowerCase().includes(u.toLowerCase())||T.description&&typeof T.description=="string"&&T.description.toLowerCase().includes(u.toLowerCase())):e.flatMap(T=>T.options.filter(_=>_.label&&typeof _.label=="string"&&_.label.toLowerCase().includes(u.toLowerCase())||_.description&&typeof _.description=="string"&&_.description.toLowerCase().includes(u.toLowerCase()))),v=T=>{d(T),o(!0),m(-1)},x=T=>{var _;c(T),d(""),(_=p.current)==null||_.focus()},w=T=>{t(T),d(""),c(null),o(!1),m(-1)},j=()=>{u.trim()&&(n(u.trim()),d(""),c(null),o(!1),m(-1))},N=T=>{T.key==="ArrowDown"?(T.preventDefault(),m(_=>Math.min(_+1,b.length-1))):T.key==="ArrowUp"?(T.preventDefault(),m(_=>Math.max(_-1,-1))):T.key==="Enter"?(T.preventDefault(),f>=0&&b[f]?w(b[f]):u.trim()&&j()):T.key==="Escape"&&(o(!1),c(null),m(-1))},k=()=>{o(!0)},S=l||y,E=!y&&!l,C=u.trim()&&!b.some(T=>T.label&&typeof T.label=="string"&&T.label.toLowerCase()===u.toLowerCase());return a.jsxs("div",{ref:h,className:`relative ${r}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Ln,{ref:p,type:"text",placeholder:S?S.placeholder:s,value:u,onChange:T=>v(T.target.value),onFocus:k,onKeyDown:N,className:"pl-10 pr-20"}),C&&a.jsx(U,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:j,title:"Add custom search term",children:a.jsx(ma,{className:"h-4 w-4"})}),a.jsx(U,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!i),children:a.jsx(Rt,{className:`h-4 w-4 transition-transform ${i?"rotate-180":""}`})})]}),i&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:kt.AUTOCOMPLETE+10},children:[E&&a.jsxs("div",{className:"p-2 border-b border-border",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(T=>a.jsxs("button",{onClick:()=>x(T),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[a.jsx("span",{children:T.name}),a.jsx(Rt,{className:"h-4 w-4"})]},T.id))]}),C&&a.jsx("div",{className:"p-2 border-b border-border",children:a.jsxs("button",{onClick:j,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[a.jsx(ma,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),a.jsx("div",{className:"p-2",children:b.length===0&&!C?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):b.map((T,_)=>a.jsxs("button",{onClick:()=>w(T),className:`w-full text-left px-2 py-2 rounded text-sm ${_===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[a.jsx("div",{className:"font-medium",children:T.label}),T.description&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:T.description})]},T.id))})]})]})}function Ia({categories:e,onSelect:t,onCustomSearch:n,className:s=""}){const r=e.find(o=>o.id==="fuzzy-search"||o.id==="keywords"),i=e.filter(o=>o.id!=="fuzzy-search"&&o.id!=="keywords");return a.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${s}`,children:[r&&a.jsx("div",{className:"flex-1 min-w-[300px]",children:a.jsx(Lk,{categories:[r],onSelect:t,onCustomSearch:n,placeholder:r.placeholder,className:"w-full"})}),i.map(o=>a.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:a.jsx(ri,{categories:[o],onSelect:t,placeholder:o.placeholder,className:"w-full"})},o.id))]})}function XI({children:e,className:t=""}){return a.jsx("div",{className:`grid grid-cols-1 lg:grid-cols-6 gap-6 ${t}`,children:e})}function WI({children:e,className:t=""}){return a.jsx("div",{className:`lg:col-span-5 ${t}`,children:e})}function KI({children:e,className:t=""}){return a.jsx("div",{className:`lg:col-span-1 ${t}`,children:a.jsx("div",{className:"sticky top-6",style:{zIndex:kt.STICKY},children:e})})}function QI({title:e="Select an Item",description:t="Choose an item from the list to view its details"}){return a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 text-center",children:[a.jsx(oa,{className:"text-lg font-semibold mb-2",children:e}),a.jsx(ve,{className:"text-muted-foreground",children:t})]})}function JI({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:s,onTagRemove:r,onViewModeChange:i,children:o,className:l=""}){return a.jsxs("div",{className:`mb-8 space-y-4 ${l}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(ZI,{categories:e,onSelect:s,className:"w-full"})}),i&&a.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[a.jsx(U,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>i("grid"),className:"h-8 px-3",children:a.jsx(Di,{className:"h-4 w-4"})}),a.jsx(U,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>i("list"),className:"h-8 px-3",children:a.jsx(Ra,{className:"h-4 w-4"})})]})]}),a.jsx(YI,{tags:t,onRemove:r,className:"justify-start"}),o&&a.jsx("div",{className:"pt-4",children:o})]})}const e8=(e,t)=>{const n=e.effects.length>0,s=e.effects.length,r=e.targetType==="touch",i=e.targetType==="self",o=e.foundOnItems.length,l=[e.targetType,...e.effects.map(u=>u.name.toLowerCase()),...e.foundOnItems.map(u=>u.type),...e.plugin.toLowerCase().split(" "),t.toLowerCase().split(" ")].filter(Boolean),c=[e.name,...e.effects.map(u=>`${u.name} ${u.description}`),...e.foundOnItems.map(u=>`${u.name} ${u.type}`),e.plugin,t].join(" ").toLowerCase();return{...e,hasEffects:n,effectCount:s,isWeaponEnchantment:r,isArmorEnchantment:i,itemCount:o,tags:[...new Set(l)],searchableText:c,category:t}},Ni=jn((e,t)=>({categories:[],data:[],loading:!1,error:null,viewState:{viewMode:"grid",sortBy:"name",sortOrder:"asc",selectedEnchantment:null,expandedEnchantments:[]},filters:{categories:[],targetTypes:[],itemTypes:[],plugins:[],searchTerm:"",hasEffects:null,hasWornRestrictions:null,minItemCount:null,maxItemCount:null},searchResults:[],searchLoading:!1,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(en("data/enchantment-primer.json"));if(!s.ok)throw new Error(`Failed to load enchantments: ${s.statusText}`);const r=await s.json(),i=[];r.categories.forEach(o=>{o.enchantments.forEach(l=>{i.push(e8(l,o.name))})}),e({categories:r.categories,data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load enchantments",loading:!1})}}},setViewState:n=>{e(s=>({viewState:{...s.viewState,...n}}),!1,"setViewState")},setFilters:n=>{e(s=>({filters:{...s.filters,...n}}),!1,"setFilters")},search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>i.name.toLowerCase().includes(r)||i.searchableText.includes(r)||i.tags.some(o=>o.toLowerCase().includes(r))||i.effects.some(o=>o.name.toLowerCase().includes(r)||o.description.toLowerCase().includes(r))||i.foundOnItems.some(o=>o.name.toLowerCase().includes(r)||o.type.toLowerCase().includes(r)))},selectEnchantment:n=>{e(s=>({viewState:{...s.viewState,selectedEnchantment:n}}),!1,"selectEnchantment")},clearSelection:()=>{e(n=>({viewState:{...n.viewState,selectedEnchantment:null}}),!1,"clearSelection")},clearSearch:()=>{e({searchResults:[],searchLoading:!1},!1,"clearSearch")},get selectedEnchantment(){const n=t();return n.viewState.selectedEnchantment?n.data.find(s=>s.baseEnchantmentId===n.viewState.selectedEnchantment):void 0},getById:n=>t().data.find(r=>r.baseEnchantmentId===n),getByBaseEnchantmentId:n=>t().data.find(r=>r.baseEnchantmentId===n),getByCategory:n=>t().data.filter(r=>r.category===n),getByTargetType:n=>t().data.filter(r=>r.targetType===n),getByPlugin:n=>t().data.filter(r=>r.plugin===n)}));class We{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.output=="string"&&Array.isArray(t.ingredients)&&Array.isArray(t.effects)}static equals(t,n){return t.name===n.name}static addComputedProperties(t){const n=t.effects.length>0,s=t.effects.length,r=t.ingredients.length,i=r>3||s>2,o=r<=2&&s<=1,l=t.effects.reduce((m,h)=>m+h.magnitude,0),c=Math.max(...t.effects.map(m=>m.duration),0),u=this.determineDifficulty(t,{ingredientCount:r,effectCount:s,isComplex:i,isSimple:o}),d=this.generateTags(t,{hasEffects:n,effectCount:s,ingredientCount:r,isComplex:i,isSimple:o,difficulty:u}),f=this.createSearchableText(t,d);return{...t,hasEffects:n,effectCount:s,ingredientCount:r,isComplex:i,isSimple:o,totalMagnitude:l,maxDuration:c,tags:d,searchableText:f,difficulty:u}}static determineDifficulty(t,n){return n.isSimple?"Simple":n.isComplex?"Complex":"Moderate"}static generateTags(t,n){const s=[];return t.category&&s.push(t.category),s.push(n.difficulty),n.hasEffects&&s.push("Has Effects"),n.ingredientCount===1?s.push("Single Ingredient"):n.ingredientCount<=3?s.push("Few Ingredients"):s.push("Many Ingredients"),n.effectCount===1?s.push("Single Effect"):n.effectCount<=2?s.push("Few Effects"):s.push("Many Effects"),t.effects.forEach(r=>{s.push(r.name)}),t.ingredients.forEach(r=>{s.push(r)}),[...new Set(s)]}static createSearchableText(t,n){const s=t.ingredients.map(i=>typeof i=="string"?i:i&&typeof i=="object"&&(i.item||i.name||i.label||i.id)||String(i));return[t.name,t.output,t.description||"",...s,...t.effects.map(i=>i.name),...t.effects.map(i=>i.description),...n].join(" ").toLowerCase()}static filterByCategory(t,n){return t.filter(s=>s.category===n)}static filterByCategories(t,n){return n.length===0?t:t.filter(s=>s.category&&n.includes(s.category))}static filterByDifficulty(t,n){return t.filter(s=>s.difficulty===n)}static filterByDifficulties(t,n){return n.length===0?t:t.filter(s=>n.includes(s.difficulty))}static filterByIngredientCount(t,n,s){return t.filter(r=>{const i=r.ingredientCount;return!(n!==null&&i<n||s!==null&&i>s)})}static filterByMagnitude(t,n,s){return t.filter(r=>{const i=r.totalMagnitude;return!(n!==null&&i<n||s!==null&&i>s)})}static filterByEffectProperties(t,n,s){return t.filter(r=>!(n!==null&&r.hasEffects!==n||s!==null&&r.isComplex!==s))}static filterByIngredients(t,n){return n.length===0?t:t.filter(s=>n.some(r=>s.ingredients.some(i=>(typeof i=="string"?i:i.item||i.name||i.label||i.id||String(i)).toLowerCase().includes(r.toLowerCase()))))}static filterByEffects(t,n){return n.length===0?t:t.filter(s=>n.some(r=>s.effects.some(i=>i.name.toLowerCase().includes(r.toLowerCase()))))}static search(t,n){if(!n.trim())return[];const s=n.toLowerCase().trim(),r=[];for(const i of t){const o=this.calculateSearchScore(i,s);if(o>0){const l=this.getMatchedFields(i,s);r.push({recipe:i,score:o,matchedFields:l})}}return r.sort((i,o)=>o.score-i.score)}static calculateSearchScore(t,n){var i;let s=0;const r=n.toLowerCase();return t.name.toLowerCase()===r&&(s+=100),t.output.toLowerCase()===r&&(s+=100),t.name.toLowerCase().includes(r)&&(s+=50),t.output.toLowerCase().includes(r)&&(s+=50),(i=t.description)!=null&&i.toLowerCase().includes(r)&&(s+=30),t.ingredients.forEach(o=>{const l=typeof o=="string"?o:o.item||o.name||o.label||o.id||String(o);l.toLowerCase()===r&&(s+=40),l.toLowerCase().includes(r)&&(s+=20)}),t.effects.forEach(o=>{o.name.toLowerCase()===r&&(s+=40),o.name.toLowerCase().includes(r)&&(s+=20),o.description.toLowerCase().includes(r)&&(s+=15)}),t.tags.forEach(o=>{o.toLowerCase()===r&&(s+=25),o.toLowerCase().includes(r)&&(s+=10)}),s}static getMatchedFields(t,n){var i;const s=[],r=n.toLowerCase();return t.name.toLowerCase().includes(r)&&s.push("name"),t.output.toLowerCase().includes(r)&&s.push("output"),(i=t.description)!=null&&i.toLowerCase().includes(r)&&s.push("description"),t.ingredients.forEach(o=>{(typeof o=="string"?o:o.item||o.name||o.label||o.id||String(o)).toLowerCase().includes(r)&&s.push("ingredients")}),t.effects.forEach(o=>{(o.name.toLowerCase().includes(r)||o.description.toLowerCase().includes(r))&&s.push("effects")}),[...new Set(s)]}static sort(t,n,s="asc"){return[...t].sort((i,o)=>{let l=0;switch(n){case"name":l=i.name.localeCompare(o.name);break;case"category":l=(i.category||"").localeCompare(o.category||"");break;case"difficulty":l=this.compareDifficulties(i.difficulty,o.difficulty);break;case"ingredientCount":l=i.ingredientCount-o.ingredientCount;break;case"effectCount":l=i.effectCount-o.effectCount;break;case"magnitude":l=i.totalMagnitude-o.totalMagnitude;break;case"duration":l=i.maxDuration-o.maxDuration;break}return s==="asc"?l:-l})}static compareDifficulties(t,n){const s={Simple:1,Moderate:2,Complex:3};return(s[t]||0)-(s[n]||0)}static getUniqueCategories(t){const n=t.map(s=>s.category).filter(s=>!!s);return[...new Set(n)].sort()}static getUniqueDifficulties(t){const n=t.map(s=>s.difficulty);return[...new Set(n)].sort((s,r)=>this.compareDifficulties(s,r))}static getUniqueEffects(t){const n=t.flatMap(s=>s.effects.map(r=>r.name));return[...new Set(n)].sort()}static getUniqueIngredients(t){const n=t.flatMap(s=>s.ingredients.map(r=>typeof r=="string"?r:r&&typeof r=="object"&&(r.item||r.name||r.label||r.id)||String(r)));return[...new Set(n)].filter(s=>s&&s!=="[object Object]").sort()}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static applyFilters(t,n){let s=[...t];return n.searchTerm.trim()&&(s=this.search(s,n.searchTerm).map(i=>i.recipe)),n.categories.length>0&&(s=this.filterByCategories(s,n.categories)),n.difficulties.length>0&&(s=this.filterByDifficulties(s,n.difficulties)),n.ingredients.length>0&&(s=this.filterByIngredients(s,n.ingredients)),n.effects.length>0&&(s=this.filterByEffects(s,n.effects)),s=this.filterByEffectProperties(s,n.hasEffects,n.isComplex),s=this.filterByIngredientCount(s,n.minIngredientCount,n.maxIngredientCount),s=this.filterByMagnitude(s,n.minMagnitude,n.maxMagnitude),s}static getStatistics(t){const n=t.length,s=t.filter(j=>j.type==="food").length,r=t.filter(j=>j.type==="alcohol").length,i={};t.forEach(j=>{j.category&&(i[j.category]=(i[j.category]||0)+1)});const o={};t.forEach(j=>{o[j.difficulty]=(o[j.difficulty]||0)+1});const l={};t.forEach(j=>{j.effects.forEach(N=>{l[N.name]=(l[N.name]||0)+1})});const c=t.reduce((j,N)=>j+N.ingredientCount,0),u=t.reduce((j,N)=>j+N.effectCount,0),d=n>0?c/n:0,f=n>0?u/n:0,m=t.reduce((j,N)=>j+N.totalMagnitude,0),h=t.reduce((j,N)=>j+N.maxDuration,0),p=n>0?m/n:0,y=n>0?h/n:0,b={};t.forEach(j=>{j.ingredients.forEach(N=>{b[N]=(b[N]||0)+1})});const v=Object.entries(b).map(([j,N])=>({name:j,count:N})).sort((j,N)=>N.count-j.count).slice(0,10),x={};t.forEach(j=>{j.effects.forEach(N=>{x[N.name]=(x[N.name]||0)+1})});const w=Object.entries(x).map(([j,N])=>({name:j,count:N})).sort((j,N)=>N.count-j.count).slice(0,10);return{totalRecipes:n,foodRecipes:s,alcoholRecipes:r,recipesByCategory:i,recipesByDifficulty:o,recipesByEffect:l,averageIngredientCount:d,averageEffectCount:f,averageMagnitude:p,averageDuration:y,topEffects:w,topIngredients:v}}static getEffectComparisons(t,n){const s={};return n.forEach(r=>{r.effects.forEach(i=>{s[i.name]||(s[i.name]={magnitudeSum:0,durationSum:0,count:0}),s[i.name].magnitudeSum+=i.magnitude,s[i.name].durationSum+=i.duration,s[i.name].count+=1})}),t.effects.map(r=>{const i=s[r.name],o=i.count>0?i.magnitudeSum/i.count:0,l=i.count>0?i.durationSum/i.count:0,c=r.magnitude-o,u=r.duration-l;return{name:r.name,magnitude:{value:r.magnitude,mean:o,difference:c,percentage:o>0?c/o*100:0},duration:{value:r.duration,mean:l,difference:u,percentage:l>0?u/l*100:0}}})}}const ni=class ni{constructor(){ze(this,"cache",null);ze(this,"lastFetch",0);ze(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return ni.instance||(ni.instance=new ni),ni.instance}async loadRecipes(){var t;if(this.cache&&Date.now()-this.lastFetch<this.CACHE_DURATION)return this.cache;try{const n=en("data/cookbook-wiki.json"),s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch recipes: ${s.status} ${s.statusText}`);const r=await s.json(),i=[];if(r.food&&Array.isArray(r.food)?i.push(...r.food):r.food&&typeof r.food=="object"&&r.food.recipes&&Array.isArray(r.food.recipes)&&i.push(...r.food.recipes),r.alcohol&&Array.isArray(r.alcohol)?i.push(...r.alcohol):r.alcohol&&typeof r.alcohol=="object"&&r.alcohol.recipes&&Array.isArray(r.alcohol.recipes)&&i.push(...r.alcohol.recipes),i.length===0){const u=((t=r.food)==null?void 0:t.recipes)||r.recipes||r;Array.isArray(u)&&i.push(...u)}if(!Array.isArray(i)||i.length===0)throw new Error("RecipeDataProvider: No valid recipes found in data structure");const o=[];let l=0,c=0;for(const u of i)if(We.isValid(u)){const d=We.addComputedProperties(u);o.push(d),l++}else console.warn("RecipeDataProvider: Invalid recipe data:",u),c++;return this.cache=o,this.lastFetch=Date.now(),o}catch(n){throw n}}async getRecipeData(){const t=await this.loadRecipes(),n=We.getStatistics(t);return{recipes:t,totalCount:n.totalRecipes,categories:We.getUniqueCategories(t),effects:We.getUniqueEffects(t),ingredients:We.getUniqueIngredients(t),lastUpdated:new Date().toISOString()}}async getRecipeByName(t){return(await this.loadRecipes()).find(s=>s.name===t)||null}async getRecipesByCategory(t){const n=await this.loadRecipes();return We.filterByCategory(n,t)}async getRecipesByDifficulty(t){const n=await this.loadRecipes();return We.filterByDifficulty(n,t)}async getRecipesByIngredient(t){const n=await this.loadRecipes();return We.filterByIngredients(n,[t])}async getRecipesByEffect(t){const n=await this.loadRecipes();return We.filterByEffects(n,[t])}async searchRecipes(t){const n=await this.loadRecipes();return We.search(n,t).map(r=>r.recipe)}async getStatistics(){const t=await this.loadRecipes();return We.getStatistics(t)}clearCache(){this.cache=null,this.lastFetch=0}isCacheValid(){return this.cache!==null&&Date.now()-this.lastFetch<this.CACHE_DURATION}getCacheInfo(){var t;return{hasCache:this.cache!==null,cacheSize:((t=this.cache)==null?void 0:t.length)||0,lastFetch:this.lastFetch,isExpired:this.cache!==null&&Date.now()-this.lastFetch>=this.CACHE_DURATION,timeUntilExpiry:this.cache?Math.max(0,this.CACHE_DURATION-(Date.now()-this.lastFetch)):0}}};ze(ni,"instance");let ap=ni;const mr=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const r=await ap.getInstance().loadRecipes();e({data:r,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load recipes",loading:!1})}}},getById:n=>t().data.find(r=>r.name===n),getByName:n=>t().data.find(r=>r.name===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l,c,u,d,f;return i.name.toLowerCase().includes(r)||i.output.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.category)==null?void 0:l.toLowerCase().includes(r))||((c=i.difficulty)==null?void 0:c.toLowerCase().includes(r))||((u=i.tags)==null?void 0:u.some(m=>m.toLowerCase().includes(r)))||((d=i.ingredients)==null?void 0:d.some(m=>m.toLowerCase().includes(r)))||((f=i.effects)==null?void 0:f.some(m=>{var h;return m.name.toLowerCase().includes(r)||((h=m.description)==null?void 0:h.toLowerCase().includes(r))}))})},getByCategory:n=>t().data.filter(r=>r.category===n),getByDifficulty:n=>t().data.filter(r=>r.difficulty===n),getByIngredient:n=>t().data.filter(r=>r.ingredients.some(i=>i.toLowerCase().includes(n.toLowerCase()))),getByEffect:n=>t().data.filter(r=>r.effects.some(i=>i.name.toLowerCase().includes(n.toLowerCase())))})),t8=Object.freeze(Object.defineProperty({__proto__:null,useRecipesStore:mr},Symbol.toStringTag,{value:"Module"}));class qa{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.editorId=="string"&&typeof t.school=="string"&&typeof t.level=="string"&&typeof t.magickaCost=="number"&&Array.isArray(t.effects)}static equals(t,n){return t.editorId===n.editorId}static addComputedProperties(t){const n=t.effects.length>0,s=t.effects.length,r=t.effects.some(m=>m.area>0),i=t.effects.some(m=>m.duration>0),o=t.effects.every(m=>m.duration===0),l=t.effects.reduce((m,h)=>m+h.magnitude,0),c=Math.max(...t.effects.map(m=>m.duration),0),u=Math.max(...t.effects.map(m=>m.area),0),d=this.generateTags(t,{hasEffects:n,isAreaSpell:r,isDurationSpell:i,isInstantSpell:o}),f=this.createSearchableText(t,d);return{...t,hasEffects:n,effectCount:s,isAreaSpell:r,isDurationSpell:i,isInstantSpell:o,totalMagnitude:l,maxDuration:c,maxArea:u,tags:d,searchableText:f}}static generateTags(t,n){const s=[];return s.push(t.school),s.push(t.level),n.hasEffects&&s.push("Has Effects"),n.isAreaSpell&&s.push("Area Effect"),n.isDurationSpell&&s.push("Duration"),n.isInstantSpell&&s.push("Instant"),t.magickaCost===0?s.push("Free"):t.magickaCost<=50?s.push("Low Cost"):t.magickaCost<=150?s.push("Medium Cost"):s.push("High Cost"),t.effects.forEach(r=>{r.name.toLowerCase().includes("fire")&&s.push("Fire"),(r.name.toLowerCase().includes("frost")||r.name.toLowerCase().includes("ice"))&&s.push("Frost"),(r.name.toLowerCase().includes("shock")||r.name.toLowerCase().includes("lightning"))&&s.push("Shock"),(r.name.toLowerCase().includes("heal")||r.name.toLowerCase().includes("restore"))&&s.push("Healing"),(r.name.toLowerCase().includes("conjure")||r.name.toLowerCase().includes("summon"))&&s.push("Conjuration"),(r.name.toLowerCase().includes("fear")||r.name.toLowerCase().includes("calm"))&&s.push("Illusion"),(r.name.toLowerCase().includes("paralyze")||r.name.toLowerCase().includes("slow"))&&s.push("Control")}),[...new Set(s)]}static createSearchableText(t,n){return[t.name,t.school,t.level,t.description,...n,...t.effects.map(r=>r.name),...t.effects.map(r=>r.description)].join(" ").toLowerCase()}static filterBySchool(t,n){return t.filter(s=>s.school===n)}static filterByLevel(t,n){return t.filter(s=>s.level===n)}static filterBySchools(t,n){return n.length===0?t:t.filter(s=>n.includes(s.school))}static filterByLevels(t,n){return n.length===0?t:t.filter(s=>n.includes(s.level))}static filterByMagickaCost(t,n,s){return t.filter(r=>!(n!==null&&r.magickaCost<n||s!==null&&r.magickaCost>s))}static filterByMagnitude(t,n,s){return t.filter(r=>!(n!==null&&r.totalMagnitude<n||s!==null&&r.totalMagnitude>s))}static filterByEffectProperties(t,n,s,r){return t.filter(i=>!(n!==null&&i.hasEffects!==n||s!==null&&i.isAreaSpell!==s||r!==null&&i.isDurationSpell!==r))}static search(t,n){if(!n.trim())return t.map(i=>({spell:i,score:1,matchedFields:[]}));const s=n.toLowerCase(),r=[];return t.forEach(i=>{let o=0;const l=[];i.name.toLowerCase()===s?(o+=100,l.push("name")):i.name.toLowerCase().includes(s)&&(o+=50,l.push("name")),i.school.toLowerCase()===s?(o+=30,l.push("school")):i.school.toLowerCase().includes(s)&&(o+=15,l.push("school")),i.level.toLowerCase()===s?(o+=25,l.push("level")):i.level.toLowerCase().includes(s)&&(o+=10,l.push("level")),i.description.toLowerCase().includes(s)&&(o+=5,l.push("description")),i.tags.forEach(c=>{c.toLowerCase().includes(s)&&(o+=3,l.push("tags"))}),i.effects.forEach(c=>{c.name.toLowerCase().includes(s)&&(o+=8,l.push("effects")),c.description.toLowerCase().includes(s)&&(o+=4,l.push("effects"))}),o>0&&r.push({spell:i,score:o,matchedFields:[...new Set(l)]})}),r.sort((i,o)=>o.score-i.score)}static sort(t,n,s="asc"){return[...t].sort((i,o)=>{let l=0;switch(n){case"name":l=i.name.localeCompare(o.name);break;case"school":l=i.school.localeCompare(o.school);break;case"level":l=this.compareLevels(i.level,o.level);break;case"magickaCost":l=i.magickaCost-o.magickaCost;break;case"magnitude":l=i.totalMagnitude-o.totalMagnitude;break;case"duration":l=i.maxDuration-o.maxDuration;break}return s==="desc"?-l:l})}static compareLevels(t,n){const s=["Novice","Apprentice","Adept","Expert","Master"],r=s.indexOf(t),i=s.indexOf(n);return r===-1&&i===-1?0:r===-1?1:i===-1?-1:r-i}static getUniqueSchools(t){return[...new Set(t.map(n=>n.school))].sort()}static getUniqueLevels(t){const n=[...new Set(t.map(s=>s.level))];return this.sortLevels(n)}static sortLevels(t){const n=["Novice","Apprentice","Adept","Expert","Master"];return t.sort((s,r)=>{const i=n.indexOf(s),o=n.indexOf(r);return i===-1&&o===-1?0:i===-1?1:o===-1?-1:i-o})}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static applyFilters(t,n){let s=[...t];return n.schools.length>0&&(s=this.filterBySchools(s,n.schools)),n.levels.length>0&&(s=this.filterByLevels(s,n.levels)),s=this.filterByEffectProperties(s,n.hasEffects,n.isAreaSpell,n.isDurationSpell),s=this.filterByMagickaCost(s,n.minMagickaCost,n.maxMagickaCost),s=this.filterByMagnitude(s,n.minMagnitude,n.maxMagnitude),n.searchTerm&&(s=this.search(s,n.searchTerm).map(i=>i.spell)),s}static getStatistics(t){const n=this.getUniqueSchools(t),s=this.getUniqueLevels(t),r=this.getUniqueTags(t),i=t.length,o=t.filter(m=>m.hasEffects).length,l=t.filter(m=>m.isAreaSpell).length,c=t.filter(m=>m.isDurationSpell).length,u=t.filter(m=>m.magickaCost===0).length,d=t.length>0?t.reduce((m,h)=>m+h.magickaCost,0)/t.length:0,f=t.length>0?t.reduce((m,h)=>m+h.totalMagnitude,0)/t.length:0;return{totalSpells:i,spellsWithEffects:o,areaSpells:l,durationSpells:c,freeSpells:u,avgMagickaCost:Math.round(d),avgMagnitude:Math.round(f),schools:n,levels:s,tags:r}}}const si=class si{constructor(){ze(this,"cache",null);ze(this,"lastFetch",0);ze(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return si.instance||(si.instance=new si),si.instance}async loadSpells(){if(this.cache&&Date.now()-this.lastFetch<this.CACHE_DURATION)return this.cache;try{const t=en("data/player_spells.json"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch spells: ${n.status} ${n.statusText}`);const s=await n.json(),r=[];let i=0,o=0;for(const l of s)if(qa.isValid(l)){const c=qa.addComputedProperties(l);r.push(c),i++}else console.warn("SpellDataProvider: Invalid spell data:",l),o++;return this.cache=r,this.lastFetch=Date.now(),r}catch(t){throw console.error("SpellDataProvider: Error loading spells:",t),t}}async getSpellData(){const t=await this.loadSpells(),n=qa.getStatistics(t);return{spells:t,totalCount:n.totalSpells,schools:n.schools,levels:n.levels,lastUpdated:new Date().toISOString()}}async getSpellByEditorId(t){return(await this.loadSpells()).find(s=>s.editorId===t)||null}async getSpellsBySchool(t){const n=await this.loadSpells();return qa.filterBySchool(n,t)}async getSpellsByLevel(t){const n=await this.loadSpells();return qa.filterByLevel(n,t)}async searchSpells(t){const n=await this.loadSpells();return qa.search(n,t).map(r=>r.spell)}async getStatistics(){const t=await this.loadSpells();return qa.getStatistics(t)}clearCache(){this.cache=null,this.lastFetch=0}isCacheValid(){return this.cache!==null&&Date.now()-this.lastFetch<this.CACHE_DURATION}getCacheInfo(){var t;return{hasCache:this.cache!==null,cacheSize:((t=this.cache)==null?void 0:t.length)||0,lastFetch:this.lastFetch,isValid:this.isCacheValid()}}};ze(si,"instance");let hf=si;const n8=Object.freeze(Object.defineProperty({__proto__:null,SpellDataProvider:hf},Symbol.toStringTag,{value:"Module"})),uo=jn((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const r=await hf.getInstance().loadSpells();e({data:r,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load spells",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),getByEditorId:n=>t().data.find(r=>r.editorId===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l,c,u,d;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.school)==null?void 0:l.toLowerCase().includes(r))||((c=i.level)==null?void 0:c.toLowerCase().includes(r))||((u=i.tags)==null?void 0:u.some(f=>f.toLowerCase().includes(r)))||((d=i.effects)==null?void 0:d.some(f=>{var m;return f.name.toLowerCase().includes(r)||((m=f.description)==null?void 0:m.toLowerCase().includes(r))}))})},getBySchool:n=>t().data.filter(r=>r.school===n),getByLevel:n=>t().data.filter(r=>r.level===n)}));function s8(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(r))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(r,i)=>n.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>n.removeItem(r)}}const ip=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return ip(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return ip(s)(n)}}}},r8=(e,t)=>(n,s,r)=>{let i={storage:s8(()=>localStorage),partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},s,r);const d=()=>{const y=i.partialize({...s()});return u.setItem(i.name,{state:y,version:i.version})},f=r.setState;r.setState=(y,b)=>{f(y,b),d()};const m=e((...y)=>{n(...y),d()},s,r);r.getInitialState=()=>m;let h;const p=()=>{var y,b;if(!u)return;o=!1,l.forEach(x=>{var w;return x((w=s())!=null?w:m)});const v=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(y=s())!=null?y:m))||void 0;return ip(u.getItem.bind(u))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate){const w=i.migrate(x.state,x.version);return w instanceof Promise?w.then(j=>[!0,j]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var w;const[j,N]=x;if(h=i.merge(N,(w=s())!=null?w:m),n(h,!0),j)return d()}).then(()=>{v==null||v(h,void 0),h=s(),o=!0,c.forEach(x=>x(h))}).catch(x=>{v==null||v(void 0,x)})};return r.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||p(),h||m},a8=r8,Ze={FUZZY_SEARCH:"Fuzzy Search",SEARCH_ALL:"Search All",CATEGORIES:"Categories",TYPES:"Types"},zk=jn()(a8((e,t)=>({activeFilters:{types:[],categories:[],tags:[]},selectedTags:[],viewMode:"grid",lastSearchQuery:"",setActiveFilters:n=>{e({activeFilters:n})},updateActiveFilters:n=>{e(s=>({activeFilters:{...s.activeFilters,...n}}))},addTag:n=>{e(s=>{if(s.selectedTags.some(l=>l.value===n.value&&l.category===n.category))return s;const i=[...s.selectedTags,n];let o={...s.activeFilters};return n.category===Ze.TYPES?o.types=[...o.types,n.value]:n.category===Ze.CATEGORIES?o.categories=[...o.categories,n.value]:(n.category===Ze.FUZZY_SEARCH||n.category===Ze.SEARCH_ALL)&&(o.tags=[...o.tags,n.value]),{selectedTags:i,activeFilters:o}})},removeTag:n=>{e(s=>{const r=s.selectedTags.find(l=>l.id===n);if(!r)return s;const i=s.selectedTags.filter(l=>l.id!==n);let o={...s.activeFilters};return r.category===Ze.TYPES?o.types=o.types.filter(l=>l!==r.value):r.category===Ze.CATEGORIES?o.categories=o.categories.filter(l=>l!==r.value):(r.category===Ze.FUZZY_SEARCH||r.category===Ze.SEARCH_ALL)&&(o.tags=o.tags.filter(l=>l!==r.value)),{selectedTags:i,activeFilters:o}})},removeTagByValue:(n,s)=>{e(r=>{const i=r.selectedTags.filter(l=>!(l.value===n&&(!s||l.category===s)));let o={...r.activeFilters};return s===Ze.TYPES?o.types=o.types.filter(l=>l!==n):s===Ze.CATEGORIES?o.categories=o.categories.filter(l=>l!==n):(s===Ze.FUZZY_SEARCH||s===Ze.SEARCH_ALL)&&(o.tags=o.tags.filter(l=>l!==n)),{selectedTags:i,activeFilters:o}})},clearAllTags:()=>{e({selectedTags:[],activeFilters:{types:[],categories:[],tags:[]}})},setTags:n=>{e(s=>{let r={types:[],categories:[],tags:[]};return n.forEach(i=>{i.category===Ze.TYPES?r.types.push(i.value):i.category===Ze.CATEGORIES?r.categories.push(i.value):(i.category===Ze.FUZZY_SEARCH||i.category===Ze.SEARCH_ALL)&&r.tags.push(i.value)}),{selectedTags:n,activeFilters:r}})},addTags:n=>{e(s=>{const r=new Set(s.selectedTags.map(c=>`${c.value}-${c.category}`)),i=n.filter(c=>!r.has(`${c.value}-${c.category}`));if(i.length===0)return s;const o=[...s.selectedTags,...i];let l={...s.activeFilters};return i.forEach(c=>{c.category===Ze.TYPES?l.types.push(c.value):c.category===Ze.CATEGORIES?l.categories.push(c.value):(c.category===Ze.FUZZY_SEARCH||c.category===Ze.SEARCH_ALL)&&l.tags.push(c.value)}),{selectedTags:o,activeFilters:l}})},setViewMode:n=>{e({viewMode:n})},setLastSearchQuery:n=>{e({lastSearchQuery:n})},clearLastSearchQuery:()=>{e({lastSearchQuery:""})},hasTag:(n,s)=>t().selectedTags.some(i=>i.value===n&&(!s||i.category===s)),getTagsByCategory:n=>t().selectedTags.filter(r=>r.category===n),getFuzzySearchTags:()=>t().selectedTags.filter(s=>s.category===Ze.FUZZY_SEARCH||s.category===Ze.SEARCH_ALL),getFilterTags:()=>t().selectedTags.filter(s=>s.category!==Ze.FUZZY_SEARCH&&s.category!==Ze.SEARCH_ALL),clearAllSearchState:()=>{e({activeFilters:{types:[],categories:[],tags:[]},selectedTags:[],viewMode:"grid",lastSearchQuery:""})}}),{name:"global-search-storage",partialize:e=>({activeFilters:e.activeFilters,selectedTags:e.selectedTags,viewMode:e.viewMode,lastSearchQuery:e.lastSearchQuery})}));function i8(){const{data:e,loading:t,error:n}=Da();return{data:e.length>0?e:null,loading:t,error:n}}function o8(){const{data:e,loading:t,error:n}=$i();return{data:e.length>0?e:null,loading:t,error:n}}function Pk(){const{data:e,loading:t,error:n}=El();return{data:e,loading:t,error:n}}function l8(){const{data:e,loading:t,error:n}=i0();return{data:e,loading:t,error:n}}function c8(){const{data:e,loading:t,error:n}=Pi();return{data:e.length>0?e:null,loading:t,error:n}}function u8(){const{data:e,loading:t,error:n}=Cl();return{data:e.length>0?e:null,loading:t,error:n}}function D0(){const{data:e,loading:t,error:n}=zi();return{data:e.length>0?e:null,loading:t,error:n}}function d8({children:e,showLoadingIndicator:t=!1}){const[n,s]=g.useState(!0),[r,i]=g.useState(null),o=g.useRef(!1),l=Pi(x=>x.load),c=i0(x=>x.load),u=Cl(x=>x.load),d=zi(x=>x.load),f=bs(x=>x.load),m=mr(x=>x.load),h=El(x=>x.load),p=Da(x=>x.load),y=uo(x=>x.load),b=$i(x=>x.load),v=g.useCallback(async()=>{if(!o.current)try{s(!0),i(null),await Promise.all([l(),c(),u(),d(),f(),m(),h(),p(),y(),b()]),o.current=!0,s(!1)}catch(x){console.error("Failed to initialize data:",x),i(x instanceof Error?x.message:"Failed to initialize data"),s(!1)}},[l,c,u,d,f,m,h,p,y,b]);return g.useEffect(()=>{v()},[v]),n&&t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading data..."})]})}):r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-red-600 mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Failed to Load Data"}),a.jsx("p",{className:"text-sm",children:r})]}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):a.jsx(a.Fragment,{children:e})}function ge({children:e,className:t,expanded:n,onToggle:s,disableHover:r=!1,hideChevron:i=!1}){let o,l,c,u;P.Children.forEach(e,y=>{P.isValidElement(y)&&(y.type===ge.Header&&(o=y),y.type===ge.Summary&&(l=y),y.type===ge.Footer&&(c=y),y.type===ge.Details&&(u=y))});const[d,f]=g.useState(!1),m=n!==void 0?n:d,h=s||(()=>f(y=>!y)),p=r?"":"hover:shadow-md hover:scale-[1.02]";return a.jsxs("div",{className:I("rounded-lg border bg-background shadow-sm transition-all duration-200 flex flex-col",p,t),children:[o&&P.cloneElement(o,{onClick:h,expanded:m,hideChevron:i}),a.jsxs("div",{className:"flex-1",children:[l,m&&u]}),c]})}ge.Header=function({children:t,className:n,onClick:s,expanded:r,hideChevron:i=!1}){const o=()=>{s==null||s()};return a.jsxs("div",{className:I("flex items-center gap-3 px-4 py-3 bg-muted/30 cursor-pointer select-none hover:bg-muted/50 transition-colors duration-200 rounded-t-lg",r&&"bg-muted/50",n),onClick:o,tabIndex:0,role:"button","aria-expanded":r,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),o())},children:[t,!i&&a.jsx("span",{className:I("ml-auto transition-transform duration-200 text-muted-foreground",r?"rotate-180":""),children:a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:a.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};ge.Summary=function({children:t,className:n}){return a.jsx("div",{className:I("px-4 py-2 space-y-3",n),children:t})};ge.Footer=function({children:t,className:n}){return a.jsx("div",{className:I("px-4 py-2",n),children:t})};ge.Details=function({children:t,className:n}){return a.jsx("div",{className:I("px-4 py-4 space-y-4 bg-background rounded-b-lg",n),children:t})};const kb={Warrior:{background:"bg-red-200",text:"text-red-800",border:"border-red-300",hover:"hover:bg-red-300"},Mage:{background:"bg-blue-200",text:"text-blue-800",border:"border-blue-300",hover:"hover:bg-blue-300"},Thief:{background:"bg-green-200",text:"text-green-800",border:"border-green-300",hover:"hover:bg-green-300"},Serpent:{background:"bg-purple-200",text:"text-purple-800",border:"border-purple-300",hover:"hover:bg-purple-300"},Other:{background:"bg-yellow-200",text:"text-yellow-800",border:"border-yellow-300",hover:"hover:bg-yellow-300"}};function f8(e){return kb[e]||kb.Other}function m8({className:e="",threshold:t=300}){const[n,s]=g.useState(!1);g.useEffect(()=>{const i=()=>{window.pageYOffset>t?s(!0):s(!1)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[t]);const r=i=>{i.preventDefault(),i.stopPropagation(),window.scrollTo({top:0,behavior:"smooth"})};return n?a.jsx("div",{className:`fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 cursor-pointer ${e}`,onClick:i=>i.stopPropagation(),onMouseEnter:i=>i.stopPropagation(),onMouseLeave:i=>i.stopPropagation(),children:a.jsxs(U,{onClick:r,size:"default",variant:"outline",className:"flex items-center gap-2 shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out transform hover:scale-110 bg-skyrim-gold/90 hover:bg-skyrim-gold text-skyrim-dark border-skyrim-gold hover:border-skyrim-gold backdrop-blur supports-[backdrop-filter]:bg-skyrim-gold/80 hover:supports-[backdrop-filter]:bg-skyrim-gold/95 cursor-pointer",children:[a.jsx(Ec,{className:"h-5 w-5 transition-transform duration-300 ease-in-out group-hover:translate-y-[-2px]"}),"Back to top"]})}):null}const h8={race:{Human:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Elf:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Beast:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},religion:{Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Tribunal:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Ancestor:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},trait:{},destiny:{}},g8={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},p8="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function $k({category:e,categoryType:t,size:n="md",className:s}){const i=h8[t][e]||p8;return a.jsx(q,{variant:"outline",className:I(i,g8[n],"font-medium transition-colors",s),children:e})}const Cb={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16","2xl":"w-16 h-16","3xl":"w-24 h-24","4xl":"w-32 h-32"},x8={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl","2xl":"text-3xl","3xl":"text-3xl","4xl":"text-4xl"};function Mm({imgSrc:e,alt:t,size:n="md",className:s,imageClassName:r,showBorder:i=!1}){const[o,l]=P.useState(!1);return!e||o?a.jsx("div",{className:I("bg-white dark:bg-white text-black dark:text-black rounded-full flex items-center justify-center font-bold",Cb[n],s),children:a.jsx("span",{className:I(x8[n]),children:t.charAt(0)})}):a.jsxs("div",{className:I("rounded-full flex items-center justify-center relative","bg-white dark:bg-white",Cb[n],s),children:[i&&a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-black dark:border-white pointer-events-none"}),a.jsx("img",{src:e,alt:t,className:I(i?"w-3/4 h-3/4 object-contain":"w-full h-full object-contain",r),onError:()=>l(!0),loading:"lazy"})]})}function v8({isExpanded:e,onToggle:t,className:n,leftControls:s,header:r,collapsedContent:i,expandedContent:o,actionArea:l,children:c}){return c?a.jsx("div",{className:I("rounded-lg border bg-background shadow-sm transition-all",n),children:c}):a.jsxs("div",{className:I("rounded-lg border bg-background shadow-sm transition-all group",e?"ring-2 ring-skyrim-gold/60":"",n),children:[a.jsxs("div",{className:"flex items-start",children:[s&&a.jsx("div",{className:"mr-2 flex-shrink-0",children:s}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r&&a.jsx("div",{className:"flex-1 min-w-0",children:r}),a.jsxs("button",{type:"button",onClick:t,"aria-expanded":e,className:"ml-2 p-1 rounded hover:bg-muted/50 focus:outline-none focus:ring-2 focus:ring-skyrim-gold",tabIndex:0,children:[a.jsx("span",{className:"sr-only",children:e?"Collapse":"Expand"}),a.jsx("svg",{className:I("h-4 w-4 transition-transform",e?"rotate-90":""),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:a.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})}),l&&a.jsx("div",{className:"ml-2 flex-shrink-0",children:l})]}),i&&a.jsx("div",{className:"mt-2",children:i}),e&&o&&a.jsx("div",{className:"mt-4",children:o})]})}function vu({options:e,onSelect:t,placeholder:n="Search...",className:s="",disabled:r=!1,searchQuery:i,onSearchQueryChange:o,renderOption:l,emptyMessage:c="No options found",maxHeight:u="max-h-96",showClearButton:d=!0,showToggleButton:f=!0}){const[m,h]=g.useState(!1),[p,y]=g.useState(""),[b,v]=g.useState(-1),x=g.useRef(null),w=g.useRef(null),j=i??p,N=o??y;g.useEffect(()=>{const L=A=>{x.current&&!x.current.contains(A.target)&&(h(!1),v(-1))};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const k=L=>{N(L),h(!0),v(-1)},S=L=>{t(L),N(""),h(!1),v(-1)},E=L=>{L.key==="ArrowDown"?(L.preventDefault(),v(A=>Math.min(A+1,e.length-1))):L.key==="ArrowUp"?(L.preventDefault(),v(A=>Math.max(A-1,-1))):L.key==="Enter"?(L.preventDefault(),b>=0&&e[b]&&S(e[b])):L.key==="Escape"&&(h(!1),v(-1))},C=()=>{h(!0)},T=()=>{var L;N(""),(L=w.current)==null||L.focus()},_=()=>{var L;h(!m),m||(L=w.current)==null||L.focus()},O=(L,A)=>a.jsxs("div",{className:"flex items-center gap-3",children:[L.icon&&a.jsx("div",{className:"flex-shrink-0",children:L.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium truncate",children:L.label}),L.badge&&a.jsx("div",{className:"flex-shrink-0",children:L.badge})]}),L.description&&a.jsx(Me,{text:L.description,className:"text-sm text-muted-foreground line-clamp-2 mt-1"})]})]});return a.jsxs("div",{ref:x,className:I("relative",s),children:[a.jsxs("div",{className:"relative",children:[a.jsx(pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Ln,{ref:w,type:"text",placeholder:n,value:j,onChange:L=>k(L.target.value),onFocus:C,onKeyDown:E,className:"pl-10 pr-20",disabled:r}),d&&j&&a.jsx(U,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:T,disabled:r,children:a.jsx(He,{className:"h-4 w-4"})}),f&&a.jsx(U,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:_,disabled:r,children:a.jsx(Rt,{className:I("h-4 w-4 transition-transform",m&&"rotate-180")})})]}),m&&a.jsx("div",{className:I("absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",u),style:{zIndex:kt.AUTOCOMPLETE+10},children:a.jsx("div",{className:"p-2",children:e.length===0?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:c}):e.map((L,A)=>a.jsx("button",{onClick:()=>S(L),className:I("w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer",A===b?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"),disabled:r,children:l?l(L,A===b):O(L)},L.id))})})]})}function Ok(e="(max-width: 640px)"){const t=()=>typeof window>"u"||typeof window.matchMedia>"u"?!1:window.matchMedia(e).matches,[n,s]=g.useState(t);return g.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia>"u")return;const r=window.matchMedia(e),i=()=>s(r.matches);return s(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),n}function Hi({open:e,onOpenChange:t,title:n,description:s,side:r="right",className:i,mobileQuery:o="(max-width: 640px)",resetKey:l,children:c}){const u=Ok(o),d=g.useRef(null);g.useEffect(()=>{e&&d.current&&(d.current.scrollTop=0)},[e,u]),g.useEffect(()=>{e&&d.current&&(d.current.scrollTop=0)},[l]);const f=I("flex flex-col",u?"inset-0 top-0 left-0 right-0 bottom-0 h-[100dvh] max-h-[100dvh] w-[100vw] p-0 rounded-none border-0 overflow-hidden":"w-[450px] sm:w-[800px] lg:w-[800px] sm:!max-w-[800px] lg:!max-w-[800px] p-0 overflow-y-auto bg-background",i);return a.jsx(qo,{open:e,onOpenChange:t,children:a.jsxs(bi,{side:u?"bottom":r,className:f,children:[(n||s)&&a.jsx("div",{className:I("sticky top-0 z-10 bg-background border-b","p-4"),children:a.jsxs(Zo,{className:"p-0",children:[n&&a.jsx(Yo,{children:n}),s&&a.jsx(a0,{children:s})]})}),a.jsx("div",{ref:d,className:I("flex-1 overflow-y-auto overscroll-contain",u?"p-4":"p-6"),children:c})]})})}const y8={Warrior:"Warrior.svg",Lady:"Lady.svg",Lord:"Lord.svg",Steed:"Steed.svg",Mage:"Mage.svg",Apprentice:"Apprentice.svg",Atronach:"Atronach.svg",Ritual:"Ritual.svg",Thief:"Thief.svg",Lover:"Lover.svg",Shadow:"Shadow.svg",Tower:"Tower.svg",Serpent:"Serpent.svg"};function L0({birthsignName:e,size:t="md",className:n}){const s=y8[e],r=s?en(`assets/sign-avatar/${s}`):void 0;return a.jsxs("div",{className:"relative",children:[a.jsx(Mm,{imgSrc:r,alt:e,size:t,className:n,imageClassName:"scale-[160%]",showBorder:!1}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-black dark:border-white pointer-events-none z-10"})]})}function Ik(e){return e&&e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}function Bk(e){return e?Ik(e):""}function Fk(e){return e?Ik(e):""}function Rr(e){return Array.isArray?Array.isArray(e):Vk(e)==="[object Array]"}function b8(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function w8(e){return e==null?"":b8(e)}function Os(e){return typeof e=="string"}function Hk(e){return typeof e=="number"}function j8(e){return e===!0||e===!1||N8(e)&&Vk(e)=="[object Boolean]"}function Uk(e){return typeof e=="object"}function N8(e){return Uk(e)&&e!==null}function Mn(e){return e!=null}function Ph(e){return!e.trim().length}function Vk(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const S8="Incorrect 'index' type",k8=e=>`Invalid value for key ${e}`,C8=e=>`Pattern length exceeds max of ${e}.`,E8=e=>`Missing ${e} property in key`,T8=e=>`Property 'weight' in key '${e}' must be a positive integer`,Eb=Object.prototype.hasOwnProperty;class A8{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let r=Gk(s);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Gk(e){let t=null,n=null,s=null,r=1,i=null;if(Os(e)||Rr(e))s=e,t=Tb(e),n=op(e);else{if(!Eb.call(e,"name"))throw new Error(E8("name"));const o=e.name;if(s=o,Eb.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(T8(o));t=Tb(o),n=op(o),i=e.getFn}return{path:t,id:n,weight:r,src:s,getFn:i}}function Tb(e){return Rr(e)?e:e.split(".")}function op(e){return Rr(e)?e.join("."):e}function _8(e,t){let n=[],s=!1;const r=(i,o,l)=>{if(Mn(i))if(!o[l])n.push(i);else{let c=o[l];const u=i[c];if(!Mn(u))return;if(l===o.length-1&&(Os(u)||Hk(u)||j8(u)))n.push(w8(u));else if(Rr(u)){s=!0;for(let d=0,f=u.length;d<f;d+=1)r(u[d],o,l+1)}else o.length&&r(u,o,l+1)}};return r(e,Os(t)?t.split("."):t,0),s?n:n[0]}const M8={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},R8={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},D8={location:0,threshold:.6,distance:100},L8={useExtendedSearch:!1,getFn:_8,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var he={...R8,...M8,...D8,...L8};const z8=/[^ ]+/g;function P8(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(r){const i=r.match(z8).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),l=parseFloat(Math.round(o*s)/s);return n.set(i,l),l},clear(){n.clear()}}}class z0{constructor({getFn:t=he.getFn,fieldNormWeight:n=he.fieldNormWeight}={}){this.norm=P8(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Os(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Os(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Mn(t)||Ph(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((r,i)=>{let o=r.getFn?r.getFn(t):this.getFn(t,r.path);if(Mn(o)){if(Rr(o)){let l=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(Mn(d))if(Os(d)&&!Ph(d)){let f={v:d,i:u,n:this.norm.get(d)};l.push(f)}else Rr(d)&&d.forEach((f,m)=>{c.push({nestedArrIndex:m,value:f})})}s.$[i]=l}else if(Os(o)&&!Ph(o)){let l={v:o,n:this.norm.get(o)};s.$[i]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function qk(e,t,{getFn:n=he.getFn,fieldNormWeight:s=he.fieldNormWeight}={}){const r=new z0({getFn:n,fieldNormWeight:s});return r.setKeys(e.map(Gk)),r.setSources(t),r.create(),r}function $8(e,{getFn:t=he.getFn,fieldNormWeight:n=he.fieldNormWeight}={}){const{keys:s,records:r}=e,i=new z0({getFn:t,fieldNormWeight:n});return i.setKeys(s),i.setIndexRecords(r),i}function ed(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:r=he.distance,ignoreLocation:i=he.ignoreLocation}={}){const o=t/e.length;if(i)return o;const l=Math.abs(s-n);return r?o+l/r:l?1:o}function O8(e=[],t=he.minMatchCharLength){let n=[],s=-1,r=-1,i=0;for(let o=e.length;i<o;i+=1){let l=e[i];l&&s===-1?s=i:!l&&s!==-1&&(r=i-1,r-s+1>=t&&n.push([s,r]),s=-1)}return e[i-1]&&i-s>=t&&n.push([s,i-1]),n}const ei=32;function I8(e,t,n,{location:s=he.location,distance:r=he.distance,threshold:i=he.threshold,findAllMatches:o=he.findAllMatches,minMatchCharLength:l=he.minMatchCharLength,includeMatches:c=he.includeMatches,ignoreLocation:u=he.ignoreLocation}={}){if(t.length>ei)throw new Error(C8(ei));const d=t.length,f=e.length,m=Math.max(0,Math.min(s,f));let h=i,p=m;const y=l>1||c,b=y?Array(f):[];let v;for(;(v=e.indexOf(t,p))>-1;){let S=ed(t,{currentLocation:v,expectedLocation:m,distance:r,ignoreLocation:u});if(h=Math.min(S,h),p=v+d,y){let E=0;for(;E<d;)b[v+E]=1,E+=1}}p=-1;let x=[],w=1,j=d+f;const N=1<<d-1;for(let S=0;S<d;S+=1){let E=0,C=j;for(;E<C;)ed(t,{errors:S,currentLocation:m+C,expectedLocation:m,distance:r,ignoreLocation:u})<=h?E=C:j=C,C=Math.floor((j-E)/2+E);j=C;let T=Math.max(1,m-C+1),_=o?f:Math.min(m+C,f)+d,O=Array(_+2);O[_+1]=(1<<S)-1;for(let A=_;A>=T;A-=1){let $=A-1,D=n[e.charAt($)];if(y&&(b[$]=+!!D),O[A]=(O[A+1]<<1|1)&D,S&&(O[A]|=(x[A+1]|x[A])<<1|1|x[A+1]),O[A]&N&&(w=ed(t,{errors:S,currentLocation:$,expectedLocation:m,distance:r,ignoreLocation:u}),w<=h)){if(h=w,p=$,p<=m)break;T=Math.max(1,2*m-p)}}if(ed(t,{errors:S+1,currentLocation:m,expectedLocation:m,distance:r,ignoreLocation:u})>h)break;x=O}const k={isMatch:p>=0,score:Math.max(.001,w)};if(y){const S=O8(b,l);S.length?c&&(k.indices=S):k.isMatch=!1}return k}function B8(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<s-n-1}return t}const gf=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class Zk{constructor(t,{location:n=he.location,threshold:s=he.threshold,distance:r=he.distance,includeMatches:i=he.includeMatches,findAllMatches:o=he.findAllMatches,minMatchCharLength:l=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreDiacritics:u=he.ignoreDiacritics,ignoreLocation:d=he.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?gf(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(h,p)=>{this.chunks.push({pattern:h,alphabet:B8(h),startIndex:p})},m=this.pattern.length;if(m>ei){let h=0;const p=m%ei,y=m-p;for(;h<y;)f(this.pattern.substr(h,ei),h),h+=ei;if(p){const b=m-ei;f(this.pattern.substr(b),b)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:s,includeMatches:r}=this.options;if(t=n?t:t.toLowerCase(),t=s?gf(t):t,this.pattern===t){let y={isMatch:!0,score:0};return r&&(y.indices=[[0,t.length-1]]),y}const{location:i,distance:o,threshold:l,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],m=0,h=!1;this.chunks.forEach(({pattern:y,alphabet:b,startIndex:v})=>{const{isMatch:x,score:w,indices:j}=I8(t,y,b,{location:i+v,distance:o,threshold:l,findAllMatches:c,minMatchCharLength:u,includeMatches:r,ignoreLocation:d});x&&(h=!0),m+=w,x&&j&&(f=[...f,...j])});let p={isMatch:h,score:h?m/this.chunks.length:1};return h&&r&&(p.indices=f),p}}class Ba{constructor(t){this.pattern=t}static isMultiMatch(t){return Ab(t,this.multiRegex)}static isSingleMatch(t){return Ab(t,this.singleRegex)}search(){}}function Ab(e,t){const n=e.match(t);return n?n[1]:null}class F8 extends Ba{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class H8 extends Ba{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class U8 extends Ba{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class V8 extends Ba{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class G8 extends Ba{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class q8 extends Ba{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Yk extends Ba{constructor(t,{location:n=he.location,threshold:s=he.threshold,distance:r=he.distance,includeMatches:i=he.includeMatches,findAllMatches:o=he.findAllMatches,minMatchCharLength:l=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreDiacritics:u=he.ignoreDiacritics,ignoreLocation:d=he.ignoreLocation}={}){super(t),this._bitapSearch=new Zk(t,{location:n,threshold:s,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Xk extends Ba{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const r=[],i=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+i,r.push([s,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const lp=[F8,Xk,U8,V8,q8,G8,H8,Yk],_b=lp.length,Z8=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Y8="|";function X8(e,t={}){return e.split(Y8).map(n=>{let s=n.trim().split(Z8).filter(i=>i&&!!i.trim()),r=[];for(let i=0,o=s.length;i<o;i+=1){const l=s[i];let c=!1,u=-1;for(;!c&&++u<_b;){const d=lp[u];let f=d.isMultiMatch(l);f&&(r.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<_b;){const d=lp[u];let f=d.isSingleMatch(l);if(f){r.push(new d(f,t));break}}}return r})}const W8=new Set([Yk.type,Xk.type]);class K8{constructor(t,{isCaseSensitive:n=he.isCaseSensitive,ignoreDiacritics:s=he.ignoreDiacritics,includeMatches:r=he.includeMatches,minMatchCharLength:i=he.minMatchCharLength,ignoreLocation:o=he.ignoreLocation,findAllMatches:l=he.findAllMatches,location:c=he.location,threshold:u=he.threshold,distance:d=he.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:s,includeMatches:r,minMatchCharLength:i,findAllMatches:l,ignoreLocation:o,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=s?gf(t):t,this.pattern=t,this.query=X8(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r,ignoreDiacritics:i}=this.options;t=r?t:t.toLowerCase(),t=i?gf(t):t;let o=0,l=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];l.length=0,o=0;for(let m=0,h=f.length;m<h;m+=1){const p=f[m],{isMatch:y,indices:b,score:v}=p.search(t);if(y){if(o+=1,c+=v,s){const x=p.constructor.type;W8.has(x)?l=[...l,...b]:l.push(b)}}else{c=0,o=0,l.length=0;break}}if(o){let m={isMatch:!0,score:c/o};return s&&(m.indices=l),m}}return{isMatch:!1,score:1}}}const cp=[];function Q8(...e){cp.push(...e)}function up(e,t){for(let n=0,s=cp.length;n<s;n+=1){let r=cp[n];if(r.condition(e,t))return new r(e,t)}return new Zk(e,t)}const pf={AND:"$and",OR:"$or"},dp={PATH:"$path",PATTERN:"$val"},fp=e=>!!(e[pf.AND]||e[pf.OR]),J8=e=>!!e[dp.PATH],eB=e=>!Rr(e)&&Uk(e)&&!fp(e),Mb=e=>({[pf.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Wk(e,t,{auto:n=!0}={}){const s=r=>{let i=Object.keys(r);const o=J8(r);if(!o&&i.length>1&&!fp(r))return s(Mb(r));if(eB(r)){const c=o?r[dp.PATH]:i[0],u=o?r[dp.PATTERN]:r[c];if(!Os(u))throw new Error(k8(c));const d={keyId:op(c),pattern:u};return n&&(d.searcher=up(u,t)),d}let l={children:[],operator:i[0]};return i.forEach(c=>{const u=r[c];Rr(u)&&u.forEach(d=>{l.children.push(s(d))})}),l};return fp(e)||(e=Mb(e)),s(e)}function tB(e,{ignoreFieldNorm:t=he.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:r,norm:i,score:o})=>{const l=r?r.weight:null;s*=Math.pow(o===0&&l?Number.EPSILON:o,(l||1)*(t?1:i))}),n.score=s})}function nB(e,t){const n=e.matches;t.matches=[],Mn(n)&&n.forEach(s=>{if(!Mn(s.indices)||!s.indices.length)return;const{indices:r,value:i}=s;let o={indices:r,value:i};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),t.matches.push(o)})}function sB(e,t){t.score=e.score}function rB(e,t,{includeMatches:n=he.includeMatches,includeScore:s=he.includeScore}={}){const r=[];return n&&r.push(nB),s&&r.push(sB),e.map(i=>{const{idx:o}=i,l={item:t[o],refIndex:o};return r.length&&r.forEach(c=>{c(i,l)}),l})}class rn{constructor(t,n={},s){this.options={...he,...n},this.options.useExtendedSearch,this._keyStore=new A8(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof z0))throw new Error(S8);this._myIndex=n||qk(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Mn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,r=this._docs.length;s<r;s+=1){const i=this._docs[s];t(i,s)&&(this.removeAt(s),s-=1,r-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:l}=this.options;let c=Os(t)?Os(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return tB(c,{ignoreFieldNorm:l}),i&&c.sort(o),Hk(n)&&n>-1&&(c=c.slice(0,n)),rB(c,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(t){const n=up(t,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:i,i:o,n:l})=>{if(!Mn(i))return;const{isMatch:c,score:u,indices:d}=n.searchIn(i);c&&r.push({item:i,idx:o,matches:[{score:u,value:i,norm:l,indices:d}]})}),r}_searchLogical(t){const n=Wk(t,this.options),s=(l,c,u)=>{if(!l.children){const{keyId:f,searcher:m}=l,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:m});return h&&h.length?[{idx:u,item:c,matches:h}]:[]}const d=[];for(let f=0,m=l.children.length;f<m;f+=1){const h=l.children[f],p=s(h,c,u);if(p.length)d.push(...p);else if(l.operator===pf.AND)return[]}return d},r=this._myIndex.records,i={},o=[];return r.forEach(({$:l,i:c})=>{if(Mn(l)){let u=s(n,l,c);u.length&&(i[c]||(i[c]={idx:c,item:l,matches:[]},o.push(i[c])),u.forEach(({matches:d})=>{i[c].matches.push(...d)}))}}),o}_searchObjectList(t){const n=up(t,this.options),{keys:s,records:r}=this._myIndex,i=[];return r.forEach(({$:o,i:l})=>{if(!Mn(o))return;let c=[];s.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:o[d],searcher:n}))}),c.length&&i.push({idx:l,item:o,matches:c})}),i}_findMatches({key:t,value:n,searcher:s}){if(!Mn(n))return[];let r=[];if(Rr(n))n.forEach(({v:i,i:o,n:l})=>{if(!Mn(i))return;const{isMatch:c,score:u,indices:d}=s.searchIn(i);c&&r.push({score:u,key:t,value:i,idx:o,norm:l,indices:d})});else{const{v:i,n:o}=n,{isMatch:l,score:c,indices:u}=s.searchIn(i);l&&r.push({score:c,key:t,value:i,norm:o,indices:u})}return r}}rn.version="7.1.0";rn.createIndex=qk;rn.parseIndex=$8;rn.config=he;rn.parseQuery=Wk;Q8(K8);function Kk(e,t){const n=g.useMemo(()=>e.map(l=>{var c,u;return{id:l.name.toLowerCase().replace(/\s+/g,"-"),name:l.name,description:l.description,group:l.group,statModifications:l.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:l.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:l.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=l.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=l.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new rn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredBirthsigns:g.useMemo(()=>i.map(l=>l.item.originalBirthsign),[i]),searchResults:i,searchableBirthsigns:n}}function Rb({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:s=""}){const[r,i]=g.useState(""),{filteredBirthsigns:o}=Kk(e,r),l=g.useMemo(()=>o.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.group,icon:a.jsx(L0,{birthsignName:d.name,size:"md"}),badge:d.group&&a.jsx(q,{variant:"outline",className:I("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.group}),metadata:{originalBirthsign:d}})),[o]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>a.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&a.jsx("div",{className:"flex-shrink-0",children:d.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:d.label}),d.badge&&a.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&a.jsx(Me,{text:d.description,className:"text-sm text-muted-foreground line-clamp-2 mt-1"})]})]});return a.jsx(vu,{options:l,onSelect:c,placeholder:n,className:s,renderOption:u,emptyMessage:"No birthsigns found",searchQuery:r,onSearchQueryChange:i})}function xf({item:e,originalBirthsign:t,isExpanded:n=!1,onToggle:s,onClick:r,className:i,showViewAllButton:o=!1,showToggle:l=!0,viewAllButtonText:c="View All",viewAllButtonRoute:u="/birthsigns"}){var k,S,E;const d=tt(),f=()=>{d(u)},m=C=>{C.target.closest("[data-no-click]")||r==null||r()},h=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Birthsign";e!=null&&e.description||t!=null&&t.description;const p=(e==null?void 0:e.category)||(t==null?void 0:t.group)||"";e!=null&&e.effects;const y=(e==null?void 0:e.summary)||(t==null?void 0:t.description)||"",b=()=>{if(!(t!=null&&t.stat_modifications))return{health:0,magicka:0,stamina:0};const C={health:0,magicka:0,stamina:0};return t.stat_modifications.forEach(T=>{const _=T.type==="bonus"?T.value:-T.value;T.stat.toLowerCase().includes("health")?C.health+=_:T.stat.toLowerCase().includes("magicka")?C.magicka+=_:T.stat.toLowerCase().includes("stamina")&&(C.stamina+=_)}),C},v=()=>{if(!t)return[];const C=[];return t.powers&&C.push(...t.powers.map(T=>({name:T.name,type:"power"}))),t.conditional_effects&&C.push(...t.conditional_effects.map(T=>({name:T.stat,type:"conditional"}))),t.mastery_effects&&C.push(...t.mastery_effects.map(T=>({name:T.stat,type:"mastery"}))),C},x=C=>{const T=f8(C);return`${T.background} ${T.text} ${T.border}`},w=C=>{switch(C){case"health":return"bg-red-200 text-red-800 border-red-300";case"magicka":return"bg-blue-200 text-blue-800 border-blue-300";case"stamina":return"bg-green-200 text-green-800 border-green-300";default:return"bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30"}},j=b(),N=v();return a.jsxs("div",{className:I("rounded-lg border bg-background shadow-sm transition-all h-full flex flex-col",r&&"cursor-pointer hover:shadow-md hover:bg-accent/50 hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",i),onClick:r?m:void 0,children:[a.jsxs("div",{className:"flex items-start justify-between p-4 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(L0,{birthsignName:h,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(je,{className:"text-primary font-semibold",children:h}),a.jsxs("div",{className:"flex items-center gap-2",children:[p&&a.jsx("div",{className:`inline-flex items-center justify-center px-2 py-1 border rounded-full text-xs font-medium w-16 ${x(p)}`,children:p}),(j.health!==0||j.magicka!==0||j.stamina!==0)&&a.jsxs("div",{className:"flex gap-1",children:[j.health!==0&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 border rounded-full text-xs font-medium ${w("health")}`,children:[a.jsx(Ys,{className:"h-3 w-3"}),a.jsxs("span",{children:[j.health>0?"+":"",j.health]})]}),j.magicka!==0&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 border rounded-full text-xs font-medium ${w("magicka")}`,children:[a.jsx(ln,{className:"h-3 w-3"}),a.jsxs("span",{children:[j.magicka>0?"+":"",j.magicka]})]}),j.stamina!==0&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 border rounded-full text-xs font-medium ${w("stamina")}`,children:[a.jsx(at,{className:"h-3 w-3"}),a.jsxs("span",{children:[j.stamina>0?"+":"",j.stamina]})]})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[N.length>0&&a.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qe,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{children:[N.length," effects"]})]})}),o&&a.jsxs(U,{variant:"outline",size:"sm",onClick:f,className:"text-xs","data-no-click":!0,children:[a.jsx(Ma,{className:"h-3 w-3 mr-1"}),c]}),l&&a.jsx("div",{"data-no-click":!0,children:a.jsx(os,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"stone",itemName:h})})]})]}),a.jsxs("div",{className:"flex-1 px-4 pb-4 min-h-0",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{children:a.jsx(Me,{text:y})}),t&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(k=t.powers)==null?void 0:k.slice(0,3).map((C,T)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(qe,{className:"h-3 w-3"}),C.name]},T)),(S=t.conditional_effects)==null?void 0:S.slice(0,3).map((C,T)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-purple-200 text-purple-800 border border-purple-300 rounded-full text-xs font-medium",children:[a.jsx(at,{className:"h-3 w-3"}),C.stat]},`conditional-${T}`)),(E=t.mastery_effects)==null?void 0:E.slice(0,3).map((C,T)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-200 text-blue-800 border border-blue-300 rounded-full text-xs font-medium",children:[a.jsx(qe,{className:"h-3 w-3"}),C.stat]},`mastery-${T}`))]})]}),n&&t&&a.jsxs("div",{className:"space-y-4 mt-4",children:[t.stat_modifications&&t.stat_modifications.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(vn,{className:"text-lg font-medium text-foreground",children:"Stat Modifications"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.stat_modifications.map((C,T)=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:Bk(C.stat)}),a.jsxs("span",{className:I("font-bold",C.type==="bonus"?"text-green-600":"text-red-600"),children:[C.type==="bonus"?"+":"-",C.value,C.value_type==="percentage"?"%":""]})]},T))})]}),t.skill_bonuses&&t.skill_bonuses.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(vn,{className:"text-lg font-medium text-foreground",children:"Skill Bonuses"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.skill_bonuses.map((C,T)=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:Fk(C.stat)}),a.jsxs("span",{className:"font-bold text-green-600",children:["+",C.value,C.value_type==="percentage"?"%":""]})]},T))})]}),t.powers&&t.powers.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(vn,{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[a.jsx(ln,{className:"h-4 w-4 text-yellow-500"}),"Powers"]}),a.jsx("div",{className:"space-y-2",children:t.powers.map((C,T)=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(qe,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:C.name})]}),a.jsx(Me,{text:C.description}),(C.magnitude||C.duration)&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mt-2",children:[C.magnitude&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Magnitude:"})," ",C.magnitude]}),C.duration&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",C.duration,"s"]})]})]},T))})]}),t.conditional_effects&&t.conditional_effects.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(vn,{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4 text-purple-500"}),"Conditional Effects"]}),a.jsx("div",{className:"space-y-2",children:t.conditional_effects.map((C,T)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:"font-medium text-sm capitalize",children:C.stat})}),a.jsx(Me,{text:C.description}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Condition:"})," ",C.condition]})]},T))})]}),t.mastery_effects&&t.mastery_effects.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(vn,{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[a.jsx(qe,{className:"h-4 w-4 text-blue-500"}),"Mastery Effects"]}),a.jsx("div",{className:"space-y-2",children:t.mastery_effects.map((C,T)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(qe,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),a.jsx("div",{className:"text-sm font-medium capitalize",children:C.stat}),a.jsx(Me,{text:C.description}),C.condition&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Requirement:"})," ",C.condition]})]},T))})]})]})]})]})}function aB(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function iB(e){const t=e.flatMap(n=>[...n.stat_modifications.map(s=>s.stat),...n.skill_bonuses.map(s=>s.stat)]);return[...new Set(t)].sort()}var oB="Separator",Db="horizontal",lB=["horizontal","vertical"],Qk=g.forwardRef((e,t)=>{const{decorative:n,orientation:s=Db,...r}=e,i=cB(s)?s:Db,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(we.div,{"data-orientation":i,...l,...r,ref:t})});Qk.displayName=oB;function cB(e){return lB.includes(e)}var uB=Qk;function ti({className:e,orientation:t="horizontal",decorative:n=!0,...s}){return a.jsx(uB,{"data-slot":"separator",decorative:n,orientation:t,className:I("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}function dB({birthsign:e,title:t,maxDisplay:n,compact:s=!1,className:r}){var c,u,d,f;if(!e)return null;const i=e.powers.length>0,o=((c=e.conditional_effects)==null?void 0:c.length)>0,l=((u=e.mastery_effects)==null?void 0:u.length)>0;if(!i&&!o&&!l)return null;if(s){const m=[...e.powers.map(p=>({type:"power",data:p})),...((d=e.conditional_effects)==null?void 0:d.map(p=>({type:"conditional",data:p})))||[],...((f=e.mastery_effects)==null?void 0:f.map(p=>({type:"mastery",data:p})))||[]],h=n?m.slice(0,n):m;return a.jsxs("div",{className:I("flex flex-wrap gap-2",r),children:[h.map((p,y)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(qe,{className:"h-3 w-3"}),p.data.name||p.data.stat]},y)),n&&m.length>n&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted text-muted-foreground border rounded-full text-xs font-medium",children:["+",m.length-n," more"]})]})}return a.jsxs(ue,{className:I("border-muted/50",r),children:[t&&a.jsx(be,{className:"pb-3",children:a.jsx(_e,{className:"text-base",children:t})}),a.jsxs(fe,{className:"space-y-4",children:[i&&a.jsxs("div",{children:[a.jsxs(ha,{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(ln,{className:"h-4 w-4 text-yellow-500"}),"Powers"]}),a.jsx("div",{className:"space-y-2",children:e.powers.map((m,h)=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(qe,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:m.name})]}),a.jsx("div",{className:"border-t border-border my-2"}),a.jsx(Me,{text:m.description}),(m.magnitude||m.duration)&&a.jsxs("div",{className:"space-y-2 text-sm mt-2",children:[m.magnitude&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium min-w-[80px]",children:"Magnitude:"}),a.jsx("span",{children:m.magnitude})]}),m.duration&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium min-w-[80px]",children:"Duration:"}),a.jsxs("span",{children:[m.duration,"s"]})]})]})]},h))})]}),o&&a.jsxs("div",{children:[a.jsxs(ha,{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4 text-purple-500"}),"Conditional Effects"]}),a.jsx("div",{className:"space-y-2",children:e.conditional_effects.map((m,h)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(q,{variant:"outline",className:"text-xs bg-purple-200 text-purple-800 border-purple-300",children:"Conditional"}),a.jsx("span",{className:"font-medium text-sm capitalize",children:m.stat})]}),a.jsx(Me,{text:m.description}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Condition:"})," ",m.condition]})]},h))})]}),l&&a.jsxs("div",{children:[a.jsxs(ha,{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(qe,{className:"h-4 w-4 text-blue-500"}),"Mastery Effects"]}),a.jsx("div",{className:"space-y-2",children:e.mastery_effects.map((m,h)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(qe,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),a.jsx("div",{className:"border-t border-border my-2"}),a.jsx("div",{className:"text-sm font-medium capitalize",children:m.stat}),a.jsx(Me,{text:m.description}),m.condition&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Requirement:"})," ",m.condition]})]},h))})]})]})]})}function fB({birthsign:e,title:t="Stat Modifications",className:n}){const s=e.stat_modifications.length>0,r=e.skill_bonuses.length>0;return!s&&!r?null:a.jsxs(ue,{className:I("border-muted/50",n),children:[a.jsx(be,{className:"pb-3",children:a.jsx(_e,{className:"text-base",children:t})}),a.jsxs(fe,{className:"space-y-4",children:[s&&a.jsxs("div",{children:[a.jsx(ha,{className:"text-sm font-medium mb-2",children:"Attributes"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.stat_modifications.map((i,o)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize flex-1 min-w-0 mr-3",children:Bk(i.stat)}),a.jsxs(q,{variant:"outline",className:I("text-xs flex-shrink-0",i.type==="bonus"?"bg-green-200 text-green-800 border-green-300":"bg-red-200 text-red-800 border-red-300"),children:[i.type==="bonus"?"+":"-",i.value,i.value_type==="percentage"?"%":""]})]},o))})]}),r&&a.jsxs("div",{children:[a.jsx(ha,{className:"text-sm font-medium mb-2",children:"Skill Bonuses"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.skill_bonuses.map((i,o)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize flex-1 min-w-0 mr-3",children:Fk(i.stat)}),a.jsxs(q,{variant:"outline",className:"bg-blue-200 text-blue-800 border-blue-300 text-xs flex-shrink-0",children:["+",i.value,i.value_type==="percentage"?"%":""]})]},o))})]})]})]})}function mB({birthsign:e,isOpen:t,onOpenChange:n}){return e?a.jsx(Hi,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(L0,{birthsignName:e.name,size:"4xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(oa,{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"inline-flex items-center px-2 py-1 bg-skyrim-gold/10 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:e.group}),a.jsx(os,{itemId:e.edid,itemType:"stone",itemName:e.name})]}),a.jsx(Me,{text:e.description})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(fB,{birthsign:e}),a.jsx(ti,{}),a.jsx(dB,{birthsign:e,title:"Special Effects"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(je,{className:"text-lg font-semibold",children:"Game Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"EDID:"}),a.jsx("span",{className:"break-all",children:e.edid})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Form ID:"}),a.jsx("span",{className:"break-all",children:e.formid})]})]})]})]})]})}):null}var Rm="Collapsible",[hB,Jk]=Un(Rm),[gB,P0]=hB(Rm),eC=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:i,onOpenChange:o,...l}=e,[c,u]=Br({prop:s,defaultProp:r??!1,onChange:o,caller:Rm});return a.jsx(gB,{scope:n,disabled:i,contentId:kr(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:a.jsx(we.div,{"data-state":O0(c),"data-disabled":i?"":void 0,...l,ref:t})})});eC.displayName=Rm;var tC="CollapsibleTrigger",nC=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,r=P0(tC,n);return a.jsx(we.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":O0(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:t,onClick:se(e.onClick,r.onOpenToggle)})});nC.displayName=tC;var $0="CollapsibleContent",sC=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=P0($0,e.__scopeCollapsible);return a.jsx(tn,{present:n||r.open,children:({present:i})=>a.jsx(pB,{...s,ref:t,present:i})})});sC.displayName=$0;var pB=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:r,...i}=e,o=P0($0,n),[l,c]=g.useState(s),u=g.useRef(null),d=Ie(t,u),f=g.useRef(0),m=f.current,h=g.useRef(0),p=h.current,y=o.open||l,b=g.useRef(y),v=g.useRef(void 0);return g.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),qs(()=>{const x=u.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,h.current=w.width,b.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),c(s)}},[o.open,s]),a.jsx(we.div,{"data-state":O0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:y&&r})});function O0(e){return e?"open":"closed"}var xB=eC,vB=nC,yB=sC,Ss="Accordion",bB=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[I0,wB,jB]=l0(Ss),[Dm,Bne]=Un(Ss,[jB,Jk]),B0=Jk(),rC=P.forwardRef((e,t)=>{const{type:n,...s}=e,r=s,i=s;return a.jsx(I0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?a.jsx(CB,{...i,ref:t}):a.jsx(kB,{...r,ref:t})})});rC.displayName=Ss;var[aC,NB]=Dm(Ss),[iC,SB]=Dm(Ss,{collapsible:!1}),kB=P.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:i=!1,...o}=e,[l,c]=Br({prop:n,defaultProp:s??"",onChange:r,caller:Ss});return a.jsx(aC,{scope:e.__scopeAccordion,value:P.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:P.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(iC,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(oC,{...o,ref:t})})})}),CB=P.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...i}=e,[o,l]=Br({prop:n,defaultProp:s??[],onChange:r,caller:Ss}),c=P.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=P.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return a.jsx(aC,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(iC,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(oC,{...i,ref:t})})})}),[EB,Lm]=Dm(Ss),oC=P.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:r,orientation:i="vertical",...o}=e,l=P.useRef(null),c=Ie(l,t),u=wB(n),f=mu(r)==="ltr",m=se(e.onKeyDown,h=>{var E;if(!bB.includes(h.key))return;const p=h.target,y=u().filter(C=>{var T;return!((T=C.ref.current)!=null&&T.disabled)}),b=y.findIndex(C=>C.ref.current===p),v=y.length;if(b===-1)return;h.preventDefault();let x=b;const w=0,j=v-1,N=()=>{x=b+1,x>j&&(x=w)},k=()=>{x=b-1,x<w&&(x=j)};switch(h.key){case"Home":x=w;break;case"End":x=j;break;case"ArrowRight":i==="horizontal"&&(f?N():k());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?k():N());break;case"ArrowUp":i==="vertical"&&k();break}const S=x%v;(E=y[S].ref.current)==null||E.focus()});return a.jsx(EB,{scope:n,disabled:s,direction:r,orientation:i,children:a.jsx(I0.Slot,{scope:n,children:a.jsx(we.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),vf="AccordionItem",[TB,F0]=Dm(vf),lC=P.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...r}=e,i=Lm(vf,n),o=NB(vf,n),l=B0(n),c=kr(),u=s&&o.value.includes(s)||!1,d=i.disabled||e.disabled;return a.jsx(TB,{scope:n,open:u,disabled:d,triggerId:c,children:a.jsx(xB,{"data-orientation":i.orientation,"data-state":hC(u),...l,...r,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(s):o.onItemClose(s)}})})});lC.displayName=vf;var cC="AccordionHeader",uC=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=Lm(Ss,n),i=F0(cC,n);return a.jsx(we.h3,{"data-orientation":r.orientation,"data-state":hC(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});uC.displayName=cC;var mp="AccordionTrigger",dC=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=Lm(Ss,n),i=F0(mp,n),o=SB(mp,n),l=B0(n);return a.jsx(I0.ItemSlot,{scope:n,children:a.jsx(vB,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":r.orientation,id:i.triggerId,...l,...s,ref:t})})});dC.displayName=mp;var fC="AccordionContent",mC=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=Lm(Ss,n),i=F0(fC,n),o=B0(n);return a.jsx(yB,{role:"region","aria-labelledby":i.triggerId,"data-orientation":r.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});mC.displayName=fC;function hC(e){return e?"open":"closed"}var AB=rC,_B=lC,MB=uC,gC=dC,pC=mC;const RB=AB,xC=g.forwardRef(({className:e,...t},n)=>a.jsx(_B,{ref:n,className:I("border-b",e),...t}));xC.displayName="AccordionItem";const vC=g.forwardRef(({className:e,children:t,...n},s)=>a.jsx(MB,{className:"flex",children:a.jsxs(gC,{ref:s,className:I("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(Rt,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));vC.displayName=gC.displayName;const yC=g.forwardRef(({className:e,children:t,...n},s)=>a.jsx(pC,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:I("pb-4 pt-0",e),children:t})}));yC.displayName=pC.displayName;var DB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LB="VisuallyHidden",bC=g.forwardRef((e,t)=>a.jsx(we.span,{...e,ref:t,style:{...DB,...e.style}}));bC.displayName=LB;var zB=bC,[zm,Fne]=Un("Tooltip",[_l]),H0=_l(),PB="TooltipProvider",Lb="tooltip.open",[Hne,wC]=zm(PB),jC="Tooltip",[Une,Pm]=zm(jC),hp="TooltipTrigger",$B=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Pm(hp,n),i=wC(hp,n),o=H0(n),l=g.useRef(null),c=Ie(t,l,r.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(y0,{asChild:!0,...o,children:a.jsx(we.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:se(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:se(e.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:se(e.onBlur,r.onClose),onClick:se(e.onClick,r.onClose)})})});$B.displayName=hp;var OB="TooltipPortal",[Vne,IB]=zm(OB,{forceMount:void 0}),Ko="TooltipContent",NC=g.forwardRef((e,t)=>{const n=IB(Ko,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=e,o=Pm(Ko,e.__scopeTooltip);return a.jsx(tn,{present:s||o.open,children:o.disableHoverableContent?a.jsx(SC,{side:r,...i,ref:t}):a.jsx(BB,{side:r,...i,ref:t})})}),BB=g.forwardRef((e,t)=>{const n=Pm(Ko,e.__scopeTooltip),s=wC(Ko,e.__scopeTooltip),r=g.useRef(null),i=Ie(t,r),[o,l]=g.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:f}=s,m=g.useCallback(()=>{l(null),f(!1)},[f]),h=g.useCallback((p,y)=>{const b=p.currentTarget,v={x:p.clientX,y:p.clientY},x=GB(v,b.getBoundingClientRect()),w=qB(v,x),j=ZB(y.getBoundingClientRect()),N=XB([...w,...j]);l(N),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&d){const p=b=>h(b,d),y=b=>h(b,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",y)}}},[c,d,h,m]),g.useEffect(()=>{if(o){const p=y=>{const b=y.target,v={x:y.clientX,y:y.clientY},x=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!YB(v,o);x?m():w&&(m(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,o,u,m]),a.jsx(SC,{...e,ref:i})}),[FB,HB]=zm(jC,{isInside:!1}),UB=pL("TooltipContent"),SC=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Pm(Ko,n),u=H0(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(Lb,d),()=>document.removeEventListener(Lb,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(b0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(UB,{children:s}),a.jsx(FB,{scope:n,isInside:!0,children:a.jsx(zB,{id:c.contentId,role:"tooltip",children:r||s})})]})})});NC.displayName=Ko;var kC="TooltipArrow",VB=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=H0(n);return HB(kC,n).isInside?null:a.jsx(w0,{...r,...s,ref:t})});VB.displayName=kC;function GB(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function qB(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function ZB(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function YB(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function XB(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),WB(t)}function WB(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var CC=NC;const KB=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(CC,{ref:s,sideOffset:t,className:I("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));KB.displayName=CC.displayName;function Wt({title:e,navigateTo:t,onNavigate:n,children:s,className:r,showHeaderButton:i=!0}){return a.jsxs(ue,{className:r,children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_e,{className:"text-lg",children:e}),i&&a.jsxs(U,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," "]})]})}),a.jsx(fe,{className:"space-y-4",children:s})]})}function EC(e){var t,n,s,r,i,o;return{id:`religion-${e.name.toLowerCase().replace(/\s+/g,"-")}`,name:e.name,description:((t=e.tenet)==null?void 0:t.description)||"",tags:zn()?e.favoredRaces||[]:[],summary:((n=e.tenet)==null?void 0:n.description)||"",effects:[...((r=(s=e.tenet)==null?void 0:s.effects)==null?void 0:r.map(l=>({type:"positive",name:l.effectName,description:l.effectDescription,value:l.magnitude,target:l.targetAttribute||""})))||[],...((o=(i=e.blessing)==null?void 0:i.effects)==null?void 0:o.map(l=>({type:"positive",name:l.effectName,description:l.effectDescription,value:l.magnitude,target:l.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:e.type}}function zb(e){var t;return{...e,id:e.edid||e.name,name:e.name,description:e.description,tags:e.tags||[],summary:e.description,effects:[...((t=e.effects)==null?void 0:t.map(n=>({type:"positive",name:n.type,description:n.condition||n.type,value:n.value})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalTrait:e}}function TC(e){var s,r,i,o,l,c,u,d;const t=[...((s=e.stat_modifications)==null?void 0:s.map(f=>({type:f.type==="bonus"?"positive":"negative",name:`${f.stat} ${f.type==="bonus"?"+":"-"}${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} ${f.type==="bonus"?"increased":"decreased"} by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((r=e.skill_bonuses)==null?void 0:r.map(f=>({type:"positive",name:`${f.stat} +${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} skill increased by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((i=e.powers)==null?void 0:i.map(f=>({type:"positive",name:f.name,description:f.description,value:f.magnitude||0,target:"power"})))||[],...((o=e.conditional_effects)==null?void 0:o.map(f=>({type:"neutral",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[],...((l=e.mastery_effects)==null?void 0:l.map(f=>({type:"positive",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[]],n=[e.group,...((c=e.stat_modifications)==null?void 0:c.map(f=>f.stat))||[],...((u=e.skill_bonuses)==null?void 0:u.map(f=>f.stat))||[],...((d=e.powers)==null?void 0:d.map(f=>f.name))||[]].filter((f,m,h)=>h.indexOf(f)===m);return{...e,id:e.id||e.edid,name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.group,originalBirthsign:e}}function QB(e){var s;const t=[{type:"positive",name:e.name,description:e.description||"",value:0,target:"destiny"}],n=[...e.tags||[],...((s=e.prerequisites)==null?void 0:s.map(r=>`Requires: ${r}`))||[]].filter((r,i,o)=>o.indexOf(r)===i);return{...e,id:e.id||e.edid,name:e.name,description:e.description||"",tags:n,summary:e.description||"",effects:t,associatedItems:[],imageUrl:e.icon,category:"Destiny",originalDestinyNode:e}}function JB(){const{data:e,loading:t,error:n,load:s}=Pi();return{birthsigns:e,loading:t,error:n,refetch:s}}function AC({className:e}){const{birthsigns:t}=JB(),{build:n,setStone:s}=nt(),r=tt(),i=n.stone?t.find(u=>u.edid===n.stone):null,o=u=>{s(u.edid)},l=()=>{r("/birth-signs")};if(!i)return a.jsxs(Wt,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:l,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),a.jsx(Rb,{birthsigns:t,onSelect:o,placeholder:"Search for a birthsign...",className:"w-full"})]});const c=TC(i);return a.jsxs(Wt,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:l,className:e,children:[a.jsx(Rb,{birthsigns:t,onSelect:o,placeholder:`Birth Sign: Select a birthsign (${i.name})`,className:"w-full"}),a.jsx(xf,{item:c,originalBirthsign:i,isExpanded:!0,className:"border-0 shadow-none",showToggle:!1})]})}const eF={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function tF(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function nF(e){const[t,n]=g.useReducer(tF,eF),s=g.useMemo(()=>{const b=aB(e),v=iB(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:b.map(x=>({id:`group-${x}`,label:x,value:x,category:"Birthsign Groups",description:`Birthsigns from ${x} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:v.map(x=>({id:`stat-${x}`,label:x.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase()),value:x,category:"Stats & Skills",description:`Birthsigns that affect ${x}`}))}]},[e]),r=g.useMemo(()=>t.selectedTags.length===0?e:e.filter(b=>t.selectedTags.every(v=>{switch(v.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return b.group===v.value;case"Stats & Skills":return[...b.stat_modifications.map(w=>w.stat),...b.skill_bonuses.map(w=>w.stat)].some(w=>w===v.value);default:return!0}})),[e,t.selectedTags]),i=g.useMemo(()=>t.selectedTags.filter(b=>b.category==="Fuzzy Search").map(b=>b.value).join(" "),[t.selectedTags]),{filteredBirthsigns:o}=Kk(r,i),l=g.useMemo(()=>o.map(TC),[o]),c=g.useMemo(()=>[...l].sort((b,v)=>{var x,w;switch(t.sortBy){case"alphabetical":return b.name.localeCompare(v.name);case"group":{const j=S=>{switch(S){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},N=j(b.category),k=j(v.category);return N!==k?N-k:b.name.localeCompare(v.name)}case"power-count":{const j=((x=b.effects)==null?void 0:x.filter(k=>k.target==="power").length)||0,N=((w=v.effects)==null?void 0:w.filter(k=>k.target==="power").length)||0;return j!==N?N-j:b.name.localeCompare(v.name)}default:return 0}}),[l,t.sortBy]),u=g.useCallback(b=>{n({type:"ADD_TAG",payload:b})},[]),d=g.useCallback(b=>{n({type:"REMOVE_TAG",payload:b})},[]),f=g.useCallback(b=>{n({type:"SET_SORT",payload:b})},[]),m=g.useCallback(b=>{n({type:"SET_VIEW_MODE",payload:b})},[]),h=g.useCallback(b=>{n({type:"TOGGLE_EXPANDED",payload:b})},[]),p=g.useCallback(b=>{n({type:"EXPAND_ALL",payload:b})},[]),y=g.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:d,setSort:f,setViewMode:m,toggleExpanded:h,expandAll:p,collapseAll:y,searchCategories:s,fuzzySearchQuery:i,filteredBirthsigns:r,displayItems:l,sortedDisplayItems:c}}function sF(){const{data:e,loading:t,error:n}=c8(),s=e||[],{selectedTags:r,sortBy:i,viewMode:o,addTag:l,removeTag:c,setSort:u,setViewMode:d,searchCategories:f,sortedDisplayItems:m}=nF(s),[h,p]=g.useState(null),[y,b]=g.useState(!1),v=x=>{p(x),b(!0)};return t?a.jsx(Jt,{title:"Birthsigns",description:"Choose your birthsign",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("p",{children:"Loading birthsigns..."})})}):n?a.jsx(Jt,{title:"Birthsigns",description:"Choose your birthsign",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("p",{className:"text-red-500",children:["Error loading birthsigns: ",n]})})}):a.jsxs(Jt,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx(Ia,{categories:f,onSelect:x=>{let w;typeof x=="string"?w={id:`custom-${x}`,label:x,value:x,category:"Fuzzy Search"}:w={id:`${x.category}-${x.id}`,label:x.label,value:x.value,category:x.category},r.some(j=>j.value===w.value&&j.category===w.category)||l(w)},onCustomSearch:x=>{let w;typeof x=="string"?w={id:`custom-${x}`,label:x,value:x,category:"Fuzzy Search"}:w={id:`${x.category}-${x.id}`,label:x.label,value:x.value,category:x.category},r.some(j=>j.value===w.value&&j.category===w.category)||l(w)}})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(U,{variant:o==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),className:"flex items-center gap-2",children:[a.jsx(Di,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(U,{variant:o==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Bi,{children:[a.jsx(Fi,{asChild:!0,children:a.jsxs(U,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort:"," ",i==="alphabetical"?"A-Z":i==="group"?"Group":"Power Count",a.jsx(Rt,{className:"h-4 w-4"})]})}),a.jsxs(Oa,{align:"end",children:[a.jsx(on,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),a.jsx(on,{onClick:()=>u("group"),children:"By Group"}),a.jsx(on,{onClick:()=>u("power-count"),children:"By Power Count"})]})]})})]}),a.jsx("div",{className:"my-4",children:r.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>r.forEach(x=>c(x.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(He,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),r.map(x=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>c(x.id),title:"Click to remove",children:[x.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},x.id))]})}),o==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:m.map(x=>{const w=s.find(j=>j.id===x.id||j.edid===x.id);return w?a.jsx(xf,{originalBirthsign:w,className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(w)},x.id):null})}):a.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:m.map(x=>{const w=s.find(j=>j.id===x.id||j.edid===x.id);return w?a.jsx(xf,{originalBirthsign:w,className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(w)},x.id):null})}),m.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}),a.jsx(mB,{birthsign:h,isOpen:y,onOpenChange:b})]})}class _s{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.description=="string"&&Array.isArray(t.tags)&&Array.isArray(t.prerequisites)}static equals(t,n){return t.id===n.id}static hasTag(t,n){return t.tags.includes(n)}static hasAnyTag(t,n){return n.some(s=>this.hasTag(t,s))}static hasAllTags(t,n){return n.every(s=>this.hasTag(t,s))}static filterByTag(t,n){return t.filter(s=>this.hasTag(s,n))}static filterByAnyTag(t,n){return t.filter(s=>this.hasAnyTag(s,n))}static filterByAllTags(t,n){return t.filter(s=>this.hasAllTags(s,n))}static isRootNode(t){return t.prerequisites.length===0}static getRootNodes(t){return t.filter(n=>this.isRootNode(n))}static isLeafNode(t,n){return!n.some(s=>s.prerequisites.includes(t.edid))}static getLeafNodes(t){return t.filter(n=>this.isLeafNode(n,t))}static getNextNodes(t,n){return n.filter(s=>s.prerequisites.includes(t.edid))}static getPrerequisiteNodes(t,n){return n.filter(s=>t.prerequisites.includes(s.edid))}static search(t,n){const s=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s)||r.description.toLowerCase().includes(s)||r.tags.some(i=>i.toLowerCase().includes(s)))}static sortByName(t){return[...t].sort((n,s)=>n.name.localeCompare(s.name))}static sortByPrerequisites(t){return[...t].sort((n,s)=>n.prerequisites.length-s.prerequisites.length)}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static getUniquePrerequisites(t){const n=t.flatMap(s=>s.prerequisites);return[...new Set(n)].sort()}}function Fa(e={}){const{includePrerequisites:t=!1,includeNextNodes:n=!1,filterByTags:s=[],searchTerm:r="",sortBy:i="name"}=e,{data:o,loading:l,error:c,reload:u}=u8(),d=o||[],f=c,m=g.useMemo(()=>_s.getRootNodes(d),[d]),h=g.useMemo(()=>[],[d]),p=g.useMemo(()=>_s.getUniqueTags(d),[d]),y=g.useMemo(()=>{let C=[...d];return s.length>0&&(C=_s.filterByAnyTag(C,s)),r&&(C=_s.search(C,r)),i==="name"?C=_s.sortByName(C):i==="prerequisites"&&(C=_s.sortByPrerequisites(C)),C},[d,s,r,i]),b=C=>d.find(T=>T.id===C),v=C=>d.find(T=>T.edid===C);return{nodes:d,rootNodes:m,filteredNodes:y,isLoading:l,error:f,categories:h,tags:p,refresh:()=>{u()},getNodeById:b,getNodeByName:C=>d.find(T=>T.name===C),getNodeByEdid:v,getNextNodes:C=>{const T=v(C);return T?_s.getNextNodes(T,d):[]},getPrerequisiteNodes:C=>{const T=v(C);return T?_s.getPrerequisiteNodes(T,d):[]},filterByCategory:C=>[],filterByTag:C=>_s.filterByTag(d,C),searchNodes:C=>_s.search(d,C)}}function U0(e={}){const{initialPath:t=[],validatePath:n=!0}=e,[s,r]=g.useState(t),{nodes:i,rootNodes:o}=Fa(),l=g.useRef(t);g.useEffect(()=>{const j=l.current,N=t;JSON.stringify(j)!==JSON.stringify(N)&&(r(N),l.current=N)},[t]);const c=g.useMemo(()=>s.length>0?s[s.length-1]:null,[s]),u=g.useMemo(()=>s.length===0?o:i.filter(j=>j.prerequisites.length===0?!1:j.prerequisites.some(N=>s.some(k=>k.edid===N))),[s,i,o]),d=g.useMemo(()=>c?i.filter(j=>j.prerequisites.includes(c.edid)):o,[c,i,o]),f=g.useMemo(()=>c?i.filter(j=>c.prerequisites.includes(j.edid)):[],[c,i]),{isValidPath:m,pathErrors:h}=g.useMemo(()=>{if(!n||s.length===0)return{isValidPath:!0,pathErrors:[]};const j=[];for(let N=1;N<s.length;N++){const k=s[N],S=s.slice(0,N);!k.prerequisites.some(C=>S.some(T=>T.edid===C))&&k.prerequisites.length>0&&j.push(`${k.name} requires one of: ${k.prerequisites.join(", ")}`)}return{isValidPath:j.length===0,pathErrors:j}},[s,n]),p=g.useCallback(j=>{if(s.length>0){if(s[s.length-1],!j.prerequisites.some(k=>s.some(S=>S.edid===k))&&j.prerequisites.length>0)return!1}else if(j.prerequisites.length>0)return!1;return r(N=>[...N,j]),!0},[s]),y=g.useCallback(j=>{r(N=>N.slice(0,j+1))},[]),b=g.useCallback(j=>{r(j)},[]),v=g.useCallback(()=>{r([])},[]),x=g.useCallback(j=>{r(N=>N.slice(0,j+1))},[]),w=g.useCallback(()=>({startNode:s[0]||null,endNode:s[s.length-1]||null,totalNodes:s.length,pathString:s.map(j=>j.name).join("  ")}),[s]);return{currentPath:s,currentNode:c,availableNodes:u,rootNodes:o,isValidPath:m,pathErrors:h,addNodeToPath:p,removeNodeFromPath:y,setPath:b,clearPath:v,goToPathIndex:x,pathLength:s.length,isPathComplete:d.length===0,nextPossibleNodes:d,prerequisiteNodes:f,getPathSummary:w}}function $m(e={}){const{fromNode:t,maxDepth:n=10}=e,{nodes:s,rootNodes:r,isLoading:i,error:o}=Fa();return{possiblePaths:g.useMemo(()=>{if(i||o||!s.length)return[];const c=[],u=new Set,d=m=>s.filter(h=>h.prerequisites.includes(m)),f=(m,h=0)=>{if(h>=n)return;const p=m[m.length-1],y=d(p.edid);if(y.length===0){c.push({path:[...m],isComplete:!0,endNode:p});return}y.forEach(b=>{const v=m.map(x=>x.id).join("->")+"->"+b.id;u.has(v)||(u.add(v),f([...m,b],h+1))})};if(t){if(d(t.edid).length===0)return[];f([t])}else r.forEach(m=>{f([m])});return c},[s,r,t,n,i,o]),isLoading:i,error:o}}var $h,Om="HoverCard",[_C,Gne]=Un(Om,[_l]),Im=_l(),[rF,V0]=_C(Om),MC=e=>{const{__scopeHoverCard:t,children:n,open:s,defaultOpen:r,onOpenChange:i,openDelay:o=700,closeDelay:l=300}=e,c=Im(t),u=g.useRef(0),d=g.useRef(0),f=g.useRef(!1),m=g.useRef(!1),[h,p]=Br({prop:s,defaultProp:r??!1,onChange:i,caller:Om}),y=g.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>p(!0),o)},[o,p]),b=g.useCallback(()=>{clearTimeout(u.current),!f.current&&!m.current&&(d.current=window.setTimeout(()=>p(!1),l))},[l,p]),v=g.useCallback(()=>p(!1),[p]);return g.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),a.jsx(rF,{scope:t,open:h,onOpenChange:p,onOpen:y,onClose:b,onDismiss:v,hasSelectionRef:f,isPointerDownOnContentRef:m,children:a.jsx(C2,{...c,children:n})})};MC.displayName=Om;var RC="HoverCardTrigger",DC=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,r=V0(RC,n),i=Im(n);return a.jsx(y0,{asChild:!0,...i,children:a.jsx(we.a,{"data-state":r.open?"open":"closed",...s,ref:t,onPointerEnter:se(e.onPointerEnter,bf(r.onOpen)),onPointerLeave:se(e.onPointerLeave,bf(r.onClose)),onFocus:se(e.onFocus,r.onOpen),onBlur:se(e.onBlur,r.onClose),onTouchStart:se(e.onTouchStart,o=>o.preventDefault())})})});DC.displayName=RC;var aF="HoverCardPortal",[qne,iF]=_C(aF,{forceMount:void 0}),yf="HoverCardContent",LC=g.forwardRef((e,t)=>{const n=iF(yf,e.__scopeHoverCard),{forceMount:s=n.forceMount,...r}=e,i=V0(yf,e.__scopeHoverCard);return a.jsx(tn,{present:s||i.open,children:a.jsx(oF,{"data-state":i.open?"open":"closed",...r,onPointerEnter:se(e.onPointerEnter,bf(i.onOpen)),onPointerLeave:se(e.onPointerLeave,bf(i.onClose)),ref:t})})});LC.displayName=yf;var oF=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,...l}=e,c=V0(yf,n),u=Im(n),d=g.useRef(null),f=Ie(t,d),[m,h]=g.useState(!1);return g.useEffect(()=>{if(m){const p=document.body;return $h=p.style.userSelect||p.style.webkitUserSelect,p.style.userSelect="none",p.style.webkitUserSelect="none",()=>{p.style.userSelect=$h,p.style.webkitUserSelect=$h}}},[m]),g.useEffect(()=>{if(d.current){const p=()=>{h(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",p),()=>{document.removeEventListener("pointerup",p),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),g.useEffect(()=>{d.current&&uF(d.current).forEach(y=>y.setAttribute("tabindex","-1"))}),a.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:se(i,p=>{p.preventDefault()}),onDismiss:c.onDismiss,children:a.jsx(b0,{...u,...l,onPointerDown:se(l.onPointerDown,p=>{p.currentTarget.contains(p.target)&&h(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...l.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),lF="HoverCardArrow",cF=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,r=Im(n);return a.jsx(w0,{...r,...s,ref:t})});cF.displayName=lF;function bf(e){return t=>t.pointerType==="touch"?void 0:e()}function uF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var dF=MC,fF=DC,zC=LC;const PC=dF,$C=fF,G0=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},r)=>a.jsx(zC,{ref:r,align:t,sideOffset:n,className:I("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:kt.TOOLTIP},...s}));G0.displayName=zC.displayName;function mF({node:e,allNodes:t,children:n,showPrerequisites:s=!0,showNextNodes:r=!0,showTags:i=!0,className:o=""}){const l=u=>t.filter(d=>d.prerequisites.includes(u)),c=u=>t.filter(d=>e.prerequisites.includes(d.name));return a.jsxs(PC,{children:[a.jsx($C,{asChild:!0,children:n}),a.jsx(G0,{className:`w-80 p-0 ${o}`,children:a.jsxs(ue,{className:"border-0 shadow-none",children:[a.jsx(be,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:e.name})}),e.icon&&a.jsx("div",{className:"w-8 h-8 ml-2",children:a.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-contain"})})]})}),a.jsxs(fe,{className:"pt-0 space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),s&&e.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[c(e.name).map(u=>a.jsx(q,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:u.name},u.id)),e.prerequisites.filter(u=>!t.some(d=>d.name===u)).map((u,d)=>a.jsx(q,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500 border-gray-200",children:u},`missing-${d}`))]})]}),r&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Leads to:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[l(e.name).map(u=>a.jsx(q,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:u.name},u.id)),l(e.name).length===0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"No further progression"})]})]}),i&&e.tags.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((u,d)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:u},d))})]}),a.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[a.jsxs("p",{children:["ID: ",e.id]}),e.globalFormId&&a.jsxs("p",{children:["Form ID: ",e.globalFormId]})]})]})]})})]})}function OC({node:e,allNodes:t,variant:n="default",size:s="md",showHoverCard:r=!0,onClick:i,className:o=""}){const l={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},c=a.jsx(q,{variant:n,className:`
        ${l[s]} 
        ${i?"cursor-pointer hover:bg-muted/50":""} 
        ${o}
        rounded-full
      `,onClick:i,children:e.name});return r?a.jsx(mF,{node:e,allNodes:t,children:c}):c}function IC({path:e,allNodes:t,onBreadcrumbClick:n,variant:s="default",className:r=""}){if(e.length===0)return a.jsx("div",{className:`flex items-center gap-2 ${r}`,children:a.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})});const i=s==="compact"?"sm":"md";return a.jsx("div",{className:`flex items-center gap-2 ${r}`,children:e.map((o,l)=>a.jsxs(P.Fragment,{children:[a.jsx(OC,{node:o,allNodes:t,variant:l===e.length-1?"default":"outline",size:i,showHoverCard:!0,onClick:n?()=>n(l):void 0}),l<e.length-1&&a.jsx(yl,{className:"w-4 h-4 text-muted-foreground"})]},o.id))})}function hF({path:e,allNodes:t,selectedPathLength:n,isComplete:s,endNode:r,onPathClick:i,variant:o="default",className:l=""}){const c=o==="compact"?"sm":"md";return a.jsxs("div",{className:`p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer ${l}`,onClick:()=>i(e,n),children:[a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsx("div",{className:"flex flex-wrap items-center gap-1",children:e.map((u,d)=>a.jsxs(P.Fragment,{children:[a.jsx(OC,{node:u,allNodes:t,variant:"outline",size:c,showHoverCard:!0,onClick:f=>{f==null||f.stopPropagation(),i(e,d)},className:`
                   ${d===0&&n===0?"cursor-pointer":""}
                   ${s&&d===e.length-1?"bg-yellow-600 text-yellow-50 border-yellow-700":""}
                 `}),d<e.length-1&&a.jsx(yl,{className:"w-3 h-3 text-muted-foreground"})]},u.id))})}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Length: ",e.length," steps"]}),s&&a.jsxs("span",{children:[" Ends at: ",r.name]}),e.length>n&&a.jsxs("span",{children:[" ",e.length-n," more choices"]})]})]})}function gp({possiblePaths:e,selectedPathLength:t,onPathClick:n,variant:s="default",className:r=""}){const{nodes:i}=Fa();return e.length===0?a.jsxs("div",{className:`text-center py-8 ${r}`,children:[a.jsx("p",{className:"text-muted-foreground",children:"No possible paths available."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You may have reached the end of available destiny paths."})]}):a.jsx("div",{className:`space-y-3 ${r}`,children:e.map((o,l)=>a.jsx(hF,{path:o.path,allNodes:i,selectedPathLength:t,isComplete:o.isComplete,endNode:o.endNode,onPathClick:n,variant:s},l))})}const BC=()=>{const{build:e,setDestinyPath:t}=nt(),n=tt(),s=w=>{const j=window.location.hash,[N,k]=j.split("?"),E=new URLSearchParams(k||"").get("b");n(E?`${w}?b=${E}`:w)},{nodes:r,isLoading:i,error:o}=Fa(),l=P.useMemo(()=>e.destinyPath.map(w=>r.find(j=>j.edid===w)).filter(w=>!!w),[e.destinyPath,r]),{isValidPath:c,pathErrors:u,setPath:d,clearPath:f,currentPath:m,currentNode:h}=U0({initialPath:l,validatePath:!0}),{possiblePaths:p}=$m({fromNode:h||void 0}),y=w=>{const j=w.map(N=>N.edid);t(j)},b=(w,j)=>{let N;if(m.length===0)N=w.slice(0,j+1);else{if(j===0)return;const k=w.slice(1,j+1);N=[...m,...k]}d(N),y(N)},v=()=>{f(),t([])},x=w=>{const j=m.slice(0,w+1);d(j),y(j)};return a.jsxs(ue,{className:"mb-6",children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(_e,{className:"text-lg",children:"Destiny"}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>s("/build/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:[a.jsx(Ma,{className:"w-4 h-4 mr-1"}),"View All"]})]})}),a.jsx(fe,{children:i?a.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):o?a.jsx("div",{className:"text-destructive",children:o}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Selected Path"}),a.jsx(IC,{path:m,allNodes:r,variant:"compact",onBreadcrumbClick:x})]}),m.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Path Details (",m.length," nodes)"]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:v,className:"text-xs",children:[a.jsx(Tr,{className:"w-3 h-3 mr-1"}),"Clear Path"]})]}),a.jsx("div",{className:"space-y-2",children:m.map((w,j)=>a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium flex-shrink-0",children:j+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h5",{className:"font-medium text-sm text-foreground",children:w.name}),w.description&&a.jsx(Me,{text:w.description,className:"text-xs text-muted-foreground mt-1",as:"p"})]})]})},w.id))})]}),p.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:m.length===0?"Choose Your Starting Point":"Continue Your Path"}),a.jsx(ji,{className:"h-[400px]",children:a.jsx("div",{className:"p-2",children:a.jsx(gp,{possiblePaths:p,selectedPathLength:m.length,onPathClick:b,variant:"compact"})})})]}),!c&&u.length>0&&a.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Ho,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),a.jsx("ul",{className:"space-y-0.5",children:u.map((w,j)=>a.jsxs("li",{children:[" ",w]},j))})]}),m.length===0&&p.length===0&&a.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[a.jsx("p",{className:"text-sm",children:"No destiny paths available"}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>s("/build/destiny"),className:"mt-2",children:"Browse All Destinies"})]})]})})]})};class bt{static getRaceById(t,n){return t.find(s=>s.edid===n)}static getRacesByCategory(t,n){return t.filter(s=>s.category===n)}static getUniqueCategories(t){return[...new Set(t.map(n=>n.category))]}static getUniqueTags(t){const n=t.flatMap(s=>[...s.keywords||[],...s.flags||[]]);return[...new Set(n)]}static filterByCategory(t,n){return n?t.filter(s=>s.category===n):t}static filterByTags(t,n){return n.length===0?t:t.filter(s=>n.some(r=>(s.keywords||[]).includes(r)||(s.flags||[]).includes(r)))}static filterByAnyTag(t,n){return n.length===0?t:t.filter(s=>n.some(r=>(s.keywords||[]).includes(r)||(s.flags||[]).includes(r)))}static search(t,n){if(!n.trim())return t;const s=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s)||(r.description||"").toLowerCase().includes(s)||(r.keywords||[]).some(i=>i.toLowerCase().includes(s))||(r.flags||[]).some(i=>i.toLowerCase().includes(s)))}static sortByName(t){return[...t].sort((n,s)=>n.name.localeCompare(s.name))}static sortByCategory(t){return[...t].sort((n,s)=>{const r=n.category.localeCompare(s.category);return r!==0?r:n.name.localeCompare(s.name)})}static transformToPlayerCreationItem(t){const n=[...t.keywords||[],...t.flags||[],t.category],s=[...(t.skillBonuses||[]).map(r=>({name:`${r.skill} +${r.bonus}`,type:"positive",description:`Provides ${r.bonus} bonus to ${r.skill}`,value:r.bonus,target:r.skill})),...(t.racialSpells||[]).map(r=>({name:r.name,type:"positive",description:r.description,target:"racial ability"}))];return{id:t.edid,name:t.name,description:t.description||"",tags:n,effects:s,associatedItems:[],imageUrl:void 0,category:t.category||""}}static getRelatedRaces(t,n){return n.filter(s=>s.edid!==t.edid&&s.category===t.category)}static calculateRaceStats(t){var n,s,r,i,o,l;return{totalHealth:((n=t.startingStats)==null?void 0:n.health)||0,totalMagicka:((s=t.startingStats)==null?void 0:s.magicka)||0,totalStamina:((r=t.startingStats)==null?void 0:r.stamina)||0,totalCarryWeight:((i=t.startingStats)==null?void 0:i.carryWeight)||0,skillBonusCount:((o=t.skillBonuses)==null?void 0:o.length)||0,racialSpellCount:((l=t.racialSpells)==null?void 0:l.length)||0}}static applyFilters(t,n){let s=[...t];return n.search&&(s=this.search(s,n.search)),n.type&&(s=this.filterByCategory(s,n.type)),n.tags.length>0&&(s=this.filterByTags(s,n.tags)),s}}class gF{static enrichRacesWithTags(t){t.forEach(n=>{})}static generateSearchCategories(t){const n=[...new Set(t.map(i=>i.category))],s=[...new Set(t.flatMap(i=>i.keywords.map(o=>o.edid)))],r=[...new Set(t.flatMap(i=>i.flags))];return[{id:"category",name:"Race Type",options:n},{id:"keywords",name:"Keywords",options:s},{id:"flags",name:"Flags",options:r}]}static validateRaceData(t){try{return!(!t.name||!t.edid||!t.category||!t.startingStats||typeof t.startingStats.health!="number"||typeof t.startingStats.magicka!="number"||typeof t.startingStats.stamina!="number"||typeof t.startingStats.carryWeight!="number"||!Array.isArray(t.skillBonuses)||!Array.isArray(t.racialSpells)||!Array.isArray(t.keywords)||!Array.isArray(t.flags))}catch{return!1}}static calculateRaceStats(t){const n=t.startingStats.health,s=t.startingStats.magicka,r=t.startingStats.stamina,i=t.startingStats.carryWeight,o=t.skillBonuses.length,l=t.racialSpells.length;return{totalHealth:n,totalMagicka:s,totalStamina:r,totalCarryWeight:i,skillBonusCount:o,racialSpellCount:l}}static calculatePowerLevel(t){const n=this.calculateRaceStats(t),s=(n.totalHealth+n.totalMagicka+n.totalStamina)/3,r=n.skillBonusCount*5+n.racialSpellCount*10;return Math.round(s+r)}static getDifficultyRating(t){const n=this.calculatePowerLevel(t);return n<50?1:n<70?2:n<90?3:n<110?4:5}static getPlaystyleSuggestions(t){const n=[],s=t.startingStats;return s.health>120&&(n.push("Tank"),n.push("Melee Fighter")),s.magicka>120&&(n.push("Mage"),n.push("Spellcaster")),s.stamina>120&&(n.push("Archer"),n.push("Rogue")),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("onehanded"))&&n.push("One-Handed Warrior"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("destruction"))&&n.push("Destruction Mage"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("sneak"))&&n.push("Stealth"),[...new Set(n)]}static formatRaceDescription(t){const n=this.calculateRaceStats(t),s=this.getPlaystyleSuggestions(t);let r=t.description;return s.length>0&&(r+=`

Recommended playstyles: ${s.join(", ")}`),r+=`

Starting Stats: Health ${n.totalHealth}, Magicka ${n.totalMagicka}, Stamina ${n.totalStamina}`,r+=`
Abilities: ${n.skillBonusCount} skill bonuses, ${n.racialSpellCount} racial spells`,r}}function Ml(e={}){const{includeRelated:t=!1,categoryFilter:n="",searchTerm:s="",sortBy:r="name"}=e,{data:i,loading:o,error:l}=bs(),c=g.useMemo(()=>bt.getUniqueCategories(i),[i]),u=g.useMemo(()=>bt.getUniqueTags(i),[i]),d=g.useMemo(()=>i.filter(x=>!(n&&x.category!==n||s&&bt.search([x],s).length===0)),[i,n,s]),f=g.useMemo(()=>r==="name"?bt.sortByName(d):bt.sortByCategory(d),[d,r]);return{races:i,filteredRaces:f,isLoading:o,error:l,categories:c,tags:u,refresh:async()=>{await bs.getState().load()},getRaceById:x=>bt.getRaceById(i,x),getRacesByCategory:x=>bt.getRacesByCategory(i,x),filterByCategory:x=>bt.filterByCategory(i,x),filterByTag:x=>bt.filterByTags(i,[x]),searchRaces:x=>bt.search(i,x)}}const pF={Altmer:"altmer.svg",Argonian:"argonian.svg",Bosmer:"woodelf.svg",Breton:"breton.svg",Dunmer:"dunmer.svg",Imperial:"imperial.svg",Khajiit:"khajit.svg",Nord:"nord.svg",Orsimer:"orc.svg",Redguard:"redguard.svg"};function Wn({raceName:e,size:t="md",className:n}){const s=pF[e],r=s?en(`assets/race-avatar/${s}`):void 0;return a.jsx(Mm,{imgSrc:r,alt:e,size:t,className:n})}function la({category:e,size:t="md",className:n}){return a.jsx($k,{category:e,categoryType:"race",size:t,className:n})}const xF={ability:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-200"},trait:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},flag:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"},skill:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"}},vF={sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1"};function yF(e){const t=e.toLowerCase();return["destruction","restoration","alteration","illusion","conjuration","light armor","heavy armor","one-handed","two-handed","archery","block","smithing","enchanting","alchemy","speechcraft","sneak","lockpicking","pickpocket"].some(n=>t.includes(n))?"skill":["waterbreathing","night eye","claws","histskin","dragonskin","magic resistance","voice of the emperor","battle cry"].some(n=>t.includes(n))?"ability":["strong stomach","beast race","bleeds","natural"].some(n=>t.includes(n))?"trait":"flag"}function Rs({keyword:e,type:t,size:n="sm",className:s}){const r=t||yF(e),i=xF[r];return a.jsx(q,{variant:"outline",className:I(i.bg,i.text,i.border,vF[n],"font-medium",s),children:e})}const bF={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",purple:"bg-purple-500",orange:"bg-orange-500"},wF={sm:"h-1.5",md:"h-2",lg:"h-3"};function hr({value:e,maxValue:t,label:n,color:s="blue",size:r="md",showValue:i=!0,className:o}){const l=Math.min(e/t*100,100);return a.jsxs("div",{className:I("space-y-1",o),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:n}),i&&a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})]}),a.jsx("div",{className:"w-full bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:I("transition-all duration-300 ease-out",bF[s],wF[r]),style:{width:`${l}%`}})})]})}function Qo({effects:e,title:t="Effects",className:n,maxDisplay:s,compact:r=!1,showDescriptions:i=!0}){if(!e||e.length===0)return null;const o=s?e.slice(0,s):e,l=s&&e.length>s;return a.jsxs("div",{className:I("space-y-3",n),children:[t&&a.jsx(vn,{className:"text-lg font-medium text-foreground",children:t}),r?a.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.map((c,u)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:c.description,children:[a.jsx(qe,{className:"h-3 w-3 text-yellow-500"}),a.jsx("span",{className:"font-medium",children:c.name})]},u)),l&&a.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded text-xs text-muted-foreground",children:["+",e.length-s," more"]})]}):a.jsxs("div",{className:"space-y-3",children:[o.map((c,u)=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-muted",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(qe,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h6",{className:"font-medium text-sm",children:c.name}),i&&c.description&&a.jsx(Me,{text:c.description,className:"text-xs text-muted-foreground mt-1 leading-relaxed"})]})]})},u)),l&&a.jsxs("div",{className:"text-center text-xs text-muted-foreground py-2",children:["+",e.length-s," more effects"]})]})]})}function yu({stats:e,regeneration:t,title:n="Stats",className:s,showRegeneration:r=!0,compact:i=!1}){return a.jsxs("div",{className:I("space-y-3",s),children:[a.jsx(vn,{className:"text-lg font-medium text-foreground",children:n}),i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Health"}),a.jsx("span",{className:"font-medium",children:e.health})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka"}),a.jsx("span",{className:"font-medium",children:e.magicka})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina"}),a.jsx("span",{className:"font-medium",children:e.stamina})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight"}),a.jsx("span",{className:"font-medium",children:e.carryWeight})]})]}),r&&t&&a.jsxs("div",{className:"space-y-2 mt-3",children:[a.jsx(vn,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Health"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Magicka"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Stamina"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]}),!i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(hr,{value:e.health,maxValue:200,label:"Health",color:"red",size:"sm"}),a.jsx(hr,{value:e.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),a.jsx(hr,{value:e.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),r&&t&&a.jsxs("div",{className:"space-y-2 mt-3",children:[a.jsx(vn,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Health"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Magicka"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Stamina"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]})]})}function bu({item:e,className:t,showToggle:n=!0,isExpanded:s=!1,onToggle:r,disableHover:i=!1}){const o=e.originalRace;return a.jsxs(ge,{className:t,expanded:s,onToggle:r,disableHover:i,children:[a.jsx(ge.Header,{children:a.jsxs("div",{className:"flex items-start justify-between w-full",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Wn,{raceName:e.name,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(je,{className:"text-primary font-semibold",children:e.name}),e.category&&a.jsx(q,{variant:"outline",className:I("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:n&&a.jsx(os,{itemId:(o==null?void 0:o.edid)||e.id,itemType:"race",itemName:e.name})})]})}),a.jsx(ge.Summary,{children:a.jsx("div",{className:"line-clamp-2",children:a.jsx(Me,{text:e.summary||e.description,className:"text-sm text-muted-foreground line-clamp-2"})})}),a.jsxs(ge.Details,{children:[a.jsx("div",{children:a.jsx(Me,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),(o==null?void 0:o.startingStats)&&a.jsx(yu,{stats:o.startingStats,regeneration:o.regeneration,title:"Starting Attributes",showRegeneration:!1,compact:!1}),(o==null?void 0:o.skillBonuses)&&o.skillBonuses.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Skills"}),a.jsx("div",{className:"space-y-2",children:o.skillBonuses.map((l,c)=>a.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium",children:[l.skill," +",l.bonus]}),a.jsx(q,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},c))})]}),(o==null?void 0:o.racialSpells)&&o.racialSpells.length>0&&a.jsx(Qo,{effects:o.racialSpells.map(l=>({name:l.name,description:l.description})),title:"Quirks",showDescriptions:!0})]})]})}function FC(e,t){const n=g.useMemo(()=>e.map(l=>({id:l.edid.toLowerCase().replace("race",""),name:l.name,description:l.description,category:l.category,abilities:l.racialSpells.map(c=>c.name),skills:l.skillBonuses.map(c=>c.skill),keywords:l.keywords.map(c=>c.edid),originalRace:l})),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new rn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredRaces:g.useMemo(()=>i.map(l=>l.item.originalRace),[i]),searchResults:i,searchableRaces:n}}function Jo({races:e,onSelect:t,placeholder:n="Search races...",className:s=""}){const[r,i]=g.useState(""),{filteredRaces:o}=FC(e,r),l=g.useMemo(()=>o.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.category,icon:a.jsx(Wn,{raceName:d.name,size:"sm"}),badge:d.category&&a.jsx(q,{variant:"outline",className:I("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.category}),metadata:{originalRace:d}})),[o]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>a.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&a.jsx("div",{className:"flex-shrink-0",children:d.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:d.label}),d.badge&&a.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&a.jsx(Me,{text:d.description,className:"text-sm text-muted-foreground line-clamp-2 mt-1"})]})]});return a.jsx(vu,{options:l,onSelect:c,placeholder:n,className:s,renderOption:u,emptyMessage:"No races found",searchQuery:r,onSearchQueryChange:i})}function Bm({keywords:e,title:t="Keywords",className:n,maxDisplay:s,showCount:r=!0}){if(!e||e.length===0)return null;const i=s?e.slice(0,s):e,o=s&&e.length>s;return a.jsxs("div",{className:I("space-y-3",n),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[t&&a.jsx(vn,{className:"text-lg font-medium text-foreground",children:t}),r&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length," keyword",e.length!==1?"s":""]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.map((l,c)=>a.jsx(Rs,{keyword:l,size:"sm"},c)),o&&a.jsxs("span",{className:"text-xs text-muted-foreground px-2 py-1",children:["+",e.length-s," more"]})]})]})}function HC({item:e,originalRace:t,isExpanded:n=!1,onToggle:s,className:r,showViewAllButton:i=!1,showToggle:o=!0,viewAllButtonText:l="View All",viewAllButtonRoute:c="/race"}){const u=tt(),d=()=>{u(c)},f=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Race",m=(e==null?void 0:e.description)||(t==null?void 0:t.description)||"",h=(e==null?void 0:e.category)||(t==null?void 0:t.category)||"",p=(e==null?void 0:e.effects)||[],y=(e==null?void 0:e.summary)||(t==null?void 0:t.description)||"";return a.jsxs(v8,{isExpanded:n,onToggle:s||(()=>{}),className:r,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Wn,{raceName:f,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(je,{className:"text-primary font-semibold",children:f}),h&&a.jsx(la,{category:h,size:"sm"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[p&&p.length>0&&a.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qe,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{children:[p.length," effects"]})]})}),i&&a.jsxs(U,{variant:"outline",size:"sm",onClick:d,className:"text-xs",children:[a.jsx(Ma,{className:"h-3 w-3 mr-1"}),l]}),o&&a.jsx(os,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"race",itemName:f})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"line-clamp-2",children:a.jsx(ve,{className:"text-sm text-muted-foreground",children:y})}),a.jsx(Qo,{effects:p,maxDisplay:2,compact:!0})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(ve,{className:"text-sm text-muted-foreground leading-relaxed",children:m})}),(t==null?void 0:t.startingStats)&&a.jsx(yu,{stats:t.startingStats,regeneration:t.regeneration,title:"Starting Stats"}),(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&a.jsx(Qo,{effects:t.racialSpells.map(b=>({name:b.name,description:b.description})),title:"Racial Abilities"}),(t==null?void 0:t.keywords)&&t.keywords.length>0&&a.jsx(Bm,{keywords:t.keywords.map(b=>b.edid),title:"Keywords"})]})]})}function Pb({item:e,originalRace:t,className:n,onClick:s,showViewAllButton:r=!1,showToggle:i=!0,viewAllButtonText:o="View All",viewAllButtonRoute:l="/race"}){const c=tt(),u=m=>{m.stopPropagation(),c(l)},d=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Race";e!=null&&e.description||t!=null&&t.description;const f=(e==null?void 0:e.category)||(t==null?void 0:t.category)||"";return e!=null&&e.effects,e!=null&&e.summary||t!=null&&t.description,a.jsxs("div",{className:I("p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",n),onClick:s,children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Wn,{raceName:d,size:"2xl"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(je,{className:"text-primary font-semibold truncate",children:d}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f&&a.jsx(la,{category:f,size:"sm"}),(t==null?void 0:t.startingStats)&&a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500/20 text-red-700 dark:text-red-400 rounded-full text-xs font-medium whitespace-nowrap",children:[" ",t.startingStats.health]}),a.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-blue-500/20 text-blue-700 dark:text-blue-400 rounded-full text-xs font-medium whitespace-nowrap",children:[" ",t.startingStats.magicka]}),a.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-green-500/20 text-green-700 dark:text-green-400 rounded-full text-xs font-medium whitespace-nowrap",children:[" ",t.startingStats.stamina]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qe,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.racialSpells.length," effects"]})]}),i&&a.jsx("div",{onClick:m=>m.stopPropagation(),children:a.jsx(os,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"race",itemName:d})})]})]}),a.jsxs("div",{className:"space-y-2",children:[(t==null?void 0:t.skillBonuses)&&t.skillBonuses.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-1 justify-items-center",children:t.skillBonuses.map((m,h)=>a.jsxs("div",{className:"px-2 py-1 bg-muted/50 text-muted-foreground rounded text-xs font-medium text-left w-full",children:[m.skill," +",m.bonus]},h))}),(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:t.racialSpells.map((m,h)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(qe,{className:"h-3 w-3"}),m.name]},h))})]})]})]}),r&&a.jsxs(U,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:u,children:[a.jsx(Ma,{className:"h-4 w-4 mr-2"}),o]})]})}function jF({race:e,isOpen:t,onOpenChange:n}){return e?a.jsx(Hi,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Wn,{raceName:e.name,size:"4xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(la,{category:e.category,size:"sm"}),a.jsx(os,{itemId:e.edid,itemType:"race",itemName:e.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})]})]})}),a.jsxs("div",{className:"space-y-6",children:[e.startingStats&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Starting Stats"}),a.jsx(yu,{stats:e.startingStats,regeneration:e.regeneration,title:"",compact:!1})]}),e.skillBonuses&&e.skillBonuses.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Starting Skills"}),a.jsx("div",{className:"space-y-2",children:e.skillBonuses.map((s,r)=>a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium",children:[s.skill," +",s.bonus]}),a.jsx(q,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},r))})]}),e.racialSpells&&e.racialSpells.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Racial Abilities"}),a.jsx(Qo,{effects:e.racialSpells.map(s=>({name:s.name,description:s.description})),title:"",showDescriptions:!0})]}),e.keywords&&e.keywords.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Keywords"}),a.jsx(Bm,{keywords:e.keywords.map(s=>s.edid),title:"",maxDisplay:10})]})]})]})}):null}function Fm(e){var t,n;return{...e,id:e.edid,name:e.name,description:e.description,tags:[e.category,...Array.isArray(e.flags)?e.flags:[]],summary:e.description.length>100?`${e.description.substring(0,100)}...`:e.description,effects:[...((t=e.skillBonuses)==null?void 0:t.map(s=>({type:"positive",name:s.skill,description:`+${s.bonus} to ${s.skill}`,value:s.bonus,target:s.skill})))||[],...((n=e.racialSpells)==null?void 0:n.map(s=>({type:"positive",name:s.name,description:s.description})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalRace:e}}function NF({className:e,allRaces:t}){const{build:n,setRace:s}=nt(),r=tt(),[i,o]=g.useState(!0),l=n.race?t.find(m=>m.edid===n.race):null,c=m=>{s(m.edid)},u=()=>{r("/race")},d=()=>{o(!i)};if(!l)return a.jsxs(Wt,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),a.jsx(Jo,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=Fm(l);return a.jsxs(Wt,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx(Jo,{races:t,onSelect:c,placeholder:`Race: Select a race (${l.name})`,className:"w-full"}),a.jsx(bu,{item:f,isExpanded:i,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function UC(){const[e,t]=g.useState(null),[n,s]=g.useState("grid"),[r,i]=g.useState([]),o=g.useCallback(f=>{t(f)},[]),l=g.useCallback(f=>{s(f)},[]),c=g.useCallback(f=>{i(m=>m.includes(f)?m.filter(h=>h!==f):[...m,f])},[]),u=g.useCallback(()=>{i([])},[]),d=g.useCallback(f=>{i(f)},[]);return{selectedRace:e,viewMode:n,expandedSections:r,setSelectedRace:o,setViewMode:l,toggleExpandedSection:c,clearExpandedSections:u,expandAllSections:d}}function Hm({races:e}){const[t,n]=g.useState(""),[s,r]=g.useState({search:"",type:"",tags:[]}),i=g.useMemo(()=>bt.getUniqueCategories(e),[e]),o=g.useMemo(()=>bt.getUniqueTags(e),[e]),l=g.useMemo(()=>{let p=e;return t.trim()&&(p=bt.search(p,t)),s.type&&(p=bt.filterByCategory(p,s.type)),s.tags.length>0&&(p=bt.filterByTags(p,s.tags)),bt.sortByName(p)},[e,t,s]),c=g.useCallback(p=>{n(p),r(y=>({...y,search:p}))},[]),u=g.useCallback(p=>{r(p),n(p.search)},[]),d=g.useCallback(()=>{n(""),r({search:"",type:"",tags:[]})},[]),f=g.useCallback(p=>{r(y=>({...y,tags:y.tags.includes(p)?y.tags:[...y.tags,p]}))},[]),m=g.useCallback(p=>{r(y=>({...y,tags:y.tags.filter(b=>b!==p)}))},[]),h=g.useCallback(p=>{r(y=>({...y,type:p}))},[]);return{searchQuery:t,activeFilters:s,filteredRaces:l,categories:i,tags:o,setSearchQuery:c,setFilters:u,clearFilters:d,addTagFilter:f,removeTagFilter:m,setCategoryFilter:h}}function VC({races:e,selectedRaceId:t}){const n=g.useMemo(()=>e.map(u=>bt.transformToPlayerCreationItem(u)),[e]),s=g.useMemo(()=>gF.generateSearchCategories(e),[e]),r=g.useMemo(()=>t&&bt.getRaceById(e,t)||null,[e,t]),i=g.useMemo(()=>r?bt.calculateRaceStats(r):null,[r]),o=g.useMemo(()=>e.length,[e]),l=g.useMemo(()=>{const u=e.reduce((d,f)=>(d[f.category]=(d[f.category]||0)+1,d),{});return Object.entries(u).map(([d,f])=>({category:d,count:f}))},[e]),c=g.useMemo(()=>{const u=e.reduce((d,f)=>{var m;return f.keywords.forEach(h=>{d[h.edid]=(d[h.edid]||0)+1}),(m=f.flags)==null||m.forEach(h=>{d[h]=(d[h]||0)+1}),d},{});return Object.entries(u).map(([d,f])=>({tag:d,count:f})).sort((d,f)=>f.count-d.count)},[e]);return{transformedRaces:n,searchCategories:s,raceStats:i,selectedRaceDetails:r,totalRaces:o,categoriesWithCounts:l,tagsWithCounts:c}}function GC({raceId:e,allRaces:t}){const n=g.useMemo(()=>bt.getRaceById(t,e)||null,[t,e]),s=g.useMemo(()=>n?bt.getRelatedRaces(n,t):[],[n,t]),r=g.useMemo(()=>{if(!n||s.length===0)return null;const u=s[0];return{selectedRace:n,comparedRace:u,differences:{stats:{health:{selected:n.startingStats.health,compared:u.startingStats.health,difference:n.startingStats.health-u.startingStats.health},magicka:{selected:n.startingStats.magicka,compared:u.startingStats.magicka,difference:n.startingStats.magicka-u.startingStats.magicka},stamina:{selected:n.startingStats.stamina,compared:u.startingStats.stamina,difference:n.startingStats.stamina-u.startingStats.stamina},carryWeight:{selected:n.startingStats.carryWeight,compared:u.startingStats.carryWeight,difference:n.startingStats.carryWeight-u.startingStats.carryWeight}},skills:n.skillBonuses.map(d=>{const f=u.skillBonuses.find(m=>m.skill===d.skill);return{skill:d.skill,selected:d.bonus,compared:(f==null?void 0:f.bonus)||0,difference:d.bonus-((f==null?void 0:f.bonus)||0)}}),spells:{selected:n.racialSpells.map(d=>d.name),compared:u.racialSpells.map(d=>d.name),unique:n.racialSpells.filter(d=>!u.racialSpells.some(f=>f.name===d.name)).map(d=>d.name)}}}},[n,s]),i=g.useMemo(()=>s.length>0,[s]),o=g.useMemo(()=>s.length,[s]);return{race:n,relatedRaces:s,raceComparison:r,isLoading:!1,error:null,hasRelatedRaces:i,relatedRacesCount:o}}function qC({className:e}){const{races:t}=Ml(),{build:n,setRace:s}=nt(),r=tt(),[i,o]=g.useState(!0),l=n.race?t.find(m=>m.edid===n.race):null,c=m=>{s(m.edid)},u=()=>{r("/build/race")},d=()=>{o(!i)};if(!l)return a.jsxs(Wt,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),a.jsx(Jo,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=Fm(l);return a.jsxs(Wt,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx(Jo,{races:t,onSelect:c,placeholder:`Race: Select a race (${l.name})`,className:"w-full"}),a.jsx(bu,{item:f,isExpanded:i,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}const ZC=[{value:"name",label:"Name"},{value:"category",label:"Category"},{value:"health",label:"Health"},{value:"magicka",label:"Magicka"},{value:"stamina",label:"Stamina"}],SF=e=>{var t;return((t=ZC.find(n=>n.value===e))==null?void 0:t.label)||"Name"};function YC(){const{build:e}=nt(),{races:t,isLoading:n,error:s}=Ml(),{viewMode:r,setViewMode:i}=UC(),{filteredRaces:o}=Hm({races:t}),[l,c]=g.useState("name"),d=(()=>{const C=[...new Set(t.flatMap(O=>O.keywords.map(L=>L.edid)))],T=[...new Set(t.flatMap(O=>O.skillBonuses.map(L=>L.skill)))],_=[...new Set(t.map(O=>O.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:C.map(O=>({id:`keyword-${O}`,label:O,value:O,category:"Fuzzy Search",description:`Races with ${O} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:T.map(O=>({id:`skill-${O}`,label:O,value:O,category:"Skill Bonuses",description:`Races with ${O} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:_.map(O=>({id:`category-${O}`,label:O,value:O,category:"Race Categories",description:`${O} races`}))}]})(),[f,m]=g.useState([]),h=C=>{let T;typeof C=="string"?T={id:`custom-${C}`,label:C,value:C,category:"Fuzzy Search"}:T={id:`${C.category}-${C.id}`,label:C.label,value:C.value,category:C.category},f.some(_=>_.value===T.value&&_.category===T.category)||m(_=>[..._,T])},p=C=>{m(T=>T.filter(_=>_.id!==C))},y=o.filter(C=>f.length===0?!0:f.every(T=>{switch(T.category){case"Fuzzy Search":return!0;case"Race Categories":return C.category===T.value;case"Skill Bonuses":return C.skillBonuses.some(_=>_.skill===T.value);case"Keywords":return C.keywords.some(_=>_.edid===T.value);default:return!0}})),b=f.filter(C=>C.category==="Fuzzy Search").map(C=>C.value).join(" "),{filteredRaces:v}=FC(y,b),w=v.sort((C,T)=>{switch(l){case"name":return C.name.localeCompare(T.name);case"category":return C.category.localeCompare(T.category);case"health":return T.startingStats.health-C.startingStats.health;case"magicka":return T.startingStats.magicka-C.startingStats.magicka;case"stamina":return T.startingStats.stamina-C.startingStats.stamina;default:return 0}}).map(C=>({...Fm(C),originalRace:C})),[j,N]=g.useState(null),[k,S]=g.useState(!1),E=C=>{N(C),S(!0)};return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:s}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsxs(Jt,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx(Ia,{categories:d,onSelect:h,onCustomSearch:h})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(U,{variant:r==="grid"?"default":"outline",size:"sm",onClick:()=>i("grid"),className:"flex items-center gap-2",children:[a.jsx(Di,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(U,{variant:r==="list"?"default":"outline",size:"sm",onClick:()=>i("list"),className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Bi,{children:[a.jsx(Fi,{asChild:!0,children:a.jsxs(U,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",SF(l),a.jsx(Rt,{className:"h-4 w-4"})]})}),a.jsx(Oa,{align:"end",children:ZC.map(C=>a.jsx(on,{onClick:()=>c(C.value),children:C.label},C.value))})]})})]}),a.jsx("div",{className:"my-4",children:f.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>m([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(He,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),f.map(C=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>p(C.id),title:"Click to remove",children:[C.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},C.id))]})}),r==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:w.map(C=>{var _;const T=e.race===((_=C.originalRace)==null?void 0:_.edid);return a.jsx(Pb,{item:C,originalRace:C.originalRace,onClick:()=>E(C.originalRace),className:I(T&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},C.id)})}):a.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:w.map(C=>{var _;const T=e.race===((_=C.originalRace)==null?void 0:_.edid);return a.jsx(Pb,{item:C,originalRace:C.originalRace,onClick:()=>E(C.originalRace),className:I(T&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},C.id)})}),w.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}),a.jsx(jF,{race:j,isOpen:k,onOpenChange:S})]})}function kF({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:s,onTagRemove:r}={}){const[i,o]=g.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return g.useEffect(()=>{e&&o(e)},[e]),{filters:i,handleSearch:f=>{const m={...i,search:f};o(m),n==null||n(f)},handleTagSelect:f=>{const m={id:`${f.category}-${f.id}`,label:f.label,value:f.value,category:f.category};if(!i.selectedTags.some(p=>p.id===m.id)){const p={...i,selectedTags:[...i.selectedTags,m]};o(p),s==null||s(m),t==null||t(p)}},handleTagRemove:f=>{const m={...i,selectedTags:i.selectedTags.filter(h=>h.id!==f)};o(m),r==null||r(f),t==null||t(m)},updateFilters:f=>{o(f),t==null||t(f)}}}function CF({className:e}){const{races:t,isLoading:n,error:s,categories:r,tags:i}=Ml(),{searchQuery:o,setSearchQuery:l,filteredRaces:c}=Hm({races:t}),u=P.useMemo(()=>c.map(w=>Fm(w)),[c]),d=P.useMemo(()=>[{id:"categories",name:"Categories",placeholder:"Search by category...",options:(r||[]).map(w=>({id:w,label:w,value:w,category:"categories",description:`Race category: ${w}`}))},{id:"tags",name:"Tags",placeholder:"Search by tags...",options:(i||[]).map(w=>({id:w,label:w,value:w,category:"tags",description:`Race tag: ${w}`}))}],[r,i]),{filters:f,handleSearch:m,handleTagSelect:h,handleTagRemove:p}=kF({onSearch:l,onFiltersChange:w=>{}});P.useEffect(()=>{o!==f.search&&m(o)},[o,m,f.search]);const[y,b]=P.useState(null),v=w=>{const j=t.find(N=>N.edid===w.id);return j?a.jsx(HC,{item:w,originalRace:j,isExpanded:!1,showToggle:!0,className:"h-full"},j.edid):null},x=w=>{const j=t.find(N=>N.edid===w.id);return j?a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:j.name}),a.jsx("p",{className:"text-muted-foreground mb-4",children:j.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Category:"})," ",j.category]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Health:"})," ",j.startingStats.health]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Magicka:"})," ",j.startingStats.magicka]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Stamina:"})," ",j.startingStats.stamina]})]})]}):null};return n?a.jsx("div",{className:I("container mx-auto p-6",e),children:a.jsxs("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((w,j)=>a.jsx("div",{className:"h-64 bg-gray-200 rounded"},j))})]})}):s?a.jsx("div",{className:I("container mx-auto p-6",e),children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[a.jsx("strong",{children:"Error:"})," ",s]})}):a.jsxs("div",{className:I("container mx-auto p-6",e),children:[a.jsx(JI,{searchCategories:d,selectedTags:f.selectedTags,viewMode:"grid",onTagSelect:h,onTagRemove:p,className:"mb-6"}),a.jsxs(XI,{children:[a.jsx(WI,{children:a.jsx(qI,{items:u,viewMode:"grid",onItemSelect:b,selectedItem:y,renderItemCard:v})}),a.jsx(KI,{children:y?x(y):a.jsx(QI,{title:"Select a Race",description:"Choose a race from the list to view its details"})})]})]})}function EF({className:e,selectedRace:t,onRaceSelect:n,onRaceClear:s,showSearch:r=!0,showComparison:i=!1,maxDisplayRaces:o=3}){const{races:l,isLoading:c,error:u}=Ml(),{filteredRaces:d}=Hm({races:l});VC({races:l,selectedRaceId:(t==null?void 0:t.edid)||null});const[f,m]=P.useState(!1);return c?a.jsx("div",{className:I("p-4 border rounded-lg",e),children:a.jsxs("div",{className:"animate-pulse space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})}):u?a.jsx("div",{className:I("p-4 border rounded-lg",e),children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded text-sm",children:[a.jsx("strong",{children:"Error:"})," ",u]})}):a.jsxs("div",{className:I("border rounded-lg overflow-hidden",e),children:[a.jsxs("div",{className:"p-4 bg-muted/50 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(je,{className:"text-lg font-semibold",children:"Race Selection"}),t&&a.jsx(U,{variant:"ghost",size:"sm",onClick:s,className:"text-muted-foreground hover:text-foreground",children:a.jsx(He,{className:"h-4 w-4"})})]}),t&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(q,{variant:"secondary",children:t.category}),a.jsxs(ve,{className:"text-sm text-muted-foreground",children:[t.startingStats.health," HP, ",t.startingStats.magicka," MP, ",t.startingStats.stamina," SP"]})]})]}),a.jsx("div",{className:"p-4",children:t?a.jsxs("div",{className:"space-y-4",children:[a.jsx(bu,{item:{id:t.edid,name:t.name,description:t.description,summary:t.description,category:t.category,effects:[],tags:[],originalRace:t},isExpanded:!0,showToggle:!1,className:"border-0 shadow-none"}),i&&a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx(ve,{className:"text-sm font-medium mb-2",children:"Compare with:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.filter(h=>h.edid!==t.edid).slice(0,4).map(h=>a.jsx(U,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-xs",children:h.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})]}):a.jsxs("div",{className:"space-y-4",children:[r&&a.jsxs("div",{children:[a.jsx(ve,{className:"text-sm font-medium mb-2",children:"Search for a race:"}),a.jsx(Jo,{races:d,onSelect:n,placeholder:"Type to search races...",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx(ve,{className:"text-sm font-medium mb-2",children:"Quick select:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.slice(0,o).map(h=>a.jsx(U,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-xs",children:h.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))}),l.length>o&&a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>m(!f),className:"mt-2 w-full",children:[a.jsx(Rt,{className:I("h-4 w-4 transition-transform",f&&"rotate-180")}),"Show ",l.length-o," more races"]})]}),f&&a.jsx("div",{className:"space-y-2",children:l.slice(o).map(h=>a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>n==null?void 0:n(h),className:"w-full justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-xs",children:h.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})})]})}function TF({raceId:e,className:t}){const n=tt(),{races:s}=Ml(),{race:r,relatedRaces:i}=GC({raceId:e,allRaces:s});return r?a.jsxs("div",{className:I("container mx-auto p-6",t),children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(U,{variant:"ghost",onClick:()=>n("/races"),className:"mb-4",children:[a.jsx(My,{className:"h-4 w-4 mr-2"}),"Back to Races"]}),a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx(Wn,{raceName:r.name,size:"xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(za,{className:"text-3xl font-bold",children:r.name}),a.jsx(la,{category:r.category,size:"lg"})]}),a.jsx(ve,{className:"text-lg text-muted-foreground mb-4",children:r.description}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(h1,{className:"h-4 w-4"}),a.jsx("span",{children:"Playable Race"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qe,{className:"h-4 w-4"}),a.jsxs("span",{children:[r.keywords.length," Keywords"]})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(oa,{className:"text-xl font-semibold mb-4",children:"Statistics"}),a.jsx(yu,{stats:r.startingStats,regeneration:r.regeneration,title:"Starting Stats",compact:!1,showRegeneration:!0})]}),r.racialSpells.length>0&&a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(oa,{className:"text-xl font-semibold mb-4",children:"Racial Abilities"}),a.jsx(Qo,{effects:r.racialSpells.map(o=>({name:o.name,description:o.description})),title:"Racial Spells",showDescriptions:!0,compact:!1})]}),r.keywords.length>0&&a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(oa,{className:"text-xl font-semibold mb-4",children:"Keywords"}),a.jsx(Bm,{keywords:r.keywords.map(o=>o.edid),title:"Race Keywords",showCount:!0})]}),a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(oa,{className:"text-xl font-semibold mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-medium mb-2",children:"Description"}),a.jsx(ve,{className:"text-muted-foreground",children:r.description})]}),r.racialSpells.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-medium mb-2",children:"Racial Spells"}),a.jsx("div",{className:"space-y-2",children:r.racialSpells.map((o,l)=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"font-medium",children:o.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:o.description})]},l))})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(U,{className:"w-full",size:"sm",children:"Add to Character Build"}),a.jsx(U,{variant:"outline",className:"w-full",size:"sm",children:"Compare with Other Races"}),a.jsxs(U,{variant:"outline",className:"w-full",size:"sm",children:[a.jsx(Ma,{className:"h-4 w-4 mr-2"}),"View in Wiki"]})]})]}),a.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Race Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),a.jsx(q,{variant:"secondary",children:r.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Health:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.health})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.magicka})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.stamina})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.carryWeight})]})]})]}),i.length>0&&a.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Related Races"}),a.jsx("div",{className:"space-y-2",children:i.slice(0,3).map(o=>a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>n(`/races/${o.edid}`),className:"w-full justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wn,{raceName:o.name,size:"sm"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:o.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:o.category})]})]})},o.edid))})]})]})]})]}):a.jsxs("div",{className:I("container mx-auto p-6",t),children:[a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[a.jsx("strong",{children:"Error:"})," ","Race not found"]}),a.jsxs(U,{variant:"outline",onClick:()=>n("/races"),className:"mt-4",children:[a.jsx(My,{className:"h-4 w-4 mr-2"}),"Back to Races"]})]})}function AF(){const{races:e,isLoading:t,error:n,categories:s,tags:r}=Ml(),{selectedRace:i,setSelectedRace:o,viewMode:l,setViewMode:c,expandedSections:u}=UC(),{searchQuery:d,setSearchQuery:f,activeFilters:m,clearFilters:h,filteredRaces:p}=Hm({races:e}),{transformedRaces:y,searchCategories:b,categoriesWithCounts:v}=VC({races:e,selectedRaceId:i}),{race:x,relatedRaces:w,raceComparison:j}=GC({raceId:i||"",allRaces:e}),[N,k]=P.useState(!1),[S,E]=P.useState("overview");if(t)return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Loading..."}),a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]});if(n)return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Error"}),a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[a.jsx("strong",{children:"Error:"})," ",n]})]});const C=e[0];return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Races MVA Demo - Model View Adapter Architecture"}),a.jsxs(Pa,{value:S,onValueChange:E,className:"mb-6",children:[a.jsxs($a,{children:[a.jsx(Ot,{value:"overview",children:"Overview"}),a.jsx(Ot,{value:"adapters",children:"Adapters"}),a.jsx(Ot,{value:"components",children:"Components"}),a.jsx(Ot,{value:"views",children:"Views"})]}),a.jsx(qt,{value:"overview",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsxs(be,{children:[a.jsx(_e,{children:"MVA Architecture Overview"}),a.jsx(ps,{children:"This demo showcases the Model-View-Adapter pattern implementation for the Races feature."})]}),a.jsx(fe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Model Layer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Data management and business logic"}),a.jsx(q,{variant:"outline",className:"mt-2",children:"RaceModel"})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Adapter Layer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"State management and data transformation"}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[a.jsx(q,{variant:"outline",children:"useRaceData"}),a.jsx(q,{variant:"outline",children:"useRaceState"}),a.jsx(q,{variant:"outline",children:"useRaceFilters"})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"View Layer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"UI components and presentation"}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[a.jsx(q,{variant:"outline",children:"RaceCard"}),a.jsx(q,{variant:"outline",children:"RacePageView"})]})]})]})})]})}),a.jsx(qt,{value:"adapters",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsxs(be,{children:[a.jsx(_e,{children:"Adapter State Demo"}),a.jsx(ps,{children:"Interactive demonstration of adapter state management"})]}),a.jsx(fe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"State Management (useRaceState)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Selected Race:"}),a.jsx(q,{variant:i?"default":"secondary",children:i||"None"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"View Mode:"}),a.jsxs("div",{className:"flex border rounded",children:[a.jsx(U,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),children:"Grid"}),a.jsx(U,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),children:"List"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Expanded Sections:"}),a.jsx(q,{variant:"outline",children:u.length})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Filters (useRaceFilters)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Search Query:"}),a.jsx("input",{type:"text",value:d,onChange:T=>f(T.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"Search races..."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Active Filters:"}),a.jsx(q,{variant:"outline",children:m.tags.length+(m.type?1:0)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Filtered Results:"}),a.jsxs(q,{variant:"outline",children:[p.length," of ",e.length]})]}),a.jsx(U,{size:"sm",onClick:h,children:"Clear Filters"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Computed Data (useRaceComputed)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Transformed Races:"}),a.jsx(q,{variant:"outline",children:y.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Search Categories:"}),a.jsx(q,{variant:"outline",children:b.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Categories with Counts:"}),a.jsx(q,{variant:"outline",children:Object.keys(v).length})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Detail View (useRaceDetail)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Selected Race Details:"}),a.jsx(q,{variant:x?"default":"secondary",children:(x==null?void 0:x.name)||"None"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Related Races:"}),a.jsx(q,{variant:"outline",children:w.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Comparison Available:"}),a.jsx(q,{variant:j?"default":"secondary",children:j?"Yes":"No"})]})]})]})]})})]})}),a.jsxs(qt,{value:"components",className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Atomic & Composition Components"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Data Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Total Races:"})," ",e.length]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Categories:"})," ",s.join(", ")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Total Tags:"})," ",r.length]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Sample Race: ",C==null?void 0:C.name]}),C&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-gray-600 text-sm",children:C.description}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Category:"})," ",C.category]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Keywords:"})," ",C.keywords.length]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAvatar Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),a.jsx(Wn,{raceName:(C==null?void 0:C.name)||"Nord",size:"sm"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),a.jsx(Wn,{raceName:(C==null?void 0:C.name)||"Nord",size:"lg"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),a.jsx(Wn,{raceName:(C==null?void 0:C.name)||"Nord",size:"2xl"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Extra Large"}),a.jsx(Wn,{raceName:(C==null?void 0:C.name)||"Nord",size:"xl"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Uses generic EntityAvatar with race-specific configuration"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"CategoryBadge Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),a.jsx(la,{category:"Human",size:"sm"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),a.jsx(la,{category:"Elf",size:"md"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),a.jsx(la,{category:"Beast",size:"lg"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Uses generic CategoryBadge with race-specific styling"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"KeywordTag Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Auto-detected types:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Rs,{keyword:"destruction"}),a.jsx(Rs,{keyword:"waterbreathing"}),a.jsx(Rs,{keyword:"strong stomach"}),a.jsx(Rs,{keyword:"custom_flag"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Explicit types:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Rs,{keyword:"alteration",type:"skill"}),a.jsx(Rs,{keyword:"night eye",type:"ability"}),a.jsx(Rs,{keyword:"beast race",type:"trait"}),a.jsx(Rs,{keyword:"magic",type:"flag"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Auto-detects keyword types or accepts explicit type prop"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"StatBar Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(hr,{value:C.startingStats.health,maxValue:200,label:"Health",color:"red",size:"md"}),a.jsx(hr,{value:C.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"md"}),a.jsx(hr,{value:C.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"md"})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Progress bars with configurable colors, sizes, and labels"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceStatsDisplay Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&a.jsx(yu,{stats:C.startingStats,regeneration:C.regeneration,title:"Sample Stats",compact:!0}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Composition component that displays race statistics"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceEffectsDisplay Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&C.racialSpells.length>0&&a.jsx(Qo,{effects:C.racialSpells.map(T=>({name:T.name,description:T.description})),title:"Racial Abilities",maxDisplay:3}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Composition component for displaying race effects/abilities"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceKeywordsDisplay Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&C.keywords.length>0&&a.jsx(Bm,{keywords:C.keywords.map(T=>T.edid),title:"Race Keywords",maxDisplay:6}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Composition component that uses KeywordTag atomic components"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceCard Composition Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&a.jsx(HC,{originalRace:C,isExpanded:!0,showToggle:!1,className:"max-w-2xl"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Main composition component that orchestrates all atomic components"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAutocomplete Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Jo,{races:e.slice(0,5),onSelect:T=>{},placeholder:"Search for a race...",className:"w-full"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Search and selection component for races"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAccordion Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&a.jsx(bu,{item:{id:C.edid,name:C.name,description:C.description,summary:C.description,category:C.category,effects:[],tags:[],originalRace:C},isExpanded:N,onToggle:()=>k(!N),showToggle:!0,className:"border-0 shadow-none"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Accordion-style race display for player creation (click to expand/collapse)"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceSelectionCard Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(NF,{allRaces:e.slice(0,5),className:"max-w-2xl"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Complete race selection interface for player creation"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sample Races with All Components"}),a.jsx("div",{className:"space-y-4",children:e.slice(0,2).map(T=>a.jsxs("div",{className:"border rounded p-4",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsx(Wn,{raceName:T.name,size:"2xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:T.name}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsx(la,{category:T.category,size:"sm"})})]})]}),a.jsx("p",{className:"text-sm mb-3",children:T.description}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[a.jsx(hr,{value:T.startingStats.health,maxValue:200,label:"Health",color:"red",size:"sm"}),a.jsx(hr,{value:T.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),a.jsx(hr,{value:T.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.keywords.slice(0,5).map((_,O)=>a.jsx(Rs,{keyword:_.edid},O)),T.keywords.length>5&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",T.keywords.length-5," more"]})]})]},T.edid))})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"View Components Demo"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceQuickSelectorView"}),a.jsx(EF,{selectedRace:i?e.find(T=>T.edid===i):void 0,onRaceSelect:T=>o(T.edid),onRaceClear:()=>o(null),showSearch:!0,showComparison:!0,maxDisplayRaces:3,className:"max-w-md"}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:a.jsx("p",{children:"Compact selection interface for embedded contexts"})})]}),i&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceDetailView"}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx(TF,{raceId:i,className:"p-4"})}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:a.jsx("p",{children:"Detailed race view with rich information display"})})]})]})]})]})]}),a.jsxs(qt,{value:"views",className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"View Components"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(be,{children:[a.jsx(_e,{children:"RacePageView"}),a.jsx(ps,{children:"Main page view with full functionality"})]}),a.jsx(fe,{children:a.jsx(YC,{className:"border rounded-lg p-4"})})]}),a.jsxs(ue,{children:[a.jsxs(be,{children:[a.jsx(_e,{children:"RaceReferenceView"}),a.jsx(ps,{children:"Browse/search interface"})]}),a.jsx(fe,{children:a.jsx(CF,{className:"border rounded-lg p-4"})})]})]})]})]})]})}function $b({blessings:e,selectedBlessingId:t,onBlessingSelect:n,placeholder:s="Search for a blessing source...",className:r,disabled:i=!1}){const[o,l]=g.useState(!1),[c,u]=g.useState(""),[d,f]=g.useState(-1),m=g.useRef(null),h=g.useRef(null),p=g.useMemo(()=>{if(!e||!c.trim())return e||[];const k=c.toLowerCase();return e.filter(S=>{var E;return S.name.toLowerCase().includes(k)||S.blessingName.toLowerCase().includes(k)||S.blessingDescription.toLowerCase().includes(k)||((E=S.tags)==null?void 0:E.some(C=>C.toLowerCase().includes(k)))})},[e,c]);g.useMemo(()=>!t||!e?null:e.find(k=>k.id===t),[t,e]),g.useEffect(()=>{const k=S=>{m.current&&!m.current.contains(S.target)&&(l(!1),f(-1))};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const y=k=>{u(k),l(!0),f(-1)},b=k=>{n(k),u(""),l(!1),f(-1)},v=k=>{k.key==="ArrowDown"?(k.preventDefault(),f(S=>Math.min(S+1,p.length-1))):k.key==="ArrowUp"?(k.preventDefault(),f(S=>Math.max(S-1,-1))):k.key==="Enter"?(k.preventDefault(),d>=0&&p[d]&&b(p[d].id)):k.key==="Escape"&&(l(!1),f(-1))},x=()=>{l(!0)},w=()=>{var k;u(""),(k=h.current)==null||k.focus()},j=k=>{const S={Divine:"bg-blue-100 text-blue-800 border-blue-200","Daedric Prince":"bg-red-100 text-red-800 border-red-200",Tribunal:"bg-purple-100 text-purple-800 border-purple-200",Ancestor:"bg-green-100 text-green-800 border-green-200","Nordic Deity":"bg-orange-100 text-orange-800 border-orange-200","Yokudan Deity":"bg-yellow-100 text-yellow-800 border-yellow-200","Khajiiti Deity":"bg-indigo-100 text-indigo-800 border-indigo-200",Deity:"bg-gray-100 text-gray-800 border-gray-200"};return a.jsx(q,{variant:"outline",className:I("text-xs font-medium",S[k]||S.Deity),children:k})},N=k=>{if(k===0)return"Permanent";const S=Math.floor(k/3600),E=Math.floor(k%3600/60);return S>0?`${S}h${E>0?` ${E}m`:""}`:`${E}m`};return a.jsxs("div",{ref:m,className:I("relative",r),children:[a.jsxs("div",{className:"relative",children:[a.jsx(pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Ln,{ref:h,type:"text",placeholder:s,value:c,onChange:k=>y(k.target.value),onFocus:x,onKeyDown:v,disabled:i,className:"pl-10 pr-20"}),c&&a.jsx(U,{variant:"ghost",size:"sm",onClick:w,className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",children:a.jsx(He,{className:"h-4 w-4"})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:a.jsx(Rt,{className:I("h-4 w-4 transition-transform",o&&"rotate-180")})})]}),o&&a.jsx("div",{className:I("absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30 max-h-60"),style:{zIndex:kt.AUTOCOMPLETE+10},children:a.jsx("div",{className:"p-2",children:p.length===0?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No blessing found."}):p.map((k,S)=>a.jsxs("button",{onClick:()=>b(k.id),className:I("w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer",S===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium",children:k.name}),j(k.type)]}),k.blessingName&&a.jsx("p",{className:"text-sm font-medium text-primary mb-1",children:k.blessingName}),k.effects.length>0&&a.jsxs("div",{className:"space-y-1",children:[k.effects.slice(0,2).map((E,C)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(ln,{className:"h-3 w-3 text-skyrim-gold"}),a.jsx("span",{className:"font-medium",children:E.name}),E.magnitude>0&&a.jsxs("span",{className:"text-xs",children:["+",E.magnitude]}),E.duration>0&&a.jsxs("span",{className:"text-xs",children:["(",N(E.duration),")"]})]},C)),k.effects.length>2&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",k.effects.length-2," more effects"]})]})]},k.id))})})]})}const _F={};function el({religionName:e,size:t="2xl",className:n}){const s=_F[e],r=s?en(`assets/religion-avatar/${s}`):void 0;return a.jsx(Mm,{imgSrc:r,alt:e,size:t,className:n})}function XC(e){if(!e)return e;let t=e;return t=t.replace(/Global=WSN_Favor_Global_Fractional(\d*)/g,(n,s)=>`favor-based amount${s||""}`).replace(/Global=WSN_Favor_Global/g,"favor-based amount").replace(/WSN_Favor_Global_Fractional(\d*)/g,(n,s)=>`favor-based amount${s||""}`).replace(/WSN_Favor_Global/g,"favor-based amount").replace(/WSN_Effect_Global_[A-Za-z]+/g,"effect amount").replace(/WSN_[A-Za-z_]+/g,"favor-based amount").replace(/([A-Za-z])_([A-Za-z])/g,"$1 $2").replace(/([A-Za-z])_([A-Za-z])/g,"$1 $2").replace(new RegExp("(?<!<)_(?!>)","g")," "),t}function WC(e){return e?XC(e).replace(/\b\w/g,n=>n.toUpperCase()):""}function Um(e){return e?XC(e):""}function MF(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function RF({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=Um(e).replace(/<mag>/g,t.toString()).replace(/<magnitude>/g,t.toString()).replace(/<dur>/g,n.toString()).replace(/<duration>/g,n.toString()).replace(/<area>/g,s.toString());return r=r.replace(/\b(magnitude|mag)\b/gi,t.toString()).replace(/\b(duration|dur)\b/gi,n.toString()).replace(/\b(area)\b/gi,s.toString()),a.jsx(Me,{text:r,className:"text-sm text-muted-foreground"})}function DF({religion:e,className:t,onClick:n,showToggle:s=!0}){var o;const r=e.blessing,i=((o=r==null?void 0:r.effects)==null?void 0:o.length)||0;return!r||i===0?null:a.jsxs("div",{className:I("p-4 border rounded-2xl bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",t),onClick:n,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx(el,{religionName:e.name,size:"2xl"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs(je,{className:"text-lg font-semibold text-primary truncate",children:["Blessing of ",e.name]}),a.jsxs(ve,{className:"text-sm text-muted-foreground mt-1",children:[i," effect",i!==1?"s":""]})]}),s&&a.jsx("div",{onClick:l=>l.stopPropagation(),children:a.jsx(os,{itemId:`blessing-${e.name}`,itemType:"religion",itemName:`Blessing of ${e.name}`})})]}),a.jsx("div",{className:"space-y-2",children:r.effects.filter(l=>l.effectType!=="1"&&l.effectType!=="3").slice(0,2).map((l,c)=>a.jsx("div",{className:"flex items-start gap-2 p-2 bg-muted/30 rounded-lg",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(ve,{className:"font-medium text-sm mb-1",children:WC(l.effectName)}),a.jsx(RF,{description:l.effectDescription,magnitude:l.magnitude,duration:l.duration,area:l.area}),(l.duration>0||l.area>0)&&a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[l.duration>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Nr,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",MF(l.duration)]})]}),l.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ns,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",l.area]})]})]})]})},c))}),i>2&&a.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:a.jsxs(ve,{className:"text-xs text-muted-foreground",children:["+",i-2," more effect",i-2!==1?"s":""]})})]})}const LF={Restoration:a.jsx(Ys,{className:"h-4 w-4 text-green-500"}),Destruction:a.jsx(wl,{className:"h-4 w-4 text-red-500"}),Alteration:a.jsx(at,{className:"h-4 w-4 text-blue-500"}),Illusion:a.jsx(Fo,{className:"h-4 w-4 text-purple-500"}),Conjuration:a.jsx(ln,{className:"h-4 w-4 text-purple-500"}),Enchanting:a.jsx(_a,{className:"h-4 w-4 text-blue-500"}),Alchemy:a.jsx(Hx,{className:"h-4 w-4 text-green-500"}),"Light Armor":a.jsx(at,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":a.jsx(at,{className:"h-4 w-4 text-gray-500"}),"One-Handed":a.jsx(xi,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":a.jsx(xi,{className:"h-4 w-4 text-red-500"}),Archery:a.jsx(ns,{className:"h-4 w-4 text-green-500"}),Block:a.jsx(at,{className:"h-4 w-4 text-yellow-500"}),Smithing:a.jsx(at,{className:"h-4 w-4 text-gray-500"}),Speechcraft:a.jsx(Fo,{className:"h-4 w-4 text-blue-500"}),Sneak:a.jsx(bl,{className:"h-4 w-4 text-purple-500"}),Lockpicking:a.jsx(Uo,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:a.jsx(Uo,{className:"h-4 w-4 text-purple-500"})};function zF(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function PF({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<mag>/g,t.toString()).replace(/<magnitude>/g,t.toString()).replace(/<dur>/g,n.toString()).replace(/<duration>/g,n.toString()).replace(/<area>/g,s.toString());return r=r.replace(/\b(magnitude|mag)\b/gi,t.toString()).replace(/\b(duration|dur)\b/gi,n.toString()).replace(/\b(area)\b/gi,s.toString()),a.jsx(Me,{text:r,className:"text-sm text-muted-foreground"})}function $F(e){return LF[e]||a.jsx(qe,{className:"h-4 w-4 text-gray-500"})}function OF({religion:e,isOpen:t,onOpenChange:n}){var i,o;if(!e)return null;const s=e.blessing,r=((i=s==null?void 0:s.effects)==null?void 0:i.length)||0;return!s||r===0?null:a.jsx(Hi,{isOpen:t,onOpenChange:n,title:`Blessing of ${e.name}`,description:"Divine blessing granted to worshippers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(el,{religionName:e.name,size:"lg"}),a.jsxs("div",{children:[a.jsxs(je,{className:"text-xl font-semibold",children:["Blessing of ",e.name]}),a.jsxs(ve,{className:"text-sm text-muted-foreground",children:[r," effect",r!==1?"s":""]})]})]}),a.jsx(os,{itemId:`blessing-${e.name}`,itemType:"religion",itemName:`Blessing of ${e.name}`})]}),a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Blessing Effects"}),a.jsx("div",{className:"space-y-3",children:s.effects.filter(l=>l.effectType!=="1"&&l.effectType!=="3").map((l,c)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(el,{religionName:e.name,size:"sm"}),l.effectType&&$F(l.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ve,{className:"font-medium text-sm mb-2",children:l.effectName}),a.jsx(PF,{description:l.effectDescription,magnitude:l.magnitude,duration:l.duration,area:l.area}),l.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(Nr,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",zF(l.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:l.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ns,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",l.area]})]})})]})]})},c))})]}),a.jsxs("div",{className:"pt-4 border-t border-border",children:[a.jsxs(je,{className:"text-lg font-semibold mb-3",children:["About ",e.name]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(ve,{className:"text-sm font-medium mb-1",children:"Religion Type"}),a.jsx(ve,{className:"text-sm text-muted-foreground",children:e.type})]}),((o=e.tenet)==null?void 0:o.description)&&a.jsxs("div",{children:[a.jsx(ve,{className:"text-sm font-medium mb-1",children:"Tenets"}),a.jsx(ve,{className:"text-sm text-muted-foreground",children:e.tenet.description})]}),e.favoredRaces&&e.favoredRaces.length>0&&a.jsxs("div",{children:[a.jsx(ve,{className:"text-sm font-medium mb-1",children:"Favored Races"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.favoredRaces.map((l,c)=>a.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-md",children:l},c))})]})]})]})]})})}function KC({category:e,size:t="md",className:n}){return a.jsx($k,{category:e,categoryType:"religion",size:t,className:n})}function QC({item:e,originalReligion:t,className:n,onClick:s,showViewAllButton:r=!1,showToggle:i=!0,viewAllButtonText:o="View All",viewAllButtonRoute:l="/religions",onOpenDetails:c}){var v,x,w,j,N,k,S,E,C,T,_,O,L,A,$,D;const u=tt(),d=z=>{z.stopPropagation(),u(l)},f=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Religion",m=(e==null?void 0:e.description)||((v=t==null?void 0:t.tenet)==null?void 0:v.description)||"",h=(e==null?void 0:e.category)||(t==null?void 0:t.type)||"";e!=null&&e.effects,e!=null&&e.summary||(x=t==null?void 0:t.tenet)!=null&&x.description;const p=(((j=(w=t==null?void 0:t.blessing)==null?void 0:w.effects)==null?void 0:j.length)||0)+(((k=(N=t==null?void 0:t.tenet)==null?void 0:N.effects)==null?void 0:k.length)||0)+(((E=(S=t==null?void 0:t.boon1)==null?void 0:S.effects)==null?void 0:E.length)||0)+(((T=(C=t==null?void 0:t.boon2)==null?void 0:C.effects)==null?void 0:T.length)||0),y=((L=(O=(_=t==null?void 0:t.blessing)==null?void 0:_.effects)==null?void 0:O[0])==null?void 0:L.effectName)||"Blessing",b=(D=($=(A=t==null?void 0:t.tenet)==null?void 0:A.effects)==null?void 0:$[0])!=null&&D.effectDescription?t.tenet.effects[0].effectDescription.split(".").filter(z=>z.trim().length>0).slice(0,4).map(z=>({id:z.trim(),title:z.trim(),short:z.trim(),full:z.trim()})):[];return a.jsxs("div",{className:I("p-4 border rounded-2xl bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",n),onClick:z=>{if(s&&s(),c){const M=(t==null?void 0:t.name)||(e==null?void 0:e.id)||"";c(M)}},children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx(el,{religionName:f,size:"2xl"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(je,{className:"text-lg font-semibold text-primary truncate",children:f}),h&&a.jsx(KC,{category:h,size:"sm",className:"mt-1"})]}),i&&a.jsx("div",{onClick:z=>z.stopPropagation(),children:a.jsx(os,{itemId:(t==null?void 0:t.name)||(e==null?void 0:e.id)||"",itemType:"religion",itemName:f})})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p>0&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded-full text-xs",children:[a.jsx(qe,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{className:"font-medium",children:[p," effects"]})]}),(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[t.favoredRaces.slice(0,2).map((z,M)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(qe,{className:"h-3 w-3"}),z]},M)),t.favoredRaces.length>2&&a.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded-full text-xs font-medium",children:["+",t.favoredRaces.length-2]})]})]}),m&&a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed",children:m})}),a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 rounded-lg",children:[a.jsx(Ys,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm font-medium",children:y})]})}),b.length>0&&a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"space-y-1",children:[b.slice(0,4).map((z,M)=>a.jsxs("div",{className:"flex items-start gap-2 p-2 bg-muted/30 rounded-lg text-xs",children:[a.jsx(at,{className:"h-3 w-3 text-blue-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-muted-foreground leading-relaxed",children:z.title})]},M)),b.length>4&&a.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded-full text-xs font-medium text-center",children:["+",b.length-4," more tenets"]})]})}),r&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(U,{variant:"outline",size:"sm",onClick:d,children:a.jsx(Ma,{className:"h-4 w-4"})})})]})}const IF={Restoration:a.jsx(Ys,{className:"h-4 w-4 text-green-500"}),Destruction:a.jsx(wl,{className:"h-4 w-4 text-red-500"}),Alteration:a.jsx(at,{className:"h-4 w-4 text-blue-500"}),Illusion:a.jsx(Fo,{className:"h-4 w-4 text-purple-500"}),Conjuration:a.jsx(ln,{className:"h-4 w-4 text-purple-500"}),Enchanting:a.jsx(_a,{className:"h-4 w-4 text-blue-500"}),Alchemy:a.jsx(Hx,{className:"h-4 w-4 text-green-500"}),"Light Armor":a.jsx(at,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":a.jsx(at,{className:"h-4 w-4 text-gray-500"}),"One-Handed":a.jsx(xi,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":a.jsx(xi,{className:"h-4 w-4 text-red-500"}),Archery:a.jsx(ns,{className:"h-4 w-4 text-green-500"}),Block:a.jsx(at,{className:"h-4 w-4 text-yellow-500"}),Smithing:a.jsx(at,{className:"h-4 w-4 text-gray-500"}),Speechcraft:a.jsx(Fo,{className:"h-4 w-4 text-blue-500"}),Sneak:a.jsx(bl,{className:"h-4 w-4 text-purple-500"}),Lockpicking:a.jsx(Uo,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:a.jsx(Uo,{className:"h-4 w-4 text-purple-500"})};function Oh(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Ih({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=Um(e);r=r.replace(/<[^>]*>/g,""),r=r.replace(/<mag>/g,t.toString()),r=r.replace(/<magnitude>/g,t.toString()),r=r.replace(/<dur>/g,n.toString()),r=r.replace(/<duration>/g,n.toString()),s>0&&(r=r.replace(/<area>/g,s.toString())),r=r.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const i=r.split(/(<[^>]+>)/g);return a.jsx(ve,{className:"text-sm text-muted-foreground",children:i.map((o,l)=>{if(o.startsWith("<")&&o.endsWith(">")){const c=o.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},l)}return o})})}function JC({religion:e,isOpen:t,onOpenChange:n}){var r,i;if(!e)return null;const s=o=>IF[o]||a.jsx(qe,{className:"h-4 w-4 text-skyrim-gold"});return a.jsx(Hi,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(el,{religionName:e.name,size:"4xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.type&&a.jsx(KC,{category:e.type,size:"sm"}),a.jsx(os,{itemId:e.name,itemType:"religion",itemName:e.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:((r=e.tenet)==null?void 0:r.description)||"A divine faith with unique blessings and tenets."})]})]})}),a.jsxs("div",{className:"space-y-6",children:[e.favoredRaces&&e.favoredRaces.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Favored Races"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.favoredRaces.map((o,l)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[a.jsx(qe,{className:"h-4 w-4 text-skyrim-gold"}),a.jsx("span",{className:"text-sm font-medium",children:o})]},l))})]}),e.worshipRestrictions&&e.worshipRestrictions.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Worship Restrictions"}),a.jsx("div",{className:"space-y-2",children:e.worshipRestrictions.map((o,l)=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(He,{className:"h-4 w-4 text-red-500 mt-0.5"}),a.jsx(ve,{className:"text-sm text-muted-foreground",children:o})]})},l))})]}),e.blessing&&e.blessing.effects.length>0&&a.jsxs("div",{children:[a.jsxs(je,{className:"text-lg font-semibold mb-3",children:["Blessing of ",e.name]}),a.jsx("div",{className:"space-y-3",children:e.blessing.effects.filter(o=>o.effectType!=="1"&&o.effectType!=="3").map((o,l)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ys,{className:"h-4 w-4 text-red-500"}),o.effectType&&s(o.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ve,{className:"font-medium text-sm mb-2",children:WC(o.effectName)}),a.jsx(Ih,{description:o.effectDescription,magnitude:o.magnitude,duration:o.duration,area:o.area}),o.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(Nr,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",Oh(o.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:o.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ns,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",o.area]})]})})]})]})},l))})]}),((i=e.tenet)==null?void 0:i.effects)&&e.tenet.effects.length>0&&a.jsxs("div",{children:[a.jsxs(je,{className:"text-lg font-semibold mb-3",children:["Tenets of ",e.name]}),a.jsx("div",{className:"space-y-3",children:e.tenet.effects.map((o,l)=>o.effectDescription.split(".").filter(u=>u.trim().length>0).map((u,d)=>a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4 text-blue-500"}),o.targetAttribute&&s(o.targetAttribute)]}),a.jsx("div",{className:"flex-1",children:a.jsx(ve,{className:"text-sm text-muted-foreground",children:u.trim()+"."})})]},`${l}-${d}`)))})]}),(e.boon1||e.boon2)&&a.jsxs("div",{children:[a.jsxs(je,{className:"text-lg font-semibold mb-3",children:["Boons of ",e.name]}),a.jsxs("div",{className:"space-y-4",children:[e.boon1&&e.boon1.effects.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-md font-medium mb-2",children:"Follower Boon"}),a.jsx("div",{className:"space-y-3",children:e.boon1.effects.map((o,l)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"h-4 w-4 text-yellow-500"}),o.effectType&&s(o.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ve,{className:"font-medium text-sm mb-2",children:o.effectName}),a.jsx(Ih,{description:o.effectDescription,magnitude:o.magnitude,duration:o.duration,area:o.area}),o.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(Nr,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",Oh(o.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:o.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ns,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",o.area]})]})})]})]})},l))})]}),e.boon2&&e.boon2.effects.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-md font-medium mb-2",children:"Devotee Boon"}),a.jsx("div",{className:"space-y-3",children:e.boon2.effects.map((o,l)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"h-4 w-4 text-purple-500"}),o.effectType&&s(o.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ve,{className:"font-medium text-sm mb-2",children:o.effectName}),a.jsx(Ih,{description:o.effectDescription,magnitude:o.magnitude,duration:o.duration,area:o.area}),o.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(Nr,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",Oh(o.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:o.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ns,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",o.area]})]})})]})]})},l))})]})]})]})]})]})})}function BF(e,t){const n=g.useMemo(()=>e?e.map(l=>{var c,u,d,f,m,h,p,y,b;return{id:l.name.toLowerCase().replace(/\s+/g,"-"),name:l.name,description:((c=l.tenet)==null?void 0:c.description)||"",type:l.type,favoredRaces:zn()?l.favoredRaces||[]:[],tenetEffects:((d=(u=l.tenet)==null?void 0:u.effects)==null?void 0:d.map(v=>`${v.effectName} ${v.effectDescription}`))||[],blessingEffects:((m=(f=l.blessing)==null?void 0:f.effects)==null?void 0:m.map(v=>`${v.effectName} ${v.effectDescription}`))||[],followerPowers:((p=(h=l.boon1)==null?void 0:h.effects)==null?void 0:p.map(v=>`${v.effectName} ${v.effectDescription}`))||[],devoteePowers:((b=(y=l.boon2)==null?void 0:y.effects)==null?void 0:b.map(v=>`${v.effectName} ${v.effectDescription}`))||[],originalReligion:l}}):[],[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},...zn()?[{name:"favoredRaces",weight:.1}]:[],{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new rn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredReligions:g.useMemo(()=>i.map(l=>l.item.originalReligion),[i]),searchResults:i,searchableReligions:n}}function eE(e){var t,n,s,r,i,o,l,c,u,d,f,m,h,p;return{name:e.name,type:e.type||e.pantheon||"Unknown",blessing:{spellId:((t=e.blessing)==null?void 0:t.spellId)||"",spellName:((n=e.blessing)==null?void 0:n.spellName)||"",effects:((s=e.blessing)==null?void 0:s.effects)||[]},boon1:{spellId:((r=e.boon1)==null?void 0:r.spellId)||"",spellName:((i=e.boon1)==null?void 0:i.spellName)||"",effects:((o=e.boon1)==null?void 0:o.effects)||[]},boon2:{spellId:((l=e.boon2)==null?void 0:l.spellId)||"",spellName:((c=e.boon2)==null?void 0:c.spellName)||"",effects:((u=e.boon2)==null?void 0:u.effects)||[]},tenet:{spellId:((d=e.tenet)==null?void 0:d.spellId)||"",spellName:((f=e.tenet)==null?void 0:f.spellName)||"",header:((m=e.tenet)==null?void 0:m.header)||"",description:((h=e.tenet)==null?void 0:h.description)||"",effects:((p=e.tenet)==null?void 0:p.effects)||[]},favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[]}}function FF(e){var t,n,s,r;return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,type:e.type,description:((t=e.tenet)==null?void 0:t.description)||"",tenetDescription:((n=e.tenet)==null?void 0:n.description)||"",followerPower:((s=e.boon1)==null?void 0:s.spellName)||"",devoteePower:((r=e.boon2)==null?void 0:r.spellName)||"",favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[],originalReligion:e}}function HF(e){return e?e.map(FF):[]}function UF(e,t){if(!(!e||!t))return e.find(n=>n.name.toLowerCase().replace(/\s+/g,"-")===t)}function Ob({religions:e,selectedDeityId:t,onDeitySelect:n,placeholder:s="Search for a deity to follow...",className:r,disabled:i=!1}){const[o,l]=g.useState(""),{filteredReligions:c}=BF(e,o),u=g.useMemo(()=>HF(c),[c]),d=p=>{const y={Divine:"bg-blue-100 text-blue-800 border-blue-200","Daedric Prince":"bg-red-100 text-red-800 border-red-200",Tribunal:"bg-purple-100 text-purple-800 border-purple-200",Ancestor:"bg-green-100 text-green-800 border-green-200","Nordic Deity":"bg-orange-100 text-orange-800 border-orange-200","Yokudan Deity":"bg-yellow-100 text-yellow-800 border-yellow-200","Khajiiti Deity":"bg-indigo-100 text-indigo-800 border-indigo-200",Deity:"bg-gray-100 text-gray-800 border-gray-200"};return a.jsx(q,{variant:"outline",className:I("text-xs font-medium",y[p]||y.Deity),children:p})},f=g.useMemo(()=>u.map(p=>({id:p.id,label:p.name,description:p.tenetDescription,category:p.type,badge:d(p.type),metadata:{originalReligion:p.originalReligion,favoredRaces:p.favoredRaces}})),[u]),m=p=>{n(p.id)},h=(p,y)=>{var b;return a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium",children:p.label}),p.badge]}),p.description&&a.jsx(Me,{text:p.description,className:"text-sm text-muted-foreground line-clamp-2 mb-1"}),zn()&&((b=p.metadata)==null?void 0:b.favoredRaces)&&p.metadata.favoredRaces.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qe,{className:"h-3 w-3 text-skyrim-gold"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Favors: ",p.metadata.favoredRaces.join(", ")]})]})]})})};return a.jsx(vu,{options:f,onSelect:m,placeholder:s,className:r,disabled:i,renderOption:h,emptyMessage:"No deity found.",searchQuery:o,onSearchQueryChange:l})}function Bh({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const s=n.split(/(<[^>]+>)/g);return a.jsx("div",{className:t,children:s.map((r,i)=>{if(r.startsWith("<")&&r.endsWith(">")){const o=r.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:o},i)}return r})})}function VF({description:e}){if(!e)return null;const n=Um(e).split(/(<[^>]+>)/g);return a.jsx(ve,{className:"text-xs text-muted-foreground",children:n.map((s,r)=>{if(s.startsWith("<")&&s.endsWith(">")){const i=s.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:i},r)}return s})})}function Fh({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=Um(e);r=r.replace(/<[^>]*>/g,""),r=r.replace(/<mag>/g,t.toString()),r=r.replace(/<magnitude>/g,t.toString()),r=r.replace(/<dur>/g,n.toString()),r=r.replace(/<duration>/g,n.toString()),s>0&&(r=r.replace(/<area>/g,s.toString())),r=r.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const i=r.split(/(<[^>]+>)/g);return a.jsx(ve,{className:"text-xs text-muted-foreground",children:i.map((o,l)=>{if(o.startsWith("<")&&o.endsWith(">")){const c=o.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},l)}return o})})}function Hh(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Uh(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],s=t.some(i=>i.test(e)),r=n.some(i=>i.test(e));return{hasMagnitude:s,hasDuration:r}}const GF={Restoration:a.jsx(Ys,{className:"h-4 w-4 text-green-500"}),Destruction:a.jsx(wl,{className:"h-4 w-4 text-red-500"}),Alteration:a.jsx(at,{className:"h-4 w-4 text-blue-500"}),Illusion:a.jsx(Fo,{className:"h-4 w-4 text-purple-500"}),Conjuration:a.jsx(ln,{className:"h-4 w-4 text-purple-500"}),Enchanting:a.jsx(_a,{className:"h-4 w-4 text-blue-500"}),Alchemy:a.jsx(Hx,{className:"h-4 w-4 text-green-500"}),"Light Armor":a.jsx(at,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":a.jsx(at,{className:"h-4 w-4 text-gray-500"}),"One-Handed":a.jsx(xi,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":a.jsx(xi,{className:"h-4 w-4 text-red-500"}),Archery:a.jsx(ns,{className:"h-4 w-4 text-green-500"}),Block:a.jsx(at,{className:"h-4 w-4 text-yellow-500"}),Smithing:a.jsx(at,{className:"h-4 w-4 text-gray-500"}),Speechcraft:a.jsx(Fo,{className:"h-4 w-4 text-blue-500"}),Sneak:a.jsx(bl,{className:"h-4 w-4 text-purple-500"}),Lockpicking:a.jsx(Uo,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:a.jsx(Uo,{className:"h-4 w-4 text-purple-500"})},qF={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},Ib={sm:"text-xs px-2 py-0.5"};function ZF({item:e,originalReligion:t,isExpanded:n=!1,onToggle:s,className:r,showBlessings:i=!0,showTenets:o=!0,showBoons:l=!0,showFavoredRaces:c=!0,disableHover:u,showToggle:d}){var h,p,y,b,v,x,w,j;const f=N=>{switch(N){case"positive":return a.jsx(ma,{className:"h-4 w-4 text-green-500"});case"negative":return a.jsx(ko,{className:"h-4 w-4 text-red-500"});case"neutral":return a.jsx(Fx,{className:"h-4 w-4 text-blue-500"})}},m=N=>GF[N]||a.jsx(qe,{className:"h-4 w-4 text-skyrim-gold"});return a.jsxs(ge,{expanded:n,onToggle:s,className:r,disableHover:u,children:[a.jsxs(ge.Header,{children:[d&&a.jsx(os,{itemId:e.id,itemType:"religion",itemName:e.name}),a.jsx("div",{className:"flex-1",children:a.jsx(je,{className:"text-primary font-semibold",children:e.name})}),e.category&&a.jsx(q,{variant:"outline",className:I(qF[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",Ib.sm,"font-medium transition-colors"),children:e.category}),zn()&&c&&t&&Array.isArray(t.favoredRaces)&&t.favoredRaces.length>0&&a.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((N,k)=>a.jsxs(q,{variant:"outline",className:I("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",Ib.sm,"font-medium transition-colors"),children:[a.jsx(qe,{className:"h-3 w-3 mr-1"}),"Favors ",N]},k))})]}),a.jsxs(ge.Summary,{children:[a.jsx("div",{className:"line-clamp-2",children:a.jsx(Bh,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(h=e.effects)==null?void 0:h.slice(0,2).map((N,k)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:N.description,children:[f(N.type),a.jsx("span",{className:"font-medium",children:N.name})]},k)),zn()&&c&&((p=t==null?void 0:t.favoredRaces)==null?void 0:p.slice(0,2).map((N,k)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[a.jsx(qe,{className:"h-3 w-3 text-skyrim-gold"}),a.jsx("span",{className:"font-medium",children:N})]},`race-${k}`)))]})]}),a.jsxs(ge.Details,{children:[e.description&&a.jsx("div",{children:a.jsx(Bh,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),zn()&&c&&Array.isArray(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((N,k)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[a.jsx(qe,{className:"h-4 w-4 text-skyrim-gold"}),a.jsx("span",{className:"text-sm font-medium",children:N})]},k))})]}),Array.isArray(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),a.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((N,k)=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ko,{className:"h-4 w-4 text-red-500 mt-0.5"}),a.jsx(Bh,{text:N,className:"text-sm text-muted-foreground"})]})},k))})]}),i&&Array.isArray((y=t==null?void 0:t.blessing)==null?void 0:y.effects)&&t.blessing.effects.length>0&&a.jsxs("div",{children:[a.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),a.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(N=>N.effectType!=="1"&&N.effectType!=="3").map((N,k)=>{const{hasDuration:S}=Uh(N.effectDescription);return a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&m(N.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ve,{className:"font-medium text-sm mb-1",children:N.effectName}),a.jsx(Fh,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),S&&N.duration>0&&a.jsxs(ve,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",Hh(N.duration),"."]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&a.jsxs("span",{children:["Area: ",N.area]})})]})]})},k)})})]}),o&&Array.isArray((b=t==null?void 0:t.tenet)==null?void 0:b.effects)&&t.tenet.effects.length>0&&a.jsxs("div",{children:[a.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((N,k)=>N.effectDescription.split(".").filter(E=>E.trim().length>0).map((E,C)=>a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.targetAttribute&&m(N.targetAttribute)]}),a.jsx("div",{className:"flex-1",children:a.jsx(VF,{description:E.trim()+"."})})]},`${k}-${C}`)))})]}),l&&(Array.isArray((v=t==null?void 0:t.boon1)==null?void 0:v.effects)&&t.boon1.effects.length>0||Array.isArray((x=t==null?void 0:t.boon2)==null?void 0:x.effects)&&t.boon2.effects.length>0)&&a.jsxs("div",{children:[a.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),a.jsxs("div",{className:"space-y-4",children:[Array.isArray((w=t==null?void 0:t.boon1)==null?void 0:w.effects)&&t.boon1.effects.length>0&&a.jsxs("div",{children:[a.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),a.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((N,k)=>{const{hasDuration:S}=Uh(N.effectDescription);return a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&m(N.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ve,{className:"font-medium text-sm mb-1",children:N.effectName}),a.jsx(Fh,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),S&&N.duration>0&&a.jsxs(ve,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Hh(N.duration),"."]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&a.jsxs("span",{children:["Area: ",N.area]})})]})]})},k)})})]}),Array.isArray((j=t==null?void 0:t.boon2)==null?void 0:j.effects)&&t.boon2.effects.length>0&&a.jsxs("div",{children:[a.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),a.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((N,k)=>{const{hasDuration:S}=Uh(N.effectDescription);return a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&m(N.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ve,{className:"font-medium text-sm mb-1",children:N.effectName}),a.jsx(Fh,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),S&&N.duration>0&&a.jsxs(ve,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Hh(N.duration),"."]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&a.jsxs("span",{children:["Area: ",N.area]})})]})]})},k)})})]})]})]})]})]})}function YF(){const{data:e,loading:t,error:n}=Pk();return{religions:e||[],loading:t,error:n}}function tE({className:e}){const{religions:t,loading:n,error:s}=YF(),{build:r,setReligion:i}=nt(),o=tt(),[l,c]=g.useState(!0),u=r.religion?UF(t,r.religion):null,d=()=>{o("/build/religions")},f=()=>{c(!l)};if(n)return a.jsx(Wt,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading religions..."})});if(s)return a.jsx(Wt,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:a.jsxs("div",{className:"text-sm text-destructive",children:["Error loading religions: ",s]})});if(!u)return a.jsxs(Wt,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's religion"}),a.jsx(Ob,{religions:t,selectedDeityId:r.religion,onDeitySelect:i,placeholder:"Search for a religion...",className:"w-full"})]});const m=EC(u);return a.jsxs(Wt,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[a.jsx(Ob,{religions:t,selectedDeityId:r.religion,onDeitySelect:i,placeholder:`Religion: Select a religion (${u.name})`,className:"w-full"}),a.jsx(ZF,{item:m,originalReligion:u,isExpanded:l,onToggle:f,className:"border-0 shadow-none",disableHover:!0,showToggle:!1,showBlessings:!1,showTenets:!0,showBoons:!0,showFavoredRaces:zn()})]})}function XF(){const{data:e,loading:t,error:n}=l8();return{blessings:e||[],loading:t,error:n}}function WF(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function KF({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<mag>/g,t.toString()).replace(/<magnitude>/g,t.toString()).replace(/<dur>/g,n.toString()).replace(/<duration>/g,n.toString()).replace(/<area>/g,s.toString());return r=r.replace(/\b(magnitude|mag)\b/gi,t.toString()).replace(/\b(duration|dur)\b/gi,n.toString()).replace(/\b(area)\b/gi,s.toString()),a.jsx("div",{className:"text-sm text-muted-foreground",children:r})}function nE({className:e}){const{build:t,setFavoriteBlessing:n}=nt(),s=tt(),{blessings:r,loading:i,error:o}=XF(),l=t.favoriteBlessing?r.find(u=>u.id===t.favoriteBlessing):null,c=()=>{s("/build/religions")};return i?a.jsx(Wt,{title:"Favorite Blessing",navigateTo:"religions",onNavigate:c,className:e,children:a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading blessings..."})}):o?a.jsx(Wt,{title:"Favorite Blessing",navigateTo:"religions",onNavigate:c,className:e,children:a.jsxs("div",{className:"text-sm text-destructive",children:["Error loading blessings: ",o]})}):l?a.jsxs(Wt,{title:"Favorite Blessing",navigateTo:"religions",onNavigate:c,className:e,children:[a.jsx($b,{blessings:r,selectedBlessingId:t.favoriteBlessing,onBlessingSelect:n,placeholder:`Favorite Blessing: Select a blessing source (${l.name})`,className:"w-full"}),a.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-card",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx(el,{religionName:l.name,size:"lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-lg font-semibold text-primary truncate",children:l.blessingName}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l.effects.length," effect",l.effects.length!==1?"s":""]})]})]}),a.jsx("div",{className:"space-y-2",children:l.effects.slice(0,2).map((u,d)=>a.jsxs("div",{className:"flex items-start gap-2 p-2 bg-muted/30 rounded-lg",children:[a.jsx(ln,{className:"h-4 w-4 text-skyrim-gold mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm mb-1",children:u.name}),a.jsx(KF,{description:u.description,magnitude:u.magnitude,duration:u.duration,area:u.area}),(u.duration>0||u.area>0)&&a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[u.duration>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Nr,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",WF(u.duration)]})]}),u.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ns,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",u.area]})]})]})]})]},d))}),l.effects.length>2&&a.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",l.effects.length-2," more effect",l.effects.length-2!==1?"s":""]})})]})]}):a.jsxs(Wt,{title:"Favorite Blessing",navigateTo:"religions",onNavigate:c,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's favorite blessing (the blessing you expect to use most frequently)"}),a.jsx($b,{blessings:r,selectedBlessingId:t.favoriteBlessing,onBlessingSelect:n,placeholder:"Search for a blessing source...",className:"w-full"})]})}function sE({level:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return e<=0?null:a.jsxs(q,{variant:"secondary",className:I("bg-blue-100 text-blue-800 border-blue-200",n[t]),children:["Min: Level ",e]})}function QF({name:e,description:t,category:n,assignmentType:s,perkCount:r,minLevel:i,startingLevel:o,onSelect:l,onMajorClick:c,onMinorClick:u,canAssignMajor:d,canAssignMinor:f,className:m}){const h=y=>{y.stopPropagation(),c(y)},p=y=>{y.stopPropagation(),u(y)};return a.jsxs("div",{className:I("p-4 border rounded-lg hover:bg-muted/50 transition-colors",m),onClick:l,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Vm,{skillName:e,size:"2xl",className:"flex-shrink-0"}),a.jsx("h3",{className:"font-semibold text-lg cursor-pointer",children:e})]}),a.jsx(JF,{type:s})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:t}),a.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[a.jsx(e9,{category:n}),a.jsx(t9,{count:r}),typeof i=="number"&&i>0&&a.jsx(sE,{level:i}),typeof o=="number"&&o>0&&a.jsxs(q,{variant:"outline",className:"text-xs bg-green-100 text-green-800 border-green-300",children:["Starting: ",o]})]}),a.jsxs("div",{className:"flex gap-2","data-assignment-control":!0,children:[a.jsx(U,{size:"sm",variant:s==="major"?"default":"outline",onClick:h,disabled:!d&&s!=="major",className:I("flex-1 text-xs",s==="major"&&"bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-500"),children:s==="major"?"Remove Major":"Major"}),a.jsx(U,{size:"sm",variant:s==="minor"?"default":"outline",onClick:p,disabled:!f&&s!=="minor",className:I("flex-1 text-xs",s==="minor"&&"bg-gray-500 hover:bg-gray-600 text-white border-gray-400"),children:s==="minor"?"Remove Minor":"Minor"})]})]})}function JF({type:e,size:t="sm"}){const n={major:"bg-yellow-600 text-white hover:bg-yellow-700 border-yellow-500",minor:"bg-gray-500 text-white hover:bg-gray-600 border-gray-400",none:"bg-gray-100 text-gray-800 border border-gray-300"},s={major:"Major",minor:"Minor",none:"Unassigned"},r={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a.jsx(q,{className:I(n[e],r[t]),children:s[e]})}function e9({category:e,size:t="sm"}){const n={Combat:"bg-red-100 text-red-800 border-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200"},s={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a.jsx(q,{variant:"outline",className:I(n[e]||"bg-gray-100 text-gray-800 border-gray-300",s[t]),children:e})}function t9({count:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a.jsxs(q,{variant:"secondary",className:I("bg-purple-100 text-purple-800 border-purple-200",n[t]),children:[e," Perks"]})}function n9(){return a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loading Skills..."}),a.jsx("p",{className:"text-muted-foreground",children:"Initializing skill and perk data..."})]})})}function s9({error:e}){return a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs("div",{className:"text-center text-red-600",children:[a.jsx(Ho,{className:"h-12 w-12 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Skills"}),a.jsx("p",{className:"text-muted-foreground",children:e})]})})}const r9={Alchemy:"alchemy.svg",Alteration:"alteration.svg",Block:"block.svg",Conjuration:"conjuration.svg",Destruction:"destruction.svg",Enchanting:"enchanting.svg",Evasion:"evasion.svg",Finesse:"finesse.svg","Heavy Armor":"heavyarmor.svg",Illusion:"illusion.svg",Marksman:"marksman.svg","One-handed":"one-handed.svg",Restoration:"restoration.svg",Smithing:"smithing.svg",Sneak:"sneak.svg",Speech:"speech.svg","Two-handed":"two-handed.svg",Wayfarer:"wayfarer.svg"};function Vm({skillName:e,size:t="md",className:n}){const s=r9[e],r=s?en(`assets/skills/${s}`):void 0;return a.jsx(Mm,{imgSrc:r,alt:e,size:t,className:n,showBorder:!0})}function a9({skills:e,onSkillSelect:t,onAssignMajor:n,onAssignMinor:s,onRemoveAssignment:r,selectedSkillId:i,className:o}){return a.jsx("div",{className:I("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",o),children:e.map(l=>a.jsx(QF,{name:l.name,description:l.description,category:l.category,assignmentType:l.assignmentType,perkCount:l.perkCount,minLevel:l.minLevel,startingLevel:l.startingLevel,canAssignMajor:l.canAssignMajor,canAssignMinor:l.canAssignMinor,onSelect:()=>t(l.id),onMajorClick:c=>{c.preventDefault(),n(l.id)},onMinorClick:c=>{c.preventDefault(),s(l.id)},className:i===l.id?"ring-2 ring-primary bg-primary/5":""},l.id))})}function dn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)(s=dn(e[n]))!==""&&(t+=(t&&" ")+s);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var rE={exports:{}},aE={},iE={exports:{}},oE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=g;function i9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o9=typeof Object.is=="function"?Object.is:i9,l9=tl.useState,c9=tl.useEffect,u9=tl.useLayoutEffect,d9=tl.useDebugValue;function f9(e,t){var n=t(),s=l9({inst:{value:n,getSnapshot:t}}),r=s[0].inst,i=s[1];return u9(function(){r.value=n,r.getSnapshot=t,Vh(r)&&i({inst:r})},[e,n,t]),c9(function(){return Vh(r)&&i({inst:r}),e(function(){Vh(r)&&i({inst:r})})},[e]),d9(n),n}function Vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o9(e,n)}catch{return!0}}function m9(e,t){return t()}var h9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m9:f9;oE.useSyncExternalStore=tl.useSyncExternalStore!==void 0?tl.useSyncExternalStore:h9;iE.exports=oE;var g9=iE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=g,p9=g9;function x9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v9=typeof Object.is=="function"?Object.is:x9,y9=p9.useSyncExternalStore,b9=Gm.useRef,w9=Gm.useEffect,j9=Gm.useMemo,N9=Gm.useDebugValue;aE.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var i=b9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=j9(function(){function c(h){if(!u){if(u=!0,d=h,h=s(h),r!==void 0&&o.hasValue){var p=o.value;if(r(p,h))return f=p}return f=h}if(p=f,v9(d,h))return p;var y=s(h);return r!==void 0&&r(p,y)?(d=h,p):(d=h,f=y)}var u=!1,d,f,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,s,r]);var l=y9(e,i[0],i[1]);return w9(function(){o.hasValue=!0,o.value=l},[l]),N9(l),l};rE.exports=aE;var S9=rE.exports;const k9=zx(S9),C9={},Bb=e=>{let t;const n=new Set,s=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(p=>p(t,h))}},r=()=>t,c={setState:s,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(C9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(s,r,c);return c},E9=e=>e?Bb(e):Bb,{useDebugValue:T9}=P,{useSyncExternalStoreWithSelector:A9}=k9,_9=e=>e;function lE(e,t=_9,n){const s=A9(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return T9(s),s}const Fb=(e,t)=>{const n=E9(e),s=(r,i=t)=>lE(n,r,i);return Object.assign(s,n),s},M9=(e,t)=>e?Fb(e,t):Fb;function bn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var R9={value:()=>{}};function qm(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Pd(n)}function Pd(e){this._=e}function D9(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",r=n.indexOf(".");if(r>=0&&(s=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Pd.prototype=qm.prototype={constructor:Pd,on:function(e,t){var n=this._,s=D9(e+"",n),r,i=-1,o=s.length;if(arguments.length<2){for(;++i<o;)if((r=(e=s[i]).type)&&(r=L9(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(r=(e=s[i]).type)n[r]=Hb(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Hb(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Pd(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),s=0,r,i;s<r;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],s=0,r=i.length;s<r;++s)i[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)}};function L9(e,t){for(var n=0,s=e.length,r;n<s;++n)if((r=e[n]).name===t)return r.value}function Hb(e,t,n){for(var s=0,r=e.length;s<r;++s)if(e[s].name===t){e[s]=R9,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}var pp="http://www.w3.org/1999/xhtml";const Ub={svg:"http://www.w3.org/2000/svg",xhtml:pp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zm(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ub.hasOwnProperty(t)?{space:Ub[t],local:e}:e}function z9(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===pp&&t.documentElement.namespaceURI===pp?t.createElement(e):t.createElementNS(n,e)}}function P9(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function cE(e){var t=Zm(e);return(t.local?P9:z9)(t)}function $9(){}function q0(e){return e==null?$9:function(){return this.querySelector(e)}}function O9(e){typeof e!="function"&&(e=q0(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,l=s[r]=new Array(o),c,u,d=0;d<o;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Fn(s,this._parents)}function I9(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function B9(){return[]}function uE(e){return e==null?B9:function(){return this.querySelectorAll(e)}}function F9(e){return function(){return I9(e.apply(this,arguments))}}function H9(e){typeof e=="function"?e=F9(e):e=uE(e);for(var t=this._groups,n=t.length,s=[],r=[],i=0;i<n;++i)for(var o=t[i],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(s.push(e.call(c,c.__data__,u,o)),r.push(c));return new Fn(s,r)}function dE(e){return function(){return this.matches(e)}}function fE(e){return function(t){return t.matches(e)}}var U9=Array.prototype.find;function V9(e){return function(){return U9.call(this.children,e)}}function G9(){return this.firstElementChild}function q9(e){return this.select(e==null?G9:V9(typeof e=="function"?e:fE(e)))}var Z9=Array.prototype.filter;function Y9(){return Array.from(this.children)}function X9(e){return function(){return Z9.call(this.children,e)}}function W9(e){return this.selectAll(e==null?Y9:X9(typeof e=="function"?e:fE(e)))}function K9(e){typeof e!="function"&&(e=dE(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,l=s[r]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Fn(s,this._parents)}function mE(e){return new Array(e.length)}function Q9(){return new Fn(this._enter||this._groups.map(mE),this._parents)}function wf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}wf.prototype={constructor:wf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function J9(e){return function(){return e}}function e7(e,t,n,s,r,i){for(var o=0,l,c=t.length,u=i.length;o<u;++o)(l=t[o])?(l.__data__=i[o],s[o]=l):n[o]=new wf(e,i[o]);for(;o<c;++o)(l=t[o])&&(r[o]=l)}function t7(e,t,n,s,r,i,o){var l,c,u=new Map,d=t.length,f=i.length,m=new Array(d),h;for(l=0;l<d;++l)(c=t[l])&&(m[l]=h=o.call(c,c.__data__,l,t)+"",u.has(h)?r[l]=c:u.set(h,c));for(l=0;l<f;++l)h=o.call(e,i[l],l,i)+"",(c=u.get(h))?(s[l]=c,c.__data__=i[l],u.delete(h)):n[l]=new wf(e,i[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(m[l])===c&&(r[l]=c)}function n7(e){return e.__data__}function s7(e,t){if(!arguments.length)return Array.from(this,n7);var n=t?t7:e7,s=this._parents,r=this._groups;typeof e!="function"&&(e=J9(e));for(var i=r.length,o=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var d=s[u],f=r[u],m=f.length,h=r7(e.call(d,d&&d.__data__,u,s)),p=h.length,y=l[u]=new Array(p),b=o[u]=new Array(p),v=c[u]=new Array(m);n(d,f,y,b,v,h,t);for(var x=0,w=0,j,N;x<p;++x)if(j=y[x]){for(x>=w&&(w=x+1);!(N=b[w])&&++w<p;);j._next=N||null}}return o=new Fn(o,s),o._enter=l,o._exit=c,o}function r7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function a7(){return new Fn(this._exit||this._groups.map(mE),this._parents)}function i7(e,t,n){var s=this.enter(),r=this,i=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),s&&r?s.merge(r).order():r}function o7(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,r=n.length,i=s.length,o=Math.min(r,i),l=new Array(r),c=0;c<o;++c)for(var u=n[c],d=s[c],f=u.length,m=l[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||d[p])&&(m[p]=h);for(;c<r;++c)l[c]=n[c];return new Fn(l,this._parents)}function l7(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s=e[t],r=s.length-1,i=s[r],o;--r>=0;)(o=s[r])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function c7(e){e||(e=u7);function t(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var n=this._groups,s=n.length,r=new Array(s),i=0;i<s;++i){for(var o=n[i],l=o.length,c=r[i]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new Fn(r,this._parents).order()}function u7(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function d7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function f7(){return Array.from(this)}function m7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,i=s.length;r<i;++r){var o=s[r];if(o)return o}return null}function h7(){let e=0;for(const t of this)++e;return e}function g7(){return!this.node()}function p7(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var r=t[n],i=0,o=r.length,l;i<o;++i)(l=r[i])&&e.call(l,l.__data__,i,r);return this}function x7(e){return function(){this.removeAttribute(e)}}function v7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function y7(e,t){return function(){this.setAttribute(e,t)}}function b7(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function w7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function j7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function N7(e,t){var n=Zm(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?v7:x7:typeof t=="function"?n.local?j7:w7:n.local?b7:y7)(n,t))}function hE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function S7(e){return function(){this.style.removeProperty(e)}}function k7(e,t,n){return function(){this.style.setProperty(e,t,n)}}function C7(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function E7(e,t,n){return arguments.length>1?this.each((t==null?S7:typeof t=="function"?C7:k7)(e,t,n??"")):nl(this.node(),e)}function nl(e,t){return e.style.getPropertyValue(t)||hE(e).getComputedStyle(e,null).getPropertyValue(t)}function T7(e){return function(){delete this[e]}}function A7(e,t){return function(){this[e]=t}}function _7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function M7(e,t){return arguments.length>1?this.each((t==null?T7:typeof t=="function"?_7:A7)(e,t)):this.node()[e]}function gE(e){return e.trim().split(/^|\s+/)}function Z0(e){return e.classList||new pE(e)}function pE(e){this._node=e,this._names=gE(e.getAttribute("class")||"")}pE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xE(e,t){for(var n=Z0(e),s=-1,r=t.length;++s<r;)n.add(t[s])}function vE(e,t){for(var n=Z0(e),s=-1,r=t.length;++s<r;)n.remove(t[s])}function R7(e){return function(){xE(this,e)}}function D7(e){return function(){vE(this,e)}}function L7(e,t){return function(){(t.apply(this,arguments)?xE:vE)(this,e)}}function z7(e,t){var n=gE(e+"");if(arguments.length<2){for(var s=Z0(this.node()),r=-1,i=n.length;++r<i;)if(!s.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?L7:t?R7:D7)(n,t))}function P7(){this.textContent=""}function $7(e){return function(){this.textContent=e}}function O7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function I7(e){return arguments.length?this.each(e==null?P7:(typeof e=="function"?O7:$7)(e)):this.node().textContent}function B7(){this.innerHTML=""}function F7(e){return function(){this.innerHTML=e}}function H7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function U7(e){return arguments.length?this.each(e==null?B7:(typeof e=="function"?H7:F7)(e)):this.node().innerHTML}function V7(){this.nextSibling&&this.parentNode.appendChild(this)}function G7(){return this.each(V7)}function q7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z7(){return this.each(q7)}function Y7(e){var t=typeof e=="function"?e:cE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function X7(){return null}function W7(e,t){var n=typeof e=="function"?e:cE(e),s=t==null?X7:typeof t=="function"?t:q0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function K7(){var e=this.parentNode;e&&e.removeChild(this)}function Q7(){return this.each(K7)}function J7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eH(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tH(e){return this.select(e?eH:J7)}function nH(e){return arguments.length?this.property("__data__",e):this.node().__data__}function sH(e){return function(t){e.call(this,t,this.__data__)}}function rH(e){return e.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function aH(e){return function(){var t=this.__on;if(t){for(var n=0,s=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++s]=i;++s?t.length=s:delete this.__on}}}function iH(e,t,n){return function(){var s=this.__on,r,i=sH(t);if(s){for(var o=0,l=s.length;o<l;++o)if((r=s[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},s?s.push(r):this.__on=[r]}}function oH(e,t,n){var s=rH(e+""),r,i=s.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(r=0,d=l[c];r<i;++r)if((o=s[r]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?iH:aH,r=0;r<i;++r)this.each(l(s[r],t,n));return this}function yE(e,t,n){var s=hE(e),r=s.CustomEvent;typeof r=="function"?r=new r(t,n):(r=s.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function lH(e,t){return function(){return yE(this,e,t)}}function cH(e,t){return function(){return yE(this,e,t.apply(this,arguments))}}function uH(e,t){return this.each((typeof t=="function"?cH:lH)(e,t))}function*dH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,i=s.length,o;r<i;++r)(o=s[r])&&(yield o)}var bE=[null];function Fn(e,t){this._groups=e,this._parents=t}function wu(){return new Fn([[document.documentElement]],bE)}function fH(){return this}Fn.prototype=wu.prototype={constructor:Fn,select:O9,selectAll:H9,selectChild:q9,selectChildren:W9,filter:K9,data:s7,enter:Q9,exit:a7,join:i7,merge:o7,selection:fH,order:l7,sort:c7,call:d7,nodes:f7,node:m7,size:h7,empty:g7,each:p7,attr:N7,style:E7,property:M7,classed:z7,text:I7,html:U7,raise:G7,lower:Z7,append:Y7,insert:W7,remove:Q7,clone:tH,datum:nH,on:oH,dispatch:uH,[Symbol.iterator]:dH};function hs(e){return typeof e=="string"?new Fn([[document.querySelector(e)]],[document.documentElement]):new Fn([[e]],bE)}function mH(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ds(e,t){if(e=mH(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const hH={passive:!1},Pc={capture:!0,passive:!1};function Gh(e){e.stopImmediatePropagation()}function Ao(e){e.preventDefault(),e.stopImmediatePropagation()}function wE(e){var t=e.document.documentElement,n=hs(e).on("dragstart.drag",Ao,Pc);"onselectstart"in t?n.on("selectstart.drag",Ao,Pc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jE(e,t){var n=e.document.documentElement,s=hs(e).on("dragstart.drag",null);t&&(s.on("click.drag",Ao,Pc),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const td=e=>()=>e;function xp(e,{sourceEvent:t,subject:n,target:s,identifier:r,active:i,x:o,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}xp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function gH(e){return!e.ctrlKey&&!e.button}function pH(){return this.parentNode}function xH(e,t){return t??{x:e.x,y:e.y}}function vH(){return navigator.maxTouchPoints||"ontouchstart"in this}function yH(){var e=gH,t=pH,n=xH,s=vH,r={},i=qm("start","drag","end"),o=0,l,c,u,d,f=0;function m(j){j.on("mousedown.drag",h).filter(s).on("touchstart.drag",b).on("touchmove.drag",v,hH).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(j,N){if(!(d||!e.call(this,j,N))){var k=w(this,t.call(this,j,N),j,N,"mouse");k&&(hs(j.view).on("mousemove.drag",p,Pc).on("mouseup.drag",y,Pc),wE(j.view),Gh(j),u=!1,l=j.clientX,c=j.clientY,k("start",j))}}function p(j){if(Ao(j),!u){var N=j.clientX-l,k=j.clientY-c;u=N*N+k*k>f}r.mouse("drag",j)}function y(j){hs(j.view).on("mousemove.drag mouseup.drag",null),jE(j.view,u),Ao(j),r.mouse("end",j)}function b(j,N){if(e.call(this,j,N)){var k=j.changedTouches,S=t.call(this,j,N),E=k.length,C,T;for(C=0;C<E;++C)(T=w(this,S,j,N,k[C].identifier,k[C]))&&(Gh(j),T("start",j,k[C]))}}function v(j){var N=j.changedTouches,k=N.length,S,E;for(S=0;S<k;++S)(E=r[N[S].identifier])&&(Ao(j),E("drag",j,N[S]))}function x(j){var N=j.changedTouches,k=N.length,S,E;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),S=0;S<k;++S)(E=r[N[S].identifier])&&(Gh(j),E("end",j,N[S]))}function w(j,N,k,S,E,C){var T=i.copy(),_=Ds(C||k,N),O,L,A;if((A=n.call(j,new xp("beforestart",{sourceEvent:k,target:m,identifier:E,active:o,x:_[0],y:_[1],dx:0,dy:0,dispatch:T}),S))!=null)return O=A.x-_[0]||0,L=A.y-_[1]||0,function $(D,z,M){var R=_,B;switch(D){case"start":r[E]=$,B=o++;break;case"end":delete r[E],--o;case"drag":_=Ds(M||z,N),B=o;break}T.call(D,j,new xp(D,{sourceEvent:z,subject:A,target:m,identifier:E,active:B,x:_[0]+O,y:_[1]+L,dx:_[0]-R[0],dy:_[1]-R[1],dispatch:T}),S)}}return m.filter=function(j){return arguments.length?(e=typeof j=="function"?j:td(!!j),m):e},m.container=function(j){return arguments.length?(t=typeof j=="function"?j:td(j),m):t},m.subject=function(j){return arguments.length?(n=typeof j=="function"?j:td(j),m):n},m.touchable=function(j){return arguments.length?(s=typeof j=="function"?j:td(!!j),m):s},m.on=function(){var j=i.on.apply(i,arguments);return j===i?m:j},m.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,m):Math.sqrt(f)},m}function Y0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function NE(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function ju(){}var $c=.7,jf=1/$c,_o="\\s*([+-]?\\d+)\\s*",Oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bH=/^#([0-9a-f]{3,8})$/,wH=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),jH=new RegExp(`^rgb\\(${Hs},${Hs},${Hs}\\)$`),NH=new RegExp(`^rgba\\(${_o},${_o},${_o},${Oc}\\)$`),SH=new RegExp(`^rgba\\(${Hs},${Hs},${Hs},${Oc}\\)$`),kH=new RegExp(`^hsl\\(${Oc},${Hs},${Hs}\\)$`),CH=new RegExp(`^hsla\\(${Oc},${Hs},${Hs},${Oc}\\)$`),Vb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Y0(ju,Ic,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gb,formatHex:Gb,formatHex8:EH,formatHsl:TH,formatRgb:qb,toString:qb});function Gb(){return this.rgb().formatHex()}function EH(){return this.rgb().formatHex8()}function TH(){return SE(this).formatHsl()}function qb(){return this.rgb().formatRgb()}function Ic(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Zb(t):n===3?new yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?nd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?nd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wH.exec(e))?new yn(t[1],t[2],t[3],1):(t=jH.exec(e))?new yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NH.exec(e))?nd(t[1],t[2],t[3],t[4]):(t=SH.exec(e))?nd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=kH.exec(e))?Wb(t[1],t[2]/100,t[3]/100,1):(t=CH.exec(e))?Wb(t[1],t[2]/100,t[3]/100,t[4]):Vb.hasOwnProperty(e)?Zb(Vb[e]):e==="transparent"?new yn(NaN,NaN,NaN,0):null}function Zb(e){return new yn(e>>16&255,e>>8&255,e&255,1)}function nd(e,t,n,s){return s<=0&&(e=t=n=NaN),new yn(e,t,n,s)}function AH(e){return e instanceof ju||(e=Ic(e)),e?(e=e.rgb(),new yn(e.r,e.g,e.b,e.opacity)):new yn}function vp(e,t,n,s){return arguments.length===1?AH(e):new yn(e,t,n,s??1)}function yn(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}Y0(yn,vp,NE(ju,{brighter(e){return e=e==null?jf:Math.pow(jf,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yn(li(this.r),li(this.g),li(this.b),Nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yb,formatHex:Yb,formatHex8:_H,formatRgb:Xb,toString:Xb}));function Yb(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}`}function _H(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}${ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xb(){const e=Nf(this.opacity);return`${e===1?"rgb(":"rgba("}${li(this.r)}, ${li(this.g)}, ${li(this.b)}${e===1?")":`, ${e})`}`}function Nf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function li(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ai(e){return e=li(e),(e<16?"0":"")+e.toString(16)}function Wb(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new gs(e,t,n,s)}function SE(e){if(e instanceof gs)return new gs(e.h,e.s,e.l,e.opacity);if(e instanceof ju||(e=Ic(e)),!e)return new gs;if(e instanceof gs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,r=Math.min(t,n,s),i=Math.max(t,n,s),o=NaN,l=i-r,c=(i+r)/2;return l?(t===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+r:2-i-r,o*=60):l=c>0&&c<1?0:o,new gs(o,l,c,e.opacity)}function MH(e,t,n,s){return arguments.length===1?SE(e):new gs(e,t,n,s??1)}function gs(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}Y0(gs,MH,NE(ju,{brighter(e){return e=e==null?jf:Math.pow(jf,e),new gs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new gs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,r=2*n-s;return new yn(qh(e>=240?e-240:e+120,r,s),qh(e,r,s),qh(e<120?e+240:e-120,r,s),this.opacity)},clamp(){return new gs(Kb(this.h),sd(this.s),sd(this.l),Nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nf(this.opacity);return`${e===1?"hsl(":"hsla("}${Kb(this.h)}, ${sd(this.s)*100}%, ${sd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kb(e){return e=(e||0)%360,e<0?e+360:e}function sd(e){return Math.max(0,Math.min(1,e||0))}function qh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const kE=e=>()=>e;function RH(e,t){return function(n){return e+n*t}}function DH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function LH(e){return(e=+e)==1?CE:function(t,n){return n-t?DH(t,n,e):kE(isNaN(t)?n:t)}}function CE(e,t){var n=t-e;return n?RH(e,n):kE(isNaN(e)?t:e)}const Qb=function e(t){var n=LH(t);function s(r,i){var o=n((r=vp(r)).r,(i=vp(i)).r),l=n(r.g,i.g),c=n(r.b,i.b),u=CE(r.opacity,i.opacity);return function(d){return r.r=o(d),r.g=l(d),r.b=c(d),r.opacity=u(d),r+""}}return s.gamma=e,s}(1);function Qr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var yp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zh=new RegExp(yp.source,"g");function zH(e){return function(){return e}}function PH(e){return function(t){return e(t)+""}}function $H(e,t){var n=yp.lastIndex=Zh.lastIndex=0,s,r,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=yp.exec(e))&&(r=Zh.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:Qr(s,r)})),n=Zh.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?PH(c[0].x):zH(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}var Jb=180/Math.PI,bp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function EE(e,t,n,s,r,i){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*s)&&(n-=e*c,s-=t*c),(l=Math.sqrt(n*n+s*s))&&(n/=l,s/=l,c/=l),e*s<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Jb,skewX:Math.atan(c)*Jb,scaleX:o,scaleY:l}}var rd;function OH(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?bp:EE(t.a,t.b,t.c,t.d,t.e,t.f)}function IH(e){return e==null||(rd||(rd=document.createElementNS("http://www.w3.org/2000/svg","g")),rd.setAttribute("transform",e),!(e=rd.transform.baseVal.consolidate()))?bp:(e=e.matrix,EE(e.a,e.b,e.c,e.d,e.e,e.f))}function TE(e,t,n,s){function r(u){return u.length?u.pop()+" ":""}function i(u,d,f,m,h,p){if(u!==f||d!==m){var y=h.push("translate(",null,t,null,n);p.push({i:y-4,x:Qr(u,f)},{i:y-2,x:Qr(d,m)})}else(f||m)&&h.push("translate("+f+t+m+n)}function o(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(r(f)+"rotate(",null,s)-2,x:Qr(u,d)})):d&&f.push(r(f)+"rotate("+d+s)}function l(u,d,f,m){u!==d?m.push({i:f.push(r(f)+"skewX(",null,s)-2,x:Qr(u,d)}):d&&f.push(r(f)+"skewX("+d+s)}function c(u,d,f,m,h,p){if(u!==f||d!==m){var y=h.push(r(h)+"scale(",null,",",null,")");p.push({i:y-4,x:Qr(u,f)},{i:y-2,x:Qr(d,m)})}else(f!==1||m!==1)&&h.push(r(h)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,m),o(u.rotate,d.rotate,f,m),l(u.skewX,d.skewX,f,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(h){for(var p=-1,y=m.length,b;++p<y;)f[(b=m[p]).i]=b.x(h);return f.join("")}}}var BH=TE(OH,"px, ","px)","deg)"),FH=TE(IH,", ",")",")"),HH=1e-12;function ew(e){return((e=Math.exp(e))+1/e)/2}function UH(e){return((e=Math.exp(e))-1/e)/2}function VH(e){return((e=Math.exp(2*e))-1)/(e+1)}const GH=function e(t,n,s){function r(i,o){var l=i[0],c=i[1],u=i[2],d=o[0],f=o[1],m=o[2],h=d-l,p=f-c,y=h*h+p*p,b,v;if(y<HH)v=Math.log(m/u)/t,b=function(S){return[l+S*h,c+S*p,u*Math.exp(t*S*v)]};else{var x=Math.sqrt(y),w=(m*m-u*u+s*y)/(2*u*n*x),j=(m*m-u*u-s*y)/(2*m*n*x),N=Math.log(Math.sqrt(w*w+1)-w),k=Math.log(Math.sqrt(j*j+1)-j);v=(k-N)/t,b=function(S){var E=S*v,C=ew(N),T=u/(n*x)*(C*VH(t*E+N)-UH(N));return[l+T*h,c+T*p,u*C/ew(t*E+N)]}}return b.duration=v*1e3*t/Math.SQRT2,b}return r.rho=function(i){var o=Math.max(.001,+i),l=o*o,c=l*l;return e(o,l,c)},r}(Math.SQRT2,2,4);var sl=0,sc=0,Bl=0,AE=1e3,Sf,rc,kf=0,Si=0,Ym=0,Bc=typeof performance=="object"&&performance.now?performance:Date,_E=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function X0(){return Si||(_E(qH),Si=Bc.now()+Ym)}function qH(){Si=0}function Cf(){this._call=this._time=this._next=null}Cf.prototype=ME.prototype={constructor:Cf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?X0():+n)+(t==null?0:+t),!this._next&&rc!==this&&(rc?rc._next=this:Sf=this,rc=this),this._call=e,this._time=n,wp()},stop:function(){this._call&&(this._call=null,this._time=1/0,wp())}};function ME(e,t,n){var s=new Cf;return s.restart(e,t,n),s}function ZH(){X0(),++sl;for(var e=Sf,t;e;)(t=Si-e._time)>=0&&e._call.call(void 0,t),e=e._next;--sl}function tw(){Si=(kf=Bc.now())+Ym,sl=sc=0;try{ZH()}finally{sl=0,XH(),Si=0}}function YH(){var e=Bc.now(),t=e-kf;t>AE&&(Ym-=t,kf=e)}function XH(){for(var e,t=Sf,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Sf=n);rc=e,wp(s)}function wp(e){if(!sl){sc&&(sc=clearTimeout(sc));var t=e-Si;t>24?(e<1/0&&(sc=setTimeout(tw,e-Bc.now()-Ym)),Bl&&(Bl=clearInterval(Bl))):(Bl||(kf=Bc.now(),Bl=setInterval(YH,AE)),sl=1,_E(tw))}}function nw(e,t,n){var s=new Cf;return t=t==null?0:+t,s.restart(r=>{s.stop(),e(r+t)},t,n),s}var WH=qm("start","end","cancel","interrupt"),KH=[],RE=0,sw=1,jp=2,$d=3,rw=4,Np=5,Od=6;function Xm(e,t,n,s,r,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;QH(e,n,{name:t,index:s,group:r,on:WH,tween:KH,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:RE})}function W0(e,t){var n=ks(e,t);if(n.state>RE)throw new Error("too late; already scheduled");return n}function Js(e,t){var n=ks(e,t);if(n.state>$d)throw new Error("too late; already running");return n}function ks(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function QH(e,t,n){var s=e.__transition,r;s[t]=n,n.timer=ME(i,0,n.time);function i(u){n.state=sw,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,m,h;if(n.state!==sw)return c();for(d in s)if(h=s[d],h.name===n.name){if(h.state===$d)return nw(o);h.state===rw?(h.state=Od,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete s[d]):+d<t&&(h.state=Od,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete s[d])}if(nw(function(){n.state===$d&&(n.state=rw,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=jp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===jp){for(n.state=$d,r=new Array(m=n.tween.length),d=0,f=-1;d<m;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Np,1),f=-1,m=r.length;++f<m;)r[f].call(e,d);n.state===Np&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Od,n.timer.stop(),delete s[t];for(var u in s)return;delete e.__transition}}function Id(e,t){var n=e.__transition,s,r,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((s=n[o]).name!==t){i=!1;continue}r=s.state>jp&&s.state<Np,s.state=Od,s.timer.stop(),s.on.call(r?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[o]}i&&delete e.__transition}}function JH(e){return this.each(function(){Id(this,e)})}function eU(e,t){var n,s;return function(){var r=Js(this,e),i=r.tween;if(i!==n){s=n=i;for(var o=0,l=s.length;o<l;++o)if(s[o].name===t){s=s.slice(),s.splice(o,1);break}}r.tween=s}}function tU(e,t,n){var s,r;if(typeof n!="function")throw new Error;return function(){var i=Js(this,e),o=i.tween;if(o!==s){r=(s=o).slice();for(var l={name:t,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=l;break}c===u&&r.push(l)}i.tween=r}}function nU(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s=ks(this.node(),n).tween,r=0,i=s.length,o;r<i;++r)if((o=s[r]).name===e)return o.value;return null}return this.each((t==null?eU:tU)(n,e,t))}function K0(e,t,n){var s=e._id;return e.each(function(){var r=Js(this,s);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return ks(r,s).value[t]}}function DE(e,t){var n;return(typeof t=="number"?Qr:t instanceof Ic?Qb:(n=Ic(t))?(t=n,Qb):$H)(e,t)}function sU(e){return function(){this.removeAttribute(e)}}function rU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function aU(e,t,n){var s,r=n+"",i;return function(){var o=this.getAttribute(e);return o===r?null:o===s?i:i=t(s=o,n)}}function iU(e,t,n){var s,r=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===s?i:i=t(s=o,n)}}function oU(e,t,n){var s,r,i;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===s&&c===r?i:(r=c,i=t(s=o,l)))}}function lU(e,t,n){var s,r,i;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===s&&c===r?i:(r=c,i=t(s=o,l)))}}function cU(e,t){var n=Zm(e),s=n==="transform"?FH:DE;return this.attrTween(e,typeof t=="function"?(n.local?lU:oU)(n,s,K0(this,"attr."+e,t)):t==null?(n.local?rU:sU)(n):(n.local?iU:aU)(n,s,t))}function uU(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function dU(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function fU(e,t){var n,s;function r(){var i=t.apply(this,arguments);return i!==s&&(n=(s=i)&&dU(e,i)),n}return r._value=t,r}function mU(e,t){var n,s;function r(){var i=t.apply(this,arguments);return i!==s&&(n=(s=i)&&uU(e,i)),n}return r._value=t,r}function hU(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=Zm(e);return this.tween(n,(s.local?fU:mU)(s,t))}function gU(e,t){return function(){W0(this,e).delay=+t.apply(this,arguments)}}function pU(e,t){return t=+t,function(){W0(this,e).delay=t}}function xU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gU:pU)(t,e)):ks(this.node(),t).delay}function vU(e,t){return function(){Js(this,e).duration=+t.apply(this,arguments)}}function yU(e,t){return t=+t,function(){Js(this,e).duration=t}}function bU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vU:yU)(t,e)):ks(this.node(),t).duration}function wU(e,t){if(typeof t!="function")throw new Error;return function(){Js(this,e).ease=t}}function jU(e){var t=this._id;return arguments.length?this.each(wU(t,e)):ks(this.node(),t).ease}function NU(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Js(this,e).ease=n}}function SU(e){if(typeof e!="function")throw new Error;return this.each(NU(this._id,e))}function kU(e){typeof e!="function"&&(e=dE(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,l=s[r]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Dr(s,this._parents,this._name,this._id)}function CU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,s=t.length,r=n.length,i=Math.min(s,r),o=new Array(s),l=0;l<i;++l)for(var c=t[l],u=n[l],d=c.length,f=o[l]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(f[h]=m);for(;l<s;++l)o[l]=t[l];return new Dr(o,this._parents,this._name,this._id)}function EU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function TU(e,t,n){var s,r,i=EU(t)?W0:Js;return function(){var o=i(this,e),l=o.on;l!==s&&(r=(s=l).copy()).on(t,n),o.on=r}}function AU(e,t){var n=this._id;return arguments.length<2?ks(this.node(),n).on.on(e):this.each(TU(n,e,t))}function _U(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function MU(){return this.on("end.remove",_U(this._id))}function RU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=q0(e));for(var s=this._groups,r=s.length,i=new Array(r),o=0;o<r;++o)for(var l=s[o],c=l.length,u=i[o]=new Array(c),d,f,m=0;m<c;++m)(d=l[m])&&(f=e.call(d,d.__data__,m,l))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,Xm(u[m],t,n,m,u,ks(d,n)));return new Dr(i,this._parents,t,n)}function DU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=uE(e));for(var s=this._groups,r=s.length,i=[],o=[],l=0;l<r;++l)for(var c=s[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var m=e.call(d,d.__data__,f,c),h,p=ks(d,n),y=0,b=m.length;y<b;++y)(h=m[y])&&Xm(h,t,n,y,m,p);i.push(m),o.push(d)}return new Dr(i,o,t,n)}var LU=wu.prototype.constructor;function zU(){return new LU(this._groups,this._parents)}function PU(e,t){var n,s,r;return function(){var i=nl(this,e),o=(this.style.removeProperty(e),nl(this,e));return i===o?null:i===n&&o===s?r:r=t(n=i,s=o)}}function LE(e){return function(){this.style.removeProperty(e)}}function $U(e,t,n){var s,r=n+"",i;return function(){var o=nl(this,e);return o===r?null:o===s?i:i=t(s=o,n)}}function OU(e,t,n){var s,r,i;return function(){var o=nl(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),nl(this,e))),o===c?null:o===s&&c===r?i:(r=c,i=t(s=o,l))}}function IU(e,t){var n,s,r,i="style."+t,o="end."+i,l;return function(){var c=Js(this,e),u=c.on,d=c.value[i]==null?l||(l=LE(t)):void 0;(u!==n||r!==d)&&(s=(n=u).copy()).on(o,r=d),c.on=s}}function BU(e,t,n){var s=(e+="")=="transform"?BH:DE;return t==null?this.styleTween(e,PU(e,s)).on("end.style."+e,LE(e)):typeof t=="function"?this.styleTween(e,OU(e,s,K0(this,"style."+e,t))).each(IU(this._id,e)):this.styleTween(e,$U(e,s,t),n).on("end.style."+e,null)}function FU(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function HU(e,t,n){var s,r;function i(){var o=t.apply(this,arguments);return o!==r&&(s=(r=o)&&FU(e,o,n)),s}return i._value=t,i}function UU(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,HU(e,t,n??""))}function VU(e){return function(){this.textContent=e}}function GU(e){return function(){var t=e(this);this.textContent=t??""}}function qU(e){return this.tween("text",typeof e=="function"?GU(K0(this,"text",e)):VU(e==null?"":e+""))}function ZU(e){return function(t){this.textContent=e.call(this,t)}}function YU(e){var t,n;function s(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&ZU(r)),t}return s._value=e,s}function XU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,YU(e))}function WU(){for(var e=this._name,t=this._id,n=zE(),s=this._groups,r=s.length,i=0;i<r;++i)for(var o=s[i],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=ks(c,t);Xm(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Dr(s,this._parents,e,n)}function KU(){var e,t,n=this,s=n._id,r=n.size();return new Promise(function(i,o){var l={value:o},c={value:function(){--r===0&&i()}};n.each(function(){var u=Js(this,s),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),r===0&&i()})}var QU=0;function Dr(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function zE(){return++QU}var cr=wu.prototype;Dr.prototype={constructor:Dr,select:RU,selectAll:DU,selectChild:cr.selectChild,selectChildren:cr.selectChildren,filter:kU,merge:CU,selection:zU,transition:WU,call:cr.call,nodes:cr.nodes,node:cr.node,size:cr.size,empty:cr.empty,each:cr.each,on:AU,attr:cU,attrTween:hU,style:BU,styleTween:UU,text:qU,textTween:XU,remove:MU,tween:nU,delay:xU,duration:bU,ease:jU,easeVarying:SU,end:KU,[Symbol.iterator]:cr[Symbol.iterator]};function JU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var eV={time:null,delay:0,duration:250,ease:JU};function tV(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function nV(e){var t,n;e instanceof Dr?(t=e._id,e=e._name):(t=zE(),(n=eV).time=X0(),e=e==null?null:e+"");for(var s=this._groups,r=s.length,i=0;i<r;++i)for(var o=s[i],l=o.length,c,u=0;u<l;++u)(c=o[u])&&Xm(c,e,t,u,o,n||tV(c,t));return new Dr(s,this._parents,e,t)}wu.prototype.interrupt=JH;wu.prototype.transition=nV;const ad=e=>()=>e;function sV(e,{sourceEvent:t,target:n,transform:s,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function xr(e,t,n){this.k=e,this.x=t,this.y=n}xr.prototype={constructor:xr,scale:function(e){return e===1?this:new xr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ga=new xr(1,0,0);xr.prototype;function Yh(e){e.stopImmediatePropagation()}function Fl(e){e.preventDefault(),e.stopImmediatePropagation()}function rV(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function aV(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function aw(){return this.__zoom||ga}function iV(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function oV(){return navigator.maxTouchPoints||"ontouchstart"in this}function lV(e,t,n){var s=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function cV(){var e=rV,t=aV,n=lV,s=iV,r=oV,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=GH,u=qm("start","zoom","end"),d,f,m,h=500,p=150,y=0,b=10;function v(A){A.property("__zoom",aw).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",T).filter(r).on("touchstart.zoom",_).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(A,$,D,z){var M=A.selection?A.selection():A;M.property("__zoom",aw),A!==M?N(A,$,D,z):M.interrupt().each(function(){k(this,arguments).event(z).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},v.scaleBy=function(A,$,D,z){v.scaleTo(A,function(){var M=this.__zoom.k,R=typeof $=="function"?$.apply(this,arguments):$;return M*R},D,z)},v.scaleTo=function(A,$,D,z){v.transform(A,function(){var M=t.apply(this,arguments),R=this.__zoom,B=D==null?j(M):typeof D=="function"?D.apply(this,arguments):D,F=R.invert(B),V=typeof $=="function"?$.apply(this,arguments):$;return n(w(x(R,V),B,F),M,o)},D,z)},v.translateBy=function(A,$,D,z){v.transform(A,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),o)},null,z)},v.translateTo=function(A,$,D,z,M){v.transform(A,function(){var R=t.apply(this,arguments),B=this.__zoom,F=z==null?j(R):typeof z=="function"?z.apply(this,arguments):z;return n(ga.translate(F[0],F[1]).scale(B.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof D=="function"?-D.apply(this,arguments):-D),R,o)},z,M)};function x(A,$){return $=Math.max(i[0],Math.min(i[1],$)),$===A.k?A:new xr($,A.x,A.y)}function w(A,$,D){var z=$[0]-D[0]*A.k,M=$[1]-D[1]*A.k;return z===A.x&&M===A.y?A:new xr(A.k,z,M)}function j(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function N(A,$,D,z){A.on("start.zoom",function(){k(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(z).end()}).tween("zoom",function(){var M=this,R=arguments,B=k(M,R).event(z),F=t.apply(M,R),V=D==null?j(F):typeof D=="function"?D.apply(M,R):D,X=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),W=M.__zoom,J=typeof $=="function"?$.apply(M,R):$,le=c(W.invert(V).concat(X/W.k),J.invert(V).concat(X/J.k));return function(te){if(te===1)te=J;else{var xe=le(te),me=X/xe[2];te=new xr(me,V[0]-xe[0]*me,V[1]-xe[1]*me)}B.zoom(null,te)}})}function k(A,$,D){return!D&&A.__zooming||new S(A,$)}function S(A,$){this.that=A,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,$),this.taps=0}S.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,$){return this.mouse&&A!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var $=hs(this.that).datum();u.call(A,this.that,new sV(A,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),$)}};function E(A,...$){if(!e.apply(this,arguments))return;var D=k(this,$).event(A),z=this.__zoom,M=Math.max(i[0],Math.min(i[1],z.k*Math.pow(2,s.apply(this,arguments)))),R=Ds(A);if(D.wheel)(D.mouse[0][0]!==R[0]||D.mouse[0][1]!==R[1])&&(D.mouse[1]=z.invert(D.mouse[0]=R)),clearTimeout(D.wheel);else{if(z.k===M)return;D.mouse=[R,z.invert(R)],Id(this),D.start()}Fl(A),D.wheel=setTimeout(B,p),D.zoom("mouse",n(w(x(z,M),D.mouse[0],D.mouse[1]),D.extent,o));function B(){D.wheel=null,D.end()}}function C(A,...$){if(m||!e.apply(this,arguments))return;var D=A.currentTarget,z=k(this,$,!0).event(A),M=hs(A.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",X,!0),R=Ds(A,D),B=A.clientX,F=A.clientY;wE(A.view),Yh(A),z.mouse=[R,this.__zoom.invert(R)],Id(this),z.start();function V(W){if(Fl(W),!z.moved){var J=W.clientX-B,le=W.clientY-F;z.moved=J*J+le*le>y}z.event(W).zoom("mouse",n(w(z.that.__zoom,z.mouse[0]=Ds(W,D),z.mouse[1]),z.extent,o))}function X(W){M.on("mousemove.zoom mouseup.zoom",null),jE(W.view,z.moved),Fl(W),z.event(W).end()}}function T(A,...$){if(e.apply(this,arguments)){var D=this.__zoom,z=Ds(A.changedTouches?A.changedTouches[0]:A,this),M=D.invert(z),R=D.k*(A.shiftKey?.5:2),B=n(w(x(D,R),z,M),t.apply(this,$),o);Fl(A),l>0?hs(this).transition().duration(l).call(N,B,z,A):hs(this).call(v.transform,B,z,A)}}function _(A,...$){if(e.apply(this,arguments)){var D=A.touches,z=D.length,M=k(this,$,A.changedTouches.length===z).event(A),R,B,F,V;for(Yh(A),B=0;B<z;++B)F=D[B],V=Ds(F,this),V=[V,this.__zoom.invert(V),F.identifier],M.touch0?!M.touch1&&M.touch0[2]!==V[2]&&(M.touch1=V,M.taps=0):(M.touch0=V,R=!0,M.taps=1+!!d);d&&(d=clearTimeout(d)),R&&(M.taps<2&&(f=V[0],d=setTimeout(function(){d=null},h)),Id(this),M.start())}}function O(A,...$){if(this.__zooming){var D=k(this,$).event(A),z=A.changedTouches,M=z.length,R,B,F,V;for(Fl(A),R=0;R<M;++R)B=z[R],F=Ds(B,this),D.touch0&&D.touch0[2]===B.identifier?D.touch0[0]=F:D.touch1&&D.touch1[2]===B.identifier&&(D.touch1[0]=F);if(B=D.that.__zoom,D.touch1){var X=D.touch0[0],W=D.touch0[1],J=D.touch1[0],le=D.touch1[1],te=(te=J[0]-X[0])*te+(te=J[1]-X[1])*te,xe=(xe=le[0]-W[0])*xe+(xe=le[1]-W[1])*xe;B=x(B,Math.sqrt(te/xe)),F=[(X[0]+J[0])/2,(X[1]+J[1])/2],V=[(W[0]+le[0])/2,(W[1]+le[1])/2]}else if(D.touch0)F=D.touch0[0],V=D.touch0[1];else return;D.zoom("touch",n(w(B,F,V),D.extent,o))}}function L(A,...$){if(this.__zooming){var D=k(this,$).event(A),z=A.changedTouches,M=z.length,R,B;for(Yh(A),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),R=0;R<M;++R)B=z[R],D.touch0&&D.touch0[2]===B.identifier?delete D.touch0:D.touch1&&D.touch1[2]===B.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(B=Ds(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<b)){var F=hs(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return v.wheelDelta=function(A){return arguments.length?(s=typeof A=="function"?A:ad(+A),v):s},v.filter=function(A){return arguments.length?(e=typeof A=="function"?A:ad(!!A),v):e},v.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:ad(!!A),v):r},v.extent=function(A){return arguments.length?(t=typeof A=="function"?A:ad([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),v):t},v.scaleExtent=function(A){return arguments.length?(i[0]=+A[0],i[1]=+A[1],v):[i[0],i[1]]},v.translateExtent=function(A){return arguments.length?(o[0][0]=+A[0][0],o[1][0]=+A[1][0],o[0][1]=+A[0][1],o[1][1]=+A[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function(A){return arguments.length?(n=A,v):n},v.duration=function(A){return arguments.length?(l=+A,v):l},v.interpolate=function(A){return arguments.length?(c=A,v):c},v.on=function(){var A=u.on.apply(u,arguments);return A===u?v:A},v.clickDistance=function(A){return arguments.length?(y=(A=+A)*A,v):Math.sqrt(y)},v.tapDistance=function(A){return arguments.length?(b=+A,v):b},v}const Wm=g.createContext(null),uV=Wm.Provider,Lr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},PE=Lr.error001();function ft(e,t){const n=g.useContext(Wm);if(n===null)throw new Error(PE);return lE(n,e,t)}const Ft=()=>{const e=g.useContext(Wm);if(e===null)throw new Error(PE);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},dV=e=>e.userSelectionActive?"none":"all";function $E({position:e,children:t,className:n,style:s,...r}){const i=ft(dV),o=`${e}`.split("-");return P.createElement("div",{className:dn(["react-flow__panel",n,...o]),style:{...s,pointerEvents:i},...r},t)}function fV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:P.createElement($E,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},P.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const mV=({x:e,y:t,label:n,labelStyle:s={},labelShowBg:r=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const f=g.useRef(null),[m,h]=g.useState({x:0,y:0,width:0,height:0}),p=dn(["react-flow__edge-textwrapper",u]);return g.useEffect(()=>{if(f.current){const y=f.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:P.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:p,visibility:m.width?"visible":"hidden",...d},r&&P.createElement("rect",{width:m.width+2*o[0],x:-o[0],y:-o[1],height:m.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),P.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:f,style:s},n),c)};var hV=g.memo(mV);const Q0=e=>({width:e.offsetWidth,height:e.offsetHeight}),rl=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),J0=(e={x:0,y:0},t)=>({x:rl(e.x,t[0][0],t[1][0]),y:rl(e.y,t[0][1],t[1][1])}),iw=(e,t,n)=>e<t?rl(Math.abs(e-t),1,50)/50:e>n?-rl(Math.abs(e-n),1,50)/50:0,OE=(e,t)=>{const n=iw(e.x,35,t.width-35)*20,s=iw(e.y,35,t.height-35)*20;return[n,s]},IE=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},gV=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ev=({x:e,y:t,width:n,height:s})=>({x:e,y:t,x2:e+n,y2:t+s}),pV=({x:e,y:t,x2:n,y2:s})=>({x:e,y:t,width:n-e,height:s-t}),ow=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Sp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*s)},xV=e=>es(e.width)&&es(e.height)&&es(e.x)&&es(e.y),es=e=>!isNaN(e)&&isFinite(e),pt=Symbol.for("internals"),BE=["Enter"," ","Escape"],vV=(e,t)=>{},yV=e=>"nativeEvent"in e;function kp(e){var r,i;const t=yV(e)?e.nativeEvent:e,n=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const FE=e=>"clientX"in e,pa=(e,t)=>{var i,o;const n=FE(e),s=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,r=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:s-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},Ef=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Nu=({id:e,path:t,labelX:n,labelY:s,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h=20})=>P.createElement(P.Fragment,null,P.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:m}),h&&P.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),r&&es(n)&&es(s)?P.createElement(hV,{x:n,y:s,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);Nu.displayName="BaseEdge";function Hl(e,t,n){return n===void 0?n:s=>{const r=t().edges.find(i=>i.id===e);r&&n(s,{...r})}}function HE({sourceX:e,sourceY:t,targetX:n,targetY:s}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,o=Math.abs(s-t)/2,l=s<t?s+o:s-o;return[i,l,r,o]}function UE({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:r,sourceControlY:i,targetControlX:o,targetControlY:l}){const c=e*.125+r*.375+o*.375+n*.125,u=t*.125+i*.375+l*.375+s*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var ki;(function(e){e.Strict="strict",e.Loose="loose"})(ki||(ki={}));var ii;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ii||(ii={}));var Fc;(function(e){e.Partial="partial",e.Full="full"})(Fc||(Fc={}));var na;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(na||(na={}));var Tf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Tf||(Tf={}));var oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(oe||(oe={}));function lw({pos:e,x1:t,y1:n,x2:s,y2:r}){return e===oe.Left||e===oe.Right?[.5*(t+s),n]:[t,.5*(n+r)]}function VE({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:s,targetY:r,targetPosition:i=oe.Top}){const[o,l]=lw({pos:n,x1:e,y1:t,x2:s,y2:r}),[c,u]=lw({pos:i,x1:s,y1:r,x2:e,y2:t}),[d,f,m,h]=UE({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${l} ${c},${u} ${s},${r}`,d,f,m,h]}const tv=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,sourcePosition:r=oe.Bottom,targetPosition:i=oe.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:y})=>{const[b,v,x]=VE({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:s,targetPosition:i});return P.createElement(Nu,{path:b,labelX:v,labelY:x,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:y})});tv.displayName="SimpleBezierEdge";const cw={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}},bV=({source:e,sourcePosition:t=oe.Bottom,target:n})=>t===oe.Left||t===oe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},uw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function wV({source:e,sourcePosition:t=oe.Bottom,target:n,targetPosition:s=oe.Top,center:r,offset:i}){const o=cw[t],l=cw[s],c={x:e.x+o.x*i,y:e.y+o.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},d=bV({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",m=d[f];let h=[],p,y;const b={x:0,y:0},v={x:0,y:0},[x,w,j,N]=HE({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*l[f]===-1){p=r.x??x,y=r.y??w;const S=[{x:p,y:c.y},{x:p,y:u.y}],E=[{x:c.x,y},{x:u.x,y}];o[f]===m?h=f==="x"?S:E:h=f==="x"?E:S}else{const S=[{x:c.x,y:u.y}],E=[{x:u.x,y:c.y}];if(f==="x"?h=o.x===m?E:S:h=o.y===m?S:E,t===s){const L=Math.abs(e[f]-n[f]);if(L<=i){const A=Math.min(i-1,i-L);o[f]===m?b[f]=(c[f]>e[f]?-1:1)*A:v[f]=(u[f]>n[f]?-1:1)*A}}if(t!==s){const L=f==="x"?"y":"x",A=o[f]===l[L],$=c[L]>u[L],D=c[L]<u[L];(o[f]===1&&(!A&&$||A&&D)||o[f]!==1&&(!A&&D||A&&$))&&(h=f==="x"?S:E)}const C={x:c.x+b.x,y:c.y+b.y},T={x:u.x+v.x,y:u.y+v.y},_=Math.max(Math.abs(C.x-h[0].x),Math.abs(T.x-h[0].x)),O=Math.max(Math.abs(C.y-h[0].y),Math.abs(T.y-h[0].y));_>=O?(p=(C.x+T.x)/2,y=h[0].y):(p=h[0].x,y=(C.y+T.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...h,{x:u.x+v.x,y:u.y+v.y},n],p,y,j,N]}function jV(e,t,n,s){const r=Math.min(uw(e,t)/2,uw(t,n)/2,s),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+r*u},${o}Q ${i},${o} ${i},${o+r*d}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${o+r*c}Q ${i},${o} ${i+r*l},${o}`}function Cp({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:s,targetY:r,targetPosition:i=oe.Top,borderRadius:o=5,centerX:l,centerY:c,offset:u=20}){const[d,f,m,h,p]=wV({source:{x:e,y:t},sourcePosition:n,target:{x:s,y:r},targetPosition:i,center:{x:l,y:c},offset:u});return[d.reduce((b,v,x)=>{let w="";return x>0&&x<d.length-1?w=jV(d[x-1],v,d[x+1],o):w=`${x===0?"M":"L"}${v.x} ${v.y}`,b+=w,b},""),f,m,h,p]}const Km=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=oe.Bottom,targetPosition:m=oe.Top,markerEnd:h,markerStart:p,pathOptions:y,interactionWidth:b})=>{const[v,x,w]=Cp({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:s,targetPosition:m,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return P.createElement(Nu,{path:v,labelX:x,labelY:w,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:p,interactionWidth:b})});Km.displayName="SmoothStepEdge";const nv=g.memo(e=>{var t;return P.createElement(Km,{...e,pathOptions:g.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});nv.displayName="StepEdge";function NV({sourceX:e,sourceY:t,targetX:n,targetY:s}){const[r,i,o,l]=HE({sourceX:e,sourceY:t,targetX:n,targetY:s});return[`M ${e},${t}L ${n},${s}`,r,i,o,l]}const sv=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})=>{const[p,y,b]=NV({sourceX:e,sourceY:t,targetX:n,targetY:s});return P.createElement(Nu,{path:p,labelX:y,labelY:b,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})});sv.displayName="StraightEdge";function id(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function dw({pos:e,x1:t,y1:n,x2:s,y2:r,c:i}){switch(e){case oe.Left:return[t-id(t-s,i),n];case oe.Right:return[t+id(s-t,i),n];case oe.Top:return[t,n-id(n-r,i)];case oe.Bottom:return[t,n+id(r-n,i)]}}function GE({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:s,targetY:r,targetPosition:i=oe.Top,curvature:o=.25}){const[l,c]=dw({pos:n,x1:e,y1:t,x2:s,y2:r,c:o}),[u,d]=dw({pos:i,x1:s,y1:r,x2:e,y2:t,c:o}),[f,m,h,p]=UE({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${s},${r}`,f,m,h,p]}const Af=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,sourcePosition:r=oe.Bottom,targetPosition:i=oe.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,pathOptions:y,interactionWidth:b})=>{const[v,x,w]=GE({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:s,targetPosition:i,curvature:y==null?void 0:y.curvature});return P.createElement(Nu,{path:v,labelX:x,labelY:w,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:b})});Af.displayName="BezierEdge";const rv=g.createContext(null),SV=rv.Provider;rv.Consumer;const kV=()=>g.useContext(rv),CV=e=>"id"in e&&"source"in e&&"target"in e,EV=({source:e,sourceHandle:t,target:n,targetHandle:s})=>`reactflow__edge-${e}${t||""}-${n}${s||""}`,Ep=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`,TV=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),av=(e,t)=>{if(!e.source||!e.target)return t;let n;return CV(e)?n={...e}:n={...e,id:EV(e)},TV(n,t)?t:t.concat(n)},Tp=({x:e,y:t},[n,s,r],i,[o,l])=>{const c={x:(e-n)/r,y:(t-s)/r};return i?{x:o*Math.round(c.x/o),y:l*Math.round(c.y/l)}:c},qE=({x:e,y:t},[n,s,r])=>({x:e*r+n,y:t*r+s}),Mo=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],s=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-s};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-s}:r}},iv=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((s,r)=>{const{x:i,y:o}=Mo(r,t).positionAbsolute;return gV(s,ev({x:i,y:o,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return pV(n)},ZE=(e,t,[n,s,r]=[0,0,1],i=!1,o=!1,l=[0,0])=>{const c={x:(t.x-n)/r,y:(t.y-s)/r,width:t.width/r,height:t.height/r},u=[];return e.forEach(d=>{const{width:f,height:m,selectable:h=!0,hidden:p=!1}=d;if(o&&!h||p)return!1;const{positionAbsolute:y}=Mo(d,l),b={x:y.x,y:y.y,width:f||0,height:m||0},v=Sp(c,b),x=typeof f>"u"||typeof m>"u"||f===null||m===null,w=i&&v>0,j=(f||0)*(m||0);(x||w||v>=j||d.dragging)&&u.push(d)}),u},YE=(e,t)=>{const n=e.map(s=>s.id);return t.filter(s=>n.includes(s.source)||n.includes(s.target))},XE=(e,t,n,s,r,i=.1)=>{const o=t/(e.width*(1+i)),l=n/(e.height*(1+i)),c=Math.min(o,l),u=rl(c,s,r),d=e.x+e.width/2,f=e.y+e.height/2,m=t/2-d*u,h=n/2-f*u;return{x:m,y:h,zoom:u}},Wa=(e,t=0)=>e.transition().duration(t);function fw(e,t,n,s){return(t[n]||[]).reduce((r,i)=>{var o,l;return`${e.id}-${i.id}-${n}`!==s&&r.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),r},[])}function AV(e,t,n,s,r,i){const{x:o,y:l}=pa(e),u=t.elementsFromPoint(o,l).find(p=>p.classList.contains("react-flow__handle"));if(u){const p=u.getAttribute("data-nodeid");if(p){const y=ov(void 0,u),b=u.getAttribute("data-handleid"),v=i({nodeId:p,id:b,type:y});if(v){const x=r.find(w=>w.nodeId===p&&w.type===y&&w.id===b);return{handle:{id:b,type:y,nodeId:p,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:v}}}}let d=[],f=1/0;if(r.forEach(p=>{const y=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(y<=s){const b=i(p);y<=f&&(y<f?d=[{handle:p,validHandleResult:b}]:y===f&&d.push({handle:p,validHandleResult:b}),f=y)}}),!d.length)return{handle:null,validHandleResult:WE()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:p})=>p.isValid),h=d.some(({handle:p})=>p.type==="target");return d.find(({handle:p,validHandleResult:y})=>h?p.type==="target":m?y.isValid:!0)||d[0]}const _V={source:null,target:null,sourceHandle:null,targetHandle:null},WE=()=>({handleDomNode:null,isValid:!1,connection:_V,endHandle:null});function KE(e,t,n,s,r,i,o){const l=r==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...WE(),handleDomNode:c};if(c){const d=ov(void 0,c),f=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),p=c.classList.contains("connectableend"),y={source:l?f:n,sourceHandle:l?m:s,target:l?n:f,targetHandle:l?s:m};u.connection=y,h&&p&&(t===ki.Strict?l&&d==="source"||!l&&d==="target":f!==n||m!==s)&&(u.endHandle={nodeId:f,handleId:m,type:d},u.isValid=i(y))}return u}function MV({nodes:e,nodeId:t,handleId:n,handleType:s}){return e.reduce((r,i)=>{if(i[pt]){const{handleBounds:o}=i[pt];let l=[],c=[];o&&(l=fw(i,o,"source",`${t}-${n}-${s}`),c=fw(i,o,"target",`${t}-${n}-${s}`)),r.push(...l,...c)}return r},[])}function ov(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Xh(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function RV(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function QE({event:e,handleId:t,nodeId:n,onConnect:s,isTarget:r,getState:i,setState:o,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const d=IE(e.target),{connectionMode:f,domNode:m,autoPanOnConnect:h,connectionRadius:p,onConnectStart:y,panBy:b,getNodes:v,cancelConnection:x}=i();let w=0,j;const{x:N,y:k}=pa(e),S=d==null?void 0:d.elementFromPoint(N,k),E=ov(c,S),C=m==null?void 0:m.getBoundingClientRect();if(!C||!E)return;let T,_=pa(e,C),O=!1,L=null,A=!1,$=null;const D=MV({nodes:v(),nodeId:n,handleId:t,handleType:E}),z=()=>{if(!h)return;const[B,F]=OE(_,C);b({x:B,y:F}),w=requestAnimationFrame(z)};o({connectionPosition:_,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:E,connectionStartHandle:{nodeId:n,handleId:t,type:E},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:E});function M(B){const{transform:F}=i();_=pa(B,C);const{handle:V,validHandleResult:X}=AV(B,d,Tp(_,F,!1,[1,1]),p,D,W=>KE(W,f,n,t,r?"target":"source",l,d));if(j=V,O||(z(),O=!0),$=X.handleDomNode,L=X.connection,A=X.isValid,o({connectionPosition:j&&A?qE({x:j.x,y:j.y},F):_,connectionStatus:RV(!!j,A),connectionEndHandle:X.endHandle}),!j&&!A&&!$)return Xh(T);L.source!==L.target&&$&&(Xh(T),T=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",A),$.classList.toggle("react-flow__handle-valid",A))}function R(B){var F,V;(j||$)&&L&&A&&(s==null||s(L)),(V=(F=i()).onConnectEnd)==null||V.call(F,B),c&&(u==null||u(B)),Xh(T),x(),cancelAnimationFrame(w),O=!1,A=!1,L=null,$=null,d.removeEventListener("mousemove",M),d.removeEventListener("mouseup",R),d.removeEventListener("touchmove",M),d.removeEventListener("touchend",R)}d.addEventListener("mousemove",M),d.addEventListener("mouseup",R),d.addEventListener("touchmove",M),d.addEventListener("touchend",R)}const mw=()=>!0,DV=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),LV=(e,t,n)=>s=>{const{connectionStartHandle:r,connectionEndHandle:i,connectionClickStartHandle:o}=s;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},JE=g.forwardRef(({type:e="source",position:t=oe.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...m},h)=>{var C,T;const p=o||null,y=e==="target",b=Ft(),v=kV(),{connectOnClick:x,noPanClassName:w}=ft(DV,bn),{connecting:j,clickConnecting:N}=ft(LV(v,p,e),bn);v||(T=(C=b.getState()).onError)==null||T.call(C,"010",Lr.error010());const k=_=>{const{defaultEdgeOptions:O,onConnect:L,hasDefaultEdges:A}=b.getState(),$={...O,..._};if(A){const{edges:D,setEdges:z}=b.getState();z(av($,D))}L==null||L($),l==null||l($)},S=_=>{if(!v)return;const O=FE(_);r&&(O&&_.button===0||!O)&&QE({event:_,handleId:p,nodeId:v,onConnect:k,isTarget:y,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||mw}),O?d==null||d(_):f==null||f(_)},E=_=>{const{onClickConnectStart:O,onClickConnectEnd:L,connectionClickStartHandle:A,connectionMode:$,isValidConnection:D}=b.getState();if(!v||!A&&!r)return;if(!A){O==null||O(_,{nodeId:v,handleId:p,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:p}});return}const z=IE(_.target),M=n||D||mw,{connection:R,isValid:B}=KE({nodeId:v,id:p,type:e},$,A.nodeId,A.handleId||null,A.type,M,z);B&&k(R),L==null||L(_),b.setState({connectionClickStartHandle:null})};return P.createElement("div",{"data-handleid":p,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${p}-${e}`,className:dn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!y,target:y,connectable:s,connectablestart:r,connectableend:i,connecting:N,connectionindicator:s&&(r&&!j||i&&j)}]),onMouseDown:S,onTouchStart:S,onClick:x?E:void 0,ref:h,...m},c)});JE.displayName="Handle";var al=g.memo(JE);const eT=({data:e,isConnectable:t,targetPosition:n=oe.Top,sourcePosition:s=oe.Bottom})=>P.createElement(P.Fragment,null,P.createElement(al,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,P.createElement(al,{type:"source",position:s,isConnectable:t}));eT.displayName="DefaultNode";var Ap=g.memo(eT);const tT=({data:e,isConnectable:t,sourcePosition:n=oe.Bottom})=>P.createElement(P.Fragment,null,e==null?void 0:e.label,P.createElement(al,{type:"source",position:n,isConnectable:t}));tT.displayName="InputNode";var nT=g.memo(tT);const sT=({data:e,isConnectable:t,targetPosition:n=oe.Top})=>P.createElement(P.Fragment,null,P.createElement(al,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);sT.displayName="OutputNode";var rT=g.memo(sT);const lv=()=>null;lv.displayName="GroupNode";const zV=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),od=e=>e.id;function PV(e,t){return bn(e.selectedNodes.map(od),t.selectedNodes.map(od))&&bn(e.selectedEdges.map(od),t.selectedEdges.map(od))}const aT=g.memo(({onSelectionChange:e})=>{const t=Ft(),{selectedNodes:n,selectedEdges:s}=ft(zV,PV);return g.useEffect(()=>{const r={nodes:n,edges:s};e==null||e(r),t.getState().onSelectionChange.forEach(i=>i(r))},[n,s,e]),null});aT.displayName="SelectionListener";const $V=e=>!!e.onSelectionChange;function OV({onSelectionChange:e}){const t=ft($V);return e||t?P.createElement(aT,{onSelectionChange:e}):null}const IV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function eo(e,t){g.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ee(e,t,n){g.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const BV=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:r,onConnectStart:i,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:y,maxZoom:b,nodeExtent:v,onNodesChange:x,onEdgesChange:w,elementsSelectable:j,connectionMode:N,snapGrid:k,snapToGrid:S,translateExtent:E,connectOnClick:C,defaultEdgeOptions:T,fitView:_,fitViewOptions:O,onNodesDelete:L,onEdgesDelete:A,onNodeDrag:$,onNodeDragStart:D,onNodeDragStop:z,onSelectionDrag:M,onSelectionDragStart:R,onSelectionDragStop:B,noPanClassName:F,nodeOrigin:V,rfId:X,autoPanOnConnect:W,autoPanOnNodeDrag:J,onError:le,connectionRadius:te,isValidConnection:xe,nodeDragThreshold:me})=>{const{setNodes:ye,setEdges:Xe,setDefaultNodesAndEdges:st,setMinZoom:H,setMaxZoom:G,setTranslateExtent:K,setNodeExtent:ie,reset:ne}=ft(IV,bn),Q=Ft();return g.useEffect(()=>{const Se=s==null?void 0:s.map(Qe=>({...Qe,...T}));return st(n,Se),()=>{ne()}},[]),Ee("defaultEdgeOptions",T,Q.setState),Ee("connectionMode",N,Q.setState),Ee("onConnect",r,Q.setState),Ee("onConnectStart",i,Q.setState),Ee("onConnectEnd",o,Q.setState),Ee("onClickConnectStart",l,Q.setState),Ee("onClickConnectEnd",c,Q.setState),Ee("nodesDraggable",u,Q.setState),Ee("nodesConnectable",d,Q.setState),Ee("nodesFocusable",f,Q.setState),Ee("edgesFocusable",m,Q.setState),Ee("edgesUpdatable",h,Q.setState),Ee("elementsSelectable",j,Q.setState),Ee("elevateNodesOnSelect",p,Q.setState),Ee("snapToGrid",S,Q.setState),Ee("snapGrid",k,Q.setState),Ee("onNodesChange",x,Q.setState),Ee("onEdgesChange",w,Q.setState),Ee("connectOnClick",C,Q.setState),Ee("fitViewOnInit",_,Q.setState),Ee("fitViewOnInitOptions",O,Q.setState),Ee("onNodesDelete",L,Q.setState),Ee("onEdgesDelete",A,Q.setState),Ee("onNodeDrag",$,Q.setState),Ee("onNodeDragStart",D,Q.setState),Ee("onNodeDragStop",z,Q.setState),Ee("onSelectionDrag",M,Q.setState),Ee("onSelectionDragStart",R,Q.setState),Ee("onSelectionDragStop",B,Q.setState),Ee("noPanClassName",F,Q.setState),Ee("nodeOrigin",V,Q.setState),Ee("rfId",X,Q.setState),Ee("autoPanOnConnect",W,Q.setState),Ee("autoPanOnNodeDrag",J,Q.setState),Ee("onError",le,Q.setState),Ee("connectionRadius",te,Q.setState),Ee("isValidConnection",xe,Q.setState),Ee("nodeDragThreshold",me,Q.setState),eo(e,ye),eo(t,Xe),eo(y,H),eo(b,G),eo(E,K),eo(v,ie),null},hw={display:"none"},FV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},iT="react-flow__node-desc",oT="react-flow__edge-desc",HV="react-flow__aria-live",UV=e=>e.ariaLiveMessage;function VV({rfId:e}){const t=ft(UV);return P.createElement("div",{id:`${HV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:FV},t)}function GV({rfId:e,disableKeyboardA11y:t}){return P.createElement(P.Fragment,null,P.createElement("div",{id:`${iT}-${e}`,style:hw},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),P.createElement("div",{id:`${oT}-${e}`,style:hw},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&P.createElement(VV,{rfId:e}))}var Hc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,s]=g.useState(!1),r=g.useRef(!1),i=g.useRef(new Set([])),[o,l]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return g.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=h=>{if(r.current=h.ctrlKey||h.metaKey||h.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&kp(h))return!1;const y=pw(h.code,l);i.current.add(h[y]),gw(o,i.current,!1)&&(h.preventDefault(),s(!0))},f=h=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&kp(h))return!1;const y=pw(h.code,l);gw(o,i.current,!0)?(s(!1),i.current.clear()):i.current.delete(h[y]),h.key==="Meta"&&i.current.clear(),r.current=!1},m=()=>{i.current.clear(),s(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",m)}}},[e,s]),n};function gw(e,t,n){return e.filter(s=>n||s.length===t.size).some(s=>s.every(r=>t.has(r)))}function pw(e,t){return t.includes(e)?"code":"key"}function lT(e,t,n,s){var l,c;const r=e.parentNode||e.parentId;if(!r)return n;const i=t.get(r),o=Mo(i,s);return lT(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=i[pt])==null?void 0:l.z)??0)>(n.z??0)?((c=i[pt])==null?void 0:c.z)??0:n.z??0},s)}function cT(e,t,n){e.forEach(s=>{var i;const r=s.parentNode||s.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n!=null&&n[s.id]){const{x:o,y:l,z:c}=lT(s,e,{...s.position,z:((i=s[pt])==null?void 0:i.z)??0},t);s.positionAbsolute={x:o,y:l},s[pt].z=c,n!=null&&n[s.id]&&(s[pt].isParent=!0)}})}function Wh(e,t,n,s){const r=new Map,i={},o=s?1e3:0;return e.forEach(l=>{var h;const c=(es(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const m=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(d,pt,{enumerable:!1,value:{handleBounds:m||(h=u==null?void 0:u[pt])==null?void 0:h.handleBounds,z:c}}),r.set(l.id,d)}),cT(r,n,i),r}function uT(e,t={}){const{getNodes:n,width:s,height:r,minZoom:i,maxZoom:o,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),m=t.initial&&!u&&d;if(l&&c&&(m||!t.initial)){const p=n().filter(b=>{var x;const v=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(x=t.nodes)!=null&&x.length?v&&t.nodes.some(w=>w.id===b.id):v}),y=p.every(b=>b.width&&b.height);if(p.length>0&&y){const b=iv(p,f),{x:v,y:x,zoom:w}=XE(b,s,r,t.minZoom??i,t.maxZoom??o,t.padding??.1),j=ga.translate(v,x).scale(w);return typeof t.duration=="number"&&t.duration>0?l.transform(Wa(c,t.duration),j):l.transform(c,j),!0}}return!1}function qV(e,t){return e.forEach(n=>{const s=t.get(n.id);s&&t.set(s.id,{...s,[pt]:s[pt],selected:n.selected})}),new Map(t)}function ZV(e,t){return t.map(n=>{const s=e.find(r=>r.id===n.id);return s&&(n.selected=s.selected),n})}function ld({changedNodes:e,changedEdges:t,get:n,set:s}){const{nodeInternals:r,edges:i,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&s({nodeInternals:qV(e,r)}),o==null||o(e)),t!=null&&t.length&&(u&&s({edges:ZV(t,i)}),l==null||l(t))}const to=()=>{},YV={zoomIn:to,zoomOut:to,zoomTo:to,getZoom:()=>1,setViewport:to,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:to,fitBounds:to,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},XV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),WV=()=>{const e=Ft(),{d3Zoom:t,d3Selection:n}=ft(XV,bn);return g.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(Wa(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(Wa(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,i)=>t.scaleTo(Wa(n,i==null?void 0:i.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,i)=>{const[o,l,c]=e.getState().transform,u=ga.translate(r.x??o,r.y??l).scale(r.zoom??c);t.transform(Wa(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[r,i,o]=e.getState().transform;return{x:r,y:i,zoom:o}},fitView:r=>uT(e.getState,r),setCenter:(r,i,o)=>{const{width:l,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=l/2-r*d,m=c/2-i*d,h=ga.translate(f,m).scale(d);t.transform(Wa(n,o==null?void 0:o.duration),h)},fitBounds:(r,i)=>{const{width:o,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:m}=XE(r,o,l,c,u,(i==null?void 0:i.padding)??.1),h=ga.translate(d,f).scale(m);t.transform(Wa(n,i==null?void 0:i.duration),h)},project:r=>{const{transform:i,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Tp(r,i,o,l)},screenToFlowPosition:r=>{const{transform:i,snapToGrid:o,snapGrid:l,domNode:c}=e.getState();if(!c)return r;const{x:u,y:d}=c.getBoundingClientRect(),f={x:r.x-u,y:r.y-d};return Tp(f,i,o,l)},flowToScreenPosition:r=>{const{transform:i,domNode:o}=e.getState();if(!o)return r;const{x:l,y:c}=o.getBoundingClientRect(),u=qE(r,i);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:YV,[t,n])};function cv(){const e=WV(),t=Ft(),n=g.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),s=g.useCallback(y=>t.getState().nodeInternals.get(y),[]),r=g.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(b=>({...b}))},[]),i=g.useCallback(y=>{const{edges:b=[]}=t.getState();return b.find(v=>v.id===y)},[]),o=g.useCallback(y=>{const{getNodes:b,setNodes:v,hasDefaultNodes:x,onNodesChange:w}=t.getState(),j=b(),N=typeof y=="function"?y(j):y;if(x)v(N);else if(w){const k=N.length===0?j.map(S=>({type:"remove",id:S.id})):N.map(S=>({item:S,type:"reset"}));w(k)}},[]),l=g.useCallback(y=>{const{edges:b=[],setEdges:v,hasDefaultEdges:x,onEdgesChange:w}=t.getState(),j=typeof y=="function"?y(b):y;if(x)v(j);else if(w){const N=j.length===0?b.map(k=>({type:"remove",id:k.id})):j.map(k=>({item:k,type:"reset"}));w(N)}},[]),c=g.useCallback(y=>{const b=Array.isArray(y)?y:[y],{getNodes:v,setNodes:x,hasDefaultNodes:w,onNodesChange:j}=t.getState();if(w){const k=[...v(),...b];x(k)}else if(j){const N=b.map(k=>({item:k,type:"add"}));j(N)}},[]),u=g.useCallback(y=>{const b=Array.isArray(y)?y:[y],{edges:v=[],setEdges:x,hasDefaultEdges:w,onEdgesChange:j}=t.getState();if(w)x([...v,...b]);else if(j){const N=b.map(k=>({item:k,type:"add"}));j(N)}},[]),d=g.useCallback(()=>{const{getNodes:y,edges:b=[],transform:v}=t.getState(),[x,w,j]=v;return{nodes:y().map(N=>({...N})),edges:b.map(N=>({...N})),viewport:{x,y:w,zoom:j}}},[]),f=g.useCallback(({nodes:y,edges:b})=>{const{nodeInternals:v,getNodes:x,edges:w,hasDefaultNodes:j,hasDefaultEdges:N,onNodesDelete:k,onEdgesDelete:S,onNodesChange:E,onEdgesChange:C}=t.getState(),T=(y||[]).map($=>$.id),_=(b||[]).map($=>$.id),O=x().reduce(($,D)=>{const z=D.parentNode||D.parentId,M=!T.includes(D.id)&&z&&$.find(B=>B.id===z);return(typeof D.deletable=="boolean"?D.deletable:!0)&&(T.includes(D.id)||M)&&$.push(D),$},[]),L=w.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),A=L.filter($=>_.includes($.id));if(O||A){const $=YE(O,L),D=[...A,...$],z=D.reduce((M,R)=>(M.includes(R.id)||M.push(R.id),M),[]);if((N||j)&&(N&&t.setState({edges:w.filter(M=>!z.includes(M.id))}),j&&(O.forEach(M=>{v.delete(M.id)}),t.setState({nodeInternals:new Map(v)}))),z.length>0&&(S==null||S(D),C&&C(z.map(M=>({id:M,type:"remove"})))),O.length>0&&(k==null||k(O),E)){const M=O.map(R=>({id:R.id,type:"remove"}));E(M)}}},[]),m=g.useCallback(y=>{const b=xV(y),v=b?null:t.getState().nodeInternals.get(y.id);return!b&&!v?[null,null,b]:[b?y:ow(v),v,b]},[]),h=g.useCallback((y,b=!0,v)=>{const[x,w,j]=m(y);return x?(v||t.getState().getNodes()).filter(N=>{if(!j&&(N.id===w.id||!N.positionAbsolute))return!1;const k=ow(N),S=Sp(k,x);return b&&S>0||S>=x.width*x.height}):[]},[]),p=g.useCallback((y,b,v=!0)=>{const[x]=m(y);if(!x)return!1;const w=Sp(x,b);return v&&w>0||w>=x.width*x.height},[]);return g.useMemo(()=>({...e,getNodes:n,getNode:s,getEdges:r,getEdge:i,setNodes:o,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:p}),[e,n,s,r,i,o,l,c,u,d,f,h,p])}const KV={actInsideInputWithModifier:!1};var QV=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ft(),{deleteElements:s}=cv(),r=Hc(e,KV),i=Hc(t);g.useEffect(()=>{if(r){const{edges:o,getNodes:l}=n.getState(),c=l().filter(d=>d.selected),u=o.filter(d=>d.selected);s({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[r]),g.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function JV(e){const t=Ft();g.useEffect(()=>{let n;const s=()=>{var i,o;if(!e.current)return;const r=Q0(e.current);(r.height===0||r.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Lr.error004())),t.setState({width:r.width||500,height:r.height||500})};return s(),window.addEventListener("resize",s),e.current&&(n=new ResizeObserver(()=>s()),n.observe(e.current)),()=>{window.removeEventListener("resize",s),n&&e.current&&n.unobserve(e.current)}},[])}const uv={position:"absolute",width:"100%",height:"100%",top:0,left:0},eG=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,cd=e=>({x:e.x,y:e.y,zoom:e.k}),no=(e,t)=>e.target.closest(`.${t}`),xw=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),vw=e=>{const t=e.ctrlKey&&Ef()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},tG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),nG=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:s,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=ii.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:m,translateExtent:h,minZoom:p,maxZoom:y,zoomActivationKeyCode:b,preventScrolling:v=!0,children:x,noWheelClassName:w,noPanClassName:j})=>{const N=g.useRef(),k=Ft(),S=g.useRef(!1),E=g.useRef(!1),C=g.useRef(null),T=g.useRef({x:0,y:0,zoom:0}),{d3Zoom:_,d3Selection:O,d3ZoomHandler:L,userSelectionActive:A}=ft(tG,bn),$=Hc(b),D=g.useRef(0),z=g.useRef(!1),M=g.useRef();return JV(C),g.useEffect(()=>{if(C.current){const R=C.current.getBoundingClientRect(),B=cV().scaleExtent([p,y]).translateExtent(h),F=hs(C.current).call(B),V=ga.translate(m.x,m.y).scale(rl(m.zoom,p,y)),X=[[0,0],[R.width,R.height]],W=B.constrain()(V,X,h);B.transform(F,W),B.wheelDelta(vw),k.setState({d3Zoom:B,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[W.x,W.y,W.k],domNode:C.current.closest(".react-flow")})}},[]),g.useEffect(()=>{O&&_&&(o&&!$&&!A?O.on("wheel.zoom",R=>{if(no(R,w))return!1;R.preventDefault(),R.stopImmediatePropagation();const B=O.property("__zoom").k||1;if(R.ctrlKey&&i){const xe=Ds(R),me=vw(R),ye=B*Math.pow(2,me);_.scaleTo(O,ye,xe,R);return}const F=R.deltaMode===1?20:1;let V=c===ii.Vertical?0:R.deltaX*F,X=c===ii.Horizontal?0:R.deltaY*F;!Ef()&&R.shiftKey&&c!==ii.Vertical&&(V=R.deltaY*F,X=0),_.translateBy(O,-(V/B)*l,-(X/B)*l,{internal:!0});const W=cd(O.property("__zoom")),{onViewportChangeStart:J,onViewportChange:le,onViewportChangeEnd:te}=k.getState();clearTimeout(M.current),z.current||(z.current=!0,t==null||t(R,W),J==null||J(W)),z.current&&(e==null||e(R,W),le==null||le(W),M.current=setTimeout(()=>{n==null||n(R,W),te==null||te(W),z.current=!1},150))},{passive:!1}):typeof L<"u"&&O.on("wheel.zoom",function(R,B){if(!v&&R.type==="wheel"&&!R.ctrlKey||no(R,w))return null;R.preventDefault(),L.call(this,R,B)},{passive:!1}))},[A,o,c,O,_,L,$,i,v,w,t,e,n]),g.useEffect(()=>{_&&_.on("start",R=>{var V,X;if(!R.sourceEvent||R.sourceEvent.internal)return null;D.current=(V=R.sourceEvent)==null?void 0:V.button;const{onViewportChangeStart:B}=k.getState(),F=cd(R.transform);S.current=!0,T.current=F,((X=R.sourceEvent)==null?void 0:X.type)==="mousedown"&&k.setState({paneDragging:!0}),B==null||B(F),t==null||t(R.sourceEvent,F)})},[_,t]),g.useEffect(()=>{_&&(A&&!S.current?_.on("zoom",null):A||_.on("zoom",R=>{var F;const{onViewportChange:B}=k.getState();if(k.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),E.current=!!(s&&xw(f,D.current??0)),(e||B)&&!((F=R.sourceEvent)!=null&&F.internal)){const V=cd(R.transform);B==null||B(V),e==null||e(R.sourceEvent,V)}}))},[A,_,e,f,s]),g.useEffect(()=>{_&&_.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:B}=k.getState();if(S.current=!1,k.setState({paneDragging:!1}),s&&xw(f,D.current??0)&&!E.current&&s(R.sourceEvent),E.current=!1,(n||B)&&eG(T.current,R.transform)){const F=cd(R.transform);T.current=F,clearTimeout(N.current),N.current=setTimeout(()=>{B==null||B(F),n==null||n(R.sourceEvent,F)},o?150:0)}})},[_,o,f,n,s]),g.useEffect(()=>{_&&_.filter(R=>{const B=$||r,F=i&&R.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&R.button===1&&R.type==="mousedown"&&(no(R,"react-flow__node")||no(R,"react-flow__edge")))return!0;if(!f&&!B&&!o&&!u&&!i||A||!u&&R.type==="dblclick"||no(R,w)&&R.type==="wheel"||no(R,j)&&(R.type!=="wheel"||o&&R.type==="wheel"&&!$)||!i&&R.ctrlKey&&R.type==="wheel"||!B&&!o&&!F&&R.type==="wheel"||!f&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(f)&&!f.includes(R.button)&&R.type==="mousedown")return!1;const V=Array.isArray(f)&&f.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&V})},[A,_,r,i,o,u,f,d,$]),P.createElement("div",{className:"react-flow__renderer",ref:C,style:uv},x)},sG=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function rG(){const{userSelectionActive:e,userSelectionRect:t}=ft(sG,bn);return e&&t?P.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function yw(e,t){const n=t.parentNode||t.parentId,s=e.find(r=>r.id===n);if(s){const r=t.position.x+t.width-s.width,i=t.position.y+t.height-s.height;if(r>0||i>0||t.position.x<0||t.position.y<0){if(s.style={...s.style},s.style.width=s.style.width??s.width,s.style.height=s.style.height??s.height,r>0&&(s.style.width+=r),i>0&&(s.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);s.position.x=s.position.x-o,s.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);s.position.y=s.position.y-o,s.style.height+=o,t.position.y=0}s.width=s.style.width,s.height=s.style.height}}}function dT(e,t){if(e.some(s=>s.type==="reset"))return e.filter(s=>s.type==="reset").map(s=>s.item);const n=e.filter(s=>s.type==="add").map(s=>s.item);return t.reduce((s,r)=>{const i=e.filter(l=>l.id===r.id);if(i.length===0)return s.push(r),s;const o={...r};for(const l of i)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&yw(s,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&yw(s,o);break}case"remove":return s}return s.push(o),s},n)}function fT(e,t){return dT(e,t)}function aG(e,t){return dT(e,t)}const Jr=(e,t)=>({id:e,type:"select",selected:t});function fo(e,t){return e.reduce((n,s)=>{const r=t.includes(s.id);return!s.selected&&r?(s.selected=!0,n.push(Jr(s.id,!0))):s.selected&&!r&&(s.selected=!1,n.push(Jr(s.id,!1))),n},[])}const Kh=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},iG=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),mT=g.memo(({isSelecting:e,selectionMode:t=Fc.Full,panOnDrag:n,onSelectionStart:s,onSelectionEnd:r,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const m=g.useRef(null),h=Ft(),p=g.useRef(0),y=g.useRef(0),b=g.useRef(),{userSelectionActive:v,elementsSelectable:x,dragging:w}=ft(iG,bn),j=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,y.current=0},N=L=>{i==null||i(L),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},k=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}o==null||o(L)},S=l?L=>l(L):void 0,E=L=>{const{resetSelectedElements:A,domNode:$}=h.getState();if(b.current=$==null?void 0:$.getBoundingClientRect(),!x||!e||L.button!==0||L.target!==m.current||!b.current)return;const{x:D,y:z}=pa(L,b.current);A(),h.setState({userSelectionRect:{width:0,height:0,startX:D,startY:z,x:D,y:z}}),s==null||s(L)},C=L=>{const{userSelectionRect:A,nodeInternals:$,edges:D,transform:z,onNodesChange:M,onEdgesChange:R,nodeOrigin:B,getNodes:F}=h.getState();if(!e||!b.current||!A)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const V=pa(L,b.current),X=A.startX??0,W=A.startY??0,J={...A,x:V.x<X?V.x:X,y:V.y<W?V.y:W,width:Math.abs(V.x-X),height:Math.abs(V.y-W)},le=F(),te=ZE($,J,z,t===Fc.Partial,!0,B),xe=YE(te,D).map(ye=>ye.id),me=te.map(ye=>ye.id);if(p.current!==me.length){p.current=me.length;const ye=fo(le,me);ye.length&&(M==null||M(ye))}if(y.current!==xe.length){y.current=xe.length;const ye=fo(D,xe);ye.length&&(R==null||R(ye))}h.setState({userSelectionRect:J})},T=L=>{if(L.button!==0)return;const{userSelectionRect:A}=h.getState();!v&&A&&L.target===m.current&&(N==null||N(L)),h.setState({nodesSelectionActive:p.current>0}),j(),r==null||r(L)},_=L=>{v&&(h.setState({nodesSelectionActive:p.current>0}),r==null||r(L)),j()},O=x&&(e||v);return P.createElement("div",{className:dn(["react-flow__pane",{dragging:w,selection:e}]),onClick:O?void 0:Kh(N,m),onContextMenu:Kh(k,m),onWheel:Kh(S,m),onMouseEnter:O?void 0:c,onMouseDown:O?E:void 0,onMouseMove:O?C:u,onMouseUp:O?T:void 0,onMouseLeave:O?_:d,ref:m,style:uv},f,P.createElement(rG,null))});mT.displayName="Pane";function hT(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const s=t.get(n);return s?s.selected?!0:hT(s,t):!1}function bw(e,t,n){let s=e;do{if(s!=null&&s.matches(t))return!0;if(s===n.current)return!1;s=s.parentElement}while(s);return!1}function oG(e,t,n,s){return Array.from(e.values()).filter(r=>(r.selected||r.id===s)&&(!r.parentNode||r.parentId||!hT(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var i,o;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=r.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=r.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode||r.parentId,parentId:r.parentNode||r.parentId,width:r.width,height:r.height,expandParent:r.expandParent}})}function lG(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function gT(e,t,n,s,r=[0,0],i){const o=lG(e,e.extent||s);let l=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:m,y:h}=Mo(f,r).positionAbsolute;l=f&&es(m)&&es(h)&&es(f.width)&&es(f.height)?[[m+e.width*r[0],h+e.height*r[1]],[m+f.width-e.width+e.width*r[0],h+f.height-e.height+e.height*r[1]]]:l}else i==null||i("005",Lr.error005()),l=o;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:m,y:h}=Mo(f,r).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+h],[e.extent[1][0]+m,e.extent[1][1]+h]]}let u={x:0,y:0};if(c){const f=n.get(c);u=Mo(f,r).positionAbsolute}const d=l&&l!=="parent"?J0(t,l):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Qh({nodeId:e,dragItems:t,nodeInternals:n}){const s=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?s.find(r=>r.id===e):s[0],s]}const ww=(e,t,n,s)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const i=Array.from(r),o=t.getBoundingClientRect(),l={x:o.width*s[0],y:o.height*s[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/n,y:(u.top-o.top-l.y)/n,...Q0(c)}})};function Ul(e,t,n){return n===void 0?n:s=>{const r=t().nodeInternals.get(e);r&&n(s,{...r})}}function _p({id:e,store:t,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Lr.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=s==null?void 0:s.current)==null?void 0:d.blur()})):r([e])}function cG(){const e=Ft();return g.useCallback(({sourceEvent:n})=>{const{transform:s,snapGrid:r,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-s[0])/s[2],y:(l-s[1])/s[2]};return{xSnapped:i?r[0]*Math.round(c.x/r[0]):c.x,ySnapped:i?r[1]*Math.round(c.y/r[1]):c.y,...c}},[])}function Jh(e){return(t,n,s)=>e==null?void 0:e(t,s)}function pT({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:s,nodeId:r,isSelectable:i,selectNodesOnDrag:o}){const l=Ft(),[c,u]=g.useState(!1),d=g.useRef([]),f=g.useRef({x:null,y:null}),m=g.useRef(0),h=g.useRef(null),p=g.useRef({x:0,y:0}),y=g.useRef(null),b=g.useRef(!1),v=g.useRef(!1),x=g.useRef(!1),w=cG();return g.useEffect(()=>{if(e!=null&&e.current){const j=hs(e.current),N=({x:E,y:C})=>{const{nodeInternals:T,onNodeDrag:_,onSelectionDrag:O,updateNodePositions:L,nodeExtent:A,snapGrid:$,snapToGrid:D,nodeOrigin:z,onError:M}=l.getState();f.current={x:E,y:C};let R=!1,B={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&A){const V=iv(d.current,z);B=ev(V)}if(d.current=d.current.map(V=>{const X={x:E-V.distance.x,y:C-V.distance.y};D&&(X.x=$[0]*Math.round(X.x/$[0]),X.y=$[1]*Math.round(X.y/$[1]));const W=[[A[0][0],A[0][1]],[A[1][0],A[1][1]]];d.current.length>1&&A&&!V.extent&&(W[0][0]=V.positionAbsolute.x-B.x+A[0][0],W[1][0]=V.positionAbsolute.x+(V.width??0)-B.x2+A[1][0],W[0][1]=V.positionAbsolute.y-B.y+A[0][1],W[1][1]=V.positionAbsolute.y+(V.height??0)-B.y2+A[1][1]);const J=gT(V,X,T,W,z,M);return R=R||V.position.x!==J.position.x||V.position.y!==J.position.y,V.position=J.position,V.positionAbsolute=J.positionAbsolute,V}),!R)return;L(d.current,!0,!0),u(!0);const F=r?_:Jh(O);if(F&&y.current){const[V,X]=Qh({nodeId:r,dragItems:d.current,nodeInternals:T});F(y.current,V,X)}},k=()=>{if(!h.current)return;const[E,C]=OE(p.current,h.current);if(E!==0||C!==0){const{transform:T,panBy:_}=l.getState();f.current.x=(f.current.x??0)-E/T[2],f.current.y=(f.current.y??0)-C/T[2],_({x:E,y:C})&&N(f.current)}m.current=requestAnimationFrame(k)},S=E=>{var z;const{nodeInternals:C,multiSelectionActive:T,nodesDraggable:_,unselectNodesAndEdges:O,onNodeDragStart:L,onSelectionDragStart:A}=l.getState();v.current=!0;const $=r?L:Jh(A);(!o||!i)&&!T&&r&&((z=C.get(r))!=null&&z.selected||O()),r&&i&&o&&_p({id:r,store:l,nodeRef:e});const D=w(E);if(f.current=D,d.current=oG(C,_,D,r),$&&d.current){const[M,R]=Qh({nodeId:r,dragItems:d.current,nodeInternals:C});$(E.sourceEvent,M,R)}};if(t)j.on(".drag",null);else{const E=yH().on("start",C=>{const{domNode:T,nodeDragThreshold:_}=l.getState();_===0&&S(C),x.current=!1;const O=w(C);f.current=O,h.current=(T==null?void 0:T.getBoundingClientRect())||null,p.current=pa(C.sourceEvent,h.current)}).on("drag",C=>{var L,A;const T=w(C),{autoPanOnNodeDrag:_,nodeDragThreshold:O}=l.getState();if(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!b.current&&v.current&&_&&(b.current=!0,k()),!v.current){const $=T.xSnapped-(((L=f==null?void 0:f.current)==null?void 0:L.x)??0),D=T.ySnapped-(((A=f==null?void 0:f.current)==null?void 0:A.y)??0);Math.sqrt($*$+D*D)>O&&S(C)}(f.current.x!==T.xSnapped||f.current.y!==T.ySnapped)&&d.current&&v.current&&(y.current=C.sourceEvent,p.current=pa(C.sourceEvent,h.current),N(T))}}).on("end",C=>{if(!(!v.current||x.current)&&(u(!1),b.current=!1,v.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:T,nodeInternals:_,onNodeDragStop:O,onSelectionDragStop:L}=l.getState(),A=r?O:Jh(L);if(T(d.current,!1,!1),A){const[$,D]=Qh({nodeId:r,dragItems:d.current,nodeInternals:_});A(C.sourceEvent,$,D)}}}).filter(C=>{const T=C.target;return!C.button&&(!n||!bw(T,`.${n}`,e))&&(!s||bw(T,s,e))});return j.call(E),()=>{j.on(".drag",null)}}}},[e,t,n,s,i,l,r,o,w]),c}function xT(){const e=Ft();return g.useCallback(n=>{const{nodeInternals:s,nodeExtent:r,updateNodePositions:i,getNodes:o,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=o().filter(x=>x.selected&&(x.draggable||d&&typeof x.draggable>"u")),m=l?c[0]:5,h=l?c[1]:5,p=n.isShiftPressed?4:1,y=n.x*m*p,b=n.y*h*p,v=f.map(x=>{if(x.positionAbsolute){const w={x:x.positionAbsolute.x+y,y:x.positionAbsolute.y+b};l&&(w.x=c[0]*Math.round(w.x/c[0]),w.y=c[1]*Math.round(w.y/c[1]));const{positionAbsolute:j,position:N}=gT(x,w,s,r,void 0,u);x.position=N,x.positionAbsolute=j}return x});i(v,!0,!1)},[])}const Ro={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Vl=e=>{const t=({id:n,type:s,data:r,xPos:i,yPos:o,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,onContextMenu:p,onDoubleClick:y,style:b,className:v,isDraggable:x,isSelectable:w,isConnectable:j,isFocusable:N,selectNodesOnDrag:k,sourcePosition:S,targetPosition:E,hidden:C,resizeObserver:T,dragHandle:_,zIndex:O,isParent:L,noDragClassName:A,noPanClassName:$,initialized:D,disableKeyboardA11y:z,ariaLabel:M,rfId:R,hasHandleBounds:B})=>{const F=Ft(),V=g.useRef(null),X=g.useRef(null),W=g.useRef(S),J=g.useRef(E),le=g.useRef(s),te=w||x||d||f||m||h,xe=xT(),me=Ul(n,F.getState,f),ye=Ul(n,F.getState,m),Xe=Ul(n,F.getState,h),st=Ul(n,F.getState,p),H=Ul(n,F.getState,y),G=ne=>{const{nodeDragThreshold:Q}=F.getState();if(w&&(!k||!x||Q>0)&&_p({id:n,store:F,nodeRef:V}),d){const Se=F.getState().nodeInternals.get(n);Se&&d(ne,{...Se})}},K=ne=>{if(!kp(ne)&&!z)if(BE.includes(ne.key)&&w){const Q=ne.key==="Escape";_p({id:n,store:F,unselect:Q,nodeRef:V})}else x&&u&&Object.prototype.hasOwnProperty.call(Ro,ne.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${ne.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),xe({x:Ro[ne.key].x,y:Ro[ne.key].y,isShiftPressed:ne.shiftKey}))};g.useEffect(()=>()=>{X.current&&(T==null||T.unobserve(X.current),X.current=null)},[]),g.useEffect(()=>{if(V.current&&!C){const ne=V.current;(!D||!B||X.current!==ne)&&(X.current&&(T==null||T.unobserve(X.current)),T==null||T.observe(ne),X.current=ne)}},[C,D,B]),g.useEffect(()=>{const ne=le.current!==s,Q=W.current!==S,Se=J.current!==E;V.current&&(ne||Q||Se)&&(ne&&(le.current=s),Q&&(W.current=S),Se&&(J.current=E),F.getState().updateNodeDimensions([{id:n,nodeElement:V.current,forceUpdate:!0}]))},[n,s,S,E]);const ie=pT({nodeRef:V,disabled:C||!x,noDragClassName:A,handleSelector:_,nodeId:n,isSelectable:w,selectNodesOnDrag:k});return C?null:P.createElement("div",{className:dn(["react-flow__node",`react-flow__node-${s}`,{[$]:x},v,{selected:u,selectable:w,parent:L,dragging:ie}]),ref:V,style:{zIndex:O,transform:`translate(${l}px,${c}px)`,pointerEvents:te?"all":"none",visibility:D?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:me,onMouseMove:ye,onMouseLeave:Xe,onContextMenu:st,onClick:G,onDoubleClick:H,onKeyDown:N?K:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":z?void 0:`${iT}-${R}`,"aria-label":M},P.createElement(SV,{value:n},P.createElement(e,{id:n,data:r,type:s,xPos:i,yPos:o,selected:u,isConnectable:j,sourcePosition:S,targetPosition:E,dragging:ie,dragHandle:_,zIndex:O})))};return t.displayName="NodeWrapper",g.memo(t)};const uG=e=>{const t=e.getNodes().filter(n=>n.selected);return{...iv(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function dG({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=Ft(),{width:r,height:i,x:o,y:l,transformString:c,userSelectionActive:u}=ft(uG,bn),d=xT(),f=g.useRef(null);if(g.useEffect(()=>{var p;n||(p=f.current)==null||p.focus({preventScroll:!0})},[n]),pT({nodeRef:f}),u||!r||!i)return null;const m=e?p=>{const y=s.getState().getNodes().filter(b=>b.selected);e(p,y)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(Ro,p.key)&&d({x:Ro[p.key].x,y:Ro[p.key].y,isShiftPressed:p.shiftKey})};return P.createElement("div",{className:dn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},P.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:r,height:i,top:l,left:o}}))}var fG=g.memo(dG);const mG=e=>e.nodesSelectionActive,vT=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:h,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:b,panActivationKeyCode:v,zoomActivationKeyCode:x,elementsSelectable:w,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:k,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:T,defaultViewport:_,translateExtent:O,minZoom:L,maxZoom:A,preventScrolling:$,onSelectionContextMenu:D,noWheelClassName:z,noPanClassName:M,disableKeyboardA11y:R})=>{const B=ft(mG),F=Hc(f),V=Hc(v),X=V||T,W=V||k,J=F||m&&X!==!0;return QV({deleteKeyCode:l,multiSelectionKeyCode:b}),P.createElement(nG,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:w,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:W,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:!F&&X,defaultViewport:_,translateExtent:O,minZoom:L,maxZoom:A,zoomActivationKeyCode:x,preventScrolling:$,noWheelClassName:z,noPanClassName:M},P.createElement(mT,{onSelectionStart:p,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:X,isSelecting:!!J,selectionMode:h},e,B&&P.createElement(fG,{onSelectionContextMenu:D,noPanClassName:M,disableKeyboardA11y:R})))};vT.displayName="FlowRenderer";var hG=g.memo(vT);function gG(e){return ft(g.useCallback(n=>e?ZE(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function pG(e){const t={input:Vl(e.input||nT),default:Vl(e.default||Ap),output:Vl(e.output||rT),group:Vl(e.group||lv)},n={},s=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,i)=>(r[i]=Vl(e[i]||Ap),r),n);return{...t,...s}}const xG=({x:e,y:t,width:n,height:s,origin:r})=>!n||!s?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-s*r[1]},vG=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),yT=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:r,updateNodeDimensions:i,onError:o}=ft(vG,bn),l=gG(e.onlyRenderVisibleElements),c=g.useRef(),u=g.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const m=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));i(m)});return c.current=d,d},[]);return g.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),P.createElement("div",{className:"react-flow__nodes",style:uv},l.map(d=>{var N,k,S;let f=d.type||"default";e.nodeTypes[f]||(o==null||o("003",Lr.error003(f)),f="default");const m=e.nodeTypes[f]||e.nodeTypes.default,h=!!(d.draggable||t&&typeof d.draggable>"u"),p=!!(d.selectable||r&&typeof d.selectable>"u"),y=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||s&&typeof d.focusable>"u"),v=e.nodeExtent?J0(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,x=(v==null?void 0:v.x)??0,w=(v==null?void 0:v.y)??0,j=xG({x,y:w,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return P.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||oe.Bottom,targetPosition:d.targetPosition||oe.Top,hidden:d.hidden,xPos:x,yPos:w,xPosOrigin:j.x,yPosOrigin:j.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:h,isSelectable:p,isConnectable:y,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((N=d[pt])==null?void 0:N.z)??0,isParent:!!((k=d[pt])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((S=d[pt])!=null&&S.handleBounds)})}))};yT.displayName="NodeRenderer";var yG=g.memo(yT);const bG=(e,t,n)=>n===oe.Left?e-t:n===oe.Right?e+t:e,wG=(e,t,n)=>n===oe.Top?e-t:n===oe.Bottom?e+t:e,jw="react-flow__edgeupdater",Nw=({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:r,onMouseEnter:i,onMouseOut:o,type:l})=>P.createElement("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:o,className:dn([jw,`${jw}-${l}`]),cx:bG(t,s,e),cy:wG(n,s,e),r:s,stroke:"transparent",fill:"transparent"}),jG=()=>!0;var so=e=>{const t=({id:n,className:s,type:r,data:i,onClick:o,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:b,source:v,target:x,sourceX:w,sourceY:j,targetX:N,targetY:k,sourcePosition:S,targetPosition:E,elementsSelectable:C,hidden:T,sourceHandleId:_,targetHandleId:O,onContextMenu:L,onMouseEnter:A,onMouseMove:$,onMouseLeave:D,reconnectRadius:z,onReconnect:M,onReconnectStart:R,onReconnectEnd:B,markerEnd:F,markerStart:V,rfId:X,ariaLabel:W,isFocusable:J,isReconnectable:le,pathOptions:te,interactionWidth:xe,disableKeyboardA11y:me})=>{const ye=g.useRef(null),[Xe,st]=g.useState(!1),[H,G]=g.useState(!1),K=Ft(),ie=g.useMemo(()=>`url('#${Ep(V,X)}')`,[V,X]),ne=g.useMemo(()=>`url('#${Ep(F,X)}')`,[F,X]);if(T)return null;const Q=Lt=>{var Vn;const{edges:Ht,addSelectedEdges:Es,unselectNodesAndEdges:ar,multiSelectionActive:ir}=K.getState(),ds=Ht.find(Va=>Va.id===n);ds&&(C&&(K.setState({nodesSelectionActive:!1}),ds.selected&&ir?(ar({nodes:[],edges:[ds]}),(Vn=ye.current)==null||Vn.blur()):Es([n])),o&&o(Lt,ds))},Se=Hl(n,K.getState,l),Qe=Hl(n,K.getState,L),Et=Hl(n,K.getState,A),fn=Hl(n,K.getState,$),mn=Hl(n,K.getState,D),cs=(Lt,Ht)=>{if(Lt.button!==0)return;const{edges:Es,isValidConnection:ar}=K.getState(),ir=Ht?x:v,ds=(Ht?O:_)||null,Vn=Ht?"target":"source",Va=ar||jG,de=Ht,Re=Es.find(Be=>Be.id===n);G(!0),R==null||R(Lt,Re,Vn);const Oe=Be=>{G(!1),B==null||B(Be,Re,Vn)};QE({event:Lt,handleId:ds,nodeId:ir,onConnect:Be=>M==null?void 0:M(Re,Be),isTarget:de,getState:K.getState,setState:K.setState,isValidConnection:Va,edgeUpdaterType:Vn,onReconnectEnd:Oe})},nr=Lt=>cs(Lt,!0),sr=Lt=>cs(Lt,!1),rr=()=>st(!0),us=()=>st(!1),Vr=!C&&!o,Gr=Lt=>{var Ht;if(!me&&BE.includes(Lt.key)&&C){const{unselectNodesAndEdges:Es,addSelectedEdges:ar,edges:ir}=K.getState();Lt.key==="Escape"?((Ht=ye.current)==null||Ht.blur(),Es({edges:[ir.find(Vn=>Vn.id===n)]})):ar([n])}};return P.createElement("g",{className:dn(["react-flow__edge",`react-flow__edge-${r}`,s,{selected:c,animated:u,inactive:Vr,updating:Xe}]),onClick:Q,onDoubleClick:Se,onContextMenu:Qe,onMouseEnter:Et,onMouseMove:fn,onMouseLeave:mn,onKeyDown:J?Gr:void 0,tabIndex:J?0:void 0,role:J?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":W===null?void 0:W||`Edge from ${v} to ${x}`,"aria-describedby":J?`${oT}-${X}`:void 0,ref:ye},!H&&P.createElement(e,{id:n,source:v,target:x,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,data:i,style:b,sourceX:w,sourceY:j,targetX:N,targetY:k,sourcePosition:S,targetPosition:E,sourceHandleId:_,targetHandleId:O,markerStart:ie,markerEnd:ne,pathOptions:te,interactionWidth:xe}),le&&P.createElement(P.Fragment,null,(le==="source"||le===!0)&&P.createElement(Nw,{position:S,centerX:w,centerY:j,radius:z,onMouseDown:nr,onMouseEnter:rr,onMouseOut:us,type:"source"}),(le==="target"||le===!0)&&P.createElement(Nw,{position:E,centerX:N,centerY:k,radius:z,onMouseDown:sr,onMouseEnter:rr,onMouseOut:us,type:"target"})))};return t.displayName="EdgeWrapper",g.memo(t)};function NG(e){const t={default:so(e.default||Af),straight:so(e.bezier||sv),step:so(e.step||nv),smoothstep:so(e.step||Km),simplebezier:so(e.simplebezier||tv)},n={},s=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,i)=>(r[i]=so(e[i]||Af),r),n);return{...t,...s}}function Sw(e,t,n=null){const s=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case oe.Top:return{x:s+i/2,y:r};case oe.Right:return{x:s+i,y:r+o/2};case oe.Bottom:return{x:s+i/2,y:r+o};case oe.Left:return{x:s,y:r+o/2}}}function kw(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const SG=(e,t,n,s,r,i)=>{const o=Sw(n,e,t),l=Sw(i,s,r);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function kG({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:s,targetWidth:r,targetHeight:i,width:o,height:l,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+s,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=ev({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:l/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*m)>0}function Cw(e){var s,r,i,o,l;const t=((s=e==null?void 0:e[pt])==null?void 0:s.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const CG=[{level:0,isMaxLevel:!0,edges:[]}];function EG(e,t,n=!1){let s=-1;const r=e.reduce((o,l)=>{var d,f;const c=es(l.zIndex);let u=c?l.zIndex:0;if(n){const m=t.get(l.target),h=t.get(l.source),p=l.selected||(m==null?void 0:m.selected)||(h==null?void 0:h.selected),y=Math.max(((d=h==null?void 0:h[pt])==null?void 0:d.z)||0,((f=m==null?void 0:m[pt])==null?void 0:f.z)||0,1e3);u=(c?l.zIndex:0)+(p?y:0)}return o[u]?o[u].push(l):o[u]=[l],s=u>s?u:s,o},{}),i=Object.entries(r).map(([o,l])=>{const c=+o;return{edges:l,level:c,isMaxLevel:c===s}});return i.length===0?CG:i}function TG(e,t,n){const s=ft(g.useCallback(r=>e?r.edges.filter(i=>{const o=t.get(i.source),l=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&kG({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return EG(s,t,n)}const AG=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),_G=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ew={[Tf.Arrow]:AG,[Tf.ArrowClosed]:_G};function MG(e){const t=Ft();return g.useMemo(()=>{var r,i;return Object.prototype.hasOwnProperty.call(Ew,e)?Ew[e]:((i=(r=t.getState()).onError)==null||i.call(r,"009",Lr.error009(e)),null)},[e])}const RG=({id:e,type:t,color:n,width:s=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=MG(t);return c?P.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},P.createElement(c,{color:n,strokeWidth:o})):null},DG=({defaultColor:e,rfId:t})=>n=>{const s=[];return n.edges.reduce((r,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=Ep(o,t);s.includes(l)||(r.push({id:l,color:o.color||e,...o}),s.push(l))}}),r),[]).sort((r,i)=>r.id.localeCompare(i.id))},bT=({defaultColor:e,rfId:t})=>{const n=ft(g.useCallback(DG({defaultColor:e,rfId:t}),[e,t]),(s,r)=>!(s.length!==r.length||s.some((i,o)=>i.id!==r[o].id)));return P.createElement("defs",null,n.map(s=>P.createElement(RG,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient})))};bT.displayName="MarkerDefinitions";var LG=g.memo(bT);const zG=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),wT=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:s,edgeTypes:r,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:y,children:b,disableKeyboardA11y:v})=>{const{edgesFocusable:x,edgesUpdatable:w,elementsSelectable:j,width:N,height:k,connectionMode:S,nodeInternals:E,onError:C}=ft(zG,bn),T=TG(t,E,n);return N?P.createElement(P.Fragment,null,T.map(({level:_,edges:O,isMaxLevel:L})=>P.createElement("svg",{key:_,style:{zIndex:_},width:N,height:k,className:"react-flow__edges react-flow__container"},L&&P.createElement(LG,{defaultColor:e,rfId:s}),P.createElement("g",null,O.map(A=>{const[$,D,z]=Cw(E.get(A.source)),[M,R,B]=Cw(E.get(A.target));if(!z||!B)return null;let F=A.type||"default";r[F]||(C==null||C("011",Lr.error011(F)),F="default");const V=r[F]||r.default,X=S===ki.Strict?R.target:(R.target??[]).concat(R.source??[]),W=kw(D.source,A.sourceHandle),J=kw(X,A.targetHandle),le=(W==null?void 0:W.position)||oe.Bottom,te=(J==null?void 0:J.position)||oe.Top,xe=!!(A.focusable||x&&typeof A.focusable>"u"),me=A.reconnectable||A.updatable,ye=typeof m<"u"&&(me||w&&typeof me>"u");if(!W||!J)return C==null||C("008",Lr.error008(W,A)),null;const{sourceX:Xe,sourceY:st,targetX:H,targetY:G}=SG($,W,le,M,J,te);return P.createElement(V,{key:A.id,id:A.id,className:dn([A.className,i]),type:F,data:A.data,selected:!!A.selected,animated:!!A.animated,hidden:!!A.hidden,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,style:A.style,source:A.source,target:A.target,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerEnd:A.markerEnd,markerStart:A.markerStart,sourceX:Xe,sourceY:st,targetX:H,targetY:G,sourcePosition:le,targetPosition:te,elementsSelectable:j,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:y,rfId:s,ariaLabel:A.ariaLabel,isFocusable:xe,isReconnectable:ye,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth,disableKeyboardA11y:v})})))),b):null};wT.displayName="EdgeRenderer";var PG=g.memo(wT);const $G=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function OG({children:e}){const t=ft($G);return P.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function IG(e){const t=cv(),n=g.useRef(!1);g.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const BG={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top},jT=({nodeId:e,handleType:t,style:n,type:s=na.Bezier,CustomComponent:r,connectionStatus:i})=>{var k,S,E;const{fromNode:o,handleId:l,toX:c,toY:u,connectionMode:d}=ft(g.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),bn),f=(k=o==null?void 0:o[pt])==null?void 0:k.handleBounds;let m=f==null?void 0:f[t];if(d===ki.Loose&&(m=m||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!m)return null;const h=l?m.find(C=>C.id===l):m[0],p=h?h.x+h.width/2:(o.width??0)/2,y=h?h.y+h.height/2:o.height??0,b=(((S=o.positionAbsolute)==null?void 0:S.x)??0)+p,v=(((E=o.positionAbsolute)==null?void 0:E.y)??0)+y,x=h==null?void 0:h.position,w=x?BG[x]:null;if(!x||!w)return null;if(r)return P.createElement(r,{connectionLineType:s,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:b,fromY:v,toX:c,toY:u,fromPosition:x,toPosition:w,connectionStatus:i});let j="";const N={sourceX:b,sourceY:v,sourcePosition:x,targetX:c,targetY:u,targetPosition:w};return s===na.Bezier?[j]=GE(N):s===na.Step?[j]=Cp({...N,borderRadius:0}):s===na.SmoothStep?[j]=Cp(N):s===na.SimpleBezier?[j]=VE(N):j=`M${b},${v} ${c},${u}`,P.createElement("path",{d:j,fill:"none",className:"react-flow__connection-path",style:n})};jT.displayName="ConnectionLine";const FG=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function HG({containerStyle:e,style:t,type:n,component:s}){const{nodeId:r,handleType:i,nodesConnectable:o,width:l,height:c,connectionStatus:u}=ft(FG,bn);return!(r&&i&&l&&o)?null:P.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},P.createElement("g",{className:dn(["react-flow__connection",u])},P.createElement(jT,{nodeId:r,handleType:i,style:t,type:n,CustomComponent:s,connectionStatus:u})))}function Tw(e,t){return g.useRef(null),Ft(),g.useMemo(()=>t(e),[e])}const NT=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:s,onMoveEnd:r,onInit:i,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:y,onSelectionEnd:b,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:w,connectionLineContainerStyle:j,selectionKeyCode:N,selectionOnDrag:k,selectionMode:S,multiSelectionKeyCode:E,panActivationKeyCode:C,zoomActivationKeyCode:T,deleteKeyCode:_,onlyRenderVisibleElements:O,elementsSelectable:L,selectNodesOnDrag:A,defaultViewport:$,translateExtent:D,minZoom:z,maxZoom:M,preventScrolling:R,defaultMarkerColor:B,zoomOnScroll:F,zoomOnPinch:V,panOnScroll:X,panOnScrollSpeed:W,panOnScrollMode:J,zoomOnDoubleClick:le,panOnDrag:te,onPaneClick:xe,onPaneMouseEnter:me,onPaneMouseMove:ye,onPaneMouseLeave:Xe,onPaneScroll:st,onPaneContextMenu:H,onEdgeContextMenu:G,onEdgeMouseEnter:K,onEdgeMouseMove:ie,onEdgeMouseLeave:ne,onReconnect:Q,onReconnectStart:Se,onReconnectEnd:Qe,reconnectRadius:Et,noDragClassName:fn,noWheelClassName:mn,noPanClassName:cs,elevateEdgesOnSelect:nr,disableKeyboardA11y:sr,nodeOrigin:rr,nodeExtent:us,rfId:Vr})=>{const Gr=Tw(e,pG),Lt=Tw(t,NG);return IG(i),P.createElement(hG,{onPaneClick:xe,onPaneMouseEnter:me,onPaneMouseMove:ye,onPaneMouseLeave:Xe,onPaneContextMenu:H,onPaneScroll:st,deleteKeyCode:_,selectionKeyCode:N,selectionOnDrag:k,selectionMode:S,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:E,panActivationKeyCode:C,zoomActivationKeyCode:T,elementsSelectable:L,onMove:n,onMoveStart:s,onMoveEnd:r,zoomOnScroll:F,zoomOnPinch:V,zoomOnDoubleClick:le,panOnScroll:X,panOnScrollSpeed:W,panOnScrollMode:J,panOnDrag:te,defaultViewport:$,translateExtent:D,minZoom:z,maxZoom:M,onSelectionContextMenu:p,preventScrolling:R,noDragClassName:fn,noWheelClassName:mn,noPanClassName:cs,disableKeyboardA11y:sr},P.createElement(OG,null,P.createElement(PG,{edgeTypes:Lt,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:O,onEdgeContextMenu:G,onEdgeMouseEnter:K,onEdgeMouseMove:ie,onEdgeMouseLeave:ne,onReconnect:Q,onReconnectStart:Se,onReconnectEnd:Qe,reconnectRadius:Et,defaultMarkerColor:B,noPanClassName:cs,elevateEdgesOnSelect:!!nr,disableKeyboardA11y:sr,rfId:Vr},P.createElement(HG,{style:x,type:v,component:w,containerStyle:j})),P.createElement("div",{className:"react-flow__edgelabel-renderer"}),P.createElement(yG,{nodeTypes:Gr,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,selectNodesOnDrag:A,onlyRenderVisibleElements:O,noPanClassName:cs,noDragClassName:fn,disableKeyboardA11y:sr,nodeOrigin:rr,nodeExtent:us,rfId:Vr})))};NT.displayName="GraphView";var UG=g.memo(NT);const Mp=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Yr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Mp,nodeExtent:Mp,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ki.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:vV,isValidConnection:void 0},VG=()=>M9((e,t)=>({...Yr,setNodes:n=>{const{nodeInternals:s,nodeOrigin:r,elevateNodesOnSelect:i}=t();e({nodeInternals:Wh(n,s,r,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:s={}}=t();e({edges:n.map(r=>({...s,...r}))})},setDefaultNodesAndEdges:(n,s)=>{const r=typeof n<"u",i=typeof s<"u",o=r?Wh(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?s:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:s,nodeInternals:r,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((y,b)=>{const v=r.get(b.id);if(v!=null&&v.hidden)r.set(v.id,{...v,[pt]:{...v[pt],handleBounds:void 0}});else if(v){const x=Q0(b.nodeElement);!!(x.width&&x.height&&(v.width!==x.width||v.height!==x.height||b.forceUpdate))&&(r.set(v.id,{...v,[pt]:{...v[pt],handleBounds:{source:ww(".source",b.nodeElement,m,u),target:ww(".target",b.nodeElement,m,u)}},...x}),y.push({id:v.id,type:"dimensions",dimensions:x}))}return y},[]);cT(r,u);const p=o||i&&!o&&uT(t,{initial:!0,...l});e({nodeInternals:new Map(r),fitViewOnInitDone:p}),(h==null?void 0:h.length)>0&&(s==null||s(h))},updateNodePositions:(n,s=!0,r=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(l=>{const c={id:l.id,type:"position",dragging:r};return s&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});i(o)},triggerNodeChanges:n=>{const{onNodesChange:s,nodeInternals:r,hasDefaultNodes:i,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(i){const u=fT(n,l()),d=Wh(u,r,o,c);e({nodeInternals:d})}s==null||s(n)}},addSelectedNodes:n=>{const{multiSelectionActive:s,edges:r,getNodes:i}=t();let o,l=null;s?o=n.map(c=>Jr(c,!0)):(o=fo(i(),n),l=fo(r,[])),ld({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:s,edges:r,getNodes:i}=t();let o,l=null;s?o=n.map(c=>Jr(c,!0)):(o=fo(r,n),l=fo(i(),[])),ld({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:s}={})=>{const{edges:r,getNodes:i}=t(),o=n||i(),l=s||r,c=o.map(d=>(d.selected=!1,Jr(d.id,!1))),u=l.map(d=>Jr(d.id,!1));ld({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:s,maxZoom:r}=t();s==null||s.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:s,minZoom:r}=t();s==null||s.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var s;(s=t().d3Zoom)==null||s.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:s}=t(),i=s().filter(l=>l.selected).map(l=>Jr(l.id,!1)),o=n.filter(l=>l.selected).map(l=>Jr(l.id,!1));ld({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:s}=t();s.forEach(r=>{r.positionAbsolute=J0(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(s)})},panBy:n=>{const{transform:s,width:r,height:i,d3Zoom:o,d3Selection:l,translateExtent:c}=t();if(!o||!l||!n.x&&!n.y)return!1;const u=ga.translate(s[0]+n.x,s[1]+n.y).scale(s[2]),d=[[0,0],[r,i]],f=o==null?void 0:o.constrain()(u,d,c);return o.transform(l,f),s[0]!==f.x||s[1]!==f.y||s[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Yr.connectionNodeId,connectionHandleId:Yr.connectionHandleId,connectionHandleType:Yr.connectionHandleType,connectionStatus:Yr.connectionStatus,connectionStartHandle:Yr.connectionStartHandle,connectionEndHandle:Yr.connectionEndHandle}),reset:()=>e({...Yr})}),Object.is),ST=({children:e})=>{const t=g.useRef(null);return t.current||(t.current=VG()),P.createElement(uV,{value:t.current},e)};ST.displayName="ReactFlowProvider";const kT=({children:e})=>g.useContext(Wm)?P.createElement(P.Fragment,null,e):P.createElement(ST,null,e);kT.displayName="ReactFlowWrapper";const GG={input:nT,default:Ap,output:rT,group:lv},qG={default:Af,straight:sv,step:nv,smoothstep:Km,simplebezier:tv},ZG=[0,0],YG=[15,15],XG={x:0,y:0,zoom:1},WG={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},dv=g.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:r,nodeTypes:i=GG,edgeTypes:o=qG,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:v,onNodeMouseEnter:x,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:k,onNodeDragStart:S,onNodeDrag:E,onNodeDragStop:C,onNodesDelete:T,onEdgesDelete:_,onSelectionChange:O,onSelectionDragStart:L,onSelectionDrag:A,onSelectionDragStop:$,onSelectionContextMenu:D,onSelectionStart:z,onSelectionEnd:M,connectionMode:R=ki.Strict,connectionLineType:B=na.Bezier,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:X,deleteKeyCode:W="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:le=!1,selectionMode:te=Fc.Full,panActivationKeyCode:xe="Space",multiSelectionKeyCode:me=Ef()?"Meta":"Control",zoomActivationKeyCode:ye=Ef()?"Meta":"Control",snapToGrid:Xe=!1,snapGrid:st=YG,onlyRenderVisibleElements:H=!1,selectNodesOnDrag:G=!0,nodesDraggable:K,nodesConnectable:ie,nodesFocusable:ne,nodeOrigin:Q=ZG,edgesFocusable:Se,edgesUpdatable:Qe,elementsSelectable:Et,defaultViewport:fn=XG,minZoom:mn=.5,maxZoom:cs=2,translateExtent:nr=Mp,preventScrolling:sr=!0,nodeExtent:rr,defaultMarkerColor:us="#b1b1b7",zoomOnScroll:Vr=!0,zoomOnPinch:Gr=!0,panOnScroll:Lt=!1,panOnScrollSpeed:Ht=.5,panOnScrollMode:Es=ii.Free,zoomOnDoubleClick:ar=!0,panOnDrag:ir=!0,onPaneClick:ds,onPaneMouseEnter:Vn,onPaneMouseMove:Va,onPaneMouseLeave:de,onPaneScroll:Re,onPaneContextMenu:Oe,children:De,onEdgeContextMenu:Be,onEdgeDoubleClick:Yt,onEdgeMouseEnter:Ut,onEdgeMouseMove:Ts,onEdgeMouseLeave:Cn,onEdgeUpdate:or,onEdgeUpdateStart:As,onEdgeUpdateEnd:Gn,onReconnect:Xi,onReconnectStart:Hu,onReconnectEnd:z4,reconnectRadius:P4=10,edgeUpdaterRadius:$4=10,onNodesChange:O4,onEdgesChange:I4,noDragClassName:B4="nodrag",noWheelClassName:F4="nowheel",noPanClassName:jy="nopan",fitView:H4=!1,fitViewOptions:U4,connectOnClick:V4=!0,attributionPosition:G4,proOptions:q4,defaultEdgeOptions:Z4,elevateNodesOnSelect:Y4=!0,elevateEdgesOnSelect:X4=!1,disableKeyboardA11y:Ny=!1,autoPanOnConnect:W4=!0,autoPanOnNodeDrag:K4=!0,connectionRadius:Q4=20,isValidConnection:J4,onError:eR,style:tR,id:Sy,nodeDragThreshold:nR,...sR},rR)=>{const vh=Sy||"1";return P.createElement("div",{...sR,style:{...tR,...WG},ref:rR,className:dn(["react-flow",r]),"data-testid":"rf__wrapper",id:Sy},P.createElement(kT,null,P.createElement(UG,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:x,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:o,connectionLineType:B,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:X,selectionKeyCode:J,selectionOnDrag:le,selectionMode:te,deleteKeyCode:W,multiSelectionKeyCode:me,panActivationKeyCode:xe,zoomActivationKeyCode:ye,onlyRenderVisibleElements:H,selectNodesOnDrag:G,defaultViewport:fn,translateExtent:nr,minZoom:mn,maxZoom:cs,preventScrolling:sr,zoomOnScroll:Vr,zoomOnPinch:Gr,zoomOnDoubleClick:ar,panOnScroll:Lt,panOnScrollSpeed:Ht,panOnScrollMode:Es,panOnDrag:ir,onPaneClick:ds,onPaneMouseEnter:Vn,onPaneMouseMove:Va,onPaneMouseLeave:de,onPaneScroll:Re,onPaneContextMenu:Oe,onSelectionContextMenu:D,onSelectionStart:z,onSelectionEnd:M,onEdgeContextMenu:Be,onEdgeDoubleClick:Yt,onEdgeMouseEnter:Ut,onEdgeMouseMove:Ts,onEdgeMouseLeave:Cn,onReconnect:Xi??or,onReconnectStart:Hu??As,onReconnectEnd:z4??Gn,reconnectRadius:P4??$4,defaultMarkerColor:us,noDragClassName:B4,noWheelClassName:F4,noPanClassName:jy,elevateEdgesOnSelect:X4,rfId:vh,disableKeyboardA11y:Ny,nodeOrigin:Q,nodeExtent:rr}),P.createElement(BV,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:v,nodesDraggable:K,nodesConnectable:ie,nodesFocusable:ne,edgesFocusable:Se,edgesUpdatable:Qe,elementsSelectable:Et,elevateNodesOnSelect:Y4,minZoom:mn,maxZoom:cs,nodeExtent:rr,onNodesChange:O4,onEdgesChange:I4,snapToGrid:Xe,snapGrid:st,connectionMode:R,translateExtent:nr,connectOnClick:V4,defaultEdgeOptions:Z4,fitView:H4,fitViewOptions:U4,onNodesDelete:T,onEdgesDelete:_,onNodeDragStart:S,onNodeDrag:E,onNodeDragStop:C,onSelectionDrag:A,onSelectionDragStart:L,onSelectionDragStop:$,noPanClassName:jy,nodeOrigin:Q,rfId:vh,autoPanOnConnect:W4,autoPanOnNodeDrag:K4,onError:eR,connectionRadius:Q4,isValidConnection:J4,nodeDragThreshold:nR}),P.createElement(OV,{onSelectionChange:O}),De,P.createElement(fV,{proOptions:q4,position:G4}),P.createElement(GV,{rfId:vh,disableKeyboardA11y:Ny})))});dv.displayName="ReactFlow";function CT(e){return t=>{const[n,s]=g.useState(t),r=g.useCallback(i=>s(o=>e(i,o)),[]);return[n,s,r]}}const ET=CT(fT),TT=CT(aG);function KG(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}function QG(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},P.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function JG(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},P.createElement("path",{d:"M0 0h32v4.2H0z"}))}function eq(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},P.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function tq(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function nq(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ac=({children:e,className:t,...n})=>P.createElement("button",{type:"button",className:dn(["react-flow__controls-button",t]),...n},e);ac.displayName="ControlButton";const sq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),AT=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const m=Ft(),[h,p]=g.useState(!1),{isInteractive:y,minZoomReached:b,maxZoomReached:v}=ft(sq,KG),{zoomIn:x,zoomOut:w,fitView:j}=cv();if(g.useEffect(()=>{p(!0)},[]),!h)return null;const N=()=>{x(),i==null||i()},k=()=>{w(),o==null||o()},S=()=>{j(r),l==null||l()},E=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),c==null||c(!y)};return P.createElement($E,{className:dn(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&P.createElement(P.Fragment,null,P.createElement(ac,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v},P.createElement(QG,null)),P.createElement(ac,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},P.createElement(JG,null))),n&&P.createElement(ac,{className:"react-flow__controls-fitview",onClick:S,title:"fit view","aria-label":"fit view"},P.createElement(eq,null)),s&&P.createElement(ac,{className:"react-flow__controls-interactive",onClick:E,title:"toggle interactivity","aria-label":"toggle interactivity"},y?P.createElement(nq,null):P.createElement(tq,null)),d)};AT.displayName="Controls";var _T=g.memo(AT);function rq(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var vs;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(vs||(vs={}));function aq({color:e,dimensions:t,lineWidth:n}){return P.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function iq({color:e,radius:t}){return P.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const oq={[vs.Dots]:"#91919a",[vs.Lines]:"#eee",[vs.Cross]:"#e2e2e2"},lq={[vs.Dots]:1,[vs.Lines]:1,[vs.Cross]:6},cq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function MT({id:e,variant:t=vs.Dots,gap:n=20,size:s,lineWidth:r=1,offset:i=2,color:o,style:l,className:c}){const u=g.useRef(null),{transform:d,patternId:f}=ft(cq,rq),m=o||oq[t],h=s||lq[t],p=t===vs.Dots,y=t===vs.Cross,b=Array.isArray(n)?n:[n,n],v=[b[0]*d[2]||1,b[1]*d[2]||1],x=h*d[2],w=y?[x,x]:v,j=p?[x/i,x/i]:[w[0]/i,w[1]/i];return P.createElement("svg",{className:dn(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},P.createElement("pattern",{id:f+e,x:d[0]%v[0],y:d[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`},p?P.createElement(iq,{color:m,radius:x/i}):P.createElement(aq,{dimensions:w,color:m,lineWidth:r})),P.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}MT.displayName="Background";var RT=g.memo(MT);function uq(e){if(!e||typeof e!="object")throw new Error("Invalid perk tree data");const t=e;if(!t.treeId||!t.treeName||!t.perks||!Array.isArray(t.perks))throw new Error("Invalid perk tree structure");return t}function DT(e){try{return{success:!0,data:uq(e)}}catch(t){return{success:!1,error:t}}}const dq={nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120,fallbackSpacing:100};async function LT(e){try{const t=en(`data/perk-positions/${e}-positions.json`),n=await fetch(t);return n.ok?await n.json():null}catch{return null}}function fq(e,t){const n=new Map;e.forEach(o=>{const l=t==null?void 0:t.positions.find(c=>c.perkId===o.edid);n.set(o.edid,{perk:o,depth:-1,children:o.connections.children,parents:o.connections.parents,savedPosition:l})});const r=e.filter(o=>o.connections.parents.length===0).map(o=>({id:o.edid,depth:0})),i=new Set;for(;r.length>0;){const{id:o,depth:l}=r.shift();if(i.has(o))continue;i.add(o);const c=n.get(o);c&&((c.depth===-1||l<c.depth)&&(c.depth=l),c.children.forEach(u=>{n.has(u)&&!i.has(u)&&r.push({id:u,depth:l+1})}))}return n}function mq(e,t){const n=new Map,s=new Map;e.forEach(i=>{const o=i.depth;s.has(o)||s.set(o,[]),s.get(o).push(i)});const r=Math.max(...s.keys());return s.forEach((i,o)=>{const l=t.padding+(r-o)*t.verticalSpacing,c=(i.length-1)*t.horizontalSpacing,u=t.padding+(t.gridScaleX-c)/2;i.forEach((d,f)=>{const m=u+f*t.horizontalSpacing;n.set(d.perk.edid,{x:m,y:l})})}),n}function hq(e,t,n){t.positions.forEach(s=>{const r=e.get(s.perkId);r&&(r.savedPosition=s,r.calculatedPosition={x:s.x,y:s.y})})}function gq(e,t,n={}){const s={...dq,...n},r=fq(e.perks,t);t&&hq(r,t);const i=mq(r,s),o=new Map;return r.forEach((l,c)=>{if(l.calculatedPosition)o.set(c,l.calculatedPosition);else{const u=i.get(c);u?o.set(c,u):o.set(c,{x:s.padding,y:s.padding})}}),o}function pq(e,t){const n=Array.from(t.entries()).map(([s,r])=>({perkId:s,x:r.x,y:r.y,gridX:r.gridX,gridY:r.gridY,horizontal:r.horizontal,vertical:r.vertical}));return{treeId:e.treeId,treeName:e.treeName,positions:n,version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function Aw(e,t){const n=new Map;return t.positions.forEach(s=>{n.set(s.perkId,{x:s.x,y:s.y,gridX:s.gridX,gridY:s.gridY,horizontal:s.horizontal,vertical:s.vertical})}),n}function xq(e){const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=`${e.treeId}-positions.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}const vq=({data:e,selected:t,onTogglePerk:n,onRankChange:s})=>{var u,d,f,m,h;const r=e.totalRanks,i=r>1?(e.currentRank||0)>0:e.selected||t,o=p=>{if(p.preventDefault(),p.stopPropagation(),(e.totalRanks||1)>1){const b=e.currentRank||0,v=e.totalRanks||1,x=b>=v?0:b+1;s&&s(e.edid,x)}else n&&n(e.edid)},l=()=>{const p={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return e.hasNoPosition?{...p,borderColor:"#ef4444",borderStyle:"dashed",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 1px rgba(239, 68, 68, 0.3)"}:i?{...p,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...p,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...p,borderColor:"hsl(var(--border))"}},c=((d=(u=e.ranks[0])==null?void 0:u.description)==null?void 0:d.base)||"";return a.jsxs(PC,{children:[a.jsx($C,{asChild:!0,children:a.jsxs("div",{style:l(),onClick:o,onMouseDown:p=>p.stopPropagation(),children:[!e.isRoot&&a.jsx(al,{type:"target",position:oe.Bottom}),a.jsx("div",{className:"font-medium",children:e.name}),r>1&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",r," ranks"]}),e.hasChildren&&a.jsx(al,{type:"source",position:oe.Top})]})}),a.jsx(G0,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:kt.TOOLTIP},children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-sm",children:e.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:c}),typeof((h=(m=(f=e.ranks[0])==null?void 0:f.prerequisites)==null?void 0:m.skillLevel)==null?void 0:h.level)=="number"&&e.ranks[0].prerequisites.skillLevel.level>0&&a.jsxs("div",{className:"text-xs text-blue-700 font-medium pt-1",children:["Min. Level: ",e.ranks[0].prerequisites.skillLevel.level]}),r>1&&a.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[a.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",r,a.jsx("br",{}),a.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})},zT=g.memo(vq);function eg({skills:e,onSelect:t,placeholder:n="Search skills...",className:s="",disabled:r=!1}){const[i,o]=g.useState(""),l=g.useMemo(()=>{if(!i.trim())return e;const f=i.toLowerCase();return e.filter(m=>m.name.toLowerCase().includes(f)||m.description.toLowerCase().includes(f)||m.category.toLowerCase().includes(f)||m.keyAbilities.some(h=>h.toLowerCase().includes(f))||m.metaTags.some(h=>h.toLowerCase().includes(f)))},[e,i]),c=g.useMemo(()=>l.map(f=>{var m;return{id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&a.jsx(q,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalSkill:f,keyAbilitiesCount:((m=f.keyAbilities)==null?void 0:m.length)||0,scaling:f.scaling}}}),[l]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h,p;return a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Vm,{skillName:f.label,size:"sm",className:"flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.label}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&a.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.keyAbilitiesCount)&&f.metadata.keyAbilitiesCount>0&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.keyAbilitiesCount," ability",f.metadata.keyAbilitiesCount!==1?"s":""]})]}),f.description&&a.jsx(Me,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"}),((p=f.metadata)==null?void 0:p.scaling)&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Scaling:"})," ",f.metadata.scaling]})]})]})};return a.jsx(vu,{options:c,onSelect:u,placeholder:n,className:s,disabled:r,renderOption:d,emptyMessage:"No skills found",searchQuery:i,onSearchQueryChange:o})}function yq(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const PT=P.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Su=()=>{const e=P.useContext(PT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};yq(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function bq(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function wq(){return fv(/^Mac/)}function jq(){return fv(/^iPhone/)}function _w(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Nq(){return fv(/^iPad/)||wq()&&navigator.maxTouchPoints>1}function $T(){return jq()||Nq()}function fv(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Sq=24,kq=typeof window<"u"?g.useLayoutEffect:g.useEffect;function Mw(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const tg=typeof document<"u"&&window.visualViewport;function Rw(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function OT(e){for(Rw(e)&&(e=e.parentElement);e&&!Rw(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Cq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ud=0,ng;function Eq(e={}){let{isDisabled:t}=e;kq(()=>{if(!t)return ud++,ud===1&&$T()&&(ng=Tq()),()=>{ud--,ud===0&&(ng==null||ng())}},[t])}function Tq(){let e,t=0,n=f=>{e=OT(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},s=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,h=e.scrollTop,p=e.scrollHeight-e.clientHeight;p!==0&&((h<=0&&m>t||h>=p&&m<t)&&f.preventDefault(),t=m)},r=f=>{let m=f.target;Rp(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},i=f=>{let m=f.target;Rp(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",tg&&(tg.height<window.innerHeight?requestAnimationFrame(()=>{Dw(m)}):tg.addEventListener("resize",()=>Dw(m),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=Mw(Aq(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=Mw(Gl(document,"touchstart",n,{passive:!1,capture:!0}),Gl(document,"touchmove",s,{passive:!1,capture:!0}),Gl(document,"touchend",r,{passive:!1,capture:!0}),Gl(document,"focus",i,!0),Gl(window,"scroll",o));return()=>{u(),d(),window.scrollTo(l,c)}}function Aq(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function Gl(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function Dw(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=OT(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,r=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+Sq;i>o&&(n.scrollTop+=r-s)}e=n.parentElement}}function Rp(e){return e instanceof HTMLInputElement&&!Cq.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function _q(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Mq(...e){return t=>e.forEach(n=>_q(n,t))}function IT(...e){return g.useCallback(Mq(...e),e)}const BT=new WeakMap;function At(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([r,i])=>{if(r.startsWith("--")){e.style.setProperty(r,i);return}s[r]=e.style[r],e.style[r]=i}),!n&&BT.set(e,s)}function Rq(e,t){if(!e||!(e instanceof HTMLElement))return;let n=BT.get(e);n&&(e.style[t]=n[t])}const jt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function dd(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let r=s.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[jt(t)?13:12]):(r=s.match(/^matrix\((.+)\)$/),r?parseFloat(r[1].split(", ")[jt(t)?5:4]):null)}function Dq(e){return 8*(Math.log(e+1)-2)}function sg(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Lq(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const ut={DURATION:.5,EASE:[.32,.72,0,1]},FT=.4,zq=.25,Pq=100,HT=8,Za=16,Dp=26,rg="vaul-dragging";function UT(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function $q({defaultProp:e,onChange:t}){const n=P.useState(e),[s]=n,r=P.useRef(s),i=UT(t);return P.useEffect(()=>{r.current!==s&&(i(s),r.current=s)},[s,r,i]),n}function VT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,r]=$q({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:s,l=UT(n),c=P.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else r(u)},[i,e,r,l]);return[o,c]}function Oq({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:r,fadeFromIndex:i,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=VT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[m,h]=P.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);P.useEffect(()=>{function S(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const p=P.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),y=P.useMemo(()=>{var S;return(S=n==null?void 0:n.findIndex(E=>E===d))!=null?S:null},[n,d]),b=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===d||!n,v=P.useMemo(()=>{const S=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var E;return(E=n==null?void 0:n.map(C=>{const T=typeof C=="string";let _=0;if(T&&(_=parseInt(C,10)),jt(l)){const L=T?_:m?C*S.height:0;return m?l==="bottom"?S.height-L:-S.height+L:L}const O=T?_:m?C*S.width:0;return m?l==="right"?S.width-O:-S.width+O:O}))!=null?E:[]},[n,m,c]),x=P.useMemo(()=>y!==null?v==null?void 0:v[y]:null,[v,y]),w=P.useCallback(S=>{var E;const C=(E=v==null?void 0:v.findIndex(T=>T===S))!=null?E:null;o(C),At(s.current,{transition:`transform ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,transform:jt(l)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`}),v&&C!==v.length-1&&i!==void 0&&C!==i&&C<i?At(r.current,{transition:`opacity ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,opacity:"0"}):At(r.current,{transition:`opacity ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(C,0)])},[s.current,n,v,i,r,f]);P.useEffect(()=>{if(d||e){var S;const E=(S=n==null?void 0:n.findIndex(C=>C===e||C===d))!=null?S:-1;v&&E!==-1&&typeof v[E]=="number"&&w(v[E])}},[d,e,n,v,w]);function j({draggedDistance:S,closeDrawer:E,velocity:C,dismissible:T}){if(i===void 0)return;const _=l==="bottom"||l==="right"?(x??0)-S:(x??0)+S,O=y===i-1,L=y===0,A=S>0;if(O&&At(r.current,{transition:`opacity ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`}),!u&&C>2&&!A){T?E():w(v[0]);return}if(!u&&C>2&&A&&v&&n){w(v[n.length-1]);return}const $=v==null?void 0:v.reduce((z,M)=>typeof z!="number"||typeof M!="number"?z:Math.abs(M-_)<Math.abs(z-_)?M:z),D=jt(l)?window.innerHeight:window.innerWidth;if(C>FT&&Math.abs(S)<D*.4){const z=A?1:-1;if(z>0&&p&&n){w(v[n.length-1]);return}if(L&&z<0&&T&&E(),y===null)return;w(v[y+z]);return}w($)}function N({draggedDistance:S}){if(x===null)return;const E=l==="bottom"||l==="right"?x-S:x+S;(l==="bottom"||l==="right")&&E<v[v.length-1]||(l==="top"||l==="left")&&E>v[v.length-1]||At(s.current,{transform:jt(l)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})}function k(S,E){if(!n||typeof y!="number"||!v||i===void 0)return null;const C=y===i-1;if(y>=i&&E)return 0;if(C&&!E)return 1;if(!b&&!C)return null;const _=C?y+1:y-1,O=C?v[_]-v[_-1]:v[_+1]-v[_],L=S/Math.abs(O);return C?1-L:L}return{isLastSnapPoint:p,activeSnapPoint:d,shouldFade:b,getPercentageDragged:k,setActiveSnapPoint:f,activeSnapPointIndex:y,onRelease:j,onDrag:N,snapPointsOffset:v}}const Iq=()=>()=>{};function Bq(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:r}=Su(),i=P.useRef(null),o=g.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Dp)/window.innerWidth}P.useEffect(()=>{if(t&&n){i.current&&clearTimeout(i.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Lq(s&&!r?sg(document.body,{background:"black"}):Iq,sg(c,{transformOrigin:jt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${ut.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ut.EASE.join(",")})`}));const u=sg(c,{borderRadius:`${HT}px`,overflow:"hidden",...jt(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),i.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},ut.DURATION*1e3)}}},[t,n,o])}let ql=null;function Fq({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:r,noBodyStyles:i}){const[o,l]=P.useState(()=>typeof window<"u"?window.location.href:""),c=P.useRef(0),u=P.useCallback(()=>{if(_w()&&ql===null&&e&&!i){ql={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=m-window.innerHeight;h&&c.current>=m&&(document.body.style.top=`${-(c.current+h)}px`)}),300)}},[e]),d=P.useCallback(()=>{if(_w()&&ql!==null&&!i){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ql),window.requestAnimationFrame(()=>{if(r&&o!==window.location.href){l(window.location.href);return}window.scrollTo(m,f)}),ql=null}},[o]);return P.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),P.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),P.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,s,o,t,n,u,d]),{restorePositionSetting:d}}function Hq({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:r,snapPoints:i,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=zq,scrollLockTimeout:u=Pq,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:m=i&&i.length-1,activeSnapPoint:h,setActiveSnapPoint:p,fixed:y,modal:b=!0,onClose:v,nested:x,noBodyStyles:w=!1,direction:j="bottom",defaultOpen:N=!1,disablePreventScroll:k=!0,snapToSequentialPoint:S=!1,preventScrollRestoration:E=!1,repositionInputs:C=!0,onAnimationEnd:T,container:_,autoFocus:O=!1}){var L,A;const[$=!1,D]=VT({defaultProp:N,prop:e,onChange:de=>{t==null||t(de),!de&&!x&&rr(),setTimeout(()=>{T==null||T(de)},ut.DURATION*1e3),de&&!b&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),de||(document.body.style.pointerEvents="auto")}}),[z,M]=P.useState(!1),[R,B]=P.useState(!1),[F,V]=P.useState(!1),X=P.useRef(null),W=P.useRef(null),J=P.useRef(null),le=P.useRef(null),te=P.useRef(null),xe=P.useRef(!1),me=P.useRef(null),ye=P.useRef(0),Xe=P.useRef(!1),st=P.useRef(!N),H=P.useRef(0),G=P.useRef(null),K=P.useRef(((L=G.current)==null?void 0:L.getBoundingClientRect().height)||0),ie=P.useRef(((A=G.current)==null?void 0:A.getBoundingClientRect().width)||0),ne=P.useRef(0),Q=P.useCallback(de=>{i&&de===mn.length-1&&(W.current=new Date)},[]),{activeSnapPoint:Se,activeSnapPointIndex:Qe,setActiveSnapPoint:Et,onRelease:fn,snapPointsOffset:mn,onDrag:cs,shouldFade:nr,getPercentageDragged:sr}=Oq({snapPoints:i,activeSnapPointProp:h,setActiveSnapPointProp:p,drawerRef:G,fadeFromIndex:m,overlayRef:X,onSnapPointChange:Q,direction:j,container:_,snapToSequentialPoint:S});Eq({isDisabled:!$||R||!b||F||!z||!C||!k});const{restorePositionSetting:rr}=Fq({isOpen:$,modal:b,nested:x??!1,hasBeenOpened:z,preventScrollRestoration:E,noBodyStyles:w});function us(){return(window.innerWidth-Dp)/window.innerWidth}function Vr(de){var Re,Oe;!d&&!i||G.current&&!G.current.contains(de.target)||(K.current=((Re=G.current)==null?void 0:Re.getBoundingClientRect().height)||0,ie.current=((Oe=G.current)==null?void 0:Oe.getBoundingClientRect().width)||0,B(!0),J.current=new Date,$T()&&window.addEventListener("touchend",()=>xe.current=!1,{once:!0}),de.target.setPointerCapture(de.pointerId),ye.current=jt(j)?de.pageY:de.pageX)}function Gr(de,Re){var Oe;let De=de;const Be=(Oe=window.getSelection())==null?void 0:Oe.toString(),Yt=G.current?dd(G.current,j):null,Ut=new Date;if(De.tagName==="SELECT"||De.hasAttribute("data-vaul-no-drag")||De.closest("[data-vaul-no-drag]"))return!1;if(j==="right"||j==="left")return!0;if(W.current&&Ut.getTime()-W.current.getTime()<500)return!1;if(Yt!==null&&(j==="bottom"?Yt>0:Yt<0))return!0;if(Be&&Be.length>0)return!1;if(te.current&&Ut.getTime()-te.current.getTime()<u&&Yt===0||Re)return te.current=Ut,!1;for(;De;){if(De.scrollHeight>De.clientHeight){if(De.scrollTop!==0)return te.current=new Date,!1;if(De.getAttribute("role")==="dialog")return!0}De=De.parentNode}return!0}function Lt(de){if(G.current&&R){const Re=j==="bottom"||j==="right"?1:-1,Oe=(ye.current-(jt(j)?de.pageY:de.pageX))*Re,De=Oe>0,Be=i&&!d&&!De;if(Be&&Qe===0)return;const Yt=Math.abs(Oe),Ut=document.querySelector("[data-vaul-drawer-wrapper]"),Ts=j==="bottom"||j==="top"?K.current:ie.current;let Cn=Yt/Ts;const or=sr(Yt,De);if(or!==null&&(Cn=or),Be&&Cn>=1||!xe.current&&!Gr(de.target,De))return;if(G.current.classList.add(rg),xe.current=!0,At(G.current,{transition:"none"}),At(X.current,{transition:"none"}),i&&cs({draggedDistance:Oe}),De&&!i){const Gn=Dq(Oe),Xi=Math.min(Gn*-1,0)*Re;At(G.current,{transform:jt(j)?`translate3d(0, ${Xi}px, 0)`:`translate3d(${Xi}px, 0, 0)`});return}const As=1-Cn;if((nr||m&&Qe===m-1)&&(s==null||s(de,Cn),At(X.current,{opacity:`${As}`,transition:"none"},!0)),Ut&&X.current&&o){const Gn=Math.min(us()+Cn*(1-us()),1),Xi=8-Cn*8,Hu=Math.max(0,14-Cn*14);At(Ut,{borderRadius:`${Xi}px`,transform:jt(j)?`scale(${Gn}) translate3d(0, ${Hu}px, 0)`:`scale(${Gn}) translate3d(${Hu}px, 0, 0)`,transition:"none"},!0)}if(!i){const Gn=Yt*Re;At(G.current,{transform:jt(j)?`translate3d(0, ${Gn}px, 0)`:`translate3d(${Gn}px, 0, 0)`})}}}P.useEffect(()=>{window.requestAnimationFrame(()=>{st.current=!0})},[]),P.useEffect(()=>{var de;function Re(){if(!G.current||!C)return;const Oe=document.activeElement;if(Rp(Oe)||Xe.current){var De;const Be=((De=window.visualViewport)==null?void 0:De.height)||0,Yt=window.innerHeight;let Ut=Yt-Be;const Ts=G.current.getBoundingClientRect().height||0,Cn=Ts>Yt*.8;ne.current||(ne.current=Ts);const or=G.current.getBoundingClientRect().top;if(Math.abs(H.current-Ut)>60&&(Xe.current=!Xe.current),i&&i.length>0&&mn&&Qe){const As=mn[Qe]||0;Ut+=As}if(H.current=Ut,Ts>Be||Xe.current){const As=G.current.getBoundingClientRect().height;let Gn=As;As>Be&&(Gn=Be-(Cn?or:Dp)),y?G.current.style.height=`${As-Math.max(Ut,0)}px`:G.current.style.height=`${Math.max(Gn,Be-or)}px`}else bq()||(G.current.style.height=`${ne.current}px`);i&&i.length>0&&!Xe.current?G.current.style.bottom="0px":G.current.style.bottom=`${Math.max(Ut,0)}px`}}return(de=window.visualViewport)==null||de.addEventListener("resize",Re),()=>{var Oe;return(Oe=window.visualViewport)==null?void 0:Oe.removeEventListener("resize",Re)}},[Qe,i,mn]);function Ht(de){ar(),v==null||v(),de||D(!1),setTimeout(()=>{i&&Et(i[0])},ut.DURATION*1e3)}function Es(){if(!G.current)return;const de=document.querySelector("[data-vaul-drawer-wrapper]"),Re=dd(G.current,j);At(G.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`}),At(X.current,{transition:`opacity ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,opacity:"1"}),o&&Re&&Re>0&&$&&At(de,{borderRadius:`${HT}px`,overflow:"hidden",...jt(j)?{transform:`scale(${us()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${us()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${ut.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ut.EASE.join(",")})`},!0)}function ar(){!R||!G.current||(G.current.classList.remove(rg),xe.current=!1,B(!1),le.current=new Date)}function ir(de){if(!R||!G.current)return;G.current.classList.remove(rg),xe.current=!1,B(!1),le.current=new Date;const Re=dd(G.current,j);if(!de||!Gr(de.target,!1)||!Re||Number.isNaN(Re)||J.current===null)return;const Oe=le.current.getTime()-J.current.getTime(),De=ye.current-(jt(j)?de.pageY:de.pageX),Be=Math.abs(De)/Oe;if(Be>.05&&(V(!0),setTimeout(()=>{V(!1)},200)),i){fn({draggedDistance:De*(j==="bottom"||j==="right"?1:-1),closeDrawer:Ht,velocity:Be,dismissible:d}),r==null||r(de,!0);return}if(j==="bottom"||j==="right"?De>0:De<0){Es(),r==null||r(de,!0);return}if(Be>FT){Ht(),r==null||r(de,!1);return}var Yt;const Ut=Math.min((Yt=G.current.getBoundingClientRect().height)!=null?Yt:0,window.innerHeight);var Ts;const Cn=Math.min((Ts=G.current.getBoundingClientRect().width)!=null?Ts:0,window.innerWidth),or=j==="left"||j==="right";if(Math.abs(Re)>=(or?Cn:Ut)*c){Ht(),r==null||r(de,!1);return}r==null||r(de,!0),Es()}P.useEffect(()=>($&&(At(document.documentElement,{scrollBehavior:"auto"}),W.current=new Date),()=>{Rq(document.documentElement,"scrollBehavior")}),[$]);function ds(de){const Re=de?(window.innerWidth-Za)/window.innerWidth:1,Oe=de?-Za:0;me.current&&window.clearTimeout(me.current),At(G.current,{transition:`transform ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,transform:jt(j)?`scale(${Re}) translate3d(0, ${Oe}px, 0)`:`scale(${Re}) translate3d(${Oe}px, 0, 0)`}),!de&&G.current&&(me.current=setTimeout(()=>{const De=dd(G.current,j);At(G.current,{transition:"none",transform:jt(j)?`translate3d(0, ${De}px, 0)`:`translate3d(${De}px, 0, 0)`})},500))}function Vn(de,Re){if(Re<0)return;const Oe=(window.innerWidth-Za)/window.innerWidth,De=Oe+Re*(1-Oe),Be=-Za+Re*Za;At(G.current,{transform:jt(j)?`scale(${De}) translate3d(0, ${Be}px, 0)`:`scale(${De}) translate3d(${Be}px, 0, 0)`,transition:"none"})}function Va(de,Re){const Oe=jt(j)?window.innerHeight:window.innerWidth,De=Re?(Oe-Za)/Oe:1,Be=Re?-Za:0;Re&&At(G.current,{transition:`transform ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,transform:jt(j)?`scale(${De}) translate3d(0, ${Be}px, 0)`:`scale(${De}) translate3d(${Be}px, 0, 0)`})}return P.useEffect(()=>{b||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[b]),P.createElement(s0,{defaultOpen:N,onOpenChange:de=>{!d&&!de||(de?M(!0):Ht(!0),D(de))},open:$},P.createElement(PT.Provider,{value:{activeSnapPoint:Se,snapPoints:i,setActiveSnapPoint:Et,drawerRef:G,overlayRef:X,onOpenChange:t,onPress:Vr,onRelease:ir,onDrag:Lt,dismissible:d,shouldAnimate:st,handleOnly:f,isOpen:$,isDragging:R,shouldFade:nr,closeDrawer:Ht,onNestedDrag:Vn,onNestedOpenChange:ds,onNestedRelease:Va,keyboardIsOpen:Xe,modal:b,snapPointsOffset:mn,activeSnapPointIndex:Qe,direction:j,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:w,container:_,autoFocus:O}},n))}const GT=P.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:s,onRelease:r,shouldFade:i,isOpen:o,modal:l,shouldAnimate:c}=Su(),u=IT(t,n),d=s&&s.length>0;if(!l)return null;const f=P.useCallback(m=>r(m),[r]);return P.createElement(cu,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":o&&d?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});GT.displayName="Drawer.Overlay";const mv=P.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...s},r){const{drawerRef:i,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:f,modal:m,isOpen:h,direction:p,snapPoints:y,container:b,handleOnly:v,shouldAnimate:x,autoFocus:w}=Su(),[j,N]=P.useState(!1),k=IT(r,i),S=P.useRef(null),E=P.useRef(null),C=P.useRef(!1),T=y&&y.length>0;Bq();const _=(L,A,$=0)=>{if(C.current)return!0;const D=Math.abs(L.y),z=Math.abs(L.x),M=z>D,R=["bottom","right"].includes(A)?1:-1;if(A==="left"||A==="right"){if(!(L.x*R<0)&&z>=0&&z<=$)return M}else if(!(L.y*R<0)&&D>=0&&D<=$)return!M;return C.current=!0,!0};P.useEffect(()=>{T&&window.requestAnimationFrame(()=>{N(!0)})},[]);function O(L){S.current=null,C.current=!1,l(L)}return P.createElement(uu,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":j?"true":"false","data-vaul-snap-points":h&&T?"true":"false","data-vaul-custom-container":b?"true":"false","data-vaul-animate":x!=null&&x.current?"true":"false",...s,ref:k,style:d&&d.length>0?{"--snap-point-height":`${d[f??0]}px`,...t}:t,onPointerDown:L=>{v||(s.onPointerDown==null||s.onPointerDown.call(s,L),S.current={x:L.pageX,y:L.pageY},o(L))},onOpenAutoFocus:L=>{n==null||n(L),w||L.preventDefault()},onPointerDownOutside:L=>{if(e==null||e(L),!m||L.defaultPrevented){L.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:L=>{if(!m){L.preventDefault();return}},onPointerMove:L=>{if(E.current=L,v||(s.onPointerMove==null||s.onPointerMove.call(s,L),!S.current))return;const A=L.pageY-S.current.y,$=L.pageX-S.current.x,D=L.pointerType==="touch"?10:2;_({x:$,y:A},p,D)?c(L):(Math.abs($)>D||Math.abs(A)>D)&&(S.current=null)},onPointerUp:L=>{s.onPointerUp==null||s.onPointerUp.call(s,L),S.current=null,C.current=!1,l(L)},onPointerOut:L=>{s.onPointerOut==null||s.onPointerOut.call(s,L),O(E.current)},onContextMenu:L=>{s.onContextMenu==null||s.onContextMenu.call(s,L),E.current&&O(E.current)}})});mv.displayName="Drawer.Content";const Uq=250,Vq=120,Gq=P.forwardRef(function({preventCycle:e=!1,children:t,...n},s){const{closeDrawer:r,isDragging:i,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:m,onDrag:h}=Su(),p=P.useRef(null),y=P.useRef(!1);function b(){if(y.current){w();return}window.setTimeout(()=>{v()},Vq)}function v(){if(i||e||y.current){w();return}if(w(),!o||o.length===0){u||r();return}if(l===o[o.length-1]&&u){r();return}const N=o.findIndex(S=>S===l);if(N===-1)return;const k=o[N+1];c(k)}function x(){p.current=window.setTimeout(()=>{y.current=!0},Uq)}function w(){p.current&&window.clearTimeout(p.current),y.current=!1}return P.createElement("div",{onClick:b,onPointerCancel:w,onPointerDown:j=>{d&&m(j),x()},onPointerMove:j=>{d&&h(j)},ref:s,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},P.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});Gq.displayName="Drawer.Handle";function qq(e){const t=Su(),{container:n=t.container,...s}=e;return P.createElement(r0,{container:n,...s})}const Fr={Root:Hq,Content:mv,Overlay:GT,Portal:qq,Title:du,Description:fu},qT=({shouldScaleBackground:e=!0,...t})=>a.jsx(Fr.Root,{shouldScaleBackground:e,...t});qT.displayName="Drawer";const ZT=Fr.Portal,hv=g.forwardRef(({className:e,...t},n)=>a.jsx(Fr.Overlay,{ref:n,className:I("fixed inset-0 bg-background/80 backdrop-blur-sm",e),style:{zIndex:kt.MODAL},...t}));hv.displayName=Fr.Overlay.displayName;const Zq=g.forwardRef(({className:e,children:t,fullHeight:n=!1,...s},r)=>a.jsxs(ZT,{children:[a.jsx(hv,{}),a.jsxs(Fr.Content,{ref:r,className:I(n?"fixed inset-x-0 bottom-0 z-50 flex h-[100dvh] max-h-[100dvh] w-full bg-background":"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:kt.MODAL+1,backgroundColor:"hsl(var(--background))"},...s,children:[!n&&a.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));Zq.displayName="DrawerContent";const YT=({className:e,...t})=>a.jsx("div",{className:I("grid gap-1.5 p-4 text-center sm:text-left",e),...t});YT.displayName="DrawerHeader";const XT=({className:e,...t})=>a.jsx("div",{className:I("mt-auto flex flex-col gap-2 p-4",e),...t});XT.displayName="DrawerFooter";const WT=g.forwardRef(({className:e,...t},n)=>a.jsx(Fr.Title,{ref:n,className:I("text-lg font-semibold leading-none tracking-tight",e),...t}));WT.displayName=Fr.Title.displayName;const KT=g.forwardRef(({className:e,...t},n)=>a.jsx(Fr.Description,{ref:n,className:I("text-sm text-muted-foreground",e),...t}));KT.displayName=Fr.Description.displayName;function Yq(e,t){const n=new Map;return t.forEach(s=>{var o;const r=s.treeId,i=((o=s.perks)==null?void 0:o.length)||0;n.set(r,i)}),n}function gv(){const{data:e,loading:t,error:n,reload:s}=i8(),{data:r,loading:i,error:o,reload:l}=D0(),c=t||i,u=n||o;return{skills:g.useMemo(()=>{if(!e||!r)return[];const m=Yq(e,r);return e.map(h=>({id:h.edid,name:h.name,category:h.category,description:h.description,keyAbilities:h.keyAbilities||[],metaTags:h.metaTags||[],assignmentType:"none",canAssignMajor:!0,canAssignMinor:!0,level:0,totalPerks:m.get(h.edid)||0,selectedPerksCount:0,selectedPerks:[],isSelected:!1}))},[e,r]),perkTrees:r||[],loading:c,error:u,refreshSkills:async()=>{await Promise.all([s(),l()])}}}function Xq(){const{skills:e,loading:t,error:n}=gv(),{build:s,addMajorSkill:r,addMinorSkill:i,removeMajorSkill:o,removeMinorSkill:l}=nt(),c=g.useMemo(()=>e.map(b=>{var C,T,_;const v=s.skills.major.includes(b.id),x=s.skills.minor.includes(b.id),w=((T=(C=s.perks)==null?void 0:C.selected)==null?void 0:T[b.id])||[],j=w.length,N=hm(b.id,s),k=gm(b.id,w,((_=s.perks)==null?void 0:_.ranks)||{}),S=!v&&s.skills.major.length<3,E=!x&&s.skills.minor.length<6;return{...b,isMajor:v,isMinor:x,selectedPerksCount:j,startingLevel:N,minLevel:k,canAssignMajor:S,canAssignMinor:E}}),[e,s]),u=g.useMemo(()=>c.filter(b=>b.isMajor),[c]),d=g.useMemo(()=>c.filter(b=>b.isMinor),[c]),f=g.useMemo(()=>c.filter(b=>!b.isMajor&&!b.isMinor),[c]);return{skills:c,selectedMajorSkills:u,selectedMinorSkills:d,availableSkills:f,loading:t,error:n,handleMajorSkillSelect:b=>{r(b.id)},handleMinorSkillSelect:b=>{i(b.id)},handleMajorSkillRemove:b=>{o(b)},handleMinorSkillRemove:b=>{l(b)}}}function Wq(e){const[t,n]=g.useState(""),[s,r]=g.useState(null),i=g.useMemo(()=>e.filter(c=>{const u=c.name.toLowerCase().includes(t.toLowerCase())||c.description.toLowerCase().includes(t.toLowerCase())||c.category.toLowerCase().includes(t.toLowerCase())||c.keyAbilities.some(f=>f.toLowerCase().includes(t.toLowerCase()))||c.metaTags.some(f=>f.toLowerCase().includes(t.toLowerCase())),d=!s||c.category===s;return u&&d}),[e,t,s]),o=g.useMemo(()=>{const c=new Set(e.map(u=>u.category));return Array.from(c).sort()},[e]);return{searchQuery:t,setSearchQuery:n,selectedCategory:s,setSelectedCategory:r,filteredSkills:i,categories:o,clearFilters:()=>{n(""),r(null)}}}function pv(e){const{data:t,loading:n,error:s}=D0(),{getSkillPerks:r,getPerkRank:i,addPerk:o,removePerk:l,setPerkRank:c,clearSkillPerks:u}=nt(),d=g.useMemo(()=>!e||!t?null:t.find(x=>x.treeId===e)||null,[e,t]),f=g.useMemo(()=>e?r(e):[],[e,r]),m=g.useMemo(()=>{if(!e||!d)return{};const v={};return d.perks.forEach(x=>{v[x.edid]=i(x.edid)}),v},[e,d,i]),h=g.useMemo(()=>{if(!d)return[];const v=[];return d.perks.forEach(x=>{if(x.isRoot){v.push(x.edid);return}(x.connections.parents||[]).every(N=>f.includes(N))&&v.push(x.edid)}),v},[d,f]);return{perkTrees:t||[],selectedPerkTree:d,selectedPerks:f,perkRanks:m,availablePerks:h,loading:n,error:s,handlePerkSelect:v=>{if(!e)return;f.includes(v)?l(e,v):o(e,v)},handlePerkRankChange:(v,x)=>{c(v,x),x===0?f.includes(v)&&l(e,v):f.includes(v)||o(e,v)},handleResetPerks:()=>{e&&u(e)}}}function QT(){var R,B;const{skills:e,loading:t,error:n,refreshSkills:s}=gv(),{build:r,addMajorSkill:i,addMinorSkill:o,removeMajorSkill:l,removeMinorSkill:c,addPerk:u,removePerk:d,setPerkRank:f}=nt(),{searchQuery:m,setSearchQuery:h,selectedCategory:p,setSelectedCategory:y,filteredSkills:b,categories:v,clearFilters:x}=Wq(e),w=g.useMemo(()=>b.map(F=>{var te,xe,me;const V=((xe=(te=r.perks)==null?void 0:te.selected)==null?void 0:xe[F.id])||[],X=V.length,W=F.totalPerks??0,J=hm(F.id,r),le=gm(F.id,V,((me=r.perks)==null?void 0:me.ranks)||{});return{...F,selectedPerksCount:X,level:J+le,startingLevel:J,minLevel:le,assignmentType:r.skills.major.includes(F.id)?"major":r.skills.minor.includes(F.id)?"minor":"none",canAssignMajor:!r.skills.major.includes(F.id)&&r.skills.major.length<3,canAssignMinor:!r.skills.minor.includes(F.id)&&r.skills.minor.length<6,perkCount:`${X}/${W}`}}),[b,r]),j=g.useMemo(()=>{const F=w.reduce((V,X)=>V+(X.selectedPerksCount||0),0);return{majorCount:r.skills.major.length,minorCount:r.skills.minor.length,majorLimit:3,minorLimit:6,canAssignMajor:r.skills.major.length<3,canAssignMinor:r.skills.minor.length<6,totalSkills:w.length,totalPerks:F,totalPerkRanks:0}},[w,r.skills.major,r.skills.minor]),N=g.useCallback(F=>{r.skills.major.includes(F)?l(F):i(F)},[r.skills.major,i,l]),k=g.useCallback(F=>{r.skills.minor.includes(F)?c(F):o(F)},[r.skills.minor,o,c]),S=g.useCallback(F=>{l(F),c(F)},[l,c]),[E,C]=g.useState(null),T=g.useCallback(F=>{C(F)},[]),_=g.useMemo(()=>E&&w.find(F=>F.id===E)||null,[E,w]),{selectedPerkTree:O,handleResetPerks:L}=pv(E),A=g.useMemo(()=>{var F;return!_||!((F=r.perks)!=null&&F.selected)?[]:r.perks.selected[_.id]||[]},[_,(R=r.perks)==null?void 0:R.selected]),$=g.useMemo(()=>{var F;return!_||!((F=r.perks)!=null&&F.ranks)?{}:r.perks.ranks[_.id]||{}},[_,(B=r.perks)==null?void 0:B.ranks]),D=g.useMemo(()=>O?O.perks||[]:[],[O]),z=g.useCallback(F=>{if(!_)return;A.includes(F)?d(_.id,F):u(_.id,F)},[_,A,u,d]),M=g.useCallback((F,V)=>{_&&f(F,V)},[_,f]);return{skills:w,skillSummary:j,selectedSkill:_,selectedSkillId:E,perkTree:O,selectedPerks:A,perkRanks:$,availablePerks:D,loading:t,error:n,searchQuery:m,setSearchQuery:h,selectedCategory:p,setSelectedCategory:y,categories:v,clearFilters:x,onAssignMajor:N,onAssignMinor:k,onRemoveAssignment:S,onSkillSelect:T,onPerkSelect:z,onPerkRankChange:M,onResetPerks:L,refreshSkills:s}}function Kq(e){const t=new Set,n=[],s=(r,i)=>{if(t.has(r))return;t.add(r),i.push(e.find(l=>l.edid===r));const o=e.find(l=>l.edid===r);o.connection.children.forEach(l=>{e.some(c=>c.edid===l)&&s(l,i)}),o.connection.parents.forEach(l=>{e.some(c=>c.edid===l)&&s(l,i)})};return e.forEach(r=>{if(!t.has(r.edid)){const i=[];s(r.edid,i),n.push(i)}}),n}function Qq(e,t){try{if(e.length===0)return[];const r=Kq(e).map(l=>Jq(l)).map(l=>eZ(l,t)),i=nZ(r,t);return JT(i,t)}catch{return e.map(s=>({id:s.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function Jq(e){const t=new Map;e.forEach(l=>{t.set(l.edid,{perk:l,depth:-1,children:l.connection.children,parents:l.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((l,c)=>{l.parents.length===0&&n.push(c)});const s=n.map(l=>({id:l,depth:0})),r=new Set;for(;s.length>0;){const{id:l,depth:c}=s.shift();if(r.has(l))continue;r.add(l);const u=t.get(l);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!r.has(d)&&s.push({id:d,depth:c+1})}))}let i=!0,o=0;for(;i&&o<10;)i=!1,o++,t.forEach((l,c)=>{if(l.parents.length>1){const u=l.parents.map(d=>{const f=t.get(d);return f?f.depth:-1}).filter(d=>d!==-1);if(u.length>0){const f=Math.min(...u)+1;l.depth!==f&&(l.depth=f,i=!0)}}});return t.forEach((l,c)=>{l.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=l.depth){const f=l.depth+1;d.depth=f}})}),{nodes:t,roots:n}}function eZ(e,t){const{nodes:n,roots:s}=e,r=[];if(n.forEach((f,m)=>{r.push({id:m,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:f.children})}),r.some(f=>{try{return Lp(f.id,n,t,new Set),!1}catch{return!0}}))return r.forEach(f=>{const m=n.get(f.id);if(m&&m.perk){const h=m.perk.position.x*t.gridScaleX,p=-m.perk.position.y*t.gridScaleY;f.x=h,f.y=p,f.originalX=h,f.originalY=p}}),tZ(r,t),r;const o=r.filter(f=>!r.some(h=>{var p;return h.id!==f.id&&((p=h.children)==null?void 0:p.includes(f.id))}));o.forEach(f=>{f.y=0,f.originalY=0});const l=new Set,c=o.map(f=>({node:f,depth:0}));for(;c.length>0;){const{node:f,depth:m}=c.shift();l.has(f.id)||(l.add(f.id),m>0&&(f.y=-m*t.verticalSpacing,f.originalY=f.y),f.children&&f.children.forEach(h=>{const p=r.find(y=>y.id===h);p&&!l.has(h)&&c.push({node:p,depth:m+1})}))}const u=new Map;return r.forEach(f=>{const m=Math.round(f.y/t.verticalSpacing);u.has(m)||u.set(m,[]),u.get(m).push(f)}),Array.from(u.keys()).sort((f,m)=>m-f).forEach(f=>{u.get(f).forEach(h=>{if(h.children){const p=new Map;h.children.forEach(y=>{const b=r.find(v=>v.id===y);if(b){const v=r.filter(x=>{var w;return((w=x.children)==null?void 0:w.includes(y))&&Math.abs(x.y-b.y)===t.verticalSpacing});v.length>0&&v.some(x=>x.id===h.id)&&(p.has(h.id)||p.set(h.id,[]),p.get(h.id).push(b))}}),p.forEach((y,b)=>{if(y.length>0){const v=r.find(x=>x.id===b);if(v){const x=y.map(S=>{const E=Lp(S.id,n,t);return{child:S,subtreeWidth:E}}),w=x.reduce((S,{subtreeWidth:E})=>S+E,0),j=(y.length-1)*t.horizontalSpacing,N=w+j;let k=v.x-N/2;x.forEach(({child:S,subtreeWidth:E})=>{S.x=k+E/2,S.originalX=S.x,k+=E+t.horizontalSpacing})}}})}})}),JT(r,t),r}function JT(e,t){const r=t.horizontalSpacing*.4,i=new Map;e.forEach(o=>{i.set(o.id,{x:o.x,y:o.y})});for(let o=0;o<5;o++){let l=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],f=e[u],m=d.x+t.nodeWidth*.5,h=d.y+t.nodeHeight*.5,p=f.x+t.nodeWidth*.5,y=f.y+t.nodeHeight*.5,b=p-m,v=y-h,x=Math.sqrt(b*b+v*v);if(x<r&&x>0){const w=b/x*.03,j=v/x*.03;d.x-=w,d.y-=j,f.x+=w,f.y+=j,l++}}if(l===0)break}return e.forEach(o=>{const l=i.get(o.id);if(!l)return;const c=l.x-o.x,u=l.y-o.y,d=o.x+c*.02,f=o.y+u*.02,h=Math.round(l.y/t.verticalSpacing)*t.verticalSpacing,p=Math.max(f,h);o.x=d,o.y=p,o.originalX=d,o.originalY=p}),e}function tZ(e,t){const r=t.nodeHeight*.8,i=50,o=new Map;e.forEach(u=>{o.set(u.id,{x:u.x,y:u.y})});let l=0,c=1;for(;c>0&&l<i;){l++,c=0;for(let u=0;u<e.length;u++)for(let d=u+1;d<e.length;d++){const f=e[u],m=e[d],h=Math.max(0,Math.min(f.x+t.nodeWidth,m.x+t.nodeWidth)-Math.max(f.x,m.x)),p=Math.max(0,Math.min(f.y+t.nodeHeight,m.y+t.nodeHeight)-Math.max(f.y,m.y)),y=f.y+t.nodeHeight*.5,b=m.y+t.nodeHeight*.5,v=Math.abs(b-y),x=v<r;if(h>0&&p>0||x){c++;let w=0;h>0&&p>0?w=p*.08:x&&(w=(r-v)*.08),f.y<m.y?(f.y-=w,m.y+=w):(f.y+=w,m.y-=w)}}if(c===0)break}return e.forEach(u=>{const d=o.get(u.id);if(!d)return;const f=d.y-u.y,m=u.y+f*.03;u.y=m,u.originalY=m}),e}function nZ(e,t){const n=[],s=e.map(c=>{const u=Math.max(...c.map(w=>w.y)),d=c.filter(w=>Math.abs(w.y-u)<1),f=d.map(w=>w.x),m=Math.min(...f),h=Math.max(...f),p=h-m,y=f.reduce((w,j)=>w+j,0)/f.length,b=Math.min(...c.map(w=>w.x)),v=Math.max(...c.map(w=>w.x+w.width)),x=v-b;return{treeNodes:c,rootNodes:d,minRootX:m,maxRootX:h,rootWidth:p,rootCenterX:y,minX:b,maxX:v,treeWidth:x}}),r=Math.min(...s.map(c=>c.minRootX)),o=Math.max(...s.map(c=>c.maxRootX))-r;let l=0;return s.forEach(c=>{const u=o>0?c.rootWidth/o:1,d=c.minRootX-r;l-c.minX+d*u,c.treeNodes.forEach(f=>{const h=(f.x-c.minRootX)*u,p=l+h;n.push({...f,x:p,originalX:p})}),l+=c.treeWidth*u+t.horizontalSpacing}),n}function Lp(e,t,n,s=new Set){if(s.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const r=t.get(e);if(!r)return n.nodeWidth;s.add(e);const i=r.children||[],o=i.map(c=>Lp(c,t,n,new Set(s)));if(o.length===0)return n.nodeWidth;let l=0;return o.forEach((c,u)=>{l+=c,u<i.length-1&&(l+=n.horizontalSpacing)}),Math.max(l,n.nodeWidth)}function sZ(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const rZ={perkNode:e=>a.jsx(zT,{...e,onTogglePerk:e.data.onTogglePerk,onRankChange:e.data.onRankChange})};function aZ({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:s,currentSkillLevel:r}){const[i,o]=P.useState(null),[l,c]=P.useState(null),[u,d]=P.useState(!1),f=P.useCallback((_,O)=>{},[]),m=g.useMemo(()=>{if(!e)return null;const _=DT(e);return _.success?_.data:(console.error("Invalid perk tree data:",_.error),null)},[e]);P.useEffect(()=>{if(!m){c(null);return}d(!0),LT(m.treeId).then(_=>{c(_)}).catch(_=>{c(null)}).finally(()=>{d(!1)})},[m==null?void 0:m.treeId]);const h=g.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),p=g.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),y=g.useMemo(()=>{if(!m)return[];if(l&&!u){const _=gq(m,l,p);return Array.from(_.entries()).map(([O,L])=>({id:O,x:L.x,y:L.y,width:p.nodeWidth||140,height:p.nodeHeight||80,originalX:L.x,originalY:L.y}))}else{const _=sZ(m);return Qq(_,h)}},[m,h,l,u,p]),b=g.useMemo(()=>!m||y.length===0?[]:m.perks.map(_=>{const O=_.edid,L=y.find(R=>R.id===O),A=L?{x:L.x,y:L.y}:{x:0,y:0},$=_.connections.children.length>0,D=_.connections.parents.length===0,z=s.find(R=>R.edid===O);return{id:O,type:"perkNode",position:A,draggable:!0,data:{..._,selected:z!==void 0,currentRank:(z==null?void 0:z.currentRank)||0,hasChildren:$,isRoot:D,currentSkillLevel:r,onTogglePerk:t,onRankChange:n}}}),[m,y,s,t,n,r]),v=g.useMemo(()=>{if(!m)return[];const _=[];return m.perks.forEach(O=>{const L=O.edid;O.connections.children.length>0&&O.connections.children.forEach(A=>{if(A===L)return;m.perks.some(D=>D.edid===A)&&_.push({id:`${L}-${A}`,source:L,target:A,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),_},[m]),[x,w,j]=ET(b),[N,k,S]=TT(v);P.useEffect(()=>{w(b)},[b,w]),P.useEffect(()=>{k(v)},[v,k]),P.useEffect(()=>{m&&x.length>0&&i&&setTimeout(()=>{i.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[m==null?void 0:m.treeId,i]);const E=g.useCallback(_=>k(O=>av(_,O)),[k]),C=g.useCallback(_=>{_.stopPropagation()},[]),T=g.useCallback(_=>{_.stopPropagation()},[]);return m?a.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},onMouseDown:_=>_.stopPropagation(),onTouchStart:_=>_.stopPropagation(),children:[a.jsx("div",{className:"absolute top-2 left-2 z-10 flex flex-col gap-1",children:a.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:u?"Loading Positions...":l?"Positioned Tree":"Algorithm v2"})}),a.jsxs(dv,{nodes:x,edges:N,onNodesChange:j,onEdgesChange:S,onConnect:E,onInit:o,nodeTypes:rZ,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:f,onMouseDown:C,onTouchStart:T,panOnDrag:!0,panOnScroll:!1,preventScrolling:!0,children:[a.jsx(RT,{}),a.jsx(_T,{})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:a.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function eA({open:e,onOpenChange:t,selectedSkill:n,skillName:s,perkTree:r,skills:i,onSkillSelect:o,onReset:l}){var k,S;const{selectedPerks:c,perkRanks:u,handlePerkSelect:d,handlePerkRankChange:f,handleResetPerks:m}=pv(n),{getSkillLevel:h}=nt(),p=n?h(n):void 0,y=P.useMemo(()=>r?r.perks.filter(E=>c.includes(E.edid)).map(E=>({...E,selected:!0,currentRank:u[E.edid]||1})):[],[r,c,u]),b=P.useCallback(E=>{d(E)},[d]),v=P.useCallback((E,C)=>{f(E,C)},[f]),x=()=>{m(),l()},w=()=>{t(!1)},j=[{id:"skills",name:"Skills",placeholder:"Search skills...",options:i.map(E=>({id:E.id,label:E.name,value:E.id,category:"Skills",description:`${E.selectedPerks}/${E.totalPerks} perks selected`}))}],N=E=>{o(E.value)};return n?a.jsx(qT,{open:e,onOpenChange:t,shouldScaleBackground:!1,dismissible:!0,children:a.jsxs(ZT,{children:[a.jsx(hv,{}),a.jsxs(mv,{className:"fixed inset-x-0 bottom-0 z-50 mt-24 flex flex-col rounded-t-[10px] border bg-background h-[85vh] bg-card border-t shadow-lg !bg-card","data-vaul-no-drag":!0,style:{backgroundColor:"hsl(var(--card))",zIndex:kt.DRAWER},children:[a.jsx(YT,{className:"border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-64",children:a.jsx(ri,{categories:j,onSelect:N,placeholder:"Search skills..."})}),a.jsxs("div",{className:"flex items-center gap-3",children:[s&&a.jsx(Vm,{skillName:s,size:"lg",className:"flex-shrink-0"}),a.jsxs("div",{children:[a.jsx(WT,{className:"text-xl",children:s||(r==null?void 0:r.treeName)||"Skill Perks"}),a.jsxs(KT,{className:"flex items-center gap-2",children:[a.jsxs("span",{children:[c.length," perks selected"]}),((k=i.find(E=>E.id===n))==null?void 0:k.minLevel)>0&&a.jsxs("span",{className:"text-blue-600 font-medium",children:[" Min: Level"," ",(S=i.find(E=>E.id===n))==null?void 0:S.minLevel]})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:x,className:"flex items-center gap-2",children:[a.jsx(Tr,{className:"h-4 w-4"}),"Reset Perks"]}),a.jsx(U,{variant:"outline",size:"sm",onClick:w,className:"flex items-center gap-2",children:a.jsx(He,{className:"h-4 w-4"})})]})]})}),a.jsx("div",{className:"flex-1 overflow-hidden",style:{height:"400px"},children:a.jsx("div",{className:"h-full w-full bg-muted/20 rounded",children:r?a.jsx(aZ,{tree:r,onTogglePerk:b,onRankChange:v,selectedPerks:y,currentSkillLevel:p}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("p",{className:"text-muted-foreground",children:n?"Loading perk tree...":"No skill selected"})})})}),a.jsx(XT,{className:"border-t",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on perk nodes to select/deselect them"}),a.jsx(U,{variant:"outline",onClick:w,children:"Close"})]})})]})]})}):null}function iZ({skills:e,loading:t,error:n,searchQuery:s,onSearchChange:r,selectedCategory:i,onCategorySelect:o,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:y}){var w;const[b,v]=g.useState(!1);if(t)return a.jsx(n9,{});if(n)return a.jsx(s9,{error:n});const x=e.map(j=>({id:j.id,name:j.name,category:j.category,description:j.description,keyAbilities:j.keyAbilities||[],metaTags:j.metaTags||[],assignmentType:j.assignmentType,canAssignMajor:j.canAssignMajor,canAssignMinor:j.canAssignMinor,minLevel:j.minLevel,startingLevel:j.startingLevel,totalPerks:j.totalPerks,selectedPerksCount:j.selectedPerksCount,selectedPerks:j.selectedPerks||[],isSelected:j.isSelected||!1,isMajor:j.assignmentType==="major",isMinor:j.assignmentType==="minor"}));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Available Skills"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," skills found"]})]}),a.jsx(a9,{skills:e,onSkillSelect:j=>{u(j),v(!0)},onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,selectedSkillId:c||void 0})]}),a.jsx(eA,{open:b,onOpenChange:v,selectedSkill:c,skillName:c?(w=e.find(j=>j.id===c))==null?void 0:w.name:void 0,perkTree:p||void 0,skills:x,onSkillSelect:u,onReset:h}),a.jsxs("div",{className:"p-6 bg-muted/50 rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"How to Assign Skills"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Major Skills (0-3)"}),a.jsx("p",{children:"Your primary skills that level up faster and start at a higher level."})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Minor Skills (0-6)"}),a.jsx("p",{children:"Secondary skills that provide additional benefits and customization."})]})]})]})]})}function tA({className:e}){var T;const{selectedMajorSkills:t,selectedMinorSkills:n,availableSkills:s,handleMajorSkillSelect:r,handleMinorSkillSelect:i,handleMajorSkillRemove:o,handleMinorSkillRemove:l}=Xq(),{build:c,getSkillLevel:u,getSkillPerks:d}=nt(),{skills:f}=gv(),m=tt(),[h,p]=g.useState(null),[y,b]=g.useState(!1),v=()=>{m("/skills")},x=_=>{p(_),b(!0)},w=_=>{p(_.edid),b(!0)},j=g.useMemo(()=>{const _=t.map(A=>A.id),O=n.map(A=>A.id),L=[..._,...O];return f.filter(A=>d(A.id).length>0&&!L.includes(A.id))},[f,t,n,d]),N=g.useMemo(()=>{const _=t.map($=>$.id),O=n.map($=>$.id),L=[..._,...O],A=j.map($=>$.id);return f.filter($=>!L.includes($.id)&&!A.includes($.id)).map($=>({name:$.name,edid:$.id,category:$.category,description:$.description,scaling:"",keyAbilities:$.keyAbilities||[],metaTags:$.metaTags||[]}))},[f,t,n,j]),k=_=>({name:_.name,edid:_.id,category:_.category,description:_.description,scaling:_.scaling||"",keyAbilities:_.keyAbilities||[],metaTags:_.metaTags||[]}),S=f.map(_=>{d(_.id);const O=u(_.id),L=c.skills.major.includes(_.id),A=c.skills.minor.includes(_.id),$=!L&&c.skills.major.length<3,D=!A&&c.skills.minor.length<6;return{..._,isMajor:L,isMinor:A,canAssignMajor:$,canAssignMinor:D,level:O}}),{selectedPerkTree:E}=pv(h),C=(_,O)=>{const L=d(_.id||_.edid),A=_.totalPerks||0,$=_.id||_.edid,D=_.minLevel!==void 0?_.minLevel:u(_.id||_.edid);let z="cursor-pointer transition-all hover:shadow-md ",M="text-xs ";switch(O){case"major":z+="bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",M+="bg-yellow-100 text-yellow-800 border-yellow-300";break;case"minor":z+="bg-gray-50/50 border-gray-300 shadow-gray-300/20",M+="bg-gray-100 text-gray-800 border-gray-300";break;case"perked":z+="bg-blue-50/50 border-blue-500 shadow-blue-500/20",M+="bg-blue-100 text-blue-800 border-blue-300";break}return a.jsx(ue,{className:z,onClick:()=>x($),children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Vm,{skillName:_.name,size:"2xl",className:"flex-shrink-0"}),a.jsx("h5",{className:"font-medium text-sm text-foreground",children:_.name}),a.jsx(yl,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Me,{text:_.description,className:"text-xs text-muted-foreground line-clamp-2 mb-3",as:"p"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(sE,{level:D,size:"sm"}),_.startingLevel>0&&a.jsxs(q,{variant:"outline",className:"text-xs bg-green-100 text-green-800 border-green-300",children:["Starting: ",_.startingLevel]}),a.jsxs(q,{variant:"outline",className:M,children:[L.length,"/",A," perks"]}),O==="major"&&a.jsx(q,{variant:"outline",className:"text-xs bg-yellow-100 text-yellow-800 border-yellow-300",children:"Major"}),O==="minor"&&a.jsx(q,{variant:"outline",className:"text-xs bg-gray-100 text-gray-800 border-gray-300",children:"Minor"}),O==="perked"&&a.jsx(q,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800 border-blue-300",children:"Perked"}),O==="assigned"&&a.jsx(q,{variant:"outline",className:"text-xs bg-orange-100 text-orange-800 border-orange-300",children:"Assigned"})]})]}),(O==="major"||O==="minor")&&a.jsx(U,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),O==="major"?o($):l($)},className:`${O==="major"?"text-yellow-600 hover:text-yellow-700 hover:bg-yellow-100":"text-gray-600 hover:text-gray-700 hover:bg-gray-100"}`,children:a.jsx(He,{className:"h-4 w-4"})})]})})},$)};return a.jsxs(a.Fragment,{children:[a.jsxs(Wt,{title:"Skills & Perks",navigateTo:"skills",onNavigate:v,className:e,children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Major Skills"}),t.length<3&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(q,{variant:"outline",className:"text-xs",children:[t.length,"/3"]})}),a.jsx(eg,{skills:s.map(k),onSelect:_=>{const O=s.find(L=>L.id===_.edid);O&&r(O)},placeholder:"Select major skill...",className:"w-full"})]}),t.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:t.map(_=>C(_,"major"))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Minor Skills"}),n.length<6&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(q,{variant:"outline",className:"text-xs",children:[n.length,"/6"]})}),a.jsx(eg,{skills:s.map(k),onSelect:_=>{const O=s.find(L=>L.id===_.edid);O&&i(O)},placeholder:"Select minor skill...",className:"w-full"})]}),n.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:n.map(_=>C(_,"minor"))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Other Perked Skills"}),a.jsx("div",{className:"space-y-2",children:a.jsx(eg,{skills:N,onSelect:w,placeholder:"Select skill to add perks...",className:"w-full"})}),j.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:j.map(_=>C(_,"perked"))})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on any skill card to view and manage its perk tree. Min levels show the minimum level required by your selected perks. Starting levels show your base skill level from race bonuses and major/minor assignments."})})]}),a.jsx(eA,{open:y,onOpenChange:b,selectedSkill:h,skillName:h?(T=f.find(_=>_.id===h))==null?void 0:T.name:void 0,perkTree:E||void 0,skills:S,onSkillSelect:p,onReset:()=>{}})]})}function Lw({item:e,className:t,allTraitIds:n,disableHover:s=!1}){e.originalTrait;const{hasRegularTrait:r,hasBonusTrait:i,addRegularTrait:o,addBonusTrait:l,removeTrait:c,canAddRegularTrait:u,canAddBonusTrait:d,build:f}=nt(),h=r(e.id)?"primary":i(e.id)?"secondary":"none",p=x=>{h===x?c(e.id):(c(e.id),x==="primary"&&u()?o(e.id):x==="secondary"&&d()&&l(e.id))},y=!u()&&h!=="primary",b=!d()&&h!=="secondary",v=()=>h==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":h==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return g.useEffect(()=>{var x,w;if(n){const j=((x=f==null?void 0:f.traits)==null?void 0:x.regular)||[],N=((w=f==null?void 0:f.traits)==null?void 0:w.bonus)||[];[...j,...N].filter(E=>!n.includes(E)).forEach(E=>c(E))}},[n,f==null?void 0:f.traits,c]),a.jsxs(ge,{expanded:!0,className:I(t,v()),disableHover:s,hideChevron:!0,children:[a.jsx(ge.Header,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-skyrim-gold/20 flex items-center justify-center",children:a.jsx(r3,{className:"h-8 w-8 text-skyrim-gold"})}),a.jsx(je,{className:"text-primary font-semibold",children:e.name})]})}),a.jsx(ge.Summary,{children:a.jsx(Me,{text:e.description,className:"text-base text-muted-foreground"})}),a.jsx(ge.Footer,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{size:"sm",variant:h==="primary"?"default":"outline",disabled:y,className:I("flex-1 text-xs",h==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:x=>{x.stopPropagation(),p("primary")},children:h==="primary"?"Remove Trait":"Starting Trait"}),a.jsx(U,{size:"sm",variant:h==="secondary"?"default":"outline",disabled:b,className:I("flex-1 text-xs",h==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:x=>{x.stopPropagation(),p("secondary")},children:h==="secondary"?"Remove Trait":"Late Game Trait"})]})})]})}function nA(e,t){const n=g.useMemo(()=>e.map(l=>{var c;return{id:l.id||l.name,name:l.name,description:l.description||"",category:l.category||"",effects:((c=l.effects)==null?void 0:c.map(u=>`${u.type} ${u.description||""} ${u.value}`))||[],tags:l.tags||[],originalTrait:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new rn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredTraits:g.useMemo(()=>i.map(l=>l.item.originalTrait),[i]),searchResults:i,searchableTraits:n}}function ag({traits:e,onSelect:t,placeholder:n="Search traits...",className:s="",disabled:r=!1}){const[i,o]=g.useState(""),{filteredTraits:l}=nA(e,i),c=g.useMemo(()=>l.map(f=>({id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&a.jsx(q,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalTrait:f,effectsCount:f.effects.length}})),[l]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h;return a.jsx("div",{className:"flex items-start gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.label}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&a.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.effectsCount)&&f.metadata.effectsCount>0&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.effectsCount," effect",f.metadata.effectsCount!==1?"s":""]})]}),f.description&&a.jsx(Me,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})};return a.jsx(vu,{options:c,onSelect:u,placeholder:n,className:s,disabled:r,renderOption:d,emptyMessage:"No traits found",searchQuery:i,onSearchQueryChange:o})}function sA(e){const t=e.map(n=>n.category).filter(Boolean);return[...new Set(t)].sort()}function oZ(e){const t=e.flatMap(n=>{var s;return((s=n.effects)==null?void 0:s.map(r=>r.type))||[]});return[...new Set(t)].sort()}function rA(e){const t=e.flatMap(n=>n.tags||[]);return[...new Set(t)].sort()}function lZ(){const[e,t]=g.useState({search:"",category:"",tags:[]}),{data:n,loading:s,error:r}=$i(),i=g.useMemo(()=>n.filter(u=>{var d;if(e.search){const f=e.search.toLowerCase();if(![u.name,u.description,u.category,...u.tags||[],...((d=u.effects)==null?void 0:d.map(h=>h.type))||[]].join(" ").toLowerCase().includes(f))return!1}return!(e.category&&u.category!==e.category||e.tags.length>0&&!e.tags.some(m=>{var h,p;return((h=u.tags)==null?void 0:h.includes(m))||u.category===m||((p=u.effects)==null?void 0:p.some(y=>y.type===m))}))}),[n,e]),o=g.useMemo(()=>sA(n),[n]),l=g.useMemo(()=>oZ(n),[n]),c=g.useMemo(()=>rA(n),[n]);return{traits:i,allTraits:n,loading:s,error:r,filters:e,setFilters:t,allCategories:o,allEffectTypes:l,allTags:c}}function aA({className:e}){const{allTraits:t}=lZ(),{build:n,addTraitToSlot:s,removeTrait:r,getRegularTraitLimit:i,getBonusTraitLimit:o}=nt(),l=tt();i(),o();const c=n.traits.regular.map(p=>t.find(y=>y.edid===p)).filter(Boolean),u=n.traits.bonus.map(p=>t.find(y=>y.edid===p)).filter(Boolean),d=(p,y)=>{s(p.edid,y)},f=p=>{r(p)},m=()=>{l("/traits")},h=t.filter(p=>!n.traits.regular.includes(p.edid)&&!n.traits.bonus.includes(p.edid));return a.jsx(Wt,{title:"Traits",navigateTo:"traits",onNavigate:m,className:e,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:"Slot 1"}),c[0]&&a.jsx(q,{variant:"default",className:"text-xs",children:"Starting"})]}),c[0]?a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:c[0].name}),a.jsx(Me,{text:c[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>f(c[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:a.jsx(He,{className:"h-3 w-3"})})]}):a.jsx(ag,{traits:h,onSelect:p=>d(p,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:"Slot 2"}),c[1]&&a.jsx(q,{variant:"default",className:"text-xs",children:"Starting"})]}),c[1]?a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:c[1].name}),a.jsx(Me,{text:c[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>f(c[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:a.jsx(He,{className:"h-3 w-3"})})]}):a.jsx(ag,{traits:h,onSelect:p=>d(p,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&a.jsx(q,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:u[0].name}),a.jsx(Me,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>f(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:a.jsx(He,{className:"h-3 w-3"})})]}):a.jsx(ag,{traits:h,onSelect:p=>d(p,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}const cZ=()=>{const{build:e,resetBuild:t,getSummary:n,setBuildName:s,setBuildNotes:r}=nt(),i=tt(),o=n(),[l,c]=g.useState(!1),u=()=>{navigator.clipboard.writeText(window.location.href)},d=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},f=()=>{c(!1),i("/build")},m=h=>{c(!1),i(`/build#${h}`),setTimeout(()=>{const p=document.getElementById(h);p==null||p.scrollIntoView({behavior:"smooth",block:"start"})},100)};return a.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:kt.MODAL+1},children:a.jsxs(qo,{open:l,onOpenChange:c,children:[a.jsx(kS,{asChild:!0,children:a.jsx(U,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${l?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:a.jsx(nf,{className:"h-5 w-5"})})}),a.jsx(bi,{side:"right",className:"w-[450px] sm:w-[800px] lg:w-[800px] sm:!max-w-[800px] lg:!max-w-[800px] p-0",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs(Zo,{className:"p-6 pb-4 border-b",children:[a.jsxs(Yo,{className:"flex items-center gap-2",children:[a.jsx(nf,{className:"h-5 w-5"}),o.name||"Character Build"]}),a.jsx(a0,{children:"Quick reference and editing for your character build"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsx(TS,{name:e.name,notes:e.notes,onNameChange:s,onNotesChange:r,className:"mb-0"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(qC,{}),a.jsx(AC,{}),a.jsx(aA,{}),a.jsx(tE,{}),a.jsx(nE,{})]}),a.jsx(DS,{showControls:!0,showSummary:!0,compact:!1}),a.jsx(tA,{}),a.jsx(BC,{navigate:i}),a.jsx(r$,{build:e})]}),a.jsxs("div",{className:"p-6 pt-4 border-t bg-muted/50",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(U,{onClick:f,className:"flex-1",children:[a.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Full Build Page"]}),a.jsxs(U,{variant:"outline",onClick:u,children:[a.jsx(o1,{className:"w-4 h-4 mr-2"}),"Share"]}),a.jsxs(U,{variant:"destructive",onClick:d,children:[a.jsx(J3,{className:"w-4 h-4 mr-2"}),"Reset"]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Quick Navigation:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[!e.race&&a.jsx(U,{variant:"outline",size:"sm",onClick:()=>m("race"),children:"Race"}),!e.stone&&a.jsx(U,{variant:"outline",size:"sm",onClick:()=>m("birthsign"),children:"Birthsign"}),e.traits.regular.length===0&&e.traits.bonus.length===0&&a.jsx(U,{variant:"outline",size:"sm",onClick:()=>m("traits"),children:"Traits"}),!e.religion&&a.jsx(U,{variant:"outline",size:"sm",onClick:()=>m("religion"),children:"Religion"}),!e.favoriteBlessing&&a.jsx(U,{variant:"outline",size:"sm",onClick:()=>m("favorite-blessing"),children:"Favorite Blessing"}),e.skills.major.length===0&&e.skills.minor.length===0&&a.jsx(U,{variant:"outline",size:"sm",onClick:()=>m("skills"),children:"Skills"}),e.destinyPath.length===0&&a.jsx(U,{variant:"outline",size:"sm",onClick:()=>m("destiny"),children:"Destiny"})]})]})]})]})})]})})},zw=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),Pw=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},uZ=()=>{const e=gr(s=>s.build),t=gr(s=>s.setBuild),n=g.useRef(!1);g.useEffect(()=>{if(n.current){console.log(" [URL Sync] Hydration already completed, skipping...");return}console.log(" [URL Sync] Starting hydration...");const s=window.location.hash,[r,i]=s.split("?"),l=new URLSearchParams(i||"").get("b");if(l){console.log(" [URL Sync] Found encoded build in URL:",l);const c=Pw(l);console.log(" [URL Sync] Decoded build:",c),(c==null?void 0:c.v)===1&&(console.log(" [URL Sync] Setting build from URL..."),t(c),console.log(" [URL Sync] Build set from URL"))}else console.log(" [URL Sync] No encoded build found in URL");n.current=!0,console.log(" [URL Sync] Hydration completed")},[t]),g.useEffect(()=>{const r=zw({v:1,name:"Test",perks:{selected:{archery:["archery_01"]},ranks:{archery_01:1}}});Pw(r)},[]),g.useEffect(()=>{var u;if(!n.current)return;console.log(" [URL Sync] Updating URL with build state:",e),console.log(" [URL Sync] Build state details:",{race:e.race,stone:e.stone,destinyPath:e.destinyPath,level:(u=e.attributeAssignments)==null?void 0:u.level});const s=zw(e);console.log(" [URL Sync] Encoded build:",s);const r=window.location.hash,[i,o]=r.split("?"),l=new URLSearchParams(o||"");l.set("b",s);const c=`${i}?${l.toString()}`;window.history.replaceState(null,"",c),console.log(" [URL Sync] URL updated successfully")},[e.v,e.name,e.notes,e.race,e.stone,e.religion,e.favoriteBlessing,e.traits,e.traitLimits,e.skills,e.perks,e.skillLevels,e.equipment,e.destinyPath,e.userProgress,e.attributeAssignments])},iA=g.forwardRef(({className:e,collapsed:t,...n},s)=>a.jsx("aside",{ref:s,"data-collapsed":t?"":void 0,className:I("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300 ease-in-out",t?"w-0 overflow-hidden opacity-0":"w-64 opacity-100",e),...n}));iA.displayName="Sidebar";const oA=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:I("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));oA.displayName="SidebarContent";const lA=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:I("mb-2",e),...t}));lA.displayName="SidebarGroup";const cA=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:I("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));cA.displayName="SidebarHeader";const uA=g.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,className:I("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));uA.displayName="SidebarMenu";const dA=g.forwardRef(({className:e,asChild:t,isActive:n,...s},r)=>{const i=t?"span":"button";return a.jsx(i,{ref:r,"data-active":n?"":void 0,className:I("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...s})});dA.displayName="SidebarMenuButton";const fA=g.forwardRef(({className:e,...t},n)=>a.jsx("li",{ref:n,className:I("relative flex items-stretch",e),...t}));fA.displayName="SidebarMenuItem";const mA=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:e,...t}));mA.displayName="SidebarRail";function dZ(e={}){const{autoLoad:t=!0,refreshOnMount:n=!1}=e,{data:s,loading:r,error:i,load:o}=mr(),l=g.useCallback(async()=>{t&&s.length===0&&await o()},[t,s.length,o]),c=g.useCallback(async()=>{await o()},[o]),u=g.useCallback(()=>{},[]);g.useEffect(()=>{t&&s.length===0&&l()},[t,s.length,l]),g.useEffect(()=>{n&&c()},[n,c]);const d=s.length,f=[...new Set(s.map(N=>N.category).filter(Boolean))],m=[...new Set(s.flatMap(N=>N.effects.map(k=>k.name)))],h=[...new Set(s.flatMap(N=>N.ingredients))],p=new Date().toISOString(),y=s.length>0?{recipes:s,totalCount:d,categories:f,effects:m,ingredients:h,lastUpdated:p}:null,b=g.useCallback(N=>mr.getState().getByName(N),[]),v=g.useCallback(N=>mr.getState().getByCategory(N),[]),x=g.useCallback(N=>mr.getState().getByDifficulty(N),[]),w=g.useCallback(N=>mr.getState().getByIngredient(N),[]),j=g.useCallback(N=>mr.getState().getByEffect(N),[]);return{recipes:s,recipeData:y,loading:r,error:i,totalCount:d,categories:f,effects:m,ingredients:h,lastUpdated:p,loadRecipes:l,refresh:c,clearError:u,getRecipeByName:b,getRecipesByCategory:v,getRecipesByDifficulty:x,getRecipesByIngredient:w,getRecipesByEffect:j}}function fZ(e,t={}){const{initialFilters:n={},enableSearch:s=!0,enableSorting:r=!0}=t,i=Array.isArray(e)?e:[],[o,l]=g.useState({categories:[],effects:[],ingredients:[],difficulties:[],searchTerm:"",hasEffects:null,isComplex:null,minIngredientCount:null,maxIngredientCount:null,minMagnitude:null,maxMagnitude:null,...n}),[c,u]=g.useState([]),[d,f]=g.useState("name"),[m,h]=g.useState("asc"),p=g.useCallback(M=>{c.some(R=>R.value===M.value&&R.category===M.category)||u(R=>[...R,M])},[c]),y=g.useCallback(M=>{u(R=>R.filter(B=>B.id!==M))},[]),b=g.useCallback(()=>{u([])},[]),v=g.useCallback(M=>{l(R=>({...R,searchTerm:M}))},[]),x=g.useCallback(M=>{l(R=>({...R,categories:M}))},[]),w=g.useCallback(M=>{l(R=>({...R,effects:M}))},[]),j=g.useCallback(M=>{l(R=>({...R,ingredients:M}))},[]),N=g.useCallback(M=>{l(R=>({...R,difficulties:M}))},[]),k=g.useCallback(M=>{l(R=>({...R,hasEffects:M}))},[]),S=g.useCallback(M=>{l(R=>({...R,isComplex:M}))},[]),E=g.useCallback((M,R)=>{l(B=>({...B,minIngredientCount:M,maxIngredientCount:R}))},[]),C=g.useCallback((M,R)=>{l(B=>({...B,minMagnitude:M,maxMagnitude:R}))},[]),T=g.useCallback(()=>{l({categories:[],effects:[],ingredients:[],difficulties:[],searchTerm:"",hasEffects:null,isComplex:null,minIngredientCount:null,maxIngredientCount:null,minMagnitude:null,maxMagnitude:null}),u([])},[]),_=g.useCallback(()=>{l(M=>({...M,searchTerm:""}))},[]),O=g.useCallback(M=>{h(M)},[]),L=g.useCallback(()=>{h(M=>M==="asc"?"desc":"asc")},[]),A=g.useMemo(()=>{let M=We.applyFilters(i,o);if(c.length>0){const R=c.reduce((B,F)=>{switch(F.category){case"categories":B.categories.push(F.value);break;case"effects":B.effects.push(F.value);break;case"ingredients":B.ingredients.push(F.value);break;case"difficulties":B.difficulties.push(F.value);break}return B},{categories:[],effects:[],ingredients:[],difficulties:[]});R.categories.length>0&&(M=We.filterByCategories(M,R.categories)),R.effects.length>0&&(M=We.filterByEffects(M,R.effects)),R.ingredients.length>0&&(M=We.filterByIngredients(M,R.ingredients)),R.difficulties.length>0&&(M=We.filterByDifficulties(M,R.difficulties))}return r&&(M=We.sort(M,d,m)),M},[i,o,c,r,d,m]),$=g.useMemo(()=>!s||!o.searchTerm.trim()?[]:We.search(i,o.searchTerm),[i,o.searchTerm,s]),D=g.useMemo(()=>o.searchTerm.trim()!==""||o.categories.length>0||o.effects.length>0||o.ingredients.length>0||o.difficulties.length>0||o.hasEffects!==null||o.isComplex!==null||o.minIngredientCount!==null||o.maxIngredientCount!==null||o.minMagnitude!==null||o.maxMagnitude!==null||c.length>0,[o,c]),z=g.useMemo(()=>{let M=0;return o.searchTerm.trim()&&M++,o.categories.length>0&&(M+=o.categories.length),o.effects.length>0&&(M+=o.effects.length),o.ingredients.length>0&&(M+=o.ingredients.length),o.difficulties.length>0&&(M+=o.difficulties.length),o.hasEffects!==null&&M++,o.isComplex!==null&&M++,(o.minIngredientCount!==null||o.maxIngredientCount!==null)&&M++,(o.minMagnitude!==null||o.maxMagnitude!==null)&&M++,M+=c.length,M},[o,c]);return{filters:o,searchTerm:o.searchTerm,selectedTags:c,setSelectedTags:u,addTagFilter:p,removeTagFilter:y,clearAllTags:b,filteredRecipes:A,searchResults:$,hasActiveFilters:D,filterCount:z,setSearchTerm:v,setCategories:x,setEffects:w,setIngredients:j,setDifficulties:N,setHasEffects:k,setIsComplex:S,setIngredientCountRange:E,setMagnitudeRange:C,clearFilters:T,clearSearch:_,sortBy:d,sortOrder:m,setSortBy:f,setSortOrder:O,toggleSortOrder:L}}function mZ(e,t={}){const{enableStatistics:n=!0,enableGrouping:s=!0}=t,r=Array.isArray(e)?e:[],i=g.useMemo(()=>n?We.getStatistics(r):{totalRecipes:0,recipesByCategory:{},recipesByDifficulty:{},recipesByEffect:{},averageIngredientCount:0,averageEffectCount:0,mostCommonIngredients:[],mostCommonEffects:[]},[r,n]),o=g.useMemo(()=>{if(!s)return{};const w={};return r.forEach(j=>{const N=j.category||"Uncategorized";w[N]||(w[N]=[]),w[N].push(j)}),w},[r,s]),l=g.useMemo(()=>{if(!s)return{};const w={};return r.forEach(j=>{const N=j.difficulty;w[N]||(w[N]=[]),w[N].push(j)}),w},[r,s]),c=g.useMemo(()=>{if(!s)return{};const w={};return r.forEach(j=>{j.effects.forEach(N=>{w[N.name]||(w[N.name]=[]),w[N.name].push(j)})}),w},[r,s]),u=g.useMemo(()=>{if(!s)return{};const w={};return r.forEach(j=>{j.ingredients.forEach(N=>{w[N]||(w[N]=[]),w[N].push(j)})}),w},[r,s]),d=g.useMemo(()=>We.getUniqueCategories(r),[r]),f=g.useMemo(()=>We.getUniqueDifficulties(r),[r]),m=g.useMemo(()=>We.getUniqueEffects(r),[r]),h=g.useMemo(()=>We.getUniqueIngredients(r),[r]),p=g.useMemo(()=>[{name:"Recipe Categories",options:d},{name:"Effects",options:m},{name:"Ingredients",options:h},{name:"Difficulty",options:f}],[d,m,h,f]),y=g.useMemo(()=>(w,j)=>{const N=w.ingredientCount-j.ingredientCount,k=w.effectCount-j.effectCount,S=w.totalMagnitude-j.totalMagnitude,E=w.maxDuration-j.maxDuration,C=new Set(w.ingredients),T=new Set(j.ingredients),_=[...C].filter(R=>T.has(R)),O=[...C].filter(R=>!T.has(R)),L=[...T].filter(R=>!C.has(R)),A=new Set(w.effects.map(R=>R.name)),$=new Set(j.effects.map(R=>R.name)),D=[...A].filter(R=>$.has(R)),z=[...A].filter(R=>!$.has(R)),M=[...$].filter(R=>!A.has(R));return{recipe1:w,recipe2:j,differences:{ingredientCount:{difference:N,percentage:j.ingredientCount>0?N/j.ingredientCount*100:0},effectCount:{difference:k,percentage:j.effectCount>0?k/j.effectCount*100:0},magnitude:{difference:S,percentage:j.totalMagnitude>0?S/j.totalMagnitude*100:0},duration:{difference:E,percentage:j.maxDuration>0?E/j.maxDuration*100:0},ingredients:{added:O,removed:L,common:_},effects:{added:z,removed:M,common:D}}}},[]),b=g.useMemo(()=>w=>{if(w.ingredientCount===0)return 0;const j=w.totalMagnitude*w.maxDuration,N=w.ingredientCount;return j/N},[]),v=g.useMemo(()=>w=>{let j=0;switch(j+=w.ingredientCount*.3,j+=w.effectCount*.4,j+=w.effects.reduce((N,k)=>N+k.magnitude*k.duration*.1,0),w.difficulty){case"Simple":j+=1;break;case"Moderate":j+=2;break;case"Complex":j+=3;break}return Math.round(j*10)/10},[]),x=g.useMemo(()=>w=>We.getEffectComparisons(w,r),[r]);return{statistics:i,recipesByCategory:o,recipesByDifficulty:l,recipesByEffect:c,recipesByIngredient:u,availableCategories:d,availableDifficulties:f,availableEffects:m,availableIngredients:h,searchCategories:p,compareRecipes:y,getRecipeEfficiency:b,getRecipeComplexity:v,getEffectComparisons:x}}function xv({recipe:e,variant:t="default",onClick:n,isSelected:s=!1,showEffects:r=!0,showIngredients:i=!0,effectComparisons:o=[]}){const l=()=>{n==null||n()},c=b=>typeof b=="string"?b:b&&typeof b=="object"?b.item?b.item:b.name?b.name:b.label?b.label:b.id?b.id:"Unknown Ingredient":String(b||""),u=b=>typeof b=="string"?b:typeof b=="number"?b.toString():b&&typeof b=="object"?b.name?b.name:b.label?b.label:b.id?b.id:b.item?b.item:b.category?b.category:c(b):String(b||""),d=b=>a.jsx(ma,{className:"h-4 w-4 text-green-500"}),f=b=>{if(typeof b=="string")return{name:b,count:1};if(b&&typeof b=="object"){const v=c(b),x=b.count||b.amount||1;return{name:v,count:x}}return{name:String(b||""),count:1}},m=b=>u(b.description||""),h=()=>a.jsxs(ue,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:l,children:[a.jsx(be,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium truncate",children:u(e.name)}),a.jsx("div",{className:"flex gap-1",children:e.category&&a.jsx(q,{variant:"secondary",className:"text-xs",children:u(e.category)})})]})}),a.jsx(fe,{className:"pt-0",children:a.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.ingredientCount," ingredients  ",e.effectCount," effects"]})})]}),p=()=>a.jsxs(ue,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:l,children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium truncate",children:u(e.name)}),e.description&&a.jsx(Me,{text:u(e.description),className:"text-sm text-muted-foreground mt-1 line-clamp-2",as:"p"})]}),a.jsx("div",{className:"flex flex-col gap-1 ml-2",children:e.category&&a.jsx(q,{variant:"secondary",className:"text-xs",children:u(e.category)})})]})}),a.jsx(fe,{className:"pt-0",children:a.jsxs("div",{className:"space-y-2",children:[i&&e.ingredients.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:["Ingredients (",e.ingredientCount,")"]}),a.jsx("div",{className:"space-y-1",children:e.ingredients.map((b,v)=>{const{name:x,count:w}=f(b);return a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:x}),a.jsxs("span",{className:"font-medium",children:["",w]})]},v)})})]}),r&&e.effects.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:["Effects (",e.effectCount,")"]}),a.jsx("div",{className:"space-y-2",children:e.effects.map((b,v)=>a.jsx("div",{className:"p-2 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[d(),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-xs mb-1",children:u(b.name)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:a.jsx(Me,{text:m(b),className:"text-xs text-muted-foreground"})})]})]})},v))})]}),!1]})})]}),y=()=>a.jsxs(ue,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:l,children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium",children:u(e.name)}),e.description&&a.jsx(Me,{text:u(e.description),className:"text-sm text-muted-foreground mt-1",as:"p"})]}),a.jsxs("div",{className:"flex flex-col gap-1 ml-2",children:[e.category&&a.jsx(q,{variant:"secondary",className:"text-xs",children:u(e.category)}),e.type&&a.jsx(q,{variant:"outline",className:"text-xs",children:u(e.type)})]})]})}),a.jsx(fe,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[i&&e.ingredients.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:"Ingredients"}),a.jsx("div",{className:"space-y-2",children:e.ingredients.map((b,v)=>{const{name:x,count:w}=f(b);return a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:x}),a.jsxs("span",{className:"font-medium text-sm",children:["",w]})]},v)})})]}),r&&e.effects.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium mb-3",children:"Effects"}),a.jsx("div",{className:"space-y-3",children:e.effects.map((b,v)=>a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[d(),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm mb-1",children:u(b.name)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:a.jsx(Me,{text:m(b),className:"text-sm text-muted-foreground"})})]})]})},v))})]}),!1,a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[a.jsxs("span",{children:["Total Magnitude: ",e.totalMagnitude]}),a.jsxs("span",{children:["Max Duration: ",e.maxDuration,"s"]})]})]})})]});switch(t){case"compact":return h();case"detailed":return y();default:return p()}}function hZ({recipes:e,variant:t="default",columns:n=3,onRecipeClick:s,selectedRecipes:r=[],showEffects:i=!0,showIngredients:o=!0,className:l,getEffectComparisons:c}){const u=()=>{const f="grid gap-4";switch(n){case 1:return`${f} grid-cols-1`;case 2:return`${f} grid-cols-1 sm:grid-cols-2`;case 3:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`;case 4:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4`;default:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`}},d=f=>{s==null||s(f)};return e.length===0?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No recipes found"})})}):a.jsx("div",{className:u(),children:e.map(f=>a.jsx(xv,{recipe:f,variant:t,onClick:()=>d(f),isSelected:r.includes(f.name),showEffects:i,showIngredients:o,effectComparisons:(c==null?void 0:c(f))||[]},f.name))})}function gZ({recipes:e,variant:t="default",onRecipeClick:n,selectedRecipes:s=[],showEffects:r=!0,showIngredients:i=!0,className:o,getEffectComparisons:l}){const c=u=>{n==null||n(u)};return e.length===0?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No recipes found"})})}):a.jsx("div",{className:`space-y-3 ${o||""}`,children:e.map(u=>a.jsx(xv,{recipe:u,variant:t,onClick:()=>c(u),isSelected:s.includes(u.name),showEffects:r,showIngredients:i,effectComparisons:(l==null?void 0:l(u))||[]},u.name))})}function pZ({currentMode:e,onModeChange:t,className:n}){return a.jsxs("div",{className:`flex border rounded-lg p-1 bg-muted ${n||""}`,children:[a.jsx(U,{variant:e==="list"?"default":"ghost",size:"sm",onClick:()=>t("list"),className:"h-8 px-3",title:"List view",children:a.jsx(Ra,{className:"h-4 w-4"})}),a.jsx(U,{variant:e==="grid"?"default":"ghost",size:"sm",onClick:()=>t("grid"),className:"h-8 px-3",title:"Grid view",children:a.jsx(Di,{className:"h-4 w-4"})})]})}function xZ({statistics:e,className:t}){const{totalRecipes:n,foodRecipes:s,alcoholRecipes:r,recipesByCategory:i,recipesByDifficulty:o,averageIngredientCount:l,averageEffectCount:c,averageMagnitude:u,averageDuration:d,topEffects:f,topIngredients:m}=e,h=[{title:"Total Recipes",value:n,icon:GR,description:"All available recipes",color:"text-blue-600"},{title:"Food Recipes",value:s,icon:uD,description:"Culinary recipes",color:"text-green-600"},{title:"Alcohol Recipes",value:r,icon:fD,description:"Beverage recipes",color:"text-purple-600"},{title:"Avg Ingredients",value:l.toFixed(1),icon:ns,description:"Per recipe",color:"text-orange-600"},{title:"Avg Effects",value:c.toFixed(1),icon:ln,description:"Per recipe",color:"text-yellow-600"},{title:"Avg Magnitude",value:u.toFixed(1),icon:Ac,description:"Effect strength",color:"text-red-600"}];return a.jsxs("div",{className:`space-y-6 ${t||""}`,children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(p=>{const y=p.icon;return a.jsxs(ue,{children:[a.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(_e,{className:"text-sm font-medium",children:p.title}),a.jsx(y,{className:`h-4 w-4 ${p.color}`})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:p.value}),a.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]},p.title)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsx(be,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"h-4 w-4"}),"Recipe Categories"]})}),a.jsx(fe,{children:a.jsxs("div",{className:"space-y-2",children:[Object.entries(i).sort(([,p],[,y])=>y-p).slice(0,8).map(([p,y])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p}),a.jsx(q,{variant:"secondary",className:"text-xs",children:y})]},p)),Object.keys(i).length>8&&a.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["+",Object.keys(i).length-8," more categories"]})]})})]}),a.jsxs(ue,{children:[a.jsx(be,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(Nr,{className:"h-4 w-4"}),"Recipe Difficulties"]})}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-2",children:Object.entries(o).sort(([,p],[,y])=>y-p).map(([p,y])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p}),a.jsx(q,{variant:p==="Simple"?"default":p==="Moderate"?"secondary":"destructive",className:"text-xs",children:y})]},p))})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsx(be,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"h-4 w-4"}),"Most Common Effects"]})}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-2",children:f.slice(0,8).map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p.name}),a.jsxs(q,{variant:"outline",className:"text-xs",children:[p.count," recipes"]})]},p.name))})})]}),a.jsxs(ue,{children:[a.jsx(be,{children:a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(ns,{className:"h-4 w-4"}),"Most Common Ingredients"]})}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-2",children:m.slice(0,8).map((p,y)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p.name}),a.jsxs(q,{variant:"outline",className:"text-xs",children:[p.count," recipes"]})]},p.name))})})]})]})]})}function vZ({recipes:e,className:t}){const n=P.useMemo(()=>{const l=new Map;return e.forEach(c=>{c.effects.forEach(u=>{const d=u.name||"Unknown Effect",f=u.magnitude||0,m=u.duration||0;l.has(d)||l.set(d,{name:d,count:0,averageMagnitude:0,averageDuration:0,totalMagnitude:0,totalDuration:0,recipes:[]});const h=l.get(d);h.count++,h.totalMagnitude+=f,h.totalDuration+=m,h.recipes.includes(c.name)||h.recipes.push(c.name)})}),l.forEach(c=>{c.averageMagnitude=c.totalMagnitude/c.count,c.averageDuration=c.totalDuration/c.count}),Array.from(l.values()).sort((c,u)=>u.count-c.count)},[e]),s=P.useMemo(()=>{if(n.length===0)return{magnitude:0,duration:0};const l=n.reduce((u,d)=>u+d.averageMagnitude,0),c=n.reduce((u,d)=>u+d.averageDuration,0);return{magnitude:l/n.length,duration:c/n.length}},[n]),r=(l,c)=>{const d=(l-c)/c*100;return d>20?"text-green-600":d>10?"text-green-500":d<-20?"text-red-600":d<-10?"text-red-500":"text-muted-foreground"},i=(l,c)=>{const d=(l-c)/c*100;return d>10?a.jsx(Ac,{className:"h-4 w-4 text-green-500"}):d<-10?a.jsx(Gg,{className:"h-4 w-4 text-red-500"}):null},o=(l,c)=>{const u=l-c,d=u/c*100,f=u>=0?"+":"";return`${f}${u.toFixed(1)} (${f}${d.toFixed(1)}%)`};return n.length===0?a.jsxs(ue,{className:t,children:[a.jsx(be,{children:a.jsx(_e,{className:"text-lg",children:"Food Effect Meta Analysis"})}),a.jsx(fe,{children:a.jsx("p",{className:"text-muted-foreground",children:"No effects found to analyze."})})]}):a.jsxs(ue,{className:t,children:[a.jsxs(be,{children:[a.jsx(_e,{className:"text-lg",children:"Food Effect Meta Analysis"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Analysis of ",n.length," unique effects across ",e.length," recipes"]})]}),a.jsx(fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:s.magnitude.toFixed(1)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Magnitude"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold",children:[s.duration.toFixed(1),"s"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Duration"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-sm",children:"Effect Analysis"}),n.slice(0,10).map(l=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ma,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-medium text-sm",children:l.name}),a.jsxs(q,{variant:"secondary",className:"text-xs",children:[l.count," recipes"]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Magnitude:"}),a.jsx("span",{className:"font-medium",children:l.averageMagnitude.toFixed(1)}),i(l.averageMagnitude,s.magnitude)]}),a.jsx("div",{className:I("text-xs",r(l.averageMagnitude,s.magnitude)),children:o(l.averageMagnitude,s.magnitude)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),a.jsxs("span",{className:"font-medium",children:[l.averageDuration.toFixed(1),"s"]}),i(l.averageDuration,s.duration)]}),a.jsx("div",{className:I("text-xs",r(l.averageDuration,s.duration)),children:o(l.averageDuration,s.duration)})]})]}),l.recipes.length>0&&a.jsx("div",{className:"mt-2 pt-2 border-t border-border",children:a.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["Found in: ",l.recipes.slice(0,3).join(", "),l.recipes.length>3&&` +${l.recipes.length-3} more`]})})]},l.name)),n.length>10&&a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Showing top 10 effects of ",n.length," total"]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Legend"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ac,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{children:"Above average (+10%+)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gg,{className:"h-3 w-3 text-red-500"}),a.jsx("span",{children:"Below average (-10%+)"})]})]})]})]})})]})}function yZ(e,t){return{filteredRecipes:g.useMemo(()=>{if(!t.trim())return e;const r=t.toLowerCase().trim().split(/\s+/);return e.filter(i=>{const o=[i.name,i.output,i.description||"",...i.ingredients.map(l=>typeof l=="string"?l:l&&typeof l=="object"&&(l.name||l.label||l.id)||String(l)),...i.effects.map(l=>l.name),...i.effects.map(l=>l.description),i.category||"",i.difficulty||"",i.type||"",...i.tags].join(" ").toLowerCase();return r.every(l=>o.includes(l))})},[e,t]),searchQuery:t.trim()}}function bZ(){const{recipes:e,loading:t,error:n}=dZ(),{filteredRecipes:s}=fZ(e),{statistics:r,availableCategories:i,availableEffects:o,availableIngredients:l,getEffectComparisons:c}=mZ(e),[u,d]=g.useState("grid"),m=(()=>{try{if(!e||e.length===0)return[];const N=l||[],k=o||[],S=i||[];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, ingredients, effects, or description...",options:[]},{id:"ingredients",name:"Ingredients",placeholder:"Filter by ingredient...",options:N.map(E=>({id:`ingredient-${E}`,label:E,value:E,category:"Ingredients",description:`Recipes with ${E}`}))},{id:"effects",name:"Effects",placeholder:"Filter by effect...",options:k.map(E=>({id:`effect-${E}`,label:E,value:E,category:"Effects",description:`Recipes with ${E} effect`}))},{id:"categories",name:"Categories",placeholder:"Filter by category...",options:S.map(E=>({id:`category-${E}`,label:E,value:E,category:"Categories",description:`${E} recipes`}))}]}catch{return[]}})(),[h,p]=g.useState([]),y=N=>{let k;typeof N=="string"?k={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:k={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},h.some(S=>S.value===k.value&&S.category===k.category)||p(S=>[...S,k])},b=N=>{p(k=>k.filter(S=>S.id!==N))},v=s.filter(N=>h.length===0?!0:h.every(k=>{switch(k.category){case"Fuzzy Search":return!0;case"Categories":return N.category===k.value;case"Ingredients":return N.ingredients.some(S=>typeof S=="string"?S===k.value:S&&typeof S=="object"?S.item===k.value||S.name===k.value||S.label===k.value||S.id===k.value:!1);case"Effects":return N.effects.some(S=>S.name===k.value);default:return!0}})),x=h.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredRecipes:w}=yZ(v,x),j=N=>{};return t?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading recipes..."})]})}):n?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-2",children:"Error loading recipes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Cookbook"}),a.jsxs("p",{className:"text-muted-foreground",children:["Browse and search through ",r.totalRecipes," recipes"]})]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Ia,{categories:m,onSelect:y,onCustomSearch:y})}),a.jsx(pZ,{currentMode:u,onModeChange:d})]}),a.jsx("div",{className:"my-4",children:h.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>p([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(He,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),h.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>b(N.id),title:"Click to remove",children:[N.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})}),a.jsxs(Pa,{defaultValue:"recipes",className:"w-full",children:[a.jsxs($a,{className:"mb-4",children:[a.jsx(Ot,{value:"recipes",children:"Recipes"}),a.jsx(Ot,{value:"statistics",children:"Statistics"}),a.jsx(Ot,{value:"meta",children:"Meta Analysis"})]}),a.jsx(qt,{value:"recipes",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-semibold",children:["Recipes (",w.length,")"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",w.length," of ",e.length," recipes"]})]}),u==="grid"&&a.jsx(hZ,{recipes:w,variant:"default",columns:3,onRecipeClick:j,showEffects:!0,showIngredients:!0,getEffectComparisons:c}),u==="list"&&a.jsx(gZ,{recipes:w,variant:"default",onRecipeClick:j,showEffects:!0,showIngredients:!0,getEffectComparisons:c})]})}),a.jsx(qt,{value:"statistics",children:a.jsx(xZ,{statistics:r})}),a.jsx(qt,{value:"meta",children:a.jsx(vZ,{recipes:e})})]})]})}function wZ(){return a.jsx(Jt,{title:"Cookbook Reference",description:"Browse and search all available recipes. Find the perfect dish for your character's needs.",children:a.jsx(bZ,{})})}function jZ({path:e,className:t=""}){return e.length===0?a.jsxs("div",{className:`space-y-2 ${t}`,children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Selected Path"}),a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:a.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})})]}):a.jsxs("div",{className:`space-y-2 ${t}`,children:[a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Selected Path (",e.length," nodes)"]}),a.jsx("div",{className:"space-y-2",children:e.map((n,s)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium",children:s+1}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:n.name}),n.description&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:n.description})]})]}),a.jsx(q,{variant:"secondary",className:s===e.length-1?"bg-yellow-600 text-yellow-50":"bg-blue-500",children:s===e.length-1?"Current":"Selected"})]},n.id))})]})}function NZ({stepIndex:e,totalSteps:t,title:n,onBack:s,onOverview:r,onClear:i,canBack:o}){const l=t>0?`${e+1} of ${t}`:"Start";return a.jsx("header",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:o&&a.jsxs(U,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:[a.jsx(cm,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Go back"})]})}),a.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-foreground truncate max-w-[200px]",children:n}),a.jsx("div",{className:"text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(U,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",children:[a.jsx(u1,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Path overview"})]}),a.jsxs(Bi,{children:[a.jsx(Fi,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[a.jsx(l3,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"More options"})]})}),a.jsx(Oa,{align:"end",children:a.jsx(on,{onClick:i,children:"Clear Path"})})]})]})]})})}function SZ({step:e,onChange:t}){return a.jsxs(ue,{className:"border-primary/20 bg-primary/5 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary"}),a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),a.jsx(_e,{className:"text-base font-medium text-primary",children:e.name})]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:[a.jsx($3,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Change step"})]})]})}),a.jsxs(fe,{className:"pt-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.summary}),e.meta.tags&&e.meta.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:e.meta.tags.map(n=>a.jsx(q,{variant:"secondary",className:"text-xs",children:n},n))}),e.meta.levelRequirement&&a.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Level ",e.meta.levelRequirement," required"]})]})]})}function kZ({choice:e,onOpenDetails:t,onSelect:n}){return a.jsxs(ue,{className:"hover:shadow-md transition-shadow border-2 border-dashed border-muted hover:border-primary/50",children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-muted-foreground/30 rounded-full"}),a.jsx(_e,{className:"text-base font-medium",children:e.name})]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:[a.jsx(Vo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"View details"})]})]})}),a.jsxs(fe,{className:"pt-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:e.description||"No description available"}),e.tags&&e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map(s=>a.jsx(q,{variant:"outline",className:"text-xs",children:s},s))}),e.levelRequirement&&a.jsxs("div",{className:"text-xs text-muted-foreground mb-3",children:["Level ",e.levelRequirement," required"]}),a.jsxs(U,{onClick:n,className:"w-full",size:"sm",children:[a.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Select"]})]})]})}function CZ({canBack:e,canNext:t,onBack:n,onOverview:s}){return a.jsx("div",{className:"sticky bottom-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:n,disabled:!e,className:"flex items-center space-x-2",children:[a.jsx(cm,{className:"h-4 w-4"}),a.jsx("span",{children:"Back"})]}),a.jsx("div",{className:"flex-1 flex justify-center",children:a.jsxs(U,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center space-x-2",children:[a.jsx(u1,{className:"h-4 w-4"}),a.jsx("span",{children:"Path Overview"})]})}),a.jsx(U,{variant:"outline",size:"sm",disabled:!t,className:"flex items-center space-x-2 opacity-50",children:a.jsx("span",{children:"Next"})})]})})}function EZ({open:e,steps:t,currentIndex:n,onJump:s,onClear:r,onClose:i}){return t.length===0?a.jsx(qo,{open:e,onOpenChange:i,children:a.jsxs(bi,{side:"bottom",className:"h-[80vh]",children:[a.jsx(Zo,{children:a.jsx(Yo,{children:"Path Overview"})}),a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No destiny path selected yet"}),a.jsx(U,{onClick:i,children:"Start Building"})]})]})}):a.jsx(qo,{open:e,onOpenChange:i,children:a.jsxs(bi,{side:"bottom",className:"h-[80vh]",children:[a.jsx(Zo,{className:"flex flex-row items-center justify-between px-0",children:a.jsx(Yo,{className:"flex-1 min-w-0",children:"Path Overview"})}),a.jsx(ji,{className:"flex-1 mt-6",children:a.jsx("div",{className:"space-y-2",children:t.map((o,l)=>a.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${l===n?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>s(l),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(q,{variant:l===n?"default":"secondary",children:l+1}),a.jsx("h3",{className:"font-medium text-sm",children:o.name})]}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:o.summary}),o.meta.tags&&o.meta.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[o.meta.tags.slice(0,3).map(c=>a.jsx(q,{variant:"outline",className:"text-xs",children:c},c)),o.meta.tags.length>3&&a.jsxs(q,{variant:"outline",className:"text-xs",children:["+",o.meta.tags.length-3]})]})]}),l===n&&a.jsx("div",{className:"ml-2",children:a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})]})},o.id))})}),a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[a.jsx("div",{className:"text-sm text-muted-foreground text-center",children:"Tap any step to jump to that point in your path"}),a.jsxs(U,{variant:"outline",size:"sm",onClick:r,className:"w-full text-destructive hover:text-destructive border-destructive/20 hover:border-destructive/40",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Restart Path"]})]})]})})}function TZ({open:e,choice:t,onSelect:n,onClose:s}){return t?a.jsx(qo,{open:e,onOpenChange:s,children:a.jsxs(bi,{side:"bottom",className:"h-[90vh]",children:[a.jsxs(Zo,{className:"flex flex-row items-center justify-between",children:[a.jsx(Yo,{className:"text-left",children:t.name}),a.jsx(U,{variant:"ghost",size:"sm",onClick:s,children:a.jsx(He,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"No description available"})]}),t.tags&&t.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map(r=>a.jsx(q,{variant:"secondary",className:"text-xs",children:r},r))})]}),t.levelRequirement&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Requirements"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Level ",t.levelRequirement," required"]})]}),t.prerequisites&&t.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Prerequisites"}),a.jsx("div",{className:"space-y-1",children:t.prerequisites.map(r=>a.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",r]},r))})]}),t.lore&&a.jsxs(a.Fragment,{children:[a.jsx(ti,{}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(_a,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("h3",{className:"font-medium text-sm",children:"Lore"})]}),a.jsx("p",{className:"text-sm text-muted-foreground italic",children:t.lore})]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-2",children:[a.jsxs(U,{onClick:n,className:"w-full",size:"lg",children:[a.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Select This Destiny"]}),a.jsx(U,{variant:"outline",onClick:s,className:"w-full",children:"Close"})]})]})}):null}function AZ({steps:e,onRestart:t,onShare:n}){return a.jsxs(ue,{className:"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/20",children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tc,{className:"h-5 w-5 text-green-600"}),a.jsx(_e,{className:"text-base text-green-800 dark:text-green-200",children:"Destiny Path Complete!"})]})}),a.jsxs(fe,{className:"pt-0",children:[a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300 mb-4",children:["You have successfully built a destiny path with ",e.length," steps."]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-sm mb-2 text-green-800 dark:text-green-200",children:"Your Path:"}),a.jsx("div",{className:"space-y-1",children:e.map((s,r)=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:r+1}),a.jsx("span",{className:"text-green-700 dark:text-green-300",children:s.name})]},s.id))})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:t,className:"flex-1",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Start Over"]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:n,className:"flex-1",children:[a.jsx(f1,{className:"h-4 w-4 mr-2"}),"Share Path"]})]})]})]})}function hA(e){const{filterType:t,currentPath:n=[]}=e,{nodes:s,rootNodes:r}=Fa(),[i,o]=g.useState([]),{possiblePaths:l}=$m({fromNode:n.length>0?n[n.length-1]:void 0}),c=g.useMemo(()=>{if(t!=="build-path"||n.length===0)return s;const b=new Set,v=new Set,x=j=>{v.has(j)||(v.add(j),b.add(j),s.forEach(N=>{N.prerequisites.includes(j)&&x(N.edid)}))},w=n[n.length-1];return x(w.edid),s.filter(j=>b.has(j.edid))},[t,n,s,r]),u=g.useMemo(()=>{if(t==="build-path"){const b=new Set,v=new Set;l.forEach(j=>{j.path.forEach(N=>{b.add(N.edid)}),j.path.length>0&&v.add(j.path[j.path.length-1].edid)});const x=s.filter(j=>b.has(j.edid)),w=s.filter(j=>v.has(j.edid));return[{id:"includes-node",name:"Includes Node",placeholder:"Filter paths that include this node...",options:x.map(j=>{const N=l.filter(k=>k.path.some(S=>S.edid===j.edid)).length;return{id:`includes-${j.id}`,label:j.name,value:j.edid,category:"Includes Node",description:`${N} path${N!==1?"s":""} include ${j.name}`}})},{id:"ends-with-node",name:"Ends With Node",placeholder:"Filter paths that end with this node...",options:w.map(j=>{const N=l.filter(k=>k.path.length>0&&k.path[k.path.length-1].edid===j.edid).length;return{id:`ends-${j.id}`,label:j.name,value:j.edid,category:"Ends With Node",description:`${N} path${N!==1?"s":""} end with ${j.name}`}})}]}else{const b=[...new Set(s.flatMap(x=>x.tags))],v=[...new Set(s.flatMap(x=>x.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:b.map(x=>({id:`tag-${x}`,label:x,value:x,category:"Tags",description:`Nodes with ${x} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Filter by prerequisite...",options:v.map(x=>{const w=s.find(j=>j.edid===x);return{id:`prereq-${x}`,label:w?w.name:x,value:x,category:"Prerequisites",description:`Nodes requiring ${w?w.name:x}`}})}]}},[t,c,s,l]),d=g.useCallback(b=>{o(v=>v.some(w=>w.type===b.type&&w.nodeName===b.nodeName)?v:[...v,b])},[]),f=g.useCallback(b=>{o(v=>v.filter(x=>x.id!==b))},[]),m=g.useCallback(()=>{o([])},[]),h=g.useCallback(()=>u.flatMap(b=>b.options),[u]),p=g.useCallback(b=>c.some(v=>v.id===b.id),[c]),y=g.useMemo(()=>t!=="build-path"||i.length===0?l.map(b=>b.path):l.map(b=>b.path).filter(b=>i.every(v=>{switch(v.type){case"includes-node":return b.some(x=>x.edid===v.nodeName||x.edid===v.nodeId);case"ends-with-node":return b.length>0&&(b[b.length-1].edid===v.nodeName||b[b.length-1].edid===v.nodeId);default:return!0}})),[t,i,l]);return{selectedFilters:i,searchCategories:u,addFilter:d,removeFilter:f,clearFilters:m,filteredPaths:y,availableNodes:c,getFilterOptions:h,isNodeAvailable:p}}function gA({searchCategories:e,selectedFilters:t,onFilterSelect:n,onFilterRemove:s,onClearFilters:r,className:i=""}){const o=e.find(d=>d.id==="includes-node"),l=e.find(d=>d.id==="ends-with-node"),c=e.find(d=>d.id==="tags"),u=e.find(d=>d.id==="prerequisites");return a.jsxs("div",{className:`space-y-4 ${i}`,children:[a.jsxs("div",{className:"flex flex-wrap gap-4",children:[o&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Includes"}),a.jsx(ri,{categories:[o],onSelect:n,placeholder:o.placeholder,className:"w-full"})]}),l&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Ends With"}),a.jsx(ri,{categories:[l],onSelect:n,placeholder:l.placeholder,className:"w-full"})]}),c&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx(ri,{categories:[c],onSelect:n,placeholder:c.placeholder,className:"w-full"})]}),u&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Prerequisites"}),a.jsx(ri,{categories:[u],onSelect:n,placeholder:u.placeholder,className:"w-full"})]})]}),t.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Active Filters"}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:r,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(He,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),t.map(d=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>s(d.id),title:"Click to remove",children:[a.jsx("span",{className:"text-xs opacity-70 mr-1",children:d.type==="includes-node"?"Includes:":d.type==="ends-with-node"?"Ends:":d.type==="tags"?"Tag:":"Prereq:"}),d.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},d.id))]})]})]})}function _Z({onPathChange:e,onPathComplete:t,className:n="",compact:s=!1,currentPath:r=[]}){var C,T;const{currentPath:i,currentNode:o,isValidPath:l,pathErrors:c,setPath:u,clearPath:d,goToPathIndex:f,isPathComplete:m,getPathSummary:h}=U0({initialPath:r}),{possiblePaths:p}=$m({fromNode:o||void 0}),{nodes:y}=Fa(),b=hA({filterType:"build-path",currentPath:i}),v=b.selectedFilters.length>0?b.filteredPaths:p.map(_=>_.path),x=_=>{if(typeof _=="string")return;let O,L;if(_.category==="Includes Node")O="includes-node",L=_.id.replace(/^includes-/,"");else if(_.category==="Ends With Node")O="ends-with-node",L=_.id.replace(/^ends-/,"");else return;const A={id:_.id,type:O,nodeName:_.value,nodeId:L,label:_.label};b.addFilter(A)},w=_=>{b.removeFilter(_)},j=()=>{b.clearFilters()},N=(_,O)=>{let L;if(i.length===0)L=_.slice(0,O+1);else{if(O===0)return;const A=_.slice(1,O+1);L=[...i,...A]}u(L),e==null||e(L),m&&(t==null||t(L))},k=_=>{f(_),e==null||e(i)},S=()=>{d(),e==null||e([])},E=h();return s?a.jsxs("div",{className:`space-y-4 ${n}`,children:[a.jsx(jZ,{path:i}),i.length>0&&a.jsx("div",{className:"flex justify-end",children:a.jsxs(U,{variant:"outline",size:"sm",onClick:S,className:"text-xs",children:[a.jsx(Tr,{className:"w-3 h-3 mr-1"}),"Clear Path"]})}),v.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Possible Remaining Paths"}),a.jsx(ji,{className:"h-[200px]",children:a.jsx("div",{className:"p-4",children:a.jsx(gp,{possiblePaths:v.map(_=>({path:_,isComplete:!1,endNode:_[_.length-1]})),selectedPathLength:i.length,onPathClick:N,variant:"compact"})})})]}),!l&&c.length>0&&a.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Ho,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),a.jsx("ul",{className:"space-y-0.5",children:c.map((_,O)=>a.jsxs("li",{children:[" ",_]},O))})]})]}):a.jsxs("div",{className:`space-y-6 ${n}`,children:[a.jsxs(ue,{children:[a.jsx(be,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(Tc,{className:"w-5 h-5 text-primary"}),"Destiny Path Builder"]}),a.jsx("div",{className:"flex items-center gap-2",children:i.length>0&&a.jsxs(U,{variant:"outline",size:"sm",onClick:S,className:"flex items-center gap-1",children:[a.jsx(Tr,{className:"w-4 h-4"}),"Clear Path"]})})]})}),a.jsxs(fe,{children:[a.jsx(IC,{path:i,allNodes:y,onBreadcrumbClick:k,className:"mb-4"}),i.length>0&&a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Path Length: ",i.length]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Start: ",(C=E.startNode)==null?void 0:C.name]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Current: ",(T=E.endNode)==null?void 0:T.name]}),m&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx(q,{variant:"default",className:"text-xs",children:"Complete"})]})]}),!l&&c.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[a.jsx(Ho,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:"Path Validation Errors:"})]}),a.jsx("ul",{className:"text-sm space-y-1",children:c.map((_,O)=>a.jsxs("li",{className:"text-destructive",children:[" ",_]},O))})]})]})]}),i.length>0&&a.jsxs(ue,{children:[a.jsx(be,{children:a.jsx(_e,{className:"text-lg",children:"Current Path"})}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-2",children:i.map((_,O)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:O+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:_.name}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:_.description})]})]},_.id))})})]}),a.jsxs(ue,{children:[a.jsxs(be,{children:[a.jsx(_e,{className:"text-lg",children:i.length===0?"Choose Your Starting Point":"Possible Paths"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.length===0?"Select a root destiny node to begin your path":v.length===0?b.selectedFilters.length>0?"No paths match your current filters":"You have reached the end of this destiny path":b.selectedFilters.length>0?`Showing ${v.length} filtered paths from your current position`:`Explore ${v.length} possible paths from your current position`})]}),a.jsxs(fe,{className:"h-[600px] p-0",children:[a.jsx("div",{className:"p-6 pb-6",children:a.jsx(gA,{searchCategories:b.searchCategories,selectedFilters:b.selectedFilters,onFilterSelect:x,onFilterRemove:w,onClearFilters:j})}),v.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[b.selectedFilters.length>0?a.jsx(F3,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}):a.jsx(Tc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:b.selectedFilters.length>0?"No paths match your filters":"Path Complete!"}),a.jsx("p",{className:"text-sm",children:b.selectedFilters.length>0?"Try adjusting your filters to see more paths.":"You've reached the end of this destiny path."})]}):a.jsx(ji,{className:"h-[calc(600px-200px)]",children:a.jsx("div",{className:"p-6 pt-4",children:a.jsx(gp,{possiblePaths:v.map(_=>({path:_,isComplete:!1,endNode:_[_.length-1]})),selectedPathLength:i.length,onPathClick:N})})})]})]})]})}function MZ({item:e,originalNode:t,allNodes:n}){const s=r=>n.filter(i=>i.prerequisites.includes(r)).map(i=>i.name);return a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((r,i)=>a.jsx(q,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},i))})]}),t&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[s(t.name).map((r,i)=>a.jsx(q,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:r},i)),s(t.name).length===0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,i)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:r},i))})]})]})}function RZ({items:e,allNodes:t}){return a.jsx(ji,{className:"h-[calc(100vh-500px)]",children:a.jsx(RB,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>a.jsxs(xC,{value:n.id,children:[a.jsx(vC,{className:"text-left hover:no-underline",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),a.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),a.jsx(yC,{children:a.jsx(MZ,{item:n,originalNode:t.find(s=>s.id===n.id),allNodes:t})})]},n.id))})})}const $w=jn((e,t)=>({steps:[],currentIndex:-1,nextChoices:[],selectChoice:n=>{const{steps:s,currentIndex:r,nextChoices:i}=t(),o=i.find(c=>c.edid===n);if(!o)return;const l={id:o.edid,name:o.name,summary:o.description||"",meta:{tags:o.tags||[],levelRequirement:o.levelRequirement,lore:o.lore},node:o};e(c=>{const u=[...c.steps],d=c.currentIndex+1;return d<u.length&&u.splice(d,u.length-d),u.push(l),{steps:u,currentIndex:d,nextChoices:[]}})},jumpTo:n=>{const{steps:s}=t();n<0||n>=s.length||e(r=>({currentIndex:n,steps:r.steps.slice(0,n+1),nextChoices:[]}))},clear:()=>{e({steps:[],currentIndex:-1,nextChoices:[]})},setNextChoices:n=>{e({nextChoices:n})},hydrateFromQuery:n=>{try{const s=atob(n),r=JSON.parse(s);r.steps&&Array.isArray(r.steps)&&e({steps:r.steps,currentIndex:r.currentIndex||r.steps.length-1,nextChoices:r.nextChoices||[]})}catch(s){console.warn("Failed to hydrate from query:",s)}},toQuery:()=>{const{steps:n,currentIndex:s,nextChoices:r}=t(),i={steps:n,currentIndex:s,nextChoices:r.map(o=>o.edid)};try{return btoa(JSON.stringify(i))}catch(o){return console.warn("Failed to serialize to query:",o),""}}}));function DZ(){const{steps:e,currentIndex:t,nextChoices:n,selectChoice:s,jumpTo:r,clear:i}=$w(),o=t>=0&&t<e.length?e[t]:null,l=e.length,c=n.length===0,{nodes:u,rootNodes:d}=Fa(),[f,m]=g.useState(!1),[h,p]=g.useState(!1),[y,b]=g.useState(null),[v,x]=g.useState(!1);g.useEffect(()=>{const{setNextChoices:E}=$w.getState();if(t===-1)E(d);else if(o){const C=u.filter(T=>{var _;return(_=T.prerequisites)==null?void 0:_.includes(o.node.edid)});E(C)}else E([])},[t,o,u,d]);const w=E=>{s(E),p(!1),b(null)},j=E=>{b(E),p(!0)},N=()=>{t>0&&r(t-1)},k=E=>{r(E),m(!1)},S=()=>{i(),m(!1)};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx(NZ,{stepIndex:t,totalSteps:l,title:(o==null?void 0:o.name)??"Start Destiny",onBack:N,onOverview:()=>m(!0),onClear:S,canBack:t>0}),a.jsxs("main",{className:"flex-1 px-3 py-2 space-y-4",children:[o&&a.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-muted/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-px flex-1 bg-border"}),a.jsx("span",{className:"text-xs font-medium text-muted-foreground px-2",children:"CURRENT STEP"}),a.jsx("div",{className:"h-px flex-1 bg-border"})]}),a.jsx(SZ,{step:o,onChange:()=>x(!0)})]}),o&&!c&&n.length>0&&a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-px h-6 bg-primary/30"})}),!c&&n.length>0&&a.jsxs("section",{"aria-label":"Next choices",className:"space-y-3 p-3 rounded-lg bg-background border border-border",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-px flex-1 bg-border"}),a.jsx("span",{className:"text-xs font-medium text-muted-foreground px-2",children:t===-1?"CHOOSE STARTING DESTINY":"CHOOSE NEXT STEP"}),a.jsx("div",{className:"h-px flex-1 bg-border"})]}),a.jsxs("div",{className:"space-y-2",children:[n.slice(0,3).map(E=>a.jsx(kZ,{choice:E,onOpenDetails:()=>j(E),onSelect:()=>w(E.edid)},E.edid)),n.length>3&&a.jsx("div",{className:"text-center py-2",children:a.jsxs("span",{className:"text-sm text-muted-foreground",children:["+",n.length-3," more choices available"]})})]})]}),c&&l>0&&a.jsx(AZ,{steps:e,onRestart:()=>i(),onShare:()=>{}}),l===0&&n.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No destiny paths available. Please check your prerequisites."})})]}),a.jsx(CZ,{canBack:t>0,canNext:!1,onBack:N,onOverview:()=>m(!0)}),a.jsx(EZ,{open:f,steps:e,currentIndex:t,onJump:k,onClear:S,onClose:()=>m(!1)}),a.jsx(TZ,{open:h,choice:y,onSelect:()=>y&&w(y.edid),onClose:()=>{p(!1),b(null)}})]})}function LZ(e){return Ok("(min-width: 1024px)")?a.jsx(_Z,{...e}):a.jsx(DZ,{})}function zZ({items:e,filters:t=[]}){const[n,s]=g.useState(null),[r,i]=g.useState("grid"),[o,l]=g.useState({search:"",selectedFilters:{},selectedTags:[]}),c=g.useMemo(()=>{let p=e;if(o.search){const y=o.search.toLowerCase();p=p.filter(b=>b.name.toLowerCase().includes(y)||b.description.toLowerCase().includes(y)||b.tags.some(v=>v.toLowerCase().includes(y)))}return o.selectedTags.length>0&&(p=p.filter(y=>o.selectedTags.some(b=>y.tags.includes(b.value)||y.category===b.value||y.name.toLowerCase().includes(b.value.toLowerCase())))),p},[e,o]),u=g.useMemo(()=>t.length===0?[]:t.map(p=>({...p,options:p.options.map(y=>({...y,count:e.filter(b=>b.tags.includes(y.value)||b.category===y.value).length}))})),[t,e]),d=g.useCallback(p=>{s(p)},[]),f=g.useCallback(p=>{l(p)},[]),m=g.useCallback(p=>{l(y=>({...y,search:p}))},[]),h=g.useCallback(p=>{i(p)},[]);return{selectedItem:n,viewMode:r,currentFilters:o,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:f,handleSearch:m,handleViewModeChange:h,setSelectedItem:s}}function PZ(){const{build:e,setDestinyPath:t}=nt(),{nodes:n,isLoading:s,error:r}=Fa(),i=g.useMemo(()=>e.destinyPath.map(y=>n.find(b=>b.edid===y)).filter(y=>!!y),[e.destinyPath,n]),{currentPath:o}=U0({initialPath:i,validatePath:!0});$m({fromNode:o.length>0?o[o.length-1]:void 0});const l=hA({filterType:"reference"}),u=g.useMemo(()=>l.selectedFilters.length===0?n:n.filter(y=>l.selectedFilters.every(b=>{var v,x;switch(b.type){case"tags":return(v=y.tags)==null?void 0:v.includes(b.nodeName);case"prerequisites":return(x=y.prerequisites)==null?void 0:x.includes(b.nodeName);default:return!0}})),[n,l.selectedFilters]).map(y=>QB(y));zZ({items:u,filters:[]});const d=y=>{if(typeof y=="string")return;let b,v;if(y.category==="Tags")b="tags",v=y.id.replace(/^tag-/,"");else if(y.category==="Prerequisites")b="prerequisites",v=y.id.replace(/^prereq-/,"");else return;const x={id:y.id,type:b,nodeName:y.value,nodeId:v,label:y.label};l.addFilter(x)},f=y=>{l.removeFilter(y)},m=()=>{l.clearFilters()},h=y=>{const b=y.map(v=>v.edid);t(b)},p=y=>{const b=y.map(v=>v.edid);t(b)};return s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:r}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsx(Jt,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:a.jsx("div",{className:"mb-6",children:a.jsxs(Pa,{defaultValue:"path",className:"w-full",children:[a.jsxs($a,{className:"grid w-full grid-cols-2",children:[a.jsx(Ot,{value:"path",children:"Path Builder"}),a.jsx(Ot,{value:"reference",children:"Reference"})]}),a.jsxs(qt,{value:"reference",className:"space-y-4",children:[a.jsx(gA,{searchCategories:l.searchCategories,selectedFilters:l.selectedFilters,onFilterSelect:d,onFilterRemove:f,onClearFilters:m}),a.jsx("div",{className:"w-full",children:a.jsx(RZ,{items:u,allNodes:n})})]}),a.jsx(qt,{value:"path",className:"space-y-4",children:a.jsx(LZ,{currentPath:o,onPathChange:h,onPathComplete:p})})]})})})}function $Z(){const{data:e,loading:t,error:n}=Pk(),[s,r]=g.useState(null),[i,o]=g.useState(null),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState("alphabetical"),[h,p]=g.useState("grid"),[y,b]=g.useState("religions"),v=g.useMemo(()=>(e||[]).map(eE),[e]),x=g.useMemo(()=>v.map(EC),[v]),w=g.useMemo(()=>v.filter(L=>L.blessing&&L.blessing.effects.length>0),[v]),j=()=>{const L=[...new Set((e||[]).map($=>$.pantheon).filter(Boolean))],A=[...new Set(x.flatMap($=>$.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:L.map($=>({id:`pantheon-${$}`,label:$,value:$,category:"Pantheons",description:`Religions from ${$} pantheon`}))},...zn()?[{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:A.map($=>({id:`race-${$}`,label:$,value:$,category:"Favored Races",description:`Religions that favor ${$}`}))}]:[],{id:"religion-types",name:"Religion Types",placeholder:"Search by religion type...",options:[{id:"divine",label:"Divine",value:"Divine",category:"Religion Types",description:"Divine religions"},{id:"daedric",label:"Daedric",value:"Daedric",category:"Religion Types",description:"Daedric religions"},{id:"tribunal",label:"Tribunal",value:"Tribunal",category:"Religion Types",description:"Tribunal religions"},{id:"ancestor",label:"Ancestor",value:"Ancestor",category:"Religion Types",description:"Ancestor religions"}]}]},[N,k]=g.useState([]),S=g.useMemo(()=>{let L=v;return N.length>0&&(L=L.filter(A=>N.every($=>{var D;if($.category==="Pantheons"){const z=e==null?void 0:e.find(M=>M.name===A.name);return(z==null?void 0:z.pantheon)===$.value}return $.category==="Favored Races"?(D=A.favoredRaces)==null?void 0:D.includes($.value):$.category==="Religion Types"?A.type===$.value:!0}))),L.sort((A,$)=>{if(f==="alphabetical")return A.name.localeCompare($.name);if(f==="divine-type"){const D=R=>{switch(R){case"Divine":return 1;case"Daedric":return 2;case"Tribunal":return 3;case"Ancestor":return 4;default:return 5}},z=D(A.type),M=D($.type);return z!==M?z-M:A.name.localeCompare($.name)}return 0}),L},[v,N,f,e]),E=L=>{const A=typeof L=="string"?{id:L,label:L,value:L,category:"Custom"}:{id:L.id,label:L.label,value:L.value,category:L.category};k($=>[...$,A])},C=L=>{k(A=>A.filter($=>$.id!==L))},T=L=>{const A=v.find($=>$.name===L);A&&(r(A),c(!0))},_=L=>{o(L),d(!0)},O=L=>{switch(L){case"alphabetical":return"A-Z";case"divine-type":return"Type";default:return"A-Z"}};return t?a.jsx(Jt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-lg",children:"Loading religions..."})})}):n?a.jsx(Jt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-lg text-red-500",children:["Error loading religions: ",n]})})}):a.jsxs(Jt,{title:"Religions",description:"Choose your character's faith and divine blessings",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ia,{categories:j(),onSelect:E,onCustomSearch:E}),N.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>k([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(He,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map(L=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>C(L.id),title:"Click to remove",children:[L.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},L.id))]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(U,{variant:h==="grid"?"default":"outline",size:"sm",onClick:()=>p("grid"),className:"flex items-center gap-2",children:[a.jsx(Di,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(U,{variant:h==="list"?"default":"outline",size:"sm",onClick:()=>p("list"),className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Bi,{children:[a.jsx(Fi,{asChild:!0,children:a.jsxs(U,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",O(f),a.jsx(Rt,{className:"h-4 w-4"})]})}),a.jsxs(Oa,{children:[a.jsx(on,{onClick:()=>m("alphabetical"),children:"Alphabetical (A-Z)"}),a.jsx(on,{onClick:()=>m("divine-type"),children:"Religion Type"})]})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(Pa,{value:y,onValueChange:L=>b(L),children:[a.jsxs($a,{className:"grid w-full grid-cols-2",children:[a.jsxs(Ot,{value:"religions",children:["Religions (",S.length,")"]}),a.jsxs(Ot,{value:"blessings",children:["Blessings (",w.length,")"]})]}),a.jsxs(qt,{value:"religions",className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[S.length," religion",S.length!==1?"s":""," found"]})}),a.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:S.map(L=>a.jsx(QC,{originalReligion:L,onOpenDetails:T,showToggle:!0,className:h==="list"?"w-full":"h-full"},L.name))}),S.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-lg text-muted-foreground",children:"No religions found matching your criteria"}),a.jsx(U,{variant:"outline",onClick:()=>k([]),className:"mt-4",children:"Clear filters"})]})]}),a.jsxs(qt,{value:"blessings",className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.length," blessing",w.length!==1?"s":""," found"]})}),a.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:w.map(L=>a.jsx(DF,{religion:L,onClick:()=>_(L),showToggle:!1,className:h==="list"?"w-full":"h-full"},L.name))}),w.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-lg text-muted-foreground",children:"No blessings found matching your criteria"}),a.jsx(U,{variant:"outline",onClick:()=>k([]),className:"mt-4",children:"Clear filters"})]})]})]})}),a.jsx(JC,{religion:s,isOpen:l,onOpenChange:c}),a.jsx(OF,{religion:i,isOpen:u,onOpenChange:d})]})}const OZ="modulepreload",IZ=function(e){return"/lorerim-arcaneum/"+e},Ow={},fs=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=IZ(c),c in Ow)return;Ow[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":OZ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Iw(e){return e.map(t=>({id:`skill-${t.id}`,type:"skill",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...t.keyAbilities||[],...t.metaTags||[],t.scaling||""],originalData:t,url:`/build/perks?skill=${t.id}`}))}function Bw(e){return e.map(t=>({id:`race-${t.id}`,type:"race",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.source||"",...t.tags||[],...t.keywords||[]],originalData:t,url:"/races"}))}function Fw(e){return e.map(t=>{var n;return{id:`trait-${t.id}`,type:"trait",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...((n=t.effects)==null?void 0:n.map(s=>s.description||s.type))||[]],originalData:t,url:"/traits"}})}function Hw(e){const t=[];return e.forEach(n=>{var s,r,i,o,l,c,u,d,f,m,h,p,y,b,v;t.push({id:`religion-${n.id||n.name}`,type:"religion",name:n.name,description:((s=n.tenet)==null?void 0:s.description)||"",category:n.type||n.pantheon||"",tags:n.tags||[],searchableText:[n.name,((r=n.tenet)==null?void 0:r.description)||"",n.type||"",n.pantheon||"",...n.tags||[],...zn()?n.favoredRaces||[]:[],...n.worshipRestrictions||[],...((o=(i=n.tenet)==null?void 0:i.effects)==null?void 0:o.map(x=>x.effectName))||[],...((c=(l=n.blessing)==null?void 0:l.effects)==null?void 0:c.map(x=>x.effectName))||[],...((d=(u=n.boon1)==null?void 0:u.effects)==null?void 0:d.map(x=>x.effectName))||[],...((m=(f=n.boon2)==null?void 0:f.effects)==null?void 0:m.map(x=>x.effectName))||[]],originalData:n,url:"/religions"}),n.blessing&&n.blessing.effects.length>0&&t.push({id:`blessing-${n.id||n.name}`,type:"blessing",name:`Blessing of ${n.name}`,description:((h=n.blessing.effects[0])==null?void 0:h.effectDescription)||"",category:"Blessing",tags:n.tags||[],searchableText:[`Blessing of ${n.name}`,n.name,((p=n.blessing.effects[0])==null?void 0:p.effectDescription)||"",((y=n.blessing.effects[0])==null?void 0:y.effectName)||"",...((b=n.blessing.effects)==null?void 0:b.map(x=>x.effectName))||[],...((v=n.blessing.effects)==null?void 0:v.map(x=>x.effectDescription))||[],...n.tags||[],"blessing","divine","worship"],originalData:{...n,blessingOnly:!0},url:"/religions?tab=blessings"})}),t}function Uw(e){return e.map(t=>{var n,s;return{id:`birthsign-${t.id||t.edid}`,type:"birthsign",name:t.name,description:t.description,category:t.group,tags:t.tags||[],searchableText:[t.name,t.description||"",t.group||"",...t.tags||[],...((n=t.powers)==null?void 0:n.map(r=>r.name||r.description))||[],...((s=t.stat_modifications)==null?void 0:s.map(r=>r.stat))||[]],originalData:t,url:"/birthsigns"}})}function Vw(e){return e.map(t=>({id:`destiny-${t.id}`,type:"destiny",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.lore||"",...t.tags||[],...t.prerequisites||[]],originalData:t,url:"/destiny"}))}function Gw(e){return e.map(t=>{var n;return{id:`perk-${t.treeId||t.id}`,type:"perk",name:t.treeName||t.name,description:t.treeDescription||t.description,category:t.category,tags:t.tags||[],searchableText:[t.treeName||t.name,t.treeDescription||t.description||"",t.category||"",...t.tags||[],...((n=t.perks)==null?void 0:n.map(s=>s.name))||[]],originalData:t,url:"/build/perks"}})}function qw(e){return e.map(t=>{var n,s,r,i,o,l;return{id:`perk-ref-${t.edid}`,type:"perk-reference",name:t.name,description:((s=(n=t.ranks[0])==null?void 0:n.description)==null?void 0:s.base)||"",category:t.category,tags:t.tags,searchableText:[t.name,((i=(r=t.ranks[0])==null?void 0:r.description)==null?void 0:i.base)||"",((l=(o=t.ranks[0])==null?void 0:o.description)==null?void 0:l.subtext)||"",t.skillTreeName,t.category,...t.tags,...t.prerequisites,t.isRoot?"root perk":"branch perk",t.totalRanks>1?"multi-rank":"single-rank"],originalData:t,url:`/perk-references?skill=${t.skillTree}&perk=${t.edid}`}})}function Zw(e){return e.map(t=>({id:`spell-${t.editorId}`,type:"spell",name:t.name,description:t.description,category:t.school,tags:t.tags,searchableText:[t.name,t.description||"",t.school||"",t.level||"",t.tome||"",...t.tags,...t.effects.map(n=>n.name),...t.effects.map(n=>n.description),t.isAreaSpell?"area spell":"",t.isDurationSpell?"duration spell":"",t.isInstantSpell?"instant spell":"",`magicka cost ${t.magickaCost}`,`magnitude ${t.totalMagnitude}`,`duration ${t.maxDuration}`,`area ${t.maxArea}`].filter(Boolean),originalData:t,url:`/spells?spell=${t.editorId}`}))}function Yw(e){return e.map(t=>({id:`recipe-${t.name}`,type:"recipe",name:t.name,description:t.description,category:t.category,tags:t.tags,searchableText:[t.name,t.description||"",t.category||"",t.output||"",t.difficulty||"",t.type||"",...t.tags,...t.ingredients.map(n=>typeof n=="string"?n:n.name||n.item||""),...t.effects.map(n=>n.name),...t.effects.map(n=>n.description),`ingredients ${t.ingredientCount}`,`effects ${t.effectCount}`,`magnitude ${t.totalMagnitude}`,`duration ${t.maxDuration}`].filter(Boolean),originalData:t,url:`/cookbook?recipe=${encodeURIComponent(t.name)}`}))}function BZ(e){return{id:e.item.id,name:e.item.name,description:e.item.description||"",summary:e.item.description||"",tags:e.item.tags,category:e.item.category,imageUrl:void 0,effects:[],associatedItems:[],originalSearchResult:e}}function FZ(e){return e.map(t=>{var n,s;return{field:t.key||"unknown",snippet:t.value,startIndex:((n=t.indices[0])==null?void 0:n[0])||0,endIndex:((s=t.indices[0])==null?void 0:s[1])||0}})}function Xw(e){return e.map(t=>({id:`enchantment-${t.baseEnchantmentId}`,type:"enchantment",name:t.name,description:t.effects.map(n=>n.name).join(", "),category:t.category,tags:[t.targetType,...t.foundOnItems.map(n=>n.type),...t.tags],searchableText:[t.name,...t.effects.map(n=>`${n.name} ${n.description}`),...t.foundOnItems.map(n=>`${n.name} ${n.type}`),t.category,t.plugin,t.searchableText],originalData:t,url:"/enchantments"}))}class HZ{constructor(){ze(this,"searchIndex",null);ze(this,"isIndexing",!1);ze(this,"allSearchableItems",[]);ze(this,"indexedStores",new Set);ze(this,"fuseOptions",{keys:[{name:"name",weight:1},{name:"description",weight:.4},{name:"category",weight:.3},{name:"tags",weight:.4},{name:"searchableText",weight:.2}],threshold:.8,includeMatches:!0,includeScore:!0,minMatchCharLength:1,ignoreLocation:!0,useExtendedSearch:!0,findAllMatches:!0});ze(this,"transformSkillsToSearchable",Iw);ze(this,"transformRacesToSearchable",Bw);ze(this,"transformTraitsToSearchable",Fw);ze(this,"transformReligionsToSearchable",Hw);ze(this,"transformBirthsignsToSearchable",Uw);ze(this,"transformDestinyNodesToSearchable",Vw);ze(this,"transformPerkTreesToSearchable",Gw);ze(this,"transformPerkReferencesToSearchable",qw);ze(this,"transformRecipesToSearchable",Yw);ze(this,"transformSpellsToSearchable",Zw);ze(this,"transformEnchantmentsToSearchable",Xw)}async addToIndex(t,n){this.indexedStores.has(t)||(this.allSearchableItems.push(...n),this.indexedStores.add(t),this.searchIndex=new rn(this.allSearchableItems,this.fuseOptions))}hasIndexedData(){return this.allSearchableItems.length>0}rebuildSearchIndex(){this.allSearchableItems.length>0&&(this.searchIndex=new rn(this.allSearchableItems,this.fuseOptions))}async buildSearchIndex(){if(!this.isIndexing){this.isIndexing=!0;try{const{useSkillsStore:t}=await fs(async()=>{const{useSkillsStore:E}=await Promise.resolve().then(()=>cL);return{useSkillsStore:E}},[]),{useRacesStore:n}=await fs(async()=>{const{useRacesStore:E}=await Promise.resolve().then(()=>lL);return{useRacesStore:E}},void 0),{useTraitsStore:s}=await fs(async()=>{const{useTraitsStore:E}=await Promise.resolve().then(()=>LP);return{useTraitsStore:E}},void 0),{useReligionsStore:r}=await fs(async()=>{const{useReligionsStore:E}=await Promise.resolve().then(()=>DP);return{useReligionsStore:E}},void 0),{useBirthsignsStore:i}=await fs(async()=>{const{useBirthsignsStore:E}=await Promise.resolve().then(()=>TP);return{useBirthsignsStore:E}},void 0),{useDestinyNodesStore:o}=await fs(async()=>{const{useDestinyNodesStore:E}=await Promise.resolve().then(()=>RP);return{useDestinyNodesStore:E}},void 0),{usePerkTreesStore:l}=await fs(async()=>{const{usePerkTreesStore:E}=await Promise.resolve().then(()=>oL);return{usePerkTreesStore:E}},void 0),{useRecipesStore:c}=await fs(async()=>{const{useRecipesStore:E}=await Promise.resolve().then(()=>t8);return{useRecipesStore:E}},void 0),{SpellDataProvider:u}=await fs(async()=>{const{SpellDataProvider:E}=await Promise.resolve().then(()=>n8);return{SpellDataProvider:E}},void 0),{EnchantmentDataProvider:d}=await fs(async()=>{const{EnchantmentDataProvider:E}=await import("./EnchantmentDataProvider-beE5zKHH.js");return{EnchantmentDataProvider:E}},[]),f=t.getState().data,m=n.getState().data,h=s.getState().data,p=r.getState().data,y=i.getState().data,b=o.getState().data,v=l.getState().data,x=c.getState().data,j=await u.getInstance().loadSpells(),k=await d.getInstance().loadEnchantments();if(!(f!=null&&f.length)||!(m!=null&&m.length)||!(h!=null&&h.length)||!(p!=null&&p.length)||!(y!=null&&y.length)||!(b!=null&&b.length)||!(v!=null&&v.length)||!(x!=null&&x.length)||!(j!=null&&j.length)||!(k!=null&&k.length))throw new Error("Store data not available - stores must be loaded before building search index");const S=[...Iw(f),...Bw(m),...Fw(h),...Hw(p),...Uw(y),...Vw(b),...Gw(v),...Yw(x),...Zw(j),...Xw(k)];this.allSearchableItems=S,this.searchIndex=new rn(S,this.fuseOptions)}catch(t){throw console.error("Failed to build search index:",t),t}finally{this.isIndexing=!1}}}async addPerkReferencesToIndex(t){if(this.indexedStores.has("perk-references"))return;const n=qw(t);this.allSearchableItems.push(...n),this.indexedStores.add("perk-references"),this.searchIndex=new rn(this.allSearchableItems,this.fuseOptions)}search(t,n){if(!this.searchIndex)return[];if(!t.trim()||t.trim()==="*"){let d=this.allSearchableItems;return n&&(d=this.applyFilters(d,n)),d.map(f=>({item:f,score:1,matches:[],highlights:[]}))}if(!this.searchIndex)return console.warn("Search index not ready, returning empty results"),[];const r=t.includes(" | ")||t.includes(" & ")||t.includes("!")?[]:this.allSearchableItems.filter(d=>d.name.toLowerCase()===t.toLowerCase()),i=this.searchIndex.search(t),o=new Set(r.map(d=>d.id)),l=[...r.map(d=>({item:d,score:0,matches:[]})),...i.filter(d=>!o.has(d.item.id))];let c=l;return n&&(l.length,c=l.filter(d=>{const f=d.item;return this.applyFilters([f],n).length>0}),c.length),c.map(d=>({item:d.item,score:d.score||0,matches:[...d.matches||[]],highlights:FZ([...d.matches||[]])}))}applyFilters(t,n){return t.filter(s=>{var r,i,o,l,c,u,d;if(n.types.length>0&&!n.types.includes(s.type)||n.categories.length>0&&s.category&&!n.categories.includes(s.category))return!1;if(n.tags.length>0){const f=s.tags.map(p=>p.toLowerCase());if(!n.tags.map(p=>p.toLowerCase()).some(p=>f.some(y=>y.includes(p)||p.includes(y))))return!1}if(s.type==="skill"&&((r=n.skillCategories)!=null&&r.length)&&(!s.category||!n.skillCategories.includes(s.category))||s.type==="race"&&((i=n.raceTypes)!=null&&i.length)&&(!s.category||!n.raceTypes.includes(s.category))||s.type==="trait"&&((o=n.traitTypes)!=null&&o.length)&&(!s.category||!n.traitTypes.includes(s.category))||s.type==="religion"&&((l=n.religionTypes)!=null&&l.length)&&(!s.category||!n.religionTypes.includes(s.category))||s.type==="birthsign"&&((c=n.birthsignGroups)!=null&&c.length)&&(!s.category||!n.birthsignGroups.includes(s.category))||s.type==="spell"&&((u=n.spellSchools)!=null&&u.length)&&(!s.category||!n.spellSchools.includes(s.category)))return!1;if(s.type==="spell"&&((d=n.spellLevels)!=null&&d.length)){const f=s.originalData;if(!f.level||!n.spellLevels.includes(f.level))return!1}return!0})}getAvailableFilters(){const t=new Map,n=new Map,s=new Map;return this.allSearchableItems.forEach(r=>{const i=t.get(r.type)||0;if(t.set(r.type,i+1),r.category){const o=n.get(r.category)||0;n.set(r.category,o+1)}r.tags.forEach(o=>{const l=s.get(o)||0;s.set(o,l+1)})}),{types:Array.from(t.entries()).map(([r,i])=>({value:r,label:r.charAt(0).toUpperCase()+r.slice(1),count:i})),categories:Array.from(n.entries()).map(([r,i])=>({value:r,label:r,count:i})),tags:Array.from(s.entries()).map(([r,i])=>({value:r,label:r,count:i}))}}getSearchableItems(){return this.allSearchableItems}isReady(){return this.searchIndex!==null&&!this.isIndexing}isLoading(){return this.isIndexing}}const UZ={skill:{label:"Skill",icon:"",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},race:{label:"Race",icon:"",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},trait:{label:"Trait",icon:"",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},religion:{label:"Religion",icon:"",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},birthsign:{label:"Birthsign",icon:"",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},destiny:{label:"Destiny",icon:"",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},perk:{label:"Perk",icon:"",color:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"}};function VZ({type:e,className:t,variant:n="default"}){const s=UZ[e]||{label:e.charAt(0).toUpperCase()+e.slice(1),icon:"",color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return n==="default"?a.jsxs(q,{className:I("inline-flex items-center gap-1 px-2 py-1 text-xs font-medium",s.color,t),children:[a.jsx("span",{children:s.icon}),a.jsx("span",{children:s.label})]}):a.jsxs(q,{variant:n,className:I("inline-flex items-center gap-1",t),children:[a.jsx("span",{children:s.icon}),a.jsx("span",{children:s.label})]})}function GZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){return a.jsxs(ge,{className:I("transition-all hover:shadow-md",t),expanded:n,onToggle:s,children:[a.jsx(ge.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(VZ,{type:e.type})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:e.name}),e.category&&a.jsx(q,{variant:"outline",className:"text-xs",children:e.category})]})})]})}),a.jsxs(ge.Summary,{children:[e.description&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((i,o)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:i},`${i}-${o}`)),e.tags.length>3&&a.jsxs(q,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-3]})]})]}),a.jsxs(ge.Details,{children:[e.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"All Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((i,o)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:i},`${i}-${o}`))})]}),e.description&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})]})}function Ui(e,t){return e?e.find(s=>{const r=!!s.id&&s.id===t.id,i=!!s.edid&&s.edid===t.edid,o=!!s.treeId&&s.treeId===t.treeId,l=!!s.name&&s.name===t.name;return r||i||o||l}):void 0}function qZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=Pi(l=>l.data),o=Ui(i,e.originalData);return o?a.jsx(xf,{originalBirthsign:o,isExpanded:n,onToggle:s,className:t,showToggle:!1}):(console.error("Birthsign not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalBirthsignsInStore:i.length,firstFewBirthsigns:i.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}function ZZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=Cl(l=>l.data),o=Ui(i,e.originalData);return o?a.jsxs(ge,{className:t,expanded:n,onToggle:s,children:[a.jsx(ge.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:o.icon?a.jsx("img",{src:o.icon,alt:o.name,className:"w-6 h-6 object-contain"}):a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),a.jsx(ge.Summary,{children:o.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description})}),a.jsxs(ge.Details,{children:[o.effects&&o.effects.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Effects"}),a.jsx("div",{className:"space-y-1",children:o.effects.map((l,c)=>a.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",l]},c))})]}),o.tags&&o.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]})]})]}):(console.error("Destiny node not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalDestinyNodesInStore:i.length,firstFewDestinyNodes:i.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}class YZ{constructor(t){ze(this,"perkNodes",[]);this.perkNodes=this.transformPerkTrees(t)}transformPerkTrees(t){const n=[];return t.forEach(s=>{s.perks.forEach(r=>{var o,l,c,u,d;const i={...r,skillTree:s.treeId,skillTreeName:s.treeName,isRoot:r.isRoot||!1,hasChildren:(((l=(o=r.connections)==null?void 0:o.children)==null?void 0:l.length)||0)>0,prerequisites:((c=r.connections)==null?void 0:c.parents)||[],connections:{parents:((u=r.connections)==null?void 0:u.parents)||[],children:((d=r.connections)==null?void 0:d.children)||[]},searchableText:this.generateSearchableText(r,s),tags:this.generateTags(r,s),category:this.determineCategory(s.treeName),minLevel:this.calculateMinLevel(r)};n.push(i)})}),n}calculateMinLevel(t){var s,r;let n=0;if(t.ranks&&t.ranks.length>0&&t.ranks.forEach(i=>{var o,l;(l=(o=i.prerequisites)==null?void 0:o.skillLevel)!=null&&l.level&&(n=Math.max(n,i.prerequisites.skillLevel.level))}),n===0)if(t.isRoot)n=1;else{const i=((r=(s=t.connections)==null?void 0:s.parents)==null?void 0:r.length)||0;n=Math.max(1,i*5)}return n}generateSearchableText(t,n){var r,i;return[t.name,(r=t.ranks)==null?void 0:r.map(o=>{var l;return(l=o.description)==null?void 0:l.base}).join(" "),(i=t.ranks)==null?void 0:i.map(o=>{var l;return(l=o.description)==null?void 0:l.subtext}).join(" "),n.treeName,this.determineCategory(n.treeName)].filter(Boolean).join(" ").toLowerCase()}generateTags(t,n){var i,o,l,c;const s=[n.treeName,this.determineCategory(n.treeName),t.isRoot?"root":"branch",t.totalRanks>1?"multi-rank":"single-rank"];((o=(i=t.connections)==null?void 0:i.parents)==null?void 0:o.length)>0&&s.push("has-prerequisites"),((c=(l=t.connections)==null?void 0:l.children)==null?void 0:c.length)>0&&s.push("has-children");const r=this.calculateMinLevel(t);return r>0&&s.push(`level-${r}+`),s}determineCategory(t){return{Alchemy:"Magic",Alteration:"Magic",Conjuration:"Magic",Destruction:"Magic",Illusion:"Magic",Restoration:"Magic",Archery:"Combat",Block:"Combat","Heavy Armor":"Combat","One Handed":"Combat",Smithing:"Combat","Two Handed":"Combat","Light Armor":"Stealth",Lockpicking:"Stealth",Pickpocket:"Stealth",Sneak:"Stealth",Speech:"Stealth",Enchanting:"Crafting"}[t]||"Other"}getAllPerks(){return this.perkNodes}getPerksBySkill(t){return this.perkNodes.filter(n=>n.skillTree===t)}getPerksByCategory(t){return this.perkNodes.filter(n=>n.category===t)}getPerksByPrerequisite(t){return this.perkNodes.filter(n=>n.prerequisites.includes(t))}getRootPerks(){return this.perkNodes.filter(t=>t.isRoot)}getMultiRankPerks(){return this.perkNodes.filter(t=>t.totalRanks>1)}searchPerks(t){const n=t.toLowerCase();return this.perkNodes.filter(s=>s.searchableText.includes(n)||s.name.toLowerCase().includes(n)||s.tags.some(r=>r.toLowerCase().includes(n)))}}function pA(){const{data:e,loading:t,error:n}=D0(),s=g.useMemo(()=>e?new YZ(e):null,[e]),r=g.useMemo(()=>(s==null?void 0:s.getAllPerks())||[],[s]);return{dataProvider:s,allPerks:r,loading:t,error:n}}function Qm(){const{dataProvider:e,allPerks:t,loading:n,error:s}=pA(),r=g.useMemo(()=>{const h=new Map;return t.forEach(p=>{h.has(p.skillTree)||h.set(p.skillTree,{id:p.skillTree,name:p.skillTreeName,count:0});const y=h.get(p.skillTree);y.count++}),Array.from(h.values()).sort((p,y)=>p.name.localeCompare(y.name))},[t]),i=g.useMemo(()=>{const h=new Map;return t.forEach(p=>{h.has(p.category)||h.set(p.category,{name:p.category,count:0});const y=h.get(p.category);y.count++}),Array.from(h.values()).sort((p,y)=>p.name.localeCompare(y.name))},[t]),o=g.useMemo(()=>{const h=new Set;return t.forEach(p=>{p.tags.forEach(y=>h.add(y))}),Array.from(h).sort()},[t]),l=g.useMemo(()=>t.filter(h=>h.isRoot),[t]),c=g.useMemo(()=>t.filter(h=>h.totalRanks>1),[t]),u=g.useMemo(()=>t.filter(h=>h.totalRanks===1),[t]),d=g.useMemo(()=>h=>(e==null?void 0:e.getPerksBySkill(h))||[],[e]),f=g.useMemo(()=>h=>(e==null?void 0:e.getPerksByCategory(h))||[],[e]),m=g.useMemo(()=>h=>(e==null?void 0:e.searchPerks(h))||[],[e]);return{allPerks:t,skillTrees:r,categories:i,tags:o,rootPerks:l,multiRankPerks:c,singleRankPerks:u,getPerksBySkill:d,getPerksByCategory:f,searchPerks:m,loading:n,error:s,dataProvider:e}}const XZ={skill:{Alchemy:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Alteration:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Archery:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200",Block:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Conjuration:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Destruction:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Enchanting:"bg-indigo-100 text-indigo-800 border-indigo-200 hover:bg-indigo-200","Heavy Armor":"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",Illusion:"bg-pink-100 text-pink-800 border-pink-200 hover:bg-pink-200","Light Armor":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200",Lockpicking:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200","One-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Pickpocket:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Restoration:"bg-teal-100 text-teal-800 border-teal-200 hover:bg-teal-200",Smithing:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Sneak:"bg-slate-100 text-slate-800 border-slate-200 hover:bg-slate-200",Speech:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200","Two-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200"},category:{Combat:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Crafting:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Survival:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Social:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200"},rank:{"1 rank":"bg-blue-100 text-blue-800 border-blue-200","2 ranks":"bg-green-100 text-green-800 border-green-200","3 ranks":"bg-purple-100 text-purple-800 border-purple-200","4 ranks":"bg-orange-100 text-orange-800 border-orange-200","5 ranks":"bg-red-100 text-red-800 border-red-200"},availability:{Available:"bg-green-100 text-green-800 border-green-200",Unavailable:"bg-red-100 text-red-800 border-red-200","Prerequisites Met":"bg-blue-100 text-blue-800 border-blue-200","Prerequisites Missing":"bg-gray-100 text-gray-800 border-gray-200"},level:{"Level 1+":"bg-green-100 text-green-800 border-green-200","Level 5+":"bg-blue-100 text-blue-800 border-blue-200","Level 10+":"bg-purple-100 text-purple-800 border-purple-200","Level 15+":"bg-orange-100 text-orange-800 border-orange-200","Level 20+":"bg-red-100 text-red-800 border-red-200","Level 25+":"bg-indigo-100 text-indigo-800 border-indigo-200","Level 30+":"bg-pink-100 text-pink-800 border-pink-200","Level 35+":"bg-teal-100 text-teal-800 border-teal-200","Level 40+":"bg-cyan-100 text-cyan-800 border-cyan-200","Level 45+":"bg-emerald-100 text-emerald-800 border-emerald-200","Level 50+":"bg-amber-100 text-amber-800 border-amber-200"},root:{Root:"bg-gold-100 text-gold-800 border-gold-200 hover:bg-gold-200"}},WZ={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},KZ="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function Rn({label:e,type:t,size:n="md",className:s}){const i=XZ[t][e]||KZ;return a.jsx(q,{variant:"outline",className:I(i,WZ[n],"font-medium transition-colors",s),children:e})}function QZ({item:e,className:t,isExpanded:n=!1,onToggle:s,disableHover:r=!1,viewMode:i="grid"}){const o=e.originalPerk,{allPerks:l}=Qm();if(!o)return null;const u=(d=>d.map(f=>{const m=l.find(h=>h.edid===f);return(m==null?void 0:m.name)||f}))(o.prerequisites);return a.jsxs(ge,{className:t,expanded:n,onToggle:s,disableHover:r,children:[a.jsxs(ge.Header,{children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsx("div",{className:"flex-1 min-w-0",children:i==="grid"?a.jsxs("div",{className:"space-y-1",children:[a.jsx(je,{className:"text-primary font-semibold truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.skillTreeName&&a.jsx(Rn,{label:o.skillTreeName,type:"skill",size:"sm"}),o.totalRanks>1&&a.jsx(Rn,{label:`${o.totalRanks} ranks`,type:"rank",size:"sm"}),o.minLevel&&a.jsx(Rn,{label:`Level ${o.minLevel}+`,type:"level",size:"sm"})]})]}):a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(je,{className:"text-primary font-semibold truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.skillTreeName&&a.jsx(Rn,{label:o.skillTreeName,type:"skill",size:"sm"}),o.totalRanks>1&&a.jsx(Rn,{label:`${o.totalRanks} ranks`,type:"rank",size:"sm"}),o.minLevel&&a.jsx(Rn,{label:`Level ${o.minLevel}+`,type:"level",size:"sm"})]})]})})]}),a.jsxs(ge.Summary,{children:[a.jsx(ve,{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((d,f)=>a.jsx(q,{variant:"outline",className:"text-xs",children:d},f)),e.tags.length>3&&a.jsxs(Ps,{className:"text-muted-foreground",children:["+",e.tags.length-3," more"]})]})]}),a.jsxs(ge.Details,{children:[o.prerequisites&&o.prerequisites.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Prerequisites"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:u.map((d,f)=>a.jsx(q,{variant:"secondary",className:"text-xs",children:d},f))})]}),o.ranks&&o.ranks.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Perk Ranks"}),a.jsx("div",{className:"space-y-2",children:o.ranks.map((d,f)=>{var m;return a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsx("div",{className:"flex items-center justify-between mb-1",children:a.jsxs("span",{className:"font-medium text-sm",children:["Rank ",f+1]})}),((m=d.description)==null?void 0:m.base)&&a.jsx(ve,{className:"text-sm text-muted-foreground",children:d.description.base})]},f)})})]}),e.tags.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((d,f)=>a.jsx(q,{variant:"outline",className:"text-xs",children:d},f))})]})]})]})}function xA(e,t){var o,l,c,u,d,f;const n=((l=(o=t.perks)==null?void 0:o.selected)==null?void 0:l[e.skillTree])||[],s=((u=(c=t.perks)==null?void 0:c.ranks)==null?void 0:u[e.skillTree])||{},r=n.includes(e.edid),i=s[e.edid]||0;return{id:e.edid,name:e.name,description:((f=(d=e.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:e.category,tags:e.tags,isSelected:r,originalPerk:e,skillTree:e.skillTree,skillTreeName:e.skillTreeName,isRoot:e.isRoot,hasChildren:e.hasChildren,prerequisites:e.prerequisites,connections:e.connections,totalRanks:e.totalRanks,currentRank:i,isAvailable:e.isRoot||e.prerequisites.every(m=>n.includes(m)),minLevel:e.minLevel}}function JZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const{build:i}=nt(),{allPerks:o}=Qm(),l=e.originalData,c=o.find(f=>f.edid===(l==null?void 0:l.edid));if(!c)return console.warn("Perk reference not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData}),null;const d={...xA(c,i),originalPerk:c};return a.jsx(QZ,{item:d,className:t,isExpanded:n,onToggle:s,viewMode:r})}function eY({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){var c;const i=zi(u=>u.data),o=Ui(i,e.originalData);if(!o)return console.error("Perk tree not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalPerkTreesInStore:i.length,firstFewPerkTrees:i.slice(0,3).map(u=>({treeId:u.treeId,treeName:u.treeName||u.name}))}),null;const l=((c=o.perks)==null?void 0:c.length)||0;return a.jsxs(ge,{className:t,expanded:n,onToggle:s,children:[a.jsx(ge.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:(o.treeName||o.name).charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:o.treeName||o.name}),o.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),a.jsxs(ge.Summary,{children:[o.treeDescription&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.treeDescription}),l>0&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[a.jsx("span",{className:"font-medium",children:"Perks:"})," ",l," total"]})]}),a.jsxs(ge.Details,{children:[o.perks&&o.perks.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Sample Perks"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.perks.slice(0,6).map((u,d)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:u.name},`${u.edid}-${d}`)),o.perks.length>6&&a.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded text-muted-foreground",children:["+",o.perks.length-6," more"]})]})]}),o.tags&&o.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((u,d)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded",children:u},`${u}-${d}`))})]})]})]})}function tY({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=bs(c=>c.data),o=Ui(i,e.originalData);if(!o)return console.error("Race not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalRacesInStore:i.length,firstFewRaces:i.slice(0,3).map(c=>({edid:c.edid,name:c.name}))}),null;const l={id:o.id||o.edid||o.name,name:o.name,description:o.description||"",summary:o.description||"",category:o.category||"",tags:o.tags||[],type:"race",effects:[]};return a.jsx("div",{className:t,children:a.jsx(bu,{item:{...l,originalRace:o},isExpanded:n,onToggle:s,showToggle:!1,disableHover:!1,className:"w-full"})})}function nY({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=El(h=>h.data),[o,l]=g.useState(null),[c,u]=g.useState(!1),d=Ui(i,e.originalData);if(!d)return console.error("Religion not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalReligionsInStore:i.length,firstFewReligions:i.slice(0,3).map(h=>({id:h.id,name:h.name}))}),null;const f=eE(d),m=h=>{l(f),u(!0)};return a.jsxs("div",{className:t,children:[a.jsx(QC,{originalReligion:f,className:"w-full",onOpenDetails:m,showToggle:!0}),a.jsx(JC,{religion:o,isOpen:c,onClose:()=>u(!1)})]})}function sY({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=Da(l=>l.data),o=Ui(i,e.originalData);return o?a.jsxs(ge,{className:t,expanded:n,onToggle:s,children:[a.jsx(ge.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),a.jsxs(ge.Summary,{children:[o.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description}),o.keyAbilities&&o.keyAbilities.length>0&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[a.jsx("span",{className:"font-medium",children:"Key abilities:"})," ",o.keyAbilities.slice(0,2).join(", "),o.keyAbilities.length>2&&"..."]})]}),a.jsxs(ge.Details,{children:[o.tags&&o.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]}),o.keyAbilities&&o.keyAbilities.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Key Abilities"}),a.jsx("div",{className:"space-y-1",children:o.keyAbilities.map((l,c)=>a.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",l]},c))})]})]})]}):(console.error("Skill not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalSkillsInStore:i.length,firstFewSkills:i.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}function rY({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=$i(l=>l.data),o=Ui(i,e.originalData);return o?a.jsxs(ge,{className:t,expanded:n,onToggle:s,children:[a.jsx(ge.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),a.jsx(ge.Summary,{children:o.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description})}),a.jsxs(ge.Details,{children:[o.tags&&o.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]}),o.description&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]})]})]}):(console.error("Trait not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalTraitsInStore:i.length,firstFewTraits:i.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}const aY={Destruction:wl,Restoration:Ys,Conjuration:Ux,Illusion:bl,Alteration:at,"":xs},iY={Novice:"bg-green-100 text-green-800 border-green-200",Apprentice:"bg-blue-100 text-blue-800 border-blue-200",Adept:"bg-purple-100 text-purple-800 border-purple-200",Expert:"bg-orange-100 text-orange-800 border-orange-200",Master:"bg-red-100 text-red-800 border-red-200"};function oY({spell:e,className:t,isExpanded:n=!1,onToggle:s,disableHover:r=!1}){var l;const i=aY[e.school]||xs,o=()=>{s==null||s()};return a.jsxs(ge,{className:t,expanded:n,onToggle:o,disableHover:r,children:[a.jsx(ge.Header,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(i,{className:"w-5 h-5 text-muted-foreground"}),a.jsx("h3",{className:"text-primary font-semibold text-lg",children:e.name}),a.jsx("span",{className:"ml-auto transition-transform duration-200 text-muted-foreground",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8l4 4 4-4"})})})]})}),a.jsx(ge.Summary,{children:a.jsxs("div",{className:"px-4 py-2 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 7v14"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"})]}),a.jsx("span",{children:e.school})]}),a.jsx(q,{variant:"secondary",className:iY[e.level]||"",children:e.level})]}),a.jsx(Me,{text:e.description,className:"text-sm text-muted-foreground mb-3",as:"p"})]})}),a.jsx(ge.Details,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.hasEffects&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Effects"}),a.jsx("div",{className:"space-y-2",children:e.effects.map((c,u)=>a.jsxs("div",{className:"p-2 rounded bg-muted border text-sm",children:[a.jsx(Me,{text:c.description,className:"text-muted-foreground mb-2",as:"p"}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[c.magnitude>0&&a.jsxs("span",{children:["Magnitude: ",c.magnitude]}),c.duration>0&&a.jsxs("span",{children:["Duration: ",c.duration,"s"]}),c.area>0&&a.jsxs("span",{children:["Area: ",c.area,"ft"]})]})]},u))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Magicka Cost:"}),a.jsxs("span",{className:"font-medium",children:[e.magickaCost," MP"]})]}),e.totalMagnitude>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Magnitude:"}),a.jsx("span",{className:"font-medium",children:e.totalMagnitude})]}),e.maxDuration>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Max Duration:"}),a.jsxs("span",{className:"font-medium",children:[e.maxDuration,"s"]})]}),e.maxArea>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Max Area:"}),a.jsxs("span",{className:"font-medium",children:[e.maxArea,"ft"]})]})]})]}),(e.tome||((l=e.vendors)==null?void 0:l.length))&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Additional Info"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[e.tome&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tome:"}),a.jsx("span",{children:e.tome})]}),e.vendors&&e.vendors.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Vendors:"}),a.jsx("span",{children:e.vendors.join(", ")})]})]})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((c,u)=>a.jsx(q,{variant:"outline",className:"text-xs",children:c},u))})]})]})})]})}const lY=({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="card"})=>{const i=e.originalData;if(!i)return console.warn("SpellSearchCard: Missing spell data for item:",e),a.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[a.jsx("h3",{className:"font-semibold",children:"Spell not found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});if(!i.name||!i.editorId)return console.warn("SpellSearchCard: Invalid spell data structure:",i),a.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[a.jsx("h3",{className:"font-semibold",children:"Invalid spell data"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});const o=P.useCallback(()=>{s&&s()},[s]);return a.jsx(oY,{spell:i,isExpanded:n,onToggle:o,className:t})},cY=({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"})=>{const i=e.originalData;if(!i||!i.name)return console.warn("RecipeSearchCard: Missing or invalid recipe data for item:",e),a.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[a.jsx("h3",{className:"font-semibold",children:"Recipe not found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});const o=We.addComputedProperties(i),l=P.useCallback(()=>{s&&s()},[s]);return a.jsx(xv,{recipe:o,variant:r==="list"?"compact":"default",isSelected:!1,onClick:l,showEffects:!0,showIngredients:!0,className:t})},uY={category:{"Standard Enchantments (Touch)":"bg-blue-100 text-blue-800 border-blue-200","Standard Enchantments (Self)":"bg-green-100 text-green-800 border-green-200"},targetType:{touch:"bg-red-100 text-red-800 border-red-200",self:"bg-purple-100 text-purple-800 border-purple-200"},itemType:{weapon:"bg-orange-100 text-orange-800 border-orange-200",armor:"bg-indigo-100 text-indigo-800 border-indigo-200"}},dY={category:{"Standard Enchantments (Touch)":"","Standard Enchantments (Self)":""},targetType:{touch:"",self:""},itemType:{weapon:"",armor:""}},fY={category:{},targetType:{touch:"Weapon",self:"Armor"},itemType:{}},Ww={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"},Is=P.memo(({type:e,value:t,size:n="md",variant:s="default",className:r})=>{const i=uY[e],o=dY[e],l=fY[e],c=i[t]||"bg-gray-100 text-gray-800 border-gray-200",u=o[t]||"",d=l[t]||t;return s==="outline"?a.jsxs(q,{variant:"outline",className:I(Ww[n],"inline-flex items-center gap-1",r),children:[a.jsx("span",{children:u}),a.jsx("span",{children:d})]}):a.jsxs("span",{className:I("inline-flex items-center gap-1 rounded-full border font-medium",Ww[n],c,r),children:[a.jsx("span",{children:u}),a.jsx("span",{children:d})]})}),mY=P.memo(({effect:e,className:t,showDescription:n=!0,compact:s=!1})=>a.jsxs("div",{className:I("space-y-1",t),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xs,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:e.name})]}),n&&a.jsx("div",{className:"pl-5",children:a.jsx(Me,{text:e.description,options:o0(),className:"text-sm text-muted-foreground"})})]})),_f=P.memo(({effects:e,title:t="Effects",className:n,showDescriptions:s=!0,compact:r=!1,maxDisplay:i=3})=>{if(e.length===0)return a.jsx("div",{className:I("text-sm text-muted-foreground",n),children:"No effects"});const o=e.slice(0,i),l=e.length>i;return a.jsxs("div",{className:I("space-y-2",n),children:[t&&a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(xs,{className:"h-4 w-4"}),t]}),a.jsxs("div",{className:I("space-y-2",r?"text-sm":"text-base"),children:[o.map((c,u)=>a.jsx("div",{className:"p-2 rounded bg-muted border",children:a.jsx(mY,{effect:c,showDescription:s,compact:r})},`${c.name}-${u}`)),l&&a.jsxs("div",{className:"text-sm text-muted-foreground italic",children:["+",e.length-i," more effects"]})]})]})}),hY={weapon:"",armor:""},zp=P.memo(({items:e,title:t="Found Items",className:n,maxItems:s=5,showType:r=!0,compact:i=!1})=>{if(e.length===0)return a.jsx("div",{className:I("text-sm text-muted-foreground",n),children:"No items found"});const o=e.slice(0,s),l=e.length>s;return a.jsxs("div",{className:I("space-y-2",n),children:[t&&a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(d1,{className:"h-4 w-4"}),t,a.jsxs("span",{className:"text-xs text-muted-foreground/70",children:["(",e.length,")"]})]}),a.jsxs("div",{className:I("space-y-1"),children:[o.map((c,u)=>a.jsxs("div",{className:I("flex items-center gap-2 p-2 rounded bg-muted border",i?"text-xs":"text-sm"),children:[a.jsx("span",{className:"text-muted-foreground",children:hY[c.type]}),a.jsx("span",{className:"font-medium text-foreground flex-1",children:c.name}),r&&a.jsx(Is,{type:"itemType",value:c.type,size:"sm",variant:"outline"})]},`${c.name}-${u}`)),l&&a.jsxs("div",{className:"text-sm text-muted-foreground italic",children:["+",e.length-s," more items"]})]})]})});function Kw(e,t){if(!t.trim())return e;const n=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.replace(n,'<mark class="bg-yellow-200 dark:bg-yellow-800">$1</mark>')}function gY({item:e,searchTerm:t="",isExpanded:n=!1,onToggle:s,viewMode:r="grid",className:i}){const o=e.originalData,l=t?Kw(o.name,t):o.name,c=o.effects.length>0?t?Kw(o.effects.map(d=>d.name).join(", "),t):o.effects.map(d=>d.name).join(", "):void 0,u=()=>{window.location.href=`/enchantments?selected=${o.baseEnchantmentId}`};return r==="list"?a.jsx(ue,{className:I("cursor-pointer hover:shadow-md transition-shadow border-l-4 border-l-blue-500",i),onClick:u,children:a.jsxs(fe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"text-lg",children:""}),a.jsx("h4",{className:"font-medium text-sm truncate",dangerouslySetInnerHTML:{__html:l}}),a.jsx(Is,{type:"targetType",value:o.targetType,size:"sm"}),a.jsxs(q,{variant:"outline",className:"text-xs",children:[o.effectCount," effects"]})]}),c&&a.jsx("p",{className:"text-xs text-muted-foreground mb-2",dangerouslySetInnerHTML:{__html:c}}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:o.category}),a.jsx("span",{children:""}),a.jsx("span",{children:o.plugin}),a.jsx("span",{children:""}),a.jsxs("span",{children:[o.itemCount," items"]})]})]}),a.jsx(U,{variant:"ghost",size:"sm",className:"ml-2",onClick:d=>{d.stopPropagation(),s==null||s()},children:n?a.jsx(Ec,{className:"h-4 w-4"}):a.jsx(Rt,{className:"h-4 w-4"})})]}),n&&a.jsxs("div",{className:"mt-4 space-y-3 pt-4 border-t",children:[o.effects.length>0&&a.jsx(_f,{effects:o.effects,title:"Effects",compact:!0,showDescriptions:!1,maxDisplay:3}),a.jsx(zp,{items:o.foundOnItems,title:"Found on",compact:!0,showType:!0,maxItems:3})]})]})}):a.jsxs(ue,{className:I("cursor-pointer hover:shadow-md transition-shadow",i),onClick:u,children:[a.jsx(be,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(_e,{className:"text-lg",dangerouslySetInnerHTML:{__html:l}}),c&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",dangerouslySetInnerHTML:{__html:c}})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx(Is,{type:"targetType",value:o.targetType}),a.jsxs(q,{variant:"outline",className:"text-xs",children:[o.effectCount," effects"]})]})]})}),a.jsx(fe,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[o.effects.length>0&&a.jsx(_f,{effects:o.effects,title:"Effects",compact:!0,showDescriptions:!1,maxDisplay:2}),a.jsx(zp,{items:o.foundOnItems,title:"Found on",compact:!0,showType:!0,maxItems:3}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:o.category}),a.jsx("span",{children:""}),a.jsx("span",{children:o.plugin}),a.jsx("span",{children:""}),a.jsxs("span",{children:[o.itemCount," items"]})]}),s&&a.jsx(U,{variant:"ghost",size:"sm",className:"w-full mt-2",onClick:d=>{d.stopPropagation(),s()},children:n?a.jsxs(a.Fragment,{children:[a.jsx(Ec,{className:"h-4 w-4 mr-1"}),"Show Less"]}):a.jsxs(a.Fragment,{children:[a.jsx(Rt,{className:"h-4 w-4 mr-1"}),"Show More"]})})]})})]})}function Qw({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){switch(e.type){case"race":return a.jsx(tY,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"skill":return a.jsx(sY,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"trait":return a.jsx(rY,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"birthsign":return a.jsx(qZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"destiny":return a.jsx(ZZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"religion":return a.jsx(nY,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"perk":return a.jsx(eY,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"spell":return a.jsx(lY,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"perk-reference":return a.jsx(JZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"recipe":return a.jsx(cY,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"enchantment":return a.jsx(gY,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});default:return a.jsx(GZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r})}}function pY({item:e}){return a.jsx("div",{className:`w-full border-2 rounded-lg p-4 ${e.color} transition-all duration-200 hover:shadow-lg`,style:{minHeight:`${e.height}px`},"data-testid":`test-card-${e.id}`,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:e.title}),a.jsxs("span",{className:"text-xs text-gray-500",children:["#",e.id.slice(-6)]})]}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((t,n)=>a.jsx("span",{className:"px-2 py-1 text-xs bg-white/50 rounded-full text-gray-700 border",children:t},n))}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Height: ",e.height,"px"]})]})})}const Jw={Alteration:tD,Conjuration:Ux,Destruction:wl,Illusion:bl,Restoration:Ys,Mysticism:xs},xY={Alteration:"bg-blue-500 text-white",Conjuration:"bg-purple-500 text-white",Destruction:"bg-red-500 text-white",Illusion:"bg-indigo-500 text-white",Restoration:"bg-green-500 text-white",Mysticism:"bg-yellow-500 text-white"},ej={Novice:1,Apprentice:2,Adept:3,Expert:4,Master:5},vY={sm:"w-6 h-6 text-sm",md:"w-8 h-8 text-base",lg:"w-10 h-10 text-lg",xl:"w-12 h-12 text-xl","2xl":"w-16 h-16 text-2xl"},yY={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"};let ig=null;function bY(){return ig||(ig=new HZ),ig}function vv(){const[e,t]=g.useState(!1),[n,s]=g.useState(!1),[r,i]=g.useState(null),o=Da(N=>N.data),l=bs(N=>N.data),c=$i(N=>N.data),u=El(N=>N.data),d=Pi(N=>N.data),f=Cl(N=>N.data),m=zi(N=>N.data),h=mr(N=>N.data),p=uo(N=>N.data),{allPerks:y}=pA(),b=bY(),v=g.useCallback(async(N,k,S)=>{if(k!=null&&k.length)try{const E=S(k);await b.addToIndex(N,E)}catch(E){console.error(`Failed to index ${N}:`,E)}},[b]);g.useEffect(()=>{o!=null&&o.length&&v("skills",o,b.transformSkillsToSearchable)},[o,v]),g.useEffect(()=>{l!=null&&l.length&&v("races",l,b.transformRacesToSearchable)},[l,v]),g.useEffect(()=>{c!=null&&c.length&&v("traits",c,b.transformTraitsToSearchable)},[c,v]),g.useEffect(()=>{u!=null&&u.length&&v("religions",u,b.transformReligionsToSearchable)},[u,v]),g.useEffect(()=>{d!=null&&d.length&&v("birthsigns",d,b.transformBirthsignsToSearchable)},[d,v]),g.useEffect(()=>{f!=null&&f.length&&v("destinyNodes",f,b.transformDestinyNodesToSearchable)},[f,v]),g.useEffect(()=>{m!=null&&m.length&&v("perkTrees",m,b.transformPerkTreesToSearchable)},[m,v]),g.useEffect(()=>{h!=null&&h.length&&v("recipes",h,b.transformRecipesToSearchable)},[h,v]),g.useEffect(()=>{y!=null&&y.length&&v("perk-references",y,b.transformPerkReferencesToSearchable)},[y,v]),g.useEffect(()=>{p!=null&&p.length&&v("spells",p,b.transformSpellsToSearchable)},[p,v]),g.useEffect(()=>{((o==null?void 0:o.length)||(l==null?void 0:l.length)||(c==null?void 0:c.length)||(u==null?void 0:u.length)||(d==null?void 0:d.length)||(f==null?void 0:f.length)||(m==null?void 0:m.length)||(h==null?void 0:h.length)||(y==null?void 0:y.length)||(p==null?void 0:p.length))&&b.hasIndexedData()&&(b.rebuildSearchIndex(),t(!0))},[o,l,c,u,d,f,m,h,y,p,b]);const x=g.useCallback((N,k)=>N.trim()?b.search(N,k):[],[b]),w=g.useCallback(()=>b.getAvailableFilters(),[b]),j=g.useCallback(()=>b.getSearchableItems(),[b]);return{isReady:e,isIndexing:n,error:r,search:x,getAvailableFilters:w,getSearchableItems:j}}function yv(){const{activeFilters:e,selectedTags:t,viewMode:n,setActiveFilters:s,updateActiveFilters:r,addTag:i,removeTag:o,removeTagByValue:l,clearAllTags:c,setViewMode:u,hasTag:d,getTagsByCategory:f,getFuzzySearchTags:m,getFilterTags:h,clearAllSearchState:p}=zk(),y=g.useMemo(()=>m().map(S=>S.value).join(" "),[m]),b=g.useMemo(()=>t.length>0,[t]),v=g.useCallback(k=>{let S;typeof k=="string"?S={id:`custom-${k}`,label:k,value:k,category:Ze.FUZZY_SEARCH}:S={id:`${k.category}-${k.id}`,label:k.label,value:k.value,category:k.category},i(S)},[i]),x=g.useCallback(k=>{o(k)},[o]),w=g.useCallback(()=>{c()},[c]),j=g.useCallback(k=>{u(k)},[u]),N=g.useCallback(()=>{c()},[c]);return{activeFilters:e,selectedTags:t,viewMode:n,fuzzySearchQuery:y,hasActiveFilters:b,setActiveFilters:s,updateActiveFilters:r,addTag:i,removeTag:o,removeTagByValue:l,clearAllTags:c,setViewMode:u,handleTagSelect:v,handleTagRemove:x,handleClearFilters:w,handleViewModeChange:j,hasTag:d,getTagsByCategory:f,getFuzzySearchTags:m,getFilterTags:h,clearFilters:N}}function bv(){const{search:e,getAvailableFilters:t,isReady:n,getSearchableItems:s}=vv(),{activeFilters:r}=yv(),i=g.useMemo(()=>s().length,[s]),o=g.useMemo(()=>{if(!n)return[];if(!(r.tags.length>0||r.types.length>0||r.categories.length>0))return s().map(p=>({item:p,score:1,matches:[],highlights:[]}));const d=r.tags.join(" | "),f={...r,tags:[]};return e(d||"*",f)},[n,e,r,s]),l=g.useMemo(()=>n?t():{types:[],categories:[],tags:[]},[n,t,i]),c=g.useMemo(()=>{const u={};return o.forEach(d=>{const f=d.item.type;u[f]=(u[f]||0)+1,d.item.category&&(u[`category:${d.item.category}`]=(u[`category:${d.item.category}`]||0)+1),d.item.tags.forEach(m=>{u[`tag:${m}`]=(u[`tag:${m}`]||0)+1})}),u},[o]);return{searchResults:o,availableFilters:l,resultCounts:c}}const tj=50;function wY(e){const[t,n]=g.useState(1),s=g.useMemo(()=>{const c=t*tj;return e.slice(0,c)},[e,t]);g.useEffect(()=>{n(1)},[e]);const r=g.useMemo(()=>s.length<e.length,[s.length,e.length]),i=g.useCallback(()=>{r&&n(c=>c+1)},[r]),o=g.useCallback(()=>{n(1)},[]),l=g.useMemo(()=>({displayedItems:s.length,totalItems:e.length,hasMore:r,currentPage:t,itemsPerPage:tj}),[s.length,e.length,r,t]);return{displayedItems:s,loadMore:i,resetPagination:o,paginationInfo:l,hasMore:r}}function jY(){const{searchResults:e,resultCounts:t}=bv();yv();const{displayedItems:n,loadMore:s,resetPagination:r,paginationInfo:i,hasMore:o}=wY(e),l=g.useMemo(()=>n,[n]),c=g.useMemo(()=>NY(l,"relevance"),[l]),u=g.useMemo(()=>c.map(BZ),[c]),d=g.useMemo(()=>e.length,[e]),f=g.useMemo(()=>{const m={};return n.forEach(h=>{const p=h.item.type;m[p]||(m[p]=[]),m[p].push(h)}),m},[n]);return{filteredResults:l,sortedResults:c,playerCreationItems:u,resultCounts:t,totalResults:d,resultsByType:f,loadMore:s,resetPagination:r,paginationInfo:i,hasMore:o}}function NY(e,t){const n=[...e];switch(t){case"relevance":return n;case"name":return n.sort((s,r)=>s.item.name.localeCompare(r.item.name));case"type":return n.sort((s,r)=>{const i=s.item.type.localeCompare(r.item.type);return i!==0?i:s.item.name.localeCompare(r.item.name)});default:return n}}function SY({activeFilters:e,onFiltersChange:t,onClearFilters:n,availableFilters:s,resultCount:r,onTagSelect:i,onTagRemove:o,selectedTags:l,className:c}){const u=e.types.length>0||e.categories.length>0||e.tags.length>0,d=h=>{const p=e.types.includes(h)?e.types.filter(y=>y!==h):[...e.types,h];t({types:p})},m=[{id:"fuzzy-search",name:"Search All",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Filter by category...",options:(s.categories||[]).filter(h=>h&&typeof h.label=="string").map(h=>({id:`category-${h.value}`,label:String(h.label),value:h.value,category:"Categories",description:`${h.count} item${h.count!==1?"s":""}`}))},{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:(s.tags||[]).filter(h=>h&&typeof h.label=="string").map(h=>({id:`tag-${h.value}`,label:String(h.label),value:h.value,category:"Tags",description:`${h.count} item${h.count!==1?"s":""}`}))}];return a.jsxs("div",{className:I("space-y-4",c),children:[a.jsx("div",{className:"space-y-2",children:a.jsx(Ia,{categories:m,onSelect:i,onCustomSearch:i})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"text-sm font-medium",children:"Record Types"})}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.types.map(h=>a.jsxs(U,{variant:e.types.includes(h.value)?"default":"outline",size:"sm",onClick:()=>d(h.value),className:"text-xs",children:[h.label,a.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",h.count,")"]})]},h.value))})]}),l.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Active Filters"}),a.jsx(U,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear All"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(h=>a.jsxs(q,{variant:"secondary",className:"text-xs",children:[h.category,": ",h.label,a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>o(h.id),className:"h-4 w-4 p-0 ml-1 hover:bg-transparent",children:a.jsx(He,{className:"h-3 w-3"})})]},h.id))})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[r," result",r!==1?"s":""," found"]}),u&&a.jsx(U,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear Filters"})]})]})}function vA({items:e,keyExtractor:t,renderItem:n,loadMore:s,hasMore:r=!0,columns:i=3,gap:o=12,maxColumnWidth:l,className:c=""}){const[u,d]=g.useState(0),f=g.useRef(null),m=g.useRef(null),h=g.useCallback(()=>l&&u>0?Math.max(1,Math.floor(u/l)):i,[i,l,u]);g.useEffect(()=>{const y=()=>{f.current&&d(f.current.offsetWidth)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),g.useEffect(()=>{if(!s||!r||!m.current)return;const y=new IntersectionObserver(b=>{b.forEach(v=>{v.isIntersecting&&s&&s()})},{threshold:.1,rootMargin:"0px 0px 4000px 0px"});return y.observe(m.current),()=>y.disconnect()},[s,r]);const p=g.useCallback(()=>{const y=h(),b=Array.from({length:y},()=>[]);return e.forEach((v,x)=>{const w=x%y,j=t(v);b[w].push(a.jsx("div",{style:{width:"100%",marginBottom:`${o}px`},children:n(v)},j))}),b.map((v,x)=>a.jsx("div",{style:{width:`calc(${100/y}% - ${o/2}px)`,marginRight:x<y-1?`${o}px`:0},children:v},x))},[e,t,n,h,o]);return e.length===0?a.jsx("div",{className:`text-center py-12 ${c}`,children:a.jsx("p",{className:"text-muted-foreground",children:"No items to display"})}):a.jsxs("div",{ref:f,className:c,children:[a.jsx("div",{style:{display:"flex",width:"100%"},children:p()}),r&&s&&a.jsx("div",{ref:m,className:"w-full h-16 mt-16",style:{minHeight:"64px"}})]})}function kY({items:e,className:t,viewMode:n="grid",onViewModeChange:s,onLoadMore:r,hasMore:i=!0,paginationInfo:o}){const[l,c]=g.useState(new Set);g.useEffect(()=>{if(n==="grid"){const d=new Set(e.map(f=>f.id));c(d)}},[n,e]);const u=d=>{if(n==="grid")return;const f=new Set(l);f.has(d)?f.delete(d):f.add(d),c(f)};return e.length===0?a.jsx("div",{className:`text-center py-12 ${t}`,children:a.jsx("p",{className:"text-muted-foreground",children:"No results found"})}):a.jsxs("div",{className:t,children:[s&&a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-sm text-muted-foreground",children:o?a.jsxs(a.Fragment,{children:["Showing ",o.displayedItems," of ",o.totalItems," result",o.totalItems!==1?"s":"",o.hasMore&&a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Scroll to load more)"})]}):`${e.length} result${e.length!==1?"s":""} found`})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(U,{variant:n==="grid"?"default":"outline",size:"sm",onClick:()=>s("grid"),className:"flex items-center gap-2",children:[a.jsx(j3,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(U,{variant:n==="list"?"default":"outline",size:"sm",onClick:()=>s("list"),className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"h-4 w-4"}),"List"]})]})]}),n==="grid"?a.jsx(vA,{items:e,keyExtractor:d=>d.id,renderItem:d=>a.jsx(Qw,{item:d,isExpanded:!0,onToggle:()=>{},viewMode:"grid"}),columns:3,gap:16,maxColumnWidth:400,loadMore:r,hasMore:i}):a.jsxs("div",{className:"space-y-2",children:[e.map(d=>{const f=l.has(d.id);return a.jsx(Qw,{item:d,isExpanded:f,onToggle:()=>u(d.id),viewMode:"list"},d.id)}),i&&r&&a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs(U,{variant:"outline",onClick:r,className:"w-full max-w-xs",children:["Load More (",(o==null?void 0:o.displayedItems)||0," of ",(o==null?void 0:o.totalItems)||0,")"]})})]})]})}function CY(){const e=tt(),{lastSearchQuery:t,setLastSearchQuery:n,clearLastSearchQuery:s,addTag:r,clearAllTags:i}=zk(),o=g.useCallback(u=>{if(!u.trim())return;n(u);const d={id:`custom-${u}`,label:u,value:u,category:Ze.FUZZY_SEARCH};r(d),e("/search")},[e,n,r]),l=g.useCallback(u=>{n(u);const d={id:`type-${u}`,label:u,value:u,category:Ze.TYPES};r(d),e("/search")},[e,n,r]),c=g.useCallback(u=>{typeof u=="string"?o(u):u.id.startsWith("type-")?l(u.value):o(u.value)},[o,l]);return{lastSearchQuery:t,navigateToSearch:o,navigateToSearchWithType:l,handleSearchSelect:c,clearLastSearchQuery:s}}function EY({className:e,placeholder:t="Search skills, races, traits, religions..."}){const{isReady:n}=vv(),{availableFilters:s}=bv(),{handleSearchSelect:r}=CY(),o=[{id:"fuzzy-search",name:"Search All",placeholder:t,options:s.types.map(l=>({id:`type-${l.value}`,label:l.label,value:l.value,category:"Search All",description:`${l.count} ${l.label}${l.count!==1?"s":""}`}))}];return n?a.jsx("div",{className:I("flex items-center gap-2",e),children:a.jsx("div",{className:"flex-1",children:a.jsx(Lk,{categories:o,onSelect:r,onCustomSearch:r,placeholder:t})})}):a.jsx("div",{className:I("flex items-center gap-2",e),children:a.jsx("div",{className:"flex-1 h-10 bg-muted animate-pulse rounded-md"})})}function og({title:e,description:t,children:n}){return a.jsxs("div",{className:"bg-background",children:[a.jsx("div",{className:"border-b border-border bg-card/50",children:a.jsxs("div",{className:"container mx-auto px-4 py-6",children:[a.jsx(za,{className:"text-3xl font-bold text-primary mb-2",children:e}),t&&a.jsx(ve,{className:"text-muted-foreground max-w-2xl",children:t})]})}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:n})]})}function TY(){const{isReady:e,isIndexing:t,error:n}=vv(),{activeFilters:s,selectedTags:r,viewMode:i,setActiveFilters:o,handleTagSelect:l,handleTagRemove:c,handleClearFilters:u,handleViewModeChange:d}=yv(),{availableFilters:f}=bv(),{filteredResults:m,totalResults:h,loadMore:p,resetPagination:y,paginationInfo:b,hasMore:v}=jY();if(g.useEffect(()=>{y()},[s,y]),!e)return a.jsx(og,{title:"Search",description:"Building search index...",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[t?a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}):null,a.jsx("p",{className:"text-muted-foreground",children:t?"Building search index...":"Loading search..."})]})})});if(n)return a.jsx(og,{title:"Search",description:"Error loading search",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load search: ",n]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"text-primary hover:underline",children:"Try again"})]})})});const x=r.length>0?"Search Results":"Search",w=r.length>0?`Found ${h} result${h!==1?"s":""} for ${r.length} filter${r.length!==1?"s":""}`:"Search across all skills, races, traits, religions, birthsigns, destiny nodes, and perk references";return a.jsxs(a.Fragment,{children:[a.jsxs(og,{title:x,description:w,children:[a.jsx("div",{className:"mb-6",children:a.jsx(SY,{activeFilters:s,onFiltersChange:o,onClearFilters:u,availableFilters:f,resultCount:h,onTagSelect:l,onTagRemove:c,selectedTags:r})}),a.jsx("div",{className:"w-full",children:a.jsx(kY,{items:m.map(j=>j.item),viewMode:i,onViewModeChange:d,onLoadMore:p,hasMore:v,paginationInfo:b})})]}),a.jsx(m8,{threshold:400})]})}function AY(){return a.jsx(TY,{})}const nj=["bg-red-100 border-red-300","bg-blue-100 border-blue-300","bg-green-100 border-green-300","bg-yellow-100 border-yellow-300","bg-purple-100 border-purple-300","bg-pink-100 border-pink-300","bg-indigo-100 border-indigo-300","bg-gray-100 border-gray-300"],sj=["Mystical Artifact","Ancient Scroll","Enchanted Weapon","Potion of Power","Crystal Shard","Runic Tablet","Magical Tome","Arcane Relic","Divine Essence","Ethereal Fragment"],rj=["A powerful artifact imbued with ancient magic.","Scroll containing forgotten spells and rituals.","Weapon blessed by the gods themselves.","Brew that grants temporary supernatural abilities.","Crystal that resonates with magical energy.","Tablet inscribed with mysterious runes.","Book of forbidden knowledge and power.","Relic from a bygone era of magic.","Essence of divine power and wisdom.","Fragment of pure ethereal energy."],_Y=["magic","ancient","powerful","rare","legendary","enchanted","divine","mystical","forbidden","sacred"];function aj(e){const t=[];for(let n=0;n<e;n++){const s=`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=Math.floor(Math.random()*200)+100,i=nj[Math.floor(Math.random()*nj.length)],o=sj[Math.floor(Math.random()*sj.length)],l=rj[Math.floor(Math.random()*rj.length)],c=[],u=Math.floor(Math.random()*3)+1,d=[..._Y].sort(()=>.5-Math.random());c.push(...d.slice(0,u)),t.push({id:s,title:o,description:l,height:r,color:i,tags:c})}return t}function MY(){const[e,t]=P.useState(()=>aj(50)),[n,s]=P.useState(!1),[r,i]=P.useState(!0),o=P.useCallback(async()=>{if(n||!r)return;s(!0),await new Promise(d=>setTimeout(d,500));const u=aj(20);t(d=>[...d,...u]),e.length+u.length>=200&&i(!1),s(!1)},[n,r,e.length]),l=u=>u.id,c=u=>a.jsx(pY,{item:u});return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"VirtualMasonryGrid Demo"}),a.jsxs("p",{className:"text-muted-foreground",children:["Testing InfiniteGrid implementation with ",e.length," items"]}),n&&a.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Loading more items..."}),!r&&a.jsx("div",{className:"mt-2 text-sm text-green-600",children:"All items loaded (200 total)"})]}),a.jsx(vA,{items:e,keyExtractor:l,renderItem:c,loadMore:o,hasMore:r,columns:3,gap:16,className:"min-h-screen"})]})}function wv(){const[e,t]=g.useState({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[n,s]=g.useState({skills:[],categories:[],prerequisites:[],tags:[]});g.useCallback(h=>{s(h)},[]);const r=g.useCallback(h=>{t(p=>({...p,skills:[...p.skills,h]}))},[]),i=g.useCallback(h=>{t(p=>({...p,skills:p.skills.filter(y=>y!==h)}))},[]);g.useCallback(h=>{t(p=>({...p,categories:[...p.categories,h]}))},[]),g.useCallback(h=>{t(p=>({...p,categories:p.categories.filter(y=>y!==h)}))},[]),g.useCallback(h=>{t(p=>({...p,prerequisites:[...p.prerequisites,h]}))},[]),g.useCallback(h=>{t(p=>({...p,prerequisites:p.prerequisites.filter(y=>y!==h)}))},[]),g.useCallback(h=>{t(p=>({...p,tags:[...p.tags,h]}))},[]);const o=g.useCallback(h=>{t(p=>({...p,tags:p.tags.filter(y=>y!==h)}))},[]);g.useCallback(h=>{t(p=>({...p,rankLevel:h}))},[]),g.useCallback(h=>{t(p=>({...p,rootOnly:h}))},[]);const l=g.useCallback(h=>{t(p=>({...p,minLevel:h}))},[]),c=g.useCallback(h=>{t(p=>({...p,searchQuery:h}))},[]),u=g.useCallback(()=>{t({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0})},[]),d=g.useMemo(()=>{const h=[];return e.skills.forEach(p=>{const y=n.skills.find(b=>b.id===p);y&&h.push({id:`skill-${p}`,type:"skill",value:p,label:y.name})}),e.categories.forEach(p=>{h.push({id:`category-${p}`,type:"category",value:p,label:p})}),e.prerequisites.forEach(p=>{h.push({id:`prerequisite-${p}`,type:"prerequisite",value:p,label:p})}),e.tags.forEach(p=>{h.push({id:`tag-${p}`,type:"tag",value:p,label:p})}),e.rankLevel!=="all"&&h.push({id:"rank-level",type:"rankLevel",value:e.rankLevel,label:e.rankLevel==="single"?"Single Rank":"Multi Rank"}),e.rootOnly&&h.push({id:"root-only",type:"rootOnly",value:"true",label:"Root Perks Only"}),e.minLevel!==void 0&&h.push({id:"min-level",type:"minLevel",value:e.minLevel.toString(),label:`Level ${e.minLevel}+`}),h},[e,n]);g.useMemo(()=>{const h=[];return n.skills.forEach(p=>{h.push({id:`skill-${p.id}`,label:p.name,value:p.id,category:"Skills",type:"skill"})}),n.tags.forEach(p=>{h.push({id:`tag-${p}`,label:p,value:p,category:"Tags",type:"tag"})}),h},[n]);const f=g.useCallback(h=>{if(typeof h=="string")c(h);else if(`${h.category}${h.id}`,h.label,h.value,h.category,h.category==="Skill Trees")r(h.value);else if(h.category==="Minimum Level"){const p=parseInt(h.value);isNaN(p)||l(p)}else h.category==="Fuzzy Search"&&c(h.value)},[r,c,l]),m=g.useCallback(h=>{const p=d.find(y=>y.id===h);if(p)p.type==="skill"?i(p.value):p.type==="tag"?o(p.value):p.type==="minLevel"&&l(void 0);else if(h.startsWith("custom-")){const y=h.replace("custom-","");e.searchQuery===y&&c("")}},[d,i,o,l,e.searchQuery,c]);return{selectedTags:[...d.map(h=>({id:h.id,label:h.label,value:h.value,category:h.type})),...e.searchQuery?[{id:`custom-${e.searchQuery}`,label:e.searchQuery,value:e.searchQuery,category:"Fuzzy Search"}]:[]],viewMode:"grid",searchQuery:e.searchQuery,onTagSelect:f,onTagRemove:m,onClearTags:u,onViewModeChange:()=>{},onSearchChange:c}}class RY{constructor(t,n){ze(this,"perkNodes");ze(this,"buildState");this.perkNodes=t,this.buildState=n}transformToPlayerCreationItem(t){var o,l,c,u,d,f;const n=((l=(o=this.buildState.perks)==null?void 0:o.selected)==null?void 0:l[t.skillTree])||[],s=((u=(c=this.buildState.perks)==null?void 0:c.ranks)==null?void 0:u[t.skillTree])||{},r=n.includes(t.edid),i=s[t.edid]||0;return{id:t.edid,name:t.name,description:((f=(d=t.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:t.category,tags:t.tags,isSelected:r,originalPerk:t,skillTree:t.skillTree,skillTreeName:t.skillTreeName,isRoot:t.isRoot,hasChildren:t.hasChildren,prerequisites:t.prerequisites,connections:t.connections,totalRanks:t.totalRanks,currentRank:i,isAvailable:this.isPerkAvailable(t),minLevel:t.minLevel}}isPerkAvailable(t){var s,r;if(t.isRoot)return!0;const n=((r=(s=this.buildState.perks)==null?void 0:s.selected)==null?void 0:r[t.skillTree])||[];return t.prerequisites.every(i=>n.includes(i))}applyFilters(t,n){let s=[...t];if(!n)return s;if(n.skills&&n.skills.length>0&&(s=s.filter(r=>n.skills.includes(r.skillTree))),n.categories&&n.categories.length>0&&(s=s.filter(r=>n.categories.includes(r.category))),n.prerequisites&&n.prerequisites.length>0&&(s=s.filter(r=>n.prerequisites.some(i=>r.prerequisites.includes(i)))),n.tags&&n.tags.length>0&&(s=s.filter(r=>n.tags.some(i=>r.tags.includes(i)))),n.minLevel!==void 0&&(s=s.filter(r=>(r.minLevel||0)>=n.minLevel)),n.rankLevel!=="all"&&(s=s.filter(r=>n.rankLevel==="single"?r.totalRanks===1:n.rankLevel==="multi"?r.totalRanks>1:!0)),n.rootOnly&&(s=s.filter(r=>r.isRoot)),n.searchQuery&&n.searchQuery.trim()){const r=n.searchQuery.trim(),i=s.map(u=>{var d,f;return{id:u.edid,name:u.name,description:((f=(d=u.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",searchableText:u.searchableText,tags:u.tags,category:u.category,skillTree:u.skillTreeName,originalNode:u}}),o={keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0};s=new rn(i,o).search(r).map(u=>u.item.originalNode)}return s}getAvailableFilters(t){const n=new Set,s=new Set,r=new Set,i=new Set;return t.forEach(o=>{n.add(o.skillTree),s.add(o.category),o.tags.forEach(l=>r.add(l)),o.prerequisites.forEach(l=>i.add(l))}),{skills:Array.from(n),categories:Array.from(s),tags:Array.from(r),prerequisites:Array.from(i)}}sortPerks(t,n="name"){const s=[...t];switch(n){case"name":return s.sort((r,i)=>r.name.localeCompare(i.name));case"skill":return s.sort((r,i)=>r.skillTreeName.localeCompare(i.skillTreeName));case"category":return s.sort((r,i)=>r.category.localeCompare(i.category));case"rank":return s.sort((r,i)=>i.totalRanks-r.totalRanks);case"prerequisites":return s.sort((r,i)=>r.prerequisites.length-i.prerequisites.length);default:return s}}}function DY(e,t){const{build:n}=nt(),s=g.useMemo(()=>new RY(e,n),[e,n]),r=g.useMemo(()=>s.applyFilters(e,t||{skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[s,e,t]),i=g.useMemo(()=>r.map(l=>s.transformToPlayerCreationItem(l)),[r,s]),o=g.useMemo(()=>s.getAvailableFilters(e),[s,e]);return{model:s,filteredNodes:r,perkItems:i,availableFilters:o}}function LY(){const{allPerks:e,skillTrees:t,categories:n,tags:s,loading:r,error:i}=Qm(),{selectedTags:o,searchQuery:l}=wv(),c=g.useMemo(()=>{const y=o.filter(w=>w.category==="skill").map(w=>w.value),b=o.filter(w=>w.category==="tag").map(w=>w.value),v=o.filter(w=>w.category==="minLevel").map(w=>parseInt(w.value)).find(w=>!isNaN(w));return{skills:y,categories:[],prerequisites:[],tags:b,rankLevel:"all",rootOnly:!1,searchQuery:l||"",minLevel:v}},[o,l]),{filteredNodes:u,perkItems:d,availableFilters:f}=DY(e,c),m=g.useMemo(()=>{const y=[...new Set(e.map(x=>x.skillTreeName))],b=[...new Set(e.flatMap(x=>x.tags))],v=[...new Set(e.map(x=>x.minLevel||0))].sort((x,w)=>x-w);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:b.map(x=>({id:`keyword-${x}`,label:x,value:x,category:"Fuzzy Search",description:`Perks with ${x} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:y.map(x=>({id:`skill-${x}`,label:x,value:x,category:"Skill Trees",description:`Perks from ${x} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:v.map(x=>({id:`level-${x}`,label:`Level ${x}+`,value:x.toString(),category:"Minimum Level",description:`Perks requiring level ${x} or higher`}))}]},[e]),h=g.useMemo(()=>({totalPerks:e.length,filteredPerks:u.length,rootPerks:e.filter(y=>y.isRoot).length,multiRankPerks:e.filter(y=>y.totalRanks>1).length,singleRankPerks:e.filter(y=>y.totalRanks===1).length,skills:t.length,categories:n.length,tags:s.length}),[e,u,t,n,s]),p=g.useMemo(()=>{const y=new Map;return d.forEach(b=>{y.has(b.skillTree)||y.set(b.skillTree,[]),y.get(b.skillTree).push(b)}),Array.from(y.entries()).map(([b,v])=>{var x;return{skillId:b,skillName:((x=v[0])==null?void 0:x.skillTreeName)||b,perks:v,count:v.length}}).sort((b,v)=>b.skillName.localeCompare(v.skillName))},[d]);return g.useMemo(()=>{const y=new Map;return d.forEach(b=>{y.has(b.category||"")||y.set(b.category||"",[]),y.get(b.category||"").push(b)}),Array.from(y.entries()).map(([b,v])=>({category:b,perks:v,count:v.length})).sort((b,v)=>(b.category||"").localeCompare(v.category||""))},[d]),g.useMemo(()=>d.filter(y=>y.isSelected),[d]),g.useMemo(()=>d.filter(y=>y.isAvailable),[d]),g.useMemo(()=>d.filter(y=>y.isRoot),[d]),g.useMemo(()=>d.filter(y=>y.totalRanks>1),[d]),g.useMemo(()=>d.filter(y=>y.totalRanks===1),[d]),g.useMemo(()=>(y,b="name")=>{const v=[...y];switch(b){case"name":return v.sort((x,w)=>x.name.localeCompare(w.name));case"skill":return v.sort((x,w)=>x.skillTreeName.localeCompare(w.skillTreeName));case"category":return v.sort((x,w)=>(x.category||"").localeCompare(w.category||""));case"rank":return v.sort((x,w)=>w.totalRanks-x.totalRanks);case"prerequisites":return v.sort((x,w)=>x.prerequisites.length-w.prerequisites.length);case"selected":return v.sort((x,w)=>Number(w.isSelected)-Number(x.isSelected));default:return v}},[]),{filteredItems:d,groupedItems:Object.fromEntries(p.map(y=>[y.skillId,y.perks])),stats:{totalPerks:h.totalPerks,skillTrees:h.skills,multiRank:h.multiRankPerks,singleRank:h.singleRankPerks,withPrerequisites:e.filter(y=>y.prerequisites&&y.prerequisites.length>0).length},searchCategories:m,availableFilters:f,isLoading:r,error:i}}function zY({perk:e,isOpen:t,onOpenChange:n}){var s,r;return e?a.jsx(Hi,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-2xl font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Rn,{label:e.skillTreeName,type:"skill",size:"sm"}),e.totalRanks>1&&a.jsx(Rn,{label:`${e.totalRanks} ranks`,type:"rank",size:"sm"}),e.minLevel&&a.jsx(Rn,{label:`Level ${e.minLevel}+`,type:"level",size:"sm"}),a.jsx(os,{itemId:e.edid,itemType:"perk",itemName:e.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:((r=(s=e.ranks[0])==null?void 0:s.description)==null?void 0:r.base)||"No description available."})]})]})}),a.jsxs("div",{className:"space-y-6",children:[e.prerequisites&&e.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Prerequisites"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.prerequisites.map((i,o)=>a.jsx(q,{variant:"secondary",className:"text-sm",children:i},o))})]}),e.ranks&&e.ranks.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Perk Ranks"}),a.jsx("div",{className:"space-y-3",children:e.ranks.map((i,o)=>{var l,c,u;return a.jsxs("div",{className:"p-4 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"font-medium text-sm",children:["Rank ",o+1]}),((c=(l=i.prerequisites)==null?void 0:l.skillLevel)==null?void 0:c.level)&&a.jsxs(q,{variant:"outline",className:"text-xs",children:["Level ",i.prerequisites.skillLevel.level]})]}),((u=i.description)==null?void 0:u.base)&&a.jsx(ve,{className:"text-sm text-muted-foreground",children:i.description.base})]},o)})})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((i,o)=>a.jsx(q,{variant:"outline",className:"text-sm",children:i},o))})]}),a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Additional Info"}),a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Skill Tree:"}),a.jsx("span",{className:"font-medium",children:e.skillTreeName})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Total Ranks:"}),a.jsx("span",{className:"font-medium",children:e.totalRanks})]}),e.isRoot&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Type:"}),a.jsx(q,{variant:"secondary",className:"text-xs",children:"Root Perk"})]}),e.hasChildren&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Has Children:"}),a.jsx("span",{className:"font-medium",children:"Yes"})]})]})]})]})]})}):null}function ij({item:e,className:t,onClick:n,viewMode:s="grid"}){const r=e.originalPerk;return a.jsx("div",{className:I("p-4 rounded-lg border bg-background hover:bg-muted/50 transition-all duration-200 hover:shadow-md cursor-pointer",s==="list"&&"flex items-center gap-4",t),onClick:n,children:s==="grid"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx(ha,{className:"text-sm font-semibold line-clamp-1",children:e.name}),a.jsx(Ps,{className:"text-muted-foreground",children:r.skillTreeName})]})]})}),a.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[r.totalRanks>1&&a.jsx(Rn,{label:`${r.totalRanks} ranks`,type:"rank",size:"sm"}),r.minLevel&&a.jsx(Rn,{label:`Level ${r.minLevel}+`,type:"level",size:"sm"})]}),a.jsx(ve,{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:e.description}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((i,o)=>a.jsx(q,{variant:"outline",className:"text-xs",children:i},o)),e.tags.length>3&&a.jsxs(Ps,{className:"text-muted-foreground",children:["+",e.tags.length-3," more"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(ha,{className:"text-sm font-semibold truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.totalRanks>1&&a.jsx(Rn,{label:`${r.totalRanks} ranks`,type:"rank",size:"sm"}),r.minLevel&&a.jsx(Rn,{label:`Level ${r.minLevel}+`,type:"level",size:"sm"})]})]}),a.jsx(ve,{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(Ps,{className:"text-muted-foreground",children:r.skillTreeName}),e.tags.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[e.tags.slice(0,2).map((i,o)=>a.jsx(q,{variant:"outline",className:"text-xs",children:i},o)),e.tags.length>2&&a.jsxs(Ps,{className:"text-muted-foreground",children:["+",e.tags.length-2," more"]})]})]})]})]})})}function PY(e,t){const n=g.useMemo(()=>e.map(l=>{var c,u;return{id:l.edid,name:l.name,description:((u=(c=l.ranks[0])==null?void 0:c.description)==null?void 0:u.base)||"",searchableText:l.searchableText,tags:l.tags,category:l.category,skillTree:l.skillTreeName,originalPerk:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new rn(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredPerks:g.useMemo(()=>i.map(l=>l.item.originalPerk),[i]),searchResults:i,searchablePerks:n}}function $Y(){tt();const{build:e}=nt(),{allPerks:t,loading:n,error:s}=Qm(),[r,i]=g.useState("list"),[o,l]=g.useState("alphabetical"),{selectedTags:c,searchQuery:u,onTagSelect:d,onTagRemove:f,onClearTags:m,onSearchChange:h}=wv(),p=g.useMemo(()=>{const C=[...new Set(t.map(O=>O.skillTreeName))],T=[...new Set(t.flatMap(O=>O.tags))],_=[...new Set(t.map(O=>O.minLevel||0))].sort((O,L)=>O-L);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:T.map(O=>({id:`keyword-${O}`,label:O,value:O,category:"Fuzzy Search",description:`Perks with ${O} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:C.map(O=>({id:`skill-${O}`,label:O,value:O,category:"Skill Trees",description:`Perks from ${O} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:_.map(O=>({id:`level-${O}`,label:`Level ${O}+`,value:O.toString(),category:"Minimum Level",description:`Perks requiring level ${O} or higher`}))}]},[t]),{filteredPerks:y}=PY(t,u),b=y.map(C=>({...xA(C,e),originalPerk:C})),v=g.useMemo(()=>{const C=[...b];switch(o){case"alphabetical":return C.sort((T,_)=>T.name.localeCompare(_.name));case"skill-tree":return C.sort((T,_)=>{const O=T.originalPerk.skillTreeName,L=_.originalPerk.skillTreeName;return O.localeCompare(L)||T.name.localeCompare(_.name)});case"level":return C.sort((T,_)=>{const O=T.originalPerk.minLevel||0,L=_.originalPerk.minLevel||0;return O-L||T.name.localeCompare(_.name)});default:return C}},[b,o]),[x,w]=g.useState(null),[j,N]=g.useState(!1),k=C=>{w(C),N(!0)},S=C=>{i(C)},E=C=>{switch(C){case"alphabetical":return"Alphabetical (A-Z)";case"skill-tree":return"Skill Tree";case"level":return"Level";default:return"Alphabetical (A-Z)"}};return n?a.jsx(Jt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-lg",children:"Loading perk data..."})})}):s?a.jsx(Jt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-lg text-red-500",children:["Error loading perk data: ",s]})})}):a.jsxs(Jt,{title:"Perk References",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx(Ia,{categories:p,onSelect:d,onCustomSearch:h})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(U,{variant:r==="grid"?"default":"outline",size:"sm",onClick:()=>S("grid"),className:"flex items-center gap-2",children:[a.jsx(Di,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(U,{variant:r==="list"?"default":"outline",size:"sm",onClick:()=>S("list"),className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Bi,{children:[a.jsx(Fi,{asChild:!0,children:a.jsxs(U,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",E(o),a.jsx(Rt,{className:"h-4 w-4"})]})}),a.jsxs(Oa,{align:"end",children:[a.jsx(on,{onClick:()=>l("alphabetical"),children:"Alphabetical (A-Z)"}),a.jsx(on,{onClick:()=>l("skill-tree"),children:"Skill Tree"}),a.jsx(on,{onClick:()=>l("level"),children:"Level"})]})]})})]}),a.jsx("div",{className:"my-4",children:c.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:m,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(He,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),c.map(C=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>f(C.id),title:"Click to remove",children:[C.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},C.id))]})}),a.jsxs("div",{className:"mt-6",children:[r==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(C=>a.jsx(ij,{item:C,onClick:()=>k(C.originalPerk),viewMode:"grid"},C.id))}):a.jsx("div",{className:"space-y-2",children:v.map(C=>a.jsx(ij,{item:C,onClick:()=>k(C.originalPerk),viewMode:"list"},C.id))}),v.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No perks found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]}),a.jsx(zY,{perk:x,isOpen:j,onOpenChange:N})]})}function oj(){const{skills:e,loading:t,error:n,searchQuery:s,setSearchQuery:r,selectedCategory:i,setSelectedCategory:o,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:y}=QT(),{filteredItems:b,groupedItems:v,stats:x,isLoading:w,error:j,searchCategories:N}=LY(),{selectedTags:k,viewMode:S,searchQuery:E,onTagSelect:C,onTagRemove:T,onClearTags:_,onViewModeChange:O,onSearchChange:L}=wv();return t||w?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading data..."})]})}):n||j?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:n||j}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsx(Jt,{title:"Skills & Perks",description:"Manage your character's skills and browse all available perks.",children:a.jsx("div",{className:"mb-6",children:a.jsxs(Pa,{defaultValue:"builder",className:"w-full",children:[a.jsxs($a,{className:"grid w-full grid-cols-2",children:[a.jsx(Ot,{value:"builder",children:"Perk Builder"}),a.jsx(Ot,{value:"reference",children:"Perk References"})]}),a.jsx(qt,{value:"builder",className:"space-y-4",children:a.jsx(iZ,{skills:e,loading:t,error:n,searchQuery:s,onSearchChange:r,selectedCategory:i,onCategorySelect:o,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:y})}),a.jsx(qt,{value:"reference",className:"space-y-4",children:a.jsx($Y,{items:b,groupedItems:v,stats:x,searchCategories:N,selectedTags:k,viewMode:S,searchQuery:E,onTagSelect:C,onTagRemove:T,onClearTags:_,onViewModeChange:O,onSearchChange:L})})]})})})}function Z(e,t,n){function s(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const r=(n==null?void 0:n.Parent)??Object;class i extends r{}Object.defineProperty(i,"name",{value:e});function o(l){var c;const u=n!=null&&n.Parent?new i:this;s(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class Uc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const yA={};function Ci(e){return yA}function OY(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,r])=>t.indexOf(+s)===-1).map(([s,r])=>r)}function IY(e,t){return typeof t=="bigint"?t.toString():t}function bA(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function jv(e){return e==null}function Nv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function BY(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=n>s?n:s,i=Number.parseInt(e.toFixed(r).replace(".","")),o=Number.parseInt(t.toFixed(r).replace(".",""));return i%o/10**r}function Je(e,t,n){Object.defineProperty(e,t,{get(){{const s=n();return e[t]=s,s}},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Sv(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Zl(e){return JSON.stringify(e)}const wA=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Pp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const FY=bA(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function $p(e){if(Pp(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Pp(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const HY=new Set(["string","number","symbol"]);function Jm(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Vi(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(s._zod.parent=e),s}function ce(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function UY(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const VY={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function GY(e,t){const n={},s=e._zod.def;for(const r in t){if(!(r in s.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(n[r]=s.shape[r])}return Vi(e,{...e._zod.def,shape:n,checks:[]})}function qY(e,t){const n={...e._zod.def.shape},s=e._zod.def;for(const r in t){if(!(r in s.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&delete n[r]}return Vi(e,{...e._zod.def,shape:n,checks:[]})}function ZY(e,t){if(!$p(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return Sv(this,"shape",s),s},checks:[]};return Vi(e,n)}function YY(e,t){return Vi(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Sv(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function XY(e,t,n){const s=t._zod.def.shape,r={...s};if(n)for(const i in n){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(r[i]=e?new e({type:"optional",innerType:s[i]}):s[i])}else for(const i in s)r[i]=e?new e({type:"optional",innerType:s[i]}):s[i];return Vi(t,{...t._zod.def,shape:r,checks:[]})}function WY(e,t,n){const s=t._zod.def.shape,r={...s};if(n)for(const i in n){if(!(i in r))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(r[i]=new e({type:"nonoptional",innerType:s[i]}))}else for(const i in s)r[i]=new e({type:"nonoptional",innerType:s[i]});return Vi(t,{...t._zod.def,shape:r,checks:[]})}function dc(e,t=0){var n;for(let s=t;s<e.issues.length;s++)if(((n=e.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function kv(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function fd(e){return typeof e=="string"?e:e==null?void 0:e.message}function Ei(e,t,n){var r,i,o,l,c,u;const s={...e,path:e.path??[]};if(!e.message){const d=fd((o=(i=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??fd((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??fd((c=n.customError)==null?void 0:c.call(n,e))??fd((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";s.message=d}return delete s.inst,delete s.continue,t!=null&&t.reportInput||delete s.input,s}function Cv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Vc(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const jA=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,IY,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},NA=Z("$ZodError",jA),SA=Z("$ZodError",jA,{Parent:Error});function KY(e,t=n=>n.message){const n={},s=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:n}}function QY(e,t){const n=t||function(i){return i.message},s={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>r({issues:l}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(e),s}const JY=e=>(t,n,s,r)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Uc;if(o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(c=>Ei(c,i,Ci())));throw wA(l,r==null?void 0:r.callee),l}return o.value},eX=e=>async(t,n,s,r)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(c=>Ei(c,i,Ci())));throw wA(l,r==null?void 0:r.callee),l}return o.value},kA=e=>(t,n,s)=>{const r=s?{...s,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},r);if(i instanceof Promise)throw new Uc;return i.issues.length?{success:!1,error:new(e??NA)(i.issues.map(o=>Ei(o,r,Ci())))}:{success:!0,data:i.value}},tX=kA(SA),CA=e=>async(t,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},r);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>Ei(o,r,Ci())))}:{success:!0,data:i.value}},nX=CA(SA),sX=/^[cC][^\s-]{8,}$/,rX=/^[0-9a-z]+$/,aX=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,iX=/^[0-9a-vA-V]{20}$/,oX=/^[A-Za-z0-9]{27}$/,lX=/^[a-zA-Z0-9_-]{21}$/,cX=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,uX=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,lj=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,dX=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,fX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function mX(){return new RegExp(fX,"u")}const hX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gX=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,pX=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,xX=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vX=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,EA=/^[A-Za-z0-9_-]*$/,yX=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,bX=/^\+(?:[0-9]){6,14}[0-9]$/,TA="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",wX=new RegExp(`^${TA}$`);function AA(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function jX(e){return new RegExp(`^${AA(e)}$`)}function NX(e){const t=AA({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${TA}T(?:${s})$`)}const SX=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},kX=/^\d+$/,CX=/^-?\d+(?:\.\d+)?/i,EX=/true|false/i,TX=/^[^A-Z]*$/,AX=/^[^a-z]*$/,Sn=Z("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),_A={number:"number",bigint:"bigint",object:"date"},MA=Z("$ZodCheckLessThan",(e,t)=>{Sn.init(e,t);const n=_A[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,i=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),RA=Z("$ZodCheckGreaterThan",(e,t)=>{Sn.init(e,t);const n=_A[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,i=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),_X=Z("$ZodCheckMultipleOf",(e,t)=>{Sn.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):BY(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),MX=Z("$ZodCheckNumberFormat",(e,t)=>{var o;Sn.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),s=n?"int":"number",[r,i]=VY[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=r,c.maximum=i,n&&(c.pattern=kX)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:s,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}c<r&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),c>i&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:e})}}),RX=Z("$ZodCheckMaxLength",(e,t)=>{var n;Sn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!jv(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const r=s.value;if(r.length<=t.maximum)return;const o=Cv(r);s.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),DX=Z("$ZodCheckMinLength",(e,t)=>{var n;Sn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!jv(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const r=s.value;if(r.length>=t.minimum)return;const o=Cv(r);s.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),LX=Z("$ZodCheckLengthEquals",(e,t)=>{var n;Sn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!jv(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=s=>{const r=s.value,i=r.length;if(i===t.length)return;const o=Cv(r),l=i>t.length;s.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),eh=Z("$ZodCheckStringFormat",(e,t)=>{var n,s;Sn.init(e,t),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),zX=Z("$ZodCheckRegex",(e,t)=>{eh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),PX=Z("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=TX),eh.init(e,t)}),$X=Z("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=AX),eh.init(e,t)}),OX=Z("$ZodCheckIncludes",(e,t)=>{Sn.init(e,t);const n=Jm(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),IX=Z("$ZodCheckStartsWith",(e,t)=>{Sn.init(e,t);const n=new RegExp(`^${Jm(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),BX=Z("$ZodCheckEndsWith",(e,t)=>{Sn.init(e,t);const n=new RegExp(`.*${Jm(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),FX=Z("$ZodCheckOverwrite",(e,t)=>{Sn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class HX{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(o=>o),r=Math.min(...s.map(o=>o.length-o.trimStart().length)),i=s.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...n,r.join(`
`))}}const UX={major:4,minor:0,patch:5},xt=Z("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=UX;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const i of s)for(const o of i._zod.onattach)o(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const i=(o,l,c)=>{let u=dc(o),d;for(const f of l){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(u)continue;const m=o.issues.length,h=f._zod.check(o);if(h instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Uc;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,o.issues.length!==m&&(u||(u=dc(o,m)))});else{if(o.issues.length===m)continue;u||(u=dc(o,m))}}return d?d.then(()=>o):o};e._zod.run=(o,l)=>{const c=e._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new Uc;return c.then(u=>i(u,s,l))}return i(c,s,l)}}e["~standard"]={validate:i=>{var o;try{const l=tX(e,i);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return nX(e,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Ev=Z("$ZodString",(e,t)=>{var n;xt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??SX(e._zod.bag),e._zod.parse=(s,r)=>{if(t.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),lt=Z("$ZodStringFormat",(e,t)=>{eh.init(e,t),Ev.init(e,t)}),VX=Z("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=uX),lt.init(e,t)}),GX=Z("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=lj(s))}else t.pattern??(t.pattern=lj());lt.init(e,t)}),qX=Z("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=dX),lt.init(e,t)}),ZX=Z("$ZodURL",(e,t)=>{lt.init(e,t),e._zod.check=n=>{try{const s=n.value,r=new URL(s),i=r.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:yX.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!s.endsWith("/")&&i.endsWith("/")?n.value=i.slice(0,-1):n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),YX=Z("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=mX()),lt.init(e,t)}),XX=Z("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=lX),lt.init(e,t)}),WX=Z("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=sX),lt.init(e,t)}),KX=Z("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=rX),lt.init(e,t)}),QX=Z("$ZodULID",(e,t)=>{t.pattern??(t.pattern=aX),lt.init(e,t)}),JX=Z("$ZodXID",(e,t)=>{t.pattern??(t.pattern=iX),lt.init(e,t)}),eW=Z("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=oX),lt.init(e,t)}),tW=Z("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=NX(t)),lt.init(e,t)}),nW=Z("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=wX),lt.init(e,t)}),sW=Z("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=jX(t)),lt.init(e,t)}),rW=Z("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=cX),lt.init(e,t)}),aW=Z("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=hX),lt.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv4"})}),iW=Z("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=gX),lt.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),oW=Z("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=pX),lt.init(e,t)}),lW=Z("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=xX),lt.init(e,t),e._zod.check=n=>{const[s,r]=n.value.split("/");try{if(!r)throw new Error;const i=Number(r);if(`${i}`!==r)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function DA(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const cW=Z("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=vX),lt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{DA(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function uW(e){if(!EA.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return DA(n)}const dW=Z("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=EA),lt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{uW(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),fW=Z("$ZodE164",(e,t)=>{t.pattern??(t.pattern=bX),lt.init(e,t)});function mW(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const hW=Z("$ZodJWT",(e,t)=>{lt.init(e,t),e._zod.check=n=>{mW(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),LA=Z("$ZodNumber",(e,t)=>{xt.init(e,t),e._zod.pattern=e._zod.bag.pattern??CX,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const i=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...i?{received:i}:{}}),n}}),gW=Z("$ZodNumber",(e,t)=>{MX.init(e,t),LA.init(e,t)}),pW=Z("$ZodBoolean",(e,t)=>{xt.init(e,t),e._zod.pattern=EX,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),xW=Z("$ZodUnknown",(e,t)=>{xt.init(e,t),e._zod.parse=n=>n}),vW=Z("$ZodNever",(e,t)=>{xt.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function cj(e,t,n){e.issues.length&&t.issues.push(...kv(n,e.issues)),t.value[n]=e.value}const yW=Z("$ZodArray",(e,t)=>{xt.init(e,t),e._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const i=[];for(let o=0;o<r.length;o++){const l=r[o],c=t.element._zod.run({value:l,issues:[]},s);c instanceof Promise?i.push(c.then(u=>cj(u,n,o))):cj(c,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function md(e,t,n){e.issues.length&&t.issues.push(...kv(n,e.issues)),t.value[n]=e.value}function uj(e,t,n,s){e.issues.length?s[n]===void 0?n in s?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...kv(n,e.issues)):e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}const bW=Z("$ZodObject",(e,t)=>{xt.init(e,t);const n=bA(()=>{const f=Object.keys(t.shape);for(const h of f)if(!(t.shape[h]instanceof xt))throw new Error(`Invalid element at key "${h}": expected a Zod schema`);const m=UY(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(m)}});Je(e._zod,"propValues",()=>{const f=t.shape,m={};for(const h in f){const p=f[h]._zod;if(p.values){m[h]??(m[h]=new Set);for(const y of p.values)m[h].add(y)}}return m});const s=f=>{const m=new HX(["shape","payload","ctx"]),h=n.value,p=x=>{const w=Zl(x);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};m.write("const input = payload.value;");const y=Object.create(null);let b=0;for(const x of h.keys)y[x]=`key_${b++}`;m.write("const newResult = {}");for(const x of h.keys)if(h.optionalKeys.has(x)){const w=y[x];m.write(`const ${w} = ${p(x)};`);const j=Zl(x);m.write(`
        if (${w}.issues.length) {
          if (input[${j}] === undefined) {
            if (${j} in input) {
              newResult[${j}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${w}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${j}, ...iss.path] : [${j}],
              }))
            );
          }
        } else if (${w}.value === undefined) {
          if (${j} in input) newResult[${j}] = undefined;
        } else {
          newResult[${j}] = ${w}.value;
        }
        `)}else{const w=y[x];m.write(`const ${w} = ${p(x)};`),m.write(`
          if (${w}.issues.length) payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Zl(x)}, ...iss.path] : [${Zl(x)}]
          })));`),m.write(`newResult[${Zl(x)}] = ${w}.value`)}m.write("payload.value = newResult;"),m.write("return payload;");const v=m.compile();return(x,w)=>v(f,x,w)};let r;const i=Pp,o=!yA.jitless,c=o&&FY.value,u=t.catchall;let d;e._zod.parse=(f,m)=>{d??(d=n.value);const h=f.value;if(!i(h))return f.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),f;const p=[];if(o&&c&&(m==null?void 0:m.async)===!1&&m.jitless!==!0)r||(r=s(t.shape)),f=r(f,m);else{f.value={};const w=d.shape;for(const j of d.keys){const N=w[j],k=N._zod.run({value:h[j],issues:[]},m),S=N._zod.optin==="optional"&&N._zod.optout==="optional";k instanceof Promise?p.push(k.then(E=>S?uj(E,f,j,h):md(E,f,j))):S?uj(k,f,j,h):md(k,f,j)}}if(!u)return p.length?Promise.all(p).then(()=>f):f;const y=[],b=d.keySet,v=u._zod,x=v.def.type;for(const w of Object.keys(h)){if(b.has(w))continue;if(x==="never"){y.push(w);continue}const j=v.run({value:h[w],issues:[]},m);j instanceof Promise?p.push(j.then(N=>md(N,f,w))):md(j,f,w)}return y.length&&f.issues.push({code:"unrecognized_keys",keys:y,input:h,inst:e}),p.length?Promise.all(p).then(()=>f):f}});function dj(e,t,n,s){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(i=>Ei(i,s,Ci())))}),t}const wW=Z("$ZodUnion",(e,t)=>{xt.init(e,t),Je(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Je(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Je(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Je(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${n.map(s=>Nv(s.source)).join("|")})$`)}}),e._zod.parse=(n,s)=>{let r=!1;const i=[];for(const o of t.options){const l=o._zod.run({value:n.value,issues:[]},s);if(l instanceof Promise)i.push(l),r=!0;else{if(l.issues.length===0)return l;i.push(l)}}return r?Promise.all(i).then(o=>dj(o,n,e,s)):dj(i,n,e,s)}}),jW=Z("$ZodIntersection",(e,t)=>{xt.init(e,t),e._zod.parse=(n,s)=>{const r=n.value,i=t.left._zod.run({value:r,issues:[]},s),o=t.right._zod.run({value:r,issues:[]},s);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([c,u])=>fj(n,c,u)):fj(n,i,o)}});function Op(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if($p(e)&&$p(t)){const n=Object.keys(t),s=Object.keys(e).filter(i=>n.indexOf(i)!==-1),r={...e,...t};for(const i of s){const o=Op(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};r[i]=o.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const r=e[s],i=t[s],o=Op(r,i);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function fj(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),dc(e))return e;const s=Op(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const NW=Z("$ZodEnum",(e,t)=>{xt.init(e,t);const n=OY(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(s=>HY.has(typeof s)).map(s=>typeof s=="string"?Jm(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const i=s.value;return e._zod.values.has(i)||s.issues.push({code:"invalid_value",values:n,input:i,inst:e}),s}}),SW=Z("$ZodTransform",(e,t)=>{xt.init(e,t),e._zod.parse=(n,s)=>{const r=t.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new Uc;return n.value=r,n}}),kW=Z("$ZodOptional",(e,t)=>{xt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Je(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Nv(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,s):n.value===void 0?n:t.innerType._zod.run(n,s)}),CW=Z("$ZodNullable",(e,t)=>{xt.init(e,t),Je(e._zod,"optin",()=>t.innerType._zod.optin),Je(e._zod,"optout",()=>t.innerType._zod.optout),Je(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Nv(n.source)}|null)$`):void 0}),Je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),EW=Z("$ZodDefault",(e,t)=>{xt.init(e,t),e._zod.optin="optional",Je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>mj(i,t)):mj(r,t)}});function mj(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const TW=Z("$ZodPrefault",(e,t)=>{xt.init(e,t),e._zod.optin="optional",Je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),AW=Z("$ZodNonOptional",(e,t)=>{xt.init(e,t),Je(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>hj(i,e)):hj(r,e)}});function hj(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const _W=Z("$ZodCatch",(e,t)=>{xt.init(e,t),e._zod.optin="optional",Je(e._zod,"optout",()=>t.innerType._zod.optout),Je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>Ei(o,s,Ci()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(i=>Ei(i,s,Ci()))},input:n.value}),n.issues=[]),n)}}),MW=Z("$ZodPipe",(e,t)=>{xt.init(e,t),Je(e._zod,"values",()=>t.in._zod.values),Je(e._zod,"optin",()=>t.in._zod.optin),Je(e._zod,"optout",()=>t.out._zod.optout),Je(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{const r=t.in._zod.run(n,s);return r instanceof Promise?r.then(i=>gj(i,t,s)):gj(r,t,s)}});function gj(e,t,n){return dc(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const RW=Z("$ZodReadonly",(e,t)=>{xt.init(e,t),Je(e._zod,"propValues",()=>t.innerType._zod.propValues),Je(e._zod,"values",()=>t.innerType._zod.values),Je(e._zod,"optin",()=>t.innerType._zod.optin),Je(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(pj):pj(r)}});function pj(e){return e.value=Object.freeze(e.value),e}const DW=Z("$ZodCustom",(e,t)=>{Sn.init(e,t),xt.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,r=t.fn(s);if(r instanceof Promise)return r.then(i=>xj(i,n,s,e));xj(r,n,s,e)}});function xj(e,t,n,s){if(!e){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),t.issues.push(Vc(r))}}class LW{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const s=n[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};return delete s.id,{...s,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function zW(){return new LW}const hd=zW();function PW(e,t){return new e({type:"string",...ce(t)})}function $W(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ce(t)})}function vj(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ce(t)})}function OW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ce(t)})}function IW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ce(t)})}function BW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ce(t)})}function FW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ce(t)})}function HW(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ce(t)})}function UW(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ce(t)})}function VW(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ce(t)})}function GW(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ce(t)})}function qW(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ce(t)})}function ZW(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ce(t)})}function YW(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ce(t)})}function XW(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ce(t)})}function WW(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ce(t)})}function KW(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ce(t)})}function QW(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ce(t)})}function JW(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ce(t)})}function eK(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ce(t)})}function tK(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ce(t)})}function nK(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ce(t)})}function sK(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ce(t)})}function rK(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ce(t)})}function aK(e,t){return new e({type:"string",format:"date",check:"string_format",...ce(t)})}function iK(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ce(t)})}function oK(e,t){return new e({type:"string",format:"duration",check:"string_format",...ce(t)})}function lK(e,t){return new e({type:"number",checks:[],...ce(t)})}function cK(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ce(t)})}function uK(e,t){return new e({type:"boolean",...ce(t)})}function dK(e){return new e({type:"unknown"})}function fK(e,t){return new e({type:"never",...ce(t)})}function yj(e,t){return new MA({check:"less_than",...ce(t),value:e,inclusive:!1})}function lg(e,t){return new MA({check:"less_than",...ce(t),value:e,inclusive:!0})}function bj(e,t){return new RA({check:"greater_than",...ce(t),value:e,inclusive:!1})}function cg(e,t){return new RA({check:"greater_than",...ce(t),value:e,inclusive:!0})}function wj(e,t){return new _X({check:"multiple_of",...ce(t),value:e})}function zA(e,t){return new RX({check:"max_length",...ce(t),maximum:e})}function Mf(e,t){return new DX({check:"min_length",...ce(t),minimum:e})}function PA(e,t){return new LX({check:"length_equals",...ce(t),length:e})}function mK(e,t){return new zX({check:"string_format",format:"regex",...ce(t),pattern:e})}function hK(e){return new PX({check:"string_format",format:"lowercase",...ce(e)})}function gK(e){return new $X({check:"string_format",format:"uppercase",...ce(e)})}function pK(e,t){return new OX({check:"string_format",format:"includes",...ce(t),includes:e})}function xK(e,t){return new IX({check:"string_format",format:"starts_with",...ce(t),prefix:e})}function vK(e,t){return new BX({check:"string_format",format:"ends_with",...ce(t),suffix:e})}function ku(e){return new FX({check:"overwrite",tx:e})}function yK(e){return ku(t=>t.normalize(e))}function bK(){return ku(e=>e.trim())}function wK(){return ku(e=>e.toLowerCase())}function jK(){return ku(e=>e.toUpperCase())}function NK(e,t,n){return new e({type:"array",element:t,...ce(n)})}function SK(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ce(n)})}const kK=Z("ZodISODateTime",(e,t)=>{tW.init(e,t),mt.init(e,t)});function CK(e){return rK(kK,e)}const EK=Z("ZodISODate",(e,t)=>{nW.init(e,t),mt.init(e,t)});function TK(e){return aK(EK,e)}const AK=Z("ZodISOTime",(e,t)=>{sW.init(e,t),mt.init(e,t)});function _K(e){return iK(AK,e)}const MK=Z("ZodISODuration",(e,t)=>{rW.init(e,t),mt.init(e,t)});function RK(e){return oK(MK,e)}const DK=(e,t)=>{NA.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>QY(e,n)},flatten:{value:n=>KY(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},th=Z("ZodError",DK,{Parent:Error}),LK=JY(th),zK=eX(th),PK=kA(th),$K=CA(th),Ct=Z("ZodType",(e,t)=>(xt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),e.clone=(n,s)=>Vi(e,n,s),e.brand=()=>e,e.register=(n,s)=>(n.add(e,s),e),e.parse=(n,s)=>LK(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>PK(e,n,s),e.parseAsync=async(n,s)=>zK(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>$K(e,n,s),e.spa=e.safeParseAsync,e.refine=(n,s)=>e.check(_Q(n,s)),e.superRefine=n=>e.check(MQ(n)),e.overwrite=n=>e.check(ku(n)),e.optional=()=>kj(e),e.nullable=()=>Cj(e),e.nullish=()=>kj(Cj(e)),e.nonoptional=n=>jQ(e,n),e.array=()=>Ti(e),e.or=n=>dQ([e,n]),e.and=n=>mQ(e,n),e.transform=n=>Ej(e,pQ(n)),e.default=n=>yQ(e,n),e.prefault=n=>wQ(e,n),e.catch=n=>SQ(e,n),e.pipe=n=>Ej(e,n),e.readonly=()=>EQ(e),e.describe=n=>{const s=e.clone();return hd.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){var n;return(n=hd.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return hd.get(e);const s=e.clone();return hd.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),$A=Z("_ZodString",(e,t)=>{Ev.init(e,t),Ct.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(mK(...s)),e.includes=(...s)=>e.check(pK(...s)),e.startsWith=(...s)=>e.check(xK(...s)),e.endsWith=(...s)=>e.check(vK(...s)),e.min=(...s)=>e.check(Mf(...s)),e.max=(...s)=>e.check(zA(...s)),e.length=(...s)=>e.check(PA(...s)),e.nonempty=(...s)=>e.check(Mf(1,...s)),e.lowercase=s=>e.check(hK(s)),e.uppercase=s=>e.check(gK(s)),e.trim=()=>e.check(bK()),e.normalize=(...s)=>e.check(yK(...s)),e.toLowerCase=()=>e.check(wK()),e.toUpperCase=()=>e.check(jK())}),OK=Z("ZodString",(e,t)=>{Ev.init(e,t),$A.init(e,t),e.email=n=>e.check($W(IK,n)),e.url=n=>e.check(HW(BK,n)),e.jwt=n=>e.check(sK(tQ,n)),e.emoji=n=>e.check(UW(FK,n)),e.guid=n=>e.check(vj(jj,n)),e.uuid=n=>e.check(OW(gd,n)),e.uuidv4=n=>e.check(IW(gd,n)),e.uuidv6=n=>e.check(BW(gd,n)),e.uuidv7=n=>e.check(FW(gd,n)),e.nanoid=n=>e.check(VW(HK,n)),e.guid=n=>e.check(vj(jj,n)),e.cuid=n=>e.check(GW(UK,n)),e.cuid2=n=>e.check(qW(VK,n)),e.ulid=n=>e.check(ZW(GK,n)),e.base64=n=>e.check(eK(QK,n)),e.base64url=n=>e.check(tK(JK,n)),e.xid=n=>e.check(YW(qK,n)),e.ksuid=n=>e.check(XW(ZK,n)),e.ipv4=n=>e.check(WW(YK,n)),e.ipv6=n=>e.check(KW(XK,n)),e.cidrv4=n=>e.check(QW(WK,n)),e.cidrv6=n=>e.check(JW(KK,n)),e.e164=n=>e.check(nK(eQ,n)),e.datetime=n=>e.check(CK(n)),e.date=n=>e.check(TK(n)),e.time=n=>e.check(_K(n)),e.duration=n=>e.check(RK(n))});function an(e){return PW(OK,e)}const mt=Z("ZodStringFormat",(e,t)=>{lt.init(e,t),$A.init(e,t)}),IK=Z("ZodEmail",(e,t)=>{qX.init(e,t),mt.init(e,t)}),jj=Z("ZodGUID",(e,t)=>{VX.init(e,t),mt.init(e,t)}),gd=Z("ZodUUID",(e,t)=>{GX.init(e,t),mt.init(e,t)}),BK=Z("ZodURL",(e,t)=>{ZX.init(e,t),mt.init(e,t)}),FK=Z("ZodEmoji",(e,t)=>{YX.init(e,t),mt.init(e,t)}),HK=Z("ZodNanoID",(e,t)=>{XX.init(e,t),mt.init(e,t)}),UK=Z("ZodCUID",(e,t)=>{WX.init(e,t),mt.init(e,t)}),VK=Z("ZodCUID2",(e,t)=>{KX.init(e,t),mt.init(e,t)}),GK=Z("ZodULID",(e,t)=>{QX.init(e,t),mt.init(e,t)}),qK=Z("ZodXID",(e,t)=>{JX.init(e,t),mt.init(e,t)}),ZK=Z("ZodKSUID",(e,t)=>{eW.init(e,t),mt.init(e,t)}),YK=Z("ZodIPv4",(e,t)=>{aW.init(e,t),mt.init(e,t)}),XK=Z("ZodIPv6",(e,t)=>{iW.init(e,t),mt.init(e,t)}),WK=Z("ZodCIDRv4",(e,t)=>{oW.init(e,t),mt.init(e,t)}),KK=Z("ZodCIDRv6",(e,t)=>{lW.init(e,t),mt.init(e,t)}),QK=Z("ZodBase64",(e,t)=>{cW.init(e,t),mt.init(e,t)}),JK=Z("ZodBase64URL",(e,t)=>{dW.init(e,t),mt.init(e,t)}),eQ=Z("ZodE164",(e,t)=>{fW.init(e,t),mt.init(e,t)}),tQ=Z("ZodJWT",(e,t)=>{hW.init(e,t),mt.init(e,t)}),OA=Z("ZodNumber",(e,t)=>{LA.init(e,t),Ct.init(e,t),e.gt=(s,r)=>e.check(bj(s,r)),e.gte=(s,r)=>e.check(cg(s,r)),e.min=(s,r)=>e.check(cg(s,r)),e.lt=(s,r)=>e.check(yj(s,r)),e.lte=(s,r)=>e.check(lg(s,r)),e.max=(s,r)=>e.check(lg(s,r)),e.int=s=>e.check(Nj(s)),e.safe=s=>e.check(Nj(s)),e.positive=s=>e.check(bj(0,s)),e.nonnegative=s=>e.check(cg(0,s)),e.negative=s=>e.check(yj(0,s)),e.nonpositive=s=>e.check(lg(0,s)),e.multipleOf=(s,r)=>e.check(wj(s,r)),e.step=(s,r)=>e.check(wj(s,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function oi(e){return lK(OA,e)}const nQ=Z("ZodNumberFormat",(e,t)=>{gW.init(e,t),OA.init(e,t)});function Nj(e){return cK(nQ,e)}const sQ=Z("ZodBoolean",(e,t)=>{pW.init(e,t),Ct.init(e,t)});function rQ(e){return uK(sQ,e)}const aQ=Z("ZodUnknown",(e,t)=>{xW.init(e,t),Ct.init(e,t)});function Sj(){return dK(aQ)}const iQ=Z("ZodNever",(e,t)=>{vW.init(e,t),Ct.init(e,t)});function oQ(e){return fK(iQ,e)}const lQ=Z("ZodArray",(e,t)=>{yW.init(e,t),Ct.init(e,t),e.element=t.element,e.min=(n,s)=>e.check(Mf(n,s)),e.nonempty=n=>e.check(Mf(1,n)),e.max=(n,s)=>e.check(zA(n,s)),e.length=(n,s)=>e.check(PA(n,s)),e.unwrap=()=>e.element});function Ti(e,t){return NK(lQ,e,t)}const cQ=Z("ZodObject",(e,t)=>{bW.init(e,t),Ct.init(e,t),Je(e,"shape",()=>t.shape),e.keyof=()=>hQ(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Sj()}),e.loose=()=>e.clone({...e._zod.def,catchall:Sj()}),e.strict=()=>e.clone({...e._zod.def,catchall:oQ()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>ZY(e,n),e.merge=n=>YY(e,n),e.pick=n=>GY(e,n),e.omit=n=>qY(e,n),e.partial=(...n)=>XY(IA,e,n[0]),e.required=(...n)=>WY(BA,e,n[0])});function Hr(e,t){const n={type:"object",get shape(){return Sv(this,"shape",{...e}),this.shape},...ce(t)};return new cQ(n)}const uQ=Z("ZodUnion",(e,t)=>{wW.init(e,t),Ct.init(e,t),e.options=t.options});function dQ(e,t){return new uQ({type:"union",options:e,...ce(t)})}const fQ=Z("ZodIntersection",(e,t)=>{jW.init(e,t),Ct.init(e,t)});function mQ(e,t){return new fQ({type:"intersection",left:e,right:t})}const Ip=Z("ZodEnum",(e,t)=>{NW.init(e,t),Ct.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,r)=>{const i={};for(const o of s)if(n.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Ip({...t,checks:[],...ce(r),entries:i})},e.exclude=(s,r)=>{const i={...t.entries};for(const o of s)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new Ip({...t,checks:[],...ce(r),entries:i})}});function hQ(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new Ip({type:"enum",entries:n,...ce(t)})}const gQ=Z("ZodTransform",(e,t)=>{SW.init(e,t),Ct.init(e,t),e._zod.parse=(n,s)=>{n.addIssue=i=>{if(typeof i=="string")n.issues.push(Vc(i,n.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!0),n.issues.push(Vc(o))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(i=>(n.value=i,n)):(n.value=r,n)}});function pQ(e){return new gQ({type:"transform",transform:e})}const IA=Z("ZodOptional",(e,t)=>{kW.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType});function kj(e){return new IA({type:"optional",innerType:e})}const xQ=Z("ZodNullable",(e,t)=>{CW.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Cj(e){return new xQ({type:"nullable",innerType:e})}const vQ=Z("ZodDefault",(e,t)=>{EW.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function yQ(e,t){return new vQ({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const bQ=Z("ZodPrefault",(e,t)=>{TW.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wQ(e,t){return new bQ({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const BA=Z("ZodNonOptional",(e,t)=>{AW.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType});function jQ(e,t){return new BA({type:"nonoptional",innerType:e,...ce(t)})}const NQ=Z("ZodCatch",(e,t)=>{_W.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function SQ(e,t){return new NQ({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const kQ=Z("ZodPipe",(e,t)=>{MW.init(e,t),Ct.init(e,t),e.in=t.in,e.out=t.out});function Ej(e,t){return new kQ({type:"pipe",in:e,out:t})}const CQ=Z("ZodReadonly",(e,t)=>{RW.init(e,t),Ct.init(e,t)});function EQ(e){return new CQ({type:"readonly",innerType:e})}const TQ=Z("ZodCustom",(e,t)=>{DW.init(e,t),Ct.init(e,t)});function AQ(e){const t=new Sn({check:"custom"});return t._zod.check=e,t}function _Q(e,t={}){return SK(TQ,e,t)}function MQ(e){const t=AQ(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(Vc(s,n.value,t._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Vc(r))}},e(n.value,n)));return t}const RQ=Hr({type:an(),id:an()}),DQ=Hr({skill:an(),level:oi()}),LQ=Hr({skillLevel:DQ.optional(),items:Ti(RQ).optional()}),zQ=Hr({base:an(),subtext:an()}),PQ=Hr({rank:oi(),edid:an(),name:an(),description:zQ,prerequisites:LQ}),$Q=Hr({x:oi(),y:oi(),horizontal:oi(),vertical:oi()}),OQ=Hr({parents:Ti(an()),children:Ti(an())}),IQ=Hr({edid:an(),name:an(),ranks:Ti(PQ),totalRanks:oi(),connections:OQ,isRoot:rQ(),position:$Q}),BQ=Hr({treeId:an(),treeName:an(),treeDescription:an(),category:an(),perks:Ti(IQ)});Ti(BQ);function FQ(e){return e.length===0?{minX:0,maxX:0,minY:0,maxY:0}:e.reduce((t,n)=>({minX:Math.min(t.minX,n.x),maxX:Math.max(t.maxX,n.x),minY:Math.min(t.minY,n.y),maxY:Math.max(t.maxY,n.y)}),{minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0})}const HQ=(e,t)=>({perkNode:n=>a.jsx(zT,{...n,onTogglePerk:e,onRankChange:t})}),ug={cellWidth:240,cellHeight:140,nodeWidth:140,nodeHeight:80,gridGap:40,padding:80};function UQ(e,t,n){const{x:s,y:r,horizontal:i,vertical:o}=e,l=t.maxX-s+t.minX,c=-i,u=t.maxY-r+t.minY,d=-o,f=(l-t.minX)*n.cellWidth+(l-t.minX)*n.gridGap+n.padding+n.cellWidth/2,m=(u-t.minY)*n.cellHeight+(u-t.minY)*n.gridGap+n.padding+n.cellHeight/2,h=c*(n.cellWidth/2-n.nodeWidth/2),p=d*(n.cellHeight/2-n.nodeHeight/2),y=f+h,b=m+p;return{x:y,y:b,gridX:l,gridY:u,horizontal:c,vertical:d}}function VQ(e,t,n,s){const r=e-s.padding,i=t-s.padding,o=Math.floor(r/(s.cellWidth+s.gridGap)),l=Math.floor(i/(s.cellHeight+s.gridGap)),c=o*s.cellWidth+o*s.gridGap+s.padding+s.cellWidth/2,u=l*s.cellHeight+l*s.gridGap+s.padding+s.cellHeight/2,d=e-c,f=t-u,m=s.cellWidth/2-s.nodeWidth/2,h=s.cellHeight/2-s.nodeHeight/2,p=Math.max(-1,Math.min(1,d/m)),y=Math.max(-1,Math.min(1,f/h)),b=n.maxX-o+n.minX,v=n.maxY-l+n.minY,x=-p,w=-y;return{x:e,y:t,gridX:b,gridY:v,horizontal:x,vertical:w}}function GQ(e,t,n){const s=Math.ceil(Math.sqrt(t)),r=Math.floor(e/s),i=e%s,o=i*(n.cellWidth+n.gridGap)+n.padding+n.cellWidth/2,l=r*(n.cellHeight+n.gridGap)+n.padding+n.cellHeight/2;return{x:o,y:l,gridX:i,gridY:r,horizontal:0,vertical:0}}function qQ({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:s,className:r}){const[i,o]=P.useState(null),[l,c]=g.useState(new Map),[u,d]=g.useState(!1),[f,m]=g.useState(!1),[h,p]=g.useState(null),y=g.useMemo(()=>{if(!e)return null;const D=DT(e);return D.success?D.data:(console.error("Invalid perk tree data:",D.error),null)},[e]);P.useEffect(()=>{if(!y){c(new Map);return}d(!0),LT(y.treeId).then(D=>{if(D){const z=Aw(y.treeId,D);c(z)}else c(new Map)}).catch(D=>{c(new Map)}).finally(()=>{d(!1)})},[y==null?void 0:y.treeId]);const b=g.useMemo(()=>HQ(t,n),[t,n]),v=g.useMemo(()=>{if(!y||u)return new Map;const D=new Map,z=y.perks.map(B=>B.position).filter(B=>B!==void 0);let M={minX:0,maxX:0,minY:0,maxY:0};z.length>0&&(M=FQ(z)),p(M);let R=0;return y.perks.forEach(B=>{const F=l.get(B.edid);if(F){D.set(B.edid,F);return}if(B.position){const X=UQ(B.position,M,ug);D.set(B.edid,X);return}const V=GQ(R,y.perks.length,ug);D.set(B.edid,V),R++}),D},[y,l,u]),x=g.useMemo(()=>{if(!y)return{saved:0,avif:0,default:0,total:0};let D=0,z=0,M=0;return y.perks.find(R=>R.edid==="LoreRimTrapper_Rank1"),y.perks.find(R=>R.edid==="LoreRimTrapper_Rank2"),y.perks.find(R=>R.edid==="LoreRimTrapper_Rank3"),y.perks.forEach(R=>{l.get(R.edid)?D++:R.position?z++:M++}),{saved:D,avif:z,default:M,total:y.perks.length}},[y,l]),w=g.useMemo(()=>!y||u?[]:y.perks.map(z=>{var X,W,J,le;const M=z.edid,R=v.get(M)||{x:0,y:0},B=((W=(X=z.connections)==null?void 0:X.children)==null?void 0:W.length)>0||!1,F=((le=(J=z.connections)==null?void 0:J.parents)==null?void 0:le.length)===0||!1,V=!l.get(M)&&!z.position;return{id:M,type:"perkNode",position:{x:R.x,y:R.y},draggable:f||V,data:{...z,selected:!1,hasChildren:B,isRoot:F,hasNoPosition:V}}}),[y,v,f,u,l]),j=g.useMemo(()=>{if(!y)return[];const D=[];return y.perks.forEach(z=>{var R;const M=z.edid;(R=z.connections)!=null&&R.children&&z.connections.children.forEach(B=>{if(B===M)return;y.perks.some(V=>V.edid===B)&&D.push({id:`${M}-${B}`,source:M,target:B,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),D},[y]),[N,k,S]=ET(w),[E,C,T]=TT(j);P.useEffect(()=>{k(w)},[w,k]),P.useEffect(()=>{y&&k(D=>D.map(z=>{const M=s.find(B=>B.edid===z.id),R=M!==void 0;return{...z,draggable:f,data:{...z.data,selected:R,currentRank:(M==null?void 0:M.currentRank)||0}}}))},[s,k,y,f]),P.useEffect(()=>{C(j)},[j,C]),P.useEffect(()=>{y&&N.length>0&&i&&setTimeout(()=>{i.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[y==null?void 0:y.treeId,i]);const _=g.useCallback(D=>C(z=>av(D,z)),[C]),O=g.useCallback((D,z)=>{if(!f||!h)return;const M=VQ(z.position.x,z.position.y,h,ug),R=new Map(l);R.set(z.id,M),c(R)},[f,l,h]),L=g.useCallback(()=>{if(!y)return;const D=pq(y,v);xq(D)},[y,v]),A=g.useCallback(D=>{var R;const z=(R=D.target.files)==null?void 0:R[0];if(!z||!y)return;const M=new FileReader;M.onload=B=>{var F;try{const V=JSON.parse((F=B.target)==null?void 0:F.result);if(V.treeId===y.treeId){const X=Aw(y.treeId,V);c(X)}else alert("Position file does not match current tree!")}catch(V){alert("Error loading position file!"),console.error("Error loading positions:",V)}},M.readAsText(z)},[y]),$=g.useCallback(()=>{m(!f)},[f]);return y?a.jsxs("div",{className:`w-full h-full bg-background rounded-lg border overflow-auto ${r||""}`,children:[a.jsx("div",{className:"p-4 border-b bg-muted/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Experimental AVIF Grid Canvas (Mirrored + Enhanced Spacing)"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Bottom-up tree with left-right mirroring using enhanced grid spacing",l.size>0&&!u&&a.jsx("span",{className:"text-green-600 ml-2",children:" Using saved positions"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[u&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 text-xs text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"Loading positions..."]}),!u&&x.total>0&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-1 text-xs bg-muted/30 rounded border",children:[a.jsxs("span",{className:"text-green-600",children:["Saved: ",x.saved]}),a.jsxs("span",{className:"text-blue-600",children:["AVIF: ",x.avif]}),a.jsxs("span",{className:"text-red-600",children:["Default: ",x.default]}),a.jsxs("span",{className:"text-muted-foreground",children:["Total: ",x.total]})]}),a.jsx("button",{onClick:$,className:`px-3 py-1 text-xs rounded border ${f?"bg-blue-500 text-white border-blue-500":"bg-background text-foreground border-border hover:bg-muted"}`,children:f?"Exit Edit":"Edit Mode"}),a.jsx("button",{onClick:L,className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted",children:"Save Positions"}),a.jsxs("label",{className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted cursor-pointer",children:["Load Positions",a.jsx("input",{type:"file",accept:".json",onChange:A,className:"hidden"})]})]})]})}),a.jsx("div",{className:"w-full h-full min-h-[400px]",style:{zIndex:kt.CONTENT},children:a.jsxs(dv,{nodes:N,edges:E,onNodesChange:S,onEdgesChange:T,onConnect:_,onInit:o,onNodeDragStop:O,nodeTypes:b,nodesDraggable:f,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},style:{backgroundColor:"hsl(var(--background))"},children:[a.jsx(RT,{color:"hsl(var(--muted-foreground))",gap:20,size:1,style:{backgroundColor:"hsl(var(--background))"}}),a.jsx(_T,{})]})})]}):a.jsx("div",{className:`flex items-center justify-center p-8 text-muted-foreground ${r||""}`,children:a.jsx("p",{children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function ZQ(){var m;const{skills:e,selectedSkill:t,perkTree:n,selectedPerks:s,availablePerks:r,onSkillSelect:i,onPerkSelect:o,onPerkRankChange:l,loading:c,error:u}=QT(),{build:d}=nt(),f=g.useMemo(()=>!n||!s.length?[]:s.map(h=>{var b,v;const p=n.perks.find(x=>x.edid===h);if(!p)return null;const y=((v=(b=d.perks)==null?void 0:b.ranks)==null?void 0:v[h])||0;return{...p,selectedRank:y}}).filter(Boolean),[n,s,(m=d.perks)==null?void 0:m.ranks]);return c?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading skills..."})}):u?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("p",{className:"text-destructive",children:["Error loading skills: ",u]})}):a.jsx("div",{className:"container mx-auto p-6 space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Skills - Experimental AVIF Grid"}),a.jsx("p",{className:"text-muted-foreground",children:"Experimental perk tree visualization using AVIF coordinate system"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select Skill:"}),a.jsxs(Bi,{children:[a.jsx(Fi,{asChild:!0,children:a.jsxs(U,{variant:"outline",className:"w-[300px] justify-between",children:[t?t.name:"Choose a skill to view its perk tree",a.jsx(Rt,{className:"h-4 w-4"})]})}),a.jsx(Oa,{className:"w-[300px] max-h-[400px] overflow-y-auto",children:e.map(h=>a.jsx(on,{onClick:()=>i(h.id),className:"cursor-pointer",children:h.name},h.id))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-3",children:t?`${t.name} Perk Tree`:"Perk Tree"}),a.jsx("div",{className:"bg-background border rounded-lg h-[600px]",children:a.jsx(qQ,{tree:n||void 0,onTogglePerk:o,onRankChange:l,selectedPerks:f,className:"h-full"})})]}),t&&n&&a.jsxs("div",{className:"bg-muted/20 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Debug Information"}),a.jsxs("div",{className:"text-xs space-y-1 text-muted-foreground",children:[a.jsxs("p",{children:["Selected Skill: ",t.name]}),a.jsxs("p",{children:["Perk Tree: ",n.treeName]}),a.jsxs("p",{children:["Total Perks: ",n.perks.length]}),a.jsxs("p",{children:["Selected Perks: ",s.length]}),a.jsxs("p",{children:["Available Perks: ",r.length]}),a.jsxs("p",{children:["Perks with Position Data:"," ",n.perks.filter(h=>h.position).length]}),n.perks.length>0&&n.perks[0].position&&a.jsxs("p",{children:["Sample Position: X=",n.perks[0].position.x,", Y=",n.perks[0].position.y,", H=",n.perks[0].position.horizontal,", V=",n.perks[0].position.vertical]})]})]})]})]})})}function YQ(e={}){const{autoLoad:t=!0,refreshOnMount:n=!1}=e,{data:s,loading:r,error:i,load:o}=uo(),l=g.useCallback(async()=>{t&&s.length===0&&await o()},[t,s.length,o]),c=g.useCallback(async()=>{await o()},[o]),u=g.useCallback(()=>{},[]);g.useEffect(()=>{t&&s.length===0&&l()},[t,s.length,l]),g.useEffect(()=>{n&&c()},[n,c]);const d=s.length,f=[...new Set(s.map(x=>x.school).filter(Boolean))],m=[...new Set(s.map(x=>x.level).filter(Boolean))],h=new Date().toISOString(),p=s.length>0?{spells:s,totalCount:d,schools:f,levels:m,lastUpdated:h}:null,y=g.useCallback(x=>uo.getState().getByEditorId(x),[]),b=g.useCallback(x=>uo.getState().getBySchool(x),[]),v=g.useCallback(x=>uo.getState().getByLevel(x),[]);return{spells:s,spellData:p,loading:r,error:i,totalCount:d,schools:f,levels:m,lastUpdated:h,loadSpells:l,refresh:c,clearError:u,getSpellByEditorId:y,getSpellsBySchool:b,getSpellsByLevel:v}}function XQ(){const[e,t]=g.useState(null),[n,s]=g.useState("grid");return{selectedSpell:e,viewMode:n,setSelectedSpell:t,setViewMode:s}}const WQ="bg-white dark:bg-white";function KQ({school:e,size:t="md",className:n}){const s=Jw[e]||Jw.Mysticism;return a.jsx("div",{className:I("flex items-center justify-center rounded-full overflow-hidden",WQ,vY[t],n),title:`${e} magic`,children:a.jsx(s,{className:"w-full h-full object-contain text-black dark:text-black"})})}const QQ={default:"bg-primary text-primary-foreground",outline:"border border-border bg-background text-foreground",ghost:"bg-muted text-muted-foreground"};function FA({school:e,size:t="md",variant:n="default",className:s}){const r=xY[e]||"bg-gray-500 text-white";return a.jsx("span",{className:I("inline-flex items-center rounded-full font-medium",yY[t],n==="default"?r:QQ[n],s),children:e})}const JQ={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},eJ={default:"bg-primary text-primary-foreground",outline:"border border-border bg-background text-foreground",ghost:"bg-muted text-muted-foreground"},tJ={Novice:"bg-gray-500 text-white",Apprentice:"bg-green-500 text-white",Adept:"bg-blue-500 text-white",Expert:"bg-purple-500 text-white",Master:"bg-yellow-500 text-black"},nJ={Novice:1,Apprentice:2,Adept:3,Expert:4,Master:5};function HA({level:e,size:t="md",variant:n="default",className:s}){const r=tJ[e]||"bg-gray-500 text-white";return a.jsx("span",{className:I("inline-flex items-center rounded-full font-medium",JQ[t],n==="default"?r:eJ[n],s),title:`Level ${nJ[e]||0}`,children:e})}const sJ={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},rJ={default:"bg-primary text-primary-foreground",outline:"border border-border bg-background text-foreground",ghost:"bg-muted text-muted-foreground"},aJ=e=>e===0?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":e<=25?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":e<=50?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400":e<=100?"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400":"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400";function UA({cost:e,size:t="md",variant:n="default",showIcon:s=!0,className:r}){const i=aJ(e),o=t==="sm"?"h-3 w-3":t==="lg"?"h-4 w-4":"h-3.5 w-3.5";return a.jsxs("span",{className:I("inline-flex items-center gap-1 rounded-full font-medium",sJ[t],n==="default"?i:rJ[n],r),title:`${e} Magicka`,children:[s&&a.jsx(ln,{className:o}),e===0?"Free":e]})}function iJ({stats:e,title:t="Spell Stats",compact:n=!1,className:s}){return!(e.duration!==void 0||e.area!==void 0||e.magnitude!==void 0)&&e.magickaCost===0?null:a.jsxs("div",{className:I("space-y-2",s),children:[t&&a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t}),a.jsxs("div",{className:I("grid gap-2",n?"grid-cols-2":"grid-cols-1"),children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(ln,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium",children:e.magickaCost===0?"Free":`${e.magickaCost} MP`})]}),e.duration!==void 0&&e.duration>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Nr,{className:"h-4 w-4 text-blue-500"}),a.jsxs("span",{className:"font-medium",children:[e.duration,"s"]})]}),e.area!==void 0&&e.area>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(ns,{className:"h-4 w-4 text-green-500"}),a.jsxs("span",{className:"font-medium",children:[e.area,"ft"]})]}),e.magnitude!==void 0&&e.magnitude>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"h-4 w-4 text-purple-500 font-bold",children:""}),a.jsx("span",{className:"font-medium",children:e.magnitude})]})]})]})}function oJ({tags:e,title:t="Tags",compact:n=!1,maxDisplay:s=5,className:r}){if(!e||e.length===0)return null;const i=e.slice(0,s),o=e.length>s;return a.jsxs("div",{className:I("space-y-2",r),children:[t&&a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(m1,{className:"h-4 w-4"}),t,e.length>1&&a.jsxs("span",{className:"text-xs text-muted-foreground/70",children:["(",e.length,")"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.map((l,c)=>a.jsx("span",{className:I("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium","bg-muted text-muted-foreground border border-border/50",n?"text-xs":"text-sm"),children:l},c)),o&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-muted/50 text-muted-foreground/70",children:["+",e.length-s]})]})]})}function VA({spell:e,onClick:t,className:n,compact:s=!1}){const r=(i,o)=>{var l,c,u;return i.replace(/<mag>/gi,((l=o.magnitude)==null?void 0:l.toString())||"0").replace(/<dur>/gi,((c=o.duration)==null?void 0:c.toString())||"0").replace(/<area>/gi,((u=o.area)==null?void 0:u.toString())||"0")};return a.jsxs(ue,{className:I("p-6 cursor-pointer hover:shadow-md transition-shadow",n),onClick:t,children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(KQ,{school:e.school,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(je,{className:"text-foreground font-semibold",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(FA,{school:e.school,size:"sm"}),a.jsx(HA,{level:e.level,size:"sm"}),a.jsx(UA,{cost:e.magickaCost,size:"sm"})]})]})]})}),e.effects&&e.effects.filter(i=>i.description).length>0&&a.jsxs("div",{children:[a.jsx(Ps,{className:"text-muted-foreground mb-2",children:"Effects"}),a.jsx("div",{className:"space-y-2",children:e.effects.filter(i=>i.description).map((i,o)=>a.jsxs("div",{className:"p-2 rounded bg-muted border text-sm",children:[a.jsx(Me,{text:r(i.description,i),options:o0(),className:"text-muted-foreground"}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:[i.magnitude>0&&a.jsxs("span",{children:["Magnitude: ",i.magnitude]}),i.duration>0&&a.jsxs("span",{children:["Duration: ",i.duration,"s"]}),i.area>0&&a.jsxs("span",{children:["Area: ",i.area,"ft"]})]})]},o))})]})]})}const lJ={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};function cJ({spells:e,variant:t="default",showEffects:n=!0,showTags:s=!0,columns:r=3,className:i="",onSpellClick:o}){return e.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):a.jsx("div",{className:`grid gap-4 ${lJ[r]} ${i}`,children:e.map((l,c)=>a.jsx(VA,{spell:l,onClick:()=>o==null?void 0:o(l),compact:t==="compact"},`${l.name}-${l.editorId}-${c}`))})}function uJ({spells:e,variant:t="default",showEffects:n=!0,showTags:s=!0,className:r="",onSpellClick:i}){return e.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):a.jsx("div",{className:`space-y-4 ${r}`,children:e.map((o,l)=>a.jsx(VA,{spell:o,onClick:()=>i==null?void 0:i(o),compact:t==="compact"},`${o.name}-${o.editorId}-${l}`))})}const dJ={Destruction:wl,Restoration:Ys,Conjuration:Ux,Illusion:bl,Alteration:at,"":xs};function fJ({spell:e,isOpen:t,onOpenChange:n}){var r;if(!e)return null;const s=dJ[e.school]||xs;return a.jsx(Hi,{open:t,onOpenChange:n,side:"right",title:e.name,description:`${e.school}  ${e.level}  ${e.magickaCost} MP`,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(s,{className:"w-16 h-16 text-muted-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(oa,{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(FA,{school:e.school,size:"sm"}),a.jsx(HA,{level:e.level,size:"sm"}),a.jsx(UA,{cost:e.magickaCost,size:"sm"})]}),a.jsx(Me,{text:e.description})]})]}),a.jsx(ti,{}),a.jsx(iJ,{stats:{magickaCost:e.magickaCost||0,duration:e.maxDuration&&e.maxDuration>0?e.maxDuration:void 0,area:e.maxArea&&e.maxArea>0?e.maxArea:void 0,magnitude:e.totalMagnitude&&e.totalMagnitude>0?e.totalMagnitude:void 0}}),a.jsx(ti,{}),e.hasEffects&&a.jsxs("div",{children:[a.jsx(je,{className:"text-lg font-semibold mb-3",children:"Effects"}),a.jsx("div",{className:"space-y-2",children:e.effects.filter((i,o,l)=>{const c=i.name.replace(/\s*\(Single\)|\s*\(Dual\)/i,""),u=l.findIndex(d=>d.name.replace(/\s*\(Single\)|\s*\(Dual\)/i,"")===c&&d.magnitude===i.magnitude&&d.duration===i.duration);return o===u}).map((i,o)=>a.jsxs("div",{className:"p-3 rounded bg-muted border",children:[a.jsx("div",{className:"font-medium text-foreground mb-2",children:i.name}),i.description&&a.jsx(Me,{text:i.description,className:"text-sm text-muted-foreground mb-2"}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[i.magnitude>0&&a.jsxs("span",{children:["Magnitude: ",i.magnitude]}),i.duration>0&&a.jsxs("span",{children:["Duration: ",i.duration,"s"]}),i.area>0&&a.jsxs("span",{children:["Area: ",i.area,"ft"]})]})]},o))})]}),e.tags&&e.tags.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(ti,{}),a.jsx(oJ,{tags:e.tags,title:"Tags",maxDisplay:20})]}),(e.tome||((r=e.vendors)==null?void 0:r.length)||e.halfCostPerk)&&a.jsxs(a.Fragment,{children:[a.jsx(ti,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(je,{className:"text-lg font-semibold",children:"Additional Information"}),e.tome&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"w-4 h-4 text-muted-foreground"}),a.jsx(Ps,{className:"text-muted-foreground",children:"Spell Tome"})]}),a.jsx(ve,{className:"text-sm",children:e.tome})]}),e.vendors&&e.vendors.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ps,{className:"text-muted-foreground",children:"Available From"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.vendors.map((i,o)=>a.jsx(q,{variant:"outline",className:"text-xs",children:i},o))})]}),e.halfCostPerk&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"w-4 h-4 text-muted-foreground"}),a.jsx(Ps,{className:"text-muted-foreground",children:"Half Cost Perk"})]}),a.jsx(ve,{className:"text-sm",children:e.halfCostPerkName})]})]})]}),a.jsx(ti,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(je,{className:"text-lg font-semibold",children:"Game Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Editor ID:"}),a.jsx("span",{className:"break-all font-mono",children:e.editorId})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"School:"}),a.jsx("span",{children:e.school})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Level:"}),a.jsx("span",{children:e.level})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Effects:"}),a.jsx("span",{children:e.effectCount})]})]})]})]})})}function mJ(){const{spells:e,loading:t,error:n}=YQ(),{viewMode:s,setViewMode:r}=XQ(),i=Array.isArray(e)?e:[],[o,l]=g.useState(null),[c,u]=g.useState(!1),[d,f]=g.useState("alphabetical"),m=N=>{l(N),u(!0)},h=g.useMemo(()=>{if(i.length===0)return[];const N=[...new Set(i.map(S=>S.school))],k=[...new Set(i.map(S=>S.level))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search spells by name, school, level, or effects...",options:[]},{id:"schools",name:"Magic Schools",placeholder:"Filter by school...",options:N.map(S=>({id:`school-${S}`,label:S,value:S,category:"Magic Schools",description:`${S} spells`}))},{id:"levels",name:"Spell Levels",placeholder:"Filter by level...",options:k.map(S=>({id:`level-${S}`,label:S,value:S,category:"Spell Levels",description:`${S} spells`}))}]},[i]),[p,y]=g.useState([]),b=N=>{let k;typeof N=="string"?k={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:k={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},p.some(S=>S.value===k.value&&S.category===k.category)||y(S=>[...S,k])},v=N=>{y(k=>k.filter(S=>S.id!==N))},x=()=>{y([])},w=i.filter(N=>p.length===0?!0:p.every(k=>{switch(k.category){case"Magic Schools":return N.school===k.value;case"Spell Levels":return N.level===k.value;case"Fuzzy Search":const S=k.value.toLowerCase();return N.name.toLowerCase().includes(S)||N.school.toLowerCase().includes(S)||N.level.toLowerCase().includes(S)||N.effects.some(E=>E.description.toLowerCase().includes(S));default:return!0}})),j=g.useMemo(()=>[...w].sort((N,k)=>{switch(d){case"alphabetical":return N.name.localeCompare(k.name);case"school":const S=N.school.localeCompare(k.school);return S!==0?S:N.name.localeCompare(k.name);case"level":const E=ej[N.level]||0,C=ej[k.level]||0;return E!==C?E-C:N.name.localeCompare(k.name);default:return 0}}),[w,d]);return t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading spells..."})]})}):n?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("p",{className:"text-destructive mb-4",children:["Error loading spells: ",n]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:["Debug: ",i.length," spells, ",h.length," search categories",h.length>0&&a.jsxs("div",{className:"mt-1",children:["Categories: ",h.map(N=>`${N.name}(${N.options.length})`).join(", ")]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:h.length>0?a.jsx(Ia,{categories:h,onSelect:b,onCustomSearch:b}):a.jsxs("div",{className:"p-4 border border-dashed border-muted-foreground/20 rounded-lg text-center text-muted-foreground",children:["No search categories available. Spells loaded: ",i.length]})}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:d,onChange:N=>f(N.target.value),className:"appearance-none bg-background border border-border rounded-lg px-3 py-1.5 pr-8 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent cursor-pointer",children:[a.jsx("option",{value:"alphabetical",children:"Sort: A-Z"}),a.jsx("option",{value:"school",children:"Sort: School"}),a.jsx("option",{value:"level",children:"Sort: Level"})]}),a.jsx(Rt,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]}),a.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[a.jsx("button",{onClick:()=>r("grid"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${s==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"Grid view",children:"Grid"}),a.jsx("button",{onClick:()=>r("list"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${s==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"List view",children:"List"})]})]}),p.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:x,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx("span",{className:"text-lg",children:""}),"Clear All"]}),p.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>v(N.id),title:"Click to remove",children:[N.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[j.length," of ",i.length," spells"]}),a.jsx("div",{children:j.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No spells found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}):a.jsxs(a.Fragment,{children:[s==="grid"&&a.jsx(cJ,{spells:j,variant:"default",columns:3,onSpellClick:m}),s==="list"&&a.jsx(uJ,{spells:j,variant:"default",onSpellClick:m})]})}),a.jsx(fJ,{spell:o,isOpen:c,onOpenChange:u})]})}function hJ(){return a.jsx(Jt,{title:"Spell Reference",description:"Browse and search all available spells. Find the perfect magic for your character build.",children:a.jsx(mJ,{})})}const gJ=e=>{switch(e){case"alphabetical":return"A-Z";case"category":return"Category";case"effect-count":return"Effect Count";default:return"A-Z"}};function pJ(){const{data:e,loading:t,error:n,reload:s}=o8(),r=e||[],[i,o]=g.useState([]),[l,c]=g.useState("alphabetical"),[u,d]=g.useState("grid");g.useMemo(()=>r.map(zb),[r]);const m=(()=>{const N=sA(r),k=rA(r);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:N.map(S=>({id:`category-${S}`,label:S,value:S,category:"Categories",description:`Traits in ${S} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:k.map(S=>({id:`tag-${S}`,label:S,value:S,category:"Tags",description:`Traits tagged with ${S}`}))}]})(),h=N=>{let k;typeof N=="string"?k={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:k={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},i.some(S=>S.value===k.value&&S.category===k.category)||o(S=>[...S,k])},p=N=>{o(k=>k.filter(S=>S.id!==N))},y=r.filter(N=>i.length===0?!0:i.every(k=>{var S;switch(k.category){case"Fuzzy Search":return!0;case"Categories":return N.category===k.value;case"Tags":return((S=N.tags)==null?void 0:S.some(E=>E===k.value))||!1;default:return!0}})),b=i.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredTraits:v}=nA(y,b),x=v.map(zb),w=r.map(N=>N.id||N.name),j=[...x].sort((N,k)=>{var S,E;switch(l){case"alphabetical":return N.name.localeCompare(k.name);case"category":const C=A=>{switch(A){case"Combat":return 1;case"Magic":return 2;case"Stealth":return 3;case"Social":return 4;case"Survival":return 5;default:return 6}},T=C(N.category),_=C(k.category);return T!==_?T-_:N.name.localeCompare(k.name);case"effect-count":const O=((S=N.effects)==null?void 0:S.length)||0,L=((E=k.effects)==null?void 0:E.length)||0;return O!==L?L-O:N.name.localeCompare(k.name);default:return 0}});return t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:n}),a.jsx("button",{onClick:()=>s(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsxs(Jt,{title:"Traits",description:"Choose your character's traits. Traits provide unique abilities and modifiers that will shape your character's capabilities throughout their journey.",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx(Ia,{categories:m,onSelect:h,onCustomSearch:h})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(U,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),className:"flex items-center gap-2",children:[a.jsx(Di,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(U,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Bi,{children:[a.jsx(Fi,{asChild:!0,children:a.jsxs(U,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",gJ(l),a.jsx(Rt,{className:"h-4 w-4"})]})}),a.jsxs(Oa,{align:"end",children:[a.jsx(on,{onClick:()=>c("alphabetical"),children:"Alphabetical"}),a.jsx(on,{onClick:()=>c("category"),children:"Category"}),a.jsx(on,{onClick:()=>c("effect-count"),children:"Effect Count"})]})]})})]}),a.jsx("div",{className:"my-4",children:i.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>o([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(He,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),i.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>p(N.id),title:"Click to remove",children:[N.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})}),u==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:j.map(N=>a.jsx(Lw,{item:N,isExpanded:!0,className:"w-full",allTraitIds:w},N.id))}):a.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:j.map(N=>a.jsx(Lw,{item:N,isExpanded:!0,className:"w-full",allTraitIds:w},N.id))}),j.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}const xJ=s0,vJ=r0,GA=g.forwardRef(({className:e,...t},n)=>a.jsx(cu,{ref:n,className:I("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:kt.MODAL},...t}));GA.displayName=cu.displayName;const qA=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(vJ,{children:[a.jsx(GA,{}),a.jsxs(uu,{ref:s,className:I("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),style:{zIndex:kt.MODAL+1,backgroundColor:"hsl(var(--background))"},...n,children:[t,a.jsxs(SS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qA.displayName=uu.displayName;const ZA=({className:e,...t})=>a.jsx("div",{className:I("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ZA.displayName="DialogHeader";const YA=g.forwardRef(({className:e,...t},n)=>a.jsx(du,{ref:n,className:I("text-lg font-semibold leading-none tracking-tight",e),...t}));YA.displayName=du.displayName;const XA=g.forwardRef(({className:e,...t},n)=>a.jsx(fu,{ref:n,className:I("text-sm text-muted-foreground",e),...t}));XA.displayName=fu.displayName;const yJ=Nl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Bd=g.forwardRef(({className:e,variant:t,...n},s)=>a.jsx("div",{ref:s,role:"alert",className:I(yJ({variant:t}),e),...n}));Bd.displayName="Alert";const bJ=g.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:I("mb-1 font-medium leading-none tracking-tight",e),...t}));bJ.displayName="AlertTitle";const Fd=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:I("text-sm [&_p]:leading-relaxed",e),...t}));Fd.displayName="AlertDescription";class wJ{constructor(){ze(this,"cache",new Map)}async loadRaces(){const t="races";if(this.cache.has(t))return this.cache.get(t);try{const n=await fetch("/data/gigaplanner/races.json");if(!n.ok)throw new Error(`Failed to load races data: ${n.status} ${n.statusText}`);const s=await n.json();if(!Array.isArray(s))throw new Error("Races data is not an array");for(const r of s){if(!r.id||!r.name||!r.edid)throw new Error(`Invalid race data: missing required fields for ${r.name||"unknown"}`);if(!Array.isArray(r.startingHMS)||r.startingHMS.length!==3)throw new Error(`Invalid race data: startingHMS must be array of 3 numbers for ${r.name}`);if(!Array.isArray(r.startingSkills)||r.startingSkills.length!==20)throw new Error(`Invalid race data: startingSkills must be array of 20 numbers for ${r.name}`)}return this.cache.set(t,s),s}catch(n){throw console.error("Error loading races data:",n),new Error(`Failed to load races data: ${n instanceof Error?n.message:"Unknown error"}`)}}async loadStandingStones(){const t="standingStones";if(this.cache.has(t))return this.cache.get(t);try{const n=await fetch("/data/gigaplanner/standingStones.json");if(!n.ok)throw new Error(`Failed to load standing stones data: ${n.status} ${n.statusText}`);const s=await n.json();if(!Array.isArray(s))throw new Error("Standing stones data is not an array");for(const r of s)if(!r.id||!r.name)throw new Error(`Invalid standing stone data: missing required fields for ${r.name||"unknown"}`);return this.cache.set(t,s),s}catch(n){throw console.error("Error loading standing stones data:",n),new Error(`Failed to load standing stones data: ${n instanceof Error?n.message:"Unknown error"}`)}}async loadBlessings(){const t="blessings";if(this.cache.has(t))return this.cache.get(t);try{const n=await fetch("/data/gigaplanner/blessings.json");if(!n.ok)throw new Error(`Failed to load blessings data: ${n.status} ${n.statusText}`);const s=await n.json();if(!Array.isArray(s))throw new Error("Blessings data is not an array");for(const r of s)if(typeof r!="string")throw new Error(`Invalid blessing data: all entries must be strings, got ${typeof r}`);return this.cache.set(t,s),s}catch(n){throw console.error("Error loading blessings data:",n),new Error(`Failed to load blessings data: ${n instanceof Error?n.message:"Unknown error"}`)}}async loadGameMechanics(){const t="gameMechanics";if(this.cache.has(t))return this.cache.get(t);try{const n=await fetch("/data/gigaplanner/gameMechanics.json");if(!n.ok)throw new Error(`Failed to load game mechanics data: ${n.status} ${n.statusText}`);const s=await n.json();if(!Array.isArray(s))throw new Error("Game mechanics data is not an array");for(const r of s){if(!r.id||!r.name||r.gameId===void 0)throw new Error(`Invalid game mechanics data: missing required fields for ${r.name||"unknown"}`);if(!r.derivedAttributes||!r.derivedAttributes.attribute)throw new Error(`Invalid game mechanics data: missing derivedAttributes for ${r.name}`);const{derivedAttributes:i}=r,o=i.attribute.length;if(i.isPercent.length!==o||i.prefactor.length!==o||i.threshold.length!==o||i.weight_health.length!==o||i.weight_magicka.length!==o||i.weight_stamina.length!==o)throw new Error(`Invalid game mechanics data: derivedAttributes arrays have inconsistent lengths for ${r.name}`)}return this.cache.set(t,s),s}catch(n){throw console.error("Error loading game mechanics data:",n),new Error(`Failed to load game mechanics data: ${n instanceof Error?n.message:"Unknown error"}`)}}async loadPresets(){const t="presets";if(this.cache.has(t))return this.cache.get(t);try{const n=await fetch("/data/gigaplanner/presets.json");if(!n.ok)throw new Error(`Failed to load presets data: ${n.status} ${n.statusText}`);const s=await n.json();if(!Array.isArray(s))throw new Error("Presets data is not an array");for(const r of s){if(!r.id||!r.name||r.presetId===void 0)throw new Error(`Invalid preset data: missing required fields for ${r.name||"unknown"}`);if(typeof r.perks!="number"||typeof r.races!="number"||typeof r.gameMechanics!="number"||typeof r.blessings!="number")throw new Error(`Invalid preset data: reference fields must be numbers for ${r.name}`);if(!r.version||!r.version.match(/^\d+\.\d+\.\d+$/))throw new Error(`Invalid preset data: version must be in format x.y.z for ${r.name}`)}return this.cache.set(t,s),s}catch(n){throw console.error("Error loading presets data:",n),new Error(`Failed to load presets data: ${n instanceof Error?n.message:"Unknown error"}`)}}async loadPerks(){const t="perks";if(this.cache.has(t))return this.cache.get(t);try{const n=await fetch("/data/gigaplanner/perks.json");if(!n.ok)throw new Error(`Failed to load perks data: ${n.status} ${n.statusText}`);const s=await n.json();if(!s||typeof s!="object")throw new Error("Perks data is not an object");if(!s.id||!s.name||s.perkListId===void 0)throw new Error("Invalid perks data: missing required fields");if(!Array.isArray(s.skillNames)||s.skillNames.length===0)throw new Error("Invalid perks data: skillNames must be a non-empty array");if(!Array.isArray(s.perks)||s.perks.length===0)throw new Error("Invalid perks data: perks must be a non-empty array");for(const r of s.perks){if(!r.id||!r.name||!r.skill||r.skillReq===void 0)throw new Error(`Invalid perk data: missing required fields for ${r.name||"unknown"}`);if(!s.skillNames.includes(r.skill))throw new Error(`Invalid perk data: skill '${r.skill}' not found in skillNames for ${r.name}`);if(!Array.isArray(r.prerequisites))throw new Error(`Invalid perk data: prerequisites must be an array for ${r.name}`)}return this.cache.set(t,[s]),[s]}catch(n){throw console.error("Error loading perks data:",n),new Error(`Failed to load perks data: ${n instanceof Error?n.message:"Unknown error"}`)}}async loadAllData(){const[t,n,s,r,i,o]=await Promise.all([this.loadRaces(),this.loadStandingStones(),this.loadBlessings(),this.loadGameMechanics(),this.loadPresets(),this.loadPerks()]);return{races:t,standingStones:n,blessings:s,gameMechanics:r,presets:i,perks:o}}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}class jJ{constructor(){ze(this,"dataLoader");ze(this,"data",null);ze(this,"lookupMaps",{});this.dataLoader=new wJ}async initialize(){try{this.data=await this.dataLoader.loadAllData(),this.createLookupMaps()}catch(t){throw new Error(`Failed to initialize GigaPlannerConverter: ${t}`)}}createLookupMaps(){if(!this.data)throw new Error("Data not loaded. Call initialize() first.");this.lookupMaps.raceNameToId={},this.lookupMaps.raceIdToName={},this.data.races.forEach((t,n)=>{this.lookupMaps.raceNameToId[t.name]=n,this.lookupMaps.raceIdToName[n]=t.name}),this.lookupMaps.stoneNameToId={},this.lookupMaps.stoneIdToName={},this.data.standingStones.forEach((t,n)=>{this.lookupMaps.stoneNameToId[t.name]=n,this.lookupMaps.stoneIdToName[n]=t.name}),this.lookupMaps.blessingNameToId={},this.lookupMaps.blessingIdToName={},this.data.blessings.forEach((t,n)=>{this.lookupMaps.blessingNameToId[t]=n,this.lookupMaps.blessingIdToName[n]=t}),this.lookupMaps.perkListNameToId={},this.lookupMaps.perkListIdToName={},this.data.perks.forEach(t=>{this.lookupMaps.perkListNameToId[t.name]=t.perkListId,this.lookupMaps.perkListIdToName[t.perkListId]=t.name}),this.lookupMaps.mechanicsNameToId={},this.lookupMaps.mechanicsIdToName={},this.data.gameMechanics.forEach(t=>{this.lookupMaps.mechanicsNameToId[t.name]=t.id,this.lookupMaps.mechanicsIdToName[t.id]=t.name})}decodeUrl(t){try{const n=new URL(t),s=n.searchParams.get("b"),r=n.searchParams.get("p");if(!s)return{success:!1,error:"No build code found in URL"};const i=this.decodeBuildCode(s);return{success:!0,preset:r&&this.data.presets[parseInt(r)]?this.data.presets[parseInt(r)].name:null,character:i}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}decodeBuildCode(t){let n=t.replace(/-/g,"+").replace(/_/g,"/");n=atob(n);const s=n.charCodeAt(0),r=n.charCodeAt(1),i=n.charCodeAt(3),o=this.data.perks.find(u=>u.perkListId===r);console.log(" [Converter] Looking for perkListId:",r),console.log(" [Converter] Looking for gameMechanicsId:",i),console.log(" [Converter] Available perk lists:",this.data.perks.map(u=>({id:u.perkListId,name:u.name}))),console.log(" [Converter] Available game mechanics:",this.data.gameMechanics.map(u=>({id:u.gameId,name:u.name})));const l=this.data.gameMechanics.find(u=>u.gameId===i);if(!o)throw new Error(`Invalid perk list ID: ${r}`);if(!l)throw new Error(`Invalid game mechanics ID: ${i}`);const c={level:n.charCodeAt(5),hmsIncreases:{health:n.charCodeAt(6),magicka:n.charCodeAt(7),stamina:n.charCodeAt(8)},skillLevels:[],oghmaChoice:this.parseOghmaChoice(n.charCodeAt(27),s),race:this.lookupMaps.raceIdToName[n.charCodeAt(28)]||"Unknown",standingStone:this.lookupMaps.stoneIdToName[n.charCodeAt(29)]||"Unknown",blessing:this.lookupMaps.blessingIdToName[n.charCodeAt(30)]||"Unknown",perks:this.parsePerks(n,o),configuration:{perkList:o.name,gameMechanics:l.name}};for(let u=0;u<18;u++)c.skillLevels.push({skill:o.skillNames[u],level:n.charCodeAt(9+u)});return s===2&&c.skillLevels.push({skill:"Level",level:c.level}),c}parseOghmaChoice(t,n){let s=t;return n===2&&(s=s>>4),["None","Health","Magicka","Stamina"][s]||"None"}parsePerks(t,n){const s=[];console.log(" [Perk Parser] Starting perk parsing..."),console.log(" [Perk Parser] PerkList info:",{name:n.name,totalPerks:n.perks.length,skillNames:n.skillNames}),console.log(" [Perk Parser] Build code length:",t.length),console.log(" [Perk Parser] First few bytes:",Array.from(t.slice(0,10)).map(r=>r.charCodeAt(0)));for(let r=0;r<n.perks.length;r++){const i=31+Math.floor(r/8),o=7-r%8,l=t.charCodeAt(i);if((l&1<<o)>0){const u={name:n.perks[r].name,skill:n.perks[r].skill};s.push(u),console.log(` [Perk Parser] Found perk ${r}:`,{name:u.name,skill:u.skill,skillName:n.skillNames[u.skill],byteIndex:i,bitOffset:o,byteValue:l.toString(2).padStart(8,"0")})}}return console.log(" [Perk Parser] Final results:",{totalFound:s.length,bySkill:s.reduce((r,i)=>{const o=n.skillNames[i.skill]||`Skill ${i.skill}`;return r[o]=(r[o]||0)+1,r},{}),allPerks:s.map(r=>({name:r.name,skill:r.skill,skillName:n.skillNames[r.skill]}))}),s}encodeUrl(t,n="https://gigaplanner.com"){try{const s=this.encodeBuildCode(t),r=this.findPresetNumber(t.configuration.perkList);let i=`${n}?b=${s}`;return r!==null&&(i+=`&p=${r}`),{success:!0,url:i}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}encodeBuildCode(t){let s=String.fromCodePoint(2);const r=this.lookupMaps.perkListNameToId[t.configuration.perkList],i=this.lookupMaps.mechanicsNameToId[t.configuration.gameMechanics];if(r===void 0)throw new Error(`Unknown perk list: ${t.configuration.perkList}`);if(i===void 0)throw new Error(`Unknown game mechanics: ${t.configuration.gameMechanics}`);s+=String.fromCodePoint(r),s+=String.fromCodePoint(0),s+=String.fromCodePoint(i),s+=String.fromCodePoint(0),s+=String.fromCodePoint(t.level),s+=String.fromCodePoint(t.hmsIncreases.health),s+=String.fromCodePoint(t.hmsIncreases.magicka),s+=String.fromCodePoint(t.hmsIncreases.stamina);const o=this.data.perks.find(d=>d.perkListId===r);for(let d=0;d<18;d++){const f=t.skillLevels.find(m=>m.skill===o.skillNames[d]);s+=String.fromCodePoint(f?f.level:0)}const c=["None","Health","Magicka","Stamina"].indexOf(t.oghmaChoice);s+=String.fromCodePoint(c<<4),s+=String.fromCodePoint(this.lookupMaps.raceNameToId[t.race]||0),s+=String.fromCodePoint(this.lookupMaps.stoneNameToId[t.standingStone]||0),s+=String.fromCodePoint(this.lookupMaps.blessingNameToId[t.blessing]||0);const u=this.encodePerks(t.perks,o);return s+=u,s=btoa(s),s=s.replace(/\+/g,"-").replace(/\//g,"_"),s.indexOf("=")!==-1&&(s=s.substring(0,s.indexOf("="))),s}encodePerks(t,n){let s="",r=0;for(let o=0;o<n.perks.length;o++){const l=t.includes(n.perks[o].name);r=r<<1|(l?1:0),o%8===7&&(s+=String.fromCodePoint(r),r=0)}const i=n.perks.length%8;if(i>0){const o=8-i;s+=String.fromCodePoint(r<<o)}return s}findPresetNumber(t){const n=this.lookupMaps.perkListNameToId[t],s=this.data.presets.find(r=>r.perks===n);return s?this.data.presets.indexOf(s):null}getDataMappings(){return{perkLists:this.data.perks.map(t=>({id:t.perkListId,name:t.name})),races:this.data.races.map((t,n)=>({id:n,name:t.name})),gameMechanics:this.data.gameMechanics.map(t=>({id:t.id,name:t.name})),standingStones:this.data.standingStones.map((t,n)=>({id:n,name:t.name})),blessings:this.data.blessings.map((t,n)=>({id:n,name:t.name})),presets:this.data.presets.map((t,n)=>({id:n,name:t.name}))}}getPerksForList(t){const n=this.data.perks.find(s=>s.name===t);return n?n.perks.map((s,r)=>({id:r,name:s.name,skill:n.skillNames[s.skill],skillReq:s.skillReq,description:s.description})):[]}}function NJ(){const[e,t]=g.useState({isLoading:!1,error:null,warnings:[],success:!1}),[n,s]=g.useState(null),[r,i]=g.useState(null),o=g.useCallback(async()=>{if(console.log(" [GigaPlanner Import] Initialize called"),console.log(" [GigaPlanner Import] Current converter:",!!n),console.log(" [GigaPlanner Import] Current transformer:",!!r),n&&r)return console.log(" [GigaPlanner Import] Already initialized, skipping"),{converter:n,transformer:r};console.log(" [GigaPlanner Import] Starting initialization..."),t(d=>({...d,isLoading:!0,error:null}));try{console.log(" [GigaPlanner Import] Creating GigaPlannerConverter...");const d=new jJ;console.log(" [GigaPlanner Import] Initializing converter..."),await d.initialize(),console.log(" [GigaPlanner Import] Converter initialized successfully"),console.log(" [GigaPlanner Import] Loading transformation function...");const{transformGigaPlannerToBuildState:f}=await fs(async()=>{const{transformGigaPlannerToBuildState:m}=await import("./transformation-DN39OS5a.js");return{transformGigaPlannerToBuildState:m}},[]);return console.log(" [GigaPlanner Import] Transformation function loaded successfully"),console.log(" [GigaPlanner Import] Setting converter and transformer..."),s(d),i(()=>f),t(m=>({...m,isLoading:!1,success:!0})),console.log(" [GigaPlanner Import] Initialization completed successfully"),{converter:d,transformer:f}}catch(d){return console.log(" [GigaPlanner Import] Initialization error:",d),console.log(" [GigaPlanner Import] Error type:",typeof d),console.log(" [GigaPlanner Import] Error message:",d instanceof Error?d.message:String(d)),t(f=>({...f,isLoading:!1,error:d instanceof Error?d.message:"Failed to initialize GigaPlanner import",success:!1})),null}},[n,r]),l=g.useCallback(async d=>{console.log(" [GigaPlanner Import] importFromUrl called with URL:",d),console.log(" [GigaPlanner Import] Initial converter state:",!!n),console.log(" [GigaPlanner Import] Initial transformer state:",!!r);let f=n,m=r;if(!f||!m){console.log(" [GigaPlanner Import] Converter or transformer missing, initializing...");const h=await o();if(!h)return console.log(" [GigaPlanner Import] Initialization failed"),null;f=h.converter,m=h.transformer,console.log(" [GigaPlanner Import] After initialization - converter:",!!f),console.log(" [GigaPlanner Import] After initialization - transformer:",!!m)}t(h=>({...h,isLoading:!0,error:null,warnings:[]})),console.log(" [GigaPlanner Import] About to start import process..."),console.log(" [GigaPlanner Import] Converter available:",!!f),console.log(" [GigaPlanner Import] Transformer available:",!!m),console.log(" [GigaPlanner Import] Converter instance:",f),console.log(" [GigaPlanner Import] Transformer instance:",m);try{console.log(" [GigaPlanner Import] Starting import process for URL:",d);const h=f.decodeUrl(d);if(console.log(" [GigaPlanner Import] Decode result:",h),!h.success)return t(v=>({...v,isLoading:!1,error:h.error||"Failed to decode GigaPlanner URL",success:!1})),null;if(!h.character)return console.log(" [GigaPlanner Import] No character data found in decode result"),t(v=>({...v,isLoading:!1,error:"No character data found in URL",success:!1})),null;console.log(" [GigaPlanner Import] Character data found:",h.character),console.log(" [GigaPlanner Import] Starting transformation to BuildState...");const p=await m(h.character);if(console.log(" [GigaPlanner Import] Transform result:",p),!p.success)return t(v=>({...v,isLoading:!1,error:p.error||"Failed to transform character data",success:!1})),null;const y=[...h.preset?[`Imported from preset: ${h.preset}`]:[],...p.warnings||[]];t(v=>({...v,isLoading:!1,warnings:y,success:!0}));const b={buildState:p.data||null,warnings:y};return console.log(" [GigaPlanner Import] Import completed successfully!"),console.log(" [GigaPlanner Import] Final result:",b),b}catch(h){return console.log(" [GigaPlanner Import] Error caught during import:",h),console.log(" [GigaPlanner Import] Error type:",typeof h),console.log(" [GigaPlanner Import] Error message:",h instanceof Error?h.message:String(h)),t(p=>({...p,isLoading:!1,error:h instanceof Error?h.message:"Failed to import from GigaPlanner URL",success:!1})),null}},[n,r,o]),c=g.useCallback(async d=>{let f=n,m=r;if(!f||!m){const h=await o();if(!h)return null;f=h.converter,m=h.transformer}t(h=>({...h,isLoading:!0,error:null,warnings:[]}));try{const h=`https://gigaplanner.com?b=${d}`;return await l(h)}catch(h){return t(p=>({...p,isLoading:!1,error:h instanceof Error?h.message:"Failed to import from build code",success:!1})),null}},[n,r,o,l]),u=g.useCallback(()=>{t({isLoading:!1,error:null,warnings:[],success:!1})},[]);return{isLoading:e.isLoading,error:e.error,warnings:e.warnings,success:e.success,initialize:o,importFromUrl:l,importFromBuildCode:c,reset:u,isInitialized:!!n&&!!r}}function SJ({onImport:e,className:t}){const[n,s]=g.useState(""),[r,i]=g.useState(""),[o,l]=g.useState("url"),{isLoading:c,error:u,warnings:d,success:f,importFromUrl:m,importFromBuildCode:h,reset:p}=NJ(),y=async()=>{if(!n.trim())return;console.log(" [Import Card] Starting URL import:",n.trim());const x=await m(n.trim());console.log(" [Import Card] Import result received:",x),x!=null&&x.buildState?(console.log(" [Import Card] BuildState found, calling onImport:",x.buildState),e?(e(x.buildState),console.log(" [Import Card] onImport callback executed")):console.log(" [Import Card] No onImport callback provided")):console.log(" [Import Card] No buildState in result or result is null")},b=async()=>{if(!r.trim())return;console.log(" [Import Card] Starting build code import:",r.trim());const x=await h(r.trim());console.log(" [Import Card] Import result received:",x),x!=null&&x.buildState?(console.log(" [Import Card] BuildState found, calling onImport:",x.buildState),e?(e(x.buildState),console.log(" [Import Card] onImport callback executed")):console.log(" [Import Card] No onImport callback provided")):console.log(" [Import Card] No buildState in result or result is null")},v=()=>{s(""),i(""),p()};return a.jsxs(ue,{className:t,children:[a.jsxs(be,{children:[a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(bh,{className:"h-5 w-5"}),"Import from GigaPlanner"]}),a.jsx(ps,{children:"Import character builds from GigaPlanner URLs or build codes"})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(U,{variant:o==="url"?"default":"outline",size:"sm",onClick:()=>l("url"),children:"URL"}),a.jsx(U,{variant:o==="code"?"default":"outline",size:"sm",onClick:()=>l("code"),children:"Build Code"})]}),o==="url"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(zt,{htmlFor:"gigaplanner-url",children:"GigaPlanner URL"}),a.jsx(Ln,{id:"gigaplanner-url",placeholder:"https://gigaplanner.com?b=...",value:n,onChange:x=>s(x.target.value),disabled:c}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Example: https://gigaplanner.com?b=AgAAAAAA..."})]}),a.jsx(U,{onClick:y,disabled:!n.trim()||c,className:"w-full",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ry,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bh,{className:"mr-2 h-4 w-4"}),"Import from URL"]})})]}),o==="code"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(zt,{htmlFor:"gigaplanner-build-code",children:"Build Code"}),a.jsx(Ln,{id:"gigaplanner-build-code",placeholder:"AgAAAAAA...",value:r,onChange:x=>i(x.target.value),disabled:c}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Example: AgAAAAAA..."})]}),a.jsx(U,{onClick:b,disabled:!r.trim()||c,className:"w-full",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ry,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bh,{className:"mr-2 h-4 w-4"}),"Import from Build Code"]})})]}),u&&a.jsxs(Bd,{variant:"destructive",children:[a.jsx(vi,{className:"h-4 w-4"}),a.jsx(Fd,{children:u})]}),f&&a.jsxs(Bd,{children:[a.jsx(Tc,{className:"h-4 w-4"}),a.jsxs(Fd,{children:["Character imported successfully!",d.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Warnings:"}),a.jsx("ul",{className:"mt-1 space-y-1",children:d.map((x,w)=>a.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",x]},w))})]})]})]}),!u&&d.length>0&&a.jsxs(Bd,{variant:"default",children:[a.jsx(vi,{className:"h-4 w-4"}),a.jsx(Fd,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Import completed with warnings:"}),a.jsx("div",{className:"space-y-1",children:d.map((x,w)=>a.jsx(q,{variant:"secondary",className:"mr-1 mb-1",children:x},w))})]})})]}),(f||u)&&a.jsx(U,{variant:"outline",onClick:v,className:"w-full",disabled:c,children:"Reset"})]})]})}function kJ({open:e,onOpenChange:t,onImport:n}){return a.jsx(xJ,{open:e,onOpenChange:t,children:a.jsxs(qA,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ZA,{children:[a.jsx(YA,{children:"GigaPlanner Tools"}),a.jsx(XA,{children:"Import character builds from GigaPlanner URLs or build codes."})]}),a.jsx("div",{className:"mt-4",children:a.jsx(SJ,{onImport:n})})]})})}function CJ(){const{build:e,updateBuild:t}=nt(),[n,s]=g.useState(e.traitLimits.regular),[r,i]=g.useState(e.traitLimits.bonus),o=g.useCallback(c=>{s(c),t({traitLimits:{...e.traitLimits,regular:c}})},[e.traitLimits,t]),l=g.useCallback(c=>{i(c),t({traitLimits:{...e.traitLimits,bonus:c}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:r,handleRegularLimitChange:o,handleBonusLimitChange:l,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}function EJ(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:s,updateBuild:r}=nt(),[i,o]=g.useState(!1),[l,c]=g.useState(!1),u=CJ();tt();const d=m=>{var p,y,b;console.log(" [Build Page] GigaPlanner import received:",m),console.log(" [Build Page] Current build state before import:",e),console.log(" [Build Page] Current build analysis:"),console.log("  - Current race:",e.race,"(type:",typeof e.race,")"),console.log("  - Current stone:",e.stone,"(type:",typeof e.stone,")"),console.log("  - Current religion:",e.religion,"(type:",typeof e.religion,")"),console.log("  - Current favoriteBlessing:",e.favoriteBlessing,"(type:",typeof e.favoriteBlessing,")"),console.log("  - Current level:",(p=e.attributeAssignments)==null?void 0:p.level),console.log(" [Build Page] Imported race:",m.race),console.log(" [Build Page] Imported stone:",m.stone),console.log(" [Build Page] Imported level:",(y=m.attributeAssignments)==null?void 0:y.level),console.log(" [Build Page] Imported skill levels:",m.skillLevels),console.log(" [Build Page] Full imported build state structure:",JSON.stringify(m,null,2)),console.log(" [Build Page] GigaPlanner data analysis:"),console.log("  - importedBuildState.race:",m.race,"(type:",typeof m.race,")"),console.log("  - importedBuildState.stone:",m.stone,"(type:",typeof m.stone,")"),console.log("  - importedBuildState.religion:",m.religion,"(type:",typeof m.religion,")"),console.log("  - importedBuildState.favoriteBlessing:",m.favoriteBlessing,"(type:",typeof m.favoriteBlessing,")"),console.log("  - importedBuildState.attributeAssignments:",m.attributeAssignments),console.log("  - importedBuildState.skills:",m.skills),console.log("  - importedBuildState.perks:",m.perks),console.log("  - importedBuildState.traits:",m.traits);const h={v:1,name:m.name!==void 0?m.name:e.name,notes:m.notes!==void 0?m.notes:e.notes,race:m.race&&m.race!=="Unknown"?m.race:null,stone:m.stone&&m.stone!=="Unknown"?m.stone:null,attributeAssignments:m.attributeAssignments?{health:m.attributeAssignments.health!==void 0?m.attributeAssignments.health:0,stamina:m.attributeAssignments.stamina!==void 0?m.attributeAssignments.stamina:0,magicka:m.attributeAssignments.magicka!==void 0?m.attributeAssignments.magicka:0,level:m.attributeAssignments.level!==void 0?m.attributeAssignments.level:1,assignments:m.attributeAssignments.assignments||{}}:e.attributeAssignments,skills:m.skills!==void 0?{major:m.skills.major||[],minor:m.skills.minor||[]}:e.skills,perks:m.perks!==void 0?{selected:m.perks.selected||{},ranks:m.perks.ranks||{}}:e.perks,traits:m.traits!==void 0?{regular:m.traits.regular||[],bonus:m.traits.bonus||[]}:e.traits,religion:m.religion&&m.religion!=="Unknown"?m.religion:null,favoriteBlessing:m.favoriteBlessing&&m.favoriteBlessing!=="Unknown"?m.favoriteBlessing:null,destinyPath:m.destinyPath!==void 0?m.destinyPath:e.destinyPath,skillLevels:m.skillLevels!==void 0?m.skillLevels:e.skillLevels};console.log(" [Build Page] Updating build with converted state:",h),console.log(" [Build Page] Converted race:",h.race),console.log(" [Build Page] Converted stone:",h.stone),console.log(" [Build Page] Converted level:",(b=h.attributeAssignments)==null?void 0:b.level),console.log(" [Build Page] Converted destiny path:",h.destinyPath),r(h),console.log(" [Build Page] Build update completed"),setTimeout(()=>{var x,w,j;const v=gr.getState().build;console.log(" [Build Page] Current build state after update (delayed):",v),console.log(" [Build Page] Race after update:",v.race),console.log(" [Build Page] Stone after update:",v.stone),console.log(" [Build Page] Level after update:",(x=v.attributeAssignments)==null?void 0:x.level),console.log(" [Build Store] Full build state after import:"),console.log("  - v:",v.v),console.log("  - name:",v.name),console.log("  - notes:",v.notes),console.log("  - race:",v.race),console.log("  - stone:",v.stone),console.log("  - religion:",v.religion),console.log("  - favoriteBlessing:",v.favoriteBlessing),console.log("  - traits:",v.traits),console.log("  - traitLimits:",v.traitLimits),console.log("  - skills:",v.skills),console.log("  - perks:",v.perks),console.log("  - skillLevels:",v.skillLevels),console.log("  - equipment:",v.equipment),console.log("  - userProgress:",v.userProgress),console.log("  - destinyPath:",v.destinyPath),console.log("  - attributeAssignments:",v.attributeAssignments),console.log(" [Build Store] What we tried to set vs what actually got set:"),console.log("  - Tried to set race:",h.race," Actually set:",v.race),console.log("  - Tried to set stone:",h.stone," Actually set:",v.stone),console.log("  - Tried to set level:",(w=h.attributeAssignments)==null?void 0:w.level," Actually set:",(j=v.attributeAssignments)==null?void 0:j.level),console.log("  - Tried to set blessing:",h.favoriteBlessing," Actually set:",v.favoriteBlessing),console.log("  - Tried to set destiny path:",h.destinyPath," Actually set:",v.destinyPath)},100),c(!1)},f=[{id:"basic-info",component:a.jsx(TS,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),size:"full"},{id:"race",component:a.jsx(qC,{}),size:"half"},{id:"birthsign",component:a.jsx(AC,{}),size:"half"},{id:"trait",component:a.jsx(aA,{}),size:"half"},{id:"religion",component:a.jsx(tE,{}),size:"half"},{id:"favorite-blessing",component:a.jsx(nE,{}),size:"half"},{id:"attributes",component:a.jsx(DS,{}),size:"full"},{id:"skills",component:a.jsx(tA,{}),size:"full"},{id:"destiny",component:a.jsx(BC,{}),size:"full"}];return a.jsxs(Jt,{title:"Character Builder",description:"Create and customize your character build. Choose your race, birthsign, traits, religion, attributes, skills, and destiny to create the perfect character for your playstyle.",children:[a.jsx(KP,{onReset:()=>o(!0),build:e,onOpenGigaPlannerTools:()=>c(!0)}),a.jsx(o$,{open:i,onConfirm:()=>{s(),o(!1)},onCancel:()=>o(!1)}),a.jsx(kJ,{open:l,onOpenChange:c,onImport:d}),a.jsxs(Pa,{defaultValue:"build",className:"w-full",children:[a.jsxs($a,{className:"mb-4",children:[a.jsx(Ot,{value:"build",children:"Build"}),a.jsx(Ot,{value:"config",children:"Config"})]}),a.jsx(qt,{value:"build",children:a.jsx(QP,{cards:f,gap:16})}),a.jsx(qt,{value:"config",children:a.jsx(c$,{regularLimit:u.regularLimit,bonusLimit:u.bonusLimit,onRegularLimitChange:u.handleRegularLimitChange,onBonusLimitChange:u.handleBonusLimitChange,currentRegularCount:u.currentRegularCount,currentBonusCount:u.currentBonusCount})})]})]})}function TJ(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(za,{children:"Crafting"}),a.jsx(Mc,{children:"Plan your crafting recipes and material requirements"})]}),a.jsxs(ue,{children:[a.jsxs(be,{children:[a.jsx(_e,{children:"Coming Soon"}),a.jsx(ps,{children:"Crafting system is under development"})]}),a.jsx(fe,{children:a.jsx(Mc,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function AJ(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(za,{children:"Equipment"}),a.jsx(Mc,{children:"Browse and compare weapons, armor, and items"})]}),a.jsxs(ue,{children:[a.jsxs(be,{children:[a.jsx(_e,{children:"Coming Soon"}),a.jsx(ps,{children:"Equipment database is under development"})]}),a.jsx(fe,{children:a.jsx(Mc,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const _J=P.memo(({enchantment:e,onClick:t,className:n,selected:s=!1})=>a.jsx(ue,{className:I("group relative cursor-pointer transition-all duration-200 hover:shadow-md hover:border-primary/50",s&&"ring-2 ring-primary ring-offset-2",n),onClick:t,role:"button",tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),t==null||t())},children:a.jsxs(fe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[a.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:e.name}),a.jsx("div",{className:"flex gap-1 flex-shrink-0",children:a.jsx(Is,{type:"targetType",value:e.targetType,size:"sm"})})]}),e.hasEffects&&a.jsx("div",{className:"mb-3",children:a.jsx(_f,{effects:e.effects,title:"Effects",compact:!0,showDescriptions:!0,maxDisplay:2})})]})})),MJ=P.memo(({className:e,enchantments:t,loading:n,emptyMessage:s="No enchantments found",onEnchantmentClick:r})=>{const{data:i,loading:o,viewState:l}=Ni(),c=n??o,u=t??i,{sortBy:d,sortOrder:f}=l,m=g.useMemo(()=>u?[...u].sort((p,y)=>{let b,v;switch(d){case"name":b=p.name.toLowerCase(),v=y.name.toLowerCase();break;case"category":b=p.category.toLowerCase(),v=y.category.toLowerCase();break;case"targetType":b=p.targetType,v=y.targetType;break;case"plugin":b=p.plugin.toLowerCase(),v=y.plugin.toLowerCase();break;case"itemCount":b=p.itemCount,v=y.itemCount;break;default:b=p.name.toLowerCase(),v=y.name.toLowerCase()}return b<v?f==="asc"?-1:1:b>v?f==="asc"?1:-1:0}):[],[u,d,f]),h=p=>{r==null||r(p)};return c?a.jsx("div",{className:I("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4",e),children:Array.from({length:8}).map((p,y)=>a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 animate-pulse",children:[a.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),a.jsx("div",{className:"h-3 bg-muted rounded mb-2 w-2/3"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},y))}):m.length===0?a.jsxs("div",{className:I("flex flex-col items-center justify-center py-12 text-center",e),children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Enchantments Found"}),a.jsx("p",{className:"text-muted-foreground",children:s})]}):a.jsx("div",{className:I("grid gap-4","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-3","2xl:grid-cols-4",e),children:m.map(p=>a.jsx(_J,{enchantment:p,onClick:()=>h(p)},p.baseEnchantmentId))})});function RJ(e,t){const[n,s]=g.useState(e);return g.useEffect(()=>{const r=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(r)}},[e,t]),n}const DJ=P.memo(({className:e,showAdvanced:t=!1})=>{const{data:n,filters:s,setFilters:r}=Ni(),[i,o]=g.useState(t),[l,c]=g.useState(s.searchTerm||""),u=RJ(l,300),d=g.useMemo(()=>{const N=[...new Set(n.map(C=>C.category))],k=[...new Set(n.map(C=>C.plugin))],S=[...new Set(n.map(C=>C.targetType))],E=[...new Set(n.flatMap(C=>C.foundOnItems.map(T=>T.type)))];return{categories:N.sort(),plugins:k.sort(),targetTypes:S.sort(),itemTypes:E.sort()}},[n]);P.useEffect(()=>{r({searchTerm:u})},[u,r]);const f=N=>{c(N)},m=(N,k)=>{const S=s.categories||[],E=k?[...S,N]:S.filter(C=>C!==N);r({categories:E})},h=(N,k)=>{const S=s.targetTypes||[],E=k?[...S,N]:S.filter(C=>C!==N);r({targetTypes:E})},p=(N,k)=>{const S=s.plugins||[],E=k?[...S,N]:S.filter(C=>C!==N);r({plugins:E})},y=(N,k)=>{const S=s.itemTypes||[],E=k?[...S,N]:S.filter(C=>C!==N);r({itemTypes:E})},b=N=>{r({hasEffects:N})},v=N=>{r({hasWornRestrictions:N})},x=()=>{r({categories:[],targetTypes:[],itemTypes:[],plugins:[],searchTerm:"",hasEffects:null,hasWornRestrictions:null,minItemCount:null,maxItemCount:null})},w=(N,k)=>{switch(N){case"searchTerm":r({searchTerm:""});break;case"categories":r({categories:[]});break;case"targetTypes":r({targetTypes:[]});break;case"plugins":r({plugins:[]});break;case"itemTypes":r({itemTypes:[]});break;case"hasEffects":r({hasEffects:null});break;case"hasWornRestrictions":r({hasWornRestrictions:null});break}},j=s.searchTerm||s.categories.length>0||s.targetTypes.length>0||s.plugins.length>0||s.itemTypes.length>0||s.hasEffects!==null||s.hasWornRestrictions!==null;return a.jsxs("div",{className:I("space-y-4",e),children:[a.jsxs("div",{className:"relative",children:[a.jsx(pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Ln,{placeholder:"Search enchantments...",value:l,onChange:N=>f(N.target.value),className:"pl-10"})]}),j&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.searchTerm&&a.jsxs(q,{variant:"secondary",className:"gap-1",children:['Search: "',s.searchTerm,'"',a.jsx("button",{onClick:()=>w("searchTerm"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(He,{className:"h-3 w-3"})})]}),s.categories.map(N=>a.jsxs(q,{variant:"secondary",className:"gap-1",children:["Category: ",N,a.jsx("button",{onClick:()=>w("categories"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(He,{className:"h-3 w-3"})})]},N)),s.targetTypes.map(N=>a.jsxs(q,{variant:"secondary",className:"gap-1",children:[a.jsx(Is,{type:"targetType",value:N,size:"sm"}),a.jsx("button",{onClick:()=>w("targetTypes"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(He,{className:"h-3 w-3"})})]},N)),s.plugins.map(N=>a.jsxs(q,{variant:"secondary",className:"gap-1",children:["Plugin: ",N,a.jsx("button",{onClick:()=>w("plugins"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(He,{className:"h-3 w-3"})})]},N)),s.itemTypes.map(N=>a.jsxs(q,{variant:"secondary",className:"gap-1",children:[a.jsx(Is,{type:"itemType",value:N,size:"sm"}),a.jsx("button",{onClick:()=>w("itemTypes"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(He,{className:"h-3 w-3"})})]},N)),s.hasEffects!==null&&a.jsxs(q,{variant:"secondary",className:"gap-1",children:["Has Effects: ",s.hasEffects?"Yes":"No",a.jsx("button",{onClick:()=>w("hasEffects"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(He,{className:"h-3 w-3"})})]}),s.hasWornRestrictions!==null&&a.jsxs(q,{variant:"secondary",className:"gap-1",children:["Has Restrictions: ",s.hasWornRestrictions?"Yes":"No",a.jsx("button",{onClick:()=>w("hasWornRestrictions"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(He,{className:"h-3 w-3"})})]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:x,className:"h-6 px-2 text-xs",children:"Clear All"})]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>o(!i),className:"flex items-center gap-2",children:[a.jsx(h3,{className:"h-4 w-4"}),"Filters",i?a.jsx(Ec,{className:"h-4 w-4"}):a.jsx(Rt,{className:"h-4 w-4"})]}),i&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(zt,{children:"Categories"}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:d.categories.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`category-${N}`,checked:s.categories.includes(N),onChange:k=>m(N,k.target.checked),className:"rounded border-gray-300"}),a.jsx(zt,{htmlFor:`category-${N}`,className:"text-sm",children:N})]},N))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(zt,{children:"Target Type"}),a.jsx("div",{className:"space-y-2",children:d.targetTypes.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`target-${N}`,checked:s.targetTypes.includes(N),onChange:k=>h(N,k.target.checked),className:"rounded border-gray-300"}),a.jsx(zt,{htmlFor:`target-${N}`,className:"text-sm",children:a.jsx(Is,{type:"targetType",value:N,size:"sm"})})]},N))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(zt,{children:"Plugin"}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:d.plugins.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`plugin-${N}`,checked:s.plugins.includes(N),onChange:k=>p(N,k.target.checked),className:"rounded border-gray-300"}),a.jsx(zt,{htmlFor:`plugin-${N}`,className:"text-sm",children:N})]},N))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(zt,{children:"Item Type"}),a.jsx("div",{className:"space-y-2",children:d.itemTypes.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`item-${N}`,checked:s.itemTypes.includes(N),onChange:k=>y(N,k.target.checked),className:"rounded border-gray-300"}),a.jsx(zt,{htmlFor:`item-${N}`,className:"text-sm",children:a.jsx(Is,{type:"itemType",value:N,size:"sm"})})]},N))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(zt,{children:"Has Effects"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"has-effects",checked:s.hasEffects===!0,onChange:N=>b(N.target.checked),className:"rounded border-gray-300"}),a.jsx(zt,{htmlFor:"has-effects",className:"text-sm",children:"Has Effects"})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(zt,{children:"Has Worn Restrictions"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"has-restrictions",checked:s.hasWornRestrictions===!0,onChange:N=>v(N.target.checked),className:"rounded border-gray-300"}),a.jsx(zt,{htmlFor:"has-restrictions",className:"text-sm",children:"Has Restrictions"})]})})]})]})]})}),LJ=()=>{const{data:e,filters:t}=Ni(),n=g.useCallback(f=>{if(!f)return()=>!0;const m=f.toLowerCase();return h=>h.searchableText.includes(m)},[]),s=g.useCallback(f=>f.length===0?()=>!0:m=>f.includes(m.category),[]),r=g.useCallback(f=>f.length===0?()=>!0:m=>f.includes(m.targetType),[]),i=g.useCallback(f=>f.length===0?()=>!0:m=>f.includes(m.plugin),[]),o=g.useCallback(f=>f.length===0?()=>!0:m=>m.foundOnItems.map(p=>p.type).some(p=>f.includes(p)),[]),l=g.useCallback(f=>f===null?()=>!0:m=>m.hasEffects===f,[]),c=g.useCallback(f=>f===null?()=>!0:m=>m.wornRestrictions.length>0===f,[]),u=g.useCallback((f,m)=>f===null&&m===null?()=>!0:h=>!(f!==null&&h.itemCount<f||m!==null&&h.itemCount>m),[]),d=g.useMemo(()=>{const f=n(t.searchTerm),m=s(t.categories),h=r(t.targetTypes),p=i(t.plugins),y=o(t.itemTypes),b=l(t.hasEffects),v=c(t.hasWornRestrictions),x=u(t.minItemCount,t.maxItemCount);return e.filter(w=>f(w)&&m(w)&&h(w)&&p(w)&&y(w)&&b(w)&&v(w)&&x(w))},[e,t,n,s,r,i,o,l,c,u]);return{filteredEnchantments:d,filters:t,totalCount:e.length,filteredCount:d.length}},zJ=({className:e,showFilters:t=!0,onEnchantmentClick:n})=>{const{filteredEnchantments:s,totalCount:r,filteredCount:i}=LJ();return a.jsxs("div",{className:I("space-y-6",e),children:[t&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(DJ,{}),i!==r&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",i," of ",r," enchantments"]})]}),a.jsx(MJ,{enchantments:s,loading:!1,onEnchantmentClick:n})]})},PJ=P.memo(({enchantment:e,open:t,onOpenChange:n,className:s})=>{const{data:r}=Ni(),i=e,o=i?r.findIndex(h=>h.baseEnchantmentId===i.baseEnchantmentId):-1,l=o>0,c=o<r.length-1,u=()=>{l&&i&&(r[o-1],n(!1))},d=()=>{c&&i&&(r[o+1],n(!1))},f=()=>{n(!1)},m=async()=>{if(!i)return;const h=`${i.name}

Effects:
${i.effects.map(p=>`- ${p.name}: ${p.description}`).join(`
`)}

Found on: ${i.foundOnItems.map(p=>p.name).join(", ")}`;try{await navigator.clipboard.writeText(h)}catch(p){console.error("Failed to copy to clipboard:",p)}};return i?a.jsx(Hi,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:i.name}),a.jsx(U,{variant:"ghost",size:"sm",onClick:f,className:"h-8 w-8 p-0",children:a.jsx(He,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:u,disabled:!l,className:"flex items-center gap-2",children:[a.jsx(cm,{className:"h-4 w-4"}),"Previous"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[o+1," of ",r.length]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:d,disabled:!c,className:"flex items-center gap-2",children:["Next",a.jsx(yl,{className:"h-4 w-4"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Is,{type:"category",value:i.category,size:"lg"}),a.jsx(Is,{type:"targetType",value:i.targetType,size:"lg"})]}),i.hasEffects&&a.jsx("div",{children:a.jsx(_f,{effects:i.effects,title:"Enchantment Effects",showDescriptions:!0,compact:!1})}),a.jsx("div",{children:a.jsx(zp,{items:i.foundOnItems,title:"Found on Items",showType:!0,compact:!1})}),i.wornRestrictions.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Worn Restrictions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.wornRestrictions.map((h,p)=>a.jsx("span",{className:"text-sm bg-muted text-muted-foreground px-3 py-1 rounded-full",children:h},p))})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Plugin:"}),a.jsx("div",{className:"font-medium",children:i.plugin})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Item Count:"}),a.jsx("div",{className:"font-medium",children:i.itemCount})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Effect Count:"}),a.jsx("div",{className:"font-medium",children:i.effectCount})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"ID:"}),a.jsx("div",{className:"font-mono text-xs",children:i.baseEnchantmentId})]})]})}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:m,className:"flex items-center gap-2",children:[a.jsx(o1,{className:"h-4 w-4"}),"Copy Details"]}),a.jsxs(U,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a.jsx(f1,{className:"h-4 w-4"}),"Share"]})]})]})]})}):null});function Ya({title:e,value:t,description:n,icon:s,trend:r,trendValue:i,className:o,variant:l="default"}){const c=()=>{switch(r){case"up":return a.jsx(Ac,{className:"h-4 w-4 text-green-500"});case"down":return a.jsx(Gg,{className:"h-4 w-4 text-red-500"});case"neutral":return a.jsx(ko,{className:"h-4 w-4 text-gray-500"});default:return null}},u=()=>{switch(l){case"highlight":return"border-primary/20 bg-primary/5";case"muted":return"border-muted bg-muted/20";default:return"border-border bg-card"}};return a.jsxs(ue,{className:I("transition-all duration-200 hover:shadow-md",u(),o),children:[a.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(_e,{className:"text-sm font-medium text-muted-foreground",children:e}),s&&a.jsx("div",{className:"text-muted-foreground",children:s})]}),a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-2xl font-bold",children:typeof t=="number"?t.toLocaleString():t}),n&&a.jsx("p",{className:"text-xs text-muted-foreground",children:n})]}),r&&a.jsxs("div",{className:"flex items-center gap-1",children:[c(),i&&a.jsx("span",{className:I("text-xs font-medium",r==="up"&&"text-green-600",r==="down"&&"text-red-600",r==="neutral"&&"text-gray-600"),children:i})]})]})})]})}function il({title:e,description:t,children:n,className:s,isLoading:r=!1,error:i,height:o="h-64"}){return a.jsxs(ue,{className:I("transition-all duration-200",s),children:[a.jsxs(be,{className:"pb-3",children:[a.jsx(_e,{className:"text-lg font-semibold",children:e}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),a.jsx(fe,{children:a.jsx("div",{className:I("w-full",o),children:r?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading chart..."})]})}):i?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm text-destructive",children:i})})}):n})})]})}function $J({data:e,total:t,className:n,title:s="Category Breakdown",description:r="Distribution of enchantments by category"}){if(!e||e.length===0)return a.jsx(il,{title:s,description:r,className:n,error:"No data available"});const i=Math.max(...e.map(o=>o.value));return a.jsx(il,{title:s,description:r,className:n,children:a.jsx("div",{className:"space-y-3",children:e.map((o,l)=>{const c=t>0?o.value/t*100:0,u=i>0?o.value/i*100:0;return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-medium truncate",children:o.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"secondary",className:"text-xs",children:o.value}),a.jsxs("span",{className:"text-muted-foreground text-xs",children:[c.toFixed(1),"%"]})]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:I("h-2 rounded-full transition-all duration-300","bg-gradient-to-r from-blue-500 to-blue-600"),style:{width:`${u}%`}})})]},o.name)})})})}const Tj=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-orange-500","bg-cyan-500"];function OJ({data:e,total:t,className:n}){return!e||e.length===0?a.jsx(il,{title:"Target Type Distribution",description:"Distribution of enchantments by target type",className:n,error:"No data available"}):a.jsx(il,{title:"Target Type Distribution",description:"Distribution of enchantments by target type",className:n,children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map((s,r)=>{const i=t>0?s.value/t*100:0,o=Tj[r%Tj.length];return a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[a.jsx("div",{className:I("w-4 h-4 rounded-full",o)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:s.name}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.value," (",i.toFixed(1),"%)"]})]})]},s.name)})})}),a.jsxs("div",{className:"lg:w-48 space-y-3",children:[a.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[a.jsx("div",{className:"text-2xl font-bold",children:t}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Enchantments"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[a.jsx("div",{className:"text-2xl font-bold",children:e.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Target Types"})]})]})]})})}function Aj({title:e,description:t,data:n,columns:s,className:r,maxRows:i,sortBy:o,sortDirection:l,onSort:c}){const[u,d]=g.useState(null),[f,m]=g.useState("desc"),h=x=>{c?c(x):u===x?m(f==="asc"?"desc":"asc"):(d(x),m("desc"))},p=g.useMemo(()=>{const x=o||u,w=l||f;return x?[...n].sort((j,N)=>{const k=j[x],S=N[x];if(typeof k=="string"&&typeof S=="string"){const E=k.localeCompare(S);return w==="asc"?E:-E}return typeof k=="number"&&typeof S=="number"?w==="asc"?k-S:S-k:0}):n},[n,o,u,l,f]),y=i?p.slice(0,i):p,b=x=>{const w=o||u,j=l||f;return w!==x?a.jsx(PR,{className:"h-4 w-4"}):j==="asc"?a.jsx(OR,{className:"h-4 w-4"}):a.jsx(MR,{className:"h-4 w-4"})},v=(x,w)=>{const j=x[w.key];return w.render?w.render(j,x):typeof j=="number"?j.toLocaleString():typeof j=="string"?j:String(j)};return a.jsxs(ue,{className:I("transition-all duration-200",r),children:[a.jsxs(be,{className:"pb-3",children:[a.jsx(_e,{className:"text-lg font-semibold",children:e}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),a.jsx(fe,{children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b",children:s.map(x=>a.jsx("th",{className:I("px-4 py-2 text-left text-sm font-medium text-muted-foreground",x.sortable&&"cursor-pointer hover:text-foreground",x.className),onClick:()=>x.sortable&&h(x.key),children:a.jsxs("div",{className:"flex items-center gap-1",children:[x.label,x.sortable&&b(x.key)]})},String(x.key)))})}),a.jsx("tbody",{children:y.map((x,w)=>a.jsx("tr",{className:"border-b border-border/50 hover:bg-muted/50 transition-colors",children:s.map(j=>a.jsx("td",{className:I("px-4 py-3 text-sm",j.className),children:v(x,j)},String(j.key)))},w))})]}),i&&n.length>i&&a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",i," of ",n.length," items"]})})]})})]})}function IJ({data:e,total:t,className:n}){if(!e||e.length===0)return a.jsx(Aj,{title:"Top Effects",description:"Most common enchantment effects",data:[],columns:[],className:n,error:"No data available"});const s=[{key:"name",label:"Effect Name",sortable:!0},{key:"count",label:"Occurrences",sortable:!0,render:i=>a.jsx(q,{variant:"secondary",children:i.toLocaleString()})},{key:"percentage",label:"Percentage",sortable:!0,render:(i,o)=>{const l=t>0?o.count/t*100:0;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-green-500 to-green-600",style:{width:`${Math.min(l,100)}%`}})}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.toFixed(1),"%"]})]})}}],r=e.map(i=>({...i,percentage:t>0?i.count/t*100:0}));return a.jsx(Aj,{title:"Top Effects",description:"Most common enchantment effects",data:r,columns:s,className:n,maxRows:10})}function BJ({data:e,total:t,className:n}){if(!e||e.length===0)return a.jsx(il,{title:"Item Type Distribution",description:"Distribution of items that can be enchanted",className:n,error:"No data available"});const s=Math.max(...e.map(r=>r.value));return a.jsx(il,{title:"Item Type Distribution",description:"Distribution of items that can be enchanted",className:n,height:"h-80",children:a.jsx("div",{className:"space-y-3",children:e.map((r,i)=>{const o=t>0?r.value/t*100:0,l=s>0?r.value/s*100:0;return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-medium truncate",children:r.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",className:"text-xs",children:r.value}),a.jsxs("span",{className:"text-muted-foreground text-xs",children:[o.toFixed(1),"%"]})]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:I("h-2 rounded-full transition-all duration-300","bg-gradient-to-r from-purple-500 to-purple-600"),style:{width:`${l}%`}})})]},r.name)})})})}function FJ(){const{data:e}=Ni();return g.useMemo(()=>{if(!e||e.length===0)return{totalEnchantments:0,categoryBreakdown:{},targetTypeDistribution:{},pluginSources:{},topEffects:[],itemTypeDistribution:{},averageEffectsPerEnchantment:0,enchantmentsWithWornRestrictions:0,totalEffects:0,totalItems:0,uniqueEffects:0,uniqueItemTypes:0};const t={},n={},s={},r={},i={};let o=0,l=0,c=0;e.forEach(h=>{const p=h.category||"Unknown";t[p]=(t[p]||0)+1;const y=h.targetType||"Unknown";n[y]=(n[y]||0)+1;const b=h.plugin||"Unknown";s[b]=(s[b]||0)+1,h.effects.forEach(v=>{const x=v.name||"Unknown Effect";r[x]=(r[x]||0)+1,o++}),h.foundOnItems.forEach(v=>{const x=v.type||"Unknown";i[x]=(i[x]||0)+1,l++}),h.wornRestrictions&&h.wornRestrictions.length>0&&c++});const u=Object.entries(r).map(([h,p])=>({name:h,count:p})).sort((h,p)=>p.count-h.count).slice(0,10),d=o/e.length,f=Object.keys(r).length,m=Object.keys(i).length;return{totalEnchantments:e.length,categoryBreakdown:t,targetTypeDistribution:n,pluginSources:s,topEffects:u,itemTypeDistribution:i,averageEffectsPerEnchantment:Math.round(d*100)/100,enchantmentsWithWornRestrictions:c,totalEffects:o,totalItems:l,uniqueEffects:f,uniqueItemTypes:m}},[e])}function HJ(e){return g.useMemo(()=>{const t=Object.entries(e.categoryBreakdown).map(([i,o])=>({name:i,value:o})).sort((i,o)=>o.value-i.value),n=Object.entries(e.targetTypeDistribution).map(([i,o])=>({name:i,value:o})).sort((i,o)=>o.value-i.value),s=Object.entries(e.pluginSources).map(([i,o])=>({name:i,value:o})).sort((i,o)=>o.value-i.value),r=Object.entries(e.itemTypeDistribution).map(([i,o])=>({name:i,value:o})).sort((i,o)=>o.value-i.value).slice(0,15);return{categoryData:t,targetTypeData:n,pluginData:s,itemTypeData:r,effectsData:e.topEffects}},[e])}function UJ({className:e}){const t=FJ(),n=HJ(t);return a.jsxs("div",{className:I("space-y-6",e),children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Enchantment Statistics"}),a.jsx("p",{className:"text-muted-foreground",children:"Comprehensive analytics and insights about enchantment data"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Ya,{title:"Total Enchantments",value:t.totalEnchantments,description:"All available enchantments",icon:a.jsx(xs,{className:"h-4 w-4"}),variant:"highlight"}),a.jsx(Ya,{title:"Unique Effects",value:t.uniqueEffects,description:"Different effect types",icon:a.jsx(ln,{className:"h-4 w-4"})}),a.jsx(Ya,{title:"Item Types",value:t.uniqueItemTypes,description:"Different item categories",icon:a.jsx(d1,{className:"h-4 w-4"})}),a.jsx(Ya,{title:"Avg Effects/Enchantment",value:t.averageEffectsPerEnchantment,description:"Average effects per enchantment",icon:a.jsx(HR,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Ya,{title:"Total Effects",value:t.totalEffects,description:"All effect instances",icon:a.jsx(Ac,{className:"h-4 w-4"}),variant:"muted"}),a.jsx(Ya,{title:"Total Items",value:t.totalItems,description:"All item instances",icon:a.jsx(at,{className:"h-4 w-4"}),variant:"muted"}),a.jsx(Ya,{title:"With Worn Restrictions",value:t.enchantmentsWithWornRestrictions,description:"Enchantments with restrictions",icon:a.jsx(Nr,{className:"h-4 w-4"}),variant:"muted"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx($J,{data:n.categoryData,total:t.totalEnchantments}),a.jsx(OJ,{data:n.targetTypeData,total:t.totalEnchantments})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(IJ,{data:n.effectsData,total:t.totalEffects}),a.jsx(BJ,{data:n.itemTypeData,total:t.totalItems})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Data Coverage"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.totalEnchantments," enchantments available"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Effect Diversity"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.uniqueEffects," unique effects with ",t.averageEffectsPerEnchantment," average per enchantment"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Item Coverage"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.uniqueItemTypes," item types with ",t.totalItems," total instances"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Restrictions"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.enchantmentsWithWornRestrictions," enchantments have worn restrictions"]})]})]})]})]})}const VJ=()=>{const{loading:e,error:t,data:n}=Ni(),{load:s}=Ni();return g.useEffect(()=>{n.length===0&&!e&&s()},[n.length,e,s]),t?a.jsxs("div",{className:"p-4 text-red-600",children:["Error loading enchantments: ",t]}):null};function GJ(){const[e,t]=g.useState(null),[n,s]=g.useState(!1),[r]=Z5();return g.useEffect(()=>{r.get("selected")},[r]),a.jsxs("div",{className:"bg-background min-h-screen",children:[a.jsx(VJ,{}),a.jsx(PJ,{enchantment:e,open:n,onOpenChange:s}),a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(za,{className:"text-4xl font-bold text-skyrim-gold",children:" Enchantments"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Explore the vast collection of enchantments available in the world. Discover powerful effects, find items that carry these enchantments, and understand the restrictions that govern their use."})]}),a.jsxs(Pa,{defaultValue:"enchantments",className:"w-full",children:[a.jsxs($a,{className:"mb-4",children:[a.jsx(Ot,{value:"enchantments",children:"Enchantments"}),a.jsx(Ot,{value:"statistics",children:"Statistics"})]}),a.jsx(qt,{value:"enchantments",children:a.jsx(zJ,{showFilters:!0,className:"mt-4",onEnchantmentClick:i=>{t(i),s(!0)}})}),a.jsx(qt,{value:"statistics",children:a.jsxs(ue,{className:"border-skyrim-gold/20",children:[a.jsx(be,{children:a.jsx(_e,{className:"text-skyrim-gold flex items-center gap-2",children:" Enchantment Statistics"})}),a.jsx(fe,{children:a.jsx(UJ,{})})]})})]})]})]})}const qJ=()=>{const{build:e,getSummary:t}=nt(),n=tt(),s=t();return!e.name&&!e.race?a.jsxs(ue,{className:"border-dashed border-2 border-muted",children:[a.jsxs(be,{children:[a.jsx(_e,{className:"text-lg",children:"No Character Build"}),a.jsx(ps,{children:"Start building your character to see it here"})]}),a.jsx(fe,{children:a.jsx(U,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):a.jsxs(ue,{children:[a.jsxs(be,{children:[a.jsxs(_e,{className:"text-lg flex items-center justify-between",children:[a.jsx("span",{children:s.name}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),a.jsx(ps,{children:"Current character build status"})]}),a.jsxs(fe,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Race:"}),a.jsx(q,{variant:"secondary",className:"ml-2",children:s.race})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),a.jsx(q,{variant:"secondary",className:"ml-2",children:s.stone})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),a.jsx(q,{variant:"secondary",className:"ml-2",children:s.religion})]})]}),a.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[s.traitCount," traits"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[s.majorSkillCount," major skills"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[s.minorSkillCount," minor skills"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[s.equipmentCount," equipment"]})]})]})]})};function ZJ(){const e=tt(),t=()=>{e("/build")},n=[{name:"GigaPlanner",description:"Advanced build planner with detailed skill trees and optimization",url:"https://multidyls.github.io/GigaPlanner",icon:a.jsx(tf,{className:"h-5 w-5 text-primary"}),category:"Build Planning",author:"Multidyls"},{name:"Character Builder GPT",description:"AI-powered character creation assistant with personalized build recommendations",url:"https://chatgpt.com/g/g-68462f6313d48191bab174806a049ca4-lorerim-builds-wizard-v2?model=gpt-4o",icon:a.jsx(h1,{className:"h-5 w-5 text-primary"}),category:"AI Assistant",author:"Zoldyg"},{name:"Alchemy Calculator",description:"Comprehensive alchemy crafting and ingredient database with detailed recipes",url:"https://docs.google.com/spreadsheets/d/1zUVCaRlqHX_sER-kJR-ZLIAfsFbTj9FQCO-hMfnp4XA/edit?gid=2066962651#gid=2066962651",icon:a.jsx(xs,{className:"h-5 w-5 text-primary"}),category:"Crafting",author:"Rudy"},{name:"Spell Sheet Generator",description:"Lorerim Spell List Google Sheet",url:"https://docs.google.com/spreadsheets/d/1fvYHRfwAprpgEPaXyuteEx0ud9S572noYnlpVq6cJFs/edit?gid=915313506#gid=915313506",icon:a.jsx(_a,{className:"h-5 w-5 text-primary"}),category:"Spells",author:"ImmatureTurtles"},{name:"Weapons Discussion Hub",description:"Deep dive into weapon mechanics, damage calculations, and optimization strategies",url:"https://discord.com/channels/622647066719420427/1382033558754955354",icon:a.jsx(xi,{className:"h-5 w-5 text-primary"}),category:"Combat",author:"Deo"},{name:"Spin Wheel Tool",description:"Random build generator and challenge creator for fun playthroughs",url:"https://spinthewheel.app/YXGCPykcqJ",icon:a.jsx(Tr,{className:"h-5 w-5 text-primary"}),category:"Fun",author:"Sora the Saint"}],s=r=>{r!=="#"&&window.open(r,"_blank","noopener,noreferrer")};return a.jsx("div",{className:"bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-12",children:[a.jsxs("div",{className:"text-left space-y-6",children:[a.jsx("div",{className:"flex items-center gap-3 mb-4 justify-start",children:a.jsx(za,{className:"text-4xl md:text-6xl font-bold text-foreground",children:"Lorerim Arcaneum"})}),a.jsx(RS,{className:"text-xl md:text-2xl text-muted-foreground",children:"A growing collection of Lorerim tools and resources. Build characters, explore mechanics, and contribute to the community."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Big thanks to Biggie Boss"})]}),a.jsx("div",{className:"max-w-md",children:a.jsx(qJ,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[a.jsx(nf,{className:"h-6 w-6 text-primary"}),"Character Building"]}),a.jsx("p",{className:"text-muted-foreground",children:"Create and customize your character from scratch"})]}),a.jsxs(ue,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/30 cursor-pointer group bg-card",onClick:t,children:[a.jsxs(be,{children:[a.jsxs(_e,{className:"flex items-center gap-2 group-hover:text-primary transition-colors text-card-foreground",children:[a.jsx(xs,{className:"h-5 w-5"}),"Start Character Build"]}),a.jsx(ps,{className:"text-muted-foreground",children:"Design your character with races, traits, birthsigns, and more"})]}),a.jsx(fe,{children:a.jsxs(U,{className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:["Begin Building",a.jsx(LR,{className:"ml-2 h-4 w-4"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ue,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/race"),children:a.jsxs(fe,{className:"p-4 text-center",children:[a.jsx(iD,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Races"})]})}),a.jsx(ue,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/birth-signs"),children:a.jsxs(fe,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Birthsigns"})]})}),a.jsx(ue,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/traits"),children:a.jsxs(fe,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Traits"})]})}),a.jsx(ue,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/perks"),children:a.jsxs(fe,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Skills"})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[a.jsx(pi,{className:"h-6 w-6 text-primary"}),"Quick Access"]}),a.jsx("p",{className:"text-muted-foreground",children:"Jump directly to specific tools and features"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ue,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/search"),children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pi,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-card-foreground",children:"Advanced Search"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Detailed search with filters"})]})]})})}),a.jsx(ue,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/spells"),children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xs,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-card-foreground",children:"Spells"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Browse and search spells"})]})]})})}),a.jsx(ue,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/cookbook"),children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(l1,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-card-foreground",children:"Cookbook"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Crafting recipes & guides"})]})]})})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[a.jsx(tf,{className:"h-6 w-6 text-primary"}),"Favorite Tools"]}),a.jsx("p",{className:"text-muted-foreground",children:"Discover the best external tools and resources for Lorerim theorycrafting"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((r,i)=>a.jsxs(ue,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/30 cursor-pointer group bg-card",onClick:()=>s(r.url),children:[a.jsxs(be,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[r.icon,a.jsx(_e,{className:"text-lg group-hover:text-primary transition-colors text-card-foreground",children:r.name})]}),a.jsx(Ma,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-xs font-medium text-primary/80 bg-primary/10 px-2 py-1 rounded-full",children:r.category}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["by ",r.author]})]})]}),a.jsx(fe,{className:"pt-0",children:a.jsx(ps,{className:"text-muted-foreground",children:r.description})})]},i))})]}),a.jsx("div",{className:"text-left pt-8 border-t border-border",children:a.jsx("p",{className:"text-muted-foreground",children:"Crafted by Bardic (Jeremy) Noel, with gratitude to Biggie Boss and the Lorerim community"})})]})})}function YJ(){const e=tt();return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[a.jsx(za,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),a.jsx(ve,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),a.jsx(U,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const XJ=()=>a.jsxs(x5,{children:[a.jsx(yt,{path:"/",element:a.jsx(ZJ,{})}),a.jsxs(yt,{path:"/build",element:a.jsx(q$,{}),children:[a.jsx(yt,{index:!0,element:a.jsx(EJ,{})}),a.jsx(yt,{path:"race",element:a.jsx(YC,{})}),a.jsx(yt,{path:"birth-signs",element:a.jsx(sF,{})}),a.jsx(yt,{path:"traits",element:a.jsx(pJ,{})}),a.jsx(yt,{path:"religions",element:a.jsx($Z,{})}),a.jsx(yt,{path:"destiny",element:a.jsx(PZ,{})}),a.jsx(yt,{path:"perks",element:a.jsx(oj,{})})]}),a.jsx(yt,{path:"/spells",element:a.jsx(hJ,{})}),a.jsx(yt,{path:"/cookbook",element:a.jsx(wZ,{})}),a.jsx(yt,{path:"/search",element:a.jsx(AY,{})}),a.jsx(yt,{path:"/virtual-masonry-demo",element:a.jsx(MY,{})}),a.jsx(yt,{path:"/races-mva-demo",element:a.jsx(AF,{})}),a.jsx(yt,{path:"/skills-mva",element:a.jsx(oj,{})}),a.jsx(yt,{path:"/skills-experimental",element:a.jsx(ZQ,{})}),a.jsx(yt,{path:"/equipment",element:a.jsx(AJ,{})}),a.jsx(yt,{path:"/crafting",element:a.jsx(TJ,{})}),a.jsx(yt,{path:"/enchantments",element:a.jsx(GJ,{})}),a.jsx(yt,{path:"*",element:a.jsx(YJ,{})})]});function WJ(){const{theme:e,setTheme:t}=MS(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},s=()=>{switch(e){case"light":return a.jsx(Dy,{className:"h-4 w-4"});case"dark":return a.jsx(L3,{className:"h-4 w-4"});case"system":return a.jsx(R3,{className:"h-4 w-4"});default:return a.jsx(Dy,{className:"h-4 w-4"})}};return a.jsxs(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[s(),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function KJ({sidebarCollapsed:e,onToggleSidebar:t,isMobile:n=!1,MobileDrawerTrigger:s}){return a.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:kt.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[n&&s?a.jsx("div",{className:"mr-2",children:a.jsx(s,{})}):a.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:a.jsx(E3,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),a.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),a.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),a.jsx("div",{className:"flex-1 max-w-md mx-4",children:a.jsx(EY,{placeholder:"Search skills, races, traits...",className:"w-full"})}),a.jsx("div",{className:"ml-auto",children:a.jsx(WJ,{})})]})}const WA=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"}]},{label:"Docs",items:[{to:"/spells",label:"Spells"},{to:"/cookbook",label:"Food and Alcohol"},{to:"/enchantments",label:"Enchantments"}]}];function QJ({onNavigate:e}){const t=tt(),n=window.location.hash.replace(/^#\/?/,"/"),s=(r,i)=>{const o=window.location.hash,[l,c]=o.split("?"),d=new URLSearchParams(c||"").get("b");t(d?`${r}?b=${d}`:r),e(i)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b border-skyrim-gold/20",children:a.jsxs("button",{onClick:()=>s("/",!0),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[a.jsx(c1,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),a.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:WA.map(r=>a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:r.label}),a.jsx("div",{className:"space-y-1",children:r.items.map(i=>{const o=n===i.to;return a.jsx("button",{onClick:()=>s(i.to,!0),className:`w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] active:scale-[0.98] cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 ${o?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent"}`,children:i.label},i.to)})})]},r.label))}),a.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[a.jsx(ve,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),a.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]})]})}function JJ({collapsed:e,onNavigate:t}){const n=tt(),s=window.location.hash.replace(/^#\/?/,"/"),r=i=>{const o=window.location.hash,[l,c]=o.split("?"),d=new URLSearchParams(c||"").get("b");n(d?`${i}?b=${d}`:i)};return a.jsxs(iA,{collapsed:e,children:[a.jsx(cA,{children:!e&&a.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[a.jsx(c1,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),a.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),a.jsx(oA,{children:WA.map(i=>a.jsxs(lA,{children:[!e&&a.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:i.label}),a.jsx(uA,{children:i.items.map(o=>{const l=s===o.to;return a.jsx(fA,{children:a.jsx(dA,{asChild:!0,isActive:l,onClick:()=>r(o.to),tabIndex:0,children:a.jsx("span",{className:"w-full text-left truncate",children:o.label})})},o.to)})})]},i.label))}),!e&&a.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[a.jsx(ve,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),a.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]}),a.jsx(mA,{})]})}function eee({onNavigate:e}){const[t,n]=g.useState(!1),s=r=>{r&&n(!1)};return a.jsxs(qo,{open:t,onOpenChange:n,children:[a.jsx(kS,{asChild:!0,children:a.jsx("button",{"aria-label":"Open navigation menu",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:a.jsx("svg",{className:"w-5 h-5 text-skyrim-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),a.jsx(bi,{side:"left",className:"p-0 w-80",children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(QJ,{onNavigate:s})})})]})}function tee(){const[e,t]=g.useState(!0),[n,s]=g.useState(!1);return uZ(),g.useEffect(()=>{const r=()=>s(window.innerWidth<768);return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),a.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[a.jsx(KJ,{sidebarCollapsed:e,onToggleSidebar:()=>t(r=>!r),isMobile:n,MobileDrawerTrigger:()=>a.jsx(eee,{onNavigate:()=>{}})}),a.jsxs("div",{className:"flex flex-1",children:[!n&&a.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0 overflow-hidden":"w-64"}`,style:{zIndex:kt.SIDEBAR},children:a.jsx(JJ,{collapsed:e,onNavigate:r=>{r&&t(!0)}})}),a.jsx("main",{className:"flex-1 transition-all duration-300 ease-in-out min-w-0",children:a.jsx(XJ,{})})]}),a.jsx(cZ,{})]})}function nee(){return a.jsx(H5,{children:a.jsx(tee,{})})}var KA={exports:{}},nh={},QA={exports:{}},JA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,z){var M=D.length;D.push(z);e:for(;0<M;){var R=M-1>>>1,B=D[R];if(0<r(B,z))D[R]=z,D[M]=B,M=R;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var z=D[0],M=D.pop();if(M!==z){D[0]=M;e:for(var R=0,B=D.length,F=B>>>1;R<F;){var V=2*(R+1)-1,X=D[V],W=V+1,J=D[W];if(0>r(X,M))W<B&&0>r(J,X)?(D[R]=J,D[W]=M,R=W):(D[R]=X,D[V]=M,R=V);else if(W<B&&0>r(J,M))D[R]=J,D[W]=M,R=W;else break e}}return z}function r(D,z){var M=D.sortIndex-z.sortIndex;return M!==0?M:D.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,y=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function j(D){for(var z=n(u);z!==null;){if(z.callback===null)s(u);else if(z.startTime<=D)s(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(u)}}function N(D){if(y=!1,j(D),!p)if(n(c)!==null)p=!0,k||(k=!0,O());else{var z=n(u);z!==null&&$(N,z.startTime-D)}}var k=!1,S=-1,E=5,C=-1;function T(){return b?!0:!(e.unstable_now()-C<E)}function _(){if(b=!1,k){var D=e.unstable_now();C=D;var z=!0;try{e:{p=!1,y&&(y=!1,x(S),S=-1),h=!0;var M=m;try{t:{for(j(D),f=n(c);f!==null&&!(f.expirationTime>D&&T());){var R=f.callback;if(typeof R=="function"){f.callback=null,m=f.priorityLevel;var B=R(f.expirationTime<=D);if(D=e.unstable_now(),typeof B=="function"){f.callback=B,j(D),z=!0;break t}f===n(c)&&s(c),j(D)}else s(c);f=n(c)}if(f!==null)z=!0;else{var F=n(u);F!==null&&$(N,F.startTime-D),z=!1}}break e}finally{f=null,m=M,h=!1}z=void 0}}finally{z?O():k=!1}}}var O;if(typeof w=="function")O=function(){w(_)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,A=L.port2;L.port1.onmessage=_,O=function(){A.postMessage(null)}}else O=function(){v(_,0)};function $(D,z){S=v(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var M=m;m=z;try{return D()}finally{m=M}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var M=m;m=D;try{return z()}finally{m=M}},e.unstable_scheduleCallback=function(D,z,M){var R=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?R+M:R):M=R,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=M+B,D={id:d++,callback:z,priorityLevel:D,startTime:M,expirationTime:B,sortIndex:-1},M>R?(D.sortIndex=M,t(u,D),n(c)===null&&D===n(u)&&(y?(x(S),S=-1):y=!0,$(N,M-R))):(D.sortIndex=B,t(c,D),p||h||(p=!0,k||(k=!0,O()))),D},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(D){var z=m;return function(){var M=m;m=z;try{return D.apply(this,arguments)}finally{m=M}}}})(JA);QA.exports=JA;var see=QA.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=see,e_=g,ree=mm;function Y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function n_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _j(e){if(Cu(e)!==e)throw Error(Y(188))}function aee(e){var t=e.alternate;if(!t){if(t=Cu(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return _j(r),e;if(i===s)return _j(r),t;i=i.sibling}throw Error(Y(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==s)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function s_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=s_(e),t!==null)return t;e=e.sibling}return null}var et=Object.assign,iee=Symbol.for("react.element"),pd=Symbol.for("react.transitional.element"),ic=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),r_=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),oee=Symbol.for("react.provider"),a_=Symbol.for("react.consumer"),vr=Symbol.for("react.context"),Tv=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Hp=Symbol.for("react.suspense_list"),Av=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),Up=Symbol.for("react.activity"),lee=Symbol.for("react.memo_cache_sentinel"),Mj=Symbol.iterator;function Yl(e){return e===null||typeof e!="object"?null:(e=Mj&&e[Mj]||e["@@iterator"],typeof e=="function"?e:null)}var cee=Symbol.for("react.client.reference");function Vp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===cee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mo:return"Fragment";case Bp:return"Profiler";case r_:return"StrictMode";case Fp:return"Suspense";case Hp:return"SuspenseList";case Up:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ic:return"Portal";case vr:return(e.displayName||"Context")+".Provider";case a_:return(e._context.displayName||"Context")+".Consumer";case Tv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Av:return t=e.displayName||null,t!==null?t:Vp(e.type)||"Memo";case ea:t=e._payload,e=e._init;try{return Vp(e(t))}catch{}}return null}var oc=Array.isArray,pe=e_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$e=ree.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ci={pending:!1,data:null,method:null,action:null},Gp=[],ho=-1;function er(e){return{current:e}}function Bt(e){0>ho||(e.current=Gp[ho],Gp[ho]=null,ho--)}function ot(e,t){ho++,Gp[ho]=e.current,e.current=t}var Us=er(null),Gc=er(null),xa=er(null),Rf=er(null);function Df(e,t){switch(ot(xa,t),ot(Gc,e),ot(Us,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?PN(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=PN(t),e=j4(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Bt(Us),ot(Us,e)}function ol(){Bt(Us),Bt(Gc),Bt(xa)}function qp(e){e.memoizedState!==null&&ot(Rf,e);var t=Us.current,n=j4(t,e.type);t!==n&&(ot(Gc,e),ot(Us,n))}function Lf(e){Gc.current===e&&(Bt(Us),Bt(Gc)),Rf.current===e&&(Bt(Rf),tu._currentValue=ci)}var Zp=Object.prototype.hasOwnProperty,_v=Dt.unstable_scheduleCallback,dg=Dt.unstable_cancelCallback,uee=Dt.unstable_shouldYield,dee=Dt.unstable_requestPaint,Vs=Dt.unstable_now,fee=Dt.unstable_getCurrentPriorityLevel,i_=Dt.unstable_ImmediatePriority,o_=Dt.unstable_UserBlockingPriority,zf=Dt.unstable_NormalPriority,mee=Dt.unstable_LowPriority,l_=Dt.unstable_IdlePriority,hee=Dt.log,gee=Dt.unstable_setDisableYieldValue,Eu=null,$n=null;function ca(e){if(typeof hee=="function"&&gee(e),$n&&typeof $n.setStrictMode=="function")try{$n.setStrictMode(Eu,e)}catch{}}var On=Math.clz32?Math.clz32:vee,pee=Math.log,xee=Math.LN2;function vee(e){return e>>>=0,e===0?32:31-(pee(e)/xee|0)|0}var xd=256,vd=4194304;function Ka(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sh(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=s&134217727;return l!==0?(s=l&~i,s!==0?r=Ka(s):(o&=l,o!==0?r=Ka(o):n||(n=l&~e,n!==0&&(r=Ka(n))))):(l=s&~i,l!==0?r=Ka(l):o!==0?r=Ka(o):n||(n=s&~e,n!==0&&(r=Ka(n)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:r}function Tu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function yee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c_(){var e=xd;return xd<<=1,!(xd&4194048)&&(xd=256),e}function u_(){var e=vd;return vd<<=1,!(vd&62914560)&&(vd=4194304),e}function fg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Au(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bee(e,t,n,s,r,i){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var d=31-On(n),f=1<<d;l[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}n&=~f}s!==0&&d_(e,s,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function d_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-On(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function f_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-On(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function Mv(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function m_(){var e=$e.p;return e!==0?e:(e=window.event,e===void 0?32:R4(e.type))}function wee(e,t){var n=$e.p;try{return $e.p=e,t()}finally{$e.p=n}}var Ha=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ha,wn="__reactProps$"+Ha,Rl="__reactContainer$"+Ha,Yp="__reactEvents$"+Ha,jee="__reactListeners$"+Ha,Nee="__reactHandles$"+Ha,Rj="__reactResources$"+Ha,_u="__reactMarker$"+Ha;function Dv(e){delete e[Kt],delete e[wn],delete e[Yp],delete e[jee],delete e[Nee]}function go(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rl]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=IN(e);e!==null;){if(n=e[Kt])return n;e=IN(e)}return t}e=n,n=e.parentNode}return null}function Dl(e){if(e=e[Kt]||e[Rl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function lc(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Y(33))}function Do(e){var t=e[Rj];return t||(t=e[Rj]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $t(e){e[_u]=!0}var h_=new Set,g_={};function Gi(e,t){ll(e,t),ll(e+"Capture",t)}function ll(e,t){for(g_[e]=t,e=0;e<t.length;e++)h_.add(t[e])}var See=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dj={},Lj={};function kee(e){return Zp.call(Lj,e)?!0:Zp.call(Dj,e)?!1:See.test(e)?Lj[e]=!0:(Dj[e]=!0,!1)}function Hd(e,t,n){if(kee(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function yd(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ur(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var mg,zj;function oo(e){if(mg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mg=t&&t[1]||"",zj=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mg+e+zj}var hg=!1;function gg(e,t){if(!e||hg)return"";hg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var c=o.split(`
`),u=l.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=r);break}}}finally{hg=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?oo(n):""}function Cee(e){switch(e.tag){case 26:case 27:case 5:return oo(e.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 15:return gg(e.type,!1);case 11:return gg(e.type.render,!1);case 1:return gg(e.type,!0);case 31:return oo("Activity");default:return""}}function Pj(e){try{var t="";do t+=Cee(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Zn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function p_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eee(e){var t=p_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pf(e){e._valueTracker||(e._valueTracker=Eee(e))}function x_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=p_(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function $f(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tee=/[\n"\\]/g;function Kn(e){return e.replace(Tee,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xp(e,t,n,s,r,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zn(t)):e.value!==""+Zn(t)&&(e.value=""+Zn(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Wp(e,o,Zn(t)):n!=null?Wp(e,o,Zn(n)):s!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Zn(l):e.removeAttribute("name")}function v_(e,t,n,s,r,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;n=n!=null?""+Zn(n):"",t=t!=null?""+Zn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=l?e.checked:!!s,e.defaultChecked=!!s,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function Wp(e,t,n){t==="number"&&$f(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Lo(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function y_(e,t,n){if(t!=null&&(t=""+Zn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Zn(n):""}function b_(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(Y(92));if(oc(s)){if(1<s.length)throw Error(Y(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Zn(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function cl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Aee=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $j(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||Aee.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function w_(e,t,n){if(t!=null&&typeof t!="object")throw Error(Y(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&$j(e,r,s)}else for(var i in t)t.hasOwnProperty(i)&&$j(e,i,t[i])}function Lv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _ee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ud(e){return Mee.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Kp=null;function zv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var po=null,zo=null;function Oj(e){var t=Dl(e);if(t&&(e=t.stateNode)){var n=e[wn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xp(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Kn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[wn]||null;if(!r)throw Error(Y(90));Xp(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&x_(s)}break e;case"textarea":y_(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Lo(e,!!n.multiple,t,!1)}}}var pg=!1;function j_(e,t,n){if(pg)return e(t,n);pg=!0;try{var s=e(t);return s}finally{if(pg=!1,(po!==null||zo!==null)&&(mh(),po&&(t=po,e=zo,zo=po=null,Oj(t),e)))for(t=0;t<e.length;t++)Oj(e[t])}}function qc(e,t){var n=e.stateNode;if(n===null)return null;var s=n[wn]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qp=!1;if(zr)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Qp=!1}var ua=null,Pv=null,Vd=null;function N_(){if(Vd)return Vd;var e,t=Pv,n=t.length,s,r="value"in ua?ua.value:ua.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[i-s];s++);return Vd=r.slice(e,1<s?1-s:void 0)}function Gd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bd(){return!0}function Ij(){return!1}function kn(e){function t(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bd:Ij,this.isPropagationStopped=Ij,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),t}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rh=kn(qi),Mu=et({},qi,{view:0,detail:0}),Ree=kn(Mu),xg,vg,Wl,ah=et({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wl&&(Wl&&e.type==="mousemove"?(xg=e.screenX-Wl.screenX,vg=e.screenY-Wl.screenY):vg=xg=0,Wl=e),xg)},movementY:function(e){return"movementY"in e?e.movementY:vg}}),Bj=kn(ah),Dee=et({},ah,{dataTransfer:0}),Lee=kn(Dee),zee=et({},Mu,{relatedTarget:0}),yg=kn(zee),Pee=et({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),$ee=kn(Pee),Oee=et({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iee=kn(Oee),Bee=et({},qi,{data:0}),Fj=kn(Bee),Fee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vee(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uee[e])?!!t[e]:!1}function $v(){return Vee}var Gee=et({},Mu,{key:function(e){if(e.key){var t=Fee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(e){return e.type==="keypress"?Gd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qee=kn(Gee),Zee=et({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hj=kn(Zee),Yee=et({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),Xee=kn(Yee),Wee=et({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kee=kn(Wee),Qee=et({},ah,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jee=kn(Qee),ete=et({},qi,{newState:0,oldState:0}),tte=kn(ete),nte=[9,13,27,32],Ov=zr&&"CompositionEvent"in window,fc=null;zr&&"documentMode"in document&&(fc=document.documentMode);var ste=zr&&"TextEvent"in window&&!fc,S_=zr&&(!Ov||fc&&8<fc&&11>=fc),Uj=" ",Vj=!1;function k_(e,t){switch(e){case"keyup":return nte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xo=!1;function rte(e,t){switch(e){case"compositionend":return C_(t);case"keypress":return t.which!==32?null:(Vj=!0,Uj);case"textInput":return e=t.data,e===Uj&&Vj?null:e;default:return null}}function ate(e,t){if(xo)return e==="compositionend"||!Ov&&k_(e,t)?(e=N_(),Vd=Pv=ua=null,xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S_&&t.locale!=="ko"?null:t.data;default:return null}}var ite={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ite[e.type]:t==="textarea"}function E_(e,t,n,s){po?zo?zo.push(s):zo=[s]:po=s,t=tm(t,"onChange"),0<t.length&&(n=new rh("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var mc=null,Zc=null;function ote(e){y4(e,0)}function ih(e){var t=lc(e);if(x_(t))return e}function qj(e,t){if(e==="change")return t}var T_=!1;if(zr){var bg;if(zr){var wg="oninput"in document;if(!wg){var Zj=document.createElement("div");Zj.setAttribute("oninput","return;"),wg=typeof Zj.oninput=="function"}bg=wg}else bg=!1;T_=bg&&(!document.documentMode||9<document.documentMode)}function Yj(){mc&&(mc.detachEvent("onpropertychange",A_),Zc=mc=null)}function A_(e){if(e.propertyName==="value"&&ih(Zc)){var t=[];E_(t,Zc,e,zv(e)),j_(ote,t)}}function lte(e,t,n){e==="focusin"?(Yj(),mc=t,Zc=n,mc.attachEvent("onpropertychange",A_)):e==="focusout"&&Yj()}function cte(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ih(Zc)}function ute(e,t){if(e==="click")return ih(t)}function dte(e,t){if(e==="input"||e==="change")return ih(t)}function fte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hn=typeof Object.is=="function"?Object.is:fte;function Yc(e,t){if(Hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Zp.call(t,r)||!Hn(e[r],t[r]))return!1}return!0}function Xj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wj(e,t){var n=Xj(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xj(n)}}function __(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?__(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function M_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$f(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$f(e.document)}return t}function Iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var mte=zr&&"documentMode"in document&&11>=document.documentMode,vo=null,Jp=null,hc=null,ex=!1;function Kj(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ex||vo==null||vo!==$f(s)||(s=vo,"selectionStart"in s&&Iv(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),hc&&Yc(hc,s)||(hc=s,s=tm(Jp,"onSelect"),0<s.length&&(t=new rh("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=vo)))}function Xa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yo={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},jg={},R_={};zr&&(R_=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Zi(e){if(jg[e])return jg[e];if(!yo[e])return e;var t=yo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in R_)return jg[e]=t[n];return e}var D_=Zi("animationend"),L_=Zi("animationiteration"),z_=Zi("animationstart"),hte=Zi("transitionrun"),gte=Zi("transitionstart"),pte=Zi("transitioncancel"),P_=Zi("transitionend"),$_=new Map,tx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tx.push("scrollEnd");function Cs(e,t){$_.set(e,t),Gi(t,[e])}var Qj=new WeakMap;function Qn(e,t){if(typeof e=="object"&&e!==null){var n=Qj.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Pj(t)},Qj.set(e,t),t)}return{value:e,source:t,stack:Pj(t)}}var qn=[],bo=0,Bv=0;function oh(){for(var e=bo,t=Bv=bo=0;t<e;){var n=qn[t];qn[t++]=null;var s=qn[t];qn[t++]=null;var r=qn[t];qn[t++]=null;var i=qn[t];if(qn[t++]=null,s!==null&&r!==null){var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}i!==0&&O_(n,r,i)}}function lh(e,t,n,s){qn[bo++]=e,qn[bo++]=t,qn[bo++]=n,qn[bo++]=s,Bv|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Fv(e,t,n,s){return lh(e,t,n,s),Of(e)}function Ll(e,t){return lh(e,null,null,t),Of(e)}function O_(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=e.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-On(n),e=i.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=n|536870912),i):null}function Of(e){if(50<Sc)throw Sc=0,jx=null,Error(Y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wo={};function xte(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,s){return new xte(e,t,n,s)}function Hv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cr(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function I_(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qd(e,t,n,s,r,i){var o=0;if(s=e,typeof e=="function")Hv(e)&&(o=1);else if(typeof e=="string")o=yne(e,n,Us.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Up:return e=Dn(31,n,t,r),e.elementType=Up,e.lanes=i,e;case mo:return ui(n.children,r,i,t);case r_:o=8,r|=24;break;case Bp:return e=Dn(12,n,t,r|2),e.elementType=Bp,e.lanes=i,e;case Fp:return e=Dn(13,n,t,r),e.elementType=Fp,e.lanes=i,e;case Hp:return e=Dn(19,n,t,r),e.elementType=Hp,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oee:case vr:o=10;break e;case a_:o=9;break e;case Tv:o=11;break e;case Av:o=14;break e;case ea:o=16,s=null;break e}o=29,n=Error(Y(130,e===null?"null":typeof e,"")),s=null}return t=Dn(o,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function ui(e,t,n,s){return e=Dn(7,e,s,t),e.lanes=n,e}function Ng(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function Sg(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jo=[],No=0,If=null,Bf=0,Yn=[],Xn=0,di=null,yr=1,br="";function Qa(e,t){jo[No++]=Bf,jo[No++]=If,If=e,Bf=t}function B_(e,t,n){Yn[Xn++]=yr,Yn[Xn++]=br,Yn[Xn++]=di,di=e;var s=yr;e=br;var r=32-On(s)-1;s&=~(1<<r),n+=1;var i=32-On(t)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,yr=1<<32-On(t)+r|n<<r|s,br=i+e}else yr=1<<i|n<<r|s,br=e}function Uv(e){e.return!==null&&(Qa(e,1),B_(e,1,0))}function Vv(e){for(;e===If;)If=jo[--No],jo[No]=null,Bf=jo[--No],jo[No]=null;for(;e===di;)di=Yn[--Xn],Yn[Xn]=null,br=Yn[--Xn],Yn[Xn]=null,yr=Yn[--Xn],Yn[Xn]=null}var nn=null,ht=null,Pe=!1,fi=null,zs=!1,nx=Error(Y(519));function Ai(e){var t=Error(Y(418,""));throw Xc(Qn(t,e)),nx}function Jj(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Kt]=e,t[wn]=s,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<Qc.length;n++)Te(Qc[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),v_(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Pf(t);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),b_(t,s.value,s.defaultValue,s.children),Pf(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||w4(t.textContent,n)?(s.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),s.onScroll!=null&&Te("scroll",t),s.onScrollEnd!=null&&Te("scrollend",t),s.onClick!=null&&(t.onclick=ph),t=!0):t=!1,t||Ai(e)}function eN(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:zs=!1;return;case 27:case 3:zs=!0;return;default:nn=nn.return}}function Kl(e){if(e!==nn)return!1;if(!Pe)return eN(e),Pe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Tx(e.type,e.memoizedProps)),n=!n),n&&ht&&Ai(e),eN(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ht=ys(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ht=null}}else t===27?(t=ht,Ua(e.type)?(e=Mx,Mx=null,ht=e):ht=t):ht=nn?ys(e.stateNode.nextSibling):null;return!0}function Ru(){ht=nn=null,Pe=!1}function tN(){var e=fi;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),fi=null),e}function Xc(e){fi===null?fi=[e]:fi.push(e)}var sx=er(null),Yi=null,wr=null;function sa(e,t,n){ot(sx,t._currentValue),t._currentValue=n}function Er(e){e._currentValue=sx.current,Bt(sx)}function rx(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function ax(e,t,n,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var o=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),rx(i.return,n,e),s||(o=null);break e}i=l.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(Y(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),rx(o,n,e),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function Du(e,t,n,s){e=null;for(var r=t,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(Y(387));if(o=o.memoizedProps,o!==null){var l=r.type;Hn(r.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(r===Rf.current){if(o=r.alternate,o===null)throw Error(Y(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(tu):e=[tu])}r=r.return}e!==null&&ax(t,e,n,s),t.flags|=262144}function Ff(e){for(e=e.firstContext;e!==null;){if(!Hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){Yi=e,wr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return F_(Yi,e)}function wd(e,t){return Yi===null&&_i(e),F_(e,t)}function F_(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},wr===null){if(e===null)throw Error(Y(308));wr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wr=wr.next=t;return n}var vte=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},yte=Dt.unstable_scheduleCallback,bte=Dt.unstable_NormalPriority,_t={$$typeof:vr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gv(){return{controller:new vte,data:new Map,refCount:0}}function Lu(e){e.refCount--,e.refCount===0&&yte(bte,function(){e.controller.abort()})}var gc=null,ix=0,ul=0,Po=null;function wte(e,t){if(gc===null){var n=gc=[];ix=0,ul=hy(),Po={status:"pending",value:void 0,then:function(s){n.push(s)}}}return ix++,t.then(nN,nN),t}function nN(){if(--ix===0&&gc!==null){Po!==null&&(Po.status="fulfilled");var e=gc;gc=null,ul=0,Po=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jte(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var sN=pe.S;pe.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&wte(e,t),sN!==null&&sN(e,t)};var mi=er(null);function qv(){var e=mi.current;return e!==null?e:Ke.pooledCache}function Zd(e,t){t===null?ot(mi,mi.current):ot(mi,t.pool)}function H_(){var e=qv();return e===null?null:{parent:_t._currentValue,pool:e}}var zu=Error(Y(460)),U_=Error(Y(474)),ch=Error(Y(542)),ox={then:function(){}};function rN(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jd(){}function V_(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(jd,jd),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,iN(e),e;default:if(typeof t.status=="string")t.then(jd,jd);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(Y(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,iN(e),e}throw pc=t,zu}}var pc=null;function aN(){if(pc===null)throw Error(Y(459));var e=pc;return pc=null,e}function iN(e){if(e===zu||e===ch)throw Error(Y(483))}var ta=!1;function Zv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ya(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ue&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Of(e),O_(e,null,n),t}return lh(e,s,t,n),Of(e)}function xc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,f_(e,n)}}function kg(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cx=!1;function vc(){if(cx){var e=Po;if(e!==null)throw e}}function yc(e,t,n,s){cx=!1;var r=e.updateQueue;ta=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=r.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane&-536870913,h=m!==l.lane;if(h?(Le&m)===m:(s&m)===m){m!==0&&m===ul&&(cx=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,y=l;m=t;var b=n;switch(y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(b,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,m=typeof p=="function"?p.call(b,f,m):p,m==null)break e;f=et({},f,m);break e;case 2:ta=!0}}m=l.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),Aa|=o,e.lanes=o,e.memoizedState=f}}function G_(e,t){if(typeof e!="function")throw Error(Y(191,e));e.call(t)}function q_(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)G_(n[e],t)}var dl=er(null),Hf=er(0);function oN(e,t){e=Or,ot(Hf,e),ot(dl,t),Or=e|t.baseLanes}function ux(){ot(Hf,Or),ot(dl,dl.current)}function Yv(){Or=Hf.current,Bt(dl),Bt(Hf)}var Ea=0,Ce=null,Ge=null,Nt=null,Uf=!1,$o=!1,Mi=!1,Vf=0,Wc=0,Oo=null,Nte=0;function vt(){throw Error(Y(321))}function Xv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hn(e[n],t[n]))return!1;return!0}function Wv(e,t,n,s,r,i){return Ea=i,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pe.H=e===null||e.memoizedState===null?NM:SM,Mi=!1,i=n(s,r),Mi=!1,$o&&(i=Y_(t,n,s,r)),Z_(e),i}function Z_(e){pe.H=Gf;var t=Ge!==null&&Ge.next!==null;if(Ea=0,Nt=Ge=Ce=null,Uf=!1,Wc=0,Oo=null,t)throw Error(Y(300));e===null||It||(e=e.dependencies,e!==null&&Ff(e)&&(It=!0))}function Y_(e,t,n,s){Ce=e;var r=0;do{if($o&&(Oo=null),Wc=0,$o=!1,25<=r)throw Error(Y(301));if(r+=1,Nt=Ge=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}pe.H=_te,i=t(n,s)}while($o);return i}function Ste(){var e=pe.H,t=e.useState()[0];return t=typeof t.then=="function"?Pu(t):t,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(Ce.flags|=1024),t}function Kv(){var e=Vf!==0;return Vf=0,e}function Qv(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Jv(e){if(Uf){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Uf=!1}Ea=0,Nt=Ge=Ce=null,$o=!1,Wc=Vf=0,Oo=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ce.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function St(){if(Ge===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=Nt===null?Ce.memoizedState:Nt.next;if(t!==null)Nt=t,Ge=e;else{if(e===null)throw Ce.alternate===null?Error(Y(467)):Error(Y(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Nt===null?Ce.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function ey(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(e){var t=Wc;return Wc+=1,Oo===null&&(Oo=[]),e=V_(Oo,e,t),t=Ce,(Nt===null?t.memoizedState:Nt.next)===null&&(t=t.alternate,pe.H=t===null||t.memoizedState===null?NM:SM),e}function uh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pu(e);if(e.$$typeof===vr)return Qt(e)}throw Error(Y(438,String(e)))}function ty(e){var t=null,n=Ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=Ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ey(),Ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=lee;return t.index++,n}function Pr(e,t){return typeof t=="function"?t(e):t}function Yd(e){var t=St();return ny(t,Ge,e)}function ny(e,t,n){var s=e.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=n;var r=e.baseQueue,i=s.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}t.baseQueue=r=i,s.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var l=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Le&f)===f:(Ea&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ul&&(d=!0);else if((Ea&m)===m){u=u.next,m===ul&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,o=i):c=c.next=f,Ce.lanes|=m,Aa|=m;f=u.action,Mi&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,o=i):c=c.next=m,Ce.lanes|=f,Aa|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=l,!Hn(i,e.memoizedState)&&(It=!0,d&&(n=Po,n!==null)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Cg(e){var t=St(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=e(i,o.action),o=o.next;while(o!==r);Hn(i,t.memoizedState)||(It=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function X_(e,t,n){var s=Ce,r=St(),i=Pe;if(i){if(n===void 0)throw Error(Y(407));n=n()}else n=t();var o=!Hn((Ge||r).memoizedState,n);o&&(r.memoizedState=n,It=!0),r=r.queue;var l=Q_.bind(null,s,r,e);if($u(2048,8,l,[e]),r.getSnapshot!==t||o||Nt!==null&&Nt.memoizedState.tag&1){if(s.flags|=2048,fl(9,dh(),K_.bind(null,s,r,n,t),null),Ke===null)throw Error(Y(349));i||Ea&124||W_(s,t,n)}return n}function W_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t=ey(),Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function K_(e,t,n,s){t.value=n,t.getSnapshot=s,J_(t)&&eM(e)}function Q_(e,t,n){return n(function(){J_(t)&&eM(e)})}function J_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hn(e,n)}catch{return!0}}function eM(e){var t=Ll(e,2);t!==null&&Bn(t,e,2)}function dx(e){var t=gn();if(typeof e=="function"){var n=e;if(e=n(),Mi){ca(!0);try{n()}finally{ca(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:e},t}function tM(e,t,n,s){return e.baseState=n,ny(e,Ge,typeof s=="function"?s:Pr)}function kte(e,t,n,s,r){if(fh(e))throw Error(Y(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};pe.T!==null?n(!0):i.isTransition=!1,s(i),n=t.pending,n===null?(i.next=t.pending=i,nM(t,i)):(i.next=n.next,t.pending=n.next=i)}}function nM(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var i=pe.T,o={};pe.T=o;try{var l=n(r,s),c=pe.S;c!==null&&c(o,l),lN(e,t,l)}catch(u){fx(e,t,u)}finally{pe.T=i}}else try{i=n(r,s),lN(e,t,i)}catch(u){fx(e,t,u)}}function lN(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){cN(e,t,s)},function(s){return fx(e,t,s)}):cN(e,t,n)}function cN(e,t,n){t.status="fulfilled",t.value=n,sM(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,nM(e,n)))}function fx(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,sM(t),t=t.next;while(t!==s)}e.action=null}function sM(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rM(e,t){return t}function uN(e,t){if(Pe){var n=Ke.formState;if(n!==null){e:{var s=Ce;if(Pe){if(ht){t:{for(var r=ht,i=zs;r.nodeType!==8;){if(!i){r=null;break t}if(r=ys(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){ht=ys(r.nextSibling),s=r.data==="F!";break e}}Ai(s)}s=!1}s&&(t=n[0])}}return n=gn(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rM,lastRenderedState:t},n.queue=s,n=bM.bind(null,Ce,s),s.dispatch=n,s=dx(!1),i=iy.bind(null,Ce,!1,s.queue),s=gn(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,n=kte.bind(null,Ce,r,i,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function dN(e){var t=St();return aM(t,Ge,e)}function aM(e,t,n){if(t=ny(e,t,rM)[0],e=Yd(Pr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Pu(t)}catch(o){throw o===zu?ch:o}else s=t;t=St();var r=t.queue,i=r.dispatch;return n!==t.memoizedState&&(Ce.flags|=2048,fl(9,dh(),Cte.bind(null,r,n),null)),[s,i,e]}function Cte(e,t){e.action=t}function fN(e){var t=St(),n=Ge;if(n!==null)return aM(t,n,e);St(),t=t.memoizedState,n=St();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function fl(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=ey(),Ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function dh(){return{destroy:void 0,resource:void 0}}function iM(){return St().memoizedState}function Xd(e,t,n,s){var r=gn();s=s===void 0?null:s,Ce.flags|=e,r.memoizedState=fl(1|t,dh(),n,s)}function $u(e,t,n,s){var r=St();s=s===void 0?null:s;var i=r.memoizedState.inst;Ge!==null&&s!==null&&Xv(s,Ge.memoizedState.deps)?r.memoizedState=fl(t,i,n,s):(Ce.flags|=e,r.memoizedState=fl(1|t,i,n,s))}function mN(e,t){Xd(8390656,8,e,t)}function oM(e,t){$u(2048,8,e,t)}function lM(e,t){return $u(4,2,e,t)}function cM(e,t){return $u(4,4,e,t)}function uM(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dM(e,t,n){n=n!=null?n.concat([e]):null,$u(4,4,uM.bind(null,t,e),n)}function sy(){}function fM(e,t){var n=St();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Xv(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function mM(e,t){var n=St();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Xv(t,s[1]))return s[0];if(s=e(),Mi){ca(!0);try{e()}finally{ca(!1)}}return n.memoizedState=[s,t],s}function ry(e,t,n){return n===void 0||Ea&1073741824?e.memoizedState=t:(e.memoizedState=n,e=s4(),Ce.lanes|=e,Aa|=e,n)}function hM(e,t,n,s){return Hn(n,t)?n:dl.current!==null?(e=ry(e,n,s),Hn(e,t)||(It=!0),e):Ea&42?(e=s4(),Ce.lanes|=e,Aa|=e,t):(It=!0,e.memoizedState=n)}function gM(e,t,n,s,r){var i=$e.p;$e.p=i!==0&&8>i?i:8;var o=pe.T,l={};pe.T=l,iy(e,!1,t,n);try{var c=r(),u=pe.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=jte(c,s);bc(e,t,d,In(e))}else bc(e,t,s,In(e))}catch(f){bc(e,t,{then:function(){},status:"rejected",reason:f},In())}finally{$e.p=i,pe.T=o}}function Ete(){}function mx(e,t,n,s){if(e.tag!==5)throw Error(Y(476));var r=pM(e).queue;gM(e,r,t,ci,n===null?Ete:function(){return xM(e),n(s)})}function pM(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ci,baseState:ci,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:ci},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xM(e){var t=pM(e).next.queue;bc(e,t,{},In())}function ay(){return Qt(tu)}function vM(){return St().memoizedState}function yM(){return St().memoizedState}function Tte(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=In();e=va(n);var s=ya(t,e,n);s!==null&&(Bn(s,t,n),xc(s,t,n)),t={cache:Gv()},e.payload=t;return}t=t.return}}function Ate(e,t,n){var s=In();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},fh(e)?wM(t,n):(n=Fv(e,t,n,s),n!==null&&(Bn(n,e,s),jM(n,t,s)))}function bM(e,t,n){var s=In();bc(e,t,n,s)}function bc(e,t,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(fh(e))wM(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(r.hasEagerState=!0,r.eagerState=l,Hn(l,o))return lh(e,t,r,0),Ke===null&&oh(),!1}catch{}finally{}if(n=Fv(e,t,r,s),n!==null)return Bn(n,e,s),jM(n,t,s),!0}return!1}function iy(e,t,n,s){if(s={lane:2,revertLane:hy(),action:s,hasEagerState:!1,eagerState:null,next:null},fh(e)){if(t)throw Error(Y(479))}else t=Fv(e,n,s,2),t!==null&&Bn(t,e,2)}function fh(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function wM(e,t){$o=Uf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jM(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,f_(e,n)}}var Gf={readContext:Qt,use:uh,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},NM={readContext:Qt,use:uh,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:mN,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Xd(4194308,4,uM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xd(4194308,4,e,t)},useInsertionEffect:function(e,t){Xd(4,2,e,t)},useMemo:function(e,t){var n=gn();t=t===void 0?null:t;var s=e();if(Mi){ca(!0);try{e()}finally{ca(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=gn();if(n!==void 0){var r=n(t);if(Mi){ca(!0);try{n(t)}finally{ca(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Ate.bind(null,Ce,e),[s.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:function(e){e=dx(e);var t=e.queue,n=bM.bind(null,Ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sy,useDeferredValue:function(e,t){var n=gn();return ry(n,e,t)},useTransition:function(){var e=dx(!1);return e=gM.bind(null,Ce,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=Ce,r=gn();if(Pe){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Ke===null)throw Error(Y(349));Le&124||W_(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,mN(Q_.bind(null,s,i,e),[e]),s.flags|=2048,fl(9,dh(),K_.bind(null,s,i,n,t),null),n},useId:function(){var e=gn(),t=Ke.identifierPrefix;if(Pe){var n=br,s=yr;n=(s&~(1<<32-On(s)-1)).toString(32)+n,t=""+t+"R"+n,n=Vf++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Nte++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ay,useFormState:uN,useActionState:uN,useOptimistic:function(e){var t=gn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=iy.bind(null,Ce,!0,n),n.dispatch=t,[e,t]},useMemoCache:ty,useCacheRefresh:function(){return gn().memoizedState=Tte.bind(null,Ce)}},SM={readContext:Qt,use:uh,useCallback:fM,useContext:Qt,useEffect:oM,useImperativeHandle:dM,useInsertionEffect:lM,useLayoutEffect:cM,useMemo:mM,useReducer:Yd,useRef:iM,useState:function(){return Yd(Pr)},useDebugValue:sy,useDeferredValue:function(e,t){var n=St();return hM(n,Ge.memoizedState,e,t)},useTransition:function(){var e=Yd(Pr)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Pu(e),t]},useSyncExternalStore:X_,useId:vM,useHostTransitionStatus:ay,useFormState:dN,useActionState:dN,useOptimistic:function(e,t){var n=St();return tM(n,Ge,e,t)},useMemoCache:ty,useCacheRefresh:yM},_te={readContext:Qt,use:uh,useCallback:fM,useContext:Qt,useEffect:oM,useImperativeHandle:dM,useInsertionEffect:lM,useLayoutEffect:cM,useMemo:mM,useReducer:Cg,useRef:iM,useState:function(){return Cg(Pr)},useDebugValue:sy,useDeferredValue:function(e,t){var n=St();return Ge===null?ry(n,e,t):hM(n,Ge.memoizedState,e,t)},useTransition:function(){var e=Cg(Pr)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Pu(e),t]},useSyncExternalStore:X_,useId:vM,useHostTransitionStatus:ay,useFormState:fN,useActionState:fN,useOptimistic:function(e,t){var n=St();return Ge!==null?tM(n,Ge,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ty,useCacheRefresh:yM},Io=null,Kc=0;function Nd(e){var t=Kc;return Kc+=1,Io===null&&(Io=[]),V_(Io,e,t)}function Ql(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sd(e,t){throw t.$$typeof===iee?Error(Y(525)):(e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hN(e){var t=e._init;return t(e._payload)}function kM(e){function t(v,x){if(e){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function s(v){for(var x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function r(v,x){return v=Cr(v,x),v.index=0,v.sibling=null,v}function i(v,x,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=67108866,x):w):(v.flags|=67108866,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,x,w,j){return x===null||x.tag!==6?(x=Ng(w,v.mode,j),x.return=v,x):(x=r(x,w),x.return=v,x)}function c(v,x,w,j){var N=w.type;return N===mo?d(v,x,w.props.children,j,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ea&&hN(N)===x.type)?(x=r(x,w.props),Ql(x,w),x.return=v,x):(x=qd(w.type,w.key,w.props,null,v.mode,j),Ql(x,w),x.return=v,x)}function u(v,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Sg(w,v.mode,j),x.return=v,x):(x=r(x,w.children||[]),x.return=v,x)}function d(v,x,w,j,N){return x===null||x.tag!==7?(x=ui(w,v.mode,j,N),x.return=v,x):(x=r(x,w),x.return=v,x)}function f(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ng(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pd:return w=qd(x.type,x.key,x.props,null,v.mode,w),Ql(w,x),w.return=v,w;case ic:return x=Sg(x,v.mode,w),x.return=v,x;case ea:var j=x._init;return x=j(x._payload),f(v,x,w)}if(oc(x)||Yl(x))return x=ui(x,v.mode,w,null),x.return=v,x;if(typeof x.then=="function")return f(v,Nd(x),w);if(x.$$typeof===vr)return f(v,wd(v,x),w);Sd(v,x)}return null}function m(v,x,w,j){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return N!==null?null:l(v,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pd:return w.key===N?c(v,x,w,j):null;case ic:return w.key===N?u(v,x,w,j):null;case ea:return N=w._init,w=N(w._payload),m(v,x,w,j)}if(oc(w)||Yl(w))return N!==null?null:d(v,x,w,j,null);if(typeof w.then=="function")return m(v,x,Nd(w),j);if(w.$$typeof===vr)return m(v,x,wd(v,w),j);Sd(v,w)}return null}function h(v,x,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return v=v.get(w)||null,l(x,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case pd:return v=v.get(j.key===null?w:j.key)||null,c(x,v,j,N);case ic:return v=v.get(j.key===null?w:j.key)||null,u(x,v,j,N);case ea:var k=j._init;return j=k(j._payload),h(v,x,w,j,N)}if(oc(j)||Yl(j))return v=v.get(w)||null,d(x,v,j,N,null);if(typeof j.then=="function")return h(v,x,w,Nd(j),N);if(j.$$typeof===vr)return h(v,x,w,wd(x,j),N);Sd(x,j)}return null}function p(v,x,w,j){for(var N=null,k=null,S=x,E=x=0,C=null;S!==null&&E<w.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var T=m(v,S,w[E],j);if(T===null){S===null&&(S=C);break}e&&S&&T.alternate===null&&t(v,S),x=i(T,x,E),k===null?N=T:k.sibling=T,k=T,S=C}if(E===w.length)return n(v,S),Pe&&Qa(v,E),N;if(S===null){for(;E<w.length;E++)S=f(v,w[E],j),S!==null&&(x=i(S,x,E),k===null?N=S:k.sibling=S,k=S);return Pe&&Qa(v,E),N}for(S=s(S);E<w.length;E++)C=h(S,v,E,w[E],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),x=i(C,x,E),k===null?N=C:k.sibling=C,k=C);return e&&S.forEach(function(_){return t(v,_)}),Pe&&Qa(v,E),N}function y(v,x,w,j){if(w==null)throw Error(Y(151));for(var N=null,k=null,S=x,E=x=0,C=null,T=w.next();S!==null&&!T.done;E++,T=w.next()){S.index>E?(C=S,S=null):C=S.sibling;var _=m(v,S,T.value,j);if(_===null){S===null&&(S=C);break}e&&S&&_.alternate===null&&t(v,S),x=i(_,x,E),k===null?N=_:k.sibling=_,k=_,S=C}if(T.done)return n(v,S),Pe&&Qa(v,E),N;if(S===null){for(;!T.done;E++,T=w.next())T=f(v,T.value,j),T!==null&&(x=i(T,x,E),k===null?N=T:k.sibling=T,k=T);return Pe&&Qa(v,E),N}for(S=s(S);!T.done;E++,T=w.next())T=h(S,v,E,T.value,j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?E:T.key),x=i(T,x,E),k===null?N=T:k.sibling=T,k=T);return e&&S.forEach(function(O){return t(v,O)}),Pe&&Qa(v,E),N}function b(v,x,w,j){if(typeof w=="object"&&w!==null&&w.type===mo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case pd:e:{for(var N=w.key;x!==null;){if(x.key===N){if(N=w.type,N===mo){if(x.tag===7){n(v,x.sibling),j=r(x,w.props.children),j.return=v,v=j;break e}}else if(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ea&&hN(N)===x.type){n(v,x.sibling),j=r(x,w.props),Ql(j,w),j.return=v,v=j;break e}n(v,x);break}else t(v,x);x=x.sibling}w.type===mo?(j=ui(w.props.children,v.mode,j,w.key),j.return=v,v=j):(j=qd(w.type,w.key,w.props,null,v.mode,j),Ql(j,w),j.return=v,v=j)}return o(v);case ic:e:{for(N=w.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(v,x.sibling),j=r(x,w.children||[]),j.return=v,v=j;break e}else{n(v,x);break}else t(v,x);x=x.sibling}j=Sg(w,v.mode,j),j.return=v,v=j}return o(v);case ea:return N=w._init,w=N(w._payload),b(v,x,w,j)}if(oc(w))return p(v,x,w,j);if(Yl(w)){if(N=Yl(w),typeof N!="function")throw Error(Y(150));return w=N.call(w),y(v,x,w,j)}if(typeof w.then=="function")return b(v,x,Nd(w),j);if(w.$$typeof===vr)return b(v,x,wd(v,w),j);Sd(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,x!==null&&x.tag===6?(n(v,x.sibling),j=r(x,w),j.return=v,v=j):(n(v,x),j=Ng(w,v.mode,j),j.return=v,v=j),o(v)):n(v,x)}return function(v,x,w,j){try{Kc=0;var N=b(v,x,w,j);return Io=null,N}catch(S){if(S===zu||S===ch)throw S;var k=Dn(29,S,null,v.mode);return k.lanes=j,k.return=v,k}finally{}}}var ml=kM(!0),CM=kM(!1),as=er(null),Gs=null;function ra(e){var t=e.alternate;ot(Mt,Mt.current&1),ot(as,e),Gs===null&&(t===null||dl.current!==null||t.memoizedState!==null)&&(Gs=e)}function EM(e){if(e.tag===22){if(ot(Mt,Mt.current),ot(as,e),Gs===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Gs=e)}}else aa()}function aa(){ot(Mt,Mt.current),ot(as,as.current)}function jr(e){Bt(as),Gs===e&&(Gs=null),Bt(Mt)}var Mt=er(0);function qf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||_x(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Eg(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:et({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hx={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=In(),r=va(s);r.payload=t,n!=null&&(r.callback=n),t=ya(e,r,s),t!==null&&(Bn(t,e,s),xc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=In(),r=va(s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=ya(e,r,s),t!==null&&(Bn(t,e,s),xc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=In(),s=va(n);s.tag=2,t!=null&&(s.callback=t),t=ya(e,s,n),t!==null&&(Bn(t,e,n),xc(t,e,n))}};function gN(e,t,n,s,r,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Yc(n,s)||!Yc(r,i):!0}function pN(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&hx.enqueueReplaceState(t,t.state,null)}function Ri(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=et({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Zf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function TM(e){Zf(e)}function AM(e){console.error(e)}function _M(e){Zf(e)}function Yf(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xN(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function gx(e,t,n){return n=va(n),n.tag=3,n.payload={element:null},n.callback=function(){Yf(e,t)},n}function MM(e){return e=va(e),e.tag=3,e}function RM(e,t,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;e.payload=function(){return r(i)},e.callback=function(){xN(t,n,s)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){xN(t,n,s),typeof r!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function Mte(e,t,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Du(t,n,r,!0),n=as.current,n!==null){switch(n.tag){case 13:return Gs===null?Nx():n.alternate===null&&gt===0&&(gt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===ox?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Og(e,s,r)),!1;case 22:return n.flags|=65536,s===ox?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Og(e,s,r)),!1}throw Error(Y(435,n.tag))}return Og(e,s,r),Nx(),!1}if(Pe)return t=as.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==nx&&(e=Error(Y(422),{cause:s}),Xc(Qn(e,n)))):(s!==nx&&(t=Error(Y(423),{cause:s}),Xc(Qn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Qn(s,n),r=gx(e.stateNode,s,r),kg(e,r),gt!==4&&(gt=2)),!1;var i=Error(Y(520),{cause:s});if(i=Qn(i,n),Nc===null?Nc=[i]:Nc.push(i),gt!==4&&(gt=2),t===null)return!0;s=Qn(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=gx(n.stateNode,s,e),kg(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ba===null||!ba.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=MM(r),RM(r,e,n,s),kg(n,r),!1}n=n.return}while(n!==null);return!1}var DM=Error(Y(461)),It=!1;function Vt(e,t,n,s){t.child=e===null?CM(t,null,n,s):ml(t,e.child,n,s)}function vN(e,t,n,s,r){n=n.render;var i=t.ref;if("ref"in s){var o={};for(var l in s)l!=="ref"&&(o[l]=s[l])}else o=s;return _i(t),s=Wv(e,t,n,o,i,r),l=Kv(),e!==null&&!It?(Qv(e,t,r),$r(e,t,r)):(Pe&&l&&Uv(t),t.flags|=1,Vt(e,t,s,r),t.child)}function yN(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!Hv(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,LM(e,t,i,s,r)):(e=qd(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!oy(e,r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yc,n(o,s)&&e.ref===t.ref)return $r(e,t,r)}return t.flags|=1,e=Cr(i,s),e.ref=t.ref,e.return=t,t.child=e}function LM(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(Yc(i,s)&&e.ref===t.ref)if(It=!1,t.pendingProps=s=i,oy(e,r))e.flags&131072&&(It=!0);else return t.lanes=e.lanes,$r(e,t,r)}return px(e,t,n,s,r)}function zM(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=i!==null?i.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;t.childLanes=i&~s}else t.childLanes=0,t.child=null;return bN(e,t,s,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zd(t,i!==null?i.cachePool:null),i!==null?oN(t,i):ux(),EM(t);else return t.lanes=t.childLanes=536870912,bN(e,t,i!==null?i.baseLanes|n:n,n)}else i!==null?(Zd(t,i.cachePool),oN(t,i),aa(),t.memoizedState=null):(e!==null&&Zd(t,null),ux(),aa());return Vt(e,t,r,n),t.child}function bN(e,t,n,s){var r=qv();return r=r===null?null:{parent:_t._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Zd(t,null),ux(),EM(t),e!==null&&Du(e,t,s,!0),null}function Wd(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function px(e,t,n,s,r){return _i(t),n=Wv(e,t,n,s,void 0,r),s=Kv(),e!==null&&!It?(Qv(e,t,r),$r(e,t,r)):(Pe&&s&&Uv(t),t.flags|=1,Vt(e,t,n,r),t.child)}function wN(e,t,n,s,r,i){return _i(t),t.updateQueue=null,n=Y_(t,s,n,r),Z_(e),s=Kv(),e!==null&&!It?(Qv(e,t,i),$r(e,t,i)):(Pe&&s&&Uv(t),t.flags|=1,Vt(e,t,n,i),t.child)}function jN(e,t,n,s,r){if(_i(t),t.stateNode===null){var i=wo,o=n.contextType;typeof o=="object"&&o!==null&&(i=Qt(o)),i=new n(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=hx,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},Zv(t),o=n.contextType,i.context=typeof o=="object"&&o!==null?Qt(o):wo,i.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Eg(t,n,o,s),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&hx.enqueueReplaceState(i,i.state,null),yc(t,s,i,r),vc(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,c=Ri(n,l);i.props=c;var u=i.context,d=n.contextType;o=wo,typeof d=="object"&&d!==null&&(o=Qt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&pN(t,i,s,o),ta=!1;var m=t.memoizedState;i.state=m,yc(t,s,i,r),vc(),u=t.memoizedState,l||m!==u||ta?(typeof f=="function"&&(Eg(t,n,f,s),u=t.memoizedState),(c=ta||gN(t,n,c,s,m,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),i.props=s,i.state=u,i.context=o,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,lx(e,t),o=t.memoizedProps,d=Ri(n,o),i.props=d,f=t.pendingProps,m=i.context,u=n.contextType,c=wo,typeof u=="object"&&u!==null&&(c=Qt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||m!==c)&&pN(t,i,s,c),ta=!1,m=t.memoizedState,i.state=m,yc(t,s,i,r),vc();var h=t.memoizedState;o!==f||m!==h||ta||e!==null&&e.dependencies!==null&&Ff(e.dependencies)?(typeof l=="function"&&(Eg(t,n,l,s),h=t.memoizedState),(d=ta||gN(t,n,d,s,m,h,c)||e!==null&&e.dependencies!==null&&Ff(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=h),i.props=s,i.state=h,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,Wd(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=ml(t,e.child,null,r),t.child=ml(t,null,n,r)):Vt(e,t,n,r),t.memoizedState=i.state,e=t.child):e=$r(e,t,r),e}function NN(e,t,n,s){return Ru(),t.flags|=256,Vt(e,t,n,s),t.child}var Tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ag(e){return{baseLanes:e,cachePool:H_()}}function _g(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ts),e}function PM(e,t,n){var s=t.pendingProps,r=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Mt.current&2)!==0),o&&(r=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(r?ra(t):aa(),Pe){var l=ht,c;if(c=l){e:{for(c=l,l=zs;c.nodeType!==8;){if(!l){l=null;break e}if(c=ys(c.nextSibling),c===null){l=null;break e}}l=c}l!==null?(t.memoizedState={dehydrated:l,treeContext:di!==null?{id:yr,overflow:br}:null,retryLane:536870912,hydrationErrors:null},c=Dn(18,null,null,0),c.stateNode=l,c.return=t,t.child=c,nn=t,ht=null,c=!0):c=!1}c||Ai(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return _x(l)?t.lanes=32:t.lanes=536870912,null;jr(t)}return l=s.children,s=s.fallback,r?(aa(),r=t.mode,l=Xf({mode:"hidden",children:l},r),s=ui(s,r,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,r=t.child,r.memoizedState=Ag(n),r.childLanes=_g(e,o,n),t.memoizedState=Tg,s):(ra(t),xx(t,l))}if(c=e.memoizedState,c!==null&&(l=c.dehydrated,l!==null)){if(i)t.flags&256?(ra(t),t.flags&=-257,t=Mg(e,t,n)):t.memoizedState!==null?(aa(),t.child=e.child,t.flags|=128,t=null):(aa(),r=s.fallback,l=t.mode,s=Xf({mode:"visible",children:s.children},l),r=ui(r,l,n,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,ml(t,e.child,null,n),s=t.child,s.memoizedState=Ag(n),s.childLanes=_g(e,o,n),t.memoizedState=Tg,t=r);else if(ra(t),_x(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,s=Error(Y(419)),s.stack="",s.digest=o,Xc({value:s,source:null,stack:null}),t=Mg(e,t,n)}else if(It||Du(e,t,n,!1),o=(n&e.childLanes)!==0,It||o){if(o=Ke,o!==null&&(s=n&-n,s=s&42?1:Mv(s),s=s&(o.suspendedLanes|n)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,Ll(e,s),Bn(o,e,s),DM;l.data==="$?"||Nx(),t=Mg(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ht=ys(l.nextSibling),nn=t,Pe=!0,fi=null,zs=!1,e!==null&&(Yn[Xn++]=yr,Yn[Xn++]=br,Yn[Xn++]=di,yr=e.id,br=e.overflow,di=t),t=xx(t,s.children),t.flags|=4096);return t}return r?(aa(),r=s.fallback,l=t.mode,c=e.child,u=c.sibling,s=Cr(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?r=Cr(u,r):(r=ui(r,l,n,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,l=e.child.memoizedState,l===null?l=Ag(n):(c=l.cachePool,c!==null?(u=_t._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=H_(),l={baseLanes:l.baseLanes|n,cachePool:c}),r.memoizedState=l,r.childLanes=_g(e,o,n),t.memoizedState=Tg,s):(ra(t),n=e.child,e=n.sibling,n=Cr(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function xx(e,t){return t=Xf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xf(e,t){return e=Dn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Mg(e,t,n){return ml(t,e.child,null,n),e=xx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SN(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),rx(e.return,t,n)}function Rg(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function $M(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(Vt(e,t,s.children,n),s=Mt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&SN(e,n,t);else if(e.tag===19)SN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(ot(Mt,s),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&qf(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Rg(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&qf(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Rg(t,!0,n,null,i);break;case"together":Rg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Aa|=t.lanes,!(n&t.childLanes))if(e!==null){if(Du(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Cr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oy(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ff(e)))}function Rte(e,t,n){switch(t.tag){case 3:Df(t,t.stateNode.containerInfo),sa(t,_t,e.memoizedState.cache),Ru();break;case 27:case 5:qp(t);break;case 4:Df(t,t.stateNode.containerInfo);break;case 10:sa(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ra(t),t.flags|=128,null):n&t.child.childLanes?PM(e,t,n):(ra(t),e=$r(e,t,n),e!==null?e.sibling:null);ra(t);break;case 19:var r=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Du(e,t,n,!1),s=(n&t.childLanes)!==0),r){if(s)return $M(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ot(Mt,Mt.current),s)break;return null;case 22:case 23:return t.lanes=0,zM(e,t,n);case 24:sa(t,_t,e.memoizedState.cache)}return $r(e,t,n)}function OM(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)It=!0;else{if(!oy(e,n)&&!(t.flags&128))return It=!1,Rte(e,t,n);It=!!(e.flags&131072)}else It=!1,Pe&&t.flags&1048576&&B_(t,Bf,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,typeof s=="function")Hv(s)?(e=Ri(s,e),t.tag=1,t=jN(null,t,s,e,n)):(t.tag=0,t=px(null,t,s,e,n));else{if(s!=null){if(r=s.$$typeof,r===Tv){t.tag=11,t=vN(null,t,s,e,n);break e}else if(r===Av){t.tag=14,t=yN(null,t,s,e,n);break e}}throw t=Vp(s)||s,Error(Y(306,t,""))}}return t;case 0:return px(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,r=Ri(s,t.pendingProps),jN(e,t,s,r,n);case 3:e:{if(Df(t,t.stateNode.containerInfo),e===null)throw Error(Y(387));s=t.pendingProps;var i=t.memoizedState;r=i.element,lx(e,t),yc(t,s,null,n);var o=t.memoizedState;if(s=o.cache,sa(t,_t,s),s!==i.cache&&ax(t,[_t],n,!0),vc(),s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=NN(e,t,s,n);break e}else if(s!==r){r=Qn(Error(Y(424)),t),Xc(r),t=NN(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ht=ys(e.firstChild),nn=t,Pe=!0,fi=null,zs=!0,n=CM(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ru(),s===r){t=$r(e,t,n);break e}Vt(e,t,s,n)}t=t.child}return t;case 26:return Wd(e,t),e===null?(n=FN(t.type,null,t.pendingProps,null))?t.memoizedState=n:Pe||(n=t.type,e=t.pendingProps,s=nm(xa.current).createElement(n),s[Kt]=t,s[wn]=e,Zt(s,n,e),$t(s),t.stateNode=s):t.memoizedState=FN(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qp(t),e===null&&Pe&&(s=t.stateNode=S4(t.type,t.pendingProps,xa.current),nn=t,zs=!0,r=ht,Ua(t.type)?(Mx=r,ht=ys(s.firstChild)):ht=r),Vt(e,t,t.pendingProps.children,n),Wd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((r=s=ht)&&(s=ine(s,t.type,t.pendingProps,zs),s!==null?(t.stateNode=s,nn=t,ht=ys(s.firstChild),zs=!1,r=!0):r=!1),r||Ai(t)),qp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Tx(r,i)?s=null:o!==null&&Tx(r,o)&&(t.flags|=32),t.memoizedState!==null&&(r=Wv(e,t,Ste,null,null,n),tu._currentValue=r),Wd(e,t),Vt(e,t,s,n),t.child;case 6:return e===null&&Pe&&((e=n=ht)&&(n=one(n,t.pendingProps,zs),n!==null?(t.stateNode=n,nn=t,ht=null,e=!0):e=!1),e||Ai(t)),null;case 13:return PM(e,t,n);case 4:return Df(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ml(t,null,s,n):Vt(e,t,s,n),t.child;case 11:return vN(e,t,t.type,t.pendingProps,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,sa(t,t.type,s.value),Vt(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,_i(t),r=Qt(r),s=s(r),t.flags|=1,Vt(e,t,s,n),t.child;case 14:return yN(e,t,t.type,t.pendingProps,n);case 15:return LM(e,t,t.type,t.pendingProps,n);case 19:return $M(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=Xf(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Cr(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return zM(e,t,n);case 24:return _i(t),s=Qt(_t),e===null?(r=qv(),r===null&&(r=Ke,i=Gv(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:s,cache:r},Zv(t),sa(t,_t,r)):(e.lanes&n&&(lx(e,t),yc(t,null,null,n),vc()),r=e.memoizedState,i=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),sa(t,_t,s)):(s=i.cache,sa(t,_t,s),s!==r.cache&&ax(t,[_t],n,!0))),Vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Y(156,t.tag))}function dr(e){e.flags|=4}function kN(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!E4(t)){if(t=as.current,t!==null&&((Le&4194048)===Le?Gs!==null:(Le&62914560)!==Le&&!(Le&536870912)||t!==Gs))throw pc=ox,U_;e.flags|=8192}}function kd(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?u_():536870912,e.lanes|=t,hl|=t)}function Jl(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Dte(e,t,n){var s=t.pendingProps;switch(Vv(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return ct(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Er(_t),ol(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kl(t)?dr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tN())),ct(t),null;case 26:return n=t.memoizedState,e===null?(dr(t),n!==null?(ct(t),kN(t,n)):(ct(t),t.flags&=-16777217)):n?n!==e.memoizedState?(dr(t),ct(t),kN(t,n)):(ct(t),t.flags&=-16777217):(e.memoizedProps!==s&&dr(t),ct(t),t.flags&=-16777217),null;case 27:Lf(t),n=xa.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dr(t);else{if(!s){if(t.stateNode===null)throw Error(Y(166));return ct(t),null}e=Us.current,Kl(t)?Jj(t):(e=S4(r,s,n),t.stateNode=e,dr(t))}return ct(t),null;case 5:if(Lf(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dr(t);else{if(!s){if(t.stateNode===null)throw Error(Y(166));return ct(t),null}if(e=Us.current,Kl(t))Jj(t);else{switch(r=nm(xa.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}e[Kt]=t,e[wn]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Zt(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&dr(t)}}return ct(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&dr(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Y(166));if(e=xa.current,Kl(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,r=nn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||w4(e.nodeValue,n)),e||Ai(t)}else e=nm(e).createTextNode(s),e[Kt]=t,t.stateNode=e}return ct(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Kl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(Y(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Y(317));r[Kt]=t}else Ru(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),r=!1}else r=tN(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(jr(t),t):(jr(t),null)}if(jr(t),t.flags&128)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),kd(t,t.updateQueue),ct(t),null;case 4:return ol(),e===null&&gy(t.stateNode.containerInfo),ct(t),null;case 10:return Er(t.type),ct(t),null;case 19:if(Bt(Mt),r=t.memoizedState,r===null)return ct(t),null;if(s=(t.flags&128)!==0,i=r.rendering,i===null)if(s)Jl(r,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=qf(e),i!==null){for(t.flags|=128,Jl(r,!1),e=i.updateQueue,t.updateQueue=e,kd(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)I_(n,e),n=n.sibling;return ot(Mt,Mt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Vs()>Kf&&(t.flags|=128,s=!0,Jl(r,!1),t.lanes=4194304)}else{if(!s)if(e=qf(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,kd(t,e),Jl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!Pe)return ct(t),null}else 2*Vs()-r.renderingStartTime>Kf&&n!==536870912&&(t.flags|=128,s=!0,Jl(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(e=r.last,e!==null?e.sibling=i:t.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Vs(),t.sibling=null,e=Mt.current,ot(Mt,s?e&1|2:e&1),t):(ct(t),null);case 22:case 23:return jr(t),Yv(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),n=t.updateQueue,n!==null&&kd(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Bt(mi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Er(_t),ct(t),null;case 25:return null;case 30:return null}throw Error(Y(156,t.tag))}function Lte(e,t){switch(Vv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(_t),ol(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Lf(t),null;case 13:if(jr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Ru()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bt(Mt),null;case 4:return ol(),null;case 10:return Er(t.type),null;case 22:case 23:return jr(t),Yv(),e!==null&&Bt(mi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Er(_t),null;case 25:return null;default:return null}}function IM(e,t){switch(Vv(t),t.tag){case 3:Er(_t),ol();break;case 26:case 27:case 5:Lf(t);break;case 4:ol();break;case 13:jr(t);break;case 19:Bt(Mt);break;case 10:Er(t.type);break;case 22:case 23:jr(t),Yv(),e!==null&&Bt(mi);break;case 24:Er(_t)}}function Ou(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var i=n.create,o=n.inst;s=i(),o.destroy=s}n=n.next}while(n!==r)}}catch(l){Ye(t,t.return,l)}}function Ta(e,t,n){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&e)===e){var o=s.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,r=t;var c=n,u=l;try{u()}catch(d){Ye(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){Ye(t,t.return,d)}}function BM(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{q_(t,n)}catch(s){Ye(e,e.return,s)}}}function FM(e,t,n){n.props=Ri(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ye(e,t,s)}}function wc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(r){Ye(e,t,r)}}function Bs(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){Ye(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ye(e,t,r)}else n.current=null}function HM(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){Ye(e,e.return,r)}}function Dg(e,t,n){try{var s=e.stateNode;tne(s,e.type,n,t),s[wn]=t}catch(r){Ye(e,e.return,r)}}function UM(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function Lg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vx(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ph));else if(s!==4&&(s===27&&Ua(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vx(e,t,n),e=e.sibling;e!==null;)vx(e,t,n),e=e.sibling}function Wf(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Ua(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Wf(e,t,n),e=e.sibling;e!==null;)Wf(e,t,n),e=e.sibling}function VM(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Zt(t,s,n),t[Kt]=e,t[wn]=n}catch(i){Ye(e,e.return,i)}}var pr=!1,wt=!1,zg=!1,CN=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function zte(e,t){if(e=e.containerInfo,Cx=im,e=M_(e),Iv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==n||r!==0&&f.nodeType!==3||(l=o+r),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===r&&(l=o),m===i&&++d===s&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ex={focusedElem:e,selectionRange:n},im=!1,Pt=t;Pt!==null;)if(t=Pt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Pt=e;else for(;Pt!==null;){switch(t=Pt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var p=Ri(n.type,r,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(p,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(y){Ye(n,n.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ax(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ax(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Y(163))}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}}function GM(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Xr(e,n),s&4&&Ou(5,n);break;case 1:if(Xr(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Ye(n,n.return,o)}else{var r=Ri(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ye(n,n.return,o)}}s&64&&BM(n),s&512&&wc(n,n.return);break;case 3:if(Xr(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{q_(e,t)}catch(o){Ye(n,n.return,o)}}break;case 27:t===null&&s&4&&VM(n);case 26:case 5:Xr(e,n),t===null&&s&4&&HM(n),s&512&&wc(n,n.return);break;case 12:Xr(e,n);break;case 13:Xr(e,n),s&4&&YM(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Vte.bind(null,n),lne(e,n))));break;case 22:if(s=n.memoizedState!==null||pr,!s){t=t!==null&&t.memoizedState!==null||wt,r=pr;var i=wt;pr=s,(wt=t)&&!i?Kr(e,n,(n.subtreeFlags&8772)!==0):Xr(e,n),pr=r,wt=i}break;case 30:break;default:Xr(e,n)}}function qM(e){var t=e.alternate;t!==null&&(e.alternate=null,qM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Dv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,pn=!1;function fr(e,t,n){for(n=n.child;n!==null;)ZM(e,t,n),n=n.sibling}function ZM(e,t,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Eu,n)}catch{}switch(n.tag){case 26:wt||Bs(n,t),fr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||Bs(n,t);var s=rt,r=pn;Ua(n.type)&&(rt=n.stateNode,pn=!1),fr(e,t,n),kc(n.stateNode),rt=s,pn=r;break;case 5:wt||Bs(n,t);case 6:if(s=rt,r=pn,rt=null,fr(e,t,n),rt=s,pn=r,rt!==null)if(pn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(n.stateNode)}catch(i){Ye(n,t,i)}else try{rt.removeChild(n.stateNode)}catch(i){Ye(n,t,i)}break;case 18:rt!==null&&(pn?(e=rt,ON(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ru(e)):ON(rt,n.stateNode));break;case 4:s=rt,r=pn,rt=n.stateNode.containerInfo,pn=!0,fr(e,t,n),rt=s,pn=r;break;case 0:case 11:case 14:case 15:wt||Ta(2,n,t),wt||Ta(4,n,t),fr(e,t,n);break;case 1:wt||(Bs(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&FM(n,t,s)),fr(e,t,n);break;case 21:fr(e,t,n);break;case 22:wt=(s=wt)||n.memoizedState!==null,fr(e,t,n),wt=s;break;default:fr(e,t,n)}}function YM(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ru(e)}catch(n){Ye(t,t.return,n)}}function Pte(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new CN),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new CN),t;default:throw Error(Y(435,e.tag))}}function Pg(e,t){var n=Pte(e);t.forEach(function(s){var r=Gte.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}function En(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(Ua(l.type)){rt=l.stateNode,pn=!1;break e}break;case 5:rt=l.stateNode,pn=!1;break e;case 3:case 4:rt=l.stateNode.containerInfo,pn=!0;break e}l=l.return}if(rt===null)throw Error(Y(160));ZM(i,o,r),rt=null,pn=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)XM(t,e),t=t.sibling}var ms=null;function XM(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:En(t,e),Tn(e),s&4&&(Ta(3,e,e.return),Ou(3,e),Ta(5,e,e.return));break;case 1:En(t,e),Tn(e),s&512&&(wt||n===null||Bs(n,n.return)),s&64&&pr&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=ms;if(En(t,e),Tn(e),s&512&&(wt||n===null||Bs(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[_u]||i[Kt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),Zt(i,s,n),i[Kt]=e,$t(i),s=i;break e;case"link":var o=UN("link","href",r).get(s+(n.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(l,1);break t}}i=r.createElement(s),Zt(i,s,n),r.head.appendChild(i);break;case"meta":if(o=UN("meta","content",r).get(s+(n.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(l,1);break t}}i=r.createElement(s),Zt(i,s,n),r.head.appendChild(i);break;default:throw Error(Y(468,s))}i[Kt]=e,$t(i),s=i}e.stateNode=s}else VN(r,e.type,e.stateNode);else e.stateNode=HN(r,s,e.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?VN(r,e.type,e.stateNode):HN(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Dg(e,e.memoizedProps,n.memoizedProps)}break;case 27:En(t,e),Tn(e),s&512&&(wt||n===null||Bs(n,n.return)),n!==null&&s&4&&Dg(e,e.memoizedProps,n.memoizedProps);break;case 5:if(En(t,e),Tn(e),s&512&&(wt||n===null||Bs(n,n.return)),e.flags&32){r=e.stateNode;try{cl(r,"")}catch(h){Ye(e,e.return,h)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,Dg(e,r,n!==null?n.memoizedProps:r)),s&1024&&(zg=!0);break;case 6:if(En(t,e),Tn(e),s&4){if(e.stateNode===null)throw Error(Y(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(h){Ye(e,e.return,h)}}break;case 3:if(Jd=null,r=ms,ms=sm(t.containerInfo),En(t,e),ms=r,Tn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ru(t.containerInfo)}catch(h){Ye(e,e.return,h)}zg&&(zg=!1,WM(e));break;case 4:s=ms,ms=sm(e.stateNode.containerInfo),En(t,e),Tn(e),ms=s;break;case 12:En(t,e),Tn(e);break;case 13:En(t,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fy=Vs()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pg(e,s)));break;case 22:r=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=pr,d=wt;if(pr=u||r,wt=d||c,En(t,e),wt=d,pr=u,Tn(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||c||pr||wt||Ja(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(i=c.stateNode,r)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(h){Ye(c,c.return,h)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){Ye(c,c.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Pg(e,n))));break;case 19:En(t,e),Tn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pg(e,s)));break;case 30:break;case 21:break;default:En(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(UM(s)){n=s;break}s=s.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var r=n.stateNode,i=Lg(e);Wf(e,i,r);break;case 5:var o=n.stateNode;n.flags&32&&(cl(o,""),n.flags&=-33);var l=Lg(e);Wf(e,l,o);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Lg(e);vx(e,u,c);break;default:throw Error(Y(161))}}catch(d){Ye(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WM(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;WM(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Xr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)GM(e,t.alternate,t),t=t.sibling}function Ja(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ta(4,t,t.return),Ja(t);break;case 1:Bs(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&FM(t,t.return,n),Ja(t);break;case 27:kc(t.stateNode);case 26:case 5:Bs(t,t.return),Ja(t);break;case 22:t.memoizedState===null&&Ja(t);break;case 30:Ja(t);break;default:Ja(t)}e=e.sibling}}function Kr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Kr(r,i,n),Ou(4,i);break;case 1:if(Kr(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Ye(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var l=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)G_(c[r],l)}catch(u){Ye(s,s.return,u)}}n&&o&64&&BM(i),wc(i,i.return);break;case 27:VM(i);case 26:case 5:Kr(r,i,n),n&&s===null&&o&4&&HM(i),wc(i,i.return);break;case 12:Kr(r,i,n);break;case 13:Kr(r,i,n),n&&o&4&&YM(r,i);break;case 22:i.memoizedState===null&&Kr(r,i,n),wc(i,i.return);break;case 30:break;default:Kr(r,i,n)}t=t.sibling}}function ly(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Lu(n))}function cy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lu(e))}function Ms(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)KM(e,t,n,s),t=t.sibling}function KM(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ms(e,t,n,s),r&2048&&Ou(9,t);break;case 1:Ms(e,t,n,s);break;case 3:Ms(e,t,n,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lu(e)));break;case 12:if(r&2048){Ms(e,t,n,s),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Ye(t,t.return,c)}}else Ms(e,t,n,s);break;case 13:Ms(e,t,n,s);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Ms(e,t,n,s):jc(e,t):i._visibility&2?Ms(e,t,n,s):(i._visibility|=2,lo(e,t,n,s,(t.subtreeFlags&10256)!==0)),r&2048&&ly(o,t);break;case 24:Ms(e,t,n,s),r&2048&&cy(t.alternate,t);break;default:Ms(e,t,n,s)}}function lo(e,t,n,s,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,o=t,l=n,c=s,u=o.flags;switch(o.tag){case 0:case 11:case 15:lo(i,o,l,c,r),Ou(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?lo(i,o,l,c,r):jc(i,o):(d._visibility|=2,lo(i,o,l,c,r)),r&&u&2048&&ly(o.alternate,o);break;case 24:lo(i,o,l,c,r),r&&u&2048&&cy(o.alternate,o);break;default:lo(i,o,l,c,r)}t=t.sibling}}function jc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:jc(n,s),r&2048&&ly(s.alternate,s);break;case 24:jc(n,s),r&2048&&cy(s.alternate,s);break;default:jc(n,s)}t=t.sibling}}var cc=8192;function ro(e){if(e.subtreeFlags&cc)for(e=e.child;e!==null;)QM(e),e=e.sibling}function QM(e){switch(e.tag){case 26:ro(e),e.flags&cc&&e.memoizedState!==null&&wne(ms,e.memoizedState,e.memoizedProps);break;case 5:ro(e);break;case 3:case 4:var t=ms;ms=sm(e.stateNode.containerInfo),ro(e),ms=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=cc,cc=16777216,ro(e),cc=t):ro(e));break;default:ro(e)}}function JM(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ec(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Pt=s,t4(s,e)}JM(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)e4(e),e=e.sibling}function e4(e){switch(e.tag){case 0:case 11:case 15:ec(e),e.flags&2048&&Ta(9,e,e.return);break;case 3:ec(e);break;case 12:ec(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Kd(e)):ec(e);break;default:ec(e)}}function Kd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Pt=s,t4(s,e)}JM(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ta(8,t,t.return),Kd(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Kd(t));break;default:Kd(t)}e=e.sibling}}function t4(e,t){for(;Pt!==null;){var n=Pt;switch(n.tag){case 0:case 11:case 15:Ta(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Lu(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Pt=s;else e:for(n=e;Pt!==null;){s=Pt;var r=s.sibling,i=s.return;if(qM(s),s===n){Pt=null;break e}if(r!==null){r.return=i,Pt=r;break e}Pt=i}}}var $te={getCacheForType:function(e){var t=Qt(_t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Ote=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ke=null,Ae=null,Le=0,Fe=0,An=null,da=!1,zl=!1,uy=!1,Or=0,gt=0,Aa=0,hi=0,dy=0,ts=0,hl=0,Nc=null,xn=null,yx=!1,fy=0,Kf=1/0,Qf=null,ba=null,Gt=0,wa=null,gl=null,Bo=0,bx=0,wx=null,n4=null,Sc=0,jx=null;function In(){if(Ue&2&&Le!==0)return Le&-Le;if(pe.T!==null){var e=ul;return e!==0?e:hy()}return m_()}function s4(){ts===0&&(ts=!(Le&536870912)||Pe?c_():536870912);var e=as.current;return e!==null&&(e.flags|=32),ts}function Bn(e,t,n){(e===Ke&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(pl(e,0),fa(e,Le,ts,!1)),Au(e,n),(!(Ue&2)||e!==Ke)&&(e===Ke&&(!(Ue&2)&&(hi|=n),gt===4&&fa(e,Le,ts,!1)),tr(e))}function r4(e,t,n){if(Ue&6)throw Error(Y(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Tu(e,t),r=s?Fte(e,t):$g(e,t,!0),i=s;do{if(r===0){zl&&!s&&fa(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!Ite(n)){r=$g(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;r=Nc;var c=l.current.memoizedState.isDehydrated;if(c&&(pl(l,o).flags|=256),o=$g(l,o,!1),o!==2){if(uy&&!c){l.errorRecoveryDisabledLanes|=i,hi|=i,r=4;break e}i=xn,xn=r,i!==null&&(xn===null?xn=i:xn.push.apply(xn,i))}r=o}if(i=!1,r!==2)continue}}if(r===1){pl(e,0),fa(e,t,0,!0);break}e:{switch(s=e,i=r,i){case 0:case 1:throw Error(Y(345));case 4:if((t&4194048)!==t)break;case 6:fa(s,t,ts,!da);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((t&62914560)===t&&(r=fy+300-Vs(),10<r)){if(fa(s,t,ts,!da),sh(s,0,!0)!==0)break e;s.timeoutHandle=N4(EN.bind(null,s,n,xn,Qf,yx,t,ts,hi,hl,da,i,2,-0,0),r);break e}EN(s,n,xn,Qf,yx,t,ts,hi,hl,da,i,0,-0,0)}}break}while(!0);tr(e)}function EN(e,t,n,s,r,i,o,l,c,u,d,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:bne},QM(t),f=jne(),f!==null)){e.cancelPendingCommit=f(AN.bind(null,e,t,i,n,s,r,o,l,c,d,1,m,h)),fa(e,i,o,!u);return}AN(e,t,i,n,s,r,o,l,c)}function Ite(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Hn(i(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fa(e,t,n,s){t&=~dy,t&=~hi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var i=31-On(r),o=1<<i;s[i]=-1,r&=~o}n!==0&&d_(e,n,t)}function mh(){return Ue&6?!0:(Iu(0),!1)}function my(){if(Ae!==null){if(Fe===0)var e=Ae.return;else e=Ae,wr=Yi=null,Jv(e),Io=null,Kc=0,e=Ae;for(;e!==null;)IM(e.alternate,e),e=e.return;Ae=null}}function pl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,sne(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),my(),Ke=e,Ae=n=Cr(e.current,null),Le=t,Fe=0,An=null,da=!1,zl=Tu(e,t),uy=!1,hl=ts=dy=hi=Aa=gt=0,xn=Nc=null,yx=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-On(s),i=1<<r;t|=e[r],s&=~i}return Or=t,oh(),n}function a4(e,t){Ce=null,pe.H=Gf,t===zu||t===ch?(t=aN(),Fe=3):t===U_?(t=aN(),Fe=4):Fe=t===DM?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,An=t,Ae===null&&(gt=1,Yf(e,Qn(t,e.current)))}function i4(){var e=pe.H;return pe.H=Gf,e===null?Gf:e}function o4(){var e=pe.A;return pe.A=$te,e}function Nx(){gt=4,da||(Le&4194048)!==Le&&as.current!==null||(zl=!0),!(Aa&134217727)&&!(hi&134217727)||Ke===null||fa(Ke,Le,ts,!1)}function $g(e,t,n){var s=Ue;Ue|=2;var r=i4(),i=o4();(Ke!==e||Le!==t)&&(Qf=null,pl(e,t)),t=!1;var o=gt;e:do try{if(Fe!==0&&Ae!==null){var l=Ae,c=An;switch(Fe){case 8:my(),o=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(t=!0);var u=Fe;if(Fe=0,An=null,So(e,l,c,u),n&&zl){o=0;break e}break;default:u=Fe,Fe=0,An=null,So(e,l,c,u)}}Bte(),o=gt;break}catch(d){a4(e,d)}while(!0);return t&&e.shellSuspendCounter++,wr=Yi=null,Ue=s,pe.H=r,pe.A=i,Ae===null&&(Ke=null,Le=0,oh()),o}function Bte(){for(;Ae!==null;)l4(Ae)}function Fte(e,t){var n=Ue;Ue|=2;var s=i4(),r=o4();Ke!==e||Le!==t?(Qf=null,Kf=Vs()+500,pl(e,t)):zl=Tu(e,t);e:do try{if(Fe!==0&&Ae!==null){t=Ae;var i=An;t:switch(Fe){case 1:Fe=0,An=null,So(e,t,i,1);break;case 2:case 9:if(rN(i)){Fe=0,An=null,TN(t);break}t=function(){Fe!==2&&Fe!==9||Ke!==e||(Fe=7),tr(e)},i.then(t,t);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:rN(i)?(Fe=0,An=null,TN(t)):(Fe=0,An=null,So(e,t,i,7));break;case 5:var o=null;switch(Ae.tag){case 26:o=Ae.memoizedState;case 5:case 27:var l=Ae;if(!o||E4(o)){Fe=0,An=null;var c=l.sibling;if(c!==null)Ae=c;else{var u=l.return;u!==null?(Ae=u,hh(u)):Ae=null}break t}}Fe=0,An=null,So(e,t,i,5);break;case 6:Fe=0,An=null,So(e,t,i,6);break;case 8:my(),gt=6;break e;default:throw Error(Y(462))}}Hte();break}catch(d){a4(e,d)}while(!0);return wr=Yi=null,pe.H=s,pe.A=r,Ue=n,Ae!==null?0:(Ke=null,Le=0,oh(),gt)}function Hte(){for(;Ae!==null&&!uee();)l4(Ae)}function l4(e){var t=OM(e.alternate,e,Or);e.memoizedProps=e.pendingProps,t===null?hh(e):Ae=t}function TN(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wN(n,t,t.pendingProps,t.type,void 0,Le);break;case 11:t=wN(n,t,t.pendingProps,t.type.render,t.ref,Le);break;case 5:Jv(t);default:IM(n,t),t=Ae=I_(t,Or),t=OM(n,t,Or)}e.memoizedProps=e.pendingProps,t===null?hh(e):Ae=t}function So(e,t,n,s){wr=Yi=null,Jv(t),Io=null,Kc=0;var r=t.return;try{if(Mte(e,r,t,n,Le)){gt=1,Yf(e,Qn(n,e.current)),Ae=null;return}}catch(i){if(r!==null)throw Ae=r,i;gt=1,Yf(e,Qn(n,e.current)),Ae=null;return}t.flags&32768?(Pe||s===1?e=!0:zl||Le&536870912?e=!1:(da=e=!0,(s===2||s===9||s===3||s===6)&&(s=as.current,s!==null&&s.tag===13&&(s.flags|=16384))),c4(t,e)):hh(t)}function hh(e){var t=e;do{if(t.flags&32768){c4(t,da);return}e=t.return;var n=Dte(t.alternate,t,Or);if(n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);gt===0&&(gt=5)}function c4(e,t){do{var n=Lte(e.alternate,e);if(n!==null){n.flags&=32767,Ae=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=n}while(e!==null);gt=6,Ae=null}function AN(e,t,n,s,r,i,o,l,c){e.cancelPendingCommit=null;do gh();while(Gt!==0);if(Ue&6)throw Error(Y(327));if(t!==null){if(t===e.current)throw Error(Y(177));if(i=t.lanes|t.childLanes,i|=Bv,bee(e,n,i,o,l,c),e===Ke&&(Ae=Ke=null,Le=0),gl=t,wa=e,Bo=n,bx=i,wx=r,n4=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,qte(zf,function(){return h4(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=pe.T,pe.T=null,r=$e.p,$e.p=2,o=Ue,Ue|=4;try{zte(e,t,n)}finally{Ue=o,$e.p=r,pe.T=s}}Gt=1,u4(),d4(),f4()}}function u4(){if(Gt===1){Gt=0;var e=wa,t=gl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=pe.T,pe.T=null;var s=$e.p;$e.p=2;var r=Ue;Ue|=4;try{XM(t,e);var i=Ex,o=M_(e.containerInfo),l=i.focusedElem,c=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&__(l.ownerDocument.documentElement,l)){if(c!==null&&Iv(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=l.textContent.length,y=Math.min(c.start,p),b=c.end===void 0?y:Math.min(c.end,p);!h.extend&&y>b&&(o=b,b=y,y=o);var v=Wj(l,y),x=Wj(l,b);if(v&&x&&(h.rangeCount!==1||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==x.node||h.focusOffset!==x.offset)){var w=f.createRange();w.setStart(v.node,v.offset),h.removeAllRanges(),y>b?(h.addRange(w),h.extend(x.node,x.offset)):(w.setEnd(x.node,x.offset),h.addRange(w))}}}}for(f=[],h=l;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var j=f[l];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}im=!!Cx,Ex=Cx=null}finally{Ue=r,$e.p=s,pe.T=n}}e.current=t,Gt=2}}function d4(){if(Gt===2){Gt=0;var e=wa,t=gl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=pe.T,pe.T=null;var s=$e.p;$e.p=2;var r=Ue;Ue|=4;try{GM(e,t.alternate,t)}finally{Ue=r,$e.p=s,pe.T=n}}Gt=3}}function f4(){if(Gt===4||Gt===3){Gt=0,dee();var e=wa,t=gl,n=Bo,s=n4;t.subtreeFlags&10256||t.flags&10256?Gt=5:(Gt=0,gl=wa=null,m4(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(ba=null),Rv(n),t=t.stateNode,$n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Eu,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=pe.T,r=$e.p,$e.p=2,pe.T=null;try{for(var i=e.onRecoverableError,o=0;o<s.length;o++){var l=s[o];i(l.value,{componentStack:l.stack})}}finally{pe.T=t,$e.p=r}}Bo&3&&gh(),tr(e),r=e.pendingLanes,n&4194090&&r&42?e===jx?Sc++:(Sc=0,jx=e):Sc=0,Iu(0)}}function m4(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Lu(t)))}function gh(e){return u4(),d4(),f4(),h4()}function h4(){if(Gt!==5)return!1;var e=wa,t=bx;bx=0;var n=Rv(Bo),s=pe.T,r=$e.p;try{$e.p=32>n?32:n,pe.T=null,n=wx,wx=null;var i=wa,o=Bo;if(Gt=0,gl=wa=null,Bo=0,Ue&6)throw Error(Y(331));var l=Ue;if(Ue|=4,e4(i.current),KM(i,i.current,o,n),Ue=l,Iu(0,!1),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Eu,i)}catch{}return!0}finally{$e.p=r,pe.T=s,m4(e,t)}}function _N(e,t,n){t=Qn(n,t),t=gx(e.stateNode,t,2),e=ya(e,t,2),e!==null&&(Au(e,2),tr(e))}function Ye(e,t,n){if(e.tag===3)_N(e,e,n);else for(;t!==null;){if(t.tag===3){_N(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ba===null||!ba.has(s))){e=Qn(n,e),n=MM(2),s=ya(t,n,2),s!==null&&(RM(n,s,t,e),Au(s,2),tr(s));break}}t=t.return}}function Og(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Ote;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(uy=!0,r.add(n),e=Ute.bind(null,e,t,n),t.then(e,e))}function Ute(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ke===e&&(Le&n)===n&&(gt===4||gt===3&&(Le&62914560)===Le&&300>Vs()-fy?!(Ue&2)&&pl(e,0):dy|=n,hl===Le&&(hl=0)),tr(e)}function g4(e,t){t===0&&(t=u_()),e=Ll(e,t),e!==null&&(Au(e,t),tr(e))}function Vte(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),g4(e,n)}function Gte(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(Y(314))}s!==null&&s.delete(t),g4(e,n)}function qte(e,t){return _v(e,t)}var Jf=null,co=null,Sx=!1,em=!1,Ig=!1,gi=0;function tr(e){e!==co&&e.next===null&&(co===null?Jf=co=e:co=co.next=e),em=!0,Sx||(Sx=!0,Yte())}function Iu(e,t){if(!Ig&&em){Ig=!0;do for(var n=!1,s=Jf;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var o=s.suspendedLanes,l=s.pingedLanes;i=(1<<31-On(42|e)+1)-1,i&=r&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,MN(s,i))}else i=Le,i=sh(s,s===Ke?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||Tu(s,i)||(n=!0,MN(s,i));s=s.next}while(n);Ig=!1}}function Zte(){p4()}function p4(){em=Sx=!1;var e=0;gi!==0&&(nne()&&(e=gi),gi=0);for(var t=Vs(),n=null,s=Jf;s!==null;){var r=s.next,i=x4(s,t);i===0?(s.next=null,n===null?Jf=r:n.next=r,r===null&&(co=n)):(n=s,(e!==0||i&3)&&(em=!0)),s=r}Iu(e)}function x4(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-On(i),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=yee(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}if(t=Ke,n=Le,n=sh(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&dg(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Tu(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&dg(s),Rv(n)){case 2:case 8:n=o_;break;case 32:n=zf;break;case 268435456:n=l_;break;default:n=zf}return s=v4.bind(null,e),n=_v(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&dg(s),e.callbackPriority=2,e.callbackNode=null,2}function v4(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(gh()&&e.callbackNode!==n)return null;var s=Le;return s=sh(e,e===Ke?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(r4(e,s,t),x4(e,Vs()),e.callbackNode!=null&&e.callbackNode===n?v4.bind(null,e):null)}function MN(e,t){if(gh())return null;r4(e,t,!0)}function Yte(){rne(function(){Ue&6?_v(i_,Zte):p4()})}function hy(){return gi===0&&(gi=c_()),gi}function RN(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ud(""+e)}function DN(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Xte(e,t,n,s,r){if(t==="submit"&&n&&n.stateNode===r){var i=RN((r[wn]||null).action),o=s.submitter;o&&(t=(t=o[wn]||null)?RN(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new rh("action","action",null,s,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(gi!==0){var c=o?DN(r,o):new FormData(r);mx(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=o?DN(r,o):new FormData(r),mx(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var Bg=0;Bg<tx.length;Bg++){var Fg=tx[Bg],Wte=Fg.toLowerCase(),Kte=Fg[0].toUpperCase()+Fg.slice(1);Cs(Wte,"on"+Kte)}Cs(D_,"onAnimationEnd");Cs(L_,"onAnimationIteration");Cs(z_,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(hte,"onTransitionRun");Cs(gte,"onTransitionStart");Cs(pte,"onTransitionCancel");Cs(P_,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qte=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qc));function y4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Zf(d)}r.currentTarget=null,i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Zf(d)}r.currentTarget=null,i=c}}}}function Te(e,t){var n=t[Yp];n===void 0&&(n=t[Yp]=new Set);var s=e+"__bubble";n.has(s)||(b4(t,e,2,!1),n.add(s))}function Hg(e,t,n){var s=0;t&&(s|=4),b4(n,e,s,t)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function gy(e){if(!e[Cd]){e[Cd]=!0,h_.forEach(function(n){n!=="selectionchange"&&(Qte.has(n)||Hg(n,!1,e),Hg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cd]||(t[Cd]=!0,Hg("selectionchange",!1,t))}}function b4(e,t,n,s){switch(R4(t)){case 2:var r=kne;break;case 8:r=Cne;break;default:r=yy}n=r.bind(null,t,n,e),r=void 0,!Qp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ug(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===r)return;o=o.return}for(;l!==null;){if(o=go(l),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){s=i=o;continue e}l=l.parentNode}}s=s.return}j_(function(){var u=i,d=zv(n),f=[];e:{var m=$_.get(e);if(m!==void 0){var h=rh,p=e;switch(e){case"keypress":if(Gd(n)===0)break e;case"keydown":case"keyup":h=qee;break;case"focusin":p="focus",h=yg;break;case"focusout":p="blur",h=yg;break;case"beforeblur":case"afterblur":h=yg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Bj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Lee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Xee;break;case D_:case L_:case z_:h=$ee;break;case P_:h=Kee;break;case"scroll":case"scrollend":h=Ree;break;case"wheel":h=Jee;break;case"copy":case"cut":case"paste":h=Iee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Hj;break;case"toggle":case"beforetoggle":h=tte}var y=(t&4)!==0,b=!y&&(e==="scroll"||e==="scrollend"),v=y?m!==null?m+"Capture":null:m;y=[];for(var x=u,w;x!==null;){var j=x;if(w=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||w===null||v===null||(j=qc(x,v),j!=null&&y.push(Jc(x,j,w))),b)break;x=x.return}0<y.length&&(m=new h(m,p,null,n,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==Kp&&(p=n.relatedTarget||n.fromElement)&&(go(p)||p[Rl]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?go(p):null,p!==null&&(b=Cu(p),y=p.tag,p!==b||y!==5&&y!==27&&y!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=Bj,j="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=Hj,j="onPointerLeave",v="onPointerEnter",x="pointer"),b=h==null?m:lc(h),w=p==null?m:lc(p),m=new y(j,x+"leave",h,n,d),m.target=b,m.relatedTarget=w,j=null,go(d)===u&&(y=new y(v,x+"enter",p,n,d),y.target=w,y.relatedTarget=b,j=y),b=j,h&&p)t:{for(y=h,v=p,x=0,w=y;w;w=ao(w))x++;for(w=0,j=v;j;j=ao(j))w++;for(;0<x-w;)y=ao(y),x--;for(;0<w-x;)v=ao(v),w--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=ao(y),v=ao(v)}y=null}else y=null;h!==null&&LN(f,m,h,y,!1),p!==null&&b!==null&&LN(f,b,p,y,!0)}}e:{if(m=u?lc(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=qj;else if(Gj(m))if(T_)N=dte;else{N=cte;var k=lte}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Lv(u.elementType)&&(N=qj):N=ute;if(N&&(N=N(e,u))){E_(f,N,n,d);break e}k&&k(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Wp(m,"number",m.value)}switch(k=u?lc(u):window,e){case"focusin":(Gj(k)||k.contentEditable==="true")&&(vo=k,Jp=u,hc=null);break;case"focusout":hc=Jp=vo=null;break;case"mousedown":ex=!0;break;case"contextmenu":case"mouseup":case"dragend":ex=!1,Kj(f,n,d);break;case"selectionchange":if(mte)break;case"keydown":case"keyup":Kj(f,n,d)}var S;if(Ov)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xo?k_(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(S_&&n.locale!=="ko"&&(xo||E!=="onCompositionStart"?E==="onCompositionEnd"&&xo&&(S=N_()):(ua=d,Pv="value"in ua?ua.value:ua.textContent,xo=!0)),k=tm(u,E),0<k.length&&(E=new Fj(E,e,null,n,d),f.push({event:E,listeners:k}),S?E.data=S:(S=C_(n),S!==null&&(E.data=S)))),(S=ste?rte(e,n):ate(e,n))&&(E=tm(u,"onBeforeInput"),0<E.length&&(k=new Fj("onBeforeInput","beforeinput",null,n,d),f.push({event:k,listeners:E}),k.data=S)),Xte(f,e,u,n,d)}y4(f,t)})}function Jc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tm(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=qc(e,n),r!=null&&s.unshift(Jc(e,r,i)),r=qc(e,t),r!=null&&s.push(Jc(e,r,i))),e.tag===3)return s;e=e.return}return[]}function ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function LN(e,t,n,s,r){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||u===null||(c=u,r?(u=qc(n,i),u!=null&&o.unshift(Jc(n,u,c))):r||(u=qc(n,i),u!=null&&o.push(Jc(n,u,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Jte=/\r\n?/g,ene=/\u0000|\uFFFD/g;function zN(e){return(typeof e=="string"?e:""+e).replace(Jte,`
`).replace(ene,"")}function w4(e,t){return t=zN(t),zN(e)===t}function ph(){}function Ve(e,t,n,s,r,i){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||cl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&cl(e,""+s);break;case"className":yd(e,"class",s);break;case"tabIndex":yd(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":yd(e,n,s);break;case"style":w_(e,s,i);break;case"data":if(t!=="object"){yd(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ud(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ve(e,t,"name",r.name,r,null),Ve(e,t,"formEncType",r.formEncType,r,null),Ve(e,t,"formMethod",r.formMethod,r,null),Ve(e,t,"formTarget",r.formTarget,r,null)):(Ve(e,t,"encType",r.encType,r,null),Ve(e,t,"method",r.method,r,null),Ve(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ud(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=ph);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Ud(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Hd(e,"popover",s);break;case"xlinkActuate":ur(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ur(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ur(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ur(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ur(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ur(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ur(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ur(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ur(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Hd(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=_ee.get(n)||n,Hd(e,n,s))}}function kx(e,t,n,s,r,i){switch(n){case"style":w_(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"children":typeof s=="string"?cl(e,s):(typeof s=="number"||typeof s=="bigint")&&cl(e,""+s);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ph);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!g_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),i=e[wn]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Hd(e,n,s)}}}function Zt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:Ve(e,t,i,o,n,null)}}r&&Ve(e,t,"srcSet",n.srcSet,n,null),s&&Ve(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var l=i=o=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,t));break;default:Ve(e,t,s,d,n,null)}}v_(e,i,l,c,u,o,r,!1),Pf(e);return;case"select":Te("invalid",e),s=o=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Ve(e,t,r,l,n,null)}t=i,n=o,e.multiple=!!s,t!=null?Lo(e,!!s,t,!1):n!=null&&Lo(e,!!s,n,!0);return;case"textarea":Te("invalid",e),i=r=s=null;for(o in n)if(n.hasOwnProperty(o)&&(l=n[o],l!=null))switch(o){case"value":s=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(Y(91));break;default:Ve(e,t,o,l,n,null)}b_(e,s,r,i),Pf(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ve(e,t,c,s,n,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(s=0;s<Qc.length;s++)Te(Qc[s],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:Ve(e,t,u,s,n,null)}return;default:if(Lv(t)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&kx(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&Ve(e,t,l,s,n,null))}function tne(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,o=null,l=null,c=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=f;default:s.hasOwnProperty(h)||Ve(e,t,h,null,s,f)}}for(var m in s){var h=s[m];if(f=n[m],s.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":i=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":o=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Y(137,t));break;default:h!==f&&Ve(e,t,m,h,s,f)}}Xp(e,o,l,c,u,d,i,r);return;case"select":h=o=l=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":h=c;default:s.hasOwnProperty(i)||Ve(e,t,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Ve(e,t,r,i,s,c)}t=l,n=o,s=h,m!=null?Lo(e,!!n,m,!1):!!s!=!!n&&(t!=null?Lo(e,!!n,t,!0):Lo(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ve(e,t,l,null,s,r)}for(o in s)if(r=s[o],i=n[o],s.hasOwnProperty(o)&&(r!=null||i!=null))switch(o){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Y(91));break;default:r!==i&&Ve(e,t,o,r,s,i)}y_(e,m,h);return;case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&m!=null&&!s.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:Ve(e,t,p,null,s,m)}for(c in s)if(m=s[c],h=n[c],s.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ve(e,t,c,m,s,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!s.hasOwnProperty(y)&&Ve(e,t,y,null,s,m);for(u in s)if(m=s[u],h=n[u],s.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Y(137,t));break;default:Ve(e,t,u,m,s,h)}return;default:if(Lv(t)){for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!==void 0&&!s.hasOwnProperty(b)&&kx(e,t,b,void 0,s,m);for(d in s)m=s[d],h=n[d],!s.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||kx(e,t,d,m,s,h);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!s.hasOwnProperty(v)&&Ve(e,t,v,null,s,m);for(f in s)m=s[f],h=n[f],!s.hasOwnProperty(f)||m===h||m==null&&h==null||Ve(e,t,f,m,s,h)}var Cx=null,Ex=null;function nm(e){return e.nodeType===9?e:e.ownerDocument}function PN(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j4(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vg=null;function nne(){var e=window.event;return e&&e.type==="popstate"?e===Vg?!1:(Vg=e,!0):(Vg=null,!1)}var N4=typeof setTimeout=="function"?setTimeout:void 0,sne=typeof clearTimeout=="function"?clearTimeout:void 0,$N=typeof Promise=="function"?Promise:void 0,rne=typeof queueMicrotask=="function"?queueMicrotask:typeof $N<"u"?function(e){return $N.resolve(null).then(e).catch(ane)}:N4;function ane(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function ON(e,t){var n=t,s=0,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<s&&8>s){n=s;var o=e.ownerDocument;if(n&1&&kc(o.documentElement),n&2&&kc(o.body),n&4)for(n=o.head,kc(n),o=n.firstChild;o;){var l=o.nextSibling,c=o.nodeName;o[_u]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=l}}if(r===0){e.removeChild(i),ru(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);ru(t)}function Ax(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ax(n),Dv(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ine(e,t,n,s){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[_u])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=ys(e.nextSibling),e===null)break}return null}function one(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ys(e.nextSibling),e===null))return null;return e}function _x(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function lne(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Mx=null;function IN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function S4(e,t,n){switch(t=nm(n),e){case"html":if(e=t.documentElement,!e)throw Error(Y(452));return e;case"head":if(e=t.head,!e)throw Error(Y(453));return e;case"body":if(e=t.body,!e)throw Error(Y(454));return e;default:throw Error(Y(451))}}function kc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Dv(e)}var is=new Map,BN=new Set;function sm(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ur=$e.d;$e.d={f:cne,r:une,D:dne,C:fne,L:mne,m:hne,X:pne,S:gne,M:xne};function cne(){var e=Ur.f(),t=mh();return e||t}function une(e){var t=Dl(e);t!==null&&t.tag===5&&t.type==="form"?xM(t):Ur.r(e)}var Pl=typeof document>"u"?null:document;function k4(e,t,n){var s=Pl;if(s&&typeof t=="string"&&t){var r=Kn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),BN.has(r)||(BN.add(r),e={rel:e,crossOrigin:n,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),Zt(t,"link",e),$t(t),s.head.appendChild(t)))}}function dne(e){Ur.D(e),k4("dns-prefetch",e,null)}function fne(e,t){Ur.C(e,t),k4("preconnect",e,t)}function mne(e,t,n){Ur.L(e,t,n);var s=Pl;if(s&&e&&t){var r='link[rel="preload"][as="'+Kn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Kn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Kn(n.imageSizes)+'"]')):r+='[href="'+Kn(e)+'"]';var i=r;switch(t){case"style":i=xl(e);break;case"script":i=$l(e)}is.has(i)||(e=et({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),is.set(i,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Bu(i))||t==="script"&&s.querySelector(Fu(i))||(t=s.createElement("link"),Zt(t,"link",e),$t(t),s.head.appendChild(t)))}}function hne(e,t){Ur.m(e,t);var n=Pl;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Kn(s)+'"][href="'+Kn(e)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=$l(e)}if(!is.has(i)&&(e=et({rel:"modulepreload",href:e},t),is.set(i,e),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fu(i)))return}s=n.createElement("link"),Zt(s,"link",e),$t(s),n.head.appendChild(s)}}}function gne(e,t,n){Ur.S(e,t,n);var s=Pl;if(s&&e){var r=Do(s).hoistableStyles,i=xl(e);t=t||"default";var o=r.get(i);if(!o){var l={loading:0,preload:null};if(o=s.querySelector(Bu(i)))l.loading=5;else{e=et({rel:"stylesheet",href:e,"data-precedence":t},n),(n=is.get(i))&&py(e,n);var c=o=s.createElement("link");$t(c),Zt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Qd(o,t,s)}o={type:"stylesheet",instance:o,count:1,state:l},r.set(i,o)}}}function pne(e,t){Ur.X(e,t);var n=Pl;if(n&&e){var s=Do(n).hoistableScripts,r=$l(e),i=s.get(r);i||(i=n.querySelector(Fu(r)),i||(e=et({src:e,async:!0},t),(t=is.get(r))&&xy(e,t),i=n.createElement("script"),$t(i),Zt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function xne(e,t){Ur.M(e,t);var n=Pl;if(n&&e){var s=Do(n).hoistableScripts,r=$l(e),i=s.get(r);i||(i=n.querySelector(Fu(r)),i||(e=et({src:e,async:!0,type:"module"},t),(t=is.get(r))&&xy(e,t),i=n.createElement("script"),$t(i),Zt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function FN(e,t,n,s){var r=(r=xa.current)?sm(r):null;if(!r)throw Error(Y(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=xl(n.href),n=Do(r).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=xl(n.href);var i=Do(r).hoistableStyles,o=i.get(e);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=r.querySelector(Bu(e)))&&!i._p&&(o.instance=i,o.state.loading=5),is.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},is.set(e,n),i||vne(r,e,n,o.state))),t&&s===null)throw Error(Y(528,""));return o}if(t&&s!==null)throw Error(Y(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$l(n),n=Do(r).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,e))}}function xl(e){return'href="'+Kn(e)+'"'}function Bu(e){return'link[rel="stylesheet"]['+e+"]"}function C4(e){return et({},e,{"data-precedence":e.precedence,precedence:null})}function vne(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Zt(t,"link",n),$t(t),e.head.appendChild(t))}function $l(e){return'[src="'+Kn(e)+'"]'}function Fu(e){return"script[async]"+e}function HN(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Kn(n.href)+'"]');if(s)return t.instance=s,$t(s),s;var r=et({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),$t(s),Zt(s,"style",r),Qd(s,n.precedence,e),t.instance=s;case"stylesheet":r=xl(n.href);var i=e.querySelector(Bu(r));if(i)return t.state.loading|=4,t.instance=i,$t(i),i;s=C4(n),(r=is.get(r))&&py(s,r),i=(e.ownerDocument||e).createElement("link"),$t(i);var o=i;return o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),Zt(i,"link",s),t.state.loading|=4,Qd(i,n.precedence,e),t.instance=i;case"script":return i=$l(n.src),(r=e.querySelector(Fu(i)))?(t.instance=r,$t(r),r):(s=n,(r=is.get(i))&&(s=et({},n),xy(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),$t(r),Zt(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(Y(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,Qd(s,n.precedence,e));return t.instance}function Qd(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,o=0;o<s.length;o++){var l=s[o];if(l.dataset.precedence===t)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function py(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Jd=null;function UN(e,t,n){if(Jd===null){var s=new Map,r=Jd=new Map;r.set(n,s)}else r=Jd,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[_u]||i[Kt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=s.get(o);l?l.push(i):s.set(o,[i])}}return s}function VN(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function yne(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function E4(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var eu=null;function bne(){}function wne(e,t,n){if(eu===null)throw Error(Y(475));var s=eu;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=xl(n.href),i=e.querySelector(Bu(r));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=rm.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=i,$t(i);return}i=e.ownerDocument||e,n=C4(n),(r=is.get(r))&&py(n,r),i=i.createElement("link"),$t(i);var o=i;o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),Zt(i,"link",n),t.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=rm.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function jne(){if(eu===null)throw Error(Y(475));var e=eu;return e.stylesheets&&e.count===0&&Rx(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Rx(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function rm(){if(this.count--,this.count===0){if(this.stylesheets)Rx(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var am=null;function Rx(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,am=new Map,t.forEach(Nne,e),am=null,rm.call(e))}function Nne(e,t){if(!(t.state.loading&4)){var n=am.get(e);if(n)var s=n.get(null);else{n=new Map,am.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var o=r[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),s=o)}s&&n.set(null,s)}r=t.instance,o=r.getAttribute("data-precedence"),i=n.get(o)||s,i===s&&n.set(null,r),n.set(o,r),this.count++,s=rm.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var tu={$$typeof:vr,Provider:null,Consumer:null,_currentValue:ci,_currentValue2:ci,_threadCount:0};function Sne(e,t,n,s,r,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fg(0),this.hiddenUpdates=fg(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function T4(e,t,n,s,r,i,o,l,c,u,d,f){return e=new Sne(e,t,n,o,l,c,u,f),t=1,i===!0&&(t|=24),i=Dn(3,null,null,t),e.current=i,i.stateNode=e,t=Gv(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:t},Zv(i),e}function A4(e){return e?(e=wo,e):wo}function _4(e,t,n,s,r,i){r=A4(r),s.context===null?s.context=r:s.pendingContext=r,s=va(t),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=ya(e,s,t),n!==null&&(Bn(n,e,t),xc(n,e,t))}function GN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vy(e,t){GN(e,t),(e=e.alternate)&&GN(e,t)}function M4(e){if(e.tag===13){var t=Ll(e,67108864);t!==null&&Bn(t,e,67108864),vy(e,67108864)}}var im=!0;function kne(e,t,n,s){var r=pe.T;pe.T=null;var i=$e.p;try{$e.p=2,yy(e,t,n,s)}finally{$e.p=i,pe.T=r}}function Cne(e,t,n,s){var r=pe.T;pe.T=null;var i=$e.p;try{$e.p=8,yy(e,t,n,s)}finally{$e.p=i,pe.T=r}}function yy(e,t,n,s){if(im){var r=Dx(s);if(r===null)Ug(e,t,s,om,n),qN(e,s);else if(Tne(r,e,t,n,s))s.stopPropagation();else if(qN(e,s),t&4&&-1<Ene.indexOf(e)){for(;r!==null;){var i=Dl(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Ka(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var c=1<<31-On(o);l.entanglements[1]|=c,o&=~c}tr(i),!(Ue&6)&&(Kf=Vs()+500,Iu(0))}}break;case 13:l=Ll(i,2),l!==null&&Bn(l,i,2),mh(),vy(i,2)}if(i=Dx(s),i===null&&Ug(e,t,s,om,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Ug(e,t,s,null,n)}}function Dx(e){return e=zv(e),by(e)}var om=null;function by(e){if(om=null,e=go(e),e!==null){var t=Cu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=n_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return om=e,null}function R4(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fee()){case i_:return 2;case o_:return 8;case zf:case mee:return 32;case l_:return 268435456;default:return 32}default:return 32}}var Lx=!1,ja=null,Na=null,Sa=null,nu=new Map,su=new Map,ia=[],Ene="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qN(e,t){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":nu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(t.pointerId)}}function tc(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Dl(t),t!==null&&M4(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Tne(e,t,n,s,r){switch(t){case"focusin":return ja=tc(ja,e,t,n,s,r),!0;case"dragenter":return Na=tc(Na,e,t,n,s,r),!0;case"mouseover":return Sa=tc(Sa,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return nu.set(i,tc(nu.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,su.set(i,tc(su.get(i)||null,e,t,n,s,r)),!0}return!1}function D4(e){var t=go(e.target);if(t!==null){var n=Cu(t);if(n!==null){if(t=n.tag,t===13){if(t=n_(n),t!==null){e.blockedOn=t,wee(e.priority,function(){if(n.tag===13){var s=In();s=Mv(s);var r=Ll(n,s);r!==null&&Bn(r,n,s),vy(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ef(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dx(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Kp=s,n.target.dispatchEvent(s),Kp=null}else return t=Dl(n),t!==null&&M4(t),e.blockedOn=n,!1;t.shift()}return!0}function ZN(e,t,n){ef(e)&&n.delete(t)}function Ane(){Lx=!1,ja!==null&&ef(ja)&&(ja=null),Na!==null&&ef(Na)&&(Na=null),Sa!==null&&ef(Sa)&&(Sa=null),nu.forEach(ZN),su.forEach(ZN)}function Ed(e,t){e.blockedOn===t&&(e.blockedOn=null,Lx||(Lx=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,Ane)))}var Td=null;function YN(e){Td!==e&&(Td=e,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,function(){Td===e&&(Td=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(by(s||n)===null)continue;break}var i=Dl(n);i!==null&&(e.splice(t,3),t-=3,mx(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function ru(e){function t(c){return Ed(c,e)}ja!==null&&Ed(ja,e),Na!==null&&Ed(Na,e),Sa!==null&&Ed(Sa,e),nu.forEach(t),su.forEach(t);for(var n=0;n<ia.length;n++){var s=ia[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ia.length&&(n=ia[0],n.blockedOn===null);)D4(n),n.blockedOn===null&&ia.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],o=r[wn]||null;if(typeof i=="function")o||YN(n);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,o=i[wn]||null)l=o.formAction;else if(by(r)!==null)continue}else l=o.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),YN(n)}}}function wy(e){this._internalRoot=e}xh.prototype.render=wy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));var n=t.current,s=In();_4(n,s,e,t,null,null)};xh.prototype.unmount=wy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_4(e.current,2,null,e,null,null),mh(),t[Rl]=null}};function xh(e){this._internalRoot=e}xh.prototype.unstable_scheduleHydration=function(e){if(e){var t=m_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ia.length&&t!==0&&t<ia[n].priority;n++);ia.splice(n,0,e),n===0&&D4(e)}};var XN=e_.version;if(XN!=="19.1.0")throw Error(Y(527,XN,"19.1.0"));$e.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=aee(t),e=e!==null?s_(e):null,e=e===null?null:e.stateNode,e};var _ne={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:pe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{Eu=Ad.inject(_ne),$n=Ad}catch{}}nh.createRoot=function(e,t){if(!t_(e))throw Error(Y(299));var n=!1,s="",r=TM,i=AM,o=_M,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=T4(e,1,!1,null,null,n,s,r,i,o,l,null),e[Rl]=t.current,gy(e),new wy(t)};nh.hydrateRoot=function(e,t,n){if(!t_(e))throw Error(Y(299));var s=!1,r="",i=TM,o=AM,l=_M,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=T4(e,1,!0,t,n??null,s,r,i,o,l,c,u),t.context=A4(null),n=t.current,s=In(),s=Mv(s),r=va(s),r.callback=null,ya(n,r,s),n=s,t.current.lanes=n,Au(t,n),tr(t),e[Rl]=t.current,gy(e),new xh(t)};nh.version="19.1.0";function L4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L4)}catch(e){console.error(e)}}L4(),KA.exports=nh;var Mne=KA.exports;Mne.createRoot(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx(d8,{showLoadingIndicator:!0,children:a.jsx(m$,{children:a.jsx(nee,{})})})}));export{Cl as a,zi as b,bs as c,Pi as d,$i as e,en as g,i0 as u};
