var NR=Object.defineProperty;var SR=(e,t,n)=>t in e?NR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ge=(e,t,n)=>SR(e,typeof t!="symbol"?t+"":t,n);function kR(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function gx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kN={exports:{}},Gf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR=Symbol.for("react.transitional.element"),ER=Symbol.for("react.fragment");function CN(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:CR,type:e,key:s,ref:t!==void 0?t:null,props:n}}Gf.Fragment=ER;Gf.jsx=CN;Gf.jsxs=CN;kN.exports=Gf;var a=kN.exports;const Lt={CONTENT:1,DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,DRAWER:202,HEADER:50,SIDEBAR:60,STICKY:40};var EN={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=Symbol.for("react.transitional.element"),_R=Symbol.for("react.portal"),AR=Symbol.for("react.fragment"),TR=Symbol.for("react.strict_mode"),MR=Symbol.for("react.profiler"),RR=Symbol.for("react.consumer"),DR=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),LR=Symbol.for("react.suspense"),$R=Symbol.for("react.memo"),_N=Symbol.for("react.lazy"),iy=Symbol.iterator;function PR(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var AN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TN=Object.assign,MN={};function ol(e,t,n){this.props=e,this.context=t,this.refs=MN,this.updater=n||AN}ol.prototype.isReactComponent={};ol.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ol.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RN(){}RN.prototype=ol.prototype;function xx(e,t,n){this.props=e,this.context=t,this.refs=MN,this.updater=n||AN}var vx=xx.prototype=new RN;vx.constructor=xx;TN(vx,ol.prototype);vx.isPureReactComponent=!0;var oy=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},DN=Object.prototype.hasOwnProperty;function yx(e,t,n,s,r,i){return n=i.ref,{$$typeof:px,type:e,key:t,ref:n!==void 0?n:null,props:i}}function OR(e,t){return yx(e.type,t,void 0,void 0,void 0,e.props)}function bx(e){return typeof e=="object"&&e!==null&&e.$$typeof===px}function BR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ly=/\/+/g;function eh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BR(""+e.key):t.toString(36)}function cy(){}function IR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(cy,cy):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Qi(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case px:case _R:o=!0;break;case _N:return o=e._init,Qi(o(e._payload),t,n,s,r)}}if(o)return r=r(e),o=s===""?"."+eh(e,0):s,oy(r)?(n="",o!=null&&(n=o.replace(ly,"$&/")+"/"),Qi(r,t,n,"",function(u){return u})):r!=null&&(bx(r)&&(r=OR(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(ly,"$&/")+"/")+o)),t.push(r)),1;o=0;var l=s===""?".":s+":";if(oy(e))for(var c=0;c<e.length;c++)s=e[c],i=l+eh(s,c),o+=Qi(s,t,n,i,r);else if(c=PR(e),typeof c=="function")for(e=c.call(e),c=0;!(s=e.next()).done;)s=s.value,i=l+eh(s,c++),o+=Qi(s,t,n,i,r);else if(i==="object"){if(typeof e.then=="function")return Qi(IR(e),t,n,s,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Tu(e,t,n){if(e==null)return e;var s=[],r=0;return Qi(e,s,"","",function(i){return t.call(n,i,r++)}),s}function HR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var uy=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function FR(){}Se.Children={map:Tu,forEach:function(e,t,n){Tu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tu(e,function(){t++}),t},toArray:function(e){return Tu(e,function(t){return t})||[]},only:function(e){if(!bx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=ol;Se.Fragment=AR;Se.Profiler=MR;Se.PureComponent=xx;Se.StrictMode=TR;Se.Suspense=LR;Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et;Se.__COMPILER_RUNTIME={__proto__:null,c:function(e){return et.H.useMemoCache(e)}};Se.cache=function(e){return function(){return e.apply(null,arguments)}};Se.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=TN({},e.props),r=e.key,i=void 0;if(t!=null)for(o in t.ref!==void 0&&(i=void 0),t.key!==void 0&&(r=""+t.key),t)!DN.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(s[o]=t[o]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}return yx(e.type,r,void 0,void 0,i,s)};Se.createContext=function(e){return e={$$typeof:DR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:RR,_context:e},e};Se.createElement=function(e,t,n){var s,r={},i=null;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)DN.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=t[s]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)r[s]===void 0&&(r[s]=o[s]);return yx(e,i,void 0,void 0,null,r)};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:zR,render:e}};Se.isValidElement=bx;Se.lazy=function(e){return{$$typeof:_N,_payload:{_status:-1,_result:e},_init:HR}};Se.memo=function(e,t){return{$$typeof:$R,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=et.T,n={};et.T=n;try{var s=e(),r=et.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(FR,uy)}catch(i){uy(i)}finally{et.T=t}};Se.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()};Se.use=function(e){return et.H.use(e)};Se.useActionState=function(e,t,n){return et.H.useActionState(e,t,n)};Se.useCallback=function(e,t){return et.H.useCallback(e,t)};Se.useContext=function(e){return et.H.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e,t){return et.H.useDeferredValue(e,t)};Se.useEffect=function(e,t,n){var s=et.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};Se.useId=function(){return et.H.useId()};Se.useImperativeHandle=function(e,t,n){return et.H.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return et.H.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return et.H.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return et.H.useMemo(e,t)};Se.useOptimistic=function(e,t){return et.H.useOptimistic(e,t)};Se.useReducer=function(e,t,n){return et.H.useReducer(e,t,n)};Se.useRef=function(e){return et.H.useRef(e)};Se.useState=function(e){return et.H.useState(e)};Se.useSyncExternalStore=function(e,t,n){return et.H.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return et.H.useTransition()};Se.version="19.1.0";EN.exports=Se;var g=EN.exports;const P=gx(g),zN=kR({__proto__:null,default:P},[g]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),dy=e=>{const t=VR(e);return t.charAt(0).toUpperCase()+t.slice(1)},LN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),qR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...ZR,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:LN("lucide",r),...!i&&!qR(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const n=g.forwardRef(({className:s,...r},i)=>g.createElement(GR,{ref:i,iconNode:t,className:LN(`lucide-${UR(dy(e))}`,`lucide-${e}`,s),...r}));return n.displayName=dy(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fy=oe("arrow-left",YR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],WR=oe("arrow-right",XR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ka=oe("book-open",KR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Ro=oe("brain",QR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gc=oe("check",JR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],t4=oe("chef-hat",e4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tn=oe("chevron-down",n4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wx=oe("chevron-left",s4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yc=oe("chevron-right",r4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$N=oe("chevron-up",a4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Do=oe("circle-alert",i4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Id=oe("circle-check-big",o4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],c4=oe("circle-x",l4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jx=oe("circle",u4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ka=oe("clock",d4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],m4=oe("copy",f4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Nx=oe("droplets",h4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],p4=oe("ellipsis-vertical",g4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ca=oe("external-link",x4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ll=oe("eye",v4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],PN=oe("file-text",y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],cl=oe("flame",b4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Sx=oe("ghost",w4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],wi=oe("grid-3x3",j4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],zo=oe("hand",N4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Bs=oe("heart",S4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ON=oe("house",k4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Lo=oe("info",C4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],_4=oe("layout-grid",E4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Ea=oe("list",A4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],BN=oe("map",T4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],R4=oe("menu",M4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],z4=oe("message-square",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ql=oe("minus",L4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],P4=oe("monitor",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],B4=oe("moon",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],H4=oe("pen-line",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oa=oe("plus",F4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yr=oe("rotate-ccw",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],q4=oe("search-x",V4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pc=oe("search",Z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cg=oe("settings",G4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],X4=oe("share-2",Y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],at=oe("shield",W4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],la=oe("sparkles",K4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ze=oe("star",Q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],my=oe("sun",J4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],ii=oe("sword",e3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],IN=oe("tag",t3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],is=oe("target",n3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],r3=oe("trash-2",s3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],i3=oe("trees",a3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],hy=oe("trending-down",o3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Eg=oe("trending-up",l3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xc=oe("triangle-alert",c3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],d3=oe("user-check",u3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hd=oe("user",f3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],HN=oe("users",m3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],g3=oe("utensils",h3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],x3=oe("wine",p3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_t=oe("x",v3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Mn=oe("zap",y3);var kx={};Object.defineProperty(kx,"__esModule",{value:!0});kx.parse=C3;kx.serialize=E3;const b3=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,w3=/^[\u0021-\u003A\u003C-\u007E]*$/,j3=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,N3=/^[\u0020-\u003A\u003D-\u007E]*$/,S3=Object.prototype.toString,k3=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function C3(e,t){const n=new k3,s=e.length;if(s<2)return n;const r=(t==null?void 0:t.decode)||_3;let i=0;do{const o=e.indexOf("=",i);if(o===-1)break;const l=e.indexOf(";",i),c=l===-1?s:l;if(o>c){i=e.lastIndexOf(";",o-1)+1;continue}const u=gy(e,i,o),d=py(e,o,u),f=e.slice(u,d);if(n[f]===void 0){let m=gy(e,o+1,c),h=py(e,c,m);const p=r(e.slice(m,h));n[f]=p}i=c+1}while(i<s);return n}function gy(e,t,n){do{const s=e.charCodeAt(t);if(s!==32&&s!==9)return t}while(++t<n);return n}function py(e,t,n){for(;t>n;){const s=e.charCodeAt(--t);if(s!==32&&s!==9)return t+1}return n}function E3(e,t,n){const s=(n==null?void 0:n.encode)||encodeURIComponent;if(!b3.test(e))throw new TypeError(`argument name is invalid: ${e}`);const r=s(t);if(!w3.test(r))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+r;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!j3.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!N3.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!A3(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function _3(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function A3(e){return S3.call(e)==="[object Date]"}var xy="popstate";function T3(e={}){function t(r,i){let{pathname:o="/",search:l="",hash:c=""}=ji(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),_g("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let o=r.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=r.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:vc(i))}function s(r,i){Xn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return R3(t,n,s,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function M3(){return Math.random().toString(36).substring(2,10)}function vy(e,t){return{usr:e.state,key:e.key,idx:t}}function _g(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ji(t):t,state:n,key:t&&t.key||s||M3()}}function vc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ji(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function R3(e,t,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:x})}function m(b,x){l="PUSH";let y=_g(v.location,b,x);n&&n(y,b),u=d()+1;let j=vy(y,u),w=v.createHref(y);try{o.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(w)}i&&c&&c({action:l,location:v.location,delta:1})}function h(b,x){l="REPLACE";let y=_g(v.location,b,x);n&&n(y,b),u=d();let j=vy(y,u),w=v.createHref(y);o.replaceState(j,"",w),i&&c&&c({action:l,location:v.location,delta:0})}function p(b){return D3(b)}let v={get action(){return l},get location(){return e(r,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(xy,f),c=b,()=>{r.removeEventListener(xy,f),c=null}},createHref(b){return t(r,b)},createURL:p,encodeLocation(b){let x=p(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(b){return o.go(b)}};return v}function D3(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:vc(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function FN(e,t,n="/"){return z3(e,t,n,!1)}function z3(e,t,n,s){let r=typeof t=="string"?ji(t):t,i=br(r.pathname||"/",n);if(i==null)return null;let o=UN(e);L3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Z3(i);l=V3(o[c],u,s)}return l}function UN(e,t=[],n=[],s=""){let r=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let u=hr([s,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(it(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),UN(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:F3(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let c of VN(i.path))r(i,o,c)}),t}function VN(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=VN(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function L3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:U3(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var $3=/^:[\w-]+$/,P3=3,O3=2,B3=1,I3=10,H3=-2,yy=e=>e==="*";function F3(e,t){let n=e.split("/"),s=n.length;return n.some(yy)&&(s+=H3),t&&(s+=O3),n.filter(r=>!yy(r)).reduce((r,i)=>r+($3.test(i)?P3:i===""?B3:I3),s)}function U3(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function V3(e,t,n=!1){let{routesMeta:s}=e,r={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Fd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=Fd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:hr([i,f.pathname]),pathnameBase:W3(hr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=hr([i,f.pathnameBase]))}return o}function Fd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=q3(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let p=l[m]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const h=l[m];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function q3(e,t=!1,n=!0){Xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function Z3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function br(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function G3(e,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?ji(e):e;return{pathname:n?n.startsWith("/")?n:Y3(n,t):t,search:K3(s),hash:Q3(r)}}function Y3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function th(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qN(e){let t=X3(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function ZN(e,t,n,s=!1){let r;typeof e=="string"?r=ji(e):(r={...e},it(!r.pathname||!r.pathname.includes("?"),th("?","pathname","search",r)),it(!r.pathname||!r.pathname.includes("#"),th("#","pathname","hash",r)),it(!r.search||!r.search.includes("#"),th("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=G3(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var hr=e=>e.join("/").replace(/\/\/+/g,"/"),W3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Q3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function J3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var GN=["POST","PUT","PATCH","DELETE"];new Set(GN);var eD=["GET",...GN];new Set(eD);var ul=g.createContext(null);ul.displayName="DataRouter";var Yf=g.createContext(null);Yf.displayName="DataRouterState";var YN=g.createContext({isTransitioning:!1});YN.displayName="ViewTransition";var tD=g.createContext(new Map);tD.displayName="Fetchers";var nD=g.createContext(null);nD.displayName="Await";var Is=g.createContext(null);Is.displayName="Navigation";var Xc=g.createContext(null);Xc.displayName="Location";var Hs=g.createContext({outlet:null,matches:[],isDataRoute:!1});Hs.displayName="Route";var Cx=g.createContext(null);Cx.displayName="RouteError";function sD(e,{relative:t}={}){it(Wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=g.useContext(Is),{hash:r,pathname:i,search:o}=Kc(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:hr([n,i])),s.createHref({pathname:l,search:o,hash:r})}function Wc(){return g.useContext(Xc)!=null}function Mr(){return it(Wc(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Xc).location}var XN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WN(e){g.useContext(Is).static||g.useLayoutEffect(e)}function lt(){let{isDataRoute:e}=g.useContext(Hs);return e?vD():rD()}function rD(){it(Wc(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(ul),{basename:t,navigator:n}=g.useContext(Is),{matches:s}=g.useContext(Hs),{pathname:r}=Mr(),i=JSON.stringify(qN(s)),o=g.useRef(!1);return WN(()=>{o.current=!0}),g.useCallback((c,u={})=>{if(Xn(o.current,XN),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=ZN(c,JSON.parse(i),r,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:hr([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,i,r,e])}var aD=g.createContext(null);function iD(e){let t=g.useContext(Hs).outlet;return t&&g.createElement(aD.Provider,{value:e},t)}function Kc(e,{relative:t}={}){let{matches:n}=g.useContext(Hs),{pathname:s}=Mr(),r=JSON.stringify(qN(n));return g.useMemo(()=>ZN(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function oD(e,t){return KN(e,t)}function KN(e,t,n,s){var x;it(Wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=g.useContext(Is),{matches:i}=g.useContext(Hs),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let y=d&&d.path||"";QN(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Mr(),m;if(t){let y=typeof t=="string"?ji(t):t;it(u==="/"||((x=y.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),m=y}else m=f;let h=m.pathname||"/",p=h;if(u!=="/"){let y=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=FN(e,{pathname:p});Xn(d||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Xn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=fD(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:hr([u,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:hr([u,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,s);return t&&b?g.createElement(Xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function lD(){let e=xD(),t=J3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:r},n):null,o)}var cD=g.createElement(lD,null),uD=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(Hs.Provider,{value:this.props.routeContext},g.createElement(Cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dD({routeContext:e,match:t,children:n}){let s=g.useContext(ul);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Hs.Provider,{value:e},n)}function fD(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,i=n==null?void 0:n.errors;if(i!=null){let c=r.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);it(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,m=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){o=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let f,m=!1,h=null,p=null;n&&(f=i&&u.route.id?i[u.route.id]:void 0,h=u.route.errorElement||cD,o&&(l<0&&d===0?(QN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,p=null):l===d&&(m=!0,p=u.route.hydrateFallbackElement||null)));let v=t.concat(r.slice(0,d+1)),b=()=>{let x;return f?x=h:m?x=p:u.route.Component?x=g.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,g.createElement(dD,{match:u,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?g.createElement(uD,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}function Ex(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mD(e){let t=g.useContext(ul);return it(t,Ex(e)),t}function hD(e){let t=g.useContext(Yf);return it(t,Ex(e)),t}function gD(e){let t=g.useContext(Hs);return it(t,Ex(e)),t}function _x(e){let t=gD(e),n=t.matches[t.matches.length-1];return it(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pD(){return _x("useRouteId")}function xD(){var s;let e=g.useContext(Cx),t=hD("useRouteError"),n=_x("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function vD(){let{router:e}=mD("useNavigate"),t=_x("useNavigate"),n=g.useRef(!1);return WN(()=>{n.current=!0}),g.useCallback(async(r,i={})=>{Xn(n.current,XN),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var by={};function QN(e,t,n){!t&&!by[e]&&(by[e]=!0,Xn(!1,n))}g.memo(yD);function yD({routes:e,future:t,state:n}){return KN(e,void 0,n,t)}function bD(e){return iD(e.context)}function yt(e){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wD({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){it(!Wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:o,navigator:r,static:i,future:{}}),[o,r,i]);typeof n=="string"&&(n=ji(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:m="default"}=n,h=g.useMemo(()=>{let p=br(c,o);return p==null?null:{location:{pathname:p,search:u,hash:d,state:f,key:m},navigationType:s}},[o,c,u,d,f,m,s]);return Xn(h!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:g.createElement(Is.Provider,{value:l},g.createElement(Xc.Provider,{children:t,value:h}))}function jD({children:e,location:t}){return oD(Ag(e),t)}function Ag(e,t=[]){let n=[];return g.Children.forEach(e,(s,r)=>{if(!g.isValidElement(s))return;let i=[...t,r];if(s.type===g.Fragment){n.push.apply(n,Ag(s.props.children,i));return}it(s.type===yt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Ag(s.props.children,i)),n.push(o)}),n}var xd="get",vd="application/x-www-form-urlencoded";function Xf(e){return e!=null&&typeof e.tagName=="string"}function ND(e){return Xf(e)&&e.tagName.toLowerCase()==="button"}function SD(e){return Xf(e)&&e.tagName.toLowerCase()==="form"}function kD(e){return Xf(e)&&e.tagName.toLowerCase()==="input"}function CD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ED(e,t){return e.button===0&&(!t||t==="_self")&&!CD(e)}function Tg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function _D(e,t){let n=Tg(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}var Mu=null;function AD(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var TD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nh(e){return e!=null&&!TD.has(e)?(Xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):e}function MD(e,t){let n,s,r,i,o;if(SD(e)){let l=e.getAttribute("action");s=l?br(l,t):null,n=e.getAttribute("method")||xd,r=nh(e.getAttribute("enctype"))||vd,i=new FormData(e)}else if(ND(e)||kD(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?br(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||xd,r=nh(e.getAttribute("formenctype"))||nh(l.getAttribute("enctype"))||vd,i=new FormData(l,e),!AD()){let{name:u,type:d,value:f}=e;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,f)}}else{if(Xf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xd,s=null,r=vd,o=e}return i&&r==="text/plain"&&(o=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:o}}function Ax(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function RD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function zD(e,t,n){let s=await Promise.all(e.map(async r=>{let i=t.routes[r.route.id];if(i){let o=await RD(i,n);return o.links?o.links():[]}return[]}));return OD(s.flat(1).filter(DD).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function wy(e,t,n,s,r,i){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=s.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function LD(e,t,{includeHydrateFallback:n}={}){return $D(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function $D(e){return[...new Set(e)]}function PD(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function OD(e,t){let n=new Set;return new Set(t),e.reduce((s,r)=>{let i=JSON.stringify(PD(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BD=new Set([100,101,204,205]);function ID(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&br(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function JN(){let e=g.useContext(ul);return Ax(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function HD(){let e=g.useContext(Yf);return Ax(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Tx=g.createContext(void 0);Tx.displayName="FrameworkContext";function e1(){let e=g.useContext(Tx);return Ax(e,"You must render this element inside a <HydratedRouter> element"),e}function FD(e,t){let n=g.useContext(Tx),[s,r]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,m=g.useRef(null);g.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=x=>{x.forEach(y=>{o(y.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[e]),g.useEffect(()=>{if(s){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[s]);let h=()=>{r(!0)},p=()=>{r(!1),o(!1)};return n?e!=="intent"?[i,m,{}]:[i,m,{onFocus:Cl(l,h),onBlur:Cl(c,p),onMouseEnter:Cl(u,h),onMouseLeave:Cl(d,p),onTouchStart:Cl(f,h)}]:[!1,m,{}]}function Cl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function UD({page:e,...t}){let{router:n}=JN(),s=g.useMemo(()=>FN(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?g.createElement(qD,{page:e,matches:s,...t}):null}function VD(e){let{manifest:t,routeModules:n}=e1(),[s,r]=g.useState([]);return g.useEffect(()=>{let i=!1;return zD(e,t,n).then(o=>{i||r(o)}),()=>{i=!0}},[e,t,n]),s}function qD({page:e,matches:t,...n}){let s=Mr(),{manifest:r,routeModules:i}=e1(),{basename:o}=JN(),{loaderData:l,matches:c}=HD(),u=g.useMemo(()=>wy(e,t,c,r,s,"data"),[e,t,c,r,s]),d=g.useMemo(()=>wy(e,t,c,r,s,"assets"),[e,t,c,r,s]),f=g.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let p=new Set,v=!1;if(t.forEach(x=>{var j;let y=r.routes[x.route.id];!y||!y.hasLoader||(!u.some(w=>w.route.id===x.route.id)&&x.route.id in l&&((j=i[x.route.id])!=null&&j.shouldRevalidate)||y.hasClientLoader?v=!0:p.add(x.route.id))}),p.size===0)return[];let b=ID(e,o);return v&&p.size>0&&b.searchParams.set("_routes",t.filter(x=>p.has(x.route.id)).map(x=>x.route.id).join(",")),[b.pathname+b.search]},[o,l,s,r,u,t,e,i]),m=g.useMemo(()=>LD(d,r),[d,r]),h=VD(d);return g.createElement(g.Fragment,null,f.map(p=>g.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),m.map(p=>g.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:v})=>g.createElement("link",{key:p,...v})))}function ZD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var t1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t1&&(window.__reactRouterVersion="7.6.3")}catch{}function GD({basename:e,children:t,window:n}){let s=g.useRef();s.current==null&&(s.current=T3({window:n,v5Compat:!0}));let r=s.current,[i,o]=g.useState({action:r.action,location:r.location}),l=g.useCallback(c=>{g.startTransition(()=>o(c))},[o]);return g.useLayoutEffect(()=>r.listen(l),[r,l]),g.createElement(wD,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:r})}var n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s1=g.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},h){let{basename:p}=g.useContext(Is),v=typeof u=="string"&&n1.test(u),b,x=!1;if(typeof u=="string"&&v&&(b=u,t1))try{let C=new URL(window.location.href),k=u.startsWith("//")?new URL(C.protocol+u):new URL(u),R=br(k.pathname,p);k.origin===C.origin&&R!=null?u=R+k.search+k.hash:x=!0}catch{Xn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=sD(u,{relative:r}),[j,w,N]=FD(s,m),E=KD(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:f});function S(C){t&&t(C),C.defaultPrevented||E(C)}let _=g.createElement("a",{...m,...N,href:b||y,onClick:x||i?t:S,ref:ZD(h,w),target:c,"data-discover":!v&&n==="render"?"true":void 0});return j&&!v?g.createElement(g.Fragment,null,_,g.createElement(UD,{page:y})):_});s1.displayName="Link";var YD=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let f=Kc(o,{relative:u.relative}),m=Mr(),h=g.useContext(Yf),{navigator:p,basename:v}=g.useContext(Is),b=h!=null&&s5(f)&&l===!0,x=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,y=m.pathname,j=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(y=y.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&v&&(j=br(j,v)||j);const w=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let N=y===x||!r&&y.startsWith(x)&&y.charAt(w)==="/",E=j!=null&&(j===x||!r&&j.startsWith(x)&&j.charAt(x.length)==="/"),S={isActive:N,isPending:E,isTransitioning:b},_=N?t:void 0,C;typeof s=="function"?C=s(S):C=[s,N?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof i=="function"?i(S):i;return g.createElement(s1,{...u,"aria-current":_,className:C,ref:d,style:k,to:o,viewTransition:l},typeof c=="function"?c(S):c)});YD.displayName="NavLink";var XD=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:i,method:o=xd,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},h)=>{let p=t5(),v=n5(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&n1.test(l),y=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let w=j.nativeEvent.submitter,N=(w==null?void 0:w.getAttribute("formmethod"))||o;p(w||j.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:r,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return g.createElement("form",{ref:h,method:b,action:v,onSubmit:s?c:y,...m,"data-discover":!x&&e==="render"?"true":void 0})});XD.displayName="Form";function WD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r1(e){let t=g.useContext(ul);return it(t,WD(e)),t}function KD(e,{target:t,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:o}={}){let l=lt(),c=Mr(),u=Kc(e,{relative:i});return g.useCallback(d=>{if(ED(d,t)){d.preventDefault();let f=n!==void 0?n:vc(c)===vc(u);l(e,{replace:f,state:s,preventScrollReset:r,relative:i,viewTransition:o})}},[c,l,u,n,s,t,e,r,i,o])}function QD(e){Xn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(Tg(e)),n=g.useRef(!1),s=Mr(),r=g.useMemo(()=>_D(s.search,n.current?null:t.current),[s.search]),i=lt(),o=g.useCallback((l,c)=>{const u=Tg(typeof l=="function"?l(r):l);n.current=!0,i("?"+u,c)},[i,r]);return[r,o]}var JD=0,e5=()=>`__${String(++JD)}__`;function t5(){let{router:e}=r1("useSubmit"),{basename:t}=g.useContext(Is),n=pD();return g.useCallback(async(s,r={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=MD(s,t);if(r.navigate===!1){let d=r.fetcherKey||e5();await e.fetch(d,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function n5(e,{relative:t}={}){let{basename:n}=g.useContext(Is),s=g.useContext(Hs);it(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...Kc(e||".",{relative:t})},o=Mr();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:hr([n,i.pathname])),vc(i)}function s5(e,t={}){let n=g.useContext(YN);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=r1("useViewTransitionState"),r=Kc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=br(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=br(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Fd(r.pathname,o)!=null||Fd(r.pathname,i)!=null}[...BD];var a1={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5=g;function i1(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Br(){}var Wt={d:{f:Br,r:function(){throw Error(i1(522))},D:Br,C:Br,L:Br,m:Br,X:Br,S:Br,M:Br},p:0,findDOMNode:null},a5=Symbol.for("react.portal");function i5(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a5,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var Jl=r5.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Wf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Wt;nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(i1(299));return i5(e,t,null,n)};nn.flushSync=function(e){var t=Jl.T,n=Wt.p;try{if(Jl.T=null,Wt.p=2,e)return e()}finally{Jl.T=t,Wt.p=n,Wt.d.f()}};nn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Wt.d.C(e,t))};nn.prefetchDNS=function(e){typeof e=="string"&&Wt.d.D(e)};nn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=Wf(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Wt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&Wt.d.X(e,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};nn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Wf(t.as,t.crossOrigin);Wt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Wt.d.M(e)};nn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=Wf(n,t.crossOrigin);Wt.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};nn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Wf(t.as,t.crossOrigin);Wt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Wt.d.m(e)};nn.requestFormReset=function(e){Wt.d.r(e)};nn.unstable_batchedUpdates=function(e,t){return e(t)};nn.useFormState=function(e,t,n){return Jl.H.useFormState(e,t,n)};nn.useFormStatus=function(){return Jl.H.useHostTransitionStatus()};nn.version="19.1.0";function o1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o1)}catch(e){console.error(e)}}o1(),a1.exports=nn;var Kf=a1.exports;const o5=gx(Kf);function l5(){return"/lorerim-arcaneum/"}function hn(e){return`${l5()}${e}`}const jy=e=>{let t;const n=new Set,s=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,m))}},r=()=>t,l={setState:s,getState:r,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(s,r,l);return l},c5=e=>e?jy(e):jy,u5=e=>e;function d5(e,t=u5){const n=P.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return P.useDebugValue(n),n}const Ny=e=>{const t=c5(e),n=s=>d5(t,s);return Object.assign(n,t),n},fs=e=>e?Ny(e):Ny,Ni=fs((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(hn("data/perk-trees.json"));if(!s.ok)throw new Error(`Failed to fetch perk trees data: ${s.status}`);const i=await s.json();e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load perk trees",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),f5=Object.freeze(Object.defineProperty({__proto__:null,usePerkTreesStore:Ni},Symbol.toStringTag,{value:"Module"}));function m5(){return Ni.getState().data}function l1(e,t,n){var o;if(t.length===0)return 0;const r=m5().find(l=>l.treeId===e);if(!r)return 0;let i=0;for(const l of t){const c=r.perks.find(f=>f.edid===l);if(!c)continue;const u=n[l]||1,d=c.ranks.find(f=>f.rank===u);if(d&&(o=d.prerequisites)!=null&&o.skillLevel){const f=d.prerequisites.skillLevel.level;i=Math.max(i,f)}}return i}function Ru(e){const t={};for(const[n,s]of Object.entries(e.selected))if(s.length>0){const r=l1(n,s,e.ranks);r>0&&(t[n]=r)}return t}const Sy={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},skillLevels:{},equipment:[],userProgress:{unlocks:[]},destinyPath:[],attributeAssignments:{health:0,stamina:0,magicka:0,level:1,assignments:{}}},Xr=fs((e,t)=>({build:Sy,updateBuild:n=>e(s=>({build:{...s.build,...n}})),setBuild:n=>e({build:n}),resetBuild:()=>e({build:Sy}),setAttributeAssignment:(n,s)=>{e(r=>{const i={...r.build.attributeAssignments.assignments},o={...r.build.attributeAssignments},l=i[n];return l&&(o[l]=Math.max(0,o[l]-5)),i[n]=s,o[s]+=5,{build:{...r.build,attributeAssignments:{...r.build.attributeAssignments,...o,assignments:i}}}})},clearAttributeAssignment:n=>{e(s=>{const r={...s.build.attributeAssignments.assignments},i={...s.build.attributeAssignments},o=r[n];return o&&(i[o]=Math.max(0,i[o]-5),delete r[n]),{build:{...s.build,attributeAssignments:{...s.build.attributeAssignments,...i,assignments:r}}}})},clearAllAttributeAssignments:()=>{e(n=>({build:{...n.build,attributeAssignments:{health:0,stamina:0,magicka:0,level:n.build.attributeAssignments.level,assignments:{}}}}))},updateAttributeLevel:n=>{e(s=>({build:{...s.build,attributeAssignments:{...s.build.attributeAssignments,level:Math.max(1,n)}}}))}}));function ht(){const e=Xr(U=>U.build.skills.major),t=Xr(U=>U.build.skills.minor),n=Xr(U=>U.build),s=Xr(U=>U.updateBuild),r=Xr(U=>U.resetBuild),i=U=>(e==null?void 0:e.includes(U))??!1,o=U=>(t==null?void 0:t.includes(U))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:i,hasMinorSkill:o,addMajorSkill:U=>{console.log("addMajorSkill called:",{skillId:U});const X=e??[],Q=t??[];if(!i(U)&&X.length<3){const K=Q.filter(ye=>ye!==U),se={major:[...X,U],minor:K};console.log("addMajorSkill - updating build with new skills:",se),s({skills:se})}else console.log("addMajorSkill - skill already major or limit reached, skipping")},removeMajorSkill:U=>{const X=e??[],Q=t??[],K=X.filter(se=>se!==U);s({skills:{major:K,minor:Q}})},addMinorSkill:U=>{const X=e??[],Q=t??[];if(!o(U)&&Q.length<6){const K=X.filter(se=>se!==U);s({skills:{major:K,minor:[...Q,U]}})}},removeMinorSkill:U=>{const X=e??[],K=(t??[]).filter(se=>se!==U);s({skills:{major:X,minor:K}})},addPerk:(U,X)=>{var se;console.log("addPerk called:",{skillId:U,perkId:X});const Q=((se=n==null?void 0:n.perks)==null?void 0:se.selected)??{},K=Q[U]??[];if(K.includes(X))console.log("addPerk - perk already selected, skipping");else{const ye={...n==null?void 0:n.perks,selected:{...Q,[U]:[...K,X]}},ue=Ru(ye);console.log("addPerk - updating build with new perks:",ye),console.log("addPerk - calculated skill levels:",ue),s({perks:ye,skillLevels:ue})}},removePerk:(U,X)=>{var te;const Q=((te=n==null?void 0:n.perks)==null?void 0:te.selected)??{},se=(Q[U]??[]).filter(Le=>Le!==X),ye={...n==null?void 0:n.perks,selected:{...Q,[U]:se}},ue=Ru(ye);s({perks:ye,skillLevels:ue})},setPerkRank:(U,X)=>{var ye;console.log("setPerkRank called:",{perkId:U,rank:X});const Q=((ye=n==null?void 0:n.perks)==null?void 0:ye.ranks)??{},K={...n==null?void 0:n.perks,ranks:{...Q,[U]:X}},se=Ru(K);console.log("setPerkRank - updating build with new ranks:",K),console.log("setPerkRank - calculated skill levels:",se),s({perks:K,skillLevels:se})},clearSkillPerks:U=>{var Le,vt;const X=((Le=n==null?void 0:n.perks)==null?void 0:Le.selected)??{},Q=((vt=n==null?void 0:n.perks)==null?void 0:vt.ranks)??{},{[U]:K,...se}=X,ye={...Q};K&&K.forEach(xs=>{delete ye[xs]});const ue={...n==null?void 0:n.perks,selected:se,ranks:ye},te=Ru(ue);s({perks:ue,skillLevels:te})},getSkillPerks:U=>{var X,Q;return((Q=(X=n==null?void 0:n.perks)==null?void 0:X.selected)==null?void 0:Q[U])??[]},getPerkRank:U=>{var X,Q;return((Q=(X=n==null?void 0:n.perks)==null?void 0:X.ranks)==null?void 0:Q[U])??0},getSkillLevel:U=>{var X;return((X=n==null?void 0:n.skillLevels)==null?void 0:X[U])??0},addTrait:U=>{const{regular:X=[],bonus:Q=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:K=2,bonus:se=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};X.length<K?s({traits:{...n==null?void 0:n.traits,regular:[...X,U]}}):Q.length<se&&s({traits:{...n==null?void 0:n.traits,bonus:[...Q,U]}})},addRegularTrait:U=>{const{regular:X=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:Q=2}=(n==null?void 0:n.traitLimits)??{regular:2};X.length<Q&&s({traits:{...n==null?void 0:n.traits,regular:[...X,U]}})},addBonusTrait:U=>{const{bonus:X=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:Q=1}=(n==null?void 0:n.traitLimits)??{bonus:1};X.length<Q&&s({traits:{...n==null?void 0:n.traits,bonus:[...X,U]}})},removeTrait:U=>{const{regular:X=[],bonus:Q=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};s({traits:{regular:X.filter(K=>K!==U),bonus:Q.filter(K=>K!==U)}})},hasTrait:U=>{var X,Q,K,se;return(((Q=(X=n==null?void 0:n.traits)==null?void 0:X.regular)==null?void 0:Q.includes(U))??!1)||(((se=(K=n==null?void 0:n.traits)==null?void 0:K.bonus)==null?void 0:se.includes(U))??!1)},hasRegularTrait:U=>{var X,Q;return((Q=(X=n==null?void 0:n.traits)==null?void 0:X.regular)==null?void 0:Q.includes(U))??!1},hasBonusTrait:U=>{var X,Q;return((Q=(X=n==null?void 0:n.traits)==null?void 0:X.bonus)==null?void 0:Q.includes(U))??!1},setRace:U=>{s({race:U})},setBirthsign:U=>{s({stone:U})},setStone:U=>{s({stone:U})},setReligion:U=>{s({religion:U})},addEquipment:U=>{const X=(n==null?void 0:n.equipment)??[];X.includes(U)||s({equipment:[...X,U]})},removeEquipment:U=>{const X=(n==null?void 0:n.equipment)??[];s({equipment:X.filter(Q=>Q!==U)})},setBuildName:U=>{s({name:U})},setBuildNotes:U=>{s({notes:U})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:U=>{s({destinyPath:U})},updateBuild:s,clearBuild:()=>{s({name:"",notes:"",race:null,stone:null,religion:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},perks:{selected:{},ranks:{}},skillLevels:{},destinyPath:[]})},resetBuild:r,getSummary:()=>{var U,X,Q,K,se,ye,ue,te,Le;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((X=(U=n==null?void 0:n.traits)==null?void 0:U.regular)==null?void 0:X.length)??0)+(((K=(Q=n==null?void 0:n.traits)==null?void 0:Q.bonus)==null?void 0:K.length)??0),majorSkillCount:((ye=(se=n==null?void 0:n.skills)==null?void 0:se.major)==null?void 0:ye.length)??0,minorSkillCount:((te=(ue=n==null?void 0:n.skills)==null?void 0:ue.minor)==null?void 0:te.length)??0,equipmentCount:((Le=n==null?void 0:n.equipment)==null?void 0:Le.length)??0}},getRegularTraitLimit:()=>{var U;return((U=n==null?void 0:n.traitLimits)==null?void 0:U.regular)??2},getBonusTraitLimit:()=>{var U;return((U=n==null?void 0:n.traitLimits)==null?void 0:U.bonus)??1},getRegularTraitCount:()=>{var U,X;return((X=(U=n==null?void 0:n.traits)==null?void 0:U.regular)==null?void 0:X.length)??0},getBonusTraitCount:()=>{var U,X;return((X=(U=n==null?void 0:n.traits)==null?void 0:U.bonus)==null?void 0:X.length)??0},canAddRegularTrait:()=>{var U,X,Q;return(((X=(U=n==null?void 0:n.traits)==null?void 0:U.regular)==null?void 0:X.length)??0)<(((Q=n==null?void 0:n.traitLimits)==null?void 0:Q.regular)??2)},canAddBonusTrait:()=>{var U,X,Q;return(((X=(U=n==null?void 0:n.traits)==null?void 0:U.bonus)==null?void 0:X.length)??0)<(((Q=n==null?void 0:n.traitLimits)==null?void 0:Q.bonus)??1)},getTraitType:U=>{var X,Q,K,se;return(Q=(X=n==null?void 0:n.traits)==null?void 0:X.regular)!=null&&Q.includes(U)?"regular":(se=(K=n==null?void 0:n.traits)==null?void 0:K.bonus)!=null&&se.includes(U)?"bonus":null},isAllTraitsFull:()=>{var se,ye,ue,te,Le,vt;const U=((ye=(se=n==null?void 0:n.traits)==null?void 0:se.regular)==null?void 0:ye.length)??0,X=((te=(ue=n==null?void 0:n.traits)==null?void 0:ue.bonus)==null?void 0:te.length)??0,Q=((Le=n==null?void 0:n.traitLimits)==null?void 0:Le.regular)??2,K=((vt=n==null?void 0:n.traitLimits)==null?void 0:vt.bonus)??1;return U>=Q&&X>=K},addTraitToSlot:(U,X)=>{if(X==="regular"){const{regular:Q=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:K=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(Q.length<K){const{bonus:se=[]}=(n==null?void 0:n.traits)??{bonus:[]},ye=se.filter(ue=>ue!==U);s({traits:{regular:[...Q,U],bonus:ye}})}}else{const{bonus:Q=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:K=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(Q.length<K){const{regular:se=[]}=(n==null?void 0:n.traits)??{regular:[]},ye=se.filter(ue=>ue!==U);s({traits:{regular:ye,bonus:[...Q,U]}})}}},isSlotAvailable:(U,X=0)=>{var Q,K,se,ye;return U==="regular"?(((K=(Q=n==null?void 0:n.traits)==null?void 0:Q.regular)==null?void 0:K.length)??0)<=X:(((ye=(se=n==null?void 0:n.traits)==null?void 0:se.bonus)==null?void 0:ye.length)??0)<=X}}}function ky(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Qf(...e){return t=>{let n=!1;const s=e.map(r=>{const i=ky(r,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():ky(e[r],null)}}}}function Ie(...e){return g.useCallback(Qf(...e),e)}function $o(e){const t=g5(e),n=g.forwardRef((s,r)=>{const{children:i,...o}=s,l=g.Children.toArray(i),c=l.find(x5);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:r,children:i})});return n.displayName=`${e}.Slot`,n}var h5=$o("Slot");function g5(e){const t=g.forwardRef((n,s)=>{const{children:r,...i}=n;if(g.isValidElement(r)){const o=y5(r),l=v5(i,r.props);return r.type!==g.Fragment&&(l.ref=s?Qf(s,o):o),g.cloneElement(r,l)}return g.Children.count(r)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var c1=Symbol("radix.slottable");function p5(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=c1,t}function x5(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===c1}function v5(e,t){const n={...t};for(const s in t){const r=e[s],i=t[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}function y5(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function u1(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=u1(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function d1(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=u1(e))&&(s&&(s+=" "),s+=t);return s}const Cy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ey=d1,Qc=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Ey(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=t,o=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=Cy(d)||Cy(f);return r[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(p=>{let[v,b]=p;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...u,f,m]:u},[]);return Ey(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Mx="-",b5=e=>{const t=j5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Mx);return l[0]===""&&l.length!==1&&l.shift(),f1(l,t)||w5(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},f1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),r=s?f1(e.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const i=e.join(Mx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},_y=/^\[(.+)\]$/,w5=e=>{if(_y.test(e)){const t=_y.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},j5=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const r in n)Mg(n[r],s,r,t);return s},Mg=(e,t,n,s)=>{e.forEach(r=>{if(typeof r=="string"){const i=r===""?t:Ay(t,r);i.classGroupId=n;return}if(typeof r=="function"){if(N5(r)){Mg(r(s),t,n,s);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{Mg(o,Ay(t,i),n,s)})})},Ay=(e,t)=>{let n=e;return t.split(Mx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},N5=e=>e.isThemeGetter,S5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const r=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}},Rg="!",Dg=":",k5=Dg.length,C5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=r=>{const i=[];let o=0,l=0,c=0,u;for(let p=0;p<r.length;p++){let v=r[p];if(o===0&&l===0){if(v===Dg){i.push(r.slice(c,p)),c=p+k5;continue}if(v==="/"){u=p;continue}}v==="["?o++:v==="]"?o--:v==="("?l++:v===")"&&l--}const d=i.length===0?r:r.substring(c),f=E5(d),m=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const r=t+Dg,i=s;s=o=>o.startsWith(r)?i(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const r=s;s=i=>n({className:i,parseClassName:r})}return s},E5=e=>e.endsWith(Rg)?e.substring(0,e.length-1):e.startsWith(Rg)?e.substring(1):e,_5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const r=[];let i=[];return s.forEach(o=>{o[0]==="["||t[o]?(r.push(...i.sort(),o),i=[]):i.push(o)}),r.push(...i.sort()),r}},A5=e=>({cache:S5(e.cacheSize),parseClassName:C5(e),sortModifiers:_5(e),...b5(e)}),T5=/\s+/,M5=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:i}=t,o=[],l=e.trim().split(T5);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:m,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let b=!!v,x=s(b?p.substring(0,v):p);if(!x){if(!b){c=d+(c.length>0?" "+c:c);continue}if(x=s(p),!x){c=d+(c.length>0?" "+c:c);continue}b=!1}const y=i(m).join(":"),j=h?y+Rg:y,w=j+x;if(o.includes(w))continue;o.push(w);const N=r(x,b);for(let E=0;E<N.length;++E){const S=N[E];o.push(j+S)}c=d+(c.length>0?" "+c:c)}return c};function R5(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=m1(t))&&(s&&(s+=" "),s+=n);return s}const m1=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=m1(e[s]))&&(n&&(n+=" "),n+=t);return n};function D5(e,...t){let n,s,r,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=A5(u),s=n.cache.get,r=n.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=M5(c,n);return r(c,d),d}return function(){return i(R5.apply(null,arguments))}}const St=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},h1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,g1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,z5=/^\d+\/\d+$/,L5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,O5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fi=e=>z5.test(e),ke=e=>!!e&&!Number.isNaN(Number(e)),Ir=e=>!!e&&Number.isInteger(Number(e)),sh=e=>e.endsWith("%")&&ke(e.slice(0,-1)),Js=e=>L5.test(e),I5=()=>!0,H5=e=>$5.test(e)&&!P5.test(e),p1=()=>!1,F5=e=>O5.test(e),U5=e=>B5.test(e),V5=e=>!re(e)&&!ae(e),q5=e=>dl(e,y1,p1),re=e=>h1.test(e),La=e=>dl(e,b1,H5),rh=e=>dl(e,W5,ke),Ty=e=>dl(e,x1,p1),Z5=e=>dl(e,v1,U5),Du=e=>dl(e,w1,F5),ae=e=>g1.test(e),El=e=>fl(e,b1),G5=e=>fl(e,K5),My=e=>fl(e,x1),Y5=e=>fl(e,y1),X5=e=>fl(e,v1),zu=e=>fl(e,w1,!0),dl=(e,t,n)=>{const s=h1.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},fl=(e,t,n=!1)=>{const s=g1.exec(e);return s?s[1]?t(s[1]):n:!1},x1=e=>e==="position"||e==="percentage",v1=e=>e==="image"||e==="url",y1=e=>e==="length"||e==="size"||e==="bg-size",b1=e=>e==="length",W5=e=>e==="number",K5=e=>e==="family-name",w1=e=>e==="shadow",Q5=()=>{const e=St("color"),t=St("font"),n=St("text"),s=St("font-weight"),r=St("tracking"),i=St("leading"),o=St("breakpoint"),l=St("container"),c=St("spacing"),u=St("radius"),d=St("shadow"),f=St("inset-shadow"),m=St("text-shadow"),h=St("drop-shadow"),p=St("blur"),v=St("perspective"),b=St("aspect"),x=St("ease"),y=St("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...w(),ae,re],E=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],_=()=>[ae,re,c],C=()=>[Fi,"full","auto",..._()],k=()=>[Ir,"none","subgrid",ae,re],R=()=>["auto",{span:["full",Ir,ae,re]},Ir,ae,re],O=()=>[Ir,"auto",ae,re],z=()=>["auto","min","max","fr",ae,re],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",..._()],L=()=>[Fi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],T=()=>[e,ae,re],D=()=>[...w(),My,Ty,{position:[ae,re]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",Y5,q5,{size:[ae,re]}],I=()=>[sh,El,La],V=()=>["","none","full",u,ae,re],G=()=>["",ke,El,La],J=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[ke,sh,My,Ty],pe=()=>["","none",p,ae,re],fe=()=>["none",ke,ae,re],we=()=>["none",ke,ae,re],U=()=>[ke,ae,re],X=()=>[Fi,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Js],breakpoint:[Js],color:[I5],container:[Js],"drop-shadow":[Js],ease:["in","out","in-out"],font:[V5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Js],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Js],shadow:[Js],spacing:["px",ke],text:[Js],"text-shadow":[Js],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fi,re,ae,b]}],container:["container"],columns:[{columns:[ke,re,ae,l]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Ir,"auto",ae,re]}],basis:[{basis:[Fi,"full","auto",l,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Fi,"auto","initial","none",re]}],grow:[{grow:["",ke,ae,re]}],shrink:[{shrink:["",ke,ae,re]}],order:[{order:[Ir,"first","last","none",ae,re]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[l,"screen",...L()]}],"min-w":[{"min-w":[l,"screen","none",...L()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",n,El,La]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ae,rh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sh,re]}],"font-family":[{font:[G5,re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ae,re]}],"line-clamp":[{"line-clamp":[ke,"none",ae,rh]}],leading:[{leading:[i,..._()]}],"list-image":[{"list-image":["none",ae,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ae,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",ae,La]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[ke,"auto",ae,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ir,ae,re],radial:["",ae,re],conic:[Ir,ae,re]},X5,Z5]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,ae,re]}],"outline-w":[{outline:["",ke,El,La]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",d,zu,Du]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",f,zu,Du]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[ke,La]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",m,zu,Du]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[ke,ae,re]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[ae,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ae,re]}],filter:[{filter:["","none",ae,re]}],blur:[{blur:pe()}],brightness:[{brightness:[ke,ae,re]}],contrast:[{contrast:[ke,ae,re]}],"drop-shadow":[{"drop-shadow":["","none",h,zu,Du]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",ke,ae,re]}],"hue-rotate":[{"hue-rotate":[ke,ae,re]}],invert:[{invert:["",ke,ae,re]}],saturate:[{saturate:[ke,ae,re]}],sepia:[{sepia:["",ke,ae,re]}],"backdrop-filter":[{"backdrop-filter":["","none",ae,re]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[ke,ae,re]}],"backdrop-contrast":[{"backdrop-contrast":[ke,ae,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,ae,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,ae,re]}],"backdrop-invert":[{"backdrop-invert":["",ke,ae,re]}],"backdrop-opacity":[{"backdrop-opacity":[ke,ae,re]}],"backdrop-saturate":[{"backdrop-saturate":[ke,ae,re]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,ae,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ae,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",ae,re]}],ease:[{ease:["linear","initial",x,ae,re]}],delay:[{delay:[ke,ae,re]}],animate:[{animate:["none",y,ae,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,ae,re]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[ae,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:X()}],"translate-x":[{"translate-x":X()}],"translate-y":[{"translate-y":X()}],"translate-z":[{"translate-z":X()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae,re]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[ke,El,La,rh]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},J5=D5(Q5);function H(...e){return J5(d1(e))}const ez=Qc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function q({className:e,variant:t,size:n,asChild:s=!1,...r}){const i=s?h5:"button";return a.jsx(i,{"data-slot":"button",className:H(ez({variant:t,size:n,className:e})),...r})}function ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function tz(e,t){const n=g.createContext(t),s=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function r(i){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,r]}function zn(e,t=[]){let n=[];function s(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:m,children:h,...p}=f,v=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,b=g.useMemo(()=>p,Object.values(p));return a.jsx(v.Provider,{value:b,children:h})};u.displayName=i+"Provider";function d(f,m){var v;const h=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,p=g.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return r.scopeName=e,[s,nz(r,...t)]}function nz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Ps=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},sz=zN[" useId ".trim().toString()]||(()=>{}),rz=0;function gr(e){const[t,n]=g.useState(sz());return Ps(()=>{n(s=>s??String(rz++))},[e]),t?`radix-${t}`:""}var az=zN[" useInsertionEffect ".trim().toString()]||Ps;function Rr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[r,i,o]=iz({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:r;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=g.useCallback(d=>{var f;if(l){const m=oz(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function iz({defaultProp:e,onChange:t}){const[n,s]=g.useState(e),r=g.useRef(n),i=g.useRef(t);return az(()=>{i.current=t},[t]),g.useEffect(()=>{var o;r.current!==n&&((o=i.current)==null||o.call(i,n),r.current=n)},[n,r]),[n,s,i]}function oz(e){return typeof e=="function"}var lz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=lz.reduce((e,t)=>{const n=$o(`Primitive.${t}`),s=g.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function j1(e,t){e&&Kf.flushSync(()=>e.dispatchEvent(t))}function Ut(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function cz(e,t=globalThis==null?void 0:globalThis.document){const n=Ut(e);g.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var uz="DismissableLayer",zg="dismissableLayer.update",dz="dismissableLayer.pointerDownOutside",fz="dismissableLayer.focusOutside",Ry,N1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jc=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(N1),[d,f]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=g.useState({}),p=Ie(t,S=>f(S)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(b),y=d?v.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=y>=x,N=gz(S=>{const _=S.target,C=[...u.branches].some(k=>k.contains(_));!w||C||(r==null||r(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),E=pz(S=>{const _=S.target;[...u.branches].some(k=>k.contains(_))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return cz(S=>{y===u.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ry=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dy(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ry)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dy())},[d,u]),g.useEffect(()=>{const S=()=>h({});return document.addEventListener(zg,S),()=>document.removeEventListener(zg,S)},[]),a.jsx(je.div,{...c,ref:p,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,E.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,N.onPointerDownCapture)})});Jc.displayName=uz;var mz="DismissableLayerBranch",hz=g.forwardRef((e,t)=>{const n=g.useContext(N1),s=g.useRef(null),r=Ie(t,s);return g.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(je.div,{...e,ref:r})});hz.displayName=mz;function gz(e,t=globalThis==null?void 0:globalThis.document){const n=Ut(e),s=g.useRef(!1),r=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){S1(dz,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}else t.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function pz(e,t=globalThis==null?void 0:globalThis.document){const n=Ut(e),s=g.useRef(!1);return g.useEffect(()=>{const r=i=>{i.target&&!s.current&&S1(fz,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Dy(){const e=new CustomEvent(zg);document.dispatchEvent(e)}function S1(e,t,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?j1(r,i):r.dispatchEvent(i)}var ah="focusScope.autoFocusOnMount",ih="focusScope.autoFocusOnUnmount",zy={bubbles:!1,cancelable:!0},xz="FocusScope",Rx=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),u=Ut(r),d=Ut(i),f=g.useRef(null),m=Ie(t,v=>c(v)),h=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let v=function(j){if(h.paused||!l)return;const w=j.target;l.contains(w)?f.current=w:Ur(f.current,{select:!0})},b=function(j){if(h.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||Ur(f.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Ur(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),y.disconnect()}}},[s,l,h.paused]),g.useEffect(()=>{if(l){$y.add(h);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(ah,zy);l.addEventListener(ah,u),l.dispatchEvent(x),x.defaultPrevented||(vz(Nz(k1(l)),{select:!0}),document.activeElement===v&&Ur(l))}return()=>{l.removeEventListener(ah,u),setTimeout(()=>{const x=new CustomEvent(ih,zy);l.addEventListener(ih,d),l.dispatchEvent(x),x.defaultPrevented||Ur(v??document.body,{select:!0}),l.removeEventListener(ih,d),$y.remove(h)},0)}}},[l,u,d,h]);const p=g.useCallback(v=>{if(!n&&!s||h.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const y=v.currentTarget,[j,w]=yz(y);j&&w?!v.shiftKey&&x===w?(v.preventDefault(),n&&Ur(j,{select:!0})):v.shiftKey&&x===j&&(v.preventDefault(),n&&Ur(w,{select:!0})):x===y&&v.preventDefault()}},[n,s,h.paused]);return a.jsx(je.div,{tabIndex:-1,...o,ref:m,onKeyDown:p})});Rx.displayName=xz;function vz(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ur(s,{select:t}),document.activeElement!==n)return}function yz(e){const t=k1(e),n=Ly(t,e),s=Ly(t.reverse(),e);return[n,s]}function k1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ly(e,t){for(const n of e)if(!bz(n,{upTo:t}))return n}function bz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wz(e){return e instanceof HTMLInputElement&&"select"in e}function Ur(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&wz(e)&&t&&e.select()}}var $y=jz();function jz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Py(e,t),e.unshift(t)},remove(t){var n;e=Py(e,t),(n=e[0])==null||n.resume()}}}function Py(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Nz(e){return e.filter(t=>t.tagName!=="A")}var Sz="Portal",Dx=g.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[r,i]=g.useState(!1);Ps(()=>i(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?o5.createPortal(a.jsx(je.div,{...s,ref:t}),o):null});Dx.displayName=Sz;function kz(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var Yt=e=>{const{present:t,children:n}=e,s=Cz(t),r=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),i=Ie(s.ref,Ez(r));return typeof n=="function"||s.isPresent?g.cloneElement(r,{ref:i}):null};Yt.displayName="Presence";function Cz(e){const[t,n]=g.useState(),s=g.useRef(null),r=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=kz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Lu(s.current);i.current=l==="mounted"?u:"none"},[l]),Ps(()=>{const u=s.current,d=r.current;if(d!==e){const m=i.current,h=Lu(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,c]),Ps(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const v=Lu(s.current).includes(h.animationName);if(h.target===t&&v&&(c("ANIMATION_END"),!r.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=h=>{h.target===t&&(i.current=Lu(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Lu(e){return(e==null?void 0:e.animationName)||"none"}function Ez(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var oh=0;function C1(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Oy()),document.body.insertAdjacentElement("beforeend",e[1]??Oy()),oh++,()=>{oh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),oh--}},[])}function Oy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ks=function(){return ks=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ks.apply(this,arguments)};function E1(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function _z(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,i;s<r;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var yd="right-scroll-bar-position",bd="width-before-scroll-bar",Az="with-scroll-bars-hidden",Tz="--removed-body-scroll-bar-size";function lh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mz(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=t,n.facade}var Rz=typeof window<"u"?g.useLayoutEffect:g.useEffect,By=new WeakMap;function Dz(e,t){var n=Mz(null,function(s){return e.forEach(function(r){return lh(r,s)})});return Rz(function(){var s=By.get(n);if(s){var r=new Set(s),i=new Set(e),o=n.current;r.forEach(function(l){i.has(l)||lh(l,null)}),i.forEach(function(l){r.has(l)||lh(l,o)})}By.set(n,e)},[e]),n}function zz(e){return e}function Lz(e,t){t===void 0&&(t=zz);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return r}function $z(e){e===void 0&&(e={});var t=Lz(null);return t.options=ks({async:!0,ssr:!1},e),t}var _1=function(e){var t=e.sideCar,n=E1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,ks({},n))};_1.isSideCarExport=!0;function Pz(e,t){return e.useMedium(t),_1}var A1=$z(),ch=function(){},Jf=g.forwardRef(function(e,t){var n=g.useRef(null),s=g.useState({onScrollCapture:ch,onWheelCapture:ch,onTouchMoveCapture:ch}),r=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,h=e.noRelative,p=e.noIsolation,v=e.inert,b=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,j=e.gapMode,w=E1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,E=Dz([n,t]),S=ks(ks({},w),r);return g.createElement(g.Fragment,null,d&&g.createElement(N,{sideCar:A1,removeScrollBar:u,shards:f,noRelative:h,noIsolation:p,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:j}),o?g.cloneElement(g.Children.only(l),ks(ks({},S),{ref:E})):g.createElement(y,ks({},S,{className:c,ref:E}),l))});Jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jf.classNames={fullWidth:bd,zeroRight:yd};var Oz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Oz();return t&&e.setAttribute("nonce",t),e}function Iz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Hz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Fz=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Bz())&&(Iz(t,n),Hz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Uz=function(){var e=Fz();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},T1=function(){var e=Uz(),t=function(n){var s=n.styles,r=n.dynamic;return e(s,r),null};return t},Vz={left:0,top:0,right:0,gap:0},uh=function(e){return parseInt(e||"",10)||0},qz=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[uh(n),uh(s),uh(r)]},Zz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Vz;var t=qz(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Gz=T1(),xo="data-scroll-locked",Yz=function(e,t,n,s){var r=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Az,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(xo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yd,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(bd,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(yd," .").concat(yd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(bd," .").concat(bd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(xo,`] {
    `).concat(Tz,": ").concat(l,`px;
  }
`)},Iy=function(){var e=parseInt(document.body.getAttribute(xo)||"0",10);return isFinite(e)?e:0},Xz=function(){g.useEffect(function(){return document.body.setAttribute(xo,(Iy()+1).toString()),function(){var e=Iy()-1;e<=0?document.body.removeAttribute(xo):document.body.setAttribute(xo,e.toString())}},[])},Wz=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,r=s===void 0?"margin":s;Xz();var i=g.useMemo(function(){return Zz(r)},[r]);return g.createElement(Gz,{styles:Yz(i,!t,r,n?"":"!important")})},Lg=!1;if(typeof window<"u")try{var $u=Object.defineProperty({},"passive",{get:function(){return Lg=!0,!0}});window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{Lg=!1}var Ui=Lg?{passive:!1}:!1,Kz=function(e){return e.tagName==="TEXTAREA"},M1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kz(e)&&n[t]==="visible")},Qz=function(e){return M1(e,"overflowY")},Jz=function(e){return M1(e,"overflowX")},Hy=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=R1(e,s);if(r){var i=D1(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},eL=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},tL=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},R1=function(e,t){return e==="v"?Qz(t):Jz(t)},D1=function(e,t){return e==="v"?eL(t):tL(t)},nL=function(e,t){return e==="h"&&t==="rtl"?-1:1},sL=function(e,t,n,s,r){var i=nL(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var h=D1(e,l),p=h[0],v=h[1],b=h[2],x=v-b-i*p;(p||x)&&R1(e,l)&&(f+=x,m+=p);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Pu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fy=function(e){return[e.deltaX,e.deltaY]},Uy=function(e){return e&&"current"in e?e.current:e},rL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iL=0,Vi=[];function oL(e){var t=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),r=g.useState(iL++)[0],i=g.useState(T1)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var v=_z([e.lockRef.current],(e.shards||[]).map(Uy),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Pu(v),y=n.current,j="deltaX"in v?v.deltaX:y[0]-x[0],w="deltaY"in v?v.deltaY:y[1]-x[1],N,E=v.target,S=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in v&&S==="h"&&E.type==="range")return!1;var _=Hy(S,E);if(!_)return!0;if(_?N=S:(N=S==="v"?"h":"v",_=Hy(S,E)),!_)return!1;if(!s.current&&"changedTouches"in v&&(j||w)&&(s.current=N),!N)return!0;var C=s.current||N;return sL(C,b,v,C==="h"?j:w)},[]),c=g.useCallback(function(v){var b=v;if(!(!Vi.length||Vi[Vi.length-1]!==i)){var x="deltaY"in b?Fy(b):Pu(b),y=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&rL(N.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var j=(o.current.shards||[]).map(Uy).filter(Boolean).filter(function(N){return N.contains(b.target)}),w=j.length>0?l(b,j[0]):!o.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(v,b,x,y){var j={name:v,delta:b,target:x,should:y,shadowParent:lL(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(w){return w!==j})},1)},[]),d=g.useCallback(function(v){n.current=Pu(v),s.current=void 0},[]),f=g.useCallback(function(v){u(v.type,Fy(v),v.target,l(v,e.lockRef.current))},[]),m=g.useCallback(function(v){u(v.type,Pu(v),v.target,l(v,e.lockRef.current))},[]);g.useEffect(function(){return Vi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ui),document.addEventListener("touchmove",c,Ui),document.addEventListener("touchstart",d,Ui),function(){Vi=Vi.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ui),document.removeEventListener("touchmove",c,Ui),document.removeEventListener("touchstart",d,Ui)}},[]);var h=e.removeScrollBar,p=e.inert;return g.createElement(g.Fragment,null,p?g.createElement(i,{styles:aL(r)}):null,h?g.createElement(Wz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cL=Pz(A1,oL);var zx=g.forwardRef(function(e,t){return g.createElement(Jf,ks({},e,{ref:t,sideCar:cL}))});zx.classNames=Jf.classNames;var uL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qi=new WeakMap,Ou=new WeakMap,Bu={},dh=0,z1=function(e){return e&&(e.host||z1(e.parentNode))},dL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=z1(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},fL=function(e,t,n,s){var r=dL(t,Array.isArray(e)?e:[e]);Bu[n]||(Bu[n]=new WeakMap);var i=Bu[n],o=[],l=new Set,c=new Set(r),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(s),p=h!==null&&h!=="false",v=(qi.get(m)||0)+1,b=(i.get(m)||0)+1;qi.set(m,v),i.set(m,b),o.push(m),v===1&&p&&Ou.set(m,!0),b===1&&m.setAttribute(n,"true"),p||m.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(t),l.clear(),dh++,function(){o.forEach(function(f){var m=qi.get(f)-1,h=i.get(f)-1;qi.set(f,m),i.set(f,h),m||(Ou.has(f)||f.removeAttribute(s),Ou.delete(f)),h||f.removeAttribute(n)}),dh--,dh||(qi=new WeakMap,qi=new WeakMap,Ou=new WeakMap,Bu={})}},L1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=uL(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),fL(s,r,n,"aria-hidden")):function(){return null}},em="Dialog",[$1,Xee]=zn(em),[mL,ms]=$1(em),P1=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=Rr({prop:s,defaultProp:r??!1,onChange:i,caller:em});return a.jsx(mL,{scope:t,triggerRef:l,contentRef:c,contentId:gr(),titleId:gr(),descriptionId:gr(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};P1.displayName=em;var O1="DialogTrigger",B1=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ms(O1,n),i=Ie(t,r.triggerRef);return a.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Px(r.open),...s,ref:i,onClick:ne(e.onClick,r.onOpenToggle)})});B1.displayName=O1;var Lx="DialogPortal",[hL,I1]=$1(Lx,{forceMount:void 0}),H1=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:r}=e,i=ms(Lx,t);return a.jsx(hL,{scope:t,forceMount:n,children:g.Children.map(s,o=>a.jsx(Yt,{present:n||i.open,children:a.jsx(Dx,{asChild:!0,container:r,children:o})}))})};H1.displayName=Lx;var Ud="DialogOverlay",F1=g.forwardRef((e,t)=>{const n=I1(Ud,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,i=ms(Ud,e.__scopeDialog);return i.modal?a.jsx(Yt,{present:s||i.open,children:a.jsx(pL,{...r,ref:t})}):null});F1.displayName=Ud;var gL=$o("DialogOverlay.RemoveScroll"),pL=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ms(Ud,n);return a.jsx(zx,{as:gL,allowPinchZoom:!0,shards:[r.contentRef],children:a.jsx(je.div,{"data-state":Px(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),oi="DialogContent",U1=g.forwardRef((e,t)=>{const n=I1(oi,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,i=ms(oi,e.__scopeDialog);return a.jsx(Yt,{present:s||i.open,children:i.modal?a.jsx(xL,{...r,ref:t}):a.jsx(vL,{...r,ref:t})})});U1.displayName=oi;var xL=g.forwardRef((e,t)=>{const n=ms(oi,e.__scopeDialog),s=g.useRef(null),r=Ie(t,n.contentRef,s);return g.useEffect(()=>{const i=s.current;if(i)return L1(i)},[]),a.jsx(V1,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,i=>i.preventDefault())})}),vL=g.forwardRef((e,t)=>{const n=ms(oi,e.__scopeDialog),s=g.useRef(!1),r=g.useRef(!1);return a.jsx(V1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),V1=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...o}=e,l=ms(oi,n),c=g.useRef(null),u=Ie(t,c);return C1(),a.jsxs(a.Fragment,{children:[a.jsx(Rx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:a.jsx(Jc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Px(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(yL,{titleId:l.titleId}),a.jsx(wL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$x="DialogTitle",q1=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ms($x,n);return a.jsx(je.h2,{id:r.titleId,...s,ref:t})});q1.displayName=$x;var Z1="DialogDescription",G1=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ms(Z1,n);return a.jsx(je.p,{id:r.descriptionId,...s,ref:t})});G1.displayName=Z1;var Y1="DialogClose",X1=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ms(Y1,n);return a.jsx(je.button,{type:"button",...s,ref:t,onClick:ne(e.onClick,()=>r.onOpenChange(!1))})});X1.displayName=Y1;function Px(e){return e?"open":"closed"}var W1="DialogTitleWarning",[Wee,K1]=tz(W1,{contentName:oi,titleName:$x,docsSlug:"dialog"}),yL=({titleId:e})=>{const t=K1(W1),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},bL="DialogDescriptionWarning",wL=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K1(bL).contentName}}.`;return g.useEffect(()=>{var i;const r=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Q1=P1,jL=B1,J1=H1,Ox=F1,Bx=U1,Ix=q1,Hx=G1,NL=X1;const Po=Q1,eS=jL,SL=J1,tS=g.forwardRef(({className:e,...t},n)=>a.jsx(Ox,{className:H("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:Lt.MODAL},...t,ref:n}));tS.displayName=Ox.displayName;const kL=Qc("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),li=g.forwardRef(({side:e="right",className:t,children:n,...s},r)=>a.jsxs(SL,{children:[a.jsx(tS,{}),a.jsxs(Bx,{ref:r,className:H(kL({side:e}),t),style:{zIndex:Lt.MODAL+1,backgroundColor:"hsl(var(--background))"},...s,children:[n,a.jsxs(NL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(_t,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));li.displayName=Bx.displayName;const Oo=({className:e,...t})=>a.jsx("div",{className:H("flex flex-col space-y-2 text-center sm:text-left",e),...t});Oo.displayName="SheetHeader";const Bo=g.forwardRef(({className:e,...t},n)=>a.jsx(Ix,{ref:n,className:H("text-lg font-semibold text-foreground",e),...t}));Bo.displayName=Ix.displayName;const Fx=g.forwardRef(({className:e,...t},n)=>a.jsx(Hx,{ref:n,className:H("text-sm text-muted-foreground",e),...t}));Fx.displayName=Hx.displayName;function ve({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:H("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function Re({className:e,action:t,children:n,...s}){return a.jsxs("div",{"data-slot":"card-header",className:H("flex flex-row items-start justify-between space-y-0",e),...s,children:[a.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&a.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function Pe({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:H("text-xl font-bold leading-none",e),...t})}function Es({className:e,...t}){return a.jsx("div",{"data-slot":"card-description",className:H("text-base text-muted-foreground",e),...t})}function be({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:H("pt-0",e),...t})}const pr=g.forwardRef(({className:e,type:t,...n},s)=>a.jsx("input",{type:t,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));pr.displayName="Input";var CL="Label",nS=g.forwardRef((e,t)=>a.jsx(je.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nS.displayName=CL;const EL=Qc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vd=g.forwardRef(({className:e,children:t,...n},s)=>a.jsx(nS,{ref:s,className:H(EL(),e),...n,children:t}));Vd.displayName="Label";function sS({name:e,notes:t,onNameChange:n,onNotesChange:s,className:r}){const[i,o]=g.useState(e),[l,c]=g.useState(t),u=g.useCallback((()=>{let h;return p=>{clearTimeout(h),h=setTimeout(()=>{n(p)},300)}})(),[n]),d=g.useCallback((()=>{let h;return p=>{clearTimeout(h),h=setTimeout(()=>{s(p)},300)}})(),[s]);g.useEffect(()=>{o(e)},[e]),g.useEffect(()=>{c(t)},[t]);const f=h=>{const p=h.target.value;o(p),u(p)},m=h=>{const p=h.target.value;c(p),d(p)};return a.jsxs(ve,{className:`mb-6 ${r||""}`,children:[a.jsx(Re,{children:a.jsx(Pe,{children:"Basic Information"})}),a.jsxs(be,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Vd,{htmlFor:"name",children:"Character Name"}),a.jsx(pr,{id:"name",value:i,onChange:f,placeholder:"Enter character name..."})]}),a.jsxs("div",{children:[a.jsx(Vd,{htmlFor:"notes",children:"Notes"}),a.jsx("textarea",{id:"notes",value:l,onChange:m,placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}const Si=fs((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(hn("data/birthsigns.json"));if(!s.ok)throw new Error(`Failed to fetch birthsigns data: ${s.status}`);const i=(await s.json()).map(o=>{var l,c;return{...o,id:o.edid||o.name.toLowerCase().replace(/\s+/g,"-"),tags:[o.group,...((l=o.powers)==null?void 0:l.map(u=>u.name))||[],...((c=o.stat_modifications)==null?void 0:c.map(u=>u.stat))||[]].filter(u=>!!u)}});e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load birthsigns",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),_L=Object.freeze(Object.defineProperty({__proto__:null,useBirthsignsStore:Si},Symbol.toStringTag,{value:"Module"}));function AL(e){var s;const t=[],n=((s=e.description)==null?void 0:s.toLowerCase())||"";return(n.includes("damage")||n.includes("weapon"))&&t.push("Combat"),(n.includes("armor")||n.includes("defense"))&&t.push("Defensive"),(n.includes("magicka")||n.includes("spell")||n.includes("magic"))&&t.push("Magic"),(n.includes("regeneration")||n.includes("health")||n.includes("stamina"))&&t.push("Utility"),(n.includes("detect")||n.includes("stealth"))&&t.push("Stealth"),(n.includes("cost")||n.includes("less"))&&t.push("Cost Reduction"),(n.includes("increase")||n.includes("more"))&&t.push("Enhancement"),n.includes("resistance")&&t.push("Resistance"),[...new Set(t)]}const ml=fs((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(hn("data/subclasses.json"));if(!s.ok)throw new Error(`Failed to fetch destiny nodes data: ${s.status}`);const i=(await s.json()).map((o,l)=>({...o,id:o.globalFormId||o.edid||`destiny-${l}`,nextBranches:o.nextBranches||[],levelRequirement:o.levelRequirement,lore:o.lore,tags:AL(o),prerequisites:Array.isArray(o.prerequisites)?o.prerequisites:[]}));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load destiny nodes",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),TL=Object.freeze(Object.defineProperty({__proto__:null,useDestinyNodesStore:ml},Symbol.toStringTag,{value:"Module"})),wr=fs((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(hn("data/playable-races.json"));if(!s.ok)throw new Error(`Failed to fetch races data: ${s.status}`);const i=(await s.json()).races.map(o=>({...o,id:o.id||o.edid||o.name.toLowerCase().replace(/\s+/g,"-"),tags:[o.category,...o.keywords||[]].filter(l=>!!l),name:o.name,edid:o.edid,description:o.description,category:o.category,source:o.source,startingStats:o.startingStats,physicalAttributes:o.physicalAttributes,skillBonuses:o.skillBonuses,racialSpells:o.racialSpells,keywords:o.keywords,flags:o.flags,regeneration:o.regeneration,combat:o.combat}));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load races",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),ML=Object.freeze(Object.defineProperty({__proto__:null,useRacesStore:wr},Symbol.toStringTag,{value:"Module"})),RL={SHOW_FAVORED_RACES:!1,ENABLE_RACE_AUTOCOMPLETE:!1,SHOW_RACE_FILTERS:!1};function DL(e){return RL[e]}function os(){return DL("SHOW_FAVORED_RACES")}const hl=fs((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(hn("data/wintersun-religion-docs.json"));if(!s.ok)throw new Error(`Failed to fetch religions data: ${s.status}`);const i=(await s.json()).flatMap(o=>o.deities.map(l=>({...l,id:l.id||l.name,pantheon:o.type,type:l.type||o.type,tags:[o.type,...os()?l.favoredRaces||[]:[],...l.tags||[]].filter(Boolean)})));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load religions",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),zL=Object.freeze(Object.defineProperty({__proto__:null,useReligionsStore:hl},Symbol.toStringTag,{value:"Module"})),ki=fs((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(hn("data/skills.json"));if(!s.ok)throw new Error(`Failed to fetch skills data: ${s.status}`);const i=(await s.json()).skills.map(o=>({...o,id:o.id||o.edid||o.name.toLowerCase().replace(/\s+/g,"-"),tags:[...o.metaTags||[],o.category].filter(l=>!!l)}));e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load skills",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),LL=Object.freeze(Object.defineProperty({__proto__:null,useSkillsStore:ki},Symbol.toStringTag,{value:"Module"})),Ci=fs((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const s=await fetch(hn("data/traits.json"));if(!s.ok)throw new Error(`Failed to fetch traits data: ${s.status}`);const i=(await s.json()).traits.map(o=>{var l;return{...o,id:o.id||o.edid||o.name,tags:[o.category,...o.tags||[],...((l=o.effects)==null?void 0:l.map(c=>c.type))||[]].filter(c=>!!c)}});e({data:i,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load traits",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),$L=Object.freeze(Object.defineProperty({__proto__:null,useTraitsStore:Ci},Symbol.toStringTag,{value:"Module"}));function ci(e){return e?e.replace(/\*\*\*(.*?)\*\*\*/g,"**$1**").replace(/<(\d+)>/g,"Level $1").replace(/\n+/g," ").trim():""}function Ei(e,t,n){try{return e()}catch(s){return console.warn(`Failed to resolve ${n}:`,s),t}}function PL(e){return e?Ei(()=>{const t=wr.getState().data;if(t.length===0)throw new Error("Races data not loaded yet. Please wait a moment and try again.");let n=t.find(s=>s.edid===e);return n||(n=t.find(s=>s.name.toLowerCase()===e.toLowerCase())),n||(n=t.find(s=>s.id===e)),n?{name:n.name,effects:n.description?ci(n.description):void 0}:(console.warn(`Race not found for ID: ${e}. Available races: ${t.map(s=>s.edid).join(", ")}`),{name:"Unknown Race"})},{name:"Unknown Race"},"race"):{name:"Not selected"}}function OL(e){return e?Ei(()=>{const t=Si.getState().data;if(t.length===0)throw new Error("Birthsigns data not loaded yet. Please wait a moment and try again.");const n=t.find(s=>s.edid===e);return n?{name:n.name,effects:ci(n.description||"No effects")}:{name:"Unknown Birth Sign",effects:"No effects"}},{name:"Unknown Birth Sign",effects:"No effects"},"birth sign"):{name:"Not selected",effects:"No effects"}}function BL(e,t){return Ei(()=>{const n=Ci.getState().data;if(n.length===0)throw new Error("Traits data not loaded yet. Please wait a moment and try again.");const s=[];return e.forEach(r=>{const i=n.find(o=>o.edid===r);i&&s.push({name:i.name,effects:ci(i.description||"No effects"),type:"regular"})}),t.forEach(r=>{const i=n.find(o=>o.edid===r);i&&s.push({name:i.name,effects:ci(i.description||"No effects"),type:"bonus"})}),s},[],"traits")}function IL(e){return e?Ei(()=>{const t=hl.getState().data;if(t.length===0)throw new Error("Religions data not loaded yet. Please wait a moment and try again.");const n=t.find(s=>s.id===e||s.name===e);return n?{name:n.name,effects:ci(n.type||"No effects")}:{name:"Unknown Religion",effects:"No effects"}},{name:"Unknown Religion",effects:"No effects"},"religion"):{name:"Not selected",effects:"No effects"}}function HL(e,t,n){return Ei(()=>{const s=ki.getState().data;if(s.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");const r=i=>i.map(o=>{const l=s.find(u=>u.edid===o),c=n[o];return{name:(l==null?void 0:l.name)||"Unknown Skill",level:c||void 0}});return{major:r(e),minor:r(t),other:[]}},{major:[],minor:[],other:[]},"skills")}function FL(e,t){return Ei(()=>{const n=ki.getState().data,s=Ni.getState().data;if(n.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");if(s.length===0)throw new Error("Perk trees data not loaded yet. Please wait a moment and try again.");return Object.entries(e).map(([r,i])=>{const o=n.find(u=>u.edid===r),l=s.find(u=>u.treeId===r),c=i.map(u=>{var h,p,v;let d=l==null?void 0:l.perks.find(b=>b.edid===u);d||(d=l==null?void 0:l.perks.find(b=>b.name.toLowerCase()===u.toLowerCase())),d||console.warn(`Perk lookup fallback for ID: ${u}`);const f=t[u];d||console.warn(`Perk not found for ID: ${u} in skill: ${r}. Available perks: ${l==null?void 0:l.perks.map(b=>b.edid).join(", ")}`);const m=((v=(p=(h=d==null?void 0:d.ranks)==null?void 0:h[0])==null?void 0:p.description)==null?void 0:v.base)||"No effects";return{name:(d==null?void 0:d.name)||"Unknown Perk",effects:ci(m),rank:f||void 0}});return{skillName:(o==null?void 0:o.name)||"Unknown Skill",perks:c}}).filter(r=>r.perks.length>0)},[],"perks")}function UL(e){return e.length===0?[]:Ei(()=>{const t=ml.getState().data;if(t.length===0)throw new Error("Destiny nodes data not loaded yet. Please wait a moment and try again.");return e.map(n=>{const s=t.find(r=>r.id===n||r.name===n);return{name:(s==null?void 0:s.name)||"Unknown Destiny",effects:s!=null&&s.description?ci(s.description):void 0}})},[],"destiny path")}function VL(e){const t=[],n=e.map(s=>s.name.toLowerCase());return n.some(s=>s.includes("one-handed")||s.includes("two-handed"))&&t.push("melee"),n.some(s=>s.includes("archery"))&&t.push("archery"),n.some(s=>s.includes("magic")||s.includes("destruction"))&&t.push("magic"),n.some(s=>s.includes("stealth")||s.includes("sneak"))&&t.push("stealth"),n.some(s=>s.includes("smithing")||s.includes("enchanting"))&&t.push("crafting"),t}function qL(e){const t=[],n=e.map(s=>s.name.toLowerCase());return n.some(s=>s.includes("warrior")||s.includes("combat"))&&t.push("warrior"),n.some(s=>s.includes("mage")||s.includes("magic"))&&t.push("mage"),n.some(s=>s.includes("thief")||s.includes("stealth"))&&t.push("thief"),n.some(s=>s.includes("archer")||s.includes("ranged"))&&t.push("archer"),t}function ZL(e,t,n){const s=["lorerim"];if(e.name!=="Not selected"){const l=e.name.toLowerCase().replace(/\s+/g,"");s.push(l)}const r=[...t.major,...t.minor],i=VL(r);s.push(...i);const o=qL(n);return s.push(...o),s.slice(0,5)}function GL(e){const t=PL(e.race),n=OL(e.stone),s=IL(e.religion),r=BL(e.traits.regular,e.traits.bonus),i=HL(e.skills.major,e.skills.minor,e.skillLevels),o=FL(e.perks.selected,e.perks.ranks),l=UL(e.destinyPath),c=ZL(t,i,r),u={level:e.attributeAssignments.level||1,health:e.attributeAssignments.health||0,stamina:e.attributeAssignments.stamina||0,magicka:e.attributeAssignments.magicka||0,totalPoints:(e.attributeAssignments.health||0)+(e.attributeAssignments.stamina||0)+(e.attributeAssignments.magicka||0)};return{name:e.name||"Unnamed Character",notes:e.notes||"",race:t,birthSign:n,traits:r,religion:s,skills:i,perks:o,destinyPath:l,tags:c,attributes:u}}function YL(e,t){const n=[];n.push(`**🛡️ Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__🧬 Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__🌌 Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__🧠 Traits__"),e.traits.forEach(r=>{const i=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${i}**`)}),n.push("")),n.push("__✝️ Religion__"),n.push(`${e.religion.name}`),n.push(""),n.push(`__⚔️ Attributes (Level ${e.attributes.level})__`);const s=[];if(e.attributes.health>0&&s.push(`Health: ${e.attributes.health}`),e.attributes.stamina>0&&s.push(`Stamina: ${e.attributes.stamina}`),e.attributes.magicka>0&&s.push(`Magicka: ${e.attributes.magicka}`),s.length>0?n.push(s.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__📚 Skills__"),e.skills.major.length>0){const r=e.skills.major.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__🎯 Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(i=>{const o=i.rank&&i.rank>1?` (Rank ${i.rank})`:"";n.push(`• **${i.name}${o}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__🌟 Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}function XL(e,t){const n=[];n.push(`**🛡️ Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__🧬 Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__🌌 Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__🧠 Traits__"),e.traits.forEach(r=>{const i=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${i}**`)}),n.push("")),n.push("__✝️ Religion__"),n.push(`${e.religion.name}`),n.push(""),n.push(`__⚔️ Attributes (Level ${e.attributes.level})__`);const s=[];if(e.attributes.health>0&&s.push(`Health: ${e.attributes.health}`),e.attributes.stamina>0&&s.push(`Stamina: ${e.attributes.stamina}`),e.attributes.magicka>0&&s.push(`Magicka: ${e.attributes.magicka}`),s.length>0?n.push(s.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__📚 Skills__"),e.skills.major.length>0){const r=e.skills.major.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(i=>i.level?`${i.name} (Level ${i.level})`:i.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__🎯 Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(i=>{const o=i.rank&&i.rank>1?` (Rank ${i.rank})`:"";n.push(`• **${i.name}${o}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__🌟 Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}async function WL(e){try{await navigator.clipboard.writeText(e)}catch{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch{throw new Error("Failed to copy to clipboard")}finally{document.body.removeChild(n)}}}function KL({build:e,className:t}){const[n,s]=g.useState(!1),[r,i]=g.useState(null),[o,l]=g.useState(""),[c,u]=g.useState("names"),d=g.useCallback(async f=>{s(!0),i(null),l(""),u(f);try{const m=GL(e),h=window.location.href,p=f==="full"?XL(m,h):YL(m,h);await WL(p),i(f),setTimeout(()=>i(null),2e3)}catch(m){console.error("Discord export failed:",m),l(m instanceof Error?m.message:"Export failed"),setTimeout(()=>l(""),3e3)}finally{s(!1)}},[e]);return a.jsxs("div",{className:H("relative",t),children:[a.jsxs("div",{className:"flex rounded-md border border-input bg-background",children:[a.jsx(q,{variant:n?"ghost":c==="names"?"default":"ghost",size:"sm",onClick:()=>d("names"),disabled:n,className:H("rounded-r-none border-r",c==="names"&&!n&&"bg-primary text-primary-foreground",r==="names"&&"bg-green-600 hover:bg-green-700 text-white",o&&"bg-red-600 hover:bg-red-700 text-white"),title:o||"Export build to Discord format (short form)","aria-label":"Export build to Discord format (short form)",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),a.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="names"?a.jsxs(a.Fragment,{children:[a.jsx(gc,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Copied!"})]}):o?a.jsxs(a.Fragment,{children:[a.jsx(Do,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Error"})]}):a.jsxs(a.Fragment,{children:[a.jsx(z4,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Export (short form)"})]})}),a.jsx(q,{variant:n?"ghost":c==="full"?"default":"ghost",size:"sm",onClick:()=>d("full"),disabled:n,className:H("rounded-l-none",c==="full"&&!n&&"bg-primary text-primary-foreground",r==="full"&&"bg-green-600 hover:bg-green-700 text-white",o&&"bg-red-600 hover:bg-red-700 text-white"),title:o||"Export build to Discord format (long form)","aria-label":"Export build to Discord format (long form)",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),a.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="full"?a.jsxs(a.Fragment,{children:[a.jsx(gc,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Copied!"})]}):o?a.jsxs(a.Fragment,{children:[a.jsx(Do,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Error"})]}):a.jsxs(a.Fragment,{children:[a.jsx(PN,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:"Export (long form)"})]})})]}),o&&a.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-red-100 border border-red-300 rounded text-xs text-red-800 max-w-xs z-50",role:"alert","aria-live":"polite",children:o})]})}function QL({onReset:e,build:t,className:n}){return a.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${n||""}`,children:[a.jsxs(q,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[a.jsx(yr,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),a.jsx(KL,{build:t})]})}function JL({cards:e,className:t="",gap:n=16}){const[s,r]=g.useState(0),i=g.useRef(null);g.useCallback(()=>s<768?1:s<1024?2:s<1280?3:4,[s]),g.useEffect(()=>{const c=()=>{i.current&&r(i.current.offsetWidth)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const o=g.useCallback(()=>{const c=s<768?1:2,u=[];let d=[];return e.forEach((f,m)=>{f.size==="full"?(d.length>0&&(u.push(l(d,c)),d=[]),u.push(a.jsx("div",{id:f.id,style:{width:"100%",marginBottom:`${n}px`},children:f.component},f.id))):d.push(f)}),d.length>0&&u.push(l(d,c)),a.jsx(a.Fragment,{children:u})},[e,s,n]),l=g.useCallback((c,u)=>{var m;const d=Array.from({length:u},()=>[]),f=new Array(u).fill(0);return c.forEach(h=>{let p=0,v=1/0;for(let b=0;b<u;b++)f[b]<v&&(v=f[b],p=b);d[p].push(a.jsx("div",{id:h.id,style:{width:"100%",marginBottom:`${n}px`},children:h.component},h.id)),f[p]+=1}),a.jsx("div",{style:{display:"flex",width:"100%",marginBottom:`${n}px`},children:d.map((h,p)=>a.jsx("div",{style:{width:`calc(${100/u}% - ${n/2}px)`,marginRight:p<u-1?`${n}px`:0},children:h},p))},`group-${(m=c[0])==null?void 0:m.id}`)},[n]);return e.length===0?a.jsx("div",{className:`text-center py-12 ${t}`,children:a.jsx("p",{className:"text-muted-foreground",children:"No build cards to display"})}):a.jsx("div",{ref:i,className:t,children:a.jsx("div",{style:{width:"100%"},children:o()})})}const e$=Qc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function W({className:e,variant:t,...n}){return a.jsx("div",{className:H(e$({variant:t}),e),...n})}const tm={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},vo={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function t$(e){return tm.traitLimit[e]}function Vy(e){return tm.summaryCard[e]}function n$(e){return tm.backgrounds[e]}function rS(e){return tm.borders[e]}function s$({title:e,items:t,layout:n="grid",className:s}){const r=o=>{switch(o){case"race":return a.jsx(Hd,{className:"h-4 w-4"});case"birthsign":return a.jsx(Ze,{className:"h-4 w-4"});case"religion":return a.jsx(Bs,{className:"h-4 w-4"});case"traits":return a.jsx(IN,{className:"h-4 w-4"});default:return null}},i=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return a.jsxs(ve,{className:H(vo.card,s),children:[a.jsx(Re,{children:a.jsx(Pe,{children:e})}),a.jsx(be,{className:H(vo.section),children:a.jsx("div",{className:i(),children:t.map((o,l)=>a.jsxs("div",{className:H(vo.item,o.className),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.icon||r(o.type),a.jsxs("span",{className:H("font-medium text-sm",Vy("primary")),children:[o.label,":"]})]}),a.jsx("div",{className:H("text-sm",Vy("secondary")),children:o.value||"Not selected"})]},l))})})]})}function r$(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function a$({build:e,title:t="Build Summary",layout:n="grid",className:s}){const r=r$(e);return a.jsx(s$,{title:t,items:r,layout:n,className:s})}function i$({open:e,title:t,message:n,variant:s="warning",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:o,onCancel:l,className:c}){if(!e)return null;const u=()=>{switch(s){case"warning":return a.jsx(xc,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return a.jsx(Lo,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return a.jsx(c4,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return a.jsx(Id,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return a.jsx(xc,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},d=()=>{switch(s){case"error":return"destructive";case"success":return"default";default:return"default"}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:a.jsxs("div",{className:H("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",rS(s),c),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[u(),a.jsx("span",{className:"font-semibold",children:t})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(q,{variant:"outline",size:"sm",onClick:l,children:i}),a.jsx(q,{variant:d(),size:"sm",onClick:o,children:r})]})]})})}function o$({open:e,title:t,message:n,variant:s="warning",confirmText:r,cancelText:i,onConfirm:o,onCancel:l,className:c}){return a.jsx(i$,{open:e,title:t,message:n,variant:s,confirmText:r,cancelText:i,onConfirm:o,onCancel:l,className:c})}function l$({open:e,onConfirm:t,onCancel:n}){return a.jsx(o$,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function c$({title:e,description:t,icon:n,variant:s="default",children:r,className:i}){const o=()=>{if(n)return n;switch(s){case"warning":return a.jsx(xc,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return a.jsx(Lo,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return a.jsxs(ve,{className:H(vo.card,i),children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[o(),e]}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),a.jsx(be,{className:H(vo.section),children:r})]})}function qy({label:e,value:t,onChange:n,min:s=0,max:r=10,currentCount:i,type:o="regular",className:l}){const c=()=>{switch(o){case"regular":return a.jsx(jx,{className:"h-4 w-4"});case"bonus":return a.jsx(Ze,{className:"h-4 w-4"});default:return null}},u=()=>t$(o);return a.jsxs("div",{className:H(vo.item,l),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c(),a.jsx(Vd,{htmlFor:`${o}-limit`,className:u(),children:e})]}),a.jsx(pr,{id:`${o}-limit`,type:"number",min:s,max:r,value:t,onChange:d=>n(parseInt(d.target.value)||0),className:"mt-1"}),i!==void 0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",i]})]})}function Zy({type:e,title:t,message:n,className:s}){const r=()=>{switch(e){case"warning":return a.jsx(xc,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return a.jsx(Lo,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return a.jsx(xc,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return a.jsx(Lo,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return a.jsxs("div",{className:H("flex items-start gap-2 p-4 rounded-lg border",n$(e),rS(e),s),children:[r(),a.jsxs("div",{className:"text-sm",children:[a.jsx("strong",{children:t}),a.jsx("p",{className:"mt-1",children:n})]})]})}function u$({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:s,currentRegularCount:r,currentBonusCount:i,className:o}){const l=e!==2||t!==1;return a.jsxs(c$,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:a.jsx(Lo,{className:"h-4 w-4 text-muted-foreground"}),className:o,children:[a.jsx(Zy,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(qy,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:r,type:"regular"}),a.jsx(qy,{label:"Late Game Traits Limit",value:t,onChange:s,min:0,max:5,currentCount:i,type:"bonus"})]}),l&&a.jsx(Zy,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}const d$={magicResist:{name:"Magic Resist",isPercentage:!0,prefactor:1,threshold:150,weights:{health:0,magicka:1,stamina:0},description:"Reduces incoming magical damage",category:"survival"},magickaRegen:{name:"Magicka Regen",isPercentage:!0,prefactor:8,threshold:100,weights:{health:0,magicka:1,stamina:0},description:"Increases magicka regeneration rate",category:"magic"},diseaseResist:{name:"Disease Resist",isPercentage:!0,prefactor:4,threshold:100,weights:{health:.4,magicka:0,stamina:.6},description:"Reduces chance of contracting diseases",category:"survival"},poisonResist:{name:"Poison Resist",isPercentage:!0,prefactor:4,threshold:140,weights:{health:.6,magicka:0,stamina:.4},description:"Reduces poison damage and effects",category:"survival"},staminaRegen:{name:"Stamina Regen",isPercentage:!0,prefactor:8,threshold:100,weights:{health:0,magicka:0,stamina:1},description:"Increases stamina regeneration rate",category:"movement"},moveSpeed:{name:"Move Speed",isPercentage:!0,prefactor:.75,threshold:125,weights:{health:.2,magicka:0,stamina:.8},description:"Increases movement speed",category:"movement"},carryWeight:{name:"Carry Weight",isPercentage:!1,prefactor:4,threshold:110,weights:{health:.8,magicka:0,stamina:.2},description:"Increases maximum carry capacity",category:"survival"},rangedDamage:{name:"Ranged Damage",isPercentage:!0,prefactor:4,threshold:150,weights:{health:.2,magicka:0,stamina:.8},description:"Increases ranged weapon damage",category:"combat"},oneHandDamage:{name:"One-Hand Damage",isPercentage:!0,prefactor:4,threshold:150,weights:{health:.5,magicka:0,stamina:.5},description:"Increases one-handed weapon damage",category:"combat"},twoHandDamage:{name:"Two-Hand Damage",isPercentage:!0,prefactor:4,threshold:150,weights:{health:.8,magicka:0,stamina:.2},description:"Increases two-handed weapon damage",category:"combat"},unarmedDamage:{name:"Unarmed Damage",isPercentage:!1,prefactor:4.5,threshold:125,weights:{health:.5,magicka:0,stamina:.5},description:"Increases unarmed combat damage",category:"combat"}};class Gy{static calculateBaseAttributes(t,n){let s={health:100,stamina:100,magicka:100};if(t.race&&n.races){const r=n.races.find(i=>i.edid===t.race);r!=null&&r.startingStats&&(s={health:r.startingStats.health||100,stamina:r.startingStats.stamina||100,magicka:r.startingStats.magicka||100})}return s.health+=t.attributeAssignments.health||0,s.stamina+=t.attributeAssignments.stamina||0,s.magicka+=t.attributeAssignments.magicka||0,s}static calculateDerivedStat(t,n){const s=t.health*n.weights.health+t.magicka*n.weights.magicka+t.stamina*n.weights.stamina;if(s>n.threshold){const r=n.prefactor*Math.sqrt(s-n.threshold);return Math.floor(r)}return 0}static calculateAllDerivedStats(t,n){return Object.entries(n).map(([s,r])=>({name:r.name,value:this.calculateDerivedStat(t,r),isPercentage:r.isPercentage,formula:`${r.prefactor} * sqrt(weightedSum - ${r.threshold})`,description:r.description,category:r.category}))}static validateBaseAttributes(t){return t.health>=0&&t.stamina>=0&&t.magicka>=0&&t.health<=1e3&&t.stamina<=1e3&&t.magicka<=1e3}static getCalculationBreakdown(t,n){const s=t.health*n.weights.health+t.magicka*n.weights.magicka+t.stamina*n.weights.stamina,r=s-n.threshold,i=r>0?Math.floor(n.prefactor*Math.sqrt(r)):0;return{weightedSum:s,threshold:n.threshold,difference:r,prefactor:n.prefactor,result:i}}}function f$(){const{build:e}=ht(),{data:t}=wr();return g.useMemo(()=>{var o,l,c;const s={races:t},r=Gy.calculateBaseAttributes(e,s),i=Gy.calculateAllDerivedStats(r,d$);return{baseAttributes:r,derivedStats:i,sources:{race:e.race||"None",birthsign:e.stone||"None",traits:[...((o=e.traits)==null?void 0:o.regular)||[],...((l=e.traits)==null?void 0:l.bonus)||[]],equipment:e.equipment||[],religion:e.religion||"None",destinyPath:e.destinyPath||[],attributeAssignments:((c=e.attributeAssignments)==null?void 0:c.level)||0}}},[e,t])}function m$(){const{build:e,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:s,updateAttributeLevel:r}=Xr(),{data:i}=wr(),o=e.attributeAssignments,l=g.useMemo(()=>!e.race||i.length===0?null:i.find(p=>p.edid===e.race)||null,[e.race,i]),c=g.useMemo(()=>l!=null&&l.startingStats?{health:l.startingStats.health,stamina:l.startingStats.stamina,magicka:l.startingStats.magicka}:{health:100,stamina:100,magicka:100},[l]),u=g.useMemo(()=>{o.level;const p=o.health+o.stamina+o.magicka;return{health:{base:c.health,assigned:o.health,total:c.health+o.health,ratio:p>0?o.health/p*100:0},stamina:{base:c.stamina,assigned:o.stamina,total:c.stamina+o.stamina,ratio:p>0?o.stamina/p*100:0},magicka:{base:c.magicka,assigned:o.magicka,total:c.magicka+o.magicka,ratio:p>0?o.magicka/p*100:0}}},[o,c]),d=p=>p>0&&p<=o.level,f=p=>o.assignments[p]||null,m=()=>o.health+o.stamina+o.magicka,h=()=>{const p=Object.keys(o.assignments).map(Number),v=[];for(let b=2;b<=o.level;b++)p.includes(b)||v.push(b);return v};return{assignments:o,displayData:u,level:o.level,selectedRace:l,baseStats:c,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:s,updateAttributeLevel:r,canAssignAtLevel:d,getAssignmentAtLevel:f,getTotalAssignments:m,getUnassignedLevels:h}}const aS=g.createContext(void 0);function h$({children:e}){const[t,n]=g.useState("system"),[s,r]=g.useState("dark"),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=localStorage.getItem("theme");l&&["light","dark","system"].includes(l)&&n(l),o(!0)},[]),g.useEffect(()=>{i&&localStorage.setItem("theme",t);let l;t==="system"?l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":l=t,r(l);const c=document.documentElement;l==="dark"?c.classList.add("dark"):c.classList.remove("dark")},[t,i]),g.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{if(t==="system"){const u=l.matches?"dark":"light";r(u);const d=document.documentElement;u==="dark"?d.classList.add("dark"):d.classList.remove("dark")}};return l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[t]),a.jsx(aS.Provider,{value:{theme:t,setTheme:n,resolvedTheme:s},children:e})}function iS(){const e=g.useContext(aS);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const g$=Qc("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),gn=g.forwardRef(({className:e,variant:t,as:n,...s},r)=>{const i=n||p$(t);return a.jsx(i,{className:H(g$({variant:t,className:e})),ref:r,...s})});gn.displayName="Typography";function p$(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const _i=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"h1",as:"h1",className:e,ref:n,...t}));_i.displayName="H1";const ta=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"h2",as:"h2",className:e,ref:n,...t}));ta.displayName="H2";const Ne=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"h3",as:"h3",className:e,ref:n,...t}));Ne.displayName="H3";const ca=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"h4",as:"h4",className:e,ref:n,...t}));ca.displayName="H4";const un=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"h5",as:"h5",className:e,ref:n,...t}));un.displayName="H5";const x$=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"h6",as:"h6",className:e,ref:n,...t}));x$.displayName="H6";const xe=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"p",as:"p",className:e,ref:n,...t}));xe.displayName="P";const v$=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));v$.displayName="Blockquote";const y$=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"code",as:"code",className:e,ref:n,...t}));y$.displayName="Code";const oS=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"lead",as:"p",className:e,ref:n,...t}));oS.displayName="Lead";const b$=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"large",as:"div",className:e,ref:n,...t}));b$.displayName="Large";const _s=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"small",as:"small",className:e,ref:n,...t}));_s.displayName="Small";const yc=g.forwardRef(({className:e,...t},n)=>a.jsx(gn,{variant:"muted",as:"p",className:e,ref:n,...t}));yc.displayName="Muted";function w$({level:e,assignments:t,onAssignmentChange:n,onClearAssignment:s,onClearAll:r,onUpdateAttributeLevel:i,className:o}){const{resolvedTheme:l}=iS(),c=l==="dark",u=y=>Object.values(t).filter(j=>j===y).length,d=u("health"),f=u("stamina"),m=u("magicka"),h=d+f+m,p=h+1,v=(y,j)=>{const w=u(y),N=j-w;if(N>0)for(let S=0;S<N;S++){const _=Math.max(2,h+2+S);n(_,y)}else if(N<0){for(let S=0;S<Math.abs(N);S++)for(let _=e;_>=2;_--)if(t[_]===y){s(_);break}}const E=h+N;i(E+1)},b=y=>{v(y,u(y)+1)},x=y=>{const j=u(y);j>0&&v(y,j-1)};return a.jsxs("div",{className:H("space-y-4",o),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(un,{className:"text-lg font-medium text-foreground",children:"Attribute Points"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(q,{variant:"outline",size:"sm",onClick:r,className:"text-xs",children:[a.jsx(yr,{className:"h-3 w-3 mr-1"}),"Clear All"]})})]}),a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border",children:[a.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:["Character Level: ",p," (derived from ",h," ","attribute points)"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-red-200 dark:border-red-800",style:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[a.jsx("div",{className:H("font-medium mb-3",c?"text-red-200":"text-red-500"),children:"Health"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",size:"sm",onClick:()=>x("health"),disabled:d<=0,className:"h-8 w-8 p-0",children:a.jsx(Ql,{className:"h-4 w-4"})}),a.jsx(pr,{type:"number",value:d,onChange:y=>{const j=parseInt(y.target.value)||0;j>=0&&v("health",j)},className:H("w-16 text-center text-lg font-bold border-red-300 focus:border-red-500 focus:ring-red-500",c?"text-red-300 border-red-600":"text-red-700"),min:0}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>b("health"),className:"h-8 w-8 p-0",children:a.jsx(oa,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-green-200 dark:border-green-800",style:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[a.jsx("div",{className:H("font-medium mb-3",c?"text-green-200":"text-green-500"),children:"Stamina"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",size:"sm",onClick:()=>x("stamina"),disabled:f<=0,className:"h-8 w-8 p-0",children:a.jsx(Ql,{className:"h-4 w-4"})}),a.jsx(pr,{type:"number",value:f,onChange:y=>{const j=parseInt(y.target.value)||0;j>=0&&v("stamina",j)},className:H("w-16 text-center text-lg font-bold border-green-300 focus:border-green-500 focus:ring-green-500",c?"text-green-300 border-green-600":"text-green-700"),min:0}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>b("stamina"),className:"h-8 w-8 p-0",children:a.jsx(oa,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-blue-200 dark:border-blue-800",style:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[a.jsx("div",{className:H("font-medium mb-3",c?"text-blue-200":"text-blue-500"),children:"Magicka"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(q,{variant:"outline",size:"sm",onClick:()=>x("magicka"),disabled:m<=0,className:"h-8 w-8 p-0",children:a.jsx(Ql,{className:"h-4 w-4"})}),a.jsx(pr,{type:"number",value:m,onChange:y=>{const j=parseInt(y.target.value)||0;j>=0&&v("magicka",j)},className:H("w-16 text-center text-lg font-bold border-blue-300 focus:border-blue-500 focus:ring-blue-500",c?"text-blue-300 border-blue-600":"text-blue-700"),min:0}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>b("magicka"),className:"h-8 w-8 p-0",children:a.jsx(oa,{className:"h-4 w-4"})})]})]})]})]})]})}const j$={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500"},N$={sm:"h-1.5",md:"h-2",lg:"h-3"};function fh({value:e,label:t,color:n="blue",size:s="md",showValue:r=!0,className:i,maxValue:o}){const l=o?Math.min(e/o*100,100):100;return a.jsxs("div",{className:H("space-y-1",i),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:t}),r&&a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})]}),a.jsx("div",{className:"w-full bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:H("transition-all duration-300 ease-out",j$[n],N$[s]),style:{width:`${l}%`}})})]})}function S$({displayData:e,level:t,className:n,showRatios:s=!0,compact:r=!1,selectedRace:i}){return r?a.jsxs("div",{className:H("space-y-3",n),children:[a.jsx(un,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),i&&a.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Base stats from ",i.name]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Health"}),a.jsx("div",{className:"font-medium text-lg",children:e.health.total}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.health.assigned]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Stamina"}),a.jsx("div",{className:"font-medium text-lg",children:e.stamina.total}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.stamina.assigned]})]}),a.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Magicka"}),a.jsx("div",{className:"font-medium text-lg",children:e.magicka.total}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.magicka.assigned]})]})]}),s&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Level ",t," •"," ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," ","assignments"]})]}):a.jsxs("div",{className:H("space-y-4",n),children:[a.jsx(un,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fh,{value:e.health.total,label:"Health",color:"red",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)}),a.jsx(fh,{value:e.stamina.total,label:"Stamina",color:"green",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)}),a.jsx(fh,{value:e.magicka.total,label:"Magicka",color:"blue",size:"sm",showValue:!0,maxValue:Math.max(e.health.total,e.stamina.total,e.magicka.total)})]}),s&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Health"}),a.jsxs("div",{className:"text-muted-foreground",children:[e.health.ratio.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Stamina"}),a.jsxs("div",{className:"text-muted-foreground",children:[e.stamina.ratio.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Magicka"}),a.jsxs("div",{className:"text-muted-foreground",children:[e.magicka.ratio.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Level ",t," •"," ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," ","assignments made"]})]})}function lS({className:e,showControls:t=!0,showSummary:n=!0,compact:s=!1}){const[r,i]=g.useState(!0),{assignments:o,displayData:l,level:c,selectedRace:u,setAttributeAssignment:d,clearAttributeAssignment:f,clearAllAttributeAssignments:m,updateAttributeLevel:h}=m$(),p=f$(),v=(w,N)=>{d(w,N)},b=w=>{f(w)},x=()=>{m()},y=p.derivedStats.reduce((w,N)=>(w[N.category]||(w[N.category]=[]),w[N.category].push(N),w),{}),j=["combat","survival","movement","magic"];return a.jsxs(ve,{className:H("w-full",e),children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Cg,{className:"h-5 w-5"}),"Attributes & Derived Stats"]}),t&&a.jsx(q,{variant:"ghost",size:"sm",onClick:()=>i(!r),children:r?a.jsx($N,{className:"h-4 w-4"}):a.jsx(tn,{className:"h-4 w-4"})})]})}),a.jsxs(be,{className:"space-y-6",children:[t&&r&&a.jsx(w$,{level:c,assignments:o.assignments,onAssignmentChange:v,onClearAssignment:b,onClearAll:x,onUpdateAttributeLevel:h}),n&&a.jsx(S$,{displayData:l,level:c,compact:s,selectedRace:u}),n&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-lg font-medium text-foreground",children:"Derived Stats"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(w=>{const N=y[w];return!N||N.length===0?null:a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"text-sm font-medium mb-3 capitalize",children:[w," Stats"]}),a.jsx("div",{className:"space-y-2",children:N.map(E=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:E.name}),a.jsx("span",{className:"font-medium",children:E.isPercentage?`${E.value}%`:E.value})]},E.name))})]},w)})})]})]})]})}const wd=new Map;function k$(){wd.clear()}k$();function C$(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(wd.has(n))return wd.get(n);let s=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((r,i)=>{const o=[];s.forEach(l=>{if(l.className)o.push(l);else{let c=0,u;const d=new RegExp(r.pattern,r.pattern.flags.includes("g")?r.pattern.flags:r.pattern.flags+"g");d.lastIndex=0;let f=0;for(;(u=d.exec(l.text))!==null;){u.index>c&&o.push({text:l.text.slice(c,u.index),key:`${l.key}-${f++}`});let m=u[0];const h=typeof r.className=="function"?r.className(u[0]):r.className;r.transform&&(m=r.transform(m)),o.push({text:m,className:h,key:`${l.key}-${f++}`}),c=d.lastIndex}c<l.text.length&&o.push({text:l.text.slice(c),key:`${l.key}-${f++}`})}}),s=o}),s=s.map((r,i)=>({...r,key:r.key||String(i)})),wd.set(n,s),s}const E$=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],_$=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function cS(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/\*\*\*([^*]+)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const s=parseFloat(n[0]),r=n[0].startsWith("+")||s>0,i=n[0].startsWith("-")||s<0;if(r)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(i)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<([^>]+)>/g,className:e=>{const t=e.slice(1,-1);if(!/^\d+$/.test(t))return"text-foreground"},transform:e=>{const t=e.match(/<([^>]+)>/);return t?t[1]:e.slice(1,-1)}},{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,s=e.startsWith("-")||t<0,r=t===0;return n?"font-bold text-green-600":s?"font-bold text-red-600":r?"font-bold text-skyrim-gold":"font-bold text-green-600"}},{pattern:new RegExp(`\\b(${E$.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${_$.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function De({text:e,options:t,className:n="text-sm text-muted-foreground",as:s="div"}){const r=g.useMemo(()=>cS(),[]),i=g.useMemo(()=>e?C$(e,t||r):[],[e,t,r]);if(!e)return null;if(n.includes("line-clamp")){const l=n.match(/line-clamp-\d+/g)||[],c=n.replace(/line-clamp-\d+/g,"").trim();return a.jsx(s,{className:c,children:a.jsx("div",{className:`${l.join(" ")} overflow-hidden`,children:i.map(u=>a.jsx("span",{className:u.className,children:u.text},u.key))})})}return a.jsx(s,{className:n,children:i.map(l=>a.jsx("span",{className:l.className,children:l.text},l.key))})}const Gt=({children:e,title:t,description:n,className:s=""})=>a.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${s}`,children:[t&&a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&a.jsx(De,{text:n,className:"text-muted-foreground mt-2 max-w-4xl",as:"p"})]})}),e]});function Ux(e){const t=e+"CollectionProvider",[n,s]=zn(t),[r,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:x}=v,y=P.useRef(null),j=P.useRef(new Map).current;return a.jsx(r,{scope:b,itemMap:j,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=$o(l),u=P.forwardRef((v,b)=>{const{scope:x,children:y}=v,j=i(l,x),w=Ie(b,j.collectionRef);return a.jsx(c,{ref:w,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=$o(d),h=P.forwardRef((v,b)=>{const{scope:x,children:y,...j}=v,w=P.useRef(null),N=Ie(b,w),E=i(d,x);return P.useEffect(()=>(E.itemMap.set(w,{ref:w,...j}),()=>void E.itemMap.delete(w))),a.jsx(m,{[f]:"",ref:N,children:y})});h.displayName=d;function p(v){const b=i(e+"CollectionConsumer",v);return P.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const j=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((E,S)=>j.indexOf(E.ref.current)-j.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},p,s]}var A$=g.createContext(void 0);function eu(e){const t=g.useContext(A$);return e||t||"ltr"}var mh="rovingFocusGroup.onEntryFocus",T$={bubbles:!1,cancelable:!0},tu="RovingFocusGroup",[$g,uS,M$]=Ux(tu),[R$,nm]=zn(tu,[M$]),[D$,z$]=R$(tu),dS=g.forwardRef((e,t)=>a.jsx($g.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx($g.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(L$,{...e,ref:t})})}));dS.displayName=tu;var L$=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=g.useRef(null),h=Ie(t,m),p=eu(i),[v,b]=Rr({prop:o,defaultProp:l??null,onChange:c,caller:tu}),[x,y]=g.useState(!1),j=Ut(u),w=uS(n),N=g.useRef(!1),[E,S]=g.useState(0);return g.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(mh,j),()=>_.removeEventListener(mh,j)},[j]),a.jsx(D$,{scope:n,orientation:s,dir:p,loop:r,currentTabStopId:v,onItemFocus:g.useCallback(_=>b(_),[b]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(_=>_+1),[]),onFocusableItemRemove:g.useCallback(()=>S(_=>_-1),[]),children:a.jsx(je.div,{tabIndex:x||E===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{N.current=!0}),onFocus:ne(e.onFocus,_=>{const C=!N.current;if(_.target===_.currentTarget&&C&&!x){const k=new CustomEvent(mh,T$);if(_.currentTarget.dispatchEvent(k),!k.defaultPrevented){const R=w().filter(M=>M.focusable),O=R.find(M=>M.active),z=R.find(M=>M.id===v),$=[O,z,...R].filter(Boolean).map(M=>M.ref.current);hS($,d)}}N.current=!1}),onBlur:ne(e.onBlur,()=>y(!1))})})}),fS="RovingFocusGroupItem",mS=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,children:o,...l}=e,c=gr(),u=i||c,d=z$(fS,n),f=d.currentTabStopId===u,m=uS(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:v}=d;return g.useEffect(()=>{if(s)return h(),()=>p()},[s,h,p]),a.jsx($g.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:a.jsx(je.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ne(e.onMouseDown,b=>{s?d.onItemFocus(u):b.preventDefault()}),onFocus:ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ne(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=O$(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let j=m().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")j.reverse();else if(x==="prev"||x==="next"){x==="prev"&&j.reverse();const w=j.indexOf(b.currentTarget);j=d.loop?B$(j,w+1):j.slice(w+1)}setTimeout(()=>hS(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});mS.displayName=fS;var $$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function O$(e,t,n){const s=P$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return $$[s]}function hS(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function B$(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var gS=dS,pS=mS,sm="Tabs",[I$,Kee]=zn(sm,[nm]),xS=nm(),[H$,Vx]=I$(sm),vS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=eu(l),[f,m]=Rr({prop:s,onChange:r,defaultProp:i??"",caller:sm});return a.jsx(H$,{scope:n,baseId:gr(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:a.jsx(je.div,{dir:d,"data-orientation":o,...u,ref:t})})});vS.displayName=sm;var yS="TabsList",bS=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...r}=e,i=Vx(yS,n),o=xS(n);return a.jsx(gS,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:a.jsx(je.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:t})})});bS.displayName=yS;var wS="TabsTrigger",jS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=e,o=Vx(wS,n),l=xS(n),c=kS(o.baseId,s),u=CS(o.baseId,s),d=s===o.value;return a.jsx(pS,{asChild:!0,...l,focusable:!r,active:d,children:a.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:t,onMouseDown:ne(e.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!r&&f&&o.onValueChange(s)})})})});jS.displayName=wS;var NS="TabsContent",SS=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...o}=e,l=Vx(NS,n),c=kS(l.baseId,s),u=CS(l.baseId,s),d=s===l.value,f=g.useRef(d);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Yt,{present:r||d,children:({present:m})=>a.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});SS.displayName=NS;function kS(e,t){return`${e}-trigger-${t}`}function CS(e,t){return`${e}-content-${t}`}var F$=vS,U$=bS,V$=jS,q$=SS;function Ai({className:e,...t}){return a.jsx(F$,{"data-slot":"tabs",className:H("flex flex-col gap-2",e),...t})}function Ti({className:e,...t}){return a.jsx(U$,{"data-slot":"tabs-list",className:H("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Vt({className:e,...t}){return a.jsx(V$,{"data-slot":"tabs-trigger",className:H("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Kt({className:e,...t}){return a.jsx(q$,{"data-slot":"tabs-content",className:H("flex-1 outline-none",e),...t})}const an=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],Z$=({currentPath:e})=>{var d;const t=lt(),n=an.findIndex(f=>f.to===e),s=n>=0?n:0,r=f=>{const m=an.find(h=>h.value===f);m&&t(m.to)},i=f=>{t(f.to)},o=()=>{s>0&&t(an[s-1].to)},l=()=>{s<an.length-1&&t(an[s+1].to)},c=f=>{switch(f.key){case"ArrowLeft":f.preventDefault(),o();break;case"ArrowRight":f.preventDefault(),l();break;case"Home":f.preventDefault(),t(an[0].to);break;case"End":f.preventDefault(),t(an[an.length-1].to);break}},u=((d=an[s])==null?void 0:d.value)||"build";return a.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:c,tabIndex:0,children:a.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsx(q,{onClick:o,disabled:s===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${s>0?an[s-1].label:"none"}`,children:a.jsx(wx,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx(Ai,{value:u,onValueChange:r,children:a.jsx(Ti,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:an.map((f,m)=>a.jsxs(Vt,{value:f.value,onClick:()=>i(f),className:H("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:u===f.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${m+1}: ${f.label}`,role:"tab","aria-selected":u===f.value,"aria-label":`Step ${m+1}: ${f.label}`,children:[a.jsx("span",{className:"hidden sm:inline",children:f.label}),a.jsx("span",{className:"sm:hidden",children:f.label.split(" ")[0]}),u===f.value&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},f.value))})})}),a.jsx(q,{onClick:l,disabled:s===an.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${s<an.length-1?an[s+1].label:"none"}`,children:a.jsx(Yc,{className:"h-4 w-4"})})]})})})},G$=()=>{const e=Mr();return a.jsxs("div",{className:"flex flex-col min-h-full",children:[a.jsx(Z$,{currentPath:e.pathname}),a.jsx("div",{className:"flex-grow",children:a.jsx(bD,{})})]})};function Y$(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ES(e){const[t,n]=g.useState(void 0);return Ps(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var rm="Switch",[X$,Qee]=zn(rm),[W$,K$]=X$(rm),_S=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,h]=g.useState(null),p=Ie(t,j=>h(j)),v=g.useRef(!1),b=m?d||!!m.closest("form"):!0,[x,y]=Rr({prop:r,defaultProp:i??!1,onChange:u,caller:rm});return a.jsxs(W$,{scope:n,checked:x,disabled:l,children:[a.jsx(je.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":RS(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:ne(e.onClick,j=>{y(w=>!w),b&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),b&&a.jsx(MS,{control:m,bubbles:!v.current,name:s,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});_S.displayName=rm;var AS="SwitchThumb",TS=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,r=K$(AS,n);return a.jsx(je.span,{"data-state":RS(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t})});TS.displayName=AS;var Q$="SwitchBubbleInput",MS=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...r},i)=>{const o=g.useRef(null),l=Ie(o,i),c=Y$(n),u=ES(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const p=new Event("click",{bubbles:s});h.call(d,n),d.dispatchEvent(p)}},[c,n,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MS.displayName=Q$;function RS(e){return e?"checked":"unchecked"}var DS=_S,J$=TS;const zS=g.forwardRef(({className:e,...t},n)=>a.jsx(DS,{className:H("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:a.jsx(J$,{className:H("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));zS.displayName=DS.displayName;function Qn({itemId:e,itemType:t,itemName:n,isInBuild:s=!1,className:r,onCheckedChange:i}){const{setRace:o,setStone:l,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:f,addMajorSkill:m,removeMajorSkill:h,removeMinorSkill:p,addEquipment:v,removeEquipment:b,build:x}=ht(),j=s||(()=>{switch(t){case"race":return x.race===e;case"stone":return x.stone===e;case"religion":return x.religion===e;case"trait":return x.traits.regular.includes(e)||x.traits.bonus.includes(e);case"skill":return x.skills.major.includes(e)||x.skills.minor.includes(e);case"equipment":return x.equipment.includes(e);default:return!1}})(),w=E=>{if(i){i(E);return}switch(t){case"race":o(E?e:null);break;case"stone":l(E?e:null);break;case"religion":c(E?e:null);break;case"trait":E?x.traits.regular.length<2?u(e):x.traits.bonus.length<1&&d(e):f(e);break;case"skill":E?m(e):(h(e),p(e));break;case"equipment":E?v(e):b(e);break}},N=()=>j?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return a.jsx("div",{className:H("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",j?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",r),onClick:E=>{E.stopPropagation(),w(!j)},title:N(),children:a.jsx(zS,{checked:j,onCheckedChange:w,className:H("transition-all duration-200",j?"data-[state=checked]:bg-[#d4af37]":"")})})}function Ga({categories:e,onSelect:t,placeholder:n="Search categories...",className:s=""}){const[r,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(""),[d,f]=g.useState(-1),m=g.useRef(null),h=g.useRef(null),p=e.length===1?e[0]:null;g.useEffect(()=>{const S=_=>{m.current&&!m.current.contains(_.target)&&(i(!1),l(null),f(-1))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const v=o||p?(o||p).options.filter(S=>String(S.label||"").toLowerCase().includes(c.toLowerCase())||String(S.description||"").toLowerCase().includes(c.toLowerCase())):e.flatMap(S=>S.options.filter(_=>String(_.label||"").toLowerCase().includes(c.toLowerCase())||String(_.description||"").toLowerCase().includes(c.toLowerCase()))),b=S=>{u(S),i(!0),f(-1)},x=S=>{var _;l(S),u(""),(_=h.current)==null||_.focus()},y=S=>{t(S),u(""),l(null),i(!1),f(-1)},j=S=>{S.key==="ArrowDown"?(S.preventDefault(),f(_=>Math.min(_+1,v.length-1))):S.key==="ArrowUp"?(S.preventDefault(),f(_=>Math.max(_-1,-1))):S.key==="Enter"?(S.preventDefault(),d>=0&&v[d]&&y(v[d])):S.key==="Escape"&&(i(!1),l(null),f(-1))},w=()=>{i(!0)},N=o||p,E=!p&&!o;return a.jsxs("div",{ref:m,className:`relative ${s}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(pr,{ref:h,type:"text",placeholder:N?N.placeholder:n,value:c,onChange:S=>b(S.target.value),onFocus:w,onKeyDown:j,className:"pl-10 pr-10"}),a.jsx(q,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>i(!r),children:a.jsx(tn,{className:`h-4 w-4 transition-transform ${r?"rotate-180":""}`})})]}),r&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:Lt.AUTOCOMPLETE+10},children:[E&&a.jsxs("div",{className:"p-2 border-b border-border",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(S=>a.jsxs("button",{onClick:()=>x(S),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[a.jsx("span",{children:S.name}),a.jsx(tn,{className:"h-4 w-4"})]},S.id))]}),a.jsx("div",{className:"p-2",children:v.length===0?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):v.map((S,_)=>a.jsxs("button",{onClick:()=>y(S),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${_===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[a.jsx("div",{className:"font-medium",children:S.label||"Unnamed Option"}),S.description&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:S.description})]},S.id))})]})]})}const eP=["top","right","bottom","left"],ba=Math.min,jn=Math.max,qd=Math.round,Iu=Math.floor,Rs=e=>({x:e,y:e}),tP={left:"right",right:"left",bottom:"top",top:"bottom"},nP={start:"end",end:"start"};function Pg(e,t,n){return jn(e,ba(t,n))}function jr(e,t){return typeof e=="function"?e(t):e}function Nr(e){return e.split("-")[0]}function gl(e){return e.split("-")[1]}function qx(e){return e==="x"?"y":"x"}function Zx(e){return e==="y"?"height":"width"}const sP=new Set(["top","bottom"]);function As(e){return sP.has(Nr(e))?"y":"x"}function Gx(e){return qx(As(e))}function rP(e,t,n){n===void 0&&(n=!1);const s=gl(e),r=Gx(e),i=Zx(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Zd(o)),[o,Zd(o)]}function aP(e){const t=Zd(e);return[Og(e),t,Og(t)]}function Og(e){return e.replace(/start|end/g,t=>nP[t])}const Yy=["left","right"],Xy=["right","left"],iP=["top","bottom"],oP=["bottom","top"];function lP(e,t,n){switch(e){case"top":case"bottom":return n?t?Xy:Yy:t?Yy:Xy;case"left":case"right":return t?iP:oP;default:return[]}}function cP(e,t,n,s){const r=gl(e);let i=lP(Nr(e),n==="start",s);return r&&(i=i.map(o=>o+"-"+r),t&&(i=i.concat(i.map(Og)))),i}function Zd(e){return e.replace(/left|right|bottom|top/g,t=>tP[t])}function uP(e){return{top:0,right:0,bottom:0,left:0,...e}}function LS(e){return typeof e!="number"?uP(e):{top:e,right:e,bottom:e,left:e}}function Gd(e){const{x:t,y:n,width:s,height:r}=e;return{width:s,height:r,top:n,left:t,right:t+s,bottom:n+r,x:t,y:n}}function Wy(e,t,n){let{reference:s,floating:r}=e;const i=As(t),o=Gx(t),l=Zx(o),c=Nr(t),u=i==="y",d=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,m=s[l]/2-r[l]/2;let h;switch(c){case"top":h={x:d,y:s.y-r.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-r.width,y:f};break;default:h={x:s.x,y:s.y}}switch(gl(t)){case"start":h[o]-=m*(n&&u?-1:1);break;case"end":h[o]+=m*(n&&u?-1:1);break}return h}const dP=async(e,t,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:f}=Wy(u,s,c),m=s,h={},p=0;for(let v=0;v<l.length;v++){const{name:b,fn:x}=l[v],{x:y,y:j,data:w,reset:N}=await x({x:d,y:f,initialPlacement:s,placement:m,strategy:r,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=j??f,h={...h,[b]:{...h[b],...w}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):N.rects),{x:d,y:f}=Wy(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:r,middlewareData:h}};async function bc(e,t){var n;t===void 0&&(t={});const{x:s,y:r,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=jr(t,e),p=LS(h),b=l[m?f==="floating"?"reference":"floating":f],x=Gd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},N=Gd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:j,strategy:c}):y);return{top:(x.top-N.top+p.top)/w.y,bottom:(N.bottom-x.bottom+p.bottom)/w.y,left:(x.left-N.left+p.left)/w.x,right:(N.right-x.right+p.right)/w.x}}const fP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:r,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=jr(e,t)||{};if(u==null)return{};const f=LS(d),m={x:n,y:s},h=Gx(r),p=Zx(h),v=await o.getDimensions(u),b=h==="y",x=b?"top":"left",y=b?"bottom":"right",j=b?"clientHeight":"clientWidth",w=i.reference[p]+i.reference[h]-m[h]-i.floating[p],N=m[h]-i.reference[h],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=E?E[j]:0;(!S||!await(o.isElement==null?void 0:o.isElement(E)))&&(S=l.floating[j]||i.floating[p]);const _=w/2-N/2,C=S/2-v[p]/2-1,k=ba(f[x],C),R=ba(f[y],C),O=k,z=S-v[p]-R,A=S/2-v[p]/2+_,$=Pg(O,A,z),M=!c.arrow&&gl(r)!=null&&A!==$&&i.reference[p]/2-(A<O?k:R)-v[p]/2<0,L=M?A<O?A-O:A-z:0;return{[h]:m[h]+L,data:{[h]:$,centerOffset:A-$-L,...M&&{alignmentOffset:L}},reset:M}}}),mP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...b}=jr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Nr(r),y=As(l),j=Nr(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(j||!v?[Zd(l)]:aP(l)),E=p!=="none";!m&&E&&N.push(...cP(l,v,p,w));const S=[l,...N],_=await bc(t,b),C=[];let k=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&C.push(_[x]),f){const A=rP(r,o,w);C.push(_[A[0]],_[A[1]])}if(k=[...k,{placement:r,overflows:C}],!C.every(A=>A<=0)){var R,O;const A=(((R=i.flip)==null?void 0:R.index)||0)+1,$=S[A];if($&&(!(f==="alignment"?y!==As($):!1)||k.every(T=>T.overflows[0]>0&&As(T.placement)===y)))return{data:{index:A,overflows:k},reset:{placement:$}};let M=(O=k.filter(L=>L.overflows[0]<=0).sort((L,T)=>L.overflows[1]-T.overflows[1])[0])==null?void 0:O.placement;if(!M)switch(h){case"bestFit":{var z;const L=(z=k.filter(T=>{if(E){const D=As(T.placement);return D===y||D==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(D=>D>0).reduce((D,B)=>D+B,0)]).sort((T,D)=>T[1]-D[1])[0])==null?void 0:z[0];L&&(M=L);break}case"initialPlacement":M=l;break}if(r!==M)return{reset:{placement:M}}}return{}}}};function Ky(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qy(e){return eP.some(t=>e[t]>=0)}const hP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...r}=jr(e,t);switch(s){case"referenceHidden":{const i=await bc(t,{...r,elementContext:"reference"}),o=Ky(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Qy(o)}}}case"escaped":{const i=await bc(t,{...r,altBoundary:!0}),o=Ky(i,n.floating);return{data:{escapedOffsets:o,escaped:Qy(o)}}}default:return{}}}}},$S=new Set(["left","top"]);async function gP(e,t){const{placement:n,platform:s,elements:r}=e,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Nr(n),l=gl(n),c=As(n)==="y",u=$S.has(o)?-1:1,d=i&&c?-1:1,f=jr(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(h=l==="end"?p*-1:p),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const pP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:r,y:i,placement:o,middlewareData:l}=t,c=await gP(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:o}}}}},xP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:r}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y}=b;return{x,y}}},...c}=jr(e,t),u={x:n,y:s},d=await bc(t,c),f=As(Nr(r)),m=qx(f);let h=u[m],p=u[f];if(i){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",y=h+d[b],j=h-d[x];h=Pg(y,h,j)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=p+d[b],j=p-d[x];p=Pg(y,p,j)}const v=l.fn({...t,[m]:h,[f]:p});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:i,[f]:o}}}}}},vP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:r,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=jr(e,t),d={x:n,y:s},f=As(r),m=qx(f);let h=d[m],p=d[f];const v=jr(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const j=m==="y"?"height":"width",w=i.reference[m]-i.floating[j]+b.mainAxis,N=i.reference[m]+i.reference[j]-b.mainAxis;h<w?h=w:h>N&&(h=N)}if(u){var x,y;const j=m==="y"?"width":"height",w=$S.has(Nr(r)),N=i.reference[f]-i.floating[j]+(w&&((x=o.offset)==null?void 0:x[f])||0)+(w?0:b.crossAxis),E=i.reference[f]+i.reference[j]+(w?0:((y=o.offset)==null?void 0:y[f])||0)-(w?b.crossAxis:0);p<N?p=N:p>E&&(p=E)}return{[m]:h,[f]:p}}}},yP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:r,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=jr(e,t),d=await bc(t,u),f=Nr(r),m=gl(r),h=As(r)==="y",{width:p,height:v}=i.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=m==="end"?"top":"bottom");const y=v-d.top-d.bottom,j=p-d.left-d.right,w=ba(v-d[b],y),N=ba(p-d[x],j),E=!t.middlewareData.shift;let S=w,_=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=j),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(S=y),E&&!m){const k=jn(d.left,0),R=jn(d.right,0),O=jn(d.top,0),z=jn(d.bottom,0);h?_=p-2*(k!==0||R!==0?k+R:jn(d.left,d.right)):S=v-2*(O!==0||z!==0?O+z:jn(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:S});const C=await o.getDimensions(l.floating);return p!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function am(){return typeof window<"u"}function pl(e){return PS(e)?(e.nodeName||"").toLowerCase():"#document"}function Cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fs(e){var t;return(t=(PS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function PS(e){return am()?e instanceof Node||e instanceof Cn(e).Node:!1}function us(e){return am()?e instanceof Element||e instanceof Cn(e).Element:!1}function Os(e){return am()?e instanceof HTMLElement||e instanceof Cn(e).HTMLElement:!1}function Jy(e){return!am()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cn(e).ShadowRoot}const bP=new Set(["inline","contents"]);function nu(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!bP.has(r)}const wP=new Set(["table","td","th"]);function jP(e){return wP.has(pl(e))}const NP=[":popover-open",":modal"];function im(e){return NP.some(t=>{try{return e.matches(t)}catch{return!1}})}const SP=["transform","translate","scale","rotate","perspective"],kP=["transform","translate","scale","rotate","perspective","filter"],CP=["paint","layout","strict","content"];function Yx(e){const t=Xx(),n=us(e)?ds(e):e;return SP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||kP.some(s=>(n.willChange||"").includes(s))||CP.some(s=>(n.contain||"").includes(s))}function EP(e){let t=wa(e);for(;Os(t)&&!Io(t);){if(Yx(t))return t;if(im(t))return null;t=wa(t)}return null}function Xx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _P=new Set(["html","body","#document"]);function Io(e){return _P.has(pl(e))}function ds(e){return Cn(e).getComputedStyle(e)}function om(e){return us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wa(e){if(pl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jy(e)&&e.host||Fs(e);return Jy(t)?t.host:t}function OS(e){const t=wa(e);return Io(t)?e.ownerDocument?e.ownerDocument.body:e.body:Os(t)&&nu(t)?t:OS(t)}function wc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=OS(e),i=r===((s=e.ownerDocument)==null?void 0:s.body),o=Cn(r);if(i){const l=Bg(o);return t.concat(o,o.visualViewport||[],nu(r)?r:[],l&&n?wc(l):[])}return t.concat(r,wc(r,[],n))}function Bg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BS(e){const t=ds(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=Os(e),i=r?e.offsetWidth:n,o=r?e.offsetHeight:s,l=qd(n)!==i||qd(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Wx(e){return us(e)?e:e.contextElement}function yo(e){const t=Wx(e);if(!Os(t))return Rs(1);const n=t.getBoundingClientRect(),{width:s,height:r,$:i}=BS(t);let o=(i?qd(n.width):n.width)/s,l=(i?qd(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const AP=Rs(0);function IS(e){const t=Cn(e);return!Xx()||!t.visualViewport?AP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cn(e)?!1:t}function ui(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=Wx(e);let o=Rs(1);t&&(s?us(s)&&(o=yo(s)):o=yo(e));const l=TP(i,n,s)?IS(i):Rs(0);let c=(r.left+l.x)/o.x,u=(r.top+l.y)/o.y,d=r.width/o.x,f=r.height/o.y;if(i){const m=Cn(i),h=s&&us(s)?Cn(s):s;let p=m,v=Bg(p);for(;v&&s&&h!==p;){const b=yo(v),x=v.getBoundingClientRect(),y=ds(v),j=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,w=x.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=j,u+=w,p=Cn(v),v=Bg(p)}}return Gd({width:d,height:f,x:c,y:u})}function Kx(e,t){const n=om(e).scrollLeft;return t?t.left+n:ui(Fs(e)).left+n}function HS(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-(n?0:Kx(e,s)),i=s.top+t.scrollTop;return{x:r,y:i}}function MP(e){let{elements:t,rect:n,offsetParent:s,strategy:r}=e;const i=r==="fixed",o=Fs(s),l=t?im(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Rs(1);const d=Rs(0),f=Os(s);if((f||!f&&!i)&&((pl(s)!=="body"||nu(o))&&(c=om(s)),Os(s))){const h=ui(s);u=yo(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}const m=o&&!f&&!i?HS(o,c,!0):Rs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function RP(e){return Array.from(e.getClientRects())}function DP(e){const t=Fs(e),n=om(e),s=e.ownerDocument.body,r=jn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=jn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Kx(e);const l=-n.scrollTop;return ds(s).direction==="rtl"&&(o+=jn(t.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:l}}function zP(e,t){const n=Cn(e),s=Fs(e),r=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(r){i=r.width,o=r.height;const u=Xx();(!u||u&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:l,y:c}}const LP=new Set(["absolute","fixed"]);function $P(e,t){const n=ui(e,!0,t==="fixed"),s=n.top+e.clientTop,r=n.left+e.clientLeft,i=Os(e)?yo(e):Rs(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:o,height:l,x:c,y:u}}function eb(e,t,n){let s;if(t==="viewport")s=zP(e,n);else if(t==="document")s=DP(Fs(e));else if(us(t))s=$P(t,n);else{const r=IS(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Gd(s)}function FS(e,t){const n=wa(e);return n===t||!us(n)||Io(n)?!1:ds(n).position==="fixed"||FS(n,t)}function PP(e,t){const n=t.get(e);if(n)return n;let s=wc(e,[],!1).filter(l=>us(l)&&pl(l)!=="body"),r=null;const i=ds(e).position==="fixed";let o=i?wa(e):e;for(;us(o)&&!Io(o);){const l=ds(o),c=Yx(o);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&LP.has(r.position)||nu(o)&&!c&&FS(e,o))?s=s.filter(d=>d!==o):r=l,o=wa(o)}return t.set(e,s),s}function OP(e){let{element:t,boundary:n,rootBoundary:s,strategy:r}=e;const o=[...n==="clippingAncestors"?im(t)?[]:PP(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=eb(t,d,r);return u.top=jn(f.top,u.top),u.right=ba(f.right,u.right),u.bottom=ba(f.bottom,u.bottom),u.left=jn(f.left,u.left),u},eb(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BP(e){const{width:t,height:n}=BS(e);return{width:t,height:n}}function IP(e,t,n){const s=Os(t),r=Fs(t),i=n==="fixed",o=ui(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Rs(0);function u(){c.x=Kx(r)}if(s||!s&&!i)if((pl(t)!=="body"||nu(r))&&(l=om(t)),s){const h=ui(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?HS(r,l):Rs(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function hh(e){return ds(e).position==="static"}function tb(e,t){if(!Os(e)||ds(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fs(e)===n&&(n=n.ownerDocument.body),n}function US(e,t){const n=Cn(e);if(im(e))return n;if(!Os(e)){let r=wa(e);for(;r&&!Io(r);){if(us(r)&&!hh(r))return r;r=wa(r)}return n}let s=tb(e,t);for(;s&&jP(s)&&hh(s);)s=tb(s,t);return s&&Io(s)&&hh(s)&&!Yx(s)?n:s||EP(e)||n}const HP=async function(e){const t=this.getOffsetParent||US,n=this.getDimensions,s=await n(e.floating);return{reference:IP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function FP(e){return ds(e).direction==="rtl"}const UP={convertOffsetParentRelativeRectToViewportRelativeRect:MP,getDocumentElement:Fs,getClippingRect:OP,getOffsetParent:US,getElementRects:HP,getClientRects:RP,getDimensions:BP,getScale:yo,isElement:us,isRTL:FP};function VS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function VP(e,t){let n=null,s;const r=Fs(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||t(),!m||!h)return;const p=Iu(f),v=Iu(r.clientWidth-(d+m)),b=Iu(r.clientHeight-(f+h)),x=Iu(d),j={rootMargin:-p+"px "+-v+"px "+-b+"px "+-x+"px",threshold:jn(0,ba(1,c))||1};let w=!0;function N(E){const S=E[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):s=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!VS(u,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(N,{...j,root:r.ownerDocument})}catch{n=new IntersectionObserver(N,j)}n.observe(e)}return o(!0),i}function qP(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=Wx(e),d=r||i?[...u?wc(u):[],...wc(t)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&l?VP(u,n):null;let m=-1,h=null;o&&(h=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let p,v=c?ui(e):null;c&&b();function b(){const x=ui(e);v&&!VS(v,x)&&n(),v=x,p=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(y=>{r&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const ZP=pP,GP=xP,YP=mP,XP=yP,WP=hP,nb=fP,KP=vP,QP=(e,t,n)=>{const s=new Map,r={platform:UP,...n},i={...r.platform,_c:s};return dP(e,t,{...r,platform:i})};var JP=typeof document<"u",eO=function(){},jd=JP?g.useLayoutEffect:eO;function Yd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Yd(e[s],t[s]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&e.$$typeof)&&!Yd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function qS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sb(e,t){const n=qS(e);return Math.round(t*n)/n}function gh(e){const t=g.useRef(e);return jd(()=>{t.current=e}),t}function tO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=g.useState(s);Yd(m,s)||h(s);const[p,v]=g.useState(null),[b,x]=g.useState(null),y=g.useCallback(T=>{T!==E.current&&(E.current=T,v(T))},[]),j=g.useCallback(T=>{T!==S.current&&(S.current=T,x(T))},[]),w=i||p,N=o||b,E=g.useRef(null),S=g.useRef(null),_=g.useRef(d),C=c!=null,k=gh(c),R=gh(r),O=gh(u),z=g.useCallback(()=>{if(!E.current||!S.current)return;const T={placement:t,strategy:n,middleware:m};R.current&&(T.platform=R.current),QP(E.current,S.current,T).then(D=>{const B={...D,isPositioned:O.current!==!1};A.current&&!Yd(_.current,B)&&(_.current=B,Kf.flushSync(()=>{f(B)}))})},[m,t,n,R,O]);jd(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const A=g.useRef(!1);jd(()=>(A.current=!0,()=>{A.current=!1}),[]),jd(()=>{if(w&&(E.current=w),N&&(S.current=N),w&&N){if(k.current)return k.current(w,N,z);z()}},[w,N,z,k,C]);const $=g.useMemo(()=>({reference:E,floating:S,setReference:y,setFloating:j}),[y,j]),M=g.useMemo(()=>({reference:w,floating:N}),[w,N]),L=g.useMemo(()=>{const T={position:n,left:0,top:0};if(!M.floating)return T;const D=sb(M.floating,d.x),B=sb(M.floating,d.y);return l?{...T,transform:"translate("+D+"px, "+B+"px)",...qS(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:B}},[n,l,M.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:z,refs:$,elements:M,floatingStyles:L}),[d,z,$,M,L])}const nO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:r}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?nb({element:s.current,padding:r}).fn(n):{}:s?nb({element:s,padding:r}).fn(n):{}}}},sO=(e,t)=>({...ZP(e),options:[e,t]}),rO=(e,t)=>({...GP(e),options:[e,t]}),aO=(e,t)=>({...KP(e),options:[e,t]}),iO=(e,t)=>({...YP(e),options:[e,t]}),oO=(e,t)=>({...XP(e),options:[e,t]}),lO=(e,t)=>({...WP(e),options:[e,t]}),cO=(e,t)=>({...nO(e),options:[e,t]});var uO="Arrow",ZS=g.forwardRef((e,t)=>{const{children:n,width:s=10,height:r=5,...i}=e;return a.jsx(je.svg,{...i,ref:t,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZS.displayName=uO;var dO=ZS,Qx="Popper",[GS,xl]=zn(Qx),[fO,YS]=GS(Qx),XS=e=>{const{__scopePopper:t,children:n}=e,[s,r]=g.useState(null);return a.jsx(fO,{scope:t,anchor:s,onAnchorChange:r,children:n})};XS.displayName=Qx;var WS="PopperAnchor",KS=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...r}=e,i=YS(WS,n),o=g.useRef(null),l=Ie(t,o);return g.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:a.jsx(je.div,{...r,ref:l})});KS.displayName=WS;var Jx="PopperContent",[mO,hO]=GS(Jx),QS=g.forwardRef((e,t)=>{var ee,pe,fe,we,U,X;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:p,...v}=e,b=YS(Jx,n),[x,y]=g.useState(null),j=Ie(t,Q=>y(Q)),[w,N]=g.useState(null),E=ES(w),S=(E==null?void 0:E.width)??0,_=(E==null?void 0:E.height)??0,C=s+(i!=="center"?"-"+i:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],O=R.length>0,z={padding:k,boundary:R.filter(pO),altBoundary:O},{refs:A,floatingStyles:$,placement:M,isPositioned:L,middlewareData:T}=tO({strategy:"fixed",placement:C,whileElementsMounted:(...Q)=>qP(...Q,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[sO({mainAxis:r+_,alignmentAxis:o}),c&&rO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aO():void 0,...z}),c&&iO({...z}),oO({...z,apply:({elements:Q,rects:K,availableWidth:se,availableHeight:ye})=>{const{width:ue,height:te}=K.reference,Le=Q.floating.style;Le.setProperty("--radix-popper-available-width",`${se}px`),Le.setProperty("--radix-popper-available-height",`${ye}px`),Le.setProperty("--radix-popper-anchor-width",`${ue}px`),Le.setProperty("--radix-popper-anchor-height",`${te}px`)}}),w&&cO({element:w,padding:l}),xO({arrowWidth:S,arrowHeight:_}),m&&lO({strategy:"referenceHidden",...z})]}),[D,B]=t2(M),F=Ut(p);Ps(()=>{L&&(F==null||F())},[L,F]);const I=(ee=T.arrow)==null?void 0:ee.x,V=(pe=T.arrow)==null?void 0:pe.y,G=((fe=T.arrow)==null?void 0:fe.centerOffset)!==0,[J,ie]=g.useState();return Ps(()=>{x&&ie(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:L?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(we=T.transformOrigin)==null?void 0:we.x,(U=T.transformOrigin)==null?void 0:U.y].join(" "),...((X=T.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(mO,{scope:n,placedSide:D,onArrowChange:N,arrowX:I,arrowY:V,shouldHideArrow:G,children:a.jsx(je.div,{"data-side":D,"data-align":B,...v,ref:j,style:{...v.style,animation:L?void 0:"none"}})})})});QS.displayName=Jx;var JS="PopperArrow",gO={top:"bottom",right:"left",bottom:"top",left:"right"},e2=g.forwardRef(function(t,n){const{__scopePopper:s,...r}=t,i=hO(JS,s),o=gO[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(dO,{...r,ref:n,style:{...r.style,display:"block"}})})});e2.displayName=JS;function pO(e){return e!==null}var xO=e=>({name:"transformOrigin",options:e,fn(t){var b,x,y;const{placement:n,rects:s,middlewareData:r}=t,o=((b=r.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=t2(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((x=r.arrow)==null?void 0:x.x)??0)+l/2,h=(((y=r.arrow)==null?void 0:y.y)??0)+c/2;let p="",v="";return u==="bottom"?(p=o?f:`${m}px`,v=`${-c}px`):u==="top"?(p=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(p=`${-c}px`,v=o?f:`${h}px`):u==="left"&&(p=`${s.floating.width+c}px`,v=o?f:`${h}px`),{data:{x:p,y:v}}}});function t2(e){const[t,n="center"]=e.split("-");return[t,n]}var n2=XS,e0=KS,t0=QS,n0=e2,Ig=["Enter"," "],vO=["ArrowDown","PageUp","Home"],s2=["ArrowUp","PageDown","End"],yO=[...vO,...s2],bO={ltr:[...Ig,"ArrowRight"],rtl:[...Ig,"ArrowLeft"]},wO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},su="Menu",[jc,jO,NO]=Ux(su),[Mi,r2]=zn(su,[NO,xl,nm]),lm=xl(),a2=nm(),[SO,Ri]=Mi(su),[kO,ru]=Mi(su),i2=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:r,onOpenChange:i,modal:o=!0}=e,l=lm(t),[c,u]=g.useState(null),d=g.useRef(!1),f=Ut(i),m=eu(r);return g.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),a.jsx(n2,{...l,children:a.jsx(SO,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(kO,{scope:t,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};i2.displayName=su;var CO="MenuAnchor",s0=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=lm(n);return a.jsx(e0,{...r,...s,ref:t})});s0.displayName=CO;var r0="MenuPortal",[EO,o2]=Mi(r0,{forceMount:void 0}),l2=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:r}=e,i=Ri(r0,t);return a.jsx(EO,{scope:t,forceMount:n,children:a.jsx(Yt,{present:n||i.open,children:a.jsx(Dx,{asChild:!0,container:r,children:s})})})};l2.displayName=r0;var Yn="MenuContent",[_O,a0]=Mi(Yn),c2=g.forwardRef((e,t)=>{const n=o2(Yn,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,i=Ri(Yn,e.__scopeMenu),o=ru(Yn,e.__scopeMenu);return a.jsx(jc.Provider,{scope:e.__scopeMenu,children:a.jsx(Yt,{present:s||i.open,children:a.jsx(jc.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(AO,{...r,ref:t}):a.jsx(TO,{...r,ref:t})})})})}),AO=g.forwardRef((e,t)=>{const n=Ri(Yn,e.__scopeMenu),s=g.useRef(null),r=Ie(t,s);return g.useEffect(()=>{const i=s.current;if(i)return L1(i)},[]),a.jsx(i0,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),TO=g.forwardRef((e,t)=>{const n=Ri(Yn,e.__scopeMenu);return a.jsx(i0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),MO=$o("MenuContent.ScrollLock"),i0=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:p,...v}=e,b=Ri(Yn,n),x=ru(Yn,n),y=lm(n),j=a2(n),w=jO(n),[N,E]=g.useState(null),S=g.useRef(null),_=Ie(t,S,b.onContentChange),C=g.useRef(0),k=g.useRef(""),R=g.useRef(0),O=g.useRef(null),z=g.useRef("right"),A=g.useRef(0),$=p?zx:g.Fragment,M=p?{as:MO,allowPinchZoom:!0}:void 0,L=D=>{var ee,pe;const B=k.current+D,F=w().filter(fe=>!fe.disabled),I=document.activeElement,V=(ee=F.find(fe=>fe.ref.current===I))==null?void 0:ee.textValue,G=F.map(fe=>fe.textValue),J=UO(G,B,V),ie=(pe=F.find(fe=>fe.textValue===J))==null?void 0:pe.ref.current;(function fe(we){k.current=we,window.clearTimeout(C.current),we!==""&&(C.current=window.setTimeout(()=>fe(""),1e3))})(B),ie&&setTimeout(()=>ie.focus())};g.useEffect(()=>()=>window.clearTimeout(C.current),[]),C1();const T=g.useCallback(D=>{var F,I;return z.current===((F=O.current)==null?void 0:F.side)&&qO(D,(I=O.current)==null?void 0:I.area)},[]);return a.jsx(_O,{scope:n,searchRef:k,onItemEnter:g.useCallback(D=>{T(D)&&D.preventDefault()},[T]),onItemLeave:g.useCallback(D=>{var B;T(D)||((B=S.current)==null||B.focus(),E(null))},[T]),onTriggerLeave:g.useCallback(D=>{T(D)&&D.preventDefault()},[T]),pointerGraceTimerRef:R,onPointerGraceIntentChange:g.useCallback(D=>{O.current=D},[]),children:a.jsx($,{...M,children:a.jsx(Rx,{asChild:!0,trapped:r,onMountAutoFocus:ne(i,D=>{var B;D.preventDefault(),(B=S.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Jc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:a.jsx(gS,{asChild:!0,...j,dir:x.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:E,onEntryFocus:ne(c,D=>{x.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(t0,{role:"menu","aria-orientation":"vertical","data-state":k2(b.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:_,style:{outline:"none",...v.style},onKeyDown:ne(v.onKeyDown,D=>{const F=D.target.closest("[data-radix-menu-content]")===D.currentTarget,I=D.ctrlKey||D.altKey||D.metaKey,V=D.key.length===1;F&&(D.key==="Tab"&&D.preventDefault(),!I&&V&&L(D.key));const G=S.current;if(D.target!==G||!yO.includes(D.key))return;D.preventDefault();const ie=w().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);s2.includes(D.key)&&ie.reverse(),HO(ie)}),onBlur:ne(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(C.current),k.current="")}),onPointerMove:ne(e.onPointerMove,Nc(D=>{const B=D.target,F=A.current!==D.clientX;if(D.currentTarget.contains(B)&&F){const I=D.clientX>A.current?"right":"left";z.current=I,A.current=D.clientX}}))})})})})})})});c2.displayName=Yn;var RO="MenuGroup",o0=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(je.div,{role:"group",...s,ref:t})});o0.displayName=RO;var DO="MenuLabel",u2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(je.div,{...s,ref:t})});u2.displayName=DO;var Xd="MenuItem",rb="menu.itemSelect",cm=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...r}=e,i=g.useRef(null),o=ru(Xd,e.__scopeMenu),l=a0(Xd,e.__scopeMenu),c=Ie(t,i),u=g.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(rb,{bubbles:!0,cancelable:!0});f.addEventListener(rb,h=>s==null?void 0:s(h),{once:!0}),j1(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(d2,{...r,ref:c,disabled:n,onClick:ne(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:ne(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ne(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||Ig.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});cm.displayName=Xd;var d2=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...i}=e,o=a0(Xd,n),l=a2(n),c=g.useRef(null),u=Ie(t,c),[d,f]=g.useState(!1),[m,h]=g.useState("");return g.useEffect(()=>{const p=c.current;p&&h((p.textContent??"").trim())},[i.children]),a.jsx(jc.ItemSlot,{scope:n,disabled:s,textValue:r??m,children:a.jsx(pS,{asChild:!0,...l,focusable:!s,children:a.jsx(je.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:ne(e.onPointerMove,Nc(p=>{s?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(e.onPointerLeave,Nc(p=>o.onItemLeave(p))),onFocus:ne(e.onFocus,()=>f(!0)),onBlur:ne(e.onBlur,()=>f(!1))})})})}),zO="MenuCheckboxItem",f2=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...r}=e;return a.jsx(x2,{scope:e.__scopeMenu,checked:n,children:a.jsx(cm,{role:"menuitemcheckbox","aria-checked":Wd(n)?"mixed":n,...r,ref:t,"data-state":c0(n),onSelect:ne(r.onSelect,()=>s==null?void 0:s(Wd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});f2.displayName=zO;var m2="MenuRadioGroup",[LO,$O]=Mi(m2,{value:void 0,onValueChange:()=>{}}),h2=g.forwardRef((e,t)=>{const{value:n,onValueChange:s,...r}=e,i=Ut(s);return a.jsx(LO,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(o0,{...r,ref:t})})});h2.displayName=m2;var g2="MenuRadioItem",p2=g.forwardRef((e,t)=>{const{value:n,...s}=e,r=$O(g2,e.__scopeMenu),i=n===r.value;return a.jsx(x2,{scope:e.__scopeMenu,checked:i,children:a.jsx(cm,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":c0(i),onSelect:ne(s.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,n)},{checkForDefaultPrevented:!1})})})});p2.displayName=g2;var l0="MenuItemIndicator",[x2,PO]=Mi(l0,{checked:!1}),v2=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...r}=e,i=PO(l0,n);return a.jsx(Yt,{present:s||Wd(i.checked)||i.checked===!0,children:a.jsx(je.span,{...r,ref:t,"data-state":c0(i.checked)})})});v2.displayName=l0;var OO="MenuSeparator",y2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(je.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});y2.displayName=OO;var BO="MenuArrow",b2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=lm(n);return a.jsx(n0,{...r,...s,ref:t})});b2.displayName=BO;var IO="MenuSub",[Jee,w2]=Mi(IO),Vl="MenuSubTrigger",j2=g.forwardRef((e,t)=>{const n=Ri(Vl,e.__scopeMenu),s=ru(Vl,e.__scopeMenu),r=w2(Vl,e.__scopeMenu),i=a0(Vl,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(s0,{asChild:!0,...u,children:a.jsx(d2,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":k2(n.open),...e,ref:Qf(t,r.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(e.onPointerMove,Nc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ne(e.onPointerLeave,Nc(f=>{var h,p;d();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const v=(p=n.content)==null?void 0:p.dataset.side,b=v==="right",x=b?-5:5,y=m[b?"left":"right"],j=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x:y,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ne(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||bO[s.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});j2.displayName=Vl;var N2="MenuSubContent",S2=g.forwardRef((e,t)=>{const n=o2(Yn,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,i=Ri(Yn,e.__scopeMenu),o=ru(Yn,e.__scopeMenu),l=w2(N2,e.__scopeMenu),c=g.useRef(null),u=Ie(t,c);return a.jsx(jc.Provider,{scope:e.__scopeMenu,children:a.jsx(Yt,{present:s||i.open,children:a.jsx(jc.Slot,{scope:e.__scopeMenu,children:a.jsx(i0,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ne(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ne(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ne(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=wO[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});S2.displayName=N2;function k2(e){return e?"open":"closed"}function Wd(e){return e==="indeterminate"}function c0(e){return Wd(e)?"indeterminate":e?"checked":"unchecked"}function HO(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function FO(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function UO(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=FO(e,Math.max(i,0));r.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function VO(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function qO(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return VO(n,t)}function Nc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ZO=i2,GO=s0,YO=l2,XO=c2,WO=o0,KO=u2,QO=cm,JO=f2,e6=h2,t6=p2,n6=v2,s6=y2,r6=b2,a6=j2,i6=S2,um="DropdownMenu",[o6,ete]=zn(um,[r2]),sn=r2(),[l6,C2]=o6(um),E2=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=sn(t),u=g.useRef(null),[d,f]=Rr({prop:r,defaultProp:i??!1,onChange:o,caller:um});return a.jsx(l6,{scope:t,triggerId:gr(),triggerRef:u,contentId:gr(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(ZO,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};E2.displayName=um;var _2="DropdownMenuTrigger",A2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=e,i=C2(_2,n),o=sn(n);return a.jsx(GO,{asChild:!0,...o,children:a.jsx(je.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Qf(t,i.triggerRef),onPointerDown:ne(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ne(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});A2.displayName=_2;var c6="DropdownMenuPortal",T2=e=>{const{__scopeDropdownMenu:t,...n}=e,s=sn(t);return a.jsx(YO,{...s,...n})};T2.displayName=c6;var M2="DropdownMenuContent",R2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=C2(M2,n),i=sn(n),o=g.useRef(!1);return a.jsx(XO,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:t,onCloseAutoFocus:ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=r.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R2.displayName=M2;var u6="DropdownMenuGroup",d6=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(WO,{...r,...s,ref:t})});d6.displayName=u6;var f6="DropdownMenuLabel",D2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(KO,{...r,...s,ref:t})});D2.displayName=f6;var m6="DropdownMenuItem",z2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(QO,{...r,...s,ref:t})});z2.displayName=m6;var h6="DropdownMenuCheckboxItem",L2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(JO,{...r,...s,ref:t})});L2.displayName=h6;var g6="DropdownMenuRadioGroup",p6=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(e6,{...r,...s,ref:t})});p6.displayName=g6;var x6="DropdownMenuRadioItem",$2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(t6,{...r,...s,ref:t})});$2.displayName=x6;var v6="DropdownMenuItemIndicator",P2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(n6,{...r,...s,ref:t})});P2.displayName=v6;var y6="DropdownMenuSeparator",O2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(s6,{...r,...s,ref:t})});O2.displayName=y6;var b6="DropdownMenuArrow",w6=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(r6,{...r,...s,ref:t})});w6.displayName=b6;var j6="DropdownMenuSubTrigger",B2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(a6,{...r,...s,ref:t})});B2.displayName=j6;var N6="DropdownMenuSubContent",I2=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=sn(n);return a.jsx(i6,{...r,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I2.displayName=N6;var S6=E2,k6=A2,C6=T2,H2=R2,F2=D2,U2=z2,V2=L2,q2=$2,Z2=P2,G2=O2,Y2=B2,X2=I2;const Di=S6,zi=k6,E6=g.forwardRef(({className:e,inset:t,children:n,...s},r)=>a.jsxs(Y2,{ref:r,className:H("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,a.jsx(Yc,{className:"ml-auto h-4 w-4"})]}));E6.displayName=Y2.displayName;const _6=g.forwardRef(({className:e,...t},n)=>a.jsx(X2,{ref:n,className:H("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Lt.DROPDOWN},...t}));_6.displayName=X2.displayName;const _a=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(C6,{children:a.jsx(H2,{ref:s,sideOffset:t,className:H("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Lt.DROPDOWN},...n})}));_a.displayName=H2.displayName;const en=g.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(U2,{ref:s,className:H("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));en.displayName=U2.displayName;const A6=g.forwardRef(({className:e,children:t,checked:n,...s},r)=>a.jsxs(V2,{ref:r,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Z2,{children:a.jsx(gc,{className:"h-4 w-4"})})}),t]}));A6.displayName=V2.displayName;const T6=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(q2,{ref:s,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Z2,{children:a.jsx(jx,{className:"h-2 w-2 fill-current"})})}),t]}));T6.displayName=q2.displayName;const M6=g.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(F2,{ref:s,className:H("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));M6.displayName=F2.displayName;const R6=g.forwardRef(({className:e,...t},n)=>a.jsx(G2,{ref:n,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));R6.displayName=G2.displayName;function D6(e,[t,n]){return Math.min(n,Math.max(t,e))}function z6(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var u0="ScrollArea",[W2,tte]=zn(u0),[L6,Jn]=W2(u0),K2=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:i=600,...o}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,p]=g.useState(null),[v,b]=g.useState(null),[x,y]=g.useState(0),[j,w]=g.useState(0),[N,E]=g.useState(!1),[S,_]=g.useState(!1),C=Ie(t,R=>c(R)),k=eu(r);return a.jsx(L6,{scope:n,type:s,dir:k,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:N,onScrollbarXEnabledChange:E,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:_,onCornerWidthChange:y,onCornerHeightChange:w,children:a.jsx(je.div,{dir:k,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});K2.displayName=u0;var Q2="ScrollAreaViewport",J2=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:r,...i}=e,o=Jn(Q2,n),l=g.useRef(null),c=Ie(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(je.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});J2.displayName=Q2;var Us="ScrollAreaScrollbar",d0=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Jn(Us,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=r,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),r.type==="hover"?a.jsx($6,{...s,ref:t,forceMount:n}):r.type==="scroll"?a.jsx(P6,{...s,ref:t,forceMount:n}):r.type==="auto"?a.jsx(ek,{...s,ref:t,forceMount:n}):r.type==="always"?a.jsx(f0,{...s,ref:t}):null});d0.displayName=Us;var $6=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Jn(Us,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),a.jsx(Yt,{present:n||i,children:a.jsx(ek,{"data-state":i?"visible":"hidden",...s,ref:t})})}),P6=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Jn(Us,e.__scopeScrollArea),i=e.orientation==="horizontal",o=fm(()=>c("SCROLL_END"),100),[l,c]=z6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,c]),g.useEffect(()=>{const u=r.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[r.viewport,i,c,o]),a.jsx(Yt,{present:n||l!=="hidden",children:a.jsx(f0,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ek=g.forwardRef((e,t)=>{const n=Jn(Us,e.__scopeScrollArea),{forceMount:s,...r}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",c=fm(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Ho(n.viewport,c),Ho(n.content,c),a.jsx(Yt,{present:s||i,children:a.jsx(f0,{"data-state":i?"visible":"hidden",...r,ref:t})})}),f0=g.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,r=Jn(Us,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ak(l.viewport,l.content),d={...s,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return U6(m,o.current,l,h)}return n==="horizontal"?a.jsx(O6,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const m=r.viewport.scrollLeft,h=ab(m,l,r.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollLeft=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollLeft=f(m,r.dir))}}):n==="vertical"?a.jsx(B6,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const m=r.viewport.scrollTop,h=ab(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollTop=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollTop=f(m))}}):null}),O6=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,i=Jn(Us,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ie(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(nk,{"data-orientation":"horizontal",...r,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),ok(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qd(o.paddingLeft),paddingEnd:Qd(o.paddingRight)}})}})}),B6=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,i=Jn(Us,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ie(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(nk,{"data-orientation":"vertical",...r,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),ok(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qd(o.paddingTop),paddingEnd:Qd(o.paddingBottom)}})}})}),[I6,tk]=W2(Us),nk=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,h=Jn(Us,n),[p,v]=g.useState(null),b=Ie(t,C=>v(C)),x=g.useRef(null),y=g.useRef(""),j=h.viewport,w=s.content-s.viewport,N=Ut(d),E=Ut(c),S=fm(f,10);function _(C){if(x.current){const k=C.clientX-x.current.left,R=C.clientY-x.current.top;u({x:k,y:R})}}return g.useEffect(()=>{const C=k=>{const R=k.target;(p==null?void 0:p.contains(R))&&N(k,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[j,p,w,N]),g.useEffect(E,[s,E]),Ho(p,S),Ho(h.content,S),a.jsx(I6,{scope:n,scrollbar:p,hasThumb:r,onThumbChange:Ut(i),onThumbPointerUp:Ut(o),onThumbPositionChange:E,onThumbPointerDown:Ut(l),children:a.jsx(je.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:ne(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),x.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),_(C))}),onPointerMove:ne(e.onPointerMove,_),onPointerUp:ne(e.onPointerUp,C=>{const k=C.target;k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),Kd="ScrollAreaThumb",sk=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=tk(Kd,e.__scopeScrollArea);return a.jsx(Yt,{present:n||r.hasThumb,children:a.jsx(H6,{ref:t,...s})})}),H6=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...r}=e,i=Jn(Kd,n),o=tk(Kd,n),{onThumbPositionChange:l}=o,c=Ie(t,f=>o.onThumbChange(f)),u=g.useRef(void 0),d=fm(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const h=V6(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),a.jsx(je.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ne(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,v=f.clientY-h.top;o.onThumbPointerDown({x:p,y:v})}),onPointerUp:ne(e.onPointerUp,o.onThumbPointerUp)})});sk.displayName=Kd;var m0="ScrollAreaCorner",rk=g.forwardRef((e,t)=>{const n=Jn(m0,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?a.jsx(F6,{...e,ref:t}):null});rk.displayName=m0;var F6=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,r=Jn(m0,n),[i,o]=g.useState(0),[l,c]=g.useState(0),u=!!(i&&l);return Ho(r.scrollbarX,()=>{var f;const d=((f=r.scrollbarX)==null?void 0:f.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),Ho(r.scrollbarY,()=>{var f;const d=((f=r.scrollbarY)==null?void 0:f.offsetWidth)||0;r.onCornerWidthChange(d),o(d)}),u?a.jsx(je.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qd(e){return e?parseInt(e,10):0}function ak(e,t){const n=e/t;return isNaN(n)?0:n}function dm(e){const t=ak(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function U6(e,t,n,s="ltr"){const r=dm(n),i=r/2,o=t||i,l=r-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=s==="ltr"?[0,d]:[d*-1,0];return ik([c,u],f)(e)}function ab(e,t,n="ltr"){const s=dm(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-r,o=t.content-t.viewport,l=i-s,c=n==="ltr"?[0,o]:[o*-1,0],u=D6(e,c);return ik([0,o],[0,l])(u)}function ik(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function ok(e,t){return e>0&&e<t}var V6=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function r(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function fm(e,t){const n=Ut(e),s=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),g.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Ho(e,t){const n=Ut(t);Ps(()=>{let s=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(s),r.unobserve(e)}}},[e,n])}var lk=K2,q6=J2,Z6=rk;const di=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(lk,{ref:s,className:H("relative overflow-hidden",e),...n,children:[a.jsx(q6,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(ck,{}),a.jsx(Z6,{})]}));di.displayName=lk.displayName;const ck=g.forwardRef(({className:e,orientation:t="vertical",...n},s)=>a.jsx(d0,{ref:s,orientation:t,className:H("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(sk,{className:"relative flex-1 rounded-full bg-border"})}));ck.displayName=d0.displayName;function G6({items:e,viewMode:t,onItemSelect:n,selectedItem:s,renderItemCard:r,className:i}){return a.jsxs("div",{className:`space-y-4 ${i}`,children:[t==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(o=>a.jsx("div",{onClick:()=>n(o),className:"cursor-pointer transition-transform hover:scale-[1.02] relative",children:r(o,(s==null?void 0:s.id)===o.id)},o.id))}):a.jsx(di,{className:"h-[calc(100vh-300px)]",children:a.jsx("div",{className:"space-y-1 pr-4",children:e.map(o=>a.jsx("div",{onClick:()=>n(o),className:"cursor-pointer transition-colors hover:bg-muted/50 rounded-lg",children:r(o,(s==null?void 0:s.id)===o.id)},o.id))})}),e.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No items found matching your criteria."})})]})}function Y6({categories:e,onSelect:t,className:n=""}){return a.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(s=>a.jsx("div",{className:"flex-1 min-w-[180px]",children:a.jsx(Ga,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))})}function X6({tags:e,onRemove:t,className:n=""}){return e.length===0?null:a.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(s=>a.jsxs(W,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.category,":"]}),a.jsx("span",{children:s.label}),a.jsx("button",{onClick:()=>t(s.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:a.jsx(_t,{className:"h-3 w-3"})})]},s.id))})}function uk({categories:e,onSelect:t,onCustomSearch:n,placeholder:s="Search by name, description, or abilities...",className:r=""}){const[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(""),[f,m]=g.useState(-1),h=g.useRef(null),p=g.useRef(null),v=e.length===1?e[0]:null;g.useEffect(()=>{const k=R=>{h.current&&!h.current.contains(R.target)&&(o(!1),c(null),m(-1))};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const b=l||v?(l||v).options.filter(k=>k.label&&typeof k.label=="string"&&k.label.toLowerCase().includes(u.toLowerCase())||k.description&&typeof k.description=="string"&&k.description.toLowerCase().includes(u.toLowerCase())):e.flatMap(k=>k.options.filter(R=>R.label&&typeof R.label=="string"&&R.label.toLowerCase().includes(u.toLowerCase())||R.description&&typeof R.description=="string"&&R.description.toLowerCase().includes(u.toLowerCase()))),x=k=>{d(k),o(!0),m(-1)},y=k=>{var R;c(k),d(""),(R=p.current)==null||R.focus()},j=k=>{t(k),d(""),c(null),o(!1),m(-1)},w=()=>{u.trim()&&(n(u.trim()),d(""),c(null),o(!1),m(-1))},N=k=>{k.key==="ArrowDown"?(k.preventDefault(),m(R=>Math.min(R+1,b.length-1))):k.key==="ArrowUp"?(k.preventDefault(),m(R=>Math.max(R-1,-1))):k.key==="Enter"?(k.preventDefault(),f>=0&&b[f]?j(b[f]):u.trim()&&w()):k.key==="Escape"&&(o(!1),c(null),m(-1))},E=()=>{o(!0)},S=l||v,_=!v&&!l,C=u.trim()&&!b.some(k=>k.label&&typeof k.label=="string"&&k.label.toLowerCase()===u.toLowerCase());return a.jsxs("div",{ref:h,className:`relative ${r}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(pr,{ref:p,type:"text",placeholder:S?S.placeholder:s,value:u,onChange:k=>x(k.target.value),onFocus:E,onKeyDown:N,className:"pl-10 pr-20"}),C&&a.jsx(q,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:w,title:"Add custom search term",children:a.jsx(oa,{className:"h-4 w-4"})}),a.jsx(q,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!i),children:a.jsx(tn,{className:`h-4 w-4 transition-transform ${i?"rotate-180":""}`})})]}),i&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:Lt.AUTOCOMPLETE+10},children:[_&&a.jsxs("div",{className:"p-2 border-b border-border",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(k=>a.jsxs("button",{onClick:()=>y(k),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[a.jsx("span",{children:k.name}),a.jsx(tn,{className:"h-4 w-4"})]},k.id))]}),C&&a.jsx("div",{className:"p-2 border-b border-border",children:a.jsxs("button",{onClick:w,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[a.jsx(oa,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),a.jsx("div",{className:"p-2",children:b.length===0&&!C?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):b.map((k,R)=>a.jsxs("button",{onClick:()=>j(k),className:`w-full text-left px-2 py-2 rounded text-sm ${R===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[a.jsx("div",{className:"font-medium",children:k.label}),k.description&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:k.description})]},k.id))})]})]})}function Aa({categories:e,onSelect:t,onCustomSearch:n,className:s=""}){const r=e.find(o=>o.id==="fuzzy-search"||o.id==="keywords"),i=e.filter(o=>o.id!=="fuzzy-search"&&o.id!=="keywords");return a.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${s}`,children:[r&&a.jsx("div",{className:"flex-1 min-w-[300px]",children:a.jsx(uk,{categories:[r],onSelect:t,onCustomSearch:n,placeholder:r.placeholder,className:"w-full"})}),i.map(o=>a.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:a.jsx(Ga,{categories:[o],onSelect:t,placeholder:o.placeholder,className:"w-full"})},o.id))]})}function W6({children:e,className:t=""}){return a.jsx("div",{className:`grid grid-cols-1 lg:grid-cols-6 gap-6 ${t}`,children:e})}function K6({children:e,className:t=""}){return a.jsx("div",{className:`lg:col-span-5 ${t}`,children:e})}function Q6({children:e,className:t=""}){return a.jsx("div",{className:`lg:col-span-1 ${t}`,children:a.jsx("div",{className:"sticky top-6",style:{zIndex:Lt.STICKY},children:e})})}function J6({title:e="Select an Item",description:t="Choose an item from the list to view its details"}){return a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 text-center",children:[a.jsx(ta,{className:"text-lg font-semibold mb-2",children:e}),a.jsx(xe,{className:"text-muted-foreground",children:t})]})}function e8({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:s,onTagRemove:r,onViewModeChange:i,children:o,className:l=""}){return a.jsxs("div",{className:`mb-8 space-y-4 ${l}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Y6,{categories:e,onSelect:s,className:"w-full"})}),i&&a.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[a.jsx(q,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>i("grid"),className:"h-8 px-3",children:a.jsx(wi,{className:"h-4 w-4"})}),a.jsx(q,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>i("list"),className:"h-8 px-3",children:a.jsx(Ea,{className:"h-4 w-4"})})]})]}),a.jsx(X6,{tags:t,onRemove:r,className:"justify-start"}),o&&a.jsx("div",{className:"pt-4",children:o})]})}class Xe{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.output=="string"&&Array.isArray(t.ingredients)&&Array.isArray(t.effects)}static equals(t,n){return t.name===n.name}static addComputedProperties(t){const n=t.effects.length>0,s=t.effects.length,r=t.ingredients.length,i=r>3||s>2,o=r<=2&&s<=1,l=t.effects.reduce((m,h)=>m+h.magnitude,0),c=Math.max(...t.effects.map(m=>m.duration),0),u=this.determineDifficulty(t,{ingredientCount:r,effectCount:s,isComplex:i,isSimple:o}),d=this.generateTags(t,{hasEffects:n,effectCount:s,ingredientCount:r,isComplex:i,isSimple:o,difficulty:u}),f=this.createSearchableText(t,d);return{...t,hasEffects:n,effectCount:s,ingredientCount:r,isComplex:i,isSimple:o,totalMagnitude:l,maxDuration:c,tags:d,searchableText:f,difficulty:u}}static determineDifficulty(t,n){return n.isSimple?"Simple":n.isComplex?"Complex":"Moderate"}static generateTags(t,n){const s=[];return t.category&&s.push(t.category),s.push(n.difficulty),n.hasEffects&&s.push("Has Effects"),n.ingredientCount===1?s.push("Single Ingredient"):n.ingredientCount<=3?s.push("Few Ingredients"):s.push("Many Ingredients"),n.effectCount===1?s.push("Single Effect"):n.effectCount<=2?s.push("Few Effects"):s.push("Many Effects"),t.effects.forEach(r=>{s.push(r.name)}),t.ingredients.forEach(r=>{s.push(r)}),[...new Set(s)]}static createSearchableText(t,n){const s=t.ingredients.map(i=>typeof i=="string"?i:i&&typeof i=="object"&&(i.item||i.name||i.label||i.id)||String(i));return[t.name,t.output,t.description||"",...s,...t.effects.map(i=>i.name),...t.effects.map(i=>i.description),...n].join(" ").toLowerCase()}static filterByCategory(t,n){return t.filter(s=>s.category===n)}static filterByCategories(t,n){return n.length===0?t:t.filter(s=>s.category&&n.includes(s.category))}static filterByDifficulty(t,n){return t.filter(s=>s.difficulty===n)}static filterByDifficulties(t,n){return n.length===0?t:t.filter(s=>n.includes(s.difficulty))}static filterByIngredientCount(t,n,s){return t.filter(r=>{const i=r.ingredientCount;return!(n!==null&&i<n||s!==null&&i>s)})}static filterByMagnitude(t,n,s){return t.filter(r=>{const i=r.totalMagnitude;return!(n!==null&&i<n||s!==null&&i>s)})}static filterByEffectProperties(t,n,s){return t.filter(r=>!(n!==null&&r.hasEffects!==n||s!==null&&r.isComplex!==s))}static filterByIngredients(t,n){return n.length===0?t:t.filter(s=>n.some(r=>s.ingredients.some(i=>(typeof i=="string"?i:i.item||i.name||i.label||i.id||String(i)).toLowerCase().includes(r.toLowerCase()))))}static filterByEffects(t,n){return n.length===0?t:t.filter(s=>n.some(r=>s.effects.some(i=>i.name.toLowerCase().includes(r.toLowerCase()))))}static search(t,n){if(!n.trim())return[];const s=n.toLowerCase().trim(),r=[];for(const i of t){const o=this.calculateSearchScore(i,s);if(o>0){const l=this.getMatchedFields(i,s);r.push({recipe:i,score:o,matchedFields:l})}}return r.sort((i,o)=>o.score-i.score)}static calculateSearchScore(t,n){var i;let s=0;const r=n.toLowerCase();return t.name.toLowerCase()===r&&(s+=100),t.output.toLowerCase()===r&&(s+=100),t.name.toLowerCase().includes(r)&&(s+=50),t.output.toLowerCase().includes(r)&&(s+=50),(i=t.description)!=null&&i.toLowerCase().includes(r)&&(s+=30),t.ingredients.forEach(o=>{const l=typeof o=="string"?o:o.item||o.name||o.label||o.id||String(o);l.toLowerCase()===r&&(s+=40),l.toLowerCase().includes(r)&&(s+=20)}),t.effects.forEach(o=>{o.name.toLowerCase()===r&&(s+=40),o.name.toLowerCase().includes(r)&&(s+=20),o.description.toLowerCase().includes(r)&&(s+=15)}),t.tags.forEach(o=>{o.toLowerCase()===r&&(s+=25),o.toLowerCase().includes(r)&&(s+=10)}),s}static getMatchedFields(t,n){var i;const s=[],r=n.toLowerCase();return t.name.toLowerCase().includes(r)&&s.push("name"),t.output.toLowerCase().includes(r)&&s.push("output"),(i=t.description)!=null&&i.toLowerCase().includes(r)&&s.push("description"),t.ingredients.forEach(o=>{(typeof o=="string"?o:o.item||o.name||o.label||o.id||String(o)).toLowerCase().includes(r)&&s.push("ingredients")}),t.effects.forEach(o=>{(o.name.toLowerCase().includes(r)||o.description.toLowerCase().includes(r))&&s.push("effects")}),[...new Set(s)]}static sort(t,n,s="asc"){return[...t].sort((i,o)=>{let l=0;switch(n){case"name":l=i.name.localeCompare(o.name);break;case"category":l=(i.category||"").localeCompare(o.category||"");break;case"difficulty":l=this.compareDifficulties(i.difficulty,o.difficulty);break;case"ingredientCount":l=i.ingredientCount-o.ingredientCount;break;case"effectCount":l=i.effectCount-o.effectCount;break;case"magnitude":l=i.totalMagnitude-o.totalMagnitude;break;case"duration":l=i.maxDuration-o.maxDuration;break}return s==="asc"?l:-l})}static compareDifficulties(t,n){const s={Simple:1,Moderate:2,Complex:3};return(s[t]||0)-(s[n]||0)}static getUniqueCategories(t){const n=t.map(s=>s.category).filter(s=>!!s);return[...new Set(n)].sort()}static getUniqueDifficulties(t){const n=t.map(s=>s.difficulty);return[...new Set(n)].sort((s,r)=>this.compareDifficulties(s,r))}static getUniqueEffects(t){const n=t.flatMap(s=>s.effects.map(r=>r.name));return[...new Set(n)].sort()}static getUniqueIngredients(t){const n=t.flatMap(s=>s.ingredients.map(r=>typeof r=="string"?r:r&&typeof r=="object"&&(r.item||r.name||r.label||r.id)||String(r)));return[...new Set(n)].filter(s=>s&&s!=="[object Object]").sort()}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static applyFilters(t,n){let s=[...t];return n.searchTerm.trim()&&(s=this.search(s,n.searchTerm).map(i=>i.recipe)),n.categories.length>0&&(s=this.filterByCategories(s,n.categories)),n.difficulties.length>0&&(s=this.filterByDifficulties(s,n.difficulties)),n.ingredients.length>0&&(s=this.filterByIngredients(s,n.ingredients)),n.effects.length>0&&(s=this.filterByEffects(s,n.effects)),s=this.filterByEffectProperties(s,n.hasEffects,n.isComplex),s=this.filterByIngredientCount(s,n.minIngredientCount,n.maxIngredientCount),s=this.filterByMagnitude(s,n.minMagnitude,n.maxMagnitude),s}static getStatistics(t){const n=t.length,s=t.filter(w=>w.type==="food").length,r=t.filter(w=>w.type==="alcohol").length,i={};t.forEach(w=>{w.category&&(i[w.category]=(i[w.category]||0)+1)});const o={};t.forEach(w=>{o[w.difficulty]=(o[w.difficulty]||0)+1});const l={};t.forEach(w=>{w.effects.forEach(N=>{l[N.name]=(l[N.name]||0)+1})});const c=t.reduce((w,N)=>w+N.ingredientCount,0),u=t.reduce((w,N)=>w+N.effectCount,0),d=n>0?c/n:0,f=n>0?u/n:0,m=t.reduce((w,N)=>w+N.totalMagnitude,0),h=t.reduce((w,N)=>w+N.maxDuration,0),p=n>0?m/n:0,v=n>0?h/n:0,b={};t.forEach(w=>{w.ingredients.forEach(N=>{b[N]=(b[N]||0)+1})});const x=Object.entries(b).map(([w,N])=>({name:w,count:N})).sort((w,N)=>N.count-w.count).slice(0,10),y={};t.forEach(w=>{w.effects.forEach(N=>{y[N.name]=(y[N.name]||0)+1})});const j=Object.entries(y).map(([w,N])=>({name:w,count:N})).sort((w,N)=>N.count-w.count).slice(0,10);return{totalRecipes:n,foodRecipes:s,alcoholRecipes:r,recipesByCategory:i,recipesByDifficulty:o,recipesByEffect:l,averageIngredientCount:d,averageEffectCount:f,averageMagnitude:p,averageDuration:v,topEffects:j,topIngredients:x}}static getEffectComparisons(t,n){const s={};return n.forEach(r=>{r.effects.forEach(i=>{s[i.name]||(s[i.name]={magnitudeSum:0,durationSum:0,count:0}),s[i.name].magnitudeSum+=i.magnitude,s[i.name].durationSum+=i.duration,s[i.name].count+=1})}),t.effects.map(r=>{const i=s[r.name],o=i.count>0?i.magnitudeSum/i.count:0,l=i.count>0?i.durationSum/i.count:0,c=r.magnitude-o,u=r.duration-l;return{name:r.name,magnitude:{value:r.magnitude,mean:o,difference:c,percentage:o>0?c/o*100:0},duration:{value:r.duration,mean:l,difference:u,percentage:l>0?u/l*100:0}}})}}const qa=class qa{constructor(){Ge(this,"cache",null);Ge(this,"lastFetch",0);Ge(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return qa.instance||(qa.instance=new qa),qa.instance}async loadRecipes(){var t;if(this.cache&&Date.now()-this.lastFetch<this.CACHE_DURATION)return this.cache;try{const n=hn("data/cookbook-wiki.json"),s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch recipes: ${s.status} ${s.statusText}`);const r=await s.json(),i=[];if(console.log("RecipeDataProvider: Raw data keys:",Object.keys(r)),r.food&&Array.isArray(r.food)?(console.log("RecipeDataProvider: Found",r.food.length,"food recipes"),i.push(...r.food)):r.food&&typeof r.food=="object"&&(console.log("RecipeDataProvider: Food section is an object, checking for recipes property"),r.food.recipes&&Array.isArray(r.food.recipes)&&(console.log("RecipeDataProvider: Found",r.food.recipes.length,"food recipes in recipes property"),i.push(...r.food.recipes))),r.alcohol&&Array.isArray(r.alcohol)?(console.log("RecipeDataProvider: Found",r.alcohol.length,"alcohol recipes"),i.push(...r.alcohol)):r.alcohol&&typeof r.alcohol=="object"&&(console.log("RecipeDataProvider: Alcohol section is an object, checking for recipes property"),r.alcohol.recipes&&Array.isArray(r.alcohol.recipes)&&(console.log("RecipeDataProvider: Found",r.alcohol.recipes.length,"alcohol recipes in recipes property"),i.push(...r.alcohol.recipes))),i.length===0){console.log("RecipeDataProvider: No recipes found in food/alcohol sections, trying fallback");const u=((t=r.food)==null?void 0:t.recipes)||r.recipes||r;Array.isArray(u)&&(console.log("RecipeDataProvider: Found",u.length,"recipes in fallback data"),i.push(...u))}if(!Array.isArray(i)||i.length===0)throw new Error("RecipeDataProvider: No valid recipes found in data structure");const o=[];let l=0,c=0;for(const u of i)if(Xe.isValid(u)){const d=Xe.addComputedProperties(u);o.push(d),l++}else console.warn("RecipeDataProvider: Invalid recipe data:",u),c++;return this.cache=o,this.lastFetch=Date.now(),console.log(`RecipeDataProvider: Loaded ${l} valid recipes, ${c} invalid recipes`),o}catch(n){throw console.error("RecipeDataProvider: Error loading recipes:",n),n}}async getRecipeData(){console.log("RecipeDataProvider: getRecipeData called");const t=await this.loadRecipes();console.log("RecipeDataProvider: Getting statistics for",t.length,"recipes");const n=Xe.getStatistics(t),s={recipes:t,totalCount:n.totalRecipes,categories:Xe.getUniqueCategories(t),effects:Xe.getUniqueEffects(t),ingredients:Xe.getUniqueIngredients(t),lastUpdated:new Date().toISOString()};return console.log("RecipeDataProvider: getRecipeData result:",{recipesCount:s.recipes.length,totalCount:s.totalCount,categories:s.categories,effects:s.effects,ingredients:s.ingredients}),s}async getRecipeByName(t){return(await this.loadRecipes()).find(s=>s.name===t)||null}async getRecipesByCategory(t){const n=await this.loadRecipes();return Xe.filterByCategory(n,t)}async getRecipesByDifficulty(t){const n=await this.loadRecipes();return Xe.filterByDifficulty(n,t)}async getRecipesByIngredient(t){const n=await this.loadRecipes();return Xe.filterByIngredients(n,[t])}async getRecipesByEffect(t){const n=await this.loadRecipes();return Xe.filterByEffects(n,[t])}async searchRecipes(t){const n=await this.loadRecipes();return Xe.search(n,t).map(r=>r.recipe)}async getStatistics(){const t=await this.loadRecipes();return Xe.getStatistics(t)}clearCache(){this.cache=null,this.lastFetch=0,console.log("RecipeDataProvider: Cache cleared")}isCacheValid(){return this.cache!==null&&Date.now()-this.lastFetch<this.CACHE_DURATION}getCacheInfo(){var t;return{hasCache:this.cache!==null,cacheSize:((t=this.cache)==null?void 0:t.length)||0,lastFetch:this.lastFetch,isExpired:this.cache!==null&&Date.now()-this.lastFetch>=this.CACHE_DURATION,timeUntilExpiry:this.cache?Math.max(0,this.CACHE_DURATION-(Date.now()-this.lastFetch)):0}}};Ge(qa,"instance");let Hg=qa;const ar=fs((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const r=await Hg.getInstance().loadRecipes();e({data:r,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load recipes",loading:!1})}}},getById:n=>t().data.find(r=>r.name===n),getByName:n=>t().data.find(r=>r.name===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l,c,u,d,f;return i.name.toLowerCase().includes(r)||i.output.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.category)==null?void 0:l.toLowerCase().includes(r))||((c=i.difficulty)==null?void 0:c.toLowerCase().includes(r))||((u=i.tags)==null?void 0:u.some(m=>m.toLowerCase().includes(r)))||((d=i.ingredients)==null?void 0:d.some(m=>m.toLowerCase().includes(r)))||((f=i.effects)==null?void 0:f.some(m=>{var h;return m.name.toLowerCase().includes(r)||((h=m.description)==null?void 0:h.toLowerCase().includes(r))}))})},getByCategory:n=>t().data.filter(r=>r.category===n),getByDifficulty:n=>t().data.filter(r=>r.difficulty===n),getByIngredient:n=>t().data.filter(r=>r.ingredients.some(i=>i.toLowerCase().includes(n.toLowerCase()))),getByEffect:n=>t().data.filter(r=>r.effects.some(i=>i.name.toLowerCase().includes(n.toLowerCase())))})),t8=Object.freeze(Object.defineProperty({__proto__:null,useRecipesStore:ar},Symbol.toStringTag,{value:"Module"}));class $a{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.editorId=="string"&&typeof t.school=="string"&&typeof t.level=="string"&&typeof t.magickaCost=="number"&&Array.isArray(t.effects)}static equals(t,n){return t.editorId===n.editorId}static addComputedProperties(t){const n=t.effects.length>0,s=t.effects.length,r=t.effects.some(m=>m.area>0),i=t.effects.some(m=>m.duration>0),o=t.effects.every(m=>m.duration===0),l=t.effects.reduce((m,h)=>m+h.magnitude,0),c=Math.max(...t.effects.map(m=>m.duration),0),u=Math.max(...t.effects.map(m=>m.area),0),d=this.generateTags(t,{hasEffects:n,isAreaSpell:r,isDurationSpell:i,isInstantSpell:o}),f=this.createSearchableText(t,d);return{...t,hasEffects:n,effectCount:s,isAreaSpell:r,isDurationSpell:i,isInstantSpell:o,totalMagnitude:l,maxDuration:c,maxArea:u,tags:d,searchableText:f}}static generateTags(t,n){const s=[];return s.push(t.school),s.push(t.level),n.hasEffects&&s.push("Has Effects"),n.isAreaSpell&&s.push("Area Effect"),n.isDurationSpell&&s.push("Duration"),n.isInstantSpell&&s.push("Instant"),t.magickaCost===0?s.push("Free"):t.magickaCost<=50?s.push("Low Cost"):t.magickaCost<=150?s.push("Medium Cost"):s.push("High Cost"),t.effects.forEach(r=>{r.name.toLowerCase().includes("fire")&&s.push("Fire"),(r.name.toLowerCase().includes("frost")||r.name.toLowerCase().includes("ice"))&&s.push("Frost"),(r.name.toLowerCase().includes("shock")||r.name.toLowerCase().includes("lightning"))&&s.push("Shock"),(r.name.toLowerCase().includes("heal")||r.name.toLowerCase().includes("restore"))&&s.push("Healing"),(r.name.toLowerCase().includes("conjure")||r.name.toLowerCase().includes("summon"))&&s.push("Conjuration"),(r.name.toLowerCase().includes("fear")||r.name.toLowerCase().includes("calm"))&&s.push("Illusion"),(r.name.toLowerCase().includes("paralyze")||r.name.toLowerCase().includes("slow"))&&s.push("Control")}),[...new Set(s)]}static createSearchableText(t,n){return[t.name,t.school,t.level,t.description,...n,...t.effects.map(r=>r.name),...t.effects.map(r=>r.description)].join(" ").toLowerCase()}static filterBySchool(t,n){return t.filter(s=>s.school===n)}static filterByLevel(t,n){return t.filter(s=>s.level===n)}static filterBySchools(t,n){return n.length===0?t:t.filter(s=>n.includes(s.school))}static filterByLevels(t,n){return n.length===0?t:t.filter(s=>n.includes(s.level))}static filterByMagickaCost(t,n,s){return t.filter(r=>!(n!==null&&r.magickaCost<n||s!==null&&r.magickaCost>s))}static filterByMagnitude(t,n,s){return t.filter(r=>!(n!==null&&r.totalMagnitude<n||s!==null&&r.totalMagnitude>s))}static filterByEffectProperties(t,n,s,r){return t.filter(i=>!(n!==null&&i.hasEffects!==n||s!==null&&i.isAreaSpell!==s||r!==null&&i.isDurationSpell!==r))}static search(t,n){if(!n.trim())return t.map(i=>({spell:i,score:1,matchedFields:[]}));const s=n.toLowerCase(),r=[];return t.forEach(i=>{let o=0;const l=[];i.name.toLowerCase()===s?(o+=100,l.push("name")):i.name.toLowerCase().includes(s)&&(o+=50,l.push("name")),i.school.toLowerCase()===s?(o+=30,l.push("school")):i.school.toLowerCase().includes(s)&&(o+=15,l.push("school")),i.level.toLowerCase()===s?(o+=25,l.push("level")):i.level.toLowerCase().includes(s)&&(o+=10,l.push("level")),i.description.toLowerCase().includes(s)&&(o+=5,l.push("description")),i.tags.forEach(c=>{c.toLowerCase().includes(s)&&(o+=3,l.push("tags"))}),i.effects.forEach(c=>{c.name.toLowerCase().includes(s)&&(o+=8,l.push("effects")),c.description.toLowerCase().includes(s)&&(o+=4,l.push("effects"))}),o>0&&r.push({spell:i,score:o,matchedFields:[...new Set(l)]})}),r.sort((i,o)=>o.score-i.score)}static sort(t,n,s="asc"){return[...t].sort((i,o)=>{let l=0;switch(n){case"name":l=i.name.localeCompare(o.name);break;case"school":l=i.school.localeCompare(o.school);break;case"level":l=this.compareLevels(i.level,o.level);break;case"magickaCost":l=i.magickaCost-o.magickaCost;break;case"magnitude":l=i.totalMagnitude-o.totalMagnitude;break;case"duration":l=i.maxDuration-o.maxDuration;break}return s==="desc"?-l:l})}static compareLevels(t,n){const s=["Novice","Apprentice","Adept","Expert","Master"],r=s.indexOf(t),i=s.indexOf(n);return r===-1&&i===-1?0:r===-1?1:i===-1?-1:r-i}static getUniqueSchools(t){return[...new Set(t.map(n=>n.school))].sort()}static getUniqueLevels(t){const n=[...new Set(t.map(s=>s.level))];return this.sortLevels(n)}static sortLevels(t){const n=["Novice","Apprentice","Adept","Expert","Master"];return t.sort((s,r)=>{const i=n.indexOf(s),o=n.indexOf(r);return i===-1&&o===-1?0:i===-1?1:o===-1?-1:i-o})}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static applyFilters(t,n){let s=[...t];return n.schools.length>0&&(s=this.filterBySchools(s,n.schools)),n.levels.length>0&&(s=this.filterByLevels(s,n.levels)),s=this.filterByEffectProperties(s,n.hasEffects,n.isAreaSpell,n.isDurationSpell),s=this.filterByMagickaCost(s,n.minMagickaCost,n.maxMagickaCost),s=this.filterByMagnitude(s,n.minMagnitude,n.maxMagnitude),n.searchTerm&&(s=this.search(s,n.searchTerm).map(i=>i.spell)),s}static getStatistics(t){const n=this.getUniqueSchools(t),s=this.getUniqueLevels(t),r=this.getUniqueTags(t),i=t.length,o=t.filter(m=>m.hasEffects).length,l=t.filter(m=>m.isAreaSpell).length,c=t.filter(m=>m.isDurationSpell).length,u=t.filter(m=>m.magickaCost===0).length,d=t.length>0?t.reduce((m,h)=>m+h.magickaCost,0)/t.length:0,f=t.length>0?t.reduce((m,h)=>m+h.totalMagnitude,0)/t.length:0;return{totalSpells:i,spellsWithEffects:o,areaSpells:l,durationSpells:c,freeSpells:u,avgMagickaCost:Math.round(d),avgMagnitude:Math.round(f),schools:n,levels:s,tags:r}}}const Za=class Za{constructor(){Ge(this,"cache",null);Ge(this,"lastFetch",0);Ge(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return Za.instance||(Za.instance=new Za),Za.instance}async loadSpells(){if(this.cache&&Date.now()-this.lastFetch<this.CACHE_DURATION)return this.cache;try{const t=hn("data/player_spells.json"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch spells: ${n.status} ${n.statusText}`);const s=await n.json(),r=[];let i=0,o=0;for(const l of s)if($a.isValid(l)){const c=$a.addComputedProperties(l);r.push(c),i++}else console.warn("SpellDataProvider: Invalid spell data:",l),o++;return this.cache=r,this.lastFetch=Date.now(),r}catch(t){throw console.error("SpellDataProvider: Error loading spells:",t),t}}async getSpellData(){console.log("SpellDataProvider: getSpellData called");const t=await this.loadSpells();console.log("SpellDataProvider: Getting statistics for",t.length,"spells");const n=$a.getStatistics(t),s={spells:t,totalCount:n.totalSpells,schools:n.schools,levels:n.levels,lastUpdated:new Date().toISOString()};return console.log("SpellDataProvider: getSpellData result:",{spellsCount:s.spells.length,totalCount:s.totalCount,schools:s.schools,levels:s.levels}),s}async getSpellByEditorId(t){return(await this.loadSpells()).find(s=>s.editorId===t)||null}async getSpellsBySchool(t){const n=await this.loadSpells();return $a.filterBySchool(n,t)}async getSpellsByLevel(t){const n=await this.loadSpells();return $a.filterByLevel(n,t)}async searchSpells(t){const n=await this.loadSpells();return $a.search(n,t).map(r=>r.spell)}async getStatistics(){const t=await this.loadSpells();return $a.getStatistics(t)}clearCache(){console.log("SpellDataProvider: Clearing cache"),this.cache=null,this.lastFetch=0}isCacheValid(){return this.cache!==null&&Date.now()-this.lastFetch<this.CACHE_DURATION}getCacheInfo(){var t;return{hasCache:this.cache!==null,cacheSize:((t=this.cache)==null?void 0:t.length)||0,lastFetch:this.lastFetch,isValid:this.isCacheValid()}}};Ge(Za,"instance");let Jd=Za;const n8=Object.freeze(Object.defineProperty({__proto__:null,SpellDataProvider:Jd},Symbol.toStringTag,{value:"Module"})),no=fs((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const r=await Jd.getInstance().loadSpells();e({data:r,loading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load spells",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),getByEditorId:n=>t().data.find(r=>r.editorId===n),search:n=>{const s=t(),r=n.toLowerCase();return s.data.filter(i=>{var o,l,c,u,d;return i.name.toLowerCase().includes(r)||((o=i.description)==null?void 0:o.toLowerCase().includes(r))||((l=i.school)==null?void 0:l.toLowerCase().includes(r))||((c=i.level)==null?void 0:c.toLowerCase().includes(r))||((u=i.tags)==null?void 0:u.some(f=>f.toLowerCase().includes(r)))||((d=i.effects)==null?void 0:d.some(f=>{var m;return f.name.toLowerCase().includes(r)||((m=f.description)==null?void 0:m.toLowerCase().includes(r))}))})},getBySchool:n=>t().data.filter(r=>r.school===n),getByLevel:n=>t().data.filter(r=>r.level===n)}));function s8(){const{data:e,loading:t,error:n}=ki();return{data:e.length>0?e:null,loading:t,error:n}}function r8(){const{data:e,loading:t,error:n}=Ci();return{data:e.length>0?e:null,loading:t,error:n}}function dk(){const{data:e,loading:t,error:n}=hl();return{data:e.length>0?e:null,loading:t,error:n}}function a8(){const{data:e,loading:t,error:n}=Si();return{data:e.length>0?e:null,loading:t,error:n}}function i8(){const{data:e,loading:t,error:n}=ml();return{data:e.length>0?e:null,loading:t,error:n}}function h0(){const{data:e,loading:t,error:n}=Ni();return{data:e.length>0?e:null,loading:t,error:n}}function he({children:e,className:t,expanded:n,onToggle:s,disableHover:r=!1,hideChevron:i=!1}){let o,l,c,u;P.Children.forEach(e,v=>{P.isValidElement(v)&&(v.type===he.Header&&(o=v),v.type===he.Summary&&(l=v),v.type===he.Footer&&(c=v),v.type===he.Details&&(u=v))});const[d,f]=g.useState(!1),m=n!==void 0?n:d,h=s||(()=>f(v=>!v)),p=r?"":"hover:shadow-md hover:scale-[1.02]";return a.jsxs("div",{className:H("rounded-lg border bg-background shadow-sm transition-all duration-200 flex flex-col",p,t),children:[o&&P.cloneElement(o,{onClick:h,expanded:m,hideChevron:i}),a.jsxs("div",{className:"flex-1",children:[l,m&&u]}),c]})}he.Header=function({children:t,className:n,onClick:s,expanded:r,hideChevron:i=!1}){const o=()=>{s==null||s()};return a.jsxs("div",{className:H("flex items-center gap-3 px-4 py-3 bg-muted/30 cursor-pointer select-none hover:bg-muted/50 transition-colors duration-200 rounded-t-lg",r&&"bg-muted/50",n),onClick:o,tabIndex:0,role:"button","aria-expanded":r,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),o())},children:[t,!i&&a.jsx("span",{className:H("ml-auto transition-transform duration-200 text-muted-foreground",r?"rotate-180":""),children:a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:a.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};he.Summary=function({children:t,className:n}){return a.jsx("div",{className:H("px-4 py-2 space-y-3",n),children:t})};he.Footer=function({children:t,className:n}){return a.jsx("div",{className:H("px-4 py-2",n),children:t})};he.Details=function({children:t,className:n}){return a.jsx("div",{className:H("px-4 py-4 space-y-4 bg-background rounded-b-lg",n),children:t})};const ib={Warrior:{background:"bg-red-200",text:"text-red-800",border:"border-red-300",hover:"hover:bg-red-300"},Mage:{background:"bg-blue-200",text:"text-blue-800",border:"border-blue-300",hover:"hover:bg-blue-300"},Thief:{background:"bg-green-200",text:"text-green-800",border:"border-green-300",hover:"hover:bg-green-300"},Serpent:{background:"bg-purple-200",text:"text-purple-800",border:"border-purple-300",hover:"hover:bg-purple-300"},Other:{background:"bg-yellow-200",text:"text-yellow-800",border:"border-yellow-300",hover:"hover:bg-yellow-300"}};function o8(e){return ib[e]||ib.Other}function l8({className:e="",threshold:t=300}){const[n,s]=g.useState(!1);g.useEffect(()=>{const i=()=>{window.pageYOffset>t?s(!0):s(!1)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[t]);const r=i=>{i.preventDefault(),i.stopPropagation(),window.scrollTo({top:0,behavior:"smooth"})};return n?a.jsx("div",{className:`fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 cursor-pointer ${e}`,onClick:i=>i.stopPropagation(),onMouseEnter:i=>i.stopPropagation(),onMouseLeave:i=>i.stopPropagation(),children:a.jsxs(q,{onClick:r,size:"default",variant:"outline",className:"flex items-center gap-2 shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out transform hover:scale-110 bg-skyrim-gold/90 hover:bg-skyrim-gold text-skyrim-dark border-skyrim-gold hover:border-skyrim-gold backdrop-blur supports-[backdrop-filter]:bg-skyrim-gold/80 hover:supports-[backdrop-filter]:bg-skyrim-gold/95 cursor-pointer",children:[a.jsx($N,{className:"h-5 w-5 transition-transform duration-300 ease-in-out group-hover:translate-y-[-2px]"}),"Back to top"]})}):null}const c8={race:{Human:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Elf:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Beast:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},religion:{Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Tribunal:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Ancestor:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},trait:{},destiny:{}},u8={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},d8="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function fk({category:e,categoryType:t,size:n="md",className:s}){const i=c8[t][e]||d8;return a.jsx(W,{variant:"outline",className:H(i,u8[n],"font-medium transition-colors",s),children:e})}const ob={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16","2xl":"w-16 h-16","3xl":"w-24 h-24","4xl":"w-32 h-32"},f8={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl","2xl":"text-3xl","3xl":"text-3xl","4xl":"text-4xl"};function mm({imgSrc:e,alt:t,size:n="md",className:s,imageClassName:r,showBorder:i=!1}){const[o,l]=P.useState(!1);return!e||o?a.jsx("div",{className:H("bg-white dark:bg-white text-black dark:text-black rounded-full flex items-center justify-center font-bold",ob[n],s),children:a.jsx("span",{className:H(f8[n]),children:t.charAt(0)})}):a.jsxs("div",{className:H("rounded-full flex items-center justify-center relative","bg-white dark:bg-white",ob[n],s),children:[i&&a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-black dark:border-white pointer-events-none"}),a.jsx("img",{src:e,alt:t,className:H(i?"w-3/4 h-3/4 object-contain":"w-full h-full object-contain",r),onError:()=>l(!0),loading:"lazy"})]})}function m8({isExpanded:e,onToggle:t,className:n,leftControls:s,header:r,collapsedContent:i,expandedContent:o,actionArea:l,children:c}){return c?a.jsx("div",{className:H("rounded-lg border bg-background shadow-sm transition-all",n),children:c}):a.jsxs("div",{className:H("rounded-lg border bg-background shadow-sm transition-all group",e?"ring-2 ring-skyrim-gold/60":"",n),children:[a.jsxs("div",{className:"flex items-start",children:[s&&a.jsx("div",{className:"mr-2 flex-shrink-0",children:s}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r&&a.jsx("div",{className:"flex-1 min-w-0",children:r}),a.jsxs("button",{type:"button",onClick:t,"aria-expanded":e,className:"ml-2 p-1 rounded hover:bg-muted/50 focus:outline-none focus:ring-2 focus:ring-skyrim-gold",tabIndex:0,children:[a.jsx("span",{className:"sr-only",children:e?"Collapse":"Expand"}),a.jsx("svg",{className:H("h-4 w-4 transition-transform",e?"rotate-90":""),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:a.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})}),l&&a.jsx("div",{className:"ml-2 flex-shrink-0",children:l})]}),i&&a.jsx("div",{className:"mt-2",children:i}),e&&o&&a.jsx("div",{className:"mt-4",children:o})]})}function au({options:e,onSelect:t,placeholder:n="Search...",className:s="",disabled:r=!1,searchQuery:i,onSearchQueryChange:o,renderOption:l,emptyMessage:c="No options found",maxHeight:u="max-h-96",showClearButton:d=!0,showToggleButton:f=!0}){const[m,h]=g.useState(!1),[p,v]=g.useState(""),[b,x]=g.useState(-1),y=g.useRef(null),j=g.useRef(null),w=i??p,N=o??v;g.useEffect(()=>{const z=A=>{y.current&&!y.current.contains(A.target)&&(h(!1),x(-1))};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const E=z=>{N(z),h(!0),x(-1)},S=z=>{t(z),N(""),h(!1),x(-1)},_=z=>{z.key==="ArrowDown"?(z.preventDefault(),x(A=>Math.min(A+1,e.length-1))):z.key==="ArrowUp"?(z.preventDefault(),x(A=>Math.max(A-1,-1))):z.key==="Enter"?(z.preventDefault(),b>=0&&e[b]&&S(e[b])):z.key==="Escape"&&(h(!1),x(-1))},C=()=>{h(!0)},k=()=>{var z;N(""),(z=j.current)==null||z.focus()},R=()=>{var z;h(!m),m||(z=j.current)==null||z.focus()},O=(z,A)=>a.jsxs("div",{className:"flex items-center gap-3",children:[z.icon&&a.jsx("div",{className:"flex-shrink-0",children:z.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium truncate",children:z.label}),z.badge&&a.jsx("div",{className:"flex-shrink-0",children:z.badge})]}),z.description&&a.jsx(De,{text:z.description,className:"text-sm text-muted-foreground line-clamp-2 mt-1"})]})]});return a.jsxs("div",{ref:y,className:H("relative",s),children:[a.jsxs("div",{className:"relative",children:[a.jsx(pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(pr,{ref:j,type:"text",placeholder:n,value:w,onChange:z=>E(z.target.value),onFocus:C,onKeyDown:_,className:"pl-10 pr-20",disabled:r}),d&&w&&a.jsx(q,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:k,disabled:r,children:a.jsx(_t,{className:"h-4 w-4"})}),f&&a.jsx(q,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:R,disabled:r,children:a.jsx(tn,{className:H("h-4 w-4 transition-transform",m&&"rotate-180")})})]}),m&&a.jsx("div",{className:H("absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",u),style:{zIndex:Lt.AUTOCOMPLETE+10},children:a.jsx("div",{className:"p-2",children:e.length===0?a.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:c}):e.map((z,A)=>a.jsx("button",{onClick:()=>S(z),className:H("w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer",A===b?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"),disabled:r,children:l?l(z,A===b):O(z)},z.id))})})]})}function mk(e="(max-width: 640px)"){const t=()=>typeof window>"u"||typeof window.matchMedia>"u"?!1:window.matchMedia(e).matches,[n,s]=g.useState(t);return g.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia>"u")return;const r=window.matchMedia(e),i=()=>s(r.matches);return s(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),n}function vl({open:e,onOpenChange:t,title:n,description:s,side:r="right",className:i,mobileQuery:o="(max-width: 640px)",resetKey:l,children:c}){const u=mk(o),d=g.useRef(null);g.useEffect(()=>{e&&d.current&&(d.current.scrollTop=0)},[e,u]),g.useEffect(()=>{e&&d.current&&(d.current.scrollTop=0)},[l]);const f=H("flex flex-col",u?"inset-0 top-0 left-0 right-0 bottom-0 h-[100dvh] max-h-[100dvh] w-[100vw] p-0 rounded-none border-0 overflow-hidden":"w-[450px] sm:w-[800px] lg:w-[800px] sm:!max-w-[800px] lg:!max-w-[800px] p-0 overflow-y-auto bg-background",i);return a.jsx(Po,{open:e,onOpenChange:t,children:a.jsxs(li,{side:u?"bottom":r,className:f,children:[(n||s)&&a.jsx("div",{className:H("sticky top-0 z-10 bg-background border-b","p-4"),children:a.jsxs(Oo,{className:"p-0",children:[n&&a.jsx(Bo,{children:n}),s&&a.jsx(Fx,{children:s})]})}),a.jsx("div",{ref:d,className:H("flex-1 overflow-y-auto overscroll-contain",u?"p-4":"p-6"),children:c})]})})}const h8={Warrior:"Warrior.svg",Lady:"Lady.svg",Lord:"Lord.svg",Steed:"Steed.svg",Mage:"Mage.svg",Apprentice:"Apprentice.svg",Atronach:"Atronach.svg",Ritual:"Ritual.svg",Thief:"Thief.svg",Lover:"Lover.svg",Shadow:"Shadow.svg",Tower:"Tower.svg",Serpent:"Serpent.svg"};function g0({birthsignName:e,size:t="md",className:n}){const s=h8[e],r=s?hn(`assets/sign-avatar/${s}`):void 0;return a.jsx(mm,{imgSrc:r,alt:e,size:t,className:n,imageClassName:"scale-125"})}function Sr(e){return Array.isArray?Array.isArray(e):pk(e)==="[object Array]"}function g8(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function p8(e){return e==null?"":g8(e)}function Ts(e){return typeof e=="string"}function hk(e){return typeof e=="number"}function x8(e){return e===!0||e===!1||v8(e)&&pk(e)=="[object Boolean]"}function gk(e){return typeof e=="object"}function v8(e){return gk(e)&&e!==null}function Nn(e){return e!=null}function ph(e){return!e.trim().length}function pk(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const y8="Incorrect 'index' type",b8=e=>`Invalid value for key ${e}`,w8=e=>`Pattern length exceeds max of ${e}.`,j8=e=>`Missing ${e} property in key`,N8=e=>`Property 'weight' in key '${e}' must be a positive integer`,lb=Object.prototype.hasOwnProperty;class S8{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let r=xk(s);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function xk(e){let t=null,n=null,s=null,r=1,i=null;if(Ts(e)||Sr(e))s=e,t=cb(e),n=Fg(e);else{if(!lb.call(e,"name"))throw new Error(j8("name"));const o=e.name;if(s=o,lb.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(N8(o));t=cb(o),n=Fg(o),i=e.getFn}return{path:t,id:n,weight:r,src:s,getFn:i}}function cb(e){return Sr(e)?e:e.split(".")}function Fg(e){return Sr(e)?e.join("."):e}function k8(e,t){let n=[],s=!1;const r=(i,o,l)=>{if(Nn(i))if(!o[l])n.push(i);else{let c=o[l];const u=i[c];if(!Nn(u))return;if(l===o.length-1&&(Ts(u)||hk(u)||x8(u)))n.push(p8(u));else if(Sr(u)){s=!0;for(let d=0,f=u.length;d<f;d+=1)r(u[d],o,l+1)}else o.length&&r(u,o,l+1)}};return r(e,Ts(t)?t.split("."):t,0),s?n:n[0]}const C8={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},E8={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},_8={location:0,threshold:.6,distance:100},A8={useExtendedSearch:!1,getFn:k8,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var me={...E8,...C8,..._8,...A8};const T8=/[^ ]+/g;function M8(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(r){const i=r.match(T8).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),l=parseFloat(Math.round(o*s)/s);return n.set(i,l),l},clear(){n.clear()}}}class p0{constructor({getFn:t=me.getFn,fieldNormWeight:n=me.fieldNormWeight}={}){this.norm=M8(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ts(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Ts(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Nn(t)||ph(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((r,i)=>{let o=r.getFn?r.getFn(t):this.getFn(t,r.path);if(Nn(o)){if(Sr(o)){let l=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(Nn(d))if(Ts(d)&&!ph(d)){let f={v:d,i:u,n:this.norm.get(d)};l.push(f)}else Sr(d)&&d.forEach((f,m)=>{c.push({nestedArrIndex:m,value:f})})}s.$[i]=l}else if(Ts(o)&&!ph(o)){let l={v:o,n:this.norm.get(o)};s.$[i]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function vk(e,t,{getFn:n=me.getFn,fieldNormWeight:s=me.fieldNormWeight}={}){const r=new p0({getFn:n,fieldNormWeight:s});return r.setKeys(e.map(xk)),r.setSources(t),r.create(),r}function R8(e,{getFn:t=me.getFn,fieldNormWeight:n=me.fieldNormWeight}={}){const{keys:s,records:r}=e,i=new p0({getFn:t,fieldNormWeight:n});return i.setKeys(s),i.setIndexRecords(r),i}function Hu(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:r=me.distance,ignoreLocation:i=me.ignoreLocation}={}){const o=t/e.length;if(i)return o;const l=Math.abs(s-n);return r?o+l/r:l?1:o}function D8(e=[],t=me.minMatchCharLength){let n=[],s=-1,r=-1,i=0;for(let o=e.length;i<o;i+=1){let l=e[i];l&&s===-1?s=i:!l&&s!==-1&&(r=i-1,r-s+1>=t&&n.push([s,r]),s=-1)}return e[i-1]&&i-s>=t&&n.push([s,i-1]),n}const Ua=32;function z8(e,t,n,{location:s=me.location,distance:r=me.distance,threshold:i=me.threshold,findAllMatches:o=me.findAllMatches,minMatchCharLength:l=me.minMatchCharLength,includeMatches:c=me.includeMatches,ignoreLocation:u=me.ignoreLocation}={}){if(t.length>Ua)throw new Error(w8(Ua));const d=t.length,f=e.length,m=Math.max(0,Math.min(s,f));let h=i,p=m;const v=l>1||c,b=v?Array(f):[];let x;for(;(x=e.indexOf(t,p))>-1;){let S=Hu(t,{currentLocation:x,expectedLocation:m,distance:r,ignoreLocation:u});if(h=Math.min(S,h),p=x+d,v){let _=0;for(;_<d;)b[x+_]=1,_+=1}}p=-1;let y=[],j=1,w=d+f;const N=1<<d-1;for(let S=0;S<d;S+=1){let _=0,C=w;for(;_<C;)Hu(t,{errors:S,currentLocation:m+C,expectedLocation:m,distance:r,ignoreLocation:u})<=h?_=C:w=C,C=Math.floor((w-_)/2+_);w=C;let k=Math.max(1,m-C+1),R=o?f:Math.min(m+C,f)+d,O=Array(R+2);O[R+1]=(1<<S)-1;for(let A=R;A>=k;A-=1){let $=A-1,M=n[e.charAt($)];if(v&&(b[$]=+!!M),O[A]=(O[A+1]<<1|1)&M,S&&(O[A]|=(y[A+1]|y[A])<<1|1|y[A+1]),O[A]&N&&(j=Hu(t,{errors:S,currentLocation:$,expectedLocation:m,distance:r,ignoreLocation:u}),j<=h)){if(h=j,p=$,p<=m)break;k=Math.max(1,2*m-p)}}if(Hu(t,{errors:S+1,currentLocation:m,expectedLocation:m,distance:r,ignoreLocation:u})>h)break;y=O}const E={isMatch:p>=0,score:Math.max(.001,j)};if(v){const S=D8(b,l);S.length?c&&(E.indices=S):E.isMatch=!1}return E}function L8(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<s-n-1}return t}const ef=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class yk{constructor(t,{location:n=me.location,threshold:s=me.threshold,distance:r=me.distance,includeMatches:i=me.includeMatches,findAllMatches:o=me.findAllMatches,minMatchCharLength:l=me.minMatchCharLength,isCaseSensitive:c=me.isCaseSensitive,ignoreDiacritics:u=me.ignoreDiacritics,ignoreLocation:d=me.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?ef(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(h,p)=>{this.chunks.push({pattern:h,alphabet:L8(h),startIndex:p})},m=this.pattern.length;if(m>Ua){let h=0;const p=m%Ua,v=m-p;for(;h<v;)f(this.pattern.substr(h,Ua),h),h+=Ua;if(p){const b=m-Ua;f(this.pattern.substr(b),b)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:s,includeMatches:r}=this.options;if(t=n?t:t.toLowerCase(),t=s?ef(t):t,this.pattern===t){let v={isMatch:!0,score:0};return r&&(v.indices=[[0,t.length-1]]),v}const{location:i,distance:o,threshold:l,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],m=0,h=!1;this.chunks.forEach(({pattern:v,alphabet:b,startIndex:x})=>{const{isMatch:y,score:j,indices:w}=z8(t,v,b,{location:i+x,distance:o,threshold:l,findAllMatches:c,minMatchCharLength:u,includeMatches:r,ignoreLocation:d});y&&(h=!0),m+=j,y&&w&&(f=[...f,...w])});let p={isMatch:h,score:h?m/this.chunks.length:1};return h&&r&&(p.indices=f),p}}class Ta{constructor(t){this.pattern=t}static isMultiMatch(t){return ub(t,this.multiRegex)}static isSingleMatch(t){return ub(t,this.singleRegex)}search(){}}function ub(e,t){const n=e.match(t);return n?n[1]:null}class $8 extends Ta{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class P8 extends Ta{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class O8 extends Ta{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class B8 extends Ta{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class I8 extends Ta{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class H8 extends Ta{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class bk extends Ta{constructor(t,{location:n=me.location,threshold:s=me.threshold,distance:r=me.distance,includeMatches:i=me.includeMatches,findAllMatches:o=me.findAllMatches,minMatchCharLength:l=me.minMatchCharLength,isCaseSensitive:c=me.isCaseSensitive,ignoreDiacritics:u=me.ignoreDiacritics,ignoreLocation:d=me.ignoreLocation}={}){super(t),this._bitapSearch=new yk(t,{location:n,threshold:s,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class wk extends Ta{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const r=[],i=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+i,r.push([s,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const Ug=[$8,wk,O8,B8,H8,I8,P8,bk],db=Ug.length,F8=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,U8="|";function V8(e,t={}){return e.split(U8).map(n=>{let s=n.trim().split(F8).filter(i=>i&&!!i.trim()),r=[];for(let i=0,o=s.length;i<o;i+=1){const l=s[i];let c=!1,u=-1;for(;!c&&++u<db;){const d=Ug[u];let f=d.isMultiMatch(l);f&&(r.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<db;){const d=Ug[u];let f=d.isSingleMatch(l);if(f){r.push(new d(f,t));break}}}return r})}const q8=new Set([bk.type,wk.type]);class Z8{constructor(t,{isCaseSensitive:n=me.isCaseSensitive,ignoreDiacritics:s=me.ignoreDiacritics,includeMatches:r=me.includeMatches,minMatchCharLength:i=me.minMatchCharLength,ignoreLocation:o=me.ignoreLocation,findAllMatches:l=me.findAllMatches,location:c=me.location,threshold:u=me.threshold,distance:d=me.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:s,includeMatches:r,minMatchCharLength:i,findAllMatches:l,ignoreLocation:o,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=s?ef(t):t,this.pattern=t,this.query=V8(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r,ignoreDiacritics:i}=this.options;t=r?t:t.toLowerCase(),t=i?ef(t):t;let o=0,l=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];l.length=0,o=0;for(let m=0,h=f.length;m<h;m+=1){const p=f[m],{isMatch:v,indices:b,score:x}=p.search(t);if(v){if(o+=1,c+=x,s){const y=p.constructor.type;q8.has(y)?l=[...l,...b]:l.push(b)}}else{c=0,o=0,l.length=0;break}}if(o){let m={isMatch:!0,score:c/o};return s&&(m.indices=l),m}}return{isMatch:!1,score:1}}}const Vg=[];function G8(...e){Vg.push(...e)}function qg(e,t){for(let n=0,s=Vg.length;n<s;n+=1){let r=Vg[n];if(r.condition(e,t))return new r(e,t)}return new yk(e,t)}const tf={AND:"$and",OR:"$or"},Zg={PATH:"$path",PATTERN:"$val"},Gg=e=>!!(e[tf.AND]||e[tf.OR]),Y8=e=>!!e[Zg.PATH],X8=e=>!Sr(e)&&gk(e)&&!Gg(e),fb=e=>({[tf.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function jk(e,t,{auto:n=!0}={}){const s=r=>{let i=Object.keys(r);const o=Y8(r);if(!o&&i.length>1&&!Gg(r))return s(fb(r));if(X8(r)){const c=o?r[Zg.PATH]:i[0],u=o?r[Zg.PATTERN]:r[c];if(!Ts(u))throw new Error(b8(c));const d={keyId:Fg(c),pattern:u};return n&&(d.searcher=qg(u,t)),d}let l={children:[],operator:i[0]};return i.forEach(c=>{const u=r[c];Sr(u)&&u.forEach(d=>{l.children.push(s(d))})}),l};return Gg(e)||(e=fb(e)),s(e)}function W8(e,{ignoreFieldNorm:t=me.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:r,norm:i,score:o})=>{const l=r?r.weight:null;s*=Math.pow(o===0&&l?Number.EPSILON:o,(l||1)*(t?1:i))}),n.score=s})}function K8(e,t){const n=e.matches;t.matches=[],Nn(n)&&n.forEach(s=>{if(!Nn(s.indices)||!s.indices.length)return;const{indices:r,value:i}=s;let o={indices:r,value:i};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),t.matches.push(o)})}function Q8(e,t){t.score=e.score}function J8(e,t,{includeMatches:n=me.includeMatches,includeScore:s=me.includeScore}={}){const r=[];return n&&r.push(K8),s&&r.push(Q8),e.map(i=>{const{idx:o}=i,l={item:t[o],refIndex:o};return r.length&&r.forEach(c=>{c(i,l)}),l})}class Qt{constructor(t,n={},s){this.options={...me,...n},this.options.useExtendedSearch,this._keyStore=new S8(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof p0))throw new Error(y8);this._myIndex=n||vk(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Nn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,r=this._docs.length;s<r;s+=1){const i=this._docs[s];t(i,s)&&(this.removeAt(s),s-=1,r-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:l}=this.options;let c=Ts(t)?Ts(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return W8(c,{ignoreFieldNorm:l}),i&&c.sort(o),hk(n)&&n>-1&&(c=c.slice(0,n)),J8(c,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(t){const n=qg(t,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:i,i:o,n:l})=>{if(!Nn(i))return;const{isMatch:c,score:u,indices:d}=n.searchIn(i);c&&r.push({item:i,idx:o,matches:[{score:u,value:i,norm:l,indices:d}]})}),r}_searchLogical(t){const n=jk(t,this.options),s=(l,c,u)=>{if(!l.children){const{keyId:f,searcher:m}=l,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:m});return h&&h.length?[{idx:u,item:c,matches:h}]:[]}const d=[];for(let f=0,m=l.children.length;f<m;f+=1){const h=l.children[f],p=s(h,c,u);if(p.length)d.push(...p);else if(l.operator===tf.AND)return[]}return d},r=this._myIndex.records,i={},o=[];return r.forEach(({$:l,i:c})=>{if(Nn(l)){let u=s(n,l,c);u.length&&(i[c]||(i[c]={idx:c,item:l,matches:[]},o.push(i[c])),u.forEach(({matches:d})=>{i[c].matches.push(...d)}))}}),o}_searchObjectList(t){const n=qg(t,this.options),{keys:s,records:r}=this._myIndex,i=[];return r.forEach(({$:o,i:l})=>{if(!Nn(o))return;let c=[];s.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:o[d],searcher:n}))}),c.length&&i.push({idx:l,item:o,matches:c})}),i}_findMatches({key:t,value:n,searcher:s}){if(!Nn(n))return[];let r=[];if(Sr(n))n.forEach(({v:i,i:o,n:l})=>{if(!Nn(i))return;const{isMatch:c,score:u,indices:d}=s.searchIn(i);c&&r.push({score:u,key:t,value:i,idx:o,norm:l,indices:d})});else{const{v:i,n:o}=n,{isMatch:l,score:c,indices:u}=s.searchIn(i);l&&r.push({score:c,key:t,value:i,norm:o,indices:u})}return r}}Qt.version="7.1.0";Qt.createIndex=vk;Qt.parseIndex=R8;Qt.config=me;Qt.parseQuery=jk;G8(Z8);function Nk(e,t){const n=g.useMemo(()=>e.map(l=>{var c,u;return{id:l.name.toLowerCase().replace(/\s+/g,"-"),name:l.name,description:l.description,group:l.group,statModifications:l.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:l.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:l.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=l.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=l.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Qt(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredBirthsigns:g.useMemo(()=>i.map(l=>l.item.originalBirthsign),[i]),searchResults:i,searchableBirthsigns:n}}function mb({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:s=""}){const[r,i]=g.useState(""),{filteredBirthsigns:o}=Nk(e,r),l=g.useMemo(()=>o.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.group,icon:a.jsx(g0,{birthsignName:d.name,size:"md"}),badge:d.group&&a.jsx(W,{variant:"outline",className:H("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.group}),metadata:{originalBirthsign:d}})),[o]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>a.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&a.jsx("div",{className:"flex-shrink-0",children:d.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:d.label}),d.badge&&a.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&a.jsx(De,{text:d.description,className:"text-sm text-muted-foreground line-clamp-2 mt-1"})]})]});return a.jsx(au,{options:l,onSelect:c,placeholder:n,className:s,renderOption:u,emptyMessage:"No birthsigns found",searchQuery:r,onSearchQueryChange:i})}function nf({item:e,originalBirthsign:t,isExpanded:n=!1,onToggle:s,onClick:r,className:i,showViewAllButton:o=!1,showToggle:l=!0,viewAllButtonText:c="View All",viewAllButtonRoute:u="/birthsigns"}){var S,_,C;const d=lt(),f=()=>{d(u)},m=k=>{k.target.closest("[data-no-click]")||r==null||r()},h=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Birthsign";e!=null&&e.description||t!=null&&t.description;const p=(e==null?void 0:e.category)||(t==null?void 0:t.group)||"";e!=null&&e.effects;const v=(e==null?void 0:e.summary)||(t==null?void 0:t.description)||"",b=()=>{if(!(t!=null&&t.stat_modifications))return{health:0,magicka:0,stamina:0};const k={health:0,magicka:0,stamina:0};return t.stat_modifications.forEach(R=>{const O=R.type==="bonus"?R.value:-R.value;R.stat.toLowerCase().includes("health")?k.health+=O:R.stat.toLowerCase().includes("magicka")?k.magicka+=O:R.stat.toLowerCase().includes("stamina")&&(k.stamina+=O)}),k},x=()=>{if(!t)return[];const k=[];return t.powers&&k.push(...t.powers.map(R=>({name:R.name,type:"power"}))),t.conditional_effects&&k.push(...t.conditional_effects.map(R=>({name:R.stat,type:"conditional"}))),t.mastery_effects&&k.push(...t.mastery_effects.map(R=>({name:R.stat,type:"mastery"}))),k},y=k=>{const R=o8(k);return`${R.background} ${R.text} ${R.border}`},j=k=>{switch(k){case"health":return"bg-red-200 text-red-800 border-red-300";case"magicka":return"bg-blue-200 text-blue-800 border-blue-300";case"stamina":return"bg-green-200 text-green-800 border-green-300";default:return"bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30"}},w=b(),N=x(),E=a.jsxs("div",{className:H("rounded-lg border bg-background shadow-sm transition-all",i),children:[a.jsxs("div",{className:"flex items-start justify-between p-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(g0,{birthsignName:h,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ne,{className:"text-primary font-semibold",children:h}),a.jsxs("div",{className:"flex items-center gap-2",children:[p&&a.jsx("div",{className:`inline-flex items-center justify-center px-2 py-1 border rounded-full text-xs font-medium w-16 ${y(p)}`,children:p}),(w.health!==0||w.magicka!==0||w.stamina!==0)&&a.jsxs("div",{className:"flex gap-1",children:[w.health!==0&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 border rounded-full text-xs font-medium ${j("health")}`,children:[a.jsx(Bs,{className:"h-3 w-3"}),a.jsxs("span",{children:[w.health>0?"+":"",w.health]})]}),w.magicka!==0&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 border rounded-full text-xs font-medium ${j("magicka")}`,children:[a.jsx(Mn,{className:"h-3 w-3"}),a.jsxs("span",{children:[w.magicka>0?"+":"",w.magicka]})]}),w.stamina!==0&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 border rounded-full text-xs font-medium ${j("stamina")}`,children:[a.jsx(at,{className:"h-3 w-3"}),a.jsxs("span",{children:[w.stamina>0?"+":"",w.stamina]})]})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[N.length>0&&a.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ze,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{children:[N.length," effects"]})]})}),o&&a.jsxs(q,{variant:"outline",size:"sm",onClick:f,className:"text-xs","data-no-click":!0,children:[a.jsx(Ca,{className:"h-3 w-3 mr-1"}),c]}),l&&a.jsx("div",{"data-no-click":!0,children:a.jsx(Qn,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"stone",itemName:h})})]})]}),a.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[a.jsx("div",{children:a.jsx(De,{text:v})}),t&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(S=t.powers)==null?void 0:S.slice(0,3).map((k,R)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(Ze,{className:"h-3 w-3"}),k.name]},R)),(_=t.conditional_effects)==null?void 0:_.slice(0,3).map((k,R)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-purple-200 text-purple-800 border border-purple-300 rounded-full text-xs font-medium",children:[a.jsx(at,{className:"h-3 w-3"}),k.stat]},`conditional-${R}`)),(C=t.mastery_effects)==null?void 0:C.slice(0,3).map((k,R)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-200 text-blue-800 border border-blue-300 rounded-full text-xs font-medium",children:[a.jsx(Ze,{className:"h-3 w-3"}),k.stat]},`mastery-${R}`))]})]}),n&&t&&a.jsxs("div",{className:"space-y-4 px-4 pb-4",children:[t.stat_modifications&&t.stat_modifications.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(un,{className:"text-lg font-medium text-foreground",children:"Stat Modifications"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.stat_modifications.map((k,R)=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:k.stat}),a.jsxs("span",{className:H("font-bold",k.type==="bonus"?"text-green-600":"text-red-600"),children:[k.type==="bonus"?"+":"-",k.value,k.value_type==="percentage"?"%":""]})]},R))})]}),t.skill_bonuses&&t.skill_bonuses.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(un,{className:"text-lg font-medium text-foreground",children:"Skill Bonuses"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.skill_bonuses.map((k,R)=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:k.stat}),a.jsxs("span",{className:"font-bold text-green-600",children:["+",k.value,k.value_type==="percentage"?"%":""]})]},R))})]}),t.powers&&t.powers.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(un,{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[a.jsx(Mn,{className:"h-4 w-4 text-yellow-500"}),"Powers"]}),a.jsx("div",{className:"space-y-2",children:t.powers.map((k,R)=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ze,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:k.name})]}),a.jsx(De,{text:k.description}),(k.magnitude||k.duration)&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mt-2",children:[k.magnitude&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Magnitude:"})," ",k.magnitude]}),k.duration&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",k.duration,"s"]})]})]},R))})]}),t.conditional_effects&&t.conditional_effects.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(un,{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4 text-purple-500"}),"Conditional Effects"]}),a.jsx("div",{className:"space-y-2",children:t.conditional_effects.map((k,R)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:"font-medium text-sm capitalize",children:k.stat})}),a.jsx(De,{text:k.description}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Condition:"})," ",k.condition]})]},R))})]}),t.mastery_effects&&t.mastery_effects.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(un,{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[a.jsx(Ze,{className:"h-4 w-4 text-blue-500"}),"Mastery Effects"]}),a.jsx("div",{className:"space-y-2",children:t.mastery_effects.map((k,R)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ze,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),a.jsx("div",{className:"text-sm font-medium capitalize",children:k.stat}),a.jsx(De,{text:k.description}),k.condition&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Requirement:"})," ",k.condition]})]},R))})]})]})]});return r?a.jsx("div",{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:m,children:E}):E}function eB(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function tB(e){const t=e.flatMap(n=>[...n.stat_modifications.map(s=>s.stat),...n.skill_bonuses.map(s=>s.stat)]);return[...new Set(t)].sort()}var nB="Separator",hb="horizontal",sB=["horizontal","vertical"],Sk=g.forwardRef((e,t)=>{const{decorative:n,orientation:s=hb,...r}=e,i=rB(s)?s:hb,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(je.div,{"data-orientation":i,...l,...r,ref:t})});Sk.displayName=nB;function rB(e){return sB.includes(e)}var aB=Sk;function Va({className:e,orientation:t="horizontal",decorative:n=!0,...s}){return a.jsx(aB,{"data-slot":"separator",decorative:n,orientation:t,className:H("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}function iB({birthsign:e,title:t,maxDisplay:n,compact:s=!1,className:r}){var c,u,d,f;if(!e)return null;const i=e.powers.length>0,o=((c=e.conditional_effects)==null?void 0:c.length)>0,l=((u=e.mastery_effects)==null?void 0:u.length)>0;if(!i&&!o&&!l)return null;if(s){const m=[...e.powers.map(p=>({type:"power",data:p})),...((d=e.conditional_effects)==null?void 0:d.map(p=>({type:"conditional",data:p})))||[],...((f=e.mastery_effects)==null?void 0:f.map(p=>({type:"mastery",data:p})))||[]],h=n?m.slice(0,n):m;return a.jsxs("div",{className:H("flex flex-wrap gap-2",r),children:[h.map((p,v)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(Ze,{className:"h-3 w-3"}),p.data.name||p.data.stat]},v)),n&&m.length>n&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted text-muted-foreground border rounded-full text-xs font-medium",children:["+",m.length-n," more"]})]})}return a.jsxs(ve,{className:H("border-muted/50",r),children:[t&&a.jsx(Re,{className:"pb-3",children:a.jsx(Pe,{className:"text-base",children:t})}),a.jsxs(be,{className:"space-y-4",children:[i&&a.jsxs("div",{children:[a.jsxs(ca,{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(Mn,{className:"h-4 w-4 text-yellow-500"}),"Powers"]}),a.jsx("div",{className:"space-y-2",children:e.powers.map((m,h)=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ze,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:m.name})]}),a.jsx("div",{className:"border-t border-border my-2"}),a.jsx(De,{text:m.description}),(m.magnitude||m.duration)&&a.jsxs("div",{className:"space-y-2 text-sm mt-2",children:[m.magnitude&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium min-w-[80px]",children:"Magnitude:"}),a.jsx("span",{children:m.magnitude})]}),m.duration&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium min-w-[80px]",children:"Duration:"}),a.jsxs("span",{children:[m.duration,"s"]})]})]})]},h))})]}),o&&a.jsxs("div",{children:[a.jsxs(ca,{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4 text-purple-500"}),"Conditional Effects"]}),a.jsx("div",{className:"space-y-2",children:e.conditional_effects.map((m,h)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(W,{variant:"outline",className:"text-xs bg-purple-200 text-purple-800 border-purple-300",children:"Conditional"}),a.jsx("span",{className:"font-medium text-sm capitalize",children:m.stat})]}),a.jsx(De,{text:m.description}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Condition:"})," ",m.condition]})]},h))})]}),l&&a.jsxs("div",{children:[a.jsxs(ca,{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(Ze,{className:"h-4 w-4 text-blue-500"}),"Mastery Effects"]}),a.jsx("div",{className:"space-y-2",children:e.mastery_effects.map((m,h)=>a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ze,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),a.jsx("div",{className:"border-t border-border my-2"}),a.jsx("div",{className:"text-sm font-medium capitalize",children:m.stat}),a.jsx(De,{text:m.description}),m.condition&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Requirement:"})," ",m.condition]})]},h))})]})]})]})}function oB({birthsign:e,title:t="Stat Modifications",className:n}){const s=e.stat_modifications.length>0,r=e.skill_bonuses.length>0;return!s&&!r?null:a.jsxs(ve,{className:H("border-muted/50",n),children:[a.jsx(Re,{className:"pb-3",children:a.jsx(Pe,{className:"text-base",children:t})}),a.jsxs(be,{className:"space-y-4",children:[s&&a.jsxs("div",{children:[a.jsx(ca,{className:"text-sm font-medium mb-2",children:"Attributes"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.stat_modifications.map((i,o)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize flex-1 min-w-0 mr-3",children:i.stat.replace(/_/g," ")}),a.jsxs(W,{variant:"outline",className:H("text-xs flex-shrink-0",i.type==="bonus"?"bg-green-200 text-green-800 border-green-300":"bg-red-200 text-red-800 border-red-300"),children:[i.type==="bonus"?"+":"-",i.value,i.value_type==="percentage"?"%":""]})]},o))})]}),r&&a.jsxs("div",{children:[a.jsx(ca,{className:"text-sm font-medium mb-2",children:"Skill Bonuses"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.skill_bonuses.map((i,o)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[a.jsx("span",{className:"text-sm font-medium capitalize flex-1 min-w-0 mr-3",children:i.stat.replace(/_/g," ")}),a.jsxs(W,{variant:"outline",className:"bg-blue-200 text-blue-800 border-blue-300 text-xs flex-shrink-0",children:["+",i.value,i.value_type==="percentage"?"%":""]})]},o))})]})]})]})}function lB({birthsign:e,isOpen:t,onOpenChange:n}){return e?a.jsx(vl,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(g0,{birthsignName:e.name,size:"4xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ta,{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"inline-flex items-center px-2 py-1 bg-skyrim-gold/10 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:e.group}),a.jsx(Qn,{itemId:e.edid,itemType:"stone",itemName:e.name})]}),a.jsx(De,{text:e.description})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(oB,{birthsign:e}),a.jsx(Va,{}),a.jsx(iB,{birthsign:e,title:"Special Effects"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ne,{className:"text-lg font-semibold",children:"Game Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"EDID:"}),a.jsx("span",{className:"break-all",children:e.edid})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Form ID:"}),a.jsx("span",{className:"break-all",children:e.formid})]})]})]})]})]})}):null}var hm="Collapsible",[cB,kk]=zn(hm),[uB,x0]=cB(hm),Ck=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:i,onOpenChange:o,...l}=e,[c,u]=Rr({prop:s,defaultProp:r??!1,onChange:o,caller:hm});return a.jsx(uB,{scope:n,disabled:i,contentId:gr(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:a.jsx(je.div,{"data-state":y0(c),"data-disabled":i?"":void 0,...l,ref:t})})});Ck.displayName=hm;var Ek="CollapsibleTrigger",_k=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,r=x0(Ek,n);return a.jsx(je.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":y0(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:t,onClick:ne(e.onClick,r.onOpenToggle)})});_k.displayName=Ek;var v0="CollapsibleContent",Ak=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=x0(v0,e.__scopeCollapsible);return a.jsx(Yt,{present:n||r.open,children:({present:i})=>a.jsx(dB,{...s,ref:t,present:i})})});Ak.displayName=v0;var dB=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:r,...i}=e,o=x0(v0,n),[l,c]=g.useState(s),u=g.useRef(null),d=Ie(t,u),f=g.useRef(0),m=f.current,h=g.useRef(0),p=h.current,v=o.open||l,b=g.useRef(v),x=g.useRef(void 0);return g.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),Ps(()=>{const y=u.current;if(y){x.current=x.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const j=y.getBoundingClientRect();f.current=j.height,h.current=j.width,b.current||(y.style.transitionDuration=x.current.transitionDuration,y.style.animationName=x.current.animationName),c(s)}},[o.open,s]),a.jsx(je.div,{"data-state":y0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:v&&r})});function y0(e){return e?"open":"closed"}var fB=Ck,mB=_k,hB=Ak,hs="Accordion",gB=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[b0,pB,xB]=Ux(hs),[gm,nte]=zn(hs,[xB,kk]),w0=kk(),Tk=P.forwardRef((e,t)=>{const{type:n,...s}=e,r=s,i=s;return a.jsx(b0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?a.jsx(wB,{...i,ref:t}):a.jsx(bB,{...r,ref:t})})});Tk.displayName=hs;var[Mk,vB]=gm(hs),[Rk,yB]=gm(hs,{collapsible:!1}),bB=P.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:i=!1,...o}=e,[l,c]=Rr({prop:n,defaultProp:s??"",onChange:r,caller:hs});return a.jsx(Mk,{scope:e.__scopeAccordion,value:P.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:P.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(Rk,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(Dk,{...o,ref:t})})})}),wB=P.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...i}=e,[o,l]=Rr({prop:n,defaultProp:s??[],onChange:r,caller:hs}),c=P.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=P.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return a.jsx(Mk,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(Rk,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(Dk,{...i,ref:t})})})}),[jB,pm]=gm(hs),Dk=P.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:r,orientation:i="vertical",...o}=e,l=P.useRef(null),c=Ie(l,t),u=pB(n),f=eu(r)==="ltr",m=ne(e.onKeyDown,h=>{var _;if(!gB.includes(h.key))return;const p=h.target,v=u().filter(C=>{var k;return!((k=C.ref.current)!=null&&k.disabled)}),b=v.findIndex(C=>C.ref.current===p),x=v.length;if(b===-1)return;h.preventDefault();let y=b;const j=0,w=x-1,N=()=>{y=b+1,y>w&&(y=j)},E=()=>{y=b-1,y<j&&(y=w)};switch(h.key){case"Home":y=j;break;case"End":y=w;break;case"ArrowRight":i==="horizontal"&&(f?N():E());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?E():N());break;case"ArrowUp":i==="vertical"&&E();break}const S=y%x;(_=v[S].ref.current)==null||_.focus()});return a.jsx(jB,{scope:n,disabled:s,direction:r,orientation:i,children:a.jsx(b0.Slot,{scope:n,children:a.jsx(je.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),sf="AccordionItem",[NB,j0]=gm(sf),zk=P.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...r}=e,i=pm(sf,n),o=vB(sf,n),l=w0(n),c=gr(),u=s&&o.value.includes(s)||!1,d=i.disabled||e.disabled;return a.jsx(NB,{scope:n,open:u,disabled:d,triggerId:c,children:a.jsx(fB,{"data-orientation":i.orientation,"data-state":Ik(u),...l,...r,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(s):o.onItemClose(s)}})})});zk.displayName=sf;var Lk="AccordionHeader",$k=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=pm(hs,n),i=j0(Lk,n);return a.jsx(je.h3,{"data-orientation":r.orientation,"data-state":Ik(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});$k.displayName=Lk;var Yg="AccordionTrigger",Pk=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=pm(hs,n),i=j0(Yg,n),o=yB(Yg,n),l=w0(n);return a.jsx(b0.ItemSlot,{scope:n,children:a.jsx(mB,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":r.orientation,id:i.triggerId,...l,...s,ref:t})})});Pk.displayName=Yg;var Ok="AccordionContent",Bk=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=pm(hs,n),i=j0(Ok,n),o=w0(n);return a.jsx(hB,{role:"region","aria-labelledby":i.triggerId,"data-orientation":r.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Bk.displayName=Ok;function Ik(e){return e?"open":"closed"}var SB=Tk,kB=zk,CB=$k,Hk=Pk,Fk=Bk;const EB=SB,Uk=g.forwardRef(({className:e,...t},n)=>a.jsx(kB,{ref:n,className:H("border-b",e),...t}));Uk.displayName="AccordionItem";const Vk=g.forwardRef(({className:e,children:t,...n},s)=>a.jsx(CB,{className:"flex",children:a.jsxs(Hk,{ref:s,className:H("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(tn,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Vk.displayName=Hk.displayName;const qk=g.forwardRef(({className:e,children:t,...n},s)=>a.jsx(Fk,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:H("pb-4 pt-0",e),children:t})}));qk.displayName=Fk.displayName;var _B=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AB="VisuallyHidden",Zk=g.forwardRef((e,t)=>a.jsx(je.span,{...e,ref:t,style:{..._B,...e.style}}));Zk.displayName=AB;var TB=Zk,[xm,ste]=zn("Tooltip",[xl]),N0=xl(),MB="TooltipProvider",gb="tooltip.open",[rte,Gk]=xm(MB),Yk="Tooltip",[ate,vm]=xm(Yk),Xg="TooltipTrigger",RB=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=vm(Xg,n),i=Gk(Xg,n),o=N0(n),l=g.useRef(null),c=Ie(t,l,r.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(e0,{asChild:!0,...o,children:a.jsx(je.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:ne(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:ne(e.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:ne(e.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ne(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:ne(e.onBlur,r.onClose),onClick:ne(e.onClick,r.onClose)})})});RB.displayName=Xg;var DB="TooltipPortal",[ite,zB]=xm(DB,{forceMount:void 0}),Fo="TooltipContent",Xk=g.forwardRef((e,t)=>{const n=zB(Fo,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=e,o=vm(Fo,e.__scopeTooltip);return a.jsx(Yt,{present:s||o.open,children:o.disableHoverableContent?a.jsx(Wk,{side:r,...i,ref:t}):a.jsx(LB,{side:r,...i,ref:t})})}),LB=g.forwardRef((e,t)=>{const n=vm(Fo,e.__scopeTooltip),s=Gk(Fo,e.__scopeTooltip),r=g.useRef(null),i=Ie(t,r),[o,l]=g.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:f}=s,m=g.useCallback(()=>{l(null),f(!1)},[f]),h=g.useCallback((p,v)=>{const b=p.currentTarget,x={x:p.clientX,y:p.clientY},y=IB(x,b.getBoundingClientRect()),j=HB(x,y),w=FB(v.getBoundingClientRect()),N=VB([...j,...w]);l(N),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&d){const p=b=>h(b,d),v=b=>h(b,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",v)}}},[c,d,h,m]),g.useEffect(()=>{if(o){const p=v=>{const b=v.target,x={x:v.clientX,y:v.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),j=!UB(x,o);y?m():j&&(m(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,o,u,m]),a.jsx(Wk,{...e,ref:i})}),[$B,PB]=xm(Yk,{isInside:!1}),OB=p5("TooltipContent"),Wk=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=vm(Fo,n),u=N0(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(gb,d),()=>document.removeEventListener(gb,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(t0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(OB,{children:s}),a.jsx($B,{scope:n,isInside:!0,children:a.jsx(TB,{id:c.contentId,role:"tooltip",children:r||s})})]})})});Xk.displayName=Fo;var Kk="TooltipArrow",BB=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=N0(n);return PB(Kk,n).isInside?null:a.jsx(n0,{...r,...s,ref:t})});BB.displayName=Kk;function IB(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function HB(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function FB(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function UB(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function VB(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),qB(t)}function qB(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Qk=Xk;const ZB=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(Qk,{ref:s,sideOffset:t,className:H("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ZB.displayName=Qk.displayName;function qn({title:e,navigateTo:t,onNavigate:n,children:s,className:r,showHeaderButton:i=!0}){return a.jsxs(ve,{className:r,children:[a.jsx(Re,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Pe,{className:"text-lg",children:e}),i&&a.jsxs(q,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," →"]})]})}),a.jsx(be,{className:"space-y-4",children:s})]})}function Jk(e){var t,n,s,r,i,o;return{id:`religion-${e.name.toLowerCase().replace(/\s+/g,"-")}`,name:e.name,description:((t=e.tenet)==null?void 0:t.description)||"",tags:os()?e.favoredRaces||[]:[],summary:((n=e.tenet)==null?void 0:n.description)||"",effects:[...((r=(s=e.tenet)==null?void 0:s.effects)==null?void 0:r.map(l=>({type:"positive",name:l.effectName,description:l.effectDescription,value:l.magnitude,target:l.targetAttribute||""})))||[],...((o=(i=e.blessing)==null?void 0:i.effects)==null?void 0:o.map(l=>({type:"positive",name:l.effectName,description:l.effectDescription,value:l.magnitude,target:l.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:e.type}}function pb(e){var t;return{...e,id:e.edid||e.name,name:e.name,description:e.description,tags:e.tags||[],summary:e.description,effects:[...((t=e.effects)==null?void 0:t.map(n=>({type:"positive",name:n.type,description:n.condition||n.type,value:n.value})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalTrait:e}}function eC(e){var s,r,i,o,l,c,u,d;const t=[...((s=e.stat_modifications)==null?void 0:s.map(f=>({type:f.type==="bonus"?"positive":"negative",name:`${f.stat} ${f.type==="bonus"?"+":"-"}${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} ${f.type==="bonus"?"increased":"decreased"} by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((r=e.skill_bonuses)==null?void 0:r.map(f=>({type:"positive",name:`${f.stat} +${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} skill increased by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((i=e.powers)==null?void 0:i.map(f=>({type:"positive",name:f.name,description:f.description,value:f.magnitude||0,target:"power"})))||[],...((o=e.conditional_effects)==null?void 0:o.map(f=>({type:"neutral",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[],...((l=e.mastery_effects)==null?void 0:l.map(f=>({type:"positive",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[]],n=[e.group,...((c=e.stat_modifications)==null?void 0:c.map(f=>f.stat))||[],...((u=e.skill_bonuses)==null?void 0:u.map(f=>f.stat))||[],...((d=e.powers)==null?void 0:d.map(f=>f.name))||[]].filter((f,m,h)=>h.indexOf(f)===m);return{...e,id:e.id||e.edid,name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.group,originalBirthsign:e}}function GB(e){var s;const t=[{type:"positive",name:e.name,description:e.description||"",value:0,target:"destiny"}],n=[...e.tags||[],...((s=e.prerequisites)==null?void 0:s.map(r=>`Requires: ${r}`))||[]].filter((r,i,o)=>o.indexOf(r)===i);return{...e,id:e.id||e.edid,name:e.name,description:e.description||"",tags:n,summary:e.description||"",effects:t,associatedItems:[],imageUrl:e.icon,category:"Destiny",originalDestinyNode:e}}function YB(){const{data:e,loading:t,error:n,load:s}=Si();return{birthsigns:e,loading:t,error:n,refetch:s}}function tC({className:e}){const{birthsigns:t}=YB(),{build:n,setStone:s}=ht(),r=lt(),i=n.stone?t.find(u=>u.edid===n.stone):null,o=u=>{s(u.edid)},l=()=>{r("/birth-signs")};if(!i)return a.jsxs(qn,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:l,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),a.jsx(mb,{birthsigns:t,onSelect:o,placeholder:"Search for a birthsign...",className:"w-full"})]});const c=eC(i);return a.jsxs(qn,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:l,className:e,children:[a.jsx(mb,{birthsigns:t,onSelect:o,placeholder:`Birth Sign: Select a birthsign (${i.name})`,className:"w-full"}),a.jsx(nf,{item:c,originalBirthsign:i,isExpanded:!0,className:"border-0 shadow-none",showToggle:!1})]})}const XB={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function WB(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function KB(e){const[t,n]=g.useReducer(WB,XB),s=g.useMemo(()=>{const b=eB(e),x=tB(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:b.map(y=>({id:`group-${y}`,label:y,value:y,category:"Birthsign Groups",description:`Birthsigns from ${y} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:x.map(y=>({id:`stat-${y}`,label:y.replace(/_/g," ").replace(/\b\w/g,j=>j.toUpperCase()),value:y,category:"Stats & Skills",description:`Birthsigns that affect ${y}`}))}]},[e]),r=g.useMemo(()=>t.selectedTags.length===0?e:e.filter(b=>t.selectedTags.every(x=>{switch(x.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return b.group===x.value;case"Stats & Skills":return[...b.stat_modifications.map(j=>j.stat),...b.skill_bonuses.map(j=>j.stat)].some(j=>j===x.value);default:return!0}})),[e,t.selectedTags]),i=g.useMemo(()=>t.selectedTags.filter(b=>b.category==="Fuzzy Search").map(b=>b.value).join(" "),[t.selectedTags]),{filteredBirthsigns:o}=Nk(r,i),l=g.useMemo(()=>o.map(eC),[o]),c=g.useMemo(()=>[...l].sort((b,x)=>{var y,j;switch(t.sortBy){case"alphabetical":return b.name.localeCompare(x.name);case"group":{const w=S=>{switch(S){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},N=w(b.category),E=w(x.category);return N!==E?N-E:b.name.localeCompare(x.name)}case"power-count":{const w=((y=b.effects)==null?void 0:y.filter(E=>E.target==="power").length)||0,N=((j=x.effects)==null?void 0:j.filter(E=>E.target==="power").length)||0;return w!==N?N-w:b.name.localeCompare(x.name)}default:return 0}}),[l,t.sortBy]),u=g.useCallback(b=>{n({type:"ADD_TAG",payload:b})},[]),d=g.useCallback(b=>{n({type:"REMOVE_TAG",payload:b})},[]),f=g.useCallback(b=>{n({type:"SET_SORT",payload:b})},[]),m=g.useCallback(b=>{n({type:"SET_VIEW_MODE",payload:b})},[]),h=g.useCallback(b=>{n({type:"TOGGLE_EXPANDED",payload:b})},[]),p=g.useCallback(b=>{n({type:"EXPAND_ALL",payload:b})},[]),v=g.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:d,setSort:f,setViewMode:m,toggleExpanded:h,expandAll:p,collapseAll:v,searchCategories:s,fuzzySearchQuery:i,filteredBirthsigns:r,displayItems:l,sortedDisplayItems:c}}function QB(){const{data:e,loading:t,error:n}=a8(),s=e||[],{selectedTags:r,sortBy:i,viewMode:o,addTag:l,removeTag:c,setSort:u,setViewMode:d,searchCategories:f,filteredBirthsigns:m,displayItems:h,sortedDisplayItems:p}=KB(s);g.useEffect(()=>{console.log("birthsigns",s),console.log("sortedDisplayItems",p),console.log("displayItems",h),console.log("filteredBirthsigns",m)},[s,p,h,m]);const[v,b]=g.useState(null),[x,y]=g.useState(!1),j=w=>{b(w),y(!0)};return t?a.jsx(Gt,{title:"Birthsigns",description:"Choose your birthsign",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("p",{children:"Loading birthsigns..."})})}):n?a.jsx(Gt,{title:"Birthsigns",description:"Choose your birthsign",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("p",{className:"text-red-500",children:["Error loading birthsigns: ",n]})})}):a.jsxs(Gt,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx(Aa,{categories:f,onSelect:w=>{let N;typeof w=="string"?N={id:`custom-${w}`,label:w,value:w,category:"Fuzzy Search"}:N={id:`${w.category}-${w.id}`,label:w.label,value:w.value,category:w.category},r.some(E=>E.value===N.value&&E.category===N.category)||l(N)},onCustomSearch:w=>{let N;typeof w=="string"?N={id:`custom-${w}`,label:w,value:w,category:"Fuzzy Search"}:N={id:`${w.category}-${w.id}`,label:w.label,value:w.value,category:w.category},r.some(E=>E.value===N.value&&E.category===N.category)||l(N)}})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(q,{variant:o==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),className:"flex items-center gap-2",children:[a.jsx(wi,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(q,{variant:o==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Di,{children:[a.jsx(zi,{asChild:!0,children:a.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort:"," ",i==="alphabetical"?"A-Z":i==="group"?"Group":"Power Count",a.jsx(tn,{className:"h-4 w-4"})]})}),a.jsxs(_a,{align:"end",children:[a.jsx(en,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),a.jsx(en,{onClick:()=>u("group"),children:"By Group"}),a.jsx(en,{onClick:()=>u("power-count"),children:"By Power Count"})]})]})})]}),a.jsx("div",{className:"my-4",children:r.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>r.forEach(w=>c(w.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(_t,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),r.map(w=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>c(w.id),title:"Click to remove",children:[w.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},w.id))]})}),o==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:p.map(w=>{const N=s.find(E=>E.id===w.id||E.edid===w.id);return N?a.jsx(nf,{originalBirthsign:N,className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>j(N)},w.id):null})}):a.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:p.map(w=>{const N=s.find(E=>E.id===w.id||E.edid===w.id);return N?a.jsx(nf,{originalBirthsign:N,className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>j(N)},w.id):null})}),p.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}),a.jsx(lB,{birthsign:v,isOpen:x,onOpenChange:y})]})}class ws{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.description=="string"&&Array.isArray(t.tags)&&Array.isArray(t.prerequisites)}static equals(t,n){return t.id===n.id}static hasTag(t,n){return t.tags.includes(n)}static hasAnyTag(t,n){return n.some(s=>this.hasTag(t,s))}static hasAllTags(t,n){return n.every(s=>this.hasTag(t,s))}static filterByTag(t,n){return t.filter(s=>this.hasTag(s,n))}static filterByAnyTag(t,n){return t.filter(s=>this.hasAnyTag(s,n))}static filterByAllTags(t,n){return t.filter(s=>this.hasAllTags(s,n))}static isRootNode(t){return t.prerequisites.length===0}static getRootNodes(t){return t.filter(n=>this.isRootNode(n))}static isLeafNode(t,n){return!n.some(s=>s.prerequisites.includes(t.edid))}static getLeafNodes(t){return t.filter(n=>this.isLeafNode(n,t))}static getNextNodes(t,n){return n.filter(s=>s.prerequisites.includes(t.edid))}static getPrerequisiteNodes(t,n){return n.filter(s=>t.prerequisites.includes(s.edid))}static search(t,n){const s=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s)||r.description.toLowerCase().includes(s)||r.tags.some(i=>i.toLowerCase().includes(s)))}static sortByName(t){return[...t].sort((n,s)=>n.name.localeCompare(s.name))}static sortByPrerequisites(t){return[...t].sort((n,s)=>n.prerequisites.length-s.prerequisites.length)}static getUniqueTags(t){const n=t.flatMap(s=>s.tags);return[...new Set(n)].sort()}static getUniquePrerequisites(t){const n=t.flatMap(s=>s.prerequisites);return[...new Set(n)].sort()}}function Ma(e={}){const{includePrerequisites:t=!1,includeNextNodes:n=!1,filterByTags:s=[],searchTerm:r="",sortBy:i="name"}=e,{data:o,loading:l,error:c,reload:u}=i8(),d=o||[],f=c,m=g.useMemo(()=>ws.getRootNodes(d),[d]),h=g.useMemo(()=>[],[d]),p=g.useMemo(()=>ws.getUniqueTags(d),[d]),v=g.useMemo(()=>{let C=[...d];return s.length>0&&(C=ws.filterByAnyTag(C,s)),r&&(C=ws.search(C,r)),i==="name"?C=ws.sortByName(C):i==="prerequisites"&&(C=ws.sortByPrerequisites(C)),C},[d,s,r,i]),b=C=>d.find(k=>k.id===C),x=C=>d.find(k=>k.edid===C);return{nodes:d,rootNodes:m,filteredNodes:v,isLoading:l,error:f,categories:h,tags:p,refresh:()=>{u()},getNodeById:b,getNodeByName:C=>d.find(k=>k.name===C),getNodeByEdid:x,getNextNodes:C=>{const k=x(C);return k?ws.getNextNodes(k,d):[]},getPrerequisiteNodes:C=>{const k=x(C);return k?ws.getPrerequisiteNodes(k,d):[]},filterByCategory:C=>[],filterByTag:C=>ws.filterByTag(d,C),searchNodes:C=>ws.search(d,C)}}function S0(e={}){const{initialPath:t=[],validatePath:n=!0}=e,[s,r]=g.useState(t),{nodes:i,rootNodes:o}=Ma(),l=g.useMemo(()=>s.length>0?s[s.length-1]:null,[s]),c=g.useMemo(()=>s.length===0?o:i.filter(j=>j.prerequisites.length===0?!1:j.prerequisites.some(w=>s.some(N=>N.edid===w))),[s,i,o]),u=g.useMemo(()=>l?i.filter(j=>j.prerequisites.includes(l.edid)):o,[l,i,o]),d=g.useMemo(()=>l?i.filter(j=>l.prerequisites.includes(j.edid)):[],[l,i]),{isValidPath:f,pathErrors:m}=g.useMemo(()=>{if(!n||s.length===0)return{isValidPath:!0,pathErrors:[]};const j=[];for(let w=1;w<s.length;w++){const N=s[w],E=s.slice(0,w);!N.prerequisites.some(_=>E.some(C=>C.edid===_))&&N.prerequisites.length>0&&j.push(`${N.name} requires one of: ${N.prerequisites.join(", ")}`)}return{isValidPath:j.length===0,pathErrors:j}},[s,n]),h=g.useCallback(j=>{if(s.length>0){if(s[s.length-1],!j.prerequisites.some(N=>s.some(E=>E.edid===N))&&j.prerequisites.length>0)return!1}else if(j.prerequisites.length>0)return!1;return r(w=>[...w,j]),!0},[s]),p=g.useCallback(j=>{r(w=>w.slice(0,j+1))},[]),v=g.useCallback(j=>{r(j)},[]),b=g.useCallback(()=>{r([])},[]),x=g.useCallback(j=>{r(w=>w.slice(0,j+1))},[]),y=g.useCallback(()=>({startNode:s[0]||null,endNode:s[s.length-1]||null,totalNodes:s.length,pathString:s.map(j=>j.name).join(" → ")}),[s]);return{currentPath:s,currentNode:l,availableNodes:c,rootNodes:o,isValidPath:f,pathErrors:m,addNodeToPath:h,removeNodeFromPath:p,setPath:v,clearPath:b,goToPathIndex:x,pathLength:s.length,isPathComplete:u.length===0,nextPossibleNodes:u,prerequisiteNodes:d,getPathSummary:y}}function ym(e={}){const{fromNode:t,maxDepth:n=10}=e,{nodes:s,rootNodes:r,isLoading:i,error:o}=Ma();return{possiblePaths:g.useMemo(()=>{if(i||o||!s.length)return[];const c=[],u=new Set,d=m=>s.filter(h=>h.prerequisites.includes(m)),f=(m,h=0)=>{if(h>=n)return;const p=m[m.length-1],v=d(p.edid);if(v.length===0){c.push({path:[...m],isComplete:!0,endNode:p});return}v.forEach(b=>{const x=m.map(y=>y.id).join("->")+"->"+b.id;u.has(x)||(u.add(x),f([...m,b],h+1))})};if(t){if(d(t.edid).length===0)return[];f([t])}else r.forEach(m=>{f([m])});return c},[s,r,t,n,i,o]),isLoading:i,error:o}}var xh,bm="HoverCard",[nC,ote]=zn(bm,[xl]),wm=xl(),[JB,k0]=nC(bm),sC=e=>{const{__scopeHoverCard:t,children:n,open:s,defaultOpen:r,onOpenChange:i,openDelay:o=700,closeDelay:l=300}=e,c=wm(t),u=g.useRef(0),d=g.useRef(0),f=g.useRef(!1),m=g.useRef(!1),[h,p]=Rr({prop:s,defaultProp:r??!1,onChange:i,caller:bm}),v=g.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>p(!0),o)},[o,p]),b=g.useCallback(()=>{clearTimeout(u.current),!f.current&&!m.current&&(d.current=window.setTimeout(()=>p(!1),l))},[l,p]),x=g.useCallback(()=>p(!1),[p]);return g.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),a.jsx(JB,{scope:t,open:h,onOpenChange:p,onOpen:v,onClose:b,onDismiss:x,hasSelectionRef:f,isPointerDownOnContentRef:m,children:a.jsx(n2,{...c,children:n})})};sC.displayName=bm;var rC="HoverCardTrigger",aC=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,r=k0(rC,n),i=wm(n);return a.jsx(e0,{asChild:!0,...i,children:a.jsx(je.a,{"data-state":r.open?"open":"closed",...s,ref:t,onPointerEnter:ne(e.onPointerEnter,af(r.onOpen)),onPointerLeave:ne(e.onPointerLeave,af(r.onClose)),onFocus:ne(e.onFocus,r.onOpen),onBlur:ne(e.onBlur,r.onClose),onTouchStart:ne(e.onTouchStart,o=>o.preventDefault())})})});aC.displayName=rC;var eI="HoverCardPortal",[lte,tI]=nC(eI,{forceMount:void 0}),rf="HoverCardContent",iC=g.forwardRef((e,t)=>{const n=tI(rf,e.__scopeHoverCard),{forceMount:s=n.forceMount,...r}=e,i=k0(rf,e.__scopeHoverCard);return a.jsx(Yt,{present:s||i.open,children:a.jsx(nI,{"data-state":i.open?"open":"closed",...r,onPointerEnter:ne(e.onPointerEnter,af(i.onOpen)),onPointerLeave:ne(e.onPointerLeave,af(i.onClose)),ref:t})})});iC.displayName=rf;var nI=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,...l}=e,c=k0(rf,n),u=wm(n),d=g.useRef(null),f=Ie(t,d),[m,h]=g.useState(!1);return g.useEffect(()=>{if(m){const p=document.body;return xh=p.style.userSelect||p.style.webkitUserSelect,p.style.userSelect="none",p.style.webkitUserSelect="none",()=>{p.style.userSelect=xh,p.style.webkitUserSelect=xh}}},[m]),g.useEffect(()=>{if(d.current){const p=()=>{h(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",p),()=>{document.removeEventListener("pointerup",p),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),g.useEffect(()=>{d.current&&aI(d.current).forEach(v=>v.setAttribute("tabindex","-1"))}),a.jsx(Jc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:ne(i,p=>{p.preventDefault()}),onDismiss:c.onDismiss,children:a.jsx(t0,{...u,...l,onPointerDown:ne(l.onPointerDown,p=>{p.currentTarget.contains(p.target)&&h(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...l.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),sI="HoverCardArrow",rI=g.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,r=wm(n);return a.jsx(n0,{...r,...s,ref:t})});rI.displayName=sI;function af(e){return t=>t.pointerType==="touch"?void 0:e()}function aI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var iI=sC,oI=aC,oC=iC;const lC=iI,cC=oI,C0=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},r)=>a.jsx(oC,{ref:r,align:t,sideOffset:n,className:H("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Lt.TOOLTIP},...s}));C0.displayName=oC.displayName;function lI({node:e,allNodes:t,children:n,showPrerequisites:s=!0,showNextNodes:r=!0,showTags:i=!0,className:o=""}){const l=u=>t.filter(d=>d.prerequisites.includes(u)),c=u=>t.filter(d=>e.prerequisites.includes(d.name));return a.jsxs(lC,{children:[a.jsx(cC,{asChild:!0,children:n}),a.jsx(C0,{className:`w-80 p-0 ${o}`,children:a.jsxs(ve,{className:"border-0 shadow-none",children:[a.jsx(Re,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:e.name})}),e.icon&&a.jsx("div",{className:"w-8 h-8 ml-2",children:a.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-contain"})})]})}),a.jsxs(be,{className:"pt-0 space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),s&&e.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[c(e.name).map(u=>a.jsx(W,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:u.name},u.id)),e.prerequisites.filter(u=>!t.some(d=>d.name===u)).map((u,d)=>a.jsx(W,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500 border-gray-200",children:u},`missing-${d}`))]})]}),r&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Leads to:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[l(e.name).map(u=>a.jsx(W,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:u.name},u.id)),l(e.name).length===0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"No further progression"})]})]}),i&&e.tags.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((u,d)=>a.jsx(W,{variant:"secondary",className:"text-xs",children:u},d))})]}),a.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[a.jsxs("p",{children:["ID: ",e.id]}),e.globalFormId&&a.jsxs("p",{children:["Form ID: ",e.globalFormId]})]})]})]})})]})}function uC({node:e,allNodes:t,variant:n="default",size:s="md",showHoverCard:r=!0,onClick:i,className:o=""}){const l={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},c=a.jsx(W,{variant:n,className:`
        ${l[s]} 
        ${i?"cursor-pointer hover:bg-muted/50":""} 
        ${o}
        rounded-full
      `,onClick:i,children:e.name});return r?a.jsx(lI,{node:e,allNodes:t,children:c}):c}function dC({path:e,allNodes:t,onBreadcrumbClick:n,variant:s="default",className:r=""}){if(e.length===0)return a.jsx("div",{className:`flex items-center gap-2 ${r}`,children:a.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})});const i=s==="compact"?"sm":"md";return a.jsx("div",{className:`flex items-center gap-2 ${r}`,children:e.map((o,l)=>a.jsxs(P.Fragment,{children:[a.jsx(uC,{node:o,allNodes:t,variant:l===e.length-1?"default":"outline",size:i,showHoverCard:!0,onClick:n?()=>n(l):void 0}),l<e.length-1&&a.jsx(Yc,{className:"w-4 h-4 text-muted-foreground"})]},o.id))})}function cI({path:e,allNodes:t,selectedPathLength:n,isComplete:s,endNode:r,onPathClick:i,variant:o="default",className:l=""}){const c=o==="compact"?"sm":"md";return a.jsxs("div",{className:`p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer ${l}`,onClick:()=>i(e,n),children:[a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsx("div",{className:"flex flex-wrap items-center gap-1",children:e.map((u,d)=>a.jsxs(P.Fragment,{children:[a.jsx(uC,{node:u,allNodes:t,variant:"outline",size:c,showHoverCard:!0,onClick:f=>{f==null||f.stopPropagation(),i(e,d)},className:`
                   ${d===0&&n===0?"cursor-pointer":""}
                   ${s&&d===e.length-1?"bg-yellow-600 text-yellow-50 border-yellow-700":""}
                 `}),d<e.length-1&&a.jsx(Yc,{className:"w-3 h-3 text-muted-foreground"})]},u.id))})}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Length: ",e.length," steps"]}),s&&a.jsxs("span",{children:["• Ends at: ",r.name]}),e.length>n&&a.jsxs("span",{children:["• ",e.length-n," more choices"]})]})]})}function Wg({possiblePaths:e,selectedPathLength:t,onPathClick:n,variant:s="default",className:r=""}){const{nodes:i}=Ma();return e.length===0?a.jsxs("div",{className:`text-center py-8 ${r}`,children:[a.jsx("p",{className:"text-muted-foreground",children:"No possible paths available."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You may have reached the end of available destiny paths."})]}):a.jsx("div",{className:`space-y-3 ${r}`,children:e.map((o,l)=>a.jsx(cI,{path:o.path,allNodes:i,selectedPathLength:t,isComplete:o.isComplete,endNode:o.endNode,onPathClick:n,variant:s},l))})}const fC=({navigate:e})=>{const{build:t,setDestinyPath:n}=ht(),{nodes:s,isLoading:r,error:i}=Ma(),o=P.useMemo(()=>t.destinyPath.map(y=>s.find(j=>j.id===y)).filter(y=>!!y),[t.destinyPath,s]),{isValidPath:l,pathErrors:c,setPath:u,clearPath:d,currentPath:f,currentNode:m}=S0({initialPath:o,validatePath:!0}),{possiblePaths:h}=ym({fromNode:m||void 0}),p=y=>{const j=y.map(w=>w.id);n(j)},v=(y,j)=>{let w;if(f.length===0)w=y.slice(0,j+1);else{if(j===0)return;const N=y.slice(1,j+1);w=[...f,...N]}u(w),p(w)},b=()=>{d(),n([])},x=y=>{const j=f.slice(0,y+1);u(j),p(j)};return a.jsxs(ve,{className:"mb-6",children:[a.jsx(Re,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(Pe,{className:"text-lg",children:"Destiny"}),a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:[a.jsx(Ca,{className:"w-4 h-4 mr-1"}),"View All"]})]})}),a.jsx(be,{children:r?a.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):i?a.jsx("div",{className:"text-destructive",children:i}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Selected Path"}),a.jsx(dC,{path:f,allNodes:s,variant:"compact",onBreadcrumbClick:x})]}),f.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Path Details (",f.length," nodes)"]}),a.jsxs(q,{variant:"outline",size:"sm",onClick:b,className:"text-xs",children:[a.jsx(yr,{className:"w-3 h-3 mr-1"}),"Clear Path"]})]}),a.jsx("div",{className:"space-y-2",children:f.map((y,j)=>a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium flex-shrink-0",children:j+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h5",{className:"font-medium text-sm text-foreground",children:y.name}),y.description&&a.jsx(De,{text:y.description,className:"text-xs text-muted-foreground mt-1",as:"p"})]})]})},y.id))})]}),h.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:f.length===0?"Choose Your Starting Point":"Continue Your Path"}),a.jsx(di,{className:"h-[400px]",children:a.jsx("div",{className:"p-2",children:a.jsx(Wg,{possiblePaths:h,selectedPathLength:f.length,onPathClick:v,variant:"compact"})})})]}),!l&&c.length>0&&a.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Do,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),a.jsx("ul",{className:"space-y-0.5",children:c.map((y,j)=>a.jsxs("li",{children:["• ",y]},j))})]}),f.length===0&&h.length===0&&a.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[a.jsx("p",{className:"text-sm",children:"No destiny paths available"}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"mt-2",children:"Browse All Destinies"})]})]})})]})};class pt{static getRaceById(t,n){return t.find(s=>s.edid===n)}static getRacesByCategory(t,n){return t.filter(s=>s.category===n)}static getUniqueCategories(t){return[...new Set(t.map(n=>n.category))]}static getUniqueTags(t){const n=t.flatMap(s=>[...s.keywords||[],...s.flags||[]]);return[...new Set(n)]}static filterByCategory(t,n){return n?t.filter(s=>s.category===n):t}static filterByTags(t,n){return n.length===0?t:t.filter(s=>n.some(r=>(s.keywords||[]).includes(r)||(s.flags||[]).includes(r)))}static filterByAnyTag(t,n){return n.length===0?t:t.filter(s=>n.some(r=>(s.keywords||[]).includes(r)||(s.flags||[]).includes(r)))}static search(t,n){if(!n.trim())return t;const s=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(s)||(r.description||"").toLowerCase().includes(s)||(r.keywords||[]).some(i=>i.toLowerCase().includes(s))||(r.flags||[]).some(i=>i.toLowerCase().includes(s)))}static sortByName(t){return[...t].sort((n,s)=>n.name.localeCompare(s.name))}static sortByCategory(t){return[...t].sort((n,s)=>{const r=n.category.localeCompare(s.category);return r!==0?r:n.name.localeCompare(s.name)})}static transformToPlayerCreationItem(t){const n=[...t.keywords||[],...t.flags||[],t.category],s=[...(t.skillBonuses||[]).map(r=>({name:`${r.skill} +${r.bonus}`,type:"positive",description:`Provides ${r.bonus} bonus to ${r.skill}`,value:r.bonus,target:r.skill})),...(t.racialSpells||[]).map(r=>({name:r.name,type:"positive",description:r.description,target:"racial ability"}))];return{id:t.edid,name:t.name,description:t.description||"",tags:n,effects:s,associatedItems:[],imageUrl:void 0,category:t.category||""}}static getRelatedRaces(t,n){return n.filter(s=>s.edid!==t.edid&&s.category===t.category)}static calculateRaceStats(t){var n,s,r,i,o,l;return{totalHealth:((n=t.startingStats)==null?void 0:n.health)||0,totalMagicka:((s=t.startingStats)==null?void 0:s.magicka)||0,totalStamina:((r=t.startingStats)==null?void 0:r.stamina)||0,totalCarryWeight:((i=t.startingStats)==null?void 0:i.carryWeight)||0,skillBonusCount:((o=t.skillBonuses)==null?void 0:o.length)||0,racialSpellCount:((l=t.racialSpells)==null?void 0:l.length)||0}}static applyFilters(t,n){let s=[...t];return n.search&&(s=this.search(s,n.search)),n.type&&(s=this.filterByCategory(s,n.type)),n.tags.length>0&&(s=this.filterByTags(s,n.tags)),s}}class uI{static enrichRacesWithTags(t){t.forEach(n=>{})}static generateSearchCategories(t){const n=[...new Set(t.map(i=>i.category))],s=[...new Set(t.flatMap(i=>i.keywords.map(o=>o.edid)))],r=[...new Set(t.flatMap(i=>i.flags))];return[{id:"category",name:"Race Type",options:n},{id:"keywords",name:"Keywords",options:s},{id:"flags",name:"Flags",options:r}]}static validateRaceData(t){try{return!(!t.name||!t.edid||!t.category||!t.startingStats||typeof t.startingStats.health!="number"||typeof t.startingStats.magicka!="number"||typeof t.startingStats.stamina!="number"||typeof t.startingStats.carryWeight!="number"||!Array.isArray(t.skillBonuses)||!Array.isArray(t.racialSpells)||!Array.isArray(t.keywords)||!Array.isArray(t.flags))}catch{return!1}}static calculateRaceStats(t){const n=t.startingStats.health,s=t.startingStats.magicka,r=t.startingStats.stamina,i=t.startingStats.carryWeight,o=t.skillBonuses.length,l=t.racialSpells.length;return{totalHealth:n,totalMagicka:s,totalStamina:r,totalCarryWeight:i,skillBonusCount:o,racialSpellCount:l}}static calculatePowerLevel(t){const n=this.calculateRaceStats(t),s=(n.totalHealth+n.totalMagicka+n.totalStamina)/3,r=n.skillBonusCount*5+n.racialSpellCount*10;return Math.round(s+r)}static getDifficultyRating(t){const n=this.calculatePowerLevel(t);return n<50?1:n<70?2:n<90?3:n<110?4:5}static getPlaystyleSuggestions(t){const n=[],s=t.startingStats;return s.health>120&&(n.push("Tank"),n.push("Melee Fighter")),s.magicka>120&&(n.push("Mage"),n.push("Spellcaster")),s.stamina>120&&(n.push("Archer"),n.push("Rogue")),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("onehanded"))&&n.push("One-Handed Warrior"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("destruction"))&&n.push("Destruction Mage"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("sneak"))&&n.push("Stealth"),[...new Set(n)]}static formatRaceDescription(t){const n=this.calculateRaceStats(t),s=this.getPlaystyleSuggestions(t);let r=t.description;return s.length>0&&(r+=`

Recommended playstyles: ${s.join(", ")}`),r+=`

Starting Stats: Health ${n.totalHealth}, Magicka ${n.totalMagicka}, Stamina ${n.totalStamina}`,r+=`
Abilities: ${n.skillBonusCount} skill bonuses, ${n.racialSpellCount} racial spells`,r}}function yl(e={}){const{includeRelated:t=!1,categoryFilter:n="",searchTerm:s="",sortBy:r="name"}=e,{data:i,loading:o,error:l}=wr(),c=g.useMemo(()=>pt.getUniqueCategories(i),[i]),u=g.useMemo(()=>pt.getUniqueTags(i),[i]),d=g.useMemo(()=>i.filter(y=>!(n&&y.category!==n||s&&pt.search([y],s).length===0)),[i,n,s]),f=g.useMemo(()=>r==="name"?pt.sortByName(d):pt.sortByCategory(d),[d,r]);return{races:i,filteredRaces:f,isLoading:o,error:l,categories:c,tags:u,refresh:async()=>{await wr.getState().load()},getRaceById:y=>pt.getRaceById(i,y),getRacesByCategory:y=>pt.getRacesByCategory(i,y),filterByCategory:y=>pt.filterByCategory(i,y),filterByTag:y=>pt.filterByTags(i,[y]),searchRaces:y=>pt.search(i,y)}}const dI={Altmer:"altmer.svg",Argonian:"argonian.svg",Bosmer:"woodelf.svg",Breton:"breton.svg",Dunmer:"dunmer.svg",Imperial:"imperial.svg",Khajiit:"khajit.svg",Nord:"nord.svg",Orsimer:"orc.svg",Redguard:"redguard.svg"};function Fn({raceName:e,size:t="md",className:n}){const s=dI[e],r=s?hn(`assets/race-avatar/${s}`):void 0;return a.jsx(mm,{imgSrc:r,alt:e,size:t,className:n})}function na({category:e,size:t="md",className:n}){return a.jsx(fk,{category:e,categoryType:"race",size:t,className:n})}const fI={ability:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-200"},trait:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},flag:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"},skill:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"}},mI={sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1"};function hI(e){const t=e.toLowerCase();return["destruction","restoration","alteration","illusion","conjuration","light armor","heavy armor","one-handed","two-handed","archery","block","smithing","enchanting","alchemy","speechcraft","sneak","lockpicking","pickpocket"].some(n=>t.includes(n))?"skill":["waterbreathing","night eye","claws","histskin","dragonskin","magic resistance","voice of the emperor","battle cry"].some(n=>t.includes(n))?"ability":["strong stomach","beast race","bleeds","natural"].some(n=>t.includes(n))?"trait":"flag"}function Ns({keyword:e,type:t,size:n="sm",className:s}){const r=t||hI(e),i=fI[r];return a.jsx(W,{variant:"outline",className:H(i.bg,i.text,i.border,mI[n],"font-medium",s),children:e})}const gI={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",purple:"bg-purple-500",orange:"bg-orange-500"},pI={sm:"h-1.5",md:"h-2",lg:"h-3"};function ir({value:e,maxValue:t,label:n,color:s="blue",size:r="md",showValue:i=!0,className:o}){const l=Math.min(e/t*100,100);return a.jsxs("div",{className:H("space-y-1",o),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:n}),i&&a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})]}),a.jsx("div",{className:"w-full bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:H("transition-all duration-300 ease-out",gI[s],pI[r]),style:{width:`${l}%`}})})]})}function Uo({effects:e,title:t="Effects",className:n,maxDisplay:s,compact:r=!1,showDescriptions:i=!0}){if(!e||e.length===0)return null;const o=s?e.slice(0,s):e,l=s&&e.length>s;return a.jsxs("div",{className:H("space-y-3",n),children:[t&&a.jsx(un,{className:"text-lg font-medium text-foreground",children:t}),r?a.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.map((c,u)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:c.description,children:[a.jsx(Ze,{className:"h-3 w-3 text-yellow-500"}),a.jsx("span",{className:"font-medium",children:c.name})]},u)),l&&a.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded text-xs text-muted-foreground",children:["+",e.length-s," more"]})]}):a.jsxs("div",{className:"space-y-3",children:[o.map((c,u)=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-muted",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Ze,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h6",{className:"font-medium text-sm",children:c.name}),i&&c.description&&a.jsx(De,{text:c.description,className:"text-xs text-muted-foreground mt-1 leading-relaxed"})]})]})},u)),l&&a.jsxs("div",{className:"text-center text-xs text-muted-foreground py-2",children:["+",e.length-s," more effects"]})]})]})}function iu({stats:e,regeneration:t,title:n="Stats",className:s,showRegeneration:r=!0,compact:i=!1}){return a.jsxs("div",{className:H("space-y-3",s),children:[a.jsx(un,{className:"text-lg font-medium text-foreground",children:n}),i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Health"}),a.jsx("span",{className:"font-medium",children:e.health})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka"}),a.jsx("span",{className:"font-medium",children:e.magicka})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina"}),a.jsx("span",{className:"font-medium",children:e.stamina})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight"}),a.jsx("span",{className:"font-medium",children:e.carryWeight})]})]}),r&&t&&a.jsxs("div",{className:"space-y-2 mt-3",children:[a.jsx(un,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Health"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Magicka"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Stamina"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]}),!i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(ir,{value:e.health,maxValue:200,label:"Health",color:"red",size:"sm"}),a.jsx(ir,{value:e.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),a.jsx(ir,{value:e.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),r&&t&&a.jsxs("div",{className:"space-y-2 mt-3",children:[a.jsx(un,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Health"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Magicka"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),a.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[a.jsx("div",{className:"font-medium",children:"Stamina"}),a.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]})]})}function ou({item:e,className:t,showToggle:n=!0,isExpanded:s=!1,onToggle:r,disableHover:i=!1}){const o=e.originalRace;return a.jsxs(he,{className:t,expanded:s,onToggle:r,disableHover:i,children:[a.jsx(he.Header,{children:a.jsxs("div",{className:"flex items-start justify-between w-full",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Fn,{raceName:e.name,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ne,{className:"text-primary font-semibold",children:e.name}),e.category&&a.jsx(W,{variant:"outline",className:H("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:n&&a.jsx(Qn,{itemId:(o==null?void 0:o.edid)||e.id,itemType:"race",itemName:e.name})})]})}),a.jsx(he.Summary,{children:a.jsx("div",{className:"line-clamp-2",children:a.jsx(De,{text:e.summary||e.description,className:"text-sm text-muted-foreground line-clamp-2"})})}),a.jsxs(he.Details,{children:[a.jsx("div",{children:a.jsx(De,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),(o==null?void 0:o.startingStats)&&a.jsx(iu,{stats:o.startingStats,regeneration:o.regeneration,title:"Starting Attributes",showRegeneration:!1,compact:!1}),(o==null?void 0:o.skillBonuses)&&o.skillBonuses.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Skills"}),a.jsx("div",{className:"space-y-2",children:o.skillBonuses.map((l,c)=>a.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium",children:[l.skill," +",l.bonus]}),a.jsx(W,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},c))})]}),(o==null?void 0:o.racialSpells)&&o.racialSpells.length>0&&a.jsx(Uo,{effects:o.racialSpells.map(l=>({name:l.name,description:l.description})),title:"Quirks",showDescriptions:!0})]})]})}function mC(e,t){const n=g.useMemo(()=>e.map(l=>({id:l.edid.toLowerCase().replace("race",""),name:l.name,description:l.description,category:l.category,abilities:l.racialSpells.map(c=>c.name),skills:l.skillBonuses.map(c=>c.skill),keywords:l.keywords.map(c=>c.edid),originalRace:l})),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Qt(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredRaces:g.useMemo(()=>i.map(l=>l.item.originalRace),[i]),searchResults:i,searchableRaces:n}}function Vo({races:e,onSelect:t,placeholder:n="Search races...",className:s=""}){const[r,i]=g.useState(""),{filteredRaces:o}=mC(e,r),l=g.useMemo(()=>o.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.category,icon:a.jsx(Fn,{raceName:d.name,size:"sm"}),badge:d.category&&a.jsx(W,{variant:"outline",className:H("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.category}),metadata:{originalRace:d}})),[o]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>a.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&a.jsx("div",{className:"flex-shrink-0",children:d.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:d.label}),d.badge&&a.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&a.jsx(De,{text:d.description,className:"text-sm text-muted-foreground line-clamp-2 mt-1"})]})]});return a.jsx(au,{options:l,onSelect:c,placeholder:n,className:s,renderOption:u,emptyMessage:"No races found",searchQuery:r,onSearchQueryChange:i})}function jm({keywords:e,title:t="Keywords",className:n,maxDisplay:s,showCount:r=!0}){if(!e||e.length===0)return null;const i=s?e.slice(0,s):e,o=s&&e.length>s;return a.jsxs("div",{className:H("space-y-3",n),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[t&&a.jsx(un,{className:"text-lg font-medium text-foreground",children:t}),r&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length," keyword",e.length!==1?"s":""]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.map((l,c)=>a.jsx(Ns,{keyword:l,size:"sm"},c)),o&&a.jsxs("span",{className:"text-xs text-muted-foreground px-2 py-1",children:["+",e.length-s," more"]})]})]})}function hC({item:e,originalRace:t,isExpanded:n=!1,onToggle:s,className:r,showViewAllButton:i=!1,showToggle:o=!0,viewAllButtonText:l="View All",viewAllButtonRoute:c="/race"}){const u=lt(),d=()=>{u(c)},f=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Race",m=(e==null?void 0:e.description)||(t==null?void 0:t.description)||"",h=(e==null?void 0:e.category)||(t==null?void 0:t.category)||"",p=(e==null?void 0:e.effects)||[],v=(e==null?void 0:e.summary)||(t==null?void 0:t.description)||"";return a.jsxs(m8,{isExpanded:n,onToggle:s||(()=>{}),className:r,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Fn,{raceName:f,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ne,{className:"text-primary font-semibold",children:f}),h&&a.jsx(na,{category:h,size:"sm"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[p&&p.length>0&&a.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ze,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{children:[p.length," effects"]})]})}),i&&a.jsxs(q,{variant:"outline",size:"sm",onClick:d,className:"text-xs",children:[a.jsx(Ca,{className:"h-3 w-3 mr-1"}),l]}),o&&a.jsx(Qn,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"race",itemName:f})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"line-clamp-2",children:a.jsx(xe,{className:"text-sm text-muted-foreground",children:v})}),a.jsx(Uo,{effects:p,maxDisplay:2,compact:!0})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(xe,{className:"text-sm text-muted-foreground leading-relaxed",children:m})}),(t==null?void 0:t.startingStats)&&a.jsx(iu,{stats:t.startingStats,regeneration:t.regeneration,title:"Starting Stats"}),(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&a.jsx(Uo,{effects:t.racialSpells.map(b=>({name:b.name,description:b.description})),title:"Racial Abilities"}),(t==null?void 0:t.keywords)&&t.keywords.length>0&&a.jsx(jm,{keywords:t.keywords.map(b=>b.edid),title:"Keywords"})]})]})}function xb({item:e,originalRace:t,className:n,onClick:s,showViewAllButton:r=!1,showToggle:i=!0,viewAllButtonText:o="View All",viewAllButtonRoute:l="/race"}){const c=lt(),u=m=>{m.stopPropagation(),c(l)},d=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Race";e!=null&&e.description||t!=null&&t.description;const f=(e==null?void 0:e.category)||(t==null?void 0:t.category)||"";return e!=null&&e.effects,e!=null&&e.summary||t!=null&&t.description,a.jsxs("div",{className:H("p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",n),onClick:s,children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Fn,{raceName:d,size:"2xl"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(Ne,{className:"text-primary font-semibold truncate",children:d}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f&&a.jsx(na,{category:f,size:"sm"}),(t==null?void 0:t.startingStats)&&a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500/20 text-red-700 dark:text-red-400 rounded-full text-xs font-medium whitespace-nowrap",children:["❤️ ",t.startingStats.health]}),a.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-blue-500/20 text-blue-700 dark:text-blue-400 rounded-full text-xs font-medium whitespace-nowrap",children:["🔷 ",t.startingStats.magicka]}),a.jsxs("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-green-500/20 text-green-700 dark:text-green-400 rounded-full text-xs font-medium whitespace-nowrap",children:["💚 ",t.startingStats.stamina]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ze,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.racialSpells.length," effects"]})]}),i&&a.jsx("div",{onClick:m=>m.stopPropagation(),children:a.jsx(Qn,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"race",itemName:d})})]})]}),a.jsxs("div",{className:"space-y-2",children:[(t==null?void 0:t.skillBonuses)&&t.skillBonuses.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-1 justify-items-center",children:t.skillBonuses.map((m,h)=>a.jsxs("div",{className:"px-2 py-1 bg-muted/50 text-muted-foreground rounded text-xs font-medium text-left w-full",children:[m.skill," +",m.bonus]},h))}),(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:t.racialSpells.map((m,h)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(Ze,{className:"h-3 w-3"}),m.name]},h))})]})]})]}),r&&a.jsxs(q,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:u,children:[a.jsx(Ca,{className:"h-4 w-4 mr-2"}),o]})]})}function xI({race:e,isOpen:t,onOpenChange:n}){return e?a.jsx(vl,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Fn,{raceName:e.name,size:"4xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(na,{category:e.category,size:"sm"}),a.jsx(Qn,{itemId:e.edid,itemType:"race",itemName:e.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})]})]})}),a.jsxs("div",{className:"space-y-6",children:[e.startingStats&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Starting Stats"}),a.jsx(iu,{stats:e.startingStats,regeneration:e.regeneration,title:"",compact:!1})]}),e.skillBonuses&&e.skillBonuses.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Starting Skills"}),a.jsx("div",{className:"space-y-2",children:e.skillBonuses.map((s,r)=>a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium",children:[s.skill," +",s.bonus]}),a.jsx(W,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},r))})]}),e.racialSpells&&e.racialSpells.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Racial Abilities"}),a.jsx(Uo,{effects:e.racialSpells.map(s=>({name:s.name,description:s.description})),title:"",showDescriptions:!0})]}),e.keywords&&e.keywords.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Keywords"}),a.jsx(jm,{keywords:e.keywords.map(s=>s.edid),title:"",maxDisplay:10})]})]})]})}):null}function Nm(e){var t,n;return{...e,id:e.edid,name:e.name,description:e.description,tags:[e.category,...Array.isArray(e.flags)?e.flags:[]],summary:e.description.length>100?`${e.description.substring(0,100)}...`:e.description,effects:[...((t=e.skillBonuses)==null?void 0:t.map(s=>({type:"positive",name:s.skill,description:`+${s.bonus} to ${s.skill}`,value:s.bonus,target:s.skill})))||[],...((n=e.racialSpells)==null?void 0:n.map(s=>({type:"positive",name:s.name,description:s.description})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalRace:e}}function vI({className:e,allRaces:t}){const{build:n,setRace:s}=ht(),r=lt(),[i,o]=g.useState(!0),l=n.race?t.find(m=>m.edid===n.race):null,c=m=>{s(m.edid)},u=()=>{r("/race")},d=()=>{o(!i)};if(!l)return a.jsxs(qn,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),a.jsx(Vo,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=Nm(l);return a.jsxs(qn,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx(Vo,{races:t,onSelect:c,placeholder:`Race: Select a race (${l.name})`,className:"w-full"}),a.jsx(ou,{item:f,isExpanded:i,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function gC(){const[e,t]=g.useState(null),[n,s]=g.useState("grid"),[r,i]=g.useState([]),o=g.useCallback(f=>{t(f)},[]),l=g.useCallback(f=>{s(f)},[]),c=g.useCallback(f=>{i(m=>m.includes(f)?m.filter(h=>h!==f):[...m,f])},[]),u=g.useCallback(()=>{i([])},[]),d=g.useCallback(f=>{i(f)},[]);return{selectedRace:e,viewMode:n,expandedSections:r,setSelectedRace:o,setViewMode:l,toggleExpandedSection:c,clearExpandedSections:u,expandAllSections:d}}function Sm({races:e}){const[t,n]=g.useState(""),[s,r]=g.useState({search:"",type:"",tags:[]}),i=g.useMemo(()=>pt.getUniqueCategories(e),[e]),o=g.useMemo(()=>pt.getUniqueTags(e),[e]),l=g.useMemo(()=>{let p=e;return t.trim()&&(p=pt.search(p,t)),s.type&&(p=pt.filterByCategory(p,s.type)),s.tags.length>0&&(p=pt.filterByTags(p,s.tags)),pt.sortByName(p)},[e,t,s]),c=g.useCallback(p=>{n(p),r(v=>({...v,search:p}))},[]),u=g.useCallback(p=>{r(p),n(p.search)},[]),d=g.useCallback(()=>{n(""),r({search:"",type:"",tags:[]})},[]),f=g.useCallback(p=>{r(v=>({...v,tags:v.tags.includes(p)?v.tags:[...v.tags,p]}))},[]),m=g.useCallback(p=>{r(v=>({...v,tags:v.tags.filter(b=>b!==p)}))},[]),h=g.useCallback(p=>{r(v=>({...v,type:p}))},[]);return{searchQuery:t,activeFilters:s,filteredRaces:l,categories:i,tags:o,setSearchQuery:c,setFilters:u,clearFilters:d,addTagFilter:f,removeTagFilter:m,setCategoryFilter:h}}function pC({races:e,selectedRaceId:t}){const n=g.useMemo(()=>e.map(u=>pt.transformToPlayerCreationItem(u)),[e]),s=g.useMemo(()=>uI.generateSearchCategories(e),[e]),r=g.useMemo(()=>t&&pt.getRaceById(e,t)||null,[e,t]),i=g.useMemo(()=>r?pt.calculateRaceStats(r):null,[r]),o=g.useMemo(()=>e.length,[e]),l=g.useMemo(()=>{const u=e.reduce((d,f)=>(d[f.category]=(d[f.category]||0)+1,d),{});return Object.entries(u).map(([d,f])=>({category:d,count:f}))},[e]),c=g.useMemo(()=>{const u=e.reduce((d,f)=>{var m;return f.keywords.forEach(h=>{d[h.edid]=(d[h.edid]||0)+1}),(m=f.flags)==null||m.forEach(h=>{d[h]=(d[h]||0)+1}),d},{});return Object.entries(u).map(([d,f])=>({tag:d,count:f})).sort((d,f)=>f.count-d.count)},[e]);return{transformedRaces:n,searchCategories:s,raceStats:i,selectedRaceDetails:r,totalRaces:o,categoriesWithCounts:l,tagsWithCounts:c}}function xC({raceId:e,allRaces:t}){const n=g.useMemo(()=>pt.getRaceById(t,e)||null,[t,e]),s=g.useMemo(()=>n?pt.getRelatedRaces(n,t):[],[n,t]),r=g.useMemo(()=>{if(!n||s.length===0)return null;const u=s[0];return{selectedRace:n,comparedRace:u,differences:{stats:{health:{selected:n.startingStats.health,compared:u.startingStats.health,difference:n.startingStats.health-u.startingStats.health},magicka:{selected:n.startingStats.magicka,compared:u.startingStats.magicka,difference:n.startingStats.magicka-u.startingStats.magicka},stamina:{selected:n.startingStats.stamina,compared:u.startingStats.stamina,difference:n.startingStats.stamina-u.startingStats.stamina},carryWeight:{selected:n.startingStats.carryWeight,compared:u.startingStats.carryWeight,difference:n.startingStats.carryWeight-u.startingStats.carryWeight}},skills:n.skillBonuses.map(d=>{const f=u.skillBonuses.find(m=>m.skill===d.skill);return{skill:d.skill,selected:d.bonus,compared:(f==null?void 0:f.bonus)||0,difference:d.bonus-((f==null?void 0:f.bonus)||0)}}),spells:{selected:n.racialSpells.map(d=>d.name),compared:u.racialSpells.map(d=>d.name),unique:n.racialSpells.filter(d=>!u.racialSpells.some(f=>f.name===d.name)).map(d=>d.name)}}}},[n,s]),i=g.useMemo(()=>s.length>0,[s]),o=g.useMemo(()=>s.length,[s]);return{race:n,relatedRaces:s,raceComparison:r,isLoading:!1,error:null,hasRelatedRaces:i,relatedRacesCount:o}}function vC({className:e}){const{races:t}=yl(),{build:n,setRace:s}=ht(),r=lt(),[i,o]=g.useState(!0),l=n.race?t.find(m=>m.edid===n.race):null,c=m=>{s(m.edid)},u=()=>{r("/build/race")},d=()=>{o(!i)};if(!l)return a.jsxs(qn,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),a.jsx(Vo,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=Nm(l);return a.jsxs(qn,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[a.jsx(Vo,{races:t,onSelect:c,placeholder:`Race: Select a race (${l.name})`,className:"w-full"}),a.jsx(ou,{item:f,isExpanded:i,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}const yC=[{value:"name",label:"Name"},{value:"category",label:"Category"},{value:"health",label:"Health"},{value:"magicka",label:"Magicka"},{value:"stamina",label:"Stamina"}],yI=e=>{var t;return((t=yC.find(n=>n.value===e))==null?void 0:t.label)||"Name"};function bC(){const{build:e}=ht(),{races:t,isLoading:n,error:s}=yl(),{viewMode:r,setViewMode:i}=gC(),{filteredRaces:o}=Sm({races:t}),[l,c]=g.useState("name"),d=(()=>{const C=[...new Set(t.flatMap(O=>O.keywords.map(z=>z.edid)))],k=[...new Set(t.flatMap(O=>O.skillBonuses.map(z=>z.skill)))],R=[...new Set(t.map(O=>O.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:C.map(O=>({id:`keyword-${O}`,label:O,value:O,category:"Fuzzy Search",description:`Races with ${O} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:k.map(O=>({id:`skill-${O}`,label:O,value:O,category:"Skill Bonuses",description:`Races with ${O} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:R.map(O=>({id:`category-${O}`,label:O,value:O,category:"Race Categories",description:`${O} races`}))}]})(),[f,m]=g.useState([]),h=C=>{let k;typeof C=="string"?k={id:`custom-${C}`,label:C,value:C,category:"Fuzzy Search"}:k={id:`${C.category}-${C.id}`,label:C.label,value:C.value,category:C.category},f.some(R=>R.value===k.value&&R.category===k.category)||m(R=>[...R,k])},p=C=>{m(k=>k.filter(R=>R.id!==C))},v=o.filter(C=>f.length===0?!0:f.every(k=>{switch(k.category){case"Fuzzy Search":return!0;case"Race Categories":return C.category===k.value;case"Skill Bonuses":return C.skillBonuses.some(R=>R.skill===k.value);case"Keywords":return C.keywords.some(R=>R.edid===k.value);default:return!0}})),b=f.filter(C=>C.category==="Fuzzy Search").map(C=>C.value).join(" "),{filteredRaces:x}=mC(v,b),j=x.sort((C,k)=>{switch(l){case"name":return C.name.localeCompare(k.name);case"category":return C.category.localeCompare(k.category);case"health":return k.startingStats.health-C.startingStats.health;case"magicka":return k.startingStats.magicka-C.startingStats.magicka;case"stamina":return k.startingStats.stamina-C.startingStats.stamina;default:return 0}}).map(C=>({...Nm(C),originalRace:C})),[w,N]=g.useState(null),[E,S]=g.useState(!1),_=C=>{N(C),S(!0)};return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:s}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsxs(Gt,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx(Aa,{categories:d,onSelect:h,onCustomSearch:h})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(q,{variant:r==="grid"?"default":"outline",size:"sm",onClick:()=>i("grid"),className:"flex items-center gap-2",children:[a.jsx(wi,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(q,{variant:r==="list"?"default":"outline",size:"sm",onClick:()=>i("list"),className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Di,{children:[a.jsx(zi,{asChild:!0,children:a.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",yI(l),a.jsx(tn,{className:"h-4 w-4"})]})}),a.jsx(_a,{align:"end",children:yC.map(C=>a.jsx(en,{onClick:()=>c(C.value),children:C.label},C.value))})]})})]}),a.jsx("div",{className:"my-4",children:f.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>m([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(_t,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),f.map(C=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>p(C.id),title:"Click to remove",children:[C.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},C.id))]})}),r==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:j.map(C=>{var R;const k=e.race===((R=C.originalRace)==null?void 0:R.edid);return a.jsx(xb,{item:C,originalRace:C.originalRace,onClick:()=>_(C.originalRace),className:H(k&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},C.id)})}):a.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:j.map(C=>{var R;const k=e.race===((R=C.originalRace)==null?void 0:R.edid);return a.jsx(xb,{item:C,originalRace:C.originalRace,onClick:()=>_(C.originalRace),className:H(k&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},C.id)})}),j.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}),a.jsx(xI,{race:w,isOpen:E,onOpenChange:S})]})}function bI({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:s,onTagRemove:r}={}){const[i,o]=g.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return g.useEffect(()=>{e&&o(e)},[e]),{filters:i,handleSearch:f=>{const m={...i,search:f};o(m),n==null||n(f)},handleTagSelect:f=>{const m={id:`${f.category}-${f.id}`,label:f.label,value:f.value,category:f.category};if(!i.selectedTags.some(p=>p.id===m.id)){const p={...i,selectedTags:[...i.selectedTags,m]};o(p),s==null||s(m),t==null||t(p)}},handleTagRemove:f=>{const m={...i,selectedTags:i.selectedTags.filter(h=>h.id!==f)};o(m),r==null||r(f),t==null||t(m)},updateFilters:f=>{o(f),t==null||t(f)}}}function wI({className:e}){const{races:t,isLoading:n,error:s,categories:r,tags:i}=yl(),{searchQuery:o,setSearchQuery:l,filteredRaces:c}=Sm({races:t}),u=P.useMemo(()=>c.map(j=>Nm(j)),[c]),d=P.useMemo(()=>[{id:"categories",name:"Categories",placeholder:"Search by category...",options:(r||[]).map(j=>({id:j,label:j,value:j,category:"categories",description:`Race category: ${j}`}))},{id:"tags",name:"Tags",placeholder:"Search by tags...",options:(i||[]).map(j=>({id:j,label:j,value:j,category:"tags",description:`Race tag: ${j}`}))}],[r,i]),{filters:f,handleSearch:m,handleTagSelect:h,handleTagRemove:p}=bI({onSearch:l,onFiltersChange:j=>{}});P.useEffect(()=>{o!==f.search&&m(o)},[o,m,f.search]);const[v,b]=P.useState(null),x=j=>{const w=t.find(N=>N.edid===j.id);return w?a.jsx(hC,{item:j,originalRace:w,isExpanded:!1,showToggle:!0,className:"h-full"},w.edid):null},y=j=>{const w=t.find(N=>N.edid===j.id);return w?a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:w.name}),a.jsx("p",{className:"text-muted-foreground mb-4",children:w.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Category:"})," ",w.category]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Health:"})," ",w.startingStats.health]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Magicka:"})," ",w.startingStats.magicka]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Stamina:"})," ",w.startingStats.stamina]})]})]}):null};return n?a.jsx("div",{className:H("container mx-auto p-6",e),children:a.jsxs("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((j,w)=>a.jsx("div",{className:"h-64 bg-gray-200 rounded"},w))})]})}):s?a.jsx("div",{className:H("container mx-auto p-6",e),children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[a.jsx("strong",{children:"Error:"})," ",s]})}):a.jsxs("div",{className:H("container mx-auto p-6",e),children:[a.jsx(e8,{searchCategories:d,selectedTags:f.selectedTags,viewMode:"grid",onTagSelect:h,onTagRemove:p,className:"mb-6"}),a.jsxs(W6,{children:[a.jsx(K6,{children:a.jsx(G6,{items:u,viewMode:"grid",onItemSelect:b,selectedItem:v,renderItemCard:x})}),a.jsx(Q6,{children:v?y(v):a.jsx(J6,{title:"Select a Race",description:"Choose a race from the list to view its details"})})]})]})}function jI({className:e,selectedRace:t,onRaceSelect:n,onRaceClear:s,showSearch:r=!0,showComparison:i=!1,maxDisplayRaces:o=3}){const{races:l,isLoading:c,error:u}=yl(),{filteredRaces:d}=Sm({races:l});pC({races:l,selectedRaceId:(t==null?void 0:t.edid)||null});const[f,m]=P.useState(!1);return c?a.jsx("div",{className:H("p-4 border rounded-lg",e),children:a.jsxs("div",{className:"animate-pulse space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})}):u?a.jsx("div",{className:H("p-4 border rounded-lg",e),children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded text-sm",children:[a.jsx("strong",{children:"Error:"})," ",u]})}):a.jsxs("div",{className:H("border rounded-lg overflow-hidden",e),children:[a.jsxs("div",{className:"p-4 bg-muted/50 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ne,{className:"text-lg font-semibold",children:"Race Selection"}),t&&a.jsx(q,{variant:"ghost",size:"sm",onClick:s,className:"text-muted-foreground hover:text-foreground",children:a.jsx(_t,{className:"h-4 w-4"})})]}),t&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(W,{variant:"secondary",children:t.category}),a.jsxs(xe,{className:"text-sm text-muted-foreground",children:[t.startingStats.health," HP, ",t.startingStats.magicka," MP, ",t.startingStats.stamina," SP"]})]})]}),a.jsx("div",{className:"p-4",children:t?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ou,{item:{id:t.edid,name:t.name,description:t.description,summary:t.description,category:t.category,effects:[],tags:[],originalRace:t},isExpanded:!0,showToggle:!1,className:"border-0 shadow-none"}),i&&a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx(xe,{className:"text-sm font-medium mb-2",children:"Compare with:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.filter(h=>h.edid!==t.edid).slice(0,4).map(h=>a.jsx(q,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-xs",children:h.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})]}):a.jsxs("div",{className:"space-y-4",children:[r&&a.jsxs("div",{children:[a.jsx(xe,{className:"text-sm font-medium mb-2",children:"Search for a race:"}),a.jsx(Vo,{races:d,onSelect:n,placeholder:"Type to search races...",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx(xe,{className:"text-sm font-medium mb-2",children:"Quick select:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.slice(0,o).map(h=>a.jsx(q,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-xs",children:h.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))}),l.length>o&&a.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>m(!f),className:"mt-2 w-full",children:[a.jsx(tn,{className:H("h-4 w-4 transition-transform",f&&"rotate-180")}),"Show ",l.length-o," more races"]})]}),f&&a.jsx("div",{className:"space-y-2",children:l.slice(o).map(h=>a.jsx(q,{variant:"ghost",size:"sm",onClick:()=>n==null?void 0:n(h),className:"w-full justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-xs",children:h.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})})]})}function NI({raceId:e,className:t}){const n=lt(),{races:s}=yl(),{race:r,relatedRaces:i}=xC({raceId:e,allRaces:s});return r?a.jsxs("div",{className:H("container mx-auto p-6",t),children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(q,{variant:"ghost",onClick:()=>n("/races"),className:"mb-4",children:[a.jsx(fy,{className:"h-4 w-4 mr-2"}),"Back to Races"]}),a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx(Fn,{raceName:r.name,size:"xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(_i,{className:"text-3xl font-bold",children:r.name}),a.jsx(na,{category:r.category,size:"lg"})]}),a.jsx(xe,{className:"text-lg text-muted-foreground mb-4",children:r.description}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(HN,{className:"h-4 w-4"}),a.jsx("span",{children:"Playable Race"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ze,{className:"h-4 w-4"}),a.jsxs("span",{children:[r.keywords.length," Keywords"]})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(ta,{className:"text-xl font-semibold mb-4",children:"Statistics"}),a.jsx(iu,{stats:r.startingStats,regeneration:r.regeneration,title:"Starting Stats",compact:!1,showRegeneration:!0})]}),r.racialSpells.length>0&&a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(ta,{className:"text-xl font-semibold mb-4",children:"Racial Abilities"}),a.jsx(Uo,{effects:r.racialSpells.map(o=>({name:o.name,description:o.description})),title:"Racial Spells",showDescriptions:!0,compact:!1})]}),r.keywords.length>0&&a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(ta,{className:"text-xl font-semibold mb-4",children:"Keywords"}),a.jsx(jm,{keywords:r.keywords.map(o=>o.edid),title:"Race Keywords",showCount:!0})]}),a.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[a.jsx(ta,{className:"text-xl font-semibold mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-medium mb-2",children:"Description"}),a.jsx(xe,{className:"text-muted-foreground",children:r.description})]}),r.racialSpells.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-medium mb-2",children:"Racial Spells"}),a.jsx("div",{className:"space-y-2",children:r.racialSpells.map((o,l)=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded",children:[a.jsx("div",{className:"font-medium",children:o.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:o.description})]},l))})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(q,{className:"w-full",size:"sm",children:"Add to Character Build"}),a.jsx(q,{variant:"outline",className:"w-full",size:"sm",children:"Compare with Other Races"}),a.jsxs(q,{variant:"outline",className:"w-full",size:"sm",children:[a.jsx(Ca,{className:"h-4 w-4 mr-2"}),"View in Wiki"]})]})]}),a.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Race Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),a.jsx(W,{variant:"secondary",children:r.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Health:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.health})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.magicka})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.stamina})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight:"}),a.jsx("span",{className:"font-medium",children:r.startingStats.carryWeight})]})]})]}),i.length>0&&a.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Related Races"}),a.jsx("div",{className:"space-y-2",children:i.slice(0,3).map(o=>a.jsx(q,{variant:"ghost",size:"sm",onClick:()=>n(`/races/${o.edid}`),className:"w-full justify-start text-left h-auto p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fn,{raceName:o.name,size:"sm"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:o.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:o.category})]})]})},o.edid))})]})]})]})]}):a.jsxs("div",{className:H("container mx-auto p-6",t),children:[a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[a.jsx("strong",{children:"Error:"})," ","Race not found"]}),a.jsxs(q,{variant:"outline",onClick:()=>n("/races"),className:"mt-4",children:[a.jsx(fy,{className:"h-4 w-4 mr-2"}),"Back to Races"]})]})}function SI(){const{races:e,isLoading:t,error:n,categories:s,tags:r}=yl(),{selectedRace:i,setSelectedRace:o,viewMode:l,setViewMode:c,expandedSections:u}=gC(),{searchQuery:d,setSearchQuery:f,activeFilters:m,clearFilters:h,filteredRaces:p}=Sm({races:e}),{transformedRaces:v,searchCategories:b,categoriesWithCounts:x}=pC({races:e,selectedRaceId:i}),{race:y,relatedRaces:j,raceComparison:w}=xC({raceId:i||"",allRaces:e}),[N,E]=P.useState(!1),[S,_]=P.useState("overview");if(t)return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Loading..."}),a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]});if(n)return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Error"}),a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[a.jsx("strong",{children:"Error:"})," ",n]})]});const C=e[0];return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Races MVA Demo - Model View Adapter Architecture"}),a.jsxs(Ai,{value:S,onValueChange:_,className:"mb-6",children:[a.jsxs(Ti,{children:[a.jsx(Vt,{value:"overview",children:"Overview"}),a.jsx(Vt,{value:"adapters",children:"Adapters"}),a.jsx(Vt,{value:"components",children:"Components"}),a.jsx(Vt,{value:"views",children:"Views"})]}),a.jsx(Kt,{value:"overview",className:"space-y-6",children:a.jsxs(ve,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"MVA Architecture Overview"}),a.jsx(Es,{children:"This demo showcases the Model-View-Adapter pattern implementation for the Races feature."})]}),a.jsx(be,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Model Layer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Data management and business logic"}),a.jsx(W,{variant:"outline",className:"mt-2",children:"RaceModel"})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Adapter Layer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"State management and data transformation"}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[a.jsx(W,{variant:"outline",children:"useRaceData"}),a.jsx(W,{variant:"outline",children:"useRaceState"}),a.jsx(W,{variant:"outline",children:"useRaceFilters"})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"View Layer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"UI components and presentation"}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[a.jsx(W,{variant:"outline",children:"RaceCard"}),a.jsx(W,{variant:"outline",children:"RacePageView"})]})]})]})})]})}),a.jsx(Kt,{value:"adapters",className:"space-y-6",children:a.jsxs(ve,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Adapter State Demo"}),a.jsx(Es,{children:"Interactive demonstration of adapter state management"})]}),a.jsx(be,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"State Management (useRaceState)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Selected Race:"}),a.jsx(W,{variant:i?"default":"secondary",children:i||"None"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"View Mode:"}),a.jsxs("div",{className:"flex border rounded",children:[a.jsx(q,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),children:"Grid"}),a.jsx(q,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),children:"List"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Expanded Sections:"}),a.jsx(W,{variant:"outline",children:u.length})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Filters (useRaceFilters)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Search Query:"}),a.jsx("input",{type:"text",value:d,onChange:k=>f(k.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"Search races..."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Active Filters:"}),a.jsx(W,{variant:"outline",children:m.tags.length+(m.type?1:0)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Filtered Results:"}),a.jsxs(W,{variant:"outline",children:[p.length," of ",e.length]})]}),a.jsx(q,{size:"sm",onClick:h,children:"Clear Filters"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Computed Data (useRaceComputed)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Transformed Races:"}),a.jsx(W,{variant:"outline",children:v.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Search Categories:"}),a.jsx(W,{variant:"outline",children:b.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Categories with Counts:"}),a.jsx(W,{variant:"outline",children:Object.keys(x).length})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Detail View (useRaceDetail)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Selected Race Details:"}),a.jsx(W,{variant:y?"default":"secondary",children:(y==null?void 0:y.name)||"None"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Related Races:"}),a.jsx(W,{variant:"outline",children:j.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Comparison Available:"}),a.jsx(W,{variant:w?"default":"secondary",children:w?"Yes":"No"})]})]})]})]})})]})}),a.jsxs(Kt,{value:"components",className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Atomic & Composition Components"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Data Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Total Races:"})," ",e.length]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Categories:"})," ",s.join(", ")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Total Tags:"})," ",r.length]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Sample Race: ",C==null?void 0:C.name]}),C&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-gray-600 text-sm",children:C.description}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Category:"})," ",C.category]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Keywords:"})," ",C.keywords.length]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAvatar Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),a.jsx(Fn,{raceName:(C==null?void 0:C.name)||"Nord",size:"sm"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),a.jsx(Fn,{raceName:(C==null?void 0:C.name)||"Nord",size:"lg"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),a.jsx(Fn,{raceName:(C==null?void 0:C.name)||"Nord",size:"2xl"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Extra Large"}),a.jsx(Fn,{raceName:(C==null?void 0:C.name)||"Nord",size:"xl"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Uses generic EntityAvatar with race-specific configuration"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"CategoryBadge Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),a.jsx(na,{category:"Human",size:"sm"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),a.jsx(na,{category:"Elf",size:"md"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),a.jsx(na,{category:"Beast",size:"lg"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Uses generic CategoryBadge with race-specific styling"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"KeywordTag Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Auto-detected types:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ns,{keyword:"destruction"}),a.jsx(Ns,{keyword:"waterbreathing"}),a.jsx(Ns,{keyword:"strong stomach"}),a.jsx(Ns,{keyword:"custom_flag"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Explicit types:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ns,{keyword:"alteration",type:"skill"}),a.jsx(Ns,{keyword:"night eye",type:"ability"}),a.jsx(Ns,{keyword:"beast race",type:"trait"}),a.jsx(Ns,{keyword:"magic",type:"flag"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Auto-detects keyword types or accepts explicit type prop"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"StatBar Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(ir,{value:C.startingStats.health,maxValue:200,label:"Health",color:"red",size:"md"}),a.jsx(ir,{value:C.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"md"}),a.jsx(ir,{value:C.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"md"})]}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Progress bars with configurable colors, sizes, and labels"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceStatsDisplay Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&a.jsx(iu,{stats:C.startingStats,regeneration:C.regeneration,title:"Sample Stats",compact:!0}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Composition component that displays race statistics"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceEffectsDisplay Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&C.racialSpells.length>0&&a.jsx(Uo,{effects:C.racialSpells.map(k=>({name:k.name,description:k.description})),title:"Racial Abilities",maxDisplay:3}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Composition component for displaying race effects/abilities"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceKeywordsDisplay Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&C.keywords.length>0&&a.jsx(jm,{keywords:C.keywords.map(k=>k.edid),title:"Race Keywords",maxDisplay:6}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Composition component that uses KeywordTag atomic components"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceCard Composition Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&a.jsx(hC,{originalRace:C,isExpanded:!0,showToggle:!1,className:"max-w-2xl"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Main composition component that orchestrates all atomic components"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAutocomplete Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Vo,{races:e.slice(0,5),onSelect:k=>console.log("Selected:",k.name),placeholder:"Search for a race...",className:"w-full"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Search and selection component for races"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAccordion Component"}),a.jsxs("div",{className:"space-y-4",children:[C&&a.jsx(ou,{item:{id:C.edid,name:C.name,description:C.description,summary:C.description,category:C.category,effects:[],tags:[],originalRace:C},isExpanded:N,onToggle:()=>E(!N),showToggle:!0,className:"border-0 shadow-none"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Accordion-style race display for player creation (click to expand/collapse)"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceSelectionCard Component"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(vI,{allRaces:e.slice(0,5),className:"max-w-2xl"}),a.jsx("div",{className:"text-xs text-gray-500",children:a.jsx("p",{children:"Complete race selection interface for player creation"})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sample Races with All Components"}),a.jsx("div",{className:"space-y-4",children:e.slice(0,2).map(k=>a.jsxs("div",{className:"border rounded p-4",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsx(Fn,{raceName:k.name,size:"2xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:k.name}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsx(na,{category:k.category,size:"sm"})})]})]}),a.jsx("p",{className:"text-sm mb-3",children:k.description}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[a.jsx(ir,{value:k.startingStats.health,maxValue:200,label:"Health",color:"red",size:"sm"}),a.jsx(ir,{value:k.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),a.jsx(ir,{value:k.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[k.keywords.slice(0,5).map((R,O)=>a.jsx(Ns,{keyword:R.edid},O)),k.keywords.length>5&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",k.keywords.length-5," more"]})]})]},k.edid))})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"View Components Demo"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceQuickSelectorView"}),a.jsx(jI,{selectedRace:i?e.find(k=>k.edid===i):void 0,onRaceSelect:k=>o(k.edid),onRaceClear:()=>o(null),showSearch:!0,showComparison:!0,maxDisplayRaces:3,className:"max-w-md"}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:a.jsx("p",{children:"Compact selection interface for embedded contexts"})})]}),i&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceDetailView"}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx(NI,{raceId:i,className:"p-4"})}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:a.jsx("p",{children:"Detailed race view with rich information display"})})]})]})]})]})]}),a.jsxs(Kt,{value:"views",className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"View Components"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ve,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"RacePageView"}),a.jsx(Es,{children:"Main page view with full functionality"})]}),a.jsx(be,{children:a.jsx(bC,{className:"border rounded-lg p-4"})})]}),a.jsxs(ve,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"RaceReferenceView"}),a.jsx(Es,{children:"Browse/search interface"})]}),a.jsx(be,{children:a.jsx(wI,{className:"border rounded-lg p-4"})})]})]})]})]})]})}function kI(e,t){const n=g.useMemo(()=>e.map(l=>{var c,u,d,f,m,h,p,v,b;return{id:l.name.toLowerCase().replace(/\s+/g,"-"),name:l.name,description:((c=l.tenet)==null?void 0:c.description)||"",type:l.type,favoredRaces:os()?l.favoredRaces||[]:[],tenetEffects:((d=(u=l.tenet)==null?void 0:u.effects)==null?void 0:d.map(x=>`${x.effectName} ${x.effectDescription}`))||[],blessingEffects:((m=(f=l.blessing)==null?void 0:f.effects)==null?void 0:m.map(x=>`${x.effectName} ${x.effectDescription}`))||[],followerPowers:((p=(h=l.boon1)==null?void 0:h.effects)==null?void 0:p.map(x=>`${x.effectName} ${x.effectDescription}`))||[],devoteePowers:((b=(v=l.boon2)==null?void 0:v.effects)==null?void 0:b.map(x=>`${x.effectName} ${x.effectDescription}`))||[],originalReligion:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},...os()?[{name:"favoredRaces",weight:.1}]:[],{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Qt(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredReligions:g.useMemo(()=>i.map(l=>l.item.originalReligion),[i]),searchResults:i,searchableReligions:n}}function CI(e){var t,n,s,r;return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,type:e.type,description:((t=e.tenet)==null?void 0:t.description)||"",tenetDescription:((n=e.tenet)==null?void 0:n.description)||"",followerPower:((s=e.boon1)==null?void 0:s.spellName)||"",devoteePower:((r=e.boon2)==null?void 0:r.spellName)||"",favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[],originalReligion:e}}function EI(e){return e.map(CI)}function _I(e,t){return e.find(n=>n.name.toLowerCase().replace(/\s+/g,"-")===t)}const AI={};function Sc({religionName:e,size:t="2xl",className:n}){const s=AI[e],r=s?hn(`assets/religion-avatar/${s}`):void 0;return a.jsx(mm,{imgSrc:r,alt:e,size:t,className:n})}function TI(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function MI({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<mag>/g,t.toString()).replace(/<magnitude>/g,t.toString()).replace(/<dur>/g,n.toString()).replace(/<duration>/g,n.toString()).replace(/<area>/g,s.toString());return r=r.replace(/\b(magnitude|mag)\b/gi,t.toString()).replace(/\b(duration|dur)\b/gi,n.toString()).replace(/\b(area)\b/gi,s.toString()),a.jsx(De,{text:r,className:"text-sm text-muted-foreground"})}function RI({religion:e,className:t,onClick:n,showToggle:s=!0}){var o;const r=e.blessing,i=((o=r==null?void 0:r.effects)==null?void 0:o.length)||0;return!r||i===0?null:a.jsxs("div",{className:H("p-4 border rounded-2xl bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",t),onClick:n,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx(Sc,{religionName:e.name,size:"2xl"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs(Ne,{className:"text-lg font-semibold text-primary truncate",children:["Blessing of ",e.name]}),a.jsxs(xe,{className:"text-sm text-muted-foreground mt-1",children:[i," effect",i!==1?"s":""]})]}),s&&a.jsx("div",{onClick:l=>l.stopPropagation(),children:a.jsx(Qn,{itemId:`blessing-${e.name}`,itemType:"religion",itemName:`Blessing of ${e.name}`})})]}),a.jsx("div",{className:"space-y-2",children:r.effects.filter(l=>l.effectType!=="1"&&l.effectType!=="3").slice(0,2).map((l,c)=>a.jsx("div",{className:"flex items-start gap-2 p-2 bg-muted/30 rounded-lg",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"font-medium text-sm mb-1",children:l.effectName}),a.jsx(MI,{description:l.effectDescription,magnitude:l.magnitude,duration:l.duration,area:l.area}),(l.duration>0||l.area>0)&&a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[l.duration>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ka,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",TI(l.duration)]})]}),l.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(is,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",l.area]})]})]})]})},c))}),i>2&&a.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:a.jsxs(xe,{className:"text-xs text-muted-foreground",children:["+",i-2," more effect",i-2!==1?"s":""]})})]})}const DI={Restoration:a.jsx(Bs,{className:"h-4 w-4 text-green-500"}),Destruction:a.jsx(cl,{className:"h-4 w-4 text-red-500"}),Alteration:a.jsx(at,{className:"h-4 w-4 text-blue-500"}),Illusion:a.jsx(Ro,{className:"h-4 w-4 text-purple-500"}),Conjuration:a.jsx(Mn,{className:"h-4 w-4 text-purple-500"}),Enchanting:a.jsx(ka,{className:"h-4 w-4 text-blue-500"}),Alchemy:a.jsx(Nx,{className:"h-4 w-4 text-green-500"}),"Light Armor":a.jsx(at,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":a.jsx(at,{className:"h-4 w-4 text-gray-500"}),"One-Handed":a.jsx(ii,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":a.jsx(ii,{className:"h-4 w-4 text-red-500"}),Archery:a.jsx(is,{className:"h-4 w-4 text-green-500"}),Block:a.jsx(at,{className:"h-4 w-4 text-yellow-500"}),Smithing:a.jsx(at,{className:"h-4 w-4 text-gray-500"}),Speechcraft:a.jsx(Ro,{className:"h-4 w-4 text-blue-500"}),Sneak:a.jsx(ll,{className:"h-4 w-4 text-purple-500"}),Lockpicking:a.jsx(zo,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:a.jsx(zo,{className:"h-4 w-4 text-purple-500"})};function zI(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function LI({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<mag>/g,t.toString()).replace(/<magnitude>/g,t.toString()).replace(/<dur>/g,n.toString()).replace(/<duration>/g,n.toString()).replace(/<area>/g,s.toString());return r=r.replace(/\b(magnitude|mag)\b/gi,t.toString()).replace(/\b(duration|dur)\b/gi,n.toString()).replace(/\b(area)\b/gi,s.toString()),a.jsx(De,{text:r,className:"text-sm text-muted-foreground"})}function $I(e){return DI[e]||a.jsx(Ze,{className:"h-4 w-4 text-gray-500"})}function PI({religion:e,isOpen:t,onOpenChange:n}){var i,o;if(!e)return null;const s=e.blessing,r=((i=s==null?void 0:s.effects)==null?void 0:i.length)||0;return!s||r===0?null:a.jsx(vl,{isOpen:t,onOpenChange:n,title:`Blessing of ${e.name}`,description:"Divine blessing granted to worshippers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sc,{religionName:e.name,size:"lg"}),a.jsxs("div",{children:[a.jsxs(Ne,{className:"text-xl font-semibold",children:["Blessing of ",e.name]}),a.jsxs(xe,{className:"text-sm text-muted-foreground",children:[r," effect",r!==1?"s":""]})]})]}),a.jsx(Qn,{itemId:`blessing-${e.name}`,itemType:"religion",itemName:`Blessing of ${e.name}`})]}),a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Blessing Effects"}),a.jsx("div",{className:"space-y-3",children:s.effects.filter(l=>l.effectType!=="1"&&l.effectType!=="3").map((l,c)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sc,{religionName:e.name,size:"sm"}),l.effectType&&$I(l.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"font-medium text-sm mb-2",children:l.effectName}),a.jsx(LI,{description:l.effectDescription,magnitude:l.magnitude,duration:l.duration,area:l.area}),l.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(Ka,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",zI(l.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:l.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(is,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",l.area]})]})})]})]})},c))})]}),a.jsxs("div",{className:"pt-4 border-t border-border",children:[a.jsxs(Ne,{className:"text-lg font-semibold mb-3",children:["About ",e.name]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(xe,{className:"text-sm font-medium mb-1",children:"Religion Type"}),a.jsx(xe,{className:"text-sm text-muted-foreground",children:e.type})]}),((o=e.tenet)==null?void 0:o.description)&&a.jsxs("div",{children:[a.jsx(xe,{className:"text-sm font-medium mb-1",children:"Tenets"}),a.jsx(xe,{className:"text-sm text-muted-foreground",children:e.tenet.description})]}),e.favoredRaces&&e.favoredRaces.length>0&&a.jsxs("div",{children:[a.jsx(xe,{className:"text-sm font-medium mb-1",children:"Favored Races"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.favoredRaces.map((l,c)=>a.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-md",children:l},c))})]})]})]})]})})}function wC({category:e,size:t="md",className:n}){return a.jsx(fk,{category:e,categoryType:"religion",size:t,className:n})}function jC({item:e,originalReligion:t,className:n,onClick:s,showViewAllButton:r=!1,showToggle:i=!0,viewAllButtonText:o="View All",viewAllButtonRoute:l="/religions",onOpenDetails:c}){var x,y,j,w,N,E,S,_,C,k,R,O,z,A,$,M;const u=lt(),d=L=>{L.stopPropagation(),u(l)},f=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Religion",m=(e==null?void 0:e.description)||((x=t==null?void 0:t.tenet)==null?void 0:x.description)||"",h=(e==null?void 0:e.category)||(t==null?void 0:t.type)||"";e!=null&&e.effects,e!=null&&e.summary||(y=t==null?void 0:t.tenet)!=null&&y.description;const p=(((w=(j=t==null?void 0:t.blessing)==null?void 0:j.effects)==null?void 0:w.length)||0)+(((E=(N=t==null?void 0:t.tenet)==null?void 0:N.effects)==null?void 0:E.length)||0)+(((_=(S=t==null?void 0:t.boon1)==null?void 0:S.effects)==null?void 0:_.length)||0)+(((k=(C=t==null?void 0:t.boon2)==null?void 0:C.effects)==null?void 0:k.length)||0),v=((z=(O=(R=t==null?void 0:t.blessing)==null?void 0:R.effects)==null?void 0:O[0])==null?void 0:z.effectName)||"Blessing",b=(M=($=(A=t==null?void 0:t.tenet)==null?void 0:A.effects)==null?void 0:$[0])!=null&&M.effectDescription?t.tenet.effects[0].effectDescription.split(".").filter(L=>L.trim().length>0).slice(0,4).map(L=>({id:L.trim(),title:L.trim(),short:L.trim(),full:L.trim()})):[];return a.jsxs("div",{className:H("p-4 border rounded-2xl bg-card hover:bg-accent/50 transition-colors cursor-pointer","hover:shadow-md hover:border-primary/50 hover:scale-[1.02] transition-all duration-200",n),onClick:L=>{if(console.log("ReligionCard clicked, onOpenDetails:",!!c),s&&s(),c){const T=(t==null?void 0:t.name)||(e==null?void 0:e.id)||"";console.log("Calling onOpenDetails with id:",T),c(T)}},children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx(Sc,{religionName:f,size:"2xl"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(Ne,{className:"text-lg font-semibold text-primary truncate",children:f}),h&&a.jsx(wC,{category:h,size:"sm",className:"mt-1"})]}),i&&a.jsx("div",{onClick:L=>L.stopPropagation(),children:a.jsx(Qn,{itemId:(t==null?void 0:t.name)||(e==null?void 0:e.id)||"",itemType:"religion",itemName:f})})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p>0&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded-full text-xs",children:[a.jsx(Ze,{className:"h-3 w-3 text-yellow-500"}),a.jsxs("span",{className:"font-medium",children:[p," effects"]})]}),(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[t.favoredRaces.slice(0,2).map((L,T)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-skyrim-gold/20 text-skyrim-gold border border-skyrim-gold/30 rounded-full text-xs font-medium",children:[a.jsx(Ze,{className:"h-3 w-3"}),L]},T)),t.favoredRaces.length>2&&a.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded-full text-xs font-medium",children:["+",t.favoredRaces.length-2]})]})]}),m&&a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed",children:m})}),a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 rounded-lg",children:[a.jsx(Bs,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm font-medium",children:v})]})}),b.length>0&&a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"space-y-1",children:[b.slice(0,4).map((L,T)=>a.jsxs("div",{className:"flex items-start gap-2 p-2 bg-muted/30 rounded-lg text-xs",children:[a.jsx(at,{className:"h-3 w-3 text-blue-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-muted-foreground leading-relaxed",children:L.title})]},T)),b.length>4&&a.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded-full text-xs font-medium text-center",children:["+",b.length-4," more tenets"]})]})}),r&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(q,{variant:"outline",size:"sm",onClick:d,children:a.jsx(Ca,{className:"h-4 w-4"})})})]})}const OI={Restoration:a.jsx(Bs,{className:"h-4 w-4 text-green-500"}),Destruction:a.jsx(cl,{className:"h-4 w-4 text-red-500"}),Alteration:a.jsx(at,{className:"h-4 w-4 text-blue-500"}),Illusion:a.jsx(Ro,{className:"h-4 w-4 text-purple-500"}),Conjuration:a.jsx(Mn,{className:"h-4 w-4 text-purple-500"}),Enchanting:a.jsx(ka,{className:"h-4 w-4 text-blue-500"}),Alchemy:a.jsx(Nx,{className:"h-4 w-4 text-green-500"}),"Light Armor":a.jsx(at,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":a.jsx(at,{className:"h-4 w-4 text-gray-500"}),"One-Handed":a.jsx(ii,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":a.jsx(ii,{className:"h-4 w-4 text-red-500"}),Archery:a.jsx(is,{className:"h-4 w-4 text-green-500"}),Block:a.jsx(at,{className:"h-4 w-4 text-yellow-500"}),Smithing:a.jsx(at,{className:"h-4 w-4 text-gray-500"}),Speechcraft:a.jsx(Ro,{className:"h-4 w-4 text-blue-500"}),Sneak:a.jsx(ll,{className:"h-4 w-4 text-purple-500"}),Lockpicking:a.jsx(zo,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:a.jsx(zo,{className:"h-4 w-4 text-purple-500"})};function vh(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function yh({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<[^>]*>/g,"");r=r.replace(/<mag>/g,t.toString()),r=r.replace(/<magnitude>/g,t.toString()),r=r.replace(/<dur>/g,n.toString()),r=r.replace(/<duration>/g,n.toString()),s>0&&(r=r.replace(/<area>/g,s.toString())),r=r.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const i=r.split(/(<[^>]+>)/g);return a.jsx(xe,{className:"text-sm text-muted-foreground",children:i.map((o,l)=>{if(o.startsWith("<")&&o.endsWith(">")){const c=o.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},l)}return o})})}function NC({religion:e,isOpen:t,onOpenChange:n}){var r,i;if(!e)return null;const s=o=>OI[o]||a.jsx(Ze,{className:"h-4 w-4 text-skyrim-gold"});return a.jsx(vl,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Sc,{religionName:e.name,size:"4xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.type&&a.jsx(wC,{category:e.type,size:"sm"}),a.jsx(Qn,{itemId:e.name,itemType:"religion",itemName:e.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:((r=e.tenet)==null?void 0:r.description)||"A divine faith with unique blessings and tenets."})]})]})}),a.jsxs("div",{className:"space-y-6",children:[e.favoredRaces&&e.favoredRaces.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Favored Races"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.favoredRaces.map((o,l)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[a.jsx(Ze,{className:"h-4 w-4 text-skyrim-gold"}),a.jsx("span",{className:"text-sm font-medium",children:o})]},l))})]}),e.worshipRestrictions&&e.worshipRestrictions.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Worship Restrictions"}),a.jsx("div",{className:"space-y-2",children:e.worshipRestrictions.map((o,l)=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(_t,{className:"h-4 w-4 text-red-500 mt-0.5"}),a.jsx(xe,{className:"text-sm text-muted-foreground",children:o})]})},l))})]}),e.blessing&&e.blessing.effects.length>0&&a.jsxs("div",{children:[a.jsxs(Ne,{className:"text-lg font-semibold mb-3",children:["Blessing of ",e.name]}),a.jsx("div",{className:"space-y-3",children:e.blessing.effects.filter(o=>o.effectType!=="1"&&o.effectType!=="3").map((o,l)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bs,{className:"h-4 w-4 text-red-500"}),o.effectType&&s(o.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"font-medium text-sm mb-2",children:o.effectName}),a.jsx(yh,{description:o.effectDescription,magnitude:o.magnitude,duration:o.duration,area:o.area}),o.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(Ka,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",vh(o.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:o.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(is,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",o.area]})]})})]})]})},l))})]}),((i=e.tenet)==null?void 0:i.effects)&&e.tenet.effects.length>0&&a.jsxs("div",{children:[a.jsxs(Ne,{className:"text-lg font-semibold mb-3",children:["Tenets of ",e.name]}),a.jsx("div",{className:"space-y-3",children:e.tenet.effects.map((o,l)=>o.effectDescription.split(".").filter(u=>u.trim().length>0).map((u,d)=>a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4 text-blue-500"}),o.targetAttribute&&s(o.targetAttribute)]}),a.jsx("div",{className:"flex-1",children:a.jsx(xe,{className:"text-sm text-muted-foreground",children:u.trim()+"."})})]},`${l}-${d}`)))})]}),(e.boon1||e.boon2)&&a.jsxs("div",{children:[a.jsxs(Ne,{className:"text-lg font-semibold mb-3",children:["Boons of ",e.name]}),a.jsxs("div",{className:"space-y-4",children:[e.boon1&&e.boon1.effects.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-md font-medium mb-2",children:"Follower Boon"}),a.jsx("div",{className:"space-y-3",children:e.boon1.effects.map((o,l)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"h-4 w-4 text-yellow-500"}),o.effectType&&s(o.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"font-medium text-sm mb-2",children:o.effectName}),a.jsx(yh,{description:o.effectDescription,magnitude:o.magnitude,duration:o.duration,area:o.area}),o.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(Ka,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",vh(o.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:o.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(is,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",o.area]})]})})]})]})},l))})]}),e.boon2&&e.boon2.effects.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-md font-medium mb-2",children:"Devotee Boon"}),a.jsx("div",{className:"space-y-3",children:e.boon2.effects.map((o,l)=>a.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"h-4 w-4 text-purple-500"}),o.effectType&&s(o.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"font-medium text-sm mb-2",children:o.effectName}),a.jsx(yh,{description:o.effectDescription,magnitude:o.magnitude,duration:o.duration,area:o.area}),o.duration>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(Ka,{className:"h-3 w-3"}),a.jsxs("span",{children:["Lasts for ",vh(o.duration)]})]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:o.area>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(is,{className:"h-3 w-3"}),a.jsxs("span",{children:["Area: ",o.area]})]})})]})]})},l))})]})]})]})]})]})})}function vb({religions:e,selectedDeityId:t,onDeitySelect:n,placeholder:s="Search for a deity to follow...",className:r,disabled:i=!1}){const[o,l]=g.useState(""),{filteredReligions:c}=kI(e,o),u=g.useMemo(()=>EI(c),[c]),d=p=>{const v={Divine:"bg-blue-100 text-blue-800 border-blue-200","Daedric Prince":"bg-red-100 text-red-800 border-red-200",Tribunal:"bg-purple-100 text-purple-800 border-purple-200",Ancestor:"bg-green-100 text-green-800 border-green-200","Nordic Deity":"bg-orange-100 text-orange-800 border-orange-200","Yokudan Deity":"bg-yellow-100 text-yellow-800 border-yellow-200","Khajiiti Deity":"bg-indigo-100 text-indigo-800 border-indigo-200",Deity:"bg-gray-100 text-gray-800 border-gray-200"};return a.jsx(W,{variant:"outline",className:H("text-xs font-medium",v[p]||v.Deity),children:p})},f=g.useMemo(()=>u.map(p=>({id:p.id,label:p.name,description:p.tenetDescription,category:p.type,badge:d(p.type),metadata:{originalReligion:p.originalReligion,favoredRaces:p.favoredRaces}})),[u]),m=p=>{n(p.id)},h=(p,v)=>{var b;return a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium",children:p.label}),p.badge]}),p.description&&a.jsx(De,{text:p.description,className:"text-sm text-muted-foreground line-clamp-2 mb-1"}),os()&&((b=p.metadata)==null?void 0:b.favoredRaces)&&p.metadata.favoredRaces.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ze,{className:"h-3 w-3 text-skyrim-gold"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Favors: ",p.metadata.favoredRaces.join(", ")]})]})]})})};return a.jsx(au,{options:f,onSelect:m,placeholder:s,className:r,disabled:i,renderOption:h,emptyMessage:"No deity found.",searchQuery:o,onSearchQueryChange:l})}function bh({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const s=n.split(/(<[^>]+>)/g);return a.jsx("div",{className:t,children:s.map((r,i)=>{if(r.startsWith("<")&&r.endsWith(">")){const o=r.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:o},i)}return r})})}function BI({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return a.jsx(xe,{className:"text-xs text-muted-foreground",children:t.map((n,s)=>{if(n.startsWith("<")&&n.endsWith(">")){const r=n.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:r},s)}return n})})}function wh({description:e,magnitude:t,duration:n,area:s=0}){if(!e)return null;let r=e.replace(/<[^>]*>/g,"");r=r.replace(/<mag>/g,t.toString()),r=r.replace(/<magnitude>/g,t.toString()),r=r.replace(/<dur>/g,n.toString()),r=r.replace(/<duration>/g,n.toString()),s>0&&(r=r.replace(/<area>/g,s.toString())),r=r.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const i=r.split(/(<[^>]+>)/g);return a.jsx(xe,{className:"text-xs text-muted-foreground",children:i.map((o,l)=>{if(o.startsWith("<")&&o.endsWith(">")){const c=o.slice(1,-1);return a.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},l)}return o})})}function jh(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Nh(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],s=t.some(i=>i.test(e)),r=n.some(i=>i.test(e));return{hasMagnitude:s,hasDuration:r}}const II={Restoration:a.jsx(Bs,{className:"h-4 w-4 text-green-500"}),Destruction:a.jsx(cl,{className:"h-4 w-4 text-red-500"}),Alteration:a.jsx(at,{className:"h-4 w-4 text-blue-500"}),Illusion:a.jsx(Ro,{className:"h-4 w-4 text-purple-500"}),Conjuration:a.jsx(Mn,{className:"h-4 w-4 text-purple-500"}),Enchanting:a.jsx(ka,{className:"h-4 w-4 text-blue-500"}),Alchemy:a.jsx(Nx,{className:"h-4 w-4 text-green-500"}),"Light Armor":a.jsx(at,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":a.jsx(at,{className:"h-4 w-4 text-gray-500"}),"One-Handed":a.jsx(ii,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":a.jsx(ii,{className:"h-4 w-4 text-red-500"}),Archery:a.jsx(is,{className:"h-4 w-4 text-green-500"}),Block:a.jsx(at,{className:"h-4 w-4 text-yellow-500"}),Smithing:a.jsx(at,{className:"h-4 w-4 text-gray-500"}),Speechcraft:a.jsx(Ro,{className:"h-4 w-4 text-blue-500"}),Sneak:a.jsx(ll,{className:"h-4 w-4 text-purple-500"}),Lockpicking:a.jsx(zo,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:a.jsx(zo,{className:"h-4 w-4 text-purple-500"})},HI={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},yb={sm:"text-xs px-2 py-0.5"};function FI({item:e,originalReligion:t,isExpanded:n=!1,onToggle:s,className:r,showBlessings:i=!0,showTenets:o=!0,showBoons:l=!0,showFavoredRaces:c=!0,disableHover:u,showToggle:d}){var h,p,v,b,x,y,j,w;const f=N=>{switch(N){case"positive":return a.jsx(oa,{className:"h-4 w-4 text-green-500"});case"negative":return a.jsx(Ql,{className:"h-4 w-4 text-red-500"});case"neutral":return a.jsx(jx,{className:"h-4 w-4 text-blue-500"})}},m=N=>II[N]||a.jsx(Ze,{className:"h-4 w-4 text-skyrim-gold"});return a.jsxs(he,{expanded:n,onToggle:s,className:r,disableHover:u,children:[a.jsxs(he.Header,{children:[d&&a.jsx(Qn,{itemId:e.id,itemType:"religion",itemName:e.name}),a.jsx("div",{className:"flex-1",children:a.jsx(Ne,{className:"text-primary font-semibold",children:e.name})}),e.category&&a.jsx(W,{variant:"outline",className:H(HI[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",yb.sm,"font-medium transition-colors"),children:e.category}),os()&&c&&t&&Array.isArray(t.favoredRaces)&&t.favoredRaces.length>0&&a.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((N,E)=>a.jsxs(W,{variant:"outline",className:H("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",yb.sm,"font-medium transition-colors"),children:[a.jsx(Ze,{className:"h-3 w-3 mr-1"}),"Favors ",N]},E))})]}),a.jsxs(he.Summary,{children:[a.jsx("div",{className:"line-clamp-2",children:a.jsx(bh,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(h=e.effects)==null?void 0:h.slice(0,2).map((N,E)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:N.description,children:[f(N.type),a.jsx("span",{className:"font-medium",children:N.name})]},E)),os()&&c&&((p=t==null?void 0:t.favoredRaces)==null?void 0:p.slice(0,2).map((N,E)=>a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[a.jsx(Ze,{className:"h-3 w-3 text-skyrim-gold"}),a.jsx("span",{className:"font-medium",children:N})]},`race-${E}`)))]})]}),a.jsxs(he.Details,{children:[e.description&&a.jsx("div",{children:a.jsx(bh,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),os()&&c&&Array.isArray(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((N,E)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[a.jsx(Ze,{className:"h-4 w-4 text-skyrim-gold"}),a.jsx("span",{className:"text-sm font-medium",children:N})]},E))})]}),Array.isArray(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),a.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((N,E)=>a.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Ql,{className:"h-4 w-4 text-red-500 mt-0.5"}),a.jsx(bh,{text:N,className:"text-sm text-muted-foreground"})]})},E))})]}),i&&Array.isArray((v=t==null?void 0:t.blessing)==null?void 0:v.effects)&&t.blessing.effects.length>0&&a.jsxs("div",{children:[a.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),a.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(N=>N.effectType!=="1"&&N.effectType!=="3").map((N,E)=>{const{hasDuration:S}=Nh(N.effectDescription);return a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&m(N.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"font-medium text-sm mb-1",children:N.effectName}),a.jsx(wh,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),S&&N.duration>0&&a.jsxs(xe,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",jh(N.duration),"."]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&a.jsxs("span",{children:["Area: ",N.area]})})]})]})},E)})})]}),o&&Array.isArray((b=t==null?void 0:t.tenet)==null?void 0:b.effects)&&t.tenet.effects.length>0&&a.jsxs("div",{children:[a.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((N,E)=>N.effectDescription.split(".").filter(_=>_.trim().length>0).map((_,C)=>a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.targetAttribute&&m(N.targetAttribute)]}),a.jsx("div",{className:"flex-1",children:a.jsx(BI,{description:_.trim()+"."})})]},`${E}-${C}`)))})]}),l&&(Array.isArray((x=t==null?void 0:t.boon1)==null?void 0:x.effects)&&t.boon1.effects.length>0||Array.isArray((y=t==null?void 0:t.boon2)==null?void 0:y.effects)&&t.boon2.effects.length>0)&&a.jsxs("div",{children:[a.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),a.jsxs("div",{className:"space-y-4",children:[Array.isArray((j=t==null?void 0:t.boon1)==null?void 0:j.effects)&&t.boon1.effects.length>0&&a.jsxs("div",{children:[a.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),a.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((N,E)=>{const{hasDuration:S}=Nh(N.effectDescription);return a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&m(N.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"font-medium text-sm mb-1",children:N.effectName}),a.jsx(wh,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),S&&N.duration>0&&a.jsxs(xe,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",jh(N.duration),"."]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&a.jsxs("span",{children:["Area: ",N.area]})})]})]})},E)})})]}),Array.isArray((w=t==null?void 0:t.boon2)==null?void 0:w.effects)&&t.boon2.effects.length>0&&a.jsxs("div",{children:[a.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),a.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((N,E)=>{const{hasDuration:S}=Nh(N.effectDescription);return a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&m(N.effectType)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"font-medium text-sm mb-1",children:N.effectName}),a.jsx(wh,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),S&&N.duration>0&&a.jsxs(xe,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",jh(N.duration),"."]}),a.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&a.jsxs("span",{children:["Area: ",N.area]})})]})]})},E)})})]})]})]})]})]})}function UI(){const{data:e,loading:t,error:n}=dk();return{religions:e||[],loading:t,error:n}}function SC({className:e}){const{religions:t,loading:n,error:s}=UI(),{build:r,setReligion:i}=ht(),o=lt(),[l,c]=g.useState(!0),u=r.religion?_I(t,r.religion):null,d=()=>{o("/build/religions")},f=()=>{c(!l)};if(n)return a.jsx(qn,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading religions..."})});if(s)return a.jsx(qn,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:a.jsxs("div",{className:"text-sm text-destructive",children:["Error loading religions: ",s]})});if(!u)return a.jsxs(qn,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's religion"}),a.jsx(vb,{religions:t,selectedDeityId:r.religion,onDeitySelect:i,placeholder:"Search for a religion...",className:"w-full"})]});const m=Jk(u);return a.jsxs(qn,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[a.jsx(vb,{religions:t,selectedDeityId:r.religion,onDeitySelect:i,placeholder:`Religion: Select a religion (${u.name})`,className:"w-full"}),a.jsx(FI,{item:m,originalReligion:u,isExpanded:l,onToggle:f,className:"border-0 shadow-none",disableHover:!0,showToggle:!1,showBlessings:!1,showTenets:!0,showBoons:!0,showFavoredRaces:os()})]})}function kC({level:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return e<=0?null:a.jsxs(W,{variant:"secondary",className:H("bg-blue-100 text-blue-800 border-blue-200",n[t]),children:["Min: Level ",e]})}function VI({name:e,description:t,category:n,assignmentType:s,perkCount:r,level:i,onSelect:o,onMajorClick:l,onMinorClick:c,canAssignMajor:u,canAssignMinor:d,className:f}){const m=p=>{p.stopPropagation(),l(p)},h=p=>{p.stopPropagation(),c(p)};return a.jsxs("div",{className:H("p-4 border rounded-lg hover:bg-muted/50 transition-colors",f),onClick:o,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(km,{skillName:e,size:"2xl",className:"flex-shrink-0"}),a.jsx("h3",{className:"font-semibold text-lg cursor-pointer",children:e})]}),a.jsx(qI,{type:s})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:t}),a.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[a.jsx(ZI,{category:n}),a.jsx(GI,{count:r}),typeof i=="number"&&i>0&&a.jsx(kC,{level:i})]}),a.jsxs("div",{className:"flex gap-2","data-assignment-control":!0,children:[a.jsx(q,{size:"sm",variant:s==="major"?"default":"outline",onClick:m,disabled:!u&&s!=="major",className:H("flex-1 text-xs",s==="major"&&"bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-500"),children:s==="major"?"Remove Major":"Major"}),a.jsx(q,{size:"sm",variant:s==="minor"?"default":"outline",onClick:h,disabled:!d&&s!=="minor",className:H("flex-1 text-xs",s==="minor"&&"bg-gray-500 hover:bg-gray-600 text-white border-gray-400"),children:s==="minor"?"Remove Minor":"Minor"})]})]})}function qI({type:e,size:t="sm"}){const n={major:"bg-yellow-600 text-white hover:bg-yellow-700 border-yellow-500",minor:"bg-gray-500 text-white hover:bg-gray-600 border-gray-400",none:"bg-gray-100 text-gray-800 border border-gray-300"},s={major:"Major",minor:"Minor",none:"Unassigned"},r={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a.jsx(W,{className:H(n[e],r[t]),children:s[e]})}function ZI({category:e,size:t="sm"}){const n={Combat:"bg-red-100 text-red-800 border-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200"},s={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a.jsx(W,{variant:"outline",className:H(n[e]||"bg-gray-100 text-gray-800 border-gray-300",s[t]),children:e})}function GI({count:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a.jsxs(W,{variant:"secondary",className:H("bg-purple-100 text-purple-800 border-purple-200",n[t]),children:[e," Perks"]})}function YI(){return a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loading Skills..."}),a.jsx("p",{className:"text-muted-foreground",children:"Initializing skill and perk data..."})]})})}function XI({error:e}){return a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs("div",{className:"text-center text-red-600",children:[a.jsx(Do,{className:"h-12 w-12 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Skills"}),a.jsx("p",{className:"text-muted-foreground",children:e})]})})}const WI={Alchemy:"alchemy.svg",Alteration:"alteration.svg",Block:"block.svg",Conjuration:"conjuration.svg",Destruction:"destruction.svg",Enchanting:"enchanting.svg",Evasion:"evasion.svg",Finesse:"finesse.svg","Heavy Armor":"heavyarmor.svg",Illusion:"illusion.svg",Marksman:"marksman.svg","One-handed":"one-handed.svg",Restoration:"restoration.svg",Smithing:"smithing.svg",Sneak:"sneak.svg",Speech:"speech.svg","Two-handed":"two-handed.svg",Wayfarer:"wayfarer.svg"};function km({skillName:e,size:t="md",className:n}){const s=WI[e],r=s?hn(`assets/skills/${s}`):void 0;return a.jsx(mm,{imgSrc:r,alt:e,size:t,className:n,showBorder:!0})}function KI({skills:e,onSkillSelect:t,onAssignMajor:n,onAssignMinor:s,onRemoveAssignment:r,selectedSkillId:i,className:o}){return a.jsx("div",{className:H("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",o),children:e.map(l=>a.jsx(VI,{name:l.name,description:l.description,category:l.category,assignmentType:l.assignmentType,perkCount:l.perkCount,level:l.level,canAssignMajor:l.canAssignMajor,canAssignMinor:l.canAssignMinor,onSelect:()=>t(l.id),onMajorClick:c=>{c.preventDefault(),n(l.id)},onMinorClick:c=>{c.preventDefault(),s(l.id)},className:i===l.id?"ring-2 ring-primary bg-primary/5":""},l.id))})}function rn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)(s=rn(e[n]))!==""&&(t+=(t&&" ")+s);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var CC={exports:{}},EC={},_C={exports:{}},AC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=g;function QI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JI=typeof Object.is=="function"?Object.is:QI,e9=qo.useState,t9=qo.useEffect,n9=qo.useLayoutEffect,s9=qo.useDebugValue;function r9(e,t){var n=t(),s=e9({inst:{value:n,getSnapshot:t}}),r=s[0].inst,i=s[1];return n9(function(){r.value=n,r.getSnapshot=t,Sh(r)&&i({inst:r})},[e,n,t]),t9(function(){return Sh(r)&&i({inst:r}),e(function(){Sh(r)&&i({inst:r})})},[e]),s9(n),n}function Sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!JI(e,n)}catch{return!0}}function a9(e,t){return t()}var i9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a9:r9;AC.useSyncExternalStore=qo.useSyncExternalStore!==void 0?qo.useSyncExternalStore:i9;_C.exports=AC;var o9=_C.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=g,l9=o9;function c9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u9=typeof Object.is=="function"?Object.is:c9,d9=l9.useSyncExternalStore,f9=Cm.useRef,m9=Cm.useEffect,h9=Cm.useMemo,g9=Cm.useDebugValue;EC.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var i=f9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=h9(function(){function c(h){if(!u){if(u=!0,d=h,h=s(h),r!==void 0&&o.hasValue){var p=o.value;if(r(p,h))return f=p}return f=h}if(p=f,u9(d,h))return p;var v=s(h);return r!==void 0&&r(p,v)?(d=h,p):(d=h,f=v)}var u=!1,d,f,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,s,r]);var l=d9(e,i[0],i[1]);return m9(function(){o.hasValue=!0,o.value=l},[l]),g9(l),l};CC.exports=EC;var p9=CC.exports;const x9=gx(p9),v9={},bb=e=>{let t;const n=new Set,s=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(p=>p(t,h))}},r=()=>t,c={setState:s,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(v9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(s,r,c);return c},y9=e=>e?bb(e):bb,{useDebugValue:b9}=P,{useSyncExternalStoreWithSelector:w9}=x9,j9=e=>e;function TC(e,t=j9,n){const s=w9(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return b9(s),s}const wb=(e,t)=>{const n=y9(e),s=(r,i=t)=>TC(n,r,i);return Object.assign(s,n),s},N9=(e,t)=>e?wb(e,t):wb;function fn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var S9={value:()=>{}};function Em(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Nd(n)}function Nd(e){this._=e}function k9(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",r=n.indexOf(".");if(r>=0&&(s=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Nd.prototype=Em.prototype={constructor:Nd,on:function(e,t){var n=this._,s=k9(e+"",n),r,i=-1,o=s.length;if(arguments.length<2){for(;++i<o;)if((r=(e=s[i]).type)&&(r=C9(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(r=(e=s[i]).type)n[r]=jb(n[r],e.name,t);else if(t==null)for(r in n)n[r]=jb(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Nd(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),s=0,r,i;s<r;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],s=0,r=i.length;s<r;++s)i[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)}};function C9(e,t){for(var n=0,s=e.length,r;n<s;++n)if((r=e[n]).name===t)return r.value}function jb(e,t,n){for(var s=0,r=e.length;s<r;++s)if(e[s].name===t){e[s]=S9,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}var Kg="http://www.w3.org/1999/xhtml";const Nb={svg:"http://www.w3.org/2000/svg",xhtml:Kg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _m(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Nb.hasOwnProperty(t)?{space:Nb[t],local:e}:e}function E9(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Kg&&t.documentElement.namespaceURI===Kg?t.createElement(e):t.createElementNS(n,e)}}function _9(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function MC(e){var t=_m(e);return(t.local?_9:E9)(t)}function A9(){}function E0(e){return e==null?A9:function(){return this.querySelector(e)}}function T9(e){typeof e!="function"&&(e=E0(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,l=s[r]=new Array(o),c,u,d=0;d<o;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Rn(s,this._parents)}function M9(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function R9(){return[]}function RC(e){return e==null?R9:function(){return this.querySelectorAll(e)}}function D9(e){return function(){return M9(e.apply(this,arguments))}}function z9(e){typeof e=="function"?e=D9(e):e=RC(e);for(var t=this._groups,n=t.length,s=[],r=[],i=0;i<n;++i)for(var o=t[i],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(s.push(e.call(c,c.__data__,u,o)),r.push(c));return new Rn(s,r)}function DC(e){return function(){return this.matches(e)}}function zC(e){return function(t){return t.matches(e)}}var L9=Array.prototype.find;function $9(e){return function(){return L9.call(this.children,e)}}function P9(){return this.firstElementChild}function O9(e){return this.select(e==null?P9:$9(typeof e=="function"?e:zC(e)))}var B9=Array.prototype.filter;function I9(){return Array.from(this.children)}function H9(e){return function(){return B9.call(this.children,e)}}function F9(e){return this.selectAll(e==null?I9:H9(typeof e=="function"?e:zC(e)))}function U9(e){typeof e!="function"&&(e=DC(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,l=s[r]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Rn(s,this._parents)}function LC(e){return new Array(e.length)}function V9(){return new Rn(this._enter||this._groups.map(LC),this._parents)}function of(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}of.prototype={constructor:of,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function q9(e){return function(){return e}}function Z9(e,t,n,s,r,i){for(var o=0,l,c=t.length,u=i.length;o<u;++o)(l=t[o])?(l.__data__=i[o],s[o]=l):n[o]=new of(e,i[o]);for(;o<c;++o)(l=t[o])&&(r[o]=l)}function G9(e,t,n,s,r,i,o){var l,c,u=new Map,d=t.length,f=i.length,m=new Array(d),h;for(l=0;l<d;++l)(c=t[l])&&(m[l]=h=o.call(c,c.__data__,l,t)+"",u.has(h)?r[l]=c:u.set(h,c));for(l=0;l<f;++l)h=o.call(e,i[l],l,i)+"",(c=u.get(h))?(s[l]=c,c.__data__=i[l],u.delete(h)):n[l]=new of(e,i[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(m[l])===c&&(r[l]=c)}function Y9(e){return e.__data__}function X9(e,t){if(!arguments.length)return Array.from(this,Y9);var n=t?G9:Z9,s=this._parents,r=this._groups;typeof e!="function"&&(e=q9(e));for(var i=r.length,o=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var d=s[u],f=r[u],m=f.length,h=W9(e.call(d,d&&d.__data__,u,s)),p=h.length,v=l[u]=new Array(p),b=o[u]=new Array(p),x=c[u]=new Array(m);n(d,f,v,b,x,h,t);for(var y=0,j=0,w,N;y<p;++y)if(w=v[y]){for(y>=j&&(j=y+1);!(N=b[j])&&++j<p;);w._next=N||null}}return o=new Rn(o,s),o._enter=l,o._exit=c,o}function W9(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function K9(){return new Rn(this._exit||this._groups.map(LC),this._parents)}function Q9(e,t,n){var s=this.enter(),r=this,i=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),s&&r?s.merge(r).order():r}function J9(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,r=n.length,i=s.length,o=Math.min(r,i),l=new Array(r),c=0;c<o;++c)for(var u=n[c],d=s[c],f=u.length,m=l[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||d[p])&&(m[p]=h);for(;c<r;++c)l[c]=n[c];return new Rn(l,this._parents)}function e7(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s=e[t],r=s.length-1,i=s[r],o;--r>=0;)(o=s[r])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function t7(e){e||(e=n7);function t(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var n=this._groups,s=n.length,r=new Array(s),i=0;i<s;++i){for(var o=n[i],l=o.length,c=r[i]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new Rn(r,this._parents).order()}function n7(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function s7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function r7(){return Array.from(this)}function a7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,i=s.length;r<i;++r){var o=s[r];if(o)return o}return null}function i7(){let e=0;for(const t of this)++e;return e}function o7(){return!this.node()}function l7(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var r=t[n],i=0,o=r.length,l;i<o;++i)(l=r[i])&&e.call(l,l.__data__,i,r);return this}function c7(e){return function(){this.removeAttribute(e)}}function u7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function d7(e,t){return function(){this.setAttribute(e,t)}}function f7(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function m7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function h7(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function g7(e,t){var n=_m(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?u7:c7:typeof t=="function"?n.local?h7:m7:n.local?f7:d7)(n,t))}function $C(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function p7(e){return function(){this.style.removeProperty(e)}}function x7(e,t,n){return function(){this.style.setProperty(e,t,n)}}function v7(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function y7(e,t,n){return arguments.length>1?this.each((t==null?p7:typeof t=="function"?v7:x7)(e,t,n??"")):Zo(this.node(),e)}function Zo(e,t){return e.style.getPropertyValue(t)||$C(e).getComputedStyle(e,null).getPropertyValue(t)}function b7(e){return function(){delete this[e]}}function w7(e,t){return function(){this[e]=t}}function j7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function N7(e,t){return arguments.length>1?this.each((t==null?b7:typeof t=="function"?j7:w7)(e,t)):this.node()[e]}function PC(e){return e.trim().split(/^|\s+/)}function _0(e){return e.classList||new OC(e)}function OC(e){this._node=e,this._names=PC(e.getAttribute("class")||"")}OC.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function BC(e,t){for(var n=_0(e),s=-1,r=t.length;++s<r;)n.add(t[s])}function IC(e,t){for(var n=_0(e),s=-1,r=t.length;++s<r;)n.remove(t[s])}function S7(e){return function(){BC(this,e)}}function k7(e){return function(){IC(this,e)}}function C7(e,t){return function(){(t.apply(this,arguments)?BC:IC)(this,e)}}function E7(e,t){var n=PC(e+"");if(arguments.length<2){for(var s=_0(this.node()),r=-1,i=n.length;++r<i;)if(!s.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?C7:t?S7:k7)(n,t))}function _7(){this.textContent=""}function A7(e){return function(){this.textContent=e}}function T7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function M7(e){return arguments.length?this.each(e==null?_7:(typeof e=="function"?T7:A7)(e)):this.node().textContent}function R7(){this.innerHTML=""}function D7(e){return function(){this.innerHTML=e}}function z7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function L7(e){return arguments.length?this.each(e==null?R7:(typeof e=="function"?z7:D7)(e)):this.node().innerHTML}function $7(){this.nextSibling&&this.parentNode.appendChild(this)}function P7(){return this.each($7)}function O7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function B7(){return this.each(O7)}function I7(e){var t=typeof e=="function"?e:MC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function H7(){return null}function F7(e,t){var n=typeof e=="function"?e:MC(e),s=t==null?H7:typeof t=="function"?t:E0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function U7(){var e=this.parentNode;e&&e.removeChild(this)}function V7(){return this.each(U7)}function q7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Z7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function G7(e){return this.select(e?Z7:q7)}function Y7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function X7(e){return function(t){e.call(this,t,this.__data__)}}function W7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function K7(e){return function(){var t=this.__on;if(t){for(var n=0,s=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++s]=i;++s?t.length=s:delete this.__on}}}function Q7(e,t,n){return function(){var s=this.__on,r,i=X7(t);if(s){for(var o=0,l=s.length;o<l;++o)if((r=s[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},s?s.push(r):this.__on=[r]}}function J7(e,t,n){var s=W7(e+""),r,i=s.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(r=0,d=l[c];r<i;++r)if((o=s[r]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?Q7:K7,r=0;r<i;++r)this.each(l(s[r],t,n));return this}function HC(e,t,n){var s=$C(e),r=s.CustomEvent;typeof r=="function"?r=new r(t,n):(r=s.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function eH(e,t){return function(){return HC(this,e,t)}}function tH(e,t){return function(){return HC(this,e,t.apply(this,arguments))}}function nH(e,t){return this.each((typeof t=="function"?tH:eH)(e,t))}function*sH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,i=s.length,o;r<i;++r)(o=s[r])&&(yield o)}var FC=[null];function Rn(e,t){this._groups=e,this._parents=t}function lu(){return new Rn([[document.documentElement]],FC)}function rH(){return this}Rn.prototype=lu.prototype={constructor:Rn,select:T9,selectAll:z9,selectChild:O9,selectChildren:F9,filter:U9,data:X9,enter:V9,exit:K9,join:Q9,merge:J9,selection:rH,order:e7,sort:t7,call:s7,nodes:r7,node:a7,size:i7,empty:o7,each:l7,attr:g7,style:y7,property:N7,classed:E7,text:M7,html:L7,raise:P7,lower:B7,append:I7,insert:F7,remove:V7,clone:G7,datum:Y7,on:J7,dispatch:nH,[Symbol.iterator]:sH};function rs(e){return typeof e=="string"?new Rn([[document.querySelector(e)]],[document.documentElement]):new Rn([[e]],FC)}function aH(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ss(e,t){if(e=aH(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const iH={passive:!1},kc={capture:!0,passive:!1};function kh(e){e.stopImmediatePropagation()}function bo(e){e.preventDefault(),e.stopImmediatePropagation()}function UC(e){var t=e.document.documentElement,n=rs(e).on("dragstart.drag",bo,kc);"onselectstart"in t?n.on("selectstart.drag",bo,kc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function VC(e,t){var n=e.document.documentElement,s=rs(e).on("dragstart.drag",null);t&&(s.on("click.drag",bo,kc),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Fu=e=>()=>e;function Qg(e,{sourceEvent:t,subject:n,target:s,identifier:r,active:i,x:o,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Qg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function oH(e){return!e.ctrlKey&&!e.button}function lH(){return this.parentNode}function cH(e,t){return t??{x:e.x,y:e.y}}function uH(){return navigator.maxTouchPoints||"ontouchstart"in this}function dH(){var e=oH,t=lH,n=cH,s=uH,r={},i=Em("start","drag","end"),o=0,l,c,u,d,f=0;function m(w){w.on("mousedown.drag",h).filter(s).on("touchstart.drag",b).on("touchmove.drag",x,iH).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(w,N){if(!(d||!e.call(this,w,N))){var E=j(this,t.call(this,w,N),w,N,"mouse");E&&(rs(w.view).on("mousemove.drag",p,kc).on("mouseup.drag",v,kc),UC(w.view),kh(w),u=!1,l=w.clientX,c=w.clientY,E("start",w))}}function p(w){if(bo(w),!u){var N=w.clientX-l,E=w.clientY-c;u=N*N+E*E>f}r.mouse("drag",w)}function v(w){rs(w.view).on("mousemove.drag mouseup.drag",null),VC(w.view,u),bo(w),r.mouse("end",w)}function b(w,N){if(e.call(this,w,N)){var E=w.changedTouches,S=t.call(this,w,N),_=E.length,C,k;for(C=0;C<_;++C)(k=j(this,S,w,N,E[C].identifier,E[C]))&&(kh(w),k("start",w,E[C]))}}function x(w){var N=w.changedTouches,E=N.length,S,_;for(S=0;S<E;++S)(_=r[N[S].identifier])&&(bo(w),_("drag",w,N[S]))}function y(w){var N=w.changedTouches,E=N.length,S,_;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),S=0;S<E;++S)(_=r[N[S].identifier])&&(kh(w),_("end",w,N[S]))}function j(w,N,E,S,_,C){var k=i.copy(),R=Ss(C||E,N),O,z,A;if((A=n.call(w,new Qg("beforestart",{sourceEvent:E,target:m,identifier:_,active:o,x:R[0],y:R[1],dx:0,dy:0,dispatch:k}),S))!=null)return O=A.x-R[0]||0,z=A.y-R[1]||0,function $(M,L,T){var D=R,B;switch(M){case"start":r[_]=$,B=o++;break;case"end":delete r[_],--o;case"drag":R=Ss(T||L,N),B=o;break}k.call(M,w,new Qg(M,{sourceEvent:L,subject:A,target:m,identifier:_,active:B,x:R[0]+O,y:R[1]+z,dx:R[0]-D[0],dy:R[1]-D[1],dispatch:k}),S)}}return m.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Fu(!!w),m):e},m.container=function(w){return arguments.length?(t=typeof w=="function"?w:Fu(w),m):t},m.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Fu(w),m):n},m.touchable=function(w){return arguments.length?(s=typeof w=="function"?w:Fu(!!w),m):s},m.on=function(){var w=i.on.apply(i,arguments);return w===i?m:w},m.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,m):Math.sqrt(f)},m}function A0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qC(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function cu(){}var Cc=.7,lf=1/Cc,wo="\\s*([+-]?\\d+)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fH=/^#([0-9a-f]{3,8})$/,mH=new RegExp(`^rgb\\(${wo},${wo},${wo}\\)$`),hH=new RegExp(`^rgb\\(${Ds},${Ds},${Ds}\\)$`),gH=new RegExp(`^rgba\\(${wo},${wo},${wo},${Ec}\\)$`),pH=new RegExp(`^rgba\\(${Ds},${Ds},${Ds},${Ec}\\)$`),xH=new RegExp(`^hsl\\(${Ec},${Ds},${Ds}\\)$`),vH=new RegExp(`^hsla\\(${Ec},${Ds},${Ds},${Ec}\\)$`),Sb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A0(cu,_c,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kb,formatHex:kb,formatHex8:yH,formatHsl:bH,formatRgb:Cb,toString:Cb});function kb(){return this.rgb().formatHex()}function yH(){return this.rgb().formatHex8()}function bH(){return ZC(this).formatHsl()}function Cb(){return this.rgb().formatRgb()}function _c(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Eb(t):n===3?new dn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Uu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Uu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mH.exec(e))?new dn(t[1],t[2],t[3],1):(t=hH.exec(e))?new dn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gH.exec(e))?Uu(t[1],t[2],t[3],t[4]):(t=pH.exec(e))?Uu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xH.exec(e))?Tb(t[1],t[2]/100,t[3]/100,1):(t=vH.exec(e))?Tb(t[1],t[2]/100,t[3]/100,t[4]):Sb.hasOwnProperty(e)?Eb(Sb[e]):e==="transparent"?new dn(NaN,NaN,NaN,0):null}function Eb(e){return new dn(e>>16&255,e>>8&255,e&255,1)}function Uu(e,t,n,s){return s<=0&&(e=t=n=NaN),new dn(e,t,n,s)}function wH(e){return e instanceof cu||(e=_c(e)),e?(e=e.rgb(),new dn(e.r,e.g,e.b,e.opacity)):new dn}function Jg(e,t,n,s){return arguments.length===1?wH(e):new dn(e,t,n,s??1)}function dn(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}A0(dn,Jg,qC(cu,{brighter(e){return e=e==null?lf:Math.pow(lf,e),new dn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new dn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dn(Qa(this.r),Qa(this.g),Qa(this.b),cf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_b,formatHex:_b,formatHex8:jH,formatRgb:Ab,toString:Ab}));function _b(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}`}function jH(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}${Ya((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ab(){const e=cf(this.opacity);return`${e===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${e===1?")":`, ${e})`}`}function cf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ya(e){return e=Qa(e),(e<16?"0":"")+e.toString(16)}function Tb(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new as(e,t,n,s)}function ZC(e){if(e instanceof as)return new as(e.h,e.s,e.l,e.opacity);if(e instanceof cu||(e=_c(e)),!e)return new as;if(e instanceof as)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,r=Math.min(t,n,s),i=Math.max(t,n,s),o=NaN,l=i-r,c=(i+r)/2;return l?(t===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+r:2-i-r,o*=60):l=c>0&&c<1?0:o,new as(o,l,c,e.opacity)}function NH(e,t,n,s){return arguments.length===1?ZC(e):new as(e,t,n,s??1)}function as(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}A0(as,NH,qC(cu,{brighter(e){return e=e==null?lf:Math.pow(lf,e),new as(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new as(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,r=2*n-s;return new dn(Ch(e>=240?e-240:e+120,r,s),Ch(e,r,s),Ch(e<120?e+240:e-120,r,s),this.opacity)},clamp(){return new as(Mb(this.h),Vu(this.s),Vu(this.l),cf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cf(this.opacity);return`${e===1?"hsl(":"hsla("}${Mb(this.h)}, ${Vu(this.s)*100}%, ${Vu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Mb(e){return e=(e||0)%360,e<0?e+360:e}function Vu(e){return Math.max(0,Math.min(1,e||0))}function Ch(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const GC=e=>()=>e;function SH(e,t){return function(n){return e+n*t}}function kH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function CH(e){return(e=+e)==1?YC:function(t,n){return n-t?kH(t,n,e):GC(isNaN(t)?n:t)}}function YC(e,t){var n=t-e;return n?SH(e,n):GC(isNaN(e)?t:e)}const Rb=function e(t){var n=CH(t);function s(r,i){var o=n((r=Jg(r)).r,(i=Jg(i)).r),l=n(r.g,i.g),c=n(r.b,i.b),u=YC(r.opacity,i.opacity);return function(d){return r.r=o(d),r.g=l(d),r.b=c(d),r.opacity=u(d),r+""}}return s.gamma=e,s}(1);function qr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ep=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eh=new RegExp(ep.source,"g");function EH(e){return function(){return e}}function _H(e){return function(t){return e(t)+""}}function AH(e,t){var n=ep.lastIndex=Eh.lastIndex=0,s,r,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=ep.exec(e))&&(r=Eh.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:qr(s,r)})),n=Eh.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?_H(c[0].x):EH(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}var Db=180/Math.PI,tp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function XC(e,t,n,s,r,i){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*s)&&(n-=e*c,s-=t*c),(l=Math.sqrt(n*n+s*s))&&(n/=l,s/=l,c/=l),e*s<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Db,skewX:Math.atan(c)*Db,scaleX:o,scaleY:l}}var qu;function TH(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?tp:XC(t.a,t.b,t.c,t.d,t.e,t.f)}function MH(e){return e==null||(qu||(qu=document.createElementNS("http://www.w3.org/2000/svg","g")),qu.setAttribute("transform",e),!(e=qu.transform.baseVal.consolidate()))?tp:(e=e.matrix,XC(e.a,e.b,e.c,e.d,e.e,e.f))}function WC(e,t,n,s){function r(u){return u.length?u.pop()+" ":""}function i(u,d,f,m,h,p){if(u!==f||d!==m){var v=h.push("translate(",null,t,null,n);p.push({i:v-4,x:qr(u,f)},{i:v-2,x:qr(d,m)})}else(f||m)&&h.push("translate("+f+t+m+n)}function o(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(r(f)+"rotate(",null,s)-2,x:qr(u,d)})):d&&f.push(r(f)+"rotate("+d+s)}function l(u,d,f,m){u!==d?m.push({i:f.push(r(f)+"skewX(",null,s)-2,x:qr(u,d)}):d&&f.push(r(f)+"skewX("+d+s)}function c(u,d,f,m,h,p){if(u!==f||d!==m){var v=h.push(r(h)+"scale(",null,",",null,")");p.push({i:v-4,x:qr(u,f)},{i:v-2,x:qr(d,m)})}else(f!==1||m!==1)&&h.push(r(h)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,m),o(u.rotate,d.rotate,f,m),l(u.skewX,d.skewX,f,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(h){for(var p=-1,v=m.length,b;++p<v;)f[(b=m[p]).i]=b.x(h);return f.join("")}}}var RH=WC(TH,"px, ","px)","deg)"),DH=WC(MH,", ",")",")"),zH=1e-12;function zb(e){return((e=Math.exp(e))+1/e)/2}function LH(e){return((e=Math.exp(e))-1/e)/2}function $H(e){return((e=Math.exp(2*e))-1)/(e+1)}const PH=function e(t,n,s){function r(i,o){var l=i[0],c=i[1],u=i[2],d=o[0],f=o[1],m=o[2],h=d-l,p=f-c,v=h*h+p*p,b,x;if(v<zH)x=Math.log(m/u)/t,b=function(S){return[l+S*h,c+S*p,u*Math.exp(t*S*x)]};else{var y=Math.sqrt(v),j=(m*m-u*u+s*v)/(2*u*n*y),w=(m*m-u*u-s*v)/(2*m*n*y),N=Math.log(Math.sqrt(j*j+1)-j),E=Math.log(Math.sqrt(w*w+1)-w);x=(E-N)/t,b=function(S){var _=S*x,C=zb(N),k=u/(n*y)*(C*$H(t*_+N)-LH(N));return[l+k*h,c+k*p,u*C/zb(t*_+N)]}}return b.duration=x*1e3*t/Math.SQRT2,b}return r.rho=function(i){var o=Math.max(.001,+i),l=o*o,c=l*l;return e(o,l,c)},r}(Math.SQRT2,2,4);var Go=0,ql=0,_l=0,KC=1e3,uf,Zl,df=0,fi=0,Am=0,Ac=typeof performance=="object"&&performance.now?performance:Date,QC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function T0(){return fi||(QC(OH),fi=Ac.now()+Am)}function OH(){fi=0}function ff(){this._call=this._time=this._next=null}ff.prototype=JC.prototype={constructor:ff,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?T0():+n)+(t==null?0:+t),!this._next&&Zl!==this&&(Zl?Zl._next=this:uf=this,Zl=this),this._call=e,this._time=n,np()},stop:function(){this._call&&(this._call=null,this._time=1/0,np())}};function JC(e,t,n){var s=new ff;return s.restart(e,t,n),s}function BH(){T0(),++Go;for(var e=uf,t;e;)(t=fi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Go}function Lb(){fi=(df=Ac.now())+Am,Go=ql=0;try{BH()}finally{Go=0,HH(),fi=0}}function IH(){var e=Ac.now(),t=e-df;t>KC&&(Am-=t,df=e)}function HH(){for(var e,t=uf,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:uf=n);Zl=e,np(s)}function np(e){if(!Go){ql&&(ql=clearTimeout(ql));var t=e-fi;t>24?(e<1/0&&(ql=setTimeout(Lb,e-Ac.now()-Am)),_l&&(_l=clearInterval(_l))):(_l||(df=Ac.now(),_l=setInterval(IH,KC)),Go=1,QC(Lb))}}function $b(e,t,n){var s=new ff;return t=t==null?0:+t,s.restart(r=>{s.stop(),e(r+t)},t,n),s}var FH=Em("start","end","cancel","interrupt"),UH=[],eE=0,Pb=1,sp=2,Sd=3,Ob=4,rp=5,kd=6;function Tm(e,t,n,s,r,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;VH(e,n,{name:t,index:s,group:r,on:FH,tween:UH,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:eE})}function M0(e,t){var n=gs(e,t);if(n.state>eE)throw new Error("too late; already scheduled");return n}function Vs(e,t){var n=gs(e,t);if(n.state>Sd)throw new Error("too late; already running");return n}function gs(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function VH(e,t,n){var s=e.__transition,r;s[t]=n,n.timer=JC(i,0,n.time);function i(u){n.state=Pb,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,m,h;if(n.state!==Pb)return c();for(d in s)if(h=s[d],h.name===n.name){if(h.state===Sd)return $b(o);h.state===Ob?(h.state=kd,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete s[d]):+d<t&&(h.state=kd,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete s[d])}if($b(function(){n.state===Sd&&(n.state=Ob,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=sp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===sp){for(n.state=Sd,r=new Array(m=n.tween.length),d=0,f=-1;d<m;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=rp,1),f=-1,m=r.length;++f<m;)r[f].call(e,d);n.state===rp&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=kd,n.timer.stop(),delete s[t];for(var u in s)return;delete e.__transition}}function Cd(e,t){var n=e.__transition,s,r,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((s=n[o]).name!==t){i=!1;continue}r=s.state>sp&&s.state<rp,s.state=kd,s.timer.stop(),s.on.call(r?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[o]}i&&delete e.__transition}}function qH(e){return this.each(function(){Cd(this,e)})}function ZH(e,t){var n,s;return function(){var r=Vs(this,e),i=r.tween;if(i!==n){s=n=i;for(var o=0,l=s.length;o<l;++o)if(s[o].name===t){s=s.slice(),s.splice(o,1);break}}r.tween=s}}function GH(e,t,n){var s,r;if(typeof n!="function")throw new Error;return function(){var i=Vs(this,e),o=i.tween;if(o!==s){r=(s=o).slice();for(var l={name:t,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=l;break}c===u&&r.push(l)}i.tween=r}}function YH(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s=gs(this.node(),n).tween,r=0,i=s.length,o;r<i;++r)if((o=s[r]).name===e)return o.value;return null}return this.each((t==null?ZH:GH)(n,e,t))}function R0(e,t,n){var s=e._id;return e.each(function(){var r=Vs(this,s);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return gs(r,s).value[t]}}function tE(e,t){var n;return(typeof t=="number"?qr:t instanceof _c?Rb:(n=_c(t))?(t=n,Rb):AH)(e,t)}function XH(e){return function(){this.removeAttribute(e)}}function WH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KH(e,t,n){var s,r=n+"",i;return function(){var o=this.getAttribute(e);return o===r?null:o===s?i:i=t(s=o,n)}}function QH(e,t,n){var s,r=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===s?i:i=t(s=o,n)}}function JH(e,t,n){var s,r,i;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===s&&c===r?i:(r=c,i=t(s=o,l)))}}function eF(e,t,n){var s,r,i;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===s&&c===r?i:(r=c,i=t(s=o,l)))}}function tF(e,t){var n=_m(e),s=n==="transform"?DH:tE;return this.attrTween(e,typeof t=="function"?(n.local?eF:JH)(n,s,R0(this,"attr."+e,t)):t==null?(n.local?WH:XH)(n):(n.local?QH:KH)(n,s,t))}function nF(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function sF(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function rF(e,t){var n,s;function r(){var i=t.apply(this,arguments);return i!==s&&(n=(s=i)&&sF(e,i)),n}return r._value=t,r}function aF(e,t){var n,s;function r(){var i=t.apply(this,arguments);return i!==s&&(n=(s=i)&&nF(e,i)),n}return r._value=t,r}function iF(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=_m(e);return this.tween(n,(s.local?rF:aF)(s,t))}function oF(e,t){return function(){M0(this,e).delay=+t.apply(this,arguments)}}function lF(e,t){return t=+t,function(){M0(this,e).delay=t}}function cF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?oF:lF)(t,e)):gs(this.node(),t).delay}function uF(e,t){return function(){Vs(this,e).duration=+t.apply(this,arguments)}}function dF(e,t){return t=+t,function(){Vs(this,e).duration=t}}function fF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uF:dF)(t,e)):gs(this.node(),t).duration}function mF(e,t){if(typeof t!="function")throw new Error;return function(){Vs(this,e).ease=t}}function hF(e){var t=this._id;return arguments.length?this.each(mF(t,e)):gs(this.node(),t).ease}function gF(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vs(this,e).ease=n}}function pF(e){if(typeof e!="function")throw new Error;return this.each(gF(this._id,e))}function xF(e){typeof e!="function"&&(e=DC(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,l=s[r]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new kr(s,this._parents,this._name,this._id)}function vF(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,s=t.length,r=n.length,i=Math.min(s,r),o=new Array(s),l=0;l<i;++l)for(var c=t[l],u=n[l],d=c.length,f=o[l]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(f[h]=m);for(;l<s;++l)o[l]=t[l];return new kr(o,this._parents,this._name,this._id)}function yF(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function bF(e,t,n){var s,r,i=yF(t)?M0:Vs;return function(){var o=i(this,e),l=o.on;l!==s&&(r=(s=l).copy()).on(t,n),o.on=r}}function wF(e,t){var n=this._id;return arguments.length<2?gs(this.node(),n).on.on(e):this.each(bF(n,e,t))}function jF(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function NF(){return this.on("end.remove",jF(this._id))}function SF(e){var t=this._name,n=this._id;typeof e!="function"&&(e=E0(e));for(var s=this._groups,r=s.length,i=new Array(r),o=0;o<r;++o)for(var l=s[o],c=l.length,u=i[o]=new Array(c),d,f,m=0;m<c;++m)(d=l[m])&&(f=e.call(d,d.__data__,m,l))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,Tm(u[m],t,n,m,u,gs(d,n)));return new kr(i,this._parents,t,n)}function kF(e){var t=this._name,n=this._id;typeof e!="function"&&(e=RC(e));for(var s=this._groups,r=s.length,i=[],o=[],l=0;l<r;++l)for(var c=s[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var m=e.call(d,d.__data__,f,c),h,p=gs(d,n),v=0,b=m.length;v<b;++v)(h=m[v])&&Tm(h,t,n,v,m,p);i.push(m),o.push(d)}return new kr(i,o,t,n)}var CF=lu.prototype.constructor;function EF(){return new CF(this._groups,this._parents)}function _F(e,t){var n,s,r;return function(){var i=Zo(this,e),o=(this.style.removeProperty(e),Zo(this,e));return i===o?null:i===n&&o===s?r:r=t(n=i,s=o)}}function nE(e){return function(){this.style.removeProperty(e)}}function AF(e,t,n){var s,r=n+"",i;return function(){var o=Zo(this,e);return o===r?null:o===s?i:i=t(s=o,n)}}function TF(e,t,n){var s,r,i;return function(){var o=Zo(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Zo(this,e))),o===c?null:o===s&&c===r?i:(r=c,i=t(s=o,l))}}function MF(e,t){var n,s,r,i="style."+t,o="end."+i,l;return function(){var c=Vs(this,e),u=c.on,d=c.value[i]==null?l||(l=nE(t)):void 0;(u!==n||r!==d)&&(s=(n=u).copy()).on(o,r=d),c.on=s}}function RF(e,t,n){var s=(e+="")=="transform"?RH:tE;return t==null?this.styleTween(e,_F(e,s)).on("end.style."+e,nE(e)):typeof t=="function"?this.styleTween(e,TF(e,s,R0(this,"style."+e,t))).each(MF(this._id,e)):this.styleTween(e,AF(e,s,t),n).on("end.style."+e,null)}function DF(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function zF(e,t,n){var s,r;function i(){var o=t.apply(this,arguments);return o!==r&&(s=(r=o)&&DF(e,o,n)),s}return i._value=t,i}function LF(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,zF(e,t,n??""))}function $F(e){return function(){this.textContent=e}}function PF(e){return function(){var t=e(this);this.textContent=t??""}}function OF(e){return this.tween("text",typeof e=="function"?PF(R0(this,"text",e)):$F(e==null?"":e+""))}function BF(e){return function(t){this.textContent=e.call(this,t)}}function IF(e){var t,n;function s(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&BF(r)),t}return s._value=e,s}function HF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,IF(e))}function FF(){for(var e=this._name,t=this._id,n=sE(),s=this._groups,r=s.length,i=0;i<r;++i)for(var o=s[i],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=gs(c,t);Tm(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new kr(s,this._parents,e,n)}function UF(){var e,t,n=this,s=n._id,r=n.size();return new Promise(function(i,o){var l={value:o},c={value:function(){--r===0&&i()}};n.each(function(){var u=Vs(this,s),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),r===0&&i()})}var VF=0;function kr(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function sE(){return++VF}var er=lu.prototype;kr.prototype={constructor:kr,select:SF,selectAll:kF,selectChild:er.selectChild,selectChildren:er.selectChildren,filter:xF,merge:vF,selection:EF,transition:FF,call:er.call,nodes:er.nodes,node:er.node,size:er.size,empty:er.empty,each:er.each,on:wF,attr:tF,attrTween:iF,style:RF,styleTween:LF,text:OF,textTween:HF,remove:NF,tween:YH,delay:cF,duration:fF,ease:hF,easeVarying:pF,end:UF,[Symbol.iterator]:er[Symbol.iterator]};function qF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZF={time:null,delay:0,duration:250,ease:qF};function GF(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function YF(e){var t,n;e instanceof kr?(t=e._id,e=e._name):(t=sE(),(n=ZF).time=T0(),e=e==null?null:e+"");for(var s=this._groups,r=s.length,i=0;i<r;++i)for(var o=s[i],l=o.length,c,u=0;u<l;++u)(c=o[u])&&Tm(c,e,t,u,o,n||GF(c,t));return new kr(s,this._parents,e,t)}lu.prototype.interrupt=qH;lu.prototype.transition=YF;const Zu=e=>()=>e;function XF(e,{sourceEvent:t,target:n,transform:s,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function lr(e,t,n){this.k=e,this.x=t,this.y=n}lr.prototype={constructor:lr,scale:function(e){return e===1?this:new lr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new lr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ua=new lr(1,0,0);lr.prototype;function _h(e){e.stopImmediatePropagation()}function Al(e){e.preventDefault(),e.stopImmediatePropagation()}function WF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function KF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Bb(){return this.__zoom||ua}function QF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function JF(){return navigator.maxTouchPoints||"ontouchstart"in this}function eU(e,t,n){var s=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function tU(){var e=WF,t=KF,n=eU,s=QF,r=JF,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=PH,u=Em("start","zoom","end"),d,f,m,h=500,p=150,v=0,b=10;function x(A){A.property("__zoom",Bb).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",k).filter(r).on("touchstart.zoom",R).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(A,$,M,L){var T=A.selection?A.selection():A;T.property("__zoom",Bb),A!==T?N(A,$,M,L):T.interrupt().each(function(){E(this,arguments).event(L).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},x.scaleBy=function(A,$,M,L){x.scaleTo(A,function(){var T=this.__zoom.k,D=typeof $=="function"?$.apply(this,arguments):$;return T*D},M,L)},x.scaleTo=function(A,$,M,L){x.transform(A,function(){var T=t.apply(this,arguments),D=this.__zoom,B=M==null?w(T):typeof M=="function"?M.apply(this,arguments):M,F=D.invert(B),I=typeof $=="function"?$.apply(this,arguments):$;return n(j(y(D,I),B,F),T,o)},M,L)},x.translateBy=function(A,$,M,L){x.transform(A,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),o)},null,L)},x.translateTo=function(A,$,M,L,T){x.transform(A,function(){var D=t.apply(this,arguments),B=this.__zoom,F=L==null?w(D):typeof L=="function"?L.apply(this,arguments):L;return n(ua.translate(F[0],F[1]).scale(B.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof M=="function"?-M.apply(this,arguments):-M),D,o)},L,T)};function y(A,$){return $=Math.max(i[0],Math.min(i[1],$)),$===A.k?A:new lr($,A.x,A.y)}function j(A,$,M){var L=$[0]-M[0]*A.k,T=$[1]-M[1]*A.k;return L===A.x&&T===A.y?A:new lr(A.k,L,T)}function w(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function N(A,$,M,L){A.on("start.zoom",function(){E(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(L).end()}).tween("zoom",function(){var T=this,D=arguments,B=E(T,D).event(L),F=t.apply(T,D),I=M==null?w(F):typeof M=="function"?M.apply(T,D):M,V=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),G=T.__zoom,J=typeof $=="function"?$.apply(T,D):$,ie=c(G.invert(I).concat(V/G.k),J.invert(I).concat(V/J.k));return function(ee){if(ee===1)ee=J;else{var pe=ie(ee),fe=V/pe[2];ee=new lr(fe,I[0]-pe[0]*fe,I[1]-pe[1]*fe)}B.zoom(null,ee)}})}function E(A,$,M){return!M&&A.__zooming||new S(A,$)}function S(A,$){this.that=A,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,$),this.taps=0}S.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,$){return this.mouse&&A!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var $=rs(this.that).datum();u.call(A,this.that,new XF(A,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),$)}};function _(A,...$){if(!e.apply(this,arguments))return;var M=E(this,$).event(A),L=this.__zoom,T=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,s.apply(this,arguments)))),D=Ss(A);if(M.wheel)(M.mouse[0][0]!==D[0]||M.mouse[0][1]!==D[1])&&(M.mouse[1]=L.invert(M.mouse[0]=D)),clearTimeout(M.wheel);else{if(L.k===T)return;M.mouse=[D,L.invert(D)],Cd(this),M.start()}Al(A),M.wheel=setTimeout(B,p),M.zoom("mouse",n(j(y(L,T),M.mouse[0],M.mouse[1]),M.extent,o));function B(){M.wheel=null,M.end()}}function C(A,...$){if(m||!e.apply(this,arguments))return;var M=A.currentTarget,L=E(this,$,!0).event(A),T=rs(A.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",V,!0),D=Ss(A,M),B=A.clientX,F=A.clientY;UC(A.view),_h(A),L.mouse=[D,this.__zoom.invert(D)],Cd(this),L.start();function I(G){if(Al(G),!L.moved){var J=G.clientX-B,ie=G.clientY-F;L.moved=J*J+ie*ie>v}L.event(G).zoom("mouse",n(j(L.that.__zoom,L.mouse[0]=Ss(G,M),L.mouse[1]),L.extent,o))}function V(G){T.on("mousemove.zoom mouseup.zoom",null),VC(G.view,L.moved),Al(G),L.event(G).end()}}function k(A,...$){if(e.apply(this,arguments)){var M=this.__zoom,L=Ss(A.changedTouches?A.changedTouches[0]:A,this),T=M.invert(L),D=M.k*(A.shiftKey?.5:2),B=n(j(y(M,D),L,T),t.apply(this,$),o);Al(A),l>0?rs(this).transition().duration(l).call(N,B,L,A):rs(this).call(x.transform,B,L,A)}}function R(A,...$){if(e.apply(this,arguments)){var M=A.touches,L=M.length,T=E(this,$,A.changedTouches.length===L).event(A),D,B,F,I;for(_h(A),B=0;B<L;++B)F=M[B],I=Ss(F,this),I=[I,this.__zoom.invert(I),F.identifier],T.touch0?!T.touch1&&T.touch0[2]!==I[2]&&(T.touch1=I,T.taps=0):(T.touch0=I,D=!0,T.taps=1+!!d);d&&(d=clearTimeout(d)),D&&(T.taps<2&&(f=I[0],d=setTimeout(function(){d=null},h)),Cd(this),T.start())}}function O(A,...$){if(this.__zooming){var M=E(this,$).event(A),L=A.changedTouches,T=L.length,D,B,F,I;for(Al(A),D=0;D<T;++D)B=L[D],F=Ss(B,this),M.touch0&&M.touch0[2]===B.identifier?M.touch0[0]=F:M.touch1&&M.touch1[2]===B.identifier&&(M.touch1[0]=F);if(B=M.that.__zoom,M.touch1){var V=M.touch0[0],G=M.touch0[1],J=M.touch1[0],ie=M.touch1[1],ee=(ee=J[0]-V[0])*ee+(ee=J[1]-V[1])*ee,pe=(pe=ie[0]-G[0])*pe+(pe=ie[1]-G[1])*pe;B=y(B,Math.sqrt(ee/pe)),F=[(V[0]+J[0])/2,(V[1]+J[1])/2],I=[(G[0]+ie[0])/2,(G[1]+ie[1])/2]}else if(M.touch0)F=M.touch0[0],I=M.touch0[1];else return;M.zoom("touch",n(j(B,F,I),M.extent,o))}}function z(A,...$){if(this.__zooming){var M=E(this,$).event(A),L=A.changedTouches,T=L.length,D,B;for(_h(A),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),D=0;D<T;++D)B=L[D],M.touch0&&M.touch0[2]===B.identifier?delete M.touch0:M.touch1&&M.touch1[2]===B.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(B=Ss(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<b)){var F=rs(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return x.wheelDelta=function(A){return arguments.length?(s=typeof A=="function"?A:Zu(+A),x):s},x.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Zu(!!A),x):e},x.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Zu(!!A),x):r},x.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Zu([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),x):t},x.scaleExtent=function(A){return arguments.length?(i[0]=+A[0],i[1]=+A[1],x):[i[0],i[1]]},x.translateExtent=function(A){return arguments.length?(o[0][0]=+A[0][0],o[1][0]=+A[1][0],o[0][1]=+A[0][1],o[1][1]=+A[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(A){return arguments.length?(n=A,x):n},x.duration=function(A){return arguments.length?(l=+A,x):l},x.interpolate=function(A){return arguments.length?(c=A,x):c},x.on=function(){var A=u.on.apply(u,arguments);return A===u?x:A},x.clickDistance=function(A){return arguments.length?(v=(A=+A)*A,x):Math.sqrt(v)},x.tapDistance=function(A){return arguments.length?(b=+A,x):b},x}const Mm=g.createContext(null),nU=Mm.Provider,Cr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},rE=Cr.error001();function ot(e,t){const n=g.useContext(Mm);if(n===null)throw new Error(rE);return TC(n,e,t)}const $t=()=>{const e=g.useContext(Mm);if(e===null)throw new Error(rE);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},sU=e=>e.userSelectionActive?"none":"all";function aE({position:e,children:t,className:n,style:s,...r}){const i=ot(sU),o=`${e}`.split("-");return P.createElement("div",{className:rn(["react-flow__panel",n,...o]),style:{...s,pointerEvents:i},...r},t)}function rU({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:P.createElement(aE,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},P.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const aU=({x:e,y:t,label:n,labelStyle:s={},labelShowBg:r=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const f=g.useRef(null),[m,h]=g.useState({x:0,y:0,width:0,height:0}),p=rn(["react-flow__edge-textwrapper",u]);return g.useEffect(()=>{if(f.current){const v=f.current.getBBox();h({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:P.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:p,visibility:m.width?"visible":"hidden",...d},r&&P.createElement("rect",{width:m.width+2*o[0],x:-o[0],y:-o[1],height:m.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),P.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:f,style:s},n),c)};var iU=g.memo(aU);const D0=e=>({width:e.offsetWidth,height:e.offsetHeight}),Yo=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),z0=(e={x:0,y:0},t)=>({x:Yo(e.x,t[0][0],t[1][0]),y:Yo(e.y,t[0][1],t[1][1])}),Ib=(e,t,n)=>e<t?Yo(Math.abs(e-t),1,50)/50:e>n?-Yo(Math.abs(e-n),1,50)/50:0,iE=(e,t)=>{const n=Ib(e.x,35,t.width-35)*20,s=Ib(e.y,35,t.height-35)*20;return[n,s]},oE=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},oU=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),L0=({x:e,y:t,width:n,height:s})=>({x:e,y:t,x2:e+n,y2:t+s}),lU=({x:e,y:t,x2:n,y2:s})=>({x:e,y:t,width:n-e,height:s-t}),Hb=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),ap=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*s)},cU=e=>Zn(e.width)&&Zn(e.height)&&Zn(e.x)&&Zn(e.y),Zn=e=>!isNaN(e)&&isFinite(e),ft=Symbol.for("internals"),lE=["Enter"," ","Escape"],uU=(e,t)=>{},dU=e=>"nativeEvent"in e;function ip(e){var r,i;const t=dU(e)?e.nativeEvent:e,n=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const cE=e=>"clientX"in e,da=(e,t)=>{var i,o;const n=cE(e),s=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,r=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:s-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},mf=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},uu=({id:e,path:t,labelX:n,labelY:s,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h=20})=>P.createElement(P.Fragment,null,P.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:m}),h&&P.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),r&&Zn(n)&&Zn(s)?P.createElement(iU,{x:n,y:s,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);uu.displayName="BaseEdge";function Tl(e,t,n){return n===void 0?n:s=>{const r=t().edges.find(i=>i.id===e);r&&n(s,{...r})}}function uE({sourceX:e,sourceY:t,targetX:n,targetY:s}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,o=Math.abs(s-t)/2,l=s<t?s+o:s-o;return[i,l,r,o]}function dE({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:r,sourceControlY:i,targetControlX:o,targetControlY:l}){const c=e*.125+r*.375+o*.375+n*.125,u=t*.125+i*.375+l*.375+s*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var mi;(function(e){e.Strict="strict",e.Loose="loose"})(mi||(mi={}));var Xa;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Xa||(Xa={}));var Tc;(function(e){e.Partial="partial",e.Full="full"})(Tc||(Tc={}));var Wr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Wr||(Wr={}));var hf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(hf||(hf={}));var le;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(le||(le={}));function Fb({pos:e,x1:t,y1:n,x2:s,y2:r}){return e===le.Left||e===le.Right?[.5*(t+s),n]:[t,.5*(n+r)]}function fE({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:s,targetY:r,targetPosition:i=le.Top}){const[o,l]=Fb({pos:n,x1:e,y1:t,x2:s,y2:r}),[c,u]=Fb({pos:i,x1:s,y1:r,x2:e,y2:t}),[d,f,m,h]=dE({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${l} ${c},${u} ${s},${r}`,d,f,m,h]}const $0=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,sourcePosition:r=le.Bottom,targetPosition:i=le.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:v})=>{const[b,x,y]=fE({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:s,targetPosition:i});return P.createElement(uu,{path:b,labelX:x,labelY:y,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:v})});$0.displayName="SimpleBezierEdge";const Ub={[le.Left]:{x:-1,y:0},[le.Right]:{x:1,y:0},[le.Top]:{x:0,y:-1},[le.Bottom]:{x:0,y:1}},fU=({source:e,sourcePosition:t=le.Bottom,target:n})=>t===le.Left||t===le.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Vb=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function mU({source:e,sourcePosition:t=le.Bottom,target:n,targetPosition:s=le.Top,center:r,offset:i}){const o=Ub[t],l=Ub[s],c={x:e.x+o.x*i,y:e.y+o.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},d=fU({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",m=d[f];let h=[],p,v;const b={x:0,y:0},x={x:0,y:0},[y,j,w,N]=uE({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*l[f]===-1){p=r.x??y,v=r.y??j;const S=[{x:p,y:c.y},{x:p,y:u.y}],_=[{x:c.x,y:v},{x:u.x,y:v}];o[f]===m?h=f==="x"?S:_:h=f==="x"?_:S}else{const S=[{x:c.x,y:u.y}],_=[{x:u.x,y:c.y}];if(f==="x"?h=o.x===m?_:S:h=o.y===m?S:_,t===s){const z=Math.abs(e[f]-n[f]);if(z<=i){const A=Math.min(i-1,i-z);o[f]===m?b[f]=(c[f]>e[f]?-1:1)*A:x[f]=(u[f]>n[f]?-1:1)*A}}if(t!==s){const z=f==="x"?"y":"x",A=o[f]===l[z],$=c[z]>u[z],M=c[z]<u[z];(o[f]===1&&(!A&&$||A&&M)||o[f]!==1&&(!A&&M||A&&$))&&(h=f==="x"?S:_)}const C={x:c.x+b.x,y:c.y+b.y},k={x:u.x+x.x,y:u.y+x.y},R=Math.max(Math.abs(C.x-h[0].x),Math.abs(k.x-h[0].x)),O=Math.max(Math.abs(C.y-h[0].y),Math.abs(k.y-h[0].y));R>=O?(p=(C.x+k.x)/2,v=h[0].y):(p=h[0].x,v=(C.y+k.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...h,{x:u.x+x.x,y:u.y+x.y},n],p,v,w,N]}function hU(e,t,n,s){const r=Math.min(Vb(e,t)/2,Vb(t,n)/2,s),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+r*u},${o}Q ${i},${o} ${i},${o+r*d}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${o+r*c}Q ${i},${o} ${i+r*l},${o}`}function op({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:s,targetY:r,targetPosition:i=le.Top,borderRadius:o=5,centerX:l,centerY:c,offset:u=20}){const[d,f,m,h,p]=mU({source:{x:e,y:t},sourcePosition:n,target:{x:s,y:r},targetPosition:i,center:{x:l,y:c},offset:u});return[d.reduce((b,x,y)=>{let j="";return y>0&&y<d.length-1?j=hU(d[y-1],x,d[y+1],o):j=`${y===0?"M":"L"}${x.x} ${x.y}`,b+=j,b},""),f,m,h,p]}const Rm=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=le.Bottom,targetPosition:m=le.Top,markerEnd:h,markerStart:p,pathOptions:v,interactionWidth:b})=>{const[x,y,j]=op({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:s,targetPosition:m,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return P.createElement(uu,{path:x,labelX:y,labelY:j,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:p,interactionWidth:b})});Rm.displayName="SmoothStepEdge";const P0=g.memo(e=>{var t;return P.createElement(Rm,{...e,pathOptions:g.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});P0.displayName="StepEdge";function gU({sourceX:e,sourceY:t,targetX:n,targetY:s}){const[r,i,o,l]=uE({sourceX:e,sourceY:t,targetX:n,targetY:s});return[`M ${e},${t}L ${n},${s}`,r,i,o,l]}const O0=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})=>{const[p,v,b]=gU({sourceX:e,sourceY:t,targetX:n,targetY:s});return P.createElement(uu,{path:p,labelX:v,labelY:b,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})});O0.displayName="StraightEdge";function Gu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function qb({pos:e,x1:t,y1:n,x2:s,y2:r,c:i}){switch(e){case le.Left:return[t-Gu(t-s,i),n];case le.Right:return[t+Gu(s-t,i),n];case le.Top:return[t,n-Gu(n-r,i)];case le.Bottom:return[t,n+Gu(r-n,i)]}}function mE({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:s,targetY:r,targetPosition:i=le.Top,curvature:o=.25}){const[l,c]=qb({pos:n,x1:e,y1:t,x2:s,y2:r,c:o}),[u,d]=qb({pos:i,x1:s,y1:r,x2:e,y2:t,c:o}),[f,m,h,p]=dE({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${s},${r}`,f,m,h,p]}const gf=g.memo(({sourceX:e,sourceY:t,targetX:n,targetY:s,sourcePosition:r=le.Bottom,targetPosition:i=le.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,pathOptions:v,interactionWidth:b})=>{const[x,y,j]=mE({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:s,targetPosition:i,curvature:v==null?void 0:v.curvature});return P.createElement(uu,{path:x,labelX:y,labelY:j,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:b})});gf.displayName="BezierEdge";const B0=g.createContext(null),pU=B0.Provider;B0.Consumer;const xU=()=>g.useContext(B0),vU=e=>"id"in e&&"source"in e&&"target"in e,yU=({source:e,sourceHandle:t,target:n,targetHandle:s})=>`reactflow__edge-${e}${t||""}-${n}${s||""}`,lp=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`,bU=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),I0=(e,t)=>{if(!e.source||!e.target)return t;let n;return vU(e)?n={...e}:n={...e,id:yU(e)},bU(n,t)?t:t.concat(n)},cp=({x:e,y:t},[n,s,r],i,[o,l])=>{const c={x:(e-n)/r,y:(t-s)/r};return i?{x:o*Math.round(c.x/o),y:l*Math.round(c.y/l)}:c},hE=({x:e,y:t},[n,s,r])=>({x:e*r+n,y:t*r+s}),jo=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],s=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-s};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-s}:r}},H0=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((s,r)=>{const{x:i,y:o}=jo(r,t).positionAbsolute;return oU(s,L0({x:i,y:o,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return lU(n)},gE=(e,t,[n,s,r]=[0,0,1],i=!1,o=!1,l=[0,0])=>{const c={x:(t.x-n)/r,y:(t.y-s)/r,width:t.width/r,height:t.height/r},u=[];return e.forEach(d=>{const{width:f,height:m,selectable:h=!0,hidden:p=!1}=d;if(o&&!h||p)return!1;const{positionAbsolute:v}=jo(d,l),b={x:v.x,y:v.y,width:f||0,height:m||0},x=ap(c,b),y=typeof f>"u"||typeof m>"u"||f===null||m===null,j=i&&x>0,w=(f||0)*(m||0);(y||j||x>=w||d.dragging)&&u.push(d)}),u},pE=(e,t)=>{const n=e.map(s=>s.id);return t.filter(s=>n.includes(s.source)||n.includes(s.target))},xE=(e,t,n,s,r,i=.1)=>{const o=t/(e.width*(1+i)),l=n/(e.height*(1+i)),c=Math.min(o,l),u=Yo(c,s,r),d=e.x+e.width/2,f=e.y+e.height/2,m=t/2-d*u,h=n/2-f*u;return{x:m,y:h,zoom:u}},Ba=(e,t=0)=>e.transition().duration(t);function Zb(e,t,n,s){return(t[n]||[]).reduce((r,i)=>{var o,l;return`${e.id}-${i.id}-${n}`!==s&&r.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),r},[])}function wU(e,t,n,s,r,i){const{x:o,y:l}=da(e),u=t.elementsFromPoint(o,l).find(p=>p.classList.contains("react-flow__handle"));if(u){const p=u.getAttribute("data-nodeid");if(p){const v=F0(void 0,u),b=u.getAttribute("data-handleid"),x=i({nodeId:p,id:b,type:v});if(x){const y=r.find(j=>j.nodeId===p&&j.type===v&&j.id===b);return{handle:{id:b,type:v,nodeId:p,x:(y==null?void 0:y.x)||n.x,y:(y==null?void 0:y.y)||n.y},validHandleResult:x}}}}let d=[],f=1/0;if(r.forEach(p=>{const v=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(v<=s){const b=i(p);v<=f&&(v<f?d=[{handle:p,validHandleResult:b}]:v===f&&d.push({handle:p,validHandleResult:b}),f=v)}}),!d.length)return{handle:null,validHandleResult:vE()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:p})=>p.isValid),h=d.some(({handle:p})=>p.type==="target");return d.find(({handle:p,validHandleResult:v})=>h?p.type==="target":m?v.isValid:!0)||d[0]}const jU={source:null,target:null,sourceHandle:null,targetHandle:null},vE=()=>({handleDomNode:null,isValid:!1,connection:jU,endHandle:null});function yE(e,t,n,s,r,i,o){const l=r==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...vE(),handleDomNode:c};if(c){const d=F0(void 0,c),f=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),p=c.classList.contains("connectableend"),v={source:l?f:n,sourceHandle:l?m:s,target:l?n:f,targetHandle:l?s:m};u.connection=v,h&&p&&(t===mi.Strict?l&&d==="source"||!l&&d==="target":f!==n||m!==s)&&(u.endHandle={nodeId:f,handleId:m,type:d},u.isValid=i(v))}return u}function NU({nodes:e,nodeId:t,handleId:n,handleType:s}){return e.reduce((r,i)=>{if(i[ft]){const{handleBounds:o}=i[ft];let l=[],c=[];o&&(l=Zb(i,o,"source",`${t}-${n}-${s}`),c=Zb(i,o,"target",`${t}-${n}-${s}`)),r.push(...l,...c)}return r},[])}function F0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ah(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function SU(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function bE({event:e,handleId:t,nodeId:n,onConnect:s,isTarget:r,getState:i,setState:o,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const d=oE(e.target),{connectionMode:f,domNode:m,autoPanOnConnect:h,connectionRadius:p,onConnectStart:v,panBy:b,getNodes:x,cancelConnection:y}=i();let j=0,w;const{x:N,y:E}=da(e),S=d==null?void 0:d.elementFromPoint(N,E),_=F0(c,S),C=m==null?void 0:m.getBoundingClientRect();if(!C||!_)return;let k,R=da(e,C),O=!1,z=null,A=!1,$=null;const M=NU({nodes:x(),nodeId:n,handleId:t,handleType:_}),L=()=>{if(!h)return;const[B,F]=iE(R,C);b({x:B,y:F}),j=requestAnimationFrame(L)};o({connectionPosition:R,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:_});function T(B){const{transform:F}=i();R=da(B,C);const{handle:I,validHandleResult:V}=wU(B,d,cp(R,F,!1,[1,1]),p,M,G=>yE(G,f,n,t,r?"target":"source",l,d));if(w=I,O||(L(),O=!0),$=V.handleDomNode,z=V.connection,A=V.isValid,o({connectionPosition:w&&A?hE({x:w.x,y:w.y},F):R,connectionStatus:SU(!!w,A),connectionEndHandle:V.endHandle}),!w&&!A&&!$)return Ah(k);z.source!==z.target&&$&&(Ah(k),k=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",A),$.classList.toggle("react-flow__handle-valid",A))}function D(B){var F,I;(w||$)&&z&&A&&(s==null||s(z)),(I=(F=i()).onConnectEnd)==null||I.call(F,B),c&&(u==null||u(B)),Ah(k),y(),cancelAnimationFrame(j),O=!1,A=!1,z=null,$=null,d.removeEventListener("mousemove",T),d.removeEventListener("mouseup",D),d.removeEventListener("touchmove",T),d.removeEventListener("touchend",D)}d.addEventListener("mousemove",T),d.addEventListener("mouseup",D),d.addEventListener("touchmove",T),d.addEventListener("touchend",D)}const Gb=()=>!0,kU=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),CU=(e,t,n)=>s=>{const{connectionStartHandle:r,connectionEndHandle:i,connectionClickStartHandle:o}=s;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},wE=g.forwardRef(({type:e="source",position:t=le.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...m},h)=>{var C,k;const p=o||null,v=e==="target",b=$t(),x=xU(),{connectOnClick:y,noPanClassName:j}=ot(kU,fn),{connecting:w,clickConnecting:N}=ot(CU(x,p,e),fn);x||(k=(C=b.getState()).onError)==null||k.call(C,"010",Cr.error010());const E=R=>{const{defaultEdgeOptions:O,onConnect:z,hasDefaultEdges:A}=b.getState(),$={...O,...R};if(A){const{edges:M,setEdges:L}=b.getState();L(I0($,M))}z==null||z($),l==null||l($)},S=R=>{if(!x)return;const O=cE(R);r&&(O&&R.button===0||!O)&&bE({event:R,handleId:p,nodeId:x,onConnect:E,isTarget:v,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||Gb}),O?d==null||d(R):f==null||f(R)},_=R=>{const{onClickConnectStart:O,onClickConnectEnd:z,connectionClickStartHandle:A,connectionMode:$,isValidConnection:M}=b.getState();if(!x||!A&&!r)return;if(!A){O==null||O(R,{nodeId:x,handleId:p,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:p}});return}const L=oE(R.target),T=n||M||Gb,{connection:D,isValid:B}=yE({nodeId:x,id:p,type:e},$,A.nodeId,A.handleId||null,A.type,T,L);B&&E(D),z==null||z(R),b.setState({connectionClickStartHandle:null})};return P.createElement("div",{"data-handleid":p,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${p}-${e}`,className:rn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",j,u,{source:!v,target:v,connectable:s,connectablestart:r,connectableend:i,connecting:N,connectionindicator:s&&(r&&!w||i&&w)}]),onMouseDown:S,onTouchStart:S,onClick:y?_:void 0,ref:h,...m},c)});wE.displayName="Handle";var Xo=g.memo(wE);const jE=({data:e,isConnectable:t,targetPosition:n=le.Top,sourcePosition:s=le.Bottom})=>P.createElement(P.Fragment,null,P.createElement(Xo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,P.createElement(Xo,{type:"source",position:s,isConnectable:t}));jE.displayName="DefaultNode";var up=g.memo(jE);const NE=({data:e,isConnectable:t,sourcePosition:n=le.Bottom})=>P.createElement(P.Fragment,null,e==null?void 0:e.label,P.createElement(Xo,{type:"source",position:n,isConnectable:t}));NE.displayName="InputNode";var SE=g.memo(NE);const kE=({data:e,isConnectable:t,targetPosition:n=le.Top})=>P.createElement(P.Fragment,null,P.createElement(Xo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);kE.displayName="OutputNode";var CE=g.memo(kE);const U0=()=>null;U0.displayName="GroupNode";const EU=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Yu=e=>e.id;function _U(e,t){return fn(e.selectedNodes.map(Yu),t.selectedNodes.map(Yu))&&fn(e.selectedEdges.map(Yu),t.selectedEdges.map(Yu))}const EE=g.memo(({onSelectionChange:e})=>{const t=$t(),{selectedNodes:n,selectedEdges:s}=ot(EU,_U);return g.useEffect(()=>{const r={nodes:n,edges:s};e==null||e(r),t.getState().onSelectionChange.forEach(i=>i(r))},[n,s,e]),null});EE.displayName="SelectionListener";const AU=e=>!!e.onSelectionChange;function TU({onSelectionChange:e}){const t=ot(AU);return e||t?P.createElement(EE,{onSelectionChange:e}):null}const MU=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Zi(e,t){g.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ee(e,t,n){g.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const RU=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:r,onConnectStart:i,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:v,maxZoom:b,nodeExtent:x,onNodesChange:y,onEdgesChange:j,elementsSelectable:w,connectionMode:N,snapGrid:E,snapToGrid:S,translateExtent:_,connectOnClick:C,defaultEdgeOptions:k,fitView:R,fitViewOptions:O,onNodesDelete:z,onEdgesDelete:A,onNodeDrag:$,onNodeDragStart:M,onNodeDragStop:L,onSelectionDrag:T,onSelectionDragStart:D,onSelectionDragStop:B,noPanClassName:F,nodeOrigin:I,rfId:V,autoPanOnConnect:G,autoPanOnNodeDrag:J,onError:ie,connectionRadius:ee,isValidConnection:pe,nodeDragThreshold:fe})=>{const{setNodes:we,setEdges:U,setDefaultNodesAndEdges:X,setMinZoom:Q,setMaxZoom:K,setTranslateExtent:se,setNodeExtent:ye,reset:ue}=ot(MU,fn),te=$t();return g.useEffect(()=>{const Le=s==null?void 0:s.map(vt=>({...vt,...k}));return X(n,Le),()=>{ue()}},[]),Ee("defaultEdgeOptions",k,te.setState),Ee("connectionMode",N,te.setState),Ee("onConnect",r,te.setState),Ee("onConnectStart",i,te.setState),Ee("onConnectEnd",o,te.setState),Ee("onClickConnectStart",l,te.setState),Ee("onClickConnectEnd",c,te.setState),Ee("nodesDraggable",u,te.setState),Ee("nodesConnectable",d,te.setState),Ee("nodesFocusable",f,te.setState),Ee("edgesFocusable",m,te.setState),Ee("edgesUpdatable",h,te.setState),Ee("elementsSelectable",w,te.setState),Ee("elevateNodesOnSelect",p,te.setState),Ee("snapToGrid",S,te.setState),Ee("snapGrid",E,te.setState),Ee("onNodesChange",y,te.setState),Ee("onEdgesChange",j,te.setState),Ee("connectOnClick",C,te.setState),Ee("fitViewOnInit",R,te.setState),Ee("fitViewOnInitOptions",O,te.setState),Ee("onNodesDelete",z,te.setState),Ee("onEdgesDelete",A,te.setState),Ee("onNodeDrag",$,te.setState),Ee("onNodeDragStart",M,te.setState),Ee("onNodeDragStop",L,te.setState),Ee("onSelectionDrag",T,te.setState),Ee("onSelectionDragStart",D,te.setState),Ee("onSelectionDragStop",B,te.setState),Ee("noPanClassName",F,te.setState),Ee("nodeOrigin",I,te.setState),Ee("rfId",V,te.setState),Ee("autoPanOnConnect",G,te.setState),Ee("autoPanOnNodeDrag",J,te.setState),Ee("onError",ie,te.setState),Ee("connectionRadius",ee,te.setState),Ee("isValidConnection",pe,te.setState),Ee("nodeDragThreshold",fe,te.setState),Zi(e,we),Zi(t,U),Zi(v,Q),Zi(b,K),Zi(_,se),Zi(x,ye),null},Yb={display:"none"},DU={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_E="react-flow__node-desc",AE="react-flow__edge-desc",zU="react-flow__aria-live",LU=e=>e.ariaLiveMessage;function $U({rfId:e}){const t=ot(LU);return P.createElement("div",{id:`${zU}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:DU},t)}function PU({rfId:e,disableKeyboardA11y:t}){return P.createElement(P.Fragment,null,P.createElement("div",{id:`${_E}-${e}`,style:Yb},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),P.createElement("div",{id:`${AE}-${e}`,style:Yb},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&P.createElement($U,{rfId:e}))}var Mc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,s]=g.useState(!1),r=g.useRef(!1),i=g.useRef(new Set([])),[o,l]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return g.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=h=>{if(r.current=h.ctrlKey||h.metaKey||h.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&ip(h))return!1;const v=Wb(h.code,l);i.current.add(h[v]),Xb(o,i.current,!1)&&(h.preventDefault(),s(!0))},f=h=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&ip(h))return!1;const v=Wb(h.code,l);Xb(o,i.current,!0)?(s(!1),i.current.clear()):i.current.delete(h[v]),h.key==="Meta"&&i.current.clear(),r.current=!1},m=()=>{i.current.clear(),s(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",m)}}},[e,s]),n};function Xb(e,t,n){return e.filter(s=>n||s.length===t.size).some(s=>s.every(r=>t.has(r)))}function Wb(e,t){return t.includes(e)?"code":"key"}function TE(e,t,n,s){var l,c;const r=e.parentNode||e.parentId;if(!r)return n;const i=t.get(r),o=jo(i,s);return TE(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=i[ft])==null?void 0:l.z)??0)>(n.z??0)?((c=i[ft])==null?void 0:c.z)??0:n.z??0},s)}function ME(e,t,n){e.forEach(s=>{var i;const r=s.parentNode||s.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n!=null&&n[s.id]){const{x:o,y:l,z:c}=TE(s,e,{...s.position,z:((i=s[ft])==null?void 0:i.z)??0},t);s.positionAbsolute={x:o,y:l},s[ft].z=c,n!=null&&n[s.id]&&(s[ft].isParent=!0)}})}function Th(e,t,n,s){const r=new Map,i={},o=s?1e3:0;return e.forEach(l=>{var h;const c=(Zn(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const m=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(d,ft,{enumerable:!1,value:{handleBounds:m||(h=u==null?void 0:u[ft])==null?void 0:h.handleBounds,z:c}}),r.set(l.id,d)}),ME(r,n,i),r}function RE(e,t={}){const{getNodes:n,width:s,height:r,minZoom:i,maxZoom:o,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),m=t.initial&&!u&&d;if(l&&c&&(m||!t.initial)){const p=n().filter(b=>{var y;const x=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(y=t.nodes)!=null&&y.length?x&&t.nodes.some(j=>j.id===b.id):x}),v=p.every(b=>b.width&&b.height);if(p.length>0&&v){const b=H0(p,f),{x,y,zoom:j}=xE(b,s,r,t.minZoom??i,t.maxZoom??o,t.padding??.1),w=ua.translate(x,y).scale(j);return typeof t.duration=="number"&&t.duration>0?l.transform(Ba(c,t.duration),w):l.transform(c,w),!0}}return!1}function OU(e,t){return e.forEach(n=>{const s=t.get(n.id);s&&t.set(s.id,{...s,[ft]:s[ft],selected:n.selected})}),new Map(t)}function BU(e,t){return t.map(n=>{const s=e.find(r=>r.id===n.id);return s&&(n.selected=s.selected),n})}function Xu({changedNodes:e,changedEdges:t,get:n,set:s}){const{nodeInternals:r,edges:i,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&s({nodeInternals:OU(e,r)}),o==null||o(e)),t!=null&&t.length&&(u&&s({edges:BU(t,i)}),l==null||l(t))}const Gi=()=>{},IU={zoomIn:Gi,zoomOut:Gi,zoomTo:Gi,getZoom:()=>1,setViewport:Gi,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Gi,fitBounds:Gi,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},HU=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),FU=()=>{const e=$t(),{d3Zoom:t,d3Selection:n}=ot(HU,fn);return g.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(Ba(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(Ba(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,i)=>t.scaleTo(Ba(n,i==null?void 0:i.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,i)=>{const[o,l,c]=e.getState().transform,u=ua.translate(r.x??o,r.y??l).scale(r.zoom??c);t.transform(Ba(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[r,i,o]=e.getState().transform;return{x:r,y:i,zoom:o}},fitView:r=>RE(e.getState,r),setCenter:(r,i,o)=>{const{width:l,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=l/2-r*d,m=c/2-i*d,h=ua.translate(f,m).scale(d);t.transform(Ba(n,o==null?void 0:o.duration),h)},fitBounds:(r,i)=>{const{width:o,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:m}=xE(r,o,l,c,u,(i==null?void 0:i.padding)??.1),h=ua.translate(d,f).scale(m);t.transform(Ba(n,i==null?void 0:i.duration),h)},project:r=>{const{transform:i,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),cp(r,i,o,l)},screenToFlowPosition:r=>{const{transform:i,snapToGrid:o,snapGrid:l,domNode:c}=e.getState();if(!c)return r;const{x:u,y:d}=c.getBoundingClientRect(),f={x:r.x-u,y:r.y-d};return cp(f,i,o,l)},flowToScreenPosition:r=>{const{transform:i,domNode:o}=e.getState();if(!o)return r;const{x:l,y:c}=o.getBoundingClientRect(),u=hE(r,i);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:IU,[t,n])};function V0(){const e=FU(),t=$t(),n=g.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),s=g.useCallback(v=>t.getState().nodeInternals.get(v),[]),r=g.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(b=>({...b}))},[]),i=g.useCallback(v=>{const{edges:b=[]}=t.getState();return b.find(x=>x.id===v)},[]),o=g.useCallback(v=>{const{getNodes:b,setNodes:x,hasDefaultNodes:y,onNodesChange:j}=t.getState(),w=b(),N=typeof v=="function"?v(w):v;if(y)x(N);else if(j){const E=N.length===0?w.map(S=>({type:"remove",id:S.id})):N.map(S=>({item:S,type:"reset"}));j(E)}},[]),l=g.useCallback(v=>{const{edges:b=[],setEdges:x,hasDefaultEdges:y,onEdgesChange:j}=t.getState(),w=typeof v=="function"?v(b):v;if(y)x(w);else if(j){const N=w.length===0?b.map(E=>({type:"remove",id:E.id})):w.map(E=>({item:E,type:"reset"}));j(N)}},[]),c=g.useCallback(v=>{const b=Array.isArray(v)?v:[v],{getNodes:x,setNodes:y,hasDefaultNodes:j,onNodesChange:w}=t.getState();if(j){const E=[...x(),...b];y(E)}else if(w){const N=b.map(E=>({item:E,type:"add"}));w(N)}},[]),u=g.useCallback(v=>{const b=Array.isArray(v)?v:[v],{edges:x=[],setEdges:y,hasDefaultEdges:j,onEdgesChange:w}=t.getState();if(j)y([...x,...b]);else if(w){const N=b.map(E=>({item:E,type:"add"}));w(N)}},[]),d=g.useCallback(()=>{const{getNodes:v,edges:b=[],transform:x}=t.getState(),[y,j,w]=x;return{nodes:v().map(N=>({...N})),edges:b.map(N=>({...N})),viewport:{x:y,y:j,zoom:w}}},[]),f=g.useCallback(({nodes:v,edges:b})=>{const{nodeInternals:x,getNodes:y,edges:j,hasDefaultNodes:w,hasDefaultEdges:N,onNodesDelete:E,onEdgesDelete:S,onNodesChange:_,onEdgesChange:C}=t.getState(),k=(v||[]).map($=>$.id),R=(b||[]).map($=>$.id),O=y().reduce(($,M)=>{const L=M.parentNode||M.parentId,T=!k.includes(M.id)&&L&&$.find(B=>B.id===L);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(k.includes(M.id)||T)&&$.push(M),$},[]),z=j.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),A=z.filter($=>R.includes($.id));if(O||A){const $=pE(O,z),M=[...A,...$],L=M.reduce((T,D)=>(T.includes(D.id)||T.push(D.id),T),[]);if((N||w)&&(N&&t.setState({edges:j.filter(T=>!L.includes(T.id))}),w&&(O.forEach(T=>{x.delete(T.id)}),t.setState({nodeInternals:new Map(x)}))),L.length>0&&(S==null||S(M),C&&C(L.map(T=>({id:T,type:"remove"})))),O.length>0&&(E==null||E(O),_)){const T=O.map(D=>({id:D.id,type:"remove"}));_(T)}}},[]),m=g.useCallback(v=>{const b=cU(v),x=b?null:t.getState().nodeInternals.get(v.id);return!b&&!x?[null,null,b]:[b?v:Hb(x),x,b]},[]),h=g.useCallback((v,b=!0,x)=>{const[y,j,w]=m(v);return y?(x||t.getState().getNodes()).filter(N=>{if(!w&&(N.id===j.id||!N.positionAbsolute))return!1;const E=Hb(N),S=ap(E,y);return b&&S>0||S>=y.width*y.height}):[]},[]),p=g.useCallback((v,b,x=!0)=>{const[y]=m(v);if(!y)return!1;const j=ap(y,b);return x&&j>0||j>=y.width*y.height},[]);return g.useMemo(()=>({...e,getNodes:n,getNode:s,getEdges:r,getEdge:i,setNodes:o,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:p}),[e,n,s,r,i,o,l,c,u,d,f,h,p])}const UU={actInsideInputWithModifier:!1};var VU=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=$t(),{deleteElements:s}=V0(),r=Mc(e,UU),i=Mc(t);g.useEffect(()=>{if(r){const{edges:o,getNodes:l}=n.getState(),c=l().filter(d=>d.selected),u=o.filter(d=>d.selected);s({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[r]),g.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function qU(e){const t=$t();g.useEffect(()=>{let n;const s=()=>{var i,o;if(!e.current)return;const r=D0(e.current);(r.height===0||r.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Cr.error004())),t.setState({width:r.width||500,height:r.height||500})};return s(),window.addEventListener("resize",s),e.current&&(n=new ResizeObserver(()=>s()),n.observe(e.current)),()=>{window.removeEventListener("resize",s),n&&e.current&&n.unobserve(e.current)}},[])}const q0={position:"absolute",width:"100%",height:"100%",top:0,left:0},ZU=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Wu=e=>({x:e.x,y:e.y,zoom:e.k}),Yi=(e,t)=>e.target.closest(`.${t}`),Kb=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Qb=e=>{const t=e.ctrlKey&&mf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},GU=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),YU=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:s,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=Xa.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:m,translateExtent:h,minZoom:p,maxZoom:v,zoomActivationKeyCode:b,preventScrolling:x=!0,children:y,noWheelClassName:j,noPanClassName:w})=>{const N=g.useRef(),E=$t(),S=g.useRef(!1),_=g.useRef(!1),C=g.useRef(null),k=g.useRef({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:O,d3ZoomHandler:z,userSelectionActive:A}=ot(GU,fn),$=Mc(b),M=g.useRef(0),L=g.useRef(!1),T=g.useRef();return qU(C),g.useEffect(()=>{if(C.current){const D=C.current.getBoundingClientRect(),B=tU().scaleExtent([p,v]).translateExtent(h),F=rs(C.current).call(B),I=ua.translate(m.x,m.y).scale(Yo(m.zoom,p,v)),V=[[0,0],[D.width,D.height]],G=B.constrain()(I,V,h);B.transform(F,G),B.wheelDelta(Qb),E.setState({d3Zoom:B,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:C.current.closest(".react-flow")})}},[]),g.useEffect(()=>{O&&R&&(o&&!$&&!A?O.on("wheel.zoom",D=>{if(Yi(D,j))return!1;D.preventDefault(),D.stopImmediatePropagation();const B=O.property("__zoom").k||1;if(D.ctrlKey&&i){const pe=Ss(D),fe=Qb(D),we=B*Math.pow(2,fe);R.scaleTo(O,we,pe,D);return}const F=D.deltaMode===1?20:1;let I=c===Xa.Vertical?0:D.deltaX*F,V=c===Xa.Horizontal?0:D.deltaY*F;!mf()&&D.shiftKey&&c!==Xa.Vertical&&(I=D.deltaY*F,V=0),R.translateBy(O,-(I/B)*l,-(V/B)*l,{internal:!0});const G=Wu(O.property("__zoom")),{onViewportChangeStart:J,onViewportChange:ie,onViewportChangeEnd:ee}=E.getState();clearTimeout(T.current),L.current||(L.current=!0,t==null||t(D,G),J==null||J(G)),L.current&&(e==null||e(D,G),ie==null||ie(G),T.current=setTimeout(()=>{n==null||n(D,G),ee==null||ee(G),L.current=!1},150))},{passive:!1}):typeof z<"u"&&O.on("wheel.zoom",function(D,B){if(!x&&D.type==="wheel"&&!D.ctrlKey||Yi(D,j))return null;D.preventDefault(),z.call(this,D,B)},{passive:!1}))},[A,o,c,O,R,z,$,i,x,j,t,e,n]),g.useEffect(()=>{R&&R.on("start",D=>{var I,V;if(!D.sourceEvent||D.sourceEvent.internal)return null;M.current=(I=D.sourceEvent)==null?void 0:I.button;const{onViewportChangeStart:B}=E.getState(),F=Wu(D.transform);S.current=!0,k.current=F,((V=D.sourceEvent)==null?void 0:V.type)==="mousedown"&&E.setState({paneDragging:!0}),B==null||B(F),t==null||t(D.sourceEvent,F)})},[R,t]),g.useEffect(()=>{R&&(A&&!S.current?R.on("zoom",null):A||R.on("zoom",D=>{var F;const{onViewportChange:B}=E.getState();if(E.setState({transform:[D.transform.x,D.transform.y,D.transform.k]}),_.current=!!(s&&Kb(f,M.current??0)),(e||B)&&!((F=D.sourceEvent)!=null&&F.internal)){const I=Wu(D.transform);B==null||B(I),e==null||e(D.sourceEvent,I)}}))},[A,R,e,f,s]),g.useEffect(()=>{R&&R.on("end",D=>{if(!D.sourceEvent||D.sourceEvent.internal)return null;const{onViewportChangeEnd:B}=E.getState();if(S.current=!1,E.setState({paneDragging:!1}),s&&Kb(f,M.current??0)&&!_.current&&s(D.sourceEvent),_.current=!1,(n||B)&&ZU(k.current,D.transform)){const F=Wu(D.transform);k.current=F,clearTimeout(N.current),N.current=setTimeout(()=>{B==null||B(F),n==null||n(D.sourceEvent,F)},o?150:0)}})},[R,o,f,n,s]),g.useEffect(()=>{R&&R.filter(D=>{const B=$||r,F=i&&D.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&D.button===1&&D.type==="mousedown"&&(Yi(D,"react-flow__node")||Yi(D,"react-flow__edge")))return!0;if(!f&&!B&&!o&&!u&&!i||A||!u&&D.type==="dblclick"||Yi(D,j)&&D.type==="wheel"||Yi(D,w)&&(D.type!=="wheel"||o&&D.type==="wheel"&&!$)||!i&&D.ctrlKey&&D.type==="wheel"||!B&&!o&&!F&&D.type==="wheel"||!f&&(D.type==="mousedown"||D.type==="touchstart")||Array.isArray(f)&&!f.includes(D.button)&&D.type==="mousedown")return!1;const I=Array.isArray(f)&&f.includes(D.button)||!D.button||D.button<=1;return(!D.ctrlKey||D.type==="wheel")&&I})},[A,R,r,i,o,u,f,d,$]),P.createElement("div",{className:"react-flow__renderer",ref:C,style:q0},y)},XU=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function WU(){const{userSelectionActive:e,userSelectionRect:t}=ot(XU,fn);return e&&t?P.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Jb(e,t){const n=t.parentNode||t.parentId,s=e.find(r=>r.id===n);if(s){const r=t.position.x+t.width-s.width,i=t.position.y+t.height-s.height;if(r>0||i>0||t.position.x<0||t.position.y<0){if(s.style={...s.style},s.style.width=s.style.width??s.width,s.style.height=s.style.height??s.height,r>0&&(s.style.width+=r),i>0&&(s.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);s.position.x=s.position.x-o,s.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);s.position.y=s.position.y-o,s.style.height+=o,t.position.y=0}s.width=s.style.width,s.height=s.style.height}}}function DE(e,t){if(e.some(s=>s.type==="reset"))return e.filter(s=>s.type==="reset").map(s=>s.item);const n=e.filter(s=>s.type==="add").map(s=>s.item);return t.reduce((s,r)=>{const i=e.filter(l=>l.id===r.id);if(i.length===0)return s.push(r),s;const o={...r};for(const l of i)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&Jb(s,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&Jb(s,o);break}case"remove":return s}return s.push(o),s},n)}function zE(e,t){return DE(e,t)}function KU(e,t){return DE(e,t)}const Zr=(e,t)=>({id:e,type:"select",selected:t});function so(e,t){return e.reduce((n,s)=>{const r=t.includes(s.id);return!s.selected&&r?(s.selected=!0,n.push(Zr(s.id,!0))):s.selected&&!r&&(s.selected=!1,n.push(Zr(s.id,!1))),n},[])}const Mh=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},QU=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),LE=g.memo(({isSelecting:e,selectionMode:t=Tc.Full,panOnDrag:n,onSelectionStart:s,onSelectionEnd:r,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const m=g.useRef(null),h=$t(),p=g.useRef(0),v=g.useRef(0),b=g.useRef(),{userSelectionActive:x,elementsSelectable:y,dragging:j}=ot(QU,fn),w=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,v.current=0},N=z=>{i==null||i(z),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},E=z=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){z.preventDefault();return}o==null||o(z)},S=l?z=>l(z):void 0,_=z=>{const{resetSelectedElements:A,domNode:$}=h.getState();if(b.current=$==null?void 0:$.getBoundingClientRect(),!y||!e||z.button!==0||z.target!==m.current||!b.current)return;const{x:M,y:L}=da(z,b.current);A(),h.setState({userSelectionRect:{width:0,height:0,startX:M,startY:L,x:M,y:L}}),s==null||s(z)},C=z=>{const{userSelectionRect:A,nodeInternals:$,edges:M,transform:L,onNodesChange:T,onEdgesChange:D,nodeOrigin:B,getNodes:F}=h.getState();if(!e||!b.current||!A)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const I=da(z,b.current),V=A.startX??0,G=A.startY??0,J={...A,x:I.x<V?I.x:V,y:I.y<G?I.y:G,width:Math.abs(I.x-V),height:Math.abs(I.y-G)},ie=F(),ee=gE($,J,L,t===Tc.Partial,!0,B),pe=pE(ee,M).map(we=>we.id),fe=ee.map(we=>we.id);if(p.current!==fe.length){p.current=fe.length;const we=so(ie,fe);we.length&&(T==null||T(we))}if(v.current!==pe.length){v.current=pe.length;const we=so(M,pe);we.length&&(D==null||D(we))}h.setState({userSelectionRect:J})},k=z=>{if(z.button!==0)return;const{userSelectionRect:A}=h.getState();!x&&A&&z.target===m.current&&(N==null||N(z)),h.setState({nodesSelectionActive:p.current>0}),w(),r==null||r(z)},R=z=>{x&&(h.setState({nodesSelectionActive:p.current>0}),r==null||r(z)),w()},O=y&&(e||x);return P.createElement("div",{className:rn(["react-flow__pane",{dragging:j,selection:e}]),onClick:O?void 0:Mh(N,m),onContextMenu:Mh(E,m),onWheel:Mh(S,m),onMouseEnter:O?void 0:c,onMouseDown:O?_:void 0,onMouseMove:O?C:u,onMouseUp:O?k:void 0,onMouseLeave:O?R:d,ref:m,style:q0},f,P.createElement(WU,null))});LE.displayName="Pane";function $E(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const s=t.get(n);return s?s.selected?!0:$E(s,t):!1}function ew(e,t,n){let s=e;do{if(s!=null&&s.matches(t))return!0;if(s===n.current)return!1;s=s.parentElement}while(s);return!1}function JU(e,t,n,s){return Array.from(e.values()).filter(r=>(r.selected||r.id===s)&&(!r.parentNode||r.parentId||!$E(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var i,o;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=r.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=r.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode||r.parentId,parentId:r.parentNode||r.parentId,width:r.width,height:r.height,expandParent:r.expandParent}})}function eV(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function PE(e,t,n,s,r=[0,0],i){const o=eV(e,e.extent||s);let l=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:m,y:h}=jo(f,r).positionAbsolute;l=f&&Zn(m)&&Zn(h)&&Zn(f.width)&&Zn(f.height)?[[m+e.width*r[0],h+e.height*r[1]],[m+f.width-e.width+e.width*r[0],h+f.height-e.height+e.height*r[1]]]:l}else i==null||i("005",Cr.error005()),l=o;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:m,y:h}=jo(f,r).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+h],[e.extent[1][0]+m,e.extent[1][1]+h]]}let u={x:0,y:0};if(c){const f=n.get(c);u=jo(f,r).positionAbsolute}const d=l&&l!=="parent"?z0(t,l):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Rh({nodeId:e,dragItems:t,nodeInternals:n}){const s=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?s.find(r=>r.id===e):s[0],s]}const tw=(e,t,n,s)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const i=Array.from(r),o=t.getBoundingClientRect(),l={x:o.width*s[0],y:o.height*s[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/n,y:(u.top-o.top-l.y)/n,...D0(c)}})};function Ml(e,t,n){return n===void 0?n:s=>{const r=t().nodeInternals.get(e);r&&n(s,{...r})}}function dp({id:e,store:t,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Cr.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=s==null?void 0:s.current)==null?void 0:d.blur()})):r([e])}function tV(){const e=$t();return g.useCallback(({sourceEvent:n})=>{const{transform:s,snapGrid:r,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-s[0])/s[2],y:(l-s[1])/s[2]};return{xSnapped:i?r[0]*Math.round(c.x/r[0]):c.x,ySnapped:i?r[1]*Math.round(c.y/r[1]):c.y,...c}},[])}function Dh(e){return(t,n,s)=>e==null?void 0:e(t,s)}function OE({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:s,nodeId:r,isSelectable:i,selectNodesOnDrag:o}){const l=$t(),[c,u]=g.useState(!1),d=g.useRef([]),f=g.useRef({x:null,y:null}),m=g.useRef(0),h=g.useRef(null),p=g.useRef({x:0,y:0}),v=g.useRef(null),b=g.useRef(!1),x=g.useRef(!1),y=g.useRef(!1),j=tV();return g.useEffect(()=>{if(e!=null&&e.current){const w=rs(e.current),N=({x:_,y:C})=>{const{nodeInternals:k,onNodeDrag:R,onSelectionDrag:O,updateNodePositions:z,nodeExtent:A,snapGrid:$,snapToGrid:M,nodeOrigin:L,onError:T}=l.getState();f.current={x:_,y:C};let D=!1,B={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&A){const I=H0(d.current,L);B=L0(I)}if(d.current=d.current.map(I=>{const V={x:_-I.distance.x,y:C-I.distance.y};M&&(V.x=$[0]*Math.round(V.x/$[0]),V.y=$[1]*Math.round(V.y/$[1]));const G=[[A[0][0],A[0][1]],[A[1][0],A[1][1]]];d.current.length>1&&A&&!I.extent&&(G[0][0]=I.positionAbsolute.x-B.x+A[0][0],G[1][0]=I.positionAbsolute.x+(I.width??0)-B.x2+A[1][0],G[0][1]=I.positionAbsolute.y-B.y+A[0][1],G[1][1]=I.positionAbsolute.y+(I.height??0)-B.y2+A[1][1]);const J=PE(I,V,k,G,L,T);return D=D||I.position.x!==J.position.x||I.position.y!==J.position.y,I.position=J.position,I.positionAbsolute=J.positionAbsolute,I}),!D)return;z(d.current,!0,!0),u(!0);const F=r?R:Dh(O);if(F&&v.current){const[I,V]=Rh({nodeId:r,dragItems:d.current,nodeInternals:k});F(v.current,I,V)}},E=()=>{if(!h.current)return;const[_,C]=iE(p.current,h.current);if(_!==0||C!==0){const{transform:k,panBy:R}=l.getState();f.current.x=(f.current.x??0)-_/k[2],f.current.y=(f.current.y??0)-C/k[2],R({x:_,y:C})&&N(f.current)}m.current=requestAnimationFrame(E)},S=_=>{var L;const{nodeInternals:C,multiSelectionActive:k,nodesDraggable:R,unselectNodesAndEdges:O,onNodeDragStart:z,onSelectionDragStart:A}=l.getState();x.current=!0;const $=r?z:Dh(A);(!o||!i)&&!k&&r&&((L=C.get(r))!=null&&L.selected||O()),r&&i&&o&&dp({id:r,store:l,nodeRef:e});const M=j(_);if(f.current=M,d.current=JU(C,R,M,r),$&&d.current){const[T,D]=Rh({nodeId:r,dragItems:d.current,nodeInternals:C});$(_.sourceEvent,T,D)}};if(t)w.on(".drag",null);else{const _=dH().on("start",C=>{const{domNode:k,nodeDragThreshold:R}=l.getState();R===0&&S(C),y.current=!1;const O=j(C);f.current=O,h.current=(k==null?void 0:k.getBoundingClientRect())||null,p.current=da(C.sourceEvent,h.current)}).on("drag",C=>{var z,A;const k=j(C),{autoPanOnNodeDrag:R,nodeDragThreshold:O}=l.getState();if(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!b.current&&x.current&&R&&(b.current=!0,E()),!x.current){const $=k.xSnapped-(((z=f==null?void 0:f.current)==null?void 0:z.x)??0),M=k.ySnapped-(((A=f==null?void 0:f.current)==null?void 0:A.y)??0);Math.sqrt($*$+M*M)>O&&S(C)}(f.current.x!==k.xSnapped||f.current.y!==k.ySnapped)&&d.current&&x.current&&(v.current=C.sourceEvent,p.current=da(C.sourceEvent,h.current),N(k))}}).on("end",C=>{if(!(!x.current||y.current)&&(u(!1),b.current=!1,x.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:k,nodeInternals:R,onNodeDragStop:O,onSelectionDragStop:z}=l.getState(),A=r?O:Dh(z);if(k(d.current,!1,!1),A){const[$,M]=Rh({nodeId:r,dragItems:d.current,nodeInternals:R});A(C.sourceEvent,$,M)}}}).filter(C=>{const k=C.target;return!C.button&&(!n||!ew(k,`.${n}`,e))&&(!s||ew(k,s,e))});return w.call(_),()=>{w.on(".drag",null)}}}},[e,t,n,s,i,l,r,o,j]),c}function BE(){const e=$t();return g.useCallback(n=>{const{nodeInternals:s,nodeExtent:r,updateNodePositions:i,getNodes:o,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=o().filter(y=>y.selected&&(y.draggable||d&&typeof y.draggable>"u")),m=l?c[0]:5,h=l?c[1]:5,p=n.isShiftPressed?4:1,v=n.x*m*p,b=n.y*h*p,x=f.map(y=>{if(y.positionAbsolute){const j={x:y.positionAbsolute.x+v,y:y.positionAbsolute.y+b};l&&(j.x=c[0]*Math.round(j.x/c[0]),j.y=c[1]*Math.round(j.y/c[1]));const{positionAbsolute:w,position:N}=PE(y,j,s,r,void 0,u);y.position=N,y.positionAbsolute=w}return y});i(x,!0,!1)},[])}const No={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Rl=e=>{const t=({id:n,type:s,data:r,xPos:i,yPos:o,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,onContextMenu:p,onDoubleClick:v,style:b,className:x,isDraggable:y,isSelectable:j,isConnectable:w,isFocusable:N,selectNodesOnDrag:E,sourcePosition:S,targetPosition:_,hidden:C,resizeObserver:k,dragHandle:R,zIndex:O,isParent:z,noDragClassName:A,noPanClassName:$,initialized:M,disableKeyboardA11y:L,ariaLabel:T,rfId:D,hasHandleBounds:B})=>{const F=$t(),I=g.useRef(null),V=g.useRef(null),G=g.useRef(S),J=g.useRef(_),ie=g.useRef(s),ee=j||y||d||f||m||h,pe=BE(),fe=Ml(n,F.getState,f),we=Ml(n,F.getState,m),U=Ml(n,F.getState,h),X=Ml(n,F.getState,p),Q=Ml(n,F.getState,v),K=ue=>{const{nodeDragThreshold:te}=F.getState();if(j&&(!E||!y||te>0)&&dp({id:n,store:F,nodeRef:I}),d){const Le=F.getState().nodeInternals.get(n);Le&&d(ue,{...Le})}},se=ue=>{if(!ip(ue)&&!L)if(lE.includes(ue.key)&&j){const te=ue.key==="Escape";dp({id:n,store:F,unselect:te,nodeRef:I})}else y&&u&&Object.prototype.hasOwnProperty.call(No,ue.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${ue.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),pe({x:No[ue.key].x,y:No[ue.key].y,isShiftPressed:ue.shiftKey}))};g.useEffect(()=>()=>{V.current&&(k==null||k.unobserve(V.current),V.current=null)},[]),g.useEffect(()=>{if(I.current&&!C){const ue=I.current;(!M||!B||V.current!==ue)&&(V.current&&(k==null||k.unobserve(V.current)),k==null||k.observe(ue),V.current=ue)}},[C,M,B]),g.useEffect(()=>{const ue=ie.current!==s,te=G.current!==S,Le=J.current!==_;I.current&&(ue||te||Le)&&(ue&&(ie.current=s),te&&(G.current=S),Le&&(J.current=_),F.getState().updateNodeDimensions([{id:n,nodeElement:I.current,forceUpdate:!0}]))},[n,s,S,_]);const ye=OE({nodeRef:I,disabled:C||!y,noDragClassName:A,handleSelector:R,nodeId:n,isSelectable:j,selectNodesOnDrag:E});return C?null:P.createElement("div",{className:rn(["react-flow__node",`react-flow__node-${s}`,{[$]:y},x,{selected:u,selectable:j,parent:z,dragging:ye}]),ref:I,style:{zIndex:O,transform:`translate(${l}px,${c}px)`,pointerEvents:ee?"all":"none",visibility:M?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:fe,onMouseMove:we,onMouseLeave:U,onContextMenu:X,onClick:K,onDoubleClick:Q,onKeyDown:N?se:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":L?void 0:`${_E}-${D}`,"aria-label":T},P.createElement(pU,{value:n},P.createElement(e,{id:n,data:r,type:s,xPos:i,yPos:o,selected:u,isConnectable:w,sourcePosition:S,targetPosition:_,dragging:ye,dragHandle:R,zIndex:O})))};return t.displayName="NodeWrapper",g.memo(t)};const nV=e=>{const t=e.getNodes().filter(n=>n.selected);return{...H0(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function sV({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=$t(),{width:r,height:i,x:o,y:l,transformString:c,userSelectionActive:u}=ot(nV,fn),d=BE(),f=g.useRef(null);if(g.useEffect(()=>{var p;n||(p=f.current)==null||p.focus({preventScroll:!0})},[n]),OE({nodeRef:f}),u||!r||!i)return null;const m=e?p=>{const v=s.getState().getNodes().filter(b=>b.selected);e(p,v)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(No,p.key)&&d({x:No[p.key].x,y:No[p.key].y,isShiftPressed:p.shiftKey})};return P.createElement("div",{className:rn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},P.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:r,height:i,top:l,left:o}}))}var rV=g.memo(sV);const aV=e=>e.nodesSelectionActive,IE=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:h,onSelectionStart:p,onSelectionEnd:v,multiSelectionKeyCode:b,panActivationKeyCode:x,zoomActivationKeyCode:y,elementsSelectable:j,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:E,panOnScrollSpeed:S,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:k,defaultViewport:R,translateExtent:O,minZoom:z,maxZoom:A,preventScrolling:$,onSelectionContextMenu:M,noWheelClassName:L,noPanClassName:T,disableKeyboardA11y:D})=>{const B=ot(aV),F=Mc(f),I=Mc(x),V=I||k,G=I||E,J=F||m&&V!==!0;return VU({deleteKeyCode:l,multiSelectionKeyCode:b}),P.createElement(YU,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:j,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:G,panOnScrollSpeed:S,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:!F&&V,defaultViewport:R,translateExtent:O,minZoom:z,maxZoom:A,zoomActivationKeyCode:y,preventScrolling:$,noWheelClassName:L,noPanClassName:T},P.createElement(LE,{onSelectionStart:p,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:V,isSelecting:!!J,selectionMode:h},e,B&&P.createElement(rV,{onSelectionContextMenu:M,noPanClassName:T,disableKeyboardA11y:D})))};IE.displayName="FlowRenderer";var iV=g.memo(IE);function oV(e){return ot(g.useCallback(n=>e?gE(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function lV(e){const t={input:Rl(e.input||SE),default:Rl(e.default||up),output:Rl(e.output||CE),group:Rl(e.group||U0)},n={},s=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,i)=>(r[i]=Rl(e[i]||up),r),n);return{...t,...s}}const cV=({x:e,y:t,width:n,height:s,origin:r})=>!n||!s?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-s*r[1]},uV=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),HE=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:r,updateNodeDimensions:i,onError:o}=ot(uV,fn),l=oV(e.onlyRenderVisibleElements),c=g.useRef(),u=g.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const m=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));i(m)});return c.current=d,d},[]);return g.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),P.createElement("div",{className:"react-flow__nodes",style:q0},l.map(d=>{var N,E,S;let f=d.type||"default";e.nodeTypes[f]||(o==null||o("003",Cr.error003(f)),f="default");const m=e.nodeTypes[f]||e.nodeTypes.default,h=!!(d.draggable||t&&typeof d.draggable>"u"),p=!!(d.selectable||r&&typeof d.selectable>"u"),v=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||s&&typeof d.focusable>"u"),x=e.nodeExtent?z0(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,y=(x==null?void 0:x.x)??0,j=(x==null?void 0:x.y)??0,w=cV({x:y,y:j,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return P.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||le.Bottom,targetPosition:d.targetPosition||le.Top,hidden:d.hidden,xPos:y,yPos:j,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:h,isSelectable:p,isConnectable:v,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((N=d[ft])==null?void 0:N.z)??0,isParent:!!((E=d[ft])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((S=d[ft])!=null&&S.handleBounds)})}))};HE.displayName="NodeRenderer";var dV=g.memo(HE);const fV=(e,t,n)=>n===le.Left?e-t:n===le.Right?e+t:e,mV=(e,t,n)=>n===le.Top?e-t:n===le.Bottom?e+t:e,nw="react-flow__edgeupdater",sw=({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:r,onMouseEnter:i,onMouseOut:o,type:l})=>P.createElement("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:o,className:rn([nw,`${nw}-${l}`]),cx:fV(t,s,e),cy:mV(n,s,e),r:s,stroke:"transparent",fill:"transparent"}),hV=()=>!0;var Xi=e=>{const t=({id:n,className:s,type:r,data:i,onClick:o,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:b,source:x,target:y,sourceX:j,sourceY:w,targetX:N,targetY:E,sourcePosition:S,targetPosition:_,elementsSelectable:C,hidden:k,sourceHandleId:R,targetHandleId:O,onContextMenu:z,onMouseEnter:A,onMouseMove:$,onMouseLeave:M,reconnectRadius:L,onReconnect:T,onReconnectStart:D,onReconnectEnd:B,markerEnd:F,markerStart:I,rfId:V,ariaLabel:G,isFocusable:J,isReconnectable:ie,pathOptions:ee,interactionWidth:pe,disableKeyboardA11y:fe})=>{const we=g.useRef(null),[U,X]=g.useState(!1),[Q,K]=g.useState(!1),se=$t(),ye=g.useMemo(()=>`url('#${lp(I,V)}')`,[I,V]),ue=g.useMemo(()=>`url('#${lp(F,V)}')`,[F,V]);if(k)return null;const te=Tt=>{var $n;const{edges:Pt,addSelectedEdges:vs,unselectNodesAndEdges:Ws,multiSelectionActive:Ks}=se.getState(),ns=Pt.find(za=>za.id===n);ns&&(C&&(se.setState({nodesSelectionActive:!1}),ns.selected&&Ks?(Ws({nodes:[],edges:[ns]}),($n=we.current)==null||$n.blur()):vs([n])),o&&o(Tt,ns))},Le=Tl(n,se.getState,l),vt=Tl(n,se.getState,z),xs=Tl(n,se.getState,A),$r=Tl(n,se.getState,$),Ln=Tl(n,se.getState,M),es=(Tt,Pt)=>{if(Tt.button!==0)return;const{edges:vs,isValidConnection:Ws}=se.getState(),Ks=Pt?y:x,ns=(Pt?O:R)||null,$n=Pt?"target":"source",za=Ws||hV,de=Pt,Te=vs.find(He=>He.id===n);K(!0),D==null||D(Tt,Te,$n);const Be=He=>{K(!1),B==null||B(He,Te,$n)};bE({event:Tt,handleId:ns,nodeId:Ks,onConnect:He=>T==null?void 0:T(Te,He),isTarget:de,getState:se.getState,setState:se.setState,isValidConnection:za,edgeUpdaterType:$n,onReconnectEnd:Be})},Gs=Tt=>es(Tt,!0),Ys=Tt=>es(Tt,!1),Xs=()=>X(!0),ts=()=>X(!1),Pr=!C&&!o,Or=Tt=>{var Pt;if(!fe&&lE.includes(Tt.key)&&C){const{unselectNodesAndEdges:vs,addSelectedEdges:Ws,edges:Ks}=se.getState();Tt.key==="Escape"?((Pt=we.current)==null||Pt.blur(),vs({edges:[Ks.find($n=>$n.id===n)]})):Ws([n])}};return P.createElement("g",{className:rn(["react-flow__edge",`react-flow__edge-${r}`,s,{selected:c,animated:u,inactive:Pr,updating:U}]),onClick:te,onDoubleClick:Le,onContextMenu:vt,onMouseEnter:xs,onMouseMove:$r,onMouseLeave:Ln,onKeyDown:J?Or:void 0,tabIndex:J?0:void 0,role:J?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":G===null?void 0:G||`Edge from ${x} to ${y}`,"aria-describedby":J?`${AE}-${V}`:void 0,ref:we},!Q&&P.createElement(e,{id:n,source:x,target:y,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,data:i,style:b,sourceX:j,sourceY:w,targetX:N,targetY:E,sourcePosition:S,targetPosition:_,sourceHandleId:R,targetHandleId:O,markerStart:ye,markerEnd:ue,pathOptions:ee,interactionWidth:pe}),ie&&P.createElement(P.Fragment,null,(ie==="source"||ie===!0)&&P.createElement(sw,{position:S,centerX:j,centerY:w,radius:L,onMouseDown:Gs,onMouseEnter:Xs,onMouseOut:ts,type:"source"}),(ie==="target"||ie===!0)&&P.createElement(sw,{position:_,centerX:N,centerY:E,radius:L,onMouseDown:Ys,onMouseEnter:Xs,onMouseOut:ts,type:"target"})))};return t.displayName="EdgeWrapper",g.memo(t)};function gV(e){const t={default:Xi(e.default||gf),straight:Xi(e.bezier||O0),step:Xi(e.step||P0),smoothstep:Xi(e.step||Rm),simplebezier:Xi(e.simplebezier||$0)},n={},s=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,i)=>(r[i]=Xi(e[i]||gf),r),n);return{...t,...s}}function rw(e,t,n=null){const s=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case le.Top:return{x:s+i/2,y:r};case le.Right:return{x:s+i,y:r+o/2};case le.Bottom:return{x:s+i/2,y:r+o};case le.Left:return{x:s,y:r+o/2}}}function aw(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const pV=(e,t,n,s,r,i)=>{const o=rw(n,e,t),l=rw(i,s,r);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function xV({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:s,targetWidth:r,targetHeight:i,width:o,height:l,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+s,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=L0({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:l/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*m)>0}function iw(e){var s,r,i,o,l;const t=((s=e==null?void 0:e[ft])==null?void 0:s.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const vV=[{level:0,isMaxLevel:!0,edges:[]}];function yV(e,t,n=!1){let s=-1;const r=e.reduce((o,l)=>{var d,f;const c=Zn(l.zIndex);let u=c?l.zIndex:0;if(n){const m=t.get(l.target),h=t.get(l.source),p=l.selected||(m==null?void 0:m.selected)||(h==null?void 0:h.selected),v=Math.max(((d=h==null?void 0:h[ft])==null?void 0:d.z)||0,((f=m==null?void 0:m[ft])==null?void 0:f.z)||0,1e3);u=(c?l.zIndex:0)+(p?v:0)}return o[u]?o[u].push(l):o[u]=[l],s=u>s?u:s,o},{}),i=Object.entries(r).map(([o,l])=>{const c=+o;return{edges:l,level:c,isMaxLevel:c===s}});return i.length===0?vV:i}function bV(e,t,n){const s=ot(g.useCallback(r=>e?r.edges.filter(i=>{const o=t.get(i.source),l=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&xV({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return yV(s,t,n)}const wV=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),jV=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),ow={[hf.Arrow]:wV,[hf.ArrowClosed]:jV};function NV(e){const t=$t();return g.useMemo(()=>{var r,i;return Object.prototype.hasOwnProperty.call(ow,e)?ow[e]:((i=(r=t.getState()).onError)==null||i.call(r,"009",Cr.error009(e)),null)},[e])}const SV=({id:e,type:t,color:n,width:s=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=NV(t);return c?P.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},P.createElement(c,{color:n,strokeWidth:o})):null},kV=({defaultColor:e,rfId:t})=>n=>{const s=[];return n.edges.reduce((r,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=lp(o,t);s.includes(l)||(r.push({id:l,color:o.color||e,...o}),s.push(l))}}),r),[]).sort((r,i)=>r.id.localeCompare(i.id))},FE=({defaultColor:e,rfId:t})=>{const n=ot(g.useCallback(kV({defaultColor:e,rfId:t}),[e,t]),(s,r)=>!(s.length!==r.length||s.some((i,o)=>i.id!==r[o].id)));return P.createElement("defs",null,n.map(s=>P.createElement(SV,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient})))};FE.displayName="MarkerDefinitions";var CV=g.memo(FE);const EV=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),UE=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:s,edgeTypes:r,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:v,children:b,disableKeyboardA11y:x})=>{const{edgesFocusable:y,edgesUpdatable:j,elementsSelectable:w,width:N,height:E,connectionMode:S,nodeInternals:_,onError:C}=ot(EV,fn),k=bV(t,_,n);return N?P.createElement(P.Fragment,null,k.map(({level:R,edges:O,isMaxLevel:z})=>P.createElement("svg",{key:R,style:{zIndex:R},width:N,height:E,className:"react-flow__edges react-flow__container"},z&&P.createElement(CV,{defaultColor:e,rfId:s}),P.createElement("g",null,O.map(A=>{const[$,M,L]=iw(_.get(A.source)),[T,D,B]=iw(_.get(A.target));if(!L||!B)return null;let F=A.type||"default";r[F]||(C==null||C("011",Cr.error011(F)),F="default");const I=r[F]||r.default,V=S===mi.Strict?D.target:(D.target??[]).concat(D.source??[]),G=aw(M.source,A.sourceHandle),J=aw(V,A.targetHandle),ie=(G==null?void 0:G.position)||le.Bottom,ee=(J==null?void 0:J.position)||le.Top,pe=!!(A.focusable||y&&typeof A.focusable>"u"),fe=A.reconnectable||A.updatable,we=typeof m<"u"&&(fe||j&&typeof fe>"u");if(!G||!J)return C==null||C("008",Cr.error008(G,A)),null;const{sourceX:U,sourceY:X,targetX:Q,targetY:K}=pV($,G,ie,T,J,ee);return P.createElement(I,{key:A.id,id:A.id,className:rn([A.className,i]),type:F,data:A.data,selected:!!A.selected,animated:!!A.animated,hidden:!!A.hidden,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,style:A.style,source:A.source,target:A.target,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerEnd:A.markerEnd,markerStart:A.markerStart,sourceX:U,sourceY:X,targetX:Q,targetY:K,sourcePosition:ie,targetPosition:ee,elementsSelectable:w,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:v,rfId:s,ariaLabel:A.ariaLabel,isFocusable:pe,isReconnectable:we,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth,disableKeyboardA11y:x})})))),b):null};UE.displayName="EdgeRenderer";var _V=g.memo(UE);const AV=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function TV({children:e}){const t=ot(AV);return P.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function MV(e){const t=V0(),n=g.useRef(!1);g.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const RV={[le.Left]:le.Right,[le.Right]:le.Left,[le.Top]:le.Bottom,[le.Bottom]:le.Top},VE=({nodeId:e,handleType:t,style:n,type:s=Wr.Bezier,CustomComponent:r,connectionStatus:i})=>{var E,S,_;const{fromNode:o,handleId:l,toX:c,toY:u,connectionMode:d}=ot(g.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),fn),f=(E=o==null?void 0:o[ft])==null?void 0:E.handleBounds;let m=f==null?void 0:f[t];if(d===mi.Loose&&(m=m||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!m)return null;const h=l?m.find(C=>C.id===l):m[0],p=h?h.x+h.width/2:(o.width??0)/2,v=h?h.y+h.height/2:o.height??0,b=(((S=o.positionAbsolute)==null?void 0:S.x)??0)+p,x=(((_=o.positionAbsolute)==null?void 0:_.y)??0)+v,y=h==null?void 0:h.position,j=y?RV[y]:null;if(!y||!j)return null;if(r)return P.createElement(r,{connectionLineType:s,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:b,fromY:x,toX:c,toY:u,fromPosition:y,toPosition:j,connectionStatus:i});let w="";const N={sourceX:b,sourceY:x,sourcePosition:y,targetX:c,targetY:u,targetPosition:j};return s===Wr.Bezier?[w]=mE(N):s===Wr.Step?[w]=op({...N,borderRadius:0}):s===Wr.SmoothStep?[w]=op(N):s===Wr.SimpleBezier?[w]=fE(N):w=`M${b},${x} ${c},${u}`,P.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};VE.displayName="ConnectionLine";const DV=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function zV({containerStyle:e,style:t,type:n,component:s}){const{nodeId:r,handleType:i,nodesConnectable:o,width:l,height:c,connectionStatus:u}=ot(DV,fn);return!(r&&i&&l&&o)?null:P.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},P.createElement("g",{className:rn(["react-flow__connection",u])},P.createElement(VE,{nodeId:r,handleType:i,style:t,type:n,CustomComponent:s,connectionStatus:u})))}function lw(e,t){return g.useRef(null),$t(),g.useMemo(()=>t(e),[e])}const qE=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:s,onMoveEnd:r,onInit:i,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:v,onSelectionEnd:b,connectionLineType:x,connectionLineStyle:y,connectionLineComponent:j,connectionLineContainerStyle:w,selectionKeyCode:N,selectionOnDrag:E,selectionMode:S,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:k,deleteKeyCode:R,onlyRenderVisibleElements:O,elementsSelectable:z,selectNodesOnDrag:A,defaultViewport:$,translateExtent:M,minZoom:L,maxZoom:T,preventScrolling:D,defaultMarkerColor:B,zoomOnScroll:F,zoomOnPinch:I,panOnScroll:V,panOnScrollSpeed:G,panOnScrollMode:J,zoomOnDoubleClick:ie,panOnDrag:ee,onPaneClick:pe,onPaneMouseEnter:fe,onPaneMouseMove:we,onPaneMouseLeave:U,onPaneScroll:X,onPaneContextMenu:Q,onEdgeContextMenu:K,onEdgeMouseEnter:se,onEdgeMouseMove:ye,onEdgeMouseLeave:ue,onReconnect:te,onReconnectStart:Le,onReconnectEnd:vt,reconnectRadius:xs,noDragClassName:$r,noWheelClassName:Ln,noPanClassName:es,elevateEdgesOnSelect:Gs,disableKeyboardA11y:Ys,nodeOrigin:Xs,nodeExtent:ts,rfId:Pr})=>{const Or=lw(e,lV),Tt=lw(t,gV);return MV(i),P.createElement(iV,{onPaneClick:pe,onPaneMouseEnter:fe,onPaneMouseMove:we,onPaneMouseLeave:U,onPaneContextMenu:Q,onPaneScroll:X,deleteKeyCode:R,selectionKeyCode:N,selectionOnDrag:E,selectionMode:S,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:k,elementsSelectable:z,onMove:n,onMoveStart:s,onMoveEnd:r,zoomOnScroll:F,zoomOnPinch:I,zoomOnDoubleClick:ie,panOnScroll:V,panOnScrollSpeed:G,panOnScrollMode:J,panOnDrag:ee,defaultViewport:$,translateExtent:M,minZoom:L,maxZoom:T,onSelectionContextMenu:p,preventScrolling:D,noDragClassName:$r,noWheelClassName:Ln,noPanClassName:es,disableKeyboardA11y:Ys},P.createElement(TV,null,P.createElement(_V,{edgeTypes:Tt,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:O,onEdgeContextMenu:K,onEdgeMouseEnter:se,onEdgeMouseMove:ye,onEdgeMouseLeave:ue,onReconnect:te,onReconnectStart:Le,onReconnectEnd:vt,reconnectRadius:xs,defaultMarkerColor:B,noPanClassName:es,elevateEdgesOnSelect:!!Gs,disableKeyboardA11y:Ys,rfId:Pr},P.createElement(zV,{style:y,type:x,component:j,containerStyle:w})),P.createElement("div",{className:"react-flow__edgelabel-renderer"}),P.createElement(dV,{nodeTypes:Or,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,selectNodesOnDrag:A,onlyRenderVisibleElements:O,noPanClassName:es,noDragClassName:$r,disableKeyboardA11y:Ys,nodeOrigin:Xs,nodeExtent:ts,rfId:Pr})))};qE.displayName="GraphView";var LV=g.memo(qE);const fp=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Hr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:fp,nodeExtent:fp,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:mi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:uU,isValidConnection:void 0},$V=()=>N9((e,t)=>({...Hr,setNodes:n=>{const{nodeInternals:s,nodeOrigin:r,elevateNodesOnSelect:i}=t();e({nodeInternals:Th(n,s,r,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:s={}}=t();e({edges:n.map(r=>({...s,...r}))})},setDefaultNodesAndEdges:(n,s)=>{const r=typeof n<"u",i=typeof s<"u",o=r?Th(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?s:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:s,nodeInternals:r,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((v,b)=>{const x=r.get(b.id);if(x!=null&&x.hidden)r.set(x.id,{...x,[ft]:{...x[ft],handleBounds:void 0}});else if(x){const y=D0(b.nodeElement);!!(y.width&&y.height&&(x.width!==y.width||x.height!==y.height||b.forceUpdate))&&(r.set(x.id,{...x,[ft]:{...x[ft],handleBounds:{source:tw(".source",b.nodeElement,m,u),target:tw(".target",b.nodeElement,m,u)}},...y}),v.push({id:x.id,type:"dimensions",dimensions:y}))}return v},[]);ME(r,u);const p=o||i&&!o&&RE(t,{initial:!0,...l});e({nodeInternals:new Map(r),fitViewOnInitDone:p}),(h==null?void 0:h.length)>0&&(s==null||s(h))},updateNodePositions:(n,s=!0,r=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(l=>{const c={id:l.id,type:"position",dragging:r};return s&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});i(o)},triggerNodeChanges:n=>{const{onNodesChange:s,nodeInternals:r,hasDefaultNodes:i,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(i){const u=zE(n,l()),d=Th(u,r,o,c);e({nodeInternals:d})}s==null||s(n)}},addSelectedNodes:n=>{const{multiSelectionActive:s,edges:r,getNodes:i}=t();let o,l=null;s?o=n.map(c=>Zr(c,!0)):(o=so(i(),n),l=so(r,[])),Xu({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:s,edges:r,getNodes:i}=t();let o,l=null;s?o=n.map(c=>Zr(c,!0)):(o=so(r,n),l=so(i(),[])),Xu({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:s}={})=>{const{edges:r,getNodes:i}=t(),o=n||i(),l=s||r,c=o.map(d=>(d.selected=!1,Zr(d.id,!1))),u=l.map(d=>Zr(d.id,!1));Xu({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:s,maxZoom:r}=t();s==null||s.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:s,minZoom:r}=t();s==null||s.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var s;(s=t().d3Zoom)==null||s.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:s}=t(),i=s().filter(l=>l.selected).map(l=>Zr(l.id,!1)),o=n.filter(l=>l.selected).map(l=>Zr(l.id,!1));Xu({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:s}=t();s.forEach(r=>{r.positionAbsolute=z0(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(s)})},panBy:n=>{const{transform:s,width:r,height:i,d3Zoom:o,d3Selection:l,translateExtent:c}=t();if(!o||!l||!n.x&&!n.y)return!1;const u=ua.translate(s[0]+n.x,s[1]+n.y).scale(s[2]),d=[[0,0],[r,i]],f=o==null?void 0:o.constrain()(u,d,c);return o.transform(l,f),s[0]!==f.x||s[1]!==f.y||s[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Hr.connectionNodeId,connectionHandleId:Hr.connectionHandleId,connectionHandleType:Hr.connectionHandleType,connectionStatus:Hr.connectionStatus,connectionStartHandle:Hr.connectionStartHandle,connectionEndHandle:Hr.connectionEndHandle}),reset:()=>e({...Hr})}),Object.is),ZE=({children:e})=>{const t=g.useRef(null);return t.current||(t.current=$V()),P.createElement(nU,{value:t.current},e)};ZE.displayName="ReactFlowProvider";const GE=({children:e})=>g.useContext(Mm)?P.createElement(P.Fragment,null,e):P.createElement(ZE,null,e);GE.displayName="ReactFlowWrapper";const PV={input:SE,default:up,output:CE,group:U0},OV={default:gf,straight:O0,step:P0,smoothstep:Rm,simplebezier:$0},BV=[0,0],IV=[15,15],HV={x:0,y:0,zoom:1},FV={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Z0=g.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:r,nodeTypes:i=PV,edgeTypes:o=OV,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:h,onConnectStart:p,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:x,onNodeMouseEnter:y,onNodeMouseMove:j,onNodeMouseLeave:w,onNodeContextMenu:N,onNodeDoubleClick:E,onNodeDragStart:S,onNodeDrag:_,onNodeDragStop:C,onNodesDelete:k,onEdgesDelete:R,onSelectionChange:O,onSelectionDragStart:z,onSelectionDrag:A,onSelectionDragStop:$,onSelectionContextMenu:M,onSelectionStart:L,onSelectionEnd:T,connectionMode:D=mi.Strict,connectionLineType:B=Wr.Bezier,connectionLineStyle:F,connectionLineComponent:I,connectionLineContainerStyle:V,deleteKeyCode:G="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ie=!1,selectionMode:ee=Tc.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:fe=mf()?"Meta":"Control",zoomActivationKeyCode:we=mf()?"Meta":"Control",snapToGrid:U=!1,snapGrid:X=IV,onlyRenderVisibleElements:Q=!1,selectNodesOnDrag:K=!0,nodesDraggable:se,nodesConnectable:ye,nodesFocusable:ue,nodeOrigin:te=BV,edgesFocusable:Le,edgesUpdatable:vt,elementsSelectable:xs,defaultViewport:$r=HV,minZoom:Ln=.5,maxZoom:es=2,translateExtent:Gs=fp,preventScrolling:Ys=!0,nodeExtent:Xs,defaultMarkerColor:ts="#b1b1b7",zoomOnScroll:Pr=!0,zoomOnPinch:Or=!0,panOnScroll:Tt=!1,panOnScrollSpeed:Pt=.5,panOnScrollMode:vs=Xa.Free,zoomOnDoubleClick:Ws=!0,panOnDrag:Ks=!0,onPaneClick:ns,onPaneMouseEnter:$n,onPaneMouseMove:za,onPaneMouseLeave:de,onPaneScroll:Te,onPaneContextMenu:Be,children:Me,onEdgeContextMenu:He,onEdgeDoubleClick:Ft,onEdgeMouseEnter:Ot,onEdgeMouseMove:ys,onEdgeMouseLeave:vn,onEdgeUpdate:Qs,onEdgeUpdateStart:bs,onEdgeUpdateEnd:Pn,onReconnect:Hi,onReconnectStart:Au,onReconnectEnd:JM,reconnectRadius:eR=10,edgeUpdaterRadius:tR=10,onNodesChange:nR,onEdgesChange:sR,noDragClassName:rR="nodrag",noWheelClassName:aR="nowheel",noPanClassName:sy="nopan",fitView:iR=!1,fitViewOptions:oR,connectOnClick:lR=!0,attributionPosition:cR,proOptions:uR,defaultEdgeOptions:dR,elevateNodesOnSelect:fR=!0,elevateEdgesOnSelect:mR=!1,disableKeyboardA11y:ry=!1,autoPanOnConnect:hR=!0,autoPanOnNodeDrag:gR=!0,connectionRadius:pR=20,isValidConnection:xR,onError:vR,style:yR,id:ay,nodeDragThreshold:bR,...wR},jR)=>{const Jm=ay||"1";return P.createElement("div",{...wR,style:{...yR,...FV},ref:jR,className:rn(["react-flow",r]),"data-testid":"rf__wrapper",id:ay},P.createElement(GE,null,P.createElement(LV,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:y,onNodeMouseMove:j,onNodeMouseLeave:w,onNodeContextMenu:N,onNodeDoubleClick:E,nodeTypes:i,edgeTypes:o,connectionLineType:B,connectionLineStyle:F,connectionLineComponent:I,connectionLineContainerStyle:V,selectionKeyCode:J,selectionOnDrag:ie,selectionMode:ee,deleteKeyCode:G,multiSelectionKeyCode:fe,panActivationKeyCode:pe,zoomActivationKeyCode:we,onlyRenderVisibleElements:Q,selectNodesOnDrag:K,defaultViewport:$r,translateExtent:Gs,minZoom:Ln,maxZoom:es,preventScrolling:Ys,zoomOnScroll:Pr,zoomOnPinch:Or,zoomOnDoubleClick:Ws,panOnScroll:Tt,panOnScrollSpeed:Pt,panOnScrollMode:vs,panOnDrag:Ks,onPaneClick:ns,onPaneMouseEnter:$n,onPaneMouseMove:za,onPaneMouseLeave:de,onPaneScroll:Te,onPaneContextMenu:Be,onSelectionContextMenu:M,onSelectionStart:L,onSelectionEnd:T,onEdgeContextMenu:He,onEdgeDoubleClick:Ft,onEdgeMouseEnter:Ot,onEdgeMouseMove:ys,onEdgeMouseLeave:vn,onReconnect:Hi??Qs,onReconnectStart:Au??bs,onReconnectEnd:JM??Pn,reconnectRadius:eR??tR,defaultMarkerColor:ts,noDragClassName:rR,noWheelClassName:aR,noPanClassName:sy,elevateEdgesOnSelect:mR,rfId:Jm,disableKeyboardA11y:ry,nodeOrigin:te,nodeExtent:Xs}),P.createElement(RU,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:h,onConnectStart:p,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:x,nodesDraggable:se,nodesConnectable:ye,nodesFocusable:ue,edgesFocusable:Le,edgesUpdatable:vt,elementsSelectable:xs,elevateNodesOnSelect:fR,minZoom:Ln,maxZoom:es,nodeExtent:Xs,onNodesChange:nR,onEdgesChange:sR,snapToGrid:U,snapGrid:X,connectionMode:D,translateExtent:Gs,connectOnClick:lR,defaultEdgeOptions:dR,fitView:iR,fitViewOptions:oR,onNodesDelete:k,onEdgesDelete:R,onNodeDragStart:S,onNodeDrag:_,onNodeDragStop:C,onSelectionDrag:A,onSelectionDragStart:z,onSelectionDragStop:$,noPanClassName:sy,nodeOrigin:te,rfId:Jm,autoPanOnConnect:hR,autoPanOnNodeDrag:gR,onError:vR,connectionRadius:pR,isValidConnection:xR,nodeDragThreshold:bR}),P.createElement(TU,{onSelectionChange:O}),Me,P.createElement(rU,{proOptions:uR,position:cR}),P.createElement(PU,{rfId:Jm,disableKeyboardA11y:ry})))});Z0.displayName="ReactFlow";function YE(e){return t=>{const[n,s]=g.useState(t),r=g.useCallback(i=>s(o=>e(i,o)),[]);return[n,s,r]}}const XE=YE(zE),WE=YE(KU);function UV(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}function VV(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},P.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function qV(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},P.createElement("path",{d:"M0 0h32v4.2H0z"}))}function ZV(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},P.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function GV(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function YV(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Gl=({children:e,className:t,...n})=>P.createElement("button",{type:"button",className:rn(["react-flow__controls-button",t]),...n},e);Gl.displayName="ControlButton";const XV=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),KE=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const m=$t(),[h,p]=g.useState(!1),{isInteractive:v,minZoomReached:b,maxZoomReached:x}=ot(XV,UV),{zoomIn:y,zoomOut:j,fitView:w}=V0();if(g.useEffect(()=>{p(!0)},[]),!h)return null;const N=()=>{y(),i==null||i()},E=()=>{j(),o==null||o()},S=()=>{w(r),l==null||l()},_=()=>{m.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c==null||c(!v)};return P.createElement(aE,{className:rn(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&P.createElement(P.Fragment,null,P.createElement(Gl,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},P.createElement(VV,null)),P.createElement(Gl,{onClick:E,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},P.createElement(qV,null))),n&&P.createElement(Gl,{className:"react-flow__controls-fitview",onClick:S,title:"fit view","aria-label":"fit view"},P.createElement(ZV,null)),s&&P.createElement(Gl,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},v?P.createElement(YV,null):P.createElement(GV,null)),d)};KE.displayName="Controls";var QE=g.memo(KE);function WV(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var ls;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ls||(ls={}));function KV({color:e,dimensions:t,lineWidth:n}){return P.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function QV({color:e,radius:t}){return P.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const JV={[ls.Dots]:"#91919a",[ls.Lines]:"#eee",[ls.Cross]:"#e2e2e2"},eq={[ls.Dots]:1,[ls.Lines]:1,[ls.Cross]:6},tq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function JE({id:e,variant:t=ls.Dots,gap:n=20,size:s,lineWidth:r=1,offset:i=2,color:o,style:l,className:c}){const u=g.useRef(null),{transform:d,patternId:f}=ot(tq,WV),m=o||JV[t],h=s||eq[t],p=t===ls.Dots,v=t===ls.Cross,b=Array.isArray(n)?n:[n,n],x=[b[0]*d[2]||1,b[1]*d[2]||1],y=h*d[2],j=v?[y,y]:x,w=p?[y/i,y/i]:[j[0]/i,j[1]/i];return P.createElement("svg",{className:rn(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},P.createElement("pattern",{id:f+e,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},p?P.createElement(QV,{color:m,radius:y/i}):P.createElement(KV,{dimensions:j,color:m,lineWidth:r})),P.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}JE.displayName="Background";var e_=g.memo(JE);function nq(e){if(!e||typeof e!="object")throw new Error("Invalid perk tree data");const t=e;if(!t.treeId||!t.treeName||!t.perks||!Array.isArray(t.perks))throw new Error("Invalid perk tree structure");return t}function t_(e){try{return{success:!0,data:nq(e)}}catch(t){return{success:!1,error:t}}}const sq={nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120,fallbackSpacing:100};async function n_(e){try{const t=hn(`data/perk-positions/${e}-positions.json`);console.log("Attempting to load positions from:",t);const n=await fetch(t);if(console.log("Response status:",n.status,n.statusText),!n.ok)return console.warn(`No saved positions found for tree ${e} at ${t}`),null;const s=await n.json();return console.log("Successfully loaded positions for tree:",e),s}catch(t){return console.warn(`Failed to load saved positions for tree ${e}:`,t),null}}function rq(e,t){const n=new Map;e.forEach(o=>{const l=t==null?void 0:t.positions.find(c=>c.perkId===o.edid);n.set(o.edid,{perk:o,depth:-1,children:o.connections.children,parents:o.connections.parents,savedPosition:l})});const r=e.filter(o=>o.connections.parents.length===0).map(o=>({id:o.edid,depth:0})),i=new Set;for(;r.length>0;){const{id:o,depth:l}=r.shift();if(i.has(o))continue;i.add(o);const c=n.get(o);c&&((c.depth===-1||l<c.depth)&&(c.depth=l),c.children.forEach(u=>{n.has(u)&&!i.has(u)&&r.push({id:u,depth:l+1})}))}return n}function aq(e,t){const n=new Map,s=new Map;e.forEach(i=>{const o=i.depth;s.has(o)||s.set(o,[]),s.get(o).push(i)});const r=Math.max(...s.keys());return s.forEach((i,o)=>{const l=t.padding+(r-o)*t.verticalSpacing,c=(i.length-1)*t.horizontalSpacing,u=t.padding+(t.gridScaleX-c)/2;i.forEach((d,f)=>{const m=u+f*t.horizontalSpacing;n.set(d.perk.edid,{x:m,y:l})})}),n}function iq(e,t,n){t.positions.forEach(s=>{const r=e.get(s.perkId);r&&(r.savedPosition=s,r.calculatedPosition={x:s.x,y:s.y})})}function oq(e,t,n={}){const s={...sq,...n},r=rq(e.perks,t);t&&iq(r,t);const i=aq(r,s),o=new Map;return r.forEach((l,c)=>{if(l.calculatedPosition)o.set(c,l.calculatedPosition);else{const u=i.get(c);u?o.set(c,u):o.set(c,{x:s.padding,y:s.padding})}}),o}function lq(e,t){const n=Array.from(t.entries()).map(([s,r])=>({perkId:s,x:r.x,y:r.y,gridX:r.gridX,gridY:r.gridY,horizontal:r.horizontal,vertical:r.vertical}));return{treeId:e.treeId,treeName:e.treeName,positions:n,version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function cw(e,t){const n=new Map;return t.positions.forEach(s=>{n.set(s.perkId,{x:s.x,y:s.y,gridX:s.gridX,gridY:s.gridY,horizontal:s.horizontal,vertical:s.vertical})}),n}function cq(e){const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=`${e.treeId}-positions.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}const uq=({data:e,selected:t,onTogglePerk:n,onRankChange:s})=>{var u,d,f,m,h;const r=e.totalRanks,i=r>1?(e.currentRank||0)>0:e.selected||t,o=p=>{if(p.preventDefault(),p.stopPropagation(),(e.totalRanks||1)>1){const b=e.currentRank||0,x=e.totalRanks||1,y=b>=x?0:b+1;s&&s(e.edid,y)}else n&&n(e.edid)},l=()=>{const p={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return e.hasNoPosition?{...p,borderColor:"#ef4444",borderStyle:"dashed",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 1px rgba(239, 68, 68, 0.3)"}:i?{...p,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...p,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...p,borderColor:"hsl(var(--border))"}},c=((d=(u=e.ranks[0])==null?void 0:u.description)==null?void 0:d.base)||"";return a.jsxs(lC,{children:[a.jsx(cC,{asChild:!0,children:a.jsxs("div",{style:l(),onClick:o,onMouseDown:p=>p.stopPropagation(),children:[!e.isRoot&&a.jsx(Xo,{type:"target",position:le.Bottom}),a.jsx("div",{className:"font-medium",children:e.name}),r>1&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",r," ranks"]}),e.hasChildren&&a.jsx(Xo,{type:"source",position:le.Top})]})}),a.jsx(C0,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:Lt.TOOLTIP},children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-sm",children:e.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:c}),typeof((h=(m=(f=e.ranks[0])==null?void 0:f.prerequisites)==null?void 0:m.skillLevel)==null?void 0:h.level)=="number"&&e.ranks[0].prerequisites.skillLevel.level>0&&a.jsxs("div",{className:"text-xs text-blue-700 font-medium pt-1",children:["Min. Level: ",e.ranks[0].prerequisites.skillLevel.level]}),r>1&&a.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[a.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",r,a.jsx("br",{}),a.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})},s_=g.memo(uq);function zh({skills:e,onSelect:t,placeholder:n="Search skills...",className:s="",disabled:r=!1}){const[i,o]=g.useState(""),l=g.useMemo(()=>{if(!i.trim())return e;const f=i.toLowerCase();return e.filter(m=>m.name.toLowerCase().includes(f)||m.description.toLowerCase().includes(f)||m.category.toLowerCase().includes(f)||m.keyAbilities.some(h=>h.toLowerCase().includes(f))||m.metaTags.some(h=>h.toLowerCase().includes(f)))},[e,i]),c=g.useMemo(()=>l.map(f=>{var m;return{id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&a.jsx(W,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalSkill:f,keyAbilitiesCount:((m=f.keyAbilities)==null?void 0:m.length)||0,scaling:f.scaling}}}),[l]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h,p;return a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(km,{skillName:f.label,size:"sm",className:"flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.label}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&a.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.keyAbilitiesCount)&&f.metadata.keyAbilitiesCount>0&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.keyAbilitiesCount," ability",f.metadata.keyAbilitiesCount!==1?"s":""]})]}),f.description&&a.jsx(De,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"}),((p=f.metadata)==null?void 0:p.scaling)&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Scaling:"})," ",f.metadata.scaling]})]})]})};return a.jsx(au,{options:c,onSelect:u,placeholder:n,className:s,disabled:r,renderOption:d,emptyMessage:"No skills found",searchQuery:i,onSearchQueryChange:o})}function dq(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const r_=P.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),du=()=>{const e=P.useContext(r_);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};dq(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function fq(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function mq(){return G0(/^Mac/)}function hq(){return G0(/^iPhone/)}function uw(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function gq(){return G0(/^iPad/)||mq()&&navigator.maxTouchPoints>1}function a_(){return hq()||gq()}function G0(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const pq=24,xq=typeof window<"u"?g.useLayoutEffect:g.useEffect;function dw(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Lh=typeof document<"u"&&window.visualViewport;function fw(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function i_(e){for(fw(e)&&(e=e.parentElement);e&&!fw(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const vq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ku=0,$h;function yq(e={}){let{isDisabled:t}=e;xq(()=>{if(!t)return Ku++,Ku===1&&a_()&&($h=bq()),()=>{Ku--,Ku===0&&($h==null||$h())}},[t])}function bq(){let e,t=0,n=f=>{e=i_(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},s=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,h=e.scrollTop,p=e.scrollHeight-e.clientHeight;p!==0&&((h<=0&&m>t||h>=p&&m<t)&&f.preventDefault(),t=m)},r=f=>{let m=f.target;mp(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},i=f=>{let m=f.target;mp(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",Lh&&(Lh.height<window.innerHeight?requestAnimationFrame(()=>{mw(m)}):Lh.addEventListener("resize",()=>mw(m),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=dw(wq(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=dw(Dl(document,"touchstart",n,{passive:!1,capture:!0}),Dl(document,"touchmove",s,{passive:!1,capture:!0}),Dl(document,"touchend",r,{passive:!1,capture:!0}),Dl(document,"focus",i,!0),Dl(window,"scroll",o));return()=>{u(),d(),window.scrollTo(l,c)}}function wq(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function Dl(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function mw(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=i_(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,r=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+pq;i>o&&(n.scrollTop+=r-s)}e=n.parentElement}}function mp(e){return e instanceof HTMLInputElement&&!vq.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function jq(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Nq(...e){return t=>e.forEach(n=>jq(n,t))}function o_(...e){return g.useCallback(Nq(...e),e)}const l_=new WeakMap;function kt(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([r,i])=>{if(r.startsWith("--")){e.style.setProperty(r,i);return}s[r]=e.style[r],e.style[r]=i}),!n&&l_.set(e,s)}function Sq(e,t){if(!e||!(e instanceof HTMLElement))return;let n=l_.get(e);n&&(e.style[t]=n[t])}const bt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Qu(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let r=s.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[bt(t)?13:12]):(r=s.match(/^matrix\((.+)\)$/),r?parseFloat(r[1].split(", ")[bt(t)?5:4]):null)}function kq(e){return 8*(Math.log(e+1)-2)}function Ph(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Cq(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const rt={DURATION:.5,EASE:[.32,.72,0,1]},c_=.4,Eq=.25,_q=100,u_=8,Pa=16,hp=26,Oh="vaul-dragging";function d_(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function Aq({defaultProp:e,onChange:t}){const n=P.useState(e),[s]=n,r=P.useRef(s),i=d_(t);return P.useEffect(()=>{r.current!==s&&(i(s),r.current=s)},[s,r,i]),n}function f_({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,r]=Aq({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:s,l=d_(n),c=P.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else r(u)},[i,e,r,l]);return[o,c]}function Tq({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:r,fadeFromIndex:i,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=f_({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[m,h]=P.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);P.useEffect(()=>{function S(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const p=P.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),v=P.useMemo(()=>{var S;return(S=n==null?void 0:n.findIndex(_=>_===d))!=null?S:null},[n,d]),b=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===d||!n,x=P.useMemo(()=>{const S=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var _;return(_=n==null?void 0:n.map(C=>{const k=typeof C=="string";let R=0;if(k&&(R=parseInt(C,10)),bt(l)){const z=k?R:m?C*S.height:0;return m?l==="bottom"?S.height-z:-S.height+z:z}const O=k?R:m?C*S.width:0;return m?l==="right"?S.width-O:-S.width+O:O}))!=null?_:[]},[n,m,c]),y=P.useMemo(()=>v!==null?x==null?void 0:x[v]:null,[x,v]),j=P.useCallback(S=>{var _;const C=(_=x==null?void 0:x.findIndex(k=>k===S))!=null?_:null;o(C),kt(s.current,{transition:`transform ${rt.DURATION}s cubic-bezier(${rt.EASE.join(",")})`,transform:bt(l)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`}),x&&C!==x.length-1&&i!==void 0&&C!==i&&C<i?kt(r.current,{transition:`opacity ${rt.DURATION}s cubic-bezier(${rt.EASE.join(",")})`,opacity:"0"}):kt(r.current,{transition:`opacity ${rt.DURATION}s cubic-bezier(${rt.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(C,0)])},[s.current,n,x,i,r,f]);P.useEffect(()=>{if(d||e){var S;const _=(S=n==null?void 0:n.findIndex(C=>C===e||C===d))!=null?S:-1;x&&_!==-1&&typeof x[_]=="number"&&j(x[_])}},[d,e,n,x,j]);function w({draggedDistance:S,closeDrawer:_,velocity:C,dismissible:k}){if(i===void 0)return;const R=l==="bottom"||l==="right"?(y??0)-S:(y??0)+S,O=v===i-1,z=v===0,A=S>0;if(O&&kt(r.current,{transition:`opacity ${rt.DURATION}s cubic-bezier(${rt.EASE.join(",")})`}),!u&&C>2&&!A){k?_():j(x[0]);return}if(!u&&C>2&&A&&x&&n){j(x[n.length-1]);return}const $=x==null?void 0:x.reduce((L,T)=>typeof L!="number"||typeof T!="number"?L:Math.abs(T-R)<Math.abs(L-R)?T:L),M=bt(l)?window.innerHeight:window.innerWidth;if(C>c_&&Math.abs(S)<M*.4){const L=A?1:-1;if(L>0&&p&&n){j(x[n.length-1]);return}if(z&&L<0&&k&&_(),v===null)return;j(x[v+L]);return}j($)}function N({draggedDistance:S}){if(y===null)return;const _=l==="bottom"||l==="right"?y-S:y+S;(l==="bottom"||l==="right")&&_<x[x.length-1]||(l==="top"||l==="left")&&_>x[x.length-1]||kt(s.current,{transform:bt(l)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`})}function E(S,_){if(!n||typeof v!="number"||!x||i===void 0)return null;const C=v===i-1;if(v>=i&&_)return 0;if(C&&!_)return 1;if(!b&&!C)return null;const R=C?v+1:v-1,O=C?x[R]-x[R-1]:x[R+1]-x[R],z=S/Math.abs(O);return C?1-z:z}return{isLastSnapPoint:p,activeSnapPoint:d,shouldFade:b,getPercentageDragged:E,setActiveSnapPoint:f,activeSnapPointIndex:v,onRelease:w,onDrag:N,snapPointsOffset:x}}const Mq=()=>()=>{};function Rq(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:r}=du(),i=P.useRef(null),o=g.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-hp)/window.innerWidth}P.useEffect(()=>{if(t&&n){i.current&&clearTimeout(i.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Cq(s&&!r?Ph(document.body,{background:"black"}):Mq,Ph(c,{transformOrigin:bt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${rt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${rt.EASE.join(",")})`}));const u=Ph(c,{borderRadius:`${u_}px`,overflow:"hidden",...bt(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),i.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},rt.DURATION*1e3)}}},[t,n,o])}let zl=null;function Dq({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:r,noBodyStyles:i}){const[o,l]=P.useState(()=>typeof window<"u"?window.location.href:""),c=P.useRef(0),u=P.useCallback(()=>{if(uw()&&zl===null&&e&&!i){zl={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=m-window.innerHeight;h&&c.current>=m&&(document.body.style.top=`${-(c.current+h)}px`)}),300)}},[e]),d=P.useCallback(()=>{if(uw()&&zl!==null&&!i){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,zl),window.requestAnimationFrame(()=>{if(r&&o!==window.location.href){l(window.location.href);return}window.scrollTo(m,f)}),zl=null}},[o]);return P.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),P.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),P.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,s,o,t,n,u,d]),{restorePositionSetting:d}}function zq({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:r,snapPoints:i,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=Eq,scrollLockTimeout:u=_q,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:m=i&&i.length-1,activeSnapPoint:h,setActiveSnapPoint:p,fixed:v,modal:b=!0,onClose:x,nested:y,noBodyStyles:j=!1,direction:w="bottom",defaultOpen:N=!1,disablePreventScroll:E=!0,snapToSequentialPoint:S=!1,preventScrollRestoration:_=!1,repositionInputs:C=!0,onAnimationEnd:k,container:R,autoFocus:O=!1}){var z,A;const[$=!1,M]=f_({defaultProp:N,prop:e,onChange:de=>{t==null||t(de),!de&&!y&&Xs(),setTimeout(()=>{k==null||k(de)},rt.DURATION*1e3),de&&!b&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),de||(document.body.style.pointerEvents="auto")}}),[L,T]=P.useState(!1),[D,B]=P.useState(!1),[F,I]=P.useState(!1),V=P.useRef(null),G=P.useRef(null),J=P.useRef(null),ie=P.useRef(null),ee=P.useRef(null),pe=P.useRef(!1),fe=P.useRef(null),we=P.useRef(0),U=P.useRef(!1),X=P.useRef(!N),Q=P.useRef(0),K=P.useRef(null),se=P.useRef(((z=K.current)==null?void 0:z.getBoundingClientRect().height)||0),ye=P.useRef(((A=K.current)==null?void 0:A.getBoundingClientRect().width)||0),ue=P.useRef(0),te=P.useCallback(de=>{i&&de===Ln.length-1&&(G.current=new Date)},[]),{activeSnapPoint:Le,activeSnapPointIndex:vt,setActiveSnapPoint:xs,onRelease:$r,snapPointsOffset:Ln,onDrag:es,shouldFade:Gs,getPercentageDragged:Ys}=Tq({snapPoints:i,activeSnapPointProp:h,setActiveSnapPointProp:p,drawerRef:K,fadeFromIndex:m,overlayRef:V,onSnapPointChange:te,direction:w,container:R,snapToSequentialPoint:S});yq({isDisabled:!$||D||!b||F||!L||!C||!E});const{restorePositionSetting:Xs}=Dq({isOpen:$,modal:b,nested:y??!1,hasBeenOpened:L,preventScrollRestoration:_,noBodyStyles:j});function ts(){return(window.innerWidth-hp)/window.innerWidth}function Pr(de){var Te,Be;!d&&!i||K.current&&!K.current.contains(de.target)||(se.current=((Te=K.current)==null?void 0:Te.getBoundingClientRect().height)||0,ye.current=((Be=K.current)==null?void 0:Be.getBoundingClientRect().width)||0,B(!0),J.current=new Date,a_()&&window.addEventListener("touchend",()=>pe.current=!1,{once:!0}),de.target.setPointerCapture(de.pointerId),we.current=bt(w)?de.pageY:de.pageX)}function Or(de,Te){var Be;let Me=de;const He=(Be=window.getSelection())==null?void 0:Be.toString(),Ft=K.current?Qu(K.current,w):null,Ot=new Date;if(Me.tagName==="SELECT"||Me.hasAttribute("data-vaul-no-drag")||Me.closest("[data-vaul-no-drag]"))return!1;if(w==="right"||w==="left")return!0;if(G.current&&Ot.getTime()-G.current.getTime()<500)return!1;if(Ft!==null&&(w==="bottom"?Ft>0:Ft<0))return!0;if(He&&He.length>0)return!1;if(ee.current&&Ot.getTime()-ee.current.getTime()<u&&Ft===0||Te)return ee.current=Ot,!1;for(;Me;){if(Me.scrollHeight>Me.clientHeight){if(Me.scrollTop!==0)return ee.current=new Date,!1;if(Me.getAttribute("role")==="dialog")return!0}Me=Me.parentNode}return!0}function Tt(de){if(K.current&&D){const Te=w==="bottom"||w==="right"?1:-1,Be=(we.current-(bt(w)?de.pageY:de.pageX))*Te,Me=Be>0,He=i&&!d&&!Me;if(He&&vt===0)return;const Ft=Math.abs(Be),Ot=document.querySelector("[data-vaul-drawer-wrapper]"),ys=w==="bottom"||w==="top"?se.current:ye.current;let vn=Ft/ys;const Qs=Ys(Ft,Me);if(Qs!==null&&(vn=Qs),He&&vn>=1||!pe.current&&!Or(de.target,Me))return;if(K.current.classList.add(Oh),pe.current=!0,kt(K.current,{transition:"none"}),kt(V.current,{transition:"none"}),i&&es({draggedDistance:Be}),Me&&!i){const Pn=kq(Be),Hi=Math.min(Pn*-1,0)*Te;kt(K.current,{transform:bt(w)?`translate3d(0, ${Hi}px, 0)`:`translate3d(${Hi}px, 0, 0)`});return}const bs=1-vn;if((Gs||m&&vt===m-1)&&(s==null||s(de,vn),kt(V.current,{opacity:`${bs}`,transition:"none"},!0)),Ot&&V.current&&o){const Pn=Math.min(ts()+vn*(1-ts()),1),Hi=8-vn*8,Au=Math.max(0,14-vn*14);kt(Ot,{borderRadius:`${Hi}px`,transform:bt(w)?`scale(${Pn}) translate3d(0, ${Au}px, 0)`:`scale(${Pn}) translate3d(${Au}px, 0, 0)`,transition:"none"},!0)}if(!i){const Pn=Ft*Te;kt(K.current,{transform:bt(w)?`translate3d(0, ${Pn}px, 0)`:`translate3d(${Pn}px, 0, 0)`})}}}P.useEffect(()=>{window.requestAnimationFrame(()=>{X.current=!0})},[]),P.useEffect(()=>{var de;function Te(){if(!K.current||!C)return;const Be=document.activeElement;if(mp(Be)||U.current){var Me;const He=((Me=window.visualViewport)==null?void 0:Me.height)||0,Ft=window.innerHeight;let Ot=Ft-He;const ys=K.current.getBoundingClientRect().height||0,vn=ys>Ft*.8;ue.current||(ue.current=ys);const Qs=K.current.getBoundingClientRect().top;if(Math.abs(Q.current-Ot)>60&&(U.current=!U.current),i&&i.length>0&&Ln&&vt){const bs=Ln[vt]||0;Ot+=bs}if(Q.current=Ot,ys>He||U.current){const bs=K.current.getBoundingClientRect().height;let Pn=bs;bs>He&&(Pn=He-(vn?Qs:hp)),v?K.current.style.height=`${bs-Math.max(Ot,0)}px`:K.current.style.height=`${Math.max(Pn,He-Qs)}px`}else fq()||(K.current.style.height=`${ue.current}px`);i&&i.length>0&&!U.current?K.current.style.bottom="0px":K.current.style.bottom=`${Math.max(Ot,0)}px`}}return(de=window.visualViewport)==null||de.addEventListener("resize",Te),()=>{var Be;return(Be=window.visualViewport)==null?void 0:Be.removeEventListener("resize",Te)}},[vt,i,Ln]);function Pt(de){Ws(),x==null||x(),de||M(!1),setTimeout(()=>{i&&xs(i[0])},rt.DURATION*1e3)}function vs(){if(!K.current)return;const de=document.querySelector("[data-vaul-drawer-wrapper]"),Te=Qu(K.current,w);kt(K.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${rt.DURATION}s cubic-bezier(${rt.EASE.join(",")})`}),kt(V.current,{transition:`opacity ${rt.DURATION}s cubic-bezier(${rt.EASE.join(",")})`,opacity:"1"}),o&&Te&&Te>0&&$&&kt(de,{borderRadius:`${u_}px`,overflow:"hidden",...bt(w)?{transform:`scale(${ts()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ts()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${rt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${rt.EASE.join(",")})`},!0)}function Ws(){!D||!K.current||(K.current.classList.remove(Oh),pe.current=!1,B(!1),ie.current=new Date)}function Ks(de){if(!D||!K.current)return;K.current.classList.remove(Oh),pe.current=!1,B(!1),ie.current=new Date;const Te=Qu(K.current,w);if(!de||!Or(de.target,!1)||!Te||Number.isNaN(Te)||J.current===null)return;const Be=ie.current.getTime()-J.current.getTime(),Me=we.current-(bt(w)?de.pageY:de.pageX),He=Math.abs(Me)/Be;if(He>.05&&(I(!0),setTimeout(()=>{I(!1)},200)),i){$r({draggedDistance:Me*(w==="bottom"||w==="right"?1:-1),closeDrawer:Pt,velocity:He,dismissible:d}),r==null||r(de,!0);return}if(w==="bottom"||w==="right"?Me>0:Me<0){vs(),r==null||r(de,!0);return}if(He>c_){Pt(),r==null||r(de,!1);return}var Ft;const Ot=Math.min((Ft=K.current.getBoundingClientRect().height)!=null?Ft:0,window.innerHeight);var ys;const vn=Math.min((ys=K.current.getBoundingClientRect().width)!=null?ys:0,window.innerWidth),Qs=w==="left"||w==="right";if(Math.abs(Te)>=(Qs?vn:Ot)*c){Pt(),r==null||r(de,!1);return}r==null||r(de,!0),vs()}P.useEffect(()=>($&&(kt(document.documentElement,{scrollBehavior:"auto"}),G.current=new Date),()=>{Sq(document.documentElement,"scrollBehavior")}),[$]);function ns(de){const Te=de?(window.innerWidth-Pa)/window.innerWidth:1,Be=de?-Pa:0;fe.current&&window.clearTimeout(fe.current),kt(K.current,{transition:`transform ${rt.DURATION}s cubic-bezier(${rt.EASE.join(",")})`,transform:bt(w)?`scale(${Te}) translate3d(0, ${Be}px, 0)`:`scale(${Te}) translate3d(${Be}px, 0, 0)`}),!de&&K.current&&(fe.current=setTimeout(()=>{const Me=Qu(K.current,w);kt(K.current,{transition:"none",transform:bt(w)?`translate3d(0, ${Me}px, 0)`:`translate3d(${Me}px, 0, 0)`})},500))}function $n(de,Te){if(Te<0)return;const Be=(window.innerWidth-Pa)/window.innerWidth,Me=Be+Te*(1-Be),He=-Pa+Te*Pa;kt(K.current,{transform:bt(w)?`scale(${Me}) translate3d(0, ${He}px, 0)`:`scale(${Me}) translate3d(${He}px, 0, 0)`,transition:"none"})}function za(de,Te){const Be=bt(w)?window.innerHeight:window.innerWidth,Me=Te?(Be-Pa)/Be:1,He=Te?-Pa:0;Te&&kt(K.current,{transition:`transform ${rt.DURATION}s cubic-bezier(${rt.EASE.join(",")})`,transform:bt(w)?`scale(${Me}) translate3d(0, ${He}px, 0)`:`scale(${Me}) translate3d(${He}px, 0, 0)`})}return P.useEffect(()=>{b||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[b]),P.createElement(Q1,{defaultOpen:N,onOpenChange:de=>{!d&&!de||(de?T(!0):Pt(!0),M(de))},open:$},P.createElement(r_.Provider,{value:{activeSnapPoint:Le,snapPoints:i,setActiveSnapPoint:xs,drawerRef:K,overlayRef:V,onOpenChange:t,onPress:Pr,onRelease:Ks,onDrag:Tt,dismissible:d,shouldAnimate:X,handleOnly:f,isOpen:$,isDragging:D,shouldFade:Gs,closeDrawer:Pt,onNestedDrag:$n,onNestedOpenChange:ns,onNestedRelease:za,keyboardIsOpen:U,modal:b,snapPointsOffset:Ln,activeSnapPointIndex:vt,direction:w,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:j,container:R,autoFocus:O}},n))}const m_=P.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:s,onRelease:r,shouldFade:i,isOpen:o,modal:l,shouldAnimate:c}=du(),u=o_(t,n),d=s&&s.length>0;if(!l)return null;const f=P.useCallback(m=>r(m),[r]);return P.createElement(Ox,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":o&&d?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});m_.displayName="Drawer.Overlay";const Y0=P.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...s},r){const{drawerRef:i,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:f,modal:m,isOpen:h,direction:p,snapPoints:v,container:b,handleOnly:x,shouldAnimate:y,autoFocus:j}=du(),[w,N]=P.useState(!1),E=o_(r,i),S=P.useRef(null),_=P.useRef(null),C=P.useRef(!1),k=v&&v.length>0;Rq();const R=(z,A,$=0)=>{if(C.current)return!0;const M=Math.abs(z.y),L=Math.abs(z.x),T=L>M,D=["bottom","right"].includes(A)?1:-1;if(A==="left"||A==="right"){if(!(z.x*D<0)&&L>=0&&L<=$)return T}else if(!(z.y*D<0)&&M>=0&&M<=$)return!T;return C.current=!0,!0};P.useEffect(()=>{k&&window.requestAnimationFrame(()=>{N(!0)})},[]);function O(z){S.current=null,C.current=!1,l(z)}return P.createElement(Bx,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":h&&k?"true":"false","data-vaul-custom-container":b?"true":"false","data-vaul-animate":y!=null&&y.current?"true":"false",...s,ref:E,style:d&&d.length>0?{"--snap-point-height":`${d[f??0]}px`,...t}:t,onPointerDown:z=>{x||(s.onPointerDown==null||s.onPointerDown.call(s,z),S.current={x:z.pageX,y:z.pageY},o(z))},onOpenAutoFocus:z=>{n==null||n(z),j||z.preventDefault()},onPointerDownOutside:z=>{if(e==null||e(z),!m||z.defaultPrevented){z.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:z=>{if(!m){z.preventDefault();return}},onPointerMove:z=>{if(_.current=z,x||(s.onPointerMove==null||s.onPointerMove.call(s,z),!S.current))return;const A=z.pageY-S.current.y,$=z.pageX-S.current.x,M=z.pointerType==="touch"?10:2;R({x:$,y:A},p,M)?c(z):(Math.abs($)>M||Math.abs(A)>M)&&(S.current=null)},onPointerUp:z=>{s.onPointerUp==null||s.onPointerUp.call(s,z),S.current=null,C.current=!1,l(z)},onPointerOut:z=>{s.onPointerOut==null||s.onPointerOut.call(s,z),O(_.current)},onContextMenu:z=>{s.onContextMenu==null||s.onContextMenu.call(s,z),_.current&&O(_.current)}})});Y0.displayName="Drawer.Content";const Lq=250,$q=120,Pq=P.forwardRef(function({preventCycle:e=!1,children:t,...n},s){const{closeDrawer:r,isDragging:i,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:m,onDrag:h}=du(),p=P.useRef(null),v=P.useRef(!1);function b(){if(v.current){j();return}window.setTimeout(()=>{x()},$q)}function x(){if(i||e||v.current){j();return}if(j(),!o||o.length===0){u||r();return}if(l===o[o.length-1]&&u){r();return}const N=o.findIndex(S=>S===l);if(N===-1)return;const E=o[N+1];c(E)}function y(){p.current=window.setTimeout(()=>{v.current=!0},Lq)}function j(){p.current&&window.clearTimeout(p.current),v.current=!1}return P.createElement("div",{onClick:b,onPointerCancel:j,onPointerDown:w=>{d&&m(w),y()},onPointerMove:w=>{d&&h(w)},ref:s,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},P.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});Pq.displayName="Drawer.Handle";function Oq(e){const t=du(),{container:n=t.container,...s}=e;return P.createElement(J1,{container:n,...s})}const Dr={Root:zq,Content:Y0,Overlay:m_,Portal:Oq,Title:Ix,Description:Hx},h_=({shouldScaleBackground:e=!0,...t})=>a.jsx(Dr.Root,{shouldScaleBackground:e,...t});h_.displayName="Drawer";const g_=Dr.Portal,X0=g.forwardRef(({className:e,...t},n)=>a.jsx(Dr.Overlay,{ref:n,className:H("fixed inset-0 bg-background/80 backdrop-blur-sm",e),style:{zIndex:Lt.MODAL},...t}));X0.displayName=Dr.Overlay.displayName;const Bq=g.forwardRef(({className:e,children:t,fullHeight:n=!1,...s},r)=>a.jsxs(g_,{children:[a.jsx(X0,{}),a.jsxs(Dr.Content,{ref:r,className:H(n?"fixed inset-x-0 bottom-0 z-50 flex h-[100dvh] max-h-[100dvh] w-full bg-background":"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:Lt.MODAL+1,backgroundColor:"hsl(var(--background))"},...s,children:[!n&&a.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));Bq.displayName="DrawerContent";const p_=({className:e,...t})=>a.jsx("div",{className:H("grid gap-1.5 p-4 text-center sm:text-left",e),...t});p_.displayName="DrawerHeader";const x_=({className:e,...t})=>a.jsx("div",{className:H("mt-auto flex flex-col gap-2 p-4",e),...t});x_.displayName="DrawerFooter";const v_=g.forwardRef(({className:e,...t},n)=>a.jsx(Dr.Title,{ref:n,className:H("text-lg font-semibold leading-none tracking-tight",e),...t}));v_.displayName=Dr.Title.displayName;const y_=g.forwardRef(({className:e,...t},n)=>a.jsx(Dr.Description,{ref:n,className:H("text-sm text-muted-foreground",e),...t}));y_.displayName=Dr.Description.displayName;function Iq(e,t){const n=new Map;return t.forEach(s=>{var o;const r=s.treeId,i=((o=s.perks)==null?void 0:o.length)||0;n.set(r,i)}),n}function W0(){const{data:e,loading:t,error:n,reload:s}=s8(),{data:r,loading:i,error:o,reload:l}=h0(),c=t||i,u=n||o;return{skills:g.useMemo(()=>{if(!e||!r)return[];const m=Iq(e,r);return e.map(h=>({id:h.edid,name:h.name,category:h.category,description:h.description,keyAbilities:h.keyAbilities||[],metaTags:h.metaTags||[],assignmentType:"none",canAssignMajor:!0,canAssignMinor:!0,level:0,totalPerks:m.get(h.edid)||0,selectedPerksCount:0,selectedPerks:[],isSelected:!1}))},[e,r]),perkTrees:r||[],loading:c,error:u,refreshSkills:async()=>{await Promise.all([s(),l()])}}}function Hq(){var b;const{skills:e,loading:t,error:n}=W0(),{build:s,addMajorSkill:r,addMinorSkill:i,removeMajorSkill:o,removeMinorSkill:l}=ht(),c=g.useMemo(()=>e.map(x=>{var _,C;const y=s.skills.major.includes(x.id),j=s.skills.minor.includes(x.id),N=(((C=(_=s.perks)==null?void 0:_.selected)==null?void 0:C[x.id])||[]).length,E=!y&&s.skills.major.length<3,S=!j&&s.skills.minor.length<6;return{...x,isMajor:y,isMinor:j,selectedPerksCount:N,canAssignMajor:E,canAssignMinor:S}}),[e,s.skills.major,s.skills.minor,(b=s.perks)==null?void 0:b.selected]),u=g.useMemo(()=>c.filter(x=>x.isMajor),[c]),d=g.useMemo(()=>c.filter(x=>x.isMinor),[c]),f=g.useMemo(()=>c.filter(x=>!x.isMajor&&!x.isMinor),[c]);return{skills:c,selectedMajorSkills:u,selectedMinorSkills:d,availableSkills:f,loading:t,error:n,handleMajorSkillSelect:x=>{r(x.id)},handleMinorSkillSelect:x=>{i(x.id)},handleMajorSkillRemove:x=>{o(x)},handleMinorSkillRemove:x=>{l(x)}}}function Fq(e){const[t,n]=g.useState(""),[s,r]=g.useState(null),i=g.useMemo(()=>e.filter(c=>{const u=c.name.toLowerCase().includes(t.toLowerCase())||c.description.toLowerCase().includes(t.toLowerCase())||c.category.toLowerCase().includes(t.toLowerCase())||c.keyAbilities.some(f=>f.toLowerCase().includes(t.toLowerCase()))||c.metaTags.some(f=>f.toLowerCase().includes(t.toLowerCase())),d=!s||c.category===s;return u&&d}),[e,t,s]),o=g.useMemo(()=>{const c=new Set(e.map(u=>u.category));return Array.from(c).sort()},[e]);return{searchQuery:t,setSearchQuery:n,selectedCategory:s,setSelectedCategory:r,filteredSkills:i,categories:o,clearFilters:()=>{n(""),r(null)}}}function K0(e){const{data:t,loading:n,error:s}=h0(),{getSkillPerks:r,getPerkRank:i,addPerk:o,removePerk:l,setPerkRank:c,clearSkillPerks:u}=ht(),d=g.useMemo(()=>!e||!t?null:t.find(y=>y.treeId===e)||null,[e,t]),f=g.useMemo(()=>e?r(e):[],[e,r]),m=g.useMemo(()=>{if(!e||!d)return{};const x={};return d.perks.forEach(y=>{x[y.edid]=i(y.edid)}),x},[e,d,i]),h=g.useMemo(()=>{if(!d)return[];const x=[];return d.perks.forEach(y=>{if(y.isRoot){x.push(y.edid);return}(y.connections.parents||[]).every(N=>f.includes(N))&&x.push(y.edid)}),x},[d,f]);return{perkTrees:t||[],selectedPerkTree:d,selectedPerks:f,perkRanks:m,availablePerks:h,loading:n,error:s,handlePerkSelect:x=>{if(!e)return;f.includes(x)?l(e,x):o(e,x)},handlePerkRankChange:(x,y)=>{c(x,y),y===0?f.includes(x)&&l(e,x):f.includes(x)||o(e,x)},handleResetPerks:()=>{e&&u(e)}}}function b_(){var M,L,T,D,B,F;const{skills:e,loading:t,error:n,refreshSkills:s}=W0(),{build:r,addMajorSkill:i,addMinorSkill:o,removeMajorSkill:l,removeMinorSkill:c}=ht(),{searchQuery:u,setSearchQuery:d,selectedCategory:f,setSelectedCategory:m,filteredSkills:h,categories:p,clearFilters:v}=Fq(e),b=g.useMemo(()=>h.map(I=>{var ee,pe,fe;const V=((pe=(ee=r.perks)==null?void 0:ee.selected)==null?void 0:pe[I.id])||[],G=V.length,J=I.totalPerks??0,ie=l1(I.id,V,((fe=r.perks)==null?void 0:fe.ranks)||{});return{...I,selectedPerksCount:G,level:ie,assignmentType:r.skills.major.includes(I.id)?"major":r.skills.minor.includes(I.id)?"minor":"none",canAssignMajor:!r.skills.major.includes(I.id)&&r.skills.major.length<3,canAssignMinor:!r.skills.minor.includes(I.id)&&r.skills.minor.length<6,perkCount:`${G}/${J}`}}),[h,r.skills.major,r.skills.minor,(M=r.perks)==null?void 0:M.selected,(L=r.perks)==null?void 0:L.ranks]),x=g.useMemo(()=>({majorCount:r.skills.major.length,minorCount:r.skills.minor.length,majorLimit:3,minorLimit:6,canAssignMajor:r.skills.major.length<3,canAssignMinor:r.skills.minor.length<6,totalSkills:b.length,totalPerks:b.reduce((I,V)=>I+(V.selectedPerksCount||0),0),totalPerkRanks:0}),[b,r.skills.major,r.skills.minor]),y=g.useCallback(I=>{i(I)},[i]),j=g.useCallback(I=>{o(I)},[o]),w=g.useCallback(I=>{l(I),c(I)},[l,c]),[N,E]=g.useState(null),S=g.useCallback(I=>{E(I)},[]),_=g.useMemo(()=>N&&b.find(I=>I.id===N)||null,[N,b]),{selectedPerkTree:C,handleResetPerks:k}=K0(N),R=g.useMemo(()=>{var I;return!_||!((I=r.perks)!=null&&I.selected)?[]:r.perks.selected[_.id]||[]},[_,(T=r.perks)==null?void 0:T.selected]),O=g.useMemo(()=>{var I;return!_||!((I=r.perks)!=null&&I.ranks)?{}:r.perks.ranks[_.id]||{}},[_,(D=r.perks)==null?void 0:D.ranks]),z=g.useMemo(()=>C?C.perks||[]:[],[C]),A=g.useCallback(I=>{var J,ie;if(!_)return;const V=((ie=(J=r.perks)==null?void 0:J.selected)==null?void 0:ie[_.id])||[];V.includes(I)?(V.filter(ee=>ee!==I),console.log("Remove perk:",I,"from skill:",_.id)):([...V],console.log("Add perk:",I,"to skill:",_.id))},[_,(B=r.perks)==null?void 0:B.selected]),$=g.useCallback((I,V)=>{var J,ie;if(!_)return;({...((ie=(J=r.perks)==null?void 0:J.ranks)==null?void 0:ie[_.id])||{}},console.log("Update perk rank:",I,"to",V,"for skill:",_.id))},[_,(F=r.perks)==null?void 0:F.ranks]);return{skills:b,skillSummary:x,selectedSkill:_,selectedSkillId:N,perkTree:C,selectedPerks:R,perkRanks:O,availablePerks:z,loading:t,error:n,searchQuery:u,setSearchQuery:d,selectedCategory:f,setSelectedCategory:m,categories:p,clearFilters:v,onAssignMajor:y,onAssignMinor:j,onRemoveAssignment:w,onSkillSelect:S,onPerkSelect:A,onPerkRankChange:$,onResetPerks:k,refreshSkills:s}}function Uq(e){const t=new Set,n=[],s=(r,i)=>{if(t.has(r))return;t.add(r),i.push(e.find(l=>l.edid===r));const o=e.find(l=>l.edid===r);o.connection.children.forEach(l=>{e.some(c=>c.edid===l)&&s(l,i)}),o.connection.parents.forEach(l=>{e.some(c=>c.edid===l)&&s(l,i)})};return e.forEach(r=>{if(!t.has(r.edid)){const i=[];s(r.edid,i),n.push(i)}}),n}function Vq(e,t){try{if(e.length===0)return[];const r=Uq(e).map(l=>qq(l)).map(l=>Zq(l,t)),i=Yq(r,t);return w_(i,t)}catch{return e.map(s=>({id:s.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function qq(e){const t=new Map;e.forEach(l=>{t.set(l.edid,{perk:l,depth:-1,children:l.connection.children,parents:l.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((l,c)=>{l.parents.length===0&&n.push(c)});const s=n.map(l=>({id:l,depth:0})),r=new Set;for(;s.length>0;){const{id:l,depth:c}=s.shift();if(r.has(l))continue;r.add(l);const u=t.get(l);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!r.has(d)&&s.push({id:d,depth:c+1})}))}let i=!0,o=0;for(;i&&o<10;)i=!1,o++,t.forEach((l,c)=>{if(l.parents.length>1){const u=l.parents.map(d=>{const f=t.get(d);return f?f.depth:-1}).filter(d=>d!==-1);if(u.length>0){const f=Math.min(...u)+1;l.depth!==f&&(l.depth=f,i=!0)}}});return t.forEach((l,c)=>{l.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=l.depth){const f=l.depth+1;d.depth=f}})}),{nodes:t,roots:n}}function Zq(e,t){const{nodes:n,roots:s}=e,r=[];if(n.forEach((f,m)=>{r.push({id:m,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:f.children})}),r.some(f=>{try{return gp(f.id,n,t,new Set),!1}catch{return!0}}))return r.forEach(f=>{const m=n.get(f.id);if(m&&m.perk){const h=m.perk.position.x*t.gridScaleX,p=-m.perk.position.y*t.gridScaleY;f.x=h,f.y=p,f.originalX=h,f.originalY=p}}),Gq(r,t),r;const o=r.filter(f=>!r.some(h=>{var p;return h.id!==f.id&&((p=h.children)==null?void 0:p.includes(f.id))}));o.forEach(f=>{f.y=0,f.originalY=0});const l=new Set,c=o.map(f=>({node:f,depth:0}));for(;c.length>0;){const{node:f,depth:m}=c.shift();l.has(f.id)||(l.add(f.id),m>0&&(f.y=-m*t.verticalSpacing,f.originalY=f.y),f.children&&f.children.forEach(h=>{const p=r.find(v=>v.id===h);p&&!l.has(h)&&c.push({node:p,depth:m+1})}))}const u=new Map;return r.forEach(f=>{const m=Math.round(f.y/t.verticalSpacing);u.has(m)||u.set(m,[]),u.get(m).push(f)}),Array.from(u.keys()).sort((f,m)=>m-f).forEach(f=>{u.get(f).forEach(h=>{if(h.children){const p=new Map;h.children.forEach(v=>{const b=r.find(x=>x.id===v);if(b){const x=r.filter(y=>{var j;return((j=y.children)==null?void 0:j.includes(v))&&Math.abs(y.y-b.y)===t.verticalSpacing});x.length>0&&x.some(y=>y.id===h.id)&&(p.has(h.id)||p.set(h.id,[]),p.get(h.id).push(b))}}),p.forEach((v,b)=>{if(v.length>0){const x=r.find(y=>y.id===b);if(x){const y=v.map(S=>{const _=gp(S.id,n,t);return{child:S,subtreeWidth:_}}),j=y.reduce((S,{subtreeWidth:_})=>S+_,0),w=(v.length-1)*t.horizontalSpacing,N=j+w;let E=x.x-N/2;y.forEach(({child:S,subtreeWidth:_})=>{S.x=E+_/2,S.originalX=S.x,E+=_+t.horizontalSpacing})}}})}})}),w_(r,t),r}function w_(e,t){const r=t.horizontalSpacing*.4,i=new Map;e.forEach(o=>{i.set(o.id,{x:o.x,y:o.y})});for(let o=0;o<5;o++){let l=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],f=e[u],m=d.x+t.nodeWidth*.5,h=d.y+t.nodeHeight*.5,p=f.x+t.nodeWidth*.5,v=f.y+t.nodeHeight*.5,b=p-m,x=v-h,y=Math.sqrt(b*b+x*x);if(y<r&&y>0){const j=b/y*.03,w=x/y*.03;d.x-=j,d.y-=w,f.x+=j,f.y+=w,l++}}if(l===0)break}return e.forEach(o=>{const l=i.get(o.id);if(!l)return;const c=l.x-o.x,u=l.y-o.y,d=o.x+c*.02,f=o.y+u*.02,h=Math.round(l.y/t.verticalSpacing)*t.verticalSpacing,p=Math.max(f,h);o.x=d,o.y=p,o.originalX=d,o.originalY=p}),e}function Gq(e,t){const r=t.nodeHeight*.8,i=50,o=new Map;e.forEach(u=>{o.set(u.id,{x:u.x,y:u.y})});let l=0,c=1;for(;c>0&&l<i;){l++,c=0;for(let u=0;u<e.length;u++)for(let d=u+1;d<e.length;d++){const f=e[u],m=e[d],h=Math.max(0,Math.min(f.x+t.nodeWidth,m.x+t.nodeWidth)-Math.max(f.x,m.x)),p=Math.max(0,Math.min(f.y+t.nodeHeight,m.y+t.nodeHeight)-Math.max(f.y,m.y)),v=f.y+t.nodeHeight*.5,b=m.y+t.nodeHeight*.5,x=Math.abs(b-v),y=x<r;if(h>0&&p>0||y){c++;let j=0;h>0&&p>0?j=p*.08:y&&(j=(r-x)*.08),f.y<m.y?(f.y-=j,m.y+=j):(f.y+=j,m.y-=j)}}if(c===0)break}return e.forEach(u=>{const d=o.get(u.id);if(!d)return;const f=d.y-u.y,m=u.y+f*.03;u.y=m,u.originalY=m}),e}function Yq(e,t){const n=[],s=e.map(c=>{const u=Math.max(...c.map(j=>j.y)),d=c.filter(j=>Math.abs(j.y-u)<1),f=d.map(j=>j.x),m=Math.min(...f),h=Math.max(...f),p=h-m,v=f.reduce((j,w)=>j+w,0)/f.length,b=Math.min(...c.map(j=>j.x)),x=Math.max(...c.map(j=>j.x+j.width)),y=x-b;return{treeNodes:c,rootNodes:d,minRootX:m,maxRootX:h,rootWidth:p,rootCenterX:v,minX:b,maxX:x,treeWidth:y}}),r=Math.min(...s.map(c=>c.minRootX)),o=Math.max(...s.map(c=>c.maxRootX))-r;let l=0;return s.forEach(c=>{const u=o>0?c.rootWidth/o:1,d=c.minRootX-r;l-c.minX+d*u,c.treeNodes.forEach(f=>{const h=(f.x-c.minRootX)*u,p=l+h;n.push({...f,x:p,originalX:p})}),l+=c.treeWidth*u+t.horizontalSpacing}),n}function gp(e,t,n,s=new Set){if(s.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const r=t.get(e);if(!r)return n.nodeWidth;s.add(e);const i=r.children||[],o=i.map(c=>gp(c,t,n,new Set(s)));if(o.length===0)return n.nodeWidth;let l=0;return o.forEach((c,u)=>{l+=c,u<i.length-1&&(l+=n.horizontalSpacing)}),Math.max(l,n.nodeWidth)}function Xq(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const Wq={perkNode:e=>a.jsx(s_,{...e,onTogglePerk:e.data.onTogglePerk,onRankChange:e.data.onRankChange})};function Kq({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:s}){const[r,i]=P.useState(null),[o,l]=P.useState(null),[c,u]=P.useState(!1),d=P.useCallback((k,R)=>{},[]),f=g.useMemo(()=>{if(!e)return null;const k=t_(e);return k.success?k.data:(console.error("Invalid perk tree data:",k.error),null)},[e]);P.useEffect(()=>{if(!f){l(null);return}console.log("Loading saved positions for tree:",f.treeId),u(!0),n_(f.treeId).then(k=>{console.log("Loaded saved positions:",k?"Found":"Not found"),l(k)}).catch(k=>{console.warn("Failed to load saved positions:",k),l(null)}).finally(()=>{u(!1)})},[f==null?void 0:f.treeId]);const m=g.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),h=g.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),p=g.useMemo(()=>{if(!f)return[];if(console.log("Layout decision:",{hasSavedPositions:!!o,isLoadingPositions:c,treeId:f.treeId}),o&&!c){console.log("Using preset positions for tree:",f.treeId);const k=oq(f,o,h);return Array.from(k.entries()).map(([R,O])=>({id:R,x:O.x,y:O.y,width:h.nodeWidth||140,height:h.nodeHeight||80,originalX:O.x,originalY:O.y}))}else{console.log("Using fallback layout algorithm for tree:",f.treeId);const k=Xq(f);return Vq(k,m)}},[f,m,o,c,h]),v=g.useMemo(()=>!f||p.length===0?[]:f.perks.map(k=>{const R=k.edid,O=p.find(T=>T.id===R),z=O?{x:O.x,y:O.y}:{x:0,y:0},A=k.connections.children.length>0,$=k.connections.parents.length===0,M=s.find(T=>T.edid===R);return{id:R,type:"perkNode",position:z,draggable:!0,data:{...k,selected:M!==void 0,currentRank:(M==null?void 0:M.currentRank)||0,hasChildren:A,isRoot:$,onTogglePerk:t,onRankChange:n}}}),[f,p,s,t,n]),b=g.useMemo(()=>{if(!f)return[];const k=[];return f.perks.forEach(R=>{const O=R.edid;R.connections.children.length>0&&R.connections.children.forEach(z=>{if(z===O)return;f.perks.some($=>$.edid===z)&&k.push({id:`${O}-${z}`,source:O,target:z,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),k},[f]),[x,y,j]=XE(v),[w,N,E]=WE(b);P.useEffect(()=>{y(v)},[v,y]),P.useEffect(()=>{N(b)},[b,N]),P.useEffect(()=>{f&&x.length>0&&r&&setTimeout(()=>{r.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[f==null?void 0:f.treeId,r]);const S=g.useCallback(k=>N(R=>I0(k,R)),[N]),_=g.useCallback(k=>{k.stopPropagation()},[]),C=g.useCallback(k=>{k.stopPropagation()},[]);return f?a.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},onMouseDown:k=>k.stopPropagation(),onTouchStart:k=>k.stopPropagation(),children:[a.jsx("div",{className:"absolute top-2 left-2 z-10 flex flex-col gap-1",children:a.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:c?"Loading Positions...":o?"Positioned Tree":"Algorithm v2"})}),a.jsxs(Z0,{nodes:x,edges:w,onNodesChange:j,onEdgesChange:E,onConnect:S,onInit:i,nodeTypes:Wq,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:d,onMouseDown:_,onTouchStart:C,panOnDrag:!0,panOnScroll:!1,preventScrolling:!0,children:[a.jsx(e_,{}),a.jsx(QE,{})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:a.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function j_({open:e,onOpenChange:t,selectedSkill:n,skillName:s,perkTree:r,skills:i,onSkillSelect:o,onReset:l}){var w,N;console.log("SkillPerkTreeDrawer props:",{open:e,selectedSkill:n,skillName:s,perkTree:r?"Found":"Not found",skillsCount:i.length});const{selectedPerks:c,perkRanks:u,handlePerkSelect:d,handlePerkRankChange:f,handleResetPerks:m}=K0(n),h=P.useMemo(()=>r?r.perks.filter(E=>c.includes(E.edid)).map(E=>({...E,selected:!0,currentRank:u[E.edid]||1})):[],[r,c,u]),p=P.useCallback(E=>{d(E)},[d]),v=P.useCallback((E,S)=>{f(E,S)},[f]),b=()=>{m(),l()},x=()=>{t(!1)},y=[{id:"skills",name:"Skills",placeholder:"Search skills...",options:i.map(E=>({id:E.id,label:E.name,value:E.id,category:"Skills",description:`${E.selectedPerks}/${E.totalPerks} perks selected`}))}],j=E=>{o(E.value)};return n?a.jsxs(h_,{open:e,onOpenChange:t,shouldScaleBackground:!1,dismissible:!0,children:[console.log("Drawer render - open:",e),a.jsxs(g_,{children:[a.jsx(X0,{}),a.jsxs(Y0,{className:"fixed inset-x-0 bottom-0 z-50 mt-24 flex flex-col rounded-t-[10px] border bg-background h-[85vh] bg-card border-t shadow-lg !bg-card","data-vaul-no-drag":!0,style:{backgroundColor:"hsl(var(--card))",zIndex:Lt.DRAWER},children:[console.log("Drawer content render - zIndex:",Lt.DRAWER),a.jsx(p_,{className:"border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-64",children:a.jsx(Ga,{categories:y,onSelect:j,placeholder:"Search skills..."})}),a.jsxs("div",{className:"flex items-center gap-3",children:[s&&a.jsx(km,{skillName:s,size:"lg",className:"flex-shrink-0"}),a.jsxs("div",{children:[a.jsx(v_,{className:"text-xl",children:s||(r==null?void 0:r.treeName)||"Skill Perks"}),a.jsxs(y_,{className:"flex items-center gap-2",children:[a.jsxs("span",{children:[c.length," perks selected"]}),((w=i.find(E=>E.id===n))==null?void 0:w.level)&&a.jsxs("span",{className:"text-blue-600 font-medium",children:["• Min: Level"," ",(N=i.find(E=>E.id===n))==null?void 0:N.level]})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:b,className:"flex items-center gap-2",children:[a.jsx(yr,{className:"h-4 w-4"}),"Reset Perks"]}),a.jsx(q,{variant:"outline",size:"sm",onClick:x,className:"flex items-center gap-2",children:a.jsx(_t,{className:"h-4 w-4"})})]})]})}),a.jsx("div",{className:"flex-1 overflow-hidden",style:{height:"400px"},children:a.jsx("div",{className:"h-full w-full bg-muted/20 rounded",children:r?a.jsx(Kq,{tree:r,onTogglePerk:p,onRankChange:v,selectedPerks:h}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("p",{className:"text-muted-foreground",children:n?"Loading perk tree...":"No skill selected"})})})}),a.jsx(x_,{className:"border-t",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on perk nodes to select/deselect them"}),a.jsx(q,{variant:"outline",onClick:x,children:"Close"})]})})]})]})]}):null}function Qq({skills:e,loading:t,error:n,searchQuery:s,onSearchChange:r,selectedCategory:i,onCategorySelect:o,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:v}){var j;const[b,x]=g.useState(!1);if(t)return a.jsx(YI,{});if(n)return a.jsx(XI,{error:n});const y=e.map(w=>({id:w.id,name:w.name,category:w.category,description:w.description,keyAbilities:w.keyAbilities||[],metaTags:w.metaTags||[],assignmentType:w.assignmentType,canAssignMajor:w.canAssignMajor,canAssignMinor:w.canAssignMinor,level:w.level,totalPerks:w.totalPerks,selectedPerksCount:w.selectedPerksCount,selectedPerks:w.selectedPerks||[],isSelected:w.isSelected||!1,isMajor:w.assignmentType==="major",isMinor:w.assignmentType==="minor"}));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Available Skills"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," skills found"]})]}),a.jsx(KI,{skills:e,onSkillSelect:w=>{console.log("Skill selected:",w),console.log("Setting perkTreeOpen to true"),u(w),x(!0)},onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,selectedSkillId:c||void 0})]}),a.jsx(j_,{open:b,onOpenChange:x,selectedSkill:c,skillName:c?(j=e.find(w=>w.id===c))==null?void 0:j.name:void 0,perkTree:p||void 0,skills:y,onSkillSelect:u,onReset:h}),a.jsxs("div",{className:"p-6 bg-muted/50 rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"How to Assign Skills"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Major Skills (0-3)"}),a.jsx("p",{children:"Your primary skills that level up faster and start at a higher level."})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Minor Skills (0-6)"}),a.jsx("p",{children:"Secondary skills that provide additional benefits and customization."})]})]})]})]})}function N_({className:e}){var k;const{selectedMajorSkills:t,selectedMinorSkills:n,availableSkills:s,handleMajorSkillSelect:r,handleMinorSkillSelect:i,handleMajorSkillRemove:o,handleMinorSkillRemove:l}=Hq(),{build:c,getSkillLevel:u,getSkillPerks:d}=ht(),{skills:f}=W0(),m=lt(),[h,p]=g.useState(null),[v,b]=g.useState(!1),x=()=>{m("/skills")},y=R=>{console.log("Opening perk tree for skill:",R),p(R),b(!0)},j=R=>{p(R.edid),b(!0)},w=g.useMemo(()=>{const R=t.map(A=>A.id),O=n.map(A=>A.id),z=[...R,...O];return f.filter(A=>d(A.id).length>0&&!z.includes(A.id))},[f,t,n,d]),N=g.useMemo(()=>{const R=t.map($=>$.id),O=n.map($=>$.id),z=[...R,...O],A=w.map($=>$.id);return f.filter($=>!z.includes($.id)&&!A.includes($.id)).map($=>({name:$.name,edid:$.id,category:$.category,description:$.description,scaling:"",keyAbilities:$.keyAbilities||[],metaTags:$.metaTags||[]}))},[f,t,n,w]),E=R=>({name:R.name,edid:R.id,category:R.category,description:R.description,scaling:R.scaling||"",keyAbilities:R.keyAbilities||[],metaTags:R.metaTags||[]}),S=f.map(R=>{d(R.id);const O=u(R.id),z=c.skills.major.includes(R.id),A=c.skills.minor.includes(R.id),$=!z&&c.skills.major.length<3,M=!A&&c.skills.minor.length<6;return{...R,isMajor:z,isMinor:A,canAssignMajor:$,canAssignMinor:M,level:O}}),{selectedPerkTree:_}=K0(h),C=(R,O)=>{const z=u(R.id||R.edid),A=d(R.id||R.edid),$=R.totalPerks||0,M=R.id||R.edid;let L="cursor-pointer transition-all hover:shadow-md ",T="text-xs ";switch(O){case"major":L+="bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",T+="bg-yellow-100 text-yellow-800 border-yellow-300";break;case"minor":L+="bg-gray-50/50 border-gray-300 shadow-gray-300/20",T+="bg-gray-100 text-gray-800 border-gray-300";break;case"perked":L+="bg-blue-50/50 border-blue-500 shadow-blue-500/20",T+="bg-blue-100 text-blue-800 border-blue-300";break}return a.jsx(ve,{className:L,onClick:()=>y(M),children:a.jsx(be,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(km,{skillName:R.name,size:"2xl",className:"flex-shrink-0"}),a.jsx("h5",{className:"font-medium text-sm text-foreground",children:R.name}),a.jsx(Yc,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(De,{text:R.description,className:"text-xs text-muted-foreground line-clamp-2 mb-3",as:"p"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(kC,{level:z,size:"sm"}),a.jsxs(W,{variant:"outline",className:T,children:[A.length,"/",$," perks"]}),O==="major"&&a.jsx(W,{variant:"outline",className:"text-xs bg-yellow-100 text-yellow-800 border-yellow-300",children:"Major"}),O==="minor"&&a.jsx(W,{variant:"outline",className:"text-xs bg-gray-100 text-gray-800 border-gray-300",children:"Minor"}),O==="perked"&&a.jsx(W,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800 border-blue-300",children:"Perked"}),O==="assigned"&&a.jsx(W,{variant:"outline",className:"text-xs bg-orange-100 text-orange-800 border-orange-300",children:"Assigned"})]})]}),(O==="major"||O==="minor")&&a.jsx(q,{size:"sm",variant:"ghost",onClick:D=>{D.stopPropagation(),O==="major"?o(M):l(M)},className:`${O==="major"?"text-yellow-600 hover:text-yellow-700 hover:bg-yellow-100":"text-gray-600 hover:text-gray-700 hover:bg-gray-100"}`,children:a.jsx(_t,{className:"h-4 w-4"})})]})})},M)};return a.jsxs(a.Fragment,{children:[a.jsxs(qn,{title:"Skills & Perks",navigateTo:"skills",onNavigate:x,className:e,children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Major Skills"}),t.length<3&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(W,{variant:"outline",className:"text-xs",children:[t.length,"/3"]})}),a.jsx(zh,{skills:s.map(E),onSelect:R=>{const O=s.find(z=>z.id===R.edid);O&&r(O)},placeholder:"Select major skill...",className:"w-full"})]}),t.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:t.map(R=>C(R,"major"))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Minor Skills"}),n.length<6&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(W,{variant:"outline",className:"text-xs",children:[n.length,"/6"]})}),a.jsx(zh,{skills:s.map(E),onSelect:R=>{const O=s.find(z=>z.id===R.edid);O&&i(O)},placeholder:"Select minor skill...",className:"w-full"})]}),n.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:n.map(R=>C(R,"minor"))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Other Perked Skills"}),a.jsx("div",{className:"space-y-2",children:a.jsx(zh,{skills:N,onSelect:j,placeholder:"Select skill to add perks...",className:"w-full"})}),w.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:w.map(R=>C(R,"perked"))})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on any skill card to view and manage its perk tree. Skill levels show the minimum level required based on your perk selections."})})]}),a.jsx(j_,{open:v,onOpenChange:b,selectedSkill:h,skillName:h?(k=f.find(R=>R.id===h))==null?void 0:k.name:void 0,perkTree:_||void 0,skills:S,onSkillSelect:p,onReset:()=>{}})]})}function hw({item:e,className:t,allTraitIds:n,disableHover:s=!1}){e.originalTrait;const{hasRegularTrait:r,hasBonusTrait:i,addRegularTrait:o,addBonusTrait:l,removeTrait:c,canAddRegularTrait:u,canAddBonusTrait:d,build:f}=ht(),h=r(e.id)?"primary":i(e.id)?"secondary":"none",p=y=>{h===y?c(e.id):(c(e.id),y==="primary"&&u()?o(e.id):y==="secondary"&&d()&&l(e.id))},v=!u()&&h!=="primary",b=!d()&&h!=="secondary",x=()=>h==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":h==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return g.useEffect(()=>{var y,j;if(n){const w=((y=f==null?void 0:f.traits)==null?void 0:y.regular)||[],N=((j=f==null?void 0:f.traits)==null?void 0:j.bonus)||[];[...w,...N].filter(_=>!n.includes(_)).forEach(_=>c(_))}},[n,f==null?void 0:f.traits,c]),a.jsxs(he,{expanded:!0,className:H(t,x()),disableHover:s,hideChevron:!0,children:[a.jsx(he.Header,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"h-4 w-4 text-black"}),a.jsx(Ne,{className:"text-primary font-semibold",children:e.name})]})}),a.jsx(he.Summary,{children:a.jsx(De,{text:e.description,className:"text-base text-muted-foreground"})}),a.jsx(he.Footer,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(q,{size:"sm",variant:h==="primary"?"default":"outline",disabled:v,className:H("flex-1 text-xs",h==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:y=>{y.stopPropagation(),p("primary")},children:h==="primary"?"Remove Trait":"Starting Trait"}),a.jsx(q,{size:"sm",variant:h==="secondary"?"default":"outline",disabled:b,className:H("flex-1 text-xs",h==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:y=>{y.stopPropagation(),p("secondary")},children:h==="secondary"?"Remove Trait":"Late Game Trait"})]})})]})}function S_(e,t){const n=g.useMemo(()=>e.map(l=>{var c;return{id:l.id||l.name,name:l.name,description:l.description||"",category:l.category||"",effects:((c=l.effects)==null?void 0:c.map(u=>`${u.type} ${u.description||""} ${u.value}`))||[],tags:l.tags||[],originalTrait:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Qt(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredTraits:g.useMemo(()=>i.map(l=>l.item.originalTrait),[i]),searchResults:i,searchableTraits:n}}function Bh({traits:e,onSelect:t,placeholder:n="Search traits...",className:s="",disabled:r=!1}){const[i,o]=g.useState(""),{filteredTraits:l}=S_(e,i),c=g.useMemo(()=>l.map(f=>({id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&a.jsx(W,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalTrait:f,effectsCount:f.effects.length}})),[l]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h;return a.jsx("div",{className:"flex items-start gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.label}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&a.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.effectsCount)&&f.metadata.effectsCount>0&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.effectsCount," effect",f.metadata.effectsCount!==1?"s":""]})]}),f.description&&a.jsx(De,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})};return a.jsx(au,{options:c,onSelect:u,placeholder:n,className:s,disabled:r,renderOption:d,emptyMessage:"No traits found",searchQuery:i,onSearchQueryChange:o})}function k_(e){const t=e.map(n=>n.category).filter(Boolean);return[...new Set(t)].sort()}function Jq(e){const t=e.flatMap(n=>{var s;return((s=n.effects)==null?void 0:s.map(r=>r.type))||[]});return[...new Set(t)].sort()}function C_(e){const t=e.flatMap(n=>n.tags||[]);return[...new Set(t)].sort()}function eZ(){const[e,t]=g.useState({search:"",category:"",tags:[]}),{data:n,loading:s,error:r}=Ci(),i=g.useMemo(()=>n.filter(u=>{var d;if(e.search){const f=e.search.toLowerCase();if(![u.name,u.description,u.category,...u.tags||[],...((d=u.effects)==null?void 0:d.map(h=>h.type))||[]].join(" ").toLowerCase().includes(f))return!1}return!(e.category&&u.category!==e.category||e.tags.length>0&&!e.tags.some(m=>{var h,p;return((h=u.tags)==null?void 0:h.includes(m))||u.category===m||((p=u.effects)==null?void 0:p.some(v=>v.type===m))}))}),[n,e]),o=g.useMemo(()=>k_(n),[n]),l=g.useMemo(()=>Jq(n),[n]),c=g.useMemo(()=>C_(n),[n]);return{traits:i,allTraits:n,loading:s,error:r,filters:e,setFilters:t,allCategories:o,allEffectTypes:l,allTags:c}}function E_({className:e}){const{allTraits:t}=eZ(),{build:n,addTraitToSlot:s,removeTrait:r,getRegularTraitLimit:i,getBonusTraitLimit:o}=ht(),l=lt();i(),o();const c=n.traits.regular.map(p=>t.find(v=>v.edid===p)).filter(Boolean),u=n.traits.bonus.map(p=>t.find(v=>v.edid===p)).filter(Boolean),d=(p,v)=>{s(p.edid,v)},f=p=>{r(p)},m=()=>{l("/traits")},h=t.filter(p=>!n.traits.regular.includes(p.edid)&&!n.traits.bonus.includes(p.edid));return a.jsx(qn,{title:"Traits",navigateTo:"traits",onNavigate:m,className:e,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{variant:"outline",className:"text-xs",children:"Slot 1"}),c[0]&&a.jsx(W,{variant:"default",className:"text-xs",children:"Starting"})]}),c[0]?a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:c[0].name}),a.jsx(De,{text:c[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),a.jsx(q,{variant:"ghost",size:"sm",onClick:()=>f(c[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:a.jsx(_t,{className:"h-3 w-3"})})]}):a.jsx(Bh,{traits:h,onSelect:p=>d(p,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{variant:"outline",className:"text-xs",children:"Slot 2"}),c[1]&&a.jsx(W,{variant:"default",className:"text-xs",children:"Starting"})]}),c[1]?a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:c[1].name}),a.jsx(De,{text:c[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),a.jsx(q,{variant:"ghost",size:"sm",onClick:()=>f(c[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:a.jsx(_t,{className:"h-3 w-3"})})]}):a.jsx(Bh,{traits:h,onSelect:p=>d(p,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&a.jsx(W,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm",children:u[0].name}),a.jsx(De,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),a.jsx(q,{variant:"ghost",size:"sm",onClick:()=>f(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:a.jsx(_t,{className:"h-3 w-3"})})]}):a.jsx(Bh,{traits:h,onSelect:p=>d(p,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}const tZ=()=>{const{build:e,resetBuild:t,getSummary:n,setBuildName:s,setBuildNotes:r}=ht(),i=lt(),o=n(),[l,c]=g.useState(!1),u=()=>{navigator.clipboard.writeText(window.location.href)},d=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},f=()=>{c(!1),i("/build")},m=h=>{c(!1),i(`/build#${h}`),setTimeout(()=>{const p=document.getElementById(h);p==null||p.scrollIntoView({behavior:"smooth",block:"start"})},100)};return a.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:Lt.MODAL+1},children:a.jsxs(Po,{open:l,onOpenChange:c,children:[a.jsx(eS,{asChild:!0,children:a.jsx(q,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${l?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:a.jsx(Hd,{className:"h-5 w-5"})})}),a.jsx(li,{side:"right",className:"w-[450px] sm:w-[800px] lg:w-[800px] sm:!max-w-[800px] lg:!max-w-[800px] p-0",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs(Oo,{className:"p-6 pb-4 border-b",children:[a.jsxs(Bo,{className:"flex items-center gap-2",children:[a.jsx(Hd,{className:"h-5 w-5"}),o.name||"Character Build"]}),a.jsx(Fx,{children:"Quick reference and editing for your character build"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsx(sS,{name:e.name,notes:e.notes,onNameChange:s,onNotesChange:r,className:"mb-0"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(vC,{}),a.jsx(tC,{}),a.jsx(E_,{}),a.jsx(SC,{})]}),a.jsx(lS,{showControls:!0,showSummary:!0,compact:!1}),a.jsx(N_,{}),a.jsx(fC,{navigate:i}),a.jsx(a$,{build:e})]}),a.jsxs("div",{className:"p-6 pt-4 border-t bg-muted/50",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(q,{onClick:f,className:"flex-1",children:[a.jsx(Ca,{className:"w-4 h-4 mr-2"}),"Full Build Page"]}),a.jsxs(q,{variant:"outline",onClick:u,children:[a.jsx(m4,{className:"w-4 h-4 mr-2"}),"Share"]}),a.jsxs(q,{variant:"destructive",onClick:d,children:[a.jsx(r3,{className:"w-4 h-4 mr-2"}),"Reset"]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Quick Navigation:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[!e.race&&a.jsx(q,{variant:"outline",size:"sm",onClick:()=>m("race"),children:"Race"}),!e.stone&&a.jsx(q,{variant:"outline",size:"sm",onClick:()=>m("birthsign"),children:"Birthsign"}),e.traits.regular.length===0&&e.traits.bonus.length===0&&a.jsx(q,{variant:"outline",size:"sm",onClick:()=>m("traits"),children:"Traits"}),!e.religion&&a.jsx(q,{variant:"outline",size:"sm",onClick:()=>m("religion"),children:"Religion"}),e.skills.major.length===0&&e.skills.minor.length===0&&a.jsx(q,{variant:"outline",size:"sm",onClick:()=>m("skills"),children:"Skills"}),e.destinyPath.length===0&&a.jsx(q,{variant:"outline",size:"sm",onClick:()=>m("destiny"),children:"Destiny"})]})]})]})]})})]})})},gw=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),pw=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},nZ=()=>{const e=Xr(s=>s.build),t=Xr(s=>s.setBuild),n=g.useRef(!1);g.useEffect(()=>{if(n.current)return;const s=window.location.hash,[r,i]=s.split("?"),l=new URLSearchParams(i||"").get("b");if(console.log("URL Sync - Hydrating from URL:",{hash:s,encodedBuild:l}),l){const c=pw(l);console.log("URL Sync - Decoded build:",c),(c==null?void 0:c.v)===1?(console.log("URL Sync - Setting build from URL"),t(c)):console.warn("Invalid or outdated build schema in URL")}else console.log("URL Sync - No build parameter found in URL");n.current=!0},[t]),g.useEffect(()=>{const s={v:1,name:"Test",perks:{selected:{archery:["archery_01"]},ranks:{archery_01:1}}},r=gw(s),i=pw(r);console.log("URL Sync - Test encoding/decoding:",{testBuild:s,encoded:r,decoded:i,matches:JSON.stringify(s)===JSON.stringify(i)})},[]),g.useEffect(()=>{if(!n.current)return;console.log("URL Sync - Build state changed:",e);const s=gw(e),r=window.location.hash,[i,o]=r.split("?"),l=new URLSearchParams(o||"");l.set("b",s);const c=`${i}?${l.toString()}`;console.log("URL Sync - Updating URL:",c),window.history.replaceState(null,"",c)},[e.v,e.name,e.race,e.stone,e.religion,e.traits,e.skills,e.perks,e.equipment,e.destinyPath])},__=g.forwardRef(({className:e,collapsed:t,...n},s)=>a.jsx("aside",{ref:s,"data-collapsed":t?"":void 0,className:H("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300 ease-in-out",t?"w-0 overflow-hidden opacity-0":"w-64 opacity-100",e),...n}));__.displayName="Sidebar";const A_=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:H("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));A_.displayName="SidebarContent";const T_=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:H("mb-2",e),...t}));T_.displayName="SidebarGroup";const M_=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:H("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));M_.displayName="SidebarHeader";const R_=g.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,className:H("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));R_.displayName="SidebarMenu";const D_=g.forwardRef(({className:e,asChild:t,isActive:n,...s},r)=>{const i=t?"span":"button";return a.jsx(i,{ref:r,"data-active":n?"":void 0,className:H("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...s})});D_.displayName="SidebarMenuButton";const z_=g.forwardRef(({className:e,...t},n)=>a.jsx("li",{ref:n,className:H("relative flex items-stretch",e),...t}));z_.displayName="SidebarMenuItem";const L_=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:e,...t}));L_.displayName="SidebarRail";function sZ(e={}){const{autoLoad:t=!0,refreshOnMount:n=!1}=e,{data:s,loading:r,error:i,load:o}=ar(),l=g.useCallback(async()=>{t&&s.length===0&&await o()},[t,s.length,o]),c=g.useCallback(async()=>{await o()},[o]),u=g.useCallback(()=>{},[]);g.useEffect(()=>{t&&s.length===0&&l()},[t,s.length,l]),g.useEffect(()=>{n&&c()},[n,c]);const d=s.length,f=[...new Set(s.map(N=>N.category).filter(Boolean))],m=[...new Set(s.flatMap(N=>N.effects.map(E=>E.name)))],h=[...new Set(s.flatMap(N=>N.ingredients))],p=new Date().toISOString(),v=s.length>0?{recipes:s,totalCount:d,categories:f,effects:m,ingredients:h,lastUpdated:p}:null,b=g.useCallback(N=>ar.getState().getByName(N),[]),x=g.useCallback(N=>ar.getState().getByCategory(N),[]),y=g.useCallback(N=>ar.getState().getByDifficulty(N),[]),j=g.useCallback(N=>ar.getState().getByIngredient(N),[]),w=g.useCallback(N=>ar.getState().getByEffect(N),[]);return{recipes:s,recipeData:v,loading:r,error:i,totalCount:d,categories:f,effects:m,ingredients:h,lastUpdated:p,loadRecipes:l,refresh:c,clearError:u,getRecipeByName:b,getRecipesByCategory:x,getRecipesByDifficulty:y,getRecipesByIngredient:j,getRecipesByEffect:w}}function rZ(e,t={}){const{initialFilters:n={},enableSearch:s=!0,enableSorting:r=!0}=t,i=Array.isArray(e)?e:[],[o,l]=g.useState({categories:[],effects:[],ingredients:[],difficulties:[],searchTerm:"",hasEffects:null,isComplex:null,minIngredientCount:null,maxIngredientCount:null,minMagnitude:null,maxMagnitude:null,...n}),[c,u]=g.useState([]),[d,f]=g.useState("name"),[m,h]=g.useState("asc"),p=g.useCallback(T=>{c.some(D=>D.value===T.value&&D.category===T.category)||u(D=>[...D,T])},[c]),v=g.useCallback(T=>{u(D=>D.filter(B=>B.id!==T))},[]),b=g.useCallback(()=>{u([])},[]),x=g.useCallback(T=>{l(D=>({...D,searchTerm:T}))},[]),y=g.useCallback(T=>{l(D=>({...D,categories:T}))},[]),j=g.useCallback(T=>{l(D=>({...D,effects:T}))},[]),w=g.useCallback(T=>{l(D=>({...D,ingredients:T}))},[]),N=g.useCallback(T=>{l(D=>({...D,difficulties:T}))},[]),E=g.useCallback(T=>{l(D=>({...D,hasEffects:T}))},[]),S=g.useCallback(T=>{l(D=>({...D,isComplex:T}))},[]),_=g.useCallback((T,D)=>{l(B=>({...B,minIngredientCount:T,maxIngredientCount:D}))},[]),C=g.useCallback((T,D)=>{l(B=>({...B,minMagnitude:T,maxMagnitude:D}))},[]),k=g.useCallback(()=>{l({categories:[],effects:[],ingredients:[],difficulties:[],searchTerm:"",hasEffects:null,isComplex:null,minIngredientCount:null,maxIngredientCount:null,minMagnitude:null,maxMagnitude:null}),u([])},[]),R=g.useCallback(()=>{l(T=>({...T,searchTerm:""}))},[]),O=g.useCallback(T=>{h(T)},[]),z=g.useCallback(()=>{h(T=>T==="asc"?"desc":"asc")},[]),A=g.useMemo(()=>{let T=Xe.applyFilters(i,o);if(c.length>0){const D=c.reduce((B,F)=>{switch(F.category){case"categories":B.categories.push(F.value);break;case"effects":B.effects.push(F.value);break;case"ingredients":B.ingredients.push(F.value);break;case"difficulties":B.difficulties.push(F.value);break}return B},{categories:[],effects:[],ingredients:[],difficulties:[]});D.categories.length>0&&(T=Xe.filterByCategories(T,D.categories)),D.effects.length>0&&(T=Xe.filterByEffects(T,D.effects)),D.ingredients.length>0&&(T=Xe.filterByIngredients(T,D.ingredients)),D.difficulties.length>0&&(T=Xe.filterByDifficulties(T,D.difficulties))}return r&&(T=Xe.sort(T,d,m)),T},[i,o,c,r,d,m]),$=g.useMemo(()=>!s||!o.searchTerm.trim()?[]:Xe.search(i,o.searchTerm),[i,o.searchTerm,s]),M=g.useMemo(()=>o.searchTerm.trim()!==""||o.categories.length>0||o.effects.length>0||o.ingredients.length>0||o.difficulties.length>0||o.hasEffects!==null||o.isComplex!==null||o.minIngredientCount!==null||o.maxIngredientCount!==null||o.minMagnitude!==null||o.maxMagnitude!==null||c.length>0,[o,c]),L=g.useMemo(()=>{let T=0;return o.searchTerm.trim()&&T++,o.categories.length>0&&(T+=o.categories.length),o.effects.length>0&&(T+=o.effects.length),o.ingredients.length>0&&(T+=o.ingredients.length),o.difficulties.length>0&&(T+=o.difficulties.length),o.hasEffects!==null&&T++,o.isComplex!==null&&T++,(o.minIngredientCount!==null||o.maxIngredientCount!==null)&&T++,(o.minMagnitude!==null||o.maxMagnitude!==null)&&T++,T+=c.length,T},[o,c]);return{filters:o,searchTerm:o.searchTerm,selectedTags:c,setSelectedTags:u,addTagFilter:p,removeTagFilter:v,clearAllTags:b,filteredRecipes:A,searchResults:$,hasActiveFilters:M,filterCount:L,setSearchTerm:x,setCategories:y,setEffects:j,setIngredients:w,setDifficulties:N,setHasEffects:E,setIsComplex:S,setIngredientCountRange:_,setMagnitudeRange:C,clearFilters:k,clearSearch:R,sortBy:d,sortOrder:m,setSortBy:f,setSortOrder:O,toggleSortOrder:z}}function aZ(e,t={}){const{enableStatistics:n=!0,enableGrouping:s=!0}=t,r=Array.isArray(e)?e:[],i=g.useMemo(()=>n?Xe.getStatistics(r):{totalRecipes:0,recipesByCategory:{},recipesByDifficulty:{},recipesByEffect:{},averageIngredientCount:0,averageEffectCount:0,mostCommonIngredients:[],mostCommonEffects:[]},[r,n]),o=g.useMemo(()=>{if(!s)return{};const j={};return r.forEach(w=>{const N=w.category||"Uncategorized";j[N]||(j[N]=[]),j[N].push(w)}),j},[r,s]),l=g.useMemo(()=>{if(!s)return{};const j={};return r.forEach(w=>{const N=w.difficulty;j[N]||(j[N]=[]),j[N].push(w)}),j},[r,s]),c=g.useMemo(()=>{if(!s)return{};const j={};return r.forEach(w=>{w.effects.forEach(N=>{j[N.name]||(j[N.name]=[]),j[N.name].push(w)})}),j},[r,s]),u=g.useMemo(()=>{if(!s)return{};const j={};return r.forEach(w=>{w.ingredients.forEach(N=>{j[N]||(j[N]=[]),j[N].push(w)})}),j},[r,s]),d=g.useMemo(()=>Xe.getUniqueCategories(r),[r]),f=g.useMemo(()=>Xe.getUniqueDifficulties(r),[r]),m=g.useMemo(()=>Xe.getUniqueEffects(r),[r]),h=g.useMemo(()=>Xe.getUniqueIngredients(r),[r]),p=g.useMemo(()=>[{name:"Recipe Categories",options:d},{name:"Effects",options:m},{name:"Ingredients",options:h},{name:"Difficulty",options:f}],[d,m,h,f]),v=g.useMemo(()=>(j,w)=>{const N=j.ingredientCount-w.ingredientCount,E=j.effectCount-w.effectCount,S=j.totalMagnitude-w.totalMagnitude,_=j.maxDuration-w.maxDuration,C=new Set(j.ingredients),k=new Set(w.ingredients),R=[...C].filter(D=>k.has(D)),O=[...C].filter(D=>!k.has(D)),z=[...k].filter(D=>!C.has(D)),A=new Set(j.effects.map(D=>D.name)),$=new Set(w.effects.map(D=>D.name)),M=[...A].filter(D=>$.has(D)),L=[...A].filter(D=>!$.has(D)),T=[...$].filter(D=>!A.has(D));return{recipe1:j,recipe2:w,differences:{ingredientCount:{difference:N,percentage:w.ingredientCount>0?N/w.ingredientCount*100:0},effectCount:{difference:E,percentage:w.effectCount>0?E/w.effectCount*100:0},magnitude:{difference:S,percentage:w.totalMagnitude>0?S/w.totalMagnitude*100:0},duration:{difference:_,percentage:w.maxDuration>0?_/w.maxDuration*100:0},ingredients:{added:O,removed:z,common:R},effects:{added:L,removed:T,common:M}}}},[]),b=g.useMemo(()=>j=>{if(j.ingredientCount===0)return 0;const w=j.totalMagnitude*j.maxDuration,N=j.ingredientCount;return w/N},[]),x=g.useMemo(()=>j=>{let w=0;switch(w+=j.ingredientCount*.3,w+=j.effectCount*.4,w+=j.effects.reduce((N,E)=>N+E.magnitude*E.duration*.1,0),j.difficulty){case"Simple":w+=1;break;case"Moderate":w+=2;break;case"Complex":w+=3;break}return Math.round(w*10)/10},[]),y=g.useMemo(()=>j=>Xe.getEffectComparisons(j,r),[r]);return{statistics:i,recipesByCategory:o,recipesByDifficulty:l,recipesByEffect:c,recipesByIngredient:u,availableCategories:d,availableDifficulties:f,availableEffects:m,availableIngredients:h,searchCategories:p,compareRecipes:v,getRecipeEfficiency:b,getRecipeComplexity:x,getEffectComparisons:y}}function Q0({recipe:e,variant:t="default",onClick:n,isSelected:s=!1,showEffects:r=!0,showIngredients:i=!0,effectComparisons:o=[]}){const l=()=>{n==null||n()},c=b=>typeof b=="string"?b:b&&typeof b=="object"?b.item?b.item:b.name?b.name:b.label?b.label:b.id?b.id:"Unknown Ingredient":String(b||""),u=b=>typeof b=="string"?b:typeof b=="number"?b.toString():b&&typeof b=="object"?b.name?b.name:b.label?b.label:b.id?b.id:b.item?b.item:b.category?b.category:c(b):String(b||""),d=b=>a.jsx(oa,{className:"h-4 w-4 text-green-500"}),f=b=>{if(typeof b=="string")return{name:b,count:1};if(b&&typeof b=="object"){const x=c(b),y=b.count||b.amount||1;return{name:x,count:y}}return{name:String(b||""),count:1}},m=b=>u(b.description||""),h=()=>a.jsxs(ve,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:l,children:[a.jsx(Re,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium truncate",children:u(e.name)}),a.jsx("div",{className:"flex gap-1",children:e.category&&a.jsx(W,{variant:"secondary",className:"text-xs",children:u(e.category)})})]})}),a.jsx(be,{className:"pt-0",children:a.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.ingredientCount," ingredients • ",e.effectCount," effects"]})})]}),p=()=>a.jsxs(ve,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:l,children:[a.jsx(Re,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium truncate",children:u(e.name)}),e.description&&a.jsx(De,{text:u(e.description),className:"text-sm text-muted-foreground mt-1 line-clamp-2",as:"p"})]}),a.jsx("div",{className:"flex flex-col gap-1 ml-2",children:e.category&&a.jsx(W,{variant:"secondary",className:"text-xs",children:u(e.category)})})]})}),a.jsx(be,{className:"pt-0",children:a.jsxs("div",{className:"space-y-2",children:[i&&e.ingredients.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:["Ingredients (",e.ingredientCount,")"]}),a.jsx("div",{className:"space-y-1",children:e.ingredients.map((b,x)=>{const{name:y,count:j}=f(b);return a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:y}),a.jsxs("span",{className:"font-medium",children:["×",j]})]},x)})})]}),r&&e.effects.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:["Effects (",e.effectCount,")"]}),a.jsx("div",{className:"space-y-2",children:e.effects.map((b,x)=>a.jsx("div",{className:"p-2 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[d(),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-xs mb-1",children:u(b.name)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:a.jsx(De,{text:m(b),className:"text-xs text-muted-foreground"})})]})]})},x))})]}),!1]})})]}),v=()=>a.jsxs(ve,{className:`cursor-pointer transition-all hover:shadow-md ${s?"ring-2 ring-primary":""}`,onClick:l,children:[a.jsx(Re,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium",children:u(e.name)}),e.description&&a.jsx(De,{text:u(e.description),className:"text-sm text-muted-foreground mt-1",as:"p"})]}),a.jsxs("div",{className:"flex flex-col gap-1 ml-2",children:[e.category&&a.jsx(W,{variant:"secondary",className:"text-xs",children:u(e.category)}),e.type&&a.jsx(W,{variant:"outline",className:"text-xs",children:u(e.type)})]})]})}),a.jsx(be,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[i&&e.ingredients.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:"Ingredients"}),a.jsx("div",{className:"space-y-2",children:e.ingredients.map((b,x)=>{const{name:y,count:j}=f(b);return a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:y}),a.jsxs("span",{className:"font-medium text-sm",children:["×",j]})]},x)})})]}),r&&e.effects.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium mb-3",children:"Effects"}),a.jsx("div",{className:"space-y-3",children:e.effects.map((b,x)=>a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[d(),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm mb-1",children:u(b.name)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:a.jsx(De,{text:m(b),className:"text-sm text-muted-foreground"})})]})]})},x))})]}),!1,a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[a.jsxs("span",{children:["Total Magnitude: ",e.totalMagnitude]}),a.jsxs("span",{children:["Max Duration: ",e.maxDuration,"s"]})]})]})})]});switch(t){case"compact":return h();case"detailed":return v();default:return p()}}function iZ({recipes:e,variant:t="default",columns:n=3,onRecipeClick:s,selectedRecipes:r=[],showEffects:i=!0,showIngredients:o=!0,className:l,getEffectComparisons:c}){const u=()=>{const f="grid gap-4";switch(n){case 1:return`${f} grid-cols-1`;case 2:return`${f} grid-cols-1 sm:grid-cols-2`;case 3:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`;case 4:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4`;default:return`${f} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`}},d=f=>{s==null||s(f)};return e.length===0?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No recipes found"})})}):a.jsx("div",{className:u(),children:e.map(f=>a.jsx(Q0,{recipe:f,variant:t,onClick:()=>d(f),isSelected:r.includes(f.name),showEffects:i,showIngredients:o,effectComparisons:(c==null?void 0:c(f))||[]},f.name))})}function oZ({recipes:e,variant:t="default",onRecipeClick:n,selectedRecipes:s=[],showEffects:r=!0,showIngredients:i=!0,className:o,getEffectComparisons:l}){const c=u=>{n==null||n(u)};return e.length===0?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No recipes found"})})}):a.jsx("div",{className:`space-y-3 ${o||""}`,children:e.map(u=>a.jsx(Q0,{recipe:u,variant:t,onClick:()=>c(u),isSelected:s.includes(u.name),showEffects:r,showIngredients:i,effectComparisons:(l==null?void 0:l(u))||[]},u.name))})}function lZ({currentMode:e,onModeChange:t,className:n}){return a.jsxs("div",{className:`flex border rounded-lg p-1 bg-muted ${n||""}`,children:[a.jsx(q,{variant:e==="list"?"default":"ghost",size:"sm",onClick:()=>t("list"),className:"h-8 px-3",title:"List view",children:a.jsx(Ea,{className:"h-4 w-4"})}),a.jsx(q,{variant:e==="grid"?"default":"ghost",size:"sm",onClick:()=>t("grid"),className:"h-8 px-3",title:"Grid view",children:a.jsx(wi,{className:"h-4 w-4"})})]})}function cZ({statistics:e,className:t}){const{totalRecipes:n,foodRecipes:s,alcoholRecipes:r,recipesByCategory:i,recipesByDifficulty:o,averageIngredientCount:l,averageEffectCount:c,averageMagnitude:u,averageDuration:d,topEffects:f,topIngredients:m}=e,h=[{title:"Total Recipes",value:n,icon:t4,description:"All available recipes",color:"text-blue-600"},{title:"Food Recipes",value:s,icon:g3,description:"Culinary recipes",color:"text-green-600"},{title:"Alcohol Recipes",value:r,icon:x3,description:"Beverage recipes",color:"text-purple-600"},{title:"Avg Ingredients",value:l.toFixed(1),icon:is,description:"Per recipe",color:"text-orange-600"},{title:"Avg Effects",value:c.toFixed(1),icon:Mn,description:"Per recipe",color:"text-yellow-600"},{title:"Avg Magnitude",value:u.toFixed(1),icon:Eg,description:"Effect strength",color:"text-red-600"}];return a.jsxs("div",{className:`space-y-6 ${t||""}`,children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(p=>{const v=p.icon;return a.jsxs(ve,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:p.title}),a.jsx(v,{className:`h-4 w-4 ${p.color}`})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:p.value}),a.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]},p.title)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ve,{children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"h-4 w-4"}),"Recipe Categories"]})}),a.jsx(be,{children:a.jsxs("div",{className:"space-y-2",children:[Object.entries(i).sort(([,p],[,v])=>v-p).slice(0,8).map(([p,v])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p}),a.jsx(W,{variant:"secondary",className:"text-xs",children:v})]},p)),Object.keys(i).length>8&&a.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["+",Object.keys(i).length-8," more categories"]})]})})]}),a.jsxs(ve,{children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Ka,{className:"h-4 w-4"}),"Recipe Difficulties"]})}),a.jsx(be,{children:a.jsx("div",{className:"space-y-2",children:Object.entries(o).sort(([,p],[,v])=>v-p).map(([p,v])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p}),a.jsx(W,{variant:p==="Simple"?"default":p==="Moderate"?"secondary":"destructive",className:"text-xs",children:v})]},p))})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ve,{children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"h-4 w-4"}),"Most Common Effects"]})}),a.jsx(be,{children:a.jsx("div",{className:"space-y-2",children:f.slice(0,8).map((p,v)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p.name}),a.jsxs(W,{variant:"outline",className:"text-xs",children:[p.count," recipes"]})]},p.name))})})]}),a.jsxs(ve,{children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(is,{className:"h-4 w-4"}),"Most Common Ingredients"]})}),a.jsx(be,{children:a.jsx("div",{className:"space-y-2",children:m.slice(0,8).map((p,v)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:p.name}),a.jsxs(W,{variant:"outline",className:"text-xs",children:[p.count," recipes"]})]},p.name))})})]})]})]})}function uZ({recipes:e,className:t}){const n=P.useMemo(()=>{const l=new Map;return e.forEach(c=>{c.effects.forEach(u=>{const d=u.name||"Unknown Effect",f=u.magnitude||0,m=u.duration||0;l.has(d)||l.set(d,{name:d,count:0,averageMagnitude:0,averageDuration:0,totalMagnitude:0,totalDuration:0,recipes:[]});const h=l.get(d);h.count++,h.totalMagnitude+=f,h.totalDuration+=m,h.recipes.includes(c.name)||h.recipes.push(c.name)})}),l.forEach(c=>{c.averageMagnitude=c.totalMagnitude/c.count,c.averageDuration=c.totalDuration/c.count}),Array.from(l.values()).sort((c,u)=>u.count-c.count)},[e]),s=P.useMemo(()=>{if(n.length===0)return{magnitude:0,duration:0};const l=n.reduce((u,d)=>u+d.averageMagnitude,0),c=n.reduce((u,d)=>u+d.averageDuration,0);return{magnitude:l/n.length,duration:c/n.length}},[n]),r=(l,c)=>{const d=(l-c)/c*100;return d>20?"text-green-600":d>10?"text-green-500":d<-20?"text-red-600":d<-10?"text-red-500":"text-muted-foreground"},i=(l,c)=>{const d=(l-c)/c*100;return d>10?a.jsx(Eg,{className:"h-4 w-4 text-green-500"}):d<-10?a.jsx(hy,{className:"h-4 w-4 text-red-500"}):null},o=(l,c)=>{const u=l-c,d=u/c*100,f=u>=0?"+":"";return`${f}${u.toFixed(1)} (${f}${d.toFixed(1)}%)`};return n.length===0?a.jsxs(ve,{className:t,children:[a.jsx(Re,{children:a.jsx(Pe,{className:"text-lg",children:"Food Effect Meta Analysis"})}),a.jsx(be,{children:a.jsx("p",{className:"text-muted-foreground",children:"No effects found to analyze."})})]}):a.jsxs(ve,{className:t,children:[a.jsxs(Re,{children:[a.jsx(Pe,{className:"text-lg",children:"Food Effect Meta Analysis"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Analysis of ",n.length," unique effects across ",e.length," recipes"]})]}),a.jsx(be,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:s.magnitude.toFixed(1)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Magnitude"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold",children:[s.duration.toFixed(1),"s"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Duration"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-sm",children:"Effect Analysis"}),n.slice(0,10).map(l=>a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oa,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-medium text-sm",children:l.name}),a.jsxs(W,{variant:"secondary",className:"text-xs",children:[l.count," recipes"]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Magnitude:"}),a.jsx("span",{className:"font-medium",children:l.averageMagnitude.toFixed(1)}),i(l.averageMagnitude,s.magnitude)]}),a.jsx("div",{className:H("text-xs",r(l.averageMagnitude,s.magnitude)),children:o(l.averageMagnitude,s.magnitude)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),a.jsxs("span",{className:"font-medium",children:[l.averageDuration.toFixed(1),"s"]}),i(l.averageDuration,s.duration)]}),a.jsx("div",{className:H("text-xs",r(l.averageDuration,s.duration)),children:o(l.averageDuration,s.duration)})]})]}),l.recipes.length>0&&a.jsx("div",{className:"mt-2 pt-2 border-t border-border",children:a.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["Found in: ",l.recipes.slice(0,3).join(", "),l.recipes.length>3&&` +${l.recipes.length-3} more`]})})]},l.name)),n.length>10&&a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Showing top 10 effects of ",n.length," total"]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Legend"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Eg,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{children:"Above average (+10%+)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hy,{className:"h-3 w-3 text-red-500"}),a.jsx("span",{children:"Below average (-10%+)"})]})]})]})]})})]})}function dZ(e,t){return{filteredRecipes:g.useMemo(()=>{if(!t.trim())return e;const r=t.toLowerCase().trim().split(/\s+/);return e.filter(i=>{const o=[i.name,i.output,i.description||"",...i.ingredients.map(l=>typeof l=="string"?l:l&&typeof l=="object"&&(l.name||l.label||l.id)||String(l)),...i.effects.map(l=>l.name),...i.effects.map(l=>l.description),i.category||"",i.difficulty||"",i.type||"",...i.tags].join(" ").toLowerCase();return r.every(l=>o.includes(l))})},[e,t]),searchQuery:t.trim()}}function fZ(){const{recipes:e,loading:t,error:n}=sZ(),{filteredRecipes:s}=rZ(e),{statistics:r,availableCategories:i,availableEffects:o,availableIngredients:l,getEffectComparisons:c}=aZ(e),[u,d]=g.useState("grid"),m=(()=>{try{if(!e||e.length===0)return console.warn("No recipes loaded for search categories"),[];const N=l||[],E=o||[],S=i||[];return console.log("Using pre-computed ingredients:",N.slice(0,10),`(total: ${N.length})`),[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, ingredients, effects, or description...",options:[]},{id:"ingredients",name:"Ingredients",placeholder:"Filter by ingredient...",options:N.map(_=>({id:`ingredient-${_}`,label:_,value:_,category:"Ingredients",description:`Recipes with ${_}`}))},{id:"effects",name:"Effects",placeholder:"Filter by effect...",options:E.map(_=>({id:`effect-${_}`,label:_,value:_,category:"Effects",description:`Recipes with ${_} effect`}))},{id:"categories",name:"Categories",placeholder:"Filter by category...",options:S.map(_=>({id:`category-${_}`,label:_,value:_,category:"Categories",description:`${_} recipes`}))}]}catch(N){return console.error("Error generating search categories:",N),[]}})(),[h,p]=g.useState([]),v=N=>{let E;typeof N=="string"?E={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:E={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},h.some(S=>S.value===E.value&&S.category===E.category)||p(S=>[...S,E])},b=N=>{p(E=>E.filter(S=>S.id!==N))},x=s.filter(N=>h.length===0?!0:h.every(E=>{switch(E.category){case"Fuzzy Search":return!0;case"Categories":return N.category===E.value;case"Ingredients":return N.ingredients.some(S=>typeof S=="string"?S===E.value:S&&typeof S=="object"?S.item===E.value||S.name===E.value||S.label===E.value||S.id===E.value:!1);case"Effects":return N.effects.some(S=>S.name===E.value);default:return!0}})),y=h.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredRecipes:j}=dZ(x,y),w=N=>{console.log("Recipe clicked:",N.name)};return t?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading recipes..."})]})}):n?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-2",children:"Error loading recipes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Cookbook"}),a.jsxs("p",{className:"text-muted-foreground",children:["Browse and search through ",r.totalRecipes," recipes"]})]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Aa,{categories:m,onSelect:v,onCustomSearch:v})}),a.jsx(lZ,{currentMode:u,onModeChange:d})]}),a.jsx("div",{className:"my-4",children:h.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>p([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(_t,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),h.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>b(N.id),title:"Click to remove",children:[N.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},N.id))]})}),a.jsxs(Ai,{defaultValue:"recipes",className:"w-full",children:[a.jsxs(Ti,{className:"mb-4",children:[a.jsx(Vt,{value:"recipes",children:"Recipes"}),a.jsx(Vt,{value:"statistics",children:"Statistics"}),a.jsx(Vt,{value:"meta",children:"Meta Analysis"})]}),a.jsx(Kt,{value:"recipes",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-semibold",children:["Recipes (",j.length,")"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",j.length," of ",e.length," recipes"]})]}),u==="grid"&&a.jsx(iZ,{recipes:j,variant:"default",columns:3,onRecipeClick:w,showEffects:!0,showIngredients:!0,getEffectComparisons:c}),u==="list"&&a.jsx(oZ,{recipes:j,variant:"default",onRecipeClick:w,showEffects:!0,showIngredients:!0,getEffectComparisons:c})]})}),a.jsx(Kt,{value:"statistics",children:a.jsx(cZ,{statistics:r})}),a.jsx(Kt,{value:"meta",children:a.jsx(uZ,{recipes:e})})]})]})}function mZ(){return a.jsx(Gt,{title:"Cookbook Reference",description:"Browse and search all available recipes. Find the perfect dish for your character's needs.",children:a.jsx(fZ,{})})}function hZ({path:e,className:t=""}){return e.length===0?a.jsxs("div",{className:`space-y-2 ${t}`,children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Selected Path"}),a.jsx("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:a.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})})]}):a.jsxs("div",{className:`space-y-2 ${t}`,children:[a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Selected Path (",e.length," nodes)"]}),a.jsx("div",{className:"space-y-2",children:e.map((n,s)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium",children:s+1}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:n.name}),n.description&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:n.description})]})]}),a.jsx(W,{variant:"secondary",className:s===e.length-1?"bg-yellow-600 text-yellow-50":"bg-blue-500",children:s===e.length-1?"Current":"Selected"})]},n.id))})]})}function gZ({stepIndex:e,totalSteps:t,title:n,onBack:s,onOverview:r,onClear:i,canBack:o}){const l=t>0?`${e+1} of ${t}`:"Start";return a.jsx("header",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:o&&a.jsxs(q,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:[a.jsx(wx,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Go back"})]})}),a.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-foreground truncate max-w-[200px]",children:n}),a.jsx("div",{className:"text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(q,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",children:[a.jsx(BN,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Path overview"})]}),a.jsxs(Di,{children:[a.jsx(zi,{asChild:!0,children:a.jsxs(q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[a.jsx(p4,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"More options"})]})}),a.jsx(_a,{align:"end",children:a.jsx(en,{onClick:i,children:"Clear Path"})})]})]})]})})}function pZ({step:e,onChange:t}){return a.jsxs(ve,{className:"border-primary/20 bg-primary/5 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary"}),a.jsx(Re,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),a.jsx(Pe,{className:"text-base font-medium text-primary",children:e.name})]}),a.jsxs(q,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:[a.jsx(H4,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Change step"})]})]})}),a.jsxs(be,{className:"pt-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.summary}),e.meta.tags&&e.meta.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:e.meta.tags.map(n=>a.jsx(W,{variant:"secondary",className:"text-xs",children:n},n))}),e.meta.levelRequirement&&a.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Level ",e.meta.levelRequirement," required"]})]})]})}function xZ({choice:e,onOpenDetails:t,onSelect:n}){return a.jsxs(ve,{className:"hover:shadow-md transition-shadow border-2 border-dashed border-muted hover:border-primary/50",children:[a.jsx(Re,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-muted-foreground/30 rounded-full"}),a.jsx(Pe,{className:"text-base font-medium",children:e.name})]}),a.jsxs(q,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:[a.jsx(Lo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"View details"})]})]})}),a.jsxs(be,{className:"pt-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:e.description||"No description available"}),e.tags&&e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map(s=>a.jsx(W,{variant:"outline",className:"text-xs",children:s},s))}),e.levelRequirement&&a.jsxs("div",{className:"text-xs text-muted-foreground mb-3",children:["Level ",e.levelRequirement," required"]}),a.jsxs(q,{onClick:n,className:"w-full",size:"sm",children:[a.jsx(gc,{className:"h-4 w-4 mr-2"}),"Select"]})]})]})}function vZ({canBack:e,canNext:t,onBack:n,onOverview:s}){return a.jsx("div",{className:"sticky bottom-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:n,disabled:!e,className:"flex items-center space-x-2",children:[a.jsx(wx,{className:"h-4 w-4"}),a.jsx("span",{children:"Back"})]}),a.jsx("div",{className:"flex-1 flex justify-center",children:a.jsxs(q,{variant:"ghost",size:"sm",onClick:s,className:"flex items-center space-x-2",children:[a.jsx(BN,{className:"h-4 w-4"}),a.jsx("span",{children:"Path Overview"})]})}),a.jsx(q,{variant:"outline",size:"sm",disabled:!t,className:"flex items-center space-x-2 opacity-50",children:a.jsx("span",{children:"Next"})})]})})}function yZ({open:e,steps:t,currentIndex:n,onJump:s,onClear:r,onClose:i}){return t.length===0?a.jsx(Po,{open:e,onOpenChange:i,children:a.jsxs(li,{side:"bottom",className:"h-[80vh]",children:[a.jsx(Oo,{children:a.jsx(Bo,{children:"Path Overview"})}),a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No destiny path selected yet"}),a.jsx(q,{onClick:i,children:"Start Building"})]})]})}):a.jsx(Po,{open:e,onOpenChange:i,children:a.jsxs(li,{side:"bottom",className:"h-[80vh]",children:[a.jsx(Oo,{className:"flex flex-row items-center justify-between px-0",children:a.jsx(Bo,{className:"flex-1 min-w-0",children:"Path Overview"})}),a.jsx(di,{className:"flex-1 mt-6",children:a.jsx("div",{className:"space-y-2",children:t.map((o,l)=>a.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${l===n?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>s(l),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(W,{variant:l===n?"default":"secondary",children:l+1}),a.jsx("h3",{className:"font-medium text-sm",children:o.name})]}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:o.summary}),o.meta.tags&&o.meta.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[o.meta.tags.slice(0,3).map(c=>a.jsx(W,{variant:"outline",className:"text-xs",children:c},c)),o.meta.tags.length>3&&a.jsxs(W,{variant:"outline",className:"text-xs",children:["+",o.meta.tags.length-3]})]})]}),l===n&&a.jsx("div",{className:"ml-2",children:a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})]})},o.id))})}),a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[a.jsx("div",{className:"text-sm text-muted-foreground text-center",children:"Tap any step to jump to that point in your path"}),a.jsxs(q,{variant:"outline",size:"sm",onClick:r,className:"w-full text-destructive hover:text-destructive border-destructive/20 hover:border-destructive/40",children:[a.jsx(yr,{className:"h-4 w-4 mr-2"}),"Restart Path"]})]})]})})}function bZ({open:e,choice:t,onSelect:n,onClose:s}){return t?a.jsx(Po,{open:e,onOpenChange:s,children:a.jsxs(li,{side:"bottom",className:"h-[90vh]",children:[a.jsxs(Oo,{className:"flex flex-row items-center justify-between",children:[a.jsx(Bo,{className:"text-left",children:t.name}),a.jsx(q,{variant:"ghost",size:"sm",onClick:s,children:a.jsx(_t,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"No description available"})]}),t.tags&&t.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map(r=>a.jsx(W,{variant:"secondary",className:"text-xs",children:r},r))})]}),t.levelRequirement&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Requirements"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Level ",t.levelRequirement," required"]})]}),t.prerequisites&&t.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Prerequisites"}),a.jsx("div",{className:"space-y-1",children:t.prerequisites.map(r=>a.jsxs("div",{className:"text-sm text-muted-foreground",children:["• ",r]},r))})]}),t.lore&&a.jsxs(a.Fragment,{children:[a.jsx(Va,{}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("h3",{className:"font-medium text-sm",children:"Lore"})]}),a.jsx("p",{className:"text-sm text-muted-foreground italic",children:t.lore})]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-2",children:[a.jsxs(q,{onClick:n,className:"w-full",size:"lg",children:[a.jsx(gc,{className:"h-4 w-4 mr-2"}),"Select This Destiny"]}),a.jsx(q,{variant:"outline",onClick:s,className:"w-full",children:"Close"})]})]})}):null}function wZ({steps:e,onRestart:t,onShare:n}){return a.jsxs(ve,{className:"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/20",children:[a.jsx(Re,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Id,{className:"h-5 w-5 text-green-600"}),a.jsx(Pe,{className:"text-base text-green-800 dark:text-green-200",children:"Destiny Path Complete!"})]})}),a.jsxs(be,{className:"pt-0",children:[a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300 mb-4",children:["You have successfully built a destiny path with ",e.length," steps."]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-sm mb-2 text-green-800 dark:text-green-200",children:"Your Path:"}),a.jsx("div",{className:"space-y-1",children:e.map((s,r)=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(W,{variant:"outline",className:"text-xs",children:r+1}),a.jsx("span",{className:"text-green-700 dark:text-green-300",children:s.name})]},s.id))})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:t,className:"flex-1",children:[a.jsx(yr,{className:"h-4 w-4 mr-2"}),"Start Over"]}),a.jsxs(q,{variant:"outline",size:"sm",onClick:n,className:"flex-1",children:[a.jsx(X4,{className:"h-4 w-4 mr-2"}),"Share Path"]})]})]})]})}function $_(e){const{filterType:t,currentPath:n=[]}=e,{nodes:s,rootNodes:r}=Ma(),[i,o]=g.useState([]),{possiblePaths:l}=ym({fromNode:n.length>0?n[n.length-1]:void 0}),c=g.useMemo(()=>{if(t!=="build-path"||n.length===0)return s;const b=new Set,x=new Set,y=w=>{x.has(w)||(x.add(w),b.add(w),s.forEach(N=>{N.prerequisites.includes(w)&&y(N.edid)}))},j=n[n.length-1];return y(j.edid),s.filter(w=>b.has(w.edid))},[t,n,s,r]),u=g.useMemo(()=>{if(t==="build-path"){const b=new Set,x=new Set;l.forEach(w=>{w.path.forEach(N=>{b.add(N.edid)}),w.path.length>0&&x.add(w.path[w.path.length-1].edid)});const y=s.filter(w=>b.has(w.edid)),j=s.filter(w=>x.has(w.edid));return[{id:"includes-node",name:"Includes Node",placeholder:"Filter paths that include this node...",options:y.map(w=>{const N=l.filter(E=>E.path.some(S=>S.edid===w.edid)).length;return{id:`includes-${w.id}`,label:w.name,value:w.edid,category:"Includes Node",description:`${N} path${N!==1?"s":""} include ${w.name}`}})},{id:"ends-with-node",name:"Ends With Node",placeholder:"Filter paths that end with this node...",options:j.map(w=>{const N=l.filter(E=>E.path.length>0&&E.path[E.path.length-1].edid===w.edid).length;return{id:`ends-${w.id}`,label:w.name,value:w.edid,category:"Ends With Node",description:`${N} path${N!==1?"s":""} end with ${w.name}`}})}]}else{const b=[...new Set(s.flatMap(y=>y.tags))],x=[...new Set(s.flatMap(y=>y.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:b.map(y=>({id:`tag-${y}`,label:y,value:y,category:"Tags",description:`Nodes with ${y} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Filter by prerequisite...",options:x.map(y=>{const j=s.find(w=>w.edid===y);return{id:`prereq-${y}`,label:j?j.name:y,value:y,category:"Prerequisites",description:`Nodes requiring ${j?j.name:y}`}})}]}},[t,c,s,l]),d=g.useCallback(b=>{o(x=>x.some(j=>j.type===b.type&&j.nodeName===b.nodeName)?x:[...x,b])},[]),f=g.useCallback(b=>{o(x=>x.filter(y=>y.id!==b))},[]),m=g.useCallback(()=>{o([])},[]),h=g.useCallback(()=>u.flatMap(b=>b.options),[u]),p=g.useCallback(b=>c.some(x=>x.id===b.id),[c]),v=g.useMemo(()=>t!=="build-path"||i.length===0?l.map(b=>b.path):l.map(b=>b.path).filter(b=>i.every(x=>{switch(x.type){case"includes-node":return b.some(y=>y.edid===x.nodeName||y.edid===x.nodeId);case"ends-with-node":return b.length>0&&(b[b.length-1].edid===x.nodeName||b[b.length-1].edid===x.nodeId);default:return!0}})),[t,i,l]);return{selectedFilters:i,searchCategories:u,addFilter:d,removeFilter:f,clearFilters:m,filteredPaths:v,availableNodes:c,getFilterOptions:h,isNodeAvailable:p}}function P_({searchCategories:e,selectedFilters:t,onFilterSelect:n,onFilterRemove:s,onClearFilters:r,className:i=""}){const o=e.find(d=>d.id==="includes-node"),l=e.find(d=>d.id==="ends-with-node"),c=e.find(d=>d.id==="tags"),u=e.find(d=>d.id==="prerequisites");return a.jsxs("div",{className:`space-y-4 ${i}`,children:[a.jsxs("div",{className:"flex flex-wrap gap-4",children:[o&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Includes"}),a.jsx(Ga,{categories:[o],onSelect:n,placeholder:o.placeholder,className:"w-full"})]}),l&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Ends With"}),a.jsx(Ga,{categories:[l],onSelect:n,placeholder:l.placeholder,className:"w-full"})]}),c&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx(Ga,{categories:[c],onSelect:n,placeholder:c.placeholder,className:"w-full"})]}),u&&a.jsxs("div",{className:"space-y-2 max-w-sm",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Prerequisites"}),a.jsx(Ga,{categories:[u],onSelect:n,placeholder:u.placeholder,className:"w-full"})]})]}),t.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Active Filters"}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:r,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(_t,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),t.map(d=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>s(d.id),title:"Click to remove",children:[a.jsx("span",{className:"text-xs opacity-70 mr-1",children:d.type==="includes-node"?"Includes:":d.type==="ends-with-node"?"Ends:":d.type==="tags"?"Tag:":"Prereq:"}),d.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},d.id))]})]})]})}function jZ({onPathChange:e,onPathComplete:t,className:n="",compact:s=!1}){var _,C;const{currentPath:r,currentNode:i,isValidPath:o,pathErrors:l,setPath:c,clearPath:u,goToPathIndex:d,isPathComplete:f,getPathSummary:m}=S0(),{possiblePaths:h}=ym({fromNode:i||void 0}),{nodes:p}=Ma(),v=$_({filterType:"build-path",currentPath:r}),b=v.selectedFilters.length>0?v.filteredPaths:h.map(k=>k.path),x=k=>{if(typeof k=="string")return;let R,O;if(k.category==="Includes Node")R="includes-node",O=k.id.replace(/^includes-/,"");else if(k.category==="Ends With Node")R="ends-with-node",O=k.id.replace(/^ends-/,"");else return;const z={id:k.id,type:R,nodeName:k.value,nodeId:O,label:k.label};v.addFilter(z)},y=k=>{v.removeFilter(k)},j=()=>{v.clearFilters()},w=(k,R)=>{let O;if(r.length===0)O=k.slice(0,R+1);else{if(R===0)return;const z=k.slice(1,R+1);O=[...r,...z]}c(O),e==null||e(O),f&&(t==null||t(O))},N=k=>{d(k),e==null||e(r)},E=()=>{u(),e==null||e([])},S=m();return s?a.jsxs("div",{className:`space-y-4 ${n}`,children:[a.jsx(hZ,{path:r}),r.length>0&&a.jsx("div",{className:"flex justify-end",children:a.jsxs(q,{variant:"outline",size:"sm",onClick:E,className:"text-xs",children:[a.jsx(yr,{className:"w-3 h-3 mr-1"}),"Clear Path"]})}),b.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Possible Remaining Paths"}),a.jsx(di,{className:"h-[200px]",children:a.jsx("div",{className:"p-4",children:a.jsx(Wg,{possiblePaths:b.map(k=>({path:k,isComplete:!1,endNode:k[k.length-1]})),selectedPathLength:r.length,onPathClick:w,variant:"compact"})})})]}),!o&&l.length>0&&a.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Do,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),a.jsx("ul",{className:"space-y-0.5",children:l.map((k,R)=>a.jsxs("li",{children:["• ",k]},R))})]})]}):a.jsxs("div",{className:`space-y-6 ${n}`,children:[a.jsxs(ve,{children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Id,{className:"w-5 h-5 text-primary"}),"Destiny Path Builder"]}),a.jsx("div",{className:"flex items-center gap-2",children:r.length>0&&a.jsxs(q,{variant:"outline",size:"sm",onClick:E,className:"flex items-center gap-1",children:[a.jsx(yr,{className:"w-4 h-4"}),"Clear Path"]})})]})}),a.jsxs(be,{children:[a.jsx(dC,{path:r,allNodes:p,onBreadcrumbClick:N,className:"mb-4"}),r.length>0&&a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Path Length: ",r.length]}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:["Start: ",(_=S.startNode)==null?void 0:_.name]}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:["Current: ",(C=S.endNode)==null?void 0:C.name]}),f&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsx(W,{variant:"default",className:"text-xs",children:"Complete"})]})]}),!o&&l.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[a.jsx(Do,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:"Path Validation Errors:"})]}),a.jsx("ul",{className:"text-sm space-y-1",children:l.map((k,R)=>a.jsxs("li",{className:"text-destructive",children:["• ",k]},R))})]})]})]}),r.length>0&&a.jsxs(ve,{children:[a.jsx(Re,{children:a.jsx(Pe,{className:"text-lg",children:"Current Path"})}),a.jsx(be,{children:a.jsx("div",{className:"space-y-2",children:r.map((k,R)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[a.jsx(W,{variant:"outline",className:"text-xs",children:R+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:k.name}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:k.description})]})]},k.id))})})]}),a.jsxs(ve,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{className:"text-lg",children:r.length===0?"Choose Your Starting Point":"Possible Paths"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r.length===0?"Select a root destiny node to begin your path":b.length===0?v.selectedFilters.length>0?"No paths match your current filters":"You have reached the end of this destiny path":v.selectedFilters.length>0?`Showing ${b.length} filtered paths from your current position`:`Explore ${b.length} possible paths from your current position`})]}),a.jsxs(be,{className:"h-[600px] p-0",children:[a.jsx("div",{className:"p-6 pb-6",children:a.jsx(P_,{searchCategories:v.searchCategories,selectedFilters:v.selectedFilters,onFilterSelect:x,onFilterRemove:y,onClearFilters:j})}),b.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[v.selectedFilters.length>0?a.jsx(q4,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}):a.jsx(Id,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:v.selectedFilters.length>0?"No paths match your filters":"Path Complete!"}),a.jsx("p",{className:"text-sm",children:v.selectedFilters.length>0?"Try adjusting your filters to see more paths.":"You've reached the end of this destiny path."})]}):a.jsx(di,{className:"h-[calc(600px-200px)]",children:a.jsx("div",{className:"p-6 pt-4",children:a.jsx(Wg,{possiblePaths:b.map(k=>({path:k,isComplete:!1,endNode:k[k.length-1]})),selectedPathLength:r.length,onPathClick:w})})})]})]})]})}function NZ({item:e,originalNode:t,allNodes:n}){const s=r=>n.filter(i=>i.prerequisites.includes(r)).map(i=>i.name);return a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((r,i)=>a.jsx(W,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},i))})]}),t&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[s(t.name).map((r,i)=>a.jsx(W,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:r},i)),s(t.name).length===0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,i)=>a.jsx(W,{variant:"secondary",className:"text-xs",children:r},i))})]})]})}function SZ({items:e,allNodes:t}){return a.jsx(di,{className:"h-[calc(100vh-500px)]",children:a.jsx(EB,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>a.jsxs(Uk,{value:n.id,children:[a.jsx(Vk,{className:"text-left hover:no-underline",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),a.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),a.jsx(qk,{children:a.jsx(NZ,{item:n,originalNode:t.find(s=>s.id===n.id),allNodes:t})})]},n.id))})})}const Ih=fs((e,t)=>({steps:[],currentIndex:-1,nextChoices:[],selectChoice:n=>{const{steps:s,currentIndex:r,nextChoices:i}=t(),o=i.find(c=>c.edid===n);if(!o)return;const l={id:o.edid,name:o.name,summary:o.description||"",meta:{tags:o.tags||[],levelRequirement:o.levelRequirement,lore:o.lore},node:o};e(c=>{const u=[...c.steps],d=c.currentIndex+1;return d<u.length&&u.splice(d,u.length-d),u.push(l),{steps:u,currentIndex:d,nextChoices:[]}})},jumpTo:n=>{const{steps:s}=t();n<0||n>=s.length||e(r=>({currentIndex:n,steps:r.steps.slice(0,n+1),nextChoices:[]}))},clear:()=>{e({steps:[],currentIndex:-1,nextChoices:[]})},setNextChoices:n=>{e({nextChoices:n})},hydrateFromQuery:n=>{try{const s=atob(n),r=JSON.parse(s);r.steps&&Array.isArray(r.steps)&&e({steps:r.steps,currentIndex:r.currentIndex||r.steps.length-1,nextChoices:r.nextChoices||[]})}catch(s){console.warn("Failed to hydrate from query:",s)}},toQuery:()=>{const{steps:n,currentIndex:s,nextChoices:r}=t(),i={steps:n,currentIndex:s,nextChoices:r.map(o=>o.edid)};try{return btoa(JSON.stringify(i))}catch(o){return console.warn("Failed to serialize to query:",o),""}}}));function kZ(){const{steps:e,currentIndex:t,nextChoices:n,selectChoice:s,jumpTo:r,clear:i}=Ih(),o=t>=0&&t<e.length?e[t]:null,l=e.length,c=n.length===0,{nodes:u,rootNodes:d}=Ma(),[f,m]=g.useState(!1),[h,p]=g.useState(!1),[v,b]=g.useState(null),[x,y]=g.useState(!1);g.useEffect(()=>{const{setNextChoices:_}=Ih.getState();if(t===-1)_(d);else if(o){const C=u.filter(k=>{var R;return(R=k.prerequisites)==null?void 0:R.includes(o.node.edid)});_(C)}else _([])},[t,o,u,d]);const j=_=>{s(_),p(!1),b(null)},w=_=>{b(_),p(!0)},N=()=>{t>0&&r(t-1)},E=_=>{r(_),m(!1)},S=()=>{i(),m(!1)};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx(gZ,{stepIndex:t,totalSteps:l,title:(o==null?void 0:o.name)??"Start Destiny",onBack:N,onOverview:()=>m(!0),onClear:S,canBack:t>0}),a.jsxs("main",{className:"flex-1 px-3 py-2 space-y-4",children:[o&&a.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-muted/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-px flex-1 bg-border"}),a.jsx("span",{className:"text-xs font-medium text-muted-foreground px-2",children:"CURRENT STEP"}),a.jsx("div",{className:"h-px flex-1 bg-border"})]}),a.jsx(pZ,{step:o,onChange:()=>y(!0)})]}),o&&!c&&n.length>0&&a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-px h-6 bg-primary/30"})}),!c&&n.length>0&&a.jsxs("section",{"aria-label":"Next choices",className:"space-y-3 p-3 rounded-lg bg-background border border-border",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-px flex-1 bg-border"}),a.jsx("span",{className:"text-xs font-medium text-muted-foreground px-2",children:t===-1?"CHOOSE STARTING DESTINY":"CHOOSE NEXT STEP"}),a.jsx("div",{className:"h-px flex-1 bg-border"})]}),a.jsxs("div",{className:"space-y-2",children:[n.slice(0,3).map(_=>a.jsx(xZ,{choice:_,onOpenDetails:()=>w(_),onSelect:()=>j(_.edid)},_.edid)),n.length>3&&a.jsx("div",{className:"text-center py-2",children:a.jsxs("span",{className:"text-sm text-muted-foreground",children:["+",n.length-3," more choices available"]})})]})]}),c&&l>0&&a.jsx(wZ,{steps:e,onRestart:()=>i(),onShare:()=>{console.log("Share path:",Ih.getState().toQuery())}}),l===0&&n.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No destiny paths available. Please check your prerequisites."})})]}),a.jsx(vZ,{canBack:t>0,canNext:!1,onBack:N,onOverview:()=>m(!0)}),a.jsx(yZ,{open:f,steps:e,currentIndex:t,onJump:E,onClear:S,onClose:()=>m(!1)}),a.jsx(bZ,{open:h,choice:v,onSelect:()=>v&&j(v.edid),onClose:()=>{p(!1),b(null)}})]})}function CZ(e){return mk("(min-width: 1024px)")?a.jsx(jZ,{...e}):a.jsx(kZ,{})}function EZ({items:e,filters:t=[]}){const[n,s]=g.useState(null),[r,i]=g.useState("grid"),[o,l]=g.useState({search:"",selectedFilters:{},selectedTags:[]}),c=g.useMemo(()=>{let p=e;if(o.search){const v=o.search.toLowerCase();p=p.filter(b=>b.name.toLowerCase().includes(v)||b.description.toLowerCase().includes(v)||b.tags.some(x=>x.toLowerCase().includes(v)))}return o.selectedTags.length>0&&(p=p.filter(v=>o.selectedTags.some(b=>v.tags.includes(b.value)||v.category===b.value||v.name.toLowerCase().includes(b.value.toLowerCase())))),p},[e,o]),u=g.useMemo(()=>t.length===0?[]:t.map(p=>({...p,options:p.options.map(v=>({...v,count:e.filter(b=>b.tags.includes(v.value)||b.category===v.value).length}))})),[t,e]),d=g.useCallback(p=>{s(p)},[]),f=g.useCallback(p=>{l(p)},[]),m=g.useCallback(p=>{l(v=>({...v,search:p}))},[]),h=g.useCallback(p=>{i(p)},[]);return{selectedItem:n,viewMode:r,currentFilters:o,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:f,handleSearch:m,handleViewModeChange:h,setSelectedItem:s}}function _Z(){const{nodes:e,isLoading:t,error:n}=Ma(),{currentPath:s,setPath:r}=S0({validatePath:!0});ym({fromNode:s.length>0?s[s.length-1]:void 0});const i=$_({filterType:"reference"}),l=g.useMemo(()=>i.selectedFilters.length===0?e:e.filter(h=>i.selectedFilters.every(p=>{var v,b;switch(p.type){case"tags":return(v=h.tags)==null?void 0:v.includes(p.nodeName);case"prerequisites":return(b=h.prerequisites)==null?void 0:b.includes(p.nodeName);default:return!0}})),[e,i.selectedFilters]).map(h=>GB(h));EZ({items:l,filters:[]});const c=h=>{if(typeof h=="string")return;let p,v;if(h.category==="Tags")p="tags",v=h.id.replace(/^tag-/,"");else if(h.category==="Prerequisites")p="prerequisites",v=h.id.replace(/^prereq-/,"");else return;const b={id:h.id,type:p,nodeName:h.value,nodeId:v,label:h.label};i.addFilter(b)},u=h=>{i.removeFilter(h)},d=()=>{i.clearFilters()},f=h=>{r(h)},m=h=>{r(h)};return t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:n}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsx(Gt,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:a.jsx("div",{className:"mb-6",children:a.jsxs(Ai,{defaultValue:"path",className:"w-full",children:[a.jsxs(Ti,{className:"grid w-full grid-cols-2",children:[a.jsx(Vt,{value:"path",children:"Path Builder"}),a.jsx(Vt,{value:"reference",children:"Reference"})]}),a.jsxs(Kt,{value:"reference",className:"space-y-4",children:[a.jsx(P_,{searchCategories:i.searchCategories,selectedFilters:i.selectedFilters,onFilterSelect:c,onFilterRemove:u,onClearFilters:d}),a.jsx("div",{className:"w-full",children:a.jsx(SZ,{items:l,allNodes:e})})]}),a.jsx(Kt,{value:"path",className:"space-y-4",children:a.jsx(CZ,{onPathChange:f,onPathComplete:m})})]})})})}function O_(e){var t,n,s,r,i,o,l,c,u,d,f,m,h,p;return{name:e.name,type:e.type||e.pantheon||"Unknown",blessing:{spellId:((t=e.blessing)==null?void 0:t.spellId)||"",spellName:((n=e.blessing)==null?void 0:n.spellName)||"",effects:((s=e.blessing)==null?void 0:s.effects)||[]},boon1:{spellId:((r=e.boon1)==null?void 0:r.spellId)||"",spellName:((i=e.boon1)==null?void 0:i.spellName)||"",effects:((o=e.boon1)==null?void 0:o.effects)||[]},boon2:{spellId:((l=e.boon2)==null?void 0:l.spellId)||"",spellName:((c=e.boon2)==null?void 0:c.spellName)||"",effects:((u=e.boon2)==null?void 0:u.effects)||[]},tenet:{spellId:((d=e.tenet)==null?void 0:d.spellId)||"",spellName:((f=e.tenet)==null?void 0:f.spellName)||"",header:((m=e.tenet)==null?void 0:m.header)||"",description:((h=e.tenet)==null?void 0:h.description)||"",effects:((p=e.tenet)==null?void 0:p.effects)||[]},favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[]}}function AZ(){const{data:e,loading:t,error:n}=dk(),[s,r]=g.useState(null),[i,o]=g.useState(null),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState("alphabetical"),[h,p]=g.useState("grid"),[v,b]=g.useState("religions"),x=g.useMemo(()=>(e||[]).map(O_),[e]),y=g.useMemo(()=>x.map(Jk),[x]),j=g.useMemo(()=>x.filter(z=>z.blessing&&z.blessing.effects.length>0),[x]),w=()=>{const z=[...new Set((e||[]).map($=>$.pantheon).filter(Boolean))],A=[...new Set(y.flatMap($=>$.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:z.map($=>({id:`pantheon-${$}`,label:$,value:$,category:"Pantheons",description:`Religions from ${$} pantheon`}))},...os()?[{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:A.map($=>({id:`race-${$}`,label:$,value:$,category:"Favored Races",description:`Religions that favor ${$}`}))}]:[],{id:"religion-types",name:"Religion Types",placeholder:"Search by religion type...",options:[{id:"divine",label:"Divine",value:"Divine",category:"Religion Types",description:"Divine religions"},{id:"daedric",label:"Daedric",value:"Daedric",category:"Religion Types",description:"Daedric religions"},{id:"tribunal",label:"Tribunal",value:"Tribunal",category:"Religion Types",description:"Tribunal religions"},{id:"ancestor",label:"Ancestor",value:"Ancestor",category:"Religion Types",description:"Ancestor religions"}]}]},[N,E]=g.useState([]),S=g.useMemo(()=>{let z=x;return N.length>0&&(z=z.filter(A=>N.every($=>{var M;if($.category==="Pantheons"){const L=e==null?void 0:e.find(T=>T.name===A.name);return(L==null?void 0:L.pantheon)===$.value}return $.category==="Favored Races"?(M=A.favoredRaces)==null?void 0:M.includes($.value):$.category==="Religion Types"?A.type===$.value:!0}))),z.sort((A,$)=>{if(f==="alphabetical")return A.name.localeCompare($.name);if(f==="divine-type"){const M=D=>{switch(D){case"Divine":return 1;case"Daedric":return 2;case"Tribunal":return 3;case"Ancestor":return 4;default:return 5}},L=M(A.type),T=M($.type);return L!==T?L-T:A.name.localeCompare($.name)}return 0}),z},[x,N,f,e]),_=z=>{const A=typeof z=="string"?{id:z,label:z,value:z,category:"Custom"}:{id:z.id,label:z.label,value:z.value,category:z.category};E($=>[...$,A])},C=z=>{E(A=>A.filter($=>$.id!==z))},k=z=>{console.log("handleReligionClick called with id:",z);const A=x.find($=>$.name===z);console.log("Found religion:",A),A&&(r(A),c(!0),console.log("Religion sheet should now be open"))},R=z=>{o(z),d(!0)},O=z=>{switch(z){case"alphabetical":return"A-Z";case"divine-type":return"Type";default:return"A-Z"}};return t?a.jsx(Gt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-lg",children:"Loading religions..."})})}):n?a.jsx(Gt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-lg text-red-500",children:["Error loading religions: ",n]})})}):a.jsxs(Gt,{title:"Religions",description:"Choose your character's faith and divine blessings",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Aa,{categories:w(),onSelect:_,onCustomSearch:_}),N.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>E([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(_t,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map(z=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>C(z.id),title:"Click to remove",children:[z.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},z.id))]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(q,{variant:h==="grid"?"default":"outline",size:"sm",onClick:()=>p("grid"),className:"flex items-center gap-2",children:[a.jsx(wi,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(q,{variant:h==="list"?"default":"outline",size:"sm",onClick:()=>p("list"),className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Di,{children:[a.jsx(zi,{asChild:!0,children:a.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",O(f),a.jsx(tn,{className:"h-4 w-4"})]})}),a.jsxs(_a,{children:[a.jsx(en,{onClick:()=>m("alphabetical"),children:"Alphabetical (A-Z)"}),a.jsx(en,{onClick:()=>m("divine-type"),children:"Religion Type"})]})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(Ai,{value:v,onValueChange:z=>b(z),children:[a.jsxs(Ti,{className:"grid w-full grid-cols-2",children:[a.jsxs(Vt,{value:"religions",children:["Religions (",S.length,")"]}),a.jsxs(Vt,{value:"blessings",children:["Blessings (",j.length,")"]})]}),a.jsxs(Kt,{value:"religions",className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[S.length," religion",S.length!==1?"s":""," found"]})}),a.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:S.map(z=>a.jsx(jC,{originalReligion:z,onOpenDetails:k,showToggle:!0,className:h==="list"?"w-full":"h-full"},z.name))}),S.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-lg text-muted-foreground",children:"No religions found matching your criteria"}),a.jsx(q,{variant:"outline",onClick:()=>E([]),className:"mt-4",children:"Clear filters"})]})]}),a.jsxs(Kt,{value:"blessings",className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[j.length," blessing",j.length!==1?"s":""," found"]})}),a.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:j.map(z=>a.jsx(RI,{religion:z,onClick:()=>R(z),showToggle:!1,className:h==="list"?"w-full":"h-full"},z.name))}),j.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-lg text-muted-foreground",children:"No blessings found matching your criteria"}),a.jsx(q,{variant:"outline",onClick:()=>E([]),className:"mt-4",children:"Clear filters"})]})]})]})}),a.jsx(NC,{religion:s,isOpen:l,onOpenChange:c}),a.jsx(PI,{religion:i,isOpen:u,onOpenChange:d})]})}const TZ="modulepreload",MZ=function(e){return"/lorerim-arcaneum/"+e},xw={},tr=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=MZ(c),c in xw)return;xw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":TZ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function vw(e){return e.map(t=>({id:`skill-${t.id}`,type:"skill",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...t.keyAbilities||[],...t.metaTags||[],t.scaling||""],originalData:t,url:`/build/perks?skill=${t.id}`}))}function yw(e){return e.map(t=>({id:`race-${t.id}`,type:"race",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.source||"",...t.tags||[],...t.keywords||[]],originalData:t,url:"/races"}))}function bw(e){return e.map(t=>{var n;return{id:`trait-${t.id}`,type:"trait",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...((n=t.effects)==null?void 0:n.map(s=>s.description||s.type))||[]],originalData:t,url:"/traits"}})}function ww(e){const t=[];return e.forEach(n=>{var s,r,i,o,l,c,u,d,f,m,h,p,v,b,x;t.push({id:`religion-${n.id||n.name}`,type:"religion",name:n.name,description:((s=n.tenet)==null?void 0:s.description)||"",category:n.type||n.pantheon||"",tags:n.tags||[],searchableText:[n.name,((r=n.tenet)==null?void 0:r.description)||"",n.type||"",n.pantheon||"",...n.tags||[],...os()?n.favoredRaces||[]:[],...n.worshipRestrictions||[],...((o=(i=n.tenet)==null?void 0:i.effects)==null?void 0:o.map(y=>y.effectName))||[],...((c=(l=n.blessing)==null?void 0:l.effects)==null?void 0:c.map(y=>y.effectName))||[],...((d=(u=n.boon1)==null?void 0:u.effects)==null?void 0:d.map(y=>y.effectName))||[],...((m=(f=n.boon2)==null?void 0:f.effects)==null?void 0:m.map(y=>y.effectName))||[]],originalData:n,url:"/religions"}),n.blessing&&n.blessing.effects.length>0&&t.push({id:`blessing-${n.id||n.name}`,type:"blessing",name:`Blessing of ${n.name}`,description:((h=n.blessing.effects[0])==null?void 0:h.effectDescription)||"",category:"Blessing",tags:n.tags||[],searchableText:[`Blessing of ${n.name}`,n.name,((p=n.blessing.effects[0])==null?void 0:p.effectDescription)||"",((v=n.blessing.effects[0])==null?void 0:v.effectName)||"",...((b=n.blessing.effects)==null?void 0:b.map(y=>y.effectName))||[],...((x=n.blessing.effects)==null?void 0:x.map(y=>y.effectDescription))||[],...n.tags||[],"blessing","divine","worship"],originalData:{...n,blessingOnly:!0},url:"/religions?tab=blessings"})}),t}function jw(e){return e.map(t=>{var n,s;return{id:`birthsign-${t.id||t.edid}`,type:"birthsign",name:t.name,description:t.description,category:t.group,tags:t.tags||[],searchableText:[t.name,t.description||"",t.group||"",...t.tags||[],...((n=t.powers)==null?void 0:n.map(r=>r.name||r.description))||[],...((s=t.stat_modifications)==null?void 0:s.map(r=>r.stat))||[]],originalData:t,url:"/birthsigns"}})}function Nw(e){return e.map(t=>({id:`destiny-${t.id}`,type:"destiny",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.lore||"",...t.tags||[],...t.prerequisites||[]],originalData:t,url:"/destiny"}))}function Sw(e){return e.map(t=>{var n;return{id:`perk-${t.treeId||t.id}`,type:"perk",name:t.treeName||t.name,description:t.treeDescription||t.description,category:t.category,tags:t.tags||[],searchableText:[t.treeName||t.name,t.treeDescription||t.description||"",t.category||"",...t.tags||[],...((n=t.perks)==null?void 0:n.map(s=>s.name))||[]],originalData:t,url:"/build/perks"}})}function kw(e){return e.map(t=>{var n,s,r,i,o,l;return{id:`perk-ref-${t.edid}`,type:"perk-reference",name:t.name,description:((s=(n=t.ranks[0])==null?void 0:n.description)==null?void 0:s.base)||"",category:t.category,tags:t.tags,searchableText:[t.name,((i=(r=t.ranks[0])==null?void 0:r.description)==null?void 0:i.base)||"",((l=(o=t.ranks[0])==null?void 0:o.description)==null?void 0:l.subtext)||"",t.skillTreeName,t.category,...t.tags,...t.prerequisites,t.isRoot?"root perk":"branch perk",t.totalRanks>1?"multi-rank":"single-rank"],originalData:t,url:`/perk-references?skill=${t.skillTree}&perk=${t.edid}`}})}function Cw(e){return e.map(t=>({id:`spell-${t.editorId}`,type:"spell",name:t.name,description:t.description,category:t.school,tags:t.tags,searchableText:[t.name,t.description||"",t.school||"",t.level||"",t.tome||"",...t.tags,...t.effects.map(n=>n.name),...t.effects.map(n=>n.description),t.isAreaSpell?"area spell":"",t.isDurationSpell?"duration spell":"",t.isInstantSpell?"instant spell":"",`magicka cost ${t.magickaCost}`,`magnitude ${t.totalMagnitude}`,`duration ${t.maxDuration}`,`area ${t.maxArea}`].filter(Boolean),originalData:t,url:`/spells?spell=${t.editorId}`}))}function Ew(e){return e.map(t=>({id:`recipe-${t.name}`,type:"recipe",name:t.name,description:t.description,category:t.category,tags:t.tags,searchableText:[t.name,t.description||"",t.category||"",t.output||"",t.difficulty||"",t.type||"",...t.tags,...t.ingredients.map(n=>typeof n=="string"?n:n.name||n.item||""),...t.effects.map(n=>n.name),...t.effects.map(n=>n.description),`ingredients ${t.ingredientCount}`,`effects ${t.effectCount}`,`magnitude ${t.totalMagnitude}`,`duration ${t.maxDuration}`].filter(Boolean),originalData:t,url:`/cookbook?recipe=${encodeURIComponent(t.name)}`}))}function RZ(e){return{id:e.item.id,name:e.item.name,description:e.item.description||"",summary:e.item.description||"",tags:e.item.tags,category:e.item.category,imageUrl:void 0,effects:[],associatedItems:[],originalSearchResult:e}}function DZ(e){return e.map(t=>{var n,s;return{field:t.key||"unknown",snippet:t.value,startIndex:((n=t.indices[0])==null?void 0:n[0])||0,endIndex:((s=t.indices[0])==null?void 0:s[1])||0}})}class zZ{constructor(){Ge(this,"searchIndex",null);Ge(this,"isIndexing",!1);Ge(this,"allSearchableItems",[]);Ge(this,"indexedStores",new Set);Ge(this,"fuseOptions",{keys:[{name:"name",weight:.8},{name:"description",weight:.6},{name:"category",weight:.4},{name:"tags",weight:.5},{name:"searchableText",weight:.3}],threshold:.6,includeMatches:!0,includeScore:!0,minMatchCharLength:2,ignoreLocation:!0,useExtendedSearch:!1,findAllMatches:!0});Ge(this,"transformSkillsToSearchable",vw);Ge(this,"transformRacesToSearchable",yw);Ge(this,"transformTraitsToSearchable",bw);Ge(this,"transformReligionsToSearchable",ww);Ge(this,"transformBirthsignsToSearchable",jw);Ge(this,"transformDestinyNodesToSearchable",Nw);Ge(this,"transformPerkTreesToSearchable",Sw);Ge(this,"transformPerkReferencesToSearchable",kw);Ge(this,"transformRecipesToSearchable",Ew);Ge(this,"transformSpellsToSearchable",Cw)}async addToIndex(t,n){this.indexedStores.has(t)||(this.allSearchableItems.push(...n),this.indexedStores.add(t),this.searchIndex=new Qt(this.allSearchableItems,this.fuseOptions))}hasIndexedData(){return this.allSearchableItems.length>0}rebuildSearchIndex(){this.allSearchableItems.length>0&&(this.searchIndex=new Qt(this.allSearchableItems,this.fuseOptions))}async buildSearchIndex(){if(!this.isIndexing){this.isIndexing=!0;try{const{useSkillsStore:t}=await tr(async()=>{const{useSkillsStore:N}=await Promise.resolve().then(()=>LL);return{useSkillsStore:N}},[]),{useRacesStore:n}=await tr(async()=>{const{useRacesStore:N}=await Promise.resolve().then(()=>ML);return{useRacesStore:N}},void 0),{useTraitsStore:s}=await tr(async()=>{const{useTraitsStore:N}=await Promise.resolve().then(()=>$L);return{useTraitsStore:N}},void 0),{useReligionsStore:r}=await tr(async()=>{const{useReligionsStore:N}=await Promise.resolve().then(()=>zL);return{useReligionsStore:N}},void 0),{useBirthsignsStore:i}=await tr(async()=>{const{useBirthsignsStore:N}=await Promise.resolve().then(()=>_L);return{useBirthsignsStore:N}},void 0),{useDestinyNodesStore:o}=await tr(async()=>{const{useDestinyNodesStore:N}=await Promise.resolve().then(()=>TL);return{useDestinyNodesStore:N}},void 0),{usePerkTreesStore:l}=await tr(async()=>{const{usePerkTreesStore:N}=await Promise.resolve().then(()=>f5);return{usePerkTreesStore:N}},void 0),{useRecipesStore:c}=await tr(async()=>{const{useRecipesStore:N}=await Promise.resolve().then(()=>t8);return{useRecipesStore:N}},void 0),{SpellDataProvider:u}=await tr(async()=>{const{SpellDataProvider:N}=await Promise.resolve().then(()=>n8);return{SpellDataProvider:N}},void 0),d=t.getState().data,f=n.getState().data,m=s.getState().data,h=r.getState().data,p=i.getState().data,v=o.getState().data,b=l.getState().data,x=c.getState().data,j=await u.getInstance().loadSpells();if(!(d!=null&&d.length)||!(f!=null&&f.length)||!(m!=null&&m.length)||!(h!=null&&h.length)||!(p!=null&&p.length)||!(v!=null&&v.length)||!(b!=null&&b.length)||!(x!=null&&x.length)||!(j!=null&&j.length))throw console.log("Stores not loaded yet, cannot build search index"),new Error("Store data not available - stores must be loaded before building search index");const w=[...vw(d),...yw(f),...bw(m),...ww(h),...jw(p),...Nw(v),...Sw(b),...Ew(x),...Cw(j)];this.allSearchableItems=w,this.searchIndex=new Qt(w,this.fuseOptions)}catch(t){throw console.error("Failed to build search index:",t),t}finally{this.isIndexing=!1}}}async addPerkReferencesToIndex(t){if(this.indexedStores.has("perk-references"))return;const n=kw(t);this.allSearchableItems.push(...n),this.indexedStores.add("perk-references"),this.searchIndex=new Qt(this.allSearchableItems,this.fuseOptions)}search(t,n){if(!this.searchIndex)return[];if(!t.trim()||t.trim()==="*"){let o=this.allSearchableItems;return n&&(o=this.applyFilters(o,n)),o.map(l=>({item:l,score:1,matches:[],highlights:[]}))}if(!this.searchIndex)return console.warn("Search index not ready, returning empty results"),[];const s=this.searchIndex.search(t);let r=s;return n&&(r=s.filter(o=>{const l=o.item;return this.applyFilters([l],n).length>0})),r.map(o=>({item:o.item,score:o.score||0,matches:[...o.matches||[]],highlights:DZ([...o.matches||[]])}))}applyFilters(t,n){return t.filter(s=>{var r,i,o,l,c,u,d;if(n.types.length>0&&!n.types.includes(s.type)||n.categories.length>0&&s.category&&!n.categories.includes(s.category))return!1;if(n.tags.length>0){const f=s.tags.map(p=>p.toLowerCase());if(!n.tags.map(p=>p.toLowerCase()).some(p=>f.some(v=>v.includes(p)||p.includes(v))))return!1}if(s.type==="skill"&&((r=n.skillCategories)!=null&&r.length)&&(!s.category||!n.skillCategories.includes(s.category))||s.type==="race"&&((i=n.raceTypes)!=null&&i.length)&&(!s.category||!n.raceTypes.includes(s.category))||s.type==="trait"&&((o=n.traitTypes)!=null&&o.length)&&(!s.category||!n.traitTypes.includes(s.category))||s.type==="religion"&&((l=n.religionTypes)!=null&&l.length)&&(!s.category||!n.religionTypes.includes(s.category))||s.type==="birthsign"&&((c=n.birthsignGroups)!=null&&c.length)&&(!s.category||!n.birthsignGroups.includes(s.category))||s.type==="spell"&&((u=n.spellSchools)!=null&&u.length)&&(!s.category||!n.spellSchools.includes(s.category)))return!1;if(s.type==="spell"&&((d=n.spellLevels)!=null&&d.length)){const f=s.originalData;if(!f.level||!n.spellLevels.includes(f.level))return!1}return!0})}getAvailableFilters(){const t=new Map,n=new Map,s=new Map;return this.allSearchableItems.forEach(r=>{const i=t.get(r.type)||0;if(t.set(r.type,i+1),r.category){const o=n.get(r.category)||0;n.set(r.category,o+1)}r.tags.forEach(o=>{const l=s.get(o)||0;s.set(o,l+1)})}),{types:Array.from(t.entries()).map(([r,i])=>({value:r,label:r.charAt(0).toUpperCase()+r.slice(1),count:i})),categories:Array.from(n.entries()).map(([r,i])=>({value:r,label:r,count:i})),tags:Array.from(s.entries()).map(([r,i])=>({value:r,label:r,count:i}))}}getSearchableItems(){return this.allSearchableItems}isReady(){return this.searchIndex!==null&&!this.isIndexing}isLoading(){return this.isIndexing}}const LZ={skill:{label:"Skill",icon:"⚔️",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},race:{label:"Race",icon:"👤",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},trait:{label:"Trait",icon:"🎯",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},religion:{label:"Religion",icon:"⛪",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},birthsign:{label:"Birthsign",icon:"⭐",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},destiny:{label:"Destiny",icon:"🌟",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},perk:{label:"Perk",icon:"🔮",color:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"}};function $Z({type:e,className:t,variant:n="default"}){const s=LZ[e]||{label:e.charAt(0).toUpperCase()+e.slice(1),icon:"📄",color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return n==="default"?a.jsxs(W,{className:H("inline-flex items-center gap-1 px-2 py-1 text-xs font-medium",s.color,t),children:[a.jsx("span",{children:s.icon}),a.jsx("span",{children:s.label})]}):a.jsxs(W,{variant:n,className:H("inline-flex items-center gap-1",t),children:[a.jsx("span",{children:s.icon}),a.jsx("span",{children:s.label})]})}function PZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){return a.jsxs(he,{className:H("transition-all hover:shadow-md",t),expanded:n,onToggle:s,children:[a.jsx(he.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx($Z,{type:e.type})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:e.name}),e.category&&a.jsx(W,{variant:"outline",className:"text-xs",children:e.category})]})})]})}),a.jsxs(he.Summary,{children:[e.description&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((i,o)=>a.jsx(W,{variant:"secondary",className:"text-xs",children:i},`${i}-${o}`)),e.tags.length>3&&a.jsxs(W,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-3]})]})]}),a.jsxs(he.Details,{children:[e.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"All Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((i,o)=>a.jsx(W,{variant:"secondary",className:"text-xs",children:i},`${i}-${o}`))})]}),e.description&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})]})}function Li(e,t){return e?e.find(s=>{const r=!!s.id&&s.id===t.id,i=!!s.edid&&s.edid===t.edid,o=!!s.treeId&&s.treeId===t.treeId,l=!!s.name&&s.name===t.name;return r||i||o||l}):void 0}function OZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=Si(l=>l.data),o=Li(i,e.originalData);return o?a.jsx(nf,{originalBirthsign:o,isExpanded:n,onToggle:s,className:t,showToggle:!1}):(console.error("Birthsign not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalBirthsignsInStore:i.length,firstFewBirthsigns:i.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}function BZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=ml(l=>l.data),o=Li(i,e.originalData);return o?a.jsxs(he,{className:t,expanded:n,onToggle:s,children:[a.jsx(he.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:o.icon?a.jsx("img",{src:o.icon,alt:o.name,className:"w-6 h-6 object-contain"}):a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),a.jsx(he.Summary,{children:o.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description})}),a.jsxs(he.Details,{children:[o.effects&&o.effects.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Effects"}),a.jsx("div",{className:"space-y-1",children:o.effects.map((l,c)=>a.jsxs("div",{className:"text-sm text-muted-foreground",children:["• ",l]},c))})]}),o.tags&&o.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]})]})]}):(console.error("Destiny node not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalDestinyNodesInStore:i.length,firstFewDestinyNodes:i.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}class IZ{constructor(t){Ge(this,"perkNodes",[]);this.perkNodes=this.transformPerkTrees(t)}transformPerkTrees(t){const n=[];return t.forEach(s=>{s.perks.forEach(r=>{var o,l,c,u,d;const i={...r,skillTree:s.treeId,skillTreeName:s.treeName,isRoot:r.isRoot||!1,hasChildren:(((l=(o=r.connections)==null?void 0:o.children)==null?void 0:l.length)||0)>0,prerequisites:((c=r.connections)==null?void 0:c.parents)||[],connections:{parents:((u=r.connections)==null?void 0:u.parents)||[],children:((d=r.connections)==null?void 0:d.children)||[]},searchableText:this.generateSearchableText(r,s),tags:this.generateTags(r,s),category:this.determineCategory(s.treeName),minLevel:this.calculateMinLevel(r)};n.push(i)})}),n}calculateMinLevel(t){var s,r;let n=0;if(t.ranks&&t.ranks.length>0&&t.ranks.forEach(i=>{var o,l;(l=(o=i.prerequisites)==null?void 0:o.skillLevel)!=null&&l.level&&(n=Math.max(n,i.prerequisites.skillLevel.level))}),n===0)if(t.isRoot)n=1;else{const i=((r=(s=t.connections)==null?void 0:s.parents)==null?void 0:r.length)||0;n=Math.max(1,i*5)}return n}generateSearchableText(t,n){var r,i;return[t.name,(r=t.ranks)==null?void 0:r.map(o=>{var l;return(l=o.description)==null?void 0:l.base}).join(" "),(i=t.ranks)==null?void 0:i.map(o=>{var l;return(l=o.description)==null?void 0:l.subtext}).join(" "),n.treeName,this.determineCategory(n.treeName)].filter(Boolean).join(" ").toLowerCase()}generateTags(t,n){var i,o,l,c;const s=[n.treeName,this.determineCategory(n.treeName),t.isRoot?"root":"branch",t.totalRanks>1?"multi-rank":"single-rank"];((o=(i=t.connections)==null?void 0:i.parents)==null?void 0:o.length)>0&&s.push("has-prerequisites"),((c=(l=t.connections)==null?void 0:l.children)==null?void 0:c.length)>0&&s.push("has-children");const r=this.calculateMinLevel(t);return r>0&&s.push(`level-${r}+`),s}determineCategory(t){return{Alchemy:"Magic",Alteration:"Magic",Conjuration:"Magic",Destruction:"Magic",Illusion:"Magic",Restoration:"Magic",Archery:"Combat",Block:"Combat","Heavy Armor":"Combat","One Handed":"Combat",Smithing:"Combat","Two Handed":"Combat","Light Armor":"Stealth",Lockpicking:"Stealth",Pickpocket:"Stealth",Sneak:"Stealth",Speech:"Stealth",Enchanting:"Crafting"}[t]||"Other"}getAllPerks(){return this.perkNodes}getPerksBySkill(t){return this.perkNodes.filter(n=>n.skillTree===t)}getPerksByCategory(t){return this.perkNodes.filter(n=>n.category===t)}getPerksByPrerequisite(t){return this.perkNodes.filter(n=>n.prerequisites.includes(t))}getRootPerks(){return this.perkNodes.filter(t=>t.isRoot)}getMultiRankPerks(){return this.perkNodes.filter(t=>t.totalRanks>1)}searchPerks(t){const n=t.toLowerCase();return this.perkNodes.filter(s=>s.searchableText.includes(n)||s.name.toLowerCase().includes(n)||s.tags.some(r=>r.toLowerCase().includes(n)))}}function B_(){const{data:e,loading:t,error:n}=h0(),s=g.useMemo(()=>e?new IZ(e):null,[e]),r=g.useMemo(()=>(s==null?void 0:s.getAllPerks())||[],[s]);return{dataProvider:s,allPerks:r,loading:t,error:n}}function Dm(){const{dataProvider:e,allPerks:t,loading:n,error:s}=B_(),r=g.useMemo(()=>{const h=new Map;return t.forEach(p=>{h.has(p.skillTree)||h.set(p.skillTree,{id:p.skillTree,name:p.skillTreeName,count:0});const v=h.get(p.skillTree);v.count++}),Array.from(h.values()).sort((p,v)=>p.name.localeCompare(v.name))},[t]),i=g.useMemo(()=>{const h=new Map;return t.forEach(p=>{h.has(p.category)||h.set(p.category,{name:p.category,count:0});const v=h.get(p.category);v.count++}),Array.from(h.values()).sort((p,v)=>p.name.localeCompare(v.name))},[t]),o=g.useMemo(()=>{const h=new Set;return t.forEach(p=>{p.tags.forEach(v=>h.add(v))}),Array.from(h).sort()},[t]),l=g.useMemo(()=>t.filter(h=>h.isRoot),[t]),c=g.useMemo(()=>t.filter(h=>h.totalRanks>1),[t]),u=g.useMemo(()=>t.filter(h=>h.totalRanks===1),[t]),d=g.useMemo(()=>h=>(e==null?void 0:e.getPerksBySkill(h))||[],[e]),f=g.useMemo(()=>h=>(e==null?void 0:e.getPerksByCategory(h))||[],[e]),m=g.useMemo(()=>h=>(e==null?void 0:e.searchPerks(h))||[],[e]);return{allPerks:t,skillTrees:r,categories:i,tags:o,rootPerks:l,multiRankPerks:c,singleRankPerks:u,getPerksBySkill:d,getPerksByCategory:f,searchPerks:m,loading:n,error:s,dataProvider:e}}const HZ={skill:{Alchemy:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Alteration:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Archery:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200",Block:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Conjuration:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Destruction:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Enchanting:"bg-indigo-100 text-indigo-800 border-indigo-200 hover:bg-indigo-200","Heavy Armor":"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",Illusion:"bg-pink-100 text-pink-800 border-pink-200 hover:bg-pink-200","Light Armor":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200",Lockpicking:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200","One-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Pickpocket:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Restoration:"bg-teal-100 text-teal-800 border-teal-200 hover:bg-teal-200",Smithing:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Sneak:"bg-slate-100 text-slate-800 border-slate-200 hover:bg-slate-200",Speech:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200","Two-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200"},category:{Combat:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Crafting:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Survival:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Social:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200"},rank:{"1 rank":"bg-blue-100 text-blue-800 border-blue-200","2 ranks":"bg-green-100 text-green-800 border-green-200","3 ranks":"bg-purple-100 text-purple-800 border-purple-200","4 ranks":"bg-orange-100 text-orange-800 border-orange-200","5 ranks":"bg-red-100 text-red-800 border-red-200"},availability:{Available:"bg-green-100 text-green-800 border-green-200",Unavailable:"bg-red-100 text-red-800 border-red-200","Prerequisites Met":"bg-blue-100 text-blue-800 border-blue-200","Prerequisites Missing":"bg-gray-100 text-gray-800 border-gray-200"},level:{"Level 1+":"bg-green-100 text-green-800 border-green-200","Level 5+":"bg-blue-100 text-blue-800 border-blue-200","Level 10+":"bg-purple-100 text-purple-800 border-purple-200","Level 15+":"bg-orange-100 text-orange-800 border-orange-200","Level 20+":"bg-red-100 text-red-800 border-red-200","Level 25+":"bg-indigo-100 text-indigo-800 border-indigo-200","Level 30+":"bg-pink-100 text-pink-800 border-pink-200","Level 35+":"bg-teal-100 text-teal-800 border-teal-200","Level 40+":"bg-cyan-100 text-cyan-800 border-cyan-200","Level 45+":"bg-emerald-100 text-emerald-800 border-emerald-200","Level 50+":"bg-amber-100 text-amber-800 border-amber-200"},root:{Root:"bg-gold-100 text-gold-800 border-gold-200 hover:bg-gold-200"}},FZ={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},UZ="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function Sn({label:e,type:t,size:n="md",className:s}){const i=HZ[t][e]||UZ;return a.jsx(W,{variant:"outline",className:H(i,FZ[n],"font-medium transition-colors",s),children:e})}function VZ({item:e,className:t,isExpanded:n=!1,onToggle:s,disableHover:r=!1,viewMode:i="grid"}){const o=e.originalPerk,{allPerks:l}=Dm();if(!o)return null;const u=(d=>d.map(f=>{const m=l.find(h=>h.edid===f);return(m==null?void 0:m.name)||f}))(o.prerequisites);return a.jsxs(he,{className:t,expanded:n,onToggle:s,disableHover:r,children:[a.jsxs(he.Header,{children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsx("div",{className:"flex-1 min-w-0",children:i==="grid"?a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ne,{className:"text-primary font-semibold truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.skillTreeName&&a.jsx(Sn,{label:o.skillTreeName,type:"skill",size:"sm"}),o.totalRanks>1&&a.jsx(Sn,{label:`${o.totalRanks} ranks`,type:"rank",size:"sm"}),o.minLevel&&a.jsx(Sn,{label:`Level ${o.minLevel}+`,type:"level",size:"sm"})]})]}):a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(Ne,{className:"text-primary font-semibold truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.skillTreeName&&a.jsx(Sn,{label:o.skillTreeName,type:"skill",size:"sm"}),o.totalRanks>1&&a.jsx(Sn,{label:`${o.totalRanks} ranks`,type:"rank",size:"sm"}),o.minLevel&&a.jsx(Sn,{label:`Level ${o.minLevel}+`,type:"level",size:"sm"})]})]})})]}),a.jsxs(he.Summary,{children:[a.jsx(xe,{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((d,f)=>a.jsx(W,{variant:"outline",className:"text-xs",children:d},f)),e.tags.length>3&&a.jsxs(_s,{className:"text-muted-foreground",children:["+",e.tags.length-3," more"]})]})]}),a.jsxs(he.Details,{children:[o.prerequisites&&o.prerequisites.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Prerequisites"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:u.map((d,f)=>a.jsx(W,{variant:"secondary",className:"text-xs",children:d},f))})]}),o.ranks&&o.ranks.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Perk Ranks"}),a.jsx("div",{className:"space-y-2",children:o.ranks.map((d,f)=>{var m;return a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[a.jsx("div",{className:"flex items-center justify-between mb-1",children:a.jsxs("span",{className:"font-medium text-sm",children:["Rank ",f+1]})}),((m=d.description)==null?void 0:m.base)&&a.jsx(xe,{className:"text-sm text-muted-foreground",children:d.description.base})]},f)})})]}),e.tags.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((d,f)=>a.jsx(W,{variant:"outline",className:"text-xs",children:d},f))})]})]})]})}function I_(e,t){var o,l,c,u,d,f;const n=((l=(o=t.perks)==null?void 0:o.selected)==null?void 0:l[e.skillTree])||[],s=((u=(c=t.perks)==null?void 0:c.ranks)==null?void 0:u[e.skillTree])||{},r=n.includes(e.edid),i=s[e.edid]||0;return{id:e.edid,name:e.name,description:((f=(d=e.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:e.category,tags:e.tags,isSelected:r,originalPerk:e,skillTree:e.skillTree,skillTreeName:e.skillTreeName,isRoot:e.isRoot,hasChildren:e.hasChildren,prerequisites:e.prerequisites,connections:e.connections,totalRanks:e.totalRanks,currentRank:i,isAvailable:e.isRoot||e.prerequisites.every(m=>n.includes(m)),minLevel:e.minLevel}}function qZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const{build:i}=ht(),{allPerks:o}=Dm(),l=e.originalData,c=o.find(f=>f.edid===(l==null?void 0:l.edid));if(!c)return console.warn("Perk reference not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData}),null;const d={...I_(c,i),originalPerk:c};return a.jsx(VZ,{item:d,className:t,isExpanded:n,onToggle:s,viewMode:r})}function ZZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){var c;const i=Ni(u=>u.data),o=Li(i,e.originalData);if(!o)return console.error("Perk tree not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalPerkTreesInStore:i.length,firstFewPerkTrees:i.slice(0,3).map(u=>({treeId:u.treeId,treeName:u.treeName||u.name}))}),null;const l=((c=o.perks)==null?void 0:c.length)||0;return a.jsxs(he,{className:t,expanded:n,onToggle:s,children:[a.jsx(he.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:(o.treeName||o.name).charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:o.treeName||o.name}),o.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),a.jsxs(he.Summary,{children:[o.treeDescription&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.treeDescription}),l>0&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[a.jsx("span",{className:"font-medium",children:"Perks:"})," ",l," total"]})]}),a.jsxs(he.Details,{children:[o.perks&&o.perks.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Sample Perks"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.perks.slice(0,6).map((u,d)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:u.name},`${u.edid}-${d}`)),o.perks.length>6&&a.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded text-muted-foreground",children:["+",o.perks.length-6," more"]})]})]}),o.tags&&o.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((u,d)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded",children:u},`${u}-${d}`))})]})]})]})}function GZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=wr(c=>c.data),o=Li(i,e.originalData);if(!o)return console.error("Race not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalRacesInStore:i.length,firstFewRaces:i.slice(0,3).map(c=>({edid:c.edid,name:c.name}))}),null;const l={id:o.id||o.edid||o.name,name:o.name,description:o.description||"",summary:o.description||"",category:o.category||"",tags:o.tags||[],type:"race",effects:[]};return a.jsx("div",{className:t,children:a.jsx(ou,{item:{...l,originalRace:o},isExpanded:n,onToggle:s,showToggle:!1,disableHover:!1,className:"w-full"})})}function YZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=hl(h=>h.data),[o,l]=g.useState(null),[c,u]=g.useState(!1),d=Li(i,e.originalData);if(!d)return console.error("Religion not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalReligionsInStore:i.length,firstFewReligions:i.slice(0,3).map(h=>({id:h.id,name:h.name}))}),null;const f=O_(d),m=h=>{l(f),u(!0)};return a.jsxs("div",{className:t,children:[a.jsx(jC,{originalReligion:f,className:"w-full",onOpenDetails:m,showToggle:!0}),a.jsx(NC,{religion:o,isOpen:c,onClose:()=>u(!1)})]})}function XZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=ki(l=>l.data),o=Li(i,e.originalData);return o?a.jsxs(he,{className:t,expanded:n,onToggle:s,children:[a.jsx(he.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),a.jsxs(he.Summary,{children:[o.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description}),o.keyAbilities&&o.keyAbilities.length>0&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[a.jsx("span",{className:"font-medium",children:"Key abilities:"})," ",o.keyAbilities.slice(0,2).join(", "),o.keyAbilities.length>2&&"..."]})]}),a.jsxs(he.Details,{children:[o.tags&&o.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]}),o.keyAbilities&&o.keyAbilities.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Key Abilities"}),a.jsx("div",{className:"space-y-1",children:o.keyAbilities.map((l,c)=>a.jsxs("div",{className:"text-sm text-muted-foreground",children:["• ",l]},c))})]})]})]}):(console.error("Skill not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalSkillsInStore:i.length,firstFewSkills:i.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}function WZ({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){const i=Ci(l=>l.data),o=Li(i,e.originalData);return o?a.jsxs(he,{className:t,expanded:n,onToggle:s,children:[a.jsx(he.Header,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.category&&a.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),a.jsx(he.Summary,{children:o.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description})}),a.jsxs(he.Details,{children:[o.tags&&o.tags.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]}),o.description&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]})]})]}):(console.error("Trait not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalTraitsInStore:i.length,firstFewTraits:i.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}const KZ={Destruction:cl,Restoration:Bs,Conjuration:Sx,Illusion:ll,Alteration:at,"":la},QZ={Novice:"bg-green-100 text-green-800 border-green-200",Apprentice:"bg-blue-100 text-blue-800 border-blue-200",Adept:"bg-purple-100 text-purple-800 border-purple-200",Expert:"bg-orange-100 text-orange-800 border-orange-200",Master:"bg-red-100 text-red-800 border-red-200"};function JZ({spell:e,className:t,isExpanded:n=!1,onToggle:s,disableHover:r=!1}){var l;const i=KZ[e.school]||la,o=()=>{s==null||s()};return a.jsxs(he,{className:t,expanded:n,onToggle:o,disableHover:r,children:[a.jsx(he.Header,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(i,{className:"w-5 h-5 text-muted-foreground"}),a.jsx("h3",{className:"text-primary font-semibold text-lg",children:e.name}),a.jsx("span",{className:"ml-auto transition-transform duration-200 text-muted-foreground",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8l4 4 4-4"})})})]})}),a.jsx(he.Summary,{children:a.jsxs("div",{className:"px-4 py-2 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 7v14"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"})]}),a.jsx("span",{children:e.school})]}),a.jsx(W,{variant:"secondary",className:QZ[e.level]||"",children:e.level})]}),a.jsx(De,{text:e.description,className:"text-sm text-muted-foreground mb-3",as:"p"})]})}),a.jsx(he.Details,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.hasEffects&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Effects"}),a.jsx("div",{className:"space-y-2",children:e.effects.map((c,u)=>a.jsxs("div",{className:"p-2 rounded bg-muted border text-sm",children:[a.jsx(De,{text:c.description,className:"text-muted-foreground mb-2",as:"p"}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[c.magnitude>0&&a.jsxs("span",{children:["Magnitude: ",c.magnitude]}),c.duration>0&&a.jsxs("span",{children:["Duration: ",c.duration,"s"]}),c.area>0&&a.jsxs("span",{children:["Area: ",c.area,"ft"]})]})]},u))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Magicka Cost:"}),a.jsxs("span",{className:"font-medium",children:[e.magickaCost," MP"]})]}),e.totalMagnitude>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Magnitude:"}),a.jsx("span",{className:"font-medium",children:e.totalMagnitude})]}),e.maxDuration>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Max Duration:"}),a.jsxs("span",{className:"font-medium",children:[e.maxDuration,"s"]})]}),e.maxArea>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Max Area:"}),a.jsxs("span",{className:"font-medium",children:[e.maxArea,"ft"]})]})]})]}),(e.tome||((l=e.vendors)==null?void 0:l.length))&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Additional Info"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[e.tome&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tome:"}),a.jsx("span",{children:e.tome})]}),e.vendors&&e.vendors.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Vendors:"}),a.jsx("span",{children:e.vendors.join(", ")})]})]})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((c,u)=>a.jsx(W,{variant:"outline",className:"text-xs",children:c},u))})]})]})})]})}const eG=({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="card"})=>{const i=e.originalData;if(!i)return console.warn("SpellSearchCard: Missing spell data for item:",e),a.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[a.jsx("h3",{className:"font-semibold",children:"Spell not found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});if(!i.name||!i.editorId)return console.warn("SpellSearchCard: Invalid spell data structure:",i),a.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[a.jsx("h3",{className:"font-semibold",children:"Invalid spell data"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});const o=P.useCallback(()=>{s&&s()},[s]);return a.jsx(JZ,{spell:i,isExpanded:n,onToggle:o,className:t})},tG=({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"})=>{const i=e.originalData;if(!i||!i.name)return console.warn("RecipeSearchCard: Missing or invalid recipe data for item:",e),a.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[a.jsx("h3",{className:"font-semibold",children:"Recipe not found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});const o=Xe.addComputedProperties(i),l=P.useCallback(()=>{s&&s()},[s]);return a.jsx(Q0,{recipe:o,variant:r==="list"?"compact":"default",isSelected:!1,onClick:l,showEffects:!0,showIngredients:!0,className:t})};function _w({item:e,className:t,isExpanded:n=!1,onToggle:s,viewMode:r="grid"}){switch(e.type){case"race":return a.jsx(GZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"skill":return a.jsx(XZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"trait":return a.jsx(WZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"birthsign":return a.jsx(OZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"destiny":return a.jsx(BZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"religion":return a.jsx(YZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"perk":return a.jsx(ZZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"spell":return a.jsx(eG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"perk-reference":return a.jsx(qZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});case"recipe":return a.jsx(tG,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r});default:return a.jsx(PZ,{item:e,className:t,isExpanded:n,onToggle:s,viewMode:r})}}function nG({item:e}){return a.jsx("div",{className:`w-full border-2 rounded-lg p-4 ${e.color} transition-all duration-200 hover:shadow-lg`,style:{minHeight:`${e.height}px`},"data-testid":`test-card-${e.id}`,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:e.title}),a.jsxs("span",{className:"text-xs text-gray-500",children:["#",e.id.slice(-6)]})]}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((t,n)=>a.jsx("span",{className:"px-2 py-1 text-xs bg-white/50 rounded-full text-gray-700 border",children:t},n))}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Height: ",e.height,"px"]})]})})}const Aw={Alteration:i3,Conjuration:Sx,Destruction:cl,Illusion:ll,Restoration:Bs,Mysticism:la},sG={Alteration:"bg-blue-500 text-white",Conjuration:"bg-purple-500 text-white",Destruction:"bg-red-500 text-white",Illusion:"bg-indigo-500 text-white",Restoration:"bg-green-500 text-white",Mysticism:"bg-yellow-500 text-white"},Tw={Novice:1,Apprentice:2,Adept:3,Expert:4,Master:5},rG={sm:"w-6 h-6 text-sm",md:"w-8 h-8 text-base",lg:"w-10 h-10 text-lg",xl:"w-12 h-12 text-xl","2xl":"w-16 h-16 text-2xl"},aG={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"};let Hh=null;function iG(){return Hh||(Hh=new zZ),Hh}function J0(){const[e,t]=g.useState(!1),[n,s]=g.useState(!1),[r,i]=g.useState(null),o=ki(N=>N.data),l=wr(N=>N.data),c=Ci(N=>N.data),u=hl(N=>N.data),d=Si(N=>N.data),f=ml(N=>N.data),m=Ni(N=>N.data),h=ar(N=>N.data),p=no(N=>N.data),{allPerks:v}=B_(),b=iG(),x=g.useCallback(async(N,E,S)=>{if(E!=null&&E.length)try{const _=S(E);await b.addToIndex(N,_)}catch(_){console.error(`Failed to index ${N}:`,_)}},[b]);g.useEffect(()=>{o!=null&&o.length&&x("skills",o,b.transformSkillsToSearchable)},[o,x]),g.useEffect(()=>{l!=null&&l.length&&x("races",l,b.transformRacesToSearchable)},[l,x]),g.useEffect(()=>{c!=null&&c.length&&x("traits",c,b.transformTraitsToSearchable)},[c,x]),g.useEffect(()=>{u!=null&&u.length&&x("religions",u,b.transformReligionsToSearchable)},[u,x]),g.useEffect(()=>{d!=null&&d.length&&x("birthsigns",d,b.transformBirthsignsToSearchable)},[d,x]),g.useEffect(()=>{f!=null&&f.length&&x("destinyNodes",f,b.transformDestinyNodesToSearchable)},[f,x]),g.useEffect(()=>{m!=null&&m.length&&x("perkTrees",m,b.transformPerkTreesToSearchable)},[m,x]),g.useEffect(()=>{h!=null&&h.length&&x("recipes",h,b.transformRecipesToSearchable)},[h,x]),g.useEffect(()=>{v!=null&&v.length&&x("perk-references",v,b.transformPerkReferencesToSearchable)},[v,x]),g.useEffect(()=>{p!=null&&p.length&&x("spells",p,b.transformSpellsToSearchable)},[p,x]),g.useEffect(()=>{((o==null?void 0:o.length)||(l==null?void 0:l.length)||(c==null?void 0:c.length)||(u==null?void 0:u.length)||(d==null?void 0:d.length)||(f==null?void 0:f.length)||(m==null?void 0:m.length)||(h==null?void 0:h.length)||(v==null?void 0:v.length)||(p==null?void 0:p.length))&&b.hasIndexedData()&&(b.rebuildSearchIndex(),t(!0))},[o,l,c,u,d,f,m,h,v,p,b]);const y=g.useCallback((N,E)=>N.trim()?b.search(N,E):[],[b]),j=g.useCallback(()=>b.getAvailableFilters(),[b]),w=g.useCallback(()=>b.getSearchableItems(),[b]);return{isReady:e,isIndexing:n,error:r,search:y,getAvailableFilters:j,getSearchableItems:w}}function Fh(e,t){return e.length!==t.length?!1:e.every((n,s)=>n===t[s])}function Mw(e){var t,n,s;return{tags:((t=e.get("tags"))==null?void 0:t.split(",").filter(Boolean))||[],types:((n=e.get("types"))==null?void 0:n.split(",").filter(Boolean))||[],categories:((s=e.get("categories"))==null?void 0:s.split(",").filter(Boolean))||[],viewMode:e.get("view")||"grid"}}function ev(){const[e,t]=QD(),n=g.useRef(!1),s=g.useRef(""),r=g.useRef(null),i=Mw(e),[o,l]=g.useState({types:i.types,categories:i.categories,tags:i.tags}),[c,u]=g.useState(i.viewMode);g.useEffect(()=>{if(n.current)return;const v=e.toString();if(v===s.current)return;s.current=v;const b=Mw(e);Fh(b.types,o.types)||l(x=>({...x,types:b.types})),Fh(b.categories,o.categories)||l(x=>({...x,categories:b.categories})),Fh(b.tags,o.tags)||l(x=>({...x,tags:b.tags})),b.viewMode!==c&&u(b.viewMode)},[e,o.types,o.categories,o.tags,c]),g.useEffect(()=>{r.current&&clearTimeout(r.current),n.current=!0;const v=new URLSearchParams;o.types.length>0&&v.set("types",o.types.join(",")),o.categories.length>0&&v.set("categories",o.categories.join(",")),o.tags.length>0&&v.set("tags",o.tags.join(",")),c!=="grid"&&v.set("view",c),t(v,{replace:!0}),r.current=setTimeout(()=>{n.current=!1},10)},[o,c,t]),g.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]);const d=g.useCallback(v=>{l(b=>({...b,...v}))},[]),f=g.useCallback(v=>{l(b=>({...b,tags:b.tags.includes(v)?b.tags:[...b.tags,v]}))},[]),m=g.useCallback(v=>{l(b=>({...b,tags:b.tags.filter(x=>x!==v)}))},[]),h=g.useCallback(()=>{l({types:[],categories:[],tags:[]})},[]),p=g.useCallback(v=>{u(v)},[]);return{activeFilters:o,setActiveFilters:d,addTag:f,removeTag:m,clearFilters:h,viewMode:c,setViewMode:p}}function tv(){const{search:e,getAvailableFilters:t,isReady:n,getSearchableItems:s}=J0(),{activeFilters:r}=ev(),i=g.useMemo(()=>s().length,[s]),o=g.useMemo(()=>{if(!n)return[];if(!(r.tags.length>0||r.types.length>0||r.categories.length>0))return s().map(p=>({item:p,score:1,matches:[],highlights:[]}));const d=r.tags.join(" "),f={...r,tags:[]};return e(d||"*",f)},[n,e,r,s]),l=g.useMemo(()=>n?t():{types:[],categories:[],tags:[]},[n,t,i]),c=g.useMemo(()=>{const u={};return o.forEach(d=>{const f=d.item.type;u[f]=(u[f]||0)+1,d.item.category&&(u[`category:${d.item.category}`]=(u[`category:${d.item.category}`]||0)+1),d.item.tags.forEach(m=>{u[`tag:${m}`]=(u[`tag:${m}`]||0)+1})}),u},[o]);return{searchResults:o,availableFilters:l,resultCounts:c}}const Rw=50;function oG(e){const[t,n]=g.useState([]),[s,r]=g.useState(1),i=s*Rw;g.useEffect(()=>{const d=e.slice(0,i);n(d)},[e,i]);const o=g.useMemo(()=>t.length<e.length,[t.length,e.length]),l=g.useCallback(()=>{o&&r(d=>d+1)},[o]),c=g.useCallback(()=>{r(1),n([])},[]),u=g.useMemo(()=>({displayedItems:t.length,totalItems:e.length,hasMore:o,currentPage:s,itemsPerPage:Rw}),[t.length,e.length,o,s]);return{displayedItems:t,loadMore:l,resetPagination:c,paginationInfo:u,hasMore:o}}function lG(){const{searchResults:e,resultCounts:t}=tv();ev();const{displayedItems:n,loadMore:s,resetPagination:r,paginationInfo:i,hasMore:o}=oG(e),l=g.useMemo(()=>n,[n]),c=g.useMemo(()=>cG(l,"relevance"),[l]),u=g.useMemo(()=>c.map(RZ),[c]),d=g.useMemo(()=>e.length,[e]),f=g.useMemo(()=>{const m={};return n.forEach(h=>{const p=h.item.type;m[p]||(m[p]=[]),m[p].push(h)}),m},[n]);return{filteredResults:l,sortedResults:c,playerCreationItems:u,resultCounts:t,totalResults:d,resultsByType:f,loadMore:s,resetPagination:r,paginationInfo:i,hasMore:o}}function cG(e,t){const n=[...e];switch(t){case"relevance":return n;case"name":return n.sort((s,r)=>s.item.name.localeCompare(r.item.name));case"type":return n.sort((s,r)=>{const i=s.item.type.localeCompare(r.item.type);return i!==0?i:s.item.name.localeCompare(r.item.name)});default:return n}}function uG({activeFilters:e,onFiltersChange:t,onClearFilters:n,availableFilters:s,resultCount:r,onTagSelect:i,onTagRemove:o,selectedTags:l,className:c}){const u=e.types.length>0||e.categories.length>0||e.tags.length>0,d=h=>{const p=e.types.includes(h)?e.types.filter(v=>v!==h):[...e.types,h];t({types:p})},m=[{id:"fuzzy-search",name:"Search All",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Filter by category...",options:(s.categories||[]).filter(h=>h&&typeof h.label=="string").map(h=>({id:`category-${h.value}`,label:String(h.label),value:h.value,category:"Categories",description:`${h.count} item${h.count!==1?"s":""}`}))},{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:(s.tags||[]).filter(h=>h&&typeof h.label=="string").map(h=>({id:`tag-${h.value}`,label:String(h.label),value:h.value,category:"Tags",description:`${h.count} item${h.count!==1?"s":""}`}))}];return a.jsxs("div",{className:H("space-y-4",c),children:[a.jsx("div",{className:"space-y-2",children:a.jsx(Aa,{categories:m,onSelect:i,onCustomSearch:i})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"text-sm font-medium",children:"Record Types"})}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.types.map(h=>a.jsxs(q,{variant:e.types.includes(h.value)?"default":"outline",size:"sm",onClick:()=>d(h.value),className:"text-xs",children:[h.label,a.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",h.count,")"]})]},h.value))})]}),l.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Active Filters"}),a.jsx(q,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear All"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(h=>a.jsxs(W,{variant:"secondary",className:"text-xs",children:[h.category,": ",h.label,a.jsx(q,{variant:"ghost",size:"sm",onClick:()=>o(h.id),className:"h-4 w-4 p-0 ml-1 hover:bg-transparent",children:a.jsx(_t,{className:"h-3 w-3"})})]},h.id))})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[r," result",r!==1?"s":""," found"]}),u&&a.jsx(q,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear Filters"})]})]})}function H_({items:e,keyExtractor:t,renderItem:n,loadMore:s,hasMore:r=!0,columns:i=3,gap:o=12,maxColumnWidth:l,className:c=""}){const[u,d]=g.useState(0),f=g.useRef(null),m=g.useRef(null),h=g.useCallback(()=>l&&u>0?Math.max(1,Math.floor(u/l)):i,[i,l,u]);g.useEffect(()=>{const v=()=>{f.current&&d(f.current.offsetWidth)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),g.useEffect(()=>{if(!s||!r||!m.current)return;const v=new IntersectionObserver(b=>{b.forEach(x=>{x.isIntersecting&&s&&s()})},{threshold:.1,rootMargin:"0px 0px 4000px 0px"});return v.observe(m.current),()=>v.disconnect()},[s,r]);const p=g.useCallback(()=>{const v=h(),b=Array.from({length:v},()=>[]);return e.forEach((x,y)=>{const j=y%v,w=t(x);b[j].push(a.jsx("div",{style:{width:"100%",marginBottom:`${o}px`},children:n(x)},w))}),b.map((x,y)=>a.jsx("div",{style:{width:`calc(${100/v}% - ${o/2}px)`,marginRight:y<v-1?`${o}px`:0},children:x},y))},[e,t,n,h,o]);return e.length===0?a.jsx("div",{className:`text-center py-12 ${c}`,children:a.jsx("p",{className:"text-muted-foreground",children:"No items to display"})}):a.jsxs("div",{ref:f,className:c,children:[a.jsx("div",{style:{display:"flex",width:"100%"},children:p()}),r&&s&&a.jsx("div",{ref:m,className:"w-full h-16 mt-16",style:{minHeight:"64px"}})]})}function dG({items:e,className:t,viewMode:n="grid",onViewModeChange:s,onLoadMore:r,hasMore:i=!0,paginationInfo:o}){const[l,c]=g.useState(new Set);g.useEffect(()=>{if(n==="grid"){const d=new Set(e.map(f=>f.id));c(d)}},[n,e]);const u=d=>{if(n==="grid")return;const f=new Set(l);f.has(d)?f.delete(d):f.add(d),c(f)};return e.length===0?a.jsx("div",{className:`text-center py-12 ${t}`,children:a.jsx("p",{className:"text-muted-foreground",children:"No results found"})}):a.jsxs("div",{className:t,children:[s&&a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-sm text-muted-foreground",children:o?a.jsxs(a.Fragment,{children:["Showing ",o.displayedItems," of ",o.totalItems," result",o.totalItems!==1?"s":"",o.hasMore&&a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Scroll to load more)"})]}):`${e.length} result${e.length!==1?"s":""} found`})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(q,{variant:n==="grid"?"default":"outline",size:"sm",onClick:()=>s("grid"),className:"flex items-center gap-2",children:[a.jsx(_4,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(q,{variant:n==="list"?"default":"outline",size:"sm",onClick:()=>s("list"),className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),"List"]})]})]}),n==="grid"?a.jsx(H_,{items:e,keyExtractor:d=>d.id,renderItem:d=>a.jsx(_w,{item:d,isExpanded:!0,onToggle:()=>{},viewMode:"grid"}),columns:3,gap:16,maxColumnWidth:400,loadMore:r,hasMore:i}):a.jsxs("div",{className:"space-y-2",children:[e.map(d=>{const f=l.has(d.id);return a.jsx(_w,{item:d,isExpanded:f,onToggle:()=>u(d.id),viewMode:"list"},d.id)}),i&&r&&a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs(q,{variant:"outline",onClick:r,className:"w-full max-w-xs",children:["Load More (",(o==null?void 0:o.displayedItems)||0," of ",(o==null?void 0:o.totalItems)||0,")"]})})]})]})}function fG({className:e,placeholder:t="Search skills, races, traits, religions..."}){const n=lt(),{isReady:s}=J0(),{availableFilters:r}=tv(),o=[{id:"fuzzy-search",name:"Search All",placeholder:t,options:r.types.map(c=>({id:`type-${c.value}`,label:c.label,value:c.value,category:"Search All",description:`${c.count} ${c.label}${c.count!==1?"s":""}`}))}],l=c=>{if(typeof c=="string")n(`/search?tags=${encodeURIComponent(c)}`);else if(c.id.startsWith("type-")){const u=c.value;n(`/search?types=${encodeURIComponent(u)}`)}else n(`/search?tags=${encodeURIComponent(c.value)}`)};return s?a.jsx("div",{className:H("flex items-center gap-2",e),children:a.jsx("div",{className:"flex-1",children:a.jsx(uk,{categories:o,onSelect:l,onCustomSearch:l,placeholder:t})})}):a.jsx("div",{className:H("flex items-center gap-2",e),children:a.jsx("div",{className:"flex-1 h-10 bg-muted animate-pulse rounded-md"})})}function mG({title:e,description:t,children:n}){return a.jsxs("div",{className:"bg-background",children:[a.jsx("div",{className:"border-b border-border bg-card/50",children:a.jsxs("div",{className:"container mx-auto px-4 py-6",children:[a.jsx(_i,{className:"text-3xl font-bold text-primary mb-2",children:e}),t&&a.jsx(xe,{className:"text-muted-foreground max-w-2xl",children:t})]})}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:n})]})}function hG(){const{isReady:e,isIndexing:t,error:n}=J0(),{activeFilters:s,setActiveFilters:r,clearFilters:i,addTag:o,removeTag:l}=ev(),{availableFilters:c}=tv(),{filteredResults:u,totalResults:d,loadMore:f,resetPagination:m,paginationInfo:h,hasMore:p}=lG(),[v,b]=g.useState([]),[x,y]=g.useState("grid");g.useEffect(()=>{m()},[s,m]),g.useEffect(()=>{const C=[];s.tags.forEach(k=>{C.push({id:`custom-${k}`,label:k,value:k,category:"Search All"})}),s.categories.forEach(k=>{C.push({id:`category-${k}`,label:k,value:k,category:"Categories"})}),b(C)},[s.tags,s.categories]);const j=C=>{o(C.value),b(k=>[...k,C])},w=C=>{const k=v.find(R=>R.id===C);k&&(l(k.value),b(R=>R.filter(O=>O.id!==C)))},N=C=>{y(C)},E=()=>{i(),b([])};if(!e)return a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-muted-foreground",children:t?"Indexing search data...":"Loading..."})})});if(n)return a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive",children:"Error loading search data"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})});const S="Search",_=v.length>0?`Search results for ${v.length} filter${v.length!==1?"s":""}`:"Search across all skills, races, traits, religions, birthsigns, destiny nodes, and perk references";return a.jsxs(a.Fragment,{children:[a.jsxs(mG,{title:S,description:_,children:[a.jsx("div",{className:"mb-6",children:a.jsx(uG,{activeFilters:s,onFiltersChange:r,onClearFilters:E,availableFilters:c,resultCount:d,onTagSelect:j,onTagRemove:w,selectedTags:v})}),a.jsx("div",{className:"w-full",children:a.jsx(dG,{items:u.map(C=>C.item),viewMode:x,onViewModeChange:N,onLoadMore:f,hasMore:p,paginationInfo:h})})]}),a.jsx(l8,{threshold:400})]})}function gG(){return a.jsx(hG,{})}const Dw=["bg-red-100 border-red-300","bg-blue-100 border-blue-300","bg-green-100 border-green-300","bg-yellow-100 border-yellow-300","bg-purple-100 border-purple-300","bg-pink-100 border-pink-300","bg-indigo-100 border-indigo-300","bg-gray-100 border-gray-300"],zw=["Mystical Artifact","Ancient Scroll","Enchanted Weapon","Potion of Power","Crystal Shard","Runic Tablet","Magical Tome","Arcane Relic","Divine Essence","Ethereal Fragment"],Lw=["A powerful artifact imbued with ancient magic.","Scroll containing forgotten spells and rituals.","Weapon blessed by the gods themselves.","Brew that grants temporary supernatural abilities.","Crystal that resonates with magical energy.","Tablet inscribed with mysterious runes.","Book of forbidden knowledge and power.","Relic from a bygone era of magic.","Essence of divine power and wisdom.","Fragment of pure ethereal energy."],pG=["magic","ancient","powerful","rare","legendary","enchanted","divine","mystical","forbidden","sacred"];function $w(e){const t=[];for(let n=0;n<e;n++){const s=`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r=Math.floor(Math.random()*200)+100,i=Dw[Math.floor(Math.random()*Dw.length)],o=zw[Math.floor(Math.random()*zw.length)],l=Lw[Math.floor(Math.random()*Lw.length)],c=[],u=Math.floor(Math.random()*3)+1,d=[...pG].sort(()=>.5-Math.random());c.push(...d.slice(0,u)),t.push({id:s,title:o,description:l,height:r,color:i,tags:c})}return t}function xG(){const[e,t]=P.useState(()=>$w(50)),[n,s]=P.useState(!1),[r,i]=P.useState(!0),o=P.useCallback(async()=>{if(n||!r)return;s(!0),await new Promise(d=>setTimeout(d,500));const u=$w(20);t(d=>[...d,...u]),e.length+u.length>=200&&i(!1),s(!1)},[n,r,e.length]),l=u=>u.id,c=u=>a.jsx(nG,{item:u});return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"VirtualMasonryGrid Demo"}),a.jsxs("p",{className:"text-muted-foreground",children:["Testing InfiniteGrid implementation with ",e.length," items"]}),n&&a.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Loading more items..."}),!r&&a.jsx("div",{className:"mt-2 text-sm text-green-600",children:"All items loaded (200 total)"})]}),a.jsx(H_,{items:e,keyExtractor:l,renderItem:c,loadMore:o,hasMore:r,columns:3,gap:16,className:"min-h-screen"})]})}function nv(){const[e,t]=g.useState({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[n,s]=g.useState({skills:[],categories:[],prerequisites:[],tags:[]});g.useCallback(h=>{s(h)},[]);const r=g.useCallback(h=>{t(p=>({...p,skills:[...p.skills,h]}))},[]),i=g.useCallback(h=>{t(p=>({...p,skills:p.skills.filter(v=>v!==h)}))},[]);g.useCallback(h=>{t(p=>({...p,categories:[...p.categories,h]}))},[]),g.useCallback(h=>{t(p=>({...p,categories:p.categories.filter(v=>v!==h)}))},[]),g.useCallback(h=>{t(p=>({...p,prerequisites:[...p.prerequisites,h]}))},[]),g.useCallback(h=>{t(p=>({...p,prerequisites:p.prerequisites.filter(v=>v!==h)}))},[]),g.useCallback(h=>{t(p=>({...p,tags:[...p.tags,h]}))},[]);const o=g.useCallback(h=>{t(p=>({...p,tags:p.tags.filter(v=>v!==h)}))},[]);g.useCallback(h=>{t(p=>({...p,rankLevel:h}))},[]),g.useCallback(h=>{t(p=>({...p,rootOnly:h}))},[]);const l=g.useCallback(h=>{t(p=>({...p,minLevel:h}))},[]),c=g.useCallback(h=>{t(p=>({...p,searchQuery:h}))},[]),u=g.useCallback(()=>{t({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0})},[]),d=g.useMemo(()=>{const h=[];return e.skills.forEach(p=>{const v=n.skills.find(b=>b.id===p);v&&h.push({id:`skill-${p}`,type:"skill",value:p,label:v.name})}),e.categories.forEach(p=>{h.push({id:`category-${p}`,type:"category",value:p,label:p})}),e.prerequisites.forEach(p=>{h.push({id:`prerequisite-${p}`,type:"prerequisite",value:p,label:p})}),e.tags.forEach(p=>{h.push({id:`tag-${p}`,type:"tag",value:p,label:p})}),e.rankLevel!=="all"&&h.push({id:"rank-level",type:"rankLevel",value:e.rankLevel,label:e.rankLevel==="single"?"Single Rank":"Multi Rank"}),e.rootOnly&&h.push({id:"root-only",type:"rootOnly",value:"true",label:"Root Perks Only"}),e.minLevel!==void 0&&h.push({id:"min-level",type:"minLevel",value:e.minLevel.toString(),label:`Level ${e.minLevel}+`}),h},[e,n]);g.useMemo(()=>{const h=[];return n.skills.forEach(p=>{h.push({id:`skill-${p.id}`,label:p.name,value:p.id,category:"Skills",type:"skill"})}),n.tags.forEach(p=>{h.push({id:`tag-${p}`,label:p,value:p,category:"Tags",type:"tag"})}),h},[n]);const f=g.useCallback(h=>{if(typeof h=="string")c(h);else if(`${h.category}${h.id}`,h.label,h.value,h.category,h.category==="Skill Trees")r(h.value);else if(h.category==="Minimum Level"){const p=parseInt(h.value);isNaN(p)||l(p)}else h.category==="Fuzzy Search"&&c(h.value)},[r,c,l]),m=g.useCallback(h=>{const p=d.find(v=>v.id===h);if(p)p.type==="skill"?i(p.value):p.type==="tag"?o(p.value):p.type==="minLevel"&&l(void 0);else if(h.startsWith("custom-")){const v=h.replace("custom-","");e.searchQuery===v&&c("")}},[d,i,o,l,e.searchQuery,c]);return{selectedTags:[...d.map(h=>({id:h.id,label:h.label,value:h.value,category:h.type})),...e.searchQuery?[{id:`custom-${e.searchQuery}`,label:e.searchQuery,value:e.searchQuery,category:"Fuzzy Search"}]:[]],viewMode:"grid",searchQuery:e.searchQuery,onTagSelect:f,onTagRemove:m,onClearTags:u,onViewModeChange:()=>{},onSearchChange:c}}class vG{constructor(t,n){Ge(this,"perkNodes");Ge(this,"buildState");this.perkNodes=t,this.buildState=n}transformToPlayerCreationItem(t){var o,l,c,u,d,f;const n=((l=(o=this.buildState.perks)==null?void 0:o.selected)==null?void 0:l[t.skillTree])||[],s=((u=(c=this.buildState.perks)==null?void 0:c.ranks)==null?void 0:u[t.skillTree])||{},r=n.includes(t.edid),i=s[t.edid]||0;return{id:t.edid,name:t.name,description:((f=(d=t.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:t.category,tags:t.tags,isSelected:r,originalPerk:t,skillTree:t.skillTree,skillTreeName:t.skillTreeName,isRoot:t.isRoot,hasChildren:t.hasChildren,prerequisites:t.prerequisites,connections:t.connections,totalRanks:t.totalRanks,currentRank:i,isAvailable:this.isPerkAvailable(t),minLevel:t.minLevel}}isPerkAvailable(t){var s,r;if(t.isRoot)return!0;const n=((r=(s=this.buildState.perks)==null?void 0:s.selected)==null?void 0:r[t.skillTree])||[];return t.prerequisites.every(i=>n.includes(i))}applyFilters(t,n){let s=[...t];if(!n)return s;if(n.skills&&n.skills.length>0&&(s=s.filter(r=>n.skills.includes(r.skillTree))),n.categories&&n.categories.length>0&&(s=s.filter(r=>n.categories.includes(r.category))),n.prerequisites&&n.prerequisites.length>0&&(s=s.filter(r=>n.prerequisites.some(i=>r.prerequisites.includes(i)))),n.tags&&n.tags.length>0&&(s=s.filter(r=>n.tags.some(i=>r.tags.includes(i)))),n.minLevel!==void 0&&(s=s.filter(r=>(r.minLevel||0)>=n.minLevel)),n.rankLevel!=="all"&&(s=s.filter(r=>n.rankLevel==="single"?r.totalRanks===1:n.rankLevel==="multi"?r.totalRanks>1:!0)),n.rootOnly&&(s=s.filter(r=>r.isRoot)),n.searchQuery&&n.searchQuery.trim()){const r=n.searchQuery.trim(),i=s.map(u=>{var d,f;return{id:u.edid,name:u.name,description:((f=(d=u.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",searchableText:u.searchableText,tags:u.tags,category:u.category,skillTree:u.skillTreeName,originalNode:u}}),o={keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0};s=new Qt(i,o).search(r).map(u=>u.item.originalNode)}return s}getAvailableFilters(t){const n=new Set,s=new Set,r=new Set,i=new Set;return t.forEach(o=>{n.add(o.skillTree),s.add(o.category),o.tags.forEach(l=>r.add(l)),o.prerequisites.forEach(l=>i.add(l))}),{skills:Array.from(n),categories:Array.from(s),tags:Array.from(r),prerequisites:Array.from(i)}}sortPerks(t,n="name"){const s=[...t];switch(n){case"name":return s.sort((r,i)=>r.name.localeCompare(i.name));case"skill":return s.sort((r,i)=>r.skillTreeName.localeCompare(i.skillTreeName));case"category":return s.sort((r,i)=>r.category.localeCompare(i.category));case"rank":return s.sort((r,i)=>i.totalRanks-r.totalRanks);case"prerequisites":return s.sort((r,i)=>r.prerequisites.length-i.prerequisites.length);default:return s}}}function yG(e,t){const{build:n}=ht(),s=g.useMemo(()=>new vG(e,n),[e,n]),r=g.useMemo(()=>s.applyFilters(e,t||{skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[s,e,t]),i=g.useMemo(()=>r.map(l=>s.transformToPlayerCreationItem(l)),[r,s]),o=g.useMemo(()=>s.getAvailableFilters(e),[s,e]);return{model:s,filteredNodes:r,perkItems:i,availableFilters:o}}function bG(){const{allPerks:e,skillTrees:t,categories:n,tags:s,loading:r,error:i}=Dm(),{selectedTags:o,searchQuery:l}=nv(),c=g.useMemo(()=>{const v=o.filter(j=>j.category==="skill").map(j=>j.value),b=o.filter(j=>j.category==="tag").map(j=>j.value),x=o.filter(j=>j.category==="minLevel").map(j=>parseInt(j.value)).find(j=>!isNaN(j));return{skills:v,categories:[],prerequisites:[],tags:b,rankLevel:"all",rootOnly:!1,searchQuery:l||"",minLevel:x}},[o,l]),{filteredNodes:u,perkItems:d,availableFilters:f}=yG(e,c),m=g.useMemo(()=>{const v=[...new Set(e.map(y=>y.skillTreeName))],b=[...new Set(e.flatMap(y=>y.tags))],x=[...new Set(e.map(y=>y.minLevel||0))].sort((y,j)=>y-j);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:b.map(y=>({id:`keyword-${y}`,label:y,value:y,category:"Fuzzy Search",description:`Perks with ${y} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:v.map(y=>({id:`skill-${y}`,label:y,value:y,category:"Skill Trees",description:`Perks from ${y} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:x.map(y=>({id:`level-${y}`,label:`Level ${y}+`,value:y.toString(),category:"Minimum Level",description:`Perks requiring level ${y} or higher`}))}]},[e]),h=g.useMemo(()=>({totalPerks:e.length,filteredPerks:u.length,rootPerks:e.filter(v=>v.isRoot).length,multiRankPerks:e.filter(v=>v.totalRanks>1).length,singleRankPerks:e.filter(v=>v.totalRanks===1).length,skills:t.length,categories:n.length,tags:s.length}),[e,u,t,n,s]),p=g.useMemo(()=>{const v=new Map;return d.forEach(b=>{v.has(b.skillTree)||v.set(b.skillTree,[]),v.get(b.skillTree).push(b)}),Array.from(v.entries()).map(([b,x])=>{var y;return{skillId:b,skillName:((y=x[0])==null?void 0:y.skillTreeName)||b,perks:x,count:x.length}}).sort((b,x)=>b.skillName.localeCompare(x.skillName))},[d]);return g.useMemo(()=>{const v=new Map;return d.forEach(b=>{v.has(b.category||"")||v.set(b.category||"",[]),v.get(b.category||"").push(b)}),Array.from(v.entries()).map(([b,x])=>({category:b,perks:x,count:x.length})).sort((b,x)=>(b.category||"").localeCompare(x.category||""))},[d]),g.useMemo(()=>d.filter(v=>v.isSelected),[d]),g.useMemo(()=>d.filter(v=>v.isAvailable),[d]),g.useMemo(()=>d.filter(v=>v.isRoot),[d]),g.useMemo(()=>d.filter(v=>v.totalRanks>1),[d]),g.useMemo(()=>d.filter(v=>v.totalRanks===1),[d]),g.useMemo(()=>(v,b="name")=>{const x=[...v];switch(b){case"name":return x.sort((y,j)=>y.name.localeCompare(j.name));case"skill":return x.sort((y,j)=>y.skillTreeName.localeCompare(j.skillTreeName));case"category":return x.sort((y,j)=>(y.category||"").localeCompare(j.category||""));case"rank":return x.sort((y,j)=>j.totalRanks-y.totalRanks);case"prerequisites":return x.sort((y,j)=>y.prerequisites.length-j.prerequisites.length);case"selected":return x.sort((y,j)=>Number(j.isSelected)-Number(y.isSelected));default:return x}},[]),{filteredItems:d,groupedItems:Object.fromEntries(p.map(v=>[v.skillId,v.perks])),stats:{totalPerks:h.totalPerks,skillTrees:h.skills,multiRank:h.multiRankPerks,singleRank:h.singleRankPerks,withPrerequisites:e.filter(v=>v.prerequisites&&v.prerequisites.length>0).length},searchCategories:m,availableFilters:f,isLoading:r,error:i}}function wG({perk:e,isOpen:t,onOpenChange:n}){var s,r;return e?a.jsx(vl,{open:t,onOpenChange:n,side:"right",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-2xl font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Sn,{label:e.skillTreeName,type:"skill",size:"sm"}),e.totalRanks>1&&a.jsx(Sn,{label:`${e.totalRanks} ranks`,type:"rank",size:"sm"}),e.minLevel&&a.jsx(Sn,{label:`Level ${e.minLevel}+`,type:"level",size:"sm"}),a.jsx(Qn,{itemId:e.edid,itemType:"perk",itemName:e.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:((r=(s=e.ranks[0])==null?void 0:s.description)==null?void 0:r.base)||"No description available."})]})]})}),a.jsxs("div",{className:"space-y-6",children:[e.prerequisites&&e.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Prerequisites"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.prerequisites.map((i,o)=>a.jsx(W,{variant:"secondary",className:"text-sm",children:i},o))})]}),e.ranks&&e.ranks.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Perk Ranks"}),a.jsx("div",{className:"space-y-3",children:e.ranks.map((i,o)=>{var l,c,u;return a.jsxs("div",{className:"p-4 rounded-lg border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"font-medium text-sm",children:["Rank ",o+1]}),((c=(l=i.prerequisites)==null?void 0:l.skillLevel)==null?void 0:c.level)&&a.jsxs(W,{variant:"outline",className:"text-xs",children:["Level ",i.prerequisites.skillLevel.level]})]}),((u=i.description)==null?void 0:u.base)&&a.jsx(xe,{className:"text-sm text-muted-foreground",children:i.description.base})]},o)})})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((i,o)=>a.jsx(W,{variant:"outline",className:"text-sm",children:i},o))})]}),a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Additional Info"}),a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Skill Tree:"}),a.jsx("span",{className:"font-medium",children:e.skillTreeName})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Total Ranks:"}),a.jsx("span",{className:"font-medium",children:e.totalRanks})]}),e.isRoot&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Type:"}),a.jsx(W,{variant:"secondary",className:"text-xs",children:"Root Perk"})]}),e.hasChildren&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Has Children:"}),a.jsx("span",{className:"font-medium",children:"Yes"})]})]})]})]})]})}):null}function Pw({item:e,className:t,onClick:n,viewMode:s="grid"}){const r=e.originalPerk;return a.jsx("div",{className:H("p-4 rounded-lg border bg-background hover:bg-muted/50 transition-all duration-200 hover:shadow-md cursor-pointer",s==="list"&&"flex items-center gap-4",t),onClick:n,children:s==="grid"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx(ca,{className:"text-sm font-semibold line-clamp-1",children:e.name}),a.jsx(_s,{className:"text-muted-foreground",children:r.skillTreeName})]})]})}),a.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[r.totalRanks>1&&a.jsx(Sn,{label:`${r.totalRanks} ranks`,type:"rank",size:"sm"}),r.minLevel&&a.jsx(Sn,{label:`Level ${r.minLevel}+`,type:"level",size:"sm"})]}),a.jsx(xe,{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:e.description}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((i,o)=>a.jsx(W,{variant:"outline",className:"text-xs",children:i},o)),e.tags.length>3&&a.jsxs(_s,{className:"text-muted-foreground",children:["+",e.tags.length-3," more"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:e.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(ca,{className:"text-sm font-semibold truncate",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.totalRanks>1&&a.jsx(Sn,{label:`${r.totalRanks} ranks`,type:"rank",size:"sm"}),r.minLevel&&a.jsx(Sn,{label:`Level ${r.minLevel}+`,type:"level",size:"sm"})]})]}),a.jsx(xe,{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(_s,{className:"text-muted-foreground",children:r.skillTreeName}),e.tags.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[e.tags.slice(0,2).map((i,o)=>a.jsx(W,{variant:"outline",className:"text-xs",children:i},o)),e.tags.length>2&&a.jsxs(_s,{className:"text-muted-foreground",children:["+",e.tags.length-2," more"]})]})]})]})]})})}function jG(e,t){const n=g.useMemo(()=>e.map(l=>{var c,u;return{id:l.edid,name:l.name,description:((u=(c=l.ranks[0])==null?void 0:c.description)==null?void 0:u.base)||"",searchableText:l.searchableText,tags:l.tags,category:l.category,skillTree:l.skillTreeName,originalPerk:l}}),[e]),s=g.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0}),[]),r=g.useMemo(()=>new Qt(n,s),[n,s]),i=g.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredPerks:g.useMemo(()=>i.map(l=>l.item.originalPerk),[i]),searchResults:i,searchablePerks:n}}function NG(){lt();const{build:e}=ht(),{allPerks:t,loading:n,error:s}=Dm(),[r,i]=g.useState("list"),[o,l]=g.useState("alphabetical"),{selectedTags:c,searchQuery:u,onTagSelect:d,onTagRemove:f,onClearTags:m,onSearchChange:h}=nv(),p=g.useMemo(()=>{const C=[...new Set(t.map(O=>O.skillTreeName))],k=[...new Set(t.flatMap(O=>O.tags))],R=[...new Set(t.map(O=>O.minLevel||0))].sort((O,z)=>O-z);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:k.map(O=>({id:`keyword-${O}`,label:O,value:O,category:"Fuzzy Search",description:`Perks with ${O} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:C.map(O=>({id:`skill-${O}`,label:O,value:O,category:"Skill Trees",description:`Perks from ${O} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:R.map(O=>({id:`level-${O}`,label:`Level ${O}+`,value:O.toString(),category:"Minimum Level",description:`Perks requiring level ${O} or higher`}))}]},[t]),{filteredPerks:v}=jG(t,u),b=v.map(C=>({...I_(C,e),originalPerk:C})),x=g.useMemo(()=>{const C=[...b];switch(o){case"alphabetical":return C.sort((k,R)=>k.name.localeCompare(R.name));case"skill-tree":return C.sort((k,R)=>{const O=k.originalPerk.skillTreeName,z=R.originalPerk.skillTreeName;return O.localeCompare(z)||k.name.localeCompare(R.name)});case"level":return C.sort((k,R)=>{const O=k.originalPerk.minLevel||0,z=R.originalPerk.minLevel||0;return O-z||k.name.localeCompare(R.name)});default:return C}},[b,o]),[y,j]=g.useState(null),[w,N]=g.useState(!1),E=C=>{j(C),N(!0)},S=C=>{i(C)},_=C=>{switch(C){case"alphabetical":return"Alphabetical (A-Z)";case"skill-tree":return"Skill Tree";case"level":return"Level";default:return"Alphabetical (A-Z)"}};return n?a.jsx(Gt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-lg",children:"Loading perk data..."})})}):s?a.jsx(Gt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-lg text-red-500",children:["Error loading perk data: ",s]})})}):a.jsxs(Gt,{title:"Perk References",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx(Aa,{categories:p,onSelect:d,onCustomSearch:h})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(q,{variant:r==="grid"?"default":"outline",size:"sm",onClick:()=>S("grid"),className:"flex items-center gap-2",children:[a.jsx(wi,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(q,{variant:r==="list"?"default":"outline",size:"sm",onClick:()=>S("list"),className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Di,{children:[a.jsx(zi,{asChild:!0,children:a.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",_(o),a.jsx(tn,{className:"h-4 w-4"})]})}),a.jsxs(_a,{align:"end",children:[a.jsx(en,{onClick:()=>l("alphabetical"),children:"Alphabetical (A-Z)"}),a.jsx(en,{onClick:()=>l("skill-tree"),children:"Skill Tree"}),a.jsx(en,{onClick:()=>l("level"),children:"Level"})]})]})})]}),a.jsx("div",{className:"my-4",children:c.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:m,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(_t,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),c.map(C=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>f(C.id),title:"Click to remove",children:[C.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},C.id))]})}),a.jsxs("div",{className:"mt-6",children:[r==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(C=>a.jsx(Pw,{item:C,onClick:()=>E(C.originalPerk),viewMode:"grid"},C.id))}):a.jsx("div",{className:"space-y-2",children:x.map(C=>a.jsx(Pw,{item:C,onClick:()=>E(C.originalPerk),viewMode:"list"},C.id))}),x.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No perks found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]}),a.jsx(wG,{perk:y,isOpen:w,onOpenChange:N})]})}function Ow(){const{skills:e,loading:t,error:n,searchQuery:s,setSearchQuery:r,selectedCategory:i,setSelectedCategory:o,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:v}=b_(),{filteredItems:b,groupedItems:x,stats:y,isLoading:j,error:w,searchCategories:N}=bG(),{selectedTags:E,viewMode:S,searchQuery:_,onTagSelect:C,onTagRemove:k,onClearTags:R,onViewModeChange:O,onSearchChange:z}=nv();return t||j?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading data..."})]})}):n||w?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:n||w}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsx(Gt,{title:"Skills & Perks",description:"Manage your character's skills and browse all available perks.",children:a.jsx("div",{className:"mb-6",children:a.jsxs(Ai,{defaultValue:"builder",className:"w-full",children:[a.jsxs(Ti,{className:"grid w-full grid-cols-2",children:[a.jsx(Vt,{value:"builder",children:"Perk Builder"}),a.jsx(Vt,{value:"reference",children:"Perk References"})]}),a.jsx(Kt,{value:"builder",className:"space-y-4",children:a.jsx(Qq,{skills:e,loading:t,error:n,searchQuery:s,onSearchChange:r,selectedCategory:i,onCategorySelect:o,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:p,skillSummary:v})}),a.jsx(Kt,{value:"reference",className:"space-y-4",children:a.jsx(NG,{items:b,groupedItems:x,stats:y,searchCategories:N,selectedTags:E,viewMode:S,searchQuery:_,onTagSelect:C,onTagRemove:k,onClearTags:R,onViewModeChange:O,onSearchChange:z})})]})})})}function Z(e,t,n){function s(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const r=(n==null?void 0:n.Parent)??Object;class i extends r{}Object.defineProperty(i,"name",{value:e});function o(l){var c;const u=n!=null&&n.Parent?new i:this;s(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class Rc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const F_={};function hi(e){return F_}function SG(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,r])=>t.indexOf(+s)===-1).map(([s,r])=>r)}function kG(e,t){return typeof t=="bigint"?t.toString():t}function U_(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function sv(e){return e==null}function rv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function CG(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=n>s?n:s,i=Number.parseInt(e.toFixed(r).replace(".","")),o=Number.parseInt(t.toFixed(r).replace(".",""));return i%o/10**r}function Ke(e,t,n){Object.defineProperty(e,t,{get(){{const s=n();return e[t]=s,s}},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function av(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ll(e){return JSON.stringify(e)}const V_=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function pp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const EG=U_(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function xp(e){if(pp(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(pp(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const _G=new Set(["string","number","symbol"]);function zm(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $i(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(s._zod.parent=e),s}function ce(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function AG(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const TG={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function MG(e,t){const n={},s=e._zod.def;for(const r in t){if(!(r in s.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(n[r]=s.shape[r])}return $i(e,{...e._zod.def,shape:n,checks:[]})}function RG(e,t){const n={...e._zod.def.shape},s=e._zod.def;for(const r in t){if(!(r in s.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&delete n[r]}return $i(e,{...e._zod.def,shape:n,checks:[]})}function DG(e,t){if(!xp(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return av(this,"shape",s),s},checks:[]};return $i(e,n)}function zG(e,t){return $i(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return av(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function LG(e,t,n){const s=t._zod.def.shape,r={...s};if(n)for(const i in n){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(r[i]=e?new e({type:"optional",innerType:s[i]}):s[i])}else for(const i in s)r[i]=e?new e({type:"optional",innerType:s[i]}):s[i];return $i(t,{...t._zod.def,shape:r,checks:[]})}function $G(e,t,n){const s=t._zod.def.shape,r={...s};if(n)for(const i in n){if(!(i in r))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(r[i]=new e({type:"nonoptional",innerType:s[i]}))}else for(const i in s)r[i]=new e({type:"nonoptional",innerType:s[i]});return $i(t,{...t._zod.def,shape:r,checks:[]})}function ec(e,t=0){var n;for(let s=t;s<e.issues.length;s++)if(((n=e.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function iv(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function Ju(e){return typeof e=="string"?e:e==null?void 0:e.message}function gi(e,t,n){var r,i,o,l,c,u;const s={...e,path:e.path??[]};if(!e.message){const d=Ju((o=(i=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??Ju((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??Ju((c=n.customError)==null?void 0:c.call(n,e))??Ju((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";s.message=d}return delete s.inst,delete s.continue,t!=null&&t.reportInput||delete s.input,s}function ov(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Dc(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const q_=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,kG,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Z_=Z("$ZodError",q_),G_=Z("$ZodError",q_,{Parent:Error});function PG(e,t=n=>n.message){const n={},s=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:n}}function OG(e,t){const n=t||function(i){return i.message},s={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>r({issues:l}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(e),s}const BG=e=>(t,n,s,r)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Rc;if(o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(c=>gi(c,i,hi())));throw V_(l,r==null?void 0:r.callee),l}return o.value},IG=e=>async(t,n,s,r)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(c=>gi(c,i,hi())));throw V_(l,r==null?void 0:r.callee),l}return o.value},Y_=e=>(t,n,s)=>{const r=s?{...s,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},r);if(i instanceof Promise)throw new Rc;return i.issues.length?{success:!1,error:new(e??Z_)(i.issues.map(o=>gi(o,r,hi())))}:{success:!0,data:i.value}},HG=Y_(G_),X_=e=>async(t,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},r);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>gi(o,r,hi())))}:{success:!0,data:i.value}},FG=X_(G_),UG=/^[cC][^\s-]{8,}$/,VG=/^[0-9a-z]+$/,qG=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ZG=/^[0-9a-vA-V]{20}$/,GG=/^[A-Za-z0-9]{27}$/,YG=/^[a-zA-Z0-9_-]{21}$/,XG=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,WG=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Bw=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,KG=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,QG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function JG(){return new RegExp(QG,"u")}const eY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,nY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,sY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rY=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,W_=/^[A-Za-z0-9_-]*$/,aY=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,iY=/^\+(?:[0-9]){6,14}[0-9]$/,K_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",oY=new RegExp(`^${K_}$`);function Q_(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function lY(e){return new RegExp(`^${Q_(e)}$`)}function cY(e){const t=Q_({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${K_}T(?:${s})$`)}const uY=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},dY=/^\d+$/,fY=/^-?\d+(?:\.\d+)?/i,mY=/true|false/i,hY=/^[^A-Z]*$/,gY=/^[^a-z]*$/,pn=Z("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),J_={number:"number",bigint:"bigint",object:"date"},eA=Z("$ZodCheckLessThan",(e,t)=>{pn.init(e,t);const n=J_[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,i=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tA=Z("$ZodCheckGreaterThan",(e,t)=>{pn.init(e,t);const n=J_[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,i=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),pY=Z("$ZodCheckMultipleOf",(e,t)=>{pn.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):CG(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),xY=Z("$ZodCheckNumberFormat",(e,t)=>{var o;pn.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),s=n?"int":"number",[r,i]=TG[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=r,c.maximum=i,n&&(c.pattern=dY)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:s,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}c<r&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),c>i&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:e})}}),vY=Z("$ZodCheckMaxLength",(e,t)=>{var n;pn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!sv(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const r=s.value;if(r.length<=t.maximum)return;const o=ov(r);s.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),yY=Z("$ZodCheckMinLength",(e,t)=>{var n;pn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!sv(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const r=s.value;if(r.length>=t.minimum)return;const o=ov(r);s.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),bY=Z("$ZodCheckLengthEquals",(e,t)=>{var n;pn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!sv(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=s=>{const r=s.value,i=r.length;if(i===t.length)return;const o=ov(r),l=i>t.length;s.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),Lm=Z("$ZodCheckStringFormat",(e,t)=>{var n,s;pn.init(e,t),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),wY=Z("$ZodCheckRegex",(e,t)=>{Lm.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),jY=Z("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=hY),Lm.init(e,t)}),NY=Z("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=gY),Lm.init(e,t)}),SY=Z("$ZodCheckIncludes",(e,t)=>{pn.init(e,t);const n=zm(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),kY=Z("$ZodCheckStartsWith",(e,t)=>{pn.init(e,t);const n=new RegExp(`^${zm(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),CY=Z("$ZodCheckEndsWith",(e,t)=>{pn.init(e,t);const n=new RegExp(`.*${zm(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),EY=Z("$ZodCheckOverwrite",(e,t)=>{pn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class _Y{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(o=>o),r=Math.min(...s.map(o=>o.length-o.trimStart().length)),i=s.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...n,r.join(`
`))}}const AY={major:4,minor:0,patch:5},mt=Z("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=AY;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const i of s)for(const o of i._zod.onattach)o(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const i=(o,l,c)=>{let u=ec(o),d;for(const f of l){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(u)continue;const m=o.issues.length,h=f._zod.check(o);if(h instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Rc;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,o.issues.length!==m&&(u||(u=ec(o,m)))});else{if(o.issues.length===m)continue;u||(u=ec(o,m))}}return d?d.then(()=>o):o};e._zod.run=(o,l)=>{const c=e._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new Rc;return c.then(u=>i(u,s,l))}return i(c,s,l)}}e["~standard"]={validate:i=>{var o;try{const l=HG(e,i);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return FG(e,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),lv=Z("$ZodString",(e,t)=>{var n;mt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??uY(e._zod.bag),e._zod.parse=(s,r)=>{if(t.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),nt=Z("$ZodStringFormat",(e,t)=>{Lm.init(e,t),lv.init(e,t)}),TY=Z("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=WG),nt.init(e,t)}),MY=Z("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Bw(s))}else t.pattern??(t.pattern=Bw());nt.init(e,t)}),RY=Z("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=KG),nt.init(e,t)}),DY=Z("$ZodURL",(e,t)=>{nt.init(e,t),e._zod.check=n=>{try{const s=n.value,r=new URL(s),i=r.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:aY.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!s.endsWith("/")&&i.endsWith("/")?n.value=i.slice(0,-1):n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),zY=Z("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=JG()),nt.init(e,t)}),LY=Z("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=YG),nt.init(e,t)}),$Y=Z("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=UG),nt.init(e,t)}),PY=Z("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=VG),nt.init(e,t)}),OY=Z("$ZodULID",(e,t)=>{t.pattern??(t.pattern=qG),nt.init(e,t)}),BY=Z("$ZodXID",(e,t)=>{t.pattern??(t.pattern=ZG),nt.init(e,t)}),IY=Z("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=GG),nt.init(e,t)}),HY=Z("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=cY(t)),nt.init(e,t)}),FY=Z("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=oY),nt.init(e,t)}),UY=Z("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=lY(t)),nt.init(e,t)}),VY=Z("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=XG),nt.init(e,t)}),qY=Z("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=eY),nt.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv4"})}),ZY=Z("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=tY),nt.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),GY=Z("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=nY),nt.init(e,t)}),YY=Z("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=sY),nt.init(e,t),e._zod.check=n=>{const[s,r]=n.value.split("/");try{if(!r)throw new Error;const i=Number(r);if(`${i}`!==r)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function nA(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const XY=Z("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=rY),nt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{nA(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function WY(e){if(!W_.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return nA(n)}const KY=Z("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=W_),nt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{WY(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),QY=Z("$ZodE164",(e,t)=>{t.pattern??(t.pattern=iY),nt.init(e,t)});function JY(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const eX=Z("$ZodJWT",(e,t)=>{nt.init(e,t),e._zod.check=n=>{JY(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),sA=Z("$ZodNumber",(e,t)=>{mt.init(e,t),e._zod.pattern=e._zod.bag.pattern??fY,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const i=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...i?{received:i}:{}}),n}}),tX=Z("$ZodNumber",(e,t)=>{xY.init(e,t),sA.init(e,t)}),nX=Z("$ZodBoolean",(e,t)=>{mt.init(e,t),e._zod.pattern=mY,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),sX=Z("$ZodUnknown",(e,t)=>{mt.init(e,t),e._zod.parse=n=>n}),rX=Z("$ZodNever",(e,t)=>{mt.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Iw(e,t,n){e.issues.length&&t.issues.push(...iv(n,e.issues)),t.value[n]=e.value}const aX=Z("$ZodArray",(e,t)=>{mt.init(e,t),e._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const i=[];for(let o=0;o<r.length;o++){const l=r[o],c=t.element._zod.run({value:l,issues:[]},s);c instanceof Promise?i.push(c.then(u=>Iw(u,n,o))):Iw(c,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function ed(e,t,n){e.issues.length&&t.issues.push(...iv(n,e.issues)),t.value[n]=e.value}function Hw(e,t,n,s){e.issues.length?s[n]===void 0?n in s?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...iv(n,e.issues)):e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}const iX=Z("$ZodObject",(e,t)=>{mt.init(e,t);const n=U_(()=>{const f=Object.keys(t.shape);for(const h of f)if(!(t.shape[h]instanceof mt))throw new Error(`Invalid element at key "${h}": expected a Zod schema`);const m=AG(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(m)}});Ke(e._zod,"propValues",()=>{const f=t.shape,m={};for(const h in f){const p=f[h]._zod;if(p.values){m[h]??(m[h]=new Set);for(const v of p.values)m[h].add(v)}}return m});const s=f=>{const m=new _Y(["shape","payload","ctx"]),h=n.value,p=y=>{const j=Ll(y);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};m.write("const input = payload.value;");const v=Object.create(null);let b=0;for(const y of h.keys)v[y]=`key_${b++}`;m.write("const newResult = {}");for(const y of h.keys)if(h.optionalKeys.has(y)){const j=v[y];m.write(`const ${j} = ${p(y)};`);const w=Ll(y);m.write(`
        if (${j}.issues.length) {
          if (input[${w}] === undefined) {
            if (${w} in input) {
              newResult[${w}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${j}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${w}, ...iss.path] : [${w}],
              }))
            );
          }
        } else if (${j}.value === undefined) {
          if (${w} in input) newResult[${w}] = undefined;
        } else {
          newResult[${w}] = ${j}.value;
        }
        `)}else{const j=v[y];m.write(`const ${j} = ${p(y)};`),m.write(`
          if (${j}.issues.length) payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Ll(y)}, ...iss.path] : [${Ll(y)}]
          })));`),m.write(`newResult[${Ll(y)}] = ${j}.value`)}m.write("payload.value = newResult;"),m.write("return payload;");const x=m.compile();return(y,j)=>x(f,y,j)};let r;const i=pp,o=!F_.jitless,c=o&&EG.value,u=t.catchall;let d;e._zod.parse=(f,m)=>{d??(d=n.value);const h=f.value;if(!i(h))return f.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),f;const p=[];if(o&&c&&(m==null?void 0:m.async)===!1&&m.jitless!==!0)r||(r=s(t.shape)),f=r(f,m);else{f.value={};const j=d.shape;for(const w of d.keys){const N=j[w],E=N._zod.run({value:h[w],issues:[]},m),S=N._zod.optin==="optional"&&N._zod.optout==="optional";E instanceof Promise?p.push(E.then(_=>S?Hw(_,f,w,h):ed(_,f,w))):S?Hw(E,f,w,h):ed(E,f,w)}}if(!u)return p.length?Promise.all(p).then(()=>f):f;const v=[],b=d.keySet,x=u._zod,y=x.def.type;for(const j of Object.keys(h)){if(b.has(j))continue;if(y==="never"){v.push(j);continue}const w=x.run({value:h[j],issues:[]},m);w instanceof Promise?p.push(w.then(N=>ed(N,f,j))):ed(w,f,j)}return v.length&&f.issues.push({code:"unrecognized_keys",keys:v,input:h,inst:e}),p.length?Promise.all(p).then(()=>f):f}});function Fw(e,t,n,s){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(i=>gi(i,s,hi())))}),t}const oX=Z("$ZodUnion",(e,t)=>{mt.init(e,t),Ke(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Ke(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Ke(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Ke(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${n.map(s=>rv(s.source)).join("|")})$`)}}),e._zod.parse=(n,s)=>{let r=!1;const i=[];for(const o of t.options){const l=o._zod.run({value:n.value,issues:[]},s);if(l instanceof Promise)i.push(l),r=!0;else{if(l.issues.length===0)return l;i.push(l)}}return r?Promise.all(i).then(o=>Fw(o,n,e,s)):Fw(i,n,e,s)}}),lX=Z("$ZodIntersection",(e,t)=>{mt.init(e,t),e._zod.parse=(n,s)=>{const r=n.value,i=t.left._zod.run({value:r,issues:[]},s),o=t.right._zod.run({value:r,issues:[]},s);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([c,u])=>Uw(n,c,u)):Uw(n,i,o)}});function vp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(xp(e)&&xp(t)){const n=Object.keys(t),s=Object.keys(e).filter(i=>n.indexOf(i)!==-1),r={...e,...t};for(const i of s){const o=vp(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};r[i]=o.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const r=e[s],i=t[s],o=vp(r,i);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Uw(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),ec(e))return e;const s=vp(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const cX=Z("$ZodEnum",(e,t)=>{mt.init(e,t);const n=SG(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(s=>_G.has(typeof s)).map(s=>typeof s=="string"?zm(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const i=s.value;return e._zod.values.has(i)||s.issues.push({code:"invalid_value",values:n,input:i,inst:e}),s}}),uX=Z("$ZodTransform",(e,t)=>{mt.init(e,t),e._zod.parse=(n,s)=>{const r=t.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new Rc;return n.value=r,n}}),dX=Z("$ZodOptional",(e,t)=>{mt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ke(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ke(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${rv(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,s):n.value===void 0?n:t.innerType._zod.run(n,s)}),fX=Z("$ZodNullable",(e,t)=>{mt.init(e,t),Ke(e._zod,"optin",()=>t.innerType._zod.optin),Ke(e._zod,"optout",()=>t.innerType._zod.optout),Ke(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${rv(n.source)}|null)$`):void 0}),Ke(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),mX=Z("$ZodDefault",(e,t)=>{mt.init(e,t),e._zod.optin="optional",Ke(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>Vw(i,t)):Vw(r,t)}});function Vw(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const hX=Z("$ZodPrefault",(e,t)=>{mt.init(e,t),e._zod.optin="optional",Ke(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),gX=Z("$ZodNonOptional",(e,t)=>{mt.init(e,t),Ke(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>qw(i,e)):qw(r,e)}});function qw(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const pX=Z("$ZodCatch",(e,t)=>{mt.init(e,t),e._zod.optin="optional",Ke(e._zod,"optout",()=>t.innerType._zod.optout),Ke(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>gi(o,s,hi()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(i=>gi(i,s,hi()))},input:n.value}),n.issues=[]),n)}}),xX=Z("$ZodPipe",(e,t)=>{mt.init(e,t),Ke(e._zod,"values",()=>t.in._zod.values),Ke(e._zod,"optin",()=>t.in._zod.optin),Ke(e._zod,"optout",()=>t.out._zod.optout),Ke(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{const r=t.in._zod.run(n,s);return r instanceof Promise?r.then(i=>Zw(i,t,s)):Zw(r,t,s)}});function Zw(e,t,n){return ec(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const vX=Z("$ZodReadonly",(e,t)=>{mt.init(e,t),Ke(e._zod,"propValues",()=>t.innerType._zod.propValues),Ke(e._zod,"values",()=>t.innerType._zod.values),Ke(e._zod,"optin",()=>t.innerType._zod.optin),Ke(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(Gw):Gw(r)}});function Gw(e){return e.value=Object.freeze(e.value),e}const yX=Z("$ZodCustom",(e,t)=>{pn.init(e,t),mt.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,r=t.fn(s);if(r instanceof Promise)return r.then(i=>Yw(i,n,s,e));Yw(r,n,s,e)}});function Yw(e,t,n,s){if(!e){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),t.issues.push(Dc(r))}}class bX{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const s=n[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};return delete s.id,{...s,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function wX(){return new bX}const td=wX();function jX(e,t){return new e({type:"string",...ce(t)})}function NX(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ce(t)})}function Xw(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ce(t)})}function SX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ce(t)})}function kX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ce(t)})}function CX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ce(t)})}function EX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ce(t)})}function _X(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ce(t)})}function AX(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ce(t)})}function TX(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ce(t)})}function MX(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ce(t)})}function RX(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ce(t)})}function DX(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ce(t)})}function zX(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ce(t)})}function LX(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ce(t)})}function $X(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ce(t)})}function PX(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ce(t)})}function OX(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ce(t)})}function BX(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ce(t)})}function IX(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ce(t)})}function HX(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ce(t)})}function FX(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ce(t)})}function UX(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ce(t)})}function VX(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ce(t)})}function qX(e,t){return new e({type:"string",format:"date",check:"string_format",...ce(t)})}function ZX(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ce(t)})}function GX(e,t){return new e({type:"string",format:"duration",check:"string_format",...ce(t)})}function YX(e,t){return new e({type:"number",checks:[],...ce(t)})}function XX(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ce(t)})}function WX(e,t){return new e({type:"boolean",...ce(t)})}function KX(e){return new e({type:"unknown"})}function QX(e,t){return new e({type:"never",...ce(t)})}function Ww(e,t){return new eA({check:"less_than",...ce(t),value:e,inclusive:!1})}function Uh(e,t){return new eA({check:"less_than",...ce(t),value:e,inclusive:!0})}function Kw(e,t){return new tA({check:"greater_than",...ce(t),value:e,inclusive:!1})}function Vh(e,t){return new tA({check:"greater_than",...ce(t),value:e,inclusive:!0})}function Qw(e,t){return new pY({check:"multiple_of",...ce(t),value:e})}function rA(e,t){return new vY({check:"max_length",...ce(t),maximum:e})}function pf(e,t){return new yY({check:"min_length",...ce(t),minimum:e})}function aA(e,t){return new bY({check:"length_equals",...ce(t),length:e})}function JX(e,t){return new wY({check:"string_format",format:"regex",...ce(t),pattern:e})}function eW(e){return new jY({check:"string_format",format:"lowercase",...ce(e)})}function tW(e){return new NY({check:"string_format",format:"uppercase",...ce(e)})}function nW(e,t){return new SY({check:"string_format",format:"includes",...ce(t),includes:e})}function sW(e,t){return new kY({check:"string_format",format:"starts_with",...ce(t),prefix:e})}function rW(e,t){return new CY({check:"string_format",format:"ends_with",...ce(t),suffix:e})}function fu(e){return new EY({check:"overwrite",tx:e})}function aW(e){return fu(t=>t.normalize(e))}function iW(){return fu(e=>e.trim())}function oW(){return fu(e=>e.toLowerCase())}function lW(){return fu(e=>e.toUpperCase())}function cW(e,t,n){return new e({type:"array",element:t,...ce(n)})}function uW(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ce(n)})}const dW=Z("ZodISODateTime",(e,t)=>{HY.init(e,t),ct.init(e,t)});function fW(e){return VX(dW,e)}const mW=Z("ZodISODate",(e,t)=>{FY.init(e,t),ct.init(e,t)});function hW(e){return qX(mW,e)}const gW=Z("ZodISOTime",(e,t)=>{UY.init(e,t),ct.init(e,t)});function pW(e){return ZX(gW,e)}const xW=Z("ZodISODuration",(e,t)=>{VY.init(e,t),ct.init(e,t)});function vW(e){return GX(xW,e)}const yW=(e,t)=>{Z_.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>OG(e,n)},flatten:{value:n=>PG(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},$m=Z("ZodError",yW,{Parent:Error}),bW=BG($m),wW=IG($m),jW=Y_($m),NW=X_($m),Nt=Z("ZodType",(e,t)=>(mt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),e.clone=(n,s)=>$i(e,n,s),e.brand=()=>e,e.register=(n,s)=>(n.add(e,s),e),e.parse=(n,s)=>bW(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>jW(e,n,s),e.parseAsync=async(n,s)=>wW(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>NW(e,n,s),e.spa=e.safeParseAsync,e.refine=(n,s)=>e.check(pK(n,s)),e.superRefine=n=>e.check(xK(n)),e.overwrite=n=>e.check(fu(n)),e.optional=()=>nj(e),e.nullable=()=>sj(e),e.nullish=()=>nj(sj(e)),e.nonoptional=n=>lK(e,n),e.array=()=>pi(e),e.or=n=>KW([e,n]),e.and=n=>JW(e,n),e.transform=n=>rj(e,nK(n)),e.default=n=>aK(e,n),e.prefault=n=>oK(e,n),e.catch=n=>uK(e,n),e.pipe=n=>rj(e,n),e.readonly=()=>mK(e),e.describe=n=>{const s=e.clone();return td.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){var n;return(n=td.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return td.get(e);const s=e.clone();return td.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),iA=Z("_ZodString",(e,t)=>{lv.init(e,t),Nt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(JX(...s)),e.includes=(...s)=>e.check(nW(...s)),e.startsWith=(...s)=>e.check(sW(...s)),e.endsWith=(...s)=>e.check(rW(...s)),e.min=(...s)=>e.check(pf(...s)),e.max=(...s)=>e.check(rA(...s)),e.length=(...s)=>e.check(aA(...s)),e.nonempty=(...s)=>e.check(pf(1,...s)),e.lowercase=s=>e.check(eW(s)),e.uppercase=s=>e.check(tW(s)),e.trim=()=>e.check(iW()),e.normalize=(...s)=>e.check(aW(...s)),e.toLowerCase=()=>e.check(oW()),e.toUpperCase=()=>e.check(lW())}),SW=Z("ZodString",(e,t)=>{lv.init(e,t),iA.init(e,t),e.email=n=>e.check(NX(kW,n)),e.url=n=>e.check(_X(CW,n)),e.jwt=n=>e.check(UX(HW,n)),e.emoji=n=>e.check(AX(EW,n)),e.guid=n=>e.check(Xw(Jw,n)),e.uuid=n=>e.check(SX(nd,n)),e.uuidv4=n=>e.check(kX(nd,n)),e.uuidv6=n=>e.check(CX(nd,n)),e.uuidv7=n=>e.check(EX(nd,n)),e.nanoid=n=>e.check(TX(_W,n)),e.guid=n=>e.check(Xw(Jw,n)),e.cuid=n=>e.check(MX(AW,n)),e.cuid2=n=>e.check(RX(TW,n)),e.ulid=n=>e.check(DX(MW,n)),e.base64=n=>e.check(IX(OW,n)),e.base64url=n=>e.check(HX(BW,n)),e.xid=n=>e.check(zX(RW,n)),e.ksuid=n=>e.check(LX(DW,n)),e.ipv4=n=>e.check($X(zW,n)),e.ipv6=n=>e.check(PX(LW,n)),e.cidrv4=n=>e.check(OX($W,n)),e.cidrv6=n=>e.check(BX(PW,n)),e.e164=n=>e.check(FX(IW,n)),e.datetime=n=>e.check(fW(n)),e.date=n=>e.check(hW(n)),e.time=n=>e.check(pW(n)),e.duration=n=>e.check(vW(n))});function Jt(e){return jX(SW,e)}const ct=Z("ZodStringFormat",(e,t)=>{nt.init(e,t),iA.init(e,t)}),kW=Z("ZodEmail",(e,t)=>{RY.init(e,t),ct.init(e,t)}),Jw=Z("ZodGUID",(e,t)=>{TY.init(e,t),ct.init(e,t)}),nd=Z("ZodUUID",(e,t)=>{MY.init(e,t),ct.init(e,t)}),CW=Z("ZodURL",(e,t)=>{DY.init(e,t),ct.init(e,t)}),EW=Z("ZodEmoji",(e,t)=>{zY.init(e,t),ct.init(e,t)}),_W=Z("ZodNanoID",(e,t)=>{LY.init(e,t),ct.init(e,t)}),AW=Z("ZodCUID",(e,t)=>{$Y.init(e,t),ct.init(e,t)}),TW=Z("ZodCUID2",(e,t)=>{PY.init(e,t),ct.init(e,t)}),MW=Z("ZodULID",(e,t)=>{OY.init(e,t),ct.init(e,t)}),RW=Z("ZodXID",(e,t)=>{BY.init(e,t),ct.init(e,t)}),DW=Z("ZodKSUID",(e,t)=>{IY.init(e,t),ct.init(e,t)}),zW=Z("ZodIPv4",(e,t)=>{qY.init(e,t),ct.init(e,t)}),LW=Z("ZodIPv6",(e,t)=>{ZY.init(e,t),ct.init(e,t)}),$W=Z("ZodCIDRv4",(e,t)=>{GY.init(e,t),ct.init(e,t)}),PW=Z("ZodCIDRv6",(e,t)=>{YY.init(e,t),ct.init(e,t)}),OW=Z("ZodBase64",(e,t)=>{XY.init(e,t),ct.init(e,t)}),BW=Z("ZodBase64URL",(e,t)=>{KY.init(e,t),ct.init(e,t)}),IW=Z("ZodE164",(e,t)=>{QY.init(e,t),ct.init(e,t)}),HW=Z("ZodJWT",(e,t)=>{eX.init(e,t),ct.init(e,t)}),oA=Z("ZodNumber",(e,t)=>{sA.init(e,t),Nt.init(e,t),e.gt=(s,r)=>e.check(Kw(s,r)),e.gte=(s,r)=>e.check(Vh(s,r)),e.min=(s,r)=>e.check(Vh(s,r)),e.lt=(s,r)=>e.check(Ww(s,r)),e.lte=(s,r)=>e.check(Uh(s,r)),e.max=(s,r)=>e.check(Uh(s,r)),e.int=s=>e.check(ej(s)),e.safe=s=>e.check(ej(s)),e.positive=s=>e.check(Kw(0,s)),e.nonnegative=s=>e.check(Vh(0,s)),e.negative=s=>e.check(Ww(0,s)),e.nonpositive=s=>e.check(Uh(0,s)),e.multipleOf=(s,r)=>e.check(Qw(s,r)),e.step=(s,r)=>e.check(Qw(s,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Wa(e){return YX(oA,e)}const FW=Z("ZodNumberFormat",(e,t)=>{tX.init(e,t),oA.init(e,t)});function ej(e){return XX(FW,e)}const UW=Z("ZodBoolean",(e,t)=>{nX.init(e,t),Nt.init(e,t)});function VW(e){return WX(UW,e)}const qW=Z("ZodUnknown",(e,t)=>{sX.init(e,t),Nt.init(e,t)});function tj(){return KX(qW)}const ZW=Z("ZodNever",(e,t)=>{rX.init(e,t),Nt.init(e,t)});function GW(e){return QX(ZW,e)}const YW=Z("ZodArray",(e,t)=>{aX.init(e,t),Nt.init(e,t),e.element=t.element,e.min=(n,s)=>e.check(pf(n,s)),e.nonempty=n=>e.check(pf(1,n)),e.max=(n,s)=>e.check(rA(n,s)),e.length=(n,s)=>e.check(aA(n,s)),e.unwrap=()=>e.element});function pi(e,t){return cW(YW,e,t)}const XW=Z("ZodObject",(e,t)=>{iX.init(e,t),Nt.init(e,t),Ke(e,"shape",()=>t.shape),e.keyof=()=>eK(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:tj()}),e.loose=()=>e.clone({...e._zod.def,catchall:tj()}),e.strict=()=>e.clone({...e._zod.def,catchall:GW()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>DG(e,n),e.merge=n=>zG(e,n),e.pick=n=>MG(e,n),e.omit=n=>RG(e,n),e.partial=(...n)=>LG(lA,e,n[0]),e.required=(...n)=>$G(cA,e,n[0])});function zr(e,t){const n={type:"object",get shape(){return av(this,"shape",{...e}),this.shape},...ce(t)};return new XW(n)}const WW=Z("ZodUnion",(e,t)=>{oX.init(e,t),Nt.init(e,t),e.options=t.options});function KW(e,t){return new WW({type:"union",options:e,...ce(t)})}const QW=Z("ZodIntersection",(e,t)=>{lX.init(e,t),Nt.init(e,t)});function JW(e,t){return new QW({type:"intersection",left:e,right:t})}const yp=Z("ZodEnum",(e,t)=>{cX.init(e,t),Nt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,r)=>{const i={};for(const o of s)if(n.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new yp({...t,checks:[],...ce(r),entries:i})},e.exclude=(s,r)=>{const i={...t.entries};for(const o of s)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new yp({...t,checks:[],...ce(r),entries:i})}});function eK(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new yp({type:"enum",entries:n,...ce(t)})}const tK=Z("ZodTransform",(e,t)=>{uX.init(e,t),Nt.init(e,t),e._zod.parse=(n,s)=>{n.addIssue=i=>{if(typeof i=="string")n.issues.push(Dc(i,n.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!0),n.issues.push(Dc(o))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(i=>(n.value=i,n)):(n.value=r,n)}});function nK(e){return new tK({type:"transform",transform:e})}const lA=Z("ZodOptional",(e,t)=>{dX.init(e,t),Nt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nj(e){return new lA({type:"optional",innerType:e})}const sK=Z("ZodNullable",(e,t)=>{fX.init(e,t),Nt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sj(e){return new sK({type:"nullable",innerType:e})}const rK=Z("ZodDefault",(e,t)=>{mX.init(e,t),Nt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function aK(e,t){return new rK({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const iK=Z("ZodPrefault",(e,t)=>{hX.init(e,t),Nt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oK(e,t){return new iK({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const cA=Z("ZodNonOptional",(e,t)=>{gX.init(e,t),Nt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lK(e,t){return new cA({type:"nonoptional",innerType:e,...ce(t)})}const cK=Z("ZodCatch",(e,t)=>{pX.init(e,t),Nt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function uK(e,t){return new cK({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const dK=Z("ZodPipe",(e,t)=>{xX.init(e,t),Nt.init(e,t),e.in=t.in,e.out=t.out});function rj(e,t){return new dK({type:"pipe",in:e,out:t})}const fK=Z("ZodReadonly",(e,t)=>{vX.init(e,t),Nt.init(e,t)});function mK(e){return new fK({type:"readonly",innerType:e})}const hK=Z("ZodCustom",(e,t)=>{yX.init(e,t),Nt.init(e,t)});function gK(e){const t=new pn({check:"custom"});return t._zod.check=e,t}function pK(e,t={}){return uW(hK,e,t)}function xK(e){const t=gK(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(Dc(s,n.value,t._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Dc(r))}},e(n.value,n)));return t}const vK=zr({type:Jt(),id:Jt()}),yK=zr({skill:Jt(),level:Wa()}),bK=zr({skillLevel:yK.optional(),items:pi(vK).optional()}),wK=zr({base:Jt(),subtext:Jt()}),jK=zr({rank:Wa(),edid:Jt(),name:Jt(),description:wK,prerequisites:bK}),NK=zr({x:Wa(),y:Wa(),horizontal:Wa(),vertical:Wa()}),SK=zr({parents:pi(Jt()),children:pi(Jt())}),kK=zr({edid:Jt(),name:Jt(),ranks:pi(jK),totalRanks:Wa(),connections:SK,isRoot:VW(),position:NK}),CK=zr({treeId:Jt(),treeName:Jt(),treeDescription:Jt(),category:Jt(),perks:pi(kK)});pi(CK);function EK(e){return e.length===0?{minX:0,maxX:0,minY:0,maxY:0}:e.reduce((t,n)=>({minX:Math.min(t.minX,n.x),maxX:Math.max(t.maxX,n.x),minY:Math.min(t.minY,n.y),maxY:Math.max(t.maxY,n.y)}),{minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0})}const _K=(e,t)=>({perkNode:n=>a.jsx(s_,{...n,onTogglePerk:e,onRankChange:t})}),qh={cellWidth:240,cellHeight:140,nodeWidth:140,nodeHeight:80,gridGap:40,padding:80};function AK(e,t,n){const{x:s,y:r,horizontal:i,vertical:o}=e,l=t.maxX-s+t.minX,c=-i,u=t.maxY-r+t.minY,d=-o,f=(l-t.minX)*n.cellWidth+(l-t.minX)*n.gridGap+n.padding+n.cellWidth/2,m=(u-t.minY)*n.cellHeight+(u-t.minY)*n.gridGap+n.padding+n.cellHeight/2,h=c*(n.cellWidth/2-n.nodeWidth/2),p=d*(n.cellHeight/2-n.nodeHeight/2),v=f+h,b=m+p;return{x:v,y:b,gridX:l,gridY:u,horizontal:c,vertical:d}}function TK(e,t,n,s){const r=e-s.padding,i=t-s.padding,o=Math.floor(r/(s.cellWidth+s.gridGap)),l=Math.floor(i/(s.cellHeight+s.gridGap)),c=o*s.cellWidth+o*s.gridGap+s.padding+s.cellWidth/2,u=l*s.cellHeight+l*s.gridGap+s.padding+s.cellHeight/2,d=e-c,f=t-u,m=s.cellWidth/2-s.nodeWidth/2,h=s.cellHeight/2-s.nodeHeight/2,p=Math.max(-1,Math.min(1,d/m)),v=Math.max(-1,Math.min(1,f/h)),b=n.maxX-o+n.minX,x=n.maxY-l+n.minY,y=-p,j=-v;return{x:e,y:t,gridX:b,gridY:x,horizontal:y,vertical:j}}function MK(e,t,n){const s=Math.ceil(Math.sqrt(t)),r=Math.floor(e/s),i=e%s,o=i*(n.cellWidth+n.gridGap)+n.padding+n.cellWidth/2,l=r*(n.cellHeight+n.gridGap)+n.padding+n.cellHeight/2;return{x:o,y:l,gridX:i,gridY:r,horizontal:0,vertical:0}}function RK({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:s,className:r}){const[i,o]=P.useState(null),[l,c]=g.useState(new Map),[u,d]=g.useState(!1),[f,m]=g.useState(!1),[h,p]=g.useState(null),v=g.useMemo(()=>{if(!e)return null;const M=t_(e);return M.success?M.data:(console.error("Invalid perk tree data:",M.error),null)},[e]);P.useEffect(()=>{if(!v){c(new Map);return}console.log("Loading saved positions for tree:",v.treeId),console.log("Tree perks count:",v.perks.length),console.log("Tree perks:",v.perks.map(M=>({edid:M.edid,name:M.name}))),d(!0),n_(v.treeId).then(M=>{if(console.log("Loaded saved positions:",M?"Found":"Not found"),M){const L=cw(v.treeId,M);console.log("Loaded positions count:",L.size),console.log("Loaded positions keys:",Array.from(L.keys())),c(L)}else c(new Map)}).catch(M=>{console.warn("Failed to load saved positions:",M),c(new Map)}).finally(()=>{d(!1)})},[v==null?void 0:v.treeId]);const b=g.useMemo(()=>_K(t,n),[t,n]),x=g.useMemo(()=>{if(!v||u)return new Map;const M=new Map,L=v.perks.map(B=>B.position).filter(B=>B!==void 0);let T={minX:0,maxX:0,minY:0,maxY:0};L.length>0&&(T=EK(L)),p(T);let D=0;return v.perks.forEach(B=>{const F=l.get(B.edid);if(F){M.set(B.edid,F);return}if(B.position){const V=AK(B.position,T,qh);M.set(B.edid,V);return}const I=MK(D,v.perks.length,qh);M.set(B.edid,I),D++}),M},[v,l,u]),y=g.useMemo(()=>{if(!v)return{saved:0,avif:0,default:0,total:0};let M=0,L=0,T=0;const D=v.perks.find(I=>I.edid==="LoreRimTrapper_Rank1"),B=v.perks.find(I=>I.edid==="LoreRimTrapper_Rank2"),F=v.perks.find(I=>I.edid==="LoreRimTrapper_Rank3");if(D){console.log("Found Trapper perk:",D);const I=l.get("LoreRimTrapper_Rank1");console.log("Trapper saved position:",I),console.log("Trapper embedded position:",D.position),console.log("Trapper connections:",D.connections)}else console.log("Trapper perk NOT found in tree!");if(B){console.log("Found Poisoned Clamps perk:",B);const I=l.get("LoreRimTrapper_Rank2");console.log("Poisoned Clamps saved position:",I),console.log("Poisoned Clamps embedded position:",B.position),console.log("Poisoned Clamps connections:",B.connections)}else console.log("Poisoned Clamps perk NOT found in tree!");if(F){console.log("Found Salt on the Wound perk:",F);const I=l.get("LoreRimTrapper_Rank3");console.log("Salt on the Wound saved position:",I),console.log("Salt on the Wound embedded position:",F.position)}else console.log("Salt on the Wound perk NOT found in tree!");return v.perks.forEach(I=>{l.get(I.edid)?M++:I.position?L++:T++}),{saved:M,avif:L,default:T,total:v.perks.length}},[v,l]),j=g.useMemo(()=>{if(!v||u)return[];const M=v.perks.map(L=>{var V,G,J,ie;const T=L.edid,D=x.get(T)||{x:0,y:0},B=((G=(V=L.connections)==null?void 0:V.children)==null?void 0:G.length)>0||!1,F=((ie=(J=L.connections)==null?void 0:J.parents)==null?void 0:ie.length)===0||!1,I=!l.get(T)&&!L.position;return T.includes("LoreRimTrapper")&&(console.log(`Node ${T} position:`,D),console.log(`Node ${T} hasChildren:`,B),console.log(`Node ${T} isRoot:`,F),console.log(`Node ${T} hasNoPosition:`,I)),{id:T,type:"perkNode",position:{x:D.x,y:D.y},draggable:f||I,data:{...L,selected:!1,hasChildren:B,isRoot:F,hasNoPosition:I}}});return console.log("Total nodes created:",M.length),console.log("Trapper-related nodes:",M.filter(L=>L.id.includes("LoreRimTrapper"))),M},[v,x,f,u,l]),w=g.useMemo(()=>{var T,D,B;if(!v)return[];const M=[],L=v.perks.find(F=>F.edid==="LoreRimTrapper_Rank1");return L&&(console.log("Trapper children connections:",(T=L.connections)==null?void 0:T.children),(B=(D=L.connections)==null?void 0:D.children)==null||B.forEach(F=>{const I=v.perks.some(V=>V.edid===F);console.log(`Trapper child ${F} exists:`,I)})),v.perks.forEach(F=>{var V;const I=F.edid;(V=F.connections)!=null&&V.children&&F.connections.children.forEach(G=>{if(G===I)return;v.perks.some(ie=>ie.edid===G)&&M.push({id:`${I}-${G}`,source:I,target:G,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),console.log("Total edges created:",M.length),console.log("Edge connections:",M.map(F=>`${F.source} -> ${F.target}`)),M},[v]),[N,E,S]=XE(j),[_,C,k]=WE(w);P.useEffect(()=>{E(j)},[j,E]),P.useEffect(()=>{v&&E(M=>M.map(L=>{const T=s.find(B=>B.edid===L.id),D=T!==void 0;return{...L,draggable:f,data:{...L.data,selected:D,currentRank:(T==null?void 0:T.currentRank)||0}}}))},[s,E,v,f]),P.useEffect(()=>{C(w)},[w,C]),P.useEffect(()=>{v&&N.length>0&&i&&setTimeout(()=>{i.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[v==null?void 0:v.treeId,i]);const R=g.useCallback(M=>C(L=>I0(M,L)),[C]),O=g.useCallback((M,L)=>{if(!f||!h)return;const T=TK(L.position.x,L.position.y,h,qh),D=new Map(l);D.set(L.id,T),c(D)},[f,l,h]),z=g.useCallback(()=>{if(!v)return;const M=lq(v,x);cq(M)},[v,x]),A=g.useCallback(M=>{var D;const L=(D=M.target.files)==null?void 0:D[0];if(!L||!v)return;const T=new FileReader;T.onload=B=>{var F;try{const I=JSON.parse((F=B.target)==null?void 0:F.result);if(I.treeId===v.treeId){const V=cw(v.treeId,I);c(V)}else alert("Position file does not match current tree!")}catch(I){alert("Error loading position file!"),console.error("Error loading positions:",I)}},T.readAsText(L)},[v]),$=g.useCallback(()=>{m(!f)},[f]);return v?a.jsxs("div",{className:`w-full h-full bg-background rounded-lg border overflow-auto ${r||""}`,children:[a.jsx("div",{className:"p-4 border-b bg-muted/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Experimental AVIF Grid Canvas (Mirrored + Enhanced Spacing)"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Bottom-up tree with left-right mirroring using enhanced grid spacing",l.size>0&&!u&&a.jsx("span",{className:"text-green-600 ml-2",children:"• Using saved positions"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[u&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 text-xs text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"Loading positions..."]}),!u&&y.total>0&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-1 text-xs bg-muted/30 rounded border",children:[a.jsxs("span",{className:"text-green-600",children:["Saved: ",y.saved]}),a.jsxs("span",{className:"text-blue-600",children:["AVIF: ",y.avif]}),a.jsxs("span",{className:"text-red-600",children:["Default: ",y.default]}),a.jsxs("span",{className:"text-muted-foreground",children:["Total: ",y.total]})]}),a.jsx("button",{onClick:$,className:`px-3 py-1 text-xs rounded border ${f?"bg-blue-500 text-white border-blue-500":"bg-background text-foreground border-border hover:bg-muted"}`,children:f?"Exit Edit":"Edit Mode"}),a.jsx("button",{onClick:z,className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted",children:"Save Positions"}),a.jsxs("label",{className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted cursor-pointer",children:["Load Positions",a.jsx("input",{type:"file",accept:".json",onChange:A,className:"hidden"})]})]})]})}),a.jsx("div",{className:"w-full h-full min-h-[400px]",style:{zIndex:Lt.CONTENT},children:a.jsxs(Z0,{nodes:N,edges:_,onNodesChange:S,onEdgesChange:k,onConnect:R,onInit:o,onNodeDragStop:O,nodeTypes:b,nodesDraggable:f,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},style:{backgroundColor:"hsl(var(--background))"},children:[a.jsx(e_,{color:"hsl(var(--muted-foreground))",gap:20,size:1,style:{backgroundColor:"hsl(var(--background))"}}),a.jsx(QE,{})]})})]}):a.jsx("div",{className:`flex items-center justify-center p-8 text-muted-foreground ${r||""}`,children:a.jsx("p",{children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function DK(){var m;const{skills:e,selectedSkill:t,perkTree:n,selectedPerks:s,availablePerks:r,onSkillSelect:i,onPerkSelect:o,onPerkRankChange:l,loading:c,error:u}=b_(),{build:d}=ht(),f=g.useMemo(()=>!n||!s.length?[]:s.map(h=>{var b,x;const p=n.perks.find(y=>y.edid===h);if(!p)return null;const v=((x=(b=d.perks)==null?void 0:b.ranks)==null?void 0:x[h])||0;return{...p,selectedRank:v}}).filter(Boolean),[n,s,(m=d.perks)==null?void 0:m.ranks]);return c?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading skills..."})}):u?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("p",{className:"text-destructive",children:["Error loading skills: ",u]})}):a.jsx("div",{className:"container mx-auto p-6 space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Skills - Experimental AVIF Grid"}),a.jsx("p",{className:"text-muted-foreground",children:"Experimental perk tree visualization using AVIF coordinate system"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select Skill:"}),a.jsxs(Di,{children:[a.jsx(zi,{asChild:!0,children:a.jsxs(q,{variant:"outline",className:"w-[300px] justify-between",children:[t?t.name:"Choose a skill to view its perk tree",a.jsx(tn,{className:"h-4 w-4"})]})}),a.jsx(_a,{className:"w-[300px] max-h-[400px] overflow-y-auto",children:e.map(h=>a.jsx(en,{onClick:()=>i(h.id),className:"cursor-pointer",children:h.name},h.id))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-3",children:t?`${t.name} Perk Tree`:"Perk Tree"}),a.jsx("div",{className:"bg-background border rounded-lg h-[600px]",children:a.jsx(RK,{tree:n||void 0,onTogglePerk:o,onRankChange:l,selectedPerks:f,className:"h-full"})})]}),t&&n&&a.jsxs("div",{className:"bg-muted/20 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"Debug Information"}),a.jsxs("div",{className:"text-xs space-y-1 text-muted-foreground",children:[a.jsxs("p",{children:["Selected Skill: ",t.name]}),a.jsxs("p",{children:["Perk Tree: ",n.treeName]}),a.jsxs("p",{children:["Total Perks: ",n.perks.length]}),a.jsxs("p",{children:["Selected Perks: ",s.length]}),a.jsxs("p",{children:["Available Perks: ",r.length]}),a.jsxs("p",{children:["Perks with Position Data:"," ",n.perks.filter(h=>h.position).length]}),n.perks.length>0&&n.perks[0].position&&a.jsxs("p",{children:["Sample Position: X=",n.perks[0].position.x,", Y=",n.perks[0].position.y,", H=",n.perks[0].position.horizontal,", V=",n.perks[0].position.vertical]})]})]})]})]})})}function zK(e={}){const{autoLoad:t=!0,refreshOnMount:n=!1}=e,{data:s,loading:r,error:i,load:o}=no(),l=g.useCallback(async()=>{t&&s.length===0&&await o()},[t,s.length,o]),c=g.useCallback(async()=>{await o()},[o]),u=g.useCallback(()=>{},[]);g.useEffect(()=>{t&&s.length===0&&l()},[t,s.length,l]),g.useEffect(()=>{n&&c()},[n,c]);const d=s.length,f=[...new Set(s.map(y=>y.school).filter(Boolean))],m=[...new Set(s.map(y=>y.level).filter(Boolean))],h=new Date().toISOString(),p=s.length>0?{spells:s,totalCount:d,schools:f,levels:m,lastUpdated:h}:null,v=g.useCallback(y=>no.getState().getByEditorId(y),[]),b=g.useCallback(y=>no.getState().getBySchool(y),[]),x=g.useCallback(y=>no.getState().getByLevel(y),[]);return{spells:s,spellData:p,loading:r,error:i,totalCount:d,schools:f,levels:m,lastUpdated:h,loadSpells:l,refresh:c,clearError:u,getSpellByEditorId:v,getSpellsBySchool:b,getSpellsByLevel:x}}function LK(){const[e,t]=g.useState(null),[n,s]=g.useState("grid");return{selectedSpell:e,viewMode:n,setSelectedSpell:t,setViewMode:s}}const $K="bg-white dark:bg-white";function PK({school:e,size:t="md",className:n}){const s=Aw[e]||Aw.Mysticism;return a.jsx("div",{className:H("flex items-center justify-center rounded-full overflow-hidden",$K,rG[t],n),title:`${e} magic`,children:a.jsx(s,{className:"w-full h-full object-contain text-black dark:text-black"})})}const OK={default:"bg-primary text-primary-foreground",outline:"border border-border bg-background text-foreground",ghost:"bg-muted text-muted-foreground"};function uA({school:e,size:t="md",variant:n="default",className:s}){const r=sG[e]||"bg-gray-500 text-white";return a.jsx("span",{className:H("inline-flex items-center rounded-full font-medium",aG[t],n==="default"?r:OK[n],s),children:e})}const BK={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},IK={default:"bg-primary text-primary-foreground",outline:"border border-border bg-background text-foreground",ghost:"bg-muted text-muted-foreground"},HK={Novice:"bg-gray-500 text-white",Apprentice:"bg-green-500 text-white",Adept:"bg-blue-500 text-white",Expert:"bg-purple-500 text-white",Master:"bg-yellow-500 text-black"},FK={Novice:1,Apprentice:2,Adept:3,Expert:4,Master:5};function dA({level:e,size:t="md",variant:n="default",className:s}){const r=HK[e]||"bg-gray-500 text-white";return a.jsx("span",{className:H("inline-flex items-center rounded-full font-medium",BK[t],n==="default"?r:IK[n],s),title:`Level ${FK[e]||0}`,children:e})}const UK={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},VK={default:"bg-primary text-primary-foreground",outline:"border border-border bg-background text-foreground",ghost:"bg-muted text-muted-foreground"},qK=e=>e===0?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":e<=25?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":e<=50?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400":e<=100?"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400":"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400";function fA({cost:e,size:t="md",variant:n="default",showIcon:s=!0,className:r}){const i=qK(e),o=t==="sm"?"h-3 w-3":t==="lg"?"h-4 w-4":"h-3.5 w-3.5";return a.jsxs("span",{className:H("inline-flex items-center gap-1 rounded-full font-medium",UK[t],n==="default"?i:VK[n],r),title:`${e} Magicka`,children:[s&&a.jsx(Mn,{className:o}),e===0?"Free":e]})}function ZK({stats:e,title:t="Spell Stats",compact:n=!1,className:s}){return!(e.duration!==void 0||e.area!==void 0||e.magnitude!==void 0)&&e.magickaCost===0?null:a.jsxs("div",{className:H("space-y-2",s),children:[t&&a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t}),a.jsxs("div",{className:H("grid gap-2",n?"grid-cols-2":"grid-cols-1"),children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Mn,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"font-medium",children:e.magickaCost===0?"Free":`${e.magickaCost} MP`})]}),e.duration!==void 0&&e.duration>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Ka,{className:"h-4 w-4 text-blue-500"}),a.jsxs("span",{className:"font-medium",children:[e.duration,"s"]})]}),e.area!==void 0&&e.area>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(is,{className:"h-4 w-4 text-green-500"}),a.jsxs("span",{className:"font-medium",children:[e.area,"ft"]})]}),e.magnitude!==void 0&&e.magnitude>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"h-4 w-4 text-purple-500 font-bold",children:"⚡"}),a.jsx("span",{className:"font-medium",children:e.magnitude})]})]})]})}function GK({tags:e,title:t="Tags",compact:n=!1,maxDisplay:s=5,className:r}){if(!e||e.length===0)return null;const i=e.slice(0,s),o=e.length>s;return a.jsxs("div",{className:H("space-y-2",r),children:[t&&a.jsxs("h4",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(IN,{className:"h-4 w-4"}),t,e.length>1&&a.jsxs("span",{className:"text-xs text-muted-foreground/70",children:["(",e.length,")"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.map((l,c)=>a.jsx("span",{className:H("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium","bg-muted text-muted-foreground border border-border/50",n?"text-xs":"text-sm"),children:l},c)),o&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-muted/50 text-muted-foreground/70",children:["+",e.length-s]})]})]})}function mA({spell:e,onClick:t,className:n,compact:s=!1}){const r=(i,o)=>{var l,c,u;return i.replace(/<mag>/gi,((l=o.magnitude)==null?void 0:l.toString())||"0").replace(/<dur>/gi,((c=o.duration)==null?void 0:c.toString())||"0").replace(/<area>/gi,((u=o.area)==null?void 0:u.toString())||"0")};return a.jsxs(ve,{className:H("p-6 cursor-pointer hover:shadow-md transition-shadow",n),onClick:t,children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(PK,{school:e.school,size:"2xl"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(Ne,{className:"text-foreground font-semibold",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uA,{school:e.school,size:"sm"}),a.jsx(dA,{level:e.level,size:"sm"}),a.jsx(fA,{cost:e.magickaCost,size:"sm"})]})]})]})}),e.effects&&e.effects.filter(i=>i.description).length>0&&a.jsxs("div",{children:[a.jsx(_s,{className:"text-muted-foreground mb-2",children:"Effects"}),a.jsx("div",{className:"space-y-2",children:e.effects.filter(i=>i.description).map((i,o)=>a.jsxs("div",{className:"p-2 rounded bg-muted border text-sm",children:[a.jsx(De,{text:r(i.description,i),options:cS(),className:"text-muted-foreground"}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:[i.magnitude>0&&a.jsxs("span",{children:["Magnitude: ",i.magnitude]}),i.duration>0&&a.jsxs("span",{children:["Duration: ",i.duration,"s"]}),i.area>0&&a.jsxs("span",{children:["Area: ",i.area,"ft"]})]})]},o))})]})]})}const YK={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};function XK({spells:e,variant:t="default",showEffects:n=!0,showTags:s=!0,columns:r=3,className:i="",onSpellClick:o}){return e.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):a.jsx("div",{className:`grid gap-4 ${YK[r]} ${i}`,children:e.map((l,c)=>a.jsx(mA,{spell:l,onClick:()=>o==null?void 0:o(l),compact:t==="compact"},`${l.name}-${l.editorId}-${c}`))})}function WK({spells:e,variant:t="default",showEffects:n=!0,showTags:s=!0,className:r="",onSpellClick:i}){return e.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):a.jsx("div",{className:`space-y-4 ${r}`,children:e.map((o,l)=>a.jsx(mA,{spell:o,onClick:()=>i==null?void 0:i(o),compact:t==="compact"},`${o.name}-${o.editorId}-${l}`))})}const KK={Destruction:cl,Restoration:Bs,Conjuration:Sx,Illusion:ll,Alteration:at,"":la};function QK({spell:e,isOpen:t,onOpenChange:n}){var r;if(!e)return null;const s=KK[e.school]||la;return a.jsx(vl,{open:t,onOpenChange:n,side:"right",title:e.name,description:`${e.school} • ${e.level} • ${e.magickaCost} MP`,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(s,{className:"w-16 h-16 text-muted-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(ta,{className:"text-2xl font-bold mb-2",children:e.name}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(uA,{school:e.school,size:"sm"}),a.jsx(dA,{level:e.level,size:"sm"}),a.jsx(fA,{cost:e.magickaCost,size:"sm"})]}),a.jsx(De,{text:e.description})]})]}),a.jsx(Va,{}),a.jsx(ZK,{stats:{magickaCost:e.magickaCost||0,duration:e.maxDuration&&e.maxDuration>0?e.maxDuration:void 0,area:e.maxArea&&e.maxArea>0?e.maxArea:void 0,magnitude:e.totalMagnitude&&e.totalMagnitude>0?e.totalMagnitude:void 0}}),a.jsx(Va,{}),e.hasEffects&&a.jsxs("div",{children:[a.jsx(Ne,{className:"text-lg font-semibold mb-3",children:"Effects"}),a.jsx("div",{className:"space-y-2",children:e.effects.filter((i,o,l)=>{const c=i.name.replace(/\s*\(Single\)|\s*\(Dual\)/i,""),u=l.findIndex(d=>d.name.replace(/\s*\(Single\)|\s*\(Dual\)/i,"")===c&&d.magnitude===i.magnitude&&d.duration===i.duration);return o===u}).map((i,o)=>a.jsxs("div",{className:"p-3 rounded bg-muted border",children:[a.jsx("div",{className:"font-medium text-foreground mb-2",children:i.name}),i.description&&a.jsx(De,{text:i.description,className:"text-sm text-muted-foreground mb-2"}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[i.magnitude>0&&a.jsxs("span",{children:["Magnitude: ",i.magnitude]}),i.duration>0&&a.jsxs("span",{children:["Duration: ",i.duration,"s"]}),i.area>0&&a.jsxs("span",{children:["Area: ",i.area,"ft"]})]})]},o))})]}),e.tags&&e.tags.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(Va,{}),a.jsx(GK,{tags:e.tags,title:"Tags",maxDisplay:20})]}),(e.tome||((r=e.vendors)==null?void 0:r.length)||e.halfCostPerk)&&a.jsxs(a.Fragment,{children:[a.jsx(Va,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ne,{className:"text-lg font-semibold",children:"Additional Information"}),e.tome&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"w-4 h-4 text-muted-foreground"}),a.jsx(_s,{className:"text-muted-foreground",children:"Spell Tome"})]}),a.jsx(xe,{className:"text-sm",children:e.tome})]}),e.vendors&&e.vendors.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(_s,{className:"text-muted-foreground",children:"Available From"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.vendors.map((i,o)=>a.jsx(W,{variant:"outline",className:"text-xs",children:i},o))})]}),e.halfCostPerk&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"w-4 h-4 text-muted-foreground"}),a.jsx(_s,{className:"text-muted-foreground",children:"Half Cost Perk"})]}),a.jsx(xe,{className:"text-sm",children:e.halfCostPerkName})]})]})]}),a.jsx(Va,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ne,{className:"text-lg font-semibold",children:"Game Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Editor ID:"}),a.jsx("span",{className:"break-all font-mono",children:e.editorId})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"School:"}),a.jsx("span",{children:e.school})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Level:"}),a.jsx("span",{children:e.level})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[a.jsx("span",{className:"font-medium min-w-[60px]",children:"Effects:"}),a.jsx("span",{children:e.effectCount})]})]})]})]})})}function JK(){const{spells:e,loading:t,error:n}=zK(),{viewMode:s,setViewMode:r}=LK(),i=Array.isArray(e)?e:[],[o,l]=g.useState(null),[c,u]=g.useState(!1),[d,f]=g.useState("alphabetical"),m=N=>{l(N),u(!0)},h=g.useMemo(()=>{if(console.log("Generating search categories directly:",{safeSpellsLength:i.length,firstSpell:i[0]}),i.length===0)return[];const N=[...new Set(i.map(S=>S.school))],E=[...new Set(i.map(S=>S.level))];return console.log("Extracted categories:",{schools:N,levels:E}),[{id:"keywords",name:"Fuzzy Search",placeholder:"Search spells by name, school, level, or effects...",options:[]},{id:"schools",name:"Magic Schools",placeholder:"Filter by school...",options:N.map(S=>({id:`school-${S}`,label:S,value:S,category:"Magic Schools",description:`${S} spells`}))},{id:"levels",name:"Spell Levels",placeholder:"Filter by level...",options:E.map(S=>({id:`level-${S}`,label:S,value:S,category:"Spell Levels",description:`${S} spells`}))}]},[i]);g.useEffect(()=>{console.log("SpellPageView Debug:",{spellsLength:(e==null?void 0:e.length)||0,safeSpellsLength:i.length,loading:t,error:n,searchCategoriesLength:(h==null?void 0:h.length)||0,searchCategories:h})},[e,i,t,n,h]);const[p,v]=g.useState([]),b=N=>{let E;typeof N=="string"?E={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:E={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},p.some(S=>S.value===E.value&&S.category===E.category)||v(S=>[...S,E])},x=N=>{v(E=>E.filter(S=>S.id!==N))},y=()=>{v([])},j=i.filter(N=>p.length===0?!0:p.every(E=>{switch(E.category){case"Magic Schools":return N.school===E.value;case"Spell Levels":return N.level===E.value;case"Fuzzy Search":const S=E.value.toLowerCase();return N.name.toLowerCase().includes(S)||N.school.toLowerCase().includes(S)||N.level.toLowerCase().includes(S)||N.effects.some(_=>_.description.toLowerCase().includes(S));default:return!0}})),w=g.useMemo(()=>[...j].sort((N,E)=>{switch(d){case"alphabetical":return N.name.localeCompare(E.name);case"school":const S=N.school.localeCompare(E.school);return S!==0?S:N.name.localeCompare(E.name);case"level":const _=Tw[N.level]||0,C=Tw[E.level]||0;return _!==C?_-C:N.name.localeCompare(E.name);default:return 0}}),[j,d]);return t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading spells..."})]})}):n?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("p",{className:"text-destructive mb-4",children:["Error loading spells: ",n]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:["Debug: ",i.length," spells, ",h.length," search categories",h.length>0&&a.jsxs("div",{className:"mt-1",children:["Categories: ",h.map(N=>`${N.name}(${N.options.length})`).join(", ")]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:h.length>0?a.jsx(Aa,{categories:h,onSelect:b,onCustomSearch:b}):a.jsxs("div",{className:"p-4 border border-dashed border-muted-foreground/20 rounded-lg text-center text-muted-foreground",children:["No search categories available. Spells loaded: ",i.length]})}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:d,onChange:N=>f(N.target.value),className:"appearance-none bg-background border border-border rounded-lg px-3 py-1.5 pr-8 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent cursor-pointer",children:[a.jsx("option",{value:"alphabetical",children:"Sort: A-Z"}),a.jsx("option",{value:"school",children:"Sort: School"}),a.jsx("option",{value:"level",children:"Sort: Level"})]}),a.jsx(tn,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]}),a.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[a.jsx("button",{onClick:()=>r("grid"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${s==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"Grid view",children:"Grid"}),a.jsx("button",{onClick:()=>r("list"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${s==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"List view",children:"List"})]})]}),p.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:y,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx("span",{className:"text-lg",children:"×"}),"Clear All"]}),p.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>x(N.id),title:"Click to remove",children:[N.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},N.id))]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.length," of ",i.length," spells"]}),a.jsx("div",{children:w.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No spells found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}):a.jsxs(a.Fragment,{children:[s==="grid"&&a.jsx(XK,{spells:w,variant:"default",columns:3,onSpellClick:m}),s==="list"&&a.jsx(WK,{spells:w,variant:"default",onSpellClick:m})]})}),a.jsx(QK,{spell:o,isOpen:c,onOpenChange:u})]})}function eQ(){return a.jsx(Gt,{title:"Spell Reference",description:"Browse and search all available spells. Find the perfect magic for your character build.",children:a.jsx(JK,{})})}const tQ=e=>{switch(e){case"alphabetical":return"A-Z";case"category":return"Category";case"effect-count":return"Effect Count";default:return"A-Z"}};function nQ(){const{data:e,loading:t,error:n,reload:s}=r8(),r=e||[],[i,o]=g.useState([]),[l,c]=g.useState("alphabetical"),[u,d]=g.useState("grid");g.useMemo(()=>r.map(pb),[r]);const m=(()=>{const N=k_(r),E=C_(r);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:N.map(S=>({id:`category-${S}`,label:S,value:S,category:"Categories",description:`Traits in ${S} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:E.map(S=>({id:`tag-${S}`,label:S,value:S,category:"Tags",description:`Traits tagged with ${S}`}))}]})(),h=N=>{let E;typeof N=="string"?E={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:E={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},i.some(S=>S.value===E.value&&S.category===E.category)||o(S=>[...S,E])},p=N=>{o(E=>E.filter(S=>S.id!==N))},v=r.filter(N=>i.length===0?!0:i.every(E=>{var S;switch(E.category){case"Fuzzy Search":return!0;case"Categories":return N.category===E.value;case"Tags":return((S=N.tags)==null?void 0:S.some(_=>_===E.value))||!1;default:return!0}})),b=i.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredTraits:x}=S_(v,b),y=x.map(pb),j=r.map(N=>N.id||N.name),w=[...y].sort((N,E)=>{var S,_;switch(l){case"alphabetical":return N.name.localeCompare(E.name);case"category":const C=A=>{switch(A){case"Combat":return 1;case"Magic":return 2;case"Stealth":return 3;case"Social":return 4;case"Survival":return 5;default:return 6}},k=C(N.category),R=C(E.category);return k!==R?k-R:N.name.localeCompare(E.name);case"effect-count":const O=((S=N.effects)==null?void 0:S.length)||0,z=((_=E.effects)==null?void 0:_.length)||0;return O!==z?z-O:N.name.localeCompare(E.name);default:return 0}});return t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-destructive mb-4",children:n}),a.jsx("button",{onClick:()=>s(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):a.jsxs(Gt,{title:"Traits",description:"Choose your character's traits. Traits provide unique abilities and modifiers that will shape your character's capabilities throughout their journey.",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsx("div",{className:"flex-1",children:a.jsx(Aa,{categories:m,onSelect:h,onCustomSearch:h})})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(q,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),className:"flex items-center gap-2",children:[a.jsx(wi,{className:"h-4 w-4"}),"Grid"]}),a.jsxs(q,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),"List"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Di,{children:[a.jsx(zi,{asChild:!0,children:a.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:["Sort: ",tQ(l),a.jsx(tn,{className:"h-4 w-4"})]})}),a.jsxs(_a,{align:"end",children:[a.jsx(en,{onClick:()=>c("alphabetical"),children:"Alphabetical"}),a.jsx(en,{onClick:()=>c("category"),children:"Category"}),a.jsx(en,{onClick:()=>c("effect-count"),children:"Effect Count"})]})]})})]}),a.jsx("div",{className:"my-4",children:i.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("button",{onClick:()=>o([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[a.jsx(_t,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),i.map(N=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>p(N.id),title:"Click to remove",children:[N.label,a.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},N.id))]})}),u==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:w.map(N=>a.jsx(hw,{item:N,isExpanded:!0,className:"w-full",allTraitIds:j},N.id))}):a.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:w.map(N=>a.jsx(hw,{item:N,isExpanded:!0,className:"w-full",allTraitIds:j},N.id))}),w.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function sQ(){const{build:e,updateBuild:t}=ht(),[n,s]=g.useState(e.traitLimits.regular),[r,i]=g.useState(e.traitLimits.bonus),o=g.useCallback(c=>{s(c),t({traitLimits:{...e.traitLimits,regular:c}})},[e.traitLimits,t]),l=g.useCallback(c=>{i(c),t({traitLimits:{...e.traitLimits,bonus:c}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:r,handleRegularLimitChange:o,handleBonusLimitChange:l,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}function rQ(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:s}=ht(),[r,i]=g.useState(!1),o=sQ(),l=lt(),c=[{id:"basic-info",component:a.jsx(sS,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),size:"full"},{id:"race",component:a.jsx(vC,{}),size:"half"},{id:"birthsign",component:a.jsx(tC,{}),size:"half"},{id:"trait",component:a.jsx(E_,{}),size:"half"},{id:"religion",component:a.jsx(SC,{}),size:"half"},{id:"attributes",component:a.jsx(lS,{}),size:"full"},{id:"skills",component:a.jsx(N_,{}),size:"full"},{id:"destiny",component:a.jsx(fC,{navigate:l}),size:"full"}];return a.jsxs(Gt,{title:"Character Builder",description:"Create and customize your character build. Choose your race, birthsign, traits, religion, attributes, skills, and destiny to create the perfect character for your playstyle.",children:[a.jsx(QL,{onReset:()=>i(!0),build:e}),a.jsx(l$,{open:r,onConfirm:()=>{s(),i(!1)},onCancel:()=>i(!1)}),a.jsxs(Ai,{defaultValue:"build",className:"w-full",children:[a.jsxs(Ti,{className:"mb-4",children:[a.jsx(Vt,{value:"build",children:"Build"}),a.jsx(Vt,{value:"config",children:"Config"})]}),a.jsx(Kt,{value:"build",children:a.jsx(JL,{cards:c,gap:16})}),a.jsx(Kt,{value:"config",children:a.jsx(u$,{regularLimit:o.regularLimit,bonusLimit:o.bonusLimit,onRegularLimitChange:o.handleRegularLimitChange,onBonusLimitChange:o.handleBonusLimitChange,currentRegularCount:o.currentRegularCount,currentBonusCount:o.currentBonusCount})})]})]})}function aQ(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(_i,{children:"Crafting"}),a.jsx(yc,{children:"Plan your crafting recipes and material requirements"})]}),a.jsxs(ve,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Coming Soon"}),a.jsx(Es,{children:"Crafting system is under development"})]}),a.jsx(be,{children:a.jsx(yc,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function iQ(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(_i,{children:"Equipment"}),a.jsx(yc,{children:"Browse and compare weapons, armor, and items"})]}),a.jsxs(ve,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Coming Soon"}),a.jsx(Es,{children:"Equipment database is under development"})]}),a.jsx(be,{children:a.jsx(yc,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const oQ=()=>{const{build:e,getSummary:t}=ht(),n=lt(),s=t();return!e.name&&!e.race?a.jsxs(ve,{className:"border-dashed border-2 border-muted",children:[a.jsxs(Re,{children:[a.jsx(Pe,{className:"text-lg",children:"No Character Build"}),a.jsx(Es,{children:"Start building your character to see it here"})]}),a.jsx(be,{children:a.jsx(q,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):a.jsxs(ve,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"text-lg flex items-center justify-between",children:[a.jsx("span",{children:s.name}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),a.jsx(Es,{children:"Current character build status"})]}),a.jsxs(be,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Race:"}),a.jsx(W,{variant:"secondary",className:"ml-2",children:s.race})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),a.jsx(W,{variant:"secondary",className:"ml-2",children:s.stone})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),a.jsx(W,{variant:"secondary",className:"ml-2",children:s.religion})]})]}),a.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[s.traitCount," traits"]}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:[s.majorSkillCount," major skills"]}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:[s.minorSkillCount," minor skills"]}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:[s.equipmentCount," equipment"]})]})]})]})};function lQ(){const e=lt(),t=()=>{e("/build")},n=[{name:"GigaPlanner",description:"Advanced build planner with detailed skill trees and optimization",url:"https://multidyls.github.io/GigaPlanner",icon:a.jsx(Cg,{className:"h-5 w-5 text-primary"}),category:"Build Planning",author:"Multidyls"},{name:"Character Builder GPT",description:"AI-powered character creation assistant with personalized build recommendations",url:"https://chatgpt.com/g/g-68462f6313d48191bab174806a049ca4-lorerim-builds-wizard-v2?model=gpt-4o",icon:a.jsx(HN,{className:"h-5 w-5 text-primary"}),category:"AI Assistant",author:"Zoldyg"},{name:"Alchemy Calculator",description:"Comprehensive alchemy crafting and ingredient database with detailed recipes",url:"https://docs.google.com/spreadsheets/d/1zUVCaRlqHX_sER-kJR-ZLIAfsFbTj9FQCO-hMfnp4XA/edit?gid=2066962651#gid=2066962651",icon:a.jsx(la,{className:"h-5 w-5 text-primary"}),category:"Crafting",author:"Rudy"},{name:"Spell Sheet Generator",description:"Lorerim Spell List Google Sheet",url:"https://docs.google.com/spreadsheets/d/1fvYHRfwAprpgEPaXyuteEx0ud9S572noYnlpVq6cJFs/edit?gid=915313506#gid=915313506",icon:a.jsx(ka,{className:"h-5 w-5 text-primary"}),category:"Spells",author:"ImmatureTurtles"},{name:"Weapons Discussion Hub",description:"Deep dive into weapon mechanics, damage calculations, and optimization strategies",url:"https://discord.com/channels/622647066719420427/1382033558754955354",icon:a.jsx(ii,{className:"h-5 w-5 text-primary"}),category:"Combat",author:"Deo"},{name:"Spin Wheel Tool",description:"Random build generator and challenge creator for fun playthroughs",url:"https://spinthewheel.app/YXGCPykcqJ",icon:a.jsx(yr,{className:"h-5 w-5 text-primary"}),category:"Fun",author:"Sora the Saint"}],s=r=>{r!=="#"&&window.open(r,"_blank","noopener,noreferrer")};return a.jsx("div",{className:"bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-12",children:[a.jsxs("div",{className:"text-left space-y-6",children:[a.jsx("div",{className:"flex items-center gap-3 mb-4 justify-start",children:a.jsx(_i,{className:"text-4xl md:text-6xl font-bold text-foreground",children:"Lorerim Arcaneum"})}),a.jsx(oS,{className:"text-xl md:text-2xl text-muted-foreground",children:"A growing collection of Lorerim tools and resources. Build characters, explore mechanics, and contribute to the community."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Big thanks to Biggie Boss"})]}),a.jsx("div",{className:"max-w-md",children:a.jsx(oQ,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[a.jsx(Hd,{className:"h-6 w-6 text-primary"}),"Character Building"]}),a.jsx("p",{className:"text-muted-foreground",children:"Create and customize your character from scratch"})]}),a.jsxs(ve,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/30 cursor-pointer group bg-card",onClick:t,children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2 group-hover:text-primary transition-colors text-card-foreground",children:[a.jsx(la,{className:"h-5 w-5"}),"Start Character Build"]}),a.jsx(Es,{className:"text-muted-foreground",children:"Design your character with races, traits, birthsigns, and more"})]}),a.jsx(be,{children:a.jsxs(q,{className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:["Begin Building",a.jsx(WR,{className:"ml-2 h-4 w-4"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ve,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/race"),children:a.jsxs(be,{className:"p-4 text-center",children:[a.jsx(d3,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Races"})]})}),a.jsx(ve,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/birth-signs"),children:a.jsxs(be,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:"⭐"}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Birthsigns"})]})}),a.jsx(ve,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/traits"),children:a.jsxs(be,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:"🎯"}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Traits"})]})}),a.jsx(ve,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/build/perks"),children:a.jsxs(be,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:"⚔️"}),a.jsx("div",{className:"font-medium text-sm text-card-foreground",children:"Skills"})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[a.jsx(pc,{className:"h-6 w-6 text-primary"}),"Quick Access"]}),a.jsx("p",{className:"text-muted-foreground",children:"Jump directly to specific tools and features"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ve,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/search"),children:a.jsx(be,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pc,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-card-foreground",children:"Advanced Search"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Detailed search with filters"})]})]})})}),a.jsx(ve,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/spells"),children:a.jsx(be,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(la,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-card-foreground",children:"Spells"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Browse and search spells"})]})]})})}),a.jsx(ve,{className:"hover:shadow-md transition-shadow cursor-pointer bg-card",onClick:()=>e("/cookbook"),children:a.jsx(be,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(PN,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-card-foreground",children:"Cookbook"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Crafting recipes & guides"})]})]})})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2 mb-2 text-foreground",children:[a.jsx(Cg,{className:"h-6 w-6 text-primary"}),"Favorite Tools"]}),a.jsx("p",{className:"text-muted-foreground",children:"Discover the best external tools and resources for Lorerim theorycrafting"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((r,i)=>a.jsxs(ve,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/30 cursor-pointer group bg-card",onClick:()=>s(r.url),children:[a.jsxs(Re,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[r.icon,a.jsx(Pe,{className:"text-lg group-hover:text-primary transition-colors text-card-foreground",children:r.name})]}),a.jsx(Ca,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-xs font-medium text-primary/80 bg-primary/10 px-2 py-1 rounded-full",children:r.category}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["by ",r.author]})]})]}),a.jsx(be,{className:"pt-0",children:a.jsx(Es,{className:"text-muted-foreground",children:r.description})})]},i))})]}),a.jsx("div",{className:"text-left pt-8 border-t border-border",children:a.jsx("p",{className:"text-muted-foreground",children:"Crafted by Bardic (Jeremy) Noel, with gratitude to Biggie Boss and the Lorerim community"})})]})})}function cQ(){const e=lt();return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[a.jsx(_i,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),a.jsx(xe,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),a.jsx(q,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const uQ=()=>a.jsxs(jD,{children:[a.jsx(yt,{path:"/",element:a.jsx(lQ,{})}),a.jsxs(yt,{path:"/build",element:a.jsx(G$,{}),children:[a.jsx(yt,{index:!0,element:a.jsx(rQ,{})}),a.jsx(yt,{path:"race",element:a.jsx(bC,{})}),a.jsx(yt,{path:"birth-signs",element:a.jsx(QB,{})}),a.jsx(yt,{path:"traits",element:a.jsx(nQ,{})}),a.jsx(yt,{path:"religions",element:a.jsx(AZ,{})}),a.jsx(yt,{path:"destiny",element:a.jsx(_Z,{})}),a.jsx(yt,{path:"perks",element:a.jsx(Ow,{})})]}),a.jsx(yt,{path:"/spells",element:a.jsx(eQ,{})}),a.jsx(yt,{path:"/cookbook",element:a.jsx(mZ,{})}),a.jsx(yt,{path:"/search",element:a.jsx(gG,{})}),a.jsx(yt,{path:"/virtual-masonry-demo",element:a.jsx(xG,{})}),a.jsx(yt,{path:"/races-mva-demo",element:a.jsx(SI,{})}),a.jsx(yt,{path:"/skills-mva",element:a.jsx(Ow,{})}),a.jsx(yt,{path:"/skills-experimental",element:a.jsx(DK,{})}),a.jsx(yt,{path:"/equipment",element:a.jsx(iQ,{})}),a.jsx(yt,{path:"/crafting",element:a.jsx(aQ,{})}),a.jsx(yt,{path:"*",element:a.jsx(cQ,{})})]});function dQ(){const{theme:e,setTheme:t}=iS(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},s=()=>{switch(e){case"light":return a.jsx(my,{className:"h-4 w-4"});case"dark":return a.jsx(B4,{className:"h-4 w-4"});case"system":return a.jsx(P4,{className:"h-4 w-4"});default:return a.jsx(my,{className:"h-4 w-4"})}};return a.jsxs(q,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[s(),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function fQ({sidebarCollapsed:e,onToggleSidebar:t,isMobile:n=!1,MobileDrawerTrigger:s}){return a.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:Lt.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[n&&s?a.jsx("div",{className:"mr-2",children:a.jsx(s,{})}):a.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:a.jsx(R4,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),a.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),a.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),a.jsx("div",{className:"flex-1 max-w-md mx-4",children:a.jsx(fG,{placeholder:"Search skills, races, traits...",className:"w-full"})}),a.jsx("div",{className:"ml-auto",children:a.jsx(dQ,{})})]})}const hA=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"}]},{label:"Docs",items:[{to:"/spells",label:"Spells"},{to:"/cookbook",label:"Food and Alcohol"}]}];function mQ({onNavigate:e}){const t=lt(),n=window.location.hash.replace(/^#\/?/,"/"),s=(r,i)=>{const o=window.location.hash,[l,c]=o.split("?"),d=new URLSearchParams(c||"").get("b");t(d?`${r}?b=${d}`:r),e(i)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b border-skyrim-gold/20",children:a.jsxs("button",{onClick:()=>s("/",!0),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[a.jsx(ON,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),a.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:hA.map(r=>a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:r.label}),a.jsx("div",{className:"space-y-1",children:r.items.map(i=>{const o=n===i.to;return a.jsx("button",{onClick:()=>s(i.to,!0),className:`w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] active:scale-[0.98] cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 ${o?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent"}`,children:i.label},i.to)})})]},r.label))}),a.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[a.jsx(xe,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),a.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:"⚙️ Settings"})]})]})}function hQ({collapsed:e,onNavigate:t}){const n=lt(),s=window.location.hash.replace(/^#\/?/,"/"),r=i=>{const o=window.location.hash,[l,c]=o.split("?"),d=new URLSearchParams(c||"").get("b");n(d?`${i}?b=${d}`:i)};return a.jsxs(__,{collapsed:e,children:[a.jsx(M_,{children:!e&&a.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[a.jsx(ON,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),a.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),a.jsx(A_,{children:hA.map(i=>a.jsxs(T_,{children:[!e&&a.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:i.label}),a.jsx(R_,{children:i.items.map(o=>{const l=s===o.to;return a.jsx(z_,{children:a.jsx(D_,{asChild:!0,isActive:l,onClick:()=>r(o.to),tabIndex:0,children:a.jsx("span",{className:"w-full text-left truncate",children:o.label})})},o.to)})})]},i.label))}),!e&&a.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[a.jsx(xe,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),a.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:"⚙️ Settings"})]}),a.jsx(L_,{})]})}function gQ({onNavigate:e}){const[t,n]=g.useState(!1),s=r=>{r&&n(!1)};return a.jsxs(Po,{open:t,onOpenChange:n,children:[a.jsx(eS,{asChild:!0,children:a.jsx("button",{"aria-label":"Open navigation menu",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:a.jsx("svg",{className:"w-5 h-5 text-skyrim-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),a.jsx(li,{side:"left",className:"p-0 w-80",children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(mQ,{onNavigate:s})})})]})}function pQ(){const[e,t]=g.useState(!0),[n,s]=g.useState(!1);return nZ(),g.useEffect(()=>{const r=()=>s(window.innerWidth<768);return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),a.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[a.jsx(fQ,{sidebarCollapsed:e,onToggleSidebar:()=>t(r=>!r),isMobile:n,MobileDrawerTrigger:()=>a.jsx(gQ,{onNavigate:()=>{}})}),a.jsxs("div",{className:"flex flex-1",children:[!n&&a.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0 overflow-hidden":"w-64"}`,style:{zIndex:Lt.SIDEBAR},children:a.jsx(hQ,{collapsed:e,onNavigate:r=>{r&&t(!0)}})}),a.jsx("main",{className:"flex-1 transition-all duration-300 ease-in-out min-w-0",children:a.jsx(uQ,{})})]}),a.jsx(tZ,{})]})}function xQ(){return a.jsx(GD,{children:a.jsx(pQ,{})})}function vQ({children:e,showLoadingIndicator:t=!1}){const[n,s]=g.useState(!0),[r,i]=g.useState(null),o=g.useRef(!1),l=Si(x=>x.load),c=ml(x=>x.load),u=Ni(x=>x.load),d=wr(x=>x.load),f=ar(x=>x.load),m=hl(x=>x.load),h=ki(x=>x.load),p=no(x=>x.load),v=Ci(x=>x.load),b=g.useCallback(async()=>{if(!o.current)try{s(!0),i(null),await Promise.all([l(),c(),u(),d(),f(),m(),h(),p(),v()]),o.current=!0,s(!1)}catch(x){console.error("Failed to initialize data:",x),i(x instanceof Error?x.message:"Failed to initialize data"),s(!1)}},[l,c,u,d,f,m,h,p,v]);return g.useEffect(()=>{b()},[b]),n&&t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading data..."})]})}):r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-red-600 mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Failed to Load Data"}),a.jsx("p",{className:"text-sm",children:r})]}),a.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):a.jsx(a.Fragment,{children:e})}var gA={exports:{}},Pm={},pA={exports:{}},xA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,L){var T=M.length;M.push(L);e:for(;0<T;){var D=T-1>>>1,B=M[D];if(0<r(B,L))M[D]=L,M[T]=B,T=D;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var L=M[0],T=M.pop();if(T!==L){M[0]=T;e:for(var D=0,B=M.length,F=B>>>1;D<F;){var I=2*(D+1)-1,V=M[I],G=I+1,J=M[G];if(0>r(V,T))G<B&&0>r(J,V)?(M[D]=J,M[G]=T,D=G):(M[D]=V,M[I]=T,D=I);else if(G<B&&0>r(J,T))M[D]=J,M[G]=T,D=G;else break e}}return L}function r(M,L){var T=M.sortIndex-L.sortIndex;return T!==0?T:M.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function w(M){for(var L=n(u);L!==null;){if(L.callback===null)s(u);else if(L.startTime<=M)s(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function N(M){if(v=!1,w(M),!p)if(n(c)!==null)p=!0,E||(E=!0,O());else{var L=n(u);L!==null&&$(N,L.startTime-M)}}var E=!1,S=-1,_=5,C=-1;function k(){return b?!0:!(e.unstable_now()-C<_)}function R(){if(b=!1,E){var M=e.unstable_now();C=M;var L=!0;try{e:{p=!1,v&&(v=!1,y(S),S=-1),h=!0;var T=m;try{t:{for(w(M),f=n(c);f!==null&&!(f.expirationTime>M&&k());){var D=f.callback;if(typeof D=="function"){f.callback=null,m=f.priorityLevel;var B=D(f.expirationTime<=M);if(M=e.unstable_now(),typeof B=="function"){f.callback=B,w(M),L=!0;break t}f===n(c)&&s(c),w(M)}else s(c);f=n(c)}if(f!==null)L=!0;else{var F=n(u);F!==null&&$(N,F.startTime-M),L=!1}}break e}finally{f=null,m=T,h=!1}L=void 0}}finally{L?O():E=!1}}}var O;if(typeof j=="function")O=function(){j(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,A=z.port2;z.port1.onmessage=R,O=function(){A.postMessage(null)}}else O=function(){x(R,0)};function $(M,L){S=x(function(){M(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var T=m;m=L;try{return M()}finally{m=T}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var T=m;m=M;try{return L()}finally{m=T}},e.unstable_scheduleCallback=function(M,L,T){var D=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?D+T:D):T=D,M){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=T+B,M={id:d++,callback:L,priorityLevel:M,startTime:T,expirationTime:B,sortIndex:-1},T>D?(M.sortIndex=T,t(u,M),n(c)===null&&M===n(u)&&(v?(y(S),S=-1):v=!0,$(N,T-D))):(M.sortIndex=B,t(c,M),p||h||(p=!0,E||(E=!0,O()))),M},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(M){var L=m;return function(){var T=m;m=L;try{return M.apply(this,arguments)}finally{m=T}}}})(xA);pA.exports=xA;var yQ=pA.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var At=yQ,vA=g,bQ=Kf;function Y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aj(e){if(mu(e)!==e)throw Error(Y(188))}function wQ(e){var t=e.alternate;if(!t){if(t=mu(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return aj(r),e;if(i===s)return aj(r),t;i=i.sibling}throw Error(Y(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==s)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function wA(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=wA(e),t!==null)return t;e=e.sibling}return null}var Qe=Object.assign,jQ=Symbol.for("react.element"),sd=Symbol.for("react.transitional.element"),Yl=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),jA=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),NQ=Symbol.for("react.provider"),NA=Symbol.for("react.consumer"),cr=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),wp=Symbol.for("react.suspense"),jp=Symbol.for("react.suspense_list"),uv=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),Np=Symbol.for("react.activity"),SQ=Symbol.for("react.memo_cache_sentinel"),ij=Symbol.iterator;function $l(e){return e===null||typeof e!="object"?null:(e=ij&&e[ij]||e["@@iterator"],typeof e=="function"?e:null)}var kQ=Symbol.for("react.client.reference");function Sp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===kQ?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ro:return"Fragment";case bp:return"Profiler";case jA:return"StrictMode";case wp:return"Suspense";case jp:return"SuspenseList";case Np:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Yl:return"Portal";case cr:return(e.displayName||"Context")+".Provider";case NA:return(e._context.displayName||"Context")+".Consumer";case cv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uv:return t=e.displayName||null,t!==null?t:Sp(e.type)||"Memo";case Gr:t=e._payload,e=e._init;try{return Sp(e(t))}catch{}}return null}var Xl=Array.isArray,ge=vA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe=bQ.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ja={pending:!1,data:null,method:null,action:null},kp=[],ao=-1;function qs(e){return{current:e}}function zt(e){0>ao||(e.current=kp[ao],kp[ao]=null,ao--)}function tt(e,t){ao++,kp[ao]=e.current,e.current=t}var zs=qs(null),zc=qs(null),fa=qs(null),xf=qs(null);function vf(e,t){switch(tt(fa,t),tt(zc,e),tt(zs,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dN(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dN(t),e=IM(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}zt(zs),tt(zs,e)}function Wo(){zt(zs),zt(zc),zt(fa)}function Cp(e){e.memoizedState!==null&&tt(xf,e);var t=zs.current,n=IM(t,e.type);t!==n&&(tt(zc,e),tt(zs,n))}function yf(e){zc.current===e&&(zt(zs),zt(zc)),xf.current===e&&(zt(xf),Vc._currentValue=Ja)}var Ep=Object.prototype.hasOwnProperty,dv=At.unstable_scheduleCallback,Zh=At.unstable_cancelCallback,CQ=At.unstable_shouldYield,EQ=At.unstable_requestPaint,Ls=At.unstable_now,_Q=At.unstable_getCurrentPriorityLevel,SA=At.unstable_ImmediatePriority,kA=At.unstable_UserBlockingPriority,bf=At.unstable_NormalPriority,AQ=At.unstable_LowPriority,CA=At.unstable_IdlePriority,TQ=At.log,MQ=At.unstable_setDisableYieldValue,hu=null,En=null;function sa(e){if(typeof TQ=="function"&&MQ(e),En&&typeof En.setStrictMode=="function")try{En.setStrictMode(hu,e)}catch{}}var _n=Math.clz32?Math.clz32:zQ,RQ=Math.log,DQ=Math.LN2;function zQ(e){return e>>>=0,e===0?32:31-(RQ(e)/DQ|0)|0}var rd=256,ad=4194304;function Ia(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Om(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=s&134217727;return l!==0?(s=l&~i,s!==0?r=Ia(s):(o&=l,o!==0?r=Ia(o):n||(n=l&~e,n!==0&&(r=Ia(n))))):(l=s&~i,l!==0?r=Ia(l):o!==0?r=Ia(o):n||(n=s&~e,n!==0&&(r=Ia(n)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:r}function gu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function LQ(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EA(){var e=rd;return rd<<=1,!(rd&4194048)&&(rd=256),e}function _A(){var e=ad;return ad<<=1,!(ad&62914560)&&(ad=4194304),e}function Gh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pu(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $Q(e,t,n,s,r,i){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var d=31-_n(n),f=1<<d;l[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}n&=~f}s!==0&&AA(e,s,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function AA(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-_n(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function TA(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-_n(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function fv(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function MA(){var e=Oe.p;return e!==0?e:(e=window.event,e===void 0?32:WM(e.type))}function PQ(e,t){var n=Oe.p;try{return Oe.p=e,t()}finally{Oe.p=n}}var Ra=Math.random().toString(36).slice(2),qt="__reactFiber$"+Ra,mn="__reactProps$"+Ra,bl="__reactContainer$"+Ra,_p="__reactEvents$"+Ra,OQ="__reactListeners$"+Ra,BQ="__reactHandles$"+Ra,oj="__reactResources$"+Ra,xu="__reactMarker$"+Ra;function hv(e){delete e[qt],delete e[mn],delete e[_p],delete e[OQ],delete e[BQ]}function io(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bl]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hN(e);e!==null;){if(n=e[qt])return n;e=hN(e)}return t}e=n,n=e.parentNode}return null}function wl(e){if(e=e[qt]||e[bl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Wl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Y(33))}function So(e){var t=e[oj];return t||(t=e[oj]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Rt(e){e[xu]=!0}var RA=new Set,DA={};function Pi(e,t){Ko(e,t),Ko(e+"Capture",t)}function Ko(e,t){for(DA[e]=t,e=0;e<t.length;e++)RA.add(t[e])}var IQ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lj={},cj={};function HQ(e){return Ep.call(cj,e)?!0:Ep.call(lj,e)?!1:IQ.test(e)?cj[e]=!0:(lj[e]=!0,!1)}function Ed(e,t,n){if(HQ(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function id(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function nr(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var Yh,uj;function Ji(e){if(Yh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yh=t&&t[1]||"",uj=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yh+e+uj}var Xh=!1;function Wh(e,t){if(!e||Xh)return"";Xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var c=o.split(`
`),u=l.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=r);break}}}finally{Xh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ji(n):""}function FQ(e){switch(e.tag){case 26:case 27:case 5:return Ji(e.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 15:return Wh(e.type,!1);case 11:return Wh(e.type.render,!1);case 1:return Wh(e.type,!0);case 31:return Ji("Activity");default:return""}}function dj(e){try{var t="";do t+=FQ(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UQ(e){var t=zA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wf(e){e._valueTracker||(e._valueTracker=UQ(e))}function LA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=zA(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function jf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var VQ=/[\n"\\]/g;function Un(e){return e.replace(VQ,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ap(e,t,n,s,r,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bn(t)):e.value!==""+Bn(t)&&(e.value=""+Bn(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Tp(e,o,Bn(t)):n!=null?Tp(e,o,Bn(n)):s!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Bn(l):e.removeAttribute("name")}function $A(e,t,n,s,r,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;n=n!=null?""+Bn(n):"",t=t!=null?""+Bn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=l?e.checked:!!s,e.defaultChecked=!!s,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function Tp(e,t,n){t==="number"&&jf(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ko(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Bn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function PA(e,t,n){if(t!=null&&(t=""+Bn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Bn(n):""}function OA(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(Y(92));if(Xl(s)){if(1<s.length)throw Error(Y(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Bn(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function Qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qQ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fj(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||qQ.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function BA(e,t,n){if(t!=null&&typeof t!="object")throw Error(Y(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&fj(e,r,s)}else for(var i in t)t.hasOwnProperty(i)&&fj(e,i,t[i])}function gv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZQ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),GQ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _d(e){return GQ.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mp=null;function pv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oo=null,Co=null;function mj(e){var t=wl(e);if(t&&(e=t.stateNode)){var n=e[mn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ap(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Un(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[mn]||null;if(!r)throw Error(Y(90));Ap(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&LA(s)}break e;case"textarea":PA(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ko(e,!!n.multiple,t,!1)}}}var Kh=!1;function IA(e,t,n){if(Kh)return e(t,n);Kh=!0;try{var s=e(t);return s}finally{if(Kh=!1,(oo!==null||Co!==null)&&(Ym(),oo&&(t=oo,e=Co,Co=oo=null,mj(t),e)))for(t=0;t<e.length;t++)mj(e[t])}}function Lc(e,t){var n=e.stateNode;if(n===null)return null;var s=n[mn]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=!1;if(Er)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Rp=!1}var ra=null,xv=null,Ad=null;function HA(){if(Ad)return Ad;var e,t=xv,n=t.length,s,r="value"in ra?ra.value:ra.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[i-s];s++);return Ad=r.slice(e,1<s?1-s:void 0)}function Td(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function od(){return!0}function hj(){return!1}function xn(e){function t(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?od:hj,this.isPropagationStopped=hj,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),t}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bm=xn(Oi),vu=Qe({},Oi,{view:0,detail:0}),YQ=xn(vu),Qh,Jh,Ol,Im=Qe({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ol&&(Ol&&e.type==="mousemove"?(Qh=e.screenX-Ol.screenX,Jh=e.screenY-Ol.screenY):Jh=Qh=0,Ol=e),Qh)},movementY:function(e){return"movementY"in e?e.movementY:Jh}}),gj=xn(Im),XQ=Qe({},Im,{dataTransfer:0}),WQ=xn(XQ),KQ=Qe({},vu,{relatedTarget:0}),eg=xn(KQ),QQ=Qe({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),JQ=xn(QQ),eJ=Qe({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tJ=xn(eJ),nJ=Qe({},Oi,{data:0}),pj=xn(nJ),sJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aJ[e])?!!t[e]:!1}function vv(){return iJ}var oJ=Qe({},vu,{key:function(e){if(e.key){var t=sJ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Td(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rJ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vv,charCode:function(e){return e.type==="keypress"?Td(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Td(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lJ=xn(oJ),cJ=Qe({},Im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xj=xn(cJ),uJ=Qe({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vv}),dJ=xn(uJ),fJ=Qe({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),mJ=xn(fJ),hJ=Qe({},Im,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gJ=xn(hJ),pJ=Qe({},Oi,{newState:0,oldState:0}),xJ=xn(pJ),vJ=[9,13,27,32],yv=Er&&"CompositionEvent"in window,tc=null;Er&&"documentMode"in document&&(tc=document.documentMode);var yJ=Er&&"TextEvent"in window&&!tc,FA=Er&&(!yv||tc&&8<tc&&11>=tc),vj=" ",yj=!1;function UA(e,t){switch(e){case"keyup":return vJ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lo=!1;function bJ(e,t){switch(e){case"compositionend":return VA(t);case"keypress":return t.which!==32?null:(yj=!0,vj);case"textInput":return e=t.data,e===vj&&yj?null:e;default:return null}}function wJ(e,t){if(lo)return e==="compositionend"||!yv&&UA(e,t)?(e=HA(),Ad=xv=ra=null,lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FA&&t.locale!=="ko"?null:t.data;default:return null}}var jJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jJ[e.type]:t==="textarea"}function qA(e,t,n,s){oo?Co?Co.push(s):Co=[s]:oo=s,t=If(t,"onChange"),0<t.length&&(n=new Bm("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var nc=null,$c=null;function NJ(e){PM(e,0)}function Hm(e){var t=Wl(e);if(LA(t))return e}function wj(e,t){if(e==="change")return t}var ZA=!1;if(Er){var tg;if(Er){var ng="oninput"in document;if(!ng){var jj=document.createElement("div");jj.setAttribute("oninput","return;"),ng=typeof jj.oninput=="function"}tg=ng}else tg=!1;ZA=tg&&(!document.documentMode||9<document.documentMode)}function Nj(){nc&&(nc.detachEvent("onpropertychange",GA),$c=nc=null)}function GA(e){if(e.propertyName==="value"&&Hm($c)){var t=[];qA(t,$c,e,pv(e)),IA(NJ,t)}}function SJ(e,t,n){e==="focusin"?(Nj(),nc=t,$c=n,nc.attachEvent("onpropertychange",GA)):e==="focusout"&&Nj()}function kJ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hm($c)}function CJ(e,t){if(e==="click")return Hm(t)}function EJ(e,t){if(e==="input"||e==="change")return Hm(t)}function _J(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:_J;function Pc(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Ep.call(t,r)||!Dn(e[r],t[r]))return!1}return!0}function Sj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kj(e,t){var n=Sj(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sj(n)}}function YA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?YA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function XA(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=jf(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jf(e.document)}return t}function bv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var AJ=Er&&"documentMode"in document&&11>=document.documentMode,co=null,Dp=null,sc=null,zp=!1;function Cj(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zp||co==null||co!==jf(s)||(s=co,"selectionStart"in s&&bv(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),sc&&Pc(sc,s)||(sc=s,s=If(Dp,"onSelect"),0<s.length&&(t=new Bm("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=co)))}function Oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var uo={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},sg={},WA={};Er&&(WA=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Bi(e){if(sg[e])return sg[e];if(!uo[e])return e;var t=uo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in WA)return sg[e]=t[n];return e}var KA=Bi("animationend"),QA=Bi("animationiteration"),JA=Bi("animationstart"),TJ=Bi("transitionrun"),MJ=Bi("transitionstart"),RJ=Bi("transitioncancel"),eT=Bi("transitionend"),tT=new Map,Lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lp.push("scrollEnd");function ps(e,t){tT.set(e,t),Pi(t,[e])}var Ej=new WeakMap;function Vn(e,t){if(typeof e=="object"&&e!==null){var n=Ej.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dj(t)},Ej.set(e,t),t)}return{value:e,source:t,stack:dj(t)}}var On=[],fo=0,wv=0;function Fm(){for(var e=fo,t=wv=fo=0;t<e;){var n=On[t];On[t++]=null;var s=On[t];On[t++]=null;var r=On[t];On[t++]=null;var i=On[t];if(On[t++]=null,s!==null&&r!==null){var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}i!==0&&nT(n,r,i)}}function Um(e,t,n,s){On[fo++]=e,On[fo++]=t,On[fo++]=n,On[fo++]=s,wv|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function jv(e,t,n,s){return Um(e,t,n,s),Nf(e)}function jl(e,t){return Um(e,null,null,t),Nf(e)}function nT(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=e.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-_n(n),e=i.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=n|536870912),i):null}function Nf(e){if(50<mc)throw mc=0,nx=null,Error(Y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var mo={};function DJ(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,n,s){return new DJ(e,t,n,s)}function Nv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xr(e,t){var n=e.alternate;return n===null?(n=kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function sT(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Md(e,t,n,s,r,i){var o=0;if(s=e,typeof e=="function")Nv(e)&&(o=1);else if(typeof e=="string")o=Lee(e,n,zs.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Np:return e=kn(31,n,t,r),e.elementType=Np,e.lanes=i,e;case ro:return ei(n.children,r,i,t);case jA:o=8,r|=24;break;case bp:return e=kn(12,n,t,r|2),e.elementType=bp,e.lanes=i,e;case wp:return e=kn(13,n,t,r),e.elementType=wp,e.lanes=i,e;case jp:return e=kn(19,n,t,r),e.elementType=jp,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NQ:case cr:o=10;break e;case NA:o=9;break e;case cv:o=11;break e;case uv:o=14;break e;case Gr:o=16,s=null;break e}o=29,n=Error(Y(130,e===null?"null":typeof e,"")),s=null}return t=kn(o,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function ei(e,t,n,s){return e=kn(7,e,s,t),e.lanes=n,e}function rg(e,t,n){return e=kn(6,e,null,t),e.lanes=n,e}function ag(e,t,n){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ho=[],go=0,Sf=null,kf=0,In=[],Hn=0,ti=null,ur=1,dr="";function Ha(e,t){ho[go++]=kf,ho[go++]=Sf,Sf=e,kf=t}function rT(e,t,n){In[Hn++]=ur,In[Hn++]=dr,In[Hn++]=ti,ti=e;var s=ur;e=dr;var r=32-_n(s)-1;s&=~(1<<r),n+=1;var i=32-_n(t)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,ur=1<<32-_n(t)+r|n<<r|s,dr=i+e}else ur=1<<i|n<<r|s,dr=e}function Sv(e){e.return!==null&&(Ha(e,1),rT(e,1,0))}function kv(e){for(;e===Sf;)Sf=ho[--go],ho[go]=null,kf=ho[--go],ho[go]=null;for(;e===ti;)ti=In[--Hn],In[Hn]=null,dr=In[--Hn],In[Hn]=null,ur=In[--Hn],In[Hn]=null}var Xt=null,ut=null,$e=!1,ni=null,Cs=!1,$p=Error(Y(519));function xi(e){var t=Error(Y(418,""));throw Oc(Vn(t,e)),$p}function _j(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[qt]=e,t[mn]=s,n){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(n=0;n<Hc.length;n++)_e(Hc[n],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),$A(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),wf(t);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),OA(t,s.value,s.defaultValue,s.children),wf(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||BM(t.textContent,n)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=Km),t=!0):t=!1,t||xi(e)}function Aj(e){for(Xt=e.return;Xt;)switch(Xt.tag){case 5:case 13:Cs=!1;return;case 27:case 3:Cs=!0;return;default:Xt=Xt.return}}function Bl(e){if(e!==Xt)return!1;if(!$e)return Aj(e),$e=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||lx(e.type,e.memoizedProps)),n=!n),n&&ut&&xi(e),Aj(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ut=cs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ut=null}}else t===27?(t=ut,Da(e.type)?(e=dx,dx=null,ut=e):ut=t):ut=Xt?cs(e.stateNode.nextSibling):null;return!0}function yu(){ut=Xt=null,$e=!1}function Tj(){var e=ni;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),ni=null),e}function Oc(e){ni===null?ni=[e]:ni.push(e)}var Pp=qs(null),Ii=null,fr=null;function Kr(e,t,n){tt(Pp,t._currentValue),t._currentValue=n}function vr(e){e._currentValue=Pp.current,zt(Pp)}function Op(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Bp(e,t,n,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var o=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Op(i.return,n,e),s||(o=null);break e}i=l.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(Y(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Op(o,n,e),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function bu(e,t,n,s){e=null;for(var r=t,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(Y(387));if(o=o.memoizedProps,o!==null){var l=r.type;Dn(r.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(r===xf.current){if(o=r.alternate,o===null)throw Error(Y(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Vc):e=[Vc])}r=r.return}e!==null&&Bp(t,e,n,s),t.flags|=262144}function Cf(e){for(e=e.firstContext;e!==null;){if(!Dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vi(e){Ii=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zt(e){return aT(Ii,e)}function ld(e,t){return Ii===null&&vi(e),aT(e,t)}function aT(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fr===null){if(e===null)throw Error(Y(308));fr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fr=fr.next=t;return n}var zJ=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},LJ=At.unstable_scheduleCallback,$J=At.unstable_NormalPriority,Ct={$$typeof:cr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cv(){return{controller:new zJ,data:new Map,refCount:0}}function wu(e){e.refCount--,e.refCount===0&&LJ($J,function(){e.controller.abort()})}var rc=null,Ip=0,Jo=0,Eo=null;function PJ(e,t){if(rc===null){var n=rc=[];Ip=0,Jo=Xv(),Eo={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Ip++,t.then(Mj,Mj),t}function Mj(){if(--Ip===0&&rc!==null){Eo!==null&&(Eo.status="fulfilled");var e=rc;rc=null,Jo=0,Eo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function OJ(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var Rj=ge.S;ge.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&PJ(e,t),Rj!==null&&Rj(e,t)};var si=qs(null);function Ev(){var e=si.current;return e!==null?e:We.pooledCache}function Rd(e,t){t===null?tt(si,si.current):tt(si,t.pool)}function iT(){var e=Ev();return e===null?null:{parent:Ct._currentValue,pool:e}}var ju=Error(Y(460)),oT=Error(Y(474)),Vm=Error(Y(542)),Hp={then:function(){}};function Dj(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cd(){}function lT(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(cd,cd),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lj(e),e;default:if(typeof t.status=="string")t.then(cd,cd);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(Y(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lj(e),e}throw ac=t,ju}}var ac=null;function zj(){if(ac===null)throw Error(Y(459));var e=ac;return ac=null,e}function Lj(e){if(e===ju||e===Vm)throw Error(Y(483))}var Yr=!1;function _v(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ha(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ue&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Nf(e),nT(e,null,n),t}return Um(e,s,t,n),Nf(e)}function ic(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,TA(e,n)}}function ig(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Up=!1;function oc(){if(Up){var e=Eo;if(e!==null)throw e}}function lc(e,t,n,s){Up=!1;var r=e.updateQueue;Yr=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=r.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane&-536870913,h=m!==l.lane;if(h?(ze&m)===m:(s&m)===m){m!==0&&m===Jo&&(Up=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,v=l;m=t;var b=n;switch(v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(b,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,m=typeof p=="function"?p.call(b,f,m):p,m==null)break e;f=Qe({},f,m);break e;case 2:Yr=!0}}m=l.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),Sa|=o,e.lanes=o,e.memoizedState=f}}function cT(e,t){if(typeof e!="function")throw Error(Y(191,e));e.call(t)}function uT(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)cT(n[e],t)}var el=qs(null),Ef=qs(0);function $j(e,t){e=Tr,tt(Ef,e),tt(el,t),Tr=e|t.baseLanes}function Vp(){tt(Ef,Tr),tt(el,el.current)}function Av(){Tr=Ef.current,zt(el),zt(Ef)}var ja=0,Ce=null,qe=null,wt=null,_f=!1,_o=!1,yi=!1,Af=0,Bc=0,Ao=null,BJ=0;function gt(){throw Error(Y(321))}function Tv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dn(e[n],t[n]))return!1;return!0}function Mv(e,t,n,s,r,i){return ja=i,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ge.H=e===null||e.memoizedState===null?HT:FT,yi=!1,i=n(s,r),yi=!1,_o&&(i=fT(t,n,s,r)),dT(e),i}function dT(e){ge.H=Tf;var t=qe!==null&&qe.next!==null;if(ja=0,wt=qe=Ce=null,_f=!1,Bc=0,Ao=null,t)throw Error(Y(300));e===null||Dt||(e=e.dependencies,e!==null&&Cf(e)&&(Dt=!0))}function fT(e,t,n,s){Ce=e;var r=0;do{if(_o&&(Ao=null),Bc=0,_o=!1,25<=r)throw Error(Y(301));if(r+=1,wt=qe=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ge.H=ZJ,i=t(n,s)}while(_o);return i}function IJ(){var e=ge.H,t=e.useState()[0];return t=typeof t.then=="function"?Nu(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Ce.flags|=1024),t}function Rv(){var e=Af!==0;return Af=0,e}function Dv(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zv(e){if(_f){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_f=!1}ja=0,wt=qe=Ce=null,_o=!1,Bc=Af=0,Ao=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=e:wt=wt.next=e,wt}function jt(){if(qe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=wt===null?Ce.memoizedState:wt.next;if(t!==null)wt=t,qe=e;else{if(e===null)throw Ce.alternate===null?Error(Y(467)):Error(Y(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},wt===null?Ce.memoizedState=wt=e:wt=wt.next=e}return wt}function Lv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(e){var t=Bc;return Bc+=1,Ao===null&&(Ao=[]),e=lT(Ao,e,t),t=Ce,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,ge.H=t===null||t.memoizedState===null?HT:FT),e}function qm(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nu(e);if(e.$$typeof===cr)return Zt(e)}throw Error(Y(438,String(e)))}function $v(e){var t=null,n=Ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=Ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Lv(),Ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=SQ;return t.index++,n}function _r(e,t){return typeof t=="function"?t(e):t}function Dd(e){var t=jt();return Pv(t,qe,e)}function Pv(e,t,n){var s=e.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=n;var r=e.baseQueue,i=s.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}t.baseQueue=r=i,s.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var l=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ze&f)===f:(ja&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Jo&&(d=!0);else if((ja&m)===m){u=u.next,m===Jo&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,o=i):c=c.next=f,Ce.lanes|=m,Sa|=m;f=u.action,yi&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,o=i):c=c.next=m,Ce.lanes|=f,Sa|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=l,!Dn(i,e.memoizedState)&&(Dt=!0,d&&(n=Eo,n!==null)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function og(e){var t=jt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=e(i,o.action),o=o.next;while(o!==r);Dn(i,t.memoizedState)||(Dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function mT(e,t,n){var s=Ce,r=jt(),i=$e;if(i){if(n===void 0)throw Error(Y(407));n=n()}else n=t();var o=!Dn((qe||r).memoizedState,n);o&&(r.memoizedState=n,Dt=!0),r=r.queue;var l=pT.bind(null,s,r,e);if(Su(2048,8,l,[e]),r.getSnapshot!==t||o||wt!==null&&wt.memoizedState.tag&1){if(s.flags|=2048,tl(9,Zm(),gT.bind(null,s,r,n,t),null),We===null)throw Error(Y(349));i||ja&124||hT(s,t,n)}return n}function hT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t=Lv(),Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gT(e,t,n,s){t.value=n,t.getSnapshot=s,xT(t)&&vT(e)}function pT(e,t,n){return n(function(){xT(t)&&vT(e)})}function xT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dn(e,n)}catch{return!0}}function vT(e){var t=jl(e,2);t!==null&&Tn(t,e,2)}function qp(e){var t=on();if(typeof e=="function"){var n=e;if(e=n(),yi){sa(!0);try{n()}finally{sa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:e},t}function yT(e,t,n,s){return e.baseState=n,Pv(e,qe,typeof s=="function"?s:_r)}function HJ(e,t,n,s,r){if(Gm(e))throw Error(Y(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};ge.T!==null?n(!0):i.isTransition=!1,s(i),n=t.pending,n===null?(i.next=t.pending=i,bT(t,i)):(i.next=n.next,t.pending=n.next=i)}}function bT(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var i=ge.T,o={};ge.T=o;try{var l=n(r,s),c=ge.S;c!==null&&c(o,l),Pj(e,t,l)}catch(u){Zp(e,t,u)}finally{ge.T=i}}else try{i=n(r,s),Pj(e,t,i)}catch(u){Zp(e,t,u)}}function Pj(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Oj(e,t,s)},function(s){return Zp(e,t,s)}):Oj(e,t,n)}function Oj(e,t,n){t.status="fulfilled",t.value=n,wT(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bT(e,n)))}function Zp(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,wT(t),t=t.next;while(t!==s)}e.action=null}function wT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function jT(e,t){return t}function Bj(e,t){if($e){var n=We.formState;if(n!==null){e:{var s=Ce;if($e){if(ut){t:{for(var r=ut,i=Cs;r.nodeType!==8;){if(!i){r=null;break t}if(r=cs(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){ut=cs(r.nextSibling),s=r.data==="F!";break e}}xi(s)}s=!1}s&&(t=n[0])}}return n=on(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jT,lastRenderedState:t},n.queue=s,n=OT.bind(null,Ce,s),s.dispatch=n,s=qp(!1),i=Hv.bind(null,Ce,!1,s.queue),s=on(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,n=HJ.bind(null,Ce,r,i,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function Ij(e){var t=jt();return NT(t,qe,e)}function NT(e,t,n){if(t=Pv(e,t,jT)[0],e=Dd(_r)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Nu(t)}catch(o){throw o===ju?Vm:o}else s=t;t=jt();var r=t.queue,i=r.dispatch;return n!==t.memoizedState&&(Ce.flags|=2048,tl(9,Zm(),FJ.bind(null,r,n),null)),[s,i,e]}function FJ(e,t){e.action=t}function Hj(e){var t=jt(),n=qe;if(n!==null)return NT(t,n,e);jt(),t=t.memoizedState,n=jt();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function tl(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=Lv(),Ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Zm(){return{destroy:void 0,resource:void 0}}function ST(){return jt().memoizedState}function zd(e,t,n,s){var r=on();s=s===void 0?null:s,Ce.flags|=e,r.memoizedState=tl(1|t,Zm(),n,s)}function Su(e,t,n,s){var r=jt();s=s===void 0?null:s;var i=r.memoizedState.inst;qe!==null&&s!==null&&Tv(s,qe.memoizedState.deps)?r.memoizedState=tl(t,i,n,s):(Ce.flags|=e,r.memoizedState=tl(1|t,i,n,s))}function Fj(e,t){zd(8390656,8,e,t)}function kT(e,t){Su(2048,8,e,t)}function CT(e,t){return Su(4,2,e,t)}function ET(e,t){return Su(4,4,e,t)}function _T(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function AT(e,t,n){n=n!=null?n.concat([e]):null,Su(4,4,_T.bind(null,t,e),n)}function Ov(){}function TT(e,t){var n=jt();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Tv(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function MT(e,t){var n=jt();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Tv(t,s[1]))return s[0];if(s=e(),yi){sa(!0);try{e()}finally{sa(!1)}}return n.memoizedState=[s,t],s}function Bv(e,t,n){return n===void 0||ja&1073741824?e.memoizedState=t:(e.memoizedState=n,e=wM(),Ce.lanes|=e,Sa|=e,n)}function RT(e,t,n,s){return Dn(n,t)?n:el.current!==null?(e=Bv(e,n,s),Dn(e,t)||(Dt=!0),e):ja&42?(e=wM(),Ce.lanes|=e,Sa|=e,t):(Dt=!0,e.memoizedState=n)}function DT(e,t,n,s,r){var i=Oe.p;Oe.p=i!==0&&8>i?i:8;var o=ge.T,l={};ge.T=l,Hv(e,!1,t,n);try{var c=r(),u=ge.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=OJ(c,s);cc(e,t,d,An(e))}else cc(e,t,s,An(e))}catch(f){cc(e,t,{then:function(){},status:"rejected",reason:f},An())}finally{Oe.p=i,ge.T=o}}function UJ(){}function Gp(e,t,n,s){if(e.tag!==5)throw Error(Y(476));var r=zT(e).queue;DT(e,r,t,Ja,n===null?UJ:function(){return LT(e),n(s)})}function zT(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ja,baseState:Ja,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:Ja},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function LT(e){var t=zT(e).next.queue;cc(e,t,{},An())}function Iv(){return Zt(Vc)}function $T(){return jt().memoizedState}function PT(){return jt().memoizedState}function VJ(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=An();e=ma(n);var s=ha(t,e,n);s!==null&&(Tn(s,t,n),ic(s,t,n)),t={cache:Cv()},e.payload=t;return}t=t.return}}function qJ(e,t,n){var s=An();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Gm(e)?BT(t,n):(n=jv(e,t,n,s),n!==null&&(Tn(n,e,s),IT(n,t,s)))}function OT(e,t,n){var s=An();cc(e,t,n,s)}function cc(e,t,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gm(e))BT(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(r.hasEagerState=!0,r.eagerState=l,Dn(l,o))return Um(e,t,r,0),We===null&&Fm(),!1}catch{}finally{}if(n=jv(e,t,r,s),n!==null)return Tn(n,e,s),IT(n,t,s),!0}return!1}function Hv(e,t,n,s){if(s={lane:2,revertLane:Xv(),action:s,hasEagerState:!1,eagerState:null,next:null},Gm(e)){if(t)throw Error(Y(479))}else t=jv(e,n,s,2),t!==null&&Tn(t,e,2)}function Gm(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function BT(e,t){_o=_f=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function IT(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,TA(e,n)}}var Tf={readContext:Zt,use:qm,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},HT={readContext:Zt,use:qm,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Zt,useEffect:Fj,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,zd(4194308,4,_T.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zd(4194308,4,e,t)},useInsertionEffect:function(e,t){zd(4,2,e,t)},useMemo:function(e,t){var n=on();t=t===void 0?null:t;var s=e();if(yi){sa(!0);try{e()}finally{sa(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=on();if(n!==void 0){var r=n(t);if(yi){sa(!0);try{n(t)}finally{sa(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=qJ.bind(null,Ce,e),[s.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:function(e){e=qp(e);var t=e.queue,n=OT.bind(null,Ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ov,useDeferredValue:function(e,t){var n=on();return Bv(n,e,t)},useTransition:function(){var e=qp(!1);return e=DT.bind(null,Ce,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=Ce,r=on();if($e){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),We===null)throw Error(Y(349));ze&124||hT(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Fj(pT.bind(null,s,i,e),[e]),s.flags|=2048,tl(9,Zm(),gT.bind(null,s,i,n,t),null),n},useId:function(){var e=on(),t=We.identifierPrefix;if($e){var n=dr,s=ur;n=(s&~(1<<32-_n(s)-1)).toString(32)+n,t="«"+t+"R"+n,n=Af++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=BJ++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Iv,useFormState:Bj,useActionState:Bj,useOptimistic:function(e){var t=on();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hv.bind(null,Ce,!0,n),n.dispatch=t,[e,t]},useMemoCache:$v,useCacheRefresh:function(){return on().memoizedState=VJ.bind(null,Ce)}},FT={readContext:Zt,use:qm,useCallback:TT,useContext:Zt,useEffect:kT,useImperativeHandle:AT,useInsertionEffect:CT,useLayoutEffect:ET,useMemo:MT,useReducer:Dd,useRef:ST,useState:function(){return Dd(_r)},useDebugValue:Ov,useDeferredValue:function(e,t){var n=jt();return RT(n,qe.memoizedState,e,t)},useTransition:function(){var e=Dd(_r)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:Nu(e),t]},useSyncExternalStore:mT,useId:$T,useHostTransitionStatus:Iv,useFormState:Ij,useActionState:Ij,useOptimistic:function(e,t){var n=jt();return yT(n,qe,e,t)},useMemoCache:$v,useCacheRefresh:PT},ZJ={readContext:Zt,use:qm,useCallback:TT,useContext:Zt,useEffect:kT,useImperativeHandle:AT,useInsertionEffect:CT,useLayoutEffect:ET,useMemo:MT,useReducer:og,useRef:ST,useState:function(){return og(_r)},useDebugValue:Ov,useDeferredValue:function(e,t){var n=jt();return qe===null?Bv(n,e,t):RT(n,qe.memoizedState,e,t)},useTransition:function(){var e=og(_r)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:Nu(e),t]},useSyncExternalStore:mT,useId:$T,useHostTransitionStatus:Iv,useFormState:Hj,useActionState:Hj,useOptimistic:function(e,t){var n=jt();return qe!==null?yT(n,qe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$v,useCacheRefresh:PT},To=null,Ic=0;function ud(e){var t=Ic;return Ic+=1,To===null&&(To=[]),lT(To,e,t)}function Il(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function dd(e,t){throw t.$$typeof===jQ?Error(Y(525)):(e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Uj(e){var t=e._init;return t(e._payload)}function UT(e){function t(x,y){if(e){var j=x.deletions;j===null?(x.deletions=[y],x.flags|=16):j.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function s(x){for(var y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function r(x,y){return x=xr(x,y),x.index=0,x.sibling=null,x}function i(x,y,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<y?(x.flags|=67108866,y):j):(x.flags|=67108866,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function l(x,y,j,w){return y===null||y.tag!==6?(y=rg(j,x.mode,w),y.return=x,y):(y=r(y,j),y.return=x,y)}function c(x,y,j,w){var N=j.type;return N===ro?d(x,y,j.props.children,w,j.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gr&&Uj(N)===y.type)?(y=r(y,j.props),Il(y,j),y.return=x,y):(y=Md(j.type,j.key,j.props,null,x.mode,w),Il(y,j),y.return=x,y)}function u(x,y,j,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=ag(j,x.mode,w),y.return=x,y):(y=r(y,j.children||[]),y.return=x,y)}function d(x,y,j,w,N){return y===null||y.tag!==7?(y=ei(j,x.mode,w,N),y.return=x,y):(y=r(y,j),y.return=x,y)}function f(x,y,j){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=rg(""+y,x.mode,j),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sd:return j=Md(y.type,y.key,y.props,null,x.mode,j),Il(j,y),j.return=x,j;case Yl:return y=ag(y,x.mode,j),y.return=x,y;case Gr:var w=y._init;return y=w(y._payload),f(x,y,j)}if(Xl(y)||$l(y))return y=ei(y,x.mode,j,null),y.return=x,y;if(typeof y.then=="function")return f(x,ud(y),j);if(y.$$typeof===cr)return f(x,ld(x,y),j);dd(x,y)}return null}function m(x,y,j,w){var N=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return N!==null?null:l(x,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sd:return j.key===N?c(x,y,j,w):null;case Yl:return j.key===N?u(x,y,j,w):null;case Gr:return N=j._init,j=N(j._payload),m(x,y,j,w)}if(Xl(j)||$l(j))return N!==null?null:d(x,y,j,w,null);if(typeof j.then=="function")return m(x,y,ud(j),w);if(j.$$typeof===cr)return m(x,y,ld(x,j),w);dd(x,j)}return null}function h(x,y,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return x=x.get(j)||null,l(y,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sd:return x=x.get(w.key===null?j:w.key)||null,c(y,x,w,N);case Yl:return x=x.get(w.key===null?j:w.key)||null,u(y,x,w,N);case Gr:var E=w._init;return w=E(w._payload),h(x,y,j,w,N)}if(Xl(w)||$l(w))return x=x.get(j)||null,d(y,x,w,N,null);if(typeof w.then=="function")return h(x,y,j,ud(w),N);if(w.$$typeof===cr)return h(x,y,j,ld(y,w),N);dd(y,w)}return null}function p(x,y,j,w){for(var N=null,E=null,S=y,_=y=0,C=null;S!==null&&_<j.length;_++){S.index>_?(C=S,S=null):C=S.sibling;var k=m(x,S,j[_],w);if(k===null){S===null&&(S=C);break}e&&S&&k.alternate===null&&t(x,S),y=i(k,y,_),E===null?N=k:E.sibling=k,E=k,S=C}if(_===j.length)return n(x,S),$e&&Ha(x,_),N;if(S===null){for(;_<j.length;_++)S=f(x,j[_],w),S!==null&&(y=i(S,y,_),E===null?N=S:E.sibling=S,E=S);return $e&&Ha(x,_),N}for(S=s(S);_<j.length;_++)C=h(S,x,_,j[_],w),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?_:C.key),y=i(C,y,_),E===null?N=C:E.sibling=C,E=C);return e&&S.forEach(function(R){return t(x,R)}),$e&&Ha(x,_),N}function v(x,y,j,w){if(j==null)throw Error(Y(151));for(var N=null,E=null,S=y,_=y=0,C=null,k=j.next();S!==null&&!k.done;_++,k=j.next()){S.index>_?(C=S,S=null):C=S.sibling;var R=m(x,S,k.value,w);if(R===null){S===null&&(S=C);break}e&&S&&R.alternate===null&&t(x,S),y=i(R,y,_),E===null?N=R:E.sibling=R,E=R,S=C}if(k.done)return n(x,S),$e&&Ha(x,_),N;if(S===null){for(;!k.done;_++,k=j.next())k=f(x,k.value,w),k!==null&&(y=i(k,y,_),E===null?N=k:E.sibling=k,E=k);return $e&&Ha(x,_),N}for(S=s(S);!k.done;_++,k=j.next())k=h(S,x,_,k.value,w),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?_:k.key),y=i(k,y,_),E===null?N=k:E.sibling=k,E=k);return e&&S.forEach(function(O){return t(x,O)}),$e&&Ha(x,_),N}function b(x,y,j,w){if(typeof j=="object"&&j!==null&&j.type===ro&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case sd:e:{for(var N=j.key;y!==null;){if(y.key===N){if(N=j.type,N===ro){if(y.tag===7){n(x,y.sibling),w=r(y,j.props.children),w.return=x,x=w;break e}}else if(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gr&&Uj(N)===y.type){n(x,y.sibling),w=r(y,j.props),Il(w,j),w.return=x,x=w;break e}n(x,y);break}else t(x,y);y=y.sibling}j.type===ro?(w=ei(j.props.children,x.mode,w,j.key),w.return=x,x=w):(w=Md(j.type,j.key,j.props,null,x.mode,w),Il(w,j),w.return=x,x=w)}return o(x);case Yl:e:{for(N=j.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){n(x,y.sibling),w=r(y,j.children||[]),w.return=x,x=w;break e}else{n(x,y);break}else t(x,y);y=y.sibling}w=ag(j,x.mode,w),w.return=x,x=w}return o(x);case Gr:return N=j._init,j=N(j._payload),b(x,y,j,w)}if(Xl(j))return p(x,y,j,w);if($l(j)){if(N=$l(j),typeof N!="function")throw Error(Y(150));return j=N.call(j),v(x,y,j,w)}if(typeof j.then=="function")return b(x,y,ud(j),w);if(j.$$typeof===cr)return b(x,y,ld(x,j),w);dd(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,y!==null&&y.tag===6?(n(x,y.sibling),w=r(y,j),w.return=x,x=w):(n(x,y),w=rg(j,x.mode,w),w.return=x,x=w),o(x)):n(x,y)}return function(x,y,j,w){try{Ic=0;var N=b(x,y,j,w);return To=null,N}catch(S){if(S===ju||S===Vm)throw S;var E=kn(29,S,null,x.mode);return E.lanes=w,E.return=x,E}finally{}}}var nl=UT(!0),VT=UT(!1),Wn=qs(null),$s=null;function Qr(e){var t=e.alternate;tt(Et,Et.current&1),tt(Wn,e),$s===null&&(t===null||el.current!==null||t.memoizedState!==null)&&($s=e)}function qT(e){if(e.tag===22){if(tt(Et,Et.current),tt(Wn,e),$s===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&($s=e)}}else Jr()}function Jr(){tt(Et,Et.current),tt(Wn,Wn.current)}function mr(e){zt(Wn),$s===e&&($s=null),zt(Et)}var Et=qs(0);function Mf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||ux(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function lg(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yp={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=An(),r=ma(s);r.payload=t,n!=null&&(r.callback=n),t=ha(e,r,s),t!==null&&(Tn(t,e,s),ic(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=An(),r=ma(s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=ha(e,r,s),t!==null&&(Tn(t,e,s),ic(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=An(),s=ma(n);s.tag=2,t!=null&&(s.callback=t),t=ha(e,s,n),t!==null&&(Tn(t,e,n),ic(t,e,n))}};function Vj(e,t,n,s,r,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Pc(n,s)||!Pc(r,i):!0}function qj(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Yp.enqueueReplaceState(t,t.state,null)}function bi(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=Qe({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Rf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ZT(e){Rf(e)}function GT(e){console.error(e)}function YT(e){Rf(e)}function Df(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Zj(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Xp(e,t,n){return n=ma(n),n.tag=3,n.payload={element:null},n.callback=function(){Df(e,t)},n}function XT(e){return e=ma(e),e.tag=3,e}function WT(e,t,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;e.payload=function(){return r(i)},e.callback=function(){Zj(t,n,s)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Zj(t,n,s),typeof r!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function GJ(e,t,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&bu(t,n,r,!0),n=Wn.current,n!==null){switch(n.tag){case 13:return $s===null?sx():n.alternate===null&&dt===0&&(dt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Hp?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),yg(e,s,r)),!1;case 22:return n.flags|=65536,s===Hp?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),yg(e,s,r)),!1}throw Error(Y(435,n.tag))}return yg(e,s,r),sx(),!1}if($e)return t=Wn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==$p&&(e=Error(Y(422),{cause:s}),Oc(Vn(e,n)))):(s!==$p&&(t=Error(Y(423),{cause:s}),Oc(Vn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Vn(s,n),r=Xp(e.stateNode,s,r),ig(e,r),dt!==4&&(dt=2)),!1;var i=Error(Y(520),{cause:s});if(i=Vn(i,n),fc===null?fc=[i]:fc.push(i),dt!==4&&(dt=2),t===null)return!0;s=Vn(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Xp(n.stateNode,s,e),ig(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ga===null||!ga.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=XT(r),WT(r,e,n,s),ig(n,r),!1}n=n.return}while(n!==null);return!1}var KT=Error(Y(461)),Dt=!1;function Bt(e,t,n,s){t.child=e===null?VT(t,null,n,s):nl(t,e.child,n,s)}function Gj(e,t,n,s,r){n=n.render;var i=t.ref;if("ref"in s){var o={};for(var l in s)l!=="ref"&&(o[l]=s[l])}else o=s;return vi(t),s=Mv(e,t,n,o,i,r),l=Rv(),e!==null&&!Dt?(Dv(e,t,r),Ar(e,t,r)):($e&&l&&Sv(t),t.flags|=1,Bt(e,t,s,r),t.child)}function Yj(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!Nv(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,QT(e,t,i,s,r)):(e=Md(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Fv(e,r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Pc,n(o,s)&&e.ref===t.ref)return Ar(e,t,r)}return t.flags|=1,e=xr(i,s),e.ref=t.ref,e.return=t,t.child=e}function QT(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(Pc(i,s)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=s=i,Fv(e,r))e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,Ar(e,t,r)}return Wp(e,t,n,s,r)}function JT(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=i!==null?i.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;t.childLanes=i&~s}else t.childLanes=0,t.child=null;return Xj(e,t,s,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rd(t,i!==null?i.cachePool:null),i!==null?$j(t,i):Vp(),qT(t);else return t.lanes=t.childLanes=536870912,Xj(e,t,i!==null?i.baseLanes|n:n,n)}else i!==null?(Rd(t,i.cachePool),$j(t,i),Jr(),t.memoizedState=null):(e!==null&&Rd(t,null),Vp(),Jr());return Bt(e,t,r,n),t.child}function Xj(e,t,n,s){var r=Ev();return r=r===null?null:{parent:Ct._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Rd(t,null),Vp(),qT(t),e!==null&&bu(e,t,s,!0),null}function Ld(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Wp(e,t,n,s,r){return vi(t),n=Mv(e,t,n,s,void 0,r),s=Rv(),e!==null&&!Dt?(Dv(e,t,r),Ar(e,t,r)):($e&&s&&Sv(t),t.flags|=1,Bt(e,t,n,r),t.child)}function Wj(e,t,n,s,r,i){return vi(t),t.updateQueue=null,n=fT(t,s,n,r),dT(e),s=Rv(),e!==null&&!Dt?(Dv(e,t,i),Ar(e,t,i)):($e&&s&&Sv(t),t.flags|=1,Bt(e,t,n,i),t.child)}function Kj(e,t,n,s,r){if(vi(t),t.stateNode===null){var i=mo,o=n.contextType;typeof o=="object"&&o!==null&&(i=Zt(o)),i=new n(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Yp,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},_v(t),o=n.contextType,i.context=typeof o=="object"&&o!==null?Zt(o):mo,i.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(lg(t,n,o,s),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Yp.enqueueReplaceState(i,i.state,null),lc(t,s,i,r),oc(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,c=bi(n,l);i.props=c;var u=i.context,d=n.contextType;o=mo,typeof d=="object"&&d!==null&&(o=Zt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&qj(t,i,s,o),Yr=!1;var m=t.memoizedState;i.state=m,lc(t,s,i,r),oc(),u=t.memoizedState,l||m!==u||Yr?(typeof f=="function"&&(lg(t,n,f,s),u=t.memoizedState),(c=Yr||Vj(t,n,c,s,m,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),i.props=s,i.state=u,i.context=o,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Fp(e,t),o=t.memoizedProps,d=bi(n,o),i.props=d,f=t.pendingProps,m=i.context,u=n.contextType,c=mo,typeof u=="object"&&u!==null&&(c=Zt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||m!==c)&&qj(t,i,s,c),Yr=!1,m=t.memoizedState,i.state=m,lc(t,s,i,r),oc();var h=t.memoizedState;o!==f||m!==h||Yr||e!==null&&e.dependencies!==null&&Cf(e.dependencies)?(typeof l=="function"&&(lg(t,n,l,s),h=t.memoizedState),(d=Yr||Vj(t,n,d,s,m,h,c)||e!==null&&e.dependencies!==null&&Cf(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=h),i.props=s,i.state=h,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,Ld(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=nl(t,e.child,null,r),t.child=nl(t,null,n,r)):Bt(e,t,n,r),t.memoizedState=i.state,e=t.child):e=Ar(e,t,r),e}function Qj(e,t,n,s){return yu(),t.flags|=256,Bt(e,t,n,s),t.child}var cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ug(e){return{baseLanes:e,cachePool:iT()}}function dg(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gn),e}function eM(e,t,n){var s=t.pendingProps,r=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Et.current&2)!==0),o&&(r=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if($e){if(r?Qr(t):Jr(),$e){var l=ut,c;if(c=l){e:{for(c=l,l=Cs;c.nodeType!==8;){if(!l){l=null;break e}if(c=cs(c.nextSibling),c===null){l=null;break e}}l=c}l!==null?(t.memoizedState={dehydrated:l,treeContext:ti!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},c=kn(18,null,null,0),c.stateNode=l,c.return=t,t.child=c,Xt=t,ut=null,c=!0):c=!1}c||xi(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return ux(l)?t.lanes=32:t.lanes=536870912,null;mr(t)}return l=s.children,s=s.fallback,r?(Jr(),r=t.mode,l=zf({mode:"hidden",children:l},r),s=ei(s,r,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,r=t.child,r.memoizedState=ug(n),r.childLanes=dg(e,o,n),t.memoizedState=cg,s):(Qr(t),Kp(t,l))}if(c=e.memoizedState,c!==null&&(l=c.dehydrated,l!==null)){if(i)t.flags&256?(Qr(t),t.flags&=-257,t=fg(e,t,n)):t.memoizedState!==null?(Jr(),t.child=e.child,t.flags|=128,t=null):(Jr(),r=s.fallback,l=t.mode,s=zf({mode:"visible",children:s.children},l),r=ei(r,l,n,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,nl(t,e.child,null,n),s=t.child,s.memoizedState=ug(n),s.childLanes=dg(e,o,n),t.memoizedState=cg,t=r);else if(Qr(t),ux(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,s=Error(Y(419)),s.stack="",s.digest=o,Oc({value:s,source:null,stack:null}),t=fg(e,t,n)}else if(Dt||bu(e,t,n,!1),o=(n&e.childLanes)!==0,Dt||o){if(o=We,o!==null&&(s=n&-n,s=s&42?1:fv(s),s=s&(o.suspendedLanes|n)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,jl(e,s),Tn(o,e,s),KT;l.data==="$?"||sx(),t=fg(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ut=cs(l.nextSibling),Xt=t,$e=!0,ni=null,Cs=!1,e!==null&&(In[Hn++]=ur,In[Hn++]=dr,In[Hn++]=ti,ur=e.id,dr=e.overflow,ti=t),t=Kp(t,s.children),t.flags|=4096);return t}return r?(Jr(),r=s.fallback,l=t.mode,c=e.child,u=c.sibling,s=xr(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?r=xr(u,r):(r=ei(r,l,n,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,l=e.child.memoizedState,l===null?l=ug(n):(c=l.cachePool,c!==null?(u=Ct._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=iT(),l={baseLanes:l.baseLanes|n,cachePool:c}),r.memoizedState=l,r.childLanes=dg(e,o,n),t.memoizedState=cg,s):(Qr(t),n=e.child,e=n.sibling,n=xr(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Kp(e,t){return t=zf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zf(e,t){return e=kn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function fg(e,t,n){return nl(t,e.child,null,n),e=Kp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jj(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Op(e.return,t,n)}function mg(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function tM(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(Bt(e,t,s.children,n),s=Et.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jj(e,n,t);else if(e.tag===19)Jj(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(tt(Et,s),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Mf(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),mg(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Mf(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}mg(t,!0,n,null,i);break;case"together":mg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sa|=t.lanes,!(n&t.childLanes))if(e!==null){if(bu(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=xr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fv(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Cf(e)))}function YJ(e,t,n){switch(t.tag){case 3:vf(t,t.stateNode.containerInfo),Kr(t,Ct,e.memoizedState.cache),yu();break;case 27:case 5:Cp(t);break;case 4:vf(t,t.stateNode.containerInfo);break;case 10:Kr(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Qr(t),t.flags|=128,null):n&t.child.childLanes?eM(e,t,n):(Qr(t),e=Ar(e,t,n),e!==null?e.sibling:null);Qr(t);break;case 19:var r=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(bu(e,t,n,!1),s=(n&t.childLanes)!==0),r){if(s)return tM(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),tt(Et,Et.current),s)break;return null;case 22:case 23:return t.lanes=0,JT(e,t,n);case 24:Kr(t,Ct,e.memoizedState.cache)}return Ar(e,t,n)}function nM(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Dt=!0;else{if(!Fv(e,n)&&!(t.flags&128))return Dt=!1,YJ(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,$e&&t.flags&1048576&&rT(t,kf,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,typeof s=="function")Nv(s)?(e=bi(s,e),t.tag=1,t=Kj(null,t,s,e,n)):(t.tag=0,t=Wp(null,t,s,e,n));else{if(s!=null){if(r=s.$$typeof,r===cv){t.tag=11,t=Gj(null,t,s,e,n);break e}else if(r===uv){t.tag=14,t=Yj(null,t,s,e,n);break e}}throw t=Sp(s)||s,Error(Y(306,t,""))}}return t;case 0:return Wp(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,r=bi(s,t.pendingProps),Kj(e,t,s,r,n);case 3:e:{if(vf(t,t.stateNode.containerInfo),e===null)throw Error(Y(387));s=t.pendingProps;var i=t.memoizedState;r=i.element,Fp(e,t),lc(t,s,null,n);var o=t.memoizedState;if(s=o.cache,Kr(t,Ct,s),s!==i.cache&&Bp(t,[Ct],n,!0),oc(),s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Qj(e,t,s,n);break e}else if(s!==r){r=Vn(Error(Y(424)),t),Oc(r),t=Qj(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=cs(e.firstChild),Xt=t,$e=!0,ni=null,Cs=!0,n=VT(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(yu(),s===r){t=Ar(e,t,n);break e}Bt(e,t,s,n)}t=t.child}return t;case 26:return Ld(e,t),e===null?(n=pN(t.type,null,t.pendingProps,null))?t.memoizedState=n:$e||(n=t.type,e=t.pendingProps,s=Hf(fa.current).createElement(n),s[qt]=t,s[mn]=e,Ht(s,n,e),Rt(s),t.stateNode=s):t.memoizedState=pN(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Cp(t),e===null&&$e&&(s=t.stateNode=FM(t.type,t.pendingProps,fa.current),Xt=t,Cs=!0,r=ut,Da(t.type)?(dx=r,ut=cs(s.firstChild)):ut=r),Bt(e,t,t.pendingProps.children,n),Ld(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&$e&&((r=s=ut)&&(s=jee(s,t.type,t.pendingProps,Cs),s!==null?(t.stateNode=s,Xt=t,ut=cs(s.firstChild),Cs=!1,r=!0):r=!1),r||xi(t)),Cp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,lx(r,i)?s=null:o!==null&&lx(r,o)&&(t.flags|=32),t.memoizedState!==null&&(r=Mv(e,t,IJ,null,null,n),Vc._currentValue=r),Ld(e,t),Bt(e,t,s,n),t.child;case 6:return e===null&&$e&&((e=n=ut)&&(n=Nee(n,t.pendingProps,Cs),n!==null?(t.stateNode=n,Xt=t,ut=null,e=!0):e=!1),e||xi(t)),null;case 13:return eM(e,t,n);case 4:return vf(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=nl(t,null,s,n):Bt(e,t,s,n),t.child;case 11:return Gj(e,t,t.type,t.pendingProps,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Kr(t,t.type,s.value),Bt(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,vi(t),r=Zt(r),s=s(r),t.flags|=1,Bt(e,t,s,n),t.child;case 14:return Yj(e,t,t.type,t.pendingProps,n);case 15:return QT(e,t,t.type,t.pendingProps,n);case 19:return tM(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=zf(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=xr(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return JT(e,t,n);case 24:return vi(t),s=Zt(Ct),e===null?(r=Ev(),r===null&&(r=We,i=Cv(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:s,cache:r},_v(t),Kr(t,Ct,r)):(e.lanes&n&&(Fp(e,t),lc(t,null,null,n),oc()),r=e.memoizedState,i=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Kr(t,Ct,s)):(s=i.cache,Kr(t,Ct,s),s!==r.cache&&Bp(t,[Ct],n,!0))),Bt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Y(156,t.tag))}function sr(e){e.flags|=4}function eN(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!qM(t)){if(t=Wn.current,t!==null&&((ze&4194048)===ze?$s!==null:(ze&62914560)!==ze&&!(ze&536870912)||t!==$s))throw ac=Hp,oT;e.flags|=8192}}function fd(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_A():536870912,e.lanes|=t,sl|=t)}function Hl(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function XJ(e,t,n){var s=t.pendingProps;switch(kv(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return st(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),vr(Ct),Wo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?sr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tj())),st(t),null;case 26:return n=t.memoizedState,e===null?(sr(t),n!==null?(st(t),eN(t,n)):(st(t),t.flags&=-16777217)):n?n!==e.memoizedState?(sr(t),st(t),eN(t,n)):(st(t),t.flags&=-16777217):(e.memoizedProps!==s&&sr(t),st(t),t.flags&=-16777217),null;case 27:yf(t),n=fa.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&sr(t);else{if(!s){if(t.stateNode===null)throw Error(Y(166));return st(t),null}e=zs.current,Bl(t)?_j(t):(e=FM(r,s,n),t.stateNode=e,sr(t))}return st(t),null;case 5:if(yf(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&sr(t);else{if(!s){if(t.stateNode===null)throw Error(Y(166));return st(t),null}if(e=zs.current,Bl(t))_j(t);else{switch(r=Hf(fa.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}e[qt]=t,e[mn]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Ht(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&sr(t)}}return st(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&sr(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Y(166));if(e=fa.current,Bl(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,r=Xt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[qt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||BM(e.nodeValue,n)),e||xi(t)}else e=Hf(e).createTextNode(s),e[qt]=t,t.stateNode=e}return st(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Bl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(Y(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Y(317));r[qt]=t}else yu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),r=!1}else r=Tj(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(mr(t),t):(mr(t),null)}if(mr(t),t.flags&128)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),fd(t,t.updateQueue),st(t),null;case 4:return Wo(),e===null&&Wv(t.stateNode.containerInfo),st(t),null;case 10:return vr(t.type),st(t),null;case 19:if(zt(Et),r=t.memoizedState,r===null)return st(t),null;if(s=(t.flags&128)!==0,i=r.rendering,i===null)if(s)Hl(r,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Mf(e),i!==null){for(t.flags|=128,Hl(r,!1),e=i.updateQueue,t.updateQueue=e,fd(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)sT(n,e),n=n.sibling;return tt(Et,Et.current&1|2),t.child}e=e.sibling}r.tail!==null&&Ls()>$f&&(t.flags|=128,s=!0,Hl(r,!1),t.lanes=4194304)}else{if(!s)if(e=Mf(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,fd(t,e),Hl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!$e)return st(t),null}else 2*Ls()-r.renderingStartTime>$f&&n!==536870912&&(t.flags|=128,s=!0,Hl(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(e=r.last,e!==null?e.sibling=i:t.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ls(),t.sibling=null,e=Et.current,tt(Et,s?e&1|2:e&1),t):(st(t),null);case 22:case 23:return mr(t),Av(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),n=t.updateQueue,n!==null&&fd(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&zt(si),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vr(Ct),st(t),null;case 25:return null;case 30:return null}throw Error(Y(156,t.tag))}function WJ(e,t){switch(kv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(Ct),Wo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return yf(t),null;case 13:if(mr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));yu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(Et),null;case 4:return Wo(),null;case 10:return vr(t.type),null;case 22:case 23:return mr(t),Av(),e!==null&&zt(si),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vr(Ct),null;case 25:return null;default:return null}}function sM(e,t){switch(kv(t),t.tag){case 3:vr(Ct),Wo();break;case 26:case 27:case 5:yf(t);break;case 4:Wo();break;case 13:mr(t);break;case 19:zt(Et);break;case 10:vr(t.type);break;case 22:case 23:mr(t),Av(),e!==null&&zt(si);break;case 24:vr(Ct)}}function ku(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var i=n.create,o=n.inst;s=i(),o.destroy=s}n=n.next}while(n!==r)}}catch(l){Ye(t,t.return,l)}}function Na(e,t,n){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&e)===e){var o=s.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,r=t;var c=n,u=l;try{u()}catch(d){Ye(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){Ye(t,t.return,d)}}function rM(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{uT(t,n)}catch(s){Ye(e,e.return,s)}}}function aM(e,t,n){n.props=bi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ye(e,t,s)}}function uc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(r){Ye(e,t,r)}}function Ms(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){Ye(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ye(e,t,r)}else n.current=null}function iM(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){Ye(e,e.return,r)}}function hg(e,t,n){try{var s=e.stateNode;xee(s,e.type,n,t),s[mn]=t}catch(r){Ye(e,e.return,r)}}function oM(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Da(e.type)||e.tag===4}function gg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Da(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qp(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Km));else if(s!==4&&(s===27&&Da(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Qp(e,t,n),e=e.sibling;e!==null;)Qp(e,t,n),e=e.sibling}function Lf(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Da(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Lf(e,t,n),e=e.sibling;e!==null;)Lf(e,t,n),e=e.sibling}function lM(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ht(t,s,n),t[qt]=e,t[mn]=n}catch(i){Ye(e,e.return,i)}}var or=!1,xt=!1,pg=!1,tN=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function KJ(e,t){if(e=e.containerInfo,ix=qf,e=XA(e),bv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==n||r!==0&&f.nodeType!==3||(l=o+r),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===r&&(l=o),m===i&&++d===s&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ox={focusedElem:e,selectionRange:n},qf=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var p=bi(n.type,r,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(p,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(v){Ye(n,n.return,v)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)cx(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cx(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Y(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}}function cM(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Fr(e,n),s&4&&ku(5,n);break;case 1:if(Fr(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Ye(n,n.return,o)}else{var r=bi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ye(n,n.return,o)}}s&64&&rM(n),s&512&&uc(n,n.return);break;case 3:if(Fr(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{uT(e,t)}catch(o){Ye(n,n.return,o)}}break;case 27:t===null&&s&4&&lM(n);case 26:case 5:Fr(e,n),t===null&&s&4&&iM(n),s&512&&uc(n,n.return);break;case 12:Fr(e,n);break;case 13:Fr(e,n),s&4&&fM(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=iee.bind(null,n),See(e,n))));break;case 22:if(s=n.memoizedState!==null||or,!s){t=t!==null&&t.memoizedState!==null||xt,r=or;var i=xt;or=s,(xt=t)&&!i?Vr(e,n,(n.subtreeFlags&8772)!==0):Fr(e,n),or=r,xt=i}break;case 30:break;default:Fr(e,n)}}function uM(e){var t=e.alternate;t!==null&&(e.alternate=null,uM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,ln=!1;function rr(e,t,n){for(n=n.child;n!==null;)dM(e,t,n),n=n.sibling}function dM(e,t,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(hu,n)}catch{}switch(n.tag){case 26:xt||Ms(n,t),rr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:xt||Ms(n,t);var s=Je,r=ln;Da(n.type)&&(Je=n.stateNode,ln=!1),rr(e,t,n),hc(n.stateNode),Je=s,ln=r;break;case 5:xt||Ms(n,t);case 6:if(s=Je,r=ln,Je=null,rr(e,t,n),Je=s,ln=r,Je!==null)if(ln)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(n.stateNode)}catch(i){Ye(n,t,i)}else try{Je.removeChild(n.stateNode)}catch(i){Ye(n,t,i)}break;case 18:Je!==null&&(ln?(e=Je,mN(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Gc(e)):mN(Je,n.stateNode));break;case 4:s=Je,r=ln,Je=n.stateNode.containerInfo,ln=!0,rr(e,t,n),Je=s,ln=r;break;case 0:case 11:case 14:case 15:xt||Na(2,n,t),xt||Na(4,n,t),rr(e,t,n);break;case 1:xt||(Ms(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&aM(n,t,s)),rr(e,t,n);break;case 21:rr(e,t,n);break;case 22:xt=(s=xt)||n.memoizedState!==null,rr(e,t,n),xt=s;break;default:rr(e,t,n)}}function fM(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gc(e)}catch(n){Ye(t,t.return,n)}}function QJ(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new tN),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new tN),t;default:throw Error(Y(435,e.tag))}}function xg(e,t){var n=QJ(e);t.forEach(function(s){var r=oee.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}function yn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(Da(l.type)){Je=l.stateNode,ln=!1;break e}break;case 5:Je=l.stateNode,ln=!1;break e;case 3:case 4:Je=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(Je===null)throw Error(Y(160));dM(i,o,r),Je=null,ln=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)mM(t,e),t=t.sibling}var ss=null;function mM(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(t,e),bn(e),s&4&&(Na(3,e,e.return),ku(3,e),Na(5,e,e.return));break;case 1:yn(t,e),bn(e),s&512&&(xt||n===null||Ms(n,n.return)),s&64&&or&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=ss;if(yn(t,e),bn(e),s&512&&(xt||n===null||Ms(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[xu]||i[qt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),Ht(i,s,n),i[qt]=e,Rt(i),s=i;break e;case"link":var o=vN("link","href",r).get(s+(n.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(l,1);break t}}i=r.createElement(s),Ht(i,s,n),r.head.appendChild(i);break;case"meta":if(o=vN("meta","content",r).get(s+(n.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(l,1);break t}}i=r.createElement(s),Ht(i,s,n),r.head.appendChild(i);break;default:throw Error(Y(468,s))}i[qt]=e,Rt(i),s=i}e.stateNode=s}else yN(r,e.type,e.stateNode);else e.stateNode=xN(r,s,e.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?yN(r,e.type,e.stateNode):xN(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&hg(e,e.memoizedProps,n.memoizedProps)}break;case 27:yn(t,e),bn(e),s&512&&(xt||n===null||Ms(n,n.return)),n!==null&&s&4&&hg(e,e.memoizedProps,n.memoizedProps);break;case 5:if(yn(t,e),bn(e),s&512&&(xt||n===null||Ms(n,n.return)),e.flags&32){r=e.stateNode;try{Qo(r,"")}catch(h){Ye(e,e.return,h)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,hg(e,r,n!==null?n.memoizedProps:r)),s&1024&&(pg=!0);break;case 6:if(yn(t,e),bn(e),s&4){if(e.stateNode===null)throw Error(Y(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(h){Ye(e,e.return,h)}}break;case 3:if(Od=null,r=ss,ss=Ff(t.containerInfo),yn(t,e),ss=r,bn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Gc(t.containerInfo)}catch(h){Ye(e,e.return,h)}pg&&(pg=!1,hM(e));break;case 4:s=ss,ss=Ff(e.stateNode.containerInfo),yn(t,e),bn(e),ss=s;break;case 12:yn(t,e),bn(e);break;case 13:yn(t,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gv=Ls()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,xg(e,s)));break;case 22:r=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=or,d=xt;if(or=u||r,xt=d||c,yn(t,e),xt=d,or=u,bn(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||c||or||xt||Fa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(i=c.stateNode,r)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(h){Ye(c,c.return,h)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){Ye(c,c.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,xg(e,n))));break;case 19:yn(t,e),bn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,xg(e,s)));break;case 30:break;case 21:break;default:yn(t,e),bn(e)}}function bn(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(oM(s)){n=s;break}s=s.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var r=n.stateNode,i=gg(e);Lf(e,i,r);break;case 5:var o=n.stateNode;n.flags&32&&(Qo(o,""),n.flags&=-33);var l=gg(e);Lf(e,l,o);break;case 3:case 4:var c=n.stateNode.containerInfo,u=gg(e);Qp(e,u,c);break;default:throw Error(Y(161))}}catch(d){Ye(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hM(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hM(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cM(e,t.alternate,t),t=t.sibling}function Fa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Na(4,t,t.return),Fa(t);break;case 1:Ms(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&aM(t,t.return,n),Fa(t);break;case 27:hc(t.stateNode);case 26:case 5:Ms(t,t.return),Fa(t);break;case 22:t.memoizedState===null&&Fa(t);break;case 30:Fa(t);break;default:Fa(t)}e=e.sibling}}function Vr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Vr(r,i,n),ku(4,i);break;case 1:if(Vr(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Ye(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var l=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)cT(c[r],l)}catch(u){Ye(s,s.return,u)}}n&&o&64&&rM(i),uc(i,i.return);break;case 27:lM(i);case 26:case 5:Vr(r,i,n),n&&s===null&&o&4&&iM(i),uc(i,i.return);break;case 12:Vr(r,i,n);break;case 13:Vr(r,i,n),n&&o&4&&fM(r,i);break;case 22:i.memoizedState===null&&Vr(r,i,n),uc(i,i.return);break;case 30:break;default:Vr(r,i,n)}t=t.sibling}}function Uv(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&wu(n))}function Vv(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wu(e))}function js(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gM(e,t,n,s),t=t.sibling}function gM(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:js(e,t,n,s),r&2048&&ku(9,t);break;case 1:js(e,t,n,s);break;case 3:js(e,t,n,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wu(e)));break;case 12:if(r&2048){js(e,t,n,s),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Ye(t,t.return,c)}}else js(e,t,n,s);break;case 13:js(e,t,n,s);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?js(e,t,n,s):dc(e,t):i._visibility&2?js(e,t,n,s):(i._visibility|=2,eo(e,t,n,s,(t.subtreeFlags&10256)!==0)),r&2048&&Uv(o,t);break;case 24:js(e,t,n,s),r&2048&&Vv(t.alternate,t);break;default:js(e,t,n,s)}}function eo(e,t,n,s,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,o=t,l=n,c=s,u=o.flags;switch(o.tag){case 0:case 11:case 15:eo(i,o,l,c,r),ku(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?eo(i,o,l,c,r):dc(i,o):(d._visibility|=2,eo(i,o,l,c,r)),r&&u&2048&&Uv(o.alternate,o);break;case 24:eo(i,o,l,c,r),r&&u&2048&&Vv(o.alternate,o);break;default:eo(i,o,l,c,r)}t=t.sibling}}function dc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:dc(n,s),r&2048&&Uv(s.alternate,s);break;case 24:dc(n,s),r&2048&&Vv(s.alternate,s);break;default:dc(n,s)}t=t.sibling}}var Kl=8192;function Wi(e){if(e.subtreeFlags&Kl)for(e=e.child;e!==null;)pM(e),e=e.sibling}function pM(e){switch(e.tag){case 26:Wi(e),e.flags&Kl&&e.memoizedState!==null&&Pee(ss,e.memoizedState,e.memoizedProps);break;case 5:Wi(e);break;case 3:case 4:var t=ss;ss=Ff(e.stateNode.containerInfo),Wi(e),ss=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Kl,Kl=16777216,Wi(e),Kl=t):Wi(e));break;default:Wi(e)}}function xM(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Mt=s,yM(s,e)}xM(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vM(e),e=e.sibling}function vM(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Na(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$d(e)):Fl(e);break;default:Fl(e)}}function $d(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Mt=s,yM(s,e)}xM(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Na(8,t,t.return),$d(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$d(t));break;default:$d(t)}e=e.sibling}}function yM(e,t){for(;Mt!==null;){var n=Mt;switch(n.tag){case 0:case 11:case 15:Na(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:wu(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Mt=s;else e:for(n=e;Mt!==null;){s=Mt;var r=s.sibling,i=s.return;if(uM(s),s===n){Mt=null;break e}if(r!==null){r.return=i,Mt=r;break e}Mt=i}}}var JJ={getCacheForType:function(e){var t=Zt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},eee=typeof WeakMap=="function"?WeakMap:Map,Ue=0,We=null,Ae=null,ze=0,Fe=0,wn=null,aa=!1,Nl=!1,qv=!1,Tr=0,dt=0,Sa=0,ri=0,Zv=0,Gn=0,sl=0,fc=null,cn=null,Jp=!1,Gv=0,$f=1/0,Pf=null,ga=null,It=0,pa=null,rl=null,Mo=0,ex=0,tx=null,bM=null,mc=0,nx=null;function An(){if(Ue&2&&ze!==0)return ze&-ze;if(ge.T!==null){var e=Jo;return e!==0?e:Xv()}return MA()}function wM(){Gn===0&&(Gn=!(ze&536870912)||$e?EA():536870912);var e=Wn.current;return e!==null&&(e.flags|=32),Gn}function Tn(e,t,n){(e===We&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(al(e,0),ia(e,ze,Gn,!1)),pu(e,n),(!(Ue&2)||e!==We)&&(e===We&&(!(Ue&2)&&(ri|=n),dt===4&&ia(e,ze,Gn,!1)),Zs(e))}function jM(e,t,n){if(Ue&6)throw Error(Y(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||gu(e,t),r=s?see(e,t):vg(e,t,!0),i=s;do{if(r===0){Nl&&!s&&ia(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!tee(n)){r=vg(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;r=fc;var c=l.current.memoizedState.isDehydrated;if(c&&(al(l,o).flags|=256),o=vg(l,o,!1),o!==2){if(qv&&!c){l.errorRecoveryDisabledLanes|=i,ri|=i,r=4;break e}i=cn,cn=r,i!==null&&(cn===null?cn=i:cn.push.apply(cn,i))}r=o}if(i=!1,r!==2)continue}}if(r===1){al(e,0),ia(e,t,0,!0);break}e:{switch(s=e,i=r,i){case 0:case 1:throw Error(Y(345));case 4:if((t&4194048)!==t)break;case 6:ia(s,t,Gn,!aa);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((t&62914560)===t&&(r=Gv+300-Ls(),10<r)){if(ia(s,t,Gn,!aa),Om(s,0,!0)!==0)break e;s.timeoutHandle=HM(nN.bind(null,s,n,cn,Pf,Jp,t,Gn,ri,sl,aa,i,2,-0,0),r);break e}nN(s,n,cn,Pf,Jp,t,Gn,ri,sl,aa,i,0,-0,0)}}break}while(!0);Zs(e)}function nN(e,t,n,s,r,i,o,l,c,u,d,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Uc={stylesheets:null,count:0,unsuspend:$ee},pM(t),f=Oee(),f!==null)){e.cancelPendingCommit=f(rN.bind(null,e,t,i,n,s,r,o,l,c,d,1,m,h)),ia(e,i,o,!u);return}rN(e,t,i,n,s,r,o,l,c)}function tee(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Dn(i(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t,n,s){t&=~Zv,t&=~ri,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var i=31-_n(r),o=1<<i;s[i]=-1,r&=~o}n!==0&&AA(e,n,t)}function Ym(){return Ue&6?!0:(Cu(0),!1)}function Yv(){if(Ae!==null){if(Fe===0)var e=Ae.return;else e=Ae,fr=Ii=null,zv(e),To=null,Ic=0,e=Ae;for(;e!==null;)sM(e.alternate,e),e=e.return;Ae=null}}function al(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,yee(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Yv(),We=e,Ae=n=xr(e.current,null),ze=t,Fe=0,wn=null,aa=!1,Nl=gu(e,t),qv=!1,sl=Gn=Zv=ri=Sa=dt=0,cn=fc=null,Jp=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-_n(s),i=1<<r;t|=e[r],s&=~i}return Tr=t,Fm(),n}function NM(e,t){Ce=null,ge.H=Tf,t===ju||t===Vm?(t=zj(),Fe=3):t===oT?(t=zj(),Fe=4):Fe=t===KT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wn=t,Ae===null&&(dt=1,Df(e,Vn(t,e.current)))}function SM(){var e=ge.H;return ge.H=Tf,e===null?Tf:e}function kM(){var e=ge.A;return ge.A=JJ,e}function sx(){dt=4,aa||(ze&4194048)!==ze&&Wn.current!==null||(Nl=!0),!(Sa&134217727)&&!(ri&134217727)||We===null||ia(We,ze,Gn,!1)}function vg(e,t,n){var s=Ue;Ue|=2;var r=SM(),i=kM();(We!==e||ze!==t)&&(Pf=null,al(e,t)),t=!1;var o=dt;e:do try{if(Fe!==0&&Ae!==null){var l=Ae,c=wn;switch(Fe){case 8:Yv(),o=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(t=!0);var u=Fe;if(Fe=0,wn=null,po(e,l,c,u),n&&Nl){o=0;break e}break;default:u=Fe,Fe=0,wn=null,po(e,l,c,u)}}nee(),o=dt;break}catch(d){NM(e,d)}while(!0);return t&&e.shellSuspendCounter++,fr=Ii=null,Ue=s,ge.H=r,ge.A=i,Ae===null&&(We=null,ze=0,Fm()),o}function nee(){for(;Ae!==null;)CM(Ae)}function see(e,t){var n=Ue;Ue|=2;var s=SM(),r=kM();We!==e||ze!==t?(Pf=null,$f=Ls()+500,al(e,t)):Nl=gu(e,t);e:do try{if(Fe!==0&&Ae!==null){t=Ae;var i=wn;t:switch(Fe){case 1:Fe=0,wn=null,po(e,t,i,1);break;case 2:case 9:if(Dj(i)){Fe=0,wn=null,sN(t);break}t=function(){Fe!==2&&Fe!==9||We!==e||(Fe=7),Zs(e)},i.then(t,t);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Dj(i)?(Fe=0,wn=null,sN(t)):(Fe=0,wn=null,po(e,t,i,7));break;case 5:var o=null;switch(Ae.tag){case 26:o=Ae.memoizedState;case 5:case 27:var l=Ae;if(!o||qM(o)){Fe=0,wn=null;var c=l.sibling;if(c!==null)Ae=c;else{var u=l.return;u!==null?(Ae=u,Xm(u)):Ae=null}break t}}Fe=0,wn=null,po(e,t,i,5);break;case 6:Fe=0,wn=null,po(e,t,i,6);break;case 8:Yv(),dt=6;break e;default:throw Error(Y(462))}}ree();break}catch(d){NM(e,d)}while(!0);return fr=Ii=null,ge.H=s,ge.A=r,Ue=n,Ae!==null?0:(We=null,ze=0,Fm(),dt)}function ree(){for(;Ae!==null&&!CQ();)CM(Ae)}function CM(e){var t=nM(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?Xm(e):Ae=t}function sN(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wj(n,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=Wj(n,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:zv(t);default:sM(n,t),t=Ae=sT(t,Tr),t=nM(n,t,Tr)}e.memoizedProps=e.pendingProps,t===null?Xm(e):Ae=t}function po(e,t,n,s){fr=Ii=null,zv(t),To=null,Ic=0;var r=t.return;try{if(GJ(e,r,t,n,ze)){dt=1,Df(e,Vn(n,e.current)),Ae=null;return}}catch(i){if(r!==null)throw Ae=r,i;dt=1,Df(e,Vn(n,e.current)),Ae=null;return}t.flags&32768?($e||s===1?e=!0:Nl||ze&536870912?e=!1:(aa=e=!0,(s===2||s===9||s===3||s===6)&&(s=Wn.current,s!==null&&s.tag===13&&(s.flags|=16384))),EM(t,e)):Xm(t)}function Xm(e){var t=e;do{if(t.flags&32768){EM(t,aa);return}e=t.return;var n=XJ(t.alternate,t,Tr);if(n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);dt===0&&(dt=5)}function EM(e,t){do{var n=WJ(e.alternate,e);if(n!==null){n.flags&=32767,Ae=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=n}while(e!==null);dt=6,Ae=null}function rN(e,t,n,s,r,i,o,l,c){e.cancelPendingCommit=null;do Wm();while(It!==0);if(Ue&6)throw Error(Y(327));if(t!==null){if(t===e.current)throw Error(Y(177));if(i=t.lanes|t.childLanes,i|=wv,$Q(e,n,i,o,l,c),e===We&&(Ae=We=null,ze=0),rl=t,pa=e,Mo=n,ex=i,tx=r,bM=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,lee(bf,function(){return RM(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=ge.T,ge.T=null,r=Oe.p,Oe.p=2,o=Ue,Ue|=4;try{KJ(e,t,n)}finally{Ue=o,Oe.p=r,ge.T=s}}It=1,_M(),AM(),TM()}}function _M(){if(It===1){It=0;var e=pa,t=rl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ge.T,ge.T=null;var s=Oe.p;Oe.p=2;var r=Ue;Ue|=4;try{mM(t,e);var i=ox,o=XA(e.containerInfo),l=i.focusedElem,c=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&YA(l.ownerDocument.documentElement,l)){if(c!==null&&bv(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=l.textContent.length,v=Math.min(c.start,p),b=c.end===void 0?v:Math.min(c.end,p);!h.extend&&v>b&&(o=b,b=v,v=o);var x=kj(l,v),y=kj(l,b);if(x&&y&&(h.rangeCount!==1||h.anchorNode!==x.node||h.anchorOffset!==x.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var j=f.createRange();j.setStart(x.node,x.offset),h.removeAllRanges(),v>b?(h.addRange(j),h.extend(y.node,y.offset)):(j.setEnd(y.node,y.offset),h.addRange(j))}}}}for(f=[],h=l;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var w=f[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}qf=!!ix,ox=ix=null}finally{Ue=r,Oe.p=s,ge.T=n}}e.current=t,It=2}}function AM(){if(It===2){It=0;var e=pa,t=rl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ge.T,ge.T=null;var s=Oe.p;Oe.p=2;var r=Ue;Ue|=4;try{cM(e,t.alternate,t)}finally{Ue=r,Oe.p=s,ge.T=n}}It=3}}function TM(){if(It===4||It===3){It=0,EQ();var e=pa,t=rl,n=Mo,s=bM;t.subtreeFlags&10256||t.flags&10256?It=5:(It=0,rl=pa=null,MM(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(ga=null),mv(n),t=t.stateNode,En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(hu,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=ge.T,r=Oe.p,Oe.p=2,ge.T=null;try{for(var i=e.onRecoverableError,o=0;o<s.length;o++){var l=s[o];i(l.value,{componentStack:l.stack})}}finally{ge.T=t,Oe.p=r}}Mo&3&&Wm(),Zs(e),r=e.pendingLanes,n&4194090&&r&42?e===nx?mc++:(mc=0,nx=e):mc=0,Cu(0)}}function MM(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wu(t)))}function Wm(e){return _M(),AM(),TM(),RM()}function RM(){if(It!==5)return!1;var e=pa,t=ex;ex=0;var n=mv(Mo),s=ge.T,r=Oe.p;try{Oe.p=32>n?32:n,ge.T=null,n=tx,tx=null;var i=pa,o=Mo;if(It=0,rl=pa=null,Mo=0,Ue&6)throw Error(Y(331));var l=Ue;if(Ue|=4,vM(i.current),gM(i,i.current,o,n),Ue=l,Cu(0,!1),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(hu,i)}catch{}return!0}finally{Oe.p=r,ge.T=s,MM(e,t)}}function aN(e,t,n){t=Vn(n,t),t=Xp(e.stateNode,t,2),e=ha(e,t,2),e!==null&&(pu(e,2),Zs(e))}function Ye(e,t,n){if(e.tag===3)aN(e,e,n);else for(;t!==null;){if(t.tag===3){aN(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ga===null||!ga.has(s))){e=Vn(n,e),n=XT(2),s=ha(t,n,2),s!==null&&(WT(n,s,t,e),pu(s,2),Zs(s));break}}t=t.return}}function yg(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new eee;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(qv=!0,r.add(n),e=aee.bind(null,e,t,n),t.then(e,e))}function aee(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,We===e&&(ze&n)===n&&(dt===4||dt===3&&(ze&62914560)===ze&&300>Ls()-Gv?!(Ue&2)&&al(e,0):Zv|=n,sl===ze&&(sl=0)),Zs(e)}function DM(e,t){t===0&&(t=_A()),e=jl(e,t),e!==null&&(pu(e,t),Zs(e))}function iee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DM(e,n)}function oee(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(Y(314))}s!==null&&s.delete(t),DM(e,n)}function lee(e,t){return dv(e,t)}var Of=null,to=null,rx=!1,Bf=!1,bg=!1,ai=0;function Zs(e){e!==to&&e.next===null&&(to===null?Of=to=e:to=to.next=e),Bf=!0,rx||(rx=!0,uee())}function Cu(e,t){if(!bg&&Bf){bg=!0;do for(var n=!1,s=Of;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var o=s.suspendedLanes,l=s.pingedLanes;i=(1<<31-_n(42|e)+1)-1,i&=r&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,iN(s,i))}else i=ze,i=Om(s,s===We?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||gu(s,i)||(n=!0,iN(s,i));s=s.next}while(n);bg=!1}}function cee(){zM()}function zM(){Bf=rx=!1;var e=0;ai!==0&&(vee()&&(e=ai),ai=0);for(var t=Ls(),n=null,s=Of;s!==null;){var r=s.next,i=LM(s,t);i===0?(s.next=null,n===null?Of=r:n.next=r,r===null&&(to=n)):(n=s,(e!==0||i&3)&&(Bf=!0)),s=r}Cu(e)}function LM(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-_n(i),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=LQ(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}if(t=We,n=ze,n=Om(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Zh(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||gu(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Zh(s),mv(n)){case 2:case 8:n=kA;break;case 32:n=bf;break;case 268435456:n=CA;break;default:n=bf}return s=$M.bind(null,e),n=dv(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Zh(s),e.callbackPriority=2,e.callbackNode=null,2}function $M(e,t){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Wm()&&e.callbackNode!==n)return null;var s=ze;return s=Om(e,e===We?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(jM(e,s,t),LM(e,Ls()),e.callbackNode!=null&&e.callbackNode===n?$M.bind(null,e):null)}function iN(e,t){if(Wm())return null;jM(e,t,!0)}function uee(){bee(function(){Ue&6?dv(SA,cee):zM()})}function Xv(){return ai===0&&(ai=EA()),ai}function oN(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_d(""+e)}function lN(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function dee(e,t,n,s,r){if(t==="submit"&&n&&n.stateNode===r){var i=oN((r[mn]||null).action),o=s.submitter;o&&(t=(t=o[mn]||null)?oN(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new Bm("action","action",null,s,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ai!==0){var c=o?lN(r,o):new FormData(r);Gp(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=o?lN(r,o):new FormData(r),Gp(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var wg=0;wg<Lp.length;wg++){var jg=Lp[wg],fee=jg.toLowerCase(),mee=jg[0].toUpperCase()+jg.slice(1);ps(fee,"on"+mee)}ps(KA,"onAnimationEnd");ps(QA,"onAnimationIteration");ps(JA,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(TJ,"onTransitionRun");ps(MJ,"onTransitionStart");ps(RJ,"onTransitionCancel");ps(eT,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hee=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function PM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Rf(d)}r.currentTarget=null,i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Rf(d)}r.currentTarget=null,i=c}}}}function _e(e,t){var n=t[_p];n===void 0&&(n=t[_p]=new Set);var s=e+"__bubble";n.has(s)||(OM(t,e,2,!1),n.add(s))}function Ng(e,t,n){var s=0;t&&(s|=4),OM(n,e,s,t)}var md="_reactListening"+Math.random().toString(36).slice(2);function Wv(e){if(!e[md]){e[md]=!0,RA.forEach(function(n){n!=="selectionchange"&&(hee.has(n)||Ng(n,!1,e),Ng(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[md]||(t[md]=!0,Ng("selectionchange",!1,t))}}function OM(e,t,n,s){switch(WM(t)){case 2:var r=Hee;break;case 8:r=Fee;break;default:r=ey}n=r.bind(null,t,n,e),r=void 0,!Rp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Sg(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===r)return;o=o.return}for(;l!==null;){if(o=io(l),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){s=i=o;continue e}l=l.parentNode}}s=s.return}IA(function(){var u=i,d=pv(n),f=[];e:{var m=tT.get(e);if(m!==void 0){var h=Bm,p=e;switch(e){case"keypress":if(Td(n)===0)break e;case"keydown":case"keyup":h=lJ;break;case"focusin":p="focus",h=eg;break;case"focusout":p="blur",h=eg;break;case"beforeblur":case"afterblur":h=eg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=gj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=WQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=dJ;break;case KA:case QA:case JA:h=JQ;break;case eT:h=mJ;break;case"scroll":case"scrollend":h=YQ;break;case"wheel":h=gJ;break;case"copy":case"cut":case"paste":h=tJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=xj;break;case"toggle":case"beforetoggle":h=xJ}var v=(t&4)!==0,b=!v&&(e==="scroll"||e==="scrollend"),x=v?m!==null?m+"Capture":null:m;v=[];for(var y=u,j;y!==null;){var w=y;if(j=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||j===null||x===null||(w=Lc(y,x),w!=null&&v.push(Fc(y,w,j))),b)break;y=y.return}0<v.length&&(m=new h(m,p,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==Mp&&(p=n.relatedTarget||n.fromElement)&&(io(p)||p[bl]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?io(p):null,p!==null&&(b=mu(p),v=p.tag,p!==b||v!==5&&v!==27&&v!==6)&&(p=null)):(h=null,p=u),h!==p)){if(v=gj,w="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=xj,w="onPointerLeave",x="onPointerEnter",y="pointer"),b=h==null?m:Wl(h),j=p==null?m:Wl(p),m=new v(w,y+"leave",h,n,d),m.target=b,m.relatedTarget=j,w=null,io(d)===u&&(v=new v(x,y+"enter",p,n,d),v.target=j,v.relatedTarget=b,w=v),b=w,h&&p)t:{for(v=h,x=p,y=0,j=v;j;j=Ki(j))y++;for(j=0,w=x;w;w=Ki(w))j++;for(;0<y-j;)v=Ki(v),y--;for(;0<j-y;)x=Ki(x),j--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Ki(v),x=Ki(x)}v=null}else v=null;h!==null&&cN(f,m,h,v,!1),p!==null&&b!==null&&cN(f,b,p,v,!0)}}e:{if(m=u?Wl(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=wj;else if(bj(m))if(ZA)N=EJ;else{N=kJ;var E=SJ}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&gv(u.elementType)&&(N=wj):N=CJ;if(N&&(N=N(e,u))){qA(f,N,n,d);break e}E&&E(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Tp(m,"number",m.value)}switch(E=u?Wl(u):window,e){case"focusin":(bj(E)||E.contentEditable==="true")&&(co=E,Dp=u,sc=null);break;case"focusout":sc=Dp=co=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,Cj(f,n,d);break;case"selectionchange":if(AJ)break;case"keydown":case"keyup":Cj(f,n,d)}var S;if(yv)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else lo?UA(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(FA&&n.locale!=="ko"&&(lo||_!=="onCompositionStart"?_==="onCompositionEnd"&&lo&&(S=HA()):(ra=d,xv="value"in ra?ra.value:ra.textContent,lo=!0)),E=If(u,_),0<E.length&&(_=new pj(_,e,null,n,d),f.push({event:_,listeners:E}),S?_.data=S:(S=VA(n),S!==null&&(_.data=S)))),(S=yJ?bJ(e,n):wJ(e,n))&&(_=If(u,"onBeforeInput"),0<_.length&&(E=new pj("onBeforeInput","beforeinput",null,n,d),f.push({event:E,listeners:_}),E.data=S)),dee(f,e,u,n,d)}PM(f,t)})}function Fc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function If(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Lc(e,n),r!=null&&s.unshift(Fc(e,r,i)),r=Lc(e,t),r!=null&&s.push(Fc(e,r,i))),e.tag===3)return s;e=e.return}return[]}function Ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cN(e,t,n,s,r){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||u===null||(c=u,r?(u=Lc(n,i),u!=null&&o.unshift(Fc(n,u,c))):r||(u=Lc(n,i),u!=null&&o.push(Fc(n,u,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var gee=/\r\n?/g,pee=/\u0000|\uFFFD/g;function uN(e){return(typeof e=="string"?e:""+e).replace(gee,`
`).replace(pee,"")}function BM(e,t){return t=uN(t),uN(e)===t}function Km(){}function Ve(e,t,n,s,r,i){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Qo(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Qo(e,""+s);break;case"className":id(e,"class",s);break;case"tabIndex":id(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":id(e,n,s);break;case"style":BA(e,s,i);break;case"data":if(t!=="object"){id(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=_d(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ve(e,t,"name",r.name,r,null),Ve(e,t,"formEncType",r.formEncType,r,null),Ve(e,t,"formMethod",r.formMethod,r,null),Ve(e,t,"formTarget",r.formTarget,r,null)):(Ve(e,t,"encType",r.encType,r,null),Ve(e,t,"method",r.method,r,null),Ve(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=_d(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=Km);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=_d(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Ed(e,"popover",s);break;case"xlinkActuate":nr(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":nr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":nr(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":nr(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":nr(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":nr(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":nr(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":nr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":nr(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ed(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ZQ.get(n)||n,Ed(e,n,s))}}function ax(e,t,n,s,r,i){switch(n){case"style":BA(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Qo(e,s):(typeof s=="number"||typeof s=="bigint")&&Qo(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Km);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!DA.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),i=e[mn]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Ed(e,n,s)}}}function Ht(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:Ve(e,t,i,o,n,null)}}r&&Ve(e,t,"srcSet",n.srcSet,n,null),s&&Ve(e,t,"src",n.src,n,null);return;case"input":_e("invalid",e);var l=i=o=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,t));break;default:Ve(e,t,s,d,n,null)}}$A(e,i,l,c,u,o,r,!1),wf(e);return;case"select":_e("invalid",e),s=o=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Ve(e,t,r,l,n,null)}t=i,n=o,e.multiple=!!s,t!=null?ko(e,!!s,t,!1):n!=null&&ko(e,!!s,n,!0);return;case"textarea":_e("invalid",e),i=r=s=null;for(o in n)if(n.hasOwnProperty(o)&&(l=n[o],l!=null))switch(o){case"value":s=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(Y(91));break;default:Ve(e,t,o,l,n,null)}OA(e,s,r,i),wf(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ve(e,t,c,s,n,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<Hc.length;s++)_e(Hc[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:Ve(e,t,u,s,n,null)}return;default:if(gv(t)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&ax(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&Ve(e,t,l,s,n,null))}function xee(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,o=null,l=null,c=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=f;default:s.hasOwnProperty(h)||Ve(e,t,h,null,s,f)}}for(var m in s){var h=s[m];if(f=n[m],s.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":i=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":o=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Y(137,t));break;default:h!==f&&Ve(e,t,m,h,s,f)}}Ap(e,o,l,c,u,d,i,r);return;case"select":h=o=l=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":h=c;default:s.hasOwnProperty(i)||Ve(e,t,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Ve(e,t,r,i,s,c)}t=l,n=o,s=h,m!=null?ko(e,!!n,m,!1):!!s!=!!n&&(t!=null?ko(e,!!n,t,!0):ko(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ve(e,t,l,null,s,r)}for(o in s)if(r=s[o],i=n[o],s.hasOwnProperty(o)&&(r!=null||i!=null))switch(o){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Y(91));break;default:r!==i&&Ve(e,t,o,r,s,i)}PA(e,m,h);return;case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&m!=null&&!s.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:Ve(e,t,p,null,s,m)}for(c in s)if(m=s[c],h=n[c],s.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ve(e,t,c,m,s,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!s.hasOwnProperty(v)&&Ve(e,t,v,null,s,m);for(u in s)if(m=s[u],h=n[u],s.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Y(137,t));break;default:Ve(e,t,u,m,s,h)}return;default:if(gv(t)){for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!==void 0&&!s.hasOwnProperty(b)&&ax(e,t,b,void 0,s,m);for(d in s)m=s[d],h=n[d],!s.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||ax(e,t,d,m,s,h);return}}for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!=null&&!s.hasOwnProperty(x)&&Ve(e,t,x,null,s,m);for(f in s)m=s[f],h=n[f],!s.hasOwnProperty(f)||m===h||m==null&&h==null||Ve(e,t,f,m,s,h)}var ix=null,ox=null;function Hf(e){return e.nodeType===9?e:e.ownerDocument}function dN(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IM(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kg=null;function vee(){var e=window.event;return e&&e.type==="popstate"?e===kg?!1:(kg=e,!0):(kg=null,!1)}var HM=typeof setTimeout=="function"?setTimeout:void 0,yee=typeof clearTimeout=="function"?clearTimeout:void 0,fN=typeof Promise=="function"?Promise:void 0,bee=typeof queueMicrotask=="function"?queueMicrotask:typeof fN<"u"?function(e){return fN.resolve(null).then(e).catch(wee)}:HM;function wee(e){setTimeout(function(){throw e})}function Da(e){return e==="head"}function mN(e,t){var n=t,s=0,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<s&&8>s){n=s;var o=e.ownerDocument;if(n&1&&hc(o.documentElement),n&2&&hc(o.body),n&4)for(n=o.head,hc(n),o=n.firstChild;o;){var l=o.nextSibling,c=o.nodeName;o[xu]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=l}}if(r===0){e.removeChild(i),Gc(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);Gc(t)}function cx(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":cx(n),hv(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function jee(e,t,n,s){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[xu])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=cs(e.nextSibling),e===null)break}return null}function Nee(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=cs(e.nextSibling),e===null))return null;return e}function ux(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function See(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var dx=null;function hN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function FM(e,t,n){switch(t=Hf(n),e){case"html":if(e=t.documentElement,!e)throw Error(Y(452));return e;case"head":if(e=t.head,!e)throw Error(Y(453));return e;case"body":if(e=t.body,!e)throw Error(Y(454));return e;default:throw Error(Y(451))}}function hc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hv(e)}var Kn=new Map,gN=new Set;function Ff(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Lr=Oe.d;Oe.d={f:kee,r:Cee,D:Eee,C:_ee,L:Aee,m:Tee,X:Ree,S:Mee,M:Dee};function kee(){var e=Lr.f(),t=Ym();return e||t}function Cee(e){var t=wl(e);t!==null&&t.tag===5&&t.type==="form"?LT(t):Lr.r(e)}var Sl=typeof document>"u"?null:document;function UM(e,t,n){var s=Sl;if(s&&typeof t=="string"&&t){var r=Un(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),gN.has(r)||(gN.add(r),e={rel:e,crossOrigin:n,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),Ht(t,"link",e),Rt(t),s.head.appendChild(t)))}}function Eee(e){Lr.D(e),UM("dns-prefetch",e,null)}function _ee(e,t){Lr.C(e,t),UM("preconnect",e,t)}function Aee(e,t,n){Lr.L(e,t,n);var s=Sl;if(s&&e&&t){var r='link[rel="preload"][as="'+Un(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Un(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Un(n.imageSizes)+'"]')):r+='[href="'+Un(e)+'"]';var i=r;switch(t){case"style":i=il(e);break;case"script":i=kl(e)}Kn.has(i)||(e=Qe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Kn.set(i,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Eu(i))||t==="script"&&s.querySelector(_u(i))||(t=s.createElement("link"),Ht(t,"link",e),Rt(t),s.head.appendChild(t)))}}function Tee(e,t){Lr.m(e,t);var n=Sl;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Un(s)+'"][href="'+Un(e)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=kl(e)}if(!Kn.has(i)&&(e=Qe({rel:"modulepreload",href:e},t),Kn.set(i,e),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_u(i)))return}s=n.createElement("link"),Ht(s,"link",e),Rt(s),n.head.appendChild(s)}}}function Mee(e,t,n){Lr.S(e,t,n);var s=Sl;if(s&&e){var r=So(s).hoistableStyles,i=il(e);t=t||"default";var o=r.get(i);if(!o){var l={loading:0,preload:null};if(o=s.querySelector(Eu(i)))l.loading=5;else{e=Qe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Kn.get(i))&&Kv(e,n);var c=o=s.createElement("link");Rt(c),Ht(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Pd(o,t,s)}o={type:"stylesheet",instance:o,count:1,state:l},r.set(i,o)}}}function Ree(e,t){Lr.X(e,t);var n=Sl;if(n&&e){var s=So(n).hoistableScripts,r=kl(e),i=s.get(r);i||(i=n.querySelector(_u(r)),i||(e=Qe({src:e,async:!0},t),(t=Kn.get(r))&&Qv(e,t),i=n.createElement("script"),Rt(i),Ht(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Dee(e,t){Lr.M(e,t);var n=Sl;if(n&&e){var s=So(n).hoistableScripts,r=kl(e),i=s.get(r);i||(i=n.querySelector(_u(r)),i||(e=Qe({src:e,async:!0,type:"module"},t),(t=Kn.get(r))&&Qv(e,t),i=n.createElement("script"),Rt(i),Ht(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function pN(e,t,n,s){var r=(r=fa.current)?Ff(r):null;if(!r)throw Error(Y(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=il(n.href),n=So(r).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=il(n.href);var i=So(r).hoistableStyles,o=i.get(e);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=r.querySelector(Eu(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Kn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Kn.set(e,n),i||zee(r,e,n,o.state))),t&&s===null)throw Error(Y(528,""));return o}if(t&&s!==null)throw Error(Y(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=kl(n),n=So(r).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,e))}}function il(e){return'href="'+Un(e)+'"'}function Eu(e){return'link[rel="stylesheet"]['+e+"]"}function VM(e){return Qe({},e,{"data-precedence":e.precedence,precedence:null})}function zee(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ht(t,"link",n),Rt(t),e.head.appendChild(t))}function kl(e){return'[src="'+Un(e)+'"]'}function _u(e){return"script[async]"+e}function xN(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Un(n.href)+'"]');if(s)return t.instance=s,Rt(s),s;var r=Qe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Rt(s),Ht(s,"style",r),Pd(s,n.precedence,e),t.instance=s;case"stylesheet":r=il(n.href);var i=e.querySelector(Eu(r));if(i)return t.state.loading|=4,t.instance=i,Rt(i),i;s=VM(n),(r=Kn.get(r))&&Kv(s,r),i=(e.ownerDocument||e).createElement("link"),Rt(i);var o=i;return o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),Ht(i,"link",s),t.state.loading|=4,Pd(i,n.precedence,e),t.instance=i;case"script":return i=kl(n.src),(r=e.querySelector(_u(i)))?(t.instance=r,Rt(r),r):(s=n,(r=Kn.get(i))&&(s=Qe({},n),Qv(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),Rt(r),Ht(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(Y(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,Pd(s,n.precedence,e));return t.instance}function Pd(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,o=0;o<s.length;o++){var l=s[o];if(l.dataset.precedence===t)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Kv(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qv(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Od=null;function vN(e,t,n){if(Od===null){var s=new Map,r=Od=new Map;r.set(n,s)}else r=Od,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[xu]||i[qt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=s.get(o);l?l.push(i):s.set(o,[i])}}return s}function yN(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Lee(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qM(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Uc=null;function $ee(){}function Pee(e,t,n){if(Uc===null)throw Error(Y(475));var s=Uc;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=il(n.href),i=e.querySelector(Eu(r));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Uf.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=i,Rt(i);return}i=e.ownerDocument||e,n=VM(n),(r=Kn.get(r))&&Kv(n,r),i=i.createElement("link"),Rt(i);var o=i;o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),Ht(i,"link",n),t.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=Uf.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function Oee(){if(Uc===null)throw Error(Y(475));var e=Uc;return e.stylesheets&&e.count===0&&fx(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&fx(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Uf(){if(this.count--,this.count===0){if(this.stylesheets)fx(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vf=null;function fx(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vf=new Map,t.forEach(Bee,e),Vf=null,Uf.call(e))}function Bee(e,t){if(!(t.state.loading&4)){var n=Vf.get(e);if(n)var s=n.get(null);else{n=new Map,Vf.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var o=r[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),s=o)}s&&n.set(null,s)}r=t.instance,o=r.getAttribute("data-precedence"),i=n.get(o)||s,i===s&&n.set(null,r),n.set(o,r),this.count++,s=Uf.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Vc={$$typeof:cr,Provider:null,Consumer:null,_currentValue:Ja,_currentValue2:Ja,_threadCount:0};function Iee(e,t,n,s,r,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.hiddenUpdates=Gh(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function ZM(e,t,n,s,r,i,o,l,c,u,d,f){return e=new Iee(e,t,n,o,l,c,u,f),t=1,i===!0&&(t|=24),i=kn(3,null,null,t),e.current=i,i.stateNode=e,t=Cv(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:t},_v(i),e}function GM(e){return e?(e=mo,e):mo}function YM(e,t,n,s,r,i){r=GM(r),s.context===null?s.context=r:s.pendingContext=r,s=ma(t),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=ha(e,s,t),n!==null&&(Tn(n,e,t),ic(n,e,t))}function bN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jv(e,t){bN(e,t),(e=e.alternate)&&bN(e,t)}function XM(e){if(e.tag===13){var t=jl(e,67108864);t!==null&&Tn(t,e,67108864),Jv(e,67108864)}}var qf=!0;function Hee(e,t,n,s){var r=ge.T;ge.T=null;var i=Oe.p;try{Oe.p=2,ey(e,t,n,s)}finally{Oe.p=i,ge.T=r}}function Fee(e,t,n,s){var r=ge.T;ge.T=null;var i=Oe.p;try{Oe.p=8,ey(e,t,n,s)}finally{Oe.p=i,ge.T=r}}function ey(e,t,n,s){if(qf){var r=mx(s);if(r===null)Sg(e,t,s,Zf,n),wN(e,s);else if(Vee(r,e,t,n,s))s.stopPropagation();else if(wN(e,s),t&4&&-1<Uee.indexOf(e)){for(;r!==null;){var i=wl(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Ia(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var c=1<<31-_n(o);l.entanglements[1]|=c,o&=~c}Zs(i),!(Ue&6)&&($f=Ls()+500,Cu(0))}}break;case 13:l=jl(i,2),l!==null&&Tn(l,i,2),Ym(),Jv(i,2)}if(i=mx(s),i===null&&Sg(e,t,s,Zf,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Sg(e,t,s,null,n)}}function mx(e){return e=pv(e),ty(e)}var Zf=null;function ty(e){if(Zf=null,e=io(e),e!==null){var t=mu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=bA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zf=e,null}function WM(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_Q()){case SA:return 2;case kA:return 8;case bf:case AQ:return 32;case CA:return 268435456;default:return 32}default:return 32}}var hx=!1,xa=null,va=null,ya=null,qc=new Map,Zc=new Map,ea=[],Uee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wN(e,t){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":qc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(t.pointerId)}}function Ul(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=wl(t),t!==null&&XM(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Vee(e,t,n,s,r){switch(t){case"focusin":return xa=Ul(xa,e,t,n,s,r),!0;case"dragenter":return va=Ul(va,e,t,n,s,r),!0;case"mouseover":return ya=Ul(ya,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return qc.set(i,Ul(qc.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Zc.set(i,Ul(Zc.get(i)||null,e,t,n,s,r)),!0}return!1}function KM(e){var t=io(e.target);if(t!==null){var n=mu(t);if(n!==null){if(t=n.tag,t===13){if(t=bA(n),t!==null){e.blockedOn=t,PQ(e.priority,function(){if(n.tag===13){var s=An();s=fv(s);var r=jl(n,s);r!==null&&Tn(r,n,s),Jv(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mx(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Mp=s,n.target.dispatchEvent(s),Mp=null}else return t=wl(n),t!==null&&XM(t),e.blockedOn=n,!1;t.shift()}return!0}function jN(e,t,n){Bd(e)&&n.delete(t)}function qee(){hx=!1,xa!==null&&Bd(xa)&&(xa=null),va!==null&&Bd(va)&&(va=null),ya!==null&&Bd(ya)&&(ya=null),qc.forEach(jN),Zc.forEach(jN)}function hd(e,t){e.blockedOn===t&&(e.blockedOn=null,hx||(hx=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,qee)))}var gd=null;function NN(e){gd!==e&&(gd=e,At.unstable_scheduleCallback(At.unstable_NormalPriority,function(){gd===e&&(gd=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(ty(s||n)===null)continue;break}var i=wl(n);i!==null&&(e.splice(t,3),t-=3,Gp(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Gc(e){function t(c){return hd(c,e)}xa!==null&&hd(xa,e),va!==null&&hd(va,e),ya!==null&&hd(ya,e),qc.forEach(t),Zc.forEach(t);for(var n=0;n<ea.length;n++){var s=ea[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)KM(n),n.blockedOn===null&&ea.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],o=r[mn]||null;if(typeof i=="function")o||NN(n);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,o=i[mn]||null)l=o.formAction;else if(ty(r)!==null)continue}else l=o.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),NN(n)}}}function ny(e){this._internalRoot=e}Qm.prototype.render=ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));var n=t.current,s=An();YM(n,s,e,t,null,null)};Qm.prototype.unmount=ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;YM(e.current,2,null,e,null,null),Ym(),t[bl]=null}};function Qm(e){this._internalRoot=e}Qm.prototype.unstable_scheduleHydration=function(e){if(e){var t=MA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&KM(e)}};var SN=vA.version;if(SN!=="19.1.0")throw Error(Y(527,SN,"19.1.0"));Oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=wQ(t),e=e!==null?wA(e):null,e=e===null?null:e.stateNode,e};var Zee={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{hu=pd.inject(Zee),En=pd}catch{}}Pm.createRoot=function(e,t){if(!yA(e))throw Error(Y(299));var n=!1,s="",r=ZT,i=GT,o=YT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=ZM(e,1,!1,null,null,n,s,r,i,o,l,null),e[bl]=t.current,Wv(e),new ny(t)};Pm.hydrateRoot=function(e,t,n){if(!yA(e))throw Error(Y(299));var s=!1,r="",i=ZT,o=GT,l=YT,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=ZM(e,1,!0,t,n??null,s,r,i,o,l,c,u),t.context=GM(null),n=t.current,s=An(),s=fv(s),r=ma(s),r.callback=null,ha(n,r,s),n=s,t.current.lanes=n,pu(t,n),Zs(t),e[bl]=t.current,Wv(e),new Qm(t)};Pm.version="19.1.0";function QM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QM)}catch(e){console.error(e)}}QM(),gA.exports=Pm;var Gee=gA.exports;Gee.createRoot(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx(vQ,{showLoadingIndicator:!0,children:a.jsx(h$,{children:a.jsx(xQ,{})})})}));
