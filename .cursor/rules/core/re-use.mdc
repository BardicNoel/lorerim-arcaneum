---
alwaysApply: true
---

### âœ… Shared Generics

**Path:** `src/shared/components/generic/`

Contains **reusable, UI-agnostic building blocks**:

- No business logic or feature dependencies.
- APIs designed for wide usage.

**Example:**

```text
src/shared/components/generic/
â””â”€â”€ EntityAvatar.tsx âœ…
```

---

### âœ… Assets

**Path:** `public/assets/<context>/`

Holds static assets related to UI components. Mirror component hierarchy for clarity.

**Example:**

```text
public/assets/sign-avatar/
â””â”€â”€ apprentice.svg âœ…
```

---

## ğŸ— Component API Principles

| Rule                           | âœ… Good Example                        | âŒ Bad Example                           |
| ------------------------------ | -------------------------------------- | ---------------------------------------- |
| Composition over configuration | `<Card><CardHeader /></Card>`          | `<Card headerRender={() => â€¦} />`        |
| Reuse via shared generics      | `EntityAvatar` in shared/generic       | `BirthsignAvatar` reused across features |
| Feature-specific binding       | `BirthsignAvatar` wraps `EntityAvatar` | `EntityAvatar` hardcodes Birthsign logic |
| Slotted children APIs          | `<Dialog><DialogFooter /></Dialog>`    | `<Dialog footerRender={() => â€¦} />`      |

---

### ğŸ‘ Anti-Pattern Example

```tsx
// Bad: tightly coupled to Birthsign
const BirthsignAvatar = ({ sign }: { sign: string }) => (
  <img src={`/assets/sign-avatar/${sign}.svg`} alt={sign} />
)
```

âŒ _Problems:_ Cannot reuse for other entity types.

---

### âœ… Refactored Pattern

```tsx
// Shared generic
const EntityAvatar = ({
  assetPath,
  alt,
}: {
  assetPath: string
  alt: string
}) => <img src={assetPath} alt={alt} />

// Feature-specific wrapper
const BirthsignAvatar = ({ sign }: { sign: string }) => (
  <EntityAvatar assetPath={`/assets/sign-avatar/${sign}.svg`} alt={sign} />
)
```

âœ… _Result:_

- `EntityAvatar` is generic.
- `BirthsignAvatar` is feature-bound.

---

## ğŸ“Œ Agent Enforcement Checklist

### ğŸ“ Directory Placement

- [ ] Is the component **feature-specific**? â†’ Place in `src/features/<feature>/components/`.
- [ ] Is the component **generic/reusable**? â†’ Place in `src/shared/components/generic/`.
- [ ] Are static assets mirrored under `public/assets/<context>/`?

### ğŸ— API Design

- [ ] Does the component use **slotted children** instead of render props?
- [ ] Is internal markup **extensible** by consumers?
- [ ] Are visuals/business logic kept out of shared generics?

### ğŸš« Prohibited Patterns

- [ ] `*_Render` or `render*` props for UI injection.
- [ ] Feature-specific assets in `shared/generic/`.

---

## ğŸ’¡ Agent Quick Tip

Ask:

> "Could this logically live in another feature without changes?"

If **YES** â†’ put in `shared/generic/`.
If **NO** â†’ put in `features/<feature>/components/`.
