var Xj=Object.defineProperty;var Kj=(e,t,n)=>t in e?Xj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fi=(e,t,n)=>Kj(e,typeof t!="symbol"?t+"":t,n);function Wj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Qg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ow={exports:{}},Td={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj=Symbol.for("react.transitional.element"),Jj=Symbol.for("react.fragment");function $w(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:Qj,type:e,key:r,ref:t!==void 0?t:null,props:n}}Td.Fragment=Jj;Td.jsx=$w;Td.jsxs=$w;Ow.exports=Td;var l=Ow.exports,Lw={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=Symbol.for("react.transitional.element"),eT=Symbol.for("react.portal"),tT=Symbol.for("react.fragment"),nT=Symbol.for("react.strict_mode"),rT=Symbol.for("react.profiler"),aT=Symbol.for("react.consumer"),sT=Symbol.for("react.context"),oT=Symbol.for("react.forward_ref"),iT=Symbol.for("react.suspense"),lT=Symbol.for("react.memo"),Pw=Symbol.for("react.lazy"),Oy=Symbol.iterator;function cT(e){return e===null||typeof e!="object"?null:(e=Oy&&e[Oy]||e["@@iterator"],typeof e=="function"?e:null)}var Bw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iw=Object.assign,Hw={};function Qo(e,t,n){this.props=e,this.context=t,this.refs=Hw,this.updater=n||Bw}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fw(){}Fw.prototype=Qo.prototype;function ep(e,t,n){this.props=e,this.context=t,this.refs=Hw,this.updater=n||Bw}var tp=ep.prototype=new Fw;tp.constructor=ep;Iw(tp,Qo.prototype);tp.isPureReactComponent=!0;var $y=Array.isArray,Fe={H:null,A:null,T:null,S:null,V:null},Uw=Object.prototype.hasOwnProperty;function np(e,t,n,r,a,s){return n=s.ref,{$$typeof:Jg,type:e,key:t,ref:n!==void 0?n:null,props:s}}function uT(e,t){return np(e.type,t,void 0,void 0,void 0,e.props)}function rp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jg}function dT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ly=/\/+/g;function If(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dT(""+e.key):t.toString(36)}function Py(){}function fT(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Py,Py):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ks(e,t,n,r,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jg:case eT:o=!0;break;case Pw:return o=e._init,Ks(o(e._payload),t,n,r,a)}}if(o)return a=a(e),o=r===""?"."+If(e,0):r,$y(a)?(n="",o!=null&&(n=o.replace(Ly,"$&/")+"/"),Ks(a,t,n,"",function(u){return u})):a!=null&&(rp(a)&&(a=uT(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Ly,"$&/")+"/")+o)),t.push(a)),1;o=0;var i=r===""?".":r+":";if($y(e))for(var c=0;c<e.length;c++)r=e[c],s=i+If(r,c),o+=Ks(r,t,n,s,a);else if(c=cT(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,s=i+If(r,c++),o+=Ks(r,t,n,s,a);else if(s==="object"){if(typeof e.then=="function")return Ks(fT(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function vc(e,t,n){if(e==null)return e;var r=[],a=0;return Ks(e,r,"","",function(s){return t.call(n,s,a++)}),r}function hT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var By=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mT(){}ve.Children={map:vc,forEach:function(e,t,n){vc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vc(e,function(){t++}),t},toArray:function(e){return vc(e,function(t){return t})||[]},only:function(e){if(!rp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Qo;ve.Fragment=tT;ve.Profiler=rT;ve.PureComponent=ep;ve.StrictMode=nT;ve.Suspense=iT;ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fe;ve.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Fe.H.useMemoCache(e)}};ve.cache=function(e){return function(){return e.apply(null,arguments)}};ve.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=Iw({},e.props),a=e.key,s=void 0;if(t!=null)for(o in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(a=""+t.key),t)!Uw.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var i=Array(o),c=0;c<o;c++)i[c]=arguments[c+2];r.children=i}return np(e.type,a,void 0,void 0,s,r)};ve.createContext=function(e){return e={$$typeof:sT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:aT,_context:e},e};ve.createElement=function(e,t,n){var r,a={},s=null;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)Uw.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var i=Array(o),c=0;c<o;c++)i[c]=arguments[c+2];a.children=i}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return np(e,s,void 0,void 0,null,a)};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:oT,render:e}};ve.isValidElement=rp;ve.lazy=function(e){return{$$typeof:Pw,_payload:{_status:-1,_result:e},_init:hT}};ve.memo=function(e,t){return{$$typeof:lT,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Fe.T,n={};Fe.T=n;try{var r=e(),a=Fe.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(mT,By)}catch(s){By(s)}finally{Fe.T=t}};ve.unstable_useCacheRefresh=function(){return Fe.H.useCacheRefresh()};ve.use=function(e){return Fe.H.use(e)};ve.useActionState=function(e,t,n){return Fe.H.useActionState(e,t,n)};ve.useCallback=function(e,t){return Fe.H.useCallback(e,t)};ve.useContext=function(e){return Fe.H.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e,t){return Fe.H.useDeferredValue(e,t)};ve.useEffect=function(e,t,n){var r=Fe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};ve.useId=function(){return Fe.H.useId()};ve.useImperativeHandle=function(e,t,n){return Fe.H.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return Fe.H.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Fe.H.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Fe.H.useMemo(e,t)};ve.useOptimistic=function(e,t){return Fe.H.useOptimistic(e,t)};ve.useReducer=function(e,t,n){return Fe.H.useReducer(e,t,n)};ve.useRef=function(e){return Fe.H.useRef(e)};ve.useState=function(e){return Fe.H.useState(e)};ve.useSyncExternalStore=function(e,t,n){return Fe.H.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return Fe.H.useTransition()};ve.version="19.1.0";Lw.exports=ve;var m=Lw.exports;const O=Qg(m),Zw=Wj({__proto__:null,default:O},[m]);var Vw={exports:{}},Rd={},Yw={exports:{}},Gw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var z=T.length;T.push(P);e:for(;0<z;){var M=z-1>>>1,L=T[M];if(0<a(L,P))T[M]=P,T[z]=L,z=M;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var P=T[0],z=T.pop();if(z!==P){T[0]=z;e:for(var M=0,L=T.length,B=L>>>1;M<B;){var F=2*(M+1)-1,Y=T[F],V=F+1,W=T[V];if(0>a(Y,z))V<L&&0>a(W,Y)?(T[M]=W,T[V]=z,M=V):(T[M]=Y,T[F]=z,M=F);else if(V<L&&0>a(W,z))T[M]=W,T[V]=z,M=V;else break e}}return P}function a(T,P){var z=T.sortIndex-P.sortIndex;return z!==0?z:T.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],u=[],d=1,f=null,h=3,g=!1,v=!1,x=!1,b=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function S(T){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=T)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function N(T){if(x=!1,S(T),!v)if(n(c)!==null)v=!0,C||(C=!0,I());else{var P=n(u);P!==null&&$(N,P.startTime-T)}}var C=!1,E=-1,_=5,j=-1;function A(){return b?!0:!(e.unstable_now()-j<_)}function D(){if(b=!1,C){var T=e.unstable_now();j=T;var P=!0;try{e:{v=!1,x&&(x=!1,y(E),E=-1),g=!0;var z=h;try{t:{for(S(T),f=n(c);f!==null&&!(f.expirationTime>T&&A());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var L=M(f.expirationTime<=T);if(T=e.unstable_now(),typeof L=="function"){f.callback=L,S(T),P=!0;break t}f===n(c)&&r(c),S(T)}else r(c);f=n(c)}if(f!==null)P=!0;else{var B=n(u);B!==null&&$(N,B.startTime-T),P=!1}}break e}finally{f=null,h=z,g=!1}P=void 0}}finally{P?I():C=!1}}}var I;if(typeof w=="function")I=function(){w(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,k=R.port2;R.port1.onmessage=D,I=function(){k.postMessage(null)}}else I=function(){p(D,0)};function $(T,P){E=p(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var z=h;h=P;try{return T()}finally{h=z}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return P()}finally{h=z}},e.unstable_scheduleCallback=function(T,P,z){var M=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?M+z:M):z=M,T){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=z+L,T={id:d++,callback:P,priorityLevel:T,startTime:z,expirationTime:L,sortIndex:-1},z>M?(T.sortIndex=z,t(u,T),n(c)===null&&T===n(u)&&(x?(y(E),E=-1):x=!0,$(N,z-M))):(T.sortIndex=L,t(c,T),v||g||(v=!0,C||(C=!0,I()))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var P=h;return function(){var z=h;h=P;try{return T.apply(this,arguments)}finally{h=z}}}})(Gw);Yw.exports=Gw;var gT=Yw.exports,qw={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT=m;function Xw(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ma(){}var $t={d:{f:ma,r:function(){throw Error(Xw(522))},D:ma,C:ma,L:ma,m:ma,X:ma,S:ma,M:ma},p:0,findDOMNode:null},yT=Symbol.for("react.portal");function vT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yT,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var Bi=pT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Md(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$t;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Xw(299));return vT(e,t,null,n)};Pt.flushSync=function(e){var t=Bi.T,n=$t.p;try{if(Bi.T=null,$t.p=2,e)return e()}finally{Bi.T=t,$t.p=n,$t.d.f()}};Pt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,$t.d.C(e,t))};Pt.prefetchDNS=function(e){typeof e=="string"&&$t.d.D(e)};Pt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=Md(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?$t.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):n==="script"&&$t.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Pt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Md(t.as,t.crossOrigin);$t.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&$t.d.M(e)};Pt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=Md(n,t.crossOrigin);$t.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Pt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Md(t.as,t.crossOrigin);$t.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else $t.d.m(e)};Pt.requestFormReset=function(e){$t.d.r(e)};Pt.unstable_batchedUpdates=function(e,t){return e(t)};Pt.useFormState=function(e,t,n){return Bi.H.useFormState(e,t,n)};Pt.useFormStatus=function(){return Bi.H.useHostTransitionStatus()};Pt.version="19.1.0";function Kw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kw)}catch(e){console.error(e)}}Kw(),qw.exports=Pt;var Dd=qw.exports;const xT=Qg(Dd);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt=gT,Ww=m,bT=Dd;function Z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iy(e){if($l(e)!==e)throw Error(Z(188))}function wT(e){var t=e.alternate;if(!t){if(t=$l(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Iy(a),e;if(s===r)return Iy(a),t;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,i=a.child;i;){if(i===n){o=!0,n=a,r=s;break}if(i===r){o=!0,r=a,n=s;break}i=i.sibling}if(!o){for(i=s.child;i;){if(i===n){o=!0,n=s,r=a;break}if(i===r){o=!0,r=s,n=a;break}i=i.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function e1(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=e1(e),t!==null)return t;e=e.sibling}return null}var Ie=Object.assign,ST=Symbol.for("react.element"),xc=Symbol.for("react.transitional.element"),Ri=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),NT=Symbol.for("react.provider"),n1=Symbol.for("react.consumer"),Dr=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),im=Symbol.for("react.suspense_list"),sp=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),lm=Symbol.for("react.activity"),ET=Symbol.for("react.memo_cache_sentinel"),Hy=Symbol.iterator;function hi(e){return e===null||typeof e!="object"?null:(e=Hy&&e[Hy]||e["@@iterator"],typeof e=="function"?e:null)}var _T=Symbol.for("react.client.reference");function cm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_T?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case no:return"Fragment";case sm:return"Profiler";case t1:return"StrictMode";case om:return"Suspense";case im:return"SuspenseList";case lm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ri:return"Portal";case Dr:return(e.displayName||"Context")+".Provider";case n1:return(e._context.displayName||"Context")+".Consumer";case ap:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sp:return t=e.displayName||null,t!==null?t:cm(e.type)||"Memo";case ba:t=e._payload,e=e._init;try{return cm(e(t))}catch{}}return null}var Mi=Array.isArray,fe=Ww.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je=bT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,us={pending:!1,data:null,method:null,action:null},um=[],ro=-1;function hr(e){return{current:e}}function bt(e){0>ro||(e.current=um[ro],um[ro]=null,ro--)}function Ue(e,t){ro++,um[ro]=e.current,e.current=t}var or=hr(null),nl=hr(null),za=hr(null),Cu=hr(null);function ku(e,t){switch(Ue(za,t),Ue(nl,e),Ue(or,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Yv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Yv(t),e=xN(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}bt(or),Ue(or,e)}function Mo(){bt(or),bt(nl),bt(za)}function dm(e){e.memoizedState!==null&&Ue(Cu,e);var t=or.current,n=xN(t,e.type);t!==n&&(Ue(nl,e),Ue(or,n))}function ju(e){nl.current===e&&(bt(or),bt(nl)),Cu.current===e&&(bt(Cu),fl._currentValue=us)}var fm=Object.prototype.hasOwnProperty,op=mt.unstable_scheduleCallback,Hf=mt.unstable_cancelCallback,AT=mt.unstable_shouldYield,CT=mt.unstable_requestPaint,ir=mt.unstable_now,kT=mt.unstable_getCurrentPriorityLevel,r1=mt.unstable_ImmediatePriority,a1=mt.unstable_UserBlockingPriority,Tu=mt.unstable_NormalPriority,jT=mt.unstable_LowPriority,s1=mt.unstable_IdlePriority,TT=mt.log,RT=mt.unstable_setDisableYieldValue,Ll=null,cn=null;function ja(e){if(typeof TT=="function"&&RT(e),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Ll,e)}catch{}}var un=Math.clz32?Math.clz32:zT,MT=Math.log,DT=Math.LN2;function zT(e){return e>>>=0,e===0?32:31-(MT(e)/DT|0)|0}var bc=256,wc=4194304;function ns(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zd(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var i=r&134217727;return i!==0?(r=i&~s,r!==0?a=ns(r):(o&=i,o!==0?a=ns(o):n||(n=i&~e,n!==0&&(a=ns(n))))):(i=r&~s,i!==0?a=ns(i):o!==0?a=ns(o):n||(n=r&~e,n!==0&&(a=ns(n)))),a===0?0:t!==0&&t!==a&&!(t&s)&&(s=a&-a,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:a}function Pl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function OT(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o1(){var e=bc;return bc<<=1,!(bc&4194048)&&(bc=256),e}function i1(){var e=wc;return wc<<=1,!(wc&62914560)&&(wc=4194304),e}function Ff(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $T(e,t,n,r,a,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var d=31-un(n),f=1<<d;i[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var g=h[d];g!==null&&(g.lane&=-536870913)}n&=~f}r!==0&&l1(e,r,0),s!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=s&~(o&~t))}function l1(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-un(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function c1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function ip(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function lp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function u1(){var e=je.p;return e!==0?e:(e=window.event,e===void 0?32:jN(e.type))}function LT(e,t){var n=je.p;try{return je.p=e,t()}finally{je.p=n}}var Xa=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Xa,qt="__reactProps$"+Xa,Jo="__reactContainer$"+Xa,hm="__reactEvents$"+Xa,PT="__reactListeners$"+Xa,BT="__reactHandles$"+Xa,Fy="__reactResources$"+Xa,Il="__reactMarker$"+Xa;function cp(e){delete e[Tt],delete e[qt],delete e[hm],delete e[PT],delete e[BT]}function ao(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jo]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xv(e);e!==null;){if(n=e[Tt])return n;e=Xv(e)}return t}e=n,n=e.parentNode}return null}function ei(e){if(e=e[Tt]||e[Jo]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Di(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Z(33))}function yo(e){var t=e[Fy];return t||(t=e[Fy]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function yt(e){e[Il]=!0}var d1=new Set,f1={};function js(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(f1[e]=t,e=0;e<t.length;e++)d1.add(t[e])}var IT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uy={},Zy={};function HT(e){return fm.call(Zy,e)?!0:fm.call(Uy,e)?!1:IT.test(e)?Zy[e]=!0:(Uy[e]=!0,!1)}function su(e,t,n){if(HT(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Sc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ar(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Uf,Vy;function Ws(e){if(Uf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uf=t&&t[1]||"",Vy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uf+e+Vy}var Zf=!1;function Vf(e,t){if(!e||Zf)return"";Zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var h=g}Reflect.construct(e,[],f)}else{try{f.call()}catch(g){h=g}e.call(f.prototype)}}else{try{throw Error()}catch(g){h=g}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],i=s[1];if(o&&i){var c=o.split(`
`),u=i.split(`
`);for(a=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===c.length||a===u.length)for(r=c.length-1,a=u.length-1;1<=r&&0<=a&&c[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(c[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||c[r]!==u[a]){var d=`
`+c[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=r&&0<=a);break}}}finally{Zf=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ws(n):""}function FT(e){switch(e.tag){case 26:case 27:case 5:return Ws(e.type);case 16:return Ws("Lazy");case 13:return Ws("Suspense");case 19:return Ws("SuspenseList");case 0:case 15:return Vf(e.type,!1);case 11:return Vf(e.type.render,!1);case 1:return Vf(e.type,!0);case 31:return Ws("Activity");default:return""}}function Yy(e){try{var t="";do t+=FT(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UT(e){var t=h1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ru(e){e._valueTracker||(e._valueTracker=UT(e))}function m1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=h1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ZT=/[\n"\\]/g;function _n(e){return e.replace(ZT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mm(e,t,n,r,a,s,o,i){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?gm(e,o,Sn(t)):n!=null?gm(e,o,Sn(n)):r!=null&&e.removeAttribute("value"),a==null&&s!=null&&(e.defaultChecked=!!s),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.name=""+Sn(i):e.removeAttribute("name")}function g1(e,t,n,r,a,s,o,i){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function gm(e,t,n){t==="number"&&Mu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vo(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function p1(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function y1(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(Z(92));if(Mi(r)){if(1<r.length)throw Error(Z(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function zo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var VT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gy(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||VT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function v1(e,t,n){if(t!=null&&typeof t!="object")throw Error(Z(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Gy(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&Gy(e,s,t[s])}function up(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),GT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ou(e){return GT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pm=null;function dp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var so=null,xo=null;function qy(e){var t=ei(e);if(t&&(e=t.stateNode)){var n=e[qt]||null;e:switch(e=t.stateNode,t.type){case"input":if(mm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[qt]||null;if(!a)throw Error(Z(90));mm(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&m1(r)}break e;case"textarea":p1(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&vo(e,!!n.multiple,t,!1)}}}var Yf=!1;function x1(e,t,n){if(Yf)return e(t,n);Yf=!0;try{var r=e(t);return r}finally{if(Yf=!1,(so!==null||xo!==null)&&(Zd(),so&&(t=so,e=xo,xo=so=null,qy(t),e)))for(t=0;t<e.length;t++)qy(e[t])}}function rl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[qt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=!1;if(Gr)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){ym=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{ym=!1}var Ta=null,fp=null,iu=null;function b1(){if(iu)return iu;var e,t=fp,n=t.length,r,a="value"in Ta?Ta.value:Ta.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[s-r];r++);return iu=a.slice(e,1<r?1-r:void 0)}function lu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nc(){return!0}function Xy(){return!1}function Kt(e){function t(n,r,a,s,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nc:Xy,this.isPropagationStopped=Xy,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nc)},persist:function(){},isPersistent:Nc}),t}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Od=Kt(Ts),Hl=Ie({},Ts,{view:0,detail:0}),qT=Kt(Hl),Gf,qf,gi,$d=Ie({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(Gf=e.screenX-gi.screenX,qf=e.screenY-gi.screenY):qf=Gf=0,gi=e),Gf)},movementY:function(e){return"movementY"in e?e.movementY:qf}}),Ky=Kt($d),XT=Ie({},$d,{dataTransfer:0}),KT=Kt(XT),WT=Ie({},Hl,{relatedTarget:0}),Xf=Kt(WT),QT=Ie({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),JT=Kt(QT),eR=Ie({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tR=Kt(eR),nR=Ie({},Ts,{data:0}),Wy=Kt(nR),rR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sR[e])?!!t[e]:!1}function hp(){return oR}var iR=Ie({},Hl,{key:function(e){if(e.key){var t=rR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hp,charCode:function(e){return e.type==="keypress"?lu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lR=Kt(iR),cR=Ie({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qy=Kt(cR),uR=Ie({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hp}),dR=Kt(uR),fR=Ie({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),hR=Kt(fR),mR=Ie({},$d,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gR=Kt(mR),pR=Ie({},Ts,{newState:0,oldState:0}),yR=Kt(pR),vR=[9,13,27,32],mp=Gr&&"CompositionEvent"in window,Ii=null;Gr&&"documentMode"in document&&(Ii=document.documentMode);var xR=Gr&&"TextEvent"in window&&!Ii,w1=Gr&&(!mp||Ii&&8<Ii&&11>=Ii),Jy=" ",ev=!1;function S1(e,t){switch(e){case"keyup":return vR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oo=!1;function bR(e,t){switch(e){case"compositionend":return N1(t);case"keypress":return t.which!==32?null:(ev=!0,Jy);case"textInput":return e=t.data,e===Jy&&ev?null:e;default:return null}}function wR(e,t){if(oo)return e==="compositionend"||!mp&&S1(e,t)?(e=b1(),iu=fp=Ta=null,oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w1&&t.locale!=="ko"?null:t.data;default:return null}}var SR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SR[e.type]:t==="textarea"}function E1(e,t,n,r){so?xo?xo.push(r):xo=[r]:so=r,t=Ku(t,"onChange"),0<t.length&&(n=new Od("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hi=null,al=null;function NR(e){pN(e,0)}function Ld(e){var t=Di(e);if(m1(t))return e}function nv(e,t){if(e==="change")return t}var _1=!1;if(Gr){var Kf;if(Gr){var Wf="oninput"in document;if(!Wf){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),Wf=typeof rv.oninput=="function"}Kf=Wf}else Kf=!1;_1=Kf&&(!document.documentMode||9<document.documentMode)}function av(){Hi&&(Hi.detachEvent("onpropertychange",A1),al=Hi=null)}function A1(e){if(e.propertyName==="value"&&Ld(al)){var t=[];E1(t,al,e,dp(e)),x1(NR,t)}}function ER(e,t,n){e==="focusin"?(av(),Hi=t,al=n,Hi.attachEvent("onpropertychange",A1)):e==="focusout"&&av()}function _R(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ld(al)}function AR(e,t){if(e==="click")return Ld(t)}function CR(e,t){if(e==="input"||e==="change")return Ld(t)}function kR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:kR;function sl(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!fm.call(t,a)||!gn(e[a],t[a]))return!1}return!0}function sv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ov(e,t){var n=sv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sv(n)}}function C1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k1(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Mu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mu(e.document)}return t}function gp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var jR=Gr&&"documentMode"in document&&11>=document.documentMode,io=null,vm=null,Fi=null,xm=!1;function iv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xm||io==null||io!==Mu(r)||(r=io,"selectionStart"in r&&gp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fi&&sl(Fi,r)||(Fi=r,r=Ku(vm,"onSelect"),0<r.length&&(t=new Od("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=io)))}function Ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lo={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Qf={},j1={};Gr&&(j1=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Rs(e){if(Qf[e])return Qf[e];if(!lo[e])return e;var t=lo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in j1)return Qf[e]=t[n];return e}var T1=Rs("animationend"),R1=Rs("animationiteration"),M1=Rs("animationstart"),TR=Rs("transitionrun"),RR=Rs("transitionstart"),MR=Rs("transitioncancel"),D1=Rs("transitionend"),z1=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function Zn(e,t){z1.set(e,t),js(t,[e])}var lv=new WeakMap;function An(e,t){if(typeof e=="object"&&e!==null){var n=lv.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yy(t)},lv.set(e,t),t)}return{value:e,source:t,stack:Yy(t)}}var wn=[],co=0,pp=0;function Pd(){for(var e=co,t=pp=co=0;t<e;){var n=wn[t];wn[t++]=null;var r=wn[t];wn[t++]=null;var a=wn[t];wn[t++]=null;var s=wn[t];if(wn[t++]=null,r!==null&&a!==null){var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}s!==0&&O1(n,a,s)}}function Bd(e,t,n,r){wn[co++]=e,wn[co++]=t,wn[co++]=n,wn[co++]=r,pp|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function yp(e,t,n,r){return Bd(e,t,n,r),Du(e)}function ti(e,t){return Bd(e,null,null,t),Du(e)}function O1(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,s=e.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(a=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,a&&t!==null&&(a=31-un(n),e=s.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),s):null}function Du(e){if(50<Qi)throw Qi=0,Hm=null,Error(Z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var uo={};function DR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,r){return new DR(e,t,n,r)}function vp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hr(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $1(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cu(e,t,n,r,a,s){var o=0;if(r=e,typeof e=="function")vp(e)&&(o=1);else if(typeof e=="string")o=OM(e,n,or.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case lm:return e=ln(31,n,t,a),e.elementType=lm,e.lanes=s,e;case no:return ds(n.children,a,s,t);case t1:o=8,a|=24;break;case sm:return e=ln(12,n,t,a|2),e.elementType=sm,e.lanes=s,e;case om:return e=ln(13,n,t,a),e.elementType=om,e.lanes=s,e;case im:return e=ln(19,n,t,a),e.elementType=im,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NT:case Dr:o=10;break e;case n1:o=9;break e;case ap:o=11;break e;case sp:o=14;break e;case ba:o=16,r=null;break e}o=29,n=Error(Z(130,e===null?"null":typeof e,"")),r=null}return t=ln(o,n,t,a),t.elementType=e,t.type=r,t.lanes=s,t}function ds(e,t,n,r){return e=ln(7,e,r,t),e.lanes=n,e}function Jf(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function eh(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fo=[],ho=0,zu=null,Ou=0,Nn=[],En=0,fs=null,zr=1,Or="";function rs(e,t){fo[ho++]=Ou,fo[ho++]=zu,zu=e,Ou=t}function L1(e,t,n){Nn[En++]=zr,Nn[En++]=Or,Nn[En++]=fs,fs=e;var r=zr;e=Or;var a=32-un(r)-1;r&=~(1<<a),n+=1;var s=32-un(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,zr=1<<32-un(t)+a|n<<a|r,Or=s+e}else zr=1<<s|n<<a|r,Or=e}function xp(e){e.return!==null&&(rs(e,1),L1(e,1,0))}function bp(e){for(;e===zu;)zu=fo[--ho],fo[ho]=null,Ou=fo[--ho],fo[ho]=null;for(;e===fs;)fs=Nn[--En],Nn[En]=null,Or=Nn[--En],Nn[En]=null,zr=Nn[--En],Nn[En]=null}var Ot=null,Qe=null,ke=!1,hs=null,er=!1,wm=Error(Z(519));function vs(e){var t=Error(Z(418,""));throw ol(An(t,e)),wm}function cv(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Tt]=e,t[qt]=r,n){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(n=0;n<cl.length;n++)Se(cl[n],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),g1(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ru(t);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),y1(t,r.value,r.defaultValue,r.children),Ru(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||vN(t.textContent,n)?(r.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),r.onScroll!=null&&Se("scroll",t),r.onScrollEnd!=null&&Se("scrollend",t),r.onClick!=null&&(t.onclick=Gd),t=!0):t=!1,t||vs(e)}function uv(e){for(Ot=e.return;Ot;)switch(Ot.tag){case 5:case 13:er=!1;return;case 27:case 3:er=!0;return;default:Ot=Ot.return}}function pi(e){if(e!==Ot)return!1;if(!ke)return uv(e),ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gm(e.type,e.memoizedProps)),n=!n),n&&Qe&&vs(e),uv(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Qe=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Qe=null}}else t===27?(t=Qe,Ka(e.type)?(e=Km,Km=null,Qe=e):Qe=t):Qe=Ot?Bn(e.stateNode.nextSibling):null;return!0}function Fl(){Qe=Ot=null,ke=!1}function dv(){var e=hs;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),hs=null),e}function ol(e){hs===null?hs=[e]:hs.push(e)}var Sm=hr(null),Ms=null,$r=null;function Ea(e,t,n){Ue(Sm,t._currentValue),t._currentValue=n}function Fr(e){e._currentValue=Sm.current,bt(Sm)}function Nm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Em(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){var o=a.child;s=s.firstContext;e:for(;s!==null;){var i=s;s=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Nm(s.return,n,e),r||(o=null);break e}s=i.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(Z(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Nm(o,n,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function Ul(e,t,n,r){e=null;for(var a=t,s=!1;a!==null;){if(!s){if(a.flags&524288)s=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(Z(387));if(o=o.memoizedProps,o!==null){var i=a.type;gn(a.pendingProps.value,o.value)||(e!==null?e.push(i):e=[i])}}else if(a===Cu.current){if(o=a.alternate,o===null)throw Error(Z(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}a=a.return}e!==null&&Em(t,e,n,r),t.flags|=262144}function $u(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){Ms=e,$r=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return P1(Ms,e)}function Ec(e,t){return Ms===null&&xs(e),P1(e,t)}function P1(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},$r===null){if(e===null)throw Error(Z(308));$r=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else $r=$r.next=t;return n}var zR=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},OR=mt.unstable_scheduleCallback,$R=mt.unstable_NormalPriority,ut={$$typeof:Dr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wp(){return{controller:new zR,data:new Map,refCount:0}}function Zl(e){e.refCount--,e.refCount===0&&OR($R,function(){e.controller.abort()})}var Ui=null,_m=0,Oo=0,bo=null;function LR(e,t){if(Ui===null){var n=Ui=[];_m=0,Oo=Zp(),bo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return _m++,t.then(fv,fv),t}function fv(){if(--_m===0&&Ui!==null){bo!==null&&(bo.status="fulfilled");var e=Ui;Ui=null,Oo=0,bo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function PR(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var hv=fe.S;fe.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&LR(e,t),hv!==null&&hv(e,t)};var ms=hr(null);function Sp(){var e=ms.current;return e!==null?e:Pe.pooledCache}function uu(e,t){t===null?Ue(ms,ms.current):Ue(ms,t.pool)}function B1(){var e=Sp();return e===null?null:{parent:ut._currentValue,pool:e}}var Vl=Error(Z(460)),I1=Error(Z(474)),Id=Error(Z(542)),Am={then:function(){}};function mv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _c(){}function H1(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(_c,_c),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pv(e),e;default:if(typeof t.status=="string")t.then(_c,_c);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(Z(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pv(e),e}throw Zi=t,Vl}}var Zi=null;function gv(){if(Zi===null)throw Error(Z(459));var e=Zi;return Zi=null,e}function pv(e){if(e===Vl||e===Id)throw Error(Z(483))}var wa=!1;function Np(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $a(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Du(e),O1(e,null,n),t}return Bd(e,r,t,n),Du(e)}function Vi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,c1(e,n)}}function th(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?a=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var km=!1;function Yi(){if(km){var e=bo;if(e!==null)throw e}}function Gi(e,t,n,r){km=!1;var a=e.updateQueue;wa=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==o&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,i=s;do{var h=i.lane&-536870913,g=h!==i.lane;if(g?(Ae&h)===h:(r&h)===h){h!==0&&h===Oo&&(km=!0),d!==null&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var v=e,x=i;h=t;var b=n;switch(x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(b,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(b,f,h):v,h==null)break e;f=Ie({},f,h);break e;case 2:wa=!0}}h=i.callback,h!==null&&(e.flags|=64,g&&(e.flags|=8192),g=a.callbacks,g===null?a.callbacks=[h]:g.push(h))}else g={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=h;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;g=i,i=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,s===null&&(a.shared.lanes=0),Ya|=o,e.lanes=o,e.memoizedState=f}}function F1(e,t){if(typeof e!="function")throw Error(Z(191,e));e.call(t)}function U1(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)F1(n[e],t)}var $o=hr(null),Lu=hr(0);function yv(e,t){e=Kr,Ue(Lu,e),Ue($o,t),Kr=e|t.baseLanes}function jm(){Ue(Lu,Kr),Ue($o,$o.current)}function Ep(){Kr=Lu.current,bt($o),bt(Lu)}var Za=0,be=null,$e=null,st=null,Pu=!1,wo=!1,bs=!1,Bu=0,il=0,So=null,BR=0;function nt(){throw Error(Z(321))}function _p(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function Ap(e,t,n,r,a,s){return Za=s,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fe.H=e===null||e.memoizedState===null?bS:wS,bs=!1,s=n(r,a),bs=!1,wo&&(s=V1(t,n,r,a)),Z1(e),s}function Z1(e){fe.H=Iu;var t=$e!==null&&$e.next!==null;if(Za=0,st=$e=be=null,Pu=!1,il=0,So=null,t)throw Error(Z(300));e===null||vt||(e=e.dependencies,e!==null&&$u(e)&&(vt=!0))}function V1(e,t,n,r){be=e;var a=0;do{if(wo&&(So=null),il=0,wo=!1,25<=a)throw Error(Z(301));if(a+=1,st=$e=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}fe.H=YR,s=t(n,r)}while(wo);return s}function IR(){var e=fe.H,t=e.useState()[0];return t=typeof t.then=="function"?Yl(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(be.flags|=1024),t}function Cp(){var e=Bu!==0;return Bu=0,e}function kp(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function jp(e){if(Pu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pu=!1}Za=0,st=$e=be=null,wo=!1,il=Bu=0,So=null}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?be.memoizedState=st=e:st=st.next=e,st}function ot(){if($e===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=st===null?be.memoizedState:st.next;if(t!==null)st=t,$e=e;else{if(e===null)throw be.alternate===null?Error(Z(467)):Error(Z(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},st===null?be.memoizedState=st=e:st=st.next=e}return st}function Tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(e){var t=il;return il+=1,So===null&&(So=[]),e=H1(So,e,t),t=be,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,fe.H=t===null||t.memoizedState===null?bS:wS),e}function Hd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yl(e);if(e.$$typeof===Dr)return Rt(e)}throw Error(Z(438,String(e)))}function Rp(e){var t=null,n=be.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=be.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Tp(),be.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ET;return t.index++,n}function qr(e,t){return typeof t=="function"?t(e):t}function du(e){var t=ot();return Mp(t,$e,e)}function Mp(e,t,n){var r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,a===null)e.memoizedState=s;else{t=a.next;var i=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ae&f)===f:(Za&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Oo&&(d=!0);else if((Za&h)===h){u=u.next,h===Oo&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=f,o=s):c=c.next=f,be.lanes|=h,Ya|=h;f=u.action,bs&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=h,o=s):c=c.next=h,be.lanes|=f,Ya|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=s:c.next=i,!gn(s,e.memoizedState)&&(vt=!0,d&&(n=bo,n!==null)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function nh(e){var t=ot(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);gn(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Y1(e,t,n){var r=be,a=ot(),s=ke;if(s){if(n===void 0)throw Error(Z(407));n=n()}else n=t();var o=!gn(($e||a).memoizedState,n);o&&(a.memoizedState=n,vt=!0),a=a.queue;var i=X1.bind(null,r,a,e);if(Gl(2048,8,i,[e]),a.getSnapshot!==t||o||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,Lo(9,Fd(),q1.bind(null,r,a,n,t),null),Pe===null)throw Error(Z(349));s||Za&124||G1(r,t,n)}return n}function G1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t=Tp(),be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function q1(e,t,n,r){t.value=n,t.getSnapshot=r,K1(t)&&W1(e)}function X1(e,t,n){return n(function(){K1(t)&&W1(e)})}function K1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function W1(e){var t=ti(e,2);t!==null&&fn(t,e,2)}function Tm(e){var t=Zt();if(typeof e=="function"){var n=e;if(e=n(),bs){ja(!0);try{n()}finally{ja(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:e},t}function Q1(e,t,n,r){return e.baseState=n,Mp(e,$e,typeof r=="function"?r:qr)}function HR(e,t,n,r,a){if(Ud(e))throw Error(Z(485));if(e=t.action,e!==null){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};fe.T!==null?n(!0):s.isTransition=!1,r(s),n=t.pending,n===null?(s.next=t.pending=s,J1(t,s)):(s.next=n.next,t.pending=n.next=s)}}function J1(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=fe.T,o={};fe.T=o;try{var i=n(a,r),c=fe.S;c!==null&&c(o,i),vv(e,t,i)}catch(u){Rm(e,t,u)}finally{fe.T=s}}else try{s=n(a,r),vv(e,t,s)}catch(u){Rm(e,t,u)}}function vv(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){xv(e,t,r)},function(r){return Rm(e,t,r)}):xv(e,t,n)}function xv(e,t,n){t.status="fulfilled",t.value=n,eS(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,J1(e,n)))}function Rm(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,eS(t),t=t.next;while(t!==r)}e.action=null}function eS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function tS(e,t){return t}function bv(e,t){if(ke){var n=Pe.formState;if(n!==null){e:{var r=be;if(ke){if(Qe){t:{for(var a=Qe,s=er;a.nodeType!==8;){if(!s){a=null;break t}if(a=Bn(a.nextSibling),a===null){a=null;break t}}s=a.data,a=s==="F!"||s==="F"?a:null}if(a){Qe=Bn(a.nextSibling),r=a.data==="F!";break e}}vs(r)}r=!1}r&&(t=n[0])}}return n=Zt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tS,lastRenderedState:t},n.queue=r,n=yS.bind(null,be,r),r.dispatch=n,r=Tm(!1),s=$p.bind(null,be,!1,r.queue),r=Zt(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=HR.bind(null,be,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function wv(e){var t=ot();return nS(t,$e,e)}function nS(e,t,n){if(t=Mp(e,t,tS)[0],e=du(qr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Yl(t)}catch(o){throw o===Vl?Id:o}else r=t;t=ot();var a=t.queue,s=a.dispatch;return n!==t.memoizedState&&(be.flags|=2048,Lo(9,Fd(),FR.bind(null,a,n),null)),[r,s,e]}function FR(e,t){e.action=t}function Sv(e){var t=ot(),n=$e;if(n!==null)return nS(t,n,e);ot(),t=t.memoizedState,n=ot();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Lo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=be.updateQueue,t===null&&(t=Tp(),be.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fd(){return{destroy:void 0,resource:void 0}}function rS(){return ot().memoizedState}function fu(e,t,n,r){var a=Zt();r=r===void 0?null:r,be.flags|=e,a.memoizedState=Lo(1|t,Fd(),n,r)}function Gl(e,t,n,r){var a=ot();r=r===void 0?null:r;var s=a.memoizedState.inst;$e!==null&&r!==null&&_p(r,$e.memoizedState.deps)?a.memoizedState=Lo(t,s,n,r):(be.flags|=e,a.memoizedState=Lo(1|t,s,n,r))}function Nv(e,t){fu(8390656,8,e,t)}function aS(e,t){Gl(2048,8,e,t)}function sS(e,t){return Gl(4,2,e,t)}function oS(e,t){return Gl(4,4,e,t)}function iS(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lS(e,t,n){n=n!=null?n.concat([e]):null,Gl(4,4,iS.bind(null,t,e),n)}function Dp(){}function cS(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&_p(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uS(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&_p(t,r[1]))return r[0];if(r=e(),bs){ja(!0);try{e()}finally{ja(!1)}}return n.memoizedState=[r,t],r}function zp(e,t,n){return n===void 0||Za&1073741824?e.memoizedState=t:(e.memoizedState=n,e=eN(),be.lanes|=e,Ya|=e,n)}function dS(e,t,n,r){return gn(n,t)?n:$o.current!==null?(e=zp(e,n,r),gn(e,t)||(vt=!0),e):Za&42?(e=eN(),be.lanes|=e,Ya|=e,t):(vt=!0,e.memoizedState=n)}function fS(e,t,n,r,a){var s=je.p;je.p=s!==0&&8>s?s:8;var o=fe.T,i={};fe.T=i,$p(e,!1,t,n);try{var c=a(),u=fe.S;if(u!==null&&u(i,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=PR(c,r);qi(e,t,d,dn(e))}else qi(e,t,r,dn(e))}catch(f){qi(e,t,{then:function(){},status:"rejected",reason:f},dn())}finally{je.p=s,fe.T=o}}function UR(){}function Mm(e,t,n,r){if(e.tag!==5)throw Error(Z(476));var a=hS(e).queue;fS(e,a,t,us,n===null?UR:function(){return mS(e),n(r)})}function hS(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:us,baseState:us,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:us},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mS(e){var t=hS(e).next.queue;qi(e,t,{},dn())}function Op(){return Rt(fl)}function gS(){return ot().memoizedState}function pS(){return ot().memoizedState}function ZR(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dn();e=Oa(n);var r=$a(t,e,n);r!==null&&(fn(r,t,n),Vi(r,t,n)),t={cache:wp()},e.payload=t;return}t=t.return}}function VR(e,t,n){var r=dn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ud(e)?vS(t,n):(n=yp(e,t,n,r),n!==null&&(fn(n,e,r),xS(n,t,r)))}function yS(e,t,n){var r=dn();qi(e,t,n,r)}function qi(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ud(e))vS(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,i=s(o,n);if(a.hasEagerState=!0,a.eagerState=i,gn(i,o))return Bd(e,t,a,0),Pe===null&&Pd(),!1}catch{}finally{}if(n=yp(e,t,a,r),n!==null)return fn(n,e,r),xS(n,t,r),!0}return!1}function $p(e,t,n,r){if(r={lane:2,revertLane:Zp(),action:r,hasEagerState:!1,eagerState:null,next:null},Ud(e)){if(t)throw Error(Z(479))}else t=yp(e,n,r,2),t!==null&&fn(t,e,2)}function Ud(e){var t=e.alternate;return e===be||t!==null&&t===be}function vS(e,t){wo=Pu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xS(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,c1(e,n)}}var Iu={readContext:Rt,use:Hd,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt},bS={readContext:Rt,use:Hd,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Nv,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,fu(4194308,4,iS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fu(4194308,4,e,t)},useInsertionEffect:function(e,t){fu(4,2,e,t)},useMemo:function(e,t){var n=Zt();t=t===void 0?null:t;var r=e();if(bs){ja(!0);try{e()}finally{ja(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Zt();if(n!==void 0){var a=n(t);if(bs){ja(!0);try{n(t)}finally{ja(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=VR.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Tm(e);var t=e.queue,n=yS.bind(null,be,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Dp,useDeferredValue:function(e,t){var n=Zt();return zp(n,e,t)},useTransition:function(){var e=Tm(!1);return e=fS.bind(null,be,e.queue,!0,!1),Zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=be,a=Zt();if(ke){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),Pe===null)throw Error(Z(349));Ae&124||G1(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Nv(X1.bind(null,r,s,e),[e]),r.flags|=2048,Lo(9,Fd(),q1.bind(null,r,s,n,t),null),n},useId:function(){var e=Zt(),t=Pe.identifierPrefix;if(ke){var n=Or,r=zr;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t=""+t+"R"+n,n=Bu++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=BR++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Op,useFormState:bv,useActionState:bv,useOptimistic:function(e){var t=Zt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$p.bind(null,be,!0,n),n.dispatch=t,[e,t]},useMemoCache:Rp,useCacheRefresh:function(){return Zt().memoizedState=ZR.bind(null,be)}},wS={readContext:Rt,use:Hd,useCallback:cS,useContext:Rt,useEffect:aS,useImperativeHandle:lS,useInsertionEffect:sS,useLayoutEffect:oS,useMemo:uS,useReducer:du,useRef:rS,useState:function(){return du(qr)},useDebugValue:Dp,useDeferredValue:function(e,t){var n=ot();return dS(n,$e.memoizedState,e,t)},useTransition:function(){var e=du(qr)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Yl(e),t]},useSyncExternalStore:Y1,useId:gS,useHostTransitionStatus:Op,useFormState:wv,useActionState:wv,useOptimistic:function(e,t){var n=ot();return Q1(n,$e,e,t)},useMemoCache:Rp,useCacheRefresh:pS},YR={readContext:Rt,use:Hd,useCallback:cS,useContext:Rt,useEffect:aS,useImperativeHandle:lS,useInsertionEffect:sS,useLayoutEffect:oS,useMemo:uS,useReducer:nh,useRef:rS,useState:function(){return nh(qr)},useDebugValue:Dp,useDeferredValue:function(e,t){var n=ot();return $e===null?zp(n,e,t):dS(n,$e.memoizedState,e,t)},useTransition:function(){var e=nh(qr)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Yl(e),t]},useSyncExternalStore:Y1,useId:gS,useHostTransitionStatus:Op,useFormState:Sv,useActionState:Sv,useOptimistic:function(e,t){var n=ot();return $e!==null?Q1(n,$e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Rp,useCacheRefresh:pS},No=null,ll=0;function Ac(e){var t=ll;return ll+=1,No===null&&(No=[]),H1(No,e,t)}function yi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cc(e,t){throw t.$$typeof===ST?Error(Z(525)):(e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ev(e){var t=e._init;return t(e._payload)}function SS(e){function t(p,y){if(e){var w=p.deletions;w===null?(p.deletions=[y],p.flags|=16):w.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function r(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function a(p,y){return p=Hr(p,y),p.index=0,p.sibling=null,p}function s(p,y,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<y?(p.flags|=67108866,y):w):(p.flags|=67108866,y)):(p.flags|=1048576,y)}function o(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function i(p,y,w,S){return y===null||y.tag!==6?(y=Jf(w,p.mode,S),y.return=p,y):(y=a(y,w),y.return=p,y)}function c(p,y,w,S){var N=w.type;return N===no?d(p,y,w.props.children,S,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ba&&Ev(N)===y.type)?(y=a(y,w.props),yi(y,w),y.return=p,y):(y=cu(w.type,w.key,w.props,null,p.mode,S),yi(y,w),y.return=p,y)}function u(p,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=eh(w,p.mode,S),y.return=p,y):(y=a(y,w.children||[]),y.return=p,y)}function d(p,y,w,S,N){return y===null||y.tag!==7?(y=ds(w,p.mode,S,N),y.return=p,y):(y=a(y,w),y.return=p,y)}function f(p,y,w){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Jf(""+y,p.mode,w),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xc:return w=cu(y.type,y.key,y.props,null,p.mode,w),yi(w,y),w.return=p,w;case Ri:return y=eh(y,p.mode,w),y.return=p,y;case ba:var S=y._init;return y=S(y._payload),f(p,y,w)}if(Mi(y)||hi(y))return y=ds(y,p.mode,w,null),y.return=p,y;if(typeof y.then=="function")return f(p,Ac(y),w);if(y.$$typeof===Dr)return f(p,Ec(p,y),w);Cc(p,y)}return null}function h(p,y,w,S){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return N!==null?null:i(p,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xc:return w.key===N?c(p,y,w,S):null;case Ri:return w.key===N?u(p,y,w,S):null;case ba:return N=w._init,w=N(w._payload),h(p,y,w,S)}if(Mi(w)||hi(w))return N!==null?null:d(p,y,w,S,null);if(typeof w.then=="function")return h(p,y,Ac(w),S);if(w.$$typeof===Dr)return h(p,y,Ec(p,w),S);Cc(p,w)}return null}function g(p,y,w,S,N){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return p=p.get(w)||null,i(y,p,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xc:return p=p.get(S.key===null?w:S.key)||null,c(y,p,S,N);case Ri:return p=p.get(S.key===null?w:S.key)||null,u(y,p,S,N);case ba:var C=S._init;return S=C(S._payload),g(p,y,w,S,N)}if(Mi(S)||hi(S))return p=p.get(w)||null,d(y,p,S,N,null);if(typeof S.then=="function")return g(p,y,w,Ac(S),N);if(S.$$typeof===Dr)return g(p,y,w,Ec(y,S),N);Cc(y,S)}return null}function v(p,y,w,S){for(var N=null,C=null,E=y,_=y=0,j=null;E!==null&&_<w.length;_++){E.index>_?(j=E,E=null):j=E.sibling;var A=h(p,E,w[_],S);if(A===null){E===null&&(E=j);break}e&&E&&A.alternate===null&&t(p,E),y=s(A,y,_),C===null?N=A:C.sibling=A,C=A,E=j}if(_===w.length)return n(p,E),ke&&rs(p,_),N;if(E===null){for(;_<w.length;_++)E=f(p,w[_],S),E!==null&&(y=s(E,y,_),C===null?N=E:C.sibling=E,C=E);return ke&&rs(p,_),N}for(E=r(E);_<w.length;_++)j=g(E,p,_,w[_],S),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?_:j.key),y=s(j,y,_),C===null?N=j:C.sibling=j,C=j);return e&&E.forEach(function(D){return t(p,D)}),ke&&rs(p,_),N}function x(p,y,w,S){if(w==null)throw Error(Z(151));for(var N=null,C=null,E=y,_=y=0,j=null,A=w.next();E!==null&&!A.done;_++,A=w.next()){E.index>_?(j=E,E=null):j=E.sibling;var D=h(p,E,A.value,S);if(D===null){E===null&&(E=j);break}e&&E&&D.alternate===null&&t(p,E),y=s(D,y,_),C===null?N=D:C.sibling=D,C=D,E=j}if(A.done)return n(p,E),ke&&rs(p,_),N;if(E===null){for(;!A.done;_++,A=w.next())A=f(p,A.value,S),A!==null&&(y=s(A,y,_),C===null?N=A:C.sibling=A,C=A);return ke&&rs(p,_),N}for(E=r(E);!A.done;_++,A=w.next())A=g(E,p,_,A.value,S),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?_:A.key),y=s(A,y,_),C===null?N=A:C.sibling=A,C=A);return e&&E.forEach(function(I){return t(p,I)}),ke&&rs(p,_),N}function b(p,y,w,S){if(typeof w=="object"&&w!==null&&w.type===no&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xc:e:{for(var N=w.key;y!==null;){if(y.key===N){if(N=w.type,N===no){if(y.tag===7){n(p,y.sibling),S=a(y,w.props.children),S.return=p,p=S;break e}}else if(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ba&&Ev(N)===y.type){n(p,y.sibling),S=a(y,w.props),yi(S,w),S.return=p,p=S;break e}n(p,y);break}else t(p,y);y=y.sibling}w.type===no?(S=ds(w.props.children,p.mode,S,w.key),S.return=p,p=S):(S=cu(w.type,w.key,w.props,null,p.mode,S),yi(S,w),S.return=p,p=S)}return o(p);case Ri:e:{for(N=w.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(p,y.sibling),S=a(y,w.children||[]),S.return=p,p=S;break e}else{n(p,y);break}else t(p,y);y=y.sibling}S=eh(w,p.mode,S),S.return=p,p=S}return o(p);case ba:return N=w._init,w=N(w._payload),b(p,y,w,S)}if(Mi(w))return v(p,y,w,S);if(hi(w)){if(N=hi(w),typeof N!="function")throw Error(Z(150));return w=N.call(w),x(p,y,w,S)}if(typeof w.then=="function")return b(p,y,Ac(w),S);if(w.$$typeof===Dr)return b(p,y,Ec(p,w),S);Cc(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,y!==null&&y.tag===6?(n(p,y.sibling),S=a(y,w),S.return=p,p=S):(n(p,y),S=Jf(w,p.mode,S),S.return=p,p=S),o(p)):n(p,y)}return function(p,y,w,S){try{ll=0;var N=b(p,y,w,S);return No=null,N}catch(E){if(E===Vl||E===Id)throw E;var C=ln(29,E,null,p.mode);return C.lanes=S,C.return=p,C}finally{}}}var Po=SS(!0),NS=SS(!1),Tn=hr(null),lr=null;function _a(e){var t=e.alternate;Ue(dt,dt.current&1),Ue(Tn,e),lr===null&&(t===null||$o.current!==null||t.memoizedState!==null)&&(lr=e)}function ES(e){if(e.tag===22){if(Ue(dt,dt.current),Ue(Tn,e),lr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(lr=e)}}else Aa()}function Aa(){Ue(dt,dt.current),Ue(Tn,Tn.current)}function Lr(e){bt(Tn),lr===e&&(lr=null),bt(dt)}var dt=hr(0);function Hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Xm(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function rh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dm={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dn(),a=Oa(r);a.payload=t,n!=null&&(a.callback=n),t=$a(e,a,r),t!==null&&(fn(t,e,r),Vi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dn(),a=Oa(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=$a(e,a,r),t!==null&&(fn(t,e,r),Vi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),r=Oa(n);r.tag=2,t!=null&&(r.callback=t),t=$a(e,r,n),t!==null&&(fn(t,e,n),Vi(t,e,n))}};function _v(e,t,n,r,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!sl(n,r)||!sl(a,s):!0}function Av(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dm.enqueueReplaceState(t,t.state,null)}function ws(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ie({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var Fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _S(e){Fu(e)}function AS(e){console.error(e)}function CS(e){Fu(e)}function Uu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Cv(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function zm(e,t,n){return n=Oa(n),n.tag=3,n.payload={element:null},n.callback=function(){Uu(e,t)},n}function kS(e){return e=Oa(e),e.tag=3,e}function jS(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Cv(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Cv(t,n,r),typeof a!="function"&&(La===null?La=new Set([this]):La.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})})}function GR(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Ul(t,n,a,!0),n=Tn.current,n!==null){switch(n.tag){case 13:return lr===null?Fm():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Am?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),mh(e,r,a)),!1;case 22:return n.flags|=65536,r===Am?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),mh(e,r,a)),!1}throw Error(Z(435,n.tag))}return mh(e,r,a),Fm(),!1}if(ke)return t=Tn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==wm&&(e=Error(Z(422),{cause:r}),ol(An(e,n)))):(r!==wm&&(t=Error(Z(423),{cause:r}),ol(An(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=An(r,n),a=zm(e.stateNode,r,a),th(e,a),Je!==4&&(Je=2)),!1;var s=Error(Z(520),{cause:r});if(s=An(s,n),Wi===null?Wi=[s]:Wi.push(s),Je!==4&&(Je=2),t===null)return!0;r=An(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=zm(n.stateNode,r,e),th(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(La===null||!La.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,a=kS(a),jS(a,e,n,r),th(n,a),!1}n=n.return}while(n!==null);return!1}var TS=Error(Z(461)),vt=!1;function Et(e,t,n,r){t.child=e===null?NS(t,null,n,r):Po(t,e.child,n,r)}function kv(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var i in r)i!=="ref"&&(o[i]=r[i])}else o=r;return xs(t),r=Ap(e,t,n,o,s,a),i=Cp(),e!==null&&!vt?(kp(e,t,a),Xr(e,t,a)):(ke&&i&&xp(t),t.flags|=1,Et(e,t,r,a),t.child)}function jv(e,t,n,r,a){if(e===null){var s=n.type;return typeof s=="function"&&!vp(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,RS(e,t,s,r,a)):(e=cu(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Lp(e,a)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sl,n(o,r)&&e.ref===t.ref)return Xr(e,t,a)}return t.flags|=1,e=Hr(s,r),e.ref=t.ref,e.return=t,t.child=e}function RS(e,t,n,r,a){if(e!==null){var s=e.memoizedProps;if(sl(s,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=s,Lp(e,a))e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Xr(e,t,a)}return Om(e,t,n,r,a)}function MS(e,t,n){var r=t.pendingProps,a=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Tv(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&uu(t,s!==null?s.cachePool:null),s!==null?yv(t,s):jm(),ES(t);else return t.lanes=t.childLanes=536870912,Tv(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(uu(t,s.cachePool),yv(t,s),Aa(),t.memoizedState=null):(e!==null&&uu(t,null),jm(),Aa());return Et(e,t,a,n),t.child}function Tv(e,t,n,r){var a=Sp();return a=a===null?null:{parent:ut._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&uu(t,null),jm(),ES(t),e!==null&&Ul(e,t,r,!0),null}function hu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Om(e,t,n,r,a){return xs(t),n=Ap(e,t,n,r,void 0,a),r=Cp(),e!==null&&!vt?(kp(e,t,a),Xr(e,t,a)):(ke&&r&&xp(t),t.flags|=1,Et(e,t,n,a),t.child)}function Rv(e,t,n,r,a,s){return xs(t),t.updateQueue=null,n=V1(t,r,n,a),Z1(e),r=Cp(),e!==null&&!vt?(kp(e,t,s),Xr(e,t,s)):(ke&&r&&xp(t),t.flags|=1,Et(e,t,n,s),t.child)}function Mv(e,t,n,r,a){if(xs(t),t.stateNode===null){var s=uo,o=n.contextType;typeof o=="object"&&o!==null&&(s=Rt(o)),s=new n(r,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Dm,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=r,s.state=t.memoizedState,s.refs={},Np(t),o=n.contextType,s.context=typeof o=="object"&&o!==null?Rt(o):uo,s.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(rh(t,n,o,r),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&Dm.enqueueReplaceState(s,s.state,null),Gi(t,r,s,a),Yi(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){s=t.stateNode;var i=t.memoizedProps,c=ws(n,i);s.props=c;var u=s.context,d=n.contextType;o=uo,typeof d=="object"&&d!==null&&(o=Rt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",i=t.pendingProps!==i,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i||u!==o)&&Av(t,s,r,o),wa=!1;var h=t.memoizedState;s.state=h,Gi(t,r,s,a),Yi(),u=t.memoizedState,i||h!==u||wa?(typeof f=="function"&&(rh(t,n,f,r),u=t.memoizedState),(c=wa||_v(t,n,c,r,h,u,o))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=o,r=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Cm(e,t),o=t.memoizedProps,d=ws(n,o),s.props=d,f=t.pendingProps,h=s.context,u=n.contextType,c=uo,typeof u=="object"&&u!==null&&(c=Rt(u)),i=n.getDerivedStateFromProps,(u=typeof i=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&Av(t,s,r,c),wa=!1,h=t.memoizedState,s.state=h,Gi(t,r,s,a),Yi();var g=t.memoizedState;o!==f||h!==g||wa||e!==null&&e.dependencies!==null&&$u(e.dependencies)?(typeof i=="function"&&(rh(t,n,i,r),g=t.memoizedState),(d=wa||_v(t,n,d,r,h,g,c)||e!==null&&e.dependencies!==null&&$u(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,hu(e,t),r=(t.flags&128)!==0,s||r?(s=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&r?(t.child=Po(t,e.child,null,a),t.child=Po(t,null,n,a)):Et(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Xr(e,t,a),e}function Dv(e,t,n,r){return Fl(),t.flags|=256,Et(e,t,n,r),t.child}var ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sh(e){return{baseLanes:e,cachePool:B1()}}function oh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Cn),e}function DS(e,t,n){var r=t.pendingProps,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(dt.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(a?_a(t):Aa(),ke){var i=Qe,c;if(c=i){e:{for(c=i,i=er;c.nodeType!==8;){if(!i){i=null;break e}if(c=Bn(c.nextSibling),c===null){i=null;break e}}i=c}i!==null?(t.memoizedState={dehydrated:i,treeContext:fs!==null?{id:zr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},c=ln(18,null,null,0),c.stateNode=i,c.return=t,t.child=c,Ot=t,Qe=null,c=!0):c=!1}c||vs(t)}if(i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null))return Xm(i)?t.lanes=32:t.lanes=536870912,null;Lr(t)}return i=r.children,r=r.fallback,a?(Aa(),a=t.mode,i=Zu({mode:"hidden",children:i},a),r=ds(r,a,n,null),i.return=t,r.return=t,i.sibling=r,t.child=i,a=t.child,a.memoizedState=sh(n),a.childLanes=oh(e,o,n),t.memoizedState=ah,r):(_a(t),$m(t,i))}if(c=e.memoizedState,c!==null&&(i=c.dehydrated,i!==null)){if(s)t.flags&256?(_a(t),t.flags&=-257,t=ih(e,t,n)):t.memoizedState!==null?(Aa(),t.child=e.child,t.flags|=128,t=null):(Aa(),a=r.fallback,i=t.mode,r=Zu({mode:"visible",children:r.children},i),a=ds(a,i,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,Po(t,e.child,null,n),r=t.child,r.memoizedState=sh(n),r.childLanes=oh(e,o,n),t.memoizedState=ah,t=a);else if(_a(t),Xm(i)){if(o=i.nextSibling&&i.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(Z(419)),r.stack="",r.digest=o,ol({value:r,source:null,stack:null}),t=ih(e,t,n)}else if(vt||Ul(e,t,n,!1),o=(n&e.childLanes)!==0,vt||o){if(o=Pe,o!==null&&(r=n&-n,r=r&42?1:ip(r),r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,ti(e,r),fn(o,e,r),TS;i.data==="$?"||Fm(),t=ih(e,t,n)}else i.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Qe=Bn(i.nextSibling),Ot=t,ke=!0,hs=null,er=!1,e!==null&&(Nn[En++]=zr,Nn[En++]=Or,Nn[En++]=fs,zr=e.id,Or=e.overflow,fs=t),t=$m(t,r.children),t.flags|=4096);return t}return a?(Aa(),a=r.fallback,i=t.mode,c=e.child,u=c.sibling,r=Hr(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?a=Hr(u,a):(a=ds(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i===null?i=sh(n):(c=i.cachePool,c!==null?(u=ut._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=B1(),i={baseLanes:i.baseLanes|n,cachePool:c}),a.memoizedState=i,a.childLanes=oh(e,o,n),t.memoizedState=ah,r):(_a(t),n=e.child,e=n.sibling,n=Hr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function $m(e,t){return t=Zu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zu(e,t){return e=ln(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ih(e,t,n){return Po(t,e.child,null,n),e=$m(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nm(e.return,t,n)}function lh(e,t,n,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function zS(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Et(e,t,r.children,n),r=dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zv(e,n,t);else if(e.tag===19)zv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Ue(dt,r),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Hu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),lh(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Hu(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}lh(t,!0,n,null,s);break;case"together":lh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ul(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=Hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lp(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&$u(e)))}function qR(e,t,n){switch(t.tag){case 3:ku(t,t.stateNode.containerInfo),Ea(t,ut,e.memoizedState.cache),Fl();break;case 27:case 5:dm(t);break;case 4:ku(t,t.stateNode.containerInfo);break;case 10:Ea(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(_a(t),t.flags|=128,null):n&t.child.childLanes?DS(e,t,n):(_a(t),e=Xr(e,t,n),e!==null?e.sibling:null);_a(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Ul(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return zS(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ue(dt,dt.current),r)break;return null;case 22:case 23:return t.lanes=0,MS(e,t,n);case 24:Ea(t,ut,e.memoizedState.cache)}return Xr(e,t,n)}function OS(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!Lp(e,n)&&!(t.flags&128))return vt=!1,qR(e,t,n);vt=!!(e.flags&131072)}else vt=!1,ke&&t.flags&1048576&&L1(t,Ou,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r=="function")vp(r)?(e=ws(r,e),t.tag=1,t=Mv(null,t,r,e,n)):(t.tag=0,t=Om(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===ap){t.tag=11,t=kv(null,t,r,e,n);break e}else if(a===sp){t.tag=14,t=jv(null,t,r,e,n);break e}}throw t=cm(r)||r,Error(Z(306,t,""))}}return t;case 0:return Om(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=ws(r,t.pendingProps),Mv(e,t,r,a,n);case 3:e:{if(ku(t,t.stateNode.containerInfo),e===null)throw Error(Z(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,Cm(e,t),Gi(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Ea(t,ut,r),r!==s.cache&&Em(t,[ut],n,!0),Yi(),r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Dv(e,t,r,n);break e}else if(r!==a){a=An(Error(Z(424)),t),ol(a),t=Dv(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Bn(e.firstChild),Ot=t,ke=!0,hs=null,er=!0,n=NS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Fl(),r===a){t=Xr(e,t,n);break e}Et(e,t,r,n)}t=t.child}return t;case 26:return hu(e,t),e===null?(n=Wv(t.type,null,t.pendingProps,null))?t.memoizedState=n:ke||(n=t.type,e=t.pendingProps,r=Wu(za.current).createElement(n),r[Tt]=t,r[qt]=e,Ct(r,n,e),yt(r),t.stateNode=r):t.memoizedState=Wv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return dm(t),e===null&&ke&&(r=t.stateNode=wN(t.type,t.pendingProps,za.current),Ot=t,er=!0,a=Qe,Ka(t.type)?(Km=a,Qe=Bn(r.firstChild)):Qe=a),Et(e,t,t.pendingProps.children,n),hu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((a=r=Qe)&&(r=SM(r,t.type,t.pendingProps,er),r!==null?(t.stateNode=r,Ot=t,Qe=Bn(r.firstChild),er=!1,a=!0):a=!1),a||vs(t)),dm(t),a=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,r=s.children,Gm(a,s)?r=null:o!==null&&Gm(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=Ap(e,t,IR,null,null,n),fl._currentValue=a),hu(e,t),Et(e,t,r,n),t.child;case 6:return e===null&&ke&&((e=n=Qe)&&(n=NM(n,t.pendingProps,er),n!==null?(t.stateNode=n,Ot=t,Qe=null,e=!0):e=!1),e||vs(t)),null;case 13:return DS(e,t,n);case 4:return ku(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Po(t,null,r,n):Et(e,t,r,n),t.child;case 11:return kv(e,t,t.type,t.pendingProps,n);case 7:return Et(e,t,t.pendingProps,n),t.child;case 8:return Et(e,t,t.pendingProps.children,n),t.child;case 12:return Et(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ea(t,t.type,r.value),Et(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,xs(t),a=Rt(a),r=r(a),t.flags|=1,Et(e,t,r,n),t.child;case 14:return jv(e,t,t.type,t.pendingProps,n);case 15:return RS(e,t,t.type,t.pendingProps,n);case 19:return zS(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Zu(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Hr(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return MS(e,t,n);case 24:return xs(t),r=Rt(ut),e===null?(a=Sp(),a===null&&(a=Pe,s=wp(),a.pooledCache=s,s.refCount++,s!==null&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},Np(t),Ea(t,ut,a)):(e.lanes&n&&(Cm(e,t),Gi(t,null,null,n),Yi()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Ea(t,ut,r)):(r=s.cache,Ea(t,ut,r),r!==a.cache&&Em(t,[ut],n,!0))),Et(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Z(156,t.tag))}function Cr(e){e.flags|=4}function Ov(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!EN(t)){if(t=Tn.current,t!==null&&((Ae&4194048)===Ae?lr!==null:(Ae&62914560)!==Ae&&!(Ae&536870912)||t!==lr))throw Zi=Am,I1;e.flags|=8192}}function kc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?i1():536870912,e.lanes|=t,Bo|=t)}function vi(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function XR(e,t,n){var r=t.pendingProps;switch(bp(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Fr(ut),Mo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pi(t)?Cr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dv())),Ge(t),null;case 26:return n=t.memoizedState,e===null?(Cr(t),n!==null?(Ge(t),Ov(t,n)):(Ge(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Cr(t),Ge(t),Ov(t,n)):(Ge(t),t.flags&=-16777217):(e.memoizedProps!==r&&Cr(t),Ge(t),t.flags&=-16777217),null;case 27:ju(t),n=za.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Cr(t);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Ge(t),null}e=or.current,pi(t)?cv(t):(e=wN(a,r,n),t.stateNode=e,Cr(t))}return Ge(t),null;case 5:if(ju(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Cr(t);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Ge(t),null}if(e=or.current,pi(t))cv(t);else{switch(a=Wu(za.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Tt]=t,e[qt]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Ct(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Cr(t)}}return Ge(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Cr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(e=za.current,pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ot,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Tt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||vN(e.nodeValue,n)),e||vs(t)}else e=Wu(e).createTextNode(r),e[Tt]=t,t.stateNode=e}return Ge(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Z(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[Tt]=t}else Fl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),a=!1}else a=dv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Lr(t),t):(Lr(t),null)}if(Lr(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),kc(t,t.updateQueue),Ge(t),null;case 4:return Mo(),e===null&&Vp(t.stateNode.containerInfo),Ge(t),null;case 10:return Fr(t.type),Ge(t),null;case 19:if(bt(dt),a=t.memoizedState,a===null)return Ge(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)vi(a,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Hu(e),s!==null){for(t.flags|=128,vi(a,!1),e=s.updateQueue,t.updateQueue=e,kc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)$1(n,e),n=n.sibling;return Ue(dt,dt.current&1|2),t.child}e=e.sibling}a.tail!==null&&ir()>Yu&&(t.flags|=128,r=!0,vi(a,!1),t.lanes=4194304)}else{if(!r)if(e=Hu(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,kc(t,e),vi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ke)return Ge(t),null}else 2*ir()-a.renderingStartTime>Yu&&n!==536870912&&(t.flags|=128,r=!0,vi(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ir(),t.sibling=null,e=dt.current,Ue(dt,r?e&1|2:e&1),t):(Ge(t),null);case 22:case 23:return Lr(t),Ep(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),n=t.updateQueue,n!==null&&kc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&bt(ms),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fr(ut),Ge(t),null;case 25:return null;case 30:return null}throw Error(Z(156,t.tag))}function KR(e,t){switch(bp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(ut),Mo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ju(t),null;case 13:if(Lr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Fl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(dt),null;case 4:return Mo(),null;case 10:return Fr(t.type),null;case 22:case 23:return Lr(t),Ep(),e!==null&&bt(ms),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fr(ut),null;case 25:return null;default:return null}}function $S(e,t){switch(bp(t),t.tag){case 3:Fr(ut),Mo();break;case 26:case 27:case 5:ju(t);break;case 4:Mo();break;case 13:Lr(t);break;case 19:bt(dt);break;case 10:Fr(t.type);break;case 22:case 23:Lr(t),Ep(),e!==null&&bt(ms);break;case 24:Fr(ut)}}function ql(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==a)}}catch(i){Le(t,t.return,i)}}function Va(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var s=a.next;r=s;do{if((r.tag&e)===e){var o=r.inst,i=o.destroy;if(i!==void 0){o.destroy=void 0,a=t;var c=n,u=i;try{u()}catch(d){Le(a,c,d)}}}r=r.next}while(r!==s)}}catch(d){Le(t,t.return,d)}}function LS(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{U1(t,n)}catch(r){Le(e,e.return,r)}}}function PS(e,t,n){n.props=ws(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Le(e,t,r)}}function Xi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){Le(e,t,a)}}function nr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Le(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Le(e,t,a)}else n.current=null}function BS(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Le(e,e.return,a)}}function ch(e,t,n){try{var r=e.stateNode;yM(r,e.type,n,t),r[qt]=t}catch(a){Le(e,e.return,a)}}function IS(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ka(e.type)||e.tag===4}function uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gd));else if(r!==4&&(r===27&&Ka(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Lm(e,t,n),e=e.sibling;e!==null;)Lm(e,t,n),e=e.sibling}function Vu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Ka(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}function HS(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ct(t,r,n),t[Tt]=e,t[qt]=n}catch(s){Le(e,e.return,s)}}var Rr=!1,rt=!1,dh=!1,$v=typeof WeakSet=="function"?WeakSet:Set,pt=null;function WR(e,t){if(e=e.containerInfo,Vm=td,e=k1(e),gp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,i=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==n||a!==0&&f.nodeType!==3||(i=o+a),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++u===a&&(i=o),h===s&&++d===r&&(c=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ym={focusedElem:e,selectionRange:n},td=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var v=ws(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(v,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){Le(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)qm(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Z(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function FS(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ga(e,n),r&4&&ql(5,n);break;case 1:if(ga(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Le(n,n.return,o)}else{var a=ws(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Le(n,n.return,o)}}r&64&&LS(n),r&512&&Xi(n,n.return);break;case 3:if(ga(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{U1(e,t)}catch(o){Le(n,n.return,o)}}break;case 27:t===null&&r&4&&HS(n);case 26:case 5:ga(e,n),t===null&&r&4&&BS(n),r&512&&Xi(n,n.return);break;case 12:ga(e,n);break;case 13:ga(e,n),r&4&&VS(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=oM.bind(null,n),EM(e,n))));break;case 22:if(r=n.memoizedState!==null||Rr,!r){t=t!==null&&t.memoizedState!==null||rt,a=Rr;var s=rt;Rr=r,(rt=t)&&!s?va(e,n,(n.subtreeFlags&8772)!==0):ga(e,n),Rr=a,rt=s}break;case 30:break;default:ga(e,n)}}function US(e){var t=e.alternate;t!==null&&(e.alternate=null,US(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&cp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Vt=!1;function kr(e,t,n){for(n=n.child;n!==null;)ZS(e,t,n),n=n.sibling}function ZS(e,t,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 26:rt||nr(n,t),kr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:rt||nr(n,t);var r=He,a=Vt;Ka(n.type)&&(He=n.stateNode,Vt=!1),kr(e,t,n),Ji(n.stateNode),He=r,Vt=a;break;case 5:rt||nr(n,t);case 6:if(r=He,a=Vt,He=null,kr(e,t,n),He=r,Vt=a,He!==null)if(Vt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(s){Le(n,t,s)}else try{He.removeChild(n.stateNode)}catch(s){Le(n,t,s)}break;case 18:He!==null&&(Vt?(e=He,qv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),gl(e)):qv(He,n.stateNode));break;case 4:r=He,a=Vt,He=n.stateNode.containerInfo,Vt=!0,kr(e,t,n),He=r,Vt=a;break;case 0:case 11:case 14:case 15:rt||Va(2,n,t),rt||Va(4,n,t),kr(e,t,n);break;case 1:rt||(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&PS(n,t,r)),kr(e,t,n);break;case 21:kr(e,t,n);break;case 22:rt=(r=rt)||n.memoizedState!==null,kr(e,t,n),rt=r;break;default:kr(e,t,n)}}function VS(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gl(e)}catch(n){Le(t,t.return,n)}}function QR(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new $v),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new $v),t;default:throw Error(Z(435,e.tag))}}function fh(e,t){var n=QR(e);t.forEach(function(r){var a=iM.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}function tn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],s=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 27:if(Ka(i.type)){He=i.stateNode,Vt=!1;break e}break;case 5:He=i.stateNode,Vt=!1;break e;case 3:case 4:He=i.stateNode.containerInfo,Vt=!0;break e}i=i.return}if(He===null)throw Error(Z(160));ZS(s,o,a),He=null,Vt=!1,s=a.alternate,s!==null&&(s.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)YS(t,e),t=t.sibling}var $n=null;function YS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tn(t,e),nn(e),r&4&&(Va(3,e,e.return),ql(3,e),Va(5,e,e.return));break;case 1:tn(t,e),nn(e),r&512&&(rt||n===null||nr(n,n.return)),r&64&&Rr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=$n;if(tn(t,e),nn(e),r&512&&(rt||n===null||nr(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":s=a.getElementsByTagName("title")[0],(!s||s[Il]||s[Tt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),Ct(s,r,n),s[Tt]=e,yt(s),r=s;break e;case"link":var o=Jv("link","href",a).get(r+(n.href||""));if(o){for(var i=0;i<o.length;i++)if(s=o[i],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(i,1);break t}}s=a.createElement(r),Ct(s,r,n),a.head.appendChild(s);break;case"meta":if(o=Jv("meta","content",a).get(r+(n.content||""))){for(i=0;i<o.length;i++)if(s=o[i],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(i,1);break t}}s=a.createElement(r),Ct(s,r,n),a.head.appendChild(s);break;default:throw Error(Z(468,r))}s[Tt]=e,yt(s),r=s}e.stateNode=r}else ex(a,e.type,e.stateNode);else e.stateNode=Qv(a,r,e.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?ex(a,e.type,e.stateNode):Qv(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&ch(e,e.memoizedProps,n.memoizedProps)}break;case 27:tn(t,e),nn(e),r&512&&(rt||n===null||nr(n,n.return)),n!==null&&r&4&&ch(e,e.memoizedProps,n.memoizedProps);break;case 5:if(tn(t,e),nn(e),r&512&&(rt||n===null||nr(n,n.return)),e.flags&32){a=e.stateNode;try{zo(a,"")}catch(g){Le(e,e.return,g)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,ch(e,a,n!==null?n.memoizedProps:a)),r&1024&&(dh=!0);break;case 6:if(tn(t,e),nn(e),r&4){if(e.stateNode===null)throw Error(Z(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){Le(e,e.return,g)}}break;case 3:if(pu=null,a=$n,$n=Qu(t.containerInfo),tn(t,e),$n=a,nn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(t.containerInfo)}catch(g){Le(e,e.return,g)}dh&&(dh=!1,GS(e));break;case 4:r=$n,$n=Qu(e.stateNode.containerInfo),tn(t,e),nn(e),$n=r;break;case 12:tn(t,e),nn(e);break;case 13:tn(t,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Fp=ir()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,fh(e,r)));break;case 22:a=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Rr,d=rt;if(Rr=u||a,rt=d||c,tn(t,e),rt=d,Rr=u,nn(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||c||Rr||rt||as(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(s=c.stateNode,a)o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{i=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;i.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){Le(c,c.return,g)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(g){Le(c,c.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,fh(e,n))));break;case 19:tn(t,e),nn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,fh(e,r)));break;case 30:break;case 21:break;default:tn(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(IS(r)){n=r;break}r=r.return}if(n==null)throw Error(Z(160));switch(n.tag){case 27:var a=n.stateNode,s=uh(e);Vu(e,s,a);break;case 5:var o=n.stateNode;n.flags&32&&(zo(o,""),n.flags&=-33);var i=uh(e);Vu(e,i,o);break;case 3:case 4:var c=n.stateNode.containerInfo,u=uh(e);Lm(e,u,c);break;default:throw Error(Z(161))}}catch(d){Le(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GS(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;GS(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ga(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)FS(e,t.alternate,t),t=t.sibling}function as(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),as(t);break;case 1:nr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&PS(t,t.return,n),as(t);break;case 27:Ji(t.stateNode);case 26:case 5:nr(t,t.return),as(t);break;case 22:t.memoizedState===null&&as(t);break;case 30:as(t);break;default:as(t)}e=e.sibling}}function va(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:va(a,s,n),ql(4,s);break;case 1:if(va(a,s,n),r=s,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Le(r,r.return,u)}if(r=s,a=r.updateQueue,a!==null){var i=r.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)F1(c[a],i)}catch(u){Le(r,r.return,u)}}n&&o&64&&LS(s),Xi(s,s.return);break;case 27:HS(s);case 26:case 5:va(a,s,n),n&&r===null&&o&4&&BS(s),Xi(s,s.return);break;case 12:va(a,s,n);break;case 13:va(a,s,n),n&&o&4&&VS(a,s);break;case 22:s.memoizedState===null&&va(a,s,n),Xi(s,s.return);break;case 30:break;default:va(a,s,n)}t=t.sibling}}function Pp(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Zl(n))}function Bp(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zl(e))}function Wn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qS(e,t,n,r),t=t.sibling}function qS(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Wn(e,t,n,r),a&2048&&ql(9,t);break;case 1:Wn(e,t,n,r);break;case 3:Wn(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zl(e)));break;case 12:if(a&2048){Wn(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,i=s.onPostCommit;typeof i=="function"&&i(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Le(t,t.return,c)}}else Wn(e,t,n,r);break;case 13:Wn(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,t.memoizedState!==null?s._visibility&2?Wn(e,t,n,r):Ki(e,t):s._visibility&2?Wn(e,t,n,r):(s._visibility|=2,Qs(e,t,n,r,(t.subtreeFlags&10256)!==0)),a&2048&&Pp(o,t);break;case 24:Wn(e,t,n,r),a&2048&&Bp(t.alternate,t);break;default:Wn(e,t,n,r)}}function Qs(e,t,n,r,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,o=t,i=n,c=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Qs(s,o,i,c,a),ql(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?Qs(s,o,i,c,a):Ki(s,o):(d._visibility|=2,Qs(s,o,i,c,a)),a&&u&2048&&Pp(o.alternate,o);break;case 24:Qs(s,o,i,c,a),a&&u&2048&&Bp(o.alternate,o);break;default:Qs(s,o,i,c,a)}t=t.sibling}}function Ki(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Ki(n,r),a&2048&&Pp(r.alternate,r);break;case 24:Ki(n,r),a&2048&&Bp(r.alternate,r);break;default:Ki(n,r)}t=t.sibling}}var zi=8192;function Is(e){if(e.subtreeFlags&zi)for(e=e.child;e!==null;)XS(e),e=e.sibling}function XS(e){switch(e.tag){case 26:Is(e),e.flags&zi&&e.memoizedState!==null&&LM($n,e.memoizedState,e.memoizedProps);break;case 5:Is(e);break;case 3:case 4:var t=$n;$n=Qu(e.stateNode.containerInfo),Is(e),$n=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=zi,zi=16777216,Is(e),zi=t):Is(e));break;default:Is(e)}}function KS(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];pt=r,QS(r,e)}KS(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)WS(e),e=e.sibling}function WS(e){switch(e.tag){case 0:case 11:case 15:xi(e),e.flags&2048&&Va(9,e,e.return);break;case 3:xi(e);break;case 12:xi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,mu(e)):xi(e);break;default:xi(e)}}function mu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];pt=r,QS(r,e)}KS(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Va(8,t,t.return),mu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,mu(t));break;default:mu(t)}e=e.sibling}}function QS(e,t){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:Va(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Zl(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,pt=r;else e:for(n=e;pt!==null;){r=pt;var a=r.sibling,s=r.return;if(US(r),r===n){pt=null;break e}if(a!==null){a.return=s,pt=a;break e}pt=s}}}var JR={getCacheForType:function(e){var t=Rt(ut),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},eM=typeof WeakMap=="function"?WeakMap:Map,ze=0,Pe=null,Ne=null,Ae=0,De=0,rn=null,Ra=!1,ni=!1,Ip=!1,Kr=0,Je=0,Ya=0,gs=0,Hp=0,Cn=0,Bo=0,Wi=null,Yt=null,Pm=!1,Fp=0,Yu=1/0,Gu=null,La=null,_t=0,Pa=null,Io=null,Eo=0,Bm=0,Im=null,JS=null,Qi=0,Hm=null;function dn(){if(ze&2&&Ae!==0)return Ae&-Ae;if(fe.T!==null){var e=Oo;return e!==0?e:Zp()}return u1()}function eN(){Cn===0&&(Cn=!(Ae&536870912)||ke?o1():536870912);var e=Tn.current;return e!==null&&(e.flags|=32),Cn}function fn(e,t,n){(e===Pe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Ho(e,0),Ma(e,Ae,Cn,!1)),Bl(e,n),(!(ze&2)||e!==Pe)&&(e===Pe&&(!(ze&2)&&(gs|=n),Je===4&&Ma(e,Ae,Cn,!1)),mr(e))}function tN(e,t,n){if(ze&6)throw Error(Z(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Pl(e,t),a=r?rM(e,t):hh(e,t,!0),s=r;do{if(a===0){ni&&!r&&Ma(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!tM(n)){a=hh(e,t,!1),s=!1;continue}if(a===2){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var i=e;a=Wi;var c=i.current.memoizedState.isDehydrated;if(c&&(Ho(i,o).flags|=256),o=hh(i,o,!1),o!==2){if(Ip&&!c){i.errorRecoveryDisabledLanes|=s,gs|=s,a=4;break e}s=Yt,Yt=a,s!==null&&(Yt===null?Yt=s:Yt.push.apply(Yt,s))}a=o}if(s=!1,a!==2)continue}}if(a===1){Ho(e,0),Ma(e,t,0,!0);break}e:{switch(r=e,s=a,s){case 0:case 1:throw Error(Z(345));case 4:if((t&4194048)!==t)break;case 6:Ma(r,t,Cn,!Ra);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(Z(329))}if((t&62914560)===t&&(a=Fp+300-ir(),10<a)){if(Ma(r,t,Cn,!Ra),zd(r,0,!0)!==0)break e;r.timeoutHandle=bN(Lv.bind(null,r,n,Yt,Gu,Pm,t,Cn,gs,Bo,Ra,s,2,-0,0),a);break e}Lv(r,n,Yt,Gu,Pm,t,Cn,gs,Bo,Ra,s,0,-0,0)}}break}while(!0);mr(e)}function Lv(e,t,n,r,a,s,o,i,c,u,d,f,h,g){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(dl={stylesheets:null,count:0,unsuspend:$M},XS(t),f=PM(),f!==null)){e.cancelPendingCommit=f(Bv.bind(null,e,t,s,n,r,a,o,i,c,d,1,h,g)),Ma(e,s,o,!u);return}Bv(e,t,s,n,r,a,o,i,c)}function tM(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!gn(s(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ma(e,t,n,r){t&=~Hp,t&=~gs,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-un(a),o=1<<s;r[s]=-1,a&=~o}n!==0&&l1(e,n,t)}function Zd(){return ze&6?!0:(Xl(0),!1)}function Up(){if(Ne!==null){if(De===0)var e=Ne.return;else e=Ne,$r=Ms=null,jp(e),No=null,ll=0,e=Ne;for(;e!==null;)$S(e.alternate,e),e=e.return;Ne=null}}function Ho(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,xM(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Up(),Pe=e,Ne=n=Hr(e.current,null),Ae=t,De=0,rn=null,Ra=!1,ni=Pl(e,t),Ip=!1,Bo=Cn=Hp=gs=Ya=Je=0,Yt=Wi=null,Pm=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-un(r),s=1<<a;t|=e[a],r&=~s}return Kr=t,Pd(),n}function nN(e,t){be=null,fe.H=Iu,t===Vl||t===Id?(t=gv(),De=3):t===I1?(t=gv(),De=4):De=t===TS?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,rn=t,Ne===null&&(Je=1,Uu(e,An(t,e.current)))}function rN(){var e=fe.H;return fe.H=Iu,e===null?Iu:e}function aN(){var e=fe.A;return fe.A=JR,e}function Fm(){Je=4,Ra||(Ae&4194048)!==Ae&&Tn.current!==null||(ni=!0),!(Ya&134217727)&&!(gs&134217727)||Pe===null||Ma(Pe,Ae,Cn,!1)}function hh(e,t,n){var r=ze;ze|=2;var a=rN(),s=aN();(Pe!==e||Ae!==t)&&(Gu=null,Ho(e,t)),t=!1;var o=Je;e:do try{if(De!==0&&Ne!==null){var i=Ne,c=rn;switch(De){case 8:Up(),o=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(t=!0);var u=De;if(De=0,rn=null,mo(e,i,c,u),n&&ni){o=0;break e}break;default:u=De,De=0,rn=null,mo(e,i,c,u)}}nM(),o=Je;break}catch(d){nN(e,d)}while(!0);return t&&e.shellSuspendCounter++,$r=Ms=null,ze=r,fe.H=a,fe.A=s,Ne===null&&(Pe=null,Ae=0,Pd()),o}function nM(){for(;Ne!==null;)sN(Ne)}function rM(e,t){var n=ze;ze|=2;var r=rN(),a=aN();Pe!==e||Ae!==t?(Gu=null,Yu=ir()+500,Ho(e,t)):ni=Pl(e,t);e:do try{if(De!==0&&Ne!==null){t=Ne;var s=rn;t:switch(De){case 1:De=0,rn=null,mo(e,t,s,1);break;case 2:case 9:if(mv(s)){De=0,rn=null,Pv(t);break}t=function(){De!==2&&De!==9||Pe!==e||(De=7),mr(e)},s.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:mv(s)?(De=0,rn=null,Pv(t)):(De=0,rn=null,mo(e,t,s,7));break;case 5:var o=null;switch(Ne.tag){case 26:o=Ne.memoizedState;case 5:case 27:var i=Ne;if(!o||EN(o)){De=0,rn=null;var c=i.sibling;if(c!==null)Ne=c;else{var u=i.return;u!==null?(Ne=u,Vd(u)):Ne=null}break t}}De=0,rn=null,mo(e,t,s,5);break;case 6:De=0,rn=null,mo(e,t,s,6);break;case 8:Up(),Je=6;break e;default:throw Error(Z(462))}}aM();break}catch(d){nN(e,d)}while(!0);return $r=Ms=null,fe.H=r,fe.A=a,ze=n,Ne!==null?0:(Pe=null,Ae=0,Pd(),Je)}function aM(){for(;Ne!==null&&!AT();)sN(Ne)}function sN(e){var t=OS(e.alternate,e,Kr);e.memoizedProps=e.pendingProps,t===null?Vd(e):Ne=t}function Pv(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rv(n,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Rv(n,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:jp(t);default:$S(n,t),t=Ne=$1(t,Kr),t=OS(n,t,Kr)}e.memoizedProps=e.pendingProps,t===null?Vd(e):Ne=t}function mo(e,t,n,r){$r=Ms=null,jp(t),No=null,ll=0;var a=t.return;try{if(GR(e,a,t,n,Ae)){Je=1,Uu(e,An(n,e.current)),Ne=null;return}}catch(s){if(a!==null)throw Ne=a,s;Je=1,Uu(e,An(n,e.current)),Ne=null;return}t.flags&32768?(ke||r===1?e=!0:ni||Ae&536870912?e=!1:(Ra=e=!0,(r===2||r===9||r===3||r===6)&&(r=Tn.current,r!==null&&r.tag===13&&(r.flags|=16384))),oN(t,e)):Vd(t)}function Vd(e){var t=e;do{if(t.flags&32768){oN(t,Ra);return}e=t.return;var n=XR(t.alternate,t,Kr);if(n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Je===0&&(Je=5)}function oN(e,t){do{var n=KR(e.alternate,e);if(n!==null){n.flags&=32767,Ne=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=n}while(e!==null);Je=6,Ne=null}function Bv(e,t,n,r,a,s,o,i,c){e.cancelPendingCommit=null;do Yd();while(_t!==0);if(ze&6)throw Error(Z(327));if(t!==null){if(t===e.current)throw Error(Z(177));if(s=t.lanes|t.childLanes,s|=pp,$T(e,n,s,o,i,c),e===Pe&&(Ne=Pe=null,Ae=0),Io=t,Pa=e,Eo=n,Bm=s,Im=a,JS=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,lM(Tu,function(){return dN(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=fe.T,fe.T=null,a=je.p,je.p=2,o=ze,ze|=4;try{WR(e,t,n)}finally{ze=o,je.p=a,fe.T=r}}_t=1,iN(),lN(),cN()}}function iN(){if(_t===1){_t=0;var e=Pa,t=Io,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=fe.T,fe.T=null;var r=je.p;je.p=2;var a=ze;ze|=4;try{YS(t,e);var s=Ym,o=k1(e.containerInfo),i=s.focusedElem,c=s.selectionRange;if(o!==i&&i&&i.ownerDocument&&C1(i.ownerDocument.documentElement,i)){if(c!==null&&gp(i)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in i)i.selectionStart=u,i.selectionEnd=Math.min(d,i.value.length);else{var f=i.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var g=h.getSelection(),v=i.textContent.length,x=Math.min(c.start,v),b=c.end===void 0?x:Math.min(c.end,v);!g.extend&&x>b&&(o=b,b=x,x=o);var p=ov(i,x),y=ov(i,b);if(p&&y&&(g.rangeCount!==1||g.anchorNode!==p.node||g.anchorOffset!==p.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var w=f.createRange();w.setStart(p.node,p.offset),g.removeAllRanges(),x>b?(g.addRange(w),g.extend(y.node,y.offset)):(w.setEnd(y.node,y.offset),g.addRange(w))}}}}for(f=[],g=i;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<f.length;i++){var S=f[i];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}td=!!Vm,Ym=Vm=null}finally{ze=a,je.p=r,fe.T=n}}e.current=t,_t=2}}function lN(){if(_t===2){_t=0;var e=Pa,t=Io,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=fe.T,fe.T=null;var r=je.p;je.p=2;var a=ze;ze|=4;try{FS(e,t.alternate,t)}finally{ze=a,je.p=r,fe.T=n}}_t=3}}function cN(){if(_t===4||_t===3){_t=0,CT();var e=Pa,t=Io,n=Eo,r=JS;t.subtreeFlags&10256||t.flags&10256?_t=5:(_t=0,Io=Pa=null,uN(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(La=null),lp(n),t=t.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=fe.T,a=je.p,je.p=2,fe.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var i=r[o];s(i.value,{componentStack:i.stack})}}finally{fe.T=t,je.p=a}}Eo&3&&Yd(),mr(e),a=e.pendingLanes,n&4194090&&a&42?e===Hm?Qi++:(Qi=0,Hm=e):Qi=0,Xl(0)}}function uN(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zl(t)))}function Yd(e){return iN(),lN(),cN(),dN()}function dN(){if(_t!==5)return!1;var e=Pa,t=Bm;Bm=0;var n=lp(Eo),r=fe.T,a=je.p;try{je.p=32>n?32:n,fe.T=null,n=Im,Im=null;var s=Pa,o=Eo;if(_t=0,Io=Pa=null,Eo=0,ze&6)throw Error(Z(331));var i=ze;if(ze|=4,WS(s.current),qS(s,s.current,o,n),ze=i,Xl(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ll,s)}catch{}return!0}finally{je.p=a,fe.T=r,uN(e,t)}}function Iv(e,t,n){t=An(n,t),t=zm(e.stateNode,t,2),e=$a(e,t,2),e!==null&&(Bl(e,2),mr(e))}function Le(e,t,n){if(e.tag===3)Iv(e,e,n);else for(;t!==null;){if(t.tag===3){Iv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(La===null||!La.has(r))){e=An(n,e),n=kS(2),r=$a(t,n,2),r!==null&&(jS(n,r,t,e),Bl(r,2),mr(r));break}}t=t.return}}function mh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eM;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(Ip=!0,a.add(n),e=sM.bind(null,e,t,n),t.then(e,e))}function sM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Pe===e&&(Ae&n)===n&&(Je===4||Je===3&&(Ae&62914560)===Ae&&300>ir()-Fp?!(ze&2)&&Ho(e,0):Hp|=n,Bo===Ae&&(Bo=0)),mr(e)}function fN(e,t){t===0&&(t=i1()),e=ti(e,t),e!==null&&(Bl(e,t),mr(e))}function oM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fN(e,n)}function iM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(Z(314))}r!==null&&r.delete(t),fN(e,n)}function lM(e,t){return op(e,t)}var qu=null,Js=null,Um=!1,Xu=!1,gh=!1,ps=0;function mr(e){e!==Js&&e.next===null&&(Js===null?qu=Js=e:Js=Js.next=e),Xu=!0,Um||(Um=!0,uM())}function Xl(e,t){if(!gh&&Xu){gh=!0;do for(var n=!1,r=qu;r!==null;){if(e!==0){var a=r.pendingLanes;if(a===0)var s=0;else{var o=r.suspendedLanes,i=r.pingedLanes;s=(1<<31-un(42|e)+1)-1,s&=a&~(o&~i),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Hv(r,s))}else s=Ae,s=zd(r,r===Pe?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Pl(r,s)||(n=!0,Hv(r,s));r=r.next}while(n);gh=!1}}function cM(){hN()}function hN(){Xu=Um=!1;var e=0;ps!==0&&(vM()&&(e=ps),ps=0);for(var t=ir(),n=null,r=qu;r!==null;){var a=r.next,s=mN(r,t);s===0?(r.next=null,n===null?qu=a:n.next=a,a===null&&(Js=n)):(n=r,(e!==0||s&3)&&(Xu=!0)),r=a}Xl(e)}function mN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var o=31-un(s),i=1<<o,c=a[o];c===-1?(!(i&n)||i&r)&&(a[o]=OT(i,t)):c<=t&&(e.expiredLanes|=i),s&=~i}if(t=Pe,n=Ae,n=zd(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Hf(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Pl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Hf(r),lp(n)){case 2:case 8:n=a1;break;case 32:n=Tu;break;case 268435456:n=s1;break;default:n=Tu}return r=gN.bind(null,e),n=op(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Hf(r),e.callbackPriority=2,e.callbackNode=null,2}function gN(e,t){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Yd()&&e.callbackNode!==n)return null;var r=Ae;return r=zd(e,e===Pe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(tN(e,r,t),mN(e,ir()),e.callbackNode!=null&&e.callbackNode===n?gN.bind(null,e):null)}function Hv(e,t){if(Yd())return null;tN(e,t,!0)}function uM(){bM(function(){ze&6?op(r1,cM):hN()})}function Zp(){return ps===0&&(ps=o1()),ps}function Fv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ou(""+e)}function Uv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function dM(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var s=Fv((a[qt]||null).action),o=r.submitter;o&&(t=(t=o[qt]||null)?Fv(t.formAction):o.getAttribute("formAction"),t!==null&&(s=t,o=null));var i=new Od("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ps!==0){var c=o?Uv(a,o):new FormData(a);Mm(n,{pending:!0,data:c,method:a.method,action:s},null,c)}}else typeof s=="function"&&(i.preventDefault(),c=o?Uv(a,o):new FormData(a),Mm(n,{pending:!0,data:c,method:a.method,action:s},s,c))},currentTarget:a}]})}}for(var ph=0;ph<bm.length;ph++){var yh=bm[ph],fM=yh.toLowerCase(),hM=yh[0].toUpperCase()+yh.slice(1);Zn(fM,"on"+hM)}Zn(T1,"onAnimationEnd");Zn(R1,"onAnimationIteration");Zn(M1,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(TR,"onTransitionRun");Zn(RR,"onTransitionStart");Zn(MR,"onTransitionCancel");Zn(D1,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function pN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==s&&a.isPropagationStopped())break e;s=i,a.currentTarget=u;try{s(a)}catch(d){Fu(d)}a.currentTarget=null,s=c}else for(o=0;o<r.length;o++){if(i=r[o],c=i.instance,u=i.currentTarget,i=i.listener,c!==s&&a.isPropagationStopped())break e;s=i,a.currentTarget=u;try{s(a)}catch(d){Fu(d)}a.currentTarget=null,s=c}}}}function Se(e,t){var n=t[hm];n===void 0&&(n=t[hm]=new Set);var r=e+"__bubble";n.has(r)||(yN(t,e,2,!1),n.add(r))}function vh(e,t,n){var r=0;t&&(r|=4),yN(n,e,r,t)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Vp(e){if(!e[jc]){e[jc]=!0,d1.forEach(function(n){n!=="selectionchange"&&(mM.has(n)||vh(n,!1,e),vh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jc]||(t[jc]=!0,vh("selectionchange",!1,t))}}function yN(e,t,n,r){switch(jN(t)){case 2:var a=HM;break;case 8:a=FM;break;default:a=Xp}n=a.bind(null,t,n,e),a=void 0,!ym||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function xh(e,t,n,r,a){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;i!==null;){if(o=ao(i),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){r=s=o;continue e}i=i.parentNode}}r=r.return}x1(function(){var u=s,d=dp(n),f=[];e:{var h=z1.get(e);if(h!==void 0){var g=Od,v=e;switch(e){case"keypress":if(lu(n)===0)break e;case"keydown":case"keyup":g=lR;break;case"focusin":v="focus",g=Xf;break;case"focusout":v="blur",g=Xf;break;case"beforeblur":case"afterblur":g=Xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=KT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=dR;break;case T1:case R1:case M1:g=JT;break;case D1:g=hR;break;case"scroll":case"scrollend":g=qT;break;case"wheel":g=gR;break;case"copy":case"cut":case"paste":g=tR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Qy;break;case"toggle":case"beforetoggle":g=yR}var x=(t&4)!==0,b=!x&&(e==="scroll"||e==="scrollend"),p=x?h!==null?h+"Capture":null:h;x=[];for(var y=u,w;y!==null;){var S=y;if(w=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||w===null||p===null||(S=rl(y,p),S!=null&&x.push(ul(y,S,w))),b)break;y=y.return}0<x.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==pm&&(v=n.relatedTarget||n.fromElement)&&(ao(v)||v[Jo]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?ao(v):null,v!==null&&(b=$l(v),x=v.tag,v!==b||x!==5&&x!==27&&x!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=Ky,S="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Qy,S="onPointerLeave",p="onPointerEnter",y="pointer"),b=g==null?h:Di(g),w=v==null?h:Di(v),h=new x(S,y+"leave",g,n,d),h.target=b,h.relatedTarget=w,S=null,ao(d)===u&&(x=new x(p,y+"enter",v,n,d),x.target=w,x.relatedTarget=b,S=x),b=S,g&&v)t:{for(x=g,p=v,y=0,w=x;w;w=Hs(w))y++;for(w=0,S=p;S;S=Hs(S))w++;for(;0<y-w;)x=Hs(x),y--;for(;0<w-y;)p=Hs(p),w--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=Hs(x),p=Hs(p)}x=null}else x=null;g!==null&&Zv(f,h,g,x,!1),v!==null&&b!==null&&Zv(f,b,v,x,!0)}}e:{if(h=u?Di(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=nv;else if(tv(h))if(_1)N=CR;else{N=_R;var C=ER}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&up(u.elementType)&&(N=nv):N=AR;if(N&&(N=N(e,u))){E1(f,N,n,d);break e}C&&C(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&gm(h,"number",h.value)}switch(C=u?Di(u):window,e){case"focusin":(tv(C)||C.contentEditable==="true")&&(io=C,vm=u,Fi=null);break;case"focusout":Fi=vm=io=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,iv(f,n,d);break;case"selectionchange":if(jR)break;case"keydown":case"keyup":iv(f,n,d)}var E;if(mp)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else oo?S1(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(w1&&n.locale!=="ko"&&(oo||_!=="onCompositionStart"?_==="onCompositionEnd"&&oo&&(E=b1()):(Ta=d,fp="value"in Ta?Ta.value:Ta.textContent,oo=!0)),C=Ku(u,_),0<C.length&&(_=new Wy(_,e,null,n,d),f.push({event:_,listeners:C}),E?_.data=E:(E=N1(n),E!==null&&(_.data=E)))),(E=xR?bR(e,n):wR(e,n))&&(_=Ku(u,"onBeforeInput"),0<_.length&&(C=new Wy("onBeforeInput","beforeinput",null,n,d),f.push({event:C,listeners:_}),C.data=E)),dM(f,e,u,n,d)}pN(f,t)})}function ul(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ku(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,s=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||s===null||(a=rl(e,n),a!=null&&r.unshift(ul(e,a,s)),a=rl(e,t),a!=null&&r.push(ul(e,a,s))),e.tag===3)return r;e=e.return}return[]}function Hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zv(e,t,n,r,a){for(var s=t._reactName,o=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(i=i.tag,c!==null&&c===r)break;i!==5&&i!==26&&i!==27||u===null||(c=u,a?(u=rl(n,s),u!=null&&o.unshift(ul(n,u,c))):a||(u=rl(n,s),u!=null&&o.push(ul(n,u,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var gM=/\r\n?/g,pM=/\u0000|\uFFFD/g;function Vv(e){return(typeof e=="string"?e:""+e).replace(gM,`
`).replace(pM,"")}function vN(e,t){return t=Vv(t),Vv(e)===t}function Gd(){}function Oe(e,t,n,r,a,s){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||zo(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&zo(e,""+r);break;case"className":Sc(e,"class",r);break;case"tabIndex":Sc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Sc(e,n,r);break;case"style":v1(e,r,s);break;case"data":if(t!=="object"){Sc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=ou(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",a.name,a,null),Oe(e,t,"formEncType",a.formEncType,a,null),Oe(e,t,"formMethod",a.formMethod,a,null),Oe(e,t,"formTarget",a.formTarget,a,null)):(Oe(e,t,"encType",a.encType,a,null),Oe(e,t,"method",a.method,a,null),Oe(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=ou(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Gd);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Z(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(Z(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=ou(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Se("beforetoggle",e),Se("toggle",e),su(e,"popover",r);break;case"xlinkActuate":Ar(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ar(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ar(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ar(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ar(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ar(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":su(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=YT.get(n)||n,su(e,n,r))}}function Zm(e,t,n,r,a,s){switch(n){case"style":v1(e,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Z(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(Z(60));e.innerHTML=n}}break;case"children":typeof r=="string"?zo(e,r):(typeof r=="number"||typeof r=="bigint")&&zo(e,""+r);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Gd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!f1.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),s=e[qt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,a),typeof r=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):su(e,n,r)}}}function Ct(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var r=!1,a=!1,s;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(o!=null)switch(s){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Z(137,t));default:Oe(e,t,s,o,n,null)}}a&&Oe(e,t,"srcSet",n.srcSet,n,null),r&&Oe(e,t,"src",n.src,n,null);return;case"input":Se("invalid",e);var i=s=o=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Z(137,t));break;default:Oe(e,t,r,d,n,null)}}g1(e,s,i,c,u,o,a,!1),Ru(e);return;case"select":Se("invalid",e),r=o=s=null;for(a in n)if(n.hasOwnProperty(a)&&(i=n[a],i!=null))switch(a){case"value":s=i;break;case"defaultValue":o=i;break;case"multiple":r=i;default:Oe(e,t,a,i,n,null)}t=s,n=o,e.multiple=!!r,t!=null?vo(e,!!r,t,!1):n!=null&&vo(e,!!r,n,!0);return;case"textarea":Se("invalid",e),s=a=r=null;for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"value":r=i;break;case"defaultValue":a=i;break;case"children":s=i;break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Z(91));break;default:Oe(e,t,o,i,n,null)}y1(e,r,a,s),Ru(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Oe(e,t,c,r,n,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(r=0;r<cl.length;r++)Se(cl[r],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Z(137,t));default:Oe(e,t,u,r,n,null)}return;default:if(up(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Zm(e,t,d,r,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(r=n[i],r!=null&&Oe(e,t,i,r,n,null))}function yM(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,i=null,c=null,u=null,d=null;for(g in n){var f=n[g];if(n.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(g)||Oe(e,t,g,null,r,f)}}for(var h in r){var g=r[h];if(f=n[h],r.hasOwnProperty(h)&&(g!=null||f!=null))switch(h){case"type":s=g;break;case"name":a=g;break;case"checked":u=g;break;case"defaultChecked":d=g;break;case"value":o=g;break;case"defaultValue":i=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Z(137,t));break;default:g!==f&&Oe(e,t,h,g,r,f)}}mm(e,o,i,c,u,d,s,a);return;case"select":g=o=i=h=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":g=c;default:r.hasOwnProperty(s)||Oe(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(s!=null||c!=null))switch(a){case"value":h=s;break;case"defaultValue":i=s;break;case"multiple":o=s;default:s!==c&&Oe(e,t,a,s,r,c)}t=i,n=o,r=g,h!=null?vo(e,!!n,h,!1):!!r!=!!n&&(t!=null?vo(e,!!n,t,!0):vo(e,!!n,n?[]:"",!1));return;case"textarea":g=h=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null&&!r.hasOwnProperty(i))switch(i){case"value":break;case"children":break;default:Oe(e,t,i,null,r,a)}for(o in r)if(a=r[o],s=n[o],r.hasOwnProperty(o)&&(a!=null||s!=null))switch(o){case"value":h=a;break;case"defaultValue":g=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(Z(91));break;default:a!==s&&Oe(e,t,o,a,r,s)}p1(e,h,g);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:Oe(e,t,v,null,r,h)}for(c in r)if(h=r[c],g=n[c],r.hasOwnProperty(c)&&h!==g&&(h!=null||g!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Oe(e,t,c,h,r,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x)&&Oe(e,t,x,null,r,h);for(u in r)if(h=r[u],g=n[u],r.hasOwnProperty(u)&&h!==g&&(h!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Z(137,t));break;default:Oe(e,t,u,h,r,g)}return;default:if(up(t)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!==void 0&&!r.hasOwnProperty(b)&&Zm(e,t,b,void 0,r,h);for(d in r)h=r[d],g=n[d],!r.hasOwnProperty(d)||h===g||h===void 0&&g===void 0||Zm(e,t,d,h,r,g);return}}for(var p in n)h=n[p],n.hasOwnProperty(p)&&h!=null&&!r.hasOwnProperty(p)&&Oe(e,t,p,null,r,h);for(f in r)h=r[f],g=n[f],!r.hasOwnProperty(f)||h===g||h==null&&g==null||Oe(e,t,f,h,r,g)}var Vm=null,Ym=null;function Wu(e){return e.nodeType===9?e:e.ownerDocument}function Yv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xN(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bh=null;function vM(){var e=window.event;return e&&e.type==="popstate"?e===bh?!1:(bh=e,!0):(bh=null,!1)}var bN=typeof setTimeout=="function"?setTimeout:void 0,xM=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,bM=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(e){return Gv.resolve(null).then(e).catch(wM)}:bN;function wM(e){setTimeout(function(){throw e})}function Ka(e){return e==="head"}function qv(e,t){var n=t,r=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(n&1&&Ji(o.documentElement),n&2&&Ji(o.body),n&4)for(n=o.head,Ji(n),o=n.firstChild;o;){var i=o.nextSibling,c=o.nodeName;o[Il]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=i}}if(a===0){e.removeChild(s),gl(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);gl(t)}function qm(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":qm(n),cp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function SM(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Il])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function NM(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function Xm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function EM(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Km=null;function Xv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function wN(e,t,n){switch(t=Wu(n),e){case"html":if(e=t.documentElement,!e)throw Error(Z(452));return e;case"head":if(e=t.head,!e)throw Error(Z(453));return e;case"body":if(e=t.body,!e)throw Error(Z(454));return e;default:throw Error(Z(451))}}function Ji(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);cp(e)}var Rn=new Map,Kv=new Set;function Qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var aa=je.d;je.d={f:_M,r:AM,D:CM,C:kM,L:jM,m:TM,X:MM,S:RM,M:DM};function _M(){var e=aa.f(),t=Zd();return e||t}function AM(e){var t=ei(e);t!==null&&t.tag===5&&t.type==="form"?mS(t):aa.r(e)}var ri=typeof document>"u"?null:document;function SN(e,t,n){var r=ri;if(r&&typeof t=="string"&&t){var a=_n(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Kv.has(a)||(Kv.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),Ct(t,"link",e),yt(t),r.head.appendChild(t)))}}function CM(e){aa.D(e),SN("dns-prefetch",e,null)}function kM(e,t){aa.C(e,t),SN("preconnect",e,t)}function jM(e,t,n){aa.L(e,t,n);var r=ri;if(r&&e&&t){var a='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+_n(n.imageSizes)+'"]')):a+='[href="'+_n(e)+'"]';var s=a;switch(t){case"style":s=Fo(e);break;case"script":s=ai(e)}Rn.has(s)||(e=Ie({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Rn.set(s,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(Kl(s))||t==="script"&&r.querySelector(Wl(s))||(t=r.createElement("link"),Ct(t,"link",e),yt(t),r.head.appendChild(t)))}}function TM(e,t){aa.m(e,t);var n=ri;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+_n(r)+'"][href="'+_n(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ai(e)}if(!Rn.has(s)&&(e=Ie({rel:"modulepreload",href:e},t),Rn.set(s,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wl(s)))return}r=n.createElement("link"),Ct(r,"link",e),yt(r),n.head.appendChild(r)}}}function RM(e,t,n){aa.S(e,t,n);var r=ri;if(r&&e){var a=yo(r).hoistableStyles,s=Fo(e);t=t||"default";var o=a.get(s);if(!o){var i={loading:0,preload:null};if(o=r.querySelector(Kl(s)))i.loading=5;else{e=Ie({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Rn.get(s))&&Yp(e,n);var c=o=r.createElement("link");yt(c),Ct(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){i.loading|=1}),c.addEventListener("error",function(){i.loading|=2}),i.loading|=4,gu(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:i},a.set(s,o)}}}function MM(e,t){aa.X(e,t);var n=ri;if(n&&e){var r=yo(n).hoistableScripts,a=ai(e),s=r.get(a);s||(s=n.querySelector(Wl(a)),s||(e=Ie({src:e,async:!0},t),(t=Rn.get(a))&&Gp(e,t),s=n.createElement("script"),yt(s),Ct(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}function DM(e,t){aa.M(e,t);var n=ri;if(n&&e){var r=yo(n).hoistableScripts,a=ai(e),s=r.get(a);s||(s=n.querySelector(Wl(a)),s||(e=Ie({src:e,async:!0,type:"module"},t),(t=Rn.get(a))&&Gp(e,t),s=n.createElement("script"),yt(s),Ct(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}function Wv(e,t,n,r){var a=(a=za.current)?Qu(a):null;if(!a)throw Error(Z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fo(n.href),n=yo(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fo(n.href);var s=yo(a).hoistableStyles,o=s.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=a.querySelector(Kl(e)))&&!s._p&&(o.instance=s,o.state.loading=5),Rn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Rn.set(e,n),s||zM(a,e,n,o.state))),t&&r===null)throw Error(Z(528,""));return o}if(t&&r!==null)throw Error(Z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ai(n),n=yo(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Z(444,e))}}function Fo(e){return'href="'+_n(e)+'"'}function Kl(e){return'link[rel="stylesheet"]['+e+"]"}function NN(e){return Ie({},e,{"data-precedence":e.precedence,precedence:null})}function zM(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Ct(t,"link",n),yt(t),e.head.appendChild(t))}function ai(e){return'[src="'+_n(e)+'"]'}function Wl(e){return"script[async]"+e}function Qv(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(r)return t.instance=r,yt(r),r;var a=Ie({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),yt(r),Ct(r,"style",a),gu(r,n.precedence,e),t.instance=r;case"stylesheet":a=Fo(n.href);var s=e.querySelector(Kl(a));if(s)return t.state.loading|=4,t.instance=s,yt(s),s;r=NN(n),(a=Rn.get(a))&&Yp(r,a),s=(e.ownerDocument||e).createElement("link"),yt(s);var o=s;return o._p=new Promise(function(i,c){o.onload=i,o.onerror=c}),Ct(s,"link",r),t.state.loading|=4,gu(s,n.precedence,e),t.instance=s;case"script":return s=ai(n.src),(a=e.querySelector(Wl(s)))?(t.instance=a,yt(a),a):(r=n,(a=Rn.get(s))&&(r=Ie({},n),Gp(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),yt(a),Ct(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(Z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,gu(r,n.precedence,e));return t.instance}function gu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,o=0;o<r.length;o++){var i=r[o];if(i.dataset.precedence===t)s=i;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Yp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Gp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var pu=null;function Jv(e,t,n){if(pu===null){var r=new Map,a=pu=new Map;a.set(n,r)}else a=pu,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Il]||s[Tt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(t)||"";o=e+o;var i=r.get(o);i?i.push(s):r.set(o,[s])}}return r}function ex(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function OM(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function EN(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var dl=null;function $M(){}function LM(e,t,n){if(dl===null)throw Error(Z(475));var r=dl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=Fo(n.href),s=e.querySelector(Kl(a));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Ju.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,yt(s);return}s=e.ownerDocument||e,n=NN(n),(a=Rn.get(a))&&Yp(n,a),s=s.createElement("link"),yt(s);var o=s;o._p=new Promise(function(i,c){o.onload=i,o.onerror=c}),Ct(s,"link",n),t.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Ju.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function PM(){if(dl===null)throw Error(Z(475));var e=dl;return e.stylesheets&&e.count===0&&Wm(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wm(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)Wm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ed=null;function Wm(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ed=new Map,t.forEach(BM,e),ed=null,Ju.call(e))}function BM(e,t){if(!(t.state.loading&4)){var n=ed.get(e);if(n)var r=n.get(null);else{n=new Map,ed.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var o=a[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}a=t.instance,o=a.getAttribute("data-precedence"),s=n.get(o)||r,s===r&&n.set(null,a),n.set(o,a),this.count++,r=Ju.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var fl={$$typeof:Dr,Provider:null,Consumer:null,_currentValue:us,_currentValue2:us,_threadCount:0};function IM(e,t,n,r,a,s,o,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ff(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.hiddenUpdates=Ff(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function _N(e,t,n,r,a,s,o,i,c,u,d,f){return e=new IM(e,t,n,o,i,c,u,f),t=1,s===!0&&(t|=24),s=ln(3,null,null,t),e.current=s,s.stateNode=e,t=wp(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Np(s),e}function AN(e){return e?(e=uo,e):uo}function CN(e,t,n,r,a,s){a=AN(a),r.context===null?r.context=a:r.pendingContext=a,r=Oa(t),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=$a(e,r,t),n!==null&&(fn(n,e,t),Vi(n,e,t))}function tx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qp(e,t){tx(e,t),(e=e.alternate)&&tx(e,t)}function kN(e){if(e.tag===13){var t=ti(e,67108864);t!==null&&fn(t,e,67108864),qp(e,67108864)}}var td=!0;function HM(e,t,n,r){var a=fe.T;fe.T=null;var s=je.p;try{je.p=2,Xp(e,t,n,r)}finally{je.p=s,fe.T=a}}function FM(e,t,n,r){var a=fe.T;fe.T=null;var s=je.p;try{je.p=8,Xp(e,t,n,r)}finally{je.p=s,fe.T=a}}function Xp(e,t,n,r){if(td){var a=Qm(r);if(a===null)xh(e,t,r,nd,n),nx(e,r);else if(ZM(a,e,t,n,r))r.stopPropagation();else if(nx(e,r),t&4&&-1<UM.indexOf(e)){for(;a!==null;){var s=ei(a);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=ns(s.pendingLanes);if(o!==0){var i=s;for(i.pendingLanes|=2,i.entangledLanes|=2;o;){var c=1<<31-un(o);i.entanglements[1]|=c,o&=~c}mr(s),!(ze&6)&&(Yu=ir()+500,Xl(0))}}break;case 13:i=ti(s,2),i!==null&&fn(i,s,2),Zd(),qp(s,2)}if(s=Qm(r),s===null&&xh(e,t,r,nd,n),s===a)break;a=s}a!==null&&r.stopPropagation()}else xh(e,t,r,null,n)}}function Qm(e){return e=dp(e),Kp(e)}var nd=null;function Kp(e){if(nd=null,e=ao(e),e!==null){var t=$l(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Jw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nd=e,null}function jN(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kT()){case r1:return 2;case a1:return 8;case Tu:case jT:return 32;case s1:return 268435456;default:return 32}default:return 32}}var Jm=!1,Ba=null,Ia=null,Ha=null,hl=new Map,ml=new Map,Ca=[],UM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nx(e,t){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(t.pointerId)}}function bi(e,t,n,r,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},t!==null&&(t=ei(t),t!==null&&kN(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ZM(e,t,n,r,a){switch(t){case"focusin":return Ba=bi(Ba,e,t,n,r,a),!0;case"dragenter":return Ia=bi(Ia,e,t,n,r,a),!0;case"mouseover":return Ha=bi(Ha,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return hl.set(s,bi(hl.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,ml.set(s,bi(ml.get(s)||null,e,t,n,r,a)),!0}return!1}function TN(e){var t=ao(e.target);if(t!==null){var n=$l(t);if(n!==null){if(t=n.tag,t===13){if(t=Jw(n),t!==null){e.blockedOn=t,LT(e.priority,function(){if(n.tag===13){var r=dn();r=ip(r);var a=ti(n,r);a!==null&&fn(a,n,r),qp(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qm(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pm=r,n.target.dispatchEvent(r),pm=null}else return t=ei(n),t!==null&&kN(t),e.blockedOn=n,!1;t.shift()}return!0}function rx(e,t,n){yu(e)&&n.delete(t)}function VM(){Jm=!1,Ba!==null&&yu(Ba)&&(Ba=null),Ia!==null&&yu(Ia)&&(Ia=null),Ha!==null&&yu(Ha)&&(Ha=null),hl.forEach(rx),ml.forEach(rx)}function Tc(e,t){e.blockedOn===t&&(e.blockedOn=null,Jm||(Jm=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,VM)))}var Rc=null;function ax(e){Rc!==e&&(Rc=e,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if(Kp(r||n)===null)continue;break}var s=ei(n);s!==null&&(e.splice(t,3),t-=3,Mm(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function gl(e){function t(c){return Tc(c,e)}Ba!==null&&Tc(Ba,e),Ia!==null&&Tc(Ia,e),Ha!==null&&Tc(Ha,e),hl.forEach(t),ml.forEach(t);for(var n=0;n<Ca.length;n++){var r=Ca[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ca.length&&(n=Ca[0],n.blockedOn===null);)TN(n),n.blockedOn===null&&Ca.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],o=a[qt]||null;if(typeof s=="function")o||ax(n);else if(o){var i=null;if(s&&s.hasAttribute("formAction")){if(a=s,o=s[qt]||null)i=o.formAction;else if(Kp(a)!==null)continue}else i=o.action;typeof i=="function"?n[r+1]=i:(n.splice(r,3),r-=3),ax(n)}}}function Wp(e){this._internalRoot=e}qd.prototype.render=Wp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));var n=t.current,r=dn();CN(n,r,e,t,null,null)};qd.prototype.unmount=Wp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;CN(e.current,2,null,e,null,null),Zd(),t[Jo]=null}};function qd(e){this._internalRoot=e}qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=u1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ca.length&&t!==0&&t<Ca[n].priority;n++);Ca.splice(n,0,e),n===0&&TN(e)}};var sx=Ww.version;if(sx!=="19.1.0")throw Error(Z(527,sx,"19.1.0"));je.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=wT(t),e=e!==null?e1(e):null,e=e===null?null:e.stateNode,e};var YM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:fe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Ll=Mc.inject(YM),cn=Mc}catch{}}Rd.createRoot=function(e,t){if(!Qw(e))throw Error(Z(299));var n=!1,r="",a=_S,s=AS,o=CS,i=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(i=t.unstable_transitionCallbacks)),t=_N(e,1,!1,null,null,n,r,a,s,o,i,null),e[Jo]=t.current,Vp(e),new Wp(t)};Rd.hydrateRoot=function(e,t,n){if(!Qw(e))throw Error(Z(299));var r=!1,a="",s=_S,o=AS,i=CS,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(i=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=_N(e,1,!0,t,n??null,r,a,s,o,i,c,u),t.context=AN(null),n=t.current,r=dn(),r=ip(r),a=Oa(r),a.callback=null,$a(n,a,r),n=r,t.current.lanes=n,Bl(t,n),mr(t),e[Jo]=t.current,Vp(e),new qd(t)};Rd.version="19.1.0";function RN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RN)}catch(e){console.error(e)}}RN(),Vw.exports=Rd;var GM=Vw.exports;const Mt={DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,DRAWER:202,HEADER:50,SIDEBAR:60,NAVIGATION:70};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ox=e=>{const t=XM(e);return t.charAt(0).toUpperCase()+t.slice(1)},MN=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),KM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:o,...i},c)=>m.createElement("svg",{ref:c,...WM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:MN("lucide",a),...!s&&!KM(i)&&{"aria-hidden":"true"},...i},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const n=m.forwardRef(({className:r,...a},s)=>m.createElement(QM,{ref:s,iconNode:t,className:MN(`lucide-${qM(ox(e))}`,`lucide-${e}`,r),...a}));return n.displayName=ox(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eD=he("arrow-left",JM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],DN=he("book-open",tD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],ix=he("brain",nD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zN=he("check",rD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wr=he("chevron-down",aD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oD=he("chevron-left",sD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xd=he("chevron-right",iD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rd=he("circle-alert",lD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eg=he("circle-check-big",cD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dD=he("circle-x",uD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qp=he("circle",fD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],mD=he("copy",hD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],pD=he("droplets",gD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tg=he("external-link",yD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xD=he("eye",vD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],wD=he("flame",bD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Kd=he("grid-3x3",SD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],ED=he("hammer",ND);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],lx=he("hand",_D);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ON=he("heart",AD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kD=he("house",CD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pl=he("info",jD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Wd=he("list",TD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],$N=he("maximize-2",RD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],DD=he("menu",MD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],LN=he("minimize-2",zD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M5 12h14",key:"1ays0h"}]],cx=he("minus",OD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],LD=he("monitor",$D);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],BD=he("moon",PD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ng=he("plus",ID);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yl=he("rotate-ccw",HD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],UD=he("search-x",FD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qd=he("search",ZD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PN=he("settings",VD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],GD=he("share-2",YD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eo=he("shield",qD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pr=he("star",XD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ux=he("sun",KD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],dx=he("sword",WD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],JD=he("tag",QD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],t3=he("target",e3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],r3=he("trash-2",n3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vl=he("triangle-alert",a3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],el=he("user",s3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hn=he("x",o3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BN=he("zap",i3);var Jp={};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.parse=m3;Jp.serialize=g3;const l3=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,c3=/^[\u0021-\u003A\u003C-\u007E]*$/,u3=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,d3=/^[\u0020-\u003A\u003D-\u007E]*$/,f3=Object.prototype.toString,h3=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function m3(e,t){const n=new h3,r=e.length;if(r<2)return n;const a=(t==null?void 0:t.decode)||p3;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const i=e.indexOf(";",s),c=i===-1?r:i;if(o>c){s=e.lastIndexOf(";",o-1)+1;continue}const u=fx(e,s,o),d=hx(e,o,u),f=e.slice(u,d);if(n[f]===void 0){let h=fx(e,o+1,c),g=hx(e,c,h);const v=a(e.slice(h,g));n[f]=v}s=c+1}while(s<r);return n}function fx(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function hx(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function g3(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!l3.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=r(t);if(!c3.test(a))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+a;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!u3.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!d3.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!y3(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function p3(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function y3(e){return f3.call(e)==="[object Date]"}var mx="popstate";function v3(e={}){function t(a,s){let{pathname:o="/",search:i="",hash:c=""}=Ds(a.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),rg("",{pathname:o,search:i,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let o=a.document.querySelector("base"),i="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");i=u===-1?c:c.slice(0,u)}return i+"#"+(typeof s=="string"?s:xl(s))}function r(a,s){Hn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return b3(t,n,r,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function x3(){return Math.random().toString(36).substring(2,10)}function gx(e,t){return{usr:e.state,key:e.key,idx:t}}function rg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ds(t):t,state:n,key:t&&t.key||r||x3()}}function xl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ds(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function b3(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,i="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){i="POP";let b=d(),p=b==null?null:b-u;u=b,c&&c({action:i,location:x.location,delta:p})}function h(b,p){i="PUSH";let y=rg(x.location,b,p);n&&n(y,b),u=d()+1;let w=gx(y,u),S=x.createHref(y);try{o.pushState(w,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(S)}s&&c&&c({action:i,location:x.location,delta:1})}function g(b,p){i="REPLACE";let y=rg(x.location,b,p);n&&n(y,b),u=d();let w=gx(y,u),S=x.createHref(y);o.replaceState(w,"",S),s&&c&&c({action:i,location:x.location,delta:0})}function v(b){return w3(b)}let x={get action(){return i},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(mx,f),c=b,()=>{a.removeEventListener(mx,f),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let p=v(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(b){return o.go(b)}};return x}function w3(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:xl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function IN(e,t,n="/"){return S3(e,t,n,!1)}function S3(e,t,n,r){let a=typeof t=="string"?Ds(t):t,s=Qr(a.pathname||"/",n);if(s==null)return null;let o=HN(e);N3(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let u=z3(s);i=M3(o[c],u,r)}return i}function HN(e,t=[],n=[],r=""){let a=(s,o,i)=>{let c={relativePath:i===void 0?s.path||"":i,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Ur([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Xe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),HN(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:T3(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var i;if(s.path===""||!((i=s.path)!=null&&i.includes("?")))a(s,o);else for(let c of FN(s.path))a(s,o,c)}),t}function FN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let o=FN(r.join("/")),i=[];return i.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function N3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:R3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var E3=/^:[\w-]+$/,_3=3,A3=2,C3=1,k3=10,j3=-2,px=e=>e==="*";function T3(e,t){let n=e.split("/"),r=n.length;return n.some(px)&&(r+=j3),t&&(r+=A3),n.filter(a=>!px(a)).reduce((a,s)=>a+(E3.test(s)?_3:s===""?C3:k3),r)}function R3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function M3(e,t,n=!1){let{routesMeta:r}=e,a={},s="/",o=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=ad({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ad({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ur([s,f.pathname]),pathnameBase:P3(Ur([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Ur([s,f.pathnameBase]))}return o}function ad(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=D3(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let v=i[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=i[h];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function D3(e,t=!1,n=!0){Hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function z3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function O3(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ds(e):e;return{pathname:n?n.startsWith("/")?n:$3(n,t):t,search:B3(r),hash:I3(a)}}function $3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function wh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UN(e){let t=L3(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ZN(e,t,n,r=!1){let a;typeof e=="string"?a=Ds(e):(a={...e},Xe(!a.pathname||!a.pathname.includes("?"),wh("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),wh("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),wh("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,i;if(o==null)i=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=O3(a,i),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Ur=e=>e.join("/").replace(/\/\/+/g,"/"),P3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,I3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function H3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var VN=["POST","PUT","PATCH","DELETE"];new Set(VN);var F3=["GET",...VN];new Set(F3);var si=m.createContext(null);si.displayName="DataRouter";var Jd=m.createContext(null);Jd.displayName="DataRouterState";var YN=m.createContext({isTransitioning:!1});YN.displayName="ViewTransition";var U3=m.createContext(new Map);U3.displayName="Fetchers";var Z3=m.createContext(null);Z3.displayName="Await";var gr=m.createContext(null);gr.displayName="Navigation";var Ql=m.createContext(null);Ql.displayName="Location";var pr=m.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var e0=m.createContext(null);e0.displayName="RouteError";function V3(e,{relative:t}={}){Xe(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=m.useContext(gr),{hash:a,pathname:s,search:o}=ec(e,{relative:t}),i=s;return n!=="/"&&(i=s==="/"?n:Ur([n,s])),r.createHref({pathname:i,search:o,hash:a})}function Jl(){return m.useContext(Ql)!=null}function sa(){return Xe(Jl(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(Ql).location}var GN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qN(e){m.useContext(gr).static||m.useLayoutEffect(e)}function Wt(){let{isDataRoute:e}=m.useContext(pr);return e?o4():Y3()}function Y3(){Xe(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(si),{basename:t,navigator:n}=m.useContext(gr),{matches:r}=m.useContext(pr),{pathname:a}=sa(),s=JSON.stringify(UN(r)),o=m.useRef(!1);return qN(()=>{o.current=!0}),m.useCallback((c,u={})=>{if(Hn(o.current,GN),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=ZN(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ur([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,a,e])}var G3=m.createContext(null);function q3(e){let t=m.useContext(pr).outlet;return t&&m.createElement(G3.Provider,{value:e},t)}function ec(e,{relative:t}={}){let{matches:n}=m.useContext(pr),{pathname:r}=sa(),a=JSON.stringify(UN(n));return m.useMemo(()=>ZN(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function X3(e,t){return XN(e,t)}function XN(e,t,n,r){var p;Xe(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=m.useContext(gr),{matches:s}=m.useContext(pr),o=s[s.length-1],i=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let y=d&&d.path||"";KN(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=sa(),h;if(t){let y=typeof t=="string"?Ds(t):t;Xe(u==="/"||((p=y.pathname)==null?void 0:p.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),h=y}else h=f;let g=h.pathname||"/",v=g;if(u!=="/"){let y=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=IN(e,{pathname:v});Hn(d||x!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Hn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=e4(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},i,y.params),pathname:Ur([u,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Ur([u,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&b?m.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},b):b}function K3(){let e=s4(),t=H3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:s},"ErrorBoundary")," or"," ",m.createElement("code",{style:s},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,o)}var W3=m.createElement(K3,null),Q3=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?m.createElement(pr.Provider,{value:this.props.routeContext},m.createElement(e0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J3({routeContext:e,match:t,children:n}){let r=m.useContext(si);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(pr.Provider,{value:e},n)}function e4(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n==null?void 0:n.errors;if(s!=null){let c=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Xe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,i=-1;if(n)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=c),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){o=!0,i>=0?a=a.slice(0,i+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let f,h=!1,g=null,v=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,g=u.route.errorElement||W3,o&&(i<0&&d===0?(KN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):i===d&&(h=!0,v=u.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,d+1)),b=()=>{let p;return f?p=g:h?p=v:u.route.Component?p=m.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=c,m.createElement(J3,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:p})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?m.createElement(Q3,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function t0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t4(e){let t=m.useContext(si);return Xe(t,t0(e)),t}function n4(e){let t=m.useContext(Jd);return Xe(t,t0(e)),t}function r4(e){let t=m.useContext(pr);return Xe(t,t0(e)),t}function n0(e){let t=r4(e),n=t.matches[t.matches.length-1];return Xe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function a4(){return n0("useRouteId")}function s4(){var r;let e=m.useContext(e0),t=n4("useRouteError"),n=n0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function o4(){let{router:e}=t4("useNavigate"),t=n0("useNavigate"),n=m.useRef(!1);return qN(()=>{n.current=!0}),m.useCallback(async(a,s={})=>{Hn(n.current,GN),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var yx={};function KN(e,t,n){!t&&!yx[e]&&(yx[e]=!0,Hn(!1,n))}m.memo(i4);function i4({routes:e,future:t,state:n}){return XN(e,void 0,n,t)}function l4(e){return q3(e.context)}function Ut(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c4({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){Xe(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),i=m.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof n=="string"&&(n=Ds(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,g=m.useMemo(()=>{let v=Qr(c,o);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:h},navigationType:r}},[o,c,u,d,f,h,r]);return Hn(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:m.createElement(gr.Provider,{value:i},m.createElement(Ql.Provider,{children:t,value:g}))}function u4({children:e,location:t}){return X3(ag(e),t)}function ag(e,t=[]){let n=[];return m.Children.forEach(e,(r,a)=>{if(!m.isValidElement(r))return;let s=[...t,a];if(r.type===m.Fragment){n.push.apply(n,ag(r.props.children,s));return}Xe(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ag(r.props.children,s)),n.push(o)}),n}var vu="get",xu="application/x-www-form-urlencoded";function ef(e){return e!=null&&typeof e.tagName=="string"}function d4(e){return ef(e)&&e.tagName.toLowerCase()==="button"}function f4(e){return ef(e)&&e.tagName.toLowerCase()==="form"}function h4(e){return ef(e)&&e.tagName.toLowerCase()==="input"}function m4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g4(e,t){return e.button===0&&(!t||t==="_self")&&!m4(e)}var Dc=null;function p4(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var y4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sh(e){return e!=null&&!y4.has(e)?(Hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xu}"`),null):e}function v4(e,t){let n,r,a,s,o;if(f4(e)){let i=e.getAttribute("action");r=i?Qr(i,t):null,n=e.getAttribute("method")||vu,a=Sh(e.getAttribute("enctype"))||xu,s=new FormData(e)}else if(d4(e)||h4(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||i.getAttribute("action");if(r=c?Qr(c,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||vu,a=Sh(e.getAttribute("formenctype"))||Sh(i.getAttribute("enctype"))||xu,s=new FormData(i,e),!p4()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(ef(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vu,r=null,a=xu,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:o}}function r0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function x4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function w4(e,t,n){let r=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await x4(s,n);return o.links?o.links():[]}return[]}));return _4(r.flat(1).filter(b4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vx(e,t,n,r,a,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,i=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>o(c,u)||i(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||i(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function S4(e,t,{includeHydrateFallback:n}={}){return N4(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function N4(e){return[...new Set(e)]}function E4(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function _4(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let s=JSON.stringify(E4(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var A4=new Set([100,101,204,205]);function C4(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Qr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function WN(){let e=m.useContext(si);return r0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function k4(){let e=m.useContext(Jd);return r0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var a0=m.createContext(void 0);a0.displayName="FrameworkContext";function QN(){let e=m.useContext(a0);return r0(e,"You must render this element inside a <HydratedRouter> element"),e}function j4(e,t){let n=m.useContext(a0),[r,a]=m.useState(!1),[s,o]=m.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=m.useRef(null);m.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=p=>{p.forEach(y=>{o(y.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),m.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{a(!0)},v=()=>{a(!1),o(!1)};return n?e!=="intent"?[s,h,{}]:[s,h,{onFocus:wi(i,g),onBlur:wi(c,v),onMouseEnter:wi(u,g),onMouseLeave:wi(d,v),onTouchStart:wi(f,g)}]:[!1,h,{}]}function wi(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function T4({page:e,...t}){let{router:n}=WN(),r=m.useMemo(()=>IN(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?m.createElement(M4,{page:e,matches:r,...t}):null}function R4(e){let{manifest:t,routeModules:n}=QN(),[r,a]=m.useState([]);return m.useEffect(()=>{let s=!1;return w4(e,t,n).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,n]),r}function M4({page:e,matches:t,...n}){let r=sa(),{manifest:a,routeModules:s}=QN(),{basename:o}=WN(),{loaderData:i,matches:c}=k4(),u=m.useMemo(()=>vx(e,t,c,a,r,"data"),[e,t,c,a,r]),d=m.useMemo(()=>vx(e,t,c,a,r,"assets"),[e,t,c,a,r]),f=m.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(t.forEach(p=>{var w;let y=a.routes[p.route.id];!y||!y.hasLoader||(!u.some(S=>S.route.id===p.route.id)&&p.route.id in i&&((w=s[p.route.id])!=null&&w.shouldRevalidate)||y.hasClientLoader?x=!0:v.add(p.route.id))}),v.size===0)return[];let b=C4(e,o);return x&&v.size>0&&b.searchParams.set("_routes",t.filter(p=>v.has(p.route.id)).map(p=>p.route.id).join(",")),[b.pathname+b.search]},[o,i,r,a,u,t,e,s]),h=m.useMemo(()=>S4(d,a),[d,a]),g=R4(d);return m.createElement(m.Fragment,null,f.map(v=>m.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>m.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:x})=>m.createElement("link",{key:v,...x})))}function D4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var JN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JN&&(window.__reactRouterVersion="7.6.3")}catch{}function z4({basename:e,children:t,window:n}){let r=m.useRef();r.current==null&&(r.current=v3({window:n,v5Compat:!0}));let a=r.current,[s,o]=m.useState({action:a.action,location:a.location}),i=m.useCallback(c=>{m.startTransition(()=>o(c))},[o]);return m.useLayoutEffect(()=>a.listen(i),[a,i]),m.createElement(c4,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var eE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tE=m.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:o,state:i,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},g){let{basename:v}=m.useContext(gr),x=typeof u=="string"&&eE.test(u),b,p=!1;if(typeof u=="string"&&x&&(b=u,JN))try{let j=new URL(window.location.href),A=u.startsWith("//")?new URL(j.protocol+u):new URL(u),D=Qr(A.pathname,v);A.origin===j.origin&&D!=null?u=D+A.search+A.hash:p=!0}catch{Hn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=V3(u,{relative:a}),[w,S,N]=j4(r,h),C=P4(u,{replace:o,state:i,target:c,preventScrollReset:d,relative:a,viewTransition:f});function E(j){t&&t(j),j.defaultPrevented||C(j)}let _=m.createElement("a",{...h,...N,href:b||y,onClick:p||s?t:E,ref:D4(g,S),target:c,"data-discover":!x&&n==="render"?"true":void 0});return w&&!x?m.createElement(m.Fragment,null,_,m.createElement(T4,{page:y})):_});tE.displayName="Link";var O4=m.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:o,viewTransition:i,children:c,...u},d){let f=ec(o,{relative:u.relative}),h=sa(),g=m.useContext(Jd),{navigator:v,basename:x}=m.useContext(gr),b=g!=null&&U4(f)&&i===!0,p=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=h.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&x&&(w=Qr(w,x)||w);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let N=y===p||!a&&y.startsWith(p)&&y.charAt(S)==="/",C=w!=null&&(w===p||!a&&w.startsWith(p)&&w.charAt(p.length)==="/"),E={isActive:N,isPending:C,isTransitioning:b},_=N?t:void 0,j;typeof r=="function"?j=r(E):j=[r,N?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(E):s;return m.createElement(tE,{...u,"aria-current":_,className:j,ref:d,style:A,to:o,viewTransition:i},typeof c=="function"?c(E):c)});O4.displayName="NavLink";var $4=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:s,method:o=vu,action:i,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},g)=>{let v=H4(),x=F4(i,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",p=typeof i=="string"&&eE.test(i),y=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let S=w.nativeEvent.submitter,N=(S==null?void 0:S.getAttribute("formmethod"))||o;v(S||w.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return m.createElement("form",{ref:g,method:b,action:x,onSubmit:r?c:y,...h,"data-discover":!p&&e==="render"?"true":void 0})});$4.displayName="Form";function L4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nE(e){let t=m.useContext(si);return Xe(t,L4(e)),t}function P4(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:o}={}){let i=Wt(),c=sa(),u=ec(e,{relative:s});return m.useCallback(d=>{if(g4(d,t)){d.preventDefault();let f=n!==void 0?n:xl(c)===xl(u);i(e,{replace:f,state:r,preventScrollReset:a,relative:s,viewTransition:o})}},[c,i,u,n,r,t,e,a,s,o])}var B4=0,I4=()=>`__${String(++B4)}__`;function H4(){let{router:e}=nE("useSubmit"),{basename:t}=m.useContext(gr),n=a4();return m.useCallback(async(r,a={})=>{let{action:s,method:o,encType:i,formData:c,body:u}=v4(r,t);if(a.navigate===!1){let d=a.fetcherKey||I4();await e.fetch(d,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function F4(e,{relative:t}={}){let{basename:n}=m.useContext(gr),r=m.useContext(pr);Xe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...ec(e||".",{relative:t})},o=sa();if(e==null){s.search=o.search;let i=new URLSearchParams(s.search),c=i.getAll("index");if(c.some(d=>d==="")){i.delete("index"),c.filter(f=>f).forEach(f=>i.append("index",f));let d=i.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ur([n,s.pathname])),xl(s)}function U4(e,t={}){let n=m.useContext(YN);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nE("useViewTransitionState"),a=ec(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ad(a.pathname,o)!=null||ad(a.pathname,s)!=null}[...A4];const xx={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},equipment:[],userProgress:{unlocks:[]},destinyPath:[]},bx=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,h))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,a,i);return i},Z4=e=>e?bx(e):bx,V4=e=>e;function Y4(e,t=V4){const n=O.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return O.useDebugValue(n),n}const wx=e=>{const t=Z4(e),n=r=>Y4(t,r);return Object.assign(n,t),n},G4=e=>e?wx(e):wx,to=G4(e=>({build:xx,updateBuild:t=>e(n=>({build:{...n.build,...t}})),setBuild:t=>e({build:t}),resetBuild:()=>e({build:xx})}));function Dt(){const e=to(H=>H.build.skills.major),t=to(H=>H.build.skills.minor),n=to(H=>H.build),r=to(H=>H.updateBuild),a=to(H=>H.resetBuild),s=H=>(e==null?void 0:e.includes(H))??!1,o=H=>(t==null?void 0:t.includes(H))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:s,hasMinorSkill:o,addMajorSkill:H=>{const q=e??[],K=t??[];if(!s(H)&&q.length<3){const re=K.filter(X=>X!==H);r({skills:{major:[...q,H],minor:re}})}},removeMajorSkill:H=>{const q=e??[],K=t??[],re=q.filter(X=>X!==H);r({skills:{major:re,minor:K}})},addMinorSkill:H=>{const q=e??[],K=t??[];if(!o(H)&&K.length<6){const re=q.filter(X=>X!==H);r({skills:{major:re,minor:[...K,H]}})}},removeMinorSkill:H=>{const q=e??[],re=(t??[]).filter(X=>X!==H);r({skills:{major:q,minor:re}})},addPerk:(H,q)=>{var X;const K=((X=n==null?void 0:n.perks)==null?void 0:X.selected)??{},re=K[H]??[];re.includes(q)||r({perks:{...n==null?void 0:n.perks,selected:{...K,[H]:[...re,q]}}})},removePerk:(H,q)=>{var ge;const K=((ge=n==null?void 0:n.perks)==null?void 0:ge.selected)??{},X=(K[H]??[]).filter(Ce=>Ce!==q);r({perks:{...n==null?void 0:n.perks,selected:{...K,[H]:X}}})},setPerkRank:(H,q)=>{var re;const K=((re=n==null?void 0:n.perks)==null?void 0:re.ranks)??{};r({perks:{...n==null?void 0:n.perks,ranks:{...K,[H]:q}}})},clearSkillPerks:H=>{var Ce,ye;const q=((Ce=n==null?void 0:n.perks)==null?void 0:Ce.selected)??{},K=((ye=n==null?void 0:n.perks)==null?void 0:ye.ranks)??{},{[H]:re,...X}=q,ge={...K};re&&re.forEach(ee=>{delete ge[ee]}),r({perks:{...n==null?void 0:n.perks,selected:X,ranks:ge}})},getSkillPerks:H=>{var q,K;return((K=(q=n==null?void 0:n.perks)==null?void 0:q.selected)==null?void 0:K[H])??[]},getPerkRank:H=>{var q,K;return((K=(q=n==null?void 0:n.perks)==null?void 0:q.ranks)==null?void 0:K[H])??0},addTrait:H=>{const{regular:q=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:re=2,bonus:X=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};q.length<re?r({traits:{...n==null?void 0:n.traits,regular:[...q,H]}}):K.length<X&&r({traits:{...n==null?void 0:n.traits,bonus:[...K,H]}})},addRegularTrait:H=>{const{regular:q=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:K=2}=(n==null?void 0:n.traitLimits)??{regular:2};q.length<K&&r({traits:{...n==null?void 0:n.traits,regular:[...q,H]}})},addBonusTrait:H=>{const{bonus:q=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:K=1}=(n==null?void 0:n.traitLimits)??{bonus:1};q.length<K&&r({traits:{...n==null?void 0:n.traits,bonus:[...q,H]}})},removeTrait:H=>{const{regular:q=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};r({traits:{regular:q.filter(re=>re!==H),bonus:K.filter(re=>re!==H)}})},hasTrait:H=>{var q,K,re,X;return(((K=(q=n==null?void 0:n.traits)==null?void 0:q.regular)==null?void 0:K.includes(H))??!1)||(((X=(re=n==null?void 0:n.traits)==null?void 0:re.bonus)==null?void 0:X.includes(H))??!1)},hasRegularTrait:H=>{var q,K;return((K=(q=n==null?void 0:n.traits)==null?void 0:q.regular)==null?void 0:K.includes(H))??!1},hasBonusTrait:H=>{var q,K;return((K=(q=n==null?void 0:n.traits)==null?void 0:q.bonus)==null?void 0:K.includes(H))??!1},setRace:H=>{r({race:H})},setBirthsign:H=>{r({stone:H})},setStone:H=>{r({stone:H})},setReligion:H=>{r({religion:H})},addEquipment:H=>{const q=(n==null?void 0:n.equipment)??[];q.includes(H)||r({equipment:[...q,H]})},removeEquipment:H=>{const q=(n==null?void 0:n.equipment)??[];r({equipment:q.filter(K=>K!==H)})},setBuildName:H=>{r({name:H})},setBuildNotes:H=>{r({notes:H})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:H=>{r({destinyPath:H})},updateBuild:r,clearBuild:()=>{r({name:"",notes:"",race:null,stone:null,religion:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},destinyPath:[]})},resetBuild:a,getSummary:()=>{var H,q,K,re,X,ge,Ce,ye,ee;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((q=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:q.length)??0)+(((re=(K=n==null?void 0:n.traits)==null?void 0:K.bonus)==null?void 0:re.length)??0),majorSkillCount:((ge=(X=n==null?void 0:n.skills)==null?void 0:X.major)==null?void 0:ge.length)??0,minorSkillCount:((ye=(Ce=n==null?void 0:n.skills)==null?void 0:Ce.minor)==null?void 0:ye.length)??0,equipmentCount:((ee=n==null?void 0:n.equipment)==null?void 0:ee.length)??0}},getRegularTraitLimit:()=>{var H;return((H=n==null?void 0:n.traitLimits)==null?void 0:H.regular)??2},getBonusTraitLimit:()=>{var H;return((H=n==null?void 0:n.traitLimits)==null?void 0:H.bonus)??1},getRegularTraitCount:()=>{var H,q;return((q=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:q.length)??0},getBonusTraitCount:()=>{var H,q;return((q=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:q.length)??0},canAddRegularTrait:()=>{var H,q,K;return(((q=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:q.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.regular)??2)},canAddBonusTrait:()=>{var H,q,K;return(((q=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:q.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.bonus)??1)},getTraitType:H=>{var q,K,re,X;return(K=(q=n==null?void 0:n.traits)==null?void 0:q.regular)!=null&&K.includes(H)?"regular":(X=(re=n==null?void 0:n.traits)==null?void 0:re.bonus)!=null&&X.includes(H)?"bonus":null},isAllTraitsFull:()=>{var X,ge,Ce,ye,ee,Ye;const H=((ge=(X=n==null?void 0:n.traits)==null?void 0:X.regular)==null?void 0:ge.length)??0,q=((ye=(Ce=n==null?void 0:n.traits)==null?void 0:Ce.bonus)==null?void 0:ye.length)??0,K=((ee=n==null?void 0:n.traitLimits)==null?void 0:ee.regular)??2,re=((Ye=n==null?void 0:n.traitLimits)==null?void 0:Ye.bonus)??1;return H>=K&&q>=re},addTraitToSlot:(H,q)=>{if(q==="regular"){const{regular:K=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:re=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(K.length<re){const{bonus:X=[]}=(n==null?void 0:n.traits)??{bonus:[]},ge=X.filter(Ce=>Ce!==H);r({traits:{regular:[...K,H],bonus:ge}})}}else{const{bonus:K=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:re=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(K.length<re){const{regular:X=[]}=(n==null?void 0:n.traits)??{regular:[]},ge=X.filter(Ce=>Ce!==H);r({traits:{regular:ge,bonus:[...K,H]}})}}},isSlotAvailable:(H,q=0)=>{var K,re,X,ge;return H==="regular"?(((re=(K=n==null?void 0:n.traits)==null?void 0:K.regular)==null?void 0:re.length)??0)<=q:(((ge=(X=n==null?void 0:n.traits)==null?void 0:X.bonus)==null?void 0:ge.length)??0)<=q}}}function rE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=rE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function aE(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=rE(e))&&(r&&(r+=" "),r+=t);return r}const Sx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Nx=aE,tc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Nx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=Sx(d)||Sx(f);return a[u][h]}),i=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(v=>{let[x,b]=v;return Array.isArray(b)?b.includes({...s,...i}[x]):{...s,...i}[x]===b})?[...u,f,h]:u},[]);return Nx(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},s0="-",q4=e=>{const t=K4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const i=o.split(s0);return i[0]===""&&i.length!==1&&i.shift(),sE(i,t)||X4(o)},getConflictingClassGroupIds:(o,i)=>{const c=n[o]||[];return i&&r[o]?[...c,...r[o]]:c}}},sE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?sE(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(s0);return(o=t.validators.find(({validator:i})=>i(s)))==null?void 0:o.classGroupId},Ex=/^\[(.+)\]$/,X4=e=>{if(Ex.test(e)){const t=Ex.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},K4=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)sg(n[a],r,a,t);return r},sg=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:_x(t,a);s.classGroupId=n;return}if(typeof a=="function"){if(W4(a)){sg(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([s,o])=>{sg(o,_x(t,s),n,r)})})},_x=(e,t)=>{let n=e;return t.split(s0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},W4=e=>e.isThemeGetter,Q4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return a(s,o),o},set(s,o){n.has(s)?n.set(s,o):a(s,o)}}},og="!",ig=":",J4=ig.length,e5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const s=[];let o=0,i=0,c=0,u;for(let v=0;v<a.length;v++){let x=a[v];if(o===0&&i===0){if(x===ig){s.push(a.slice(c,v)),c=v+J4;continue}if(x==="/"){u=v;continue}}x==="["?o++:x==="]"?o--:x==="("?i++:x===")"&&i--}const d=s.length===0?a:a.substring(c),f=t5(d),h=f!==d,g=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}};if(t){const a=t+ig,s=r;r=o=>o.startsWith(a)?s(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=s=>n({className:s,parseClassName:a})}return r},t5=e=>e.endsWith(og)?e.substring(0,e.length-1):e.startsWith(og)?e.substring(1):e,n5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let s=[];return r.forEach(o=>{o[0]==="["||t[o]?(a.push(...s.sort(),o),s=[]):s.push(o)}),a.push(...s.sort()),a}},r5=e=>({cache:Q4(e.cacheSize),parseClassName:e5(e),sortModifiers:n5(e),...q4(e)}),a5=/\s+/,s5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:s}=t,o=[],i=e.trim().split(a5);let c="";for(let u=i.length-1;u>=0;u-=1){const d=i[u],{isExternal:f,modifiers:h,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let b=!!x,p=r(b?v.substring(0,x):v);if(!p){if(!b){c=d+(c.length>0?" "+c:c);continue}if(p=r(v),!p){c=d+(c.length>0?" "+c:c);continue}b=!1}const y=s(h).join(":"),w=g?y+og:y,S=w+p;if(o.includes(S))continue;o.push(S);const N=a(p,b);for(let C=0;C<N.length;++C){const E=N[C];o.push(w+E)}c=d+(c.length>0?" "+c:c)}return c};function o5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oE(t))&&(r&&(r+=" "),r+=n);return r}const oE=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=oE(e[r]))&&(n&&(n+=" "),n+=t);return n};function i5(e,...t){let n,r,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=r5(u),r=n.cache.get,a=n.cache.set,s=i,i(c)}function i(c){const u=r(c);if(u)return u;const d=s5(c,n);return a(c,d),d}return function(){return s(o5.apply(null,arguments))}}const lt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},iE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,l5=/^\d+\/\d+$/,c5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,f5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fs=e=>l5.test(e),xe=e=>!!e&&!Number.isNaN(Number(e)),pa=e=>!!e&&Number.isInteger(Number(e)),Nh=e=>e.endsWith("%")&&xe(e.slice(0,-1)),jr=e=>c5.test(e),m5=()=>!0,g5=e=>u5.test(e)&&!d5.test(e),cE=()=>!1,p5=e=>f5.test(e),y5=e=>h5.test(e),v5=e=>!te(e)&&!ne(e),x5=e=>oi(e,fE,cE),te=e=>iE.test(e),es=e=>oi(e,hE,g5),Eh=e=>oi(e,E5,xe),Ax=e=>oi(e,uE,cE),b5=e=>oi(e,dE,y5),zc=e=>oi(e,mE,p5),ne=e=>lE.test(e),Si=e=>ii(e,hE),w5=e=>ii(e,_5),Cx=e=>ii(e,uE),S5=e=>ii(e,fE),N5=e=>ii(e,dE),Oc=e=>ii(e,mE,!0),oi=(e,t,n)=>{const r=iE.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ii=(e,t,n=!1)=>{const r=lE.exec(e);return r?r[1]?t(r[1]):n:!1},uE=e=>e==="position"||e==="percentage",dE=e=>e==="image"||e==="url",fE=e=>e==="length"||e==="size"||e==="bg-size",hE=e=>e==="length",E5=e=>e==="number",_5=e=>e==="family-name",mE=e=>e==="shadow",A5=()=>{const e=lt("color"),t=lt("font"),n=lt("text"),r=lt("font-weight"),a=lt("tracking"),s=lt("leading"),o=lt("breakpoint"),i=lt("container"),c=lt("spacing"),u=lt("radius"),d=lt("shadow"),f=lt("inset-shadow"),h=lt("text-shadow"),g=lt("drop-shadow"),v=lt("blur"),x=lt("perspective"),b=lt("aspect"),p=lt("ease"),y=lt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...S(),ne,te],C=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],_=()=>[ne,te,c],j=()=>[Fs,"full","auto",..._()],A=()=>[pa,"none","subgrid",ne,te],D=()=>["auto",{span:["full",pa,ne,te]},pa,ne,te],I=()=>[pa,"auto",ne,te],R=()=>["auto","min","max","fr",ne,te],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",..._()],P=()=>[Fs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],z=()=>[e,ne,te],M=()=>[...S(),Cx,Ax,{position:[ne,te]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",S5,x5,{size:[ne,te]}],F=()=>[Nh,Si,es],Y=()=>["","none","full",u,ne,te],V=()=>["",xe,Si,es],W=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[xe,Nh,Cx,Ax],le=()=>["","none",v,ne,te],me=()=>["none",xe,ne,te],H=()=>["none",xe,ne,te],q=()=>[xe,ne,te],K=()=>[Fs,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[jr],breakpoint:[jr],color:[m5],container:[jr],"drop-shadow":[jr],ease:["in","out","in-out"],font:[v5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[jr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[jr],shadow:[jr],spacing:["px",xe],text:[jr],"text-shadow":[jr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fs,te,ne,b]}],container:["container"],columns:[{columns:[xe,te,ne,i]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[pa,"auto",ne,te]}],basis:[{basis:[Fs,"full","auto",i,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xe,Fs,"auto","initial","none",te]}],grow:[{grow:["",xe,ne,te]}],shrink:[{shrink:["",xe,ne,te]}],order:[{order:[pa,"first","last","none",ne,te]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[i,"screen",...P()]}],"min-w":[{"min-w":[i,"screen","none",...P()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[o]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,Si,es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ne,Eh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nh,te]}],"font-family":[{font:[w5,te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ne,te]}],"line-clamp":[{"line-clamp":[xe,"none",ne,Eh]}],leading:[{leading:[s,..._()]}],"list-image":[{"list-image":["none",ne,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ne,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:[xe,"from-font","auto",ne,es]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[xe,"auto",ne,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pa,ne,te],radial:["",ne,te],conic:[pa,ne,te]},N5,b5]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...W(),"hidden","none"]}],"divide-style":[{divide:[...W(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...W(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xe,ne,te]}],"outline-w":[{outline:["",xe,Si,es]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",d,Oc,zc]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",f,Oc,zc]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[xe,es]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",h,Oc,zc]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[xe,ne,te]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[ne,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ne,te]}],filter:[{filter:["","none",ne,te]}],blur:[{blur:le()}],brightness:[{brightness:[xe,ne,te]}],contrast:[{contrast:[xe,ne,te]}],"drop-shadow":[{"drop-shadow":["","none",g,Oc,zc]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",xe,ne,te]}],"hue-rotate":[{"hue-rotate":[xe,ne,te]}],invert:[{invert:["",xe,ne,te]}],saturate:[{saturate:[xe,ne,te]}],sepia:[{sepia:["",xe,ne,te]}],"backdrop-filter":[{"backdrop-filter":["","none",ne,te]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[xe,ne,te]}],"backdrop-contrast":[{"backdrop-contrast":[xe,ne,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xe,ne,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xe,ne,te]}],"backdrop-invert":[{"backdrop-invert":["",xe,ne,te]}],"backdrop-opacity":[{"backdrop-opacity":[xe,ne,te]}],"backdrop-saturate":[{"backdrop-saturate":[xe,ne,te]}],"backdrop-sepia":[{"backdrop-sepia":["",xe,ne,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ne,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xe,"initial",ne,te]}],ease:[{ease:["linear","initial",p,ne,te]}],delay:[{delay:[xe,ne,te]}],animate:[{animate:["none",y,ne,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,ne,te]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[ne,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne,te]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[xe,Si,es,Eh]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},C5=i5(A5);function G(...e){return C5(aE(e))}const k5=tc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ue({className:e,variant:t,...n}){return l.jsx("div",{className:G(k5({variant:t}),e),...n})}function kx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tf(...e){return t=>{let n=!1;const r=e.map(a=>{const s=kx(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():kx(e[a],null)}}}}function Re(...e){return m.useCallback(tf(...e),e)}function Uo(e){const t=T5(e),n=m.forwardRef((r,a)=>{const{children:s,...o}=r,i=m.Children.toArray(s),c=i.find(M5);if(c){const u=c.props.children,d=i.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...o,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}var j5=Uo("Slot");function T5(e){const t=m.forwardRef((n,r)=>{const{children:a,...s}=n;if(m.isValidElement(a)){const o=z5(a),i=D5(s,a.props);return a.type!==m.Fragment&&(i.ref=r?tf(r,o):o),m.cloneElement(a,i)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gE=Symbol("radix.slottable");function R5(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=gE,t}function M5(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gE}function D5(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...i)=>{const c=s(...i);return a(...i),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function z5(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const O5=tc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function ae({className:e,variant:t,size:n,asChild:r=!1,...a}){const s=r?j5:"button";return l.jsx(s,{"data-slot":"button",className:G(O5({variant:t,size:n,className:e})),...a})}function J(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function $5(e,t){const n=m.createContext(t),r=s=>{const{children:o,...i}=s,c=m.useMemo(()=>i,Object.values(i));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(s){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,a]}function yn(e,t=[]){let n=[];function r(s,o){const i=m.createContext(o),c=n.length;n=[...n,o];const u=f=>{var p;const{scope:h,children:g,...v}=f,x=((p=h==null?void 0:h[e])==null?void 0:p[c])||i,b=m.useMemo(()=>v,Object.values(v));return l.jsx(x.Provider,{value:b,children:g})};u.displayName=s+"Provider";function d(f,h){var x;const g=((x=h==null?void 0:h[e])==null?void 0:x[c])||i,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=n.map(o=>m.createContext(o));return function(i){const c=(i==null?void 0:i[e])||s;return m.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return a.scopeName=e,[r,L5(a,...t)]}function L5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=r.reduce((i,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...i,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var dr=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},P5=Zw[" useId ".trim().toString()]||(()=>{}),B5=0;function Zr(e){const[t,n]=m.useState(P5());return dr(()=>{n(r=>r??String(B5++))},[e]),t?`radix-${t}`:""}var I5=Zw[" useInsertionEffect ".trim().toString()]||dr;function oa({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,s,o]=H5({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:a;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=m.useCallback(d=>{var f;if(i){const h=F5(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[i,e,s,o]);return[c,u]}function H5({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),a=m.useRef(n),s=m.useRef(t);return I5(()=>{s.current=t},[t]),m.useEffect(()=>{var o;a.current!==n&&((o=s.current)==null||o.call(s,n),a.current=n)},[n,a]),[n,r,s]}function F5(e){return typeof e=="function"}var U5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=U5.reduce((e,t)=>{const n=Uo(`Primitive.${t}`),r=m.forwardRef((a,s)=>{const{asChild:o,...i}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function pE(e,t){e&&Dd.flushSync(()=>e.dispatchEvent(t))}function jt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Z5(e,t=globalThis==null?void 0:globalThis.document){const n=jt(e);m.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var V5="DismissableLayer",lg="dismissableLayer.update",Y5="dismissableLayer.pointerDownOutside",G5="dismissableLayer.focusOutside",jx,yE=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nc=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:i,...c}=e,u=m.useContext(yE),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=Re(t,E=>f(E)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(b),y=d?x.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=p,N=K5(E=>{const _=E.target,j=[...u.branches].some(A=>A.contains(_));!S||j||(a==null||a(E),o==null||o(E),E.defaultPrevented||i==null||i())},h),C=W5(E=>{const _=E.target;[...u.branches].some(A=>A.contains(_))||(s==null||s(E),o==null||o(E),E.defaultPrevented||i==null||i())},h);return Z5(E=>{y===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&i&&(E.preventDefault(),i()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Tx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=jx)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Tx())},[d,u]),m.useEffect(()=>{const E=()=>g({});return document.addEventListener(lg,E),()=>document.removeEventListener(lg,E)},[]),l.jsx(pe.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:J(e.onFocusCapture,C.onFocusCapture),onBlurCapture:J(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:J(e.onPointerDownCapture,N.onPointerDownCapture)})});nc.displayName=V5;var q5="DismissableLayerBranch",X5=m.forwardRef((e,t)=>{const n=m.useContext(yE),r=m.useRef(null),a=Re(t,r);return m.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(pe.div,{...e,ref:a})});X5.displayName=q5;function K5(e,t=globalThis==null?void 0:globalThis.document){const n=jt(e),r=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const s=i=>{if(i.target&&!r.current){let c=function(){vE(Y5,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function W5(e,t=globalThis==null?void 0:globalThis.document){const n=jt(e),r=m.useRef(!1);return m.useEffect(()=>{const a=s=>{s.target&&!r.current&&vE(G5,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tx(){const e=new CustomEvent(lg);document.dispatchEvent(e)}function vE(e,t,n,{discrete:r}){const a=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?pE(a,s):a.dispatchEvent(s)}var _h="focusScope.autoFocusOnMount",Ah="focusScope.autoFocusOnUnmount",Rx={bubbles:!1,cancelable:!0},Q5="FocusScope",o0=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[i,c]=m.useState(null),u=jt(a),d=jt(s),f=m.useRef(null),h=Re(t,x=>c(x)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(w){if(g.paused||!i)return;const S=w.target;i.contains(S)?f.current=S:xa(f.current,{select:!0})},b=function(w){if(g.paused||!i)return;const S=w.relatedTarget;S!==null&&(i.contains(S)||xa(f.current,{select:!0}))},p=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&xa(i)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const y=new MutationObserver(p);return i&&y.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),y.disconnect()}}},[r,i,g.paused]),m.useEffect(()=>{if(i){Dx.add(g);const x=document.activeElement;if(!i.contains(x)){const p=new CustomEvent(_h,Rx);i.addEventListener(_h,u),i.dispatchEvent(p),p.defaultPrevented||(J5(az(xE(i)),{select:!0}),document.activeElement===x&&xa(i))}return()=>{i.removeEventListener(_h,u),setTimeout(()=>{const p=new CustomEvent(Ah,Rx);i.addEventListener(Ah,d),i.dispatchEvent(p),p.defaultPrevented||xa(x??document.body,{select:!0}),i.removeEventListener(Ah,d),Dx.remove(g)},0)}}},[i,u,d,g]);const v=m.useCallback(x=>{if(!n&&!r||g.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(b&&p){const y=x.currentTarget,[w,S]=ez(y);w&&S?!x.shiftKey&&p===S?(x.preventDefault(),n&&xa(w,{select:!0})):x.shiftKey&&p===w&&(x.preventDefault(),n&&xa(S,{select:!0})):p===y&&x.preventDefault()}},[n,r,g.paused]);return l.jsx(pe.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});o0.displayName=Q5;function J5(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(xa(r,{select:t}),document.activeElement!==n)return}function ez(e){const t=xE(e),n=Mx(t,e),r=Mx(t.reverse(),e);return[n,r]}function xE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mx(e,t){for(const n of e)if(!tz(n,{upTo:t}))return n}function tz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nz(e){return e instanceof HTMLInputElement&&"select"in e}function xa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nz(e)&&t&&e.select()}}var Dx=rz();function rz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=zx(e,t),e.unshift(t)},remove(t){var n;e=zx(e,t),(n=e[0])==null||n.resume()}}}function zx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function az(e){return e.filter(t=>t.tagName!=="A")}var sz="Portal",i0=m.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[a,s]=m.useState(!1);dr(()=>s(!0),[]);const o=n||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return o?xT.createPortal(l.jsx(pe.div,{...r,ref:t}),o):null});i0.displayName=sz;function oz(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var zt=e=>{const{present:t,children:n}=e,r=iz(t),a=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),s=Re(r.ref,lz(a));return typeof n=="function"||r.isPresent?m.cloneElement(a,{ref:s}):null};zt.displayName="Presence";function iz(e){const[t,n]=m.useState(),r=m.useRef(null),a=m.useRef(e),s=m.useRef("none"),o=e?"mounted":"unmounted",[i,c]=oz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=$c(r.current);s.current=i==="mounted"?u:"none"},[i]),dr(()=>{const u=r.current,d=a.current;if(d!==e){const h=s.current,g=$c(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),dr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const x=$c(r.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=g=>{g.target===t&&(s.current=$c(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function $c(e){return(e==null?void 0:e.animationName)||"none"}function lz(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ch=0;function bE(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ox()),document.body.insertAdjacentElement("beforeend",e[1]??Ox()),Ch++,()=>{Ch===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ch--}},[])}function Ox(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tr=function(){return tr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},tr.apply(this,arguments)};function wE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function cz(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var bu="right-scroll-bar-position",wu="width-before-scroll-bar",uz="with-scroll-bars-hidden",dz="--removed-body-scroll-bar-size";function kh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fz(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var hz=typeof window<"u"?m.useLayoutEffect:m.useEffect,$x=new WeakMap;function mz(e,t){var n=fz(null,function(r){return e.forEach(function(a){return kh(a,r)})});return hz(function(){var r=$x.get(n);if(r){var a=new Set(r),s=new Set(e),o=n.current;a.forEach(function(i){s.has(i)||kh(i,null)}),s.forEach(function(i){a.has(i)||kh(i,o)})}$x.set(n,e)},[e]),n}function gz(e){return e}function pz(e,t){t===void 0&&(t=gz);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(i){return i!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(i){return s(i)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var i=n;n=[],i.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function yz(e){e===void 0&&(e={});var t=pz(null);return t.options=tr({async:!0,ssr:!1},e),t}var SE=function(e){var t=e.sideCar,n=wE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,tr({},n))};SE.isSideCarExport=!0;function vz(e,t){return e.useMedium(t),SE}var NE=yz(),jh=function(){},nf=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:jh,onWheelCapture:jh,onTouchMoveCapture:jh}),a=r[0],s=r[1],o=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noRelative,v=e.noIsolation,x=e.inert,b=e.allowPinchZoom,p=e.as,y=p===void 0?"div":p,w=e.gapMode,S=wE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,C=mz([n,t]),E=tr(tr({},S),a);return m.createElement(m.Fragment,null,d&&m.createElement(N,{sideCar:NE,removeScrollBar:u,shards:f,noRelative:g,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(i),tr(tr({},E),{ref:C})):m.createElement(y,tr({},E,{className:c,ref:C}),i))});nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nf.classNames={fullWidth:wu,zeroRight:bu};var xz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xz();return t&&e.setAttribute("nonce",t),e}function wz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Sz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Nz=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bz())&&(wz(t,n),Sz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ez=function(){var e=Nz();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},EE=function(){var e=Ez(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},_z={left:0,top:0,right:0,gap:0},Th=function(e){return parseInt(e||"",10)||0},Az=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Th(n),Th(r),Th(a)]},Cz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _z;var t=Az(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},kz=EE(),_o="data-scroll-locked",jz=function(e,t,n,r){var a=e.left,s=e.top,o=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(uz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(_o,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bu,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(wu,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_o,`] {
    `).concat(dz,": ").concat(i,`px;
  }
`)},Lx=function(){var e=parseInt(document.body.getAttribute(_o)||"0",10);return isFinite(e)?e:0},Tz=function(){m.useEffect(function(){return document.body.setAttribute(_o,(Lx()+1).toString()),function(){var e=Lx()-1;e<=0?document.body.removeAttribute(_o):document.body.setAttribute(_o,e.toString())}},[])},Rz=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Tz();var s=m.useMemo(function(){return Cz(a)},[a]);return m.createElement(kz,{styles:jz(s,!t,a,n?"":"!important")})},cg=!1;if(typeof window<"u")try{var Lc=Object.defineProperty({},"passive",{get:function(){return cg=!0,!0}});window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{cg=!1}var Us=cg?{passive:!1}:!1,Mz=function(e){return e.tagName==="TEXTAREA"},_E=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Mz(e)&&n[t]==="visible")},Dz=function(e){return _E(e,"overflowY")},zz=function(e){return _E(e,"overflowX")},Px=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=AE(e,r);if(a){var s=CE(e,r),o=s[1],i=s[2];if(o>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Oz=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},$z=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},AE=function(e,t){return e==="v"?Dz(t):zz(t)},CE=function(e,t){return e==="v"?Oz(t):$z(t)},Lz=function(e,t){return e==="h"&&t==="rtl"?-1:1},Pz=function(e,t,n,r,a){var s=Lz(e,window.getComputedStyle(t).direction),o=s*r,i=n.target,c=t.contains(i),u=!1,d=o>0,f=0,h=0;do{if(!i)break;var g=CE(e,i),v=g[0],x=g[1],b=g[2],p=x-b-s*v;(v||p)&&AE(e,i)&&(f+=p,h+=v);var y=i.parentNode;i=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Pc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bx=function(e){return[e.deltaX,e.deltaY]},Ix=function(e){return e&&"current"in e?e.current:e},Bz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Iz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Hz=0,Zs=[];function Fz(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),a=m.useState(Hz++)[0],s=m.useState(EE)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=cz([e.lockRef.current],(e.shards||[]).map(Ix),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=m.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var p=Pc(x),y=n.current,w="deltaX"in x?x.deltaX:y[0]-p[0],S="deltaY"in x?x.deltaY:y[1]-p[1],N,C=x.target,E=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in x&&E==="h"&&C.type==="range")return!1;var _=Px(E,C);if(!_)return!0;if(_?N=E:(N=E==="v"?"h":"v",_=Px(E,C)),!_)return!1;if(!r.current&&"changedTouches"in x&&(w||S)&&(r.current=N),!N)return!0;var j=r.current||N;return Pz(j,b,x,j==="h"?w:S)},[]),c=m.useCallback(function(x){var b=x;if(!(!Zs.length||Zs[Zs.length-1]!==s)){var p="deltaY"in b?Bx(b):Pc(b),y=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&Bz(N.delta,p)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(Ix).filter(Boolean).filter(function(N){return N.contains(b.target)}),S=w.length>0?i(b,w[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(x,b,p,y){var w={name:x,delta:b,target:p,should:y,shadowParent:Uz(p)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=m.useCallback(function(x){n.current=Pc(x),r.current=void 0},[]),f=m.useCallback(function(x){u(x.type,Bx(x),x.target,i(x,e.lockRef.current))},[]),h=m.useCallback(function(x){u(x.type,Pc(x),x.target,i(x,e.lockRef.current))},[]);m.useEffect(function(){return Zs.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Us),document.addEventListener("touchmove",c,Us),document.addEventListener("touchstart",d,Us),function(){Zs=Zs.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Us),document.removeEventListener("touchmove",c,Us),document.removeEventListener("touchstart",d,Us)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(s,{styles:Iz(a)}):null,g?m.createElement(Rz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Uz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Zz=vz(NE,Fz);var l0=m.forwardRef(function(e,t){return m.createElement(nf,tr({},e,{ref:t,sideCar:Zz}))});l0.classNames=nf.classNames;var Vz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vs=new WeakMap,Bc=new WeakMap,Ic={},Rh=0,kE=function(e){return e&&(e.host||kE(e.parentNode))},Yz=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=kE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Gz=function(e,t,n,r){var a=Yz(t,Array.isArray(e)?e:[e]);Ic[n]||(Ic[n]=new WeakMap);var s=Ic[n],o=[],i=new Set,c=new Set(a),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))d(h);else try{var g=h.getAttribute(r),v=g!==null&&g!=="false",x=(Vs.get(h)||0)+1,b=(s.get(h)||0)+1;Vs.set(h,x),s.set(h,b),o.push(h),x===1&&v&&Bc.set(h,!0),b===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return d(t),i.clear(),Rh++,function(){o.forEach(function(f){var h=Vs.get(f)-1,g=s.get(f)-1;Vs.set(f,h),s.set(f,g),h||(Bc.has(f)||f.removeAttribute(r),Bc.delete(f)),g||f.removeAttribute(n)}),Rh--,Rh||(Vs=new WeakMap,Vs=new WeakMap,Bc=new WeakMap,Ic={})}},jE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Vz(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),Gz(r,a,n,"aria-hidden")):function(){return null}},rf="Dialog",[TE,$X]=yn(rf),[qz,Vn]=TE(rf),RE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,i=m.useRef(null),c=m.useRef(null),[u,d]=oa({prop:r,defaultProp:a??!1,onChange:s,caller:rf});return l.jsx(qz,{scope:t,triggerRef:i,contentRef:c,contentId:Zr(),titleId:Zr(),descriptionId:Zr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};RE.displayName=rf;var ME="DialogTrigger",DE=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Vn(ME,n),s=Re(t,a.triggerRef);return l.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":d0(a.open),...r,ref:s,onClick:J(e.onClick,a.onOpenToggle)})});DE.displayName=ME;var c0="DialogPortal",[Xz,zE]=TE(c0,{forceMount:void 0}),OE=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,s=Vn(c0,t);return l.jsx(Xz,{scope:t,forceMount:n,children:m.Children.map(r,o=>l.jsx(zt,{present:n||s.open,children:l.jsx(i0,{asChild:!0,container:a,children:o})}))})};OE.displayName=c0;var sd="DialogOverlay",$E=m.forwardRef((e,t)=>{const n=zE(sd,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=Vn(sd,e.__scopeDialog);return s.modal?l.jsx(zt,{present:r||s.open,children:l.jsx(Wz,{...a,ref:t})}):null});$E.displayName=sd;var Kz=Uo("DialogOverlay.RemoveScroll"),Wz=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Vn(sd,n);return l.jsx(l0,{as:Kz,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(pe.div,{"data-state":d0(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",LE=m.forwardRef((e,t)=>{const n=zE(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=Vn(Ss,e.__scopeDialog);return l.jsx(zt,{present:r||s.open,children:s.modal?l.jsx(Qz,{...a,ref:t}):l.jsx(Jz,{...a,ref:t})})});LE.displayName=Ss;var Qz=m.forwardRef((e,t)=>{const n=Vn(Ss,e.__scopeDialog),r=m.useRef(null),a=Re(t,n.contentRef,r);return m.useEffect(()=>{const s=r.current;if(s)return jE(s)},[]),l.jsx(PE,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,i=o.button===0&&o.ctrlKey===!0;(o.button===2||i)&&s.preventDefault()}),onFocusOutside:J(e.onFocusOutside,s=>s.preventDefault())})}),Jz=m.forwardRef((e,t)=>{const n=Vn(Ss,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return l.jsx(PE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,i;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),PE=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,i=Vn(Ss,n),c=m.useRef(null),u=Re(t,c);return bE(),l.jsxs(l.Fragment,{children:[l.jsx(o0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:l.jsx(nc,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":d0(i.open),...o,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(eO,{titleId:i.titleId}),l.jsx(nO,{contentRef:c,descriptionId:i.descriptionId})]})]})}),u0="DialogTitle",BE=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Vn(u0,n);return l.jsx(pe.h2,{id:a.titleId,...r,ref:t})});BE.displayName=u0;var IE="DialogDescription",HE=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Vn(IE,n);return l.jsx(pe.p,{id:a.descriptionId,...r,ref:t})});HE.displayName=IE;var FE="DialogClose",UE=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Vn(FE,n);return l.jsx(pe.button,{type:"button",...r,ref:t,onClick:J(e.onClick,()=>a.onOpenChange(!1))})});UE.displayName=FE;function d0(e){return e?"open":"closed"}var ZE="DialogTitleWarning",[LX,VE]=$5(ZE,{contentName:Ss,titleName:u0,docsSlug:"dialog"}),eO=({titleId:e})=>{const t=VE(ZE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tO="DialogDescriptionWarning",nO=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VE(tO).contentName}}.`;return m.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},YE=RE,rO=DE,GE=OE,f0=$E,h0=LE,m0=BE,g0=HE,aO=UE;const sO=YE,oO=rO,iO=GE,qE=m.forwardRef(({className:e,...t},n)=>l.jsx(f0,{className:G("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:Mt.MODAL},...t,ref:n}));qE.displayName=f0.displayName;const lO=tc("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),XE=m.forwardRef(({side:e="right",className:t,children:n,...r},a)=>l.jsxs(iO,{children:[l.jsx(qE,{}),l.jsxs(h0,{ref:a,className:G(lO({side:e}),t),style:{zIndex:Mt.MODAL+1,backgroundColor:"hsl(var(--background))"},...r,children:[n,l.jsxs(aO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(hn,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));XE.displayName=h0.displayName;const KE=({className:e,...t})=>l.jsx("div",{className:G("flex flex-col space-y-2 text-center sm:text-left",e),...t});KE.displayName="SheetHeader";const WE=m.forwardRef(({className:e,...t},n)=>l.jsx(m0,{ref:n,className:G("text-lg font-semibold text-foreground",e),...t}));WE.displayName=m0.displayName;const QE=m.forwardRef(({className:e,...t},n)=>l.jsx(g0,{ref:n,className:G("text-sm text-muted-foreground",e),...t}));QE.displayName=g0.displayName;const cO=()=>{const{build:e,resetBuild:t,getSummary:n,getRegularTraitLimit:r,getBonusTraitLimit:a}=Dt(),s=Wt(),o=n(),[i,c]=m.useState(!1),u=e.name||e.race||e.traits.regular.length>0||e.traits.bonus.length>0||e.stone||e.religion||e.skills.major.length>0||e.skills.minor.length>0||e.equipment.length>0,d=()=>{navigator.clipboard.writeText(window.location.href)},f=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},h=b=>{c(!1),s(b)},g=r(),v=a(),x=g+v;return l.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:Mt.MODAL+1},children:l.jsxs(sO,{open:i,onOpenChange:c,children:[l.jsx(oO,{asChild:!0,children:l.jsx(ae,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${i?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:l.jsx(el,{className:"h-5 w-5"})})}),l.jsxs(XE,{side:"right",className:"w-[400px] sm:w-[540px] p-6",children:[l.jsxs(KE,{children:[l.jsxs(WE,{className:"flex items-center gap-2",children:[l.jsx(el,{className:"h-5 w-5"}),u?o.name:"Character Build"]}),l.jsx(QE,{children:u?"Your current character build status":"Create and manage your character build"})]}),l.jsx("div",{className:"mt-6 space-y-6",children:u?l.jsxs(l.Fragment,{children:[e.race&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Race"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:o.race}),l.jsx(ue,{variant:"secondary",className:"bg-blue-500",children:"Selected"})]})]}),e.stone&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Birth Sign"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:o.stone}),l.jsx(ue,{variant:"secondary",className:"bg-purple-500",children:"Selected"})]})]}),e.religion&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Religion"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:o.religion}),l.jsx(ue,{variant:"secondary",className:"bg-orange-500",children:"Selected"})]})]}),(e.traits.regular.length>0||e.traits.bonus.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Traits (",e.traits.regular.length+e.traits.bonus.length,"/",x,")"]}),l.jsxs("div",{className:"space-y-2",children:[e.traits.regular.map(b=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-muted-foreground",children:"Starting"})]},`regular-${b}`)),e.traits.bonus.map(b=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),l.jsx("span",{className:"text-muted-foreground",children:"Late Game"})]},`bonus-${b}`))]})]}),(e.skills.major.length>0||e.skills.minor.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Skills"}),l.jsxs("div",{className:"space-y-2",children:[e.skills.major.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Major Skills"}),l.jsx(ue,{variant:"outline",children:e.skills.major.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.major.map(b=>l.jsx(ue,{variant:"secondary",className:"bg-red-500 text-xs",children:b},b))})]}),e.skills.minor.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Minor Skills"}),l.jsx(ue,{variant:"outline",children:e.skills.minor.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.minor.map(b=>l.jsx(ue,{variant:"secondary",className:"bg-blue-500 text-xs",children:b},b))})]})]})]}),e.equipment.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Equipment (",e.equipment.length,")"]}),l.jsx("div",{className:"space-y-2",children:e.equipment.map(b=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:b}),l.jsx(ue,{variant:"secondary",className:"bg-gray-500",children:"Equipped"})]},b))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(el,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Character Build"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building your character by selecting a race, traits, and other options."})]})}),l.jsx("div",{className:"mt-8 space-y-3",children:u?l.jsxs(l.Fragment,{children:[l.jsxs(ae,{onClick:()=>h("/build"),className:"w-full",children:[l.jsx(tg,{className:"w-4 h-4 mr-2"}),"Edit Build"]}),l.jsxs(ae,{variant:"outline",onClick:d,className:"w-full",children:[l.jsx(mD,{className:"w-4 h-4 mr-2"}),"Copy Share URL"]}),l.jsxs(ae,{variant:"destructive",onClick:f,className:"w-full",children:[l.jsx(r3,{className:"w-4 h-4 mr-2"}),"Reset Build"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ae,{onClick:()=>h("/build"),className:"w-full",children:[l.jsx(tg,{className:"w-4 h-4 mr-2"}),"Create Character Build"]}),l.jsx(ae,{variant:"outline",onClick:()=>h("/race"),className:"w-full",children:"Browse Races"}),l.jsx(ae,{variant:"outline",onClick:()=>h("/traits"),className:"w-full",children:"Browse Traits"})]})})]})]})})},uO=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),dO=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},fO=()=>{const{build:e,setBuild:t}=to();sa(),Wt(),m.useEffect(()=>{const n=window.location.hash,[r,a]=n.split("?"),o=new URLSearchParams(a||"").get("b");if(o){const i=dO(o);(i==null?void 0:i.v)===1?t(i):console.warn("Invalid or outdated build schema in URL")}},[t]),m.useEffect(()=>{const n=uO(e),r=window.location.hash,[a,s]=r.split("?"),o=new URLSearchParams(s||"");o.set("b",n);const i=`${a}?${o.toString()}`;window.history.replaceState(null,"",i)},[e])},JE=m.forwardRef(({className:e,collapsed:t,...n},r)=>l.jsx("aside",{ref:r,"data-collapsed":t?"":void 0,className:G("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300",t?"w-0 overflow-hidden":"w-64",e),...n}));JE.displayName="Sidebar";const e2=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:G("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));e2.displayName="SidebarContent";const t2=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:G("mb-2",e),...t}));t2.displayName="SidebarGroup";const n2=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:G("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));n2.displayName="SidebarHeader";const r2=m.forwardRef(({className:e,...t},n)=>l.jsx("ul",{ref:n,className:G("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));r2.displayName="SidebarMenu";const a2=m.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const s=t?"span":"button";return l.jsx(s,{ref:a,"data-active":n?"":void 0,className:G("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...r})});a2.displayName="SidebarMenuButton";const s2=m.forwardRef(({className:e,...t},n)=>l.jsx("li",{ref:n,className:G("relative flex items-stretch",e),...t}));s2.displayName="SidebarMenuItem";const o2=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:e,...t}));o2.displayName="SidebarRail";const hO=tc("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),Qt=m.forwardRef(({className:e,variant:t,as:n,...r},a)=>{const s=n||mO(t);return l.jsx(s,{className:G(hO({variant:t,className:e})),ref:a,...r})});Qt.displayName="Typography";function mO(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const rc=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"h1",as:"h1",className:e,ref:n,...t}));rc.displayName="H1";const gO=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"h2",as:"h2",className:e,ref:n,...t}));gO.displayName="H2";const ac=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"h3",as:"h3",className:e,ref:n,...t}));ac.displayName="H3";const pO=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"h4",as:"h4",className:e,ref:n,...t}));pO.displayName="H4";const yO=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"h5",as:"h5",className:e,ref:n,...t}));yO.displayName="H5";const vO=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"h6",as:"h6",className:e,ref:n,...t}));vO.displayName="H6";const an=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"p",as:"p",className:e,ref:n,...t}));an.displayName="P";const xO=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));xO.displayName="Blockquote";const bO=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"code",as:"code",className:e,ref:n,...t}));bO.displayName="Code";const i2=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"lead",as:"p",className:e,ref:n,...t}));i2.displayName="Lead";const wO=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"large",as:"div",className:e,ref:n,...t}));wO.displayName="Large";const SO=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"small",as:"small",className:e,ref:n,...t}));SO.displayName="Small";const bl=m.forwardRef(({className:e,...t},n)=>l.jsx(Qt,{variant:"muted",as:"p",className:e,ref:n,...t}));bl.displayName="Muted";const li=({children:e,title:t,description:n,className:r=""})=>l.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${r}`,children:[t&&l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&l.jsx("p",{className:"text-muted-foreground mt-2 max-w-4xl",children:n})]})}),e]});function p0(e){const t=e+"CollectionProvider",[n,r]=yn(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:b,children:p}=x,y=O.useRef(null),w=O.useRef(new Map).current;return l.jsx(a,{scope:b,itemMap:w,collectionRef:y,children:p})};o.displayName=t;const i=e+"CollectionSlot",c=Uo(i),u=O.forwardRef((x,b)=>{const{scope:p,children:y}=x,w=s(i,p),S=Re(b,w.collectionRef);return l.jsx(c,{ref:S,children:y})});u.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Uo(d),g=O.forwardRef((x,b)=>{const{scope:p,children:y,...w}=x,S=O.useRef(null),N=Re(b,S),C=s(d,p);return O.useEffect(()=>(C.itemMap.set(S,{ref:S,...w}),()=>void C.itemMap.delete(S))),l.jsx(h,{[f]:"",ref:N,children:y})});g.displayName=d;function v(x){const b=s(e+"CollectionConsumer",x);return O.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((C,E)=>w.indexOf(C.ref.current)-w.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},v,r]}var NO=m.createContext(void 0);function sc(e){const t=m.useContext(NO);return e||t||"ltr"}var Mh="rovingFocusGroup.onEntryFocus",EO={bubbles:!1,cancelable:!0},oc="RovingFocusGroup",[ug,l2,_O]=p0(oc),[AO,af]=yn(oc,[_O]),[CO,kO]=AO(oc),c2=m.forwardRef((e,t)=>l.jsx(ug.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(ug.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(jO,{...e,ref:t})})}));c2.displayName=oc;var jO=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),g=Re(t,h),v=sc(s),[x,b]=oa({prop:o,defaultProp:i??null,onChange:c,caller:oc}),[p,y]=m.useState(!1),w=jt(u),S=l2(n),N=m.useRef(!1),[C,E]=m.useState(0);return m.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(Mh,w),()=>_.removeEventListener(Mh,w)},[w]),l.jsx(CO,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:x,onItemFocus:m.useCallback(_=>b(_),[b]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>E(_=>_+1),[]),onFocusableItemRemove:m.useCallback(()=>E(_=>_-1),[]),children:l.jsx(pe.div,{tabIndex:p||C===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:J(e.onMouseDown,()=>{N.current=!0}),onFocus:J(e.onFocus,_=>{const j=!N.current;if(_.target===_.currentTarget&&j&&!p){const A=new CustomEvent(Mh,EO);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=S().filter(T=>T.focusable),I=D.find(T=>T.active),R=D.find(T=>T.id===x),$=[I,R,...D].filter(Boolean).map(T=>T.ref.current);f2($,d)}}N.current=!1}),onBlur:J(e.onBlur,()=>y(!1))})})}),u2="RovingFocusGroupItem",d2=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:s,children:o,...i}=e,c=Zr(),u=s||c,d=kO(u2,n),f=d.currentTabStopId===u,h=l2(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:x}=d;return m.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),l.jsx(ug.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:l.jsx(pe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:J(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:J(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const p=MO(b,d.orientation,d.dir);if(p!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const S=w.indexOf(b.currentTarget);w=d.loop?DO(w,S+1):w.slice(S+1)}setTimeout(()=>f2(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});d2.displayName=u2;var TO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MO(e,t,n){const r=RO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return TO[r]}function f2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function DO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var h2=c2,m2=d2,sf="Tabs",[zO,PX]=yn(sf,[af]),g2=af(),[OO,y0]=zO(sf),p2=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:i,activationMode:c="automatic",...u}=e,d=sc(i),[f,h]=oa({prop:r,onChange:a,defaultProp:s??"",caller:sf});return l.jsx(OO,{scope:n,baseId:Zr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:l.jsx(pe.div,{dir:d,"data-orientation":o,...u,ref:t})})});p2.displayName=sf;var y2="TabsList",v2=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,s=y0(y2,n),o=g2(n);return l.jsx(h2,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(pe.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});v2.displayName=y2;var x2="TabsTrigger",b2=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...s}=e,o=y0(x2,n),i=g2(n),c=N2(o.baseId,r),u=E2(o.baseId,r),d=r===o.value;return l.jsx(m2,{asChild:!0,...i,focusable:!a,active:d,children:l.jsx(pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:J(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:J(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:J(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(r)})})})});b2.displayName=x2;var w2="TabsContent",S2=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:s,...o}=e,i=y0(w2,n),c=N2(i.baseId,r),u=E2(i.baseId,r),d=r===i.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(zt,{present:a||d,children:({present:h})=>l.jsx(pe.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});S2.displayName=w2;function N2(e,t){return`${e}-trigger-${t}`}function E2(e,t){return`${e}-content-${t}`}var $O=p2,LO=v2,PO=b2,BO=S2;function v0({className:e,...t}){return l.jsx($O,{"data-slot":"tabs",className:G("flex flex-col gap-2",e),...t})}function x0({className:e,...t}){return l.jsx(LO,{"data-slot":"tabs-list",className:G("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function wl({className:e,...t}){return l.jsx(PO,{"data-slot":"tabs-trigger",className:G("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function od({className:e,...t}){return l.jsx(BO,{"data-slot":"tabs-content",className:G("flex-1 outline-none",e),...t})}const Ft=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],IO=({currentPath:e})=>{var d;const t=Wt(),n=Ft.findIndex(f=>f.to===e),r=n>=0?n:0,a=f=>{const h=Ft.find(g=>g.value===f);h&&t(h.to)},s=f=>{t(f.to)},o=()=>{r>0&&t(Ft[r-1].to)},i=()=>{r<Ft.length-1&&t(Ft[r+1].to)},c=f=>{switch(f.key){case"ArrowLeft":f.preventDefault(),o();break;case"ArrowRight":f.preventDefault(),i();break;case"Home":f.preventDefault(),t(Ft[0].to);break;case"End":f.preventDefault(),t(Ft[Ft.length-1].to);break}},u=((d=Ft[r])==null?void 0:d.value)||"build";return l.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{zIndex:Mt.NAVIGATION,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:c,tabIndex:0,children:l.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l.jsx(ae,{onClick:o,disabled:r===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${r>0?Ft[r-1].label:"none"}`,children:l.jsx(oD,{className:"h-4 w-4"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx(v0,{value:u,onValueChange:a,children:l.jsx(x0,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:Ft.map((f,h)=>l.jsxs(wl,{value:f.value,onClick:()=>s(f),className:G("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:u===f.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${h+1}: ${f.label}`,role:"tab","aria-selected":u===f.value,"aria-label":`Step ${h+1}: ${f.label}`,children:[l.jsx("span",{className:"hidden sm:inline",children:f.label}),l.jsx("span",{className:"sm:hidden",children:f.label.split(" ")[0]}),u===f.value&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},f.value))})})}),l.jsx(ae,{onClick:i,disabled:r===Ft.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${r<Ft.length-1?Ft[r+1].label:"none"}`,children:l.jsx(Xd,{className:"h-4 w-4"})})]})})})},HO=()=>{const e=sa();return l.jsxs("div",{className:"flex flex-col min-h-full",children:[l.jsx(IO,{currentPath:e.pathname}),l.jsx("div",{className:"flex-grow",children:l.jsx(l4,{})})]})};function FO(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function _2(e){const[t,n]=m.useState(void 0);return dr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,i;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,i=u.blockSize}else o=e.offsetWidth,i=e.offsetHeight;n({width:o,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var of="Switch",[UO,BX]=yn(of),[ZO,VO]=UO(of),A2=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:s,required:o,disabled:i,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=m.useState(null),v=Re(t,w=>g(w)),x=m.useRef(!1),b=h?d||!!h.closest("form"):!0,[p,y]=oa({prop:a,defaultProp:s??!1,onChange:u,caller:of});return l.jsxs(ZO,{scope:n,checked:p,disabled:i,children:[l.jsx(pe.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":T2(p),"data-disabled":i?"":void 0,disabled:i,value:c,...f,ref:v,onClick:J(e.onClick,w=>{y(S=>!S),b&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),b&&l.jsx(j2,{control:h,bubbles:!x.current,name:r,value:c,checked:p,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});A2.displayName=of;var C2="SwitchThumb",k2=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=VO(C2,n);return l.jsx(pe.span,{"data-state":T2(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});k2.displayName=C2;var YO="SwitchBubbleInput",j2=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},s)=>{const o=m.useRef(null),i=Re(o,s),c=FO(n),u=_2(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(v)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});j2.displayName=YO;function T2(e){return e?"checked":"unchecked"}var R2=A2,GO=k2;const Mr=m.forwardRef(({className:e,...t},n)=>l.jsx(R2,{className:G("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:l.jsx(GO,{className:G("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Mr.displayName=R2.displayName;function b0({itemId:e,itemType:t,itemName:n,isInBuild:r=!1,className:a,onCheckedChange:s}){const{setRace:o,setStone:i,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:f,addMajorSkill:h,removeMajorSkill:g,removeMinorSkill:v,addEquipment:x,removeEquipment:b,build:p}=Dt(),w=r||(()=>{switch(t){case"race":return p.race===e;case"stone":return p.stone===e;case"religion":return p.religion===e;case"trait":return p.traits.regular.includes(e)||p.traits.bonus.includes(e);case"skill":return p.skills.major.includes(e)||p.skills.minor.includes(e);case"equipment":return p.equipment.includes(e);default:return!1}})(),S=C=>{if(s){s(C);return}switch(t){case"race":o(C?e:null);break;case"stone":i(C?e:null);break;case"religion":c(C?e:null);break;case"trait":C?p.traits.regular.length<2?u(e):p.traits.bonus.length<1&&d(e):f(e);break;case"skill":C?h(e):(g(e),v(e));break;case"equipment":C?x(e):b(e);break}},N=()=>w?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return l.jsx("div",{className:G("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",w?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",a),onClick:C=>{C.stopPropagation(),S(!w)},title:N(),children:l.jsx(Mr,{checked:w,onCheckedChange:S,className:G("transition-all duration-200",w?"data-[state=checked]:bg-[#d4af37]":"")})})}const zs=m.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:G("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));zs.displayName="Input";function go({categories:e,onSelect:t,placeholder:n="Search categories...",className:r=""}){const[a,s]=m.useState(!1),[o,i]=m.useState(null),[c,u]=m.useState(""),[d,f]=m.useState(-1),h=m.useRef(null),g=m.useRef(null),v=e.length===1?e[0]:null;m.useEffect(()=>{const E=_=>{h.current&&!h.current.contains(_.target)&&(s(!1),i(null),f(-1))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const x=o||v?(o||v).options.filter(E=>{var _;return E.label.toLowerCase().includes(c.toLowerCase())||((_=E.description)==null?void 0:_.toLowerCase().includes(c.toLowerCase()))}):e.flatMap(E=>E.options.filter(_=>{var j;return _.label.toLowerCase().includes(c.toLowerCase())||((j=_.description)==null?void 0:j.toLowerCase().includes(c.toLowerCase()))})),b=E=>{u(E),s(!0),f(-1)},p=E=>{var _;i(E),u(""),(_=g.current)==null||_.focus()},y=E=>{t(E),u(""),i(null),s(!1),f(-1)},w=E=>{E.key==="ArrowDown"?(E.preventDefault(),f(_=>Math.min(_+1,x.length-1))):E.key==="ArrowUp"?(E.preventDefault(),f(_=>Math.max(_-1,-1))):E.key==="Enter"?(E.preventDefault(),d>=0&&x[d]&&y(x[d])):E.key==="Escape"&&(s(!1),i(null),f(-1))},S=()=>{s(!0)},N=o||v,C=!v&&!o;return l.jsxs("div",{ref:h,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(zs,{ref:g,type:"text",placeholder:N?N.placeholder:n,value:c,onChange:E=>b(E.target.value),onFocus:S,onKeyDown:w,className:"pl-10 pr-10"}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!a),children:l.jsx(Wr,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:Mt.AUTOCOMPLETE+10},children:[C&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(E=>l.jsxs("button",{onClick:()=>p(E),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[l.jsx("span",{children:E.name}),l.jsx(Wr,{className:"h-4 w-4"})]},E.id))]}),l.jsx("div",{className:"p-2",children:x.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):x.map((E,_)=>l.jsxs("button",{onClick:()=>y(E),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${_===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[l.jsx("div",{className:"font-medium",children:E.label}),E.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:E.description})]},E.id))})]})]})}function ft({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:G("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function xt({className:e,action:t,children:n,...r}){return l.jsxs("div",{"data-slot":"card-header",className:G("flex flex-row items-start justify-between space-y-0",e),...r,children:[l.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&l.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function At({className:e,...t}){return l.jsx("div",{"data-slot":"card-title",className:G("text-xl font-bold leading-none",e),...t})}function Da({className:e,...t}){return l.jsx("div",{"data-slot":"card-description",className:G("text-base text-muted-foreground",e),...t})}function ht({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:G("pt-0",e),...t})}const qO=["top","right","bottom","left"],Ga=Math.min,sn=Math.max,id=Math.round,Hc=Math.floor,cr=e=>({x:e,y:e}),XO={left:"right",right:"left",bottom:"top",top:"bottom"},KO={start:"end",end:"start"};function dg(e,t,n){return sn(e,Ga(t,n))}function Jr(e,t){return typeof e=="function"?e(t):e}function ea(e){return e.split("-")[0]}function ci(e){return e.split("-")[1]}function w0(e){return e==="x"?"y":"x"}function S0(e){return e==="y"?"height":"width"}const WO=new Set(["top","bottom"]);function rr(e){return WO.has(ea(e))?"y":"x"}function N0(e){return w0(rr(e))}function QO(e,t,n){n===void 0&&(n=!1);const r=ci(e),a=N0(e),s=S0(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=ld(o)),[o,ld(o)]}function JO(e){const t=ld(e);return[fg(e),t,fg(t)]}function fg(e){return e.replace(/start|end/g,t=>KO[t])}const Hx=["left","right"],Fx=["right","left"],e6=["top","bottom"],t6=["bottom","top"];function n6(e,t,n){switch(e){case"top":case"bottom":return n?t?Fx:Hx:t?Hx:Fx;case"left":case"right":return t?e6:t6;default:return[]}}function r6(e,t,n,r){const a=ci(e);let s=n6(ea(e),n==="start",r);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(fg)))),s}function ld(e){return e.replace(/left|right|bottom|top/g,t=>XO[t])}function a6(e){return{top:0,right:0,bottom:0,left:0,...e}}function M2(e){return typeof e!="number"?a6(e):{top:e,right:e,bottom:e,left:e}}function cd(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function Ux(e,t,n){let{reference:r,floating:a}=e;const s=rr(t),o=N0(t),i=S0(o),c=ea(t),u=s==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[i]/2-a[i]/2;let g;switch(c){case"top":g={x:d,y:r.y-a.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-a.width,y:f};break;default:g={x:r.x,y:r.y}}switch(ci(t)){case"start":g[o]-=h*(n&&u?-1:1);break;case"end":g[o]+=h*(n&&u?-1:1);break}return g}const s6=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:o}=n,i=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Ux(u,r,c),h=r,g={},v=0;for(let x=0;x<i.length;x++){const{name:b,fn:p}=i[x],{x:y,y:w,data:S,reset:N}=await p({x:d,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,g={...g,[b]:{...g[b],...S}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=Ux(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:g}};async function Sl(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:o,elements:i,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Jr(t,e),v=M2(g),b=i[h?f==="floating"?"reference":"floating":f],p=cd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),S=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},N=cd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:y,offsetParent:w,strategy:c}):y);return{top:(p.top-N.top+v.top)/S.y,bottom:(N.bottom-p.bottom+v.bottom)/S.y,left:(p.left-N.left+v.left)/S.x,right:(N.right-p.right+v.right)/S.x}}const o6=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:o,elements:i,middlewareData:c}=t,{element:u,padding:d=0}=Jr(e,t)||{};if(u==null)return{};const f=M2(d),h={x:n,y:r},g=N0(a),v=S0(g),x=await o.getDimensions(u),b=g==="y",p=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=s.reference[v]+s.reference[g]-h[g]-s.floating[v],N=h[g]-s.reference[g],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=C?C[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=i.floating[w]||s.floating[v]);const _=S/2-N/2,j=E/2-x[v]/2-1,A=Ga(f[p],j),D=Ga(f[y],j),I=A,R=E-x[v]-D,k=E/2-x[v]/2+_,$=dg(I,k,R),T=!c.arrow&&ci(a)!=null&&k!==$&&s.reference[v]/2-(k<I?A:D)-x[v]/2<0,P=T?k<I?k-I:k-R:0;return{[g]:h[g]+P,data:{[g]:$,centerOffset:k-$-P,...T&&{alignmentOffset:P}},reset:T}}}),i6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:o,initialPlacement:i,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...b}=Jr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=ea(a),y=rr(i),w=ea(i)===i,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(w||!x?[ld(i)]:JO(i)),C=v!=="none";!h&&C&&N.push(...r6(i,x,v,S));const E=[i,...N],_=await Sl(t,b),j=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&j.push(_[p]),f){const k=QO(a,o,S);j.push(_[k[0]],_[k[1]])}if(A=[...A,{placement:a,overflows:j}],!j.every(k=>k<=0)){var D,I;const k=(((D=s.flip)==null?void 0:D.index)||0)+1,$=E[k];if($&&(!(f==="alignment"?y!==rr($):!1)||A.every(z=>z.overflows[0]>0&&rr(z.placement)===y)))return{data:{index:k,overflows:A},reset:{placement:$}};let T=(I=A.filter(P=>P.overflows[0]<=0).sort((P,z)=>P.overflows[1]-z.overflows[1])[0])==null?void 0:I.placement;if(!T)switch(g){case"bestFit":{var R;const P=(R=A.filter(z=>{if(C){const M=rr(z.placement);return M===y||M==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(M=>M>0).reduce((M,L)=>M+L,0)]).sort((z,M)=>z[1]-M[1])[0])==null?void 0:R[0];P&&(T=P);break}case"initialPlacement":T=i;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function Zx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vx(e){return qO.some(t=>e[t]>=0)}const l6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Jr(e,t);switch(r){case"referenceHidden":{const s=await Sl(t,{...a,elementContext:"reference"}),o=Zx(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Vx(o)}}}case"escaped":{const s=await Sl(t,{...a,altBoundary:!0}),o=Zx(s,n.floating);return{data:{escapedOffsets:o,escaped:Vx(o)}}}default:return{}}}}},D2=new Set(["left","top"]);async function c6(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=ea(n),i=ci(n),c=rr(n)==="y",u=D2.has(o)?-1:1,d=s&&c?-1:1,f=Jr(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof v=="number"&&(g=i==="end"?v*-1:v),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const u6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:o,middlewareData:i}=t,c=await c6(t,e);return o===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},d6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:i={fn:b=>{let{x:p,y}=b;return{x:p,y}}},...c}=Jr(e,t),u={x:n,y:r},d=await Sl(t,c),f=rr(ea(a)),h=w0(f);let g=u[h],v=u[f];if(s){const b=h==="y"?"top":"left",p=h==="y"?"bottom":"right",y=g+d[b],w=g-d[p];g=dg(y,g,w)}if(o){const b=f==="y"?"top":"left",p=f==="y"?"bottom":"right",y=v+d[b],w=v-d[p];v=dg(y,v,w)}const x=i.fn({...t,[h]:g,[f]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[f]:o}}}}}},f6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:s,middlewareData:o}=t,{offset:i=0,mainAxis:c=!0,crossAxis:u=!0}=Jr(e,t),d={x:n,y:r},f=rr(a),h=w0(f);let g=d[h],v=d[f];const x=Jr(i,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const w=h==="y"?"height":"width",S=s.reference[h]-s.floating[w]+b.mainAxis,N=s.reference[h]+s.reference[w]-b.mainAxis;g<S?g=S:g>N&&(g=N)}if(u){var p,y;const w=h==="y"?"width":"height",S=D2.has(ea(a)),N=s.reference[f]-s.floating[w]+(S&&((p=o.offset)==null?void 0:p[f])||0)+(S?0:b.crossAxis),C=s.reference[f]+s.reference[w]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?b.crossAxis:0);v<N?v=N:v>C&&(v=C)}return{[h]:g,[f]:v}}}},h6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:s,platform:o,elements:i}=t,{apply:c=()=>{},...u}=Jr(e,t),d=await Sl(t,u),f=ea(a),h=ci(a),g=rr(a)==="y",{width:v,height:x}=s.floating;let b,p;f==="top"||f==="bottom"?(b=f,p=h===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(p=f,b=h==="end"?"top":"bottom");const y=x-d.top-d.bottom,w=v-d.left-d.right,S=Ga(x-d[b],y),N=Ga(v-d[p],w),C=!t.middlewareData.shift;let E=S,_=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=y),C&&!h){const A=sn(d.left,0),D=sn(d.right,0),I=sn(d.top,0),R=sn(d.bottom,0);g?_=v-2*(A!==0||D!==0?A+D:sn(d.left,d.right)):E=x-2*(I!==0||R!==0?I+R:sn(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:E});const j=await o.getDimensions(i.floating);return v!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function ui(e){return z2(e)?(e.nodeName||"").toLowerCase():"#document"}function mn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yr(e){var t;return(t=(z2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function z2(e){return lf()?e instanceof Node||e instanceof mn(e).Node:!1}function Fn(e){return lf()?e instanceof Element||e instanceof mn(e).Element:!1}function fr(e){return lf()?e instanceof HTMLElement||e instanceof mn(e).HTMLElement:!1}function Yx(e){return!lf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mn(e).ShadowRoot}const m6=new Set(["inline","contents"]);function ic(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!m6.has(a)}const g6=new Set(["table","td","th"]);function p6(e){return g6.has(ui(e))}const y6=[":popover-open",":modal"];function cf(e){return y6.some(t=>{try{return e.matches(t)}catch{return!1}})}const v6=["transform","translate","scale","rotate","perspective"],x6=["transform","translate","scale","rotate","perspective","filter"],b6=["paint","layout","strict","content"];function E0(e){const t=_0(),n=Fn(e)?Un(e):e;return v6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||x6.some(r=>(n.willChange||"").includes(r))||b6.some(r=>(n.contain||"").includes(r))}function w6(e){let t=qa(e);for(;fr(t)&&!Zo(t);){if(E0(t))return t;if(cf(t))return null;t=qa(t)}return null}function _0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const S6=new Set(["html","body","#document"]);function Zo(e){return S6.has(ui(e))}function Un(e){return mn(e).getComputedStyle(e)}function uf(e){return Fn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qa(e){if(ui(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Yx(e)&&e.host||yr(e);return Yx(t)?t.host:t}function O2(e){const t=qa(e);return Zo(t)?e.ownerDocument?e.ownerDocument.body:e.body:fr(t)&&ic(t)?t:O2(t)}function Nl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=O2(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),o=mn(a);if(s){const i=hg(o);return t.concat(o,o.visualViewport||[],ic(a)?a:[],i&&n?Nl(i):[])}return t.concat(a,Nl(a,[],n))}function hg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $2(e){const t=Un(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=fr(e),s=a?e.offsetWidth:n,o=a?e.offsetHeight:r,i=id(n)!==s||id(r)!==o;return i&&(n=s,r=o),{width:n,height:r,$:i}}function A0(e){return Fn(e)?e:e.contextElement}function Ao(e){const t=A0(e);if(!fr(t))return cr(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=$2(t);let o=(s?id(n.width):n.width)/r,i=(s?id(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!i||!Number.isFinite(i))&&(i=1),{x:o,y:i}}const N6=cr(0);function L2(e){const t=mn(e);return!_0()||!t.visualViewport?N6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function E6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==mn(e)?!1:t}function Ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=A0(e);let o=cr(1);t&&(r?Fn(r)&&(o=Ao(r)):o=Ao(e));const i=E6(s,n,r)?L2(s):cr(0);let c=(a.left+i.x)/o.x,u=(a.top+i.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=mn(s),g=r&&Fn(r)?mn(r):r;let v=h,x=hg(v);for(;x&&r&&g!==v;){const b=Ao(x),p=x.getBoundingClientRect(),y=Un(x),w=p.left+(x.clientLeft+parseFloat(y.paddingLeft))*b.x,S=p.top+(x.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=S,v=mn(x),x=hg(v)}}return cd({width:d,height:f,x:c,y:u})}function C0(e,t){const n=uf(e).scrollLeft;return t?t.left+n:Ns(yr(e)).left+n}function P2(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:C0(e,r)),s=r.top+t.scrollTop;return{x:a,y:s}}function _6(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",o=yr(r),i=t?cf(t.floating):!1;if(r===o||i&&s)return n;let c={scrollLeft:0,scrollTop:0},u=cr(1);const d=cr(0),f=fr(r);if((f||!f&&!s)&&((ui(r)!=="body"||ic(o))&&(c=uf(r)),fr(r))){const g=Ns(r);u=Ao(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const h=o&&!f&&!s?P2(o,c,!0):cr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function A6(e){return Array.from(e.getClientRects())}function C6(e){const t=yr(e),n=uf(e),r=e.ownerDocument.body,a=sn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=sn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+C0(e);const i=-n.scrollTop;return Un(r).direction==="rtl"&&(o+=sn(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:o,y:i}}function k6(e,t){const n=mn(e),r=yr(e),a=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,i=0,c=0;if(a){s=a.width,o=a.height;const u=_0();(!u||u&&t==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:i,y:c}}const j6=new Set(["absolute","fixed"]);function T6(e,t){const n=Ns(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=fr(e)?Ao(e):cr(1),o=e.clientWidth*s.x,i=e.clientHeight*s.y,c=a*s.x,u=r*s.y;return{width:o,height:i,x:c,y:u}}function Gx(e,t,n){let r;if(t==="viewport")r=k6(e,n);else if(t==="document")r=C6(yr(e));else if(Fn(t))r=T6(t,n);else{const a=L2(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return cd(r)}function B2(e,t){const n=qa(e);return n===t||!Fn(n)||Zo(n)?!1:Un(n).position==="fixed"||B2(n,t)}function R6(e,t){const n=t.get(e);if(n)return n;let r=Nl(e,[],!1).filter(i=>Fn(i)&&ui(i)!=="body"),a=null;const s=Un(e).position==="fixed";let o=s?qa(e):e;for(;Fn(o)&&!Zo(o);){const i=Un(o),c=E0(o);!c&&i.position==="fixed"&&(a=null),(s?!c&&!a:!c&&i.position==="static"&&!!a&&j6.has(a.position)||ic(o)&&!c&&B2(e,o))?r=r.filter(d=>d!==o):a=i,o=qa(o)}return t.set(e,r),r}function M6(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?cf(t)?[]:R6(t,this._c):[].concat(n),r],i=o[0],c=o.reduce((u,d)=>{const f=Gx(t,d,a);return u.top=sn(f.top,u.top),u.right=Ga(f.right,u.right),u.bottom=Ga(f.bottom,u.bottom),u.left=sn(f.left,u.left),u},Gx(t,i,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function D6(e){const{width:t,height:n}=$2(e);return{width:t,height:n}}function z6(e,t,n){const r=fr(t),a=yr(t),s=n==="fixed",o=Ns(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const c=cr(0);function u(){c.x=C0(a)}if(r||!r&&!s)if((ui(t)!=="body"||ic(a))&&(i=uf(t)),r){const g=Ns(t,!0,s,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&u();s&&!r&&a&&u();const d=a&&!r&&!s?P2(a,i):cr(0),f=o.left+i.scrollLeft-c.x-d.x,h=o.top+i.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Dh(e){return Un(e).position==="static"}function qx(e,t){if(!fr(e)||Un(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return yr(e)===n&&(n=n.ownerDocument.body),n}function I2(e,t){const n=mn(e);if(cf(e))return n;if(!fr(e)){let a=qa(e);for(;a&&!Zo(a);){if(Fn(a)&&!Dh(a))return a;a=qa(a)}return n}let r=qx(e,t);for(;r&&p6(r)&&Dh(r);)r=qx(r,t);return r&&Zo(r)&&Dh(r)&&!E0(r)?n:r||w6(e)||n}const O6=async function(e){const t=this.getOffsetParent||I2,n=this.getDimensions,r=await n(e.floating);return{reference:z6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $6(e){return Un(e).direction==="rtl"}const L6={convertOffsetParentRelativeRectToViewportRelativeRect:_6,getDocumentElement:yr,getClippingRect:M6,getOffsetParent:I2,getElementRects:O6,getClientRects:A6,getDimensions:D6,getScale:Ao,isElement:Fn,isRTL:$6};function H2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function P6(e,t){let n=null,r;const a=yr(e);function s(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function o(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(i||t(),!h||!g)return;const v=Hc(f),x=Hc(a.clientWidth-(d+h)),b=Hc(a.clientHeight-(f+g)),p=Hc(d),w={rootMargin:-v+"px "+-x+"px "+-b+"px "+-p+"px",threshold:sn(0,Ga(1,c))||1};let S=!0;function N(C){const E=C[0].intersectionRatio;if(E!==c){if(!S)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!H2(u,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return o(!0),s}function B6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=A0(e),d=a||s?[...u?Nl(u):[],...Nl(t)]:[];d.forEach(p=>{a&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const f=u&&i?P6(u,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(p=>{let[y]=p;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let v,x=c?Ns(e):null;c&&b();function b(){const p=Ns(e);x&&!H2(x,p)&&n(),x=p,v=requestAnimationFrame(b)}return n(),()=>{var p;d.forEach(y=>{a&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(p=g)==null||p.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const I6=u6,H6=d6,F6=i6,U6=h6,Z6=l6,Xx=o6,V6=f6,Y6=(e,t,n)=>{const r=new Map,a={platform:L6,...n},s={...a.platform,_c:r};return s6(e,t,{...a,platform:s})};var G6=typeof document<"u",q6=function(){},Su=G6?m.useLayoutEffect:q6;function ud(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ud(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!ud(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function F2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Kx(e,t){const n=F2(e);return Math.round(t*n)/n}function zh(e){const t=m.useRef(e);return Su(()=>{t.current=e}),t}function X6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:o}={},transform:i=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(r);ud(h,r)||g(r);const[v,x]=m.useState(null),[b,p]=m.useState(null),y=m.useCallback(z=>{z!==C.current&&(C.current=z,x(z))},[]),w=m.useCallback(z=>{z!==E.current&&(E.current=z,p(z))},[]),S=s||v,N=o||b,C=m.useRef(null),E=m.useRef(null),_=m.useRef(d),j=c!=null,A=zh(c),D=zh(a),I=zh(u),R=m.useCallback(()=>{if(!C.current||!E.current)return;const z={placement:t,strategy:n,middleware:h};D.current&&(z.platform=D.current),Y6(C.current,E.current,z).then(M=>{const L={...M,isPositioned:I.current!==!1};k.current&&!ud(_.current,L)&&(_.current=L,Dd.flushSync(()=>{f(L)}))})},[h,t,n,D,I]);Su(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[u]);const k=m.useRef(!1);Su(()=>(k.current=!0,()=>{k.current=!1}),[]),Su(()=>{if(S&&(C.current=S),N&&(E.current=N),S&&N){if(A.current)return A.current(S,N,R);R()}},[S,N,R,A,j]);const $=m.useMemo(()=>({reference:C,floating:E,setReference:y,setFloating:w}),[y,w]),T=m.useMemo(()=>({reference:S,floating:N}),[S,N]),P=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!T.floating)return z;const M=Kx(T.floating,d.x),L=Kx(T.floating,d.y);return i?{...z,transform:"translate("+M+"px, "+L+"px)",...F2(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:L}},[n,i,T.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:R,refs:$,elements:T,floatingStyles:P}),[d,R,$,T,P])}const K6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Xx({element:r.current,padding:a}).fn(n):{}:r?Xx({element:r,padding:a}).fn(n):{}}}},W6=(e,t)=>({...I6(e),options:[e,t]}),Q6=(e,t)=>({...H6(e),options:[e,t]}),J6=(e,t)=>({...V6(e),options:[e,t]}),e$=(e,t)=>({...F6(e),options:[e,t]}),t$=(e,t)=>({...U6(e),options:[e,t]}),n$=(e,t)=>({...Z6(e),options:[e,t]}),r$=(e,t)=>({...K6(e),options:[e,t]});var a$="Arrow",U2=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...s}=e;return l.jsx(pe.svg,{...s,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});U2.displayName=a$;var s$=U2,k0="Popper",[Z2,di]=yn(k0),[o$,V2]=Z2(k0),Y2=e=>{const{__scopePopper:t,children:n}=e,[r,a]=m.useState(null);return l.jsx(o$,{scope:t,anchor:r,onAnchorChange:a,children:n})};Y2.displayName=k0;var G2="PopperAnchor",q2=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,s=V2(G2,n),o=m.useRef(null),i=Re(t,o);return m.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(pe.div,{...a,ref:i})});q2.displayName=G2;var j0="PopperContent",[i$,l$]=Z2(j0),X2=m.forwardRef((e,t)=>{var Q,le,me,H,q,K;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...x}=e,b=V2(j0,n),[p,y]=m.useState(null),w=Re(t,re=>y(re)),[S,N]=m.useState(null),C=_2(S),E=(C==null?void 0:C.width)??0,_=(C==null?void 0:C.height)??0,j=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],I=D.length>0,R={padding:A,boundary:D.filter(u$),altBoundary:I},{refs:k,floatingStyles:$,placement:T,isPositioned:P,middlewareData:z}=X6({strategy:"fixed",placement:j,whileElementsMounted:(...re)=>B6(...re,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[W6({mainAxis:a+_,alignmentAxis:o}),c&&Q6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?J6():void 0,...R}),c&&e$({...R}),t$({...R,apply:({elements:re,rects:X,availableWidth:ge,availableHeight:Ce})=>{const{width:ye,height:ee}=X.reference,Ye=re.floating.style;Ye.setProperty("--radix-popper-available-width",`${ge}px`),Ye.setProperty("--radix-popper-available-height",`${Ce}px`),Ye.setProperty("--radix-popper-anchor-width",`${ye}px`),Ye.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),S&&r$({element:S,padding:i}),d$({arrowWidth:E,arrowHeight:_}),h&&n$({strategy:"referenceHidden",...R})]}),[M,L]=Q2(T),B=jt(v);dr(()=>{P&&(B==null||B())},[P,B]);const F=(Q=z.arrow)==null?void 0:Q.x,Y=(le=z.arrow)==null?void 0:le.y,V=((me=z.arrow)==null?void 0:me.centerOffset)!==0,[W,oe]=m.useState();return dr(()=>{p&&oe(window.getComputedStyle(p).zIndex)},[p]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:P?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(H=z.transformOrigin)==null?void 0:H.x,(q=z.transformOrigin)==null?void 0:q.y].join(" "),...((K=z.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(i$,{scope:n,placedSide:M,onArrowChange:N,arrowX:F,arrowY:Y,shouldHideArrow:V,children:l.jsx(pe.div,{"data-side":M,"data-align":L,...x,ref:w,style:{...x.style,animation:P?void 0:"none"}})})})});X2.displayName=j0;var K2="PopperArrow",c$={top:"bottom",right:"left",bottom:"top",left:"right"},W2=m.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,s=l$(K2,r),o=c$[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(s$,{...a,ref:n,style:{...a.style,display:"block"}})})});W2.displayName=K2;function u$(e){return e!==null}var d$=e=>({name:"transformOrigin",options:e,fn(t){var b,p,y;const{placement:n,rects:r,middlewareData:a}=t,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,i=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=Q2(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((p=a.arrow)==null?void 0:p.x)??0)+i/2,g=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",x="";return u==="bottom"?(v=o?f:`${h}px`,x=`${-c}px`):u==="top"?(v=o?f:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,x=o?f:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,x=o?f:`${g}px`),{data:{x:v,y:x}}}});function Q2(e){const[t,n="center"]=e.split("-");return[t,n]}var J2=Y2,T0=q2,R0=X2,M0=W2,mg=["Enter"," "],f$=["ArrowDown","PageUp","Home"],e_=["ArrowUp","PageDown","End"],h$=[...f$,...e_],m$={ltr:[...mg,"ArrowRight"],rtl:[...mg,"ArrowLeft"]},g$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lc="Menu",[El,p$,y$]=p0(lc),[Os,t_]=yn(lc,[y$,di,af]),df=di(),n_=af(),[v$,$s]=Os(lc),[x$,cc]=Os(lc),r_=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:s,modal:o=!0}=e,i=df(t),[c,u]=m.useState(null),d=m.useRef(!1),f=jt(s),h=sc(a);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(J2,{...i,children:l.jsx(v$,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(x$,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};r_.displayName=lc;var b$="MenuAnchor",D0=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=df(n);return l.jsx(T0,{...a,...r,ref:t})});D0.displayName=b$;var z0="MenuPortal",[w$,a_]=Os(z0,{forceMount:void 0}),s_=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,s=$s(z0,t);return l.jsx(w$,{scope:t,forceMount:n,children:l.jsx(zt,{present:n||s.open,children:l.jsx(i0,{asChild:!0,container:a,children:r})})})};s_.displayName=z0;var jn="MenuContent",[S$,O0]=Os(jn),o_=m.forwardRef((e,t)=>{const n=a_(jn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=$s(jn,e.__scopeMenu),o=cc(jn,e.__scopeMenu);return l.jsx(El.Provider,{scope:e.__scopeMenu,children:l.jsx(zt,{present:r||s.open,children:l.jsx(El.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(N$,{...a,ref:t}):l.jsx(E$,{...a,ref:t})})})})}),N$=m.forwardRef((e,t)=>{const n=$s(jn,e.__scopeMenu),r=m.useRef(null),a=Re(t,r);return m.useEffect(()=>{const s=r.current;if(s)return jE(s)},[]),l.jsx($0,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:J(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),E$=m.forwardRef((e,t)=>{const n=$s(jn,e.__scopeMenu);return l.jsx($0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_$=Uo("MenuContent.ScrollLock"),$0=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:v,...x}=e,b=$s(jn,n),p=cc(jn,n),y=df(n),w=n_(n),S=p$(n),[N,C]=m.useState(null),E=m.useRef(null),_=Re(t,E,b.onContentChange),j=m.useRef(0),A=m.useRef(""),D=m.useRef(0),I=m.useRef(null),R=m.useRef("right"),k=m.useRef(0),$=v?l0:m.Fragment,T=v?{as:_$,allowPinchZoom:!0}:void 0,P=M=>{var Q,le;const L=A.current+M,B=S().filter(me=>!me.disabled),F=document.activeElement,Y=(Q=B.find(me=>me.ref.current===F))==null?void 0:Q.textValue,V=B.map(me=>me.textValue),W=L$(V,L,Y),oe=(le=B.find(me=>me.textValue===W))==null?void 0:le.ref.current;(function me(H){A.current=H,window.clearTimeout(j.current),H!==""&&(j.current=window.setTimeout(()=>me(""),1e3))})(L),oe&&setTimeout(()=>oe.focus())};m.useEffect(()=>()=>window.clearTimeout(j.current),[]),bE();const z=m.useCallback(M=>{var B,F;return R.current===((B=I.current)==null?void 0:B.side)&&B$(M,(F=I.current)==null?void 0:F.area)},[]);return l.jsx(S$,{scope:n,searchRef:A,onItemEnter:m.useCallback(M=>{z(M)&&M.preventDefault()},[z]),onItemLeave:m.useCallback(M=>{var L;z(M)||((L=E.current)==null||L.focus(),C(null))},[z]),onTriggerLeave:m.useCallback(M=>{z(M)&&M.preventDefault()},[z]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(M=>{I.current=M},[]),children:l.jsx($,{...T,children:l.jsx(o0,{asChild:!0,trapped:a,onMountAutoFocus:J(s,M=>{var L;M.preventDefault(),(L=E.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(nc,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:l.jsx(h2,{asChild:!0,...w,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:J(c,M=>{p.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(R0,{role:"menu","aria-orientation":"vertical","data-state":S_(b.open),"data-radix-menu-content":"",dir:p.dir,...y,...x,ref:_,style:{outline:"none",...x.style},onKeyDown:J(x.onKeyDown,M=>{const B=M.target.closest("[data-radix-menu-content]")===M.currentTarget,F=M.ctrlKey||M.altKey||M.metaKey,Y=M.key.length===1;B&&(M.key==="Tab"&&M.preventDefault(),!F&&Y&&P(M.key));const V=E.current;if(M.target!==V||!h$.includes(M.key))return;M.preventDefault();const oe=S().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);e_.includes(M.key)&&oe.reverse(),O$(oe)}),onBlur:J(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(j.current),A.current="")}),onPointerMove:J(e.onPointerMove,_l(M=>{const L=M.target,B=k.current!==M.clientX;if(M.currentTarget.contains(L)&&B){const F=M.clientX>k.current?"right":"left";R.current=F,k.current=M.clientX}}))})})})})})})});o_.displayName=jn;var A$="MenuGroup",L0=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(pe.div,{role:"group",...r,ref:t})});L0.displayName=A$;var C$="MenuLabel",i_=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(pe.div,{...r,ref:t})});i_.displayName=C$;var dd="MenuItem",Wx="menu.itemSelect",ff=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,s=m.useRef(null),o=cc(dd,e.__scopeMenu),i=O0(dd,e.__scopeMenu),c=Re(t,s),u=m.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(Wx,{bubbles:!0,cancelable:!0});f.addEventListener(Wx,g=>r==null?void 0:r(g),{once:!0}),pE(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(l_,{...a,ref:c,disabled:n,onClick:J(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:J(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:J(e.onKeyDown,f=>{const h=i.searchRef.current!=="";n||h&&f.key===" "||mg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ff.displayName=dd;var l_=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...s}=e,o=O0(dd,n),i=n_(n),c=m.useRef(null),u=Re(t,c),[d,f]=m.useState(!1),[h,g]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[s.children]),l.jsx(El.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:l.jsx(m2,{asChild:!0,...i,focusable:!r,children:l.jsx(pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:J(e.onPointerMove,_l(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(e.onPointerLeave,_l(v=>o.onItemLeave(v))),onFocus:J(e.onFocus,()=>f(!0)),onBlur:J(e.onBlur,()=>f(!1))})})})}),k$="MenuCheckboxItem",c_=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return l.jsx(m_,{scope:e.__scopeMenu,checked:n,children:l.jsx(ff,{role:"menuitemcheckbox","aria-checked":fd(n)?"mixed":n,...a,ref:t,"data-state":B0(n),onSelect:J(a.onSelect,()=>r==null?void 0:r(fd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});c_.displayName=k$;var u_="MenuRadioGroup",[j$,T$]=Os(u_,{value:void 0,onValueChange:()=>{}}),d_=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,s=jt(r);return l.jsx(j$,{scope:e.__scopeMenu,value:n,onValueChange:s,children:l.jsx(L0,{...a,ref:t})})});d_.displayName=u_;var f_="MenuRadioItem",h_=m.forwardRef((e,t)=>{const{value:n,...r}=e,a=T$(f_,e.__scopeMenu),s=n===a.value;return l.jsx(m_,{scope:e.__scopeMenu,checked:s,children:l.jsx(ff,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":B0(s),onSelect:J(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});h_.displayName=f_;var P0="MenuItemIndicator",[m_,R$]=Os(P0,{checked:!1}),g_=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,s=R$(P0,n);return l.jsx(zt,{present:r||fd(s.checked)||s.checked===!0,children:l.jsx(pe.span,{...a,ref:t,"data-state":B0(s.checked)})})});g_.displayName=P0;var M$="MenuSeparator",p_=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});p_.displayName=M$;var D$="MenuArrow",y_=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=df(n);return l.jsx(M0,{...a,...r,ref:t})});y_.displayName=D$;var z$="MenuSub",[IX,v_]=Os(z$),Oi="MenuSubTrigger",x_=m.forwardRef((e,t)=>{const n=$s(Oi,e.__scopeMenu),r=cc(Oi,e.__scopeMenu),a=v_(Oi,e.__scopeMenu),s=O0(Oi,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),c(null)}},[i,c]),l.jsx(D0,{asChild:!0,...u,children:l.jsx(l_,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":S_(n.open),...e,ref:tf(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:J(e.onPointerMove,_l(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:J(e.onPointerLeave,_l(f=>{var g,v;d();const h=(g=n.content)==null?void 0:g.getBoundingClientRect();if(h){const x=(v=n.content)==null?void 0:v.dataset.side,b=x==="right",p=b?-5:5,y=h[b?"left":"right"],w=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+p,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:x}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:J(e.onKeyDown,f=>{var g;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||m$[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});x_.displayName=Oi;var b_="MenuSubContent",w_=m.forwardRef((e,t)=>{const n=a_(jn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=$s(jn,e.__scopeMenu),o=cc(jn,e.__scopeMenu),i=v_(b_,e.__scopeMenu),c=m.useRef(null),u=Re(t,c);return l.jsx(El.Provider,{scope:e.__scopeMenu,children:l.jsx(zt,{present:r||s.open,children:l.jsx(El.Slot,{scope:e.__scopeMenu,children:l.jsx($0,{id:i.contentId,"aria-labelledby":i.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(e.onFocusOutside,d=>{d.target!==i.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:J(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:J(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=g$[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(g=i.trigger)==null||g.focus(),d.preventDefault())})})})})})});w_.displayName=b_;function S_(e){return e?"open":"closed"}function fd(e){return e==="indeterminate"}function B0(e){return fd(e)?"indeterminate":e?"checked":"unchecked"}function O$(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function $$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function L$(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=$$(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function P$(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const i=t[s],c=t[o],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function B$(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return P$(n,t)}function _l(e){return t=>t.pointerType==="mouse"?e(t):void 0}var I$=r_,H$=D0,F$=s_,U$=o_,Z$=L0,V$=i_,Y$=ff,G$=c_,q$=d_,X$=h_,K$=g_,W$=p_,Q$=y_,J$=x_,eL=w_,hf="DropdownMenu",[tL,HX]=yn(hf,[t_]),Bt=t_(),[nL,N_]=tL(hf),E_=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,c=Bt(t),u=m.useRef(null),[d,f]=oa({prop:a,defaultProp:s??!1,onChange:o,caller:hf});return l.jsx(nL,{scope:t,triggerId:Zr(),triggerRef:u,contentId:Zr(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:i,children:l.jsx(I$,{...c,open:d,onOpenChange:f,dir:r,modal:i,children:n})})};E_.displayName=hf;var __="DropdownMenuTrigger",A_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,s=N_(__,n),o=Bt(n);return l.jsx(H$,{asChild:!0,...o,children:l.jsx(pe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:tf(t,s.triggerRef),onPointerDown:J(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(s.onOpenToggle(),s.open||i.preventDefault())}),onKeyDown:J(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&s.onOpenToggle(),i.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});A_.displayName=__;var rL="DropdownMenuPortal",C_=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Bt(t);return l.jsx(F$,{...r,...n})};C_.displayName=rL;var k_="DropdownMenuContent",j_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=N_(k_,n),s=Bt(n),o=m.useRef(!1);return l.jsx(U$,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...r,ref:t,onCloseAutoFocus:J(e.onCloseAutoFocus,i=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,i.preventDefault()}),onInteractOutside:J(e.onInteractOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j_.displayName=k_;var aL="DropdownMenuGroup",sL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(Z$,{...a,...r,ref:t})});sL.displayName=aL;var oL="DropdownMenuLabel",T_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(V$,{...a,...r,ref:t})});T_.displayName=oL;var iL="DropdownMenuItem",R_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(Y$,{...a,...r,ref:t})});R_.displayName=iL;var lL="DropdownMenuCheckboxItem",M_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(G$,{...a,...r,ref:t})});M_.displayName=lL;var cL="DropdownMenuRadioGroup",uL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(q$,{...a,...r,ref:t})});uL.displayName=cL;var dL="DropdownMenuRadioItem",D_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(X$,{...a,...r,ref:t})});D_.displayName=dL;var fL="DropdownMenuItemIndicator",z_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(K$,{...a,...r,ref:t})});z_.displayName=fL;var hL="DropdownMenuSeparator",O_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(W$,{...a,...r,ref:t})});O_.displayName=hL;var mL="DropdownMenuArrow",gL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(Q$,{...a,...r,ref:t})});gL.displayName=mL;var pL="DropdownMenuSubTrigger",$_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(J$,{...a,...r,ref:t})});$_.displayName=pL;var yL="DropdownMenuSubContent",L_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Bt(n);return l.jsx(eL,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L_.displayName=yL;var vL=E_,xL=A_,bL=C_,P_=j_,B_=T_,I_=R_,H_=M_,F_=D_,U_=z_,Z_=O_,V_=$_,Y_=L_;const I0=vL,H0=xL,wL=m.forwardRef(({className:e,inset:t,children:n,...r},a)=>l.jsxs(V_,{ref:a,className:G("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(Xd,{className:"ml-auto h-4 w-4"})]}));wL.displayName=V_.displayName;const SL=m.forwardRef(({className:e,...t},n)=>l.jsx(Y_,{ref:n,className:G("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Mt.DROPDOWN},...t}));SL.displayName=Y_.displayName;const mf=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(bL,{children:l.jsx(P_,{ref:r,sideOffset:t,className:G("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Mt.DROPDOWN},...n})}));mf.displayName=P_.displayName;const Vr=m.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(I_,{ref:r,className:G("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Vr.displayName=I_.displayName;const NL=m.forwardRef(({className:e,children:t,checked:n,...r},a)=>l.jsxs(H_,{ref:a,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(U_,{children:l.jsx(zN,{className:"h-4 w-4"})})}),t]}));NL.displayName=H_.displayName;const EL=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(F_,{ref:r,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(U_,{children:l.jsx(Qp,{className:"h-2 w-2 fill-current"})})}),t]}));EL.displayName=F_.displayName;const _L=m.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(B_,{ref:r,className:G("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));_L.displayName=B_.displayName;const AL=m.forwardRef(({className:e,...t},n)=>l.jsx(Z_,{ref:n,className:G("-mx-1 my-1 h-px bg-muted",e),...t}));AL.displayName=Z_.displayName;function CL(e,[t,n]){return Math.min(n,Math.max(t,e))}function kL(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var F0="ScrollArea",[G_,FX]=yn(F0),[jL,Mn]=G_(F0),q_=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:s=600,...o}=e,[i,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[g,v]=m.useState(null),[x,b]=m.useState(null),[p,y]=m.useState(0),[w,S]=m.useState(0),[N,C]=m.useState(!1),[E,_]=m.useState(!1),j=Re(t,D=>c(D)),A=sc(a);return l.jsx(jL,{scope:n,type:r,dir:A,scrollHideDelay:s,scrollArea:i,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:_,onCornerWidthChange:y,onCornerHeightChange:S,children:l.jsx(pe.div,{dir:A,...o,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});q_.displayName=F0;var X_="ScrollAreaViewport",K_=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...s}=e,o=Mn(X_,n),i=m.useRef(null),c=Re(t,i,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(pe.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});K_.displayName=X_;var vr="ScrollAreaScrollbar",U0=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Mn(vr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,i=e.orientation==="horizontal";return m.useEffect(()=>(i?s(!0):o(!0),()=>{i?s(!1):o(!1)}),[i,s,o]),a.type==="hover"?l.jsx(TL,{...r,ref:t,forceMount:n}):a.type==="scroll"?l.jsx(RL,{...r,ref:t,forceMount:n}):a.type==="auto"?l.jsx(W_,{...r,ref:t,forceMount:n}):a.type==="always"?l.jsx(Z0,{...r,ref:t}):null});U0.displayName=vr;var TL=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Mn(vr,e.__scopeScrollArea),[s,o]=m.useState(!1);return m.useEffect(()=>{const i=a.scrollArea;let c=0;if(i){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),l.jsx(zt,{present:n||s,children:l.jsx(W_,{"data-state":s?"visible":"hidden",...r,ref:t})})}),RL=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Mn(vr,e.__scopeScrollArea),s=e.orientation==="horizontal",o=pf(()=>c("SCROLL_END"),100),[i,c]=kL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,a.scrollHideDelay,c]),m.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(c("SCROLL"),o()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),l.jsx(zt,{present:n||i!=="hidden",children:l.jsx(Z0,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:J(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:J(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),W_=m.forwardRef((e,t)=>{const n=Mn(vr,e.__scopeScrollArea),{forceMount:r,...a}=e,[s,o]=m.useState(!1),i=e.orientation==="horizontal",c=pf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(i?u:d)}},10);return Vo(n.viewport,c),Vo(n.content,c),l.jsx(zt,{present:r||s,children:l.jsx(Z0,{"data-state":s?"visible":"hidden",...a,ref:t})})}),Z0=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Mn(vr,e.__scopeScrollArea),s=m.useRef(null),o=m.useRef(0),[i,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=nA(i.viewport,i.content),d={...r,sizes:i,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,g){return LL(h,o.current,i,g)}return n==="horizontal"?l.jsx(ML,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,g=Qx(h,i,a.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):n==="vertical"?l.jsx(DL,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,g=Qx(h,i);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),ML=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=Mn(vr,e.__scopeScrollArea),[o,i]=m.useState(),c=m.useRef(null),u=Re(t,c,s.onScrollbarXChange);return m.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(J_,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),aA(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:md(o.paddingLeft),paddingEnd:md(o.paddingRight)}})}})}),DL=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=Mn(vr,e.__scopeScrollArea),[o,i]=m.useState(),c=m.useRef(null),u=Re(t,c,s.onScrollbarYChange);return m.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(J_,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),aA(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:md(o.paddingTop),paddingEnd:md(o.paddingBottom)}})}})}),[zL,Q_]=G_(vr),J_=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,g=Mn(vr,n),[v,x]=m.useState(null),b=Re(t,j=>x(j)),p=m.useRef(null),y=m.useRef(""),w=g.viewport,S=r.content-r.viewport,N=jt(d),C=jt(c),E=pf(f,10);function _(j){if(p.current){const A=j.clientX-p.current.left,D=j.clientY-p.current.top;u({x:A,y:D})}}return m.useEffect(()=>{const j=A=>{const D=A.target;(v==null?void 0:v.contains(D))&&N(A,S)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[w,v,S,N]),m.useEffect(C,[r,C]),Vo(v,E),Vo(g.content,E),l.jsx(zL,{scope:n,scrollbar:v,hasThumb:a,onThumbChange:jt(s),onThumbPointerUp:jt(o),onThumbPositionChange:C,onThumbPointerDown:jt(i),children:l.jsx(pe.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:J(e.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),p.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),_(j))}),onPointerMove:J(e.onPointerMove,_),onPointerUp:J(e.onPointerUp,j=>{const A=j.target;A.hasPointerCapture(j.pointerId)&&A.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),p.current=null})})})}),hd="ScrollAreaThumb",eA=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Q_(hd,e.__scopeScrollArea);return l.jsx(zt,{present:n||a.hasThumb,children:l.jsx(OL,{ref:t,...r})})}),OL=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,s=Mn(hd,n),o=Q_(hd,n),{onThumbPositionChange:i}=o,c=Re(t,f=>o.onThumbChange(f)),u=m.useRef(void 0),d=pf(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const g=PL(f,i);u.current=g,i()}};return i(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,i]),l.jsx(pe.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),v=f.clientX-g.left,x=f.clientY-g.top;o.onThumbPointerDown({x:v,y:x})}),onPointerUp:J(e.onPointerUp,o.onThumbPointerUp)})});eA.displayName=hd;var V0="ScrollAreaCorner",tA=m.forwardRef((e,t)=>{const n=Mn(V0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx($L,{...e,ref:t}):null});tA.displayName=V0;var $L=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Mn(V0,n),[s,o]=m.useState(0),[i,c]=m.useState(0),u=!!(s&&i);return Vo(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Vo(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?l.jsx(pe.div,{...r,ref:t,style:{width:s,height:i,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function md(e){return e?parseInt(e,10):0}function nA(e,t){const n=e/t;return isNaN(n)?0:n}function gf(e){const t=nA(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function LL(e,t,n,r="ltr"){const a=gf(n),s=a/2,o=t||s,i=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-i,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return rA([c,u],f)(e)}function Qx(e,t,n="ltr"){const r=gf(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,i=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=CL(e,c);return rA([0,o],[0,i])(u)}function rA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function aA(e,t){return e>0&&e<t}var PL=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,i=n.top!==s.top;(o||i)&&t(),n=s,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function pf(e,t){const n=jt(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Vo(e,t){const n=jt(t);dr(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var sA=q_,BL=K_,IL=tA;const Al=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(sA,{ref:r,className:G("relative overflow-hidden",e),...n,children:[l.jsx(BL,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(oA,{}),l.jsx(IL,{})]}));Al.displayName=sA.displayName;const oA=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(U0,{ref:r,orientation:t,className:G("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(eA,{className:"relative flex-1 rounded-full bg-border"})}));oA.displayName=U0.displayName;function HL({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[s,o]=m.useState(!1),[i,c]=m.useState(null),[u,d]=m.useState(""),[f,h]=m.useState(-1),g=m.useRef(null),v=m.useRef(null),x=e.length===1?e[0]:null;m.useEffect(()=>{const A=D=>{g.current&&!g.current.contains(D.target)&&(o(!1),c(null),h(-1))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const b=i||x?(i||x).options.filter(A=>{var D;return A.label.toLowerCase().includes(u.toLowerCase())||((D=A.description)==null?void 0:D.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(A=>A.options.filter(D=>{var I;return D.label.toLowerCase().includes(u.toLowerCase())||((I=D.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),p=A=>{d(A),o(!0),h(-1)},y=A=>{var D;c(A),d(""),(D=v.current)==null||D.focus()},w=A=>{t(A),d(""),c(null),o(!1),h(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),o(!1),h(-1))},N=A=>{A.key==="ArrowDown"?(A.preventDefault(),h(D=>Math.min(D+1,b.length-1))):A.key==="ArrowUp"?(A.preventDefault(),h(D=>Math.max(D-1,-1))):A.key==="Enter"?(A.preventDefault(),f>=0&&b[f]?w(b[f]):u.trim()&&S()):A.key==="Escape"&&(o(!1),c(null),h(-1))},C=()=>{o(!0)},E=i||x,_=!x&&!i,j=u.trim()&&!b.some(A=>A.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:g,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(zs,{ref:v,type:"text",placeholder:E?E.placeholder:r,value:u,onChange:A=>p(A.target.value),onFocus:C,onKeyDown:N,className:"pl-10 pr-20"}),j&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(ng,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!s),children:l.jsx(Wr,{className:`h-4 w-4 transition-transform ${s?"rotate-180":""}`})})]}),s&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:Mt.AUTOCOMPLETE},children:[_&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(A=>l.jsxs("button",{onClick:()=>y(A),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:A.name}),l.jsx(Wr,{className:"h-4 w-4"})]},A.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(ng,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:b.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):b.map((A,D)=>l.jsxs("button",{onClick:()=>w(A),className:`w-full text-left px-2 py-2 rounded text-sm ${D===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:A.label}),A.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:A.description})]},A.id))})]})]})}function yf({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(o=>o.id==="fuzzy-search"||o.id==="keywords"),s=e.filter(o=>o.id!=="fuzzy-search"&&o.id!=="keywords");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(HL,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),s.map(o=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(go,{categories:[o],onSelect:t,placeholder:o.placeholder,className:"w-full"})},o.id))]})}function Y0({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},s={sm:"gap-3",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:G("grid",a[t],s[n],r),children:e})}function FL({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},s={sm:"gap-2",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:G("grid",a[t],s[n],r),children:e})}var vf="Collapsible",[UL,iA]=yn(vf),[ZL,G0]=UL(vf),lA=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:s,onOpenChange:o,...i}=e,[c,u]=oa({prop:r,defaultProp:a??!1,onChange:o,caller:vf});return l.jsx(ZL,{scope:n,disabled:s,contentId:Zr(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:l.jsx(pe.div,{"data-state":X0(c),"data-disabled":s?"":void 0,...i,ref:t})})});lA.displayName=vf;var cA="CollapsibleTrigger",uA=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=G0(cA,n);return l.jsx(pe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":X0(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:J(e.onClick,a.onOpenToggle)})});uA.displayName=cA;var q0="CollapsibleContent",dA=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=G0(q0,e.__scopeCollapsible);return l.jsx(zt,{present:n||a.open,children:({present:s})=>l.jsx(VL,{...r,ref:t,present:s})})});dA.displayName=q0;var VL=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...s}=e,o=G0(q0,n),[i,c]=m.useState(r),u=m.useRef(null),d=Re(t,u),f=m.useRef(0),h=f.current,g=m.useRef(0),v=g.current,x=o.open||i,b=m.useRef(x),p=m.useRef(void 0);return m.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),dr(()=>{const y=u.current;if(y){p.current=p.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,g.current=w.width,b.current||(y.style.transitionDuration=p.current.transitionDuration,y.style.animationName=p.current.animationName),c(r)}},[o.open,r]),l.jsx(pe.div,{"data-state":X0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:x&&a})});function X0(e){return e?"open":"closed"}var YL=lA,GL=uA,qL=dA,Yn="Accordion",XL=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[K0,KL,WL]=p0(Yn),[xf,UX]=yn(Yn,[WL,iA]),W0=iA(),fA=O.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,s=r;return l.jsx(K0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?l.jsx(tP,{...s,ref:t}):l.jsx(eP,{...a,ref:t})})});fA.displayName=Yn;var[hA,QL]=xf(Yn),[mA,JL]=xf(Yn,{collapsible:!1}),eP=O.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:s=!1,...o}=e,[i,c]=oa({prop:n,defaultProp:r??"",onChange:a,caller:Yn});return l.jsx(hA,{scope:e.__scopeAccordion,value:O.useMemo(()=>i?[i]:[],[i]),onItemOpen:c,onItemClose:O.useCallback(()=>s&&c(""),[s,c]),children:l.jsx(mA,{scope:e.__scopeAccordion,collapsible:s,children:l.jsx(gA,{...o,ref:t})})})}),tP=O.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...s}=e,[o,i]=oa({prop:n,defaultProp:r??[],onChange:a,caller:Yn}),c=O.useCallback(d=>i((f=[])=>[...f,d]),[i]),u=O.useCallback(d=>i((f=[])=>f.filter(h=>h!==d)),[i]);return l.jsx(hA,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:l.jsx(mA,{scope:e.__scopeAccordion,collapsible:!0,children:l.jsx(gA,{...s,ref:t})})})}),[nP,bf]=xf(Yn),gA=O.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:s="vertical",...o}=e,i=O.useRef(null),c=Re(i,t),u=KL(n),f=sc(a)==="ltr",h=J(e.onKeyDown,g=>{var _;if(!XL.includes(g.key))return;const v=g.target,x=u().filter(j=>{var A;return!((A=j.ref.current)!=null&&A.disabled)}),b=x.findIndex(j=>j.ref.current===v),p=x.length;if(b===-1)return;g.preventDefault();let y=b;const w=0,S=p-1,N=()=>{y=b+1,y>S&&(y=w)},C=()=>{y=b-1,y<w&&(y=S)};switch(g.key){case"Home":y=w;break;case"End":y=S;break;case"ArrowRight":s==="horizontal"&&(f?N():C());break;case"ArrowDown":s==="vertical"&&N();break;case"ArrowLeft":s==="horizontal"&&(f?C():N());break;case"ArrowUp":s==="vertical"&&C();break}const E=y%p;(_=x[E].ref.current)==null||_.focus()});return l.jsx(nP,{scope:n,disabled:r,direction:a,orientation:s,children:l.jsx(K0.Slot,{scope:n,children:l.jsx(pe.div,{...o,"data-orientation":s,ref:c,onKeyDown:r?void 0:h})})})}),gd="AccordionItem",[rP,Q0]=xf(gd),pA=O.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,s=bf(gd,n),o=QL(gd,n),i=W0(n),c=Zr(),u=r&&o.value.includes(r)||!1,d=s.disabled||e.disabled;return l.jsx(rP,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(YL,{"data-orientation":s.orientation,"data-state":SA(u),...i,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});pA.displayName=gd;var yA="AccordionHeader",vA=O.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=bf(Yn,n),s=Q0(yA,n);return l.jsx(pe.h3,{"data-orientation":a.orientation,"data-state":SA(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:t})});vA.displayName=yA;var gg="AccordionTrigger",xA=O.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=bf(Yn,n),s=Q0(gg,n),o=JL(gg,n),i=W0(n);return l.jsx(K0.ItemSlot,{scope:n,children:l.jsx(GL,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...i,...r,ref:t})})});xA.displayName=gg;var bA="AccordionContent",wA=O.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=bf(Yn,n),s=Q0(bA,n),o=W0(n);return l.jsx(qL,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});wA.displayName=bA;function SA(e){return e?"open":"closed"}var aP=fA,sP=pA,oP=vA,NA=xA,EA=wA;const J0=aP,wf=m.forwardRef(({className:e,...t},n)=>l.jsx(sP,{ref:n,className:G("border-b",e),...t}));wf.displayName="AccordionItem";const Sf=m.forwardRef(({className:e,children:t,...n},r)=>l.jsx(oP,{className:"flex",children:l.jsxs(NA,{ref:r,className:G("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,l.jsx(Wr,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Sf.displayName=NA.displayName;const Nf=m.forwardRef(({className:e,children:t,...n},r)=>l.jsx(EA,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:G("pb-4 pt-0",e),children:t})}));Nf.displayName=EA.displayName;function iP({children:e,title:t="Customize Display",description:n="Configure what information to show",defaultOpen:r=!1,className:a}){return l.jsx(J0,{type:"single",collapsible:!0,defaultValue:r?"customize-display":void 0,className:a,children:l.jsxs(wf,{value:"customize-display",className:"border-none",children:[l.jsx(Sf,{className:"hover:no-underline",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(PN,{className:"h-4 w-4"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:t}),l.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]})}),l.jsx(Nf,{children:l.jsx("div",{className:"space-y-4 pt-2",children:e})})]})})}var lP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cP="VisuallyHidden",_A=m.forwardRef((e,t)=>l.jsx(pe.span,{...e,ref:t,style:{...lP,...e.style}}));_A.displayName=cP;var uP=_A,[Ef,ZX]=yn("Tooltip",[di]),ey=di(),dP="TooltipProvider",Jx="tooltip.open",[VX,AA]=Ef(dP),CA="Tooltip",[YX,_f]=Ef(CA),pg="TooltipTrigger",fP=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=_f(pg,n),s=AA(pg,n),o=ey(n),i=m.useRef(null),c=Re(t,i,a.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(T0,{asChild:!0,...o,children:l.jsx(pe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:J(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:J(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:J(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:J(e.onBlur,a.onClose),onClick:J(e.onClick,a.onClose)})})});fP.displayName=pg;var hP="TooltipPortal",[GX,mP]=Ef(hP,{forceMount:void 0}),Yo="TooltipContent",kA=m.forwardRef((e,t)=>{const n=mP(Yo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...s}=e,o=_f(Yo,e.__scopeTooltip);return l.jsx(zt,{present:r||o.open,children:o.disableHoverableContent?l.jsx(jA,{side:a,...s,ref:t}):l.jsx(gP,{side:a,...s,ref:t})})}),gP=m.forwardRef((e,t)=>{const n=_f(Yo,e.__scopeTooltip),r=AA(Yo,e.__scopeTooltip),a=m.useRef(null),s=Re(t,a),[o,i]=m.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{i(null),f(!1)},[f]),g=m.useCallback((v,x)=>{const b=v.currentTarget,p={x:v.clientX,y:v.clientY},y=bP(p,b.getBoundingClientRect()),w=wP(p,y),S=SP(x.getBoundingClientRect()),N=EP([...w,...S]);i(N),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const v=b=>g(b,d),x=b=>g(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[c,d,g,h]),m.useEffect(()=>{if(o){const v=x=>{const b=x.target,p={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!NP(p,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),l.jsx(jA,{...e,ref:s})}),[pP,yP]=Ef(CA,{isInside:!1}),vP=R5("TooltipContent"),jA=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...i}=e,c=_f(Yo,n),u=ey(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Jx,d),()=>document.removeEventListener(Jx,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(nc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(R0,{"data-state":c.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(vP,{children:r}),l.jsx(pP,{scope:n,isInside:!0,children:l.jsx(uP,{id:c.contentId,role:"tooltip",children:a||r})})]})})});kA.displayName=Yo;var TA="TooltipArrow",xP=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=ey(n);return yP(TA,n).isInside?null:l.jsx(M0,{...a,...r,ref:t})});xP.displayName=TA;function bP(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,a,s)){case s:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wP(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function SP(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function NP(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const i=t[s],c=t[o],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function EP(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_P(t)}function _P(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var RA=kA;const AP=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(RA,{ref:r,sideOffset:t,className:G("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));AP.displayName=RA.displayName;function ar({title:e,navigateTo:t,onNavigate:n,children:r,className:a,showHeaderButton:s=!0}){return l.jsxs(ft,{className:a,children:[l.jsx(xt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(At,{className:"text-lg",children:e}),s&&l.jsxs(ae,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," "]})]})}),l.jsx(ht,{className:"space-y-4",children:r})]})}var CP="Label",MA=m.forwardRef((e,t)=>l.jsx(pe.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MA.displayName=CP;const kP=tc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Br=m.forwardRef(({className:e,children:t,...n},r)=>l.jsx(MA,{ref:r,className:G(kP(),e),...n,children:t}));Br.displayName="Label";function Fc({title:e,description:t,checked:n,onCheckedChange:r,className:a,disabled:s=!1,onClick:o,showSwitch:i=!0}){const c=()=>{o?o():s||r(!n)};return l.jsxs("div",{className:G("flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",s&&"opacity-50 cursor-not-allowed",a),onClick:c,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Br,{className:"text-base font-medium",children:e}),t&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),i&&l.jsx(Mr,{checked:n,onCheckedChange:r,disabled:s})]})}function jP(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function TP(e){const t=e.flatMap(n=>[...n.stat_modifications.map(r=>r.stat),...n.skill_bonuses.map(r=>r.stat)]);return[...new Set(t)].sort()}function Ze({children:e,className:t,expanded:n,onToggle:r,disableHover:a=!1}){let s,o,i,c;O.Children.forEach(e,v=>{O.isValidElement(v)&&(v.type===Ze.Header&&(s=v),v.type===Ze.Summary&&(o=v),v.type===Ze.Footer&&(i=v),v.type===Ze.Details&&(c=v))});const[u,d]=m.useState(!1),f=n!==void 0?n:u,h=r||(()=>d(v=>!v)),g=a?"":"hover:shadow-md hover:scale-[1.02]";return l.jsxs("div",{className:G("rounded-lg border bg-background shadow-sm transition-all duration-200 flex flex-col",g,t),children:[s&&O.cloneElement(s,{onClick:h,expanded:f}),l.jsxs("div",{className:"flex-1",children:[o,f&&c]}),i]})}Ze.Header=function({children:t,className:n,onClick:r,expanded:a}){return l.jsxs("div",{className:G("flex items-center gap-3 px-4 py-2 bg-muted/30 cursor-pointer select-none",n),onClick:r,tabIndex:0,role:"button","aria-expanded":a,children:[t,l.jsx("span",{className:G("ml-auto transition-transform",a?"rotate-90":""),children:l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};Ze.Summary=function({children:t,className:n}){return l.jsx("div",{className:G("px-4 py-2 space-y-3",n),children:t})};Ze.Footer=function({children:t,className:n}){return l.jsx("div",{className:G("px-4 py-2",n),children:t})};Ze.Details=function({children:t,className:n}){return l.jsx("div",{className:G("px-4 py-4 space-y-4 bg-background",n),children:t})};const uc={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},shareButton:{copied:"text-green-600",default:"text-blue-600",hover:"text-blue-700"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},Co={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function RP(e){return uc.traitLimit[e]}function MP(e){return uc.shareButton[e]}function eb(e){return uc.summaryCard[e]}function DP(e){return uc.backgrounds[e]}function DA(e){return uc.borders[e]}function zP({title:e,description:t,icon:n,variant:r="default",children:a,className:s}){const o=()=>{if(n)return n;switch(r){case"warning":return l.jsx(vl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return l.jsx(pl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return l.jsxs(ft,{className:G(Co.card,s),children:[l.jsxs(xt,{children:[l.jsxs(At,{className:"flex items-center gap-2",children:[o(),e]}),t&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),l.jsx(ht,{className:G(Co.section),children:a})]})}function tb({label:e,value:t,onChange:n,min:r=0,max:a=10,currentCount:s,type:o="regular",className:i}){const c=()=>{switch(o){case"regular":return l.jsx(Qp,{className:"h-4 w-4"});case"bonus":return l.jsx(Pr,{className:"h-4 w-4"});default:return null}},u=()=>RP(o);return l.jsxs("div",{className:G(Co.item,i),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c(),l.jsx(Br,{htmlFor:`${o}-limit`,className:u(),children:e})]}),l.jsx(zs,{id:`${o}-limit`,type:"number",min:r,max:a,value:t,onChange:d=>n(parseInt(d.target.value)||0),className:"mt-1"}),s!==void 0&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",s]})]})}function nb({type:e,title:t,message:n,className:r}){const a=()=>{switch(e){case"warning":return l.jsx(vl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return l.jsx(pl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return l.jsx(vl,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return l.jsx(pl,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return l.jsxs("div",{className:G("flex items-start gap-2 p-4 rounded-lg border",DP(e),DA(e),r),children:[a(),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:t}),l.jsx("p",{className:"mt-1",children:n})]})]})}function OP({open:e,title:t,message:n,variant:r="warning",confirmText:a="Confirm",cancelText:s="Cancel",onConfirm:o,onCancel:i,className:c}){if(!e)return null;const u=()=>{switch(r){case"warning":return l.jsx(vl,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return l.jsx(pl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return l.jsx(dD,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return l.jsx(eg,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return l.jsx(vl,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},d=()=>{switch(r){case"error":return"destructive";case"success":return"default";default:return"default"}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:l.jsxs("div",{className:G("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",DA(r),c),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u(),l.jsx("span",{className:"font-semibold",children:t})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:n}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ae,{variant:"outline",size:"sm",onClick:i,children:s}),l.jsx(ae,{variant:d(),size:"sm",onClick:o,children:a})]})]})})}const $P={race:{Altmer:"altmer.png",Argonian:"argonian.png",Bosmer:"bosmer.png",Breton:"breton.png",Dunmer:"dunmer.png",Imperial:"imperial.png",Khajiit:"khajit.png",Nord:"nord.png",Orsimer:"orismer.png",Redguard:"redguard.png"},religion:{},trait:{},destiny:{},birthsign:{Apprentice:"apprentice.svg"}},rb={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},LP={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};function zA({entityName:e,entityType:t,size:n="md",className:r}){const s=$P[t][e],[o,i]=O.useState(!1);return!s||o?l.jsx("div",{className:G("bg-muted rounded-full flex items-center justify-center font-bold text-muted-foreground",rb[n],r),children:l.jsx("span",{className:G(LP[n]),children:e.charAt(0)})}):l.jsx("div",{className:G("rounded-full overflow-hidden bg-muted flex items-center justify-center",rb[n],r),children:l.jsx("img",{src:`/lorerim-arcaneum/assets/${t==="birthsign"?"sign-avatar":`${t}-avatar`}/${s}`,alt:`${e} avatar`,className:"w-full h-full object-cover",onError:()=>i(!0),loading:"lazy"})})}const Oh=new Map;function PP(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(Oh.has(n))return Oh.get(n);let r=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((a,s)=>{const o=[];r.forEach(i=>{if(i.className)o.push(i);else{let c=0,u;const d=new RegExp(a.pattern,a.pattern.flags.includes("g")?a.pattern.flags:a.pattern.flags+"g");d.lastIndex=0;let f=0;for(;(u=d.exec(i.text))!==null;){u.index>c&&o.push({text:i.text.slice(c,u.index),key:`${i.key}-${f++}`});let h=u[0];a.transform&&(h=a.transform(h));const g=typeof a.className=="function"?a.className(h):a.className;o.push({text:h,className:g,key:`${i.key}-${f++}`}),c=d.lastIndex}c<i.text.length&&o.push({text:i.text.slice(c),key:`${i.key}-${f++}`})}}),r=o}),r=r.map((a,s)=>({...a,key:a.key||String(s)})),Oh.set(n,r),r}const BP=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],IP=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function HP(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,r=e.startsWith("-")||t<0;return n?"font-bold text-green-600":r?"font-bold text-red-600":"font-bold text-skyrim-gold"}},{pattern:/\*\*\*(.*?)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const r=parseFloat(n[0]),a=n[0].startsWith("+")||r>0,s=n[0].startsWith("-")||r<0;if(a)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(s)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<\d+>/g,className:"font-bold italic text-skyrim-gold",transform:e=>e.slice(1,-1)},{pattern:new RegExp(`\\b(${BP.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${IP.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function Yr({text:e,options:t,className:n="text-sm text-muted-foreground",as:r="div"}){const a=m.useMemo(()=>HP(),[]),s=m.useMemo(()=>e?PP(e,t||a):[],[e,t,a]);if(!e)return null;if(n.includes("line-clamp")){const i=n.match(/line-clamp-\d+/g)||[],c=n.replace(/line-clamp-\d+/g,"").trim();return l.jsx(r,{className:c,children:l.jsx("div",{className:`${i.join(" ")} overflow-hidden`,children:s.map(u=>l.jsx("span",{className:u.className,children:u.text},u.key))})})}return l.jsx(r,{className:n,children:s.map(i=>l.jsx("span",{className:i.className,children:i.text},i.key))})}function dc({options:e,onSelect:t,placeholder:n="Search...",className:r="",disabled:a=!1,searchQuery:s,onSearchQueryChange:o,renderOption:i,emptyMessage:c="No options found",maxHeight:u="max-h-96",showClearButton:d=!0,showToggleButton:f=!0}){const[h,g]=m.useState(!1),[v,x]=m.useState(""),[b,p]=m.useState(-1),y=m.useRef(null),w=m.useRef(null),S=s??v,N=o??x;m.useEffect(()=>{const R=k=>{y.current&&!y.current.contains(k.target)&&(g(!1),p(-1))};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const C=R=>{N(R),g(!0),p(-1)},E=R=>{t(R),N(""),g(!1),p(-1)},_=R=>{R.key==="ArrowDown"?(R.preventDefault(),p(k=>Math.min(k+1,e.length-1))):R.key==="ArrowUp"?(R.preventDefault(),p(k=>Math.max(k-1,-1))):R.key==="Enter"?(R.preventDefault(),b>=0&&e[b]&&E(e[b])):R.key==="Escape"&&(g(!1),p(-1))},j=()=>{g(!0)},A=()=>{var R;N(""),(R=w.current)==null||R.focus()},D=()=>{var R;g(!h),h||(R=w.current)==null||R.focus()},I=(R,k)=>l.jsxs("div",{className:"flex items-center gap-3",children:[R.icon&&l.jsx("div",{className:"flex-shrink-0",children:R.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium truncate",children:R.label}),R.badge&&l.jsx("div",{className:"flex-shrink-0",children:R.badge})]}),R.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:R.description})]})]});return l.jsxs("div",{ref:y,className:G("relative",r),children:[l.jsxs("div",{className:"relative",children:[l.jsx(Qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(zs,{ref:w,type:"text",placeholder:n,value:S,onChange:R=>C(R.target.value),onFocus:j,onKeyDown:_,className:"pl-10 pr-20",disabled:a}),d&&S&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:A,disabled:a,children:l.jsx(hn,{className:"h-4 w-4"})}),f&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:D,disabled:a,children:l.jsx(Wr,{className:G("h-4 w-4 transition-transform",h&&"rotate-180")})})]}),h&&l.jsx("div",{className:G("absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",u),style:{zIndex:Mt.AUTOCOMPLETE+10},children:l.jsx("div",{className:"p-2",children:e.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:c}):e.map((R,k)=>l.jsx("button",{onClick:()=>E(R),className:G("w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer",k===b?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"),disabled:a,children:i?i(R,k===b):I(R)},R.id))})})]})}function FP({link:e,variant:t="outline",size:n="sm",icon:r,text:a="Share / Export",onCopied:s,className:o}){const[i,c]=m.useState(!1),u=async()=>{try{await navigator.clipboard.writeText(e),c(!0),s==null||s(),setTimeout(()=>c(!1),1500)}catch(h){console.error("Failed to copy link:",h);const g=document.createElement("textarea");g.value=e,document.body.appendChild(g),g.select(),document.execCommand("copy"),document.body.removeChild(g),c(!0),s==null||s(),setTimeout(()=>c(!1),1500)}},d=()=>r||(i?l.jsx(zN,{className:"w-4 h-4"}):l.jsx(GD,{className:"w-4 h-4"})),f=()=>i?"Copied!":a;return l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ae,{variant:t,size:n,onClick:u,className:G("cursor-pointer hover:opacity-90",i&&MP("copied"),o),children:[d(),l.jsx("span",{className:"ml-2",children:f()})]})})}function UP({title:e,items:t,layout:n="grid",className:r}){const a=o=>{switch(o){case"race":return l.jsx(el,{className:"h-4 w-4"});case"birthsign":return l.jsx(Pr,{className:"h-4 w-4"});case"religion":return l.jsx(ON,{className:"h-4 w-4"});case"traits":return l.jsx(JD,{className:"h-4 w-4"});default:return null}},s=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return l.jsxs(ft,{className:G(Co.card,r),children:[l.jsx(xt,{children:l.jsx(At,{children:e})}),l.jsx(ht,{className:G(Co.section),children:l.jsx("div",{className:s(),children:t.map((o,i)=>l.jsxs("div",{className:G(Co.item,o.className),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.icon||a(o.type),l.jsxs("span",{className:G("font-medium text-sm",eb("primary")),children:[o.label,":"]})]}),l.jsx("div",{className:G("text-sm",eb("secondary")),children:o.value||"Not selected"})]},i))})})]})}function ZP(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function OA({birthsignName:e,size:t="md",className:n}){return l.jsx(zA,{entityName:e,entityType:"birthsign",size:t,className:n})}const ab={Warrior:{background:"bg-red-100",text:"text-red-800",border:"border-red-200",hover:"hover:bg-red-200"},Mage:{background:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",hover:"hover:bg-blue-200"},Thief:{background:"bg-green-100",text:"text-green-800",border:"border-green-200",hover:"hover:bg-red-200"},Serpent:{background:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",hover:"hover:bg-purple-200"},Other:{background:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",hover:"hover:bg-yellow-200"}};function VP(e){return ab[e]||ab.Other}function yg({item:e,className:t,showAddToBuild:n=!0,isExpanded:r=!1,onToggle:a,disableHover:s=!1}){var i,c,u,d;const o=e.originalBirthsign;return o?l.jsxs(Ze,{className:t,expanded:r,onToggle:a,disableHover:s,children:[l.jsxs(Ze.Header,{children:[n&&l.jsx(b0,{itemId:e.id,itemType:"stone",itemName:e.name}),l.jsx(OA,{birthsignName:o.name,size:"md"}),l.jsx(ac,{className:"text-primary font-semibold",children:o.name}),l.jsx("div",{className:"flex items-center gap-3 ml-auto",children:o.group&&l.jsx(ue,{variant:"outline",className:G(VP(o.group)||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200","text-xs font-medium transition-colors"),children:o.group})})]}),l.jsx(Ze.Summary,{children:l.jsx(Yr,{text:o.description,className:"text-base text-muted-foreground"})}),l.jsxs(Ze.Details,{children:[o.stat_modifications.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Stat Modifications"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.stat_modifications.map((f,h)=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsx("span",{className:"font-medium capitalize",children:f.stat}),l.jsxs("span",{className:G("font-bold",f.type==="bonus"?"text-green-600":"text-red-600"),children:[f.type==="bonus"?"+":"-",f.value,f.value_type==="percentage"?"%":""]})]},h))})]}),o.powers.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Powers"}),l.jsx("div",{className:"space-y-2",children:o.powers.map((f,h)=>l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Pr,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"font-medium text-sm",children:f.name})]}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},h))})]}),o.skill_bonuses.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Skill Bonuses"}),l.jsx("div",{className:"space-y-2",children:o.skill_bonuses.map((f,h)=>l.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[l.jsxs("span",{className:"font-medium",children:[f.stat," +",f.value]}),l.jsx(ue,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},h))})]}),(((i=o.conditional_effects)==null?void 0:i.length)>0||((c=o.mastery_effects)==null?void 0:c.length)>0)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Special Effects"}),l.jsxs("div",{className:"space-y-3",children:[(u=o.conditional_effects)==null?void 0:u.map((f,h)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsx("div",{className:"flex items-center gap-2 mb-1",children:l.jsx("span",{className:"font-medium text-sm",children:"Conditional Effect"})}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx("div",{className:"text-sm font-medium",children:f.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},`conditional-${h}`)),(d=o.mastery_effects)==null?void 0:d.map((f,h)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Pr,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx("div",{className:"text-sm font-medium",children:f.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},`mastery-${h}`))]})]})]})]}):null}function sb({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:r=""}){const a=m.useMemo(()=>e.map(i=>({id:i.edid,label:i.name,description:i.description,category:i.group,icon:l.jsx(OA,{birthsignName:i.name,size:"sm"}),badge:i.group&&l.jsx(ue,{variant:"outline",className:G("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:i.group}),metadata:{originalBirthsign:i}})),[e]),s=i=>{const c=e.find(u=>u.edid===i.id);c&&t(c)},o=(i,c)=>l.jsxs("div",{className:"flex items-center gap-3",children:[i.icon&&l.jsx("div",{className:"flex-shrink-0",children:i.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:i.label}),i.badge&&l.jsx("div",{className:"flex-shrink-0",children:i.badge})]}),i.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:i.description})]})]});return l.jsx(dc,{options:a,onSelect:s,placeholder:n,className:r,renderOption:o,emptyMessage:"No birthsigns found"})}const YP={birthsigns:[],loading:!0,error:null};function GP(e,t){switch(t.type){case"FETCH_START":return{...e,loading:!0,error:null};case"FETCH_SUCCESS":return{...e,loading:!1,birthsigns:t.payload,error:null};case"FETCH_ERROR":return{...e,loading:!1,error:t.payload};default:return e}}function $A(){const[e,t]=m.useReducer(GP,YP),n=m.useCallback(async()=>{t({type:"FETCH_START"});try{const r=await fetch("/lorerim-arcaneum/data/birthsigns.json");if(!r.ok)throw new Error("Failed to fetch birthsign data");const a=await r.json();t({type:"FETCH_SUCCESS",payload:a})}catch{t({type:"FETCH_ERROR",payload:"Failed to load birthsign data"})}},[]);return m.useEffect(()=>{n()},[n]),{...e,refetch:n}}function vg(e){var t,n,r,a,s,o;return{id:`religion-${e.name.toLowerCase().replace(/\s+/g,"-")}`,name:e.name,description:((t=e.tenet)==null?void 0:t.description)||"",tags:e.favoredRaces||[],summary:((n=e.tenet)==null?void 0:n.description)||"",effects:[...((a=(r=e.tenet)==null?void 0:r.effects)==null?void 0:a.map(i=>({type:"positive",name:i.effectName,description:i.effectDescription,value:i.magnitude,target:i.targetAttribute||""})))||[],...((o=(s=e.blessing)==null?void 0:s.effects)==null?void 0:o.map(i=>({type:"positive",name:i.effectName,description:i.effectDescription,value:i.magnitude,target:i.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:e.type}}function LA(e){var t,n;return{...e,id:e.edid,name:e.name,description:e.description,tags:[e.category,...Array.isArray(e.flags)?e.flags:[]],summary:e.description,effects:[...((t=e.skillBonuses)==null?void 0:t.map(r=>({type:"positive",name:r.skill,description:`+${r.bonus} to ${r.skill}`,value:r.bonus,target:r.skill})))||[],...((n=e.racialSpells)==null?void 0:n.map(r=>({type:"positive",name:r.name,description:r.description})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalRace:e}}function ob(e){var t;return{...e,id:e.edid,name:e.name,description:e.description,tags:e.tags||[],summary:e.description,effects:[...((t=e.effects)==null?void 0:t.map(n=>({type:"positive",name:n.type,description:n.condition?`${n.type} (${n.condition})`:n.type,value:n.value})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalTrait:e}}function PA(e){var r,a,s,o,i,c,u,d;const t=[...((r=e.stat_modifications)==null?void 0:r.map(f=>({type:f.type==="bonus"?"positive":"negative",name:`${f.stat} ${f.type==="bonus"?"+":"-"}${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} ${f.type==="bonus"?"increased":"decreased"} by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((a=e.skill_bonuses)==null?void 0:a.map(f=>({type:"positive",name:`${f.stat} +${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} skill increased by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((s=e.powers)==null?void 0:s.map(f=>({type:"positive",name:f.name,description:f.description,value:f.magnitude||0,target:"power"})))||[],...((o=e.conditional_effects)==null?void 0:o.map(f=>({type:"neutral",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[],...((i=e.mastery_effects)==null?void 0:i.map(f=>({type:"positive",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[]],n=[e.group,...((c=e.stat_modifications)==null?void 0:c.map(f=>f.stat))||[],...((u=e.skill_bonuses)==null?void 0:u.map(f=>f.stat))||[],...((d=e.powers)==null?void 0:d.map(f=>f.name))||[]].filter((f,h,g)=>g.indexOf(f)===h);return{...e,id:e.edid,name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.group,originalBirthsign:e}}function qP({className:e}){const{birthsigns:t}=$A(),{build:n,setStone:r}=Dt(),a=Wt(),[s,o]=m.useState(!0),i=n.stone?t.find(h=>h.edid===n.stone):null,c=h=>{r(h.edid)},u=()=>{a("/birth-signs")},d=()=>{o(!s)};if(!i)return l.jsxs(ar,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),l.jsx(sb,{birthsigns:t,onSelect:c,placeholder:"Search for a birthsign...",className:"w-full"})]});const f=PA(i);return l.jsxs(ar,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[l.jsx(sb,{birthsigns:t,onSelect:c,placeholder:`Birth Sign: Select a birthsign (${i.name})`,className:"w-full"}),l.jsx(yg,{item:f,isExpanded:s,onToggle:d,className:"border-0 shadow-none",showAddToBuild:!1,disableHover:!0})]})}function ta(e){return Array.isArray?Array.isArray(e):HA(e)==="[object Array]"}function XP(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function KP(e){return e==null?"":XP(e)}function sr(e){return typeof e=="string"}function BA(e){return typeof e=="number"}function WP(e){return e===!0||e===!1||QP(e)&&HA(e)=="[object Boolean]"}function IA(e){return typeof e=="object"}function QP(e){return IA(e)&&e!==null}function on(e){return e!=null}function $h(e){return!e.trim().length}function HA(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const JP="Incorrect 'index' type",e8=e=>`Invalid value for key ${e}`,t8=e=>`Pattern length exceeds max of ${e}.`,n8=e=>`Missing ${e} property in key`,r8=e=>`Property 'weight' in key '${e}' must be a positive integer`,ib=Object.prototype.hasOwnProperty;class a8{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=FA(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function FA(e){let t=null,n=null,r=null,a=1,s=null;if(sr(e)||ta(e))r=e,t=lb(e),n=xg(e);else{if(!ib.call(e,"name"))throw new Error(n8("name"));const o=e.name;if(r=o,ib.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(r8(o));t=lb(o),n=xg(o),s=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:s}}function lb(e){return ta(e)?e:e.split(".")}function xg(e){return ta(e)?e.join("."):e}function s8(e,t){let n=[],r=!1;const a=(s,o,i)=>{if(on(s))if(!o[i])n.push(s);else{let c=o[i];const u=s[c];if(!on(u))return;if(i===o.length-1&&(sr(u)||BA(u)||WP(u)))n.push(KP(u));else if(ta(u)){r=!0;for(let d=0,f=u.length;d<f;d+=1)a(u[d],o,i+1)}else o.length&&a(u,o,i+1)}};return a(e,sr(t)?t.split("."):t,0),r?n:n[0]}const o8={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},i8={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},l8={location:0,threshold:.6,distance:100},c8={useExtendedSearch:!1,getFn:s8,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var de={...i8,...o8,...l8,...c8};const u8=/[^ ]+/g;function d8(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const s=a.match(u8).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*e),i=parseFloat(Math.round(o*r)/r);return n.set(s,i),i},clear(){n.clear()}}}class ty{constructor({getFn:t=de.getFn,fieldNormWeight:n=de.fieldNormWeight}={}){this.norm=d8(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,sr(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();sr(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!on(t)||$h(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,s)=>{let o=a.getFn?a.getFn(t):this.getFn(t,a.path);if(on(o)){if(ta(o)){let i=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(on(d))if(sr(d)&&!$h(d)){let f={v:d,i:u,n:this.norm.get(d)};i.push(f)}else ta(d)&&d.forEach((f,h)=>{c.push({nestedArrIndex:h,value:f})})}r.$[s]=i}else if(sr(o)&&!$h(o)){let i={v:o,n:this.norm.get(o)};r.$[s]=i}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function UA(e,t,{getFn:n=de.getFn,fieldNormWeight:r=de.fieldNormWeight}={}){const a=new ty({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(FA)),a.setSources(t),a.create(),a}function f8(e,{getFn:t=de.getFn,fieldNormWeight:n=de.fieldNormWeight}={}){const{keys:r,records:a}=e,s=new ty({getFn:t,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(a),s}function Uc(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=de.distance,ignoreLocation:s=de.ignoreLocation}={}){const o=t/e.length;if(s)return o;const i=Math.abs(r-n);return a?o+i/a:i?1:o}function h8(e=[],t=de.minMatchCharLength){let n=[],r=-1,a=-1,s=0;for(let o=e.length;s<o;s+=1){let i=e[s];i&&r===-1?r=s:!i&&r!==-1&&(a=s-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[s-1]&&s-r>=t&&n.push([r,s-1]),n}const os=32;function m8(e,t,n,{location:r=de.location,distance:a=de.distance,threshold:s=de.threshold,findAllMatches:o=de.findAllMatches,minMatchCharLength:i=de.minMatchCharLength,includeMatches:c=de.includeMatches,ignoreLocation:u=de.ignoreLocation}={}){if(t.length>os)throw new Error(t8(os));const d=t.length,f=e.length,h=Math.max(0,Math.min(r,f));let g=s,v=h;const x=i>1||c,b=x?Array(f):[];let p;for(;(p=e.indexOf(t,v))>-1;){let E=Uc(t,{currentLocation:p,expectedLocation:h,distance:a,ignoreLocation:u});if(g=Math.min(E,g),v=p+d,x){let _=0;for(;_<d;)b[p+_]=1,_+=1}}v=-1;let y=[],w=1,S=d+f;const N=1<<d-1;for(let E=0;E<d;E+=1){let _=0,j=S;for(;_<j;)Uc(t,{errors:E,currentLocation:h+j,expectedLocation:h,distance:a,ignoreLocation:u})<=g?_=j:S=j,j=Math.floor((S-_)/2+_);S=j;let A=Math.max(1,h-j+1),D=o?f:Math.min(h+j,f)+d,I=Array(D+2);I[D+1]=(1<<E)-1;for(let k=D;k>=A;k-=1){let $=k-1,T=n[e.charAt($)];if(x&&(b[$]=+!!T),I[k]=(I[k+1]<<1|1)&T,E&&(I[k]|=(y[k+1]|y[k])<<1|1|y[k+1]),I[k]&N&&(w=Uc(t,{errors:E,currentLocation:$,expectedLocation:h,distance:a,ignoreLocation:u}),w<=g)){if(g=w,v=$,v<=h)break;A=Math.max(1,2*h-v)}}if(Uc(t,{errors:E+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>g)break;y=I}const C={isMatch:v>=0,score:Math.max(.001,w)};if(x){const E=h8(b,i);E.length?c&&(C.indices=E):C.isMatch=!1}return C}function g8(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const pd=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class ZA{constructor(t,{location:n=de.location,threshold:r=de.threshold,distance:a=de.distance,includeMatches:s=de.includeMatches,findAllMatches:o=de.findAllMatches,minMatchCharLength:i=de.minMatchCharLength,isCaseSensitive:c=de.isCaseSensitive,ignoreDiacritics:u=de.ignoreDiacritics,ignoreLocation:d=de.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:s,findAllMatches:o,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?pd(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(g,v)=>{this.chunks.push({pattern:g,alphabet:g8(g),startIndex:v})},h=this.pattern.length;if(h>os){let g=0;const v=h%os,x=h-v;for(;g<x;)f(this.pattern.substr(g,os),g),g+=os;if(v){const b=h-os;f(this.pattern.substr(b),b)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?pd(t):t,this.pattern===t){let x={isMatch:!0,score:0};return a&&(x.indices=[[0,t.length-1]]),x}const{location:s,distance:o,threshold:i,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,g=!1;this.chunks.forEach(({pattern:x,alphabet:b,startIndex:p})=>{const{isMatch:y,score:w,indices:S}=m8(t,x,b,{location:s+p,distance:o,threshold:i,findAllMatches:c,minMatchCharLength:u,includeMatches:a,ignoreLocation:d});y&&(g=!0),h+=w,y&&S&&(f=[...f,...S])});let v={isMatch:g,score:g?h/this.chunks.length:1};return g&&a&&(v.indices=f),v}}class Wa{constructor(t){this.pattern=t}static isMultiMatch(t){return cb(t,this.multiRegex)}static isSingleMatch(t){return cb(t,this.singleRegex)}search(){}}function cb(e,t){const n=e.match(t);return n?n[1]:null}class p8 extends Wa{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class y8 extends Wa{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class v8 extends Wa{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class x8 extends Wa{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class b8 extends Wa{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class w8 extends Wa{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class VA extends Wa{constructor(t,{location:n=de.location,threshold:r=de.threshold,distance:a=de.distance,includeMatches:s=de.includeMatches,findAllMatches:o=de.findAllMatches,minMatchCharLength:i=de.minMatchCharLength,isCaseSensitive:c=de.isCaseSensitive,ignoreDiacritics:u=de.ignoreDiacritics,ignoreLocation:d=de.ignoreLocation}={}){super(t),this._bitapSearch=new ZA(t,{location:n,threshold:r,distance:a,includeMatches:s,findAllMatches:o,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class YA extends Wa{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],s=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+s,a.push([r,n-1]);const o=!!a.length;return{isMatch:o,score:o?0:1,indices:a}}}const bg=[p8,YA,v8,x8,w8,b8,y8,VA],ub=bg.length,S8=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,N8="|";function E8(e,t={}){return e.split(N8).map(n=>{let r=n.trim().split(S8).filter(s=>s&&!!s.trim()),a=[];for(let s=0,o=r.length;s<o;s+=1){const i=r[s];let c=!1,u=-1;for(;!c&&++u<ub;){const d=bg[u];let f=d.isMultiMatch(i);f&&(a.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<ub;){const d=bg[u];let f=d.isSingleMatch(i);if(f){a.push(new d(f,t));break}}}return a})}const _8=new Set([VA.type,YA.type]);class A8{constructor(t,{isCaseSensitive:n=de.isCaseSensitive,ignoreDiacritics:r=de.ignoreDiacritics,includeMatches:a=de.includeMatches,minMatchCharLength:s=de.minMatchCharLength,ignoreLocation:o=de.ignoreLocation,findAllMatches:i=de.findAllMatches,location:c=de.location,threshold:u=de.threshold,distance:d=de.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:s,findAllMatches:i,ignoreLocation:o,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=r?pd(t):t,this.pattern=t,this.query=E8(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:s}=this.options;t=a?t:t.toLowerCase(),t=s?pd(t):t;let o=0,i=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];i.length=0,o=0;for(let h=0,g=f.length;h<g;h+=1){const v=f[h],{isMatch:x,indices:b,score:p}=v.search(t);if(x){if(o+=1,c+=p,r){const y=v.constructor.type;_8.has(y)?i=[...i,...b]:i.push(b)}}else{c=0,o=0,i.length=0;break}}if(o){let h={isMatch:!0,score:c/o};return r&&(h.indices=i),h}}return{isMatch:!1,score:1}}}const wg=[];function C8(...e){wg.push(...e)}function Sg(e,t){for(let n=0,r=wg.length;n<r;n+=1){let a=wg[n];if(a.condition(e,t))return new a(e,t)}return new ZA(e,t)}const yd={AND:"$and",OR:"$or"},Ng={PATH:"$path",PATTERN:"$val"},Eg=e=>!!(e[yd.AND]||e[yd.OR]),k8=e=>!!e[Ng.PATH],j8=e=>!ta(e)&&IA(e)&&!Eg(e),db=e=>({[yd.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function GA(e,t,{auto:n=!0}={}){const r=a=>{let s=Object.keys(a);const o=k8(a);if(!o&&s.length>1&&!Eg(a))return r(db(a));if(j8(a)){const c=o?a[Ng.PATH]:s[0],u=o?a[Ng.PATTERN]:a[c];if(!sr(u))throw new Error(e8(c));const d={keyId:xg(c),pattern:u};return n&&(d.searcher=Sg(u,t)),d}let i={children:[],operator:s[0]};return s.forEach(c=>{const u=a[c];ta(u)&&u.forEach(d=>{i.children.push(r(d))})}),i};return Eg(e)||(e=db(e)),r(e)}function T8(e,{ignoreFieldNorm:t=de.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:s,score:o})=>{const i=a?a.weight:null;r*=Math.pow(o===0&&i?Number.EPSILON:o,(i||1)*(t?1:s))}),n.score=r})}function R8(e,t){const n=e.matches;t.matches=[],on(n)&&n.forEach(r=>{if(!on(r.indices)||!r.indices.length)return;const{indices:a,value:s}=r;let o={indices:a,value:s};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),t.matches.push(o)})}function M8(e,t){t.score=e.score}function D8(e,t,{includeMatches:n=de.includeMatches,includeScore:r=de.includeScore}={}){const a=[];return n&&a.push(R8),r&&a.push(M8),e.map(s=>{const{idx:o}=s,i={item:t[o],refIndex:o};return a.length&&a.forEach(c=>{c(s,i)}),i})}class ia{constructor(t,n={},r){this.options={...de,...n},this.options.useExtendedSearch,this._keyStore=new a8(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof ty))throw new Error(JP);this._myIndex=n||UA(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){on(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const s=this._docs[r];t(s,r)&&(this.removeAt(r),r-=1,a-=1,n.push(s))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:s,sortFn:o,ignoreFieldNorm:i}=this.options;let c=sr(t)?sr(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return T8(c,{ignoreFieldNorm:i}),s&&c.sort(o),BA(n)&&n>-1&&(c=c.slice(0,n)),D8(c,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=Sg(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:s,i:o,n:i})=>{if(!on(s))return;const{isMatch:c,score:u,indices:d}=n.searchIn(s);c&&a.push({item:s,idx:o,matches:[{score:u,value:s,norm:i,indices:d}]})}),a}_searchLogical(t){const n=GA(t,this.options),r=(i,c,u)=>{if(!i.children){const{keyId:f,searcher:h}=i,g=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return g&&g.length?[{idx:u,item:c,matches:g}]:[]}const d=[];for(let f=0,h=i.children.length;f<h;f+=1){const g=i.children[f],v=r(g,c,u);if(v.length)d.push(...v);else if(i.operator===yd.AND)return[]}return d},a=this._myIndex.records,s={},o=[];return a.forEach(({$:i,i:c})=>{if(on(i)){let u=r(n,i,c);u.length&&(s[c]||(s[c]={idx:c,item:i,matches:[]},o.push(s[c])),u.forEach(({matches:d})=>{s[c].matches.push(...d)}))}}),o}_searchObjectList(t){const n=Sg(t,this.options),{keys:r,records:a}=this._myIndex,s=[];return a.forEach(({$:o,i})=>{if(!on(o))return;let c=[];r.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:o[d],searcher:n}))}),c.length&&s.push({idx:i,item:o,matches:c})}),s}_findMatches({key:t,value:n,searcher:r}){if(!on(n))return[];let a=[];if(ta(n))n.forEach(({v:s,i:o,n:i})=>{if(!on(s))return;const{isMatch:c,score:u,indices:d}=r.searchIn(s);c&&a.push({score:u,key:t,value:s,idx:o,norm:i,indices:d})});else{const{v:s,n:o}=n,{isMatch:i,score:c,indices:u}=r.searchIn(s);i&&a.push({score:c,key:t,value:s,norm:o,indices:u})}return a}}ia.version="7.1.0";ia.createIndex=UA;ia.parseIndex=f8;ia.config=de;ia.parseQuery=GA;C8(A8);function z8(e,t){const n=m.useMemo(()=>e.map(i=>{var c,u;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description,group:i.group,statModifications:i.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:i.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:i.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=i.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=i.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:i}}),[e]),r=m.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=m.useMemo(()=>new ia(n,r),[n,r]),s=m.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredBirthsigns:m.useMemo(()=>s.map(i=>i.item.originalBirthsign),[s]),searchResults:s,searchableBirthsigns:n}}const O8={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function $8(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function L8(e){const[t,n]=m.useReducer($8,O8),r=m.useMemo(()=>{const b=jP(e),p=TP(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:b.map(y=>({id:`group-${y}`,label:y,value:y,category:"Birthsign Groups",description:`Birthsigns from ${y} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:p.map(y=>({id:`stat-${y}`,label:y.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase()),value:y,category:"Stats & Skills",description:`Birthsigns that affect ${y}`}))}]},[e]),a=m.useMemo(()=>t.selectedTags.length===0?e:e.filter(b=>t.selectedTags.every(p=>{switch(p.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return b.group===p.value;case"Stats & Skills":return[...b.stat_modifications.map(w=>w.stat),...b.skill_bonuses.map(w=>w.stat)].some(w=>w===p.value);default:return!0}})),[e,t.selectedTags]),s=m.useMemo(()=>t.selectedTags.filter(b=>b.category==="Fuzzy Search").map(b=>b.value).join(" "),[t.selectedTags]),{filteredBirthsigns:o}=z8(a,s),i=m.useMemo(()=>o.map(PA),[o]),c=m.useMemo(()=>[...i].sort((b,p)=>{var y,w;switch(t.sortBy){case"alphabetical":return b.name.localeCompare(p.name);case"group":{const S=E=>{switch(E){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},N=S(b.category),C=S(p.category);return N!==C?N-C:b.name.localeCompare(p.name)}case"power-count":{const S=((y=b.effects)==null?void 0:y.filter(C=>C.target==="power").length)||0,N=((w=p.effects)==null?void 0:w.filter(C=>C.target==="power").length)||0;return S!==N?N-S:b.name.localeCompare(p.name)}default:return 0}}),[i,t.sortBy]),u=m.useCallback(b=>{n({type:"ADD_TAG",payload:b})},[]),d=m.useCallback(b=>{n({type:"REMOVE_TAG",payload:b})},[]),f=m.useCallback(b=>{n({type:"SET_SORT",payload:b})},[]),h=m.useCallback(b=>{n({type:"SET_VIEW_MODE",payload:b})},[]),g=m.useCallback(b=>{n({type:"TOGGLE_EXPANDED",payload:b})},[]),v=m.useCallback(b=>{n({type:"EXPAND_ALL",payload:b})},[]),x=m.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:d,setSort:f,setViewMode:h,toggleExpanded:g,expandAll:v,collapseAll:x,searchCategories:r,fuzzySearchQuery:s,filteredBirthsigns:a,displayItems:i,sortedDisplayItems:c}}const P8={showStats:!0,showPowers:!0,showSkills:!0,showEffects:!0};function B8(e,t){switch(t.type){case"TOGGLE_STATS":return{...e,showStats:!e.showStats};case"TOGGLE_POWERS":return{...e,showPowers:!e.showPowers};case"TOGGLE_SKILLS":return{...e,showSkills:!e.showSkills};case"TOGGLE_EFFECTS":return{...e,showEffects:!e.showEffects};case"TOGGLE_ALL":return{showStats:t.payload,showPowers:t.payload,showSkills:t.payload,showEffects:t.payload};case"SET_STATS":return{...e,showStats:t.payload};case"SET_POWERS":return{...e,showPowers:t.payload};case"SET_SKILLS":return{...e,showSkills:t.payload};case"SET_EFFECTS":return{...e,showEffects:t.payload};default:return e}}function I8(){const[e,t]=m.useReducer(B8,P8),n=m.useCallback(()=>{t({type:"TOGGLE_STATS"})},[]),r=m.useCallback(()=>{t({type:"TOGGLE_POWERS"})},[]),a=m.useCallback(()=>{t({type:"TOGGLE_SKILLS"})},[]),s=m.useCallback(()=>{t({type:"TOGGLE_EFFECTS"})},[]),o=m.useCallback(f=>{t({type:"TOGGLE_ALL",payload:f})},[]),i=m.useCallback(f=>{t({type:"SET_STATS",payload:f})},[]),c=m.useCallback(f=>{t({type:"SET_POWERS",payload:f})},[]),u=m.useCallback(f=>{t({type:"SET_SKILLS",payload:f})},[]),d=m.useCallback(f=>{t({type:"SET_EFFECTS",payload:f})},[]);return{...e,toggleStats:n,togglePowers:r,toggleSkills:a,toggleEffects:s,toggleAll:o,setStats:i,setPowers:c,setSkills:u,setEffects:d}}function H8(){const{birthsigns:e,loading:t,error:n}=$A(),{selectedTags:r,sortBy:a,viewMode:s,addTag:o,removeTag:i,setSort:c,setViewMode:u,searchCategories:d,sortedDisplayItems:f}=L8(e),[h,g]=m.useState(new Set),{showStats:v,showPowers:x,showSkills:b,showEffects:p,toggleStats:y,togglePowers:w,toggleSkills:S,toggleEffects:N,toggleAll:C,setStats:E,setPowers:_,setSkills:j,setEffects:A}=I8(),D=f.length>0&&f.every(R=>h.has(R.id));f.some(R=>h.has(R.id));const I=R=>{const k=new Set(h),$=3,T=f.findIndex(B=>B.id===R),z=Math.floor(T/$)*$,M=Math.min(z+$,f.length);f.slice(z,M).some(B=>k.has(B.id))?f.slice(z,M).forEach(B=>{k.delete(B.id)}):f.slice(z,M).forEach(B=>{k.add(B.id)}),g(k)};return t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading birthsigns..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(li,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(yf,{categories:d,onSelect:R=>{let k;typeof R=="string"?k={id:`custom-${R}`,label:R,value:R,category:"Fuzzy Search"}:k={id:`${R.category}-${R.id}`,label:R.label,value:R.value,category:R.category},r.some($=>$.value===k.value&&$.category===k.category)||o(k)},onCustomSearch:R=>{let k;typeof R=="string"?k={id:`custom-${R}`,label:R,value:R,category:"Fuzzy Search"}:k={id:`${R.category}-${R.id}`,label:R.label,value:R.value,category:R.category},r.some($=>$.value===k.value&&$.category===k.category)||o(k)}})}),l.jsxs(I0,{children:[l.jsx(H0,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(Wr,{className:"h-4 w-4"}),a==="alphabetical"?"A-Z":a==="group"?"Type":"Count"]})}),l.jsxs(mf,{align:"end",children:[l.jsx(Vr,{onClick:()=>c("alphabetical"),children:"Alphabetical"}),l.jsx(Vr,{onClick:()=>c("group"),children:"Birthsign Group"}),l.jsx(Vr,{onClick:()=>c("power-count"),children:"Power Count"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:s==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Wd,{className:"h-4 w-4"})}),l.jsx(ae,{variant:s==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(Kd,{className:"h-4 w-4"})})]}),l.jsx(ae,{variant:"outline",size:"sm",onClick:D?()=>{g(new Set)}:()=>{g(new Set(f.map(R=>R.id)))},className:"flex items-center justify-center",title:D?"Collapse all accordions":"Expand all accordions",children:D?l.jsx(LN,{className:"h-4 w-4"}):l.jsx($N,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:r.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>r.forEach(R=>i(R.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(hn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),r.map(R=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>i(R.id),title:"Click to remove",children:[R.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},R.id))]})}),f.length>0&&l.jsx(J0,{type:"single",collapsible:!0,className:"w-full",children:l.jsxs(wf,{value:"customize-display",className:"border-none",children:[l.jsxs(Sf,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-background hover:bg-muted/50 transition-colors data-[state=open]:rounded-b-none data-[state=open]:border-b-0 justify-start",children:[l.jsx(PN,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Customize Display"})]}),l.jsx(Nf,{className:"px-3 py-3 rounded-b-lg border border-t-0 bg-background",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(Mr,{checked:v&&x&&b&&p,onCheckedChange:C}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs("div",{className:"flex items-stretch gap-3 w-full",children:[l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:y,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Br,{className:"text-base font-medium",children:"Stats"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute modifications"})]}),l.jsx(Mr,{checked:v,onCheckedChange:E,onClick:R=>R.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:w,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Br,{className:"text-base font-medium",children:"Powers"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Special abilities and spells"})]}),l.jsx(Mr,{checked:x,onCheckedChange:_,onClick:R=>R.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:S,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Br,{className:"text-base font-medium",children:"Skills"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Skill bonuses and effects"})]}),l.jsx(Mr,{checked:b,onCheckedChange:j,onClick:R=>R.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:N,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Br,{className:"text-base font-medium",children:"Effects"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Conditional and mastery effects"})]}),l.jsx(Mr,{checked:p,onCheckedChange:A,onClick:R=>R.stopPropagation()})]})]})]})})]})}),s==="grid"?l.jsx(Y0,{columns:3,gap:"md",className:"w-full mt-6",children:f.map(R=>{const k=e.find(T=>{const P=R.id;return T.name.toLowerCase().replace(/\s+/g,"-")===P});if(!k)return null;const $=h.has(R.id);return l.jsx(yg,{item:{...R,originalBirthsign:k},isExpanded:$,onToggle:()=>I(R.id),className:"w-full"},R.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:f.map(R=>{const k=e.find(T=>{const P=R.id;return T.name.toLowerCase().replace(/\s+/g,"-")===P});if(!k)return null;const $=h.has(R.id);return l.jsx(yg,{item:{...R,originalBirthsign:k},isExpanded:$,onToggle:()=>I(R.id),className:"w-full"},R.id)})}),f.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}var Lh,Af="HoverCard",[qA,qX]=yn(Af,[di]),Cf=di(),[F8,ny]=qA(Af),XA=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:a,onOpenChange:s,openDelay:o=700,closeDelay:i=300}=e,c=Cf(t),u=m.useRef(0),d=m.useRef(0),f=m.useRef(!1),h=m.useRef(!1),[g,v]=oa({prop:r,defaultProp:a??!1,onChange:s,caller:Af}),x=m.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>v(!0),o)},[o,v]),b=m.useCallback(()=>{clearTimeout(u.current),!f.current&&!h.current&&(d.current=window.setTimeout(()=>v(!1),i))},[i,v]),p=m.useCallback(()=>v(!1),[v]);return m.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),l.jsx(F8,{scope:t,open:g,onOpenChange:v,onOpen:x,onClose:b,onDismiss:p,hasSelectionRef:f,isPointerDownOnContentRef:h,children:l.jsx(J2,{...c,children:n})})};XA.displayName=Af;var KA="HoverCardTrigger",WA=m.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=ny(KA,n),s=Cf(n);return l.jsx(T0,{asChild:!0,...s,children:l.jsx(pe.a,{"data-state":a.open?"open":"closed",...r,ref:t,onPointerEnter:J(e.onPointerEnter,xd(a.onOpen)),onPointerLeave:J(e.onPointerLeave,xd(a.onClose)),onFocus:J(e.onFocus,a.onOpen),onBlur:J(e.onBlur,a.onClose),onTouchStart:J(e.onTouchStart,o=>o.preventDefault())})})});WA.displayName=KA;var U8="HoverCardPortal",[XX,Z8]=qA(U8,{forceMount:void 0}),vd="HoverCardContent",QA=m.forwardRef((e,t)=>{const n=Z8(vd,e.__scopeHoverCard),{forceMount:r=n.forceMount,...a}=e,s=ny(vd,e.__scopeHoverCard);return l.jsx(zt,{present:r||s.open,children:l.jsx(V8,{"data-state":s.open?"open":"closed",...a,onPointerEnter:J(e.onPointerEnter,xd(s.onOpen)),onPointerLeave:J(e.onPointerLeave,xd(s.onClose)),ref:t})})});QA.displayName=vd;var V8=m.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,...i}=e,c=ny(vd,n),u=Cf(n),d=m.useRef(null),f=Re(t,d),[h,g]=m.useState(!1);return m.useEffect(()=>{if(h){const v=document.body;return Lh=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=Lh,v.style.webkitUserSelect=Lh}}},[h]),m.useEffect(()=>{if(d.current){const v=()=>{g(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),m.useEffect(()=>{d.current&&q8(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),l.jsx(nc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:J(s,v=>{v.preventDefault()}),onDismiss:c.onDismiss,children:l.jsx(R0,{...u,...i,onPointerDown:J(i.onPointerDown,v=>{v.currentTarget.contains(v.target)&&g(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...i.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Y8="HoverCardArrow",G8=m.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=Cf(n);return l.jsx(M0,{...a,...r,ref:t})});G8.displayName=Y8;function xd(e){return t=>t.pointerType==="touch"?void 0:e()}function q8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var X8=XA,K8=WA,JA=QA;const eC=X8,tC=K8,ry=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>l.jsx(JA,{ref:a,align:t,sideOffset:n,className:G("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Mt.TOOLTIP},...r}));ry.displayName=JA.displayName;function W8({node:e,allNodes:t,children:n,showPrerequisites:r=!0,showNextNodes:a=!0,showTags:s=!0,className:o=""}){const i=u=>t.filter(d=>d.prerequisites.includes(u)),c=u=>t.filter(d=>e.prerequisites.includes(d.name));return l.jsxs(eC,{children:[l.jsx(tC,{asChild:!0,children:n}),l.jsx(ry,{className:`w-80 p-0 ${o}`,children:l.jsxs(ft,{className:"border-0 shadow-none",children:[l.jsx(xt,{className:"pb-2",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:e.name})}),e.icon&&l.jsx("div",{className:"w-8 h-8 ml-2",children:l.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-contain"})})]})}),l.jsxs(ht,{className:"pt-0 space-y-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),r&&e.prerequisites.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[c(e.name).map(u=>l.jsx(ue,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:u.name},u.id)),e.prerequisites.filter(u=>!t.some(d=>d.name===u)).map((u,d)=>l.jsx(ue,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500 border-gray-200",children:u},`missing-${d}`))]})]}),a&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Leads to:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[i(e.name).map(u=>l.jsx(ue,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:u.name},u.id)),i(e.name).length===0&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"No further progression"})]})]}),s&&e.tags.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((u,d)=>l.jsx(ue,{variant:"secondary",className:"text-xs",children:u},d))})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l.jsxs("p",{children:["ID: ",e.id]}),e.globalFormId&&l.jsxs("p",{children:["Form ID: ",e.globalFormId]})]})]})]})})]})}function nC({node:e,allNodes:t,variant:n="default",size:r="md",showHoverCard:a=!0,onClick:s,className:o=""}){const i={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},c=l.jsx(ue,{variant:n,className:`
        ${i[r]} 
        ${s?"cursor-pointer hover:bg-muted/50":""} 
        ${o}
        rounded-full
      `,onClick:s,children:e.name});return a?l.jsx(W8,{node:e,allNodes:t,children:c}):c}function rC({path:e,allNodes:t,onBreadcrumbClick:n,variant:r="default",className:a=""}){if(e.length===0)return l.jsx("div",{className:`flex items-center gap-2 ${a}`,children:l.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})});const s=r==="compact"?"sm":"md";return l.jsx("div",{className:`flex items-center gap-2 ${a}`,children:e.map((o,i)=>l.jsxs(O.Fragment,{children:[l.jsx(nC,{node:o,allNodes:t,variant:i===e.length-1?"default":"outline",size:s,showHoverCard:!0,onClick:n?()=>n(i):void 0}),i<e.length-1&&l.jsx(Xd,{className:"w-4 h-4 text-muted-foreground"})]},o.id))})}function Q8({path:e,allNodes:t,selectedPathLength:n,isComplete:r,endNode:a,onPathClick:s,variant:o="default",className:i=""}){const c=o==="compact"?"sm":"md";return l.jsxs("div",{className:`p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer ${i}`,onClick:()=>s(e,n),children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx("div",{className:"flex flex-wrap items-center gap-1",children:e.map((u,d)=>l.jsxs(O.Fragment,{children:[l.jsx(nC,{node:u,allNodes:t,variant:"outline",size:c,showHoverCard:!0,onClick:f=>{f==null||f.stopPropagation(),s(e,d)},className:`
                   ${d===0&&n===0?"cursor-pointer":""}
                   ${r&&d===e.length-1?"bg-yellow-600 text-yellow-50 border-yellow-700":""}
                 `}),d<e.length-1&&l.jsx(Xd,{className:"w-3 h-3 text-muted-foreground"})]},u.id))})}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Length: ",e.length," steps"]}),r&&l.jsxs("span",{children:[" Ends at: ",a.name]}),e.length>n&&l.jsxs("span",{children:[" ",e.length-n," more choices"]})]})]})}function J8({path:e,className:t=""}){return e.length===0?l.jsxs("div",{className:`space-y-2 ${t}`,children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Selected Path"}),l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:l.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})})]}):l.jsxs("div",{className:`space-y-2 ${t}`,children:[l.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Selected Path (",e.length," nodes)"]}),l.jsx("div",{className:"space-y-2",children:e.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium",children:r+1}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-sm",children:n.name}),n.description&&l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:n.description})]})]}),l.jsx(ue,{variant:"secondary",className:r===e.length-1?"bg-yellow-600 text-yellow-50":"bg-blue-500",children:r===e.length-1?"Current":"Selected"})]},n.id))})]})}class eB{constructor(){fi(this,"nodes",[]);fi(this,"loading",!1);fi(this,"error",null);fi(this,"loaded",!1)}async loadNodes(){if(this.loaded&&this.nodes.length>0)return this.nodes;try{this.loading=!0,this.error=null;const t=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!t.ok)throw new Error("Failed to fetch destiny data");const r=(await t.json()).map((a,s)=>({id:a.globalFormId||a.edid||`destiny-${s}`,edid:a.edid,name:a.name,description:a.description,tags:[],prerequisites:a.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:a.globalFormId}));return this.enrichNodesWithTags(r),this.nodes=r,this.loaded=!0,this.nodes}catch(t){throw this.error="Failed to load destiny data",console.error("Error loading destiny data:",t),new Error(this.error)}finally{this.loading=!1}}getNodes(){return this.nodes}isLoading(){return this.loading}getError(){return this.error}isLoaded(){return this.loaded}async retry(){return this.loaded=!1,this.nodes=[],this.loadNodes()}clear(){this.nodes=[],this.loaded=!1,this.error=null}enrichNodesWithTags(t){t.forEach(n=>{const r=[],a=n.description.toLowerCase();a.includes("magicka")&&r.push("Magic"),a.includes("health")&&r.push("Defensive"),a.includes("stamina")&&r.push("Utility"),a.includes("damage")&&r.push("Offensive"),a.includes("armor")&&r.push("Defensive"),a.includes("spell")&&r.push("Magic"),a.includes("weapon")&&r.push("Combat"),n.tags=r})}}class Qn{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.description=="string"&&Array.isArray(t.tags)&&Array.isArray(t.prerequisites)}static equals(t,n){return t.id===n.id}static hasTag(t,n){return t.tags.includes(n)}static hasAnyTag(t,n){return n.some(r=>this.hasTag(t,r))}static hasAllTags(t,n){return n.every(r=>this.hasTag(t,r))}static filterByTag(t,n){return t.filter(r=>this.hasTag(r,n))}static filterByAnyTag(t,n){return t.filter(r=>this.hasAnyTag(r,n))}static filterByAllTags(t,n){return t.filter(r=>this.hasAllTags(r,n))}static isRootNode(t){return t.prerequisites.length===0}static getRootNodes(t){return t.filter(n=>this.isRootNode(n))}static isLeafNode(t,n){return!n.some(r=>r.prerequisites.includes(t.edid))}static getLeafNodes(t){return t.filter(n=>this.isLeafNode(n,t))}static getNextNodes(t,n){return n.filter(r=>r.prerequisites.includes(t.edid))}static getPrerequisiteNodes(t,n){return n.filter(r=>t.prerequisites.includes(r.edid))}static search(t,n){const r=n.toLowerCase();return t.filter(a=>a.name.toLowerCase().includes(r)||a.description.toLowerCase().includes(r)||a.tags.some(s=>s.toLowerCase().includes(r)))}static sortByName(t){return[...t].sort((n,r)=>n.name.localeCompare(r.name))}static sortByPrerequisites(t){return[...t].sort((n,r)=>n.prerequisites.length-r.prerequisites.length)}static getUniqueTags(t){const n=t.flatMap(r=>r.tags);return[...new Set(n)].sort()}static getUniquePrerequisites(t){const n=t.flatMap(r=>r.prerequisites);return[...new Set(n)].sort()}}function Ls(e={}){const{includePrerequisites:t=!1,includeNextNodes:n=!1,filterByTags:r=[],searchTerm:a="",sortBy:s="name"}=e,[o,i]=m.useState([]),[c,u]=m.useState(!0),[d,f]=m.useState(null),[h]=m.useState(()=>new eB);m.useEffect(()=>{(async()=>{try{u(!0),f(null);const D=await h.loadNodes();i(D)}catch(D){f(D instanceof Error?D.message:"Failed to load destiny nodes")}finally{u(!1)}})()},[h]);const g=m.useMemo(()=>Qn.getRootNodes(o),[o]),v=m.useMemo(()=>[],[o]),x=m.useMemo(()=>Qn.getUniqueTags(o),[o]),b=m.useMemo(()=>{let A=[...o];return r.length>0&&(A=Qn.filterByAnyTag(A,r)),a&&(A=Qn.search(A,a)),s==="name"?A=Qn.sortByName(A):s==="prerequisites"&&(A=Qn.sortByPrerequisites(A)),A},[o,r,a,s]),p=A=>o.find(D=>D.id===A),y=A=>o.find(D=>D.edid===A);return{nodes:o,rootNodes:g,filteredNodes:b,isLoading:c,error:d,categories:v,tags:x,refresh:async()=>{try{u(!0),f(null);const A=await h.loadNodes();i(A)}catch(A){f(A instanceof Error?A.message:"Failed to refresh destiny nodes")}finally{u(!1)}},getNodeById:p,getNodeByName:A=>o.find(D=>D.name===A),getNodeByEdid:y,getNextNodes:A=>{const D=y(A);return D?Qn.getNextNodes(D,o):[]},getPrerequisiteNodes:A=>{const D=y(A);return D?Qn.getPrerequisiteNodes(D,o):[]},filterByCategory:A=>[],filterByTag:A=>Qn.filterByTag(o,A),searchNodes:A=>Qn.search(o,A)}}function kf(e={}){const{fromNode:t,maxDepth:n=10}=e,{nodes:r,rootNodes:a,isLoading:s,error:o}=Ls();return{possiblePaths:m.useMemo(()=>{if(s||o||!r.length)return[];const c=[],u=new Set,d=h=>r.filter(g=>g.prerequisites.includes(h)),f=(h,g=0)=>{if(g>=n)return;const v=h[h.length-1],x=d(v.edid);if(x.length===0){c.push({path:[...h],isComplete:!0,endNode:v});return}x.forEach(b=>{const p=h.map(y=>y.id).join("->")+"->"+b.id;u.has(p)||(u.add(p),f([...h,b],g+1))})};if(t){if(d(t.edid).length===0)return[];f([t])}else a.forEach(h=>{f([h])});return c},[r,a,t,n,s,o]),isLoading:s,error:o}}function aC(e){const{filterType:t,currentPath:n=[]}=e,{nodes:r,rootNodes:a}=Ls(),[s,o]=m.useState([]),{possiblePaths:i}=kf({fromNode:n.length>0?n[n.length-1]:void 0}),c=m.useMemo(()=>{if(t!=="build-path"||n.length===0)return r;const b=new Set,p=new Set,y=S=>{p.has(S)||(p.add(S),b.add(S),r.forEach(N=>{N.prerequisites.includes(S)&&y(N.edid)}))},w=n[n.length-1];return y(w.edid),r.filter(S=>b.has(S.edid))},[t,n,r,a]),u=m.useMemo(()=>{if(t==="build-path"){const b=new Set,p=new Set;i.forEach(S=>{S.path.forEach(N=>{b.add(N.edid)}),S.path.length>0&&p.add(S.path[S.path.length-1].edid)});const y=r.filter(S=>b.has(S.edid)),w=r.filter(S=>p.has(S.edid));return[{id:"includes-node",name:"Includes Node",placeholder:"Filter paths that include this node...",options:y.map(S=>{const N=i.filter(C=>C.path.some(E=>E.edid===S.edid)).length;return{id:`includes-${S.id}`,label:S.name,value:S.edid,category:"Includes Node",description:`${N} path${N!==1?"s":""} include ${S.name}`}})},{id:"ends-with-node",name:"Ends With Node",placeholder:"Filter paths that end with this node...",options:w.map(S=>{const N=i.filter(C=>C.path.length>0&&C.path[C.path.length-1].edid===S.edid).length;return{id:`ends-${S.id}`,label:S.name,value:S.edid,category:"Ends With Node",description:`${N} path${N!==1?"s":""} end with ${S.name}`}})}]}else{const b=[...new Set(r.flatMap(y=>y.tags))],p=[...new Set(r.flatMap(y=>y.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:b.map(y=>({id:`tag-${y}`,label:y,value:y,category:"Tags",description:`Nodes with ${y} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Filter by prerequisite...",options:p.map(y=>{const w=r.find(S=>S.edid===y);return{id:`prereq-${y}`,label:w?w.name:y,value:y,category:"Prerequisites",description:`Nodes requiring ${w?w.name:y}`}})}]}},[t,c,r,i]),d=m.useCallback(b=>{o(p=>p.some(w=>w.type===b.type&&w.nodeName===b.nodeName)?p:[...p,b])},[]),f=m.useCallback(b=>{o(p=>p.filter(y=>y.id!==b))},[]),h=m.useCallback(()=>{o([])},[]),g=m.useCallback(()=>u.flatMap(b=>b.options),[u]),v=m.useCallback(b=>c.some(p=>p.id===b.id),[c]),x=m.useMemo(()=>t!=="build-path"||s.length===0?i.map(b=>b.path):i.map(b=>b.path).filter(b=>s.every(p=>{switch(p.type){case"includes-node":return b.some(y=>y.edid===p.nodeName||y.edid===p.nodeId);case"ends-with-node":return b.length>0&&(b[b.length-1].edid===p.nodeName||b[b.length-1].edid===p.nodeId);default:return!0}})),[t,s,i]);return{selectedFilters:s,searchCategories:u,addFilter:d,removeFilter:f,clearFilters:h,filteredPaths:x,availableNodes:c,getFilterOptions:g,isNodeAvailable:v}}function ay(e={}){const{initialPath:t=[],validatePath:n=!0}=e,[r,a]=m.useState(t),{nodes:s,rootNodes:o}=Ls(),i=m.useMemo(()=>r.length>0?r[r.length-1]:null,[r]),c=m.useMemo(()=>r.length===0?o:s.filter(w=>w.prerequisites.length===0?!1:w.prerequisites.some(S=>r.some(N=>N.edid===S))),[r,s,o]),u=m.useMemo(()=>i?s.filter(w=>w.prerequisites.includes(i.edid)):o,[i,s,o]),d=m.useMemo(()=>i?s.filter(w=>i.prerequisites.includes(w.edid)):[],[i,s]),{isValidPath:f,pathErrors:h}=m.useMemo(()=>{if(!n||r.length===0)return{isValidPath:!0,pathErrors:[]};const w=[];for(let S=1;S<r.length;S++){const N=r[S],C=r.slice(0,S);!N.prerequisites.some(_=>C.some(j=>j.edid===_))&&N.prerequisites.length>0&&w.push(`${N.name} requires one of: ${N.prerequisites.join(", ")}`)}return{isValidPath:w.length===0,pathErrors:w}},[r,n]),g=m.useCallback(w=>{if(r.length>0){if(r[r.length-1],!w.prerequisites.some(N=>r.some(C=>C.edid===N))&&w.prerequisites.length>0)return!1}else if(w.prerequisites.length>0)return!1;return a(S=>[...S,w]),!0},[r]),v=m.useCallback(w=>{a(S=>S.slice(0,w+1))},[]),x=m.useCallback(w=>{a(w)},[]),b=m.useCallback(()=>{a([])},[]),p=m.useCallback(w=>{a(S=>S.slice(0,w+1))},[]),y=m.useCallback(()=>({startNode:r[0]||null,endNode:r[r.length-1]||null,totalNodes:r.length,pathString:r.map(w=>w.name).join("  ")}),[r]);return{currentPath:r,currentNode:i,availableNodes:c,rootNodes:o,isValidPath:f,pathErrors:h,addNodeToPath:g,removeNodeFromPath:v,setPath:x,clearPath:b,goToPathIndex:p,pathLength:r.length,isPathComplete:u.length===0,nextPossibleNodes:u,prerequisiteNodes:d,getPathSummary:y}}function sC({searchCategories:e,selectedFilters:t,onFilterSelect:n,onFilterRemove:r,onClearFilters:a,className:s=""}){const o=e.find(d=>d.id==="includes-node"),i=e.find(d=>d.id==="ends-with-node"),c=e.find(d=>d.id==="tags"),u=e.find(d=>d.id==="prerequisites");return l.jsxs("div",{className:`space-y-4 ${s}`,children:[l.jsxs("div",{className:"flex flex-wrap gap-4",children:[o&&l.jsxs("div",{className:"space-y-2 max-w-sm",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Includes"}),l.jsx(go,{categories:[o],onSelect:n,placeholder:o.placeholder,className:"w-full"})]}),i&&l.jsxs("div",{className:"space-y-2 max-w-sm",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Ends With"}),l.jsx(go,{categories:[i],onSelect:n,placeholder:i.placeholder,className:"w-full"})]}),c&&l.jsxs("div",{className:"space-y-2 max-w-sm",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Tags"}),l.jsx(go,{categories:[c],onSelect:n,placeholder:c.placeholder,className:"w-full"})]}),u&&l.jsxs("div",{className:"space-y-2 max-w-sm",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Prerequisites"}),l.jsx(go,{categories:[u],onSelect:n,placeholder:u.placeholder,className:"w-full"})]})]}),t.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Active Filters"}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:a,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(hn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),t.map(d=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>r(d.id),title:"Click to remove",children:[l.jsx("span",{className:"text-xs opacity-70 mr-1",children:d.type==="includes-node"?"Includes:":d.type==="ends-with-node"?"Ends:":d.type==="tags"?"Tag:":"Prereq:"}),d.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},d.id))]})]})]})}function _g({possiblePaths:e,selectedPathLength:t,onPathClick:n,variant:r="default",className:a=""}){const{nodes:s}=Ls();return e.length===0?l.jsxs("div",{className:`text-center py-8 ${a}`,children:[l.jsx("p",{className:"text-muted-foreground",children:"No possible paths available."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You may have reached the end of available destiny paths."})]}):l.jsx("div",{className:`space-y-3 ${a}`,children:e.map((o,i)=>l.jsx(Q8,{path:o.path,allNodes:s,selectedPathLength:t,isComplete:o.isComplete,endNode:o.endNode,onPathClick:n,variant:r},i))})}function tB({onPathChange:e,onPathComplete:t,className:n="",compact:r=!1}){var _,j;const{currentPath:a,currentNode:s,isValidPath:o,pathErrors:i,setPath:c,clearPath:u,goToPathIndex:d,isPathComplete:f,getPathSummary:h}=ay(),{possiblePaths:g}=kf({fromNode:s||void 0}),{nodes:v}=Ls(),x=aC({filterType:"build-path",currentPath:a}),b=x.selectedFilters.length>0?x.filteredPaths:g.map(A=>A.path),p=A=>{if(typeof A=="string")return;let D,I;if(A.category==="Includes Node")D="includes-node",I=A.id.replace(/^includes-/,"");else if(A.category==="Ends With Node")D="ends-with-node",I=A.id.replace(/^ends-/,"");else return;const R={id:A.id,type:D,nodeName:A.value,nodeId:I,label:A.label};x.addFilter(R)},y=A=>{x.removeFilter(A)},w=()=>{x.clearFilters()},S=(A,D)=>{let I;if(a.length===0)I=A.slice(0,D+1);else{if(D===0)return;const R=A.slice(1,D+1);I=[...a,...R]}c(I),e==null||e(I),f&&(t==null||t(I))},N=A=>{d(A),e==null||e(a)},C=()=>{u(),e==null||e([])},E=h();return r?l.jsxs("div",{className:`space-y-4 ${n}`,children:[l.jsx(J8,{path:a}),a.length>0&&l.jsx("div",{className:"flex justify-end",children:l.jsxs(ae,{variant:"outline",size:"sm",onClick:C,className:"text-xs",children:[l.jsx(yl,{className:"w-3 h-3 mr-1"}),"Clear Path"]})}),b.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Possible Remaining Paths"}),l.jsx(Al,{className:"h-[200px]",children:l.jsx("div",{className:"p-4",children:l.jsx(_g,{possiblePaths:b.map(A=>({path:A,isComplete:!1,endNode:A[A.length-1]})),selectedPathLength:a.length,onPathClick:S,variant:"compact"})})})]}),!o&&i.length>0&&l.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(rd,{className:"w-3 h-3"}),l.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),l.jsx("ul",{className:"space-y-0.5",children:i.map((A,D)=>l.jsxs("li",{children:[" ",A]},D))})]})]}):l.jsxs("div",{className:`space-y-6 ${n}`,children:[l.jsxs(ft,{children:[l.jsx(xt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(At,{className:"flex items-center gap-2",children:[l.jsx(eg,{className:"w-5 h-5 text-primary"}),"Destiny Path Builder"]}),l.jsx("div",{className:"flex items-center gap-2",children:a.length>0&&l.jsxs(ae,{variant:"outline",size:"sm",onClick:C,className:"flex items-center gap-1",children:[l.jsx(yl,{className:"w-4 h-4"}),"Clear Path"]})})]})}),l.jsxs(ht,{children:[l.jsx(rC,{path:a,allNodes:v,onBreadcrumbClick:N,className:"mb-4"}),a.length>0&&l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{children:["Path Length: ",a.length]}),l.jsx("span",{children:""}),l.jsxs("span",{children:["Start: ",(_=E.startNode)==null?void 0:_.name]}),l.jsx("span",{children:""}),l.jsxs("span",{children:["Current: ",(j=E.endNode)==null?void 0:j.name]}),f&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsx(ue,{variant:"default",className:"text-xs",children:"Complete"})]})]}),!o&&i.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[l.jsx(rd,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium",children:"Path Validation Errors:"})]}),l.jsx("ul",{className:"text-sm space-y-1",children:i.map((A,D)=>l.jsxs("li",{className:"text-destructive",children:[" ",A]},D))})]})]})]}),a.length>0&&l.jsxs(ft,{children:[l.jsx(xt,{children:l.jsx(At,{className:"text-lg",children:"Current Path"})}),l.jsx(ht,{children:l.jsx("div",{className:"space-y-2",children:a.map((A,D)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[l.jsx(ue,{variant:"outline",className:"text-xs",children:D+1}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium",children:A.name}),l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:A.description})]})]},A.id))})})]}),l.jsxs(ft,{children:[l.jsxs(xt,{children:[l.jsx(At,{className:"text-lg",children:a.length===0?"Choose Your Starting Point":"Possible Paths"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:a.length===0?"Select a root destiny node to begin your path":b.length===0?x.selectedFilters.length>0?"No paths match your current filters":"You have reached the end of this destiny path":x.selectedFilters.length>0?`Showing ${b.length} filtered paths from your current position`:`Explore ${b.length} possible paths from your current position`})]}),l.jsxs(ht,{className:"h-[600px] p-0",children:[l.jsx("div",{className:"p-6 pb-6",children:l.jsx(sC,{searchCategories:x.searchCategories,selectedFilters:x.selectedFilters,onFilterSelect:p,onFilterRemove:y,onClearFilters:w})}),b.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[x.selectedFilters.length>0?l.jsx(UD,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}):l.jsx(eg,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg font-medium",children:x.selectedFilters.length>0?"No paths match your filters":"Path Complete!"}),l.jsx("p",{className:"text-sm",children:x.selectedFilters.length>0?"Try adjusting your filters to see more paths.":"You've reached the end of this destiny path."})]}):l.jsx(Al,{className:"h-[calc(600px-200px)]",children:l.jsx("div",{className:"p-6 pt-4",children:l.jsx(_g,{possiblePaths:b.map(A=>({path:A,isComplete:!1,endNode:A[A.length-1]})),selectedPathLength:a.length,onPathClick:S})})})]})]})]})}function nB({item:e,originalNode:t,allNodes:n}){const r=a=>n.filter(s=>s.prerequisites.includes(a)).map(s=>s.name);return l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((a,s)=>l.jsx(ue,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:a},s))})]}),t&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[r(t.name).map((a,s)=>l.jsx(ue,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:a},s)),r(t.name).length===0&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((a,s)=>l.jsx(ue,{variant:"secondary",className:"text-xs",children:a},s))})]})]})}function rB({items:e,allNodes:t}){return l.jsx(Al,{className:"h-[calc(100vh-500px)]",children:l.jsx(J0,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>l.jsxs(wf,{value:n.id,children:[l.jsx(Sf,{className:"text-left hover:no-underline",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),l.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),l.jsx(Nf,{children:l.jsx(nB,{item:n,originalNode:t.find(r=>r.id===n.id),allNodes:t})})]},n.id))})})}const aB=({navigate:e})=>{const{build:t,setDestinyPath:n}=Dt(),{nodes:r,isLoading:a,error:s}=Ls(),o=O.useMemo(()=>t.destinyPath.map(y=>r.find(w=>w.id===y)).filter(y=>!!y),[t.destinyPath,r]),{isValidPath:i,pathErrors:c,setPath:u,clearPath:d,currentPath:f,currentNode:h}=ay({initialPath:o,validatePath:!0}),{possiblePaths:g}=kf({fromNode:h||void 0}),v=y=>{const w=y.map(S=>S.id);n(w)},x=(y,w)=>{let S;if(f.length===0)S=y.slice(0,w+1);else{if(w===0)return;const N=y.slice(1,w+1);S=[...f,...N]}u(S),v(S)},b=()=>{d(),n([])},p=y=>{const w=f.slice(0,y+1);u(w),v(w)};return l.jsxs(ft,{className:"mb-6",children:[l.jsx(xt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx(At,{className:"text-lg",children:"Destiny"}),l.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:[l.jsx(tg,{className:"w-4 h-4 mr-1"}),"View All"]})]})}),l.jsx(ht,{children:a?l.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):s?l.jsx("div",{className:"text-destructive",children:s}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Selected Path"}),l.jsx(rC,{path:f,allNodes:r,variant:"compact",onBreadcrumbClick:p})]}),f.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Path Details (",f.length," nodes)"]}),l.jsxs(ae,{variant:"outline",size:"sm",onClick:b,className:"text-xs",children:[l.jsx(yl,{className:"w-3 h-3 mr-1"}),"Clear Path"]})]}),l.jsx("div",{className:"space-y-2",children:f.map((y,w)=>l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium flex-shrink-0",children:w+1}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h5",{className:"font-medium text-sm text-foreground",children:y.name}),y.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.description})]})]})},y.id))})]}),g.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:f.length===0?"Choose Your Starting Point":"Continue Your Path"}),l.jsx(Al,{className:"h-[200px]",children:l.jsx("div",{className:"p-2",children:l.jsx(_g,{possiblePaths:g,selectedPathLength:f.length,onPathClick:x,variant:"compact"})})})]}),!i&&c.length>0&&l.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(rd,{className:"w-3 h-3"}),l.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),l.jsx("ul",{className:"space-y-0.5",children:c.map((y,w)=>l.jsxs("li",{children:[" ",y]},w))})]}),f.length===0&&g.length===0&&l.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[l.jsx("p",{className:"text-sm",children:"No destiny paths available"}),l.jsx(ae,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"mt-2",children:"Browse All Destinies"})]})]})})]})};function sB({items:e,filters:t=[]}){const[n,r]=m.useState(null),[a,s]=m.useState("grid"),[o,i]=m.useState({search:"",selectedFilters:{},selectedTags:[]}),c=m.useMemo(()=>{let v=e;if(o.search){const x=o.search.toLowerCase();v=v.filter(b=>b.name.toLowerCase().includes(x)||b.description.toLowerCase().includes(x)||b.tags.some(p=>p.toLowerCase().includes(x)))}return o.selectedTags.length>0&&(v=v.filter(x=>o.selectedTags.some(b=>x.tags.includes(b.value)||x.category===b.value||x.name.toLowerCase().includes(b.value.toLowerCase())))),v},[e,o]),u=m.useMemo(()=>t.length===0?[]:t.map(v=>({...v,options:v.options.map(x=>({...x,count:e.filter(b=>b.tags.includes(x.value)||b.category===x.value).length}))})),[t,e]),d=m.useCallback(v=>{r(v)},[]),f=m.useCallback(v=>{i(v)},[]),h=m.useCallback(v=>{i(x=>({...x,search:v}))},[]),g=m.useCallback(v=>{s(v)},[]);return{selectedItem:n,viewMode:a,currentFilters:o,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:f,handleSearch:h,handleViewModeChange:g,setSelectedItem:r}}function oB(){const{nodes:e,isLoading:t,error:n}=Ls(),{currentPath:r,setPath:a}=ay({validatePath:!0});kf({fromNode:r.length>0?r[r.length-1]:void 0});const s=aC({filterType:"reference"}),i=m.useMemo(()=>s.selectedFilters.length===0?e:e.filter(g=>s.selectedFilters.every(v=>{switch(v.type){case"tags":return g.tags.includes(v.nodeName);case"prerequisites":return g.prerequisites.includes(v.nodeName);default:return!0}})),[e,s.selectedFilters]).map(g=>({id:g.id,name:g.name,description:g.description,tags:g.tags,summary:g.description,effects:[],associatedItems:[],imageUrl:void 0,category:void 0}));sB({items:i,filters:[]});const c=g=>{if(typeof g=="string")return;let v,x;if(g.category==="Tags")v="tags",x=g.id.replace(/^tag-/,"");else if(g.category==="Prerequisites")v="prerequisites",x=g.id.replace(/^prereq-/,"");else return;const b={id:g.id,type:v,nodeName:g.value,nodeId:x,label:g.label};s.addFilter(b)},u=g=>{s.removeFilter(g)},d=()=>{s.clearFilters()},f=g=>{a(g)},h=g=>{a(g)};return t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsx(li,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:l.jsx("div",{className:"mb-6",children:l.jsxs(v0,{defaultValue:"path",className:"w-full",children:[l.jsxs(x0,{className:"grid w-full grid-cols-2",children:[l.jsx(wl,{value:"path",children:"Path Builder"}),l.jsx(wl,{value:"reference",children:"Reference"})]}),l.jsxs(od,{value:"reference",className:"space-y-4",children:[l.jsx(sC,{searchCategories:s.searchCategories,selectedFilters:s.selectedFilters,onFilterSelect:c,onFilterRemove:u,onClearFilters:d}),l.jsx("div",{className:"w-full",children:l.jsx(rB,{items:i,allNodes:e})})]}),l.jsx(od,{value:"path",className:"space-y-4",children:l.jsx(tB,{onPathChange:f,onPathComplete:h})})]})})})}function oC({raceName:e,size:t="md",className:n}){return l.jsx(zA,{entityName:e,entityType:"race",size:t,className:n})}function Ag({item:e,className:t,showToggle:n=!0,isExpanded:r=!1,onToggle:a,disableHover:s=!1}){const o=e.originalRace;return l.jsxs(Ze,{className:t,expanded:r,onToggle:a,disableHover:s,children:[l.jsx(Ze.Header,{children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[n&&l.jsx(b0,{itemId:(o==null?void 0:o.edid)||e.id,itemType:"race",itemName:e.name}),l.jsx(oC,{raceName:e.name,size:"md"}),l.jsx(ac,{className:"text-primary font-semibold",children:e.name})]}),l.jsx("div",{className:"flex items-center gap-3",children:e.category&&l.jsx(ue,{variant:"outline",className:G("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category})})]})}),l.jsx(Ze.Summary,{children:l.jsx("div",{className:"line-clamp-2",children:l.jsx(an,{className:"text-sm text-muted-foreground",children:e.summary||e.description})})}),l.jsxs(Ze.Details,{children:[l.jsx("div",{children:l.jsx(an,{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),(o==null?void 0:o.startingStats)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Attributes"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(o.startingStats).map(([i,c])=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsx("span",{className:"font-medium capitalize",children:i}),l.jsx("span",{className:"font-bold text-green-600",children:c})]},i))})]}),(o==null?void 0:o.skillBonuses)&&o.skillBonuses.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Skills"}),l.jsx("div",{className:"space-y-2",children:o.skillBonuses.map((i,c)=>l.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[l.jsxs("span",{className:"font-medium",children:[i.skill," +",i.bonus]}),l.jsx(ue,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},c))})]}),(o==null?void 0:o.racialSpells)&&o.racialSpells.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Quirks"}),l.jsx("div",{className:"space-y-2",children:o.racialSpells.map((i,c)=>l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("svg",{className:"h-4 w-4 text-yellow-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 17.75L18.2 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.44 4.73L5.8 21z"})}),l.jsx("span",{className:"font-medium text-sm",children:i.name})]}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]},c))})]})]})]})}function iB(e,t){const n=m.useMemo(()=>e.map(i=>({id:i.edid.toLowerCase().replace("race",""),name:i.name,description:i.description,category:i.category,abilities:i.racialSpells.map(c=>c.name),skills:i.skillBonuses.map(c=>c.skill),keywords:i.keywords.map(c=>c.edid),originalRace:i})),[e]),r=m.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=m.useMemo(()=>new ia(n,r),[n,r]),s=m.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredRaces:m.useMemo(()=>s.map(i=>i.item.originalRace),[s]),searchResults:s,searchableRaces:n}}function lB(){const e=Wt(),{build:t}=Dt(),[n,r]=m.useState([]),[a,s]=m.useState(!0),[o,i]=m.useState(null),[c,u]=m.useState(new Set),[d,f]=m.useState("grid");m.useEffect(()=>{async function E(){try{s(!0);const _=await fetch("/lorerim-arcaneum/data/playable-races.json");if(!_.ok)throw new Error("Failed to fetch race data");const j=await _.json();r(j.races)}catch(_){i("Failed to load race data"),console.error("Error loading races:",_)}finally{s(!1)}}E()},[]);const g=(()=>{const E=[...new Set(n.flatMap(A=>A.keywords.map(D=>D.edid)))],_=[...new Set(n.flatMap(A=>A.skillBonuses.map(D=>D.skill)))],j=[...new Set(n.map(A=>A.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:E.map(A=>({id:`keyword-${A}`,label:A,value:A,category:"Fuzzy Search",description:`Races with ${A} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:_.map(A=>({id:`skill-${A}`,label:A,value:A,category:"Skill Bonuses",description:`Races with ${A} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:j.map(A=>({id:`category-${A}`,label:A,value:A,category:"Race Categories",description:`${A} races`}))}]})(),[v,x]=m.useState([]),b=E=>{let _;typeof E=="string"?_={id:`custom-${E}`,label:E,value:E,category:"Fuzzy Search"}:_={id:`${E.category}-${E.id}`,label:E.label,value:E.value,category:E.category},v.some(j=>j.value===_.value&&j.category===_.category)||x(j=>[...j,_])},p=E=>{x(_=>_.filter(j=>j.id!==E))},y=n.filter(E=>v.length===0?!0:v.every(_=>{switch(_.category){case"Fuzzy Search":return!0;case"Race Categories":return E.category===_.value;case"Skill Bonuses":return E.skillBonuses.some(j=>j.skill===_.value);case"Keywords":return E.keywords.some(j=>j.edid===_.value);default:return!0}})),w=v.filter(E=>E.category==="Fuzzy Search").map(E=>E.value).join(" "),{filteredRaces:S}=iB(y,w),N=S.map(E=>({...LA(E),originalRace:E})),C=E=>{const _=new Set(c);if(d==="grid"){const A=N.findIndex($=>$.id===E),I=Math.floor(A/3)*3,R=Math.min(I+3,N.length);N.slice(I,R).some($=>_.has($.id))?N.slice(I,R).forEach($=>{_.delete($.id)}):N.slice(I,R).forEach($=>{_.add($.id)})}else _.has(E)?_.delete(E):_.add(E);u(_)};return a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):o?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:o}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(li,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>e("/build"),className:"flex items-center gap-2",children:[l.jsx(eD,{className:"h-4 w-4"}),"Back to Build"]})}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(yf,{categories:g,onSelect:b,onCustomSearch:b})}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Wd,{className:"h-4 w-4"})}),l.jsx(ae,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(Kd,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:v.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>x([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(hn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),v.map(E=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>p(E.id),title:"Click to remove",children:[E.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},E.id))]})}),d==="grid"?l.jsx(Y0,{columns:3,gap:"md",className:"w-full",children:N.map(E=>{var A;const _=c.has(E.id),j=t.race===((A=E.originalRace)==null?void 0:A.edid);return l.jsx(Ag,{item:E,isExpanded:_,onToggle:()=>C(E.id),className:G("w-full",j&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},E.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full",children:N.map(E=>{var A;const _=c.has(E.id),j=t.race===((A=E.originalRace)==null?void 0:A.edid);return l.jsx(Ag,{item:E,isExpanded:_,onToggle:()=>C(E.id),className:G("w-full",j&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},E.id)})}),N.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function Ph({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const r=n.split(/(<[^>]+>)/g);return l.jsx("div",{className:t,children:r.map((a,s)=>{if(a.startsWith("<")&&a.endsWith(">")){const o=a.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:o},s)}return a})})}function cB({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return l.jsx(an,{className:"text-xs text-muted-foreground",children:t.map((n,r)=>{if(n.startsWith("<")&&n.endsWith(">")){const a=n.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:a},r)}return n})})}function Bh({description:e,magnitude:t,duration:n,area:r=0}){if(!e)return null;let a=e.replace(/<[^>]*>/g,"");a=a.replace(/<mag>/g,t.toString()),a=a.replace(/<magnitude>/g,t.toString()),a=a.replace(/<dur>/g,n.toString()),a=a.replace(/<duration>/g,n.toString()),r>0&&(a=a.replace(/<area>/g,r.toString())),a=a.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const s=a.split(/(<[^>]+>)/g);return l.jsx(an,{className:"text-xs text-muted-foreground",children:s.map((o,i)=>{if(o.startsWith("<")&&o.endsWith(">")){const c=o.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},i)}return o})})}function Ih(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Hh(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],r=t.some(s=>s.test(e)),a=n.some(s=>s.test(e));return{hasMagnitude:r,hasDuration:a}}const uB={Restoration:l.jsx(ON,{className:"h-4 w-4 text-green-500"}),Destruction:l.jsx(wD,{className:"h-4 w-4 text-red-500"}),Alteration:l.jsx(eo,{className:"h-4 w-4 text-blue-500"}),Illusion:l.jsx(ix,{className:"h-4 w-4 text-purple-500"}),Conjuration:l.jsx(BN,{className:"h-4 w-4 text-purple-500"}),Enchanting:l.jsx(DN,{className:"h-4 w-4 text-blue-500"}),Alchemy:l.jsx(pD,{className:"h-4 w-4 text-green-500"}),"Light Armor":l.jsx(eo,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":l.jsx(eo,{className:"h-4 w-4 text-gray-500"}),"One-Handed":l.jsx(dx,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":l.jsx(dx,{className:"h-4 w-4 text-red-500"}),Archery:l.jsx(t3,{className:"h-4 w-4 text-green-500"}),Block:l.jsx(eo,{className:"h-4 w-4 text-yellow-500"}),Smithing:l.jsx(eo,{className:"h-4 w-4 text-gray-500"}),Speechcraft:l.jsx(ix,{className:"h-4 w-4 text-blue-500"}),Sneak:l.jsx(xD,{className:"h-4 w-4 text-purple-500"}),Lockpicking:l.jsx(lx,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:l.jsx(lx,{className:"h-4 w-4 text-purple-500"})},dB={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},fb={sm:"text-xs px-2 py-0.5"};function Cg({item:e,originalReligion:t,isExpanded:n=!1,onToggle:r,className:a,showBlessings:s=!0,showTenets:o=!0,showBoons:i=!0,showFavoredRaces:c=!0,disableHover:u,showToggle:d}){var g,v,x,b,p,y,w,S;const f=N=>{switch(N){case"positive":return l.jsx(ng,{className:"h-4 w-4 text-green-500"});case"negative":return l.jsx(cx,{className:"h-4 w-4 text-red-500"});case"neutral":return l.jsx(Qp,{className:"h-4 w-4 text-blue-500"})}},h=N=>uB[N]||l.jsx(Pr,{className:"h-4 w-4 text-skyrim-gold"});return l.jsxs(Ze,{expanded:n,onToggle:r,className:a,disableHover:u,children:[l.jsxs(Ze.Header,{children:[d&&l.jsx(b0,{itemId:e.id,itemType:"religion",itemName:e.name}),l.jsx("div",{className:"flex-1",children:l.jsx(ac,{className:"text-primary font-semibold",children:e.name})}),e.category&&l.jsx(ue,{variant:"outline",className:G(dB[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",fb.sm,"font-medium transition-colors"),children:e.category}),c&&t&&Array.isArray(t.favoredRaces)&&t.favoredRaces.length>0&&l.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((N,C)=>l.jsxs(ue,{variant:"outline",className:G("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",fb.sm,"font-medium transition-colors"),children:[l.jsx(Pr,{className:"h-3 w-3 mr-1"}),"Favors ",N]},C))})]}),l.jsxs(Ze.Summary,{children:[l.jsx("div",{className:"line-clamp-2",children:l.jsx(Ph,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(g=e.effects)==null?void 0:g.slice(0,2).map((N,C)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:N.description,children:[f(N.type),l.jsx("span",{className:"font-medium",children:N.name})]},C)),c&&((v=t==null?void 0:t.favoredRaces)==null?void 0:v.slice(0,2).map((N,C)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[l.jsx(Pr,{className:"h-3 w-3 text-skyrim-gold"}),l.jsx("span",{className:"font-medium",children:N})]},`race-${C}`)))]})]}),l.jsxs(Ze.Details,{children:[e.description&&l.jsx("div",{children:l.jsx(Ph,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),c&&Array.isArray(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((N,C)=>l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[l.jsx(Pr,{className:"h-4 w-4 text-skyrim-gold"}),l.jsx("span",{className:"text-sm font-medium",children:N})]},C))})]}),Array.isArray(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),l.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((N,C)=>l.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(cx,{className:"h-4 w-4 text-red-500 mt-0.5"}),l.jsx(Ph,{text:N,className:"text-sm text-muted-foreground"})]})},C))})]}),s&&Array.isArray((x=t==null?void 0:t.blessing)==null?void 0:x.effects)&&t.blessing.effects.length>0&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),l.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(N=>N.effectType!=="1"&&N.effectType!=="3").map((N,C)=>{const{hasDuration:E}=Hh(N.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&h(N.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(an,{className:"font-medium text-sm mb-1",children:N.effectName}),l.jsx(Bh,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),E&&N.duration>0&&l.jsxs(an,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",Ih(N.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&l.jsxs("span",{children:["Area: ",N.area]})})]})]})},C)})})]}),o&&Array.isArray((b=t==null?void 0:t.tenet)==null?void 0:b.effects)&&t.tenet.effects.length>0&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((N,C)=>N.effectDescription.split(".").filter(_=>_.trim().length>0).map((_,j)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.targetAttribute&&h(N.targetAttribute)]}),l.jsx("div",{className:"flex-1",children:l.jsx(cB,{description:_.trim()+"."})})]},`${C}-${j}`)))})]}),i&&(Array.isArray((p=t==null?void 0:t.boon1)==null?void 0:p.effects)&&t.boon1.effects.length>0||Array.isArray((y=t==null?void 0:t.boon2)==null?void 0:y.effects)&&t.boon2.effects.length>0)&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),l.jsxs("div",{className:"space-y-4",children:[Array.isArray((w=t==null?void 0:t.boon1)==null?void 0:w.effects)&&t.boon1.effects.length>0&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((N,C)=>{const{hasDuration:E}=Hh(N.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&h(N.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(an,{className:"font-medium text-sm mb-1",children:N.effectName}),l.jsx(Bh,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),E&&N.duration>0&&l.jsxs(an,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Ih(N.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&l.jsxs("span",{children:["Area: ",N.area]})})]})]})},C)})})]}),Array.isArray((S=t==null?void 0:t.boon2)==null?void 0:S.effects)&&t.boon2.effects.length>0&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((N,C)=>{const{hasDuration:E}=Hh(N.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),N.effectType&&h(N.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(an,{className:"font-medium text-sm mb-1",children:N.effectName}),l.jsx(Bh,{description:N.effectDescription,magnitude:N.magnitude,duration:N.duration,area:N.area}),E&&N.duration>0&&l.jsxs(an,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Ih(N.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:N.area>0&&l.jsxs("span",{children:["Area: ",N.area]})})]})]})},C)})})]})]})]})]})]})}function iC(e,t){const n=m.useMemo(()=>e.map(i=>{var c,u,d,f,h,g,v,x,b;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:((c=i.tenet)==null?void 0:c.description)||"",type:i.type,favoredRaces:i.favoredRaces||[],tenetEffects:((d=(u=i.tenet)==null?void 0:u.effects)==null?void 0:d.map(p=>`${p.effectName} ${p.effectDescription}`))||[],blessingEffects:((h=(f=i.blessing)==null?void 0:f.effects)==null?void 0:h.map(p=>`${p.effectName} ${p.effectDescription}`))||[],followerPowers:((v=(g=i.boon1)==null?void 0:g.effects)==null?void 0:v.map(p=>`${p.effectName} ${p.effectDescription}`))||[],devoteePowers:((b=(x=i.boon2)==null?void 0:x.effects)==null?void 0:b.map(p=>`${p.effectName} ${p.effectDescription}`))||[],originalReligion:i}}),[e]),r=m.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},{name:"favoredRaces",weight:.1},{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=m.useMemo(()=>new ia(n,r),[n,r]),s=m.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredReligions:m.useMemo(()=>s.map(i=>i.item.originalReligion),[s]),searchResults:s,searchableReligions:n}}function fB(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,s]=m.useState(null),[o,i]=m.useState(new Set),[c,u]=m.useState("alphabetical"),[d,f]=m.useState("grid"),[h,g]=m.useState(!0),[v,x]=m.useState(!0),[b,p]=m.useState(!0),[y,w]=m.useState(!0);m.useEffect(()=>{async function L(){try{r(!0);const B=await fetch("/lorerim-arcaneum/data/wintersun-religion-docs.json");if(!B.ok)throw new Error("Failed to fetch religion data");const Y=(await B.json()).flatMap(V=>V.deities.map(W=>({...W,pantheon:V.type})));t(Y)}catch(B){s("Failed to load religion data"),console.error("Error loading religions:",B)}finally{r(!1)}}L()},[]);const S=e.map(vg),C=(()=>{const L=[...new Set(e.map(F=>F.type))],B=[...new Set(S.flatMap(F=>F.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:L.map(F=>({id:`pantheon-${F}`,label:F,value:F,category:"Pantheons",description:`Religions from ${F} pantheon`}))},{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:B.map(F=>({id:`race-${F}`,label:F,value:F,category:"Favored Races",description:`Religions that favor ${F}`}))}]})(),[E,_]=m.useState([]),j=L=>{let B;typeof L=="string"?B={id:`custom-${L}`,label:L,value:L,category:"Fuzzy Search"}:B={id:`${L.category}-${L.id}`,label:L.label,value:L.value,category:L.category},E.some(F=>F.value===B.value&&F.category===B.category)||_(F=>[...F,B])},A=L=>{_(B=>B.filter(F=>F.id!==L))},D=e.filter(L=>E.length===0?!0:E.every(B=>{switch(B.category){case"Fuzzy Search":return!0;case"Pantheons":return L.type===B.value;case"Favored Races":return L.favoredRaces.some(F=>F===B.value);default:return!0}})),I=E.filter(L=>L.category==="Fuzzy Search").map(L=>L.value).join(" "),{filteredReligions:R}=iC(D,I),$=[...R.map(vg)].sort((L,B)=>{switch(c){case"alphabetical":return L.name.localeCompare(B.name);case"divine-type":const F=W=>{switch(W){case"Divine":return 1;case"Daedric Prince":return 2;case"Tribunal":return 3;case"Ancestor":return 4;case"Nordic Deity":return 5;case"Yokudan Deity":return 6;case"Khajiiti Deity":return 7;case"Deity":return 8;default:return 9}},Y=F(L.category),V=F(B.category);return Y!==V?Y-V:L.name.localeCompare(B.name);default:return 0}}),T=L=>{const B=new Set(o);if(d==="grid"){const Y=$.findIndex(le=>le.id===L),W=Math.floor(Y/3)*3,oe=Math.min(W+3,$.length);$.slice(W,oe).some(le=>B.has(le.id))?$.slice(W,oe).forEach(le=>{B.delete(le.id)}):$.slice(W,oe).forEach(le=>{B.add(le.id)})}else B.has(L)?B.delete(L):B.add(L);i(B)},P=()=>{const L=$.map(B=>B.id);i(new Set(L))},z=()=>{i(new Set)},M=$.length>0&&$.every(L=>o.has(L.id));return $.some(L=>o.has(L.id)),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading religions..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(li,{title:"Religions",description:"Choose your character's religion. Each deity offers unique blessings, tenets, and powers that will guide your spiritual journey through Tamriel.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(yf,{categories:C,onSelect:j,onCustomSearch:j})}),l.jsxs(I0,{children:[l.jsx(H0,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(Wr,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":"Type"]})}),l.jsxs(mf,{align:"end",children:[l.jsx(Vr,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(Vr,{onClick:()=>u("divine-type"),children:"Divine Type"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Wd,{className:"h-4 w-4"})}),l.jsx(ae,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(Kd,{className:"h-4 w-4"})})]}),l.jsx(ae,{variant:"outline",size:"sm",onClick:M?z:P,className:"flex items-center justify-center",title:M?"Collapse all accordions":"Expand all accordions",children:M?l.jsx(LN,{className:"h-4 w-4"}):l.jsx($N,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:E.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>_([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(hn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),E.map(L=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>A(L.id),title:"Click to remove",children:[L.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},L.id))]})}),$.length>0&&l.jsxs(iP,{children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(Mr,{checked:h&&v&&b&&y,onCheckedChange:L=>{g(L),x(L),p(L),w(L)}}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs(FL,{columns:4,children:[l.jsx(Fc,{title:"Blessings",description:"Deity blessings and effects",checked:h,onCheckedChange:g}),l.jsx(Fc,{title:"Tenets",description:"Religious tenets and rules",checked:v,onCheckedChange:x}),l.jsx(Fc,{title:"Boons",description:"Follower and devotee powers",checked:b,onCheckedChange:p}),l.jsx(Fc,{title:"Favored Races",description:"Races favored by this deity",checked:y,onCheckedChange:w})]})]}),d==="grid"?l.jsx(Y0,{columns:3,gap:"md",className:"w-full mt-6",children:$.map(L=>{const B=e.find(Y=>{const V=L.id.replace("religion-","");return Y.name.toLowerCase().replace(/\s+/g,"-")===V}),F=o.has(L.id);return l.jsx(Cg,{item:L,originalReligion:B,isExpanded:F,onToggle:()=>T(L.id),className:"w-full",showBlessings:h,showTenets:v,showBoons:b,showFavoredRaces:y},L.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:$.map(L=>{const B=e.find(Y=>{const V=L.id.replace("religion-","");return Y.name.toLowerCase().replace(/\s+/g,"-")===V}),F=o.has(L.id);return l.jsx(Cg,{item:L,originalReligion:B,isExpanded:F,onToggle:()=>T(L.id),className:"w-full",showBlessings:h,showTenets:v,showBoons:b,showFavoredRaces:y},L.id)})}),$.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No religions found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function hB(e){const[t,n]=m.useState([]),[r,a]=m.useState(!0),[s,o]=m.useState(null),{getSkillPerks:i,getPerkRank:c,addPerk:u,removePerk:d,setPerkRank:f,clearSkillPerks:h}=Dt();m.useEffect(()=>{(async()=>{try{a(!0),o(null);const N=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!N.ok)throw new Error("Failed to fetch perk trees data");const C=await N.json();n(Array.isArray(C)?C:[])}catch(N){o(N instanceof Error?N.message:"Failed to load perk trees")}finally{a(!1)}})()},[]);const g=m.useMemo(()=>e&&t.find(N=>N.treeId===e)||null,[e,t]),v=m.useMemo(()=>e?i(e):[],[e,i]),x=m.useMemo(()=>{if(!e||!g)return{};const S={};return g.perks.forEach(N=>{S[N.edid]=c(N.edid)}),S},[e,g,c]),b=m.useMemo(()=>{if(!g)return[];const S=[];return g.perks.forEach(N=>{if(N.isRoot){S.push(N.edid);return}(N.connections.parents||[]).every(_=>v.includes(_))&&S.push(N.edid)}),S},[g,v]);return{perkTrees:t,selectedPerkTree:g,selectedPerks:v,perkRanks:x,availablePerks:b,loading:r,error:s,handlePerkSelect:S=>{if(!e)return;v.includes(S)?d(e,S):u(e,S)},handlePerkRankChange:(S,N)=>{f(S,N)},handleResetPerks:()=>{e&&h(e)}}}function mB(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,s]=m.useState(null);return m.useEffect(()=>{(async()=>{try{r(!0),s(null);const c=await fetch("/lorerim-arcaneum/data/skills.json");if(!c.ok)throw new Error("Failed to fetch skills data");const d=((await c.json()).skills||[]).map(f=>({id:f.edid,name:f.name,category:f.category,description:f.description,keyAbilities:f.keyAbilities||[],metaTags:f.metaTags||[],assignmentType:"none",canAssignMajor:!0,canAssignMinor:!0,level:0,totalPerks:0,selectedPerksCount:0,selectedPerks:[],isSelected:!1}));t(d)}catch(c){s(c instanceof Error?c.message:"Failed to load skills")}finally{r(!1)}})()},[]),{skills:e,loading:n,error:a,refreshSkills:async()=>{await(async()=>{try{r(!0),s(null);const c=await fetch("/lorerim-arcaneum/data/skills.json");if(!c.ok)throw new Error("Failed to fetch skills data");const d=((await c.json()).skills||[]).map(f=>({id:f.edid,name:f.name,category:f.category,description:f.description,keyAbilities:f.keyAbilities||[],metaTags:f.metaTags||[],assignmentType:"none",canAssignMajor:!0,canAssignMinor:!0,level:0,totalPerks:0,selectedPerksCount:0,selectedPerks:[],isSelected:!1}));t(d)}catch(c){s(c instanceof Error?c.message:"Failed to refresh skills")}finally{r(!1)}})()}}}function gB(e){const[t,n]=m.useState(""),[r,a]=m.useState(null),s=m.useMemo(()=>e.filter(c=>{const u=c.name.toLowerCase().includes(t.toLowerCase())||c.description.toLowerCase().includes(t.toLowerCase())||c.category.toLowerCase().includes(t.toLowerCase())||c.keyAbilities.some(f=>f.toLowerCase().includes(t.toLowerCase()))||c.metaTags.some(f=>f.toLowerCase().includes(t.toLowerCase())),d=!r||c.category===r;return u&&d}),[e,t,r]),o=m.useMemo(()=>{const c=new Set(e.map(u=>u.category));return Array.from(c).sort()},[e]);return{searchQuery:t,setSearchQuery:n,selectedCategory:r,setSelectedCategory:a,filteredSkills:s,categories:o,clearFilters:()=>{n(""),a(null)}}}function pB(){const[e,t]=m.useState(null),[n,r]=m.useState([]),[a,s]=m.useState([]),o=m.useCallback((d,f)=>{if(f==="major"){if(n.length>=3&&!n.includes(d))return{valid:!1,reason:"Maximum 3 major skills allowed"};s(h=>h.filter(g=>g!==d)),n.includes(d)||r(h=>[...h,d])}else{if(a.length>=6&&!a.includes(d))return{valid:!1,reason:"Maximum 6 minor skills allowed"};r(h=>h.filter(g=>g!==d)),a.includes(d)||s(h=>[...h,d])}return{valid:!0,reason:"Skill assigned successfully"}},[n,a]),i=m.useCallback(d=>{r(f=>f.filter(h=>h!==d)),s(f=>f.filter(h=>h!==d))},[]),c=m.useCallback(d=>{t(d)},[]),u=m.useCallback(()=>e,[e]);return m.useCallback(()=>n,[n]),m.useCallback(()=>a,[a]),{selectedSkillId:e,setSelectedSkillId:c,assignSkill:o,unassignSkill:i,getSelectedSkill:u,majorSkills:n,minorSkills:a}}var yB="Separator",hb="horizontal",vB=["horizontal","vertical"],lC=m.forwardRef((e,t)=>{const{decorative:n,orientation:r=hb,...a}=e,s=xB(r)?r:hb,i=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(pe.div,{"data-orientation":s,...i,...a,ref:t})});lC.displayName=yB;function xB(e){return vB.includes(e)}var bB=lC;function wB({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return l.jsx(bB,{"data-slot":"separator",decorative:n,orientation:t,className:G("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function SB({name:e,description:t,category:n,assignmentType:r,perkCount:a,onSelect:s,onAssignMajor:o,onAssignMinor:i,onRemoveAssignment:c,canAssignMajor:u,canAssignMinor:d,className:f}){const h=x=>{x.target.closest("[data-assignment-control]")||s()},g=x=>{x.stopPropagation(),console.log("Major button clicked for skill:",e,"Current assignment:",r),r==="major"?(console.log("Removing major assignment"),c()):(console.log("Assigning as major"),o())},v=x=>{x.stopPropagation(),console.log("Minor button clicked for skill:",e,"Current assignment:",r),r==="minor"?(console.log("Removing minor assignment"),c()):(console.log("Assigning as minor"),i())};return l.jsxs("div",{className:G("p-4 border rounded-lg hover:bg-muted/50 transition-colors",f),onClick:h,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h3",{className:"font-semibold text-lg cursor-pointer",children:e}),l.jsx(NB,{type:r})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:t}),l.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[l.jsx(EB,{category:n}),l.jsx(_B,{count:a})]}),l.jsxs("div",{className:"flex gap-2","data-assignment-control":!0,children:[l.jsx(ae,{size:"sm",variant:r==="major"?"default":"outline",onClick:g,disabled:!u&&r!=="major",className:G("flex-1 text-xs",r==="major"&&"bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-500"),children:r==="major"?"Remove Major":"Major"}),l.jsx(ae,{size:"sm",variant:r==="minor"?"default":"outline",onClick:v,disabled:!d&&r!=="minor",className:G("flex-1 text-xs",r==="minor"&&"bg-gray-500 hover:bg-gray-600 text-white border-gray-400"),children:r==="minor"?"Remove Minor":"Minor"})]})]})}function NB({type:e,size:t="sm"}){const n={major:"bg-yellow-600 text-white hover:bg-yellow-700 border-yellow-500",minor:"bg-gray-500 text-white hover:bg-gray-600 border-gray-400",none:"bg-gray-100 text-gray-800 border border-gray-300"},r={major:"Major",minor:"Minor",none:"Unassigned"},a={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return l.jsx(ue,{className:G(n[e],a[t]),children:r[e]})}function EB({category:e,size:t="sm"}){const n={Combat:"bg-red-100 text-red-800 border-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200"},r={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return l.jsx(ue,{variant:"outline",className:G(n[e]||"bg-gray-100 text-gray-800 border-gray-300",r[t]),children:e})}function _B({count:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return l.jsxs(ue,{variant:"secondary",className:G("bg-purple-100 text-purple-800 border-purple-200",n[t]),children:[e," Perks"]})}function AB(){return l.jsx("div",{className:"container mx-auto p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loading Skills..."}),l.jsx("p",{className:"text-muted-foreground",children:"Initializing skill and perk data..."})]})})}function CB({error:e}){return l.jsx("div",{className:"container mx-auto p-6",children:l.jsxs("div",{className:"text-center text-red-600",children:[l.jsx(rd,{className:"h-12 w-12 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Skills"}),l.jsx("p",{className:"text-muted-foreground",children:e})]})})}function kB({skills:e,onSkillSelect:t,onAssignMajor:n,onAssignMinor:r,onRemoveAssignment:a,selectedSkillId:s,className:o}){return l.jsx("div",{className:G("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",o),children:e.map(i=>l.jsx(SB,{name:i.name,description:i.description,category:i.category,assignmentType:i.assignmentType,perkCount:i.perkCount,canAssignMajor:i.canAssignMajor,canAssignMinor:i.canAssignMinor,onSelect:()=>t(i.id),onAssignMajor:()=>n(i.id),onAssignMinor:()=>r(i.id),onRemoveAssignment:()=>a(i.id),className:s===i.id?"ring-2 ring-primary bg-primary/5":""},i.id))})}function jB({query:e,onQueryChange:t,placeholder:n="Search skills...",className:r}){return l.jsx("div",{className:G("mb-6",r),children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(Qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(zs,{placeholder:n,value:e,onChange:a=>t(a.target.value),className:"pl-10"})]})})}function TB({categories:e,selectedCategory:t,onCategorySelect:n,className:r}){return l.jsx("div",{className:G("mb-6",r),children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(ae,{variant:t===null?"default":"outline",size:"sm",onClick:()=>n(null),children:"All Categories"}),e.map(a=>l.jsx(ae,{variant:t===a?"default":"outline",size:"sm",onClick:()=>n(a),children:a},a))]})})}function It(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=It(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var cC={exports:{}},uC={},dC={exports:{}},fC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=m;function RB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MB=typeof Object.is=="function"?Object.is:RB,DB=Go.useState,zB=Go.useEffect,OB=Go.useLayoutEffect,$B=Go.useDebugValue;function LB(e,t){var n=t(),r=DB({inst:{value:n,getSnapshot:t}}),a=r[0].inst,s=r[1];return OB(function(){a.value=n,a.getSnapshot=t,Fh(a)&&s({inst:a})},[e,n,t]),zB(function(){return Fh(a)&&s({inst:a}),e(function(){Fh(a)&&s({inst:a})})},[e]),$B(n),n}function Fh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!MB(e,n)}catch{return!0}}function PB(e,t){return t()}var BB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?PB:LB;fC.useSyncExternalStore=Go.useSyncExternalStore!==void 0?Go.useSyncExternalStore:BB;dC.exports=fC;var IB=dC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=m,HB=IB;function FB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UB=typeof Object.is=="function"?Object.is:FB,ZB=HB.useSyncExternalStore,VB=jf.useRef,YB=jf.useEffect,GB=jf.useMemo,qB=jf.useDebugValue;uC.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var s=VB(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=GB(function(){function c(g){if(!u){if(u=!0,d=g,g=r(g),a!==void 0&&o.hasValue){var v=o.value;if(a(v,g))return f=v}return f=g}if(v=f,UB(d,g))return v;var x=r(g);return a!==void 0&&a(v,x)?(d=g,v):(d=g,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,a]);var i=ZB(e,s[0],s[1]);return YB(function(){o.hasValue=!0,o.value=i},[i]),qB(i),i};cC.exports=uC;var XB=cC.exports;const KB=Qg(XB),WB={},mb=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const g=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,g))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(WB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,a,c);return c},QB=e=>e?mb(e):mb,{useDebugValue:JB}=O,{useSyncExternalStoreWithSelector:e9}=KB,t9=e=>e;function hC(e,t=t9,n){const r=e9(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return JB(r),r}const gb=(e,t)=>{const n=QB(e),r=(a,s=t)=>hC(n,a,s);return Object.assign(r,n),r},n9=(e,t)=>e?gb(e,t):gb;function Xt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var r9={value:()=>{}};function Tf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Nu(n)}function Nu(e){this._=e}function a9(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Nu.prototype=Tf.prototype={constructor:Nu,on:function(e,t){var n=this._,r=a9(e+"",n),a,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((a=(e=r[s]).type)&&(a=s9(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=r[s]).type)n[a]=pb(n[a],e.name,t);else if(t==null)for(a in n)n[a]=pb(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Nu(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function s9(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function pb(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=r9,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var kg="http://www.w3.org/1999/xhtml";const yb={svg:"http://www.w3.org/2000/svg",xhtml:kg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),yb.hasOwnProperty(t)?{space:yb[t],local:e}:e}function o9(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===kg&&t.documentElement.namespaceURI===kg?t.createElement(e):t.createElementNS(n,e)}}function i9(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mC(e){var t=Rf(e);return(t.local?i9:o9)(t)}function l9(){}function sy(e){return e==null?l9:function(){return this.querySelector(e)}}function c9(e){typeof e!="function"&&(e=sy(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,i=r[a]=new Array(o),c,u,d=0;d<o;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),i[d]=u);return new pn(r,this._parents)}function u9(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function d9(){return[]}function gC(e){return e==null?d9:function(){return this.querySelectorAll(e)}}function f9(e){return function(){return u9(e.apply(this,arguments))}}function h9(e){typeof e=="function"?e=f9(e):e=gC(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o=t[s],i=o.length,c,u=0;u<i;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),a.push(c));return new pn(r,a)}function pC(e){return function(){return this.matches(e)}}function yC(e){return function(t){return t.matches(e)}}var m9=Array.prototype.find;function g9(e){return function(){return m9.call(this.children,e)}}function p9(){return this.firstElementChild}function y9(e){return this.select(e==null?p9:g9(typeof e=="function"?e:yC(e)))}var v9=Array.prototype.filter;function x9(){return Array.from(this.children)}function b9(e){return function(){return v9.call(this.children,e)}}function w9(e){return this.selectAll(e==null?x9:b9(typeof e=="function"?e:yC(e)))}function S9(e){typeof e!="function"&&(e=pC(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,i=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&i.push(c);return new pn(r,this._parents)}function vC(e){return new Array(e.length)}function N9(){return new pn(this._enter||this._groups.map(vC),this._parents)}function bd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}bd.prototype={constructor:bd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function E9(e){return function(){return e}}function _9(e,t,n,r,a,s){for(var o=0,i,c=t.length,u=s.length;o<u;++o)(i=t[o])?(i.__data__=s[o],r[o]=i):n[o]=new bd(e,s[o]);for(;o<c;++o)(i=t[o])&&(a[o]=i)}function A9(e,t,n,r,a,s,o){var i,c,u=new Map,d=t.length,f=s.length,h=new Array(d),g;for(i=0;i<d;++i)(c=t[i])&&(h[i]=g=o.call(c,c.__data__,i,t)+"",u.has(g)?a[i]=c:u.set(g,c));for(i=0;i<f;++i)g=o.call(e,s[i],i,s)+"",(c=u.get(g))?(r[i]=c,c.__data__=s[i],u.delete(g)):n[i]=new bd(e,s[i]);for(i=0;i<d;++i)(c=t[i])&&u.get(h[i])===c&&(a[i]=c)}function C9(e){return e.__data__}function k9(e,t){if(!arguments.length)return Array.from(this,C9);var n=t?A9:_9,r=this._parents,a=this._groups;typeof e!="function"&&(e=E9(e));for(var s=a.length,o=new Array(s),i=new Array(s),c=new Array(s),u=0;u<s;++u){var d=r[u],f=a[u],h=f.length,g=j9(e.call(d,d&&d.__data__,u,r)),v=g.length,x=i[u]=new Array(v),b=o[u]=new Array(v),p=c[u]=new Array(h);n(d,f,x,b,p,g,t);for(var y=0,w=0,S,N;y<v;++y)if(S=x[y]){for(y>=w&&(w=y+1);!(N=b[w])&&++w<v;);S._next=N||null}}return o=new pn(o,r),o._enter=i,o._exit=c,o}function j9(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function T9(){return new pn(this._exit||this._groups.map(vC),this._parents)}function R9(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function M9(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),i=new Array(a),c=0;c<o;++c)for(var u=n[c],d=r[c],f=u.length,h=i[c]=new Array(f),g,v=0;v<f;++v)(g=u[v]||d[v])&&(h[v]=g);for(;c<a;++c)i[c]=n[c];return new pn(i,this._parents)}function D9(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],o;--a>=0;)(o=r[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function z9(e){e||(e=O9);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o=n[s],i=o.length,c=a[s]=new Array(i),u,d=0;d<i;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new pn(a,this._parents).order()}function O9(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $9(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function L9(){return Array.from(this)}function P9(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null}function B9(){let e=0;for(const t of this)++e;return e}function I9(){return!this.node()}function H9(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,o=a.length,i;s<o;++s)(i=a[s])&&e.call(i,i.__data__,s,a);return this}function F9(e){return function(){this.removeAttribute(e)}}function U9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Z9(e,t){return function(){this.setAttribute(e,t)}}function V9(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Y9(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function G9(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function q9(e,t){var n=Rf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?U9:F9:typeof t=="function"?n.local?G9:Y9:n.local?V9:Z9)(n,t))}function xC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function X9(e){return function(){this.style.removeProperty(e)}}function K9(e,t,n){return function(){this.style.setProperty(e,t,n)}}function W9(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Q9(e,t,n){return arguments.length>1?this.each((t==null?X9:typeof t=="function"?W9:K9)(e,t,n??"")):qo(this.node(),e)}function qo(e,t){return e.style.getPropertyValue(t)||xC(e).getComputedStyle(e,null).getPropertyValue(t)}function J9(e){return function(){delete this[e]}}function e7(e,t){return function(){this[e]=t}}function t7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function n7(e,t){return arguments.length>1?this.each((t==null?J9:typeof t=="function"?t7:e7)(e,t)):this.node()[e]}function bC(e){return e.trim().split(/^|\s+/)}function oy(e){return e.classList||new wC(e)}function wC(e){this._node=e,this._names=bC(e.getAttribute("class")||"")}wC.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function SC(e,t){for(var n=oy(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function NC(e,t){for(var n=oy(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function r7(e){return function(){SC(this,e)}}function a7(e){return function(){NC(this,e)}}function s7(e,t){return function(){(t.apply(this,arguments)?SC:NC)(this,e)}}function o7(e,t){var n=bC(e+"");if(arguments.length<2){for(var r=oy(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?s7:t?r7:a7)(n,t))}function i7(){this.textContent=""}function l7(e){return function(){this.textContent=e}}function c7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function u7(e){return arguments.length?this.each(e==null?i7:(typeof e=="function"?c7:l7)(e)):this.node().textContent}function d7(){this.innerHTML=""}function f7(e){return function(){this.innerHTML=e}}function h7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function m7(e){return arguments.length?this.each(e==null?d7:(typeof e=="function"?h7:f7)(e)):this.node().innerHTML}function g7(){this.nextSibling&&this.parentNode.appendChild(this)}function p7(){return this.each(g7)}function y7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function v7(){return this.each(y7)}function x7(e){var t=typeof e=="function"?e:mC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function b7(){return null}function w7(e,t){var n=typeof e=="function"?e:mC(e),r=t==null?b7:typeof t=="function"?t:sy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function S7(){var e=this.parentNode;e&&e.removeChild(this)}function N7(){return this.each(S7)}function E7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function A7(e){return this.select(e?_7:E7)}function C7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function k7(e){return function(t){e.call(this,t,this.__data__)}}function j7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function T7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function R7(e,t,n){return function(){var r=this.__on,a,s=k7(t);if(r){for(var o=0,i=r.length;o<i;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function M7(e,t,n){var r=j7(e+""),a,s=r.length,o;if(arguments.length<2){var i=this.node().__on;if(i){for(var c=0,u=i.length,d;c<u;++c)for(a=0,d=i[c];a<s;++a)if((o=r[a]).type===d.type&&o.name===d.name)return d.value}return}for(i=t?R7:T7,a=0;a<s;++a)this.each(i(r[a],t,n));return this}function EC(e,t,n){var r=xC(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function D7(e,t){return function(){return EC(this,e,t)}}function z7(e,t){return function(){return EC(this,e,t.apply(this,arguments))}}function O7(e,t){return this.each((typeof t=="function"?z7:D7)(e,t))}function*$7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,o;a<s;++a)(o=r[a])&&(yield o)}var _C=[null];function pn(e,t){this._groups=e,this._parents=t}function fc(){return new pn([[document.documentElement]],_C)}function L7(){return this}pn.prototype=fc.prototype={constructor:pn,select:c9,selectAll:h9,selectChild:y9,selectChildren:w9,filter:S9,data:k9,enter:N9,exit:T9,join:R9,merge:M9,selection:L7,order:D9,sort:z9,call:$9,nodes:L9,node:P9,size:B9,empty:I9,each:H9,attr:q9,style:Q9,property:n7,classed:o7,text:u7,html:m7,raise:p7,lower:v7,append:x7,insert:w7,remove:N7,clone:A7,datum:C7,on:M7,dispatch:O7,[Symbol.iterator]:$7};function Ln(e){return typeof e=="string"?new pn([[document.querySelector(e)]],[document.documentElement]):new pn([[e]],_C)}function P7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Jn(e,t){if(e=P7(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const B7={passive:!1},Cl={capture:!0,passive:!1};function Uh(e){e.stopImmediatePropagation()}function ko(e){e.preventDefault(),e.stopImmediatePropagation()}function AC(e){var t=e.document.documentElement,n=Ln(e).on("dragstart.drag",ko,Cl);"onselectstart"in t?n.on("selectstart.drag",ko,Cl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function CC(e,t){var n=e.document.documentElement,r=Ln(e).on("dragstart.drag",null);t&&(r.on("click.drag",ko,Cl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zc=e=>()=>e;function jg(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:s,x:o,y:i,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}jg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function I7(e){return!e.ctrlKey&&!e.button}function H7(){return this.parentNode}function F7(e,t){return t??{x:e.x,y:e.y}}function U7(){return navigator.maxTouchPoints||"ontouchstart"in this}function Z7(){var e=I7,t=H7,n=F7,r=U7,a={},s=Tf("start","drag","end"),o=0,i,c,u,d,f=0;function h(S){S.on("mousedown.drag",g).filter(r).on("touchstart.drag",b).on("touchmove.drag",p,B7).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(S,N){if(!(d||!e.call(this,S,N))){var C=w(this,t.call(this,S,N),S,N,"mouse");C&&(Ln(S.view).on("mousemove.drag",v,Cl).on("mouseup.drag",x,Cl),AC(S.view),Uh(S),u=!1,i=S.clientX,c=S.clientY,C("start",S))}}function v(S){if(ko(S),!u){var N=S.clientX-i,C=S.clientY-c;u=N*N+C*C>f}a.mouse("drag",S)}function x(S){Ln(S.view).on("mousemove.drag mouseup.drag",null),CC(S.view,u),ko(S),a.mouse("end",S)}function b(S,N){if(e.call(this,S,N)){var C=S.changedTouches,E=t.call(this,S,N),_=C.length,j,A;for(j=0;j<_;++j)(A=w(this,E,S,N,C[j].identifier,C[j]))&&(Uh(S),A("start",S,C[j]))}}function p(S){var N=S.changedTouches,C=N.length,E,_;for(E=0;E<C;++E)(_=a[N[E].identifier])&&(ko(S),_("drag",S,N[E]))}function y(S){var N=S.changedTouches,C=N.length,E,_;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<C;++E)(_=a[N[E].identifier])&&(Uh(S),_("end",S,N[E]))}function w(S,N,C,E,_,j){var A=s.copy(),D=Jn(j||C,N),I,R,k;if((k=n.call(S,new jg("beforestart",{sourceEvent:C,target:h,identifier:_,active:o,x:D[0],y:D[1],dx:0,dy:0,dispatch:A}),E))!=null)return I=k.x-D[0]||0,R=k.y-D[1]||0,function $(T,P,z){var M=D,L;switch(T){case"start":a[_]=$,L=o++;break;case"end":delete a[_],--o;case"drag":D=Jn(z||P,N),L=o;break}A.call(T,S,new jg(T,{sourceEvent:P,subject:k,target:h,identifier:_,active:L,x:D[0]+I,y:D[1]+R,dx:D[0]-M[0],dy:D[1]-M[1],dispatch:A}),E)}}return h.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Zc(!!S),h):e},h.container=function(S){return arguments.length?(t=typeof S=="function"?S:Zc(S),h):t},h.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Zc(S),h):n},h.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Zc(!!S),h):r},h.on=function(){var S=s.on.apply(s,arguments);return S===s?h:S},h.clickDistance=function(S){return arguments.length?(f=(S=+S)*S,h):Math.sqrt(f)},h}function iy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hc(){}var kl=.7,wd=1/kl,jo="\\s*([+-]?\\d+)\\s*",jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",V7=/^#([0-9a-f]{3,8})$/,Y7=new RegExp(`^rgb\\(${jo},${jo},${jo}\\)$`),G7=new RegExp(`^rgb\\(${ur},${ur},${ur}\\)$`),q7=new RegExp(`^rgba\\(${jo},${jo},${jo},${jl}\\)$`),X7=new RegExp(`^rgba\\(${ur},${ur},${ur},${jl}\\)$`),K7=new RegExp(`^hsl\\(${jl},${ur},${ur}\\)$`),W7=new RegExp(`^hsla\\(${jl},${ur},${ur},${jl}\\)$`),vb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iy(hc,Tl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xb,formatHex:xb,formatHex8:Q7,formatHsl:J7,formatRgb:bb,toString:bb});function xb(){return this.rgb().formatHex()}function Q7(){return this.rgb().formatHex8()}function J7(){return jC(this).formatHsl()}function bb(){return this.rgb().formatRgb()}function Tl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=V7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wb(t):n===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Y7.exec(e))?new Gt(t[1],t[2],t[3],1):(t=G7.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=q7.exec(e))?Vc(t[1],t[2],t[3],t[4]):(t=X7.exec(e))?Vc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=K7.exec(e))?Eb(t[1],t[2]/100,t[3]/100,1):(t=W7.exec(e))?Eb(t[1],t[2]/100,t[3]/100,t[4]):vb.hasOwnProperty(e)?wb(vb[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function wb(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function Vc(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gt(e,t,n,r)}function eI(e){return e instanceof hc||(e=Tl(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function Tg(e,t,n,r){return arguments.length===1?eI(e):new Gt(e,t,n,r??1)}function Gt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}iy(Gt,Tg,kC(hc,{brighter(e){return e=e==null?wd:Math.pow(wd,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kl:Math.pow(kl,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(ys(this.r),ys(this.g),ys(this.b),Sd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sb,formatHex:Sb,formatHex8:tI,formatRgb:Nb,toString:Nb}));function Sb(){return`#${is(this.r)}${is(this.g)}${is(this.b)}`}function tI(){return`#${is(this.r)}${is(this.g)}${is(this.b)}${is((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nb(){const e=Sd(this.opacity);return`${e===1?"rgb(":"rgba("}${ys(this.r)}, ${ys(this.g)}, ${ys(this.b)}${e===1?")":`, ${e})`}`}function Sd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ys(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function is(e){return e=ys(e),(e<16?"0":"")+e.toString(16)}function Eb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pn(e,t,n,r)}function jC(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof hc||(e=Tl(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,i=s-a,c=(s+a)/2;return i?(t===s?o=(n-r)/i+(n<r)*6:n===s?o=(r-t)/i+2:o=(t-n)/i+4,i/=c<.5?s+a:2-s-a,o*=60):i=c>0&&c<1?0:o,new Pn(o,i,c,e.opacity)}function nI(e,t,n,r){return arguments.length===1?jC(e):new Pn(e,t,n,r??1)}function Pn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}iy(Pn,nI,kC(hc,{brighter(e){return e=e==null?wd:Math.pow(wd,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kl:Math.pow(kl,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Gt(Zh(e>=240?e-240:e+120,a,r),Zh(e,a,r),Zh(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Pn(_b(this.h),Yc(this.s),Yc(this.l),Sd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sd(this.opacity);return`${e===1?"hsl(":"hsla("}${_b(this.h)}, ${Yc(this.s)*100}%, ${Yc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _b(e){return e=(e||0)%360,e<0?e+360:e}function Yc(e){return Math.max(0,Math.min(1,e||0))}function Zh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const TC=e=>()=>e;function rI(e,t){return function(n){return e+n*t}}function aI(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function sI(e){return(e=+e)==1?RC:function(t,n){return n-t?aI(t,n,e):TC(isNaN(t)?n:t)}}function RC(e,t){var n=t-e;return n?rI(e,n):TC(isNaN(e)?t:e)}const Ab=function e(t){var n=sI(t);function r(a,s){var o=n((a=Tg(a)).r,(s=Tg(s)).r),i=n(a.g,s.g),c=n(a.b,s.b),u=RC(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=i(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function Sa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Rg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vh=new RegExp(Rg.source,"g");function oI(e){return function(){return e}}function iI(e){return function(t){return e(t)+""}}function lI(e,t){var n=Rg.lastIndex=Vh.lastIndex=0,r,a,s,o=-1,i=[],c=[];for(e=e+"",t=t+"";(r=Rg.exec(e))&&(a=Vh.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),i[o]?i[o]+=s:i[++o]=s),(r=r[0])===(a=a[0])?i[o]?i[o]+=a:i[++o]=a:(i[++o]=null,c.push({i:o,x:Sa(r,a)})),n=Vh.lastIndex;return n<t.length&&(s=t.slice(n),i[o]?i[o]+=s:i[++o]=s),i.length<2?c[0]?iI(c[0].x):oI(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)i[(f=c[d]).i]=f.x(u);return i.join("")})}var Cb=180/Math.PI,Mg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function MC(e,t,n,r,a,s){var o,i,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,c/=i),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*Cb,skewX:Math.atan(c)*Cb,scaleX:o,scaleY:i}}var Gc;function cI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Mg:MC(t.a,t.b,t.c,t.d,t.e,t.f)}function uI(e){return e==null||(Gc||(Gc=document.createElementNS("http://www.w3.org/2000/svg","g")),Gc.setAttribute("transform",e),!(e=Gc.transform.baseVal.consolidate()))?Mg:(e=e.matrix,MC(e.a,e.b,e.c,e.d,e.e,e.f))}function DC(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,h,g,v){if(u!==f||d!==h){var x=g.push("translate(",null,t,null,n);v.push({i:x-4,x:Sa(u,f)},{i:x-2,x:Sa(d,h)})}else(f||h)&&g.push("translate("+f+t+h+n)}function o(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,r)-2,x:Sa(u,d)})):d&&f.push(a(f)+"rotate("+d+r)}function i(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,r)-2,x:Sa(u,d)}):d&&f.push(a(f)+"skewX("+d+r)}function c(u,d,f,h,g,v){if(u!==f||d!==h){var x=g.push(a(g)+"scale(",null,",",null,")");v.push({i:x-4,x:Sa(u,f)},{i:x-2,x:Sa(d,h)})}else(f!==1||h!==1)&&g.push(a(g)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,h),o(u.rotate,d.rotate,f,h),i(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(g){for(var v=-1,x=h.length,b;++v<x;)f[(b=h[v]).i]=b.x(g);return f.join("")}}}var dI=DC(cI,"px, ","px)","deg)"),fI=DC(uI,", ",")",")"),hI=1e-12;function kb(e){return((e=Math.exp(e))+1/e)/2}function mI(e){return((e=Math.exp(e))-1/e)/2}function gI(e){return((e=Math.exp(2*e))-1)/(e+1)}const pI=function e(t,n,r){function a(s,o){var i=s[0],c=s[1],u=s[2],d=o[0],f=o[1],h=o[2],g=d-i,v=f-c,x=g*g+v*v,b,p;if(x<hI)p=Math.log(h/u)/t,b=function(E){return[i+E*g,c+E*v,u*Math.exp(t*E*p)]};else{var y=Math.sqrt(x),w=(h*h-u*u+r*x)/(2*u*n*y),S=(h*h-u*u-r*x)/(2*h*n*y),N=Math.log(Math.sqrt(w*w+1)-w),C=Math.log(Math.sqrt(S*S+1)-S);p=(C-N)/t,b=function(E){var _=E*p,j=kb(N),A=u/(n*y)*(j*gI(t*_+N)-mI(N));return[i+A*g,c+A*v,u*j/kb(t*_+N)]}}return b.duration=p*1e3*t/Math.SQRT2,b}return a.rho=function(s){var o=Math.max(.001,+s),i=o*o,c=i*i;return e(o,i,c)},a}(Math.SQRT2,2,4);var Xo=0,$i=0,Ni=0,zC=1e3,Nd,Li,Ed=0,Es=0,Mf=0,Rl=typeof performance=="object"&&performance.now?performance:Date,OC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ly(){return Es||(OC(yI),Es=Rl.now()+Mf)}function yI(){Es=0}function _d(){this._call=this._time=this._next=null}_d.prototype=$C.prototype={constructor:_d,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ly():+n)+(t==null?0:+t),!this._next&&Li!==this&&(Li?Li._next=this:Nd=this,Li=this),this._call=e,this._time=n,Dg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dg())}};function $C(e,t,n){var r=new _d;return r.restart(e,t,n),r}function vI(){ly(),++Xo;for(var e=Nd,t;e;)(t=Es-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xo}function jb(){Es=(Ed=Rl.now())+Mf,Xo=$i=0;try{vI()}finally{Xo=0,bI(),Es=0}}function xI(){var e=Rl.now(),t=e-Ed;t>zC&&(Mf-=t,Ed=e)}function bI(){for(var e,t=Nd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Nd=n);Li=e,Dg(r)}function Dg(e){if(!Xo){$i&&($i=clearTimeout($i));var t=e-Es;t>24?(e<1/0&&($i=setTimeout(jb,e-Rl.now()-Mf)),Ni&&(Ni=clearInterval(Ni))):(Ni||(Ed=Rl.now(),Ni=setInterval(xI,zC)),Xo=1,OC(jb))}}function Tb(e,t,n){var r=new _d;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var wI=Tf("start","end","cancel","interrupt"),SI=[],LC=0,Rb=1,zg=2,Eu=3,Mb=4,Og=5,_u=6;function Df(e,t,n,r,a,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;NI(e,n,{name:t,index:r,group:a,on:wI,tween:SI,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:LC})}function cy(e,t){var n=Gn(e,t);if(n.state>LC)throw new Error("too late; already scheduled");return n}function xr(e,t){var n=Gn(e,t);if(n.state>Eu)throw new Error("too late; already running");return n}function Gn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function NI(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=$C(s,0,n.time);function s(u){n.state=Rb,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,h,g;if(n.state!==Rb)return c();for(d in r)if(g=r[d],g.name===n.name){if(g.state===Eu)return Tb(o);g.state===Mb?(g.state=_u,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=_u,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(Tb(function(){n.state===Eu&&(n.state=Mb,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=zg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zg){for(n.state=Eu,a=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++f]=g);a.length=f+1}}function i(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Og,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);n.state===Og&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=_u,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Au(e,t){var n=e.__transition,r,a,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}a=r.state>zg&&r.state<Og,r.state=_u,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function EI(e){return this.each(function(){Au(this,e)})}function _I(e,t){var n,r;return function(){var a=xr(this,e),s=a.tween;if(s!==n){r=n=s;for(var o=0,i=r.length;o<i;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function AI(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=xr(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var i={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=i;break}c===u&&a.push(i)}s.tween=a}}function CI(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Gn(this.node(),n).tween,a=0,s=r.length,o;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?_I:AI)(n,e,t))}function uy(e,t,n){var r=e._id;return e.each(function(){var a=xr(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Gn(a,r).value[t]}}function PC(e,t){var n;return(typeof t=="number"?Sa:t instanceof Tl?Ab:(n=Tl(t))?(t=n,Ab):lI)(e,t)}function kI(e){return function(){this.removeAttribute(e)}}function jI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TI(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=t(r=o,n)}}function RI(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=t(r=o,n)}}function MI(e,t,n){var r,a,s;return function(){var o,i=n(this),c;return i==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=i+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,i)))}}function DI(e,t,n){var r,a,s;return function(){var o,i=n(this),c;return i==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=i+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,i)))}}function zI(e,t){var n=Rf(e),r=n==="transform"?fI:PC;return this.attrTween(e,typeof t=="function"?(n.local?DI:MI)(n,r,uy(this,"attr."+e,t)):t==null?(n.local?jI:kI)(n):(n.local?RI:TI)(n,r,t))}function OI(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function $I(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function LI(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&$I(e,s)),n}return a._value=t,a}function PI(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&OI(e,s)),n}return a._value=t,a}function BI(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Rf(e);return this.tween(n,(r.local?LI:PI)(r,t))}function II(e,t){return function(){cy(this,e).delay=+t.apply(this,arguments)}}function HI(e,t){return t=+t,function(){cy(this,e).delay=t}}function FI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?II:HI)(t,e)):Gn(this.node(),t).delay}function UI(e,t){return function(){xr(this,e).duration=+t.apply(this,arguments)}}function ZI(e,t){return t=+t,function(){xr(this,e).duration=t}}function VI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?UI:ZI)(t,e)):Gn(this.node(),t).duration}function YI(e,t){if(typeof t!="function")throw new Error;return function(){xr(this,e).ease=t}}function GI(e){var t=this._id;return arguments.length?this.each(YI(t,e)):Gn(this.node(),t).ease}function qI(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xr(this,e).ease=n}}function XI(e){if(typeof e!="function")throw new Error;return this.each(qI(this._id,e))}function KI(e){typeof e!="function"&&(e=pC(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,i=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&i.push(c);return new na(r,this._parents,this._name,this._id)}function WI(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),i=0;i<s;++i)for(var c=t[i],u=n[i],d=c.length,f=o[i]=new Array(d),h,g=0;g<d;++g)(h=c[g]||u[g])&&(f[g]=h);for(;i<r;++i)o[i]=t[i];return new na(o,this._parents,this._name,this._id)}function QI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function JI(e,t,n){var r,a,s=QI(t)?cy:xr;return function(){var o=s(this,e),i=o.on;i!==r&&(a=(r=i).copy()).on(t,n),o.on=a}}function eH(e,t){var n=this._id;return arguments.length<2?Gn(this.node(),n).on.on(e):this.each(JI(n,e,t))}function tH(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function nH(){return this.on("end.remove",tH(this._id))}function rH(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sy(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var i=r[o],c=i.length,u=s[o]=new Array(c),d,f,h=0;h<c;++h)(d=i[h])&&(f=e.call(d,d.__data__,h,i))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,Df(u[h],t,n,h,u,Gn(d,n)));return new na(s,this._parents,t,n)}function aH(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gC(e));for(var r=this._groups,a=r.length,s=[],o=[],i=0;i<a;++i)for(var c=r[i],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),g,v=Gn(d,n),x=0,b=h.length;x<b;++x)(g=h[x])&&Df(g,t,n,x,h,v);s.push(h),o.push(d)}return new na(s,o,t,n)}var sH=fc.prototype.constructor;function oH(){return new sH(this._groups,this._parents)}function iH(e,t){var n,r,a;return function(){var s=qo(this,e),o=(this.style.removeProperty(e),qo(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}function BC(e){return function(){this.style.removeProperty(e)}}function lH(e,t,n){var r,a=n+"",s;return function(){var o=qo(this,e);return o===a?null:o===r?s:s=t(r=o,n)}}function cH(e,t,n){var r,a,s;return function(){var o=qo(this,e),i=n(this),c=i+"";return i==null&&(c=i=(this.style.removeProperty(e),qo(this,e))),o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,i))}}function uH(e,t){var n,r,a,s="style."+t,o="end."+s,i;return function(){var c=xr(this,e),u=c.on,d=c.value[s]==null?i||(i=BC(t)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(o,a=d),c.on=r}}function dH(e,t,n){var r=(e+="")=="transform"?dI:PC;return t==null?this.styleTween(e,iH(e,r)).on("end.style."+e,BC(e)):typeof t=="function"?this.styleTween(e,cH(e,r,uy(this,"style."+e,t))).each(uH(this._id,e)):this.styleTween(e,lH(e,r,t),n).on("end.style."+e,null)}function fH(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function hH(e,t,n){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&fH(e,o,n)),r}return s._value=t,s}function mH(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,hH(e,t,n??""))}function gH(e){return function(){this.textContent=e}}function pH(e){return function(){var t=e(this);this.textContent=t??""}}function yH(e){return this.tween("text",typeof e=="function"?pH(uy(this,"text",e)):gH(e==null?"":e+""))}function vH(e){return function(t){this.textContent=e.call(this,t)}}function xH(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&vH(a)),t}return r._value=e,r}function bH(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,xH(e))}function wH(){for(var e=this._name,t=this._id,n=IC(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],i=o.length,c,u=0;u<i;++u)if(c=o[u]){var d=Gn(c,t);Df(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new na(r,this._parents,e,n)}function SH(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var i={value:o},c={value:function(){--a===0&&s()}};n.each(function(){var u=xr(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(c)),u.on=t}),a===0&&s()})}var NH=0;function na(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function IC(){return++NH}var Tr=fc.prototype;na.prototype={constructor:na,select:rH,selectAll:aH,selectChild:Tr.selectChild,selectChildren:Tr.selectChildren,filter:KI,merge:WI,selection:oH,transition:wH,call:Tr.call,nodes:Tr.nodes,node:Tr.node,size:Tr.size,empty:Tr.empty,each:Tr.each,on:eH,attr:zI,attrTween:BI,style:dH,styleTween:mH,text:yH,textTween:bH,remove:nH,tween:CI,delay:FI,duration:VI,ease:GI,easeVarying:XI,end:SH,[Symbol.iterator]:Tr[Symbol.iterator]};function EH(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _H={time:null,delay:0,duration:250,ease:EH};function AH(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function CH(e){var t,n;e instanceof na?(t=e._id,e=e._name):(t=IC(),(n=_H).time=ly(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],i=o.length,c,u=0;u<i;++u)(c=o[u])&&Df(c,e,t,u,o,n||AH(c,t));return new na(r,this._parents,e,t)}fc.prototype.interrupt=EI;fc.prototype.transition=CH;const qc=e=>()=>e;function kH(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Ir(e,t,n){this.k=e,this.x=t,this.y=n}Ir.prototype={constructor:Ir,scale:function(e){return e===1?this:new Ir(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ir(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fa=new Ir(1,0,0);Ir.prototype;function Yh(e){e.stopImmediatePropagation()}function Ei(e){e.preventDefault(),e.stopImmediatePropagation()}function jH(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function TH(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Db(){return this.__zoom||Fa}function RH(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function MH(){return navigator.maxTouchPoints||"ontouchstart"in this}function DH(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function zH(){var e=jH,t=TH,n=DH,r=RH,a=MH,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],i=250,c=pI,u=Tf("start","zoom","end"),d,f,h,g=500,v=150,x=0,b=10;function p(k){k.property("__zoom",Db).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",A).filter(a).on("touchstart.zoom",D).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(k,$,T,P){var z=k.selection?k.selection():k;z.property("__zoom",Db),k!==z?N(k,$,T,P):z.interrupt().each(function(){C(this,arguments).event(P).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},p.scaleBy=function(k,$,T,P){p.scaleTo(k,function(){var z=this.__zoom.k,M=typeof $=="function"?$.apply(this,arguments):$;return z*M},T,P)},p.scaleTo=function(k,$,T,P){p.transform(k,function(){var z=t.apply(this,arguments),M=this.__zoom,L=T==null?S(z):typeof T=="function"?T.apply(this,arguments):T,B=M.invert(L),F=typeof $=="function"?$.apply(this,arguments):$;return n(w(y(M,F),L,B),z,o)},T,P)},p.translateBy=function(k,$,T,P){p.transform(k,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),o)},null,P)},p.translateTo=function(k,$,T,P,z){p.transform(k,function(){var M=t.apply(this,arguments),L=this.__zoom,B=P==null?S(M):typeof P=="function"?P.apply(this,arguments):P;return n(Fa.translate(B[0],B[1]).scale(L.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof T=="function"?-T.apply(this,arguments):-T),M,o)},P,z)};function y(k,$){return $=Math.max(s[0],Math.min(s[1],$)),$===k.k?k:new Ir($,k.x,k.y)}function w(k,$,T){var P=$[0]-T[0]*k.k,z=$[1]-T[1]*k.k;return P===k.x&&z===k.y?k:new Ir(k.k,P,z)}function S(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function N(k,$,T,P){k.on("start.zoom",function(){C(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(P).end()}).tween("zoom",function(){var z=this,M=arguments,L=C(z,M).event(P),B=t.apply(z,M),F=T==null?S(B):typeof T=="function"?T.apply(z,M):T,Y=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),V=z.__zoom,W=typeof $=="function"?$.apply(z,M):$,oe=c(V.invert(F).concat(Y/V.k),W.invert(F).concat(Y/W.k));return function(Q){if(Q===1)Q=W;else{var le=oe(Q),me=Y/le[2];Q=new Ir(me,F[0]-le[0]*me,F[1]-le[1]*me)}L.zoom(null,Q)}})}function C(k,$,T){return!T&&k.__zooming||new E(k,$)}function E(k,$){this.that=k,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,$),this.taps=0}E.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,$){return this.mouse&&k!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var $=Ln(this.that).datum();u.call(k,this.that,new kH(k,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),$)}};function _(k,...$){if(!e.apply(this,arguments))return;var T=C(this,$).event(k),P=this.__zoom,z=Math.max(s[0],Math.min(s[1],P.k*Math.pow(2,r.apply(this,arguments)))),M=Jn(k);if(T.wheel)(T.mouse[0][0]!==M[0]||T.mouse[0][1]!==M[1])&&(T.mouse[1]=P.invert(T.mouse[0]=M)),clearTimeout(T.wheel);else{if(P.k===z)return;T.mouse=[M,P.invert(M)],Au(this),T.start()}Ei(k),T.wheel=setTimeout(L,v),T.zoom("mouse",n(w(y(P,z),T.mouse[0],T.mouse[1]),T.extent,o));function L(){T.wheel=null,T.end()}}function j(k,...$){if(h||!e.apply(this,arguments))return;var T=k.currentTarget,P=C(this,$,!0).event(k),z=Ln(k.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",Y,!0),M=Jn(k,T),L=k.clientX,B=k.clientY;AC(k.view),Yh(k),P.mouse=[M,this.__zoom.invert(M)],Au(this),P.start();function F(V){if(Ei(V),!P.moved){var W=V.clientX-L,oe=V.clientY-B;P.moved=W*W+oe*oe>x}P.event(V).zoom("mouse",n(w(P.that.__zoom,P.mouse[0]=Jn(V,T),P.mouse[1]),P.extent,o))}function Y(V){z.on("mousemove.zoom mouseup.zoom",null),CC(V.view,P.moved),Ei(V),P.event(V).end()}}function A(k,...$){if(e.apply(this,arguments)){var T=this.__zoom,P=Jn(k.changedTouches?k.changedTouches[0]:k,this),z=T.invert(P),M=T.k*(k.shiftKey?.5:2),L=n(w(y(T,M),P,z),t.apply(this,$),o);Ei(k),i>0?Ln(this).transition().duration(i).call(N,L,P,k):Ln(this).call(p.transform,L,P,k)}}function D(k,...$){if(e.apply(this,arguments)){var T=k.touches,P=T.length,z=C(this,$,k.changedTouches.length===P).event(k),M,L,B,F;for(Yh(k),L=0;L<P;++L)B=T[L],F=Jn(B,this),F=[F,this.__zoom.invert(F),B.identifier],z.touch0?!z.touch1&&z.touch0[2]!==F[2]&&(z.touch1=F,z.taps=0):(z.touch0=F,M=!0,z.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(z.taps<2&&(f=F[0],d=setTimeout(function(){d=null},g)),Au(this),z.start())}}function I(k,...$){if(this.__zooming){var T=C(this,$).event(k),P=k.changedTouches,z=P.length,M,L,B,F;for(Ei(k),M=0;M<z;++M)L=P[M],B=Jn(L,this),T.touch0&&T.touch0[2]===L.identifier?T.touch0[0]=B:T.touch1&&T.touch1[2]===L.identifier&&(T.touch1[0]=B);if(L=T.that.__zoom,T.touch1){var Y=T.touch0[0],V=T.touch0[1],W=T.touch1[0],oe=T.touch1[1],Q=(Q=W[0]-Y[0])*Q+(Q=W[1]-Y[1])*Q,le=(le=oe[0]-V[0])*le+(le=oe[1]-V[1])*le;L=y(L,Math.sqrt(Q/le)),B=[(Y[0]+W[0])/2,(Y[1]+W[1])/2],F=[(V[0]+oe[0])/2,(V[1]+oe[1])/2]}else if(T.touch0)B=T.touch0[0],F=T.touch0[1];else return;T.zoom("touch",n(w(L,B,F),T.extent,o))}}function R(k,...$){if(this.__zooming){var T=C(this,$).event(k),P=k.changedTouches,z=P.length,M,L;for(Yh(k),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),M=0;M<z;++M)L=P[M],T.touch0&&T.touch0[2]===L.identifier?delete T.touch0:T.touch1&&T.touch1[2]===L.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(L=Jn(L,this),Math.hypot(f[0]-L[0],f[1]-L[1])<b)){var B=Ln(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return p.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:qc(+k),p):r},p.filter=function(k){return arguments.length?(e=typeof k=="function"?k:qc(!!k),p):e},p.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:qc(!!k),p):a},p.extent=function(k){return arguments.length?(t=typeof k=="function"?k:qc([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),p):t},p.scaleExtent=function(k){return arguments.length?(s[0]=+k[0],s[1]=+k[1],p):[s[0],s[1]]},p.translateExtent=function(k){return arguments.length?(o[0][0]=+k[0][0],o[1][0]=+k[1][0],o[0][1]=+k[0][1],o[1][1]=+k[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(k){return arguments.length?(n=k,p):n},p.duration=function(k){return arguments.length?(i=+k,p):i},p.interpolate=function(k){return arguments.length?(c=k,p):c},p.on=function(){var k=u.on.apply(u,arguments);return k===u?p:k},p.clickDistance=function(k){return arguments.length?(x=(k=+k)*k,p):Math.sqrt(x)},p.tapDistance=function(k){return arguments.length?(b=+k,p):b},p}const zf=m.createContext(null),OH=zf.Provider,ra={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},HC=ra.error001();function Ke(e,t){const n=m.useContext(zf);if(n===null)throw new Error(HC);return hC(n,e,t)}const wt=()=>{const e=m.useContext(zf);if(e===null)throw new Error(HC);return m.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},$H=e=>e.userSelectionActive?"none":"all";function FC({position:e,children:t,className:n,style:r,...a}){const s=Ke($H),o=`${e}`.split("-");return O.createElement("div",{className:It(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...a},t)}function LH({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:O.createElement(FC,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},O.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const PH=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:i=2,children:c,className:u,...d})=>{const f=m.useRef(null),[h,g]=m.useState({x:0,y:0,width:0,height:0}),v=It(["react-flow__edge-textwrapper",u]);return m.useEffect(()=>{if(f.current){const x=f.current.getBBox();g({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:O.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:v,visibility:h.width?"visible":"hidden",...d},a&&O.createElement("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:i,ry:i}),O.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),c)};var BH=m.memo(PH);const dy=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ko=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),fy=(e={x:0,y:0},t)=>({x:Ko(e.x,t[0][0],t[1][0]),y:Ko(e.y,t[0][1],t[1][1])}),zb=(e,t,n)=>e<t?Ko(Math.abs(e-t),1,50)/50:e>n?-Ko(Math.abs(e-n),1,50)/50:0,UC=(e,t)=>{const n=zb(e.x,35,t.width-35)*20,r=zb(e.y,35,t.height-35)*20;return[n,r]},ZC=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},IH=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),hy=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),HH=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ob=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),$g=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},FH=e=>kn(e.width)&&kn(e.height)&&kn(e.x)&&kn(e.y),kn=e=>!isNaN(e)&&isFinite(e),et=Symbol.for("internals"),VC=["Enter"," ","Escape"],UH=(e,t)=>{},ZH=e=>"nativeEvent"in e;function Lg(e){var a,s;const t=ZH(e)?e.nativeEvent:e,n=((s=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const YC=e=>"clientX"in e,Ua=(e,t)=>{var s,o;const n=YC(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},Ad=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},mc=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:g=20})=>O.createElement(O.Fragment,null,O.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),g&&O.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),a&&kn(n)&&kn(r)?O.createElement(BH,{x:n,y:r,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u}):null);mc.displayName="BaseEdge";function _i(e,t,n){return n===void 0?n:r=>{const a=t().edges.find(s=>s.id===e);a&&n(r,{...a})}}function GC({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,s=n<e?n+a:n-a,o=Math.abs(r-t)/2,i=r<t?r+o:r-o;return[s,i,a,o]}function qC({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:s,targetControlX:o,targetControlY:i}){const c=e*.125+a*.375+o*.375+n*.125,u=t*.125+s*.375+i*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var _s;(function(e){e.Strict="strict",e.Loose="loose"})(_s||(_s={}));var ls;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ls||(ls={}));var Ml;(function(e){e.Partial="partial",e.Full="full"})(Ml||(Ml={}));var ka;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ka||(ka={}));var Cd;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Cd||(Cd={}));var se;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(se||(se={}));function $b({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===se.Left||e===se.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function XC({sourceX:e,sourceY:t,sourcePosition:n=se.Bottom,targetX:r,targetY:a,targetPosition:s=se.Top}){const[o,i]=$b({pos:n,x1:e,y1:t,x2:r,y2:a}),[c,u]=$b({pos:s,x1:r,y1:a,x2:e,y2:t}),[d,f,h,g]=qC({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:o,sourceControlY:i,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${i} ${c},${u} ${r},${a}`,d,f,h,g]}const my=m.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=se.Bottom,targetPosition:s=se.Top,label:o,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:x})=>{const[b,p,y]=XC({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:s});return O.createElement(mc,{path:b,labelX:p,labelY:y,label:o,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:x})});my.displayName="SimpleBezierEdge";const Lb={[se.Left]:{x:-1,y:0},[se.Right]:{x:1,y:0},[se.Top]:{x:0,y:-1},[se.Bottom]:{x:0,y:1}},VH=({source:e,sourcePosition:t=se.Bottom,target:n})=>t===se.Left||t===se.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Pb=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function YH({source:e,sourcePosition:t=se.Bottom,target:n,targetPosition:r=se.Top,center:a,offset:s}){const o=Lb[t],i=Lb[r],c={x:e.x+o.x*s,y:e.y+o.y*s},u={x:n.x+i.x*s,y:n.y+i.y*s},d=VH({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let g=[],v,x;const b={x:0,y:0},p={x:0,y:0},[y,w,S,N]=GC({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*i[f]===-1){v=a.x??y,x=a.y??w;const E=[{x:v,y:c.y},{x:v,y:u.y}],_=[{x:c.x,y:x},{x:u.x,y:x}];o[f]===h?g=f==="x"?E:_:g=f==="x"?_:E}else{const E=[{x:c.x,y:u.y}],_=[{x:u.x,y:c.y}];if(f==="x"?g=o.x===h?_:E:g=o.y===h?E:_,t===r){const R=Math.abs(e[f]-n[f]);if(R<=s){const k=Math.min(s-1,s-R);o[f]===h?b[f]=(c[f]>e[f]?-1:1)*k:p[f]=(u[f]>n[f]?-1:1)*k}}if(t!==r){const R=f==="x"?"y":"x",k=o[f]===i[R],$=c[R]>u[R],T=c[R]<u[R];(o[f]===1&&(!k&&$||k&&T)||o[f]!==1&&(!k&&T||k&&$))&&(g=f==="x"?E:_)}const j={x:c.x+b.x,y:c.y+b.y},A={x:u.x+p.x,y:u.y+p.y},D=Math.max(Math.abs(j.x-g[0].x),Math.abs(A.x-g[0].x)),I=Math.max(Math.abs(j.y-g[0].y),Math.abs(A.y-g[0].y));D>=I?(v=(j.x+A.x)/2,x=g[0].y):(v=g[0].x,x=(j.y+A.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...g,{x:u.x+p.x,y:u.y+p.y},n],v,x,S,N]}function GH(e,t,n,r){const a=Math.min(Pb(e,t)/2,Pb(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${s+a*u},${o}Q ${s},${o} ${s},${o+a*d}`}const i=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${o+a*c}Q ${s},${o} ${s+a*i},${o}`}function Pg({sourceX:e,sourceY:t,sourcePosition:n=se.Bottom,targetX:r,targetY:a,targetPosition:s=se.Top,borderRadius:o=5,centerX:i,centerY:c,offset:u=20}){const[d,f,h,g,v]=YH({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:s,center:{x:i,y:c},offset:u});return[d.reduce((b,p,y)=>{let w="";return y>0&&y<d.length-1?w=GH(d[y-1],p,d[y+1],o):w=`${y===0?"M":"L"}${p.x} ${p.y}`,b+=w,b},""),f,h,g,v]}const Of=m.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=se.Bottom,targetPosition:h=se.Top,markerEnd:g,markerStart:v,pathOptions:x,interactionWidth:b})=>{const[p,y,w]=Pg({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return O.createElement(mc,{path:p,labelX:y,labelY:w,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:g,markerStart:v,interactionWidth:b})});Of.displayName="SmoothStepEdge";const gy=m.memo(e=>{var t;return O.createElement(Of,{...e,pathOptions:m.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});gy.displayName="StepEdge";function qH({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,s,o,i]=GC({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,s,o,i]}const py=m.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:g})=>{const[v,x,b]=qH({sourceX:e,sourceY:t,targetX:n,targetY:r});return O.createElement(mc,{path:v,labelX:x,labelY:b,label:a,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:g})});py.displayName="StraightEdge";function Xc(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Bb({pos:e,x1:t,y1:n,x2:r,y2:a,c:s}){switch(e){case se.Left:return[t-Xc(t-r,s),n];case se.Right:return[t+Xc(r-t,s),n];case se.Top:return[t,n-Xc(n-a,s)];case se.Bottom:return[t,n+Xc(a-n,s)]}}function KC({sourceX:e,sourceY:t,sourcePosition:n=se.Bottom,targetX:r,targetY:a,targetPosition:s=se.Top,curvature:o=.25}){const[i,c]=Bb({pos:n,x1:e,y1:t,x2:r,y2:a,c:o}),[u,d]=Bb({pos:s,x1:r,y1:a,x2:e,y2:t,c:o}),[f,h,g,v]=qC({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${i},${c} ${u},${d} ${r},${a}`,f,h,g,v]}const kd=m.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=se.Bottom,targetPosition:s=se.Top,label:o,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,pathOptions:x,interactionWidth:b})=>{const[p,y,w]=KC({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:s,curvature:x==null?void 0:x.curvature});return O.createElement(mc,{path:p,labelX:y,labelY:w,label:o,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:v,interactionWidth:b})});kd.displayName="BezierEdge";const yy=m.createContext(null),XH=yy.Provider;yy.Consumer;const KH=()=>m.useContext(yy),WH=e=>"id"in e&&"source"in e&&"target"in e,QH=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Bg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,JH=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),WC=(e,t)=>{if(!e.source||!e.target)return t;let n;return WH(e)?n={...e}:n={...e,id:QH(e)},JH(n,t)?t:t.concat(n)},Ig=({x:e,y:t},[n,r,a],s,[o,i])=>{const c={x:(e-n)/a,y:(t-r)/a};return s?{x:o*Math.round(c.x/o),y:i*Math.round(c.y/i)}:c},QC=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r}),To=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-r};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:a}},vy=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const{x:s,y:o}=To(a,t).positionAbsolute;return IH(r,hy({x:s,y:o,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return HH(n)},JC=(e,t,[n,r,a]=[0,0,1],s=!1,o=!1,i=[0,0])=>{const c={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:g=!0,hidden:v=!1}=d;if(o&&!g||v)return!1;const{positionAbsolute:x}=To(d,i),b={x:x.x,y:x.y,width:f||0,height:h||0},p=$g(c,b),y=typeof f>"u"||typeof h>"u"||f===null||h===null,w=s&&p>0,S=(f||0)*(h||0);(y||w||p>=S||d.dragging)&&u.push(d)}),u},ek=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},tk=(e,t,n,r,a,s=.1)=>{const o=t/(e.width*(1+s)),i=n/(e.height*(1+s)),c=Math.min(o,i),u=Ko(c,r,a),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,g=n/2-f*u;return{x:h,y:g,zoom:u}},ss=(e,t=0)=>e.transition().duration(t);function Ib(e,t,n,r){return(t[n]||[]).reduce((a,s)=>{var o,i;return`${e.id}-${s.id}-${n}`!==r&&a.push({id:s.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((i=e.positionAbsolute)==null?void 0:i.y)??0)+s.y+s.height/2}),a},[])}function eF(e,t,n,r,a,s){const{x:o,y:i}=Ua(e),u=t.elementsFromPoint(o,i).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const x=xy(void 0,u),b=u.getAttribute("data-handleid"),p=s({nodeId:v,id:b,type:x});if(p){const y=a.find(w=>w.nodeId===v&&w.type===x&&w.id===b);return{handle:{id:b,type:x,nodeId:v,x:(y==null?void 0:y.x)||n.x,y:(y==null?void 0:y.y)||n.y},validHandleResult:p}}}}let d=[],f=1/0;if(a.forEach(v=>{const x=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(x<=r){const b=s(v);x<=f&&(x<f?d=[{handle:v,validHandleResult:b}]:x===f&&d.push({handle:v,validHandleResult:b}),f=x)}}),!d.length)return{handle:null,validHandleResult:nk()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:v})=>v.isValid),g=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:x})=>g?v.type==="target":h?x.isValid:!0)||d[0]}const tF={source:null,target:null,sourceHandle:null,targetHandle:null},nk=()=>({handleDomNode:null,isValid:!1,connection:tF,endHandle:null});function rk(e,t,n,r,a,s,o){const i=a==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...nk(),handleDomNode:c};if(c){const d=xy(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),g=c.classList.contains("connectable"),v=c.classList.contains("connectableend"),x={source:i?f:n,sourceHandle:i?h:r,target:i?n:f,targetHandle:i?r:h};u.connection=x,g&&v&&(t===_s.Strict?i&&d==="source"||!i&&d==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=s(x))}return u}function nF({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((a,s)=>{if(s[et]){const{handleBounds:o}=s[et];let i=[],c=[];o&&(i=Ib(s,o,"source",`${t}-${n}-${r}`),c=Ib(s,o,"target",`${t}-${n}-${r}`)),a.push(...i,...c)}return a},[])}function xy(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Gh(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function rF(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function ak({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:a,getState:s,setState:o,isValidConnection:i,edgeUpdaterType:c,onReconnectEnd:u}){const d=ZC(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:g,connectionRadius:v,onConnectStart:x,panBy:b,getNodes:p,cancelConnection:y}=s();let w=0,S;const{x:N,y:C}=Ua(e),E=d==null?void 0:d.elementFromPoint(N,C),_=xy(c,E),j=h==null?void 0:h.getBoundingClientRect();if(!j||!_)return;let A,D=Ua(e,j),I=!1,R=null,k=!1,$=null;const T=nF({nodes:p(),nodeId:n,handleId:t,handleType:_}),P=()=>{if(!g)return;const[L,B]=UC(D,j);b({x:L,y:B}),w=requestAnimationFrame(P)};o({connectionPosition:D,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:_});function z(L){const{transform:B}=s();D=Ua(L,j);const{handle:F,validHandleResult:Y}=eF(L,d,Ig(D,B,!1,[1,1]),v,T,V=>rk(V,f,n,t,a?"target":"source",i,d));if(S=F,I||(P(),I=!0),$=Y.handleDomNode,R=Y.connection,k=Y.isValid,o({connectionPosition:S&&k?QC({x:S.x,y:S.y},B):D,connectionStatus:rF(!!S,k),connectionEndHandle:Y.endHandle}),!S&&!k&&!$)return Gh(A);R.source!==R.target&&$&&(Gh(A),A=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",k),$.classList.toggle("react-flow__handle-valid",k))}function M(L){var B,F;(S||$)&&R&&k&&(r==null||r(R)),(F=(B=s()).onConnectEnd)==null||F.call(B,L),c&&(u==null||u(L)),Gh(A),y(),cancelAnimationFrame(w),I=!1,k=!1,R=null,$=null,d.removeEventListener("mousemove",z),d.removeEventListener("mouseup",M),d.removeEventListener("touchmove",z),d.removeEventListener("touchend",M)}d.addEventListener("mousemove",z),d.addEventListener("mouseup",M),d.addEventListener("touchmove",z),d.addEventListener("touchend",M)}const Hb=()=>!0,aF=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),sF=(e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},sk=m.forwardRef(({type:e="source",position:t=se.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:o,onConnect:i,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},g)=>{var j,A;const v=o||null,x=e==="target",b=wt(),p=KH(),{connectOnClick:y,noPanClassName:w}=Ke(aF,Xt),{connecting:S,clickConnecting:N}=Ke(sF(p,v,e),Xt);p||(A=(j=b.getState()).onError)==null||A.call(j,"010",ra.error010());const C=D=>{const{defaultEdgeOptions:I,onConnect:R,hasDefaultEdges:k}=b.getState(),$={...I,...D};if(k){const{edges:T,setEdges:P}=b.getState();P(WC($,T))}R==null||R($),i==null||i($)},E=D=>{if(!p)return;const I=YC(D);a&&(I&&D.button===0||!I)&&ak({event:D,handleId:v,nodeId:p,onConnect:C,isTarget:x,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||Hb}),I?d==null||d(D):f==null||f(D)},_=D=>{const{onClickConnectStart:I,onClickConnectEnd:R,connectionClickStartHandle:k,connectionMode:$,isValidConnection:T}=b.getState();if(!p||!k&&!a)return;if(!k){I==null||I(D,{nodeId:p,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:v}});return}const P=ZC(D.target),z=n||T||Hb,{connection:M,isValid:L}=rk({nodeId:p,id:v,type:e},$,k.nodeId,k.handleId||null,k.type,z,P);L&&C(M),R==null||R(D),b.setState({connectionClickStartHandle:null})};return O.createElement("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${v}-${e}`,className:It(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!x,target:x,connectable:r,connectablestart:a,connectableend:s,connecting:N,connectionindicator:r&&(a&&!S||s&&S)}]),onMouseDown:E,onTouchStart:E,onClick:y?_:void 0,ref:g,...h},c)});sk.displayName="Handle";var Wo=m.memo(sk);const ok=({data:e,isConnectable:t,targetPosition:n=se.Top,sourcePosition:r=se.Bottom})=>O.createElement(O.Fragment,null,O.createElement(Wo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,O.createElement(Wo,{type:"source",position:r,isConnectable:t}));ok.displayName="DefaultNode";var Hg=m.memo(ok);const ik=({data:e,isConnectable:t,sourcePosition:n=se.Bottom})=>O.createElement(O.Fragment,null,e==null?void 0:e.label,O.createElement(Wo,{type:"source",position:n,isConnectable:t}));ik.displayName="InputNode";var lk=m.memo(ik);const ck=({data:e,isConnectable:t,targetPosition:n=se.Top})=>O.createElement(O.Fragment,null,O.createElement(Wo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);ck.displayName="OutputNode";var uk=m.memo(ck);const by=()=>null;by.displayName="GroupNode";const oF=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Kc=e=>e.id;function iF(e,t){return Xt(e.selectedNodes.map(Kc),t.selectedNodes.map(Kc))&&Xt(e.selectedEdges.map(Kc),t.selectedEdges.map(Kc))}const dk=m.memo(({onSelectionChange:e})=>{const t=wt(),{selectedNodes:n,selectedEdges:r}=Ke(oF,iF);return m.useEffect(()=>{const a={nodes:n,edges:r};e==null||e(a),t.getState().onSelectionChange.forEach(s=>s(a))},[n,r,e]),null});dk.displayName="SelectionListener";const lF=e=>!!e.onSelectionChange;function cF({onSelectionChange:e}){const t=Ke(lF);return e||t?O.createElement(dk,{onSelectionChange:e}):null}const uF=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Ys(e,t){m.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function we(e,t,n){m.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const dF=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:s,onConnectEnd:o,onClickConnectStart:i,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:x,maxZoom:b,nodeExtent:p,onNodesChange:y,onEdgesChange:w,elementsSelectable:S,connectionMode:N,snapGrid:C,snapToGrid:E,translateExtent:_,connectOnClick:j,defaultEdgeOptions:A,fitView:D,fitViewOptions:I,onNodesDelete:R,onEdgesDelete:k,onNodeDrag:$,onNodeDragStart:T,onNodeDragStop:P,onSelectionDrag:z,onSelectionDragStart:M,onSelectionDragStop:L,noPanClassName:B,nodeOrigin:F,rfId:Y,autoPanOnConnect:V,autoPanOnNodeDrag:W,onError:oe,connectionRadius:Q,isValidConnection:le,nodeDragThreshold:me})=>{const{setNodes:H,setEdges:q,setDefaultNodesAndEdges:K,setMinZoom:re,setMaxZoom:X,setTranslateExtent:ge,setNodeExtent:Ce,reset:ye}=Ke(uF,Xt),ee=wt();return m.useEffect(()=>{const Ye=r==null?void 0:r.map(Ht=>({...Ht,...A}));return K(n,Ye),()=>{ye()}},[]),we("defaultEdgeOptions",A,ee.setState),we("connectionMode",N,ee.setState),we("onConnect",a,ee.setState),we("onConnectStart",s,ee.setState),we("onConnectEnd",o,ee.setState),we("onClickConnectStart",i,ee.setState),we("onClickConnectEnd",c,ee.setState),we("nodesDraggable",u,ee.setState),we("nodesConnectable",d,ee.setState),we("nodesFocusable",f,ee.setState),we("edgesFocusable",h,ee.setState),we("edgesUpdatable",g,ee.setState),we("elementsSelectable",S,ee.setState),we("elevateNodesOnSelect",v,ee.setState),we("snapToGrid",E,ee.setState),we("snapGrid",C,ee.setState),we("onNodesChange",y,ee.setState),we("onEdgesChange",w,ee.setState),we("connectOnClick",j,ee.setState),we("fitViewOnInit",D,ee.setState),we("fitViewOnInitOptions",I,ee.setState),we("onNodesDelete",R,ee.setState),we("onEdgesDelete",k,ee.setState),we("onNodeDrag",$,ee.setState),we("onNodeDragStart",T,ee.setState),we("onNodeDragStop",P,ee.setState),we("onSelectionDrag",z,ee.setState),we("onSelectionDragStart",M,ee.setState),we("onSelectionDragStop",L,ee.setState),we("noPanClassName",B,ee.setState),we("nodeOrigin",F,ee.setState),we("rfId",Y,ee.setState),we("autoPanOnConnect",V,ee.setState),we("autoPanOnNodeDrag",W,ee.setState),we("onError",oe,ee.setState),we("connectionRadius",Q,ee.setState),we("isValidConnection",le,ee.setState),we("nodeDragThreshold",me,ee.setState),Ys(e,H),Ys(t,q),Ys(x,re),Ys(b,X),Ys(_,ge),Ys(p,Ce),null},Fb={display:"none"},fF={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fk="react-flow__node-desc",hk="react-flow__edge-desc",hF="react-flow__aria-live",mF=e=>e.ariaLiveMessage;function gF({rfId:e}){const t=Ke(mF);return O.createElement("div",{id:`${hF}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:fF},t)}function pF({rfId:e,disableKeyboardA11y:t}){return O.createElement(O.Fragment,null,O.createElement("div",{id:`${fk}-${e}`,style:Fb},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),O.createElement("div",{id:`${hk}-${e}`,style:Fb},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&O.createElement(gF,{rfId:e}))}var Dl=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=m.useState(!1),a=m.useRef(!1),s=m.useRef(new Set([])),[o,i]=m.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return m.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=g=>{if(a.current=g.ctrlKey||g.metaKey||g.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&Lg(g))return!1;const x=Zb(g.code,i);s.current.add(g[x]),Ub(o,s.current,!1)&&(g.preventDefault(),r(!0))},f=g=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Lg(g))return!1;const x=Zb(g.code,i);Ub(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[x]),g.key==="Meta"&&s.current.clear(),a.current=!1},h=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Ub(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function Zb(e,t){return t.includes(e)?"code":"key"}function mk(e,t,n,r){var i,c;const a=e.parentNode||e.parentId;if(!a)return n;const s=t.get(a),o=To(s,r);return mk(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((i=s[et])==null?void 0:i.z)??0)>(n.z??0)?((c=s[et])==null?void 0:c.z)??0:n.z??0},r)}function gk(e,t,n){e.forEach(r=>{var s;const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||n!=null&&n[r.id]){const{x:o,y:i,z:c}=mk(r,e,{...r.position,z:((s=r[et])==null?void 0:s.z)??0},t);r.positionAbsolute={x:o,y:i},r[et].z=c,n!=null&&n[r.id]&&(r[et].isParent=!0)}})}function qh(e,t,n,r){const a=new Map,s={},o=r?1e3:0;return e.forEach(i=>{var g;const c=(kn(i.zIndex)?i.zIndex:0)+(i.selected?o:0),u=t.get(i.id),d={...i,positionAbsolute:{x:i.position.x,y:i.position.y}},f=i.parentNode||i.parentId;f&&(s[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==i.type;Object.defineProperty(d,et,{enumerable:!1,value:{handleBounds:h||(g=u==null?void 0:u[et])==null?void 0:g.handleBounds,z:c}}),a.set(i.id,d)}),gk(a,n,s),a}function pk(e,t={}){const{getNodes:n,width:r,height:a,minZoom:s,maxZoom:o,d3Zoom:i,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(i&&c&&(h||!t.initial)){const v=n().filter(b=>{var y;const p=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(y=t.nodes)!=null&&y.length?p&&t.nodes.some(w=>w.id===b.id):p}),x=v.every(b=>b.width&&b.height);if(v.length>0&&x){const b=vy(v,f),{x:p,y,zoom:w}=tk(b,r,a,t.minZoom??s,t.maxZoom??o,t.padding??.1),S=Fa.translate(p,y).scale(w);return typeof t.duration=="number"&&t.duration>0?i.transform(ss(c,t.duration),S):i.transform(c,S),!0}}return!1}function yF(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[et]:r[et],selected:n.selected})}),new Map(t)}function vF(e,t){return t.map(n=>{const r=e.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function Wc({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:a,edges:s,onNodesChange:o,onEdgesChange:i,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:yF(e,a)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:vF(t,s)}),i==null||i(t))}const Gs=()=>{},xF={zoomIn:Gs,zoomOut:Gs,zoomTo:Gs,getZoom:()=>1,setViewport:Gs,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Gs,fitBounds:Gs,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},bF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),wF=()=>{const e=wt(),{d3Zoom:t,d3Selection:n}=Ke(bF,Xt);return m.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(ss(n,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(ss(n,a==null?void 0:a.duration),1/1.2),zoomTo:(a,s)=>t.scaleTo(ss(n,s==null?void 0:s.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,s)=>{const[o,i,c]=e.getState().transform,u=Fa.translate(a.x??o,a.y??i).scale(a.zoom??c);t.transform(ss(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[a,s,o]=e.getState().transform;return{x:a,y:s,zoom:o}},fitView:a=>pk(e.getState,a),setCenter:(a,s,o)=>{const{width:i,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=i/2-a*d,h=c/2-s*d,g=Fa.translate(f,h).scale(d);t.transform(ss(n,o==null?void 0:o.duration),g)},fitBounds:(a,s)=>{const{width:o,height:i,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=tk(a,o,i,c,u,(s==null?void 0:s.padding)??.1),g=Fa.translate(d,f).scale(h);t.transform(ss(n,s==null?void 0:s.duration),g)},project:a=>{const{transform:s,snapToGrid:o,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ig(a,s,o,i)},screenToFlowPosition:a=>{const{transform:s,snapToGrid:o,snapGrid:i,domNode:c}=e.getState();if(!c)return a;const{x:u,y:d}=c.getBoundingClientRect(),f={x:a.x-u,y:a.y-d};return Ig(f,s,o,i)},flowToScreenPosition:a=>{const{transform:s,domNode:o}=e.getState();if(!o)return a;const{x:i,y:c}=o.getBoundingClientRect(),u=QC(a,s);return{x:u.x+i,y:u.y+c}},viewportInitialized:!0}:xF,[t,n])};function wy(){const e=wF(),t=wt(),n=m.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=m.useCallback(x=>t.getState().nodeInternals.get(x),[]),a=m.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(b=>({...b}))},[]),s=m.useCallback(x=>{const{edges:b=[]}=t.getState();return b.find(p=>p.id===x)},[]),o=m.useCallback(x=>{const{getNodes:b,setNodes:p,hasDefaultNodes:y,onNodesChange:w}=t.getState(),S=b(),N=typeof x=="function"?x(S):x;if(y)p(N);else if(w){const C=N.length===0?S.map(E=>({type:"remove",id:E.id})):N.map(E=>({item:E,type:"reset"}));w(C)}},[]),i=m.useCallback(x=>{const{edges:b=[],setEdges:p,hasDefaultEdges:y,onEdgesChange:w}=t.getState(),S=typeof x=="function"?x(b):x;if(y)p(S);else if(w){const N=S.length===0?b.map(C=>({type:"remove",id:C.id})):S.map(C=>({item:C,type:"reset"}));w(N)}},[]),c=m.useCallback(x=>{const b=Array.isArray(x)?x:[x],{getNodes:p,setNodes:y,hasDefaultNodes:w,onNodesChange:S}=t.getState();if(w){const C=[...p(),...b];y(C)}else if(S){const N=b.map(C=>({item:C,type:"add"}));S(N)}},[]),u=m.useCallback(x=>{const b=Array.isArray(x)?x:[x],{edges:p=[],setEdges:y,hasDefaultEdges:w,onEdgesChange:S}=t.getState();if(w)y([...p,...b]);else if(S){const N=b.map(C=>({item:C,type:"add"}));S(N)}},[]),d=m.useCallback(()=>{const{getNodes:x,edges:b=[],transform:p}=t.getState(),[y,w,S]=p;return{nodes:x().map(N=>({...N})),edges:b.map(N=>({...N})),viewport:{x:y,y:w,zoom:S}}},[]),f=m.useCallback(({nodes:x,edges:b})=>{const{nodeInternals:p,getNodes:y,edges:w,hasDefaultNodes:S,hasDefaultEdges:N,onNodesDelete:C,onEdgesDelete:E,onNodesChange:_,onEdgesChange:j}=t.getState(),A=(x||[]).map($=>$.id),D=(b||[]).map($=>$.id),I=y().reduce(($,T)=>{const P=T.parentNode||T.parentId,z=!A.includes(T.id)&&P&&$.find(L=>L.id===P);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(A.includes(T.id)||z)&&$.push(T),$},[]),R=w.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),k=R.filter($=>D.includes($.id));if(I||k){const $=ek(I,R),T=[...k,...$],P=T.reduce((z,M)=>(z.includes(M.id)||z.push(M.id),z),[]);if((N||S)&&(N&&t.setState({edges:w.filter(z=>!P.includes(z.id))}),S&&(I.forEach(z=>{p.delete(z.id)}),t.setState({nodeInternals:new Map(p)}))),P.length>0&&(E==null||E(T),j&&j(P.map(z=>({id:z,type:"remove"})))),I.length>0&&(C==null||C(I),_)){const z=I.map(M=>({id:M.id,type:"remove"}));_(z)}}},[]),h=m.useCallback(x=>{const b=FH(x),p=b?null:t.getState().nodeInternals.get(x.id);return!b&&!p?[null,null,b]:[b?x:Ob(p),p,b]},[]),g=m.useCallback((x,b=!0,p)=>{const[y,w,S]=h(x);return y?(p||t.getState().getNodes()).filter(N=>{if(!S&&(N.id===w.id||!N.positionAbsolute))return!1;const C=Ob(N),E=$g(C,y);return b&&E>0||E>=y.width*y.height}):[]},[]),v=m.useCallback((x,b,p=!0)=>{const[y]=h(x);if(!y)return!1;const w=$g(y,b);return p&&w>0||w>=y.width*y.height},[]);return m.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:s,setNodes:o,setEdges:i,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:v}),[e,n,r,a,s,o,i,c,u,d,f,g,v])}const SF={actInsideInputWithModifier:!1};var NF=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=wt(),{deleteElements:r}=wy(),a=Dl(e,SF),s=Dl(t);m.useEffect(()=>{if(a){const{edges:o,getNodes:i}=n.getState(),c=i().filter(d=>d.selected),u=o.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[a]),m.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function EF(e){const t=wt();m.useEffect(()=>{let n;const r=()=>{var s,o;if(!e.current)return;const a=dy(e.current);(a.height===0||a.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",ra.error004())),t.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Sy={position:"absolute",width:"100%",height:"100%",top:0,left:0},_F=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Qc=e=>({x:e.x,y:e.y,zoom:e.k}),qs=(e,t)=>e.target.closest(`.${t}`),Vb=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Yb=e=>{const t=e.ctrlKey&&Ad()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},AF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),CF=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:i=.5,panOnScrollMode:c=ls.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:g,minZoom:v,maxZoom:x,zoomActivationKeyCode:b,preventScrolling:p=!0,children:y,noWheelClassName:w,noPanClassName:S})=>{const N=m.useRef(),C=wt(),E=m.useRef(!1),_=m.useRef(!1),j=m.useRef(null),A=m.useRef({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:I,d3ZoomHandler:R,userSelectionActive:k}=Ke(AF,Xt),$=Dl(b),T=m.useRef(0),P=m.useRef(!1),z=m.useRef();return EF(j),m.useEffect(()=>{if(j.current){const M=j.current.getBoundingClientRect(),L=zH().scaleExtent([v,x]).translateExtent(g),B=Ln(j.current).call(L),F=Fa.translate(h.x,h.y).scale(Ko(h.zoom,v,x)),Y=[[0,0],[M.width,M.height]],V=L.constrain()(F,Y,g);L.transform(B,V),L.wheelDelta(Yb),C.setState({d3Zoom:L,d3Selection:B,d3ZoomHandler:B.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:j.current.closest(".react-flow")})}},[]),m.useEffect(()=>{I&&D&&(o&&!$&&!k?I.on("wheel.zoom",M=>{if(qs(M,w))return!1;M.preventDefault(),M.stopImmediatePropagation();const L=I.property("__zoom").k||1;if(M.ctrlKey&&s){const le=Jn(M),me=Yb(M),H=L*Math.pow(2,me);D.scaleTo(I,H,le,M);return}const B=M.deltaMode===1?20:1;let F=c===ls.Vertical?0:M.deltaX*B,Y=c===ls.Horizontal?0:M.deltaY*B;!Ad()&&M.shiftKey&&c!==ls.Vertical&&(F=M.deltaY*B,Y=0),D.translateBy(I,-(F/L)*i,-(Y/L)*i,{internal:!0});const V=Qc(I.property("__zoom")),{onViewportChangeStart:W,onViewportChange:oe,onViewportChangeEnd:Q}=C.getState();clearTimeout(z.current),P.current||(P.current=!0,t==null||t(M,V),W==null||W(V)),P.current&&(e==null||e(M,V),oe==null||oe(V),z.current=setTimeout(()=>{n==null||n(M,V),Q==null||Q(V),P.current=!1},150))},{passive:!1}):typeof R<"u"&&I.on("wheel.zoom",function(M,L){if(!p&&M.type==="wheel"&&!M.ctrlKey||qs(M,w))return null;M.preventDefault(),R.call(this,M,L)},{passive:!1}))},[k,o,c,I,D,R,$,s,p,w,t,e,n]),m.useEffect(()=>{D&&D.on("start",M=>{var F,Y;if(!M.sourceEvent||M.sourceEvent.internal)return null;T.current=(F=M.sourceEvent)==null?void 0:F.button;const{onViewportChangeStart:L}=C.getState(),B=Qc(M.transform);E.current=!0,A.current=B,((Y=M.sourceEvent)==null?void 0:Y.type)==="mousedown"&&C.setState({paneDragging:!0}),L==null||L(B),t==null||t(M.sourceEvent,B)})},[D,t]),m.useEffect(()=>{D&&(k&&!E.current?D.on("zoom",null):k||D.on("zoom",M=>{var B;const{onViewportChange:L}=C.getState();if(C.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),_.current=!!(r&&Vb(f,T.current??0)),(e||L)&&!((B=M.sourceEvent)!=null&&B.internal)){const F=Qc(M.transform);L==null||L(F),e==null||e(M.sourceEvent,F)}}))},[k,D,e,f,r]),m.useEffect(()=>{D&&D.on("end",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;const{onViewportChangeEnd:L}=C.getState();if(E.current=!1,C.setState({paneDragging:!1}),r&&Vb(f,T.current??0)&&!_.current&&r(M.sourceEvent),_.current=!1,(n||L)&&_F(A.current,M.transform)){const B=Qc(M.transform);A.current=B,clearTimeout(N.current),N.current=setTimeout(()=>{L==null||L(B),n==null||n(M.sourceEvent,B)},o?150:0)}})},[D,o,f,n,r]),m.useEffect(()=>{D&&D.filter(M=>{const L=$||a,B=s&&M.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&M.button===1&&M.type==="mousedown"&&(qs(M,"react-flow__node")||qs(M,"react-flow__edge")))return!0;if(!f&&!L&&!o&&!u&&!s||k||!u&&M.type==="dblclick"||qs(M,w)&&M.type==="wheel"||qs(M,S)&&(M.type!=="wheel"||o&&M.type==="wheel"&&!$)||!s&&M.ctrlKey&&M.type==="wheel"||!L&&!o&&!B&&M.type==="wheel"||!f&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(f)&&!f.includes(M.button)&&M.type==="mousedown")return!1;const F=Array.isArray(f)&&f.includes(M.button)||!M.button||M.button<=1;return(!M.ctrlKey||M.type==="wheel")&&F})},[k,D,a,s,o,u,f,d,$]),O.createElement("div",{className:"react-flow__renderer",ref:j,style:Sy},y)},kF=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function jF(){const{userSelectionActive:e,userSelectionRect:t}=Ke(kF,Xt);return e&&t?O.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Gb(e,t){const n=t.parentNode||t.parentId,r=e.find(a=>a.id===n);if(r){const a=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(a>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),s>0&&(r.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function yk(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,a)=>{const s=e.filter(i=>i.id===a.id);if(s.length===0)return r.push(a),r;const o={...a};for(const i of s)if(i)switch(i.type){case"select":{o.selected=i.selected;break}case"position":{typeof i.position<"u"&&(o.position=i.position),typeof i.positionAbsolute<"u"&&(o.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(o.dragging=i.dragging),o.expandParent&&Gb(r,o);break}case"dimensions":{typeof i.dimensions<"u"&&(o.width=i.dimensions.width,o.height=i.dimensions.height),typeof i.updateStyle<"u"&&(o.style={...o.style||{},...i.dimensions}),typeof i.resizing=="boolean"&&(o.resizing=i.resizing),o.expandParent&&Gb(r,o);break}case"remove":return r}return r.push(o),r},n)}function vk(e,t){return yk(e,t)}function TF(e,t){return yk(e,t)}const Na=(e,t)=>({id:e,type:"select",selected:t});function po(e,t){return e.reduce((n,r)=>{const a=t.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(Na(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(Na(r.id,!1))),n},[])}const Xh=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},RF=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),xk=m.memo(({isSelecting:e,selectionMode:t=Ml.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:i,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=m.useRef(null),g=wt(),v=m.useRef(0),x=m.useRef(0),b=m.useRef(),{userSelectionActive:p,elementsSelectable:y,dragging:w}=Ke(RF,Xt),S=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,x.current=0},N=R=>{s==null||s(R),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},C=R=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){R.preventDefault();return}o==null||o(R)},E=i?R=>i(R):void 0,_=R=>{const{resetSelectedElements:k,domNode:$}=g.getState();if(b.current=$==null?void 0:$.getBoundingClientRect(),!y||!e||R.button!==0||R.target!==h.current||!b.current)return;const{x:T,y:P}=Ua(R,b.current);k(),g.setState({userSelectionRect:{width:0,height:0,startX:T,startY:P,x:T,y:P}}),r==null||r(R)},j=R=>{const{userSelectionRect:k,nodeInternals:$,edges:T,transform:P,onNodesChange:z,onEdgesChange:M,nodeOrigin:L,getNodes:B}=g.getState();if(!e||!b.current||!k)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const F=Ua(R,b.current),Y=k.startX??0,V=k.startY??0,W={...k,x:F.x<Y?F.x:Y,y:F.y<V?F.y:V,width:Math.abs(F.x-Y),height:Math.abs(F.y-V)},oe=B(),Q=JC($,W,P,t===Ml.Partial,!0,L),le=ek(Q,T).map(H=>H.id),me=Q.map(H=>H.id);if(v.current!==me.length){v.current=me.length;const H=po(oe,me);H.length&&(z==null||z(H))}if(x.current!==le.length){x.current=le.length;const H=po(T,le);H.length&&(M==null||M(H))}g.setState({userSelectionRect:W})},A=R=>{if(R.button!==0)return;const{userSelectionRect:k}=g.getState();!p&&k&&R.target===h.current&&(N==null||N(R)),g.setState({nodesSelectionActive:v.current>0}),S(),a==null||a(R)},D=R=>{p&&(g.setState({nodesSelectionActive:v.current>0}),a==null||a(R)),S()},I=y&&(e||p);return O.createElement("div",{className:It(["react-flow__pane",{dragging:w,selection:e}]),onClick:I?void 0:Xh(N,h),onContextMenu:Xh(C,h),onWheel:Xh(E,h),onMouseEnter:I?void 0:c,onMouseDown:I?_:void 0,onMouseMove:I?j:u,onMouseUp:I?A:void 0,onMouseLeave:I?D:d,ref:h,style:Sy},f,O.createElement(jF,null))});xk.displayName="Pane";function bk(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:bk(r,t):!1}function qb(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function MF(e,t,n,r){return Array.from(e.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!bk(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var s,o;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=a.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=a.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function DF(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function wk(e,t,n,r,a=[0,0],s){const o=DF(e,e.extent||r);let i=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:h,y:g}=To(f,a).positionAbsolute;i=f&&kn(h)&&kn(g)&&kn(f.width)&&kn(f.height)?[[h+e.width*a[0],g+e.height*a[1]],[h+f.width-e.width+e.width*a[0],g+f.height-e.height+e.height*a[1]]]:i}else s==null||s("005",ra.error005()),i=o;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:h,y:g}=To(f,a).positionAbsolute;i=[[e.extent[0][0]+h,e.extent[0][1]+g],[e.extent[1][0]+h,e.extent[1][1]+g]]}let u={x:0,y:0};if(c){const f=n.get(c);u=To(f,a).positionAbsolute}const d=i&&i!=="parent"?fy(t,i):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Kh({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?r.find(a=>a.id===e):r[0],r]}const Xb=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const s=Array.from(a),o=t.getBoundingClientRect(),i={x:o.width*r[0],y:o.height*r[1]};return s.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-i.x)/n,y:(u.top-o.top-i.y)/n,...dy(c)}})};function Ai(e,t,n){return n===void 0?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,{...a})}}function Fg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:i,onError:c}=t.getState(),u=i.get(e);if(!u){c==null||c("012",ra.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):a([e])}function zF(){const e=wt();return m.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-r[0])/r[2],y:(i-r[1])/r[2]};return{xSnapped:s?a[0]*Math.round(c.x/a[0]):c.x,ySnapped:s?a[1]*Math.round(c.y/a[1]):c.y,...c}},[])}function Wh(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Sk({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:s,selectNodesOnDrag:o}){const i=wt(),[c,u]=m.useState(!1),d=m.useRef([]),f=m.useRef({x:null,y:null}),h=m.useRef(0),g=m.useRef(null),v=m.useRef({x:0,y:0}),x=m.useRef(null),b=m.useRef(!1),p=m.useRef(!1),y=m.useRef(!1),w=zF();return m.useEffect(()=>{if(e!=null&&e.current){const S=Ln(e.current),N=({x:_,y:j})=>{const{nodeInternals:A,onNodeDrag:D,onSelectionDrag:I,updateNodePositions:R,nodeExtent:k,snapGrid:$,snapToGrid:T,nodeOrigin:P,onError:z}=i.getState();f.current={x:_,y:j};let M=!1,L={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&k){const F=vy(d.current,P);L=hy(F)}if(d.current=d.current.map(F=>{const Y={x:_-F.distance.x,y:j-F.distance.y};T&&(Y.x=$[0]*Math.round(Y.x/$[0]),Y.y=$[1]*Math.round(Y.y/$[1]));const V=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];d.current.length>1&&k&&!F.extent&&(V[0][0]=F.positionAbsolute.x-L.x+k[0][0],V[1][0]=F.positionAbsolute.x+(F.width??0)-L.x2+k[1][0],V[0][1]=F.positionAbsolute.y-L.y+k[0][1],V[1][1]=F.positionAbsolute.y+(F.height??0)-L.y2+k[1][1]);const W=wk(F,Y,A,V,P,z);return M=M||F.position.x!==W.position.x||F.position.y!==W.position.y,F.position=W.position,F.positionAbsolute=W.positionAbsolute,F}),!M)return;R(d.current,!0,!0),u(!0);const B=a?D:Wh(I);if(B&&x.current){const[F,Y]=Kh({nodeId:a,dragItems:d.current,nodeInternals:A});B(x.current,F,Y)}},C=()=>{if(!g.current)return;const[_,j]=UC(v.current,g.current);if(_!==0||j!==0){const{transform:A,panBy:D}=i.getState();f.current.x=(f.current.x??0)-_/A[2],f.current.y=(f.current.y??0)-j/A[2],D({x:_,y:j})&&N(f.current)}h.current=requestAnimationFrame(C)},E=_=>{var P;const{nodeInternals:j,multiSelectionActive:A,nodesDraggable:D,unselectNodesAndEdges:I,onNodeDragStart:R,onSelectionDragStart:k}=i.getState();p.current=!0;const $=a?R:Wh(k);(!o||!s)&&!A&&a&&((P=j.get(a))!=null&&P.selected||I()),a&&s&&o&&Fg({id:a,store:i,nodeRef:e});const T=w(_);if(f.current=T,d.current=MF(j,D,T,a),$&&d.current){const[z,M]=Kh({nodeId:a,dragItems:d.current,nodeInternals:j});$(_.sourceEvent,z,M)}};if(t)S.on(".drag",null);else{const _=Z7().on("start",j=>{const{domNode:A,nodeDragThreshold:D}=i.getState();D===0&&E(j),y.current=!1;const I=w(j);f.current=I,g.current=(A==null?void 0:A.getBoundingClientRect())||null,v.current=Ua(j.sourceEvent,g.current)}).on("drag",j=>{var R,k;const A=w(j),{autoPanOnNodeDrag:D,nodeDragThreshold:I}=i.getState();if(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!b.current&&p.current&&D&&(b.current=!0,C()),!p.current){const $=A.xSnapped-(((R=f==null?void 0:f.current)==null?void 0:R.x)??0),T=A.ySnapped-(((k=f==null?void 0:f.current)==null?void 0:k.y)??0);Math.sqrt($*$+T*T)>I&&E(j)}(f.current.x!==A.xSnapped||f.current.y!==A.ySnapped)&&d.current&&p.current&&(x.current=j.sourceEvent,v.current=Ua(j.sourceEvent,g.current),N(A))}}).on("end",j=>{if(!(!p.current||y.current)&&(u(!1),b.current=!1,p.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:A,nodeInternals:D,onNodeDragStop:I,onSelectionDragStop:R}=i.getState(),k=a?I:Wh(R);if(A(d.current,!1,!1),k){const[$,T]=Kh({nodeId:a,dragItems:d.current,nodeInternals:D});k(j.sourceEvent,$,T)}}}).filter(j=>{const A=j.target;return!j.button&&(!n||!qb(A,`.${n}`,e))&&(!r||qb(A,r,e))});return S.call(_),()=>{S.on(".drag",null)}}}},[e,t,n,r,s,i,a,o,w]),c}function Nk(){const e=wt();return m.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:s,getNodes:o,snapToGrid:i,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=o().filter(y=>y.selected&&(y.draggable||d&&typeof y.draggable>"u")),h=i?c[0]:5,g=i?c[1]:5,v=n.isShiftPressed?4:1,x=n.x*h*v,b=n.y*g*v,p=f.map(y=>{if(y.positionAbsolute){const w={x:y.positionAbsolute.x+x,y:y.positionAbsolute.y+b};i&&(w.x=c[0]*Math.round(w.x/c[0]),w.y=c[1]*Math.round(w.y/c[1]));const{positionAbsolute:S,position:N}=wk(y,w,r,a,void 0,u);y.position=N,y.positionAbsolute=S}return y});s(p,!0,!1)},[])}const Ro={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ci=e=>{const t=({id:n,type:r,data:a,xPos:s,yPos:o,xPosOrigin:i,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:g,onContextMenu:v,onDoubleClick:x,style:b,className:p,isDraggable:y,isSelectable:w,isConnectable:S,isFocusable:N,selectNodesOnDrag:C,sourcePosition:E,targetPosition:_,hidden:j,resizeObserver:A,dragHandle:D,zIndex:I,isParent:R,noDragClassName:k,noPanClassName:$,initialized:T,disableKeyboardA11y:P,ariaLabel:z,rfId:M,hasHandleBounds:L})=>{const B=wt(),F=m.useRef(null),Y=m.useRef(null),V=m.useRef(E),W=m.useRef(_),oe=m.useRef(r),Q=w||y||d||f||h||g,le=Nk(),me=Ai(n,B.getState,f),H=Ai(n,B.getState,h),q=Ai(n,B.getState,g),K=Ai(n,B.getState,v),re=Ai(n,B.getState,x),X=ye=>{const{nodeDragThreshold:ee}=B.getState();if(w&&(!C||!y||ee>0)&&Fg({id:n,store:B,nodeRef:F}),d){const Ye=B.getState().nodeInternals.get(n);Ye&&d(ye,{...Ye})}},ge=ye=>{if(!Lg(ye)&&!P)if(VC.includes(ye.key)&&w){const ee=ye.key==="Escape";Fg({id:n,store:B,unselect:ee,nodeRef:F})}else y&&u&&Object.prototype.hasOwnProperty.call(Ro,ye.key)&&(B.setState({ariaLiveMessage:`Moved selected node ${ye.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),le({x:Ro[ye.key].x,y:Ro[ye.key].y,isShiftPressed:ye.shiftKey}))};m.useEffect(()=>()=>{Y.current&&(A==null||A.unobserve(Y.current),Y.current=null)},[]),m.useEffect(()=>{if(F.current&&!j){const ye=F.current;(!T||!L||Y.current!==ye)&&(Y.current&&(A==null||A.unobserve(Y.current)),A==null||A.observe(ye),Y.current=ye)}},[j,T,L]),m.useEffect(()=>{const ye=oe.current!==r,ee=V.current!==E,Ye=W.current!==_;F.current&&(ye||ee||Ye)&&(ye&&(oe.current=r),ee&&(V.current=E),Ye&&(W.current=_),B.getState().updateNodeDimensions([{id:n,nodeElement:F.current,forceUpdate:!0}]))},[n,r,E,_]);const Ce=Sk({nodeRef:F,disabled:j||!y,noDragClassName:k,handleSelector:D,nodeId:n,isSelectable:w,selectNodesOnDrag:C});return j?null:O.createElement("div",{className:It(["react-flow__node",`react-flow__node-${r}`,{[$]:y},p,{selected:u,selectable:w,parent:R,dragging:Ce}]),ref:F,style:{zIndex:I,transform:`translate(${i}px,${c}px)`,pointerEvents:Q?"all":"none",visibility:T?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:me,onMouseMove:H,onMouseLeave:q,onContextMenu:K,onClick:X,onDoubleClick:re,onKeyDown:N?ge:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":P?void 0:`${fk}-${M}`,"aria-label":z},O.createElement(XH,{value:n},O.createElement(e,{id:n,data:a,type:r,xPos:s,yPos:o,selected:u,isConnectable:S,sourcePosition:E,targetPosition:_,dragging:Ce,dragHandle:D,zIndex:I})))};return t.displayName="NodeWrapper",m.memo(t)};const OF=e=>{const t=e.getNodes().filter(n=>n.selected);return{...vy(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function $F({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=wt(),{width:a,height:s,x:o,y:i,transformString:c,userSelectionActive:u}=Ke(OF,Xt),d=Nk(),f=m.useRef(null);if(m.useEffect(()=>{var v;n||(v=f.current)==null||v.focus({preventScroll:!0})},[n]),Sk({nodeRef:f}),u||!a||!s)return null;const h=e?v=>{const x=r.getState().getNodes().filter(b=>b.selected);e(v,x)}:void 0,g=v=>{Object.prototype.hasOwnProperty.call(Ro,v.key)&&d({x:Ro[v.key].x,y:Ro[v.key].y,isShiftPressed:v.shiftKey})};return O.createElement("div",{className:It(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},O.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:a,height:s,top:i,left:o}}))}var LF=m.memo($F);const PF=e=>e.nodesSelectionActive,Ek=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:i,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:g,onSelectionStart:v,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:p,zoomActivationKeyCode:y,elementsSelectable:w,zoomOnScroll:S,zoomOnPinch:N,panOnScroll:C,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:j,panOnDrag:A,defaultViewport:D,translateExtent:I,minZoom:R,maxZoom:k,preventScrolling:$,onSelectionContextMenu:T,noWheelClassName:P,noPanClassName:z,disableKeyboardA11y:M})=>{const L=Ke(PF),B=Dl(f),F=Dl(p),Y=F||A,V=F||C,W=B||h&&Y!==!0;return NF({deleteKeyCode:i,multiSelectionKeyCode:b}),O.createElement(CF,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:w,zoomOnScroll:S,zoomOnPinch:N,panOnScroll:V,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:j,panOnDrag:!B&&Y,defaultViewport:D,translateExtent:I,minZoom:R,maxZoom:k,zoomActivationKeyCode:y,preventScrolling:$,noWheelClassName:P,noPanClassName:z},O.createElement(xk,{onSelectionStart:v,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:Y,isSelecting:!!W,selectionMode:g},e,L&&O.createElement(LF,{onSelectionContextMenu:T,noPanClassName:z,disableKeyboardA11y:M})))};Ek.displayName="FlowRenderer";var BF=m.memo(Ek);function IF(e){return Ke(m.useCallback(n=>e?JC(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function HF(e){const t={input:Ci(e.input||lk),default:Ci(e.default||Hg),output:Ci(e.output||uk),group:Ci(e.group||by)},n={},r=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,s)=>(a[s]=Ci(e[s]||Hg),a),n);return{...t,...r}}const FF=({x:e,y:t,width:n,height:r,origin:a})=>!n||!r?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-r*a[1]},UF=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),_k=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:s,onError:o}=Ke(UF,Xt),i=IF(e.onlyRenderVisibleElements),c=m.useRef(),u=m.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));s(h)});return c.current=d,d},[]);return m.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),O.createElement("div",{className:"react-flow__nodes",style:Sy},i.map(d=>{var N,C,E;let f=d.type||"default";e.nodeTypes[f]||(o==null||o("003",ra.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,g=!!(d.draggable||t&&typeof d.draggable>"u"),v=!!(d.selectable||a&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),p=e.nodeExtent?fy(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,y=(p==null?void 0:p.x)??0,w=(p==null?void 0:p.y)??0,S=FF({x:y,y:w,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return O.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||se.Bottom,targetPosition:d.targetPosition||se.Top,hidden:d.hidden,xPos:y,yPos:w,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:g,isSelectable:v,isConnectable:x,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((N=d[et])==null?void 0:N.z)??0,isParent:!!((C=d[et])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((E=d[et])!=null&&E.handleBounds)})}))};_k.displayName="NodeRenderer";var ZF=m.memo(_k);const VF=(e,t,n)=>n===se.Left?e-t:n===se.Right?e+t:e,YF=(e,t,n)=>n===se.Top?e-t:n===se.Bottom?e+t:e,Kb="react-flow__edgeupdater",Wb=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:s,onMouseOut:o,type:i})=>O.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:o,className:It([Kb,`${Kb}-${i}`]),cx:VF(t,r,e),cy:YF(n,r,e),r,stroke:"transparent",fill:"transparent"}),GF=()=>!0;var Xs=e=>{const t=({id:n,className:r,type:a,data:s,onClick:o,onEdgeDoubleClick:i,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:x,style:b,source:p,target:y,sourceX:w,sourceY:S,targetX:N,targetY:C,sourcePosition:E,targetPosition:_,elementsSelectable:j,hidden:A,sourceHandleId:D,targetHandleId:I,onContextMenu:R,onMouseEnter:k,onMouseMove:$,onMouseLeave:T,reconnectRadius:P,onReconnect:z,onReconnectStart:M,onReconnectEnd:L,markerEnd:B,markerStart:F,rfId:Y,ariaLabel:V,isFocusable:W,isReconnectable:oe,pathOptions:Q,interactionWidth:le,disableKeyboardA11y:me})=>{const H=m.useRef(null),[q,K]=m.useState(!1),[re,X]=m.useState(!1),ge=wt(),Ce=m.useMemo(()=>`url('#${Bg(F,Y)}')`,[F,Y]),ye=m.useMemo(()=>`url('#${Bg(B,Y)}')`,[B,Y]);if(A)return null;const ee=gt=>{var xn;const{edges:St,addSelectedEdges:qn,unselectNodesAndEdges:Nr,multiSelectionActive:Er}=ge.getState(),On=St.find(Qa=>Qa.id===n);On&&(j&&(ge.setState({nodesSelectionActive:!1}),On.selected&&Er?(Nr({nodes:[],edges:[On]}),(xn=H.current)==null||xn.blur()):qn([n])),o&&o(gt,On))},Ye=_i(n,ge.getState,i),Ht=_i(n,ge.getState,R),ua=_i(n,ge.getState,k),da=_i(n,ge.getState,$),vn=_i(n,ge.getState,T),Dn=(gt,St)=>{if(gt.button!==0)return;const{edges:qn,isValidConnection:Nr}=ge.getState(),Er=St?y:p,On=(St?I:D)||null,xn=St?"target":"source",Qa=Nr||GF,ce=St,Ee=qn.find(Me=>Me.id===n);X(!0),M==null||M(gt,Ee,xn);const Te=Me=>{X(!1),L==null||L(Me,Ee,xn)};ak({event:gt,handleId:On,nodeId:Er,onConnect:Me=>z==null?void 0:z(Ee,Me),isTarget:ce,getState:ge.getState,setState:ge.setState,isValidConnection:Qa,edgeUpdaterType:xn,onReconnectEnd:Te})},br=gt=>Dn(gt,!0),wr=gt=>Dn(gt,!1),Sr=()=>K(!0),zn=()=>K(!1),fa=!j&&!o,ha=gt=>{var St;if(!me&&VC.includes(gt.key)&&j){const{unselectNodesAndEdges:qn,addSelectedEdges:Nr,edges:Er}=ge.getState();gt.key==="Escape"?((St=H.current)==null||St.blur(),qn({edges:[Er.find(xn=>xn.id===n)]})):Nr([n])}};return O.createElement("g",{className:It(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:c,animated:u,inactive:fa,updating:q}]),onClick:ee,onDoubleClick:Ye,onContextMenu:Ht,onMouseEnter:ua,onMouseMove:da,onMouseLeave:vn,onKeyDown:W?ha:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${p} to ${y}`,"aria-describedby":W?`${hk}-${Y}`:void 0,ref:H},!re&&O.createElement(e,{id:n,source:p,target:y,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:x,data:s,style:b,sourceX:w,sourceY:S,targetX:N,targetY:C,sourcePosition:E,targetPosition:_,sourceHandleId:D,targetHandleId:I,markerStart:Ce,markerEnd:ye,pathOptions:Q,interactionWidth:le}),oe&&O.createElement(O.Fragment,null,(oe==="source"||oe===!0)&&O.createElement(Wb,{position:E,centerX:w,centerY:S,radius:P,onMouseDown:br,onMouseEnter:Sr,onMouseOut:zn,type:"source"}),(oe==="target"||oe===!0)&&O.createElement(Wb,{position:_,centerX:N,centerY:C,radius:P,onMouseDown:wr,onMouseEnter:Sr,onMouseOut:zn,type:"target"})))};return t.displayName="EdgeWrapper",m.memo(t)};function qF(e){const t={default:Xs(e.default||kd),straight:Xs(e.bezier||py),step:Xs(e.step||gy),smoothstep:Xs(e.step||Of),simplebezier:Xs(e.simplebezier||my)},n={},r=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,s)=>(a[s]=Xs(e[s]||kd),a),n);return{...t,...r}}function Qb(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,a=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case se.Top:return{x:r+s/2,y:a};case se.Right:return{x:r+s,y:a+o/2};case se.Bottom:return{x:r+s/2,y:a+o};case se.Left:return{x:r,y:a+o/2}}}function Jb(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const XF=(e,t,n,r,a,s)=>{const o=Qb(n,e,t),i=Qb(s,r,a);return{sourceX:o.x,sourceY:o.y,targetX:i.x,targetY:i.y}};function KF({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:s,width:o,height:i,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=hy({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:i/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function ew(e){var r,a,s,o,i;const t=((r=e==null?void 0:e[et])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const WF=[{level:0,isMaxLevel:!0,edges:[]}];function QF(e,t,n=!1){let r=-1;const a=e.reduce((o,i)=>{var d,f;const c=kn(i.zIndex);let u=c?i.zIndex:0;if(n){const h=t.get(i.target),g=t.get(i.source),v=i.selected||(h==null?void 0:h.selected)||(g==null?void 0:g.selected),x=Math.max(((d=g==null?void 0:g[et])==null?void 0:d.z)||0,((f=h==null?void 0:h[et])==null?void 0:f.z)||0,1e3);u=(c?i.zIndex:0)+(v?x:0)}return o[u]?o[u].push(i):o[u]=[i],r=u>r?u:r,o},{}),s=Object.entries(a).map(([o,i])=>{const c=+o;return{edges:i,level:c,isMaxLevel:c===r}});return s.length===0?WF:s}function JF(e,t,n){const r=Ke(m.useCallback(a=>e?a.edges.filter(s=>{const o=t.get(s.source),i=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&KF({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:i.width,targetHeight:i.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return QF(r,t,n)}const eU=({color:e="none",strokeWidth:t=1})=>O.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),tU=({color:e="none",strokeWidth:t=1})=>O.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),tw={[Cd.Arrow]:eU,[Cd.ArrowClosed]:tU};function nU(e){const t=wt();return m.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(tw,e)?tw[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",ra.error009(e)),null)},[e])}const rU=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:i="auto-start-reverse"})=>{const c=nU(t);return c?O.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:i,refX:"0",refY:"0"},O.createElement(c,{color:n,strokeWidth:o})):null},aU=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((a,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const i=Bg(o,t);r.includes(i)||(a.push({id:i,color:o.color||e,...o}),r.push(i))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))},Ak=({defaultColor:e,rfId:t})=>{const n=Ke(m.useCallback(aU({defaultColor:e,rfId:t}),[e,t]),(r,a)=>!(r.length!==a.length||r.some((s,o)=>s.id!==a[o].id)));return O.createElement("defs",null,n.map(r=>O.createElement(rU,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Ak.displayName="MarkerDefinitions";var sU=m.memo(Ak);const oU=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ck=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:i,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:x,children:b,disableKeyboardA11y:p})=>{const{edgesFocusable:y,edgesUpdatable:w,elementsSelectable:S,width:N,height:C,connectionMode:E,nodeInternals:_,onError:j}=Ke(oU,Xt),A=JF(t,_,n);return N?O.createElement(O.Fragment,null,A.map(({level:D,edges:I,isMaxLevel:R})=>O.createElement("svg",{key:D,style:{zIndex:D},width:N,height:C,className:"react-flow__edges react-flow__container"},R&&O.createElement(sU,{defaultColor:e,rfId:r}),O.createElement("g",null,I.map(k=>{const[$,T,P]=ew(_.get(k.source)),[z,M,L]=ew(_.get(k.target));if(!P||!L)return null;let B=k.type||"default";a[B]||(j==null||j("011",ra.error011(B)),B="default");const F=a[B]||a.default,Y=E===_s.Strict?M.target:(M.target??[]).concat(M.source??[]),V=Jb(T.source,k.sourceHandle),W=Jb(Y,k.targetHandle),oe=(V==null?void 0:V.position)||se.Bottom,Q=(W==null?void 0:W.position)||se.Top,le=!!(k.focusable||y&&typeof k.focusable>"u"),me=k.reconnectable||k.updatable,H=typeof h<"u"&&(me||w&&typeof me>"u");if(!V||!W)return j==null||j("008",ra.error008(V,k)),null;const{sourceX:q,sourceY:K,targetX:re,targetY:X}=XF($,V,oe,z,W,Q);return O.createElement(F,{key:k.id,id:k.id,className:It([k.className,s]),type:B,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:q,sourceY:K,targetX:re,targetY:X,sourcePosition:oe,targetPosition:Q,elementsSelectable:S,onContextMenu:o,onMouseEnter:i,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:x,rfId:r,ariaLabel:k.ariaLabel,isFocusable:le,isReconnectable:H,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:p})})))),b):null};Ck.displayName="EdgeRenderer";var iU=m.memo(Ck);const lU=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function cU({children:e}){const t=Ke(lU);return O.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function uU(e){const t=wy(),n=m.useRef(!1);m.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const dU={[se.Left]:se.Right,[se.Right]:se.Left,[se.Top]:se.Bottom,[se.Bottom]:se.Top},kk=({nodeId:e,handleType:t,style:n,type:r=ka.Bezier,CustomComponent:a,connectionStatus:s})=>{var C,E,_;const{fromNode:o,handleId:i,toX:c,toY:u,connectionMode:d}=Ke(m.useCallback(j=>({fromNode:j.nodeInternals.get(e),handleId:j.connectionHandleId,toX:(j.connectionPosition.x-j.transform[0])/j.transform[2],toY:(j.connectionPosition.y-j.transform[1])/j.transform[2],connectionMode:j.connectionMode}),[e]),Xt),f=(C=o==null?void 0:o[et])==null?void 0:C.handleBounds;let h=f==null?void 0:f[t];if(d===_s.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!h)return null;const g=i?h.find(j=>j.id===i):h[0],v=g?g.x+g.width/2:(o.width??0)/2,x=g?g.y+g.height/2:o.height??0,b=(((E=o.positionAbsolute)==null?void 0:E.x)??0)+v,p=(((_=o.positionAbsolute)==null?void 0:_.y)??0)+x,y=g==null?void 0:g.position,w=y?dU[y]:null;if(!y||!w)return null;if(a)return O.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:g,fromX:b,fromY:p,toX:c,toY:u,fromPosition:y,toPosition:w,connectionStatus:s});let S="";const N={sourceX:b,sourceY:p,sourcePosition:y,targetX:c,targetY:u,targetPosition:w};return r===ka.Bezier?[S]=KC(N):r===ka.Step?[S]=Pg({...N,borderRadius:0}):r===ka.SmoothStep?[S]=Pg(N):r===ka.SimpleBezier?[S]=XC(N):S=`M${b},${p} ${c},${u}`,O.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:n})};kk.displayName="ConnectionLine";const fU=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function hU({containerStyle:e,style:t,type:n,component:r}){const{nodeId:a,handleType:s,nodesConnectable:o,width:i,height:c,connectionStatus:u}=Ke(fU,Xt);return!(a&&s&&i&&o)?null:O.createElement("svg",{style:e,width:i,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},O.createElement("g",{className:It(["react-flow__connection",u])},O.createElement(kk,{nodeId:a,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function nw(e,t){return m.useRef(null),wt(),m.useMemo(()=>t(e),[e])}const jk=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:s,onNodeClick:o,onEdgeClick:i,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:g,onSelectionContextMenu:v,onSelectionStart:x,onSelectionEnd:b,connectionLineType:p,connectionLineStyle:y,connectionLineComponent:w,connectionLineContainerStyle:S,selectionKeyCode:N,selectionOnDrag:C,selectionMode:E,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:A,deleteKeyCode:D,onlyRenderVisibleElements:I,elementsSelectable:R,selectNodesOnDrag:k,defaultViewport:$,translateExtent:T,minZoom:P,maxZoom:z,preventScrolling:M,defaultMarkerColor:L,zoomOnScroll:B,zoomOnPinch:F,panOnScroll:Y,panOnScrollSpeed:V,panOnScrollMode:W,zoomOnDoubleClick:oe,panOnDrag:Q,onPaneClick:le,onPaneMouseEnter:me,onPaneMouseMove:H,onPaneMouseLeave:q,onPaneScroll:K,onPaneContextMenu:re,onEdgeContextMenu:X,onEdgeMouseEnter:ge,onEdgeMouseMove:Ce,onEdgeMouseLeave:ye,onReconnect:ee,onReconnectStart:Ye,onReconnectEnd:Ht,reconnectRadius:ua,noDragClassName:da,noWheelClassName:vn,noPanClassName:Dn,elevateEdgesOnSelect:br,disableKeyboardA11y:wr,nodeOrigin:Sr,nodeExtent:zn,rfId:fa})=>{const ha=nw(e,HF),gt=nw(t,qF);return uU(s),O.createElement(BF,{onPaneClick:le,onPaneMouseEnter:me,onPaneMouseMove:H,onPaneMouseLeave:q,onPaneContextMenu:re,onPaneScroll:K,deleteKeyCode:D,selectionKeyCode:N,selectionOnDrag:C,selectionMode:E,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:A,elementsSelectable:R,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:B,zoomOnPinch:F,zoomOnDoubleClick:oe,panOnScroll:Y,panOnScrollSpeed:V,panOnScrollMode:W,panOnDrag:Q,defaultViewport:$,translateExtent:T,minZoom:P,maxZoom:z,onSelectionContextMenu:v,preventScrolling:M,noDragClassName:da,noWheelClassName:vn,noPanClassName:Dn,disableKeyboardA11y:wr},O.createElement(cU,null,O.createElement(iU,{edgeTypes:gt,onEdgeClick:i,onEdgeDoubleClick:u,onlyRenderVisibleElements:I,onEdgeContextMenu:X,onEdgeMouseEnter:ge,onEdgeMouseMove:Ce,onEdgeMouseLeave:ye,onReconnect:ee,onReconnectStart:Ye,onReconnectEnd:Ht,reconnectRadius:ua,defaultMarkerColor:L,noPanClassName:Dn,elevateEdgesOnSelect:!!br,disableKeyboardA11y:wr,rfId:fa},O.createElement(hU,{style:y,type:p,component:w,containerStyle:S})),O.createElement("div",{className:"react-flow__edgelabel-renderer"}),O.createElement(ZF,{nodeTypes:ha,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:g,selectNodesOnDrag:k,onlyRenderVisibleElements:I,noPanClassName:Dn,noDragClassName:da,disableKeyboardA11y:wr,nodeOrigin:Sr,nodeExtent:zn,rfId:fa})))};jk.displayName="GraphView";var mU=m.memo(jk);const Ug=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ya={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ug,nodeExtent:Ug,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:_s.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:UH,isValidConnection:void 0},gU=()=>n9((e,t)=>({...ya,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:s}=t();e({nodeInternals:qh(n,r,a,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",s=typeof r<"u",o=a?qh(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?r:[],hasDefaultNodes:a,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:i,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),g=n.reduce((x,b)=>{const p=a.get(b.id);if(p!=null&&p.hidden)a.set(p.id,{...p,[et]:{...p[et],handleBounds:void 0}});else if(p){const y=dy(b.nodeElement);!!(y.width&&y.height&&(p.width!==y.width||p.height!==y.height||b.forceUpdate))&&(a.set(p.id,{...p,[et]:{...p[et],handleBounds:{source:Xb(".source",b.nodeElement,h,u),target:Xb(".target",b.nodeElement,h,u)}},...y}),x.push({id:p.id,type:"dimensions",dimensions:y}))}return x},[]);gk(a,u);const v=o||s&&!o&&pk(t,{initial:!0,...i});e({nodeInternals:new Map(a),fitViewOnInitDone:v}),(g==null?void 0:g.length)>0&&(r==null||r(g))},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(i=>{const c={id:i.id,type:"position",dragging:a};return r&&(c.positionAbsolute=i.positionAbsolute,c.position=i.position),c});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:s,nodeOrigin:o,getNodes:i,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(s){const u=vk(n,i()),d=qh(u,a,o,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:s}=t();let o,i=null;r?o=n.map(c=>Na(c,!0)):(o=po(s(),n),i=po(a,[])),Wc({changedNodes:o,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:s}=t();let o,i=null;r?o=n.map(c=>Na(c,!0)):(o=po(a,n),i=po(s(),[])),Wc({changedNodes:i,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:s}=t(),o=n||s(),i=r||a,c=o.map(d=>(d.selected=!1,Na(d.id,!1))),u=i.map(d=>Na(d.id,!1));Wc({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();r==null||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();r==null||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(i=>i.selected).map(i=>Na(i.id,!1)),o=n.filter(i=>i.selected).map(i=>Na(i.id,!1));Wc({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(a=>{a.positionAbsolute=fy(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:s,d3Zoom:o,d3Selection:i,translateExtent:c}=t();if(!o||!i||!n.x&&!n.y)return!1;const u=Fa.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[a,s]],f=o==null?void 0:o.constrain()(u,d,c);return o.transform(i,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:ya.connectionNodeId,connectionHandleId:ya.connectionHandleId,connectionHandleType:ya.connectionHandleType,connectionStatus:ya.connectionStatus,connectionStartHandle:ya.connectionStartHandle,connectionEndHandle:ya.connectionEndHandle}),reset:()=>e({...ya})}),Object.is),Tk=({children:e})=>{const t=m.useRef(null);return t.current||(t.current=gU()),O.createElement(OH,{value:t.current},e)};Tk.displayName="ReactFlowProvider";const Rk=({children:e})=>m.useContext(zf)?O.createElement(O.Fragment,null,e):O.createElement(Tk,null,e);Rk.displayName="ReactFlowWrapper";const pU={input:lk,default:Hg,output:uk,group:by},yU={default:kd,straight:py,step:gy,smoothstep:Of,simplebezier:my},vU=[0,0],xU=[15,15],bU={x:0,y:0,zoom:1},wU={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Mk=m.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:s=pU,edgeTypes:o=yU,onNodeClick:i,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:p,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:S,onNodeContextMenu:N,onNodeDoubleClick:C,onNodeDragStart:E,onNodeDrag:_,onNodeDragStop:j,onNodesDelete:A,onEdgesDelete:D,onSelectionChange:I,onSelectionDragStart:R,onSelectionDrag:k,onSelectionDragStop:$,onSelectionContextMenu:T,onSelectionStart:P,onSelectionEnd:z,connectionMode:M=_s.Strict,connectionLineType:L=ka.Bezier,connectionLineStyle:B,connectionLineComponent:F,connectionLineContainerStyle:Y,deleteKeyCode:V="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:oe=!1,selectionMode:Q=Ml.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:me=Ad()?"Meta":"Control",zoomActivationKeyCode:H=Ad()?"Meta":"Control",snapToGrid:q=!1,snapGrid:K=xU,onlyRenderVisibleElements:re=!1,selectNodesOnDrag:X=!0,nodesDraggable:ge,nodesConnectable:Ce,nodesFocusable:ye,nodeOrigin:ee=vU,edgesFocusable:Ye,edgesUpdatable:Ht,elementsSelectable:ua,defaultViewport:da=bU,minZoom:vn=.5,maxZoom:Dn=2,translateExtent:br=Ug,preventScrolling:wr=!0,nodeExtent:Sr,defaultMarkerColor:zn="#b1b1b7",zoomOnScroll:fa=!0,zoomOnPinch:ha=!0,panOnScroll:gt=!1,panOnScrollSpeed:St=.5,panOnScrollMode:qn=ls.Free,zoomOnDoubleClick:Nr=!0,panOnDrag:Er=!0,onPaneClick:On,onPaneMouseEnter:xn,onPaneMouseMove:Qa,onPaneMouseLeave:ce,onPaneScroll:Ee,onPaneContextMenu:Te,children:_e,onEdgeContextMenu:Me,onEdgeDoubleClick:kt,onEdgeMouseEnter:Nt,onEdgeMouseMove:Xn,onEdgeMouseLeave:en,onEdgeUpdate:_r,onEdgeUpdateStart:Kn,onEdgeUpdateEnd:bn,onReconnect:Bs,onReconnectStart:yc,onReconnectEnd:_j,reconnectRadius:Aj=10,edgeUpdaterRadius:Cj=10,onNodesChange:kj,onEdgesChange:jj,noDragClassName:Tj="nodrag",noWheelClassName:Rj="nowheel",noPanClassName:My="nopan",fitView:Mj=!1,fitViewOptions:Dj,connectOnClick:zj=!0,attributionPosition:Oj,proOptions:$j,defaultEdgeOptions:Lj,elevateNodesOnSelect:Pj=!0,elevateEdgesOnSelect:Bj=!1,disableKeyboardA11y:Dy=!1,autoPanOnConnect:Ij=!0,autoPanOnNodeDrag:Hj=!0,connectionRadius:Fj=20,isValidConnection:Uj,onError:Zj,style:Vj,id:zy,nodeDragThreshold:Yj,...Gj},qj)=>{const Bf=zy||"1";return O.createElement("div",{...Gj,style:{...Vj,...wU},ref:qj,className:It(["react-flow",a]),"data-testid":"rf__wrapper",id:zy},O.createElement(Rk,null,O.createElement(mU,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:i,onEdgeClick:c,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:S,onNodeContextMenu:N,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:o,connectionLineType:L,connectionLineStyle:B,connectionLineComponent:F,connectionLineContainerStyle:Y,selectionKeyCode:W,selectionOnDrag:oe,selectionMode:Q,deleteKeyCode:V,multiSelectionKeyCode:me,panActivationKeyCode:le,zoomActivationKeyCode:H,onlyRenderVisibleElements:re,selectNodesOnDrag:X,defaultViewport:da,translateExtent:br,minZoom:vn,maxZoom:Dn,preventScrolling:wr,zoomOnScroll:fa,zoomOnPinch:ha,zoomOnDoubleClick:Nr,panOnScroll:gt,panOnScrollSpeed:St,panOnScrollMode:qn,panOnDrag:Er,onPaneClick:On,onPaneMouseEnter:xn,onPaneMouseMove:Qa,onPaneMouseLeave:ce,onPaneScroll:Ee,onPaneContextMenu:Te,onSelectionContextMenu:T,onSelectionStart:P,onSelectionEnd:z,onEdgeContextMenu:Me,onEdgeDoubleClick:kt,onEdgeMouseEnter:Nt,onEdgeMouseMove:Xn,onEdgeMouseLeave:en,onReconnect:Bs??_r,onReconnectStart:yc??Kn,onReconnectEnd:_j??bn,reconnectRadius:Aj??Cj,defaultMarkerColor:zn,noDragClassName:Tj,noWheelClassName:Rj,noPanClassName:My,elevateEdgesOnSelect:Bj,rfId:Bf,disableKeyboardA11y:Dy,nodeOrigin:ee,nodeExtent:Sr}),O.createElement(dF,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:p,nodesDraggable:ge,nodesConnectable:Ce,nodesFocusable:ye,edgesFocusable:Ye,edgesUpdatable:Ht,elementsSelectable:ua,elevateNodesOnSelect:Pj,minZoom:vn,maxZoom:Dn,nodeExtent:Sr,onNodesChange:kj,onEdgesChange:jj,snapToGrid:q,snapGrid:K,connectionMode:M,translateExtent:br,connectOnClick:zj,defaultEdgeOptions:Lj,fitView:Mj,fitViewOptions:Dj,onNodesDelete:A,onEdgesDelete:D,onNodeDragStart:E,onNodeDrag:_,onNodeDragStop:j,onSelectionDrag:k,onSelectionDragStart:R,onSelectionDragStop:$,noPanClassName:My,nodeOrigin:ee,rfId:Bf,autoPanOnConnect:Ij,autoPanOnNodeDrag:Hj,onError:Zj,connectionRadius:Fj,isValidConnection:Uj,nodeDragThreshold:Yj}),O.createElement(cF,{onSelectionChange:I}),_e,O.createElement(LH,{proOptions:$j,position:Oj}),O.createElement(pF,{rfId:Bf,disableKeyboardA11y:Dy})))});Mk.displayName="ReactFlow";function Dk(e){return t=>{const[n,r]=m.useState(t),a=m.useCallback(s=>r(o=>e(s,o)),[]);return[n,r,a]}}const SU=Dk(vk),NU=Dk(TF);function EU(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function _U(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},O.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function AU(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},O.createElement("path",{d:"M0 0h32v4.2H0z"}))}function CU(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},O.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function kU(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},O.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function jU(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},O.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Pi=({children:e,className:t,...n})=>O.createElement("button",{type:"button",className:It(["react-flow__controls-button",t]),...n},e);Pi.displayName="ControlButton";const TU=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),zk=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:o,onFitView:i,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=wt(),[g,v]=m.useState(!1),{isInteractive:x,minZoomReached:b,maxZoomReached:p}=Ke(TU,EU),{zoomIn:y,zoomOut:w,fitView:S}=wy();if(m.useEffect(()=>{v(!0)},[]),!g)return null;const N=()=>{y(),s==null||s()},C=()=>{w(),o==null||o()},E=()=>{S(a),i==null||i()},_=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return O.createElement(FC,{className:It(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&O.createElement(O.Fragment,null,O.createElement(Pi,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},O.createElement(_U,null)),O.createElement(Pi,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},O.createElement(AU,null))),n&&O.createElement(Pi,{className:"react-flow__controls-fitview",onClick:E,title:"fit view","aria-label":"fit view"},O.createElement(CU,null)),r&&O.createElement(Pi,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},x?O.createElement(jU,null):O.createElement(kU,null)),d)};zk.displayName="Controls";var RU=m.memo(zk);function MU(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var In;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(In||(In={}));function DU({color:e,dimensions:t,lineWidth:n}){return O.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function zU({color:e,radius:t}){return O.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const OU={[In.Dots]:"#91919a",[In.Lines]:"#eee",[In.Cross]:"#e2e2e2"},$U={[In.Dots]:1,[In.Lines]:1,[In.Cross]:6},LU=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Ok({id:e,variant:t=In.Dots,gap:n=20,size:r,lineWidth:a=1,offset:s=2,color:o,style:i,className:c}){const u=m.useRef(null),{transform:d,patternId:f}=Ke(LU,MU),h=o||OU[t],g=r||$U[t],v=t===In.Dots,x=t===In.Cross,b=Array.isArray(n)?n:[n,n],p=[b[0]*d[2]||1,b[1]*d[2]||1],y=g*d[2],w=x?[y,y]:p,S=v?[y/s,y/s]:[w[0]/s,w[1]/s];return O.createElement("svg",{className:It(["react-flow__background",c]),style:{...i,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},O.createElement("pattern",{id:f+e,x:d[0]%p[0],y:d[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},v?O.createElement(zU,{color:h,radius:y/s}):O.createElement(DU,{dimensions:w,color:h,lineWidth:a})),O.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}Ok.displayName="Background";var PU=m.memo(Ok);function BU(e){if(!e||typeof e!="object")throw new Error("Invalid perk tree data");const t=e;if(!t.treeId||!t.treeName||!t.perks||!Array.isArray(t.perks))throw new Error("Invalid perk tree structure");return t}function IU(e){try{return{success:!0,data:BU(e)}}catch(t){return{success:!1,error:t}}}const HU=({data:e,selected:t,onTogglePerk:n,onRankChange:r})=>{var u,d;const a=e.totalRanks,s=a>1?(e.currentRank||0)>0:e.selected||t,o=f=>{f.preventDefault(),f.stopPropagation();const h=e.currentRank||0,g=e.totalRanks||1,v=h>=g?0:h+1;r&&r(e.edid,v)},i=()=>{const f={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return s?{...f,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...f,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...f,borderColor:"hsl(var(--border))"}},c=((d=(u=e.ranks[0])==null?void 0:u.description)==null?void 0:d.base)||"";return l.jsxs(eC,{children:[l.jsx(tC,{asChild:!0,children:l.jsxs("div",{style:i(),onClick:o,onMouseDown:f=>f.stopPropagation(),children:[!e.isRoot&&l.jsx(Wo,{type:"target",position:se.Bottom}),l.jsx("div",{className:"font-medium",children:e.name}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",a," ranks"]}),e.hasChildren&&l.jsx(Wo,{type:"source",position:se.Top})]})}),l.jsx(ry,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:Mt.TOOLTIP},children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:e.name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:c}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",a,l.jsx("br",{}),l.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})},FU=m.memo(HU);function UU(e){const t=new Set,n=[],r=(a,s)=>{if(t.has(a))return;t.add(a),s.push(e.find(i=>i.edid===a));const o=e.find(i=>i.edid===a);o.connection.children.forEach(i=>{e.some(c=>c.edid===i)&&r(i,s)}),o.connection.parents.forEach(i=>{e.some(c=>c.edid===i)&&r(i,s)})};return e.forEach(a=>{if(!t.has(a.edid)){const s=[];r(a.edid,s),n.push(s)}}),n}function ZU(e,t){try{if(e.length===0)return[];const a=UU(e).map(i=>VU(i)).map(i=>YU(i,t)),s=qU(a,t);return $k(s,t)}catch{return e.map(r=>({id:r.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function VU(e){const t=new Map;e.forEach(i=>{t.set(i.edid,{perk:i,depth:-1,children:i.connection.children,parents:i.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((i,c)=>{i.parents.length===0&&n.push(c)});const r=n.map(i=>({id:i,depth:0})),a=new Set;for(;r.length>0;){const{id:i,depth:c}=r.shift();if(a.has(i))continue;a.add(i);const u=t.get(i);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!a.has(d)&&r.push({id:d,depth:c+1})}))}let s=!0,o=0;for(;s&&o<10;)s=!1,o++,t.forEach((i,c)=>{if(i.parents.length>1){const u=i.parents.map(d=>{const f=t.get(d);return f?f.depth:-1}).filter(d=>d!==-1);if(u.length>0){const f=Math.min(...u)+1;i.depth!==f&&(i.depth=f,s=!0)}}});return t.forEach((i,c)=>{i.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=i.depth){const f=i.depth+1;d.depth=f}})}),{nodes:t,roots:n}}function YU(e,t){const{nodes:n,roots:r}=e,a=[];if(n.forEach((f,h)=>{a.push({id:h,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:f.children})}),a.some(f=>{try{return Zg(f.id,n,t,new Set),!1}catch{return!0}}))return a.forEach(f=>{const h=n.get(f.id);if(h&&h.perk){const g=h.perk.position.x*t.gridScaleX,v=-h.perk.position.y*t.gridScaleY;f.x=g,f.y=v,f.originalX=g,f.originalY=v}}),GU(a,t),a;const o=a.filter(f=>!a.some(g=>{var v;return g.id!==f.id&&((v=g.children)==null?void 0:v.includes(f.id))}));o.forEach(f=>{f.y=0,f.originalY=0});const i=new Set,c=o.map(f=>({node:f,depth:0}));for(;c.length>0;){const{node:f,depth:h}=c.shift();i.has(f.id)||(i.add(f.id),h>0&&(f.y=-h*t.verticalSpacing,f.originalY=f.y),f.children&&f.children.forEach(g=>{const v=a.find(x=>x.id===g);v&&!i.has(g)&&c.push({node:v,depth:h+1})}))}const u=new Map;return a.forEach(f=>{const h=Math.round(f.y/t.verticalSpacing);u.has(h)||u.set(h,[]),u.get(h).push(f)}),Array.from(u.keys()).sort((f,h)=>h-f).forEach(f=>{u.get(f).forEach(g=>{if(g.children){const v=new Map;g.children.forEach(x=>{const b=a.find(p=>p.id===x);if(b){const p=a.filter(y=>{var w;return((w=y.children)==null?void 0:w.includes(x))&&Math.abs(y.y-b.y)===t.verticalSpacing});p.length>0&&p.some(y=>y.id===g.id)&&(v.has(g.id)||v.set(g.id,[]),v.get(g.id).push(b))}}),v.forEach((x,b)=>{if(x.length>0){const p=a.find(y=>y.id===b);if(p){const y=x.map(E=>{const _=Zg(E.id,n,t);return{child:E,subtreeWidth:_}}),w=y.reduce((E,{subtreeWidth:_})=>E+_,0),S=(x.length-1)*t.horizontalSpacing,N=w+S;let C=p.x-N/2;y.forEach(({child:E,subtreeWidth:_})=>{E.x=C+_/2,E.originalX=E.x,C+=_+t.horizontalSpacing})}}})}})}),$k(a,t),a}function $k(e,t){const a=t.horizontalSpacing*.4,s=new Map;e.forEach(o=>{s.set(o.id,{x:o.x,y:o.y})});for(let o=0;o<5;o++){let i=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],f=e[u],h=d.x+t.nodeWidth*.5,g=d.y+t.nodeHeight*.5,v=f.x+t.nodeWidth*.5,x=f.y+t.nodeHeight*.5,b=v-h,p=x-g,y=Math.sqrt(b*b+p*p);if(y<a&&y>0){const w=b/y*.03,S=p/y*.03;d.x-=w,d.y-=S,f.x+=w,f.y+=S,i++}}if(i===0)break}return e.forEach(o=>{const i=s.get(o.id);if(!i)return;const c=i.x-o.x,u=i.y-o.y,d=o.x+c*.02,f=o.y+u*.02,g=Math.round(i.y/t.verticalSpacing)*t.verticalSpacing,v=Math.max(f,g);o.x=d,o.y=v,o.originalX=d,o.originalY=v}),e}function GU(e,t){const a=t.nodeHeight*.8,s=50,o=new Map;e.forEach(u=>{o.set(u.id,{x:u.x,y:u.y})});let i=0,c=1;for(;c>0&&i<s;){i++,c=0;for(let u=0;u<e.length;u++)for(let d=u+1;d<e.length;d++){const f=e[u],h=e[d],g=Math.max(0,Math.min(f.x+t.nodeWidth,h.x+t.nodeWidth)-Math.max(f.x,h.x)),v=Math.max(0,Math.min(f.y+t.nodeHeight,h.y+t.nodeHeight)-Math.max(f.y,h.y)),x=f.y+t.nodeHeight*.5,b=h.y+t.nodeHeight*.5,p=Math.abs(b-x),y=p<a;if(g>0&&v>0||y){c++;let w=0;g>0&&v>0?w=v*.08:y&&(w=(a-p)*.08),f.y<h.y?(f.y-=w,h.y+=w):(f.y+=w,h.y-=w)}}if(c===0)break}return e.forEach(u=>{const d=o.get(u.id);if(!d)return;const f=d.y-u.y,h=u.y+f*.03;u.y=h,u.originalY=h}),e}function qU(e,t){const n=[],r=e.map(c=>{const u=Math.max(...c.map(w=>w.y)),d=c.filter(w=>Math.abs(w.y-u)<1),f=d.map(w=>w.x),h=Math.min(...f),g=Math.max(...f),v=g-h,x=f.reduce((w,S)=>w+S,0)/f.length,b=Math.min(...c.map(w=>w.x)),p=Math.max(...c.map(w=>w.x+w.width)),y=p-b;return{treeNodes:c,rootNodes:d,minRootX:h,maxRootX:g,rootWidth:v,rootCenterX:x,minX:b,maxX:p,treeWidth:y}}),a=Math.min(...r.map(c=>c.minRootX)),o=Math.max(...r.map(c=>c.maxRootX))-a;let i=0;return r.forEach(c=>{const u=o>0?c.rootWidth/o:1,d=c.minRootX-a;i-c.minX+d*u,c.treeNodes.forEach(f=>{const g=(f.x-c.minRootX)*u,v=i+g;n.push({...f,x:v,originalX:v})}),i+=c.treeWidth*u+t.horizontalSpacing}),n}function Zg(e,t,n,r=new Set){if(r.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const a=t.get(e);if(!a)return n.nodeWidth;r.add(e);const s=a.children||[],o=s.map(c=>Zg(c,t,n,new Set(r)));if(o.length===0)return n.nodeWidth;let i=0;return o.forEach((c,u)=>{i+=c,u<s.length-1&&(i+=n.horizontalSpacing)}),Math.max(i,n.nodeWidth)}function XU(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const KU=()=>{let e={onTogglePerk:void 0,onRankChange:void 0};return{nodeTypes:{perkNode:n=>l.jsx(FU,{...n,onTogglePerk:e.onTogglePerk,onRankChange:e.onRankChange})},updateCallbacks:n=>{e=n}}},rw=KU();function WU({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:r}){const[a,s]=O.useState(null);m.useEffect(()=>{rw.updateCallbacks({onTogglePerk:t,onRankChange:n})},[t,n]);const o=O.useCallback((C,E)=>{},[]),i=m.useMemo(()=>{if(!e)return null;const C=IU(e);return C.success?C.data:(console.error("Invalid perk tree data:",C.error),null)},[e]),{nodeTypes:c}=rw,u=m.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),d=m.useMemo(()=>{if(!i)return[];const C=XU(i);return ZU(C,u)},[i,u]),f=m.useMemo(()=>!i||d.length===0?[]:i.perks.map(C=>{const E=C.edid,_=d.find(I=>I.id===E),j=_?{x:_.x,y:_.y}:{x:0,y:0},A=C.connections.children.length>0,D=C.connections.parents.length===0;return{id:E,type:"perkNode",position:j,draggable:!0,data:{...C,selected:!1,hasChildren:A,isRoot:D}}}),[i,d]),h=m.useMemo(()=>{if(!i)return[];const C=[];return i.perks.forEach(E=>{const _=E.edid;E.connections.children.length>0&&E.connections.children.forEach(j=>{if(j===_)return;i.perks.some(D=>D.edid===j)&&C.push({id:`${_}-${j}`,source:_,target:j,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),C},[i]),[g,v,x]=SU(f),[b,p,y]=NU(h);O.useEffect(()=>{v(f)},[f,v]),O.useEffect(()=>{i&&v(C=>C.map(E=>{const _=r.find(A=>A.edid===E.id),j=_!==void 0;return{...E,data:{...E.data,selected:j,currentRank:(_==null?void 0:_.currentRank)||0}}}))},[r,v,i]),O.useEffect(()=>{p(h)},[h,p]),O.useEffect(()=>{i&&g.length>0&&a&&setTimeout(()=>{a.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[i==null?void 0:i.treeId,a]);const w=m.useCallback(C=>p(E=>WC(C,E)),[p]),S=m.useCallback(C=>{C.stopPropagation()},[]),N=m.useCallback(C=>{C.stopPropagation()},[]);return i?l.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},onMouseDown:C=>C.stopPropagation(),onTouchStart:C=>C.stopPropagation(),children:[l.jsx("div",{className:"absolute top-2 right-2 z-10",children:l.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Algorithm v2"})}),l.jsxs(Mk,{nodes:g,edges:b,onNodesChange:x,onEdgesChange:y,onConnect:w,onInit:s,nodeTypes:c,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:o,onMouseDown:S,onTouchStart:N,panOnDrag:!0,panOnScroll:!1,preventScrolling:!0,children:[l.jsx(PU,{}),l.jsx(RU,{})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function QU(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Lk=O.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),gc=()=>{const e=O.useContext(Lk);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};QU(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function JU(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function eZ(){return Ny(/^Mac/)}function tZ(){return Ny(/^iPhone/)}function aw(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function nZ(){return Ny(/^iPad/)||eZ()&&navigator.maxTouchPoints>1}function Pk(){return tZ()||nZ()}function Ny(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const rZ=24,aZ=typeof window<"u"?m.useLayoutEffect:m.useEffect;function sw(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Qh=typeof document<"u"&&window.visualViewport;function ow(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Bk(e){for(ow(e)&&(e=e.parentElement);e&&!ow(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const sZ=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Jc=0,Jh;function oZ(e={}){let{isDisabled:t}=e;aZ(()=>{if(!t)return Jc++,Jc===1&&Pk()&&(Jh=iZ()),()=>{Jc--,Jc===0&&(Jh==null||Jh())}},[t])}function iZ(){let e,t=0,n=f=>{e=Bk(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,g=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((g<=0&&h>t||g>=v&&h<t)&&f.preventDefault(),t=h)},a=f=>{let h=f.target;Vg(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},s=f=>{let h=f.target;Vg(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Qh&&(Qh.height<window.innerHeight?requestAnimationFrame(()=>{iw(h)}):Qh.addEventListener("resize",()=>iw(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},i=window.pageXOffset,c=window.pageYOffset,u=sw(lZ(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=sw(ki(document,"touchstart",n,{passive:!1,capture:!0}),ki(document,"touchmove",r,{passive:!1,capture:!0}),ki(document,"touchend",a,{passive:!1,capture:!0}),ki(document,"focus",s,!0),ki(window,"scroll",o));return()=>{u(),d(),window.scrollTo(i,c)}}function lZ(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function ki(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function iw(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=Bk(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+rZ;s>o&&(n.scrollTop+=a-r)}e=n.parentElement}}function Vg(e){return e instanceof HTMLInputElement&&!sZ.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function cZ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function uZ(...e){return t=>e.forEach(n=>cZ(n,t))}function Ik(...e){return m.useCallback(uZ(...e),e)}const Hk=new WeakMap;function ct(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,s])=>{if(a.startsWith("--")){e.style.setProperty(a,s);return}r[a]=e.style[a],e.style[a]=s}),!n&&Hk.set(e,r)}function dZ(e,t){if(!e||!(e instanceof HTMLElement))return;let n=Hk.get(e);n&&(e.style[t]=n[t])}const at=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function eu(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[at(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[at(t)?5:4]):null)}function fZ(e){return 8*(Math.log(e+1)-2)}function em(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function hZ(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const qe={DURATION:.5,EASE:[.32,.72,0,1]},Fk=.4,mZ=.25,gZ=100,Uk=8,ts=16,Yg=26,tm="vaul-dragging";function Zk(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function pZ({defaultProp:e,onChange:t}){const n=O.useState(e),[r]=n,a=O.useRef(r),s=Zk(t);return O.useEffect(()=>{a.current!==r&&(s(r),a.current=r)},[r,a,s]),n}function Vk({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=pZ({defaultProp:t,onChange:n}),s=e!==void 0,o=s?e:r,i=Zk(n),c=O.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&i(f)}else a(u)},[s,e,a,i]);return[o,c]}function yZ({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:s,onSnapPointChange:o,direction:i="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=Vk({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[h,g]=O.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);O.useEffect(()=>{function E(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const v=O.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),x=O.useMemo(()=>{var E;return(E=n==null?void 0:n.findIndex(_=>_===d))!=null?E:null},[n,d]),b=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===d||!n,p=O.useMemo(()=>{const E=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var _;return(_=n==null?void 0:n.map(j=>{const A=typeof j=="string";let D=0;if(A&&(D=parseInt(j,10)),at(i)){const R=A?D:h?j*E.height:0;return h?i==="bottom"?E.height-R:-E.height+R:R}const I=A?D:h?j*E.width:0;return h?i==="right"?E.width-I:-E.width+I:I}))!=null?_:[]},[n,h,c]),y=O.useMemo(()=>x!==null?p==null?void 0:p[x]:null,[p,x]),w=O.useCallback(E=>{var _;const j=(_=p==null?void 0:p.findIndex(A=>A===E))!=null?_:null;o(j),ct(r.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:at(i)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`}),p&&j!==p.length-1&&s!==void 0&&j!==s&&j<s?ct(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"0"}):ct(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(j,0)])},[r.current,n,p,s,a,f]);O.useEffect(()=>{if(d||e){var E;const _=(E=n==null?void 0:n.findIndex(j=>j===e||j===d))!=null?E:-1;p&&_!==-1&&typeof p[_]=="number"&&w(p[_])}},[d,e,n,p,w]);function S({draggedDistance:E,closeDrawer:_,velocity:j,dismissible:A}){if(s===void 0)return;const D=i==="bottom"||i==="right"?(y??0)-E:(y??0)+E,I=x===s-1,R=x===0,k=E>0;if(I&&ct(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),!u&&j>2&&!k){A?_():w(p[0]);return}if(!u&&j>2&&k&&p&&n){w(p[n.length-1]);return}const $=p==null?void 0:p.reduce((P,z)=>typeof P!="number"||typeof z!="number"?P:Math.abs(z-D)<Math.abs(P-D)?z:P),T=at(i)?window.innerHeight:window.innerWidth;if(j>Fk&&Math.abs(E)<T*.4){const P=k?1:-1;if(P>0&&v&&n){w(p[n.length-1]);return}if(R&&P<0&&A&&_(),x===null)return;w(p[x+P]);return}w($)}function N({draggedDistance:E}){if(y===null)return;const _=i==="bottom"||i==="right"?y-E:y+E;(i==="bottom"||i==="right")&&_<p[p.length-1]||(i==="top"||i==="left")&&_>p[p.length-1]||ct(r.current,{transform:at(i)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`})}function C(E,_){if(!n||typeof x!="number"||!p||s===void 0)return null;const j=x===s-1;if(x>=s&&_)return 0;if(j&&!_)return 1;if(!b&&!j)return null;const D=j?x+1:x-1,I=j?p[D]-p[D-1]:p[D+1]-p[D],R=E/Math.abs(I);return j?1-R:R}return{isLastSnapPoint:v,activeSnapPoint:d,shouldFade:b,getPercentageDragged:C,setActiveSnapPoint:f,activeSnapPointIndex:x,onRelease:S,onDrag:N,snapPointsOffset:p}}const vZ=()=>()=>{};function xZ(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:a}=gc(),s=O.useRef(null),o=m.useMemo(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-Yg)/window.innerWidth}O.useEffect(()=>{if(t&&n){s.current&&clearTimeout(s.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;hZ(r&&!a?em(document.body,{background:"black"}):vZ,em(c,{transformOrigin:at(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`}));const u=em(c,{borderRadius:`${Uk}px`,overflow:"hidden",...at(e)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),s.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},qe.DURATION*1e3)}}},[t,n,o])}let ji=null;function bZ({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:s}){const[o,i]=O.useState(()=>typeof window<"u"?window.location.href:""),c=O.useRef(0),u=O.useCallback(()=>{if(aw()&&ji===null&&e&&!s){ji={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=h-window.innerHeight;g&&c.current>=h&&(document.body.style.top=`${-(c.current+g)}px`)}),300)}},[e]),d=O.useCallback(()=>{if(aw()&&ji!==null&&!s){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ji),window.requestAnimationFrame(()=>{if(a&&o!==window.location.href){i(window.location.href);return}window.scrollTo(h,f)}),ji=null}},[o]);return O.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),O.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),O.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,o,t,n,u,d]),{restorePositionSetting:d}}function wZ({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:a,snapPoints:s,shouldScaleBackground:o=!1,setBackgroundColorOnScale:i=!0,closeThreshold:c=mZ,scrollLockTimeout:u=gZ,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:v,fixed:x,modal:b=!0,onClose:p,nested:y,noBodyStyles:w=!1,direction:S="bottom",defaultOpen:N=!1,disablePreventScroll:C=!0,snapToSequentialPoint:E=!1,preventScrollRestoration:_=!1,repositionInputs:j=!0,onAnimationEnd:A,container:D,autoFocus:I=!1}){var R,k;const[$=!1,T]=Vk({defaultProp:N,prop:e,onChange:ce=>{t==null||t(ce),!ce&&!y&&Sr(),setTimeout(()=>{A==null||A(ce)},qe.DURATION*1e3),ce&&!b&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ce||(document.body.style.pointerEvents="auto")}}),[P,z]=O.useState(!1),[M,L]=O.useState(!1),[B,F]=O.useState(!1),Y=O.useRef(null),V=O.useRef(null),W=O.useRef(null),oe=O.useRef(null),Q=O.useRef(null),le=O.useRef(!1),me=O.useRef(null),H=O.useRef(0),q=O.useRef(!1),K=O.useRef(!N),re=O.useRef(0),X=O.useRef(null),ge=O.useRef(((R=X.current)==null?void 0:R.getBoundingClientRect().height)||0),Ce=O.useRef(((k=X.current)==null?void 0:k.getBoundingClientRect().width)||0),ye=O.useRef(0),ee=O.useCallback(ce=>{s&&ce===vn.length-1&&(V.current=new Date)},[]),{activeSnapPoint:Ye,activeSnapPointIndex:Ht,setActiveSnapPoint:ua,onRelease:da,snapPointsOffset:vn,onDrag:Dn,shouldFade:br,getPercentageDragged:wr}=yZ({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:v,drawerRef:X,fadeFromIndex:h,overlayRef:Y,onSnapPointChange:ee,direction:S,container:D,snapToSequentialPoint:E});oZ({isDisabled:!$||M||!b||B||!P||!j||!C});const{restorePositionSetting:Sr}=bZ({isOpen:$,modal:b,nested:y??!1,hasBeenOpened:P,preventScrollRestoration:_,noBodyStyles:w});function zn(){return(window.innerWidth-Yg)/window.innerWidth}function fa(ce){var Ee,Te;!d&&!s||X.current&&!X.current.contains(ce.target)||(ge.current=((Ee=X.current)==null?void 0:Ee.getBoundingClientRect().height)||0,Ce.current=((Te=X.current)==null?void 0:Te.getBoundingClientRect().width)||0,L(!0),W.current=new Date,Pk()&&window.addEventListener("touchend",()=>le.current=!1,{once:!0}),ce.target.setPointerCapture(ce.pointerId),H.current=at(S)?ce.pageY:ce.pageX)}function ha(ce,Ee){var Te;let _e=ce;const Me=(Te=window.getSelection())==null?void 0:Te.toString(),kt=X.current?eu(X.current,S):null,Nt=new Date;if(_e.tagName==="SELECT"||_e.hasAttribute("data-vaul-no-drag")||_e.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if(V.current&&Nt.getTime()-V.current.getTime()<500)return!1;if(kt!==null&&(S==="bottom"?kt>0:kt<0))return!0;if(Me&&Me.length>0)return!1;if(Q.current&&Nt.getTime()-Q.current.getTime()<u&&kt===0||Ee)return Q.current=Nt,!1;for(;_e;){if(_e.scrollHeight>_e.clientHeight){if(_e.scrollTop!==0)return Q.current=new Date,!1;if(_e.getAttribute("role")==="dialog")return!0}_e=_e.parentNode}return!0}function gt(ce){if(X.current&&M){const Ee=S==="bottom"||S==="right"?1:-1,Te=(H.current-(at(S)?ce.pageY:ce.pageX))*Ee,_e=Te>0,Me=s&&!d&&!_e;if(Me&&Ht===0)return;const kt=Math.abs(Te),Nt=document.querySelector("[data-vaul-drawer-wrapper]"),Xn=S==="bottom"||S==="top"?ge.current:Ce.current;let en=kt/Xn;const _r=wr(kt,_e);if(_r!==null&&(en=_r),Me&&en>=1||!le.current&&!ha(ce.target,_e))return;if(X.current.classList.add(tm),le.current=!0,ct(X.current,{transition:"none"}),ct(Y.current,{transition:"none"}),s&&Dn({draggedDistance:Te}),_e&&!s){const bn=fZ(Te),Bs=Math.min(bn*-1,0)*Ee;ct(X.current,{transform:at(S)?`translate3d(0, ${Bs}px, 0)`:`translate3d(${Bs}px, 0, 0)`});return}const Kn=1-en;if((br||h&&Ht===h-1)&&(r==null||r(ce,en),ct(Y.current,{opacity:`${Kn}`,transition:"none"},!0)),Nt&&Y.current&&o){const bn=Math.min(zn()+en*(1-zn()),1),Bs=8-en*8,yc=Math.max(0,14-en*14);ct(Nt,{borderRadius:`${Bs}px`,transform:at(S)?`scale(${bn}) translate3d(0, ${yc}px, 0)`:`scale(${bn}) translate3d(${yc}px, 0, 0)`,transition:"none"},!0)}if(!s){const bn=kt*Ee;ct(X.current,{transform:at(S)?`translate3d(0, ${bn}px, 0)`:`translate3d(${bn}px, 0, 0)`})}}}O.useEffect(()=>{window.requestAnimationFrame(()=>{K.current=!0})},[]),O.useEffect(()=>{var ce;function Ee(){if(!X.current||!j)return;const Te=document.activeElement;if(Vg(Te)||q.current){var _e;const Me=((_e=window.visualViewport)==null?void 0:_e.height)||0,kt=window.innerHeight;let Nt=kt-Me;const Xn=X.current.getBoundingClientRect().height||0,en=Xn>kt*.8;ye.current||(ye.current=Xn);const _r=X.current.getBoundingClientRect().top;if(Math.abs(re.current-Nt)>60&&(q.current=!q.current),s&&s.length>0&&vn&&Ht){const Kn=vn[Ht]||0;Nt+=Kn}if(re.current=Nt,Xn>Me||q.current){const Kn=X.current.getBoundingClientRect().height;let bn=Kn;Kn>Me&&(bn=Me-(en?_r:Yg)),x?X.current.style.height=`${Kn-Math.max(Nt,0)}px`:X.current.style.height=`${Math.max(bn,Me-_r)}px`}else JU()||(X.current.style.height=`${ye.current}px`);s&&s.length>0&&!q.current?X.current.style.bottom="0px":X.current.style.bottom=`${Math.max(Nt,0)}px`}}return(ce=window.visualViewport)==null||ce.addEventListener("resize",Ee),()=>{var Te;return(Te=window.visualViewport)==null?void 0:Te.removeEventListener("resize",Ee)}},[Ht,s,vn]);function St(ce){Nr(),p==null||p(),ce||T(!1),setTimeout(()=>{s&&ua(s[0])},qe.DURATION*1e3)}function qn(){if(!X.current)return;const ce=document.querySelector("[data-vaul-drawer-wrapper]"),Ee=eu(X.current,S);ct(X.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),ct(Y.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),o&&Ee&&Ee>0&&$&&ct(ce,{borderRadius:`${Uk}px`,overflow:"hidden",...at(S)?{transform:`scale(${zn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${zn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`},!0)}function Nr(){!M||!X.current||(X.current.classList.remove(tm),le.current=!1,L(!1),oe.current=new Date)}function Er(ce){if(!M||!X.current)return;X.current.classList.remove(tm),le.current=!1,L(!1),oe.current=new Date;const Ee=eu(X.current,S);if(!ce||!ha(ce.target,!1)||!Ee||Number.isNaN(Ee)||W.current===null)return;const Te=oe.current.getTime()-W.current.getTime(),_e=H.current-(at(S)?ce.pageY:ce.pageX),Me=Math.abs(_e)/Te;if(Me>.05&&(F(!0),setTimeout(()=>{F(!1)},200)),s){da({draggedDistance:_e*(S==="bottom"||S==="right"?1:-1),closeDrawer:St,velocity:Me,dismissible:d}),a==null||a(ce,!0);return}if(S==="bottom"||S==="right"?_e>0:_e<0){qn(),a==null||a(ce,!0);return}if(Me>Fk){St(),a==null||a(ce,!1);return}var kt;const Nt=Math.min((kt=X.current.getBoundingClientRect().height)!=null?kt:0,window.innerHeight);var Xn;const en=Math.min((Xn=X.current.getBoundingClientRect().width)!=null?Xn:0,window.innerWidth),_r=S==="left"||S==="right";if(Math.abs(Ee)>=(_r?en:Nt)*c){St(),a==null||a(ce,!1);return}a==null||a(ce,!0),qn()}O.useEffect(()=>($&&(ct(document.documentElement,{scrollBehavior:"auto"}),V.current=new Date),()=>{dZ(document.documentElement,"scrollBehavior")}),[$]);function On(ce){const Ee=ce?(window.innerWidth-ts)/window.innerWidth:1,Te=ce?-ts:0;me.current&&window.clearTimeout(me.current),ct(X.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:at(S)?`scale(${Ee}) translate3d(0, ${Te}px, 0)`:`scale(${Ee}) translate3d(${Te}px, 0, 0)`}),!ce&&X.current&&(me.current=setTimeout(()=>{const _e=eu(X.current,S);ct(X.current,{transition:"none",transform:at(S)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`})},500))}function xn(ce,Ee){if(Ee<0)return;const Te=(window.innerWidth-ts)/window.innerWidth,_e=Te+Ee*(1-Te),Me=-ts+Ee*ts;ct(X.current,{transform:at(S)?`scale(${_e}) translate3d(0, ${Me}px, 0)`:`scale(${_e}) translate3d(${Me}px, 0, 0)`,transition:"none"})}function Qa(ce,Ee){const Te=at(S)?window.innerHeight:window.innerWidth,_e=Ee?(Te-ts)/Te:1,Me=Ee?-ts:0;Ee&&ct(X.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:at(S)?`scale(${_e}) translate3d(0, ${Me}px, 0)`:`scale(${_e}) translate3d(${Me}px, 0, 0)`})}return O.useEffect(()=>{b||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[b]),O.createElement(YE,{defaultOpen:N,onOpenChange:ce=>{!d&&!ce||(ce?z(!0):St(!0),T(ce))},open:$},O.createElement(Lk.Provider,{value:{activeSnapPoint:Ye,snapPoints:s,setActiveSnapPoint:ua,drawerRef:X,overlayRef:Y,onOpenChange:t,onPress:fa,onRelease:Er,onDrag:gt,dismissible:d,shouldAnimate:K,handleOnly:f,isOpen:$,isDragging:M,shouldFade:br,closeDrawer:St,onNestedDrag:xn,onNestedOpenChange:On,onNestedRelease:Qa,keyboardIsOpen:q,modal:b,snapPointsOffset:vn,activeSnapPointIndex:Ht,direction:S,shouldScaleBackground:o,setBackgroundColorOnScale:i,noBodyStyles:w,container:D,autoFocus:I}},n))}const Yk=O.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:a,shouldFade:s,isOpen:o,modal:i,shouldAnimate:c}=gc(),u=Ik(t,n),d=r&&r.length>0;if(!i)return null;const f=O.useCallback(h=>a(h),[a]);return O.createElement(f0,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":o&&d?"true":"false","data-vaul-snap-points-overlay":o&&s?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});Yk.displayName="Drawer.Overlay";const Ey=O.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},a){const{drawerRef:s,onPress:o,onRelease:i,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:f,modal:h,isOpen:g,direction:v,snapPoints:x,container:b,handleOnly:p,shouldAnimate:y,autoFocus:w}=gc(),[S,N]=O.useState(!1),C=Ik(a,s),E=O.useRef(null),_=O.useRef(null),j=O.useRef(!1),A=x&&x.length>0;xZ();const D=(R,k,$=0)=>{if(j.current)return!0;const T=Math.abs(R.y),P=Math.abs(R.x),z=P>T,M=["bottom","right"].includes(k)?1:-1;if(k==="left"||k==="right"){if(!(R.x*M<0)&&P>=0&&P<=$)return z}else if(!(R.y*M<0)&&T>=0&&T<=$)return!z;return j.current=!0,!0};O.useEffect(()=>{A&&window.requestAnimationFrame(()=>{N(!0)})},[]);function I(R){E.current=null,j.current=!1,i(R)}return O.createElement(h0,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":S?"true":"false","data-vaul-snap-points":g&&A?"true":"false","data-vaul-custom-container":b?"true":"false","data-vaul-animate":y!=null&&y.current?"true":"false",...r,ref:C,style:d&&d.length>0?{"--snap-point-height":`${d[f??0]}px`,...t}:t,onPointerDown:R=>{p||(r.onPointerDown==null||r.onPointerDown.call(r,R),E.current={x:R.pageX,y:R.pageY},o(R))},onOpenAutoFocus:R=>{n==null||n(R),w||R.preventDefault()},onPointerDownOutside:R=>{if(e==null||e(R),!h||R.defaultPrevented){R.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:R=>{if(!h){R.preventDefault();return}},onPointerMove:R=>{if(_.current=R,p||(r.onPointerMove==null||r.onPointerMove.call(r,R),!E.current))return;const k=R.pageY-E.current.y,$=R.pageX-E.current.x,T=R.pointerType==="touch"?10:2;D({x:$,y:k},v,T)?c(R):(Math.abs($)>T||Math.abs(k)>T)&&(E.current=null)},onPointerUp:R=>{r.onPointerUp==null||r.onPointerUp.call(r,R),E.current=null,j.current=!1,i(R)},onPointerOut:R=>{r.onPointerOut==null||r.onPointerOut.call(r,R),I(_.current)},onContextMenu:R=>{r.onContextMenu==null||r.onContextMenu.call(r,R),_.current&&I(_.current)}})});Ey.displayName="Drawer.Content";const SZ=250,NZ=120,EZ=O.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:a,isDragging:s,snapPoints:o,activeSnapPoint:i,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:g}=gc(),v=O.useRef(null),x=O.useRef(!1);function b(){if(x.current){w();return}window.setTimeout(()=>{p()},NZ)}function p(){if(s||e||x.current){w();return}if(w(),!o||o.length===0){u||a();return}if(i===o[o.length-1]&&u){a();return}const N=o.findIndex(E=>E===i);if(N===-1)return;const C=o[N+1];c(C)}function y(){v.current=window.setTimeout(()=>{x.current=!0},SZ)}function w(){v.current&&window.clearTimeout(v.current),x.current=!1}return O.createElement("div",{onClick:b,onPointerCancel:w,onPointerDown:S=>{d&&h(S),y()},onPointerMove:S=>{d&&g(S)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},O.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});EZ.displayName="Drawer.Handle";function _Z(e){const t=gc(),{container:n=t.container,...r}=e;return O.createElement(GE,{container:n,...r})}const la={Root:wZ,Content:Ey,Overlay:Yk,Portal:_Z,Title:m0,Description:g0},Gk=({shouldScaleBackground:e=!0,...t})=>l.jsx(la.Root,{shouldScaleBackground:e,...t});Gk.displayName="Drawer";const qk=la.Portal,_y=m.forwardRef(({className:e,...t},n)=>l.jsx(la.Overlay,{ref:n,className:G("fixed inset-0 bg-black/40",e),style:{zIndex:Mt.MODAL},...t}));_y.displayName=la.Overlay.displayName;const AZ=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(qk,{children:[l.jsx(_y,{}),l.jsxs(la.Content,{ref:r,className:G("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:Mt.MODAL+1},...n,children:[l.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));AZ.displayName="DrawerContent";const Xk=({className:e,...t})=>l.jsx("div",{className:G("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Xk.displayName="DrawerHeader";const Kk=({className:e,...t})=>l.jsx("div",{className:G("mt-auto flex flex-col gap-2 p-4",e),...t});Kk.displayName="DrawerFooter";const Wk=m.forwardRef(({className:e,...t},n)=>l.jsx(la.Title,{ref:n,className:G("text-lg font-semibold leading-none tracking-tight",e),...t}));Wk.displayName=la.Title.displayName;const Qk=m.forwardRef(({className:e,...t},n)=>l.jsx(la.Description,{ref:n,className:G("text-sm text-muted-foreground",e),...t}));Qk.displayName=la.Description.displayName;function CZ({open:e,onOpenChange:t,selectedSkill:n,skillName:r,perkTree:a,skills:s,onSkillSelect:o,onReset:i}){const{addPerk:c,removePerk:u,setPerkRank:d,clearSkillPerks:f,getSkillPerks:h,getPerkRank:g}=Dt(),v=n?h(n):[],x=O.useMemo(()=>a?a.perks.filter(C=>v.includes(C.edid)).map(C=>({...C,selected:!0,currentRank:g(C.edid)})):[],[a,v,g]),b=O.useCallback(C=>{if(!n||!a)return;v.includes(C)?u(n,C):c(n,C)},[n,a,v,u,c]),p=O.useCallback((C,E)=>{d(C,E)},[d]),y=()=>{n&&f(n),i()},w=()=>{t(!1)},S=[{id:"skills",name:"Skills",placeholder:"Search skills...",options:s.map(C=>({id:C.edid,label:C.name,value:C.edid,category:"Skills",description:`${C.selectedPerks}/${C.totalPerks} perks selected`}))}],N=C=>{o(C.value)};return!n||!a?null:l.jsx(Gk,{open:e,onOpenChange:t,shouldScaleBackground:!1,dismissible:!0,children:l.jsxs(qk,{children:[l.jsx(_y,{}),l.jsxs(Ey,{className:"fixed inset-x-0 bottom-0 z-50 mt-24 flex flex-col rounded-t-[10px] border bg-background h-[85vh] bg-card border-t shadow-lg !bg-card","data-vaul-no-drag":!0,style:{backgroundColor:"hsl(var(--card))",zIndex:Mt.DRAWER},children:[l.jsx(Xk,{className:"border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-64",children:l.jsx(go,{categories:S,onSelect:N,placeholder:"Search skills..."})}),l.jsxs("div",{children:[l.jsx(Wk,{className:"text-xl",children:r||a.treeName}),l.jsxs(Qk,{children:[v.length," perks selected"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ae,{variant:"outline",size:"sm",onClick:y,className:"flex items-center gap-2",children:[l.jsx(yl,{className:"h-4 w-4"}),"Reset Perks"]}),l.jsx(ae,{variant:"outline",size:"sm",onClick:w,className:"flex items-center gap-2",children:l.jsx(hn,{className:"h-4 w-4"})})]})]})}),l.jsx("div",{className:"flex-1 overflow-hidden",style:{height:"400px"},children:l.jsx("div",{className:"h-full w-full bg-muted/20 rounded",children:a?l.jsx(WU,{tree:a,onTogglePerk:b,onRankChange:p,selectedPerks:x}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading perk tree..."})})})}),l.jsx(Kk,{className:"border-t",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on perk nodes to select/deselect them"}),l.jsx(ae,{variant:"outline",onClick:w,children:"Close"})]})})]})]})})}function kZ({skills:e,loading:t,error:n,searchQuery:r,onSearchChange:a,selectedCategory:s,onCategorySelect:o,categories:i,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:h,skillSummary:g}){var S;const[v,x]=m.useState(!1),{selectedPerkTree:b,handleResetPerks:p}=hB(c);if(t)return l.jsx(AB,{});if(n)return l.jsx(CB,{error:n});const y=e.map(N=>({id:N.id,name:N.name,description:N.description,category:N.category,assignmentType:N.assignmentType,perkCount:`${N.selectedPerksCount}/${N.totalPerks}`,canAssignMajor:N.canAssignMajor,canAssignMinor:N.canAssignMinor})),w=e.map(N=>({edid:N.id,name:N.name,category:N.category,description:N.description,scaling:"",keyAbilities:[],metaTags:[],totalPerks:N.totalPerks,selectedPerks:N.selectedPerksCount,isMajor:N.assignmentType==="major",isMinor:N.assignmentType==="minor"}));return l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Skills & Perks"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your character's skills and perk selections"})]}),l.jsxs(ft,{children:[l.jsx(xt,{children:l.jsxs(At,{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Build Summary"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ue,{variant:"outline",className:"bg-yellow-50 text-yellow-800 border-yellow-300",children:[g.majorCount,"/",g.majorLimit," Major"]}),l.jsxs(ue,{variant:"outline",className:"bg-gray-50 text-gray-800 border-gray-300",children:[g.minorCount,"/",g.minorLimit," Minor"]})]})]})}),l.jsx(ht,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Total Skills"}),l.jsx("p",{className:"font-semibold",children:g.totalSkills})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Selected Perks"}),l.jsx("p",{className:"font-semibold",children:g.totalPerks})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Perk Ranks"}),l.jsx("p",{className:"font-semibold",children:g.totalPerkRanks})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Available Major"}),l.jsx("p",{className:"font-semibold text-yellow-600",children:g.majorLimit-g.majorCount})]})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(jB,{query:r,onQueryChange:a}),l.jsx(TB,{categories:i,selectedCategory:s,onCategorySelect:o})]}),l.jsx(wB,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Available Skills"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," skills found"]})]}),l.jsx(kB,{skills:y,onSkillSelect:N=>{console.log("Skill selected:",N),u(N),x(!0)},onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:h,selectedSkillId:c||void 0})]}),c&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Debug: Selected skill: ",c,", Perk tree:"," ",b?"Found":"Not found",", Drawer open:"," ",v?"Yes":"No"]}),l.jsx(CZ,{open:v,onOpenChange:x,selectedSkill:c,skillName:c?(S=e.find(N=>N.id===c))==null?void 0:S.name:void 0,perkTree:b||void 0,skills:w,onSkillSelect:u,onReset:p}),l.jsx(ft,{className:"bg-muted/50",children:l.jsxs(ht,{className:"pt-6",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"How to Assign Skills"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Major Skills (0-3)"}),l.jsx("p",{children:"Your primary skills that level up faster and start at a higher level."})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Minor Skills (0-6)"}),l.jsx("p",{children:"Secondary skills that provide additional benefits and customization."})]})]})]})})]})}function lw(){const{skills:e,loading:t,error:n}=mB(),{searchQuery:r,setSearchQuery:a,selectedCategory:s,setSelectedCategory:o,filteredSkills:i,categories:c}=gB(e),{assignSkill:u,unassignSkill:d,selectedSkillId:f,setSelectedSkillId:h,majorSkills:g,minorSkills:v}=pB(),x=m.useMemo(()=>i.map(N=>({...N,assignmentType:g.includes(N.id)?"major":v.includes(N.id)?"minor":"none",canAssignMajor:g.length<3,canAssignMinor:v.length<6})),[i,g,v]),b=m.useMemo(()=>({majorCount:g.length,minorCount:v.length,majorLimit:3,minorLimit:6,canAssignMajor:g.length<3,canAssignMinor:v.length<6,totalSkills:i.length,totalPerks:i.reduce((N,C)=>N+C.selectedPerksCount,0),totalPerkRanks:i.reduce((N,C)=>N+C.selectedPerks.reduce((E,_)=>E+_.currentRank,0),0)}),[i,g,v]),p=m.useCallback(N=>{console.log("handleAssignMajor called with skillId:",N);const C=u(N,"major");console.log("assignSkill result:",C),C.valid||alert(`Cannot assign skill as major: ${C.reason}`)},[u]),y=m.useCallback(N=>{console.log("handleAssignMinor called with skillId:",N);const C=u(N,"minor");console.log("assignSkill result:",C),C.valid||alert(`Cannot assign skill as minor: ${C.reason}`)},[u]),w=m.useCallback(N=>{console.log("handleRemoveAssignment called with skillId:",N),d(N)},[d]),S=m.useCallback(N=>{h(N)},[h]);return l.jsx(kZ,{skills:x,loading:t,error:n,searchQuery:r,onSearchChange:a,selectedCategory:s,onCategorySelect:o,categories:c,selectedSkillId:f,onSkillSelect:S,onAssignMajor:p,onAssignMinor:y,onRemoveAssignment:w,skillSummary:b})}function U(e,t,n){function r(i,c){var u;Object.defineProperty(i,"_zod",{value:i._zod??{},enumerable:!1}),(u=i._zod).traits??(u.traits=new Set),i._zod.traits.add(e),t(i,c);for(const d in o.prototype)d in i||Object.defineProperty(i,d,{value:o.prototype[d].bind(i)});i._zod.constr=o,i._zod.def=c}const a=(n==null?void 0:n.Parent)??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function o(i){var c;const u=n!=null&&n.Parent?new s:this;r(u,i),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:i=>{var c,u;return n!=null&&n.Parent&&i instanceof n.Parent?!0:(u=(c=i==null?void 0:i._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class zl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Jk={};function As(e){return Jk}function jZ(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function TZ(e,t){return typeof t=="bigint"?t.toString():t}function ej(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ay(e){return e==null}function Cy(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function RZ(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}function Be(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function ky(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ti(e){return JSON.stringify(e)}const tj=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Gg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const MZ=ej(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function qg(e){if(Gg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Gg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const DZ=new Set(["string","number","symbol"]);function $f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ps(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function ie(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function zZ(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const OZ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function $Z(e,t){const n={},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(n[a]=r.shape[a])}return Ps(e,{...e._zod.def,shape:n,checks:[]})}function LZ(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete n[a]}return Ps(e,{...e._zod.def,shape:n,checks:[]})}function PZ(e,t){if(!qg(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return ky(this,"shape",r),r},checks:[]};return Ps(e,n)}function BZ(e,t){return Ps(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return ky(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function IZ(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const s in n){if(!(s in r))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(a[s]=e?new e({type:"optional",innerType:r[s]}):r[s])}else for(const s in r)a[s]=e?new e({type:"optional",innerType:r[s]}):r[s];return Ps(t,{...t._zod.def,shape:a,checks:[]})}function HZ(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const s in n){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(a[s]=new e({type:"nonoptional",innerType:r[s]}))}else for(const s in r)a[s]=new e({type:"nonoptional",innerType:r[s]});return Ps(t,{...t._zod.def,shape:a,checks:[]})}function tl(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function jy(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function tu(e){return typeof e=="string"?e:e==null?void 0:e.message}function Cs(e,t,n){var a,s,o,i,c,u;const r={...e,path:e.path??[]};if(!e.message){const d=tu((o=(s=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:s.error)==null?void 0:o.call(s,e))??tu((i=t==null?void 0:t.error)==null?void 0:i.call(t,e))??tu((c=n.customError)==null?void 0:c.call(n,e))??tu((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Ty(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ol(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const nj=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,TZ,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},rj=U("$ZodError",nj),aj=U("$ZodError",nj,{Parent:Error});function FZ(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function UZ(e,t){const n=t||function(s){return s.message},r={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(i=>a({issues:i}));else if(o.code==="invalid_key")a({issues:o.issues});else if(o.code==="invalid_element")a({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let i=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(n(o))):i[u]=i[u]||{_errors:[]},i=i[u],c++}}};return a(e),r}const ZZ=e=>(t,n,r,a)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new zl;if(o.issues.length){const i=new((a==null?void 0:a.Err)??e)(o.issues.map(c=>Cs(c,s,As())));throw tj(i,a==null?void 0:a.callee),i}return o.value},VZ=e=>async(t,n,r,a)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const i=new((a==null?void 0:a.Err)??e)(o.issues.map(c=>Cs(c,s,As())));throw tj(i,a==null?void 0:a.callee),i}return o.value},sj=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new zl;return s.issues.length?{success:!1,error:new(e??rj)(s.issues.map(o=>Cs(o,a,As())))}:{success:!0,data:s.value}},YZ=sj(aj),oj=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>Cs(o,a,As())))}:{success:!0,data:s.value}},GZ=oj(aj),qZ=/^[cC][^\s-]{8,}$/,XZ=/^[0-9a-z]+$/,KZ=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,WZ=/^[0-9a-vA-V]{20}$/,QZ=/^[A-Za-z0-9]{27}$/,JZ=/^[a-zA-Z0-9_-]{21}$/,eV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,tV=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,cw=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,nV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,rV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function aV(){return new RegExp(rV,"u")}const sV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,iV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,lV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ij=/^[A-Za-z0-9_-]*$/,uV=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,dV=/^\+(?:[0-9]){6,14}[0-9]$/,lj="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",fV=new RegExp(`^${lj}$`);function cj(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function hV(e){return new RegExp(`^${cj(e)}$`)}function mV(e){const t=cj({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${lj}T(?:${r})$`)}const gV=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},pV=/^\d+$/,yV=/^-?\d+(?:\.\d+)?/i,vV=/true|false/i,xV=/^[^A-Z]*$/,bV=/^[^a-z]*$/,Jt=U("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),uj={number:"number",bigint:"bigint",object:"date"},dj=U("$ZodCheckLessThan",(e,t)=>{Jt.init(e,t);const n=uj[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),fj=U("$ZodCheckGreaterThan",(e,t)=>{Jt.init(e,t);const n=uj[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),wV=U("$ZodCheckMultipleOf",(e,t)=>{Jt.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):RZ(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),SV=U("$ZodCheckNumberFormat",(e,t)=>{var o;Jt.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),r=n?"int":"number",[a,s]=OZ[t.format];e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,c.minimum=a,c.maximum=s,n&&(c.pattern=pV)}),e._zod.check=i=>{const c=i.value;if(n){if(!Number.isInteger(c)){i.issues.push({expected:r,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?i.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<a&&i.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>s&&i.issues.push({origin:"number",input:c,code:"too_big",maximum:s,inst:e})}}),NV=U("$ZodCheckMaxLength",(e,t)=>{var n;Jt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Ay(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const o=Ty(a);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),EV=U("$ZodCheckMinLength",(e,t)=>{var n;Jt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Ay(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const o=Ty(a);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),_V=U("$ZodCheckLengthEquals",(e,t)=>{var n;Jt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Ay(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,s=a.length;if(s===t.length)return;const o=Ty(a),i=s>t.length;r.issues.push({origin:o,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Lf=U("$ZodCheckStringFormat",(e,t)=>{var n,r;Jt.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),AV=U("$ZodCheckRegex",(e,t)=>{Lf.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),CV=U("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=xV),Lf.init(e,t)}),kV=U("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=bV),Lf.init(e,t)}),jV=U("$ZodCheckIncludes",(e,t)=>{Jt.init(e,t);const n=$f(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),TV=U("$ZodCheckStartsWith",(e,t)=>{Jt.init(e,t);const n=new RegExp(`^${$f(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),RV=U("$ZodCheckEndsWith",(e,t)=>{Jt.init(e,t);const n=new RegExp(`.*${$f(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),MV=U("$ZodCheckOverwrite",(e,t)=>{Jt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class DV{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),a=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,a.join(`
`))}}const zV={major:4,minor:0,patch:5},tt=U("$ZodType",(e,t)=>{var a;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=zV;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const o of s._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,i,c)=>{let u=tl(o),d;for(const f of i){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(u)continue;const h=o.issues.length,g=f._zod.check(o);if(g instanceof Promise&&(c==null?void 0:c.async)===!1)throw new zl;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,o.issues.length!==h&&(u||(u=tl(o,h)))});else{if(o.issues.length===h)continue;u||(u=tl(o,h))}}return d?d.then(()=>o):o};e._zod.run=(o,i)=>{const c=e._zod.parse(o,i);if(c instanceof Promise){if(i.async===!1)throw new zl;return c.then(u=>s(u,r,i))}return s(c,r,i)}}e["~standard"]={validate:s=>{var o;try{const i=YZ(e,s);return i.success?{value:i.data}:{issues:(o=i.error)==null?void 0:o.issues}}catch{return GZ(e,s).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Ry=U("$ZodString",(e,t)=>{var n;tt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??gV(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ve=U("$ZodStringFormat",(e,t)=>{Lf.init(e,t),Ry.init(e,t)}),OV=U("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=tV),Ve.init(e,t)}),$V=U("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=cw(r))}else t.pattern??(t.pattern=cw());Ve.init(e,t)}),LV=U("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=nV),Ve.init(e,t)}),PV=U("$ZodURL",(e,t)=>{Ve.init(e,t),e._zod.check=n=>{try{const r=n.value,a=new URL(r),s=a.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:uV.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&s.endsWith("/")?n.value=s.slice(0,-1):n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),BV=U("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=aV()),Ve.init(e,t)}),IV=U("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=JZ),Ve.init(e,t)}),HV=U("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=qZ),Ve.init(e,t)}),FV=U("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=XZ),Ve.init(e,t)}),UV=U("$ZodULID",(e,t)=>{t.pattern??(t.pattern=KZ),Ve.init(e,t)}),ZV=U("$ZodXID",(e,t)=>{t.pattern??(t.pattern=WZ),Ve.init(e,t)}),VV=U("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=QZ),Ve.init(e,t)}),YV=U("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=mV(t)),Ve.init(e,t)}),GV=U("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=fV),Ve.init(e,t)}),qV=U("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=hV(t)),Ve.init(e,t)}),XV=U("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=eV),Ve.init(e,t)}),KV=U("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=sV),Ve.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),WV=U("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=oV),Ve.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),QV=U("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=iV),Ve.init(e,t)}),JV=U("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=lV),Ve.init(e,t),e._zod.check=n=>{const[r,a]=n.value.split("/");try{if(!a)throw new Error;const s=Number(a);if(`${s}`!==a)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function hj(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const eY=U("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=cV),Ve.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{hj(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function tY(e){if(!ij.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return hj(n)}const nY=U("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=ij),Ve.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{tY(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),rY=U("$ZodE164",(e,t)=>{t.pattern??(t.pattern=dV),Ve.init(e,t)});function aY(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const sY=U("$ZodJWT",(e,t)=>{Ve.init(e,t),e._zod.check=n=>{aY(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),mj=U("$ZodNumber",(e,t)=>{tt.init(e,t),e._zod.pattern=e._zod.bag.pattern??yV,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),n}}),oY=U("$ZodNumber",(e,t)=>{SV.init(e,t),mj.init(e,t)}),iY=U("$ZodBoolean",(e,t)=>{tt.init(e,t),e._zod.pattern=vV,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),lY=U("$ZodUnknown",(e,t)=>{tt.init(e,t),e._zod.parse=n=>n}),cY=U("$ZodNever",(e,t)=>{tt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function uw(e,t,n){e.issues.length&&t.issues.push(...jy(n,e.issues)),t.value[n]=e.value}const uY=U("$ZodArray",(e,t)=>{tt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const s=[];for(let o=0;o<a.length;o++){const i=a[o],c=t.element._zod.run({value:i,issues:[]},r);c instanceof Promise?s.push(c.then(u=>uw(u,n,o))):uw(c,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function nu(e,t,n){e.issues.length&&t.issues.push(...jy(n,e.issues)),t.value[n]=e.value}function dw(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...jy(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const dY=U("$ZodObject",(e,t)=>{tt.init(e,t);const n=ej(()=>{const f=Object.keys(t.shape);for(const g of f)if(!(t.shape[g]instanceof tt))throw new Error(`Invalid element at key "${g}": expected a Zod schema`);const h=zZ(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(h)}});Be(e._zod,"propValues",()=>{const f=t.shape,h={};for(const g in f){const v=f[g]._zod;if(v.values){h[g]??(h[g]=new Set);for(const x of v.values)h[g].add(x)}}return h});const r=f=>{const h=new DV(["shape","payload","ctx"]),g=n.value,v=y=>{const w=Ti(y);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};h.write("const input = payload.value;");const x=Object.create(null);let b=0;for(const y of g.keys)x[y]=`key_${b++}`;h.write("const newResult = {}");for(const y of g.keys)if(g.optionalKeys.has(y)){const w=x[y];h.write(`const ${w} = ${v(y)};`);const S=Ti(y);h.write(`
        if (${w}.issues.length) {
          if (input[${S}] === undefined) {
            if (${S} in input) {
              newResult[${S}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${w}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${S}, ...iss.path] : [${S}],
              }))
            );
          }
        } else if (${w}.value === undefined) {
          if (${S} in input) newResult[${S}] = undefined;
        } else {
          newResult[${S}] = ${w}.value;
        }
        `)}else{const w=x[y];h.write(`const ${w} = ${v(y)};`),h.write(`
          if (${w}.issues.length) payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Ti(y)}, ...iss.path] : [${Ti(y)}]
          })));`),h.write(`newResult[${Ti(y)}] = ${w}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const p=h.compile();return(y,w)=>p(f,y,w)};let a;const s=Gg,o=!Jk.jitless,c=o&&MZ.value,u=t.catchall;let d;e._zod.parse=(f,h)=>{d??(d=n.value);const g=f.value;if(!s(g))return f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f;const v=[];if(o&&c&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)a||(a=r(t.shape)),f=a(f,h);else{f.value={};const w=d.shape;for(const S of d.keys){const N=w[S],C=N._zod.run({value:g[S],issues:[]},h),E=N._zod.optin==="optional"&&N._zod.optout==="optional";C instanceof Promise?v.push(C.then(_=>E?dw(_,f,S,g):nu(_,f,S))):E?dw(C,f,S,g):nu(C,f,S)}}if(!u)return v.length?Promise.all(v).then(()=>f):f;const x=[],b=d.keySet,p=u._zod,y=p.def.type;for(const w of Object.keys(g)){if(b.has(w))continue;if(y==="never"){x.push(w);continue}const S=p.run({value:g[w],issues:[]},h);S instanceof Promise?v.push(S.then(N=>nu(N,f,w))):nu(S,f,w)}return x.length&&f.issues.push({code:"unrecognized_keys",keys:x,input:g,inst:e}),v.length?Promise.all(v).then(()=>f):f}});function fw(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(s=>Cs(s,r,As())))}),t}const fY=U("$ZodUnion",(e,t)=>{tt.init(e,t),Be(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Be(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Be(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Be(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>Cy(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let a=!1;const s=[];for(const o of t.options){const i=o._zod.run({value:n.value,issues:[]},r);if(i instanceof Promise)s.push(i),a=!0;else{if(i.issues.length===0)return i;s.push(i)}}return a?Promise.all(s).then(o=>fw(o,n,e,r)):fw(s,n,e,r)}}),hY=U("$ZodIntersection",(e,t)=>{tt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,s=t.left._zod.run({value:a,issues:[]},r),o=t.right._zod.run({value:a,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([c,u])=>hw(n,c,u)):hw(n,s,o)}});function Xg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(qg(e)&&qg(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),a={...e,...t};for(const s of r){const o=Xg(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};a[s]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],s=t[r],o=Xg(a,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function hw(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),tl(e))return e;const r=Xg(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const mY=U("$ZodEnum",(e,t)=>{tt.init(e,t);const n=jZ(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>DZ.has(typeof r)).map(r=>typeof r=="string"?$f(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const s=r.value;return e._zod.values.has(s)||r.issues.push({code:"invalid_value",values:n,input:s,inst:e}),r}}),gY=U("$ZodTransform",(e,t)=>{tt.init(e,t),e._zod.parse=(n,r)=>{const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(n.value=o,n));if(a instanceof Promise)throw new zl;return n.value=a,n}}),pY=U("$ZodOptional",(e,t)=>{tt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Cy(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),yY=U("$ZodNullable",(e,t)=>{tt.init(e,t),Be(e._zod,"optin",()=>t.innerType._zod.optin),Be(e._zod,"optout",()=>t.innerType._zod.optout),Be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Cy(n.source)}|null)$`):void 0}),Be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),vY=U("$ZodDefault",(e,t)=>{tt.init(e,t),e._zod.optin="optional",Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>mw(s,t)):mw(a,t)}});function mw(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const xY=U("$ZodPrefault",(e,t)=>{tt.init(e,t),e._zod.optin="optional",Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),bY=U("$ZodNonOptional",(e,t)=>{tt.init(e,t),Be(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>gw(s,e)):gw(a,e)}});function gw(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const wY=U("$ZodCatch",(e,t)=>{tt.init(e,t),e._zod.optin="optional",Be(e._zod,"optout",()=>t.innerType._zod.optout),Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>Cs(o,r,As()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(s=>Cs(s,r,As()))},input:n.value}),n.issues=[]),n)}}),SY=U("$ZodPipe",(e,t)=>{tt.init(e,t),Be(e._zod,"values",()=>t.in._zod.values),Be(e._zod,"optin",()=>t.in._zod.optin),Be(e._zod,"optout",()=>t.out._zod.optout),Be(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(s=>pw(s,t,r)):pw(a,t,r)}});function pw(e,t,n){return tl(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const NY=U("$ZodReadonly",(e,t)=>{tt.init(e,t),Be(e._zod,"propValues",()=>t.innerType._zod.propValues),Be(e._zod,"values",()=>t.innerType._zod.values),Be(e._zod,"optin",()=>t.innerType._zod.optin),Be(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(yw):yw(a)}});function yw(e){return e.value=Object.freeze(e.value),e}const EY=U("$ZodCustom",(e,t)=>{Jt.init(e,t),tt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(s=>vw(s,n,r,e));vw(a,n,r,e)}});function vw(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(Ol(a))}}class _Y{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function AY(){return new _Y}const ru=AY();function CY(e,t){return new e({type:"string",...ie(t)})}function kY(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ie(t)})}function xw(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ie(t)})}function jY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ie(t)})}function TY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ie(t)})}function RY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ie(t)})}function MY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ie(t)})}function DY(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ie(t)})}function zY(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ie(t)})}function OY(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ie(t)})}function $Y(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ie(t)})}function LY(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ie(t)})}function PY(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ie(t)})}function BY(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ie(t)})}function IY(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ie(t)})}function HY(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ie(t)})}function FY(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ie(t)})}function UY(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ie(t)})}function ZY(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ie(t)})}function VY(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ie(t)})}function YY(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ie(t)})}function GY(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ie(t)})}function qY(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ie(t)})}function XY(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ie(t)})}function KY(e,t){return new e({type:"string",format:"date",check:"string_format",...ie(t)})}function WY(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ie(t)})}function QY(e,t){return new e({type:"string",format:"duration",check:"string_format",...ie(t)})}function JY(e,t){return new e({type:"number",checks:[],...ie(t)})}function eG(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ie(t)})}function tG(e,t){return new e({type:"boolean",...ie(t)})}function nG(e){return new e({type:"unknown"})}function rG(e,t){return new e({type:"never",...ie(t)})}function bw(e,t){return new dj({check:"less_than",...ie(t),value:e,inclusive:!1})}function nm(e,t){return new dj({check:"less_than",...ie(t),value:e,inclusive:!0})}function ww(e,t){return new fj({check:"greater_than",...ie(t),value:e,inclusive:!1})}function rm(e,t){return new fj({check:"greater_than",...ie(t),value:e,inclusive:!0})}function Sw(e,t){return new wV({check:"multiple_of",...ie(t),value:e})}function gj(e,t){return new NV({check:"max_length",...ie(t),maximum:e})}function jd(e,t){return new EV({check:"min_length",...ie(t),minimum:e})}function pj(e,t){return new _V({check:"length_equals",...ie(t),length:e})}function aG(e,t){return new AV({check:"string_format",format:"regex",...ie(t),pattern:e})}function sG(e){return new CV({check:"string_format",format:"lowercase",...ie(e)})}function oG(e){return new kV({check:"string_format",format:"uppercase",...ie(e)})}function iG(e,t){return new jV({check:"string_format",format:"includes",...ie(t),includes:e})}function lG(e,t){return new TV({check:"string_format",format:"starts_with",...ie(t),prefix:e})}function cG(e,t){return new RV({check:"string_format",format:"ends_with",...ie(t),suffix:e})}function pc(e){return new MV({check:"overwrite",tx:e})}function uG(e){return pc(t=>t.normalize(e))}function dG(){return pc(e=>e.trim())}function fG(){return pc(e=>e.toLowerCase())}function hG(){return pc(e=>e.toUpperCase())}function mG(e,t,n){return new e({type:"array",element:t,...ie(n)})}function gG(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ie(n)})}const pG=U("ZodISODateTime",(e,t)=>{YV.init(e,t),We.init(e,t)});function yG(e){return XY(pG,e)}const vG=U("ZodISODate",(e,t)=>{GV.init(e,t),We.init(e,t)});function xG(e){return KY(vG,e)}const bG=U("ZodISOTime",(e,t)=>{qV.init(e,t),We.init(e,t)});function wG(e){return WY(bG,e)}const SG=U("ZodISODuration",(e,t)=>{XV.init(e,t),We.init(e,t)});function NG(e){return QY(SG,e)}const EG=(e,t)=>{rj.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>UZ(e,n)},flatten:{value:n=>FZ(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},Pf=U("ZodError",EG,{Parent:Error}),_G=ZZ(Pf),AG=VZ(Pf),CG=sj(Pf),kG=oj(Pf),it=U("ZodType",(e,t)=>(tt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>Ps(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>_G(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>CG(e,n,r),e.parseAsync=async(n,r)=>AG(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>kG(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(wq(n,r)),e.superRefine=n=>e.check(Sq(n)),e.overwrite=n=>e.check(pc(n)),e.optional=()=>Aw(e),e.nullable=()=>Cw(e),e.nullish=()=>Aw(Cw(e)),e.nonoptional=n=>hq(e,n),e.array=()=>ks(e),e.or=n=>nq([e,n]),e.and=n=>aq(e,n),e.transform=n=>kw(e,iq(n)),e.default=n=>uq(e,n),e.prefault=n=>fq(e,n),e.catch=n=>gq(e,n),e.pipe=n=>kw(e,n),e.readonly=()=>vq(e),e.describe=n=>{const r=e.clone();return ru.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=ru.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ru.get(e);const r=e.clone();return ru.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),yj=U("_ZodString",(e,t)=>{Ry.init(e,t),it.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(aG(...r)),e.includes=(...r)=>e.check(iG(...r)),e.startsWith=(...r)=>e.check(lG(...r)),e.endsWith=(...r)=>e.check(cG(...r)),e.min=(...r)=>e.check(jd(...r)),e.max=(...r)=>e.check(gj(...r)),e.length=(...r)=>e.check(pj(...r)),e.nonempty=(...r)=>e.check(jd(1,...r)),e.lowercase=r=>e.check(sG(r)),e.uppercase=r=>e.check(oG(r)),e.trim=()=>e.check(dG()),e.normalize=(...r)=>e.check(uG(...r)),e.toLowerCase=()=>e.check(fG()),e.toUpperCase=()=>e.check(hG())}),jG=U("ZodString",(e,t)=>{Ry.init(e,t),yj.init(e,t),e.email=n=>e.check(kY(TG,n)),e.url=n=>e.check(DY(RG,n)),e.jwt=n=>e.check(qY(YG,n)),e.emoji=n=>e.check(zY(MG,n)),e.guid=n=>e.check(xw(Nw,n)),e.uuid=n=>e.check(jY(au,n)),e.uuidv4=n=>e.check(TY(au,n)),e.uuidv6=n=>e.check(RY(au,n)),e.uuidv7=n=>e.check(MY(au,n)),e.nanoid=n=>e.check(OY(DG,n)),e.guid=n=>e.check(xw(Nw,n)),e.cuid=n=>e.check($Y(zG,n)),e.cuid2=n=>e.check(LY(OG,n)),e.ulid=n=>e.check(PY($G,n)),e.base64=n=>e.check(VY(UG,n)),e.base64url=n=>e.check(YY(ZG,n)),e.xid=n=>e.check(BY(LG,n)),e.ksuid=n=>e.check(IY(PG,n)),e.ipv4=n=>e.check(HY(BG,n)),e.ipv6=n=>e.check(FY(IG,n)),e.cidrv4=n=>e.check(UY(HG,n)),e.cidrv6=n=>e.check(ZY(FG,n)),e.e164=n=>e.check(GY(VG,n)),e.datetime=n=>e.check(yG(n)),e.date=n=>e.check(xG(n)),e.time=n=>e.check(wG(n)),e.duration=n=>e.check(NG(n))});function Lt(e){return CY(jG,e)}const We=U("ZodStringFormat",(e,t)=>{Ve.init(e,t),yj.init(e,t)}),TG=U("ZodEmail",(e,t)=>{LV.init(e,t),We.init(e,t)}),Nw=U("ZodGUID",(e,t)=>{OV.init(e,t),We.init(e,t)}),au=U("ZodUUID",(e,t)=>{$V.init(e,t),We.init(e,t)}),RG=U("ZodURL",(e,t)=>{PV.init(e,t),We.init(e,t)}),MG=U("ZodEmoji",(e,t)=>{BV.init(e,t),We.init(e,t)}),DG=U("ZodNanoID",(e,t)=>{IV.init(e,t),We.init(e,t)}),zG=U("ZodCUID",(e,t)=>{HV.init(e,t),We.init(e,t)}),OG=U("ZodCUID2",(e,t)=>{FV.init(e,t),We.init(e,t)}),$G=U("ZodULID",(e,t)=>{UV.init(e,t),We.init(e,t)}),LG=U("ZodXID",(e,t)=>{ZV.init(e,t),We.init(e,t)}),PG=U("ZodKSUID",(e,t)=>{VV.init(e,t),We.init(e,t)}),BG=U("ZodIPv4",(e,t)=>{KV.init(e,t),We.init(e,t)}),IG=U("ZodIPv6",(e,t)=>{WV.init(e,t),We.init(e,t)}),HG=U("ZodCIDRv4",(e,t)=>{QV.init(e,t),We.init(e,t)}),FG=U("ZodCIDRv6",(e,t)=>{JV.init(e,t),We.init(e,t)}),UG=U("ZodBase64",(e,t)=>{eY.init(e,t),We.init(e,t)}),ZG=U("ZodBase64URL",(e,t)=>{nY.init(e,t),We.init(e,t)}),VG=U("ZodE164",(e,t)=>{rY.init(e,t),We.init(e,t)}),YG=U("ZodJWT",(e,t)=>{sY.init(e,t),We.init(e,t)}),vj=U("ZodNumber",(e,t)=>{mj.init(e,t),it.init(e,t),e.gt=(r,a)=>e.check(ww(r,a)),e.gte=(r,a)=>e.check(rm(r,a)),e.min=(r,a)=>e.check(rm(r,a)),e.lt=(r,a)=>e.check(bw(r,a)),e.lte=(r,a)=>e.check(nm(r,a)),e.max=(r,a)=>e.check(nm(r,a)),e.int=r=>e.check(Ew(r)),e.safe=r=>e.check(Ew(r)),e.positive=r=>e.check(ww(0,r)),e.nonnegative=r=>e.check(rm(0,r)),e.negative=r=>e.check(bw(0,r)),e.nonpositive=r=>e.check(nm(0,r)),e.multipleOf=(r,a)=>e.check(Sw(r,a)),e.step=(r,a)=>e.check(Sw(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function cs(e){return JY(vj,e)}const GG=U("ZodNumberFormat",(e,t)=>{oY.init(e,t),vj.init(e,t)});function Ew(e){return eG(GG,e)}const qG=U("ZodBoolean",(e,t)=>{iY.init(e,t),it.init(e,t)});function XG(e){return tG(qG,e)}const KG=U("ZodUnknown",(e,t)=>{lY.init(e,t),it.init(e,t)});function _w(){return nG(KG)}const WG=U("ZodNever",(e,t)=>{cY.init(e,t),it.init(e,t)});function QG(e){return rG(WG,e)}const JG=U("ZodArray",(e,t)=>{uY.init(e,t),it.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(jd(n,r)),e.nonempty=n=>e.check(jd(1,n)),e.max=(n,r)=>e.check(gj(n,r)),e.length=(n,r)=>e.check(pj(n,r)),e.unwrap=()=>e.element});function ks(e,t){return mG(JG,e,t)}const eq=U("ZodObject",(e,t)=>{dY.init(e,t),it.init(e,t),Be(e,"shape",()=>t.shape),e.keyof=()=>sq(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:_w()}),e.loose=()=>e.clone({...e._zod.def,catchall:_w()}),e.strict=()=>e.clone({...e._zod.def,catchall:QG()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>PZ(e,n),e.merge=n=>BZ(e,n),e.pick=n=>$Z(e,n),e.omit=n=>LZ(e,n),e.partial=(...n)=>IZ(xj,e,n[0]),e.required=(...n)=>HZ(bj,e,n[0])});function ca(e,t){const n={type:"object",get shape(){return ky(this,"shape",{...e}),this.shape},...ie(t)};return new eq(n)}const tq=U("ZodUnion",(e,t)=>{fY.init(e,t),it.init(e,t),e.options=t.options});function nq(e,t){return new tq({type:"union",options:e,...ie(t)})}const rq=U("ZodIntersection",(e,t)=>{hY.init(e,t),it.init(e,t)});function aq(e,t){return new rq({type:"intersection",left:e,right:t})}const Kg=U("ZodEnum",(e,t)=>{mY.init(e,t),it.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const s={};for(const o of r)if(n.has(o))s[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Kg({...t,checks:[],...ie(a),entries:s})},e.exclude=(r,a)=>{const s={...t.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new Kg({...t,checks:[],...ie(a),entries:s})}});function sq(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Kg({type:"enum",entries:n,...ie(t)})}const oq=U("ZodTransform",(e,t)=>{gY.init(e,t),it.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=s=>{if(typeof s=="string")n.issues.push(Ol(s,n.value,t));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!0),n.issues.push(Ol(o))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(s=>(n.value=s,n)):(n.value=a,n)}});function iq(e){return new oq({type:"transform",transform:e})}const xj=U("ZodOptional",(e,t)=>{pY.init(e,t),it.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Aw(e){return new xj({type:"optional",innerType:e})}const lq=U("ZodNullable",(e,t)=>{yY.init(e,t),it.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Cw(e){return new lq({type:"nullable",innerType:e})}const cq=U("ZodDefault",(e,t)=>{vY.init(e,t),it.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function uq(e,t){return new cq({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const dq=U("ZodPrefault",(e,t)=>{xY.init(e,t),it.init(e,t),e.unwrap=()=>e._zod.def.innerType});function fq(e,t){return new dq({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const bj=U("ZodNonOptional",(e,t)=>{bY.init(e,t),it.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hq(e,t){return new bj({type:"nonoptional",innerType:e,...ie(t)})}const mq=U("ZodCatch",(e,t)=>{wY.init(e,t),it.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function gq(e,t){return new mq({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const pq=U("ZodPipe",(e,t)=>{SY.init(e,t),it.init(e,t),e.in=t.in,e.out=t.out});function kw(e,t){return new pq({type:"pipe",in:e,out:t})}const yq=U("ZodReadonly",(e,t)=>{NY.init(e,t),it.init(e,t)});function vq(e){return new yq({type:"readonly",innerType:e})}const xq=U("ZodCustom",(e,t)=>{EY.init(e,t),it.init(e,t)});function bq(e){const t=new Jt({check:"custom"});return t._zod.check=e,t}function wq(e,t={}){return gG(xq,e,t)}function Sq(e){const t=bq(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ol(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(Ol(a))}},e(n.value,n)));return t}const Nq=ca({type:Lt(),id:Lt()}),Eq=ca({skill:Lt(),level:cs()}),_q=ca({skillLevel:Eq.optional(),items:ks(Nq).optional()}),Aq=ca({base:Lt(),subtext:Lt()}),Cq=ca({rank:cs(),edid:Lt(),name:Lt(),description:Aq,prerequisites:_q}),kq=ca({x:cs(),y:cs(),horizontal:cs(),vertical:cs()}),jq=ca({parents:ks(Lt()),children:ks(Lt())}),Tq=ca({edid:Lt(),name:Lt(),ranks:ks(Cq),totalRanks:cs(),connections:jq,isRoot:XG(),position:kq}),Rq=ca({treeId:Lt(),treeName:Lt(),treeDescription:Lt(),category:Lt(),perks:ks(Tq)});ks(Rq);function jw({item:e,isExpanded:t=!1,onToggle:n,className:r,allTraitIds:a,disableHover:s=!1}){e.originalTrait;const{hasRegularTrait:o,hasBonusTrait:i,addRegularTrait:c,addBonusTrait:u,removeTrait:d,canAddRegularTrait:f,canAddBonusTrait:h,build:g}=Dt(),x=o(e.id)?"primary":i(e.id)?"secondary":"none",b=S=>{x===S?d(e.id):(d(e.id),S==="primary"&&f()?c(e.id):S==="secondary"&&h()&&u(e.id))},p=!f()&&x!=="primary",y=!h()&&x!=="secondary",w=()=>x==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":x==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return m.useEffect(()=>{var S,N;if(a){const C=((S=g==null?void 0:g.traits)==null?void 0:S.regular)||[],E=((N=g==null?void 0:g.traits)==null?void 0:N.bonus)||[];[...C,...E].filter(A=>!a.includes(A)).forEach(A=>d(A))}},[a,g==null?void 0:g.traits,d]),l.jsxs(Ze,{expanded:t,onToggle:n,className:G(r,w()),disableHover:s,children:[l.jsx(Ze.Header,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(BN,{className:"h-4 w-4 text-black"}),l.jsx(ac,{className:"text-primary font-semibold",children:e.name})]})}),l.jsx(Ze.Summary,{children:l.jsx(Yr,{text:e.description,className:G("text-base text-muted-foreground",t?"":"line-clamp-2")})}),l.jsx(Ze.Footer,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ae,{size:"sm",variant:x==="primary"?"default":"outline",disabled:p,className:G("flex-1 text-xs",x==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:S=>{S.stopPropagation(),b("primary")},children:x==="primary"?"Remove Trait":"Starting Trait"}),l.jsx(ae,{size:"sm",variant:x==="secondary"?"default":"outline",disabled:y,className:G("flex-1 text-xs",x==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:S=>{S.stopPropagation(),b("secondary")},children:x==="secondary"?"Remove Trait":"Late Game Trait"})]})})]})}function Mq(e,t){const n=m.useMemo(()=>e.map(i=>({id:i.edid,name:i.name,description:i.description,category:i.category,effects:i.effects.map(c=>`${c.type} ${c.condition||""} ${c.value}`),tags:i.tags,originalTrait:i})),[e]),r=m.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=m.useMemo(()=>new ia(n,r),[n,r]),s=m.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredTraits:m.useMemo(()=>s.map(i=>i.item.originalTrait),[s]),searchResults:s,searchableTraits:n}}function wj(e){const t=e.map(n=>n.category);return[...new Set(t)].sort()}function Dq(e){const t=e.flatMap(n=>n.effects.map(r=>r.type));return[...new Set(t)].sort()}function Sj(e){const t=e.flatMap(n=>n.tags);return[...new Set(t)].sort()}const zq=[{name:"Acoustic Arcanist",description:"Your magic flows through melody and vibration. After playing an instrument at an inn, your sonic spells become ***20%*** more powerful. However, your booming presence makes hiring followers more expensive, and your reliance on sound magic weakens your physical attacks by ***15%***.",edid:"LoreTraits_AcousticArcanistAb",formId:"0xFEDF282F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Adrenaline Rush",description:"You possess a natural flight response. When at less than ***20%*** health, you move ***20%*** faster and regenerate ***1*** stamina per second but also deal ***30%*** less damage when below this threshold.",edid:"Traits_AdrenalineRushAb",formId:"0xFEA72D78",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Angler",description:"Your bond with the sea grants unique benefits. Mudcrabs and slaughterfish become friendly toward you. Fishing yields more valuable items. Fishing rods deal double damage and have a chance to summon a mudcrab to fight at your side. The summoned mudcrab becomes stronger if you're carrying an insect or small fish. Fishing rods can be enchanted. However, your affinity with the waters leaves you ***10%*** more vulnerable to shock damage.",edid:"Traits_AnglerAb",formId:"0xFEA72071",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Au Naturel",description:"Embrace your divine gifts! Start with ***+100*** health, magicka, and stamina. For each piece of armor or clothing you wear, you lose ***40*** from each attribute (up to a maximum loss of ***-160*** with four pieces equipped). Additionally, you gain +1 to health, magicka, and stamina per level for each empty armor slot (head, chest, hands, and feet).",edid:"Traits_AuNaturelAb",formId:"0xFEA72D7B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Bad Natured",description:"You were born into wickedness. Your attacks while being crouched deals ***20%*** more and you're better at pickpocketing. However, attacks while standing up do ***20%*** less and wearing a divine amulet will hurt you.",edid:"Traits_BadNaturedAb",formId:"0xFEA72D85",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:0,condition:"passive effect",duration:0,flags:["No Hit Event","No Duration","No Magnitude","No Area","Hide in UI","Painless"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bane of the Wicked",description:"You are an enemy to all things abhorrent. Deal ***20%*** more damage to undead, daedra and werewolves. However, do ***10%*** less damage to other beings.",edid:"Traits_BaneoftheWickedAb",formId:"0xFEA72D97",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blighted Fists",description:"Your afflictions fuel your fury! Your unarmed attacks deal ***+10*** unresistable disease damage per disease.",edid:"LoreTraits_BlightedFistsAb",formId:"0xFEDF281F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blood Warrior",description:"You take ***50%*** more physical damage and have ***100%*** weakness to Poison. However you start with ***+100*** health and gain ***+5*** health per level.",edid:"LoreTraits_BloodWarriorAb",formId:"0xFEDF200C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:100,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bulwark",description:"When walking or standing still, you gain ***200*** armor rating and reflect ***10%*** physical damage. You drain ***1*** additional stamina per second while sprinting and ***0.25*** when running.",edid:"Traits_BulwarkAb",formId:"0xFEA72D9F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:.25,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Defiler",description:"The only use you have for the living is to resurrect them in death. Deal ***20%*** more damage to playable races. However, do ***10%*** less damage to other beings.",edid:"Traits_DefilerAb",formId:"0xFEA72D99",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disbeliever",description:"You reject the influence of gods, placing your faith in logic and reason instead. Dwemer weapons and armor are ***33%*** stronger, but you cannot receive blessings from shrines or divines.",edid:"Traits_DisbelieverAb",formId:"0xFEA7284A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disciplined",description:"Shoot to kill. Bows and crossbows deal ***20%*** more damage. However, they draw/reload ***40%*** slower.",edid:"Traits_DisciplinedAb",formId:"0xFEA72D8F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Dominating Will",description:"Your presence commands fear, intimidation checks almost always succeed, and frenzy spells are ***20%*** stronger. However, your persuasive charm is lacking, making persuasion checks harder, and your pacifying spells are ***20%*** weaker.",edid:"LoreTraits_DominatingWillAb",formId:"0xFEDF281A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Dovah Tinvaak",description:"You are fluent in Dragon speech and as such can shout ***10%*** more often, at ***20%*** reduced effectiveness.",edid:"Traits_DovahTinvaakAb",formId:"0xFEA7204C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:.10000000149011612,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"social",tags:["social"],diagram:""},{name:"Druid",description:"Druids are attuned to nature, making spriggans friendly and reducing the cost of druidic spells by up to ***30%***. You can craft ***Lifebloom Essence*** from Taproot and Spriggan Sap for powerful regeneration. However, your bond with the wild leaves you ***25%*** more vulnerable to fire and axes.",edid:"Traits_DruidAb",formId:"0xFEA7207C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Elemental Conduit",description:`Fire spells are more powerful in sunny weather but lose potency in the rain. 
Shock spells are enhanced during rain but are less effective in snowy conditions. 
Frost spells excel in snowy weather but weaken under sunny skies.`,edid:"Traits_ElementalConduitAb",formId:"0xFEA72058",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Fast Shot",description:"You'd rather shoot fast than shoot hard. Bows draw ***40%*** faster, crossbows reload ***40%*** faster. However, bows and crossbows deal ***30%*** less damage.",edid:"Traits_FastShotAb",formId:"0xFEA72D8D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Fatal Attraction",description:"Your presence is as dangerous as it is alluring. You can choose one gender, you deal ***20%*** more physical damage to the selected gender, but in turn, take ***20%*** more from the other.",edid:"LoreTraits_FatalAttractionAb",formId:"0xFEDF281D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Focused",description:"When in danger, you think before acting. When at less than ***20%*** health, you regenerate ***5*** magicka per second and absorb ***10%*** of incoming spells. However, you take ***10%*** more damage when below this threshold.",edid:"Traits_FocusedAb",formId:"0xFEA72D93",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Focused Precision",description:"Your reliance on careful aim comes at a cost. Arrows and bolts deal ***15%*** less damage, but have a ***20%*** chance to push targets away. The strength of this pushback scales with your Marksman skill.",edid:"LoreTraits_FocusedPrecisionAb",formId:"0xFEDF2835",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Gambler",description:"You go in all or nothing. Gain ***50%*** chance to critical hit. However, overall weapon damage is reduced by ***40%***. When you land a critical hit, your attacks do ***10%*** more damage for ***30*** seconds (stackable up to ***5*** times).",edid:"Traits_GamblerAb",formId:"0xFEA72DA1",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Giantkin",description:"Descended from the mighty giants; you gain ***10%*** magic resistance and damage with blunt weapons, however you cannot read skill books, or use scrolls and staves.",edid:"Traits_GiantkinAb",formId:"0xFEA7205F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Glutton",description:"You LOVE food but hate medicine. Food benefits are ***25%*** stronger but potions have only ***50%*** their efficiency.",edid:"Traits_GluttonAb",formId:"0xFEA72D7F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Good Natured",description:"You have a good heart. Deal ***20%*** less damage with weapons and Destruction spells. However, while wearing an amulet of the divines beneficial spells and potions last ***20%*** longer and you take ***20%*** less damage.",edid:"Traits_GoodNaturedAb",formId:"0xFEA72D83",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Hoarder",description:"You love carrying stuff around, even if it's junk. Gain ***+200*** carryweight. Selling prices are ***50%*** worse.",edid:"Traits_HoarderAb",formId:"0xFEA72D87",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Homeowner",description:"You've secured a place to call your own, choosing one of Skyrim's fine homes to settle in. However, comfort comes at a cost: each week, you must make a mortgage payment based on the home's value.",edid:"Traits_HomeownerAb",formId:"0xFEA720B5",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Introvert",description:"You thrive in solitude but falter in the crowd. When facing three or fewer enemies, you deal ***15%*** more damage, whether with weapons or Destruction magic. Against four or more, your nerves get the better of you, and you deal ***10%*** less.",edid:"Traits_IntrovertAb",formId:"0xFEA720D4",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Jack of All Spells",description:"But master of none. Novice, Apprentice and Adept spells are ***20%*** stronger or longer lasting, expert and master spells are ***20%*** weaker or shorter.",edid:"Traits_JackofAllSpellsAb",formId:"0xFEA72D89",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"King of Worms",description:"You've gained hidden insight into necromantic arts. You can have ***1*** additional summon or undead thrall. However, the duration of summon and resurrecting spells is reduced by ***33%***.",edid:"Traits_KingofWormsAb",formId:"0xFEA72D9B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Light Foot",description:"You've never felt comfortable in footwear. When not wearing boots/shoes, your movement is muffled, you move ***5%*** faster and suffer no fall damage. When wearing boots/shoes you move ***10%*** slower.",edid:"Traits_LightFootAb",formId:"0xFEA72D79",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Lurker",description:"When not wearing any clothes sneak attacks deal ***2.5*** times more damage and can sneak ***25%*** better. Eating fish when it's raw and wriggling triggers a powerful healing effect that lasts ***10*** minutes. However, armor provides no protection, cooked food offers no benefits, and weapons with a weight above 10 will deal no damage.",edid:"Traits_GollumAb",formId:"0xFEA720DF",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Marathon Runner",description:"You regenerate ***5*** stamina per second while sprinting. However, you will not be able to gain any stamina while running or standing still.",edid:"Traits_MarathonRunnerAb",formId:"0xFEA7205B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e4,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"special",tags:["special"],diagram:""},{name:"Master of Destiny",description:"You reject the influence of fate and star signs. Standing Stones cannot be used, but you begin the game with ***3*** additional perk points and a permanent ***+5*** boost to all skills.",edid:"Traits_MasterofDestinyAb",formId:"0xFEA7206D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Nosferatu",description:"You're an ugly sight and live in the sewers. ***-50*** speech, no health, magicka or stamina regen outdoors. Eating skeever meat gives you a ***20%*** speed boost and restores ***10*** health, magicka and stamina per second for ***180*** seconds.",edid:"Traits_NosferatuAb",formId:"0xFEA72039",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:50,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:50,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Old Fashioned",description:"If it ain't broke, don't fix it. Weapons, armor and magical staves made of iron, wood, steel, fur or hide are ***15%*** stronger. Otherwise, they are ***10%*** weaker.",edid:"Traits_OldFashionedAb",formId:"0xFEA72D8B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Pacifist",description:"When your arms are lowered you restore ***2*** magicka and stamina per second. However, raising your hands in combat will have the opposite effect. Those born under the sign of the Atronach do not gain any benefits.",edid:"Traits_PacifistAb",formId:"0xFEA72D9D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:2,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:2,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Phalanx",description:"You deal ***15%*** more damage with spears, javelins, pikes, and halberds. However, you take ***50%*** more damage when hit from behind. Also gives you a unique pike.",edid:"LoreTraits_PhalanxAb",formId:"0xFEDF2801",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Rage",description:"You posses a natural fight response. When at less than ***20%*** health, you deal ***20%*** more damage and take ***20%*** less damage. However, you move ***30%*** slower when below this threshold.",edid:"Traits_RageAb",formId:"0xFEA72D91",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Serene Presence",description:"Your calming aura makes you effortlessly persuasive: persuasion checks almost always succeed, and pacifying spells are ***20%*** stronger. However, your intimidation attempts are half as likely to succeed, and your frenzy spells are ***20%*** weaker.",edid:"LoreTraits_SerenePresenceAb",formId:"0xFEDF2816",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Shehai",description:"Your bound weapons do ***15%*** more damage. But you take ***25%*** more damage from the undead.",edid:"LoreTraits_ShehaiAb",formId:"0xFEDF2029",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Silent Dovah",description:"You choose not to speak the Thu'um, instead hoarding the souls of slain dragons to fuel your own power. For each unspent dragon soul, you gain ***+10*** Health, Magicka, and Stamina. However, this draconic strength rejects the curse of beast or blood: werewolves and vampires cannot harness its power.",edid:"LoreTraits_SilentDovahAb",formId:"0xFEDF280C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Skilled",description:"Reading skill books grants an extra skill point and trainers cost ***50%*** less, however every ***5*** levels you don't gain a perk point.",edid:"Traits_SkilledAb",formId:"0xFEA7203F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Embed",description:"At will, you can consume a dragon soul to amplify the magnitude of your shouts by ***50%*** for ***1*** hour.",edid:"LoreTraits_SoulEmbedAb",formId:"0xFEDF2004",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Reaver",description:"You've claimed countless souls for your gain. Weapon and armor enchantments are ***10%*** stronger and use ***10%*** less charge. Armor rating and weapon damage is reduced by ***10%***.",edid:"Traits_SoulReaverAb",formId:"0xFEA72D95",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Sunkissed",description:"You draw strength from the sun's radiant blaze: sun spells are ***15%*** more powerful in your hands. But such warmth comes at a cost: you take ***25%*** more frost damage, and this weakness deepens to ***50%*** beneath the cold veil of night.",edid:"LoreTraits_SunkissedAb",formId:"0xFEDF2014",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Swimmer",description:"You prefer life on the water. In water, you swim ***30%*** faster, can breath underwater and regenerate health, stamina and magicka by a flat ***1*** per second. On land, you suffer ***25%*** less health, stamina and magicka regeneration.",edid:"Traits_SwimmerAb",formId:"0xFEA72D81",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:0,condition:"recovery effect, duration scales with power",duration:0,flags:["Recover","No Magnitude","No Area","Hide in UI","Power Affects Duration","No Hit Effect"]},{type:"special_effect",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Touch of the Arcane",description:"Your touch and cloak spells are ***20%*** stronger. All other spell types are ***10%*** weaker or last ***10%*** less.",edid:"LoreTraits_TouchoftheArcaneAb",formId:"0xFEDF2808",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unbound Hands",description:"Handwear constricts you. Spells are ***15%*** stronger and unarmed attacks do ***+30*** more damage when not wearing gloves/gauntlets. However, they suffer the opposite effect when wearing gloves/gauntlets.",edid:"Traits_UnboundHandsAb",formId:"0xFEA72D7D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unshakable",description:"You turn defense into offense. Your shield bashes deal ***20%*** more damage and cost ***20%*** less Stamina. However, your unwavering focus on your shield makes you slower while blocking.",edid:"LoreTraits_UnshakableAb",formId:"0xFEDF2833",spell:{cost:1109,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]},{type:"special_effect",value:50,condition:"while blocking, negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Wandering Monk",description:"Power attacks with quarterstaves will force the enemy to drop their weapon to the ground, however this only applies if you're not wearing any armor (light or heavy). You also recieve a unique battlestaff.",edid:"LoreTraits_WanderingMonkAb",formId:"0xFEDF201A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Way of the Voice",description:"You follow the pacifist creed of the Greybeards, and as such your hostile shouts are ***30%*** less effective, but using non-hostile shouts has a ***20%*** chance reset the shout cooldown.",edid:"Traits_WayoftheVoiceAb",formId:"0xFEA72050",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Witcher",description:"Potions and poisons you craft are ***20%*** more effective, and consuming raw ingredients grants double the effect. However, you can only benefit from up to ***four*** active potion effects at a time.",edid:"Traits_WitcherAb",formId:"0xFEA72032",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"crafting",tags:["crafting"],diagram:""},{name:"Wizard's Wardrobe",description:"Your wands are ***30%*** more effective when wearing a wizard hat. When not wearing a wizard hat, all spells are ***10%*** less powerful or last ***10%*** less.",edid:"LoreTraits_WizardsWardrobeAb",formId:"0xFEDF2806",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""}],Oq={traits:zq};function $q(){const[e,t]=m.useState({search:"",category:"",tags:[]}),n=m.useMemo(()=>{const i=Oq.traits;if(!i||!Array.isArray(i))return console.error("Invalid trait data structure detected"),[];const c=i.map(u=>({...u,name:u.name||"Unknown Trait",description:u.description||"",category:u.category||"misc",tags:u.tags||[],effects:u.effects||[]}));return console.log(`Successfully loaded ${c.length} traits`),c},[]),r=m.useMemo(()=>n.filter(i=>{if(e.search){const c=e.search.toLowerCase();if(![i.name,i.description,i.category,...i.tags,...i.effects.map(d=>d.type)].join(" ").toLowerCase().includes(c))return!1}return!(e.category&&i.category!==e.category||e.tags.length>0&&!e.tags.some(u=>i.tags.includes(u)||i.category===u||i.effects.some(d=>d.type===u)))}),[n,e]),a=m.useMemo(()=>wj(n),[n]),s=m.useMemo(()=>Dq(n),[n]),o=m.useMemo(()=>Sj(n),[n]);return{traits:r,allTraits:n,loading:!1,error:null,filters:e,setFilters:t,allCategories:a,allEffectTypes:s,allTags:o}}function Lq(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,s]=m.useState(null),[o,i]=m.useState([]),[c,u]=m.useState("alphabetical"),[d,f]=m.useState("grid"),[h,g]=m.useState(new Set);m.useEffect(()=>{async function j(){try{r(!0);const A=await fetch("/lorerim-arcaneum/data/traits.json");if(!A.ok)throw new Error("Failed to fetch trait data");const D=await A.json();t(D.traits)}catch(A){s("Failed to load trait data"),console.error("Error loading traits:",A)}finally{r(!1)}}j()},[]),e.map(ob);const x=(()=>{const j=wj(e),A=Sj(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:j.map(D=>({id:`category-${D}`,label:D,value:D,category:"Categories",description:`Traits in ${D} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:A.map(D=>({id:`tag-${D}`,label:D,value:D,category:"Tags",description:`Traits tagged with ${D}`}))}]})(),b=j=>{let A;typeof j=="string"?A={id:`custom-${j}`,label:j,value:j,category:"Fuzzy Search"}:A={id:`${j.category}-${j.id}`,label:j.label,value:j.value,category:j.category},o.some(D=>D.value===A.value&&D.category===A.category)||i(D=>[...D,A])},p=j=>{i(A=>A.filter(D=>D.id!==j))},y=e.filter(j=>o.length===0?!0:o.every(A=>{switch(A.category){case"Fuzzy Search":return!0;case"Categories":return j.category===A.value;case"Tags":return j.tags.some(D=>D===A.value);default:return!0}})),w=o.filter(j=>j.category==="Fuzzy Search").map(j=>j.value).join(" "),{filteredTraits:S}=Mq(y,w),N=S.map(ob),C=e.map(j=>j.edid),E=[...N].sort((j,A)=>{var D,I;switch(c){case"alphabetical":return j.name.localeCompare(A.name);case"category":const R=z=>{switch(z){case"Combat":return 1;case"Magic":return 2;case"Stealth":return 3;case"Social":return 4;case"Survival":return 5;default:return 6}},k=R(j.category),$=R(A.category);return k!==$?k-$:j.name.localeCompare(A.name);case"effect-count":const T=((D=j.effects)==null?void 0:D.length)||0,P=((I=A.effects)==null?void 0:I.length)||0;return T!==P?P-T:j.name.localeCompare(A.name);default:return 0}}),_=j=>{const A=new Set(h);if(d==="grid"){const I=E.findIndex(P=>P.id===j),k=Math.floor(I/3)*3,$=Math.min(k+3,E.length);E.slice(k,$).some(P=>A.has(P.id))?E.slice(k,$).forEach(P=>{A.delete(P.id)}):E.slice(k,$).forEach(P=>{A.add(P.id)})}else A.has(j)?A.delete(j):A.add(j);g(A)};return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(li,{title:"Traits",description:"Choose your character's traits. Traits provide unique abilities and modifiers that will shape your character's capabilities throughout their journey.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(yf,{categories:x,onSelect:b,onCustomSearch:b})}),l.jsxs(I0,{children:[l.jsx(H0,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(Wr,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":c==="category"?"Category":"Count"]})}),l.jsxs(mf,{align:"end",children:[l.jsx(Vr,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(Vr,{onClick:()=>u("category"),children:"Category"}),l.jsx(Vr,{onClick:()=>u("effect-count"),children:"Effect Count"})]})]}),l.jsxs("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg",children:[l.jsx(ae,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Wd,{className:"h-4 w-4"})}),l.jsx(ae,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(Kd,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:o.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(hn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),o.map(j=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>p(j.id),title:"Click to remove",children:[j.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},j.id))]})}),d==="grid"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:E.map(j=>{const A=h.has(j.id);return l.jsx(jw,{item:j,isExpanded:A,onToggle:()=>_(j.id),className:"w-full",allTraitIds:C},j.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:E.map(j=>{const A=h.has(j.id);return l.jsx(jw,{item:j,isExpanded:A,onToggle:()=>_(j.id),className:"w-full",allTraitIds:C},j.id)})}),E.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function Tw({races:e,onSelect:t,placeholder:n="Search races...",className:r=""}){const a=m.useMemo(()=>e.map(i=>({id:i.edid,label:i.name,description:i.description,category:i.category,icon:l.jsx(oC,{raceName:i.name,size:"sm"}),badge:i.category&&l.jsx(ue,{variant:"outline",className:G("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:i.category}),metadata:{originalRace:i}})),[e]),s=i=>{const c=e.find(u=>u.edid===i.id);c&&t(c)},o=(i,c)=>l.jsxs("div",{className:"flex items-center gap-3",children:[i.icon&&l.jsx("div",{className:"flex-shrink-0",children:i.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:i.label}),i.badge&&l.jsx("div",{className:"flex-shrink-0",children:i.badge})]}),i.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:i.description})]})]});return l.jsx(dc,{options:a,onSelect:s,placeholder:n,className:r,renderOption:o,emptyMessage:"No races found"})}const Nj={REQ_StrongStomach:"Strong Stomach",IsBeastRace:"Beast Race",REQ_DropsBloodKeyword:"Bleeds",REQ_RacialSkills_SneakUnperked:"Natural Sneak",REQ_RacialSkills_CreatePotionsUnperked:"Natural Alchemy",REQ_RacialSkills_LockpickUnperked:"Natural Lockpicking",REQ_RacialSkills_RechargeWeaponsUnperked:"Natural Enchanting",ActorTypeNPC:"NPC",REQ_RaceHuman:"Human Race"};function Pq(e,t){const n=t.toLowerCase(),r=e.toLowerCase();return r.includes("resist")||r.includes("resistance")||n.includes("resist")||n.includes("resistance")||n.includes("immune")||n.includes("protection")||n.includes("less likely to")||n.includes("less damage")||n.includes("less effect")||n.includes("reduced effect")||n.includes("reduced damage")||n.includes("reduced chance")?"positive":n.includes("penalty")||n.includes("reduced")||n.includes("less")||r.includes("no ")||r.includes("penalty")||r.includes("weakness")?"negative":n.includes("increased")||n.includes("more")||n.includes("faster")||n.includes("bonus")||n.includes("+")?"positive":"neutral"}function Bq(e){const t=e.match(/<(\d+(?:\.\d+)?)>/);return t?parseFloat(t[1]):void 0}function Iq(e){const t=["health","magicka","stamina","damage","speed","effect"],n=e.toLowerCase();for(const r of t)if(n.includes(r))return r}function Hq(e){const t=[];return t.push(e.category),e.keywords.forEach(n=>{const r=Nj[n.edid];r&&t.push(r)}),e.racialSpells.forEach(n=>{t.push(n.name)}),e.skillBonuses.forEach(n=>{t.push(n.skill)}),[...new Set(t)]}function Fq(e){const t=e.racialSpells.map(r=>({name:r.name,type:Pq(r.name,r.description),description:r.description,value:Bq(r.description),target:Iq(r.description)})),n=Hq(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,category:e.category,tags:n,effects:t,startingStats:e.startingStats,skillBonuses:e.skillBonuses,keywords:n,regeneration:e.regeneration,combat:e.combat}}function Wg(e){return Nj[e]||e}function Uq(e){const t=new Set;return e.forEach(n=>{n.keywords.forEach(r=>{const a=Wg(r.edid);t.add(a)})}),Array.from(t).sort()}function Zq(e){const t=new Set;return e.forEach(n=>{n.skillBonuses.forEach(r=>{t.add(r.skill)})}),Array.from(t).sort()}function Vq(e){const t=new Set;return e.forEach(n=>{n.racialSpells.forEach(r=>{t.add(r.name)})}),Array.from(t).sort()}function Yq(e){return!e||typeof e!="object"?!1:e.races&&Array.isArray(e.races)?e.races.every(t=>Rw(t)):Rw(e)}function Rw(e){return!e||typeof e!="object"?!1:["name","edid","category","description","startingStats","skillBonuses","racialSpells","keywords"].every(n=>{if(!(n in e))return!1;switch(n){case"name":case"edid":case"category":case"description":return typeof e[n]=="string";case"startingStats":return Gq(e[n]);case"skillBonuses":return Array.isArray(e[n])&&e[n].every(qq);case"racialSpells":return Array.isArray(e[n])&&e[n].every(Xq);case"keywords":return Array.isArray(e[n])&&e[n].every(Kq);default:return!0}})}function Gq(e){return!e||typeof e!="object"?!1:["health","magicka","stamina","carryWeight"].every(n=>typeof e[n]=="number"&&e[n]>=0)}function qq(e){return e&&typeof e.skill=="string"&&typeof e.bonus=="number"}function Xq(e){return e&&typeof e.edid=="string"&&typeof e.name=="string"&&typeof e.description=="string"&&typeof e.globalFormId=="string"}function Kq(e){return e&&typeof e.edid=="string"&&typeof e.globalFormId=="string"}function Wq(e){var t,n,r,a;return{name:e.name||"Unknown Race",edid:e.edid||"UnknownRace",category:e.category||"Unknown",source:e.source||"Unknown",description:e.description||"No description available.",startingStats:{health:((t=e.startingStats)==null?void 0:t.health)||100,magicka:((n=e.startingStats)==null?void 0:n.magicka)||100,stamina:((r=e.startingStats)==null?void 0:r.stamina)||100,carryWeight:((a=e.startingStats)==null?void 0:a.carryWeight)||200},physicalAttributes:e.physicalAttributes||{heightMale:1,heightFemale:1,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:Array.isArray(e.skillBonuses)?e.skillBonuses:[],racialSpells:Array.isArray(e.racialSpells)?e.racialSpells:[],keywords:Array.isArray(e.keywords)?e.keywords:[],flags:Array.isArray(e.flags)?e.flags:[],regeneration:e.regeneration||{health:.1,magicka:1,stamina:1},combat:e.combat||{unarmedDamage:10,unarmedReach:70}}}function Qq(e){const t=[];let n=0;return e.forEach((r,a)=>{try{const s=Fq(r);n++,(!s.id||!s.name||!s.category)&&t.push(`Race ${a}: Missing required transformed fields`),s.effects.length===0&&r.racialSpells.length>0&&t.push(`Race ${a}: No effects transformed from ${r.racialSpells.length} spells`)}catch(s){t.push(`Race ${a}: Transformation failed - ${s}`)}}),{success:t.length===0,errors:t,transformedCount:n}}const Jq=[{name:"Altmer",edid:"HighElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:'The Altmer of Summerset Isle are called "High" Elves in the Empire, describing both their physical appearance and their snobbish personality. The arcane ability of High Elves surpasses all other races in Tamriel. Their Highborn ability grants them increased magicka and spell power. They are weak in physical combat, however, and their magic affinity makes them more susceptible to elemental damage.',startingStats:{health:100,magicka:160,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.159999966621399,heightFemale:1.1200000047683716,weightMale:.5,weightFemale:.5,size:"Medium"},skillBonuses:[{skill:"Alteration",bonus:15},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:10},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Altmer_WeaknessElements",name:"Weakness to Elements",description:"High elves are more vulnerable to elements compared to other races. Fire, frost, and shock deal <10>% more damage to you.",globalFormId:"0x000E40C8"},{edid:"REQ_Ability_Race_Altmer_Highborn",name:"Highborn",description:"High elf blood grants great affinity to magicka as well as resistance to diseases. Magicka regenerates <50>% faster, spells are <5>% more powerful and last longer, you are <50>% less likely to contract diseases.",globalFormId:"0x00105F16"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.2000000476837158,multipliers:[{value:1.5,source:"Highborn"}]},stamina:{base:1.5499999523162842}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Argonian",edid:"ArgonianRace",category:"Beast",source:"Synthesis - NPC.esp",description:"Argonians are the reptilian denizens of Black Marsh. Years of defending their borders have made them experts in stealth and evasion, and their natural abilities make them equally at home in water and on land. They are resistant to diseases and poisons and enjoy raw meat. Their Histskin allows them to quickly heal their wounds.",startingStats:{health:140,magicka:120,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.059999942779541,heightFemale:1.0449999570846558,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:15},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Argonian_Waterbreathing",name:"Waterbreathing",description:"Your Argonian lungs can breathe underwater, while you also find it much easier to swim than members of other races. You can breathe underwater, swimming is <20>% faster, swimming is <75>% less exhausting.",globalFormId:"0x000AA01B"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Argonian_Histskin",name:"Histskin",description:"Argonians can nautrally regenerate health faster than others, and their metabolism increases the effect of alchemical substances. Regenerate <1> health per second, potions are <10>% more effective and last longer.",globalFormId:"0x000E40D5"},{edid:"REQ_Ability_Race_Argonian_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Argonian blood greatly reduces the effect of poison and disease. Poison deals <75>% less damage to you, you are <75>% less likely to contract diseases.",globalFormId:"0x00104ACF"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0,adjustments:[{value:1,source:"Histskin"}]},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Bosmer",edid:"WoodElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Bosmer, or Wood Elves, originate from the sacred forest of Valenwood. Their culture is highly carnivorous and even cannibalistic, derived from the Green Pact with the forest, in which they harm no plant. Their dexterity makes them excellent scouts and thieves, and there are no finer archers in all of Tamriel. They have a natural resistance to poison, disease and shock.",startingStats:{health:100,magicka:120,stamina:140,carryWeight:200},physicalAttributes:{heightMale:.9200000166893005,heightFemale:.9399999976158142,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Marksman",bonus:15},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:10},{skill:"Alteration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Bosmer_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Bosmer blood grants you resistance to poison and diseases. Poison deals <25>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA025"},{edid:"REQ_Power_Race_Bosmer_ShockResist",name:"Grounded",description:"In harmony with nature and the earth, the Bosmer have honed their bodies to be conduits of elemental potential. +25% shock resist",globalFormId:"0x000E40CF"},{edid:"REQ_Ability_Race_Bosmer_EyeOfTheHunt",name:"Eye of the Hunt",description:"The Bosmer are naturally skilled in marksmanship, and can aim their bows more precisely. Armor penetration with ranged weapons is increased by <5>.",globalFormId:"0xFE686801"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.649999976158142}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Breton",edid:"BretonRace",category:"Human",source:"Synthesis - NPC.esp",description:"Bretons, the inhabitants of the province of High Rock, are the human descendants of the Elves and the ancient race of the Nedes. While Bretons are physically weak, they can tap on magicka more than any other human race and they are particularly capable in the school of Conjuration. Their magic resistance blocks one fifth of incoming spell damage and their Dragonskin ability can fully absorb harmful magic by chance.",startingStats:{health:120,magicka:140,stamina:100,carryWeight:200},physicalAttributes:{heightMale:.9850000143051147,heightFemale:.949999988079071,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Alchemy",bonus:10},{skill:"Speechcraft",bonus:10},{skill:"Conjuration",bonus:15},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Breton_MagicResistance",name:"Magic Resistance",description:"Your Breton blood reduces damage taken from all magical sources. Magic deals <15>% less damage to you.",globalFormId:"0x000AA01F"},{edid:"REQ_Ability_Race_Breton_Dragonskin",name:"Dragonskin",description:"Bretons can naturally absorb harmful magic by chance. Increases chance to absorb the magicka from hostile spells by <10>%.",globalFormId:"0x000AA022"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.149999976158142},stamina:{base:1.600000023841858}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Dunmer",edid:"DarkElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Dunmer, or Dark Elves, are the ash-skinned, red-eyed, Elven people of Vvardenfell. They combine powerful intellects with strong and agile physiques, producing excellent warriors and evokers. They are extremely resistant to fire, blocking half of incoming fire damage. They're particularly skilled in Destruction and Conjuration magic, and can imbue more power into associated spells.",startingStats:{health:100,magicka:140,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0299999713897705,heightFemale:1.0149999856948853,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Sneak",bonus:10},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:15},{skill:"Illusion",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Dunmer_ResistFire",name:"Resist Fire",description:"Tempered in the flames of the Red Mountain and the heat of the Ashlands, your Dunmer blood greatly reduces all fire damage dealt to you. Fire deals <50>% less damage to you.",globalFormId:"0x000AA021"},{edid:"REQ_Ability_Race_Dunmer_Ashlander",name:"Ashlander",description:"Dunmer are naturally talented evokers and conjurers. Destruction and Conjuration spells are <10>% more powerful and last longer.",globalFormId:"0x000E40D4"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Imperial",edid:"ImperialRace",category:"Human",source:"Synthesis - NPC.esp",description:"The cosmopolitan citizens of Cyrodiil are descended from the founders of the glorious Empire that has influenced Tamriel's history throughout the eras. Imperials are talented leaders and traders among society, skilled in both magic and combat thanks to martial and academic education of the schools of Cyrodiil. Their leadership can encourage their followers to fight well in combat.",startingStats:{health:120,magicka:120,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0149999856948853,heightFemale:.9850000143051147,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Speechcraft",bonus:15},{skill:"Destruction",bonus:10},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Imperial_VoiceOfTheEmperor",name:"Voice of the Emperor",description:"Imperials are talented leaders and traders among society. Speech skill is <15> higher, prices are <15>% more favorable, magicka and stamina of nearby allies increase by <25>.",globalFormId:"0x000E40CA"},{edid:"REQ_Ability_Race_Imperial_ImperialDiversity",name:"Imperial Diversity",description:"Imperial education involves various martial and academical trainings, producing citizens with variety of skills. Health, magicka, and stamina regenerate <25>% faster.",globalFormId:"0x000EB7EB"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]},stamina:{base:1.600000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Khajiit",edid:"KhajiitRace",category:"Beast",source:"Synthesis - NPC.esp",description:"The Khajiit are a race of feline humanoids hailing from the province of Elsweyr, well-known as great merchants but also as smugglers and thieves. They are very fast and outrun all other races which, combined with a high stamina reserve, makes them fearsome skirmishers. However, they are seldom gifted with the skill to harness magical forces. All Khajiit can see in the dark at will, eat raw meat, resist the harmful effects of Skooma and their sharp claws are as lethal as knives.",startingStats:{health:100,magicka:100,stamina:160,carryWeight:200},physicalAttributes:{heightMale:.9800000190734863,heightFemale:.9449999928474426,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:15},{skill:"Alchemy",bonus:10}],racialSpells:[{edid:"REQ_Power_Race_Khajiit_NightEye",name:"Night Eye",description:"Your eyes are exceptionally versatile and can become extremely sensitive to light, allowing a much better sight in dark areas.",globalFormId:"0x000AA01D"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Khajiit_FelineAgility",name:"Feline Agility",description:"Khajiits are very agile and can fall long heights without taking critical damage. Movement is <10>% faster, sneaking is <20>% faster, fall damage is reduced by <75>%.",globalFormId:"0x8C1AD1B0"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"},{edid:"REQ_Ability_Race_Khajiit_Fingersmith",name:"Fingersmith",description:"Khajiits have keen senses and dexterity, making them much more proficient in thievery. Lockpicking expertise is increased by <2>, lockpicks are <20>% more durable, pickpocketing is <20>% more likely to succeed, you are <20>% harder to detect.",globalFormId:"0xFE686816"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.0499999523162842},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Nord",edid:"NordRace",category:"Human",source:"Synthesis - NPC.esp",description:"Skyrim's Nords are tall and fair, with a culture which values honor, glory, and loyalty to family and community. Nords have come to distrust magic, but excel in physical warfare. They are greatly resistant to frost. Nords also have innate ability to use Shouts, and can unleash immense power through the words of power when mastered.",startingStats:{health:140,magicka:100,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0800000429153442,heightFemale:1.059999942779541,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:15},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Nord_ResistFrostShock",name:"Resist Frost and Shock",description:"Your Nord blood halves all taken frost damage. Frost deals <50>% less damage.",globalFormId:"0x000AA020"},{edid:"REQ_Ability_Race_Nord_AncientTongues",name:"Ancient Tongues",description:"Nords have inherent ability to Shout, and can unleash immense power through the Voice. Shouts are <10>% more powerful and last longer, Shouts can be used <10>% more often.",globalFormId:"0xFE686809"},{edid:"REQ_Ability_Race_Nord_BarbaricStrength",name:"Barbaric Strength",description:"Nords are fierce and strong, skilled with all melee weapons. Melee weapons deal <5>% more damage.",globalFormId:"0xFE68680B"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Orsimer",edid:"OrcRace",category:"Elven",source:"Synthesis - NPC.esp",description:`The Orsimer or "Pariah Folk", commonly called Orcs, come from Orsinium in the west. Their savage appearance and customs sometimes cause fear, but they have won acceptance for their distinguished service in the Legion. Orcs' superior strength makes them formidable warriors, though use of magic requires extensive training. Their incredible endurance grants them resistance to both magical and physical harm.`,startingStats:{health:160,magicka:100,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.100000023841858,heightFemale:1.0800000429153442,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:15},{skill:"Destruction",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Orsimer_Bulwark",name:"Bulwark",description:"Orcs have incredible strength and endurance, resistant to all types of damage. Armor rating increases by <150>, magic deals <10>% less damage to you.",globalFormId:"0x000AA026"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Redguard",edid:"RedguardRace",category:"Human",source:"Synthesis - NPC.esp",description:"The dark-skinned, wiry-haired Redguards of Hammerfell seem born for battle, though their proud and independent spirits suit free-ranging heroism more. They have a hardy constitution and natural resistance to poison and disease, but tend to shun their magic. They are full of stamina and naturally skilled in melee combat, making them one of the strongest warriors in Tamriel.",startingStats:{health:120,magicka:100,stamina:140,carryWeight:200},physicalAttributes:{heightMale:1.0449999570846558,heightFemale:1.0299999713897705,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:15},{skill:"Two-Handed",bonus:10},{skill:"Marksman",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Redguard_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Redguard blood, tempered in the deserts of Hammerfell, grants you a very strong resistance to poisons and diseases. Poison deals <50>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA023"},{edid:"REQ_Ability_Race_Redguard_AdrenalineRush",name:"Adrenaline Rush",description:"Redguards are granted increased stamina, and can sprint much longer without being exhausted. Stamina regenerations is increased, sprinting costs <1> less stamina per second.",globalFormId:"0x000E40CE"},{edid:"REQ_Ability_Race_Redguard_MartialProwess",name:"Martial Prowess",description:"Redguards are naturally skilled in martial arts, and can wield their weapons with great precision. Armor penetration with melee weapons is increased by <5>.",globalFormId:"0xFE68680E"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:13,unarmedReach:73}}],eX={races:Jq};function tX(){const[e,t]=m.useState({search:"",type:"",tags:[]}),n=m.useMemo(()=>{const i=eX.races;if(!Yq({races:i}))return console.error("Invalid race data structure detected"),[];const c=i.map(d=>Wq(d)),u=Qq(c);return u.success?console.log(`Successfully transformed ${u.transformedCount} races`):console.error("Data transformation errors:",u.errors),c},[]),r=m.useMemo(()=>n.filter(i=>{if(e.search){const c=e.search.toLowerCase();if(![i.name,i.description,...i.racialSpells.map(d=>d.name),...i.skillBonuses.map(d=>d.skill),...i.keywords.map(d=>Wg(d.edid))].join(" ").toLowerCase().includes(c))return!1}if(e.type&&i.category!==e.type)return!1;if(e.tags.length>0){const c=i.keywords.map(h=>Wg(h.edid)),u=i.skillBonuses.map(h=>h.skill),d=i.racialSpells.map(h=>h.name);if(!e.tags.some(h=>c.includes(h)||u.includes(h)||d.includes(h)||i.category===h))return!1}return!0}),[n,e]),a=m.useMemo(()=>Uq(n),[n]),s=m.useMemo(()=>Zq(n),[n]),o=m.useMemo(()=>Vq(n),[n]);return{races:r,allRaces:n,loading:!1,error:null,filters:e,setFilters:t,allKeywords:a,allSkills:s,allAbilities:o}}function nX({className:e}){const{allRaces:t}=tX(),{build:n,setRace:r}=Dt(),a=Wt(),[s,o]=m.useState(!0),i=n.race?t.find(h=>h.edid===n.race):null,c=h=>{r(h.edid)},u=()=>{a("/race")},d=()=>{o(!s)};if(!i)return l.jsxs(ar,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),l.jsx(Tw,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=LA(i);return l.jsxs(ar,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[l.jsx(Tw,{races:t,onSelect:c,placeholder:`Race: Select a race (${i.name})`,className:"w-full"}),l.jsx(Ag,{item:f,isExpanded:s,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function rX(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,s]=m.useState(null);return m.useEffect(()=>{async function o(){try{r(!0);const i=await fetch("/lorerim-arcaneum/data/wintersun-religion-docs.json");if(!i.ok)throw new Error("Failed to fetch religion data");const u=(await i.json()).flatMap(d=>d.deities.map(f=>({...f,pantheon:d.type})));t(u)}catch(i){s("Failed to load religion data"),console.error("Error loading religions:",i)}finally{r(!1)}}o()},[]),{religions:e,loading:n,error:a}}function aX(e){var t,n,r,a;return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,type:e.type,description:((t=e.tenet)==null?void 0:t.description)||"",tenetDescription:((n=e.tenet)==null?void 0:n.description)||"",followerPower:((r=e.boon1)==null?void 0:r.spellName)||"",devoteePower:((a=e.boon2)==null?void 0:a.spellName)||"",favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[],originalReligion:e}}function Mw(e){return e.map(aX)}function sX(e,t){return e.find(n=>n.name.toLowerCase().replace(/\s+/g,"-")===t)}function Dw({religions:e,selectedDeityId:t,onDeitySelect:n,placeholder:r="Search for a deity to follow...",className:a,disabled:s=!1}){m.useMemo(()=>Mw(e),[e]);const{filteredReligions:o}=iC(e,""),i=m.useMemo(()=>Mw(o),[o]),c=h=>{const g={Divine:"bg-blue-100 text-blue-800 border-blue-200","Daedric Prince":"bg-red-100 text-red-800 border-red-200",Tribunal:"bg-purple-100 text-purple-800 border-purple-200",Ancestor:"bg-green-100 text-green-800 border-green-200","Nordic Deity":"bg-orange-100 text-orange-800 border-orange-200","Yokudan Deity":"bg-yellow-100 text-yellow-800 border-yellow-200","Khajiiti Deity":"bg-indigo-100 text-indigo-800 border-indigo-200",Deity:"bg-gray-100 text-gray-800 border-gray-200"};return l.jsx(ue,{variant:"outline",className:G("text-xs font-medium",g[h]||g.Deity),children:h})},u=m.useMemo(()=>i.map(h=>({id:h.id,label:h.name,description:h.tenetDescription,category:h.type,badge:c(h.type),metadata:{originalReligion:h.originalReligion,favoredRaces:h.favoredRaces}})),[i]),d=h=>{n(h.id)},f=(h,g)=>{var v;return l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-medium",children:h.label}),h.badge]}),h.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-1",children:h.description}),((v=h.metadata)==null?void 0:v.favoredRaces)&&h.metadata.favoredRaces.length>0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Pr,{className:"h-3 w-3 text-skyrim-gold"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["Favors: ",h.metadata.favoredRaces.join(", ")]})]})]})})};return l.jsx(dc,{options:u,onSelect:d,placeholder:r,className:a,disabled:s,renderOption:f,emptyMessage:"No deity found."})}function oX({className:e}){const{religions:t,loading:n,error:r}=rX(),{build:a,setReligion:s}=Dt(),o=Wt(),[i,c]=m.useState(!0),u=a.religion?sX(t,a.religion):null,d=()=>{o("/build/religions")},f=()=>{c(!i)};if(n)return l.jsx(ar,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading religions..."})});if(r)return l.jsx(ar,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:l.jsxs("div",{className:"text-sm text-destructive",children:["Error loading religions: ",r]})});if(!u)return l.jsxs(ar,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's religion"}),l.jsx(Dw,{religions:t,selectedDeityId:a.religion,onDeitySelect:s,placeholder:"Search for a religion...",className:"w-full"})]});const h=vg(u);return l.jsxs(ar,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[l.jsx(Dw,{religions:t,selectedDeityId:a.religion,onDeitySelect:s,placeholder:`Religion: Select a religion (${u.name})`,className:"w-full"}),l.jsx(Cg,{item:h,originalReligion:u,isExpanded:i,onToggle:f,className:"border-0 shadow-none",disableHover:!0,showToggle:!1,showBlessings:!1,showTenets:!0,showBoons:!0,showFavoredRaces:!0})]})}function iX(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,s]=m.useState(null);return m.useEffect(()=>{(async()=>{try{const c=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!c.ok)throw new Error("Failed to load perk trees data");const d=(await c.json()).map(f=>({...f,perks:f.perks.map(h=>({...h,currentRank:0,selected:!1}))}));t(d)}catch(c){s(c instanceof Error?c.message:"Unknown error")}finally{r(!1)}})()},[]),{perkTrees:e,getTreeById:i=>e.find(c=>c.treeId===i),loading:n,error:a}}function lX(){var h,g;const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,s]=m.useState(null),{hasMajorSkill:o,hasMinorSkill:i,build:c}=Dt(),{perkTrees:u}=iX(),d=new Map;return(h=c.perks)!=null&&h.selected&&((g=c.perks)!=null&&g.ranks)&&Object.entries(c.perks.selected).forEach(([v,x])=>{let b=0;x.forEach(p=>{const y=c.perks.ranks[p]||0;b+=y}),d.set(v,b)}),m.useEffect(()=>{async function v(){try{r(!0);const x=await fetch("/lorerim-arcaneum/data/skills.json");if(!x.ok)throw new Error("Failed to fetch skills data");const p=((await x.json()).skills||[]).sort((y,w)=>y.name.localeCompare(w.name));t(p)}catch(x){s("Failed to load skills data"),console.error("Error loading skills:",x)}finally{r(!1)}}v()},[]),{skills:e.map(v=>{const x=u.find(y=>y.treeId===v.edid),b=x?x.perks.length:0,p=d.get(v.edid)||0;return{...v,totalPerks:b,selectedPerks:p,isMajor:o(v.edid),isMinor:i(v.edid)}}),loading:n,error:a,perkTrees:u}}function zw({skills:e,onSelect:t,placeholder:n="Search skills...",className:r="",disabled:a=!1}){const s=m.useMemo(()=>e.map(c=>{var u;return{id:c.edid,label:c.name,description:c.description,category:c.category,badge:c.category&&l.jsx(ue,{variant:"outline",className:"text-xs",children:c.category}),metadata:{originalSkill:c,keyAbilitiesCount:((u=c.keyAbilities)==null?void 0:u.length)||0,scaling:c.scaling}}}),[e]),o=c=>{const u=e.find(d=>d.edid===c.id);u&&t(u)},i=(c,u)=>{var d,f;return l.jsx("div",{className:"flex items-start gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:c.label}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.badge&&l.jsx("div",{className:"flex-shrink-0",children:c.badge}),((d=c.metadata)==null?void 0:d.keyAbilitiesCount)&&c.metadata.keyAbilitiesCount>0&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.metadata.keyAbilitiesCount," ability",c.metadata.keyAbilitiesCount!==1?"s":""]})]}),c.description&&l.jsx(Yr,{text:c.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"}),((f=c.metadata)==null?void 0:f.scaling)&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[l.jsx("strong",{children:"Scaling:"})," ",c.metadata.scaling]})]})})};return l.jsx(dc,{options:s,onSelect:o,placeholder:n,className:r,disabled:a,renderOption:i,emptyMessage:"No skills found"})}function cX({className:e}){const{skills:t}=lX(),{build:n,addMajorSkill:r,addMinorSkill:a,removeMajorSkill:s,removeMinorSkill:o}=Dt(),i=Wt(),c=n.skills.major.map(b=>t.find(p=>p.edid===b)).filter(Boolean),u=n.skills.minor.map(b=>t.find(p=>p.edid===b)).filter(Boolean),d=b=>{r(b.edid)},f=b=>{a(b.edid)},h=b=>{s(b)},g=b=>{o(b)},v=()=>{i("/skills")},x=t.filter(b=>!n.skills.major.includes(b.edid)&&!n.skills.minor.includes(b.edid));return l.jsx(ar,{title:"Skills",navigateTo:"skills",onNavigate:v,className:e,children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Major Skills"}),c.length<3&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ue,{variant:"outline",className:"text-xs",children:[c.length,"/3"]})}),l.jsx(zw,{skills:x,onSelect:d,placeholder:"Select major skill...",className:"w-full"})]}),c.length>0&&l.jsx("div",{className:"space-y-2",children:c.map((b,p)=>l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"font-medium text-sm",children:b.name}),l.jsx(ue,{variant:"default",className:"text-xs bg-yellow-500 text-yellow-900",children:"Major"}),l.jsx(ue,{variant:"outline",className:"text-xs",children:b.category})]}),l.jsx(Yr,{text:b.description,className:"text-sm text-muted-foreground line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>h(b.edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(hn,{className:"h-3 w-3"})})]},b.edid))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Minor Skills"}),u.length<6&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ue,{variant:"outline",className:"text-xs",children:[u.length,"/6"]})}),l.jsx(zw,{skills:x,onSelect:f,placeholder:"Select minor skill...",className:"w-full"})]}),u.length>0&&l.jsx("div",{className:"space-y-2",children:u.map((b,p)=>l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-100/50 border-gray-400 shadow-gray-400/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"font-medium text-sm",children:b.name}),l.jsx(ue,{variant:"secondary",className:"text-xs bg-gray-400 text-gray-900",children:"Minor"}),l.jsx(ue,{variant:"outline",className:"text-xs",children:b.category})]}),l.jsx(Yr,{text:b.description,className:"text-sm text-muted-foreground line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>g(b.edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(hn,{className:"h-3 w-3"})})]},b.edid))})]})]})})}function am({traits:e,onSelect:t,placeholder:n="Search traits...",className:r="",disabled:a=!1}){const s=m.useMemo(()=>e.map(c=>({id:c.edid,label:c.name,description:c.description,category:c.category,badge:c.category&&l.jsx(ue,{variant:"outline",className:"text-xs",children:c.category}),metadata:{originalTrait:c,effectsCount:c.effects.length}})),[e]),o=c=>{const u=e.find(d=>d.edid===c.id);u&&t(u)},i=(c,u)=>{var d;return l.jsx("div",{className:"flex items-start gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:c.label}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.badge&&l.jsx("div",{className:"flex-shrink-0",children:c.badge}),((d=c.metadata)==null?void 0:d.effectsCount)&&c.metadata.effectsCount>0&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.metadata.effectsCount," effect",c.metadata.effectsCount!==1?"s":""]})]}),c.description&&l.jsx(Yr,{text:c.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})};return l.jsx(dc,{options:s,onSelect:o,placeholder:n,className:r,disabled:a,renderOption:i,emptyMessage:"No traits found"})}function uX({className:e}){const{allTraits:t}=$q(),{build:n,addTraitToSlot:r,removeTrait:a,getRegularTraitLimit:s,getBonusTraitLimit:o}=Dt(),i=Wt();s(),o();const c=n.traits.regular.map(v=>t.find(x=>x.edid===v)).filter(Boolean),u=n.traits.bonus.map(v=>t.find(x=>x.edid===v)).filter(Boolean),d=(v,x)=>{r(v.edid,x)},f=v=>{a(v)},h=()=>{i("/traits")},g=t.filter(v=>!n.traits.regular.includes(v.edid)&&!n.traits.bonus.includes(v.edid));return l.jsx(ar,{title:"Traits",navigateTo:"traits",onNavigate:h,className:e,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:"outline",className:"text-xs",children:"Slot 1"}),c[0]&&l.jsx(ue,{variant:"default",className:"text-xs",children:"Starting"})]}),c[0]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:c[0].name}),l.jsx(Yr,{text:c[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>f(c[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(hn,{className:"h-3 w-3"})})]}):l.jsx(am,{traits:g,onSelect:v=>d(v,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:"outline",className:"text-xs",children:"Slot 2"}),c[1]&&l.jsx(ue,{variant:"default",className:"text-xs",children:"Starting"})]}),c[1]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:c[1].name}),l.jsx(Yr,{text:c[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>f(c[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(hn,{className:"h-3 w-3"})})]}):l.jsx(am,{traits:g,onSelect:v=>d(v,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&l.jsx(ue,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:u[0].name}),l.jsx(Yr,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>f(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(hn,{className:"h-3 w-3"})})]}):l.jsx(am,{traits:g,onSelect:v=>d(v,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}function dX({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:r,currentRegularCount:a,currentBonusCount:s,className:o}){const i=e!==2||t!==1;return l.jsxs(zP,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:l.jsx(pl,{className:"h-4 w-4 text-muted-foreground"}),className:o,children:[l.jsx(nb,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(tb,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:a,type:"regular"}),l.jsx(tb,{label:"Late Game Traits Limit",value:t,onChange:r,min:0,max:5,currentCount:s,type:"bonus"})]}),i&&l.jsx(nb,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}function fX({open:e,title:t,message:n,variant:r="warning",confirmText:a,cancelText:s,onConfirm:o,onCancel:i,className:c}){return l.jsx(OP,{open:e,title:t,message:n,variant:r,confirmText:a,cancelText:s,onConfirm:o,onCancel:i,className:c})}function hX({open:e,onConfirm:t,onCancel:n}){return l.jsx(fX,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function mX({link:e,variant:t="outline",size:n="sm",text:r="Export / Share",onCopied:a,className:s}){return l.jsx(FP,{link:e,variant:t,size:n,text:r,onCopied:a,className:s})}function gX({onCopied:e,className:t}){const n=window.location.href;return l.jsx(mX,{link:n,onCopied:e,className:t})}function pX({build:e,title:t="Build Summary",layout:n="grid",className:r}){const a=ZP(e);return l.jsx(UP,{title:t,items:a,layout:n,className:r})}function yX({name:e,notes:t,onNameChange:n,onNotesChange:r,className:a}){return l.jsxs(ft,{className:`mb-6 ${a||""}`,children:[l.jsx(xt,{children:l.jsx(At,{children:"Basic Information"})}),l.jsxs(ht,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Br,{htmlFor:"name",children:"Character Name"}),l.jsx(zs,{id:"name",value:e,onChange:s=>n(s.target.value),placeholder:"Enter character name..."})]}),l.jsxs("div",{children:[l.jsx(Br,{htmlFor:"notes",children:"Notes"}),l.jsx("textarea",{id:"notes",value:t,onChange:s=>r(s.target.value),placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}function vX({onReset:e,className:t}){return l.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${t||""}`,children:[l.jsxs(ae,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[l.jsx(yl,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),l.jsx(gX,{})]})}function xX(){const{build:e,updateBuild:t}=Dt(),[n,r]=m.useState(e.traitLimits.regular),[a,s]=m.useState(e.traitLimits.bonus),o=m.useCallback(c=>{r(c),t({traitLimits:{...e.traitLimits,regular:c}})},[e.traitLimits,t]),i=m.useCallback(c=>{s(c),t({traitLimits:{...e.traitLimits,bonus:c}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:a,handleRegularLimitChange:o,handleBonusLimitChange:i,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}function bX(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:r}=Dt(),[a,s]=m.useState(!1),o=xX(),i=Wt();return l.jsxs(li,{title:"Character Builder",children:[l.jsx(vX,{onReset:()=>s(!0)}),l.jsx(hX,{open:a,onConfirm:()=>{r(),s(!1)},onCancel:()=>s(!1)}),l.jsxs(v0,{defaultValue:"build",className:"w-full",children:[l.jsxs(x0,{className:"mb-4",children:[l.jsx(wl,{value:"build",children:"Build"}),l.jsx(wl,{value:"config",children:"Config"})]}),l.jsxs(od,{value:"build",children:[l.jsx(yX,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[l.jsx(nX,{}),l.jsx(qP,{}),l.jsx(uX,{}),l.jsx(oX,{})]}),l.jsx("div",{className:"mb-6",children:l.jsx(cX,{})}),l.jsx(aB,{navigate:i}),l.jsx(pX,{build:e})]}),l.jsx(od,{value:"config",children:l.jsx(dX,{regularLimit:o.regularLimit,bonusLimit:o.bonusLimit,onRegularLimitChange:o.handleRegularLimitChange,onBonusLimitChange:o.handleBonusLimitChange,currentRegularCount:o.currentRegularCount,currentBonusCount:o.currentBonusCount})})]})]})}function wX(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(rc,{children:"Crafting"}),l.jsx(bl,{children:"Plan your crafting recipes and material requirements"})]}),l.jsxs(ft,{children:[l.jsxs(xt,{children:[l.jsx(At,{children:"Coming Soon"}),l.jsx(Da,{children:"Crafting system is under development"})]}),l.jsx(ht,{children:l.jsx(bl,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function SX(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(rc,{children:"Equipment"}),l.jsx(bl,{children:"Browse and compare weapons, armor, and items"})]}),l.jsxs(ft,{children:[l.jsxs(xt,{children:[l.jsx(At,{children:"Coming Soon"}),l.jsx(Da,{children:"Equipment database is under development"})]}),l.jsx(ht,{children:l.jsx(bl,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const NX=()=>{const{build:e,getSummary:t}=Dt(),n=Wt(),r=t();return!e.name&&!e.race?l.jsxs(ft,{className:"border-dashed border-2 border-muted",children:[l.jsxs(xt,{children:[l.jsx(At,{className:"text-lg",children:"No Character Build"}),l.jsx(Da,{children:"Start building your character to see it here"})]}),l.jsx(ht,{children:l.jsx(ae,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):l.jsxs(ft,{children:[l.jsxs(xt,{children:[l.jsxs(At,{className:"text-lg flex items-center justify-between",children:[l.jsx("span",{children:r.name}),l.jsx(ae,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),l.jsx(Da,{children:"Current character build status"})]}),l.jsxs(ht,{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Race:"}),l.jsx(ue,{variant:"secondary",className:"ml-2",children:r.race})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),l.jsx(ue,{variant:"secondary",className:"ml-2",children:r.stone})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),l.jsx(ue,{variant:"secondary",className:"ml-2",children:r.religion})]})]}),l.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[r.traitCount," traits"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.majorSkillCount," major skills"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.minorSkillCount," minor skills"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.equipmentCount," equipment"]})]})]})]})};function EX(){return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx(rc,{children:"Welcome to Lorerim Arcaneum"}),l.jsx(i2,{children:"Your theorycrafting playground and reference hub for Lorerim players."})]}),l.jsx("div",{className:"max-w-md",children:l.jsx(NX,{})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(ft,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(xt,{children:[l.jsxs(At,{className:"flex items-center gap-2",children:[l.jsx(el,{className:"h-5 w-5"}),"Player Creation"]}),l.jsx(Da,{children:"Design your character with races, traits, and birthsigns"})]}),l.jsx(ht,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/player-creation",children:"Get Started"})})})]}),l.jsxs(ft,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(xt,{children:[l.jsxs(At,{className:"flex items-center gap-2",children:[l.jsx(eo,{className:"h-5 w-5"}),"Equipment"]}),l.jsx(Da,{children:"Browse and compare weapons, armor, and items"})]}),l.jsx(ht,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/equipment",children:"Browse Items"})})})]}),l.jsxs(ft,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(xt,{children:[l.jsxs(At,{className:"flex items-center gap-2",children:[l.jsx(ED,{className:"h-5 w-5"}),"Crafting"]}),l.jsx(Da,{children:"Plan your crafting recipes and material requirements"})]}),l.jsx(ht,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/crafting",children:"Start Crafting"})})})]}),l.jsxs(ft,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(xt,{children:[l.jsxs(At,{className:"flex items-center gap-2",children:[l.jsx(DN,{className:"h-5 w-5"}),"Skills"]}),l.jsx(Da,{children:"Explore skill trees and perk combinations"})]}),l.jsx(ht,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/skills",children:"View Skills"})})})]})]})]})}function _X(){const e=Wt();return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[l.jsx(rc,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),l.jsx(an,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),l.jsx(ae,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const AX=()=>l.jsxs(u4,{children:[l.jsx(Ut,{path:"/",element:l.jsx(EX,{})}),l.jsxs(Ut,{path:"/build",element:l.jsx(HO,{}),children:[l.jsx(Ut,{index:!0,element:l.jsx(bX,{})}),l.jsx(Ut,{path:"race",element:l.jsx(lB,{})}),l.jsx(Ut,{path:"birth-signs",element:l.jsx(H8,{})}),l.jsx(Ut,{path:"traits",element:l.jsx(Lq,{})}),l.jsx(Ut,{path:"religions",element:l.jsx(fB,{})}),l.jsx(Ut,{path:"destiny",element:l.jsx(oB,{})}),l.jsx(Ut,{path:"perks",element:l.jsx(lw,{})})]}),l.jsx(Ut,{path:"/skills-mva",element:l.jsx(lw,{})}),l.jsx(Ut,{path:"/equipment",element:l.jsx(SX,{})}),l.jsx(Ut,{path:"/crafting",element:l.jsx(wX,{})}),l.jsx(Ut,{path:"*",element:l.jsx(_X,{})})]}),Ej=m.createContext(void 0);function CX({children:e}){const[t,n]=m.useState("system"),[r,a]=m.useState("dark");return m.useEffect(()=>{const s=localStorage.getItem("theme");s&&["light","dark","system"].includes(s)&&n(s)},[]),m.useEffect(()=>{localStorage.setItem("theme",t);let s;t==="system"?s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":s=t,a(s);const o=document.documentElement;s==="dark"?o.classList.add("dark"):o.classList.remove("dark")},[t]),m.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>{if(t==="system"){const i=s.matches?"dark":"light";a(i);const c=document.documentElement;i==="dark"?c.classList.add("dark"):c.classList.remove("dark")}};return s.addEventListener("change",o),()=>s.removeEventListener("change",o)},[t]),l.jsx(Ej.Provider,{value:{theme:t,setTheme:n,resolvedTheme:r},children:e})}function kX(){const e=m.useContext(Ej);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function jX(){const{theme:e,setTheme:t}=kX(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},r=()=>{switch(e){case"light":return l.jsx(ux,{className:"h-4 w-4"});case"dark":return l.jsx(BD,{className:"h-4 w-4"});case"system":return l.jsx(LD,{className:"h-4 w-4"});default:return l.jsx(ux,{className:"h-4 w-4"})}};return l.jsxs(ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[r(),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function TX({sidebarCollapsed:e,onToggleSidebar:t}){return l.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:Mt.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[l.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:l.jsx(DD,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),l.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),l.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),l.jsx("div",{className:"ml-auto",children:l.jsx(jX,{})})]})}const RX=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"},{to:"/skills-mva",label:"Skills MVA Demo"}]},{label:"Gear",items:[{to:"/weapons",label:"Weapons"},{to:"/armor",label:"Armor"},{to:"/food",label:"Food"},{to:"/alcohol",label:"Alcohol"}]},{label:"Crafting",items:[{to:"/alchemy",label:"Alchemy"},{to:"/smithing",label:"Smithing"},{to:"/enchanting",label:"Enchanting"}]},{label:"Ascensions",items:[{to:"/shouts",label:"Shouts of the Dragonborn"},{to:"/lichdom",label:"Lichdom"},{to:"/lycanthropy",label:"Lycanthropy"},{to:"/vampirism",label:"Vampirism"}]}];function MX({collapsed:e}){const t=Wt(),n=window.location.hash.replace(/^#\/?/,"/"),r=a=>{const s=window.location.hash,[o,i]=s.split("?"),u=new URLSearchParams(i||"").get("b");t(u?`${a}?b=${u}`:a)};return l.jsxs(JE,{collapsed:e,children:[l.jsx(n2,{children:!e&&l.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[l.jsx(kD,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),l.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),l.jsx(e2,{children:RX.map(a=>l.jsxs(t2,{children:[!e&&l.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:a.label}),l.jsx(r2,{children:a.items.map(s=>{const o=n===s.to;return l.jsx(s2,{children:l.jsx(a2,{asChild:!0,isActive:o,onClick:()=>r(s.to),tabIndex:0,children:l.jsx("span",{className:"w-full text-left truncate",children:s.label})})},s.to)})})]},a.label))}),!e&&l.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[l.jsx(an,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),l.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]}),l.jsx(o2,{})]})}function DX(){const[e,t]=m.useState(!1);return fO(),l.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[l.jsx(TX,{sidebarCollapsed:e,onToggleSidebar:()=>t(n=>!n)}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0":"w-64"}`,style:{zIndex:Mt.SIDEBAR},children:l.jsx(MX,{collapsed:e})}),l.jsx("main",{className:"flex-1  transition-all duration-300 ease-in-out",children:l.jsx(AX,{})})]}),l.jsx(cO,{})]})}function zX(){return l.jsx(z4,{children:l.jsx(DX,{})})}GM.createRoot(document.getElementById("root")).render(l.jsx(m.StrictMode,{children:l.jsx(CX,{children:l.jsx(zX,{})})}));
