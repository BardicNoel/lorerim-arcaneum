function SM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var iS={exports:{}},mf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM=Symbol.for("react.transitional.element"),_M=Symbol.for("react.fragment");function lS(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:EM,type:e,key:r,ref:t!==void 0?t:null,props:n}}mf.Fragment=_M;mf.jsx=lS;mf.jsxs=lS;iS.exports=mf;var l=iS.exports,cS={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=Symbol.for("react.transitional.element"),CM=Symbol.for("react.portal"),jM=Symbol.for("react.fragment"),kM=Symbol.for("react.strict_mode"),AM=Symbol.for("react.profiler"),RM=Symbol.for("react.consumer"),TM=Symbol.for("react.context"),MM=Symbol.for("react.forward_ref"),DM=Symbol.for("react.suspense"),zM=Symbol.for("react.memo"),uS=Symbol.for("react.lazy"),qv=Symbol.iterator;function OM(e){return e===null||typeof e!="object"?null:(e=qv&&e[qv]||e["@@iterator"],typeof e=="function"?e:null)}var dS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fS=Object.assign,hS={};function pi(e,t,n){this.props=e,this.context=t,this.refs=hS,this.updater=n||dS}pi.prototype.isReactComponent={};pi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mS(){}mS.prototype=pi.prototype;function r0(e,t,n){this.props=e,this.context=t,this.refs=hS,this.updater=n||dS}var a0=r0.prototype=new mS;a0.constructor=r0;fS(a0,pi.prototype);a0.isPureReactComponent=!0;var Xv=Array.isArray,Fe={H:null,A:null,T:null,S:null,V:null},pS=Object.prototype.hasOwnProperty;function o0(e,t,n,r,a,o){return n=o.ref,{$$typeof:n0,type:e,key:t,ref:n!==void 0?n:null,props:o}}function $M(e,t){return o0(e.type,t,void 0,void 0,void 0,e.props)}function s0(e){return typeof e=="object"&&e!==null&&e.$$typeof===n0}function LM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kv=/\/+/g;function Ah(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LM(""+e.key):t.toString(36)}function Wv(){}function PM(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Wv,Wv):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function hs(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n0:case CM:s=!0;break;case uS:return s=e._init,hs(s(e._payload),t,n,r,a)}}if(s)return a=a(e),s=r===""?"."+Ah(e,0):r,Xv(a)?(n="",s!=null&&(n=s.replace(Kv,"$&/")+"/"),hs(a,t,n,"",function(u){return u})):a!=null&&(s0(a)&&(a=$M(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Kv,"$&/")+"/")+s)),t.push(a)),1;s=0;var i=r===""?".":r+":";if(Xv(e))for(var c=0;c<e.length;c++)r=e[c],o=i+Ah(r,c),s+=hs(r,t,n,o,a);else if(c=OM(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,o=i+Ah(r,c++),s+=hs(r,t,n,o,a);else if(o==="object"){if(typeof e.then=="function")return hs(PM(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Hc(e,t,n){if(e==null)return e;var r=[],a=0;return hs(e,r,"","",function(o){return t.call(n,o,a++)}),r}function IM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qv=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function BM(){}me.Children={map:Hc,forEach:function(e,t,n){Hc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hc(e,function(){t++}),t},toArray:function(e){return Hc(e,function(t){return t})||[]},only:function(e){if(!s0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=pi;me.Fragment=jM;me.Profiler=AM;me.PureComponent=r0;me.StrictMode=kM;me.Suspense=DM;me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fe;me.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Fe.H.useMemoCache(e)}};me.cache=function(e){return function(){return e.apply(null,arguments)}};me.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=fS({},e.props),a=e.key,o=void 0;if(t!=null)for(s in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(a=""+t.key),t)!pS.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var i=Array(s),c=0;c<s;c++)i[c]=arguments[c+2];r.children=i}return o0(e.type,a,void 0,void 0,o,r)};me.createContext=function(e){return e={$$typeof:TM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:RM,_context:e},e};me.createElement=function(e,t,n){var r,a={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)pS.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var i=Array(s),c=0;c<s;c++)i[c]=arguments[c+2];a.children=i}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return o0(e,o,void 0,void 0,null,a)};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:MM,render:e}};me.isValidElement=s0;me.lazy=function(e){return{$$typeof:uS,_payload:{_status:-1,_result:e},_init:IM}};me.memo=function(e,t){return{$$typeof:zM,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Fe.T,n={};Fe.T=n;try{var r=e(),a=Fe.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(BM,Qv)}catch(o){Qv(o)}finally{Fe.T=t}};me.unstable_useCacheRefresh=function(){return Fe.H.useCacheRefresh()};me.use=function(e){return Fe.H.use(e)};me.useActionState=function(e,t,n){return Fe.H.useActionState(e,t,n)};me.useCallback=function(e,t){return Fe.H.useCallback(e,t)};me.useContext=function(e){return Fe.H.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e,t){return Fe.H.useDeferredValue(e,t)};me.useEffect=function(e,t,n){var r=Fe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};me.useId=function(){return Fe.H.useId()};me.useImperativeHandle=function(e,t,n){return Fe.H.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return Fe.H.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return Fe.H.useLayoutEffect(e,t)};me.useMemo=function(e,t){return Fe.H.useMemo(e,t)};me.useOptimistic=function(e,t){return Fe.H.useOptimistic(e,t)};me.useReducer=function(e,t,n){return Fe.H.useReducer(e,t,n)};me.useRef=function(e){return Fe.H.useRef(e)};me.useState=function(e){return Fe.H.useState(e)};me.useSyncExternalStore=function(e,t,n){return Fe.H.useSyncExternalStore(e,t,n)};me.useTransition=function(){return Fe.H.useTransition()};me.version="19.1.0";cS.exports=me;var p=cS.exports;const $=hf(p),i0=SM({__proto__:null,default:$},[p]);var gS={exports:{}},pf={},yS={exports:{}},vS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,P){var M=D.length;D.push(P);e:for(;0<M;){var R=M-1>>>1,z=D[R];if(0<a(z,P))D[R]=P,D[M]=z,M=R;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var P=D[0],M=D.pop();if(M!==P){D[0]=M;e:for(var R=0,z=D.length,B=z>>>1;R<B;){var U=2*(R+1)-1,H=D[U],F=U+1,G=D[F];if(0>a(H,M))F<z&&0>a(G,H)?(D[R]=G,D[F]=M,R=F):(D[R]=H,D[U]=M,R=U);else if(F<z&&0>a(G,M))D[R]=G,D[F]=M,R=F;else break e}}return P}function a(D,P){var M=D.sortIndex-P.sortIndex;return M!==0?M:D.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,v=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function b(D){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=D)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function E(D){if(v=!1,b(D),!y)if(n(c)!==null)y=!0,j||(j=!0,I());else{var P=n(u);P!==null&&O(E,P.startTime-D)}}var j=!1,N=-1,C=5,A=-1;function _(){return w?!0:!(e.unstable_now()-A<C)}function T(){if(w=!1,j){var D=e.unstable_now();A=D;var P=!0;try{e:{y=!1,v&&(v=!1,x(N),N=-1),m=!0;var M=h;try{t:{for(b(D),f=n(c);f!==null&&!(f.expirationTime>D&&_());){var R=f.callback;if(typeof R=="function"){f.callback=null,h=f.priorityLevel;var z=R(f.expirationTime<=D);if(D=e.unstable_now(),typeof z=="function"){f.callback=z,b(D),P=!0;break t}f===n(c)&&r(c),b(D)}else r(c);f=n(c)}if(f!==null)P=!0;else{var B=n(u);B!==null&&O(E,B.startTime-D),P=!1}}break e}finally{f=null,h=M,m=!1}P=void 0}}finally{P?I():j=!1}}}var I;if(typeof S=="function")I=function(){S(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,k=L.port2;L.port1.onmessage=T,I=function(){k.postMessage(null)}}else I=function(){g(T,0)};function O(D,P){N=g(function(){D(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var M=h;h=P;try{return D()}finally{h=M}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var M=h;h=D;try{return P()}finally{h=M}},e.unstable_scheduleCallback=function(D,P,M){var R=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?R+M:R):M=R,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=M+z,D={id:d++,callback:P,priorityLevel:D,startTime:M,expirationTime:z,sortIndex:-1},M>R?(D.sortIndex=M,t(u,D),n(c)===null&&D===n(u)&&(v?(x(N),N=-1):v=!0,O(E,M-R))):(D.sortIndex=z,t(c,D),y||m||(y=!0,j||(j=!0,I()))),D},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(D){var P=h;return function(){var M=h;h=P;try{return D.apply(this,arguments)}finally{h=M}}}})(vS);yS.exports=vS;var HM=yS.exports,xS={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UM=p;function bS(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sa(){}var Ft={d:{f:Sa,r:function(){throw Error(bS(522))},D:Sa,C:Sa,L:Sa,m:Sa,X:Sa,S:Sa,M:Sa},p:0,findDOMNode:null},FM=Symbol.for("react.portal");function VM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:FM,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var cl=UM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ft;Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(bS(299));return VM(e,t,null,n)};Gt.flushSync=function(e){var t=cl.T,n=Ft.p;try{if(cl.T=null,Ft.p=2,e)return e()}finally{cl.T=t,Ft.p=n,Ft.d.f()}};Gt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ft.d.C(e,t))};Gt.prefetchDNS=function(e){typeof e=="string"&&Ft.d.D(e)};Gt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=gf(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ft.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n==="script"&&Ft.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Gt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=gf(t.as,t.crossOrigin);Ft.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ft.d.M(e)};Gt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=gf(n,t.crossOrigin);Ft.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Gt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=gf(t.as,t.crossOrigin);Ft.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ft.d.m(e)};Gt.requestFormReset=function(e){Ft.d.r(e)};Gt.unstable_batchedUpdates=function(e,t){return e(t)};Gt.useFormState=function(e,t,n){return cl.H.useFormState(e,t,n)};Gt.useFormStatus=function(){return cl.H.useHostTransitionStatus()};Gt.version="19.1.0";function wS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wS)}catch(e){console.error(e)}}wS(),xS.exports=Gt;var ic=xS.exports;const GM=hf(ic);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xt=HM,SS=p,ZM=ic;function Y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function NS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ES(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jv(e){if(lc(e)!==e)throw Error(Y(188))}function YM(e){var t=e.alternate;if(!t){if(t=lc(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Jv(a),e;if(o===r)return Jv(a),t;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function _S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_S(e),t!==null)return t;e=e.sibling}return null}var He=Object.assign,qM=Symbol.for("react.element"),Uc=Symbol.for("react.transitional.element"),Ji=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),CS=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),XM=Symbol.for("react.provider"),jS=Symbol.for("react.consumer"),Xr=Symbol.for("react.context"),l0=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),c0=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),op=Symbol.for("react.activity"),KM=Symbol.for("react.memo_cache_sentinel"),ex=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=ex&&e[ex]||e["@@iterator"],typeof e=="function"?e:null)}var WM=Symbol.for("react.client.reference");function sp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===WM?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xs:return"Fragment";case np:return"Profiler";case CS:return"StrictMode";case rp:return"Suspense";case ap:return"SuspenseList";case op:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ji:return"Portal";case Xr:return(e.displayName||"Context")+".Provider";case jS:return(e._context.displayName||"Context")+".Consumer";case l0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case c0:return t=e.displayName||null,t!==null?t:sp(e.type)||"Memo";case ka:t=e._payload,e=e._init;try{return sp(e(t))}catch{}}return null}var el=Array.isArray,ce=SS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=ZM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_o={pending:!1,data:null,method:null,action:null},ip=[],bs=-1;function Ar(e){return{current:e}}function Et(e){0>bs||(e.current=ip[bs],ip[bs]=null,bs--)}function Ve(e,t){bs++,ip[bs]=e.current,e.current=t}var yr=Ar(null),kl=Ar(null),Ga=Ar(null),sd=Ar(null);function id(e,t){switch(Ve(Ga,t),Ve(kl,e),Ve(yr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ob(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ob(t),e=VE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Et(yr),Ve(yr,e)}function Xs(){Et(yr),Et(kl),Et(Ga)}function lp(e){e.memoizedState!==null&&Ve(sd,e);var t=yr.current,n=VE(t,e.type);t!==n&&(Ve(kl,e),Ve(yr,n))}function ld(e){kl.current===e&&(Et(yr),Et(kl)),sd.current===e&&(Et(sd),Pl._currentValue=_o)}var cp=Object.prototype.hasOwnProperty,u0=xt.unstable_scheduleCallback,Rh=xt.unstable_cancelCallback,QM=xt.unstable_shouldYield,JM=xt.unstable_requestPaint,vr=xt.unstable_now,eD=xt.unstable_getCurrentPriorityLevel,kS=xt.unstable_ImmediatePriority,AS=xt.unstable_UserBlockingPriority,cd=xt.unstable_NormalPriority,tD=xt.unstable_LowPriority,RS=xt.unstable_IdlePriority,nD=xt.log,rD=xt.unstable_setDisableYieldValue,cc=null,yn=null;function Ba(e){if(typeof nD=="function"&&rD(e),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(cc,e)}catch{}}var vn=Math.clz32?Math.clz32:sD,aD=Math.log,oD=Math.LN2;function sD(e){return e>>>=0,e===0?32:31-(aD(e)/oD|0)|0}var Fc=256,Vc=4194304;function go(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yf(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=r&134217727;return i!==0?(r=i&~o,r!==0?a=go(r):(s&=i,s!==0?a=go(s):n||(n=i&~e,n!==0&&(a=go(n))))):(i=r&~o,i!==0?a=go(i):s!==0?a=go(s):n||(n=r&~e,n!==0&&(a=go(n)))),a===0?0:t!==0&&t!==a&&!(t&o)&&(o=a&-a,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:a}function uc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function iD(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TS(){var e=Fc;return Fc<<=1,!(Fc&4194048)&&(Fc=256),e}function MS(){var e=Vc;return Vc<<=1,!(Vc&62914560)&&(Vc=4194304),e}function Th(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lD(e,t,n,r,a,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-vn(n),f=1<<d;i[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&DS(e,r,0),o!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=o&~(s&~t))}function DS(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-vn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function zS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function d0(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function f0(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function OS(){var e=Ae.p;return e!==0?e:(e=window.event,e===void 0?32:e_(e.type))}function cD(e,t){var n=Ae.p;try{return Ae.p=e,t()}finally{Ae.p=n}}var oo=Math.random().toString(36).slice(2),Lt="__reactFiber$"+oo,en="__reactProps$"+oo,gi="__reactContainer$"+oo,up="__reactEvents$"+oo,uD="__reactListeners$"+oo,dD="__reactHandles$"+oo,tx="__reactResources$"+oo,fc="__reactMarker$"+oo;function h0(e){delete e[Lt],delete e[en],delete e[up],delete e[uD],delete e[dD]}function ws(e){var t=e[Lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[Lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lb(e);e!==null;){if(n=e[Lt])return n;e=lb(e)}return t}e=n,n=e.parentNode}return null}function yi(e){if(e=e[Lt]||e[gi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function tl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Y(33))}function Ds(e){var t=e[tx];return t||(t=e[tx]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[fc]=!0}var $S=new Set,LS={};function Zo(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(LS[e]=t,e=0;e<t.length;e++)$S.add(t[e])}var fD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nx={},rx={};function hD(e){return cp.call(rx,e)?!0:cp.call(nx,e)?!1:fD.test(e)?rx[e]=!0:(nx[e]=!0,!1)}function Mu(e,t,n){if(hD(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Gc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ur(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Mh,ax;function ms(e){if(Mh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mh=t&&t[1]||"",ax=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mh+e+ax}var Dh=!1;function zh(e,t){if(!e||Dh)return"";Dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],i=o[1];if(s&&i){var c=s.split(`
`),u=i.split(`
`);for(a=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===c.length||a===u.length)for(r=c.length-1,a=u.length-1;1<=r&&0<=a&&c[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(c[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||c[r]!==u[a]){var d=`
`+c[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=r&&0<=a);break}}}finally{Dh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ms(n):""}function mD(e){switch(e.tag){case 26:case 27:case 5:return ms(e.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 15:return zh(e.type,!1);case 11:return zh(e.type.render,!1);case 1:return zh(e.type,!0);case 31:return ms("Activity");default:return""}}function ox(e){try{var t="";do t+=mD(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function An(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pD(e){var t=PS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ud(e){e._valueTracker||(e._valueTracker=pD(e))}function IS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=PS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gD=/[\n"\\]/g;function Mn(e){return e.replace(gD,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function dp(e,t,n,r,a,o,s,i){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+An(t)):e.value!==""+An(t)&&(e.value=""+An(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?fp(e,s,An(t)):n!=null?fp(e,s,An(n)):r!=null&&e.removeAttribute("value"),a==null&&o!=null&&(e.defaultChecked=!!o),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.name=""+An(i):e.removeAttribute("name")}function BS(e,t,n,r,a,o,s,i){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+An(n):"",t=t!=null?""+An(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function fp(e,t,n){t==="number"&&dd(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function zs(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+An(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function HS(e,t,n){if(t!=null&&(t=""+An(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+An(n):""}function US(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(Y(92));if(el(r)){if(1<r.length)throw Error(Y(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=An(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sx(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||yD.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function FS(e,t,n){if(t!=null&&typeof t!="object")throw Error(Y(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&sx(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&sx(e,o,t[o])}function m0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Du(e){return xD.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var hp=null;function p0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,Os=null;function ix(e){var t=yi(e);if(t&&(e=t.stateNode)){var n=e[en]||null;e:switch(e=t.stateNode,t.type){case"input":if(dp(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[en]||null;if(!a)throw Error(Y(90));dp(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&IS(r)}break e;case"textarea":HS(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&zs(e,!!n.multiple,t,!1)}}}var Oh=!1;function VS(e,t,n){if(Oh)return e(t,n);Oh=!0;try{var r=e(t);return r}finally{if(Oh=!1,(Ss!==null||Os!==null)&&(jf(),Ss&&(t=Ss,e=Os,Os=Ss=null,ix(t),e)))for(t=0;t<e.length;t++)ix(e[t])}}function Al(e,t){var n=e.stateNode;if(n===null)return null;var r=n[en]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=!1;if(aa)try{var $i={};Object.defineProperty($i,"passive",{get:function(){mp=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{mp=!1}var Ha=null,g0=null,zu=null;function GS(){if(zu)return zu;var e,t=g0,n=t.length,r,a="value"in Ha?Ha.value:Ha.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[o-r];r++);return zu=a.slice(e,1<r?1-r:void 0)}function Ou(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zc(){return!0}function lx(){return!1}function nn(e){function t(n,r,a,o,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zc:lx,this.isPropagationStopped=lx,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),t}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=nn(Yo),hc=He({},Yo,{view:0,detail:0}),bD=nn(hc),$h,Lh,Li,xf=He({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?($h=e.screenX-Li.screenX,Lh=e.screenY-Li.screenY):Lh=$h=0,Li=e),$h)},movementY:function(e){return"movementY"in e?e.movementY:Lh}}),cx=nn(xf),wD=He({},xf,{dataTransfer:0}),SD=nn(wD),ND=He({},hc,{relatedTarget:0}),Ph=nn(ND),ED=He({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),_D=nn(ED),CD=He({},Yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jD=nn(CD),kD=He({},Yo,{data:0}),ux=nn(kD),AD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TD[e])?!!t[e]:!1}function y0(){return MD}var DD=He({},hc,{key:function(e){if(e.key){var t=AD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ou(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(e){return e.type==="keypress"?Ou(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ou(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zD=nn(DD),OD=He({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dx=nn(OD),$D=He({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),LD=nn($D),PD=He({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ID=nn(PD),BD=He({},xf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HD=nn(BD),UD=He({},Yo,{newState:0,oldState:0}),FD=nn(UD),VD=[9,13,27,32],v0=aa&&"CompositionEvent"in window,ul=null;aa&&"documentMode"in document&&(ul=document.documentMode);var GD=aa&&"TextEvent"in window&&!ul,ZS=aa&&(!v0||ul&&8<ul&&11>=ul),fx=" ",hx=!1;function YS(e,t){switch(e){case"keyup":return VD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function ZD(e,t){switch(e){case"compositionend":return qS(t);case"keypress":return t.which!==32?null:(hx=!0,fx);case"textInput":return e=t.data,e===fx&&hx?null:e;default:return null}}function YD(e,t){if(Ns)return e==="compositionend"||!v0&&YS(e,t)?(e=GS(),zu=g0=Ha=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZS&&t.locale!=="ko"?null:t.data;default:return null}}var qD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qD[e.type]:t==="textarea"}function XS(e,t,n,r){Ss?Os?Os.push(r):Os=[r]:Ss=r,t=Ad(t,"onChange"),0<t.length&&(n=new vf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dl=null,Rl=null;function XD(e){HE(e,0)}function bf(e){var t=tl(e);if(IS(t))return e}function px(e,t){if(e==="change")return t}var KS=!1;if(aa){var Ih;if(aa){var Bh="oninput"in document;if(!Bh){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),Bh=typeof gx.oninput=="function"}Ih=Bh}else Ih=!1;KS=Ih&&(!document.documentMode||9<document.documentMode)}function yx(){dl&&(dl.detachEvent("onpropertychange",WS),Rl=dl=null)}function WS(e){if(e.propertyName==="value"&&bf(Rl)){var t=[];XS(t,Rl,e,p0(e)),VS(XD,t)}}function KD(e,t,n){e==="focusin"?(yx(),dl=t,Rl=n,dl.attachEvent("onpropertychange",WS)):e==="focusout"&&yx()}function WD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bf(Rl)}function QD(e,t){if(e==="click")return bf(t)}function JD(e,t){if(e==="input"||e==="change")return bf(t)}function e3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:e3;function Tl(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!cp.call(t,a)||!Sn(e[a],t[a]))return!1}return!0}function vx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xx(e,t){var n=vx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vx(n)}}function QS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?QS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function JS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dd(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dd(e.document)}return t}function x0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var t3=aa&&"documentMode"in document&&11>=document.documentMode,Es=null,pp=null,fl=null,gp=!1;function bx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gp||Es==null||Es!==dd(r)||(r=Es,"selectionStart"in r&&x0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Tl(fl,r)||(fl=r,r=Ad(pp,"onSelect"),0<r.length&&(t=new vf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Es)))}function fo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _s={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},Hh={},eN={};aa&&(eN=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function qo(e){if(Hh[e])return Hh[e];if(!_s[e])return e;var t=_s[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in eN)return Hh[e]=t[n];return e}var tN=qo("animationend"),nN=qo("animationiteration"),rN=qo("animationstart"),n3=qo("transitionrun"),r3=qo("transitionstart"),a3=qo("transitioncancel"),aN=qo("transitionend"),oN=new Map,yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yp.push("scrollEnd");function tr(e,t){oN.set(e,t),Zo(t,[e])}var wx=new WeakMap;function Dn(e,t){if(typeof e=="object"&&e!==null){var n=wx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ox(t)},wx.set(e,t),t)}return{value:e,source:t,stack:ox(t)}}var kn=[],Cs=0,b0=0;function wf(){for(var e=Cs,t=b0=Cs=0;t<e;){var n=kn[t];kn[t++]=null;var r=kn[t];kn[t++]=null;var a=kn[t];kn[t++]=null;var o=kn[t];if(kn[t++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}o!==0&&sN(n,a,o)}}function Sf(e,t,n,r){kn[Cs++]=e,kn[Cs++]=t,kn[Cs++]=n,kn[Cs++]=r,b0|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function w0(e,t,n,r){return Sf(e,t,n,r),fd(e)}function vi(e,t){return Sf(e,null,null,t),fd(e)}function sN(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(a=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,a&&t!==null&&(a=31-vn(n),e=o.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),o):null}function fd(e){if(50<Sl)throw Sl=0,Pp=null,Error(Y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var js={};function o3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,r){return new o3(e,t,n,r)}function S0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function iN(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $u(e,t,n,r,a,o){var s=0;if(r=e,typeof e=="function")S0(e)&&(s=1);else if(typeof e=="string")s=i4(e,n,yr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case op:return e=gn(31,n,t,a),e.elementType=op,e.lanes=o,e;case xs:return Co(n.children,a,o,t);case CS:s=8,a|=24;break;case np:return e=gn(12,n,t,a|2),e.elementType=np,e.lanes=o,e;case rp:return e=gn(13,n,t,a),e.elementType=rp,e.lanes=o,e;case ap:return e=gn(19,n,t,a),e.elementType=ap,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XM:case Xr:s=10;break e;case jS:s=9;break e;case l0:s=11;break e;case c0:s=14;break e;case ka:s=16,r=null;break e}s=29,n=Error(Y(130,e===null?"null":typeof e,"")),r=null}return t=gn(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Co(e,t,n,r){return e=gn(7,e,r,t),e.lanes=n,e}function Uh(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function Fh(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ks=[],As=0,hd=null,md=0,Rn=[],Tn=0,jo=null,Kr=1,Wr="";function yo(e,t){ks[As++]=md,ks[As++]=hd,hd=e,md=t}function lN(e,t,n){Rn[Tn++]=Kr,Rn[Tn++]=Wr,Rn[Tn++]=jo,jo=e;var r=Kr;e=Wr;var a=32-vn(r)-1;r&=~(1<<a),n+=1;var o=32-vn(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Kr=1<<32-vn(t)+a|n<<a|r,Wr=o+e}else Kr=1<<o|n<<a|r,Wr=e}function N0(e){e.return!==null&&(yo(e,1),lN(e,1,0))}function E0(e){for(;e===hd;)hd=ks[--As],ks[As]=null,md=ks[--As],ks[As]=null;for(;e===jo;)jo=Rn[--Tn],Rn[Tn]=null,Wr=Rn[--Tn],Rn[Tn]=null,Kr=Rn[--Tn],Rn[Tn]=null}var Ut=null,Qe=null,ke=!1,ko=null,dr=!1,vp=Error(Y(519));function zo(e){var t=Error(Y(418,""));throw Ml(Dn(t,e)),vp}function Sx(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Lt]=e,t[en]=r,n){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(n=0;n<Ol.length;n++)ve(Ol[n],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),BS(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ud(t);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),US(t,r.value,r.defaultValue,r.children),ud(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||FE(t.textContent,n)?(r.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),r.onScroll!=null&&ve("scroll",t),r.onScrollEnd!=null&&ve("scrollend",t),r.onClick!=null&&(t.onclick=Rf),t=!0):t=!1,t||zo(e)}function Nx(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:Ut=Ut.return}}function Pi(e){if(e!==Ut)return!1;if(!ke)return Nx(e),ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Vp(e.type,e.memoizedProps)),n=!n),n&&Qe&&zo(e),Nx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Qe=Xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Qe=null}}else t===27?(t=Qe,so(e.type)?(e=Yp,Yp=null,Qe=e):Qe=t):Qe=Ut?Xn(e.stateNode.nextSibling):null;return!0}function mc(){Qe=Ut=null,ke=!1}function Ex(){var e=ko;return e!==null&&(Qt===null?Qt=e:Qt.push.apply(Qt,e),ko=null),e}function Ml(e){ko===null?ko=[e]:ko.push(e)}var xp=Ar(null),Xo=null,Qr=null;function Ma(e,t,n){Ve(xp,t._currentValue),t._currentValue=n}function na(e){e._currentValue=xp.current,Et(xp)}function bp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wp(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;e:for(;o!==null;){var i=o;o=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),bp(o.return,n,e),r||(s=null);break e}o=i.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(Y(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),bp(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function pc(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(Y(387));if(s=s.memoizedProps,s!==null){var i=a.type;Sn(a.pendingProps.value,s.value)||(e!==null?e.push(i):e=[i])}}else if(a===sd.current){if(s=a.alternate,s===null)throw Error(Y(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}a=a.return}e!==null&&wp(t,e,n,r),t.flags|=262144}function pd(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oo(e){Xo=e,Qr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pt(e){return cN(Xo,e)}function Yc(e,t){return Xo===null&&Oo(e),cN(e,t)}function cN(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qr===null){if(e===null)throw Error(Y(308));Qr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qr=Qr.next=t;return n}var s3=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},i3=xt.unstable_scheduleCallback,l3=xt.unstable_NormalPriority,pt={$$typeof:Xr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _0(){return{controller:new s3,data:new Map,refCount:0}}function gc(e){e.refCount--,e.refCount===0&&i3(l3,function(){e.controller.abort()})}var hl=null,Sp=0,Qs=0,$s=null;function c3(e,t){if(hl===null){var n=hl=[];Sp=0,Qs=q0(),$s={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Sp++,t.then(_x,_x),t}function _x(){if(--Sp===0&&hl!==null){$s!==null&&($s.status="fulfilled");var e=hl;hl=null,Qs=0,$s=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function u3(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var Cx=ce.S;ce.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&c3(e,t),Cx!==null&&Cx(e,t)};var Ao=Ar(null);function C0(){var e=Ao.current;return e!==null?e:Ie.pooledCache}function Lu(e,t){t===null?Ve(Ao,Ao.current):Ve(Ao,t.pool)}function uN(){var e=C0();return e===null?null:{parent:pt._currentValue,pool:e}}var yc=Error(Y(460)),dN=Error(Y(474)),Nf=Error(Y(542)),Np={then:function(){}};function jx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qc(){}function fN(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(qc,qc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ax(e),e;default:if(typeof t.status=="string")t.then(qc,qc);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(Y(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ax(e),e}throw ml=t,yc}}var ml=null;function kx(){if(ml===null)throw Error(Y(459));var e=ml;return ml=null,e}function Ax(e){if(e===yc||e===Nf)throw Error(Y(483))}var Aa=!1;function j0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=fd(e),sN(e,null,n),t}return Sf(e,r,t,n),fd(e)}function pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zS(e,n)}}function Vh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _p=!1;function gl(){if(_p){var e=$s;if(e!==null)throw e}}function yl(e,t,n,r){_p=!1;var a=e.updateQueue;Aa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==s&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=a.baseState;s=0,d=u=c=null,i=o;do{var h=i.lane&-536870913,m=h!==i.lane;if(m?(je&h)===h:(r&h)===h){h!==0&&h===Qs&&(_p=!0),d!==null&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var y=e,v=i;h=t;var w=n;switch(v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(w,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(w,f,h):y,h==null)break e;f=He({},f,h);break e;case 2:Aa=!0}}h=i.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;m=i,i=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,o===null&&(a.shared.lanes=0),no|=s,e.lanes=s,e.memoizedState=f}}function hN(e,t){if(typeof e!="function")throw Error(Y(191,e));e.call(t)}function mN(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)hN(n[e],t)}var Js=Ar(null),gd=Ar(0);function Rx(e,t){e=ia,Ve(gd,e),Ve(Js,t),ia=e|t.baseLanes}function Cp(){Ve(gd,ia),Ve(Js,Js.current)}function k0(){ia=gd.current,Et(Js),Et(gd)}var eo=0,ge=null,Le=null,lt=null,yd=!1,Ls=!1,$o=!1,vd=0,Dl=0,Ps=null,d3=0;function rt(){throw Error(Y(321))}function A0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function R0(e,t,n,r,a,o){return eo=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ce.H=e===null||e.memoizedState===null?GN:ZN,$o=!1,o=n(r,a),$o=!1,Ls&&(o=gN(t,n,r,a)),pN(e),o}function pN(e){ce.H=xd;var t=Le!==null&&Le.next!==null;if(eo=0,lt=Le=ge=null,yd=!1,Dl=0,Ps=null,t)throw Error(Y(300));e===null||Nt||(e=e.dependencies,e!==null&&pd(e)&&(Nt=!0))}function gN(e,t,n,r){ge=e;var a=0;do{if(Ls&&(Ps=null),Dl=0,Ls=!1,25<=a)throw Error(Y(301));if(a+=1,lt=Le=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}ce.H=v3,o=t(n,r)}while(Ls);return o}function f3(){var e=ce.H,t=e.useState()[0];return t=typeof t.then=="function"?vc(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ge.flags|=1024),t}function T0(){var e=vd!==0;return vd=0,e}function M0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function D0(e){if(yd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yd=!1}eo=0,lt=Le=ge=null,Ls=!1,Dl=vd=0,Ps=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?ge.memoizedState=lt=e:lt=lt.next=e,lt}function dt(){if(Le===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=lt===null?ge.memoizedState:lt.next;if(t!==null)lt=t,Le=e;else{if(e===null)throw ge.alternate===null?Error(Y(467)):Error(Y(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},lt===null?ge.memoizedState=lt=e:lt=lt.next=e}return lt}function z0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vc(e){var t=Dl;return Dl+=1,Ps===null&&(Ps=[]),e=fN(Ps,e,t),t=ge,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,ce.H=t===null||t.memoizedState===null?GN:ZN),e}function Ef(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vc(e);if(e.$$typeof===Xr)return Pt(e)}throw Error(Y(438,String(e)))}function O0(e){var t=null,n=ge.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ge.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=z0(),ge.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=KM;return t.index++,n}function oa(e,t){return typeof t=="function"?t(e):t}function Pu(e){var t=dt();return $0(t,Le,e)}function $0(e,t,n){var r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var i=s=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(je&f)===f:(eo&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Qs&&(d=!0);else if((eo&h)===h){u=u.next,h===Qs&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=f,s=o):c=c.next=f,ge.lanes|=h,no|=h;f=u.action,$o&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=h,s=o):c=c.next=h,ge.lanes|=f,no|=f;u=u.next}while(u!==null&&u!==t);if(c===null?s=o:c.next=i,!Sn(o,e.memoizedState)&&(Nt=!0,d&&(n=$s,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gh(e){var t=dt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Sn(o,t.memoizedState)||(Nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function yN(e,t,n){var r=ge,a=dt(),o=ke;if(o){if(n===void 0)throw Error(Y(407));n=n()}else n=t();var s=!Sn((Le||a).memoizedState,n);s&&(a.memoizedState=n,Nt=!0),a=a.queue;var i=bN.bind(null,r,a,e);if(xc(2048,8,i,[e]),a.getSnapshot!==t||s||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,ei(9,_f(),xN.bind(null,r,a,n,t),null),Ie===null)throw Error(Y(349));o||eo&124||vN(r,t,n)}return n}function vN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t=z0(),ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xN(e,t,n,r){t.value=n,t.getSnapshot=r,wN(t)&&SN(e)}function bN(e,t,n){return n(function(){wN(t)&&SN(e)})}function wN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function SN(e){var t=vi(e,2);t!==null&&bn(t,e,2)}function jp(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),$o){Ba(!0);try{n()}finally{Ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function NN(e,t,n,r){return e.baseState=n,$0(e,Le,typeof r=="function"?r:oa)}function h3(e,t,n,r,a){if(Cf(e))throw Error(Y(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};ce.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,EN(t,o)):(o.next=n.next,t.pending=n.next=o)}}function EN(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=ce.T,s={};ce.T=s;try{var i=n(a,r),c=ce.S;c!==null&&c(s,i),Tx(e,t,i)}catch(u){kp(e,t,u)}finally{ce.T=o}}else try{o=n(a,r),Tx(e,t,o)}catch(u){kp(e,t,u)}}function Tx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Mx(e,t,r)},function(r){return kp(e,t,r)}):Mx(e,t,n)}function Mx(e,t,n){t.status="fulfilled",t.value=n,_N(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,EN(e,n)))}function kp(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,_N(t),t=t.next;while(t!==r)}e.action=null}function _N(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function CN(e,t){return t}function Dx(e,t){if(ke){var n=Ie.formState;if(n!==null){e:{var r=ge;if(ke){if(Qe){t:{for(var a=Qe,o=dr;a.nodeType!==8;){if(!o){a=null;break t}if(a=Xn(a.nextSibling),a===null){a=null;break t}}o=a.data,a=o==="F!"||o==="F"?a:null}if(a){Qe=Xn(a.nextSibling),r=a.data==="F!";break e}}zo(r)}r=!1}r&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CN,lastRenderedState:t},n.queue=r,n=UN.bind(null,ge,r),r.dispatch=n,r=jp(!1),o=B0.bind(null,ge,!1,r.queue),r=Kt(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=h3.bind(null,ge,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function zx(e){var t=dt();return jN(t,Le,e)}function jN(e,t,n){if(t=$0(e,t,CN)[0],e=Pu(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=vc(t)}catch(s){throw s===yc?Nf:s}else r=t;t=dt();var a=t.queue,o=a.dispatch;return n!==t.memoizedState&&(ge.flags|=2048,ei(9,_f(),m3.bind(null,a,n),null)),[r,o,e]}function m3(e,t){e.action=t}function Ox(e){var t=dt(),n=Le;if(n!==null)return jN(t,n,e);dt(),t=t.memoizedState,n=dt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ei(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ge.updateQueue,t===null&&(t=z0(),ge.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _f(){return{destroy:void 0,resource:void 0}}function kN(){return dt().memoizedState}function Iu(e,t,n,r){var a=Kt();r=r===void 0?null:r,ge.flags|=e,a.memoizedState=ei(1|t,_f(),n,r)}function xc(e,t,n,r){var a=dt();r=r===void 0?null:r;var o=a.memoizedState.inst;Le!==null&&r!==null&&A0(r,Le.memoizedState.deps)?a.memoizedState=ei(t,o,n,r):(ge.flags|=e,a.memoizedState=ei(1|t,o,n,r))}function $x(e,t){Iu(8390656,8,e,t)}function AN(e,t){xc(2048,8,e,t)}function RN(e,t){return xc(4,2,e,t)}function TN(e,t){return xc(4,4,e,t)}function MN(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DN(e,t,n){n=n!=null?n.concat([e]):null,xc(4,4,MN.bind(null,t,e),n)}function L0(){}function zN(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&A0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ON(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&A0(t,r[1]))return r[0];if(r=e(),$o){Ba(!0);try{e()}finally{Ba(!1)}}return n.memoizedState=[r,t],r}function P0(e,t,n){return n===void 0||eo&1073741824?e.memoizedState=t:(e.memoizedState=n,e=_E(),ge.lanes|=e,no|=e,n)}function $N(e,t,n,r){return Sn(n,t)?n:Js.current!==null?(e=P0(e,n,r),Sn(e,t)||(Nt=!0),e):eo&42?(e=_E(),ge.lanes|=e,no|=e,t):(Nt=!0,e.memoizedState=n)}function LN(e,t,n,r,a){var o=Ae.p;Ae.p=o!==0&&8>o?o:8;var s=ce.T,i={};ce.T=i,B0(e,!1,t,n);try{var c=a(),u=ce.S;if(u!==null&&u(i,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=u3(c,r);vl(e,t,d,xn(e))}else vl(e,t,r,xn(e))}catch(f){vl(e,t,{then:function(){},status:"rejected",reason:f},xn())}finally{Ae.p=o,ce.T=s}}function p3(){}function Ap(e,t,n,r){if(e.tag!==5)throw Error(Y(476));var a=PN(e).queue;LN(e,a,t,_o,n===null?p3:function(){return IN(e),n(r)})}function PN(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:_o,baseState:_o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:_o},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function IN(e){var t=PN(e).next.queue;vl(e,t,{},xn())}function I0(){return Pt(Pl)}function BN(){return dt().memoizedState}function HN(){return dt().memoizedState}function g3(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xn();e=Za(n);var r=Ya(t,e,n);r!==null&&(bn(r,t,n),pl(r,t,n)),t={cache:_0()},e.payload=t;return}t=t.return}}function y3(e,t,n){var r=xn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Cf(e)?FN(t,n):(n=w0(e,t,n,r),n!==null&&(bn(n,e,r),VN(n,t,r)))}function UN(e,t,n){var r=xn();vl(e,t,n,r)}function vl(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cf(e))FN(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,Sn(i,s))return Sf(e,t,a,0),Ie===null&&wf(),!1}catch{}finally{}if(n=w0(e,t,a,r),n!==null)return bn(n,e,r),VN(n,t,r),!0}return!1}function B0(e,t,n,r){if(r={lane:2,revertLane:q0(),action:r,hasEagerState:!1,eagerState:null,next:null},Cf(e)){if(t)throw Error(Y(479))}else t=w0(e,n,r,2),t!==null&&bn(t,e,2)}function Cf(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function FN(e,t){Ls=yd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function VN(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zS(e,n)}}var xd={readContext:Pt,use:Ef,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},GN={readContext:Pt,use:Ef,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:$x,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Iu(4194308,4,MN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Iu(4194308,4,e,t)},useInsertionEffect:function(e,t){Iu(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var r=e();if($o){Ba(!0);try{e()}finally{Ba(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Kt();if(n!==void 0){var a=n(t);if($o){Ba(!0);try{n(t)}finally{Ba(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=y3.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=jp(e);var t=e.queue,n=UN.bind(null,ge,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:L0,useDeferredValue:function(e,t){var n=Kt();return P0(n,e,t)},useTransition:function(){var e=jp(!1);return e=LN.bind(null,ge,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ge,a=Kt();if(ke){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Ie===null)throw Error(Y(349));je&124||vN(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,$x(bN.bind(null,r,o,e),[e]),r.flags|=2048,ei(9,_f(),xN.bind(null,r,o,n,t),null),n},useId:function(){var e=Kt(),t=Ie.identifierPrefix;if(ke){var n=Wr,r=Kr;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,t=""+t+"R"+n,n=vd++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=d3++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:I0,useFormState:Dx,useActionState:Dx,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=B0.bind(null,ge,!0,n),n.dispatch=t,[e,t]},useMemoCache:O0,useCacheRefresh:function(){return Kt().memoizedState=g3.bind(null,ge)}},ZN={readContext:Pt,use:Ef,useCallback:zN,useContext:Pt,useEffect:AN,useImperativeHandle:DN,useInsertionEffect:RN,useLayoutEffect:TN,useMemo:ON,useReducer:Pu,useRef:kN,useState:function(){return Pu(oa)},useDebugValue:L0,useDeferredValue:function(e,t){var n=dt();return $N(n,Le.memoizedState,e,t)},useTransition:function(){var e=Pu(oa)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:vc(e),t]},useSyncExternalStore:yN,useId:BN,useHostTransitionStatus:I0,useFormState:zx,useActionState:zx,useOptimistic:function(e,t){var n=dt();return NN(n,Le,e,t)},useMemoCache:O0,useCacheRefresh:HN},v3={readContext:Pt,use:Ef,useCallback:zN,useContext:Pt,useEffect:AN,useImperativeHandle:DN,useInsertionEffect:RN,useLayoutEffect:TN,useMemo:ON,useReducer:Gh,useRef:kN,useState:function(){return Gh(oa)},useDebugValue:L0,useDeferredValue:function(e,t){var n=dt();return Le===null?P0(n,e,t):$N(n,Le.memoizedState,e,t)},useTransition:function(){var e=Gh(oa)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:vc(e),t]},useSyncExternalStore:yN,useId:BN,useHostTransitionStatus:I0,useFormState:Ox,useActionState:Ox,useOptimistic:function(e,t){var n=dt();return Le!==null?NN(n,Le,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:O0,useCacheRefresh:HN},Is=null,zl=0;function Xc(e){var t=zl;return zl+=1,Is===null&&(Is=[]),fN(Is,e,t)}function Ii(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Kc(e,t){throw t.$$typeof===qM?Error(Y(525)):(e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Lx(e){var t=e._init;return t(e._payload)}function YN(e){function t(g,x){if(e){var S=g.deletions;S===null?(g.deletions=[x],g.flags|=16):S.push(x)}}function n(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function r(g){for(var x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function a(g,x){return g=ta(g,x),g.index=0,g.sibling=null,g}function o(g,x,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<x?(g.flags|=67108866,x):S):(g.flags|=67108866,x)):(g.flags|=1048576,x)}function s(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function i(g,x,S,b){return x===null||x.tag!==6?(x=Uh(S,g.mode,b),x.return=g,x):(x=a(x,S),x.return=g,x)}function c(g,x,S,b){var E=S.type;return E===xs?d(g,x,S.props.children,b,S.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ka&&Lx(E)===x.type)?(x=a(x,S.props),Ii(x,S),x.return=g,x):(x=$u(S.type,S.key,S.props,null,g.mode,b),Ii(x,S),x.return=g,x)}function u(g,x,S,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Fh(S,g.mode,b),x.return=g,x):(x=a(x,S.children||[]),x.return=g,x)}function d(g,x,S,b,E){return x===null||x.tag!==7?(x=Co(S,g.mode,b,E),x.return=g,x):(x=a(x,S),x.return=g,x)}function f(g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Uh(""+x,g.mode,S),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uc:return S=$u(x.type,x.key,x.props,null,g.mode,S),Ii(S,x),S.return=g,S;case Ji:return x=Fh(x,g.mode,S),x.return=g,x;case ka:var b=x._init;return x=b(x._payload),f(g,x,S)}if(el(x)||Oi(x))return x=Co(x,g.mode,S,null),x.return=g,x;if(typeof x.then=="function")return f(g,Xc(x),S);if(x.$$typeof===Xr)return f(g,Yc(g,x),S);Kc(g,x)}return null}function h(g,x,S,b){var E=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return E!==null?null:i(g,x,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Uc:return S.key===E?c(g,x,S,b):null;case Ji:return S.key===E?u(g,x,S,b):null;case ka:return E=S._init,S=E(S._payload),h(g,x,S,b)}if(el(S)||Oi(S))return E!==null?null:d(g,x,S,b,null);if(typeof S.then=="function")return h(g,x,Xc(S),b);if(S.$$typeof===Xr)return h(g,x,Yc(g,S),b);Kc(g,S)}return null}function m(g,x,S,b,E){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(S)||null,i(x,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Uc:return g=g.get(b.key===null?S:b.key)||null,c(x,g,b,E);case Ji:return g=g.get(b.key===null?S:b.key)||null,u(x,g,b,E);case ka:var j=b._init;return b=j(b._payload),m(g,x,S,b,E)}if(el(b)||Oi(b))return g=g.get(S)||null,d(x,g,b,E,null);if(typeof b.then=="function")return m(g,x,S,Xc(b),E);if(b.$$typeof===Xr)return m(g,x,S,Yc(x,b),E);Kc(x,b)}return null}function y(g,x,S,b){for(var E=null,j=null,N=x,C=x=0,A=null;N!==null&&C<S.length;C++){N.index>C?(A=N,N=null):A=N.sibling;var _=h(g,N,S[C],b);if(_===null){N===null&&(N=A);break}e&&N&&_.alternate===null&&t(g,N),x=o(_,x,C),j===null?E=_:j.sibling=_,j=_,N=A}if(C===S.length)return n(g,N),ke&&yo(g,C),E;if(N===null){for(;C<S.length;C++)N=f(g,S[C],b),N!==null&&(x=o(N,x,C),j===null?E=N:j.sibling=N,j=N);return ke&&yo(g,C),E}for(N=r(N);C<S.length;C++)A=m(N,g,C,S[C],b),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?C:A.key),x=o(A,x,C),j===null?E=A:j.sibling=A,j=A);return e&&N.forEach(function(T){return t(g,T)}),ke&&yo(g,C),E}function v(g,x,S,b){if(S==null)throw Error(Y(151));for(var E=null,j=null,N=x,C=x=0,A=null,_=S.next();N!==null&&!_.done;C++,_=S.next()){N.index>C?(A=N,N=null):A=N.sibling;var T=h(g,N,_.value,b);if(T===null){N===null&&(N=A);break}e&&N&&T.alternate===null&&t(g,N),x=o(T,x,C),j===null?E=T:j.sibling=T,j=T,N=A}if(_.done)return n(g,N),ke&&yo(g,C),E;if(N===null){for(;!_.done;C++,_=S.next())_=f(g,_.value,b),_!==null&&(x=o(_,x,C),j===null?E=_:j.sibling=_,j=_);return ke&&yo(g,C),E}for(N=r(N);!_.done;C++,_=S.next())_=m(N,g,C,_.value,b),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?C:_.key),x=o(_,x,C),j===null?E=_:j.sibling=_,j=_);return e&&N.forEach(function(I){return t(g,I)}),ke&&yo(g,C),E}function w(g,x,S,b){if(typeof S=="object"&&S!==null&&S.type===xs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Uc:e:{for(var E=S.key;x!==null;){if(x.key===E){if(E=S.type,E===xs){if(x.tag===7){n(g,x.sibling),b=a(x,S.props.children),b.return=g,g=b;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ka&&Lx(E)===x.type){n(g,x.sibling),b=a(x,S.props),Ii(b,S),b.return=g,g=b;break e}n(g,x);break}else t(g,x);x=x.sibling}S.type===xs?(b=Co(S.props.children,g.mode,b,S.key),b.return=g,g=b):(b=$u(S.type,S.key,S.props,null,g.mode,b),Ii(b,S),b.return=g,g=b)}return s(g);case Ji:e:{for(E=S.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(g,x.sibling),b=a(x,S.children||[]),b.return=g,g=b;break e}else{n(g,x);break}else t(g,x);x=x.sibling}b=Fh(S,g.mode,b),b.return=g,g=b}return s(g);case ka:return E=S._init,S=E(S._payload),w(g,x,S,b)}if(el(S))return y(g,x,S,b);if(Oi(S)){if(E=Oi(S),typeof E!="function")throw Error(Y(150));return S=E.call(S),v(g,x,S,b)}if(typeof S.then=="function")return w(g,x,Xc(S),b);if(S.$$typeof===Xr)return w(g,x,Yc(g,S),b);Kc(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,x!==null&&x.tag===6?(n(g,x.sibling),b=a(x,S),b.return=g,g=b):(n(g,x),b=Uh(S,g.mode,b),b.return=g,g=b),s(g)):n(g,x)}return function(g,x,S,b){try{zl=0;var E=w(g,x,S,b);return Is=null,E}catch(N){if(N===yc||N===Nf)throw N;var j=gn(29,N,null,g.mode);return j.lanes=b,j.return=g,j}finally{}}}var ti=YN(!0),qN=YN(!1),Pn=Ar(null),xr=null;function Da(e){var t=e.alternate;Ve(gt,gt.current&1),Ve(Pn,e),xr===null&&(t===null||Js.current!==null||t.memoizedState!==null)&&(xr=e)}function XN(e){if(e.tag===22){if(Ve(gt,gt.current),Ve(Pn,e),xr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(xr=e)}}else za()}function za(){Ve(gt,gt.current),Ve(Pn,Pn.current)}function Jr(e){Et(Pn),xr===e&&(xr=null),Et(gt)}var gt=Ar(0);function bd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Zp(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Zh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rp={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xn(),a=Za(r);a.payload=t,n!=null&&(a.callback=n),t=Ya(e,a,r),t!==null&&(bn(t,e,r),pl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xn(),a=Za(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ya(e,a,r),t!==null&&(bn(t,e,r),pl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xn(),r=Za(n);r.tag=2,t!=null&&(r.callback=t),t=Ya(e,r,n),t!==null&&(bn(t,e,n),pl(t,e,n))}};function Px(e,t,n,r,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Tl(n,r)||!Tl(a,o):!0}function Ix(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rp.enqueueReplaceState(t,t.state,null)}function Lo(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=He({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var wd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function KN(e){wd(e)}function WN(e){console.error(e)}function QN(e){wd(e)}function Sd(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Bx(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Tp(e,t,n){return n=Za(n),n.tag=3,n.payload={element:null},n.callback=function(){Sd(e,t)},n}function JN(e){return e=Za(e),e.tag=3,e}function eE(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){Bx(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Bx(t,n,r),typeof a!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})})}function x3(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&pc(t,n,a,!0),n=Pn.current,n!==null){switch(n.tag){case 13:return xr===null?Ip():n.alternate===null&&et===0&&(et=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Np?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),rm(e,r,a)),!1;case 22:return n.flags|=65536,r===Np?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),rm(e,r,a)),!1}throw Error(Y(435,n.tag))}return rm(e,r,a),Ip(),!1}if(ke)return t=Pn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==vp&&(e=Error(Y(422),{cause:r}),Ml(Dn(e,n)))):(r!==vp&&(t=Error(Y(423),{cause:r}),Ml(Dn(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Dn(r,n),a=Tp(e.stateNode,r,a),Vh(e,a),et!==4&&(et=2)),!1;var o=Error(Y(520),{cause:r});if(o=Dn(o,n),wl===null?wl=[o]:wl.push(o),et!==4&&(et=2),t===null)return!0;r=Dn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Tp(n.stateNode,r,e),Vh(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=JN(a),eE(a,e,n,r),Vh(n,a),!1}n=n.return}while(n!==null);return!1}var tE=Error(Y(461)),Nt=!1;function Rt(e,t,n,r){t.child=e===null?qN(t,null,n,r):ti(t,e.child,n,r)}function Hx(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var i in r)i!=="ref"&&(s[i]=r[i])}else s=r;return Oo(t),r=R0(e,t,n,s,o,a),i=T0(),e!==null&&!Nt?(M0(e,t,a),sa(e,t,a)):(ke&&i&&N0(t),t.flags|=1,Rt(e,t,r,a),t.child)}function Ux(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!S0(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,nE(e,t,o,r,a)):(e=$u(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!H0(e,a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(s,r)&&e.ref===t.ref)return sa(e,t,a)}return t.flags|=1,e=ta(o,r),e.ref=t.ref,e.return=t,t.child=e}function nE(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(Tl(o,r)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=r=o,H0(e,a))e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,sa(e,t,a)}return Mp(e,t,n,r,a)}function rE(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Fx(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(t,o!==null?o.cachePool:null),o!==null?Rx(t,o):Cp(),XN(t);else return t.lanes=t.childLanes=536870912,Fx(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(Lu(t,o.cachePool),Rx(t,o),za(),t.memoizedState=null):(e!==null&&Lu(t,null),Cp(),za());return Rt(e,t,a,n),t.child}function Fx(e,t,n,r){var a=C0();return a=a===null?null:{parent:pt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Lu(t,null),Cp(),XN(t),e!==null&&pc(e,t,r,!0),null}function Bu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Mp(e,t,n,r,a){return Oo(t),n=R0(e,t,n,r,void 0,a),r=T0(),e!==null&&!Nt?(M0(e,t,a),sa(e,t,a)):(ke&&r&&N0(t),t.flags|=1,Rt(e,t,n,a),t.child)}function Vx(e,t,n,r,a,o){return Oo(t),t.updateQueue=null,n=gN(t,r,n,a),pN(e),r=T0(),e!==null&&!Nt?(M0(e,t,o),sa(e,t,o)):(ke&&r&&N0(t),t.flags|=1,Rt(e,t,n,o),t.child)}function Gx(e,t,n,r,a){if(Oo(t),t.stateNode===null){var o=js,s=n.contextType;typeof s=="object"&&s!==null&&(o=Pt(s)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rp,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},j0(t),s=n.contextType,o.context=typeof s=="object"&&s!==null?Pt(s):js,o.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Zh(t,n,s,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Rp.enqueueReplaceState(o,o.state,null),yl(t,r,o,a),gl(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var i=t.memoizedProps,c=Lo(n,i);o.props=c;var u=o.context,d=n.contextType;s=js,typeof d=="object"&&d!==null&&(s=Pt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function",i=t.pendingProps!==i,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i||u!==s)&&Ix(t,o,r,s),Aa=!1;var h=t.memoizedState;o.state=h,yl(t,r,o,a),gl(),u=t.memoizedState,i||h!==u||Aa?(typeof f=="function"&&(Zh(t,n,f,r),u=t.memoizedState),(c=Aa||Px(t,n,c,r,h,u,s))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ep(e,t),s=t.memoizedProps,d=Lo(n,s),o.props=d,f=t.pendingProps,h=o.context,u=n.contextType,c=js,typeof u=="object"&&u!==null&&(c=Pt(u)),i=n.getDerivedStateFromProps,(u=typeof i=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&Ix(t,o,r,c),Aa=!1,h=t.memoizedState,o.state=h,yl(t,r,o,a),gl();var m=t.memoizedState;s!==f||h!==m||Aa||e!==null&&e.dependencies!==null&&pd(e.dependencies)?(typeof i=="function"&&(Zh(t,n,i,r),m=t.memoizedState),(d=Aa||Px(t,n,d,r,h,m,c)||e!==null&&e.dependencies!==null&&pd(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Bu(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=ti(t,e.child,null,a),t.child=ti(t,null,n,a)):Rt(e,t,n,a),t.memoizedState=o.state,e=t.child):e=sa(e,t,a),e}function Zx(e,t,n,r){return mc(),t.flags|=256,Rt(e,t,n,r),t.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(e){return{baseLanes:e,cachePool:uN()}}function Xh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=On),e}function aE(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(gt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(a?Da(t):za(),ke){var i=Qe,c;if(c=i){e:{for(c=i,i=dr;c.nodeType!==8;){if(!i){i=null;break e}if(c=Xn(c.nextSibling),c===null){i=null;break e}}i=c}i!==null?(t.memoizedState={dehydrated:i,treeContext:jo!==null?{id:Kr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},c=gn(18,null,null,0),c.stateNode=i,c.return=t,t.child=c,Ut=t,Qe=null,c=!0):c=!1}c||zo(t)}if(i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null))return Zp(i)?t.lanes=32:t.lanes=536870912,null;Jr(t)}return i=r.children,r=r.fallback,a?(za(),a=t.mode,i=Nd({mode:"hidden",children:i},a),r=Co(r,a,n,null),i.return=t,r.return=t,i.sibling=r,t.child=i,a=t.child,a.memoizedState=qh(n),a.childLanes=Xh(e,s,n),t.memoizedState=Yh,r):(Da(t),Dp(t,i))}if(c=e.memoizedState,c!==null&&(i=c.dehydrated,i!==null)){if(o)t.flags&256?(Da(t),t.flags&=-257,t=Kh(e,t,n)):t.memoizedState!==null?(za(),t.child=e.child,t.flags|=128,t=null):(za(),a=r.fallback,i=t.mode,r=Nd({mode:"visible",children:r.children},i),a=Co(a,i,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,ti(t,e.child,null,n),r=t.child,r.memoizedState=qh(n),r.childLanes=Xh(e,s,n),t.memoizedState=Yh,t=a);else if(Da(t),Zp(i)){if(s=i.nextSibling&&i.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(Y(419)),r.stack="",r.digest=s,Ml({value:r,source:null,stack:null}),t=Kh(e,t,n)}else if(Nt||pc(e,t,n,!1),s=(n&e.childLanes)!==0,Nt||s){if(s=Ie,s!==null&&(r=n&-n,r=r&42?1:d0(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,vi(e,r),bn(s,e,r),tE;i.data==="$?"||Ip(),t=Kh(e,t,n)}else i.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Qe=Xn(i.nextSibling),Ut=t,ke=!0,ko=null,dr=!1,e!==null&&(Rn[Tn++]=Kr,Rn[Tn++]=Wr,Rn[Tn++]=jo,Kr=e.id,Wr=e.overflow,jo=t),t=Dp(t,r.children),t.flags|=4096);return t}return a?(za(),a=r.fallback,i=t.mode,c=e.child,u=c.sibling,r=ta(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?a=ta(u,a):(a=Co(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i===null?i=qh(n):(c=i.cachePool,c!==null?(u=pt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=uN(),i={baseLanes:i.baseLanes|n,cachePool:c}),a.memoizedState=i,a.childLanes=Xh(e,s,n),t.memoizedState=Yh,r):(Da(t),n=e.child,e=n.sibling,n=ta(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Dp(e,t){return t=Nd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Nd(e,t){return e=gn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Kh(e,t,n){return ti(t,e.child,null,n),e=Dp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bp(e.return,t,n)}function Wh(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function oE(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Rt(e,t,r.children,n),r=gt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yx(e,n,t);else if(e.tag===19)Yx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Ve(gt,r),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&bd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Wh(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&bd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Wh(t,!0,n,null,o);break;case"together":Wh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),no|=t.lanes,!(n&t.childLanes))if(e!==null){if(pc(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=ta(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ta(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function H0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&pd(e)))}function b3(e,t,n){switch(t.tag){case 3:id(t,t.stateNode.containerInfo),Ma(t,pt,e.memoizedState.cache),mc();break;case 27:case 5:lp(t);break;case 4:id(t,t.stateNode.containerInfo);break;case 10:Ma(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Da(t),t.flags|=128,null):n&t.child.childLanes?aE(e,t,n):(Da(t),e=sa(e,t,n),e!==null?e.sibling:null);Da(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(pc(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return oE(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ve(gt,gt.current),r)break;return null;case 22:case 23:return t.lanes=0,rE(e,t,n);case 24:Ma(t,pt,e.memoizedState.cache)}return sa(e,t,n)}function sE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Nt=!0;else{if(!H0(e,n)&&!(t.flags&128))return Nt=!1,b3(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,ke&&t.flags&1048576&&lN(t,md,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r=="function")S0(r)?(e=Lo(r,e),t.tag=1,t=Gx(null,t,r,e,n)):(t.tag=0,t=Mp(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===l0){t.tag=11,t=Hx(null,t,r,e,n);break e}else if(a===c0){t.tag=14,t=Ux(null,t,r,e,n);break e}}throw t=sp(r)||r,Error(Y(306,t,""))}}return t;case 0:return Mp(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Lo(r,t.pendingProps),Gx(e,t,r,a,n);case 3:e:{if(id(t,t.stateNode.containerInfo),e===null)throw Error(Y(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ep(e,t),yl(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ma(t,pt,r),r!==o.cache&&wp(t,[pt],n,!0),gl(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Zx(e,t,r,n);break e}else if(r!==a){a=Dn(Error(Y(424)),t),Ml(a),t=Zx(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Xn(e.firstChild),Ut=t,ke=!0,ko=null,dr=!0,n=qN(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(mc(),r===a){t=sa(e,t,n);break e}Rt(e,t,r,n)}t=t.child}return t;case 26:return Bu(e,t),e===null?(n=ub(t.type,null,t.pendingProps,null))?t.memoizedState=n:ke||(n=t.type,e=t.pendingProps,r=Rd(Ga.current).createElement(n),r[Lt]=t,r[en]=e,Mt(r,n,e),St(r),t.stateNode=r):t.memoizedState=ub(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return lp(t),e===null&&ke&&(r=t.stateNode=ZE(t.type,t.pendingProps,Ga.current),Ut=t,dr=!0,a=Qe,so(t.type)?(Yp=a,Qe=Xn(r.firstChild)):Qe=a),Rt(e,t,t.pendingProps.children,n),Bu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((a=r=Qe)&&(r=q3(r,t.type,t.pendingProps,dr),r!==null?(t.stateNode=r,Ut=t,Qe=Xn(r.firstChild),dr=!1,a=!0):a=!1),a||zo(t)),lp(t),a=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,r=o.children,Vp(a,o)?r=null:s!==null&&Vp(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=R0(e,t,f3,null,null,n),Pl._currentValue=a),Bu(e,t),Rt(e,t,r,n),t.child;case 6:return e===null&&ke&&((e=n=Qe)&&(n=X3(n,t.pendingProps,dr),n!==null?(t.stateNode=n,Ut=t,Qe=null,e=!0):e=!1),e||zo(t)),null;case 13:return aE(e,t,n);case 4:return id(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ti(t,null,r,n):Rt(e,t,r,n),t.child;case 11:return Hx(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ma(t,t.type,r.value),Rt(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Oo(t),a=Pt(a),r=r(a),t.flags|=1,Rt(e,t,r,n),t.child;case 14:return Ux(e,t,t.type,t.pendingProps,n);case 15:return nE(e,t,t.type,t.pendingProps,n);case 19:return oE(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Nd(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ta(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return rE(e,t,n);case 24:return Oo(t),r=Pt(pt),e===null?(a=C0(),a===null&&(a=Ie,o=_0(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},j0(t),Ma(t,pt,a)):(e.lanes&n&&(Ep(e,t),yl(t,null,null,n),gl()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Ma(t,pt,r)):(r=o.cache,Ma(t,pt,r),r!==a.cache&&wp(t,[pt],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Y(156,t.tag))}function Fr(e){e.flags|=4}function qx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!XE(t)){if(t=Pn.current,t!==null&&((je&4194048)===je?xr!==null:(je&62914560)!==je&&!(je&536870912)||t!==xr))throw ml=Np,dN;e.flags|=8192}}function Wc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?MS():536870912,e.lanes|=t,ni|=t)}function Bi(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function w3(e,t,n){var r=t.pendingProps;switch(E0(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),na(pt),Xs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pi(t)?Fr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ex())),Ye(t),null;case 26:return n=t.memoizedState,e===null?(Fr(t),n!==null?(Ye(t),qx(t,n)):(Ye(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Fr(t),Ye(t),qx(t,n)):(Ye(t),t.flags&=-16777217):(e.memoizedProps!==r&&Fr(t),Ye(t),t.flags&=-16777217),null;case 27:ld(t),n=Ga.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Fr(t);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return Ye(t),null}e=yr.current,Pi(t)?Sx(t):(e=ZE(a,r,n),t.stateNode=e,Fr(t))}return Ye(t),null;case 5:if(ld(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Fr(t);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return Ye(t),null}if(e=yr.current,Pi(t))Sx(t);else{switch(a=Rd(Ga.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Lt]=t,e[en]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Mt(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Fr(t)}}return Ye(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Fr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(e=Ga.current,Pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ut,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Lt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||FE(e.nodeValue,n)),e||zo(t)}else e=Rd(e).createTextNode(r),e[Lt]=t,t.stateNode=e}return Ye(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Y(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Y(317));a[Lt]=t}else mc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),a=!1}else a=Ex(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Jr(t),t):(Jr(t),null)}if(Jr(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wc(t,t.updateQueue),Ye(t),null;case 4:return Xs(),e===null&&X0(t.stateNode.containerInfo),Ye(t),null;case 10:return na(t.type),Ye(t),null;case 19:if(Et(gt),a=t.memoizedState,a===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Bi(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bd(e),o!==null){for(t.flags|=128,Bi(a,!1),e=o.updateQueue,t.updateQueue=e,Wc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)iN(n,e),n=n.sibling;return Ve(gt,gt.current&1|2),t.child}e=e.sibling}a.tail!==null&&vr()>_d&&(t.flags|=128,r=!0,Bi(a,!1),t.lanes=4194304)}else{if(!r)if(e=bd(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wc(t,e),Bi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ke)return Ye(t),null}else 2*vr()-a.renderingStartTime>_d&&n!==536870912&&(t.flags|=128,r=!0,Bi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=vr(),t.sibling=null,e=gt.current,Ve(gt,r?e&1|2:e&1),t):(Ye(t),null);case 22:case 23:return Jr(t),k0(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),n=t.updateQueue,n!==null&&Wc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Et(Ao),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),na(pt),Ye(t),null;case 25:return null;case 30:return null}throw Error(Y(156,t.tag))}function S3(e,t){switch(E0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(pt),Xs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ld(t),null;case 13:if(Jr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));mc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Et(gt),null;case 4:return Xs(),null;case 10:return na(t.type),null;case 22:case 23:return Jr(t),k0(),e!==null&&Et(Ao),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return na(pt),null;case 25:return null;default:return null}}function iE(e,t){switch(E0(t),t.tag){case 3:na(pt),Xs();break;case 26:case 27:case 5:ld(t);break;case 4:Xs();break;case 13:Jr(t);break;case 19:Et(gt);break;case 10:na(t.type);break;case 22:case 23:Jr(t),k0(),e!==null&&Et(Ao);break;case 24:na(pt)}}function bc(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==a)}}catch(i){Pe(t,t.return,i)}}function to(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var o=a.next;r=o;do{if((r.tag&e)===e){var s=r.inst,i=s.destroy;if(i!==void 0){s.destroy=void 0,a=t;var c=n,u=i;try{u()}catch(d){Pe(a,c,d)}}}r=r.next}while(r!==o)}}catch(d){Pe(t,t.return,d)}}function lE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{mN(t,n)}catch(r){Pe(e,e.return,r)}}}function cE(e,t,n){n.props=Lo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Pe(e,t,r)}}function xl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){Pe(e,t,a)}}function mr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Pe(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Pe(e,t,a)}else n.current=null}function uE(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Pe(e,e.return,a)}}function Qh(e,t,n){try{var r=e.stateNode;F3(r,e.type,n,t),r[en]=t}catch(a){Pe(e,e.return,a)}}function dE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&so(e.type)||e.tag===4}function Jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&so(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rf));else if(r!==4&&(r===27&&so(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(zp(e,t,n),e=e.sibling;e!==null;)zp(e,t,n),e=e.sibling}function Ed(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&so(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ed(e,t,n),e=e.sibling;e!==null;)Ed(e,t,n),e=e.sibling}function fE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Mt(t,r,n),t[Lt]=e,t[en]=n}catch(o){Pe(e,e.return,o)}}var Yr=!1,at=!1,em=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,wt=null;function N3(e,t){if(e=e.containerInfo,Up=zd,e=JS(e),x0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(i=s+a),f!==o||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===a&&(i=s),h===o&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fp={focusedElem:e,selectionRange:n},zd=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var y=Lo(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(y,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Pe(n,n.return,v)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Gp(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Y(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function hE(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Na(e,n),r&4&&bc(5,n);break;case 1:if(Na(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Pe(n,n.return,s)}else{var a=Lo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Pe(n,n.return,s)}}r&64&&lE(n),r&512&&xl(n,n.return);break;case 3:if(Na(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{mN(e,t)}catch(s){Pe(n,n.return,s)}}break;case 27:t===null&&r&4&&fE(n);case 26:case 5:Na(e,n),t===null&&r&4&&uE(n),r&512&&xl(n,n.return);break;case 12:Na(e,n);break;case 13:Na(e,n),r&4&&gE(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=M3.bind(null,n),K3(e,n))));break;case 22:if(r=n.memoizedState!==null||Yr,!r){t=t!==null&&t.memoizedState!==null||at,a=Yr;var o=at;Yr=r,(at=t)&&!o?Ca(e,n,(n.subtreeFlags&8772)!==0):Na(e,n),Yr=a,at=o}break;case 30:break;default:Na(e,n)}}function mE(e){var t=e.alternate;t!==null&&(e.alternate=null,mE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&h0(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,Wt=!1;function Vr(e,t,n){for(n=n.child;n!==null;)pE(e,t,n),n=n.sibling}function pE(e,t,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(cc,n)}catch{}switch(n.tag){case 26:at||mr(n,t),Vr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:at||mr(n,t);var r=Ue,a=Wt;so(n.type)&&(Ue=n.stateNode,Wt=!1),Vr(e,t,n),Nl(n.stateNode),Ue=r,Wt=a;break;case 5:at||mr(n,t);case 6:if(r=Ue,a=Wt,Ue=null,Vr(e,t,n),Ue=r,Wt=a,Ue!==null)if(Wt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(n.stateNode)}catch(o){Pe(n,t,o)}else try{Ue.removeChild(n.stateNode)}catch(o){Pe(n,t,o)}break;case 18:Ue!==null&&(Wt?(e=Ue,ib(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Hl(e)):ib(Ue,n.stateNode));break;case 4:r=Ue,a=Wt,Ue=n.stateNode.containerInfo,Wt=!0,Vr(e,t,n),Ue=r,Wt=a;break;case 0:case 11:case 14:case 15:at||to(2,n,t),at||to(4,n,t),Vr(e,t,n);break;case 1:at||(mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&cE(n,t,r)),Vr(e,t,n);break;case 21:Vr(e,t,n);break;case 22:at=(r=at)||n.memoizedState!==null,Vr(e,t,n),at=r;break;default:Vr(e,t,n)}}function gE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hl(e)}catch(n){Pe(t,t.return,n)}}function E3(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xx),t;default:throw Error(Y(435,e.tag))}}function tm(e,t){var n=E3(e);t.forEach(function(r){var a=D3.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}function ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 27:if(so(i.type)){Ue=i.stateNode,Wt=!1;break e}break;case 5:Ue=i.stateNode,Wt=!1;break e;case 3:case 4:Ue=i.stateNode.containerInfo,Wt=!0;break e}i=i.return}if(Ue===null)throw Error(Y(160));pE(o,s,a),Ue=null,Wt=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)yE(t,e),t=t.sibling}var Zn=null;function yE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(t,e),cn(e),r&4&&(to(3,e,e.return),bc(3,e),to(5,e,e.return));break;case 1:ln(t,e),cn(e),r&512&&(at||n===null||mr(n,n.return)),r&64&&Yr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Zn;if(ln(t,e),cn(e),r&512&&(at||n===null||mr(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":o=a.getElementsByTagName("title")[0],(!o||o[fc]||o[Lt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),Mt(o,r,n),o[Lt]=e,St(o),r=o;break e;case"link":var s=fb("link","href",a).get(r+(n.href||""));if(s){for(var i=0;i<s.length;i++)if(o=s[i],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(i,1);break t}}o=a.createElement(r),Mt(o,r,n),a.head.appendChild(o);break;case"meta":if(s=fb("meta","content",a).get(r+(n.content||""))){for(i=0;i<s.length;i++)if(o=s[i],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(i,1);break t}}o=a.createElement(r),Mt(o,r,n),a.head.appendChild(o);break;default:throw Error(Y(468,r))}o[Lt]=e,St(o),r=o}e.stateNode=r}else hb(a,e.type,e.stateNode);else e.stateNode=db(a,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?hb(a,e.type,e.stateNode):db(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Qh(e,e.memoizedProps,n.memoizedProps)}break;case 27:ln(t,e),cn(e),r&512&&(at||n===null||mr(n,n.return)),n!==null&&r&4&&Qh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ln(t,e),cn(e),r&512&&(at||n===null||mr(n,n.return)),e.flags&32){a=e.stateNode;try{Ws(a,"")}catch(m){Pe(e,e.return,m)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Qh(e,a,n!==null?n.memoizedProps:a)),r&1024&&(em=!0);break;case 6:if(ln(t,e),cn(e),r&4){if(e.stateNode===null)throw Error(Y(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Pe(e,e.return,m)}}break;case 3:if(Fu=null,a=Zn,Zn=Td(t.containerInfo),ln(t,e),Zn=a,cn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hl(t.containerInfo)}catch(m){Pe(e,e.return,m)}em&&(em=!1,vE(e));break;case 4:r=Zn,Zn=Td(e.stateNode.containerInfo),ln(t,e),cn(e),Zn=r;break;case 12:ln(t,e),cn(e);break;case 13:ln(t,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Z0=vr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,tm(e,r)));break;case 22:a=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Yr,d=at;if(Yr=u||a,at=d||c,ln(t,e),at=d,Yr=u,cn(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||c||Yr||at||vo(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(o=c.stateNode,a)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{i=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;i.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){Pe(c,c.return,m)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){Pe(c,c.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,tm(e,n))));break;case 19:ln(t,e),cn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,tm(e,r)));break;case 30:break;case 21:break;default:ln(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(dE(r)){n=r;break}r=r.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var a=n.stateNode,o=Jh(e);Ed(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Ws(s,""),n.flags&=-33);var i=Jh(e);Ed(e,i,s);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Jh(e);zp(e,u,c);break;default:throw Error(Y(161))}}catch(d){Pe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Na(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hE(e,t.alternate,t),t=t.sibling}function vo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:to(4,t,t.return),vo(t);break;case 1:mr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&cE(t,t.return,n),vo(t);break;case 27:Nl(t.stateNode);case 26:case 5:mr(t,t.return),vo(t);break;case 22:t.memoizedState===null&&vo(t);break;case 30:vo(t);break;default:vo(t)}e=e.sibling}}function Ca(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Ca(a,o,n),bc(4,o);break;case 1:if(Ca(a,o,n),r=o,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Pe(r,r.return,u)}if(r=o,a=r.updateQueue,a!==null){var i=r.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)hN(c[a],i)}catch(u){Pe(r,r.return,u)}}n&&s&64&&lE(o),xl(o,o.return);break;case 27:fE(o);case 26:case 5:Ca(a,o,n),n&&r===null&&s&4&&uE(o),xl(o,o.return);break;case 12:Ca(a,o,n);break;case 13:Ca(a,o,n),n&&s&4&&gE(a,o);break;case 22:o.memoizedState===null&&Ca(a,o,n),xl(o,o.return);break;case 30:break;default:Ca(a,o,n)}t=t.sibling}}function U0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&gc(n))}function F0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gc(e))}function lr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xE(e,t,n,r),t=t.sibling}function xE(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:lr(e,t,n,r),a&2048&&bc(9,t);break;case 1:lr(e,t,n,r);break;case 3:lr(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gc(e)));break;case 12:if(a&2048){lr(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,i=o.onPostCommit;typeof i=="function"&&i(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Pe(t,t.return,c)}}else lr(e,t,n,r);break;case 13:lr(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,t.memoizedState!==null?o._visibility&2?lr(e,t,n,r):bl(e,t):o._visibility&2?lr(e,t,n,r):(o._visibility|=2,ps(e,t,n,r,(t.subtreeFlags&10256)!==0)),a&2048&&U0(s,t);break;case 24:lr(e,t,n,r),a&2048&&F0(t.alternate,t);break;default:lr(e,t,n,r)}}function ps(e,t,n,r,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,s=t,i=n,c=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:ps(o,s,i,c,a),bc(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?ps(o,s,i,c,a):bl(o,s):(d._visibility|=2,ps(o,s,i,c,a)),a&&u&2048&&U0(s.alternate,s);break;case 24:ps(o,s,i,c,a),a&&u&2048&&F0(s.alternate,s);break;default:ps(o,s,i,c,a)}t=t.sibling}}function bl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:bl(n,r),a&2048&&U0(r.alternate,r);break;case 24:bl(n,r),a&2048&&F0(r.alternate,r);break;default:bl(n,r)}t=t.sibling}}var nl=8192;function ns(e){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)bE(e),e=e.sibling}function bE(e){switch(e.tag){case 26:ns(e),e.flags&nl&&e.memoizedState!==null&&c4(Zn,e.memoizedState,e.memoizedProps);break;case 5:ns(e);break;case 3:case 4:var t=Zn;Zn=Td(e.stateNode.containerInfo),ns(e),Zn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=nl,nl=16777216,ns(e),nl=t):ns(e));break;default:ns(e)}}function wE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];wt=r,NE(r,e)}wE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)SE(e),e=e.sibling}function SE(e){switch(e.tag){case 0:case 11:case 15:Hi(e),e.flags&2048&&to(9,e,e.return);break;case 3:Hi(e);break;case 12:Hi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hu(e)):Hi(e);break;default:Hi(e)}}function Hu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];wt=r,NE(r,e)}wE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:to(8,t,t.return),Hu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hu(t));break;default:Hu(t)}e=e.sibling}}function NE(e,t){for(;wt!==null;){var n=wt;switch(n.tag){case 0:case 11:case 15:to(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:gc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,wt=r;else e:for(n=e;wt!==null;){r=wt;var a=r.sibling,o=r.return;if(mE(r),r===n){wt=null;break e}if(a!==null){a.return=o,wt=a;break e}wt=o}}}var _3={getCacheForType:function(e){var t=Pt(pt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},C3=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ie=null,be=null,je=0,ze=0,fn=null,Ua=!1,xi=!1,V0=!1,ia=0,et=0,no=0,Ro=0,G0=0,On=0,ni=0,wl=null,Qt=null,Op=!1,Z0=0,_d=1/0,Cd=null,qa=null,Tt=0,Xa=null,ri=null,Bs=0,$p=0,Lp=null,EE=null,Sl=0,Pp=null;function xn(){if(Oe&2&&je!==0)return je&-je;if(ce.T!==null){var e=Qs;return e!==0?e:q0()}return OS()}function _E(){On===0&&(On=!(je&536870912)||ke?TS():536870912);var e=Pn.current;return e!==null&&(e.flags|=32),On}function bn(e,t,n){(e===Ie&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(ai(e,0),Fa(e,je,On,!1)),dc(e,n),(!(Oe&2)||e!==Ie)&&(e===Ie&&(!(Oe&2)&&(Ro|=n),et===4&&Fa(e,je,On,!1)),Rr(e))}function CE(e,t,n){if(Oe&6)throw Error(Y(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||uc(e,t),a=r?A3(e,t):nm(e,t,!0),o=r;do{if(a===0){xi&&!r&&Fa(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!j3(n)){a=nm(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var i=e;a=wl;var c=i.current.memoizedState.isDehydrated;if(c&&(ai(i,s).flags|=256),s=nm(i,s,!1),s!==2){if(V0&&!c){i.errorRecoveryDisabledLanes|=o,Ro|=o,a=4;break e}o=Qt,Qt=a,o!==null&&(Qt===null?Qt=o:Qt.push.apply(Qt,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){ai(e,0),Fa(e,t,0,!0);break}e:{switch(r=e,o=a,o){case 0:case 1:throw Error(Y(345));case 4:if((t&4194048)!==t)break;case 6:Fa(r,t,On,!Ua);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((t&62914560)===t&&(a=Z0+300-vr(),10<a)){if(Fa(r,t,On,!Ua),yf(r,0,!0)!==0)break e;r.timeoutHandle=GE(Kx.bind(null,r,n,Qt,Cd,Op,t,On,Ro,ni,Ua,o,2,-0,0),a);break e}Kx(r,n,Qt,Cd,Op,t,On,Ro,ni,Ua,o,0,-0,0)}}break}while(!0);Rr(e)}function Kx(e,t,n,r,a,o,s,i,c,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:l4},bE(t),f=u4(),f!==null)){e.cancelPendingCommit=f(Qx.bind(null,e,t,o,n,r,a,s,i,c,d,1,h,m)),Fa(e,o,s,!u);return}Qx(e,t,o,n,r,a,s,i,c)}function j3(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Sn(o(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,n,r){t&=~G0,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-vn(a),s=1<<o;r[o]=-1,a&=~s}n!==0&&DS(e,n,t)}function jf(){return Oe&6?!0:(wc(0),!1)}function Y0(){if(be!==null){if(ze===0)var e=be.return;else e=be,Qr=Xo=null,D0(e),Is=null,zl=0,e=be;for(;e!==null;)iE(e.alternate,e),e=e.return;be=null}}function ai(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,G3(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Y0(),Ie=e,be=n=ta(e.current,null),je=t,ze=0,fn=null,Ua=!1,xi=uc(e,t),V0=!1,ni=On=G0=Ro=no=et=0,Qt=wl=null,Op=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-vn(r),o=1<<a;t|=e[a],r&=~o}return ia=t,wf(),n}function jE(e,t){ge=null,ce.H=xd,t===yc||t===Nf?(t=kx(),ze=3):t===dN?(t=kx(),ze=4):ze=t===tE?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,be===null&&(et=1,Sd(e,Dn(t,e.current)))}function kE(){var e=ce.H;return ce.H=xd,e===null?xd:e}function AE(){var e=ce.A;return ce.A=_3,e}function Ip(){et=4,Ua||(je&4194048)!==je&&Pn.current!==null||(xi=!0),!(no&134217727)&&!(Ro&134217727)||Ie===null||Fa(Ie,je,On,!1)}function nm(e,t,n){var r=Oe;Oe|=2;var a=kE(),o=AE();(Ie!==e||je!==t)&&(Cd=null,ai(e,t)),t=!1;var s=et;e:do try{if(ze!==0&&be!==null){var i=be,c=fn;switch(ze){case 8:Y0(),s=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(t=!0);var u=ze;if(ze=0,fn=null,Rs(e,i,c,u),n&&xi){s=0;break e}break;default:u=ze,ze=0,fn=null,Rs(e,i,c,u)}}k3(),s=et;break}catch(d){jE(e,d)}while(!0);return t&&e.shellSuspendCounter++,Qr=Xo=null,Oe=r,ce.H=a,ce.A=o,be===null&&(Ie=null,je=0,wf()),s}function k3(){for(;be!==null;)RE(be)}function A3(e,t){var n=Oe;Oe|=2;var r=kE(),a=AE();Ie!==e||je!==t?(Cd=null,_d=vr()+500,ai(e,t)):xi=uc(e,t);e:do try{if(ze!==0&&be!==null){t=be;var o=fn;t:switch(ze){case 1:ze=0,fn=null,Rs(e,t,o,1);break;case 2:case 9:if(jx(o)){ze=0,fn=null,Wx(t);break}t=function(){ze!==2&&ze!==9||Ie!==e||(ze=7),Rr(e)},o.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:jx(o)?(ze=0,fn=null,Wx(t)):(ze=0,fn=null,Rs(e,t,o,7));break;case 5:var s=null;switch(be.tag){case 26:s=be.memoizedState;case 5:case 27:var i=be;if(!s||XE(s)){ze=0,fn=null;var c=i.sibling;if(c!==null)be=c;else{var u=i.return;u!==null?(be=u,kf(u)):be=null}break t}}ze=0,fn=null,Rs(e,t,o,5);break;case 6:ze=0,fn=null,Rs(e,t,o,6);break;case 8:Y0(),et=6;break e;default:throw Error(Y(462))}}R3();break}catch(d){jE(e,d)}while(!0);return Qr=Xo=null,ce.H=r,ce.A=a,Oe=n,be!==null?0:(Ie=null,je=0,wf(),et)}function R3(){for(;be!==null&&!QM();)RE(be)}function RE(e){var t=sE(e.alternate,e,ia);e.memoizedProps=e.pendingProps,t===null?kf(e):be=t}function Wx(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vx(n,t,t.pendingProps,t.type,void 0,je);break;case 11:t=Vx(n,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:D0(t);default:iE(n,t),t=be=iN(t,ia),t=sE(n,t,ia)}e.memoizedProps=e.pendingProps,t===null?kf(e):be=t}function Rs(e,t,n,r){Qr=Xo=null,D0(t),Is=null,zl=0;var a=t.return;try{if(x3(e,a,t,n,je)){et=1,Sd(e,Dn(n,e.current)),be=null;return}}catch(o){if(a!==null)throw be=a,o;et=1,Sd(e,Dn(n,e.current)),be=null;return}t.flags&32768?(ke||r===1?e=!0:xi||je&536870912?e=!1:(Ua=e=!0,(r===2||r===9||r===3||r===6)&&(r=Pn.current,r!==null&&r.tag===13&&(r.flags|=16384))),TE(t,e)):kf(t)}function kf(e){var t=e;do{if(t.flags&32768){TE(t,Ua);return}e=t.return;var n=w3(t.alternate,t,ia);if(n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);et===0&&(et=5)}function TE(e,t){do{var n=S3(e.alternate,e);if(n!==null){n.flags&=32767,be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=n}while(e!==null);et=6,be=null}function Qx(e,t,n,r,a,o,s,i,c){e.cancelPendingCommit=null;do Af();while(Tt!==0);if(Oe&6)throw Error(Y(327));if(t!==null){if(t===e.current)throw Error(Y(177));if(o=t.lanes|t.childLanes,o|=b0,lD(e,n,o,s,i,c),e===Ie&&(be=Ie=null,je=0),ri=t,Xa=e,Bs=n,$p=o,Lp=a,EE=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,z3(cd,function(){return $E(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=ce.T,ce.T=null,a=Ae.p,Ae.p=2,s=Oe,Oe|=4;try{N3(e,t,n)}finally{Oe=s,Ae.p=a,ce.T=r}}Tt=1,ME(),DE(),zE()}}function ME(){if(Tt===1){Tt=0;var e=Xa,t=ri,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ce.T,ce.T=null;var r=Ae.p;Ae.p=2;var a=Oe;Oe|=4;try{yE(t,e);var o=Fp,s=JS(e.containerInfo),i=o.focusedElem,c=o.selectionRange;if(s!==i&&i&&i.ownerDocument&&QS(i.ownerDocument.documentElement,i)){if(c!==null&&x0(i)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in i)i.selectionStart=u,i.selectionEnd=Math.min(d,i.value.length);else{var f=i.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),y=i.textContent.length,v=Math.min(c.start,y),w=c.end===void 0?v:Math.min(c.end,y);!m.extend&&v>w&&(s=w,w=v,v=s);var g=xx(i,v),x=xx(i,w);if(g&&x&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==x.node||m.focusOffset!==x.offset)){var S=f.createRange();S.setStart(g.node,g.offset),m.removeAllRanges(),v>w?(m.addRange(S),m.extend(x.node,x.offset)):(S.setEnd(x.node,x.offset),m.addRange(S))}}}}for(f=[],m=i;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<f.length;i++){var b=f[i];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}zd=!!Up,Fp=Up=null}finally{Oe=a,Ae.p=r,ce.T=n}}e.current=t,Tt=2}}function DE(){if(Tt===2){Tt=0;var e=Xa,t=ri,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ce.T,ce.T=null;var r=Ae.p;Ae.p=2;var a=Oe;Oe|=4;try{hE(e,t.alternate,t)}finally{Oe=a,Ae.p=r,ce.T=n}}Tt=3}}function zE(){if(Tt===4||Tt===3){Tt=0,JM();var e=Xa,t=ri,n=Bs,r=EE;t.subtreeFlags&10256||t.flags&10256?Tt=5:(Tt=0,ri=Xa=null,OE(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(qa=null),f0(n),t=t.stateNode,yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(cc,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=ce.T,a=Ae.p,Ae.p=2,ce.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var i=r[s];o(i.value,{componentStack:i.stack})}}finally{ce.T=t,Ae.p=a}}Bs&3&&Af(),Rr(e),a=e.pendingLanes,n&4194090&&a&42?e===Pp?Sl++:(Sl=0,Pp=e):Sl=0,wc(0)}}function OE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gc(t)))}function Af(e){return ME(),DE(),zE(),$E()}function $E(){if(Tt!==5)return!1;var e=Xa,t=$p;$p=0;var n=f0(Bs),r=ce.T,a=Ae.p;try{Ae.p=32>n?32:n,ce.T=null,n=Lp,Lp=null;var o=Xa,s=Bs;if(Tt=0,ri=Xa=null,Bs=0,Oe&6)throw Error(Y(331));var i=Oe;if(Oe|=4,SE(o.current),xE(o,o.current,s,n),Oe=i,wc(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(cc,o)}catch{}return!0}finally{Ae.p=a,ce.T=r,OE(e,t)}}function Jx(e,t,n){t=Dn(n,t),t=Tp(e.stateNode,t,2),e=Ya(e,t,2),e!==null&&(dc(e,2),Rr(e))}function Pe(e,t,n){if(e.tag===3)Jx(e,e,n);else for(;t!==null;){if(t.tag===3){Jx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qa===null||!qa.has(r))){e=Dn(n,e),n=JN(2),r=Ya(t,n,2),r!==null&&(eE(n,r,t,e),dc(r,2),Rr(r));break}}t=t.return}}function rm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new C3;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(V0=!0,a.add(n),e=T3.bind(null,e,t,n),t.then(e,e))}function T3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ie===e&&(je&n)===n&&(et===4||et===3&&(je&62914560)===je&&300>vr()-Z0?!(Oe&2)&&ai(e,0):G0|=n,ni===je&&(ni=0)),Rr(e)}function LE(e,t){t===0&&(t=MS()),e=vi(e,t),e!==null&&(dc(e,t),Rr(e))}function M3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),LE(e,n)}function D3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(Y(314))}r!==null&&r.delete(t),LE(e,n)}function z3(e,t){return u0(e,t)}var jd=null,gs=null,Bp=!1,kd=!1,am=!1,To=0;function Rr(e){e!==gs&&e.next===null&&(gs===null?jd=gs=e:gs=gs.next=e),kd=!0,Bp||(Bp=!0,$3())}function wc(e,t){if(!am&&kd){am=!0;do for(var n=!1,r=jd;r!==null;){if(e!==0){var a=r.pendingLanes;if(a===0)var o=0;else{var s=r.suspendedLanes,i=r.pingedLanes;o=(1<<31-vn(42|e)+1)-1,o&=a&~(s&~i),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,eb(r,o))}else o=je,o=yf(r,r===Ie?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||uc(r,o)||(n=!0,eb(r,o));r=r.next}while(n);am=!1}}function O3(){PE()}function PE(){kd=Bp=!1;var e=0;To!==0&&(V3()&&(e=To),To=0);for(var t=vr(),n=null,r=jd;r!==null;){var a=r.next,o=IE(r,t);o===0?(r.next=null,n===null?jd=a:n.next=a,a===null&&(gs=n)):(n=r,(e!==0||o&3)&&(kd=!0)),r=a}wc(e)}function IE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var s=31-vn(o),i=1<<s,c=a[s];c===-1?(!(i&n)||i&r)&&(a[s]=iD(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}if(t=Ie,n=je,n=yf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Rh(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||uc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Rh(r),f0(n)){case 2:case 8:n=AS;break;case 32:n=cd;break;case 268435456:n=RS;break;default:n=cd}return r=BE.bind(null,e),n=u0(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Rh(r),e.callbackPriority=2,e.callbackNode=null,2}function BE(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Af()&&e.callbackNode!==n)return null;var r=je;return r=yf(e,e===Ie?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(CE(e,r,t),IE(e,vr()),e.callbackNode!=null&&e.callbackNode===n?BE.bind(null,e):null)}function eb(e,t){if(Af())return null;CE(e,t,!0)}function $3(){Z3(function(){Oe&6?u0(kS,O3):PE()})}function q0(){return To===0&&(To=TS()),To}function tb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Du(""+e)}function nb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function L3(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var o=tb((a[en]||null).action),s=r.submitter;s&&(t=(t=s[en]||null)?tb(t.formAction):s.getAttribute("formAction"),t!==null&&(o=t,s=null));var i=new vf("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(To!==0){var c=s?nb(a,s):new FormData(a);Ap(n,{pending:!0,data:c,method:a.method,action:o},null,c)}}else typeof o=="function"&&(i.preventDefault(),c=s?nb(a,s):new FormData(a),Ap(n,{pending:!0,data:c,method:a.method,action:o},o,c))},currentTarget:a}]})}}for(var om=0;om<yp.length;om++){var sm=yp[om],P3=sm.toLowerCase(),I3=sm[0].toUpperCase()+sm.slice(1);tr(P3,"on"+I3)}tr(tN,"onAnimationEnd");tr(nN,"onAnimationIteration");tr(rN,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(n3,"onTransitionRun");tr(r3,"onTransitionStart");tr(a3,"onTransitionCancel");tr(aN,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function HE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(d){wd(d)}a.currentTarget=null,o=c}else for(s=0;s<r.length;s++){if(i=r[s],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(d){wd(d)}a.currentTarget=null,o=c}}}}function ve(e,t){var n=t[up];n===void 0&&(n=t[up]=new Set);var r=e+"__bubble";n.has(r)||(UE(t,e,2,!1),n.add(r))}function im(e,t,n){var r=0;t&&(r|=4),UE(n,e,r,t)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function X0(e){if(!e[Qc]){e[Qc]=!0,$S.forEach(function(n){n!=="selectionchange"&&(B3.has(n)||im(n,!1,e),im(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qc]||(t[Qc]=!0,im("selectionchange",!1,t))}}function UE(e,t,n,r){switch(e_(t)){case 2:var a=h4;break;case 8:a=m4;break;default:a=J0}n=a.bind(null,t,n,e),a=void 0,!mp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function lm(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===a)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;i!==null;){if(s=ws(i),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){r=o=s;continue e}i=i.parentNode}}r=r.return}VS(function(){var u=o,d=p0(n),f=[];e:{var h=oN.get(e);if(h!==void 0){var m=vf,y=e;switch(e){case"keypress":if(Ou(n)===0)break e;case"keydown":case"keyup":m=zD;break;case"focusin":y="focus",m=Ph;break;case"focusout":y="blur",m=Ph;break;case"beforeblur":case"afterblur":m=Ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=SD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=LD;break;case tN:case nN:case rN:m=_D;break;case aN:m=ID;break;case"scroll":case"scrollend":m=bD;break;case"wheel":m=HD;break;case"copy":case"cut":case"paste":m=jD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=dx;break;case"toggle":case"beforetoggle":m=FD}var v=(t&4)!==0,w=!v&&(e==="scroll"||e==="scrollend"),g=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,S;x!==null;){var b=x;if(S=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||S===null||g===null||(b=Al(x,g),b!=null&&v.push($l(x,b,S))),w)break;x=x.return}0<v.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==hp&&(y=n.relatedTarget||n.fromElement)&&(ws(y)||y[gi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ws(y):null,y!==null&&(w=lc(y),v=y.tag,y!==w||v!==5&&v!==27&&v!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=cx,b="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=dx,b="onPointerLeave",g="onPointerEnter",x="pointer"),w=m==null?h:tl(m),S=y==null?h:tl(y),h=new v(b,x+"leave",m,n,d),h.target=w,h.relatedTarget=S,b=null,ws(d)===u&&(v=new v(g,x+"enter",y,n,d),v.target=S,v.relatedTarget=w,b=v),w=b,m&&y)t:{for(v=m,g=y,x=0,S=v;S;S=rs(S))x++;for(S=0,b=g;b;b=rs(b))S++;for(;0<x-S;)v=rs(v),x--;for(;0<S-x;)g=rs(g),S--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=rs(v),g=rs(g)}v=null}else v=null;m!==null&&rb(f,h,m,v,!1),y!==null&&w!==null&&rb(f,w,y,v,!0)}}e:{if(h=u?tl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=px;else if(mx(h))if(KS)E=JD;else{E=WD;var j=KD}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&m0(u.elementType)&&(E=px):E=QD;if(E&&(E=E(e,u))){XS(f,E,n,d);break e}j&&j(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&fp(h,"number",h.value)}switch(j=u?tl(u):window,e){case"focusin":(mx(j)||j.contentEditable==="true")&&(Es=j,pp=u,fl=null);break;case"focusout":fl=pp=Es=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,bx(f,n,d);break;case"selectionchange":if(t3)break;case"keydown":case"keyup":bx(f,n,d)}var N;if(v0)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ns?YS(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(ZS&&n.locale!=="ko"&&(Ns||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ns&&(N=GS()):(Ha=d,g0="value"in Ha?Ha.value:Ha.textContent,Ns=!0)),j=Ad(u,C),0<j.length&&(C=new ux(C,e,null,n,d),f.push({event:C,listeners:j}),N?C.data=N:(N=qS(n),N!==null&&(C.data=N)))),(N=GD?ZD(e,n):YD(e,n))&&(C=Ad(u,"onBeforeInput"),0<C.length&&(j=new ux("onBeforeInput","beforeinput",null,n,d),f.push({event:j,listeners:C}),j.data=N)),L3(f,e,u,n,d)}HE(f,t)})}function $l(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ad(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||o===null||(a=Al(e,n),a!=null&&r.unshift($l(e,a,o)),a=Al(e,t),a!=null&&r.push($l(e,a,o))),e.tag===3)return r;e=e.return}return[]}function rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rb(e,t,n,r,a){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(i=i.tag,c!==null&&c===r)break;i!==5&&i!==26&&i!==27||u===null||(c=u,a?(u=Al(n,o),u!=null&&s.unshift($l(n,u,c))):a||(u=Al(n,o),u!=null&&s.push($l(n,u,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var H3=/\r\n?/g,U3=/\u0000|\uFFFD/g;function ab(e){return(typeof e=="string"?e:""+e).replace(H3,`
`).replace(U3,"")}function FE(e,t){return t=ab(t),ab(e)===t}function Rf(){}function $e(e,t,n,r,a,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ws(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ws(e,""+r);break;case"className":Gc(e,"class",r);break;case"tabIndex":Gc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Gc(e,n,r);break;case"style":FS(e,r,o);break;case"data":if(t!=="object"){Gc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Du(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&$e(e,t,"name",a.name,a,null),$e(e,t,"formEncType",a.formEncType,a,null),$e(e,t,"formMethod",a.formMethod,a,null),$e(e,t,"formTarget",a.formTarget,a,null)):($e(e,t,"encType",a.encType,a,null),$e(e,t,"method",a.method,a,null),$e(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Du(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Rf);break;case"onScroll":r!=null&&ve("scroll",e);break;case"onScrollEnd":r!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Du(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ve("beforetoggle",e),ve("toggle",e),Mu(e,"popover",r);break;case"xlinkActuate":Ur(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ur(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ur(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ur(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ur(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ur(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Mu(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=vD.get(n)||n,Mu(e,n,r))}}function Hp(e,t,n,r,a,o){switch(n){case"style":FS(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Ws(e,r):(typeof r=="number"||typeof r=="bigint")&&Ws(e,""+r);break;case"onScroll":r!=null&&ve("scroll",e);break;case"onScrollEnd":r!=null&&ve("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Rf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!LS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),o=e[en]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,a),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Mu(e,n,r)}}}function Mt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:$e(e,t,o,s,n,null)}}a&&$e(e,t,"srcSet",n.srcSet,n,null),r&&$e(e,t,"src",n.src,n,null);return;case"input":ve("invalid",e);var i=o=s=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":o=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,t));break;default:$e(e,t,r,d,n,null)}}BS(e,o,i,c,u,s,a,!1),ud(e);return;case"select":ve("invalid",e),r=s=o=null;for(a in n)if(n.hasOwnProperty(a)&&(i=n[a],i!=null))switch(a){case"value":o=i;break;case"defaultValue":s=i;break;case"multiple":r=i;default:$e(e,t,a,i,n,null)}t=o,n=s,e.multiple=!!r,t!=null?zs(e,!!r,t,!1):n!=null&&zs(e,!!r,n,!0);return;case"textarea":ve("invalid",e),o=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(i=n[s],i!=null))switch(s){case"value":r=i;break;case"defaultValue":a=i;break;case"children":o=i;break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Y(91));break;default:$e(e,t,s,i,n,null)}US(e,r,a,o),ud(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:$e(e,t,c,r,n,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(r=0;r<Ol.length;r++)ve(Ol[r],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:$e(e,t,u,r,n,null)}return;default:if(m0(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Hp(e,t,d,r,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(r=n[i],r!=null&&$e(e,t,i,r,n,null))}function F3(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,i=null,c=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||$e(e,t,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":o=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":i=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Y(137,t));break;default:m!==f&&$e(e,t,h,m,r,f)}}dp(e,s,i,c,u,d,o,a);return;case"select":m=s=i=h=null;for(o in n)if(c=n[o],n.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(o)||$e(e,t,o,null,r,c)}for(a in r)if(o=r[a],c=n[a],r.hasOwnProperty(a)&&(o!=null||c!=null))switch(a){case"value":h=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:o!==c&&$e(e,t,a,o,r,c)}t=i,n=s,r=m,h!=null?zs(e,!!n,h,!1):!!r!=!!n&&(t!=null?zs(e,!!n,t,!0):zs(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null&&!r.hasOwnProperty(i))switch(i){case"value":break;case"children":break;default:$e(e,t,i,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(Y(91));break;default:a!==o&&$e(e,t,s,a,r,o)}HS(e,h,m);return;case"option":for(var y in n)if(h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:$e(e,t,y,null,r,h)}for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:$e(e,t,c,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v)&&$e(e,t,v,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Y(137,t));break;default:$e(e,t,u,h,r,m)}return;default:if(m0(t)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!r.hasOwnProperty(w)&&Hp(e,t,w,void 0,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Hp(e,t,d,h,r,m);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&$e(e,t,g,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h==null&&m==null||$e(e,t,f,h,r,m)}var Up=null,Fp=null;function Rd(e){return e.nodeType===9?e:e.ownerDocument}function ob(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cm=null;function V3(){var e=window.event;return e&&e.type==="popstate"?e===cm?!1:(cm=e,!0):(cm=null,!1)}var GE=typeof setTimeout=="function"?setTimeout:void 0,G3=typeof clearTimeout=="function"?clearTimeout:void 0,sb=typeof Promise=="function"?Promise:void 0,Z3=typeof queueMicrotask=="function"?queueMicrotask:typeof sb<"u"?function(e){return sb.resolve(null).then(e).catch(Y3)}:GE;function Y3(e){setTimeout(function(){throw e})}function so(e){return e==="head"}function ib(e,t){var n=t,r=0,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(n&1&&Nl(s.documentElement),n&2&&Nl(s.body),n&4)for(n=s.head,Nl(n),s=n.firstChild;s;){var i=s.nextSibling,c=s.nodeName;s[fc]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=i}}if(a===0){e.removeChild(o),Hl(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Hl(t)}function Gp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Gp(n),h0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function q3(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[fc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function X3(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xn(e.nextSibling),e===null))return null;return e}function Zp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function K3(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Yp=null;function lb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function ZE(e,t,n){switch(t=Rd(n),e){case"html":if(e=t.documentElement,!e)throw Error(Y(452));return e;case"head":if(e=t.head,!e)throw Error(Y(453));return e;case"body":if(e=t.body,!e)throw Error(Y(454));return e;default:throw Error(Y(451))}}function Nl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);h0(e)}var In=new Map,cb=new Set;function Td(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ma=Ae.d;Ae.d={f:W3,r:Q3,D:J3,C:e4,L:t4,m:n4,X:a4,S:r4,M:o4};function W3(){var e=ma.f(),t=jf();return e||t}function Q3(e){var t=yi(e);t!==null&&t.tag===5&&t.type==="form"?IN(t):ma.r(e)}var bi=typeof document>"u"?null:document;function YE(e,t,n){var r=bi;if(r&&typeof t=="string"&&t){var a=Mn(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),cb.has(a)||(cb.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),Mt(t,"link",e),St(t),r.head.appendChild(t)))}}function J3(e){ma.D(e),YE("dns-prefetch",e,null)}function e4(e,t){ma.C(e,t),YE("preconnect",e,t)}function t4(e,t,n){ma.L(e,t,n);var r=bi;if(r&&e&&t){var a='link[rel="preload"][as="'+Mn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Mn(n.imageSizes)+'"]')):a+='[href="'+Mn(e)+'"]';var o=a;switch(t){case"style":o=oi(e);break;case"script":o=wi(e)}In.has(o)||(e=He({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),In.set(o,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(Sc(o))||t==="script"&&r.querySelector(Nc(o))||(t=r.createElement("link"),Mt(t,"link",e),St(t),r.head.appendChild(t)))}}function n4(e,t){ma.m(e,t);var n=bi;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Mn(r)+'"][href="'+Mn(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=wi(e)}if(!In.has(o)&&(e=He({rel:"modulepreload",href:e},t),In.set(o,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nc(o)))return}r=n.createElement("link"),Mt(r,"link",e),St(r),n.head.appendChild(r)}}}function r4(e,t,n){ma.S(e,t,n);var r=bi;if(r&&e){var a=Ds(r).hoistableStyles,o=oi(e);t=t||"default";var s=a.get(o);if(!s){var i={loading:0,preload:null};if(s=r.querySelector(Sc(o)))i.loading=5;else{e=He({rel:"stylesheet",href:e,"data-precedence":t},n),(n=In.get(o))&&K0(e,n);var c=s=r.createElement("link");St(c),Mt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){i.loading|=1}),c.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Uu(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:i},a.set(o,s)}}}function a4(e,t){ma.X(e,t);var n=bi;if(n&&e){var r=Ds(n).hoistableScripts,a=wi(e),o=r.get(a);o||(o=n.querySelector(Nc(a)),o||(e=He({src:e,async:!0},t),(t=In.get(a))&&W0(e,t),o=n.createElement("script"),St(o),Mt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function o4(e,t){ma.M(e,t);var n=bi;if(n&&e){var r=Ds(n).hoistableScripts,a=wi(e),o=r.get(a);o||(o=n.querySelector(Nc(a)),o||(e=He({src:e,async:!0,type:"module"},t),(t=In.get(a))&&W0(e,t),o=n.createElement("script"),St(o),Mt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function ub(e,t,n,r){var a=(a=Ga.current)?Td(a):null;if(!a)throw Error(Y(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=oi(n.href),n=Ds(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=oi(n.href);var o=Ds(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Sc(e)))&&!o._p&&(s.instance=o,s.state.loading=5),In.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},In.set(e,n),o||s4(a,e,n,s.state))),t&&r===null)throw Error(Y(528,""));return s}if(t&&r!==null)throw Error(Y(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wi(n),n=Ds(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,e))}}function oi(e){return'href="'+Mn(e)+'"'}function Sc(e){return'link[rel="stylesheet"]['+e+"]"}function qE(e){return He({},e,{"data-precedence":e.precedence,precedence:null})}function s4(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Mt(t,"link",n),St(t),e.head.appendChild(t))}function wi(e){return'[src="'+Mn(e)+'"]'}function Nc(e){return"script[async]"+e}function db(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Mn(n.href)+'"]');if(r)return t.instance=r,St(r),r;var a=He({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),St(r),Mt(r,"style",a),Uu(r,n.precedence,e),t.instance=r;case"stylesheet":a=oi(n.href);var o=e.querySelector(Sc(a));if(o)return t.state.loading|=4,t.instance=o,St(o),o;r=qE(n),(a=In.get(a))&&K0(r,a),o=(e.ownerDocument||e).createElement("link"),St(o);var s=o;return s._p=new Promise(function(i,c){s.onload=i,s.onerror=c}),Mt(o,"link",r),t.state.loading|=4,Uu(o,n.precedence,e),t.instance=o;case"script":return o=wi(n.src),(a=e.querySelector(Nc(o)))?(t.instance=a,St(a),a):(r=n,(a=In.get(o))&&(r=He({},n),W0(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),St(a),Mt(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(Y(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Uu(r,n.precedence,e));return t.instance}function Uu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,s=0;s<r.length;s++){var i=r[s];if(i.dataset.precedence===t)o=i;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function K0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function W0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fu=null;function fb(e,t,n){if(Fu===null){var r=new Map,a=Fu=new Map;a.set(n,r)}else a=Fu,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[fc]||o[Lt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(t)||"";s=e+s;var i=r.get(s);i?i.push(o):r.set(s,[o])}}return r}function hb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function i4(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function XE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ll=null;function l4(){}function c4(e,t,n){if(Ll===null)throw Error(Y(475));var r=Ll;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=oi(n.href),o=e.querySelector(Sc(a));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Md.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,St(o);return}o=e.ownerDocument||e,n=qE(n),(a=In.get(a))&&K0(n,a),o=o.createElement("link"),St(o);var s=o;s._p=new Promise(function(i,c){s.onload=i,s.onerror=c}),Mt(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Md.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function u4(){if(Ll===null)throw Error(Y(475));var e=Ll;return e.stylesheets&&e.count===0&&qp(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qp(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Md(){if(this.count--,this.count===0){if(this.stylesheets)qp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dd=null;function qp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dd=new Map,t.forEach(d4,e),Dd=null,Md.call(e))}function d4(e,t){if(!(t.state.loading&4)){var n=Dd.get(e);if(n)var r=n.get(null);else{n=new Map,Dd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var s=a[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=t.instance,s=a.getAttribute("data-precedence"),o=n.get(s)||r,o===r&&n.set(null,a),n.set(s,a),this.count++,r=Md.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Pl={$$typeof:Xr,Provider:null,Consumer:null,_currentValue:_o,_currentValue2:_o,_threadCount:0};function f4(e,t,n,r,a,o,s,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Th(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Th(0),this.hiddenUpdates=Th(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function KE(e,t,n,r,a,o,s,i,c,u,d,f){return e=new f4(e,t,n,s,i,c,u,f),t=1,o===!0&&(t|=24),o=gn(3,null,null,t),e.current=o,o.stateNode=e,t=_0(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},j0(o),e}function WE(e){return e?(e=js,e):js}function QE(e,t,n,r,a,o){a=WE(a),r.context===null?r.context=a:r.pendingContext=a,r=Za(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Ya(e,r,t),n!==null&&(bn(n,e,t),pl(n,e,t))}function mb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Q0(e,t){mb(e,t),(e=e.alternate)&&mb(e,t)}function JE(e){if(e.tag===13){var t=vi(e,67108864);t!==null&&bn(t,e,67108864),Q0(e,67108864)}}var zd=!0;function h4(e,t,n,r){var a=ce.T;ce.T=null;var o=Ae.p;try{Ae.p=2,J0(e,t,n,r)}finally{Ae.p=o,ce.T=a}}function m4(e,t,n,r){var a=ce.T;ce.T=null;var o=Ae.p;try{Ae.p=8,J0(e,t,n,r)}finally{Ae.p=o,ce.T=a}}function J0(e,t,n,r){if(zd){var a=Xp(r);if(a===null)lm(e,t,r,Od,n),pb(e,r);else if(g4(a,e,t,n,r))r.stopPropagation();else if(pb(e,r),t&4&&-1<p4.indexOf(e)){for(;a!==null;){var o=yi(a);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=go(o.pendingLanes);if(s!==0){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var c=1<<31-vn(s);i.entanglements[1]|=c,s&=~c}Rr(o),!(Oe&6)&&(_d=vr()+500,wc(0))}}break;case 13:i=vi(o,2),i!==null&&bn(i,o,2),jf(),Q0(o,2)}if(o=Xp(r),o===null&&lm(e,t,r,Od,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else lm(e,t,r,null,n)}}function Xp(e){return e=p0(e),ey(e)}var Od=null;function ey(e){if(Od=null,e=ws(e),e!==null){var t=lc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ES(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Od=e,null}function e_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eD()){case kS:return 2;case AS:return 8;case cd:case tD:return 32;case RS:return 268435456;default:return 32}default:return 32}}var Kp=!1,Ka=null,Wa=null,Qa=null,Il=new Map,Bl=new Map,Oa=[],p4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(t.pointerId)}}function Ui(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=yi(t),t!==null&&JE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function g4(e,t,n,r,a){switch(t){case"focusin":return Ka=Ui(Ka,e,t,n,r,a),!0;case"dragenter":return Wa=Ui(Wa,e,t,n,r,a),!0;case"mouseover":return Qa=Ui(Qa,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Il.set(o,Ui(Il.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Bl.set(o,Ui(Bl.get(o)||null,e,t,n,r,a)),!0}return!1}function t_(e){var t=ws(e.target);if(t!==null){var n=lc(t);if(n!==null){if(t=n.tag,t===13){if(t=ES(n),t!==null){e.blockedOn=t,cD(e.priority,function(){if(n.tag===13){var r=xn();r=d0(r);var a=vi(n,r);a!==null&&bn(a,n,r),Q0(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hp=r,n.target.dispatchEvent(r),hp=null}else return t=yi(n),t!==null&&JE(t),e.blockedOn=n,!1;t.shift()}return!0}function gb(e,t,n){Vu(e)&&n.delete(t)}function y4(){Kp=!1,Ka!==null&&Vu(Ka)&&(Ka=null),Wa!==null&&Vu(Wa)&&(Wa=null),Qa!==null&&Vu(Qa)&&(Qa=null),Il.forEach(gb),Bl.forEach(gb)}function Jc(e,t){e.blockedOn===t&&(e.blockedOn=null,Kp||(Kp=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,y4)))}var eu=null;function yb(e){eu!==e&&(eu=e,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,function(){eu===e&&(eu=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if(ey(r||n)===null)continue;break}var o=yi(n);o!==null&&(e.splice(t,3),t-=3,Ap(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Hl(e){function t(c){return Jc(c,e)}Ka!==null&&Jc(Ka,e),Wa!==null&&Jc(Wa,e),Qa!==null&&Jc(Qa,e),Il.forEach(t),Bl.forEach(t);for(var n=0;n<Oa.length;n++){var r=Oa[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Oa.length&&(n=Oa[0],n.blockedOn===null);)t_(n),n.blockedOn===null&&Oa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],s=a[en]||null;if(typeof o=="function")s||yb(n);else if(s){var i=null;if(o&&o.hasAttribute("formAction")){if(a=o,s=o[en]||null)i=s.formAction;else if(ey(a)!==null)continue}else i=s.action;typeof i=="function"?n[r+1]=i:(n.splice(r,3),r-=3),yb(n)}}}function ty(e){this._internalRoot=e}Tf.prototype.render=ty.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));var n=t.current,r=xn();QE(n,r,e,t,null,null)};Tf.prototype.unmount=ty.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;QE(e.current,2,null,e,null,null),jf(),t[gi]=null}};function Tf(e){this._internalRoot=e}Tf.prototype.unstable_scheduleHydration=function(e){if(e){var t=OS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oa.length&&t!==0&&t<Oa[n].priority;n++);Oa.splice(n,0,e),n===0&&t_(e)}};var vb=SS.version;if(vb!=="19.1.0")throw Error(Y(527,vb,"19.1.0"));Ae.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=YM(t),e=e!==null?_S(e):null,e=e===null?null:e.stateNode,e};var v4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{cc=tu.inject(v4),yn=tu}catch{}}pf.createRoot=function(e,t){if(!NS(e))throw Error(Y(299));var n=!1,r="",a=KN,o=WN,s=QN,i=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(i=t.unstable_transitionCallbacks)),t=KE(e,1,!1,null,null,n,r,a,o,s,i,null),e[gi]=t.current,X0(e),new ty(t)};pf.hydrateRoot=function(e,t,n){if(!NS(e))throw Error(Y(299));var r=!1,a="",o=KN,s=WN,i=QN,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(i=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=KE(e,1,!0,t,n??null,r,a,o,s,i,c,u),t.context=WE(null),n=t.current,r=xn(),r=d0(r),a=Za(r),a.callback=null,Ya(n,a,r),n=r,t.current.lanes=n,dc(t,n),Rr(t),e[gi]=t.current,X0(e),new Tf(t)};pf.version="19.1.0";function n_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n_)}catch(e){console.error(e)}}n_(),gS.exports=pf;var x4=gS.exports;const It={DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,SIDEBAR:60,NAVIGATION:70};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),xb=e=>{const t=w4(e);return t.charAt(0).toUpperCase()+t.slice(1)},r_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),S4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:s,...i},c)=>p.createElement("svg",{ref:c,...N4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:r_("lucide",a),...!o&&!S4(i)&&{"aria-hidden":"true"},...i},[...s.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=p.forwardRef(({className:r,...a},o)=>p.createElement(E4,{ref:o,iconNode:t,className:r_(`lucide-${b4(xb(e))}`,`lucide-${e}`,r),...a}));return n.displayName=xb(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],C4=fe("activity",_4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],k4=fe("arrow-left",j4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],El=fe("book-open",A4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],bb=fe("brain",R4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],M4=fe("check",T4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_t=fe("chevron-down",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mf=fe("chevron-right",z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hs=fe("circle",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],L4=fe("copy",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],a_=fe("droplets",P4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Wp=fe("external-link",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gu=fe("eye",B4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Qp=fe("flame",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],F4=fe("git-branch",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ec=fe("grid-3x3",V4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Z4=fe("grip-vertical",G4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],q4=fe("hammer",Y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],$d=fe("hand",X4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],o_=fe("heart",K4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Q4=fe("house",W4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wb=fe("info",J4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],_c=fe("list",ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nz=fe("map-pin",tz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],s_=fe("maximize-2",rz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],oz=fe("menu",az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],i_=fe("minimize-2",sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M5 12h14",key:"1ays0h"}]],Sb=fe("minus",iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],cz=fe("monitor",lz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],dz=fe("moon",uz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bn=fe("plus",fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Si=fe("search",hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l_=fe("settings",mz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$a=fe("shield",pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zn=fe("star",gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Nb=fe("sun",yz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],Jp=fe("sword",vz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],c_=fe("target",xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],wz=fe("trash-2",bz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nz=fe("triangle-alert",Sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zu=fe("user",Ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cr=fe("x",_z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_l=fe("zap",Cz);var ny={};Object.defineProperty(ny,"__esModule",{value:!0});ny.parse=Dz;ny.serialize=zz;const jz=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,kz=/^[\u0021-\u003A\u003C-\u007E]*$/,Az=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Rz=/^[\u0020-\u003A\u003D-\u007E]*$/,Tz=Object.prototype.toString,Mz=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Dz(e,t){const n=new Mz,r=e.length;if(r<2)return n;const a=(t==null?void 0:t.decode)||Oz;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const i=e.indexOf(";",o),c=i===-1?r:i;if(s>c){o=e.lastIndexOf(";",s-1)+1;continue}const u=Eb(e,o,s),d=_b(e,s,u),f=e.slice(u,d);if(n[f]===void 0){let h=Eb(e,s+1,c),m=_b(e,c,h);const y=a(e.slice(h,m));n[f]=y}o=c+1}while(o<r);return n}function Eb(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function _b(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function zz(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!jz.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=r(t);if(!kz.test(a))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+a;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!Az.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!Rz.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!$z(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function Oz(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function $z(e){return Tz.call(e)==="[object Date]"}var Cb="popstate";function Lz(e={}){function t(a,o){let{pathname:s="/",search:i="",hash:c=""}=Ko(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),eg("",{pathname:s,search:i,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let s=a.document.querySelector("base"),i="";if(s&&s.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");i=u===-1?c:c.slice(0,u)}return i+"#"+(typeof o=="string"?o:Ul(o))}function r(a,o){Qn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Iz(t,n,r,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pz(){return Math.random().toString(36).substring(2,10)}function jb(e,t){return{usr:e.state,key:e.key,idx:t}}function eg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ko(t):t,state:n,key:t&&t.key||r||Pz()}}function Ul({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ko(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Iz(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,i="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){i="POP";let w=d(),g=w==null?null:w-u;u=w,c&&c({action:i,location:v.location,delta:g})}function h(w,g){i="PUSH";let x=eg(v.location,w,g);n&&n(x,w),u=d()+1;let S=jb(x,u),b=v.createHref(x);try{s.pushState(S,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(b)}o&&c&&c({action:i,location:v.location,delta:1})}function m(w,g){i="REPLACE";let x=eg(v.location,w,g);n&&n(x,w),u=d();let S=jb(x,u),b=v.createHref(x);s.replaceState(S,"",b),o&&c&&c({action:i,location:v.location,delta:0})}function y(w){return Bz(w)}let v={get action(){return i},get location(){return e(a,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Cb,f),c=w,()=>{a.removeEventListener(Cb,f),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(w){return s.go(w)}};return v}function Bz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ul(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function u_(e,t,n="/"){return Hz(e,t,n,!1)}function Hz(e,t,n,r){let a=typeof t=="string"?Ko(t):t,o=la(a.pathname||"/",n);if(o==null)return null;let s=d_(e);Uz(s);let i=null;for(let c=0;i==null&&c<s.length;++c){let u=Jz(o);i=Wz(s[c],u,r)}return i}function d_(e,t=[],n=[],r=""){let a=(o,s,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=ra([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Xe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),d_(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Xz(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,s);else for(let c of f_(o.path))a(o,s,c)}),t}function f_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=f_(r.join("/")),i=[];return i.push(...s.map(c=>c===""?o:[o,c].join("/"))),a&&i.push(...s),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Uz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Fz=/^:[\w-]+$/,Vz=3,Gz=2,Zz=1,Yz=10,qz=-2,kb=e=>e==="*";function Xz(e,t){let n=e.split("/"),r=n.length;return n.some(kb)&&(r+=qz),t&&(r+=Gz),n.filter(a=>!kb(a)).reduce((a,o)=>a+(Fz.test(o)?Vz:o===""?Zz:Yz),r)}function Kz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Wz(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",s=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Ld({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ld({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:ra([o,f.pathname]),pathnameBase:rO(ra([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ra([o,f.pathnameBase]))}return s}function Ld(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Qz(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=i[h]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=i[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function Qz(e,t=!1,n=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Jz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function la(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function eO(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ko(e):e;return{pathname:n?n.startsWith("/")?n:tO(n,t):t,search:aO(r),hash:oO(a)}}function tO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function um(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function h_(e){let t=nO(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function m_(e,t,n,r=!1){let a;typeof e=="string"?a=Ko(e):(a={...e},Xe(!a.pathname||!a.pathname.includes("?"),um("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),um("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),um("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=eO(a,i),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ra=e=>e.join("/").replace(/\/\/+/g,"/"),rO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var p_=["POST","PUT","PATCH","DELETE"];new Set(p_);var iO=["GET",...p_];new Set(iO);var Ni=p.createContext(null);Ni.displayName="DataRouter";var Df=p.createContext(null);Df.displayName="DataRouterState";var g_=p.createContext({isTransitioning:!1});g_.displayName="ViewTransition";var lO=p.createContext(new Map);lO.displayName="Fetchers";var cO=p.createContext(null);cO.displayName="Await";var Tr=p.createContext(null);Tr.displayName="Navigation";var Cc=p.createContext(null);Cc.displayName="Location";var pa=p.createContext({outlet:null,matches:[],isDataRoute:!1});pa.displayName="Route";var ry=p.createContext(null);ry.displayName="RouteError";function uO(e,{relative:t}={}){Xe(jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(Tr),{hash:a,pathname:o,search:s}=kc(e,{relative:t}),i=o;return n!=="/"&&(i=o==="/"?n:ra([n,o])),r.createHref({pathname:i,search:s,hash:a})}function jc(){return p.useContext(Cc)!=null}function io(){return Xe(jc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(Cc).location}var y_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v_(e){p.useContext(Tr).static||p.useLayoutEffect(e)}function ga(){let{isDataRoute:e}=p.useContext(pa);return e?NO():dO()}function dO(){Xe(jc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Ni),{basename:t,navigator:n}=p.useContext(Tr),{matches:r}=p.useContext(pa),{pathname:a}=io(),o=JSON.stringify(h_(r)),s=p.useRef(!1);return v_(()=>{s.current=!0}),p.useCallback((c,u={})=>{if(Qn(s.current,y_),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=m_(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ra([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,a,e])}p.createContext(null);function kc(e,{relative:t}={}){let{matches:n}=p.useContext(pa),{pathname:r}=io(),a=JSON.stringify(h_(n));return p.useMemo(()=>m_(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function fO(e,t){return x_(e,t)}function x_(e,t,n,r){var g;Xe(jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=p.useContext(Tr),{matches:o}=p.useContext(pa),s=o[o.length-1],i=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let x=d&&d.path||"";b_(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=io(),h;if(t){let x=typeof t=="string"?Ko(t):t;Xe(u==="/"||((g=x.pathname)==null?void 0:g.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),h=x}else h=f;let m=h.pathname||"/",y=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=u_(e,{pathname:y});Qn(d||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Qn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=yO(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:ra([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:ra([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&w?p.createElement(Cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},w):w}function hO(){let e=SO(),t=sO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,s)}var mO=p.createElement(hO,null),pO=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(pa.Provider,{value:this.props.routeContext},p.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gO({routeContext:e,match:t,children:n}){let r=p.useContext(Ni);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(pa.Provider,{value:e},n)}function yO(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let c=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Xe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,i=-1;if(n)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=c),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,i>=0?a=a.slice(0,i+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let f,h=!1,m=null,y=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||mO,s&&(i<0&&d===0?(b_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):i===d&&(h=!0,y=u.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,d+1)),w=()=>{let g;return f?g=m:h?g=y:u.route.Component?g=p.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,p.createElement(gO,{match:u,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?p.createElement(pO,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}function ay(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vO(e){let t=p.useContext(Ni);return Xe(t,ay(e)),t}function xO(e){let t=p.useContext(Df);return Xe(t,ay(e)),t}function bO(e){let t=p.useContext(pa);return Xe(t,ay(e)),t}function oy(e){let t=bO(e),n=t.matches[t.matches.length-1];return Xe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function wO(){return oy("useRouteId")}function SO(){var r;let e=p.useContext(ry),t=xO("useRouteError"),n=oy("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function NO(){let{router:e}=vO("useNavigate"),t=oy("useNavigate"),n=p.useRef(!1);return v_(()=>{n.current=!0}),p.useCallback(async(a,o={})=>{Qn(n.current,y_),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var Ab={};function b_(e,t,n){!t&&!Ab[e]&&(Ab[e]=!0,Qn(!1,n))}p.memo(EO);function EO({routes:e,future:t,state:n}){return x_(e,void 0,n,t)}function dn(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _O({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Xe(!jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=p.useMemo(()=>({basename:s,navigator:a,static:o,future:{}}),[s,a,o]);typeof n=="string"&&(n=Ko(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,m=p.useMemo(()=>{let y=la(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:h},navigationType:r}},[s,c,u,d,f,h,r]);return Qn(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:p.createElement(Tr.Provider,{value:i},p.createElement(Cc.Provider,{children:t,value:m}))}function CO({children:e,location:t}){return fO(tg(e),t)}function tg(e,t=[]){let n=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let o=[...t,a];if(r.type===p.Fragment){n.push.apply(n,tg(r.props.children,o));return}Xe(r.type===dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=tg(r.props.children,o)),n.push(s)}),n}var Yu="get",qu="application/x-www-form-urlencoded";function zf(e){return e!=null&&typeof e.tagName=="string"}function jO(e){return zf(e)&&e.tagName.toLowerCase()==="button"}function kO(e){return zf(e)&&e.tagName.toLowerCase()==="form"}function AO(e){return zf(e)&&e.tagName.toLowerCase()==="input"}function RO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TO(e,t){return e.button===0&&(!t||t==="_self")&&!RO(e)}var nu=null;function MO(){if(nu===null)try{new FormData(document.createElement("form"),0),nu=!1}catch{nu=!0}return nu}var DO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(e){return e!=null&&!DO.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qu}"`),null):e}function zO(e,t){let n,r,a,o,s;if(kO(e)){let i=e.getAttribute("action");r=i?la(i,t):null,n=e.getAttribute("method")||Yu,a=dm(e.getAttribute("enctype"))||qu,o=new FormData(e)}else if(jO(e)||AO(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||i.getAttribute("action");if(r=c?la(c,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Yu,a=dm(e.getAttribute("formenctype"))||dm(i.getAttribute("enctype"))||qu,o=new FormData(i,e),!MO()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,f)}}else{if(zf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yu,r=null,a=qu,s=e}return o&&a==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:s}}function sy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function OO(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $O(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function LO(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let s=await OO(o,n);return s.links?s.links():[]}return[]}));return HO(r.flat(1).filter($O).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Rb(e,t,n,r,a,o){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,i=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>s(c,u)||i(c,u)):o==="data"?t.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||i(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function PO(e,t,{includeHydrateFallback:n}={}){return IO(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function IO(e){return[...new Set(e)]}function BO(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function HO(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(BO(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UO=new Set([100,101,204,205]);function FO(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&la(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function w_(){let e=p.useContext(Ni);return sy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function VO(){let e=p.useContext(Df);return sy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var iy=p.createContext(void 0);iy.displayName="FrameworkContext";function S_(){let e=p.useContext(iy);return sy(e,"You must render this element inside a <HydratedRouter> element"),e}function GO(e,t){let n=p.useContext(iy),[r,a]=p.useState(!1),[o,s]=p.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=p.useRef(null);p.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=g=>{g.forEach(x=>{s(x.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),p.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{a(!0)},y=()=>{a(!1),s(!1)};return n?e!=="intent"?[o,h,{}]:[o,h,{onFocus:Fi(i,m),onBlur:Fi(c,y),onMouseEnter:Fi(u,m),onMouseLeave:Fi(d,y),onTouchStart:Fi(f,m)}]:[!1,h,{}]}function Fi(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ZO({page:e,...t}){let{router:n}=w_(),r=p.useMemo(()=>u_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?p.createElement(qO,{page:e,matches:r,...t}):null}function YO(e){let{manifest:t,routeModules:n}=S_(),[r,a]=p.useState([]);return p.useEffect(()=>{let o=!1;return LO(e,t,n).then(s=>{o||a(s)}),()=>{o=!0}},[e,t,n]),r}function qO({page:e,matches:t,...n}){let r=io(),{manifest:a,routeModules:o}=S_(),{basename:s}=w_(),{loaderData:i,matches:c}=VO(),u=p.useMemo(()=>Rb(e,t,c,a,r,"data"),[e,t,c,a,r]),d=p.useMemo(()=>Rb(e,t,c,a,r,"assets"),[e,t,c,a,r]),f=p.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,v=!1;if(t.forEach(g=>{var S;let x=a.routes[g.route.id];!x||!x.hasLoader||(!u.some(b=>b.route.id===g.route.id)&&g.route.id in i&&((S=o[g.route.id])!=null&&S.shouldRevalidate)||x.hasClientLoader?v=!0:y.add(g.route.id))}),y.size===0)return[];let w=FO(e,s);return v&&y.size>0&&w.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[s,i,r,a,u,t,e,o]),h=p.useMemo(()=>PO(d,a),[d,a]),m=YO(d);return p.createElement(p.Fragment,null,f.map(y=>p.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),h.map(y=>p.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:v})=>p.createElement("link",{key:y,...v})))}function XO(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var N_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N_&&(window.__reactRouterVersion="7.6.3")}catch{}function KO({basename:e,children:t,window:n}){let r=p.useRef();r.current==null&&(r.current=Lz({window:n,v5Compat:!0}));let a=r.current,[o,s]=p.useState({action:a.action,location:a.location}),i=p.useCallback(c=>{p.startTransition(()=>s(c))},[s]);return p.useLayoutEffect(()=>a.listen(i),[a,i]),p.createElement(_O,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var E_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,__=p.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:s,state:i,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:y}=p.useContext(Tr),v=typeof u=="string"&&E_.test(u),w,g=!1;if(typeof u=="string"&&v&&(w=u,N_))try{let A=new URL(window.location.href),_=u.startsWith("//")?new URL(A.protocol+u):new URL(u),T=la(_.pathname,y);_.origin===A.origin&&T!=null?u=T+_.search+_.hash:g=!0}catch{Qn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=uO(u,{relative:a}),[S,b,E]=GO(r,h),j=e$(u,{replace:s,state:i,target:c,preventScrollReset:d,relative:a,viewTransition:f});function N(A){t&&t(A),A.defaultPrevented||j(A)}let C=p.createElement("a",{...h,...E,href:w||x,onClick:g||o?t:N,ref:XO(m,b),target:c,"data-discover":!v&&n==="render"?"true":void 0});return S&&!v?p.createElement(p.Fragment,null,C,p.createElement(ZO,{page:x})):C});__.displayName="Link";var WO=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:s,viewTransition:i,children:c,...u},d){let f=kc(s,{relative:u.relative}),h=io(),m=p.useContext(Df),{navigator:y,basename:v}=p.useContext(Tr),w=m!=null&&o$(f)&&i===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=h.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(x=x.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&v&&(S=la(S,v)||S);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=x===g||!a&&x.startsWith(g)&&x.charAt(b)==="/",j=S!=null&&(S===g||!a&&S.startsWith(g)&&S.charAt(g.length)==="/"),N={isActive:E,isPending:j,isTransitioning:w},C=E?t:void 0,A;typeof r=="function"?A=r(N):A=[r,E?"active":null,j?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let _=typeof o=="function"?o(N):o;return p.createElement(__,{...u,"aria-current":C,className:A,ref:d,style:_,to:s,viewTransition:i},typeof c=="function"?c(N):c)});WO.displayName="NavLink";var QO=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:s=Yu,action:i,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let y=r$(),v=a$(i,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",g=typeof i=="string"&&E_.test(i),x=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let b=S.nativeEvent.submitter,E=(b==null?void 0:b.getAttribute("formmethod"))||s;y(b||S.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:a,state:o,relative:u,preventScrollReset:d,viewTransition:f})};return p.createElement("form",{ref:m,method:w,action:v,onSubmit:r?c:x,...h,"data-discover":!g&&e==="render"?"true":void 0})});QO.displayName="Form";function JO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C_(e){let t=p.useContext(Ni);return Xe(t,JO(e)),t}function e$(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:s}={}){let i=ga(),c=io(),u=kc(e,{relative:o});return p.useCallback(d=>{if(TO(d,t)){d.preventDefault();let f=n!==void 0?n:Ul(c)===Ul(u);i(e,{replace:f,state:r,preventScrollReset:a,relative:o,viewTransition:s})}},[c,i,u,n,r,t,e,a,o,s])}var t$=0,n$=()=>`__${String(++t$)}__`;function r$(){let{router:e}=C_("useSubmit"),{basename:t}=p.useContext(Tr),n=wO();return p.useCallback(async(r,a={})=>{let{action:o,method:s,encType:i,formData:c,body:u}=zO(r,t);if(a.navigate===!1){let d=a.fetcherKey||n$();await e.fetch(d,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function a$(e,{relative:t}={}){let{basename:n}=p.useContext(Tr),r=p.useContext(pa);Xe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...kc(e||".",{relative:t})},s=io();if(e==null){o.search=s.search;let i=new URLSearchParams(o.search),c=i.getAll("index");if(c.some(d=>d==="")){i.delete("index"),c.filter(f=>f).forEach(f=>i.append("index",f));let d=i.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ra([n,o.pathname])),Ul(o)}function o$(e,t={}){let n=p.useContext(g_);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=C_("useViewTransitionState"),a=kc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=la(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=la(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ld(a.pathname,s)!=null||Ld(a.pathname,o)!=null}[...UO];const Tb={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},equipment:[],userProgress:{gameCompleted:!1,unlocks:[]}},Mb=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,h))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,a,i);return i},s$=e=>e?Mb(e):Mb,i$=e=>e;function l$(e,t=i$){const n=$.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return $.useDebugValue(n),n}const Db=e=>{const t=s$(e),n=r=>l$(t,r);return Object.assign(n,t),n},c$=e=>e?Db(e):Db,ys=c$(e=>({build:Tb,updateBuild:t=>e(n=>({build:{...n.build,...t}})),setBuild:t=>e({build:t}),resetBuild:()=>e({build:Tb})}));function ya(){const e=ys(M=>M.build.skills.major),t=ys(M=>M.build.skills.minor),n=ys(M=>M.build),r=ys(M=>M.updateBuild),a=ys(M=>M.resetBuild),o=M=>e.includes(M),s=M=>t.includes(M);return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:o,hasMinorSkill:s,addMajorSkill:M=>{if(!o(M)&&e.length<3){const R=t.filter(z=>z!==M);r({skills:{major:[...e,M],minor:R}})}},removeMajorSkill:M=>{const R=e.filter(z=>z!==M);r({skills:{major:R,minor:t}})},addMinorSkill:M=>{if(!s(M)&&t.length<3){const R=e.filter(z=>z!==M);r({skills:{major:R,minor:[...t,M]}})}},removeMinorSkill:M=>{const R=t.filter(z=>z!==M);r({skills:{major:e,minor:R}})},addTrait:M=>{const{regular:R,bonus:z}=n.traits,{regular:B,bonus:U}=n.traitLimits;R.length<B?r({traits:{...n.traits,regular:[...R,M]}}):z.length<U&&r({traits:{...n.traits,bonus:[...z,M]}})},addRegularTrait:M=>{const{regular:R}=n.traits,{regular:z}=n.traitLimits;R.length<z&&r({traits:{...n.traits,regular:[...R,M]}})},addBonusTrait:M=>{const{bonus:R}=n.traits,{bonus:z}=n.traitLimits;R.length<z&&r({traits:{...n.traits,bonus:[...R,M]}})},removeTrait:M=>{const{regular:R,bonus:z}=n.traits;r({traits:{regular:R.filter(B=>B!==M),bonus:z.filter(B=>B!==M)}})},hasTrait:M=>n.traits.regular.includes(M)||n.traits.bonus.includes(M),hasRegularTrait:M=>n.traits.regular.includes(M),hasBonusTrait:M=>n.traits.bonus.includes(M),setRace:M=>{r({race:M})},setBirthsign:M=>{r({stone:M})},setStone:M=>{r({stone:M})},setReligion:M=>{r({religion:M})},addEquipment:M=>{n.equipment.includes(M)||r({equipment:[...n.equipment,M]})},removeEquipment:M=>{r({equipment:n.equipment.filter(R=>R!==M)})},setBuildName:M=>{r({name:M})},setBuildNotes:M=>{r({notes:M})},updateBuild:r,clearBuild:()=>{r({name:"",notes:"",race:null,stone:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]}})},resetBuild:a,getSummary:()=>({name:n.name||"Unnamed Character",race:n.race||"Not selected",stone:n.stone||"Not selected",religion:n.religion||"Not selected",traitCount:n.traits.regular.length+n.traits.bonus.length,majorSkillCount:n.skills.major.length,minorSkillCount:n.skills.minor.length,equipmentCount:n.equipment.length}),getRegularTraitLimit:()=>n.traitLimits.regular,getBonusTraitLimit:()=>n.traitLimits.bonus,getRegularTraitCount:()=>n.traits.regular.length,getBonusTraitCount:()=>n.traits.bonus.length,canAddRegularTrait:()=>n.traits.regular.length<n.traitLimits.regular,canAddBonusTrait:()=>n.traits.bonus.length<n.traitLimits.bonus}}function j_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=j_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function k_(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=j_(e))&&(r&&(r+=" "),r+=t);return r}const zb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ob=k_,Ei=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ob(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,s=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=zb(d)||zb(f);return a[u][h]}),i=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[v,w]=y;return Array.isArray(w)?w.includes({...o,...i}[v]):{...o,...i}[v]===w})?[...u,f,h]:u},[]);return Ob(e,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},ly="-",u$=e=>{const t=f$(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(ly);return i[0]===""&&i.length!==1&&i.shift(),A_(i,t)||d$(s)},getConflictingClassGroupIds:(s,i)=>{const c=n[s]||[];return i&&r[s]?[...c,...r[s]]:c}}},A_=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?A_(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(ly);return(s=t.validators.find(({validator:i})=>i(o)))==null?void 0:s.classGroupId},$b=/^\[(.+)\]$/,d$=e=>{if($b.test(e)){const t=$b.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},f$=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)ng(n[a],r,a,t);return r},ng=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Lb(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(h$(a)){ng(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,s])=>{ng(s,Lb(t,o),n,r)})})},Lb=(e,t)=>{let n=e;return t.split(ly).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},h$=e=>e.isThemeGetter,m$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return a(o,s),s},set(o,s){n.has(o)?n.set(o,s):a(o,s)}}},rg="!",ag=":",p$=ag.length,g$=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const o=[];let s=0,i=0,c=0,u;for(let y=0;y<a.length;y++){let v=a[y];if(s===0&&i===0){if(v===ag){o.push(a.slice(c,y)),c=y+p$;continue}if(v==="/"){u=y;continue}}v==="["?s++:v==="]"?s--:v==="("?i++:v===")"&&i--}const d=o.length===0?a:a.substring(c),f=y$(d),h=f!==d,m=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}};if(t){const a=t+ag,o=r;r=s=>s.startsWith(a)?o(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},y$=e=>e.endsWith(rg)?e.substring(0,e.length-1):e.startsWith(rg)?e.substring(1):e,v$=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(a.push(...o.sort(),s),o=[]):o.push(s)}),a.push(...o.sort()),a}},x$=e=>({cache:m$(e.cacheSize),parseClassName:g$(e),sortModifiers:v$(e),...u$(e)}),b$=/\s+/,w$=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=t,s=[],i=e.trim().split(b$);let c="";for(let u=i.length-1;u>=0;u-=1){const d=i[u],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:v}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!v,g=r(w?y.substring(0,v):y);if(!g){if(!w){c=d+(c.length>0?" "+c:c);continue}if(g=r(y),!g){c=d+(c.length>0?" "+c:c);continue}w=!1}const x=o(h).join(":"),S=m?x+rg:x,b=S+g;if(s.includes(b))continue;s.push(b);const E=a(g,w);for(let j=0;j<E.length;++j){const N=E[j];s.push(S+N)}c=d+(c.length>0?" "+c:c)}return c};function S$(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=R_(t))&&(r&&(r+=" "),r+=n);return r}const R_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=R_(e[r]))&&(n&&(n+=" "),n+=t);return n};function N$(e,...t){let n,r,a,o=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return n=x$(u),r=n.cache.get,a=n.cache.set,o=i,i(c)}function i(c){const u=r(c);if(u)return u;const d=w$(c,n);return a(c,d),d}return function(){return o(S$.apply(null,arguments))}}const ht=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},T_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,M_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,E$=/^\d+\/\d+$/,_$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,k$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=e=>E$.test(e),pe=e=>!!e&&!Number.isNaN(Number(e)),Ea=e=>!!e&&Number.isInteger(Number(e)),fm=e=>e.endsWith("%")&&pe(e.slice(0,-1)),Gr=e=>_$.test(e),R$=()=>!0,T$=e=>C$.test(e)&&!j$.test(e),D_=()=>!1,M$=e=>k$.test(e),D$=e=>A$.test(e),z$=e=>!te(e)&&!ne(e),O$=e=>_i(e,$_,D_),te=e=>T_.test(e),ho=e=>_i(e,L_,T$),hm=e=>_i(e,B$,pe),Pb=e=>_i(e,z_,D_),$$=e=>_i(e,O_,D$),ru=e=>_i(e,P_,M$),ne=e=>M_.test(e),Vi=e=>Ci(e,L_),L$=e=>Ci(e,H$),Ib=e=>Ci(e,z_),P$=e=>Ci(e,$_),I$=e=>Ci(e,O_),au=e=>Ci(e,P_,!0),_i=(e,t,n)=>{const r=T_.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Ci=(e,t,n=!1)=>{const r=M_.exec(e);return r?r[1]?t(r[1]):n:!1},z_=e=>e==="position"||e==="percentage",O_=e=>e==="image"||e==="url",$_=e=>e==="length"||e==="size"||e==="bg-size",L_=e=>e==="length",B$=e=>e==="number",H$=e=>e==="family-name",P_=e=>e==="shadow",U$=()=>{const e=ht("color"),t=ht("font"),n=ht("text"),r=ht("font-weight"),a=ht("tracking"),o=ht("leading"),s=ht("breakpoint"),i=ht("container"),c=ht("spacing"),u=ht("radius"),d=ht("shadow"),f=ht("inset-shadow"),h=ht("text-shadow"),m=ht("drop-shadow"),y=ht("blur"),v=ht("perspective"),w=ht("aspect"),g=ht("ease"),x=ht("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...b(),ne,te],j=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],C=()=>[ne,te,c],A=()=>[as,"full","auto",...C()],_=()=>[Ea,"none","subgrid",ne,te],T=()=>["auto",{span:["full",Ea,ne,te]},Ea,ne,te],I=()=>[Ea,"auto",ne,te],L=()=>["auto","min","max","fr",ne,te],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...C()],P=()=>[as,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],M=()=>[e,ne,te],R=()=>[...b(),Ib,Pb,{position:[ne,te]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",P$,O$,{size:[ne,te]}],U=()=>[fm,Vi,ho],H=()=>["","none","full",u,ne,te],F=()=>["",pe,Vi,ho],G=()=>["solid","dashed","dotted","double"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[pe,fm,Ib,Pb],X=()=>["","none",y,ne,te],W=()=>["none",pe,ne,te],re=()=>["none",pe,ne,te],we=()=>[pe,ne,te],Ce=()=>[as,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gr],breakpoint:[Gr],color:[R$],container:[Gr],"drop-shadow":[Gr],ease:["in","out","in-out"],font:[z$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gr],shadow:[Gr],spacing:["px",pe],text:[Gr],"text-shadow":[Gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",as,te,ne,w]}],container:["container"],columns:[{columns:[pe,te,ne,i]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Ea,"auto",ne,te]}],basis:[{basis:[as,"full","auto",i,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pe,as,"auto","initial","none",te]}],grow:[{grow:["",pe,ne,te]}],shrink:[{shrink:["",pe,ne,te]}],order:[{order:[Ea,"first","last","none",ne,te]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[i,"screen",...P()]}],"min-w":[{"min-w":[i,"screen","none",...P()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[s]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,Vi,ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ne,hm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",fm,te]}],"font-family":[{font:[L$,te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ne,te]}],"line-clamp":[{"line-clamp":[pe,"none",ne,hm]}],leading:[{leading:[o,...C()]}],"list-image":[{"list-image":["none",ne,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ne,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[pe,"from-font","auto",ne,ho]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[pe,"auto",ne,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ea,ne,te],radial:["",ne,te],conic:[Ea,ne,te]},I$,$$]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pe,ne,te]}],"outline-w":[{outline:["",pe,Vi,ho]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",d,au,ru]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",f,au,ru]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[pe,ho]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",h,au,ru]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[pe,ne,te]}],"mix-blend":[{"mix-blend":[...q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[ne,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ne,te]}],filter:[{filter:["","none",ne,te]}],blur:[{blur:X()}],brightness:[{brightness:[pe,ne,te]}],contrast:[{contrast:[pe,ne,te]}],"drop-shadow":[{"drop-shadow":["","none",m,au,ru]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",pe,ne,te]}],"hue-rotate":[{"hue-rotate":[pe,ne,te]}],invert:[{invert:["",pe,ne,te]}],saturate:[{saturate:[pe,ne,te]}],sepia:[{sepia:["",pe,ne,te]}],"backdrop-filter":[{"backdrop-filter":["","none",ne,te]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[pe,ne,te]}],"backdrop-contrast":[{"backdrop-contrast":[pe,ne,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pe,ne,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pe,ne,te]}],"backdrop-invert":[{"backdrop-invert":["",pe,ne,te]}],"backdrop-opacity":[{"backdrop-opacity":[pe,ne,te]}],"backdrop-saturate":[{"backdrop-saturate":[pe,ne,te]}],"backdrop-sepia":[{"backdrop-sepia":["",pe,ne,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ne,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pe,"initial",ne,te]}],ease:[{ease:["linear","initial",g,ne,te]}],delay:[{delay:[pe,ne,te]}],animate:[{animate:["none",x,ne,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,ne,te]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[ne,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ce()}],"translate-x":[{"translate-x":Ce()}],"translate-y":[{"translate-y":Ce()}],"translate-z":[{"translate-z":Ce()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne,te]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[pe,Vi,ho,hm]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},F$=N$(U$);function K(...e){return F$(k_(e))}const V$=Ei("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...n}){return l.jsx("div",{className:K(V$({variant:t}),e),...n})}function Bb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Of(...e){return t=>{let n=!1;const r=e.map(a=>{const o=Bb(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():Bb(e[a],null)}}}}function Me(...e){return p.useCallback(Of(...e),e)}function si(e){const t=Z$(e),n=p.forwardRef((r,a)=>{const{children:o,...s}=r,i=p.Children.toArray(o),c=i.find(q$);if(c){const u=c.props.children,d=i.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var G$=si("Slot");function Z$(e){const t=p.forwardRef((n,r)=>{const{children:a,...o}=n;if(p.isValidElement(a)){const s=K$(a),i=X$(o,a.props);return a.type!==p.Fragment&&(i.ref=r?Of(r,s):s),p.cloneElement(a,i)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var I_=Symbol("radix.slottable");function Y$(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=I_,t}function q$(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===I_}function X$(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...i)=>{const c=o(...i);return a(...i),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function K$(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const W$=Ei("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function oe({className:e,variant:t,size:n,asChild:r=!1,...a}){const o=r?G$:"button";return l.jsx(o,{"data-slot":"button",className:K(W$({variant:t,size:n,className:e})),...a})}function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Q$(e,t){const n=p.createContext(t),r=o=>{const{children:s,...i}=o,c=p.useMemo(()=>i,Object.values(i));return l.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function a(o){const s=p.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function rn(e,t=[]){let n=[];function r(o,s){const i=p.createContext(s),c=n.length;n=[...n,s];const u=f=>{var g;const{scope:h,children:m,...y}=f,v=((g=h==null?void 0:h[e])==null?void 0:g[c])||i,w=p.useMemo(()=>y,Object.values(y));return l.jsx(v.Provider,{value:w,children:m})};u.displayName=o+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||i,y=p.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const a=()=>{const o=n.map(s=>p.createContext(s));return function(i){const c=(i==null?void 0:i[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return a.scopeName=e,[r,J$(a,...t)]}function J$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const s=r.reduce((i,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...i,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var jr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},e5=i0[" useId ".trim().toString()]||(()=>{}),t5=0;function br(e){const[t,n]=p.useState(e5());return jr(()=>{n(r=>r??String(t5++))},[e]),t?`radix-${t}`:""}var n5=i0[" useInsertionEffect ".trim().toString()]||jr;function En({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,s]=r5({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=p.useCallback(d=>{var f;if(i){const h=a5(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else o(d)},[i,e,o,s]);return[c,u]}function r5({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),a=p.useRef(n),o=p.useRef(t);return n5(()=>{o.current=t},[t]),p.useEffect(()=>{var s;a.current!==n&&((s=o.current)==null||s.call(o,n),a.current=n)},[n,a]),[n,r,o]}function a5(e){return typeof e=="function"}var o5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=o5.reduce((e,t)=>{const n=si(`Primitive.${t}`),r=p.forwardRef((a,o)=>{const{asChild:s,...i}=a,c=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function B_(e,t){e&&ic.flushSync(()=>e.dispatchEvent(t))}function $t(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function s5(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var i5="DismissableLayer",og="dismissableLayer.update",l5="dismissableLayer.pointerDownOutside",c5="dismissableLayer.focusOutside",Hb,H_=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ac=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:i,...c}=e,u=p.useContext(H_),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=Me(t,N=>f(N)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(w),x=d?v.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,b=x>=g,E=f5(N=>{const C=N.target,A=[...u.branches].some(_=>_.contains(C));!b||A||(a==null||a(N),s==null||s(N),N.defaultPrevented||i==null||i())},h),j=h5(N=>{const C=N.target;[...u.branches].some(_=>_.contains(C))||(o==null||o(N),s==null||s(N),N.defaultPrevented||i==null||i())},h);return s5(N=>{x===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Hb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ub(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Hb)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ub())},[d,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(og,N),()=>document.removeEventListener(og,N)},[]),l.jsx(de.div,{...c,ref:y,style:{pointerEvents:S?b?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,E.onPointerDownCapture)})});Ac.displayName=i5;var u5="DismissableLayerBranch",d5=p.forwardRef((e,t)=>{const n=p.useContext(H_),r=p.useRef(null),a=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(de.div,{...e,ref:a})});d5.displayName=u5;function f5(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let c=function(){U_(l5,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function h5(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),r=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!r.current&&U_(c5,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ub(){const e=new CustomEvent(og);document.dispatchEvent(e)}function U_(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?B_(a,o):a.dispatchEvent(o)}var mm="focusScope.autoFocusOnMount",pm="focusScope.autoFocusOnUnmount",Fb={bubbles:!1,cancelable:!0},m5="FocusScope",cy=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[i,c]=p.useState(null),u=$t(a),d=$t(o),f=p.useRef(null),h=Me(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(S){if(m.paused||!i)return;const b=S.target;i.contains(b)?f.current=b:ja(f.current,{select:!0})},w=function(S){if(m.paused||!i)return;const b=S.relatedTarget;b!==null&&(i.contains(b)||ja(f.current,{select:!0}))},g=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&ja(i)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const x=new MutationObserver(g);return i&&x.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),x.disconnect()}}},[r,i,m.paused]),p.useEffect(()=>{if(i){Gb.add(m);const v=document.activeElement;if(!i.contains(v)){const g=new CustomEvent(mm,Fb);i.addEventListener(mm,u),i.dispatchEvent(g),g.defaultPrevented||(p5(b5(F_(i)),{select:!0}),document.activeElement===v&&ja(i))}return()=>{i.removeEventListener(mm,u),setTimeout(()=>{const g=new CustomEvent(pm,Fb);i.addEventListener(pm,d),i.dispatchEvent(g),g.defaultPrevented||ja(v??document.body,{select:!0}),i.removeEventListener(pm,d),Gb.remove(m)},0)}}},[i,u,d,m]);const y=p.useCallback(v=>{if(!n&&!r||m.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(w&&g){const x=v.currentTarget,[S,b]=g5(x);S&&b?!v.shiftKey&&g===b?(v.preventDefault(),n&&ja(S,{select:!0})):v.shiftKey&&g===S&&(v.preventDefault(),n&&ja(b,{select:!0})):g===x&&v.preventDefault()}},[n,r,m.paused]);return l.jsx(de.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});cy.displayName=m5;function p5(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ja(r,{select:t}),document.activeElement!==n)return}function g5(e){const t=F_(e),n=Vb(t,e),r=Vb(t.reverse(),e);return[n,r]}function F_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vb(e,t){for(const n of e)if(!y5(n,{upTo:t}))return n}function y5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v5(e){return e instanceof HTMLInputElement&&"select"in e}function ja(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&v5(e)&&t&&e.select()}}var Gb=x5();function x5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Zb(e,t),e.unshift(t)},remove(t){var n;e=Zb(e,t),(n=e[0])==null||n.resume()}}}function Zb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function b5(e){return e.filter(t=>t.tagName!=="A")}var w5="Portal",uy=p.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[a,o]=p.useState(!1);jr(()=>o(!0),[]);const s=n||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return s?GM.createPortal(l.jsx(de.div,{...r,ref:t}),s):null});uy.displayName=w5;function S5(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Bt=e=>{const{present:t,children:n}=e,r=N5(t),a=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Me(r.ref,E5(a));return typeof n=="function"||r.isPresent?p.cloneElement(a,{ref:o}):null};Bt.displayName="Presence";function N5(e){const[t,n]=p.useState(),r=p.useRef(null),a=p.useRef(e),o=p.useRef("none"),s=e?"mounted":"unmounted",[i,c]=S5(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=ou(r.current);o.current=i==="mounted"?u:"none"},[i]),jr(()=>{const u=r.current,d=a.current;if(d!==e){const h=o.current,m=ou(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),jr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=ou(r.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=m=>{m.target===t&&(o.current=ou(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ou(e){return(e==null?void 0:e.animationName)||"none"}function E5(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gm=0;function V_(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yb()),document.body.insertAdjacentElement("beforeend",e[1]??Yb()),gm++,()=>{gm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gm--}},[])}function Yb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fr=function(){return fr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},fr.apply(this,arguments)};function G_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function _5(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Xu="right-scroll-bar-position",Ku="width-before-scroll-bar",C5="with-scroll-bars-hidden",j5="--removed-body-scroll-bar-size";function ym(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function k5(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var A5=typeof window<"u"?p.useLayoutEffect:p.useEffect,qb=new WeakMap;function R5(e,t){var n=k5(null,function(r){return e.forEach(function(a){return ym(a,r)})});return A5(function(){var r=qb.get(n);if(r){var a=new Set(r),o=new Set(e),s=n.current;a.forEach(function(i){o.has(i)||ym(i,null)}),o.forEach(function(i){a.has(i)||ym(i,s)})}qb.set(n,e)},[e]),n}function T5(e){return e}function M5(e,t){t===void 0&&(t=T5);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(o),s=n}var c=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return a}function D5(e){e===void 0&&(e={});var t=M5(null);return t.options=fr({async:!0,ssr:!1},e),t}var Z_=function(e){var t=e.sideCar,n=G_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,fr({},n))};Z_.isSideCarExport=!0;function z5(e,t){return e.useMedium(t),Z_}var Y_=D5(),vm=function(){},$f=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:vm,onWheelCapture:vm,onTouchMoveCapture:vm}),a=r[0],o=r[1],s=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,y=e.noIsolation,v=e.inert,w=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,S=e.gapMode,b=G_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,j=R5([n,t]),N=fr(fr({},b),a);return p.createElement(p.Fragment,null,d&&p.createElement(E,{sideCar:Y_,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:v,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:S}),s?p.cloneElement(p.Children.only(i),fr(fr({},N),{ref:j})):p.createElement(x,fr({},N,{className:c,ref:j}),i))});$f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$f.classNames={fullWidth:Ku,zeroRight:Xu};var O5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=O5();return t&&e.setAttribute("nonce",t),e}function L5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function P5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var I5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$5())&&(L5(t,n),P5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},B5=function(){var e=I5();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},q_=function(){var e=B5(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},H5={left:0,top:0,right:0,gap:0},xm=function(e){return parseInt(e||"",10)||0},U5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[xm(n),xm(r),xm(a)]},F5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return H5;var t=U5(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},V5=q_(),Us="data-scroll-locked",G5=function(e,t,n,r){var a=e.left,o=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(C5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(Us,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xu,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Ku,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ku," .").concat(Ku,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Us,`] {
    `).concat(j5,": ").concat(i,`px;
  }
`)},Xb=function(){var e=parseInt(document.body.getAttribute(Us)||"0",10);return isFinite(e)?e:0},Z5=function(){p.useEffect(function(){return document.body.setAttribute(Us,(Xb()+1).toString()),function(){var e=Xb()-1;e<=0?document.body.removeAttribute(Us):document.body.setAttribute(Us,e.toString())}},[])},Y5=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Z5();var o=p.useMemo(function(){return F5(a)},[a]);return p.createElement(V5,{styles:G5(o,!t,a,n?"":"!important")})},sg=!1;if(typeof window<"u")try{var su=Object.defineProperty({},"passive",{get:function(){return sg=!0,!0}});window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{sg=!1}var os=sg?{passive:!1}:!1,q5=function(e){return e.tagName==="TEXTAREA"},X_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!q5(e)&&n[t]==="visible")},X5=function(e){return X_(e,"overflowY")},K5=function(e){return X_(e,"overflowX")},Kb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=K_(e,r);if(a){var o=W_(e,r),s=o[1],i=o[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},W5=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Q5=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},K_=function(e,t){return e==="v"?X5(t):K5(t)},W_=function(e,t){return e==="v"?W5(t):Q5(t)},J5=function(e,t){return e==="h"&&t==="rtl"?-1:1},eL=function(e,t,n,r,a){var o=J5(e,window.getComputedStyle(t).direction),s=o*r,i=n.target,c=t.contains(i),u=!1,d=s>0,f=0,h=0;do{if(!i)break;var m=W_(e,i),y=m[0],v=m[1],w=m[2],g=v-w-o*y;(y||g)&&K_(e,i)&&(f+=g,h+=y);var x=i.parentNode;i=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},iu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wb=function(e){return[e.deltaX,e.deltaY]},Qb=function(e){return e&&"current"in e?e.current:e},tL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rL=0,ss=[];function aL(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),a=p.useState(rL++)[0],o=p.useState(q_)[0],s=p.useRef(e);p.useEffect(function(){s.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=_5([e.lockRef.current],(e.shards||[]).map(Qb),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var g=iu(v),x=n.current,S="deltaX"in v?v.deltaX:x[0]-g[0],b="deltaY"in v?v.deltaY:x[1]-g[1],E,j=v.target,N=Math.abs(S)>Math.abs(b)?"h":"v";if("touches"in v&&N==="h"&&j.type==="range")return!1;var C=Kb(N,j);if(!C)return!0;if(C?E=N:(E=N==="v"?"h":"v",C=Kb(N,j)),!C)return!1;if(!r.current&&"changedTouches"in v&&(S||b)&&(r.current=E),!E)return!0;var A=r.current||E;return eL(A,w,v,A==="h"?S:b)},[]),c=p.useCallback(function(v){var w=v;if(!(!ss.length||ss[ss.length-1]!==o)){var g="deltaY"in w?Wb(w):iu(w),x=t.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&tL(E.delta,g)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var S=(s.current.shards||[]).map(Qb).filter(Boolean).filter(function(E){return E.contains(w.target)}),b=S.length>0?i(w,S[0]):!s.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(v,w,g,x){var S={name:v,delta:w,target:g,should:x,shadowParent:oL(g)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(b){return b!==S})},1)},[]),d=p.useCallback(function(v){n.current=iu(v),r.current=void 0},[]),f=p.useCallback(function(v){u(v.type,Wb(v),v.target,i(v,e.lockRef.current))},[]),h=p.useCallback(function(v){u(v.type,iu(v),v.target,i(v,e.lockRef.current))},[]);p.useEffect(function(){return ss.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,os),document.addEventListener("touchmove",c,os),document.addEventListener("touchstart",d,os),function(){ss=ss.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,os),document.removeEventListener("touchmove",c,os),document.removeEventListener("touchstart",d,os)}},[]);var m=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(o,{styles:nL(a)}):null,m?p.createElement(Y5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function oL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sL=z5(Y_,aL);var dy=p.forwardRef(function(e,t){return p.createElement($f,fr({},e,{ref:t,sideCar:sL}))});dy.classNames=$f.classNames;var iL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},is=new WeakMap,lu=new WeakMap,cu={},bm=0,Q_=function(e){return e&&(e.host||Q_(e.parentNode))},lL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Q_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},cL=function(e,t,n,r){var a=lL(t,Array.isArray(e)?e:[e]);cu[n]||(cu[n]=new WeakMap);var o=cu[n],s=[],i=new Set,c=new Set(a),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",v=(is.get(h)||0)+1,w=(o.get(h)||0)+1;is.set(h,v),o.set(h,w),s.push(h),v===1&&y&&lu.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),i.clear(),bm++,function(){s.forEach(function(f){var h=is.get(f)-1,m=o.get(f)-1;is.set(f,h),o.set(f,m),h||(lu.has(f)||f.removeAttribute(r),lu.delete(f)),m||f.removeAttribute(n)}),bm--,bm||(is=new WeakMap,is=new WeakMap,lu=new WeakMap,cu={})}},J_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=iL(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),cL(r,a,n,"aria-hidden")):function(){return null}},Lf="Dialog",[eC,hJ]=rn(Lf),[uL,nr]=eC(Lf),tC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,i=p.useRef(null),c=p.useRef(null),[u,d]=En({prop:r,defaultProp:a??!1,onChange:o,caller:Lf});return l.jsx(uL,{scope:t,triggerRef:i,contentRef:c,contentId:br(),titleId:br(),descriptionId:br(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};tC.displayName=Lf;var nC="DialogTrigger",rC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=nr(nC,n),o=Me(t,a.triggerRef);return l.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":my(a.open),...r,ref:o,onClick:ee(e.onClick,a.onOpenToggle)})});rC.displayName=nC;var fy="DialogPortal",[dL,aC]=eC(fy,{forceMount:void 0}),oC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=nr(fy,t);return l.jsx(dL,{scope:t,forceMount:n,children:p.Children.map(r,s=>l.jsx(Bt,{present:n||o.open,children:l.jsx(uy,{asChild:!0,container:a,children:s})}))})};oC.displayName=fy;var Pd="DialogOverlay",sC=p.forwardRef((e,t)=>{const n=aC(Pd,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=nr(Pd,e.__scopeDialog);return o.modal?l.jsx(Bt,{present:r||o.open,children:l.jsx(hL,{...a,ref:t})}):null});sC.displayName=Pd;var fL=si("DialogOverlay.RemoveScroll"),hL=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=nr(Pd,n);return l.jsx(dy,{as:fL,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(de.div,{"data-state":my(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Po="DialogContent",iC=p.forwardRef((e,t)=>{const n=aC(Po,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=nr(Po,e.__scopeDialog);return l.jsx(Bt,{present:r||o.open,children:o.modal?l.jsx(mL,{...a,ref:t}):l.jsx(pL,{...a,ref:t})})});iC.displayName=Po;var mL=p.forwardRef((e,t)=>{const n=nr(Po,e.__scopeDialog),r=p.useRef(null),a=Me(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return J_(o)},[]),l.jsx(lC,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&o.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault())})}),pL=p.forwardRef((e,t)=>{const n=nr(Po,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return l.jsx(lC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),lC=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...s}=e,i=nr(Po,n),c=p.useRef(null),u=Me(t,c);return V_(),l.jsxs(l.Fragment,{children:[l.jsx(cy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:l.jsx(Ac,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":my(i.open),...s,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(gL,{titleId:i.titleId}),l.jsx(vL,{contentRef:c,descriptionId:i.descriptionId})]})]})}),hy="DialogTitle",cC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=nr(hy,n);return l.jsx(de.h2,{id:a.titleId,...r,ref:t})});cC.displayName=hy;var uC="DialogDescription",dC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=nr(uC,n);return l.jsx(de.p,{id:a.descriptionId,...r,ref:t})});dC.displayName=uC;var fC="DialogClose",hC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=nr(fC,n);return l.jsx(de.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>a.onOpenChange(!1))})});hC.displayName=fC;function my(e){return e?"open":"closed"}var mC="DialogTitleWarning",[mJ,pC]=Q$(mC,{contentName:Po,titleName:hy,docsSlug:"dialog"}),gL=({titleId:e})=>{const t=pC(mC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},yL="DialogDescriptionWarning",vL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pC(yL).contentName}}.`;return p.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},gC=tC,yC=rC,vC=oC,py=sC,gy=iC,yy=cC,vy=dC,xL=hC;const bL=gC,wL=yC,SL=vC,xC=p.forwardRef(({className:e,...t},n)=>l.jsx(py,{className:K("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:It.MODAL},...t,ref:n}));xC.displayName=py.displayName;const NL=Ei("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bC=p.forwardRef(({side:e="right",className:t,children:n,...r},a)=>l.jsxs(SL,{children:[l.jsx(xC,{}),l.jsxs(gy,{ref:a,className:K(NL({side:e}),t),style:{zIndex:It.MODAL+1,backgroundColor:"hsl(var(--background))"},...r,children:[n,l.jsxs(xL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(Cr,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bC.displayName=gy.displayName;const wC=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});wC.displayName="SheetHeader";const SC=p.forwardRef(({className:e,...t},n)=>l.jsx(yy,{ref:n,className:K("text-lg font-semibold text-foreground",e),...t}));SC.displayName=yy.displayName;const NC=p.forwardRef(({className:e,...t},n)=>l.jsx(vy,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));NC.displayName=vy.displayName;const EC=()=>{const{build:e,resetBuild:t,getSummary:n,getRegularTraitLimit:r,getBonusTraitLimit:a}=ya(),o=ga(),s=n(),[i,c]=p.useState(!1),u=e.name||e.race||e.traits.regular.length>0||e.traits.bonus.length>0||e.stone||e.religion||e.skills.major.length>0||e.skills.minor.length>0||e.equipment.length>0,d=()=>{navigator.clipboard.writeText(window.location.href)},f=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},h=w=>{c(!1),o(w)},m=r(),y=a(),v=m+y;return l.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:It.MODAL+1},children:l.jsxs(bL,{open:i,onOpenChange:c,children:[l.jsx(wL,{asChild:!0,children:l.jsx(oe,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${i?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:l.jsx(Zu,{className:"h-5 w-5"})})}),l.jsxs(bC,{side:"right",className:"w-[400px] sm:w-[540px] p-6",children:[l.jsxs(wC,{children:[l.jsxs(SC,{className:"flex items-center gap-2",children:[l.jsx(Zu,{className:"h-5 w-5"}),u?s.name:"Character Build"]}),l.jsx(NC,{children:u?"Your current character build status":"Create and manage your character build"})]}),l.jsx("div",{className:"mt-6 space-y-6",children:u?l.jsxs(l.Fragment,{children:[e.race&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Race"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.race}),l.jsx(Se,{variant:"secondary",className:"bg-blue-500",children:"Selected"})]})]}),e.stone&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Birth Sign"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.stone}),l.jsx(Se,{variant:"secondary",className:"bg-purple-500",children:"Selected"})]})]}),e.religion&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Religion"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.religion}),l.jsx(Se,{variant:"secondary",className:"bg-orange-500",children:"Selected"})]})]}),(e.traits.regular.length>0||e.traits.bonus.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Traits (",e.traits.regular.length+e.traits.bonus.length,"/",v,")"]}),l.jsxs("div",{className:"space-y-2",children:[e.traits.regular.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:w}),l.jsx(Se,{variant:"secondary",className:"bg-blue-500",children:"Regular"})]},`regular-${w}`)),e.traits.bonus.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:w}),l.jsx(Se,{variant:"secondary",className:"bg-gray-400",children:"Extra Unlock"})]},`bonus-${w}`))]})]}),(e.skills.major.length>0||e.skills.minor.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Skills"}),l.jsxs("div",{className:"space-y-2",children:[e.skills.major.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Major Skills"}),l.jsx(Se,{variant:"outline",children:e.skills.major.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.major.map(w=>l.jsx(Se,{variant:"secondary",className:"bg-red-500 text-xs",children:w},w))})]}),e.skills.minor.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Minor Skills"}),l.jsx(Se,{variant:"outline",children:e.skills.minor.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.minor.map(w=>l.jsx(Se,{variant:"secondary",className:"bg-blue-500 text-xs",children:w},w))})]})]})]}),e.equipment.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Equipment (",e.equipment.length,")"]}),l.jsx("div",{className:"space-y-2",children:e.equipment.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:w}),l.jsx(Se,{variant:"secondary",className:"bg-gray-500",children:"Equipped"})]},w))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Zu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Character Build"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building your character by selecting a race, traits, and other options."})]})}),l.jsx("div",{className:"mt-8 space-y-3",children:u?l.jsxs(l.Fragment,{children:[l.jsxs(oe,{onClick:()=>h("/build"),className:"w-full",children:[l.jsx(Wp,{className:"w-4 h-4 mr-2"}),"Edit Build"]}),l.jsxs(oe,{variant:"outline",onClick:d,className:"w-full",children:[l.jsx(L4,{className:"w-4 h-4 mr-2"}),"Copy Share URL"]}),l.jsxs(oe,{variant:"destructive",onClick:f,className:"w-full",children:[l.jsx(wz,{className:"w-4 h-4 mr-2"}),"Reset Build"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(oe,{onClick:()=>h("/build"),className:"w-full",children:[l.jsx(Wp,{className:"w-4 h-4 mr-2"}),"Create Character Build"]}),l.jsx(oe,{variant:"outline",onClick:()=>h("/race"),className:"w-full",children:"Browse Races"}),l.jsx(oe,{variant:"outline",onClick:()=>h("/traits"),className:"w-full",children:"Browse Traits"})]})})]})]})})},EL=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),_L=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},CL=()=>{const{build:e,setBuild:t}=ys();io(),ga(),p.useEffect(()=>{const n=window.location.hash,[r,a]=n.split("?"),s=new URLSearchParams(a||"").get("b");if(s){const i=_L(s);(i==null?void 0:i.v)===1?t(i):console.warn("Invalid or outdated build schema in URL")}},[t]),p.useEffect(()=>{const n=EL(e),r=window.location.hash,[a,o]=r.split("?"),s=new URLSearchParams(o||"");s.set("b",n);const i=`${a}?${s.toString()}`;window.history.replaceState(null,"",i)},[e])},_C=p.forwardRef(({className:e,collapsed:t,...n},r)=>l.jsx("aside",{ref:r,"data-collapsed":t?"":void 0,className:K("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300",t?"w-0 overflow-hidden":"w-64",e),...n}));_C.displayName="Sidebar";const CC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));CC.displayName="SidebarContent";const jC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("mb-2",e),...t}));jC.displayName="SidebarGroup";const kC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));kC.displayName="SidebarHeader";const AC=p.forwardRef(({className:e,...t},n)=>l.jsx("ul",{ref:n,className:K("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));AC.displayName="SidebarMenu";const RC=p.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return l.jsx(o,{ref:a,"data-active":n?"":void 0,className:K("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...r})});RC.displayName="SidebarMenuButton";const TC=p.forwardRef(({className:e,...t},n)=>l.jsx("li",{ref:n,className:K("relative flex items-stretch",e),...t}));TC.displayName="SidebarMenuItem";const MC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:e,...t}));MC.displayName="SidebarRail";const jL=Ei("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),an=p.forwardRef(({className:e,variant:t,as:n,...r},a)=>{const o=n||kL(t);return l.jsx(o,{className:K(jL({variant:t,className:e})),ref:a,...r})});an.displayName="Typography";function kL(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const ji=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h1",as:"h1",className:e,ref:n,...t}));ji.displayName="H1";const AL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h2",as:"h2",className:e,ref:n,...t}));AL.displayName="H2";const Pf=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h3",as:"h3",className:e,ref:n,...t}));Pf.displayName="H3";const DC=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h4",as:"h4",className:e,ref:n,...t}));DC.displayName="H4";const RL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h5",as:"h5",className:e,ref:n,...t}));RL.displayName="H5";const TL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h6",as:"h6",className:e,ref:n,...t}));TL.displayName="H6";const Ot=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"p",as:"p",className:e,ref:n,...t}));Ot.displayName="P";const ML=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));ML.displayName="Blockquote";const DL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"code",as:"code",className:e,ref:n,...t}));DL.displayName="Code";const zC=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"lead",as:"p",className:e,ref:n,...t}));zC.displayName="Lead";const zL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"large",as:"div",className:e,ref:n,...t}));zL.displayName="Large";const OL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"small",as:"small",className:e,ref:n,...t}));OL.displayName="Small";const Fl=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"muted",as:"p",className:e,ref:n,...t}));Fl.displayName="Muted";function ki({title:e,description:t,children:n,className:r=""}){return l.jsxs("div",{className:`bg-background ${r}`,children:[l.jsx("div",{className:"bg-card/50",children:l.jsxs("div",{className:"max-w-none mx-auto px-4 py-6",children:[l.jsx(ji,{className:"text-3xl font-bold text-primary mb-2",children:e}),t&&l.jsx(Ot,{className:"text-muted-foreground max-w-4xl",children:t})]})}),l.jsx("div",{className:`px-4 py-6 ${r.includes("max-w-none")?"":"max-w-none mx-auto"}`,children:n})]})}const wr=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));wr.displayName="Input";function Wo({categories:e,onSelect:t,placeholder:n="Search categories...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(null),[c,u]=p.useState(""),[d,f]=p.useState(-1),h=p.useRef(null),m=p.useRef(null),y=e.length===1?e[0]:null;p.useEffect(()=>{const N=C=>{h.current&&!h.current.contains(C.target)&&(o(!1),i(null),f(-1))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const v=s||y?(s||y).options.filter(N=>{var C;return N.label.toLowerCase().includes(c.toLowerCase())||((C=N.description)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))}):e.flatMap(N=>N.options.filter(C=>{var A;return C.label.toLowerCase().includes(c.toLowerCase())||((A=C.description)==null?void 0:A.toLowerCase().includes(c.toLowerCase()))})),w=N=>{u(N),o(!0),f(-1)},g=N=>{var C;i(N),u(""),(C=m.current)==null||C.focus()},x=N=>{t(N),u(""),i(null),o(!1),f(-1)},S=N=>{N.key==="ArrowDown"?(N.preventDefault(),f(C=>Math.min(C+1,v.length-1))):N.key==="ArrowUp"?(N.preventDefault(),f(C=>Math.max(C-1,-1))):N.key==="Enter"?(N.preventDefault(),d>=0&&v[d]&&x(v[d])):N.key==="Escape"&&(o(!1),i(null),f(-1))},b=()=>{o(!0)},E=s||y,j=!y&&!s;return l.jsxs("div",{ref:h,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(wr,{ref:m,type:"text",placeholder:E?E.placeholder:n,value:c,onChange:N=>w(N.target.value),onFocus:b,onKeyDown:S,className:"pl-10 pr-10"}),l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:l.jsx(_t,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:It.AUTOCOMPLETE},children:[j&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(N=>l.jsxs("button",{onClick:()=>g(N),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:N.name}),l.jsx(_t,{className:"h-4 w-4"})]},N.id))]}),l.jsx("div",{className:"p-2",children:v.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):v.map((N,C)=>l.jsxs("button",{onClick:()=>x(N),className:`w-full text-left px-2 py-2 rounded text-sm ${C===d?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:N.label}),N.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:N.description})]},N.id))})]})]})}function OC({categories:e,onSelect:t,className:n=""}){return l.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(r=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Wo,{categories:[r],onSelect:t,placeholder:r.placeholder,className:"w-full"})},r.id))})}function $C({tags:e,onRemove:t,className:n=""}){return e.length===0?null:l.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(r=>l.jsxs(Se,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.category,":"]}),l.jsx("span",{children:r.label}),l.jsx("button",{onClick:()=>t(r.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:l.jsx(Cr,{className:"h-3 w-3"})})]},r.id))})}function $L({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:r,onTagRemove:a,onViewModeChange:o,children:s,className:i=""}){return l.jsxs("div",{className:`mb-8 space-y-4 ${i}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(OC,{categories:e,onSelect:r,className:"w-full"})}),o&&l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(oe,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>o("grid"),className:"h-8 px-3",children:l.jsx(Ec,{className:"h-4 w-4"})}),l.jsx(oe,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>o("list"),className:"h-8 px-3",children:l.jsx(_c,{className:"h-4 w-4"})})]})]}),l.jsx($C,{tags:t,onRemove:a,className:"justify-start"}),s&&l.jsx("div",{className:"pt-4",children:s})]})}function ct({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:K("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function ut({className:e,...t}){return l.jsx("div",{"data-slot":"card-header",className:K("flex flex-col space-y-3",e),...t})}function vt({className:e,...t}){return l.jsx("div",{"data-slot":"card-title",className:K("text-xl font-bold leading-none",e),...t})}function Va({className:e,...t}){return l.jsx("div",{"data-slot":"card-description",className:K("text-base text-muted-foreground",e),...t})}function ot({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:K("pt-0",e),...t})}var LL=p.createContext(void 0);function Ai(e){const t=p.useContext(LL);return e||t||"ltr"}function PL(e,[t,n]){return Math.min(n,Math.max(t,e))}function IL(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var xy="ScrollArea",[LC,pJ]=rn(xy),[BL,Hn]=LC(xy),PC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...s}=e,[i,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,y]=p.useState(null),[v,w]=p.useState(null),[g,x]=p.useState(0),[S,b]=p.useState(0),[E,j]=p.useState(!1),[N,C]=p.useState(!1),A=Me(t,T=>c(T)),_=Ai(a);return l.jsx(BL,{scope:n,type:r,dir:_,scrollHideDelay:o,scrollArea:i,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:j,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:b,children:l.jsx(de.div,{dir:_,...s,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});PC.displayName=xy;var IC="ScrollAreaViewport",BC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...o}=e,s=Hn(IC,n),i=p.useRef(null),c=Me(t,i,s.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(de.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});BC.displayName=IC;var Mr="ScrollAreaScrollbar",by=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Hn(Mr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=a,i=e.orientation==="horizontal";return p.useEffect(()=>(i?o(!0):s(!0),()=>{i?o(!1):s(!1)}),[i,o,s]),a.type==="hover"?l.jsx(HL,{...r,ref:t,forceMount:n}):a.type==="scroll"?l.jsx(UL,{...r,ref:t,forceMount:n}):a.type==="auto"?l.jsx(HC,{...r,ref:t,forceMount:n}):a.type==="always"?l.jsx(wy,{...r,ref:t}):null});by.displayName=Mr;var HL=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Hn(Mr,e.__scopeScrollArea),[o,s]=p.useState(!1);return p.useEffect(()=>{const i=a.scrollArea;let c=0;if(i){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),l.jsx(Bt,{present:n||o,children:l.jsx(HC,{"data-state":o?"visible":"hidden",...r,ref:t})})}),UL=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Hn(Mr,e.__scopeScrollArea),o=e.orientation==="horizontal",s=Bf(()=>c("SCROLL_END"),100),[i,c]=IL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),s()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,o,c,s]),l.jsx(Bt,{present:n||i!=="hidden",children:l.jsx(wy,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),HC=p.forwardRef((e,t)=>{const n=Hn(Mr,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,s]=p.useState(!1),i=e.orientation==="horizontal",c=Bf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(i?u:d)}},10);return ii(n.viewport,c),ii(n.content,c),l.jsx(Bt,{present:r||o,children:l.jsx(wy,{"data-state":o?"visible":"hidden",...a,ref:t})})}),wy=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Hn(Mr,e.__scopeScrollArea),o=p.useRef(null),s=p.useRef(0),[i,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ZC(i.viewport,i.content),d={...r,sizes:i,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return qL(h,s.current,i,m)}return n==="horizontal"?l.jsx(FL,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,m=Jb(h,i,a.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):n==="vertical"?l.jsx(VL,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,m=Jb(h,i);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),FL=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Hn(Mr,e.__scopeScrollArea),[s,i]=p.useState(),c=p.useRef(null),u=Me(t,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(FC,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":If(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),qC(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Bd(s.paddingLeft),paddingEnd:Bd(s.paddingRight)}})}})}),VL=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Hn(Mr,e.__scopeScrollArea),[s,i]=p.useState(),c=p.useRef(null),u=Me(t,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(FC,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":If(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),qC(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Bd(s.paddingTop),paddingEnd:Bd(s.paddingBottom)}})}})}),[GL,UC]=LC(Mr),FC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Hn(Mr,n),[y,v]=p.useState(null),w=Me(t,A=>v(A)),g=p.useRef(null),x=p.useRef(""),S=m.viewport,b=r.content-r.viewport,E=$t(d),j=$t(c),N=Bf(f,10);function C(A){if(g.current){const _=A.clientX-g.current.left,T=A.clientY-g.current.top;u({x:_,y:T})}}return p.useEffect(()=>{const A=_=>{const T=_.target;(y==null?void 0:y.contains(T))&&E(_,b)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[S,y,b,E]),p.useEffect(j,[r,j]),ii(y,N),ii(m.content,N),l.jsx(GL,{scope:n,scrollbar:y,hasThumb:a,onThumbChange:$t(o),onThumbPointerUp:$t(s),onThumbPositionChange:j,onThumbPointerDown:$t(i),children:l.jsx(de.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:ee(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),g.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:ee(e.onPointerMove,C),onPointerUp:ee(e.onPointerUp,A=>{const _=A.target;_.hasPointerCapture(A.pointerId)&&_.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),Id="ScrollAreaThumb",VC=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=UC(Id,e.__scopeScrollArea);return l.jsx(Bt,{present:n||a.hasThumb,children:l.jsx(ZL,{ref:t,...r})})}),ZL=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=Hn(Id,n),s=UC(Id,n),{onThumbPositionChange:i}=s,c=Me(t,f=>s.onThumbChange(f)),u=p.useRef(void 0),d=Bf(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const m=XL(f,i);u.current=m,i()}};return i(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,i]),l.jsx(de.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ee(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,v=f.clientY-m.top;s.onThumbPointerDown({x:y,y:v})}),onPointerUp:ee(e.onPointerUp,s.onThumbPointerUp)})});VC.displayName=Id;var Sy="ScrollAreaCorner",GC=p.forwardRef((e,t)=>{const n=Hn(Sy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(YL,{...e,ref:t}):null});GC.displayName=Sy;var YL=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Hn(Sy,n),[o,s]=p.useState(0),[i,c]=p.useState(0),u=!!(o&&i);return ii(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),ii(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?l.jsx(de.div,{...r,ref:t,style:{width:o,height:i,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bd(e){return e?parseInt(e,10):0}function ZC(e,t){const n=e/t;return isNaN(n)?0:n}function If(e){const t=ZC(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function qL(e,t,n,r="ltr"){const a=If(n),o=a/2,s=t||o,i=a-s,c=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-i,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return YC([c,u],f)(e)}function Jb(e,t,n="ltr"){const r=If(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,s=t.content-t.viewport,i=o-r,c=n==="ltr"?[0,s]:[s*-1,0],u=PL(e,c);return YC([0,s],[0,i])(u)}function YC(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function qC(e,t){return e>0&&e<t}var XL=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,i=n.top!==o.top;(s||i)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Bf(e,t){const n=$t(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ii(e,t){const n=$t(t);jr(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var XC=PC,KL=BC,WL=GC;const Ny=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(XC,{ref:r,className:K("relative overflow-hidden",e),...n,children:[l.jsx(KL,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(KC,{}),l.jsx(WL,{})]}));Ny.displayName=XC.displayName;const KC=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(by,{ref:r,orientation:t,className:K("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(VC,{className:"relative flex-1 rounded-full bg-border"})}));KC.displayName=by.displayName;function QL(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function WC(e){const[t,n]=p.useState(void 0);return jr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let s,i;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,i=u.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Hf="Switch",[JL,gJ]=rn(Hf),[eP,tP]=JL(Hf),QC=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:s,disabled:i,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),y=Me(t,S=>m(S)),v=p.useRef(!1),w=h?d||!!h.closest("form"):!0,[g,x]=En({prop:a,defaultProp:o??!1,onChange:u,caller:Hf});return l.jsxs(eP,{scope:n,checked:g,disabled:i,children:[l.jsx(de.button,{type:"button",role:"switch","aria-checked":g,"aria-required":s,"data-state":n2(g),"data-disabled":i?"":void 0,disabled:i,value:c,...f,ref:y,onClick:ee(e.onClick,S=>{x(b=>!b),w&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),w&&l.jsx(t2,{control:h,bubbles:!v.current,name:r,value:c,checked:g,required:s,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});QC.displayName=Hf;var JC="SwitchThumb",e2=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=tP(JC,n);return l.jsx(de.span,{"data-state":n2(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});e2.displayName=JC;var nP="SwitchBubbleInput",t2=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},o)=>{const s=p.useRef(null),i=Me(s,o),c=QL(n),u=WC(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});t2.displayName=nP;function n2(e){return e?"checked":"unchecked"}var r2=QC,rP=e2;const hr=p.forwardRef(({className:e,...t},n)=>l.jsx(r2,{className:K("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:l.jsx(rP,{className:K("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hr.displayName=r2.displayName;function Ey({itemId:e,itemType:t,itemName:n,isInBuild:r=!1,className:a,onCheckedChange:o}){const{setRace:s,setStone:i,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:f,addMajorSkill:h,removeMajorSkill:m,removeMinorSkill:y,addEquipment:v,removeEquipment:w,build:g}=ya(),S=r||(()=>{switch(t){case"race":return g.race===e;case"stone":return g.stone===e;case"religion":return g.religion===e;case"trait":return g.traits.regular.includes(e)||g.traits.bonus.includes(e);case"skill":return g.skills.major.includes(e)||g.skills.minor.includes(e);case"equipment":return g.equipment.includes(e);default:return!1}})(),b=j=>{if(o){o(j);return}switch(t){case"race":s(j?e:null);break;case"stone":i(j?e:null);break;case"religion":c(j?e:null);break;case"trait":j?g.traits.regular.length<2?u(e):g.traits.bonus.length<1&&d(e):f(e);break;case"skill":j?h(e):(m(e),y(e));break;case"equipment":j?v(e):w(e);break}},E=()=>S?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return l.jsx("div",{className:K("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",S?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",a),onClick:j=>{j.stopPropagation(),b(!S)},title:E(),children:l.jsx(hr,{checked:S,onCheckedChange:b,className:K("transition-all duration-200",S?"data-[state=checked]:bg-[#d4af37]":"")})})}function _y(e){const t=e+"CollectionProvider",[n,r]=rn(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:w,children:g}=v,x=$.useRef(null),S=$.useRef(new Map).current;return l.jsx(a,{scope:w,itemMap:S,collectionRef:x,children:g})};s.displayName=t;const i=e+"CollectionSlot",c=si(i),u=$.forwardRef((v,w)=>{const{scope:g,children:x}=v,S=o(i,g),b=Me(w,S.collectionRef);return l.jsx(c,{ref:b,children:x})});u.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=si(d),m=$.forwardRef((v,w)=>{const{scope:g,children:x,...S}=v,b=$.useRef(null),E=Me(w,b),j=o(d,g);return $.useEffect(()=>(j.itemMap.set(b,{ref:b,...S}),()=>void j.itemMap.delete(b))),l.jsx(h,{[f]:"",ref:E,children:x})});m.displayName=d;function y(v){const w=o(e+"CollectionConsumer",v);return $.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const S=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((j,N)=>S.indexOf(j.ref.current)-S.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},y,r]}const aP=["top","right","bottom","left"],ro=Math.min,mn=Math.max,Hd=Math.round,uu=Math.floor,Sr=e=>({x:e,y:e}),oP={left:"right",right:"left",bottom:"top",top:"bottom"},sP={start:"end",end:"start"};function ig(e,t,n){return mn(e,ro(t,n))}function ca(e,t){return typeof e=="function"?e(t):e}function ua(e){return e.split("-")[0]}function Ri(e){return e.split("-")[1]}function Cy(e){return e==="x"?"y":"x"}function jy(e){return e==="y"?"height":"width"}const iP=new Set(["top","bottom"]);function pr(e){return iP.has(ua(e))?"y":"x"}function ky(e){return Cy(pr(e))}function lP(e,t,n){n===void 0&&(n=!1);const r=Ri(e),a=ky(e),o=jy(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Ud(s)),[s,Ud(s)]}function cP(e){const t=Ud(e);return[lg(e),t,lg(t)]}function lg(e){return e.replace(/start|end/g,t=>sP[t])}const ew=["left","right"],tw=["right","left"],uP=["top","bottom"],dP=["bottom","top"];function fP(e,t,n){switch(e){case"top":case"bottom":return n?t?tw:ew:t?ew:tw;case"left":case"right":return t?uP:dP;default:return[]}}function hP(e,t,n,r){const a=Ri(e);let o=fP(ua(e),n==="start",r);return a&&(o=o.map(s=>s+"-"+a),t&&(o=o.concat(o.map(lg)))),o}function Ud(e){return e.replace(/left|right|bottom|top/g,t=>oP[t])}function mP(e){return{top:0,right:0,bottom:0,left:0,...e}}function a2(e){return typeof e!="number"?mP(e):{top:e,right:e,bottom:e,left:e}}function Fd(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function nw(e,t,n){let{reference:r,floating:a}=e;const o=pr(t),s=ky(t),i=jy(s),c=ua(t),u=o==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[i]/2-a[i]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-a.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Ri(t)){case"start":m[s]-=h*(n&&u?-1:1);break;case"end":m[s]+=h*(n&&u?-1:1);break}return m}const pP=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,i=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=nw(u,r,c),h=r,m={},y=0;for(let v=0;v<i.length;v++){const{name:w,fn:g}=i[v],{x,y:S,data:b,reset:E}=await g({x:d,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});d=x??d,f=S??f,m={...m,[w]:{...m[w],...b}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:d,y:f}=nw(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Vl(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:s,elements:i,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ca(t,e),y=a2(m),w=i[h?f==="floating"?"reference":"floating":f],g=Fd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),b=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Fd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:x,offsetParent:S,strategy:c}):x);return{top:(g.top-E.top+y.top)/b.y,bottom:(E.bottom-g.bottom+y.bottom)/b.y,left:(g.left-E.left+y.left)/b.x,right:(E.right-g.right+y.right)/b.x}}const gP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:s,elements:i,middlewareData:c}=t,{element:u,padding:d=0}=ca(e,t)||{};if(u==null)return{};const f=a2(d),h={x:n,y:r},m=ky(a),y=jy(m),v=await s.getDimensions(u),w=m==="y",g=w?"top":"left",x=w?"bottom":"right",S=w?"clientHeight":"clientWidth",b=o.reference[y]+o.reference[m]-h[m]-o.floating[y],E=h[m]-o.reference[m],j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=j?j[S]:0;(!N||!await(s.isElement==null?void 0:s.isElement(j)))&&(N=i.floating[S]||o.floating[y]);const C=b/2-E/2,A=N/2-v[y]/2-1,_=ro(f[g],A),T=ro(f[x],A),I=_,L=N-v[y]-T,k=N/2-v[y]/2+C,O=ig(I,k,L),D=!c.arrow&&Ri(a)!=null&&k!==O&&o.reference[y]/2-(k<I?_:T)-v[y]/2<0,P=D?k<I?k-I:k-L:0;return{[m]:h[m]+P,data:{[m]:O,centerOffset:k-O-P,...D&&{alignmentOffset:P}},reset:D}}}),yP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:s,initialPlacement:i,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=ca(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=ua(a),x=pr(i),S=ua(i)===i,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(S||!v?[Ud(i)]:cP(i)),j=y!=="none";!h&&j&&E.push(...hP(i,v,y,b));const N=[i,...E],C=await Vl(t,w),A=[];let _=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&A.push(C[g]),f){const k=lP(a,s,b);A.push(C[k[0]],C[k[1]])}if(_=[..._,{placement:a,overflows:A}],!A.every(k=>k<=0)){var T,I;const k=(((T=o.flip)==null?void 0:T.index)||0)+1,O=N[k];if(O&&(!(f==="alignment"?x!==pr(O):!1)||_.every(M=>M.overflows[0]>0&&pr(M.placement)===x)))return{data:{index:k,overflows:_},reset:{placement:O}};let D=(I=_.filter(P=>P.overflows[0]<=0).sort((P,M)=>P.overflows[1]-M.overflows[1])[0])==null?void 0:I.placement;if(!D)switch(m){case"bestFit":{var L;const P=(L=_.filter(M=>{if(j){const R=pr(M.placement);return R===x||R==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(R=>R>0).reduce((R,z)=>R+z,0)]).sort((M,R)=>M[1]-R[1])[0])==null?void 0:L[0];P&&(D=P);break}case"initialPlacement":D=i;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function rw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aw(e){return aP.some(t=>e[t]>=0)}const vP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=ca(e,t);switch(r){case"referenceHidden":{const o=await Vl(t,{...a,elementContext:"reference"}),s=rw(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:aw(s)}}}case"escaped":{const o=await Vl(t,{...a,altBoundary:!0}),s=rw(o,n.floating);return{data:{escapedOffsets:s,escaped:aw(s)}}}default:return{}}}}},o2=new Set(["left","top"]);async function xP(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=ua(n),i=Ri(n),c=pr(n)==="y",u=o2.has(s)?-1:1,d=o&&c?-1:1,f=ca(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof y=="number"&&(m=i==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const bP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:s,middlewareData:i}=t,c=await xP(t,e);return s===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:s}}}}},wP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:i={fn:w=>{let{x:g,y:x}=w;return{x:g,y:x}}},...c}=ca(e,t),u={x:n,y:r},d=await Vl(t,c),f=pr(ua(a)),h=Cy(f);let m=u[h],y=u[f];if(o){const w=h==="y"?"top":"left",g=h==="y"?"bottom":"right",x=m+d[w],S=m-d[g];m=ig(x,m,S)}if(s){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",x=y+d[w],S=y-d[g];y=ig(x,y,S)}const v=i.fn({...t,[h]:m,[f]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:s}}}}}},SP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:s}=t,{offset:i=0,mainAxis:c=!0,crossAxis:u=!0}=ca(e,t),d={x:n,y:r},f=pr(a),h=Cy(f);let m=d[h],y=d[f];const v=ca(i,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const S=h==="y"?"height":"width",b=o.reference[h]-o.floating[S]+w.mainAxis,E=o.reference[h]+o.reference[S]-w.mainAxis;m<b?m=b:m>E&&(m=E)}if(u){var g,x;const S=h==="y"?"width":"height",b=o2.has(ua(a)),E=o.reference[f]-o.floating[S]+(b&&((g=s.offset)==null?void 0:g[f])||0)+(b?0:w.crossAxis),j=o.reference[f]+o.reference[S]+(b?0:((x=s.offset)==null?void 0:x[f])||0)-(b?w.crossAxis:0);y<E?y=E:y>j&&(y=j)}return{[h]:m,[f]:y}}}},NP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:s,elements:i}=t,{apply:c=()=>{},...u}=ca(e,t),d=await Vl(t,u),f=ua(a),h=Ri(a),m=pr(a)==="y",{width:y,height:v}=o.floating;let w,g;f==="top"||f==="bottom"?(w=f,g=h===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(g=f,w=h==="end"?"top":"bottom");const x=v-d.top-d.bottom,S=y-d.left-d.right,b=ro(v-d[w],x),E=ro(y-d[g],S),j=!t.middlewareData.shift;let N=b,C=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=x),j&&!h){const _=mn(d.left,0),T=mn(d.right,0),I=mn(d.top,0),L=mn(d.bottom,0);m?C=y-2*(_!==0||T!==0?_+T:mn(d.left,d.right)):N=v-2*(I!==0||L!==0?I+L:mn(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const A=await s.getDimensions(i.floating);return y!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function Uf(){return typeof window<"u"}function Ti(e){return s2(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dr(e){var t;return(t=(s2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function s2(e){return Uf()?e instanceof Node||e instanceof wn(e).Node:!1}function Jn(e){return Uf()?e instanceof Element||e instanceof wn(e).Element:!1}function kr(e){return Uf()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function ow(e){return!Uf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}const EP=new Set(["inline","contents"]);function Rc(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=er(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!EP.has(a)}const _P=new Set(["table","td","th"]);function CP(e){return _P.has(Ti(e))}const jP=[":popover-open",":modal"];function Ff(e){return jP.some(t=>{try{return e.matches(t)}catch{return!1}})}const kP=["transform","translate","scale","rotate","perspective"],AP=["transform","translate","scale","rotate","perspective","filter"],RP=["paint","layout","strict","content"];function Ay(e){const t=Ry(),n=Jn(e)?er(e):e;return kP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||AP.some(r=>(n.willChange||"").includes(r))||RP.some(r=>(n.contain||"").includes(r))}function TP(e){let t=ao(e);for(;kr(t)&&!li(t);){if(Ay(t))return t;if(Ff(t))return null;t=ao(t)}return null}function Ry(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MP=new Set(["html","body","#document"]);function li(e){return MP.has(Ti(e))}function er(e){return wn(e).getComputedStyle(e)}function Vf(e){return Jn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ao(e){if(Ti(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ow(e)&&e.host||Dr(e);return ow(t)?t.host:t}function i2(e){const t=ao(e);return li(t)?e.ownerDocument?e.ownerDocument.body:e.body:kr(t)&&Rc(t)?t:i2(t)}function Gl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=i2(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),s=wn(a);if(o){const i=cg(s);return t.concat(s,s.visualViewport||[],Rc(a)?a:[],i&&n?Gl(i):[])}return t.concat(a,Gl(a,[],n))}function cg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function l2(e){const t=er(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=kr(e),o=a?e.offsetWidth:n,s=a?e.offsetHeight:r,i=Hd(n)!==o||Hd(r)!==s;return i&&(n=o,r=s),{width:n,height:r,$:i}}function Ty(e){return Jn(e)?e:e.contextElement}function Fs(e){const t=Ty(e);if(!kr(t))return Sr(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=l2(t);let s=(o?Hd(n.width):n.width)/r,i=(o?Hd(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const DP=Sr(0);function c2(e){const t=wn(e);return!Ry()||!t.visualViewport?DP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wn(e)?!1:t}function Io(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=Ty(e);let s=Sr(1);t&&(r?Jn(r)&&(s=Fs(r)):s=Fs(e));const i=zP(o,n,r)?c2(o):Sr(0);let c=(a.left+i.x)/s.x,u=(a.top+i.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(o){const h=wn(o),m=r&&Jn(r)?wn(r):r;let y=h,v=cg(y);for(;v&&r&&m!==y;){const w=Fs(v),g=v.getBoundingClientRect(),x=er(v),S=g.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,b=g.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=S,u+=b,y=wn(v),v=cg(y)}}return Fd({width:d,height:f,x:c,y:u})}function My(e,t){const n=Vf(e).scrollLeft;return t?t.left+n:Io(Dr(e)).left+n}function u2(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:My(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function OP(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",s=Dr(r),i=t?Ff(t.floating):!1;if(r===s||i&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Sr(1);const d=Sr(0),f=kr(r);if((f||!f&&!o)&&((Ti(r)!=="body"||Rc(s))&&(c=Vf(r)),kr(r))){const m=Io(r);u=Fs(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?u2(s,c,!0):Sr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function $P(e){return Array.from(e.getClientRects())}function LP(e){const t=Dr(e),n=Vf(e),r=e.ownerDocument.body,a=mn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=mn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+My(e);const i=-n.scrollTop;return er(r).direction==="rtl"&&(s+=mn(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:s,y:i}}function PP(e,t){const n=wn(e),r=Dr(e),a=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,i=0,c=0;if(a){o=a.width,s=a.height;const u=Ry();(!u||u&&t==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:o,height:s,x:i,y:c}}const IP=new Set(["absolute","fixed"]);function BP(e,t){const n=Io(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=kr(e)?Fs(e):Sr(1),s=e.clientWidth*o.x,i=e.clientHeight*o.y,c=a*o.x,u=r*o.y;return{width:s,height:i,x:c,y:u}}function sw(e,t,n){let r;if(t==="viewport")r=PP(e,n);else if(t==="document")r=LP(Dr(e));else if(Jn(t))r=BP(t,n);else{const a=c2(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Fd(r)}function d2(e,t){const n=ao(e);return n===t||!Jn(n)||li(n)?!1:er(n).position==="fixed"||d2(n,t)}function HP(e,t){const n=t.get(e);if(n)return n;let r=Gl(e,[],!1).filter(i=>Jn(i)&&Ti(i)!=="body"),a=null;const o=er(e).position==="fixed";let s=o?ao(e):e;for(;Jn(s)&&!li(s);){const i=er(s),c=Ay(s);!c&&i.position==="fixed"&&(a=null),(o?!c&&!a:!c&&i.position==="static"&&!!a&&IP.has(a.position)||Rc(s)&&!c&&d2(e,s))?r=r.filter(d=>d!==s):a=i,s=ao(s)}return t.set(e,r),r}function UP(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?Ff(t)?[]:HP(t,this._c):[].concat(n),r],i=s[0],c=s.reduce((u,d)=>{const f=sw(t,d,a);return u.top=mn(f.top,u.top),u.right=ro(f.right,u.right),u.bottom=ro(f.bottom,u.bottom),u.left=mn(f.left,u.left),u},sw(t,i,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function FP(e){const{width:t,height:n}=l2(e);return{width:t,height:n}}function VP(e,t,n){const r=kr(t),a=Dr(t),o=n==="fixed",s=Io(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const c=Sr(0);function u(){c.x=My(a)}if(r||!r&&!o)if((Ti(t)!=="body"||Rc(a))&&(i=Vf(t)),r){const m=Io(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();o&&!r&&a&&u();const d=a&&!r&&!o?u2(a,i):Sr(0),f=s.left+i.scrollLeft-c.x-d.x,h=s.top+i.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function wm(e){return er(e).position==="static"}function iw(e,t){if(!kr(e)||er(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Dr(e)===n&&(n=n.ownerDocument.body),n}function f2(e,t){const n=wn(e);if(Ff(e))return n;if(!kr(e)){let a=ao(e);for(;a&&!li(a);){if(Jn(a)&&!wm(a))return a;a=ao(a)}return n}let r=iw(e,t);for(;r&&CP(r)&&wm(r);)r=iw(r,t);return r&&li(r)&&wm(r)&&!Ay(r)?n:r||TP(e)||n}const GP=async function(e){const t=this.getOffsetParent||f2,n=this.getDimensions,r=await n(e.floating);return{reference:VP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZP(e){return er(e).direction==="rtl"}const YP={convertOffsetParentRelativeRectToViewportRelativeRect:OP,getDocumentElement:Dr,getClippingRect:UP,getOffsetParent:f2,getElementRects:GP,getClientRects:$P,getDimensions:FP,getScale:Fs,isElement:Jn,isRTL:ZP};function h2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qP(e,t){let n=null,r;const a=Dr(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function s(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(i||t(),!h||!m)return;const y=uu(f),v=uu(a.clientWidth-(d+h)),w=uu(a.clientHeight-(f+m)),g=uu(d),S={rootMargin:-y+"px "+-v+"px "+-w+"px "+-g+"px",threshold:mn(0,ro(1,c))||1};let b=!0;function E(j){const N=j[0].intersectionRatio;if(N!==c){if(!b)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!h2(u,e.getBoundingClientRect())&&s(),b=!1}try{n=new IntersectionObserver(E,{...S,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return s(!0),o}function XP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ty(e),d=a||o?[...u?Gl(u):[],...Gl(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const f=u&&i?qP(u,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let y,v=c?Io(e):null;c&&w();function w(){const g=Io(e);v&&!h2(v,g)&&n(),v=g,y=requestAnimationFrame(w)}return n(),()=>{var g;d.forEach(x=>{a&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const KP=bP,WP=wP,QP=yP,JP=NP,e6=vP,lw=gP,t6=SP,n6=(e,t,n)=>{const r=new Map,a={platform:YP,...n},o={...a.platform,_c:r};return pP(e,t,{...a,platform:o})};var r6=typeof document<"u",a6=function(){},Wu=r6?p.useLayoutEffect:a6;function Vd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vd(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Vd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function m2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cw(e,t){const n=m2(e);return Math.round(t*n)/n}function Sm(e){const t=p.useRef(e);return Wu(()=>{t.current=e}),t}function o6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:s}={},transform:i=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Vd(h,r)||m(r);const[y,v]=p.useState(null),[w,g]=p.useState(null),x=p.useCallback(M=>{M!==j.current&&(j.current=M,v(M))},[]),S=p.useCallback(M=>{M!==N.current&&(N.current=M,g(M))},[]),b=o||y,E=s||w,j=p.useRef(null),N=p.useRef(null),C=p.useRef(d),A=c!=null,_=Sm(c),T=Sm(a),I=Sm(u),L=p.useCallback(()=>{if(!j.current||!N.current)return;const M={placement:t,strategy:n,middleware:h};T.current&&(M.platform=T.current),n6(j.current,N.current,M).then(R=>{const z={...R,isPositioned:I.current!==!1};k.current&&!Vd(C.current,z)&&(C.current=z,ic.flushSync(()=>{f(z)}))})},[h,t,n,T,I]);Wu(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const k=p.useRef(!1);Wu(()=>(k.current=!0,()=>{k.current=!1}),[]),Wu(()=>{if(b&&(j.current=b),E&&(N.current=E),b&&E){if(_.current)return _.current(b,E,L);L()}},[b,E,L,_,A]);const O=p.useMemo(()=>({reference:j,floating:N,setReference:x,setFloating:S}),[x,S]),D=p.useMemo(()=>({reference:b,floating:E}),[b,E]),P=p.useMemo(()=>{const M={position:n,left:0,top:0};if(!D.floating)return M;const R=cw(D.floating,d.x),z=cw(D.floating,d.y);return i?{...M,transform:"translate("+R+"px, "+z+"px)",...m2(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:z}},[n,i,D.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:L,refs:O,elements:D,floatingStyles:P}),[d,L,O,D,P])}const s6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?lw({element:r.current,padding:a}).fn(n):{}:r?lw({element:r,padding:a}).fn(n):{}}}},i6=(e,t)=>({...KP(e),options:[e,t]}),l6=(e,t)=>({...WP(e),options:[e,t]}),c6=(e,t)=>({...t6(e),options:[e,t]}),u6=(e,t)=>({...QP(e),options:[e,t]}),d6=(e,t)=>({...JP(e),options:[e,t]}),f6=(e,t)=>({...e6(e),options:[e,t]}),h6=(e,t)=>({...s6(e),options:[e,t]});var m6="Arrow",p2=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return l.jsx(de.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});p2.displayName=m6;var p6=p2,Dy="Popper",[g2,Mi]=rn(Dy),[g6,y2]=g2(Dy),v2=e=>{const{__scopePopper:t,children:n}=e,[r,a]=p.useState(null);return l.jsx(g6,{scope:t,anchor:r,onAnchorChange:a,children:n})};v2.displayName=Dy;var x2="PopperAnchor",b2=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=y2(x2,n),s=p.useRef(null),i=Me(t,s);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:l.jsx(de.div,{...a,ref:i})});b2.displayName=x2;var zy="PopperContent",[y6,v6]=g2(zy),w2=p.forwardRef((e,t)=>{var V,X,W,re,we,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...v}=e,w=y2(zy,n),[g,x]=p.useState(null),S=Me(t,ue=>x(ue)),[b,E]=p.useState(null),j=WC(b),N=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,A=r+(o!=="center"?"-"+o:""),_=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],I=T.length>0,L={padding:_,boundary:T.filter(b6),altBoundary:I},{refs:k,floatingStyles:O,placement:D,isPositioned:P,middlewareData:M}=o6({strategy:"fixed",placement:A,whileElementsMounted:(...ue)=>XP(...ue,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[i6({mainAxis:a+C,alignmentAxis:s}),c&&l6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?c6():void 0,...L}),c&&u6({...L}),d6({...L,apply:({elements:ue,rects:J,availableWidth:Re,availableHeight:st})=>{const{width:Ne,height:Q}=J.reference,Ze=ue.floating.style;Ze.setProperty("--radix-popper-available-width",`${Re}px`),Ze.setProperty("--radix-popper-available-height",`${st}px`),Ze.setProperty("--radix-popper-anchor-width",`${Ne}px`),Ze.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),b&&h6({element:b,padding:i}),w6({arrowWidth:N,arrowHeight:C}),h&&f6({strategy:"referenceHidden",...L})]}),[R,z]=E2(D),B=$t(y);jr(()=>{P&&(B==null||B())},[P,B]);const U=(V=M.arrow)==null?void 0:V.x,H=(X=M.arrow)==null?void 0:X.y,F=((W=M.arrow)==null?void 0:W.centerOffset)!==0,[G,q]=p.useState();return jr(()=>{g&&q(window.getComputedStyle(g).zIndex)},[g]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:P?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(re=M.transformOrigin)==null?void 0:re.x,(we=M.transformOrigin)==null?void 0:we.y].join(" "),...((Ce=M.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(y6,{scope:n,placedSide:R,onArrowChange:E,arrowX:U,arrowY:H,shouldHideArrow:F,children:l.jsx(de.div,{"data-side":R,"data-align":z,...v,ref:S,style:{...v.style,animation:P?void 0:"none"}})})})});w2.displayName=zy;var S2="PopperArrow",x6={top:"bottom",right:"left",bottom:"top",left:"right"},N2=p.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=v6(S2,r),s=x6[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(p6,{...a,ref:n,style:{...a.style,display:"block"}})})});N2.displayName=S2;function b6(e){return e!==null}var w6=e=>({name:"transformOrigin",options:e,fn(t){var w,g,x;const{placement:n,rects:r,middlewareData:a}=t,s=((w=a.arrow)==null?void 0:w.centerOffset)!==0,i=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=E2(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=a.arrow)==null?void 0:g.x)??0)+i/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",v="";return u==="bottom"?(y=s?f:`${h}px`,v=`${-c}px`):u==="top"?(y=s?f:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,v=s?f:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,v=s?f:`${m}px`),{data:{x:y,y:v}}}});function E2(e){const[t,n="center"]=e.split("-");return[t,n]}var Oy=v2,$y=b2,Ly=w2,Py=N2,Nm="rovingFocusGroup.onEntryFocus",S6={bubbles:!1,cancelable:!0},Tc="RovingFocusGroup",[ug,_2,N6]=_y(Tc),[E6,Di]=rn(Tc,[N6]),[_6,C6]=E6(Tc),C2=p.forwardRef((e,t)=>l.jsx(ug.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(ug.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(j6,{...e,ref:t})})}));C2.displayName=Tc;var j6=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Me(t,h),y=Ai(o),[v,w]=En({prop:s,defaultProp:i??null,onChange:c,caller:Tc}),[g,x]=p.useState(!1),S=$t(u),b=_2(n),E=p.useRef(!1),[j,N]=p.useState(0);return p.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Nm,S),()=>C.removeEventListener(Nm,S)},[S]),l.jsx(_6,{scope:n,orientation:r,dir:y,loop:a,currentTabStopId:v,onItemFocus:p.useCallback(C=>w(C),[w]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>N(C=>C-1),[]),children:l.jsx(de.div,{tabIndex:g||j===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{E.current=!0}),onFocus:ee(e.onFocus,C=>{const A=!E.current;if(C.target===C.currentTarget&&A&&!g){const _=new CustomEvent(Nm,S6);if(C.currentTarget.dispatchEvent(_),!_.defaultPrevented){const T=b().filter(D=>D.focusable),I=T.find(D=>D.active),L=T.find(D=>D.id===v),O=[I,L,...T].filter(Boolean).map(D=>D.ref.current);A2(O,d)}}E.current=!1}),onBlur:ee(e.onBlur,()=>x(!1))})})}),j2="RovingFocusGroupItem",k2=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,children:s,...i}=e,c=br(),u=o||c,d=C6(j2,n),f=d.currentTabStopId===u,h=_2(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),l.jsx(ug.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:l.jsx(de.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:ee(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ee(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const g=R6(w,d.orientation,d.dir);if(g!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=h().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const b=S.indexOf(w.currentTarget);S=d.loop?T6(S,b+1):S.slice(b+1)}setTimeout(()=>A2(S))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:v!=null}):s})})});k2.displayName=j2;var k6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function R6(e,t,n){const r=A6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return k6[r]}function A2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function T6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Iy=C2,By=k2,dg=["Enter"," "],M6=["ArrowDown","PageUp","Home"],R2=["ArrowUp","PageDown","End"],D6=[...M6,...R2],z6={ltr:[...dg,"ArrowRight"],rtl:[...dg,"ArrowLeft"]},O6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mc="Menu",[Zl,$6,L6]=_y(Mc),[Qo,T2]=rn(Mc,[L6,Mi,Di]),Gf=Mi(),M2=Di(),[P6,Jo]=Qo(Mc),[I6,Dc]=Qo(Mc),D2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:s=!0}=e,i=Gf(t),[c,u]=p.useState(null),d=p.useRef(!1),f=$t(o),h=Ai(a);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(Oy,{...i,children:l.jsx(P6,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(I6,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:r})})})};D2.displayName=Mc;var B6="MenuAnchor",Hy=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Gf(n);return l.jsx($y,{...a,...r,ref:t})});Hy.displayName=B6;var Uy="MenuPortal",[H6,z2]=Qo(Uy,{forceMount:void 0}),O2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=Jo(Uy,t);return l.jsx(H6,{scope:t,forceMount:n,children:l.jsx(Bt,{present:n||o.open,children:l.jsx(uy,{asChild:!0,container:a,children:r})})})};O2.displayName=Uy;var Ln="MenuContent",[U6,Fy]=Qo(Ln),$2=p.forwardRef((e,t)=>{const n=z2(Ln,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Jo(Ln,e.__scopeMenu),s=Dc(Ln,e.__scopeMenu);return l.jsx(Zl.Provider,{scope:e.__scopeMenu,children:l.jsx(Bt,{present:r||o.open,children:l.jsx(Zl.Slot,{scope:e.__scopeMenu,children:s.modal?l.jsx(F6,{...a,ref:t}):l.jsx(V6,{...a,ref:t})})})})}),F6=p.forwardRef((e,t)=>{const n=Jo(Ln,e.__scopeMenu),r=p.useRef(null),a=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return J_(o)},[]),l.jsx(Vy,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),V6=p.forwardRef((e,t)=>{const n=Jo(Ln,e.__scopeMenu);return l.jsx(Vy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),G6=si("MenuContent.ScrollLock"),Vy=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...v}=e,w=Jo(Ln,n),g=Dc(Ln,n),x=Gf(n),S=M2(n),b=$6(n),[E,j]=p.useState(null),N=p.useRef(null),C=Me(t,N,w.onContentChange),A=p.useRef(0),_=p.useRef(""),T=p.useRef(0),I=p.useRef(null),L=p.useRef("right"),k=p.useRef(0),O=y?dy:p.Fragment,D=y?{as:G6,allowPinchZoom:!0}:void 0,P=R=>{var V,X;const z=_.current+R,B=b().filter(W=>!W.disabled),U=document.activeElement,H=(V=B.find(W=>W.ref.current===U))==null?void 0:V.textValue,F=B.map(W=>W.textValue),G=r8(F,z,H),q=(X=B.find(W=>W.textValue===G))==null?void 0:X.ref.current;(function W(re){_.current=re,window.clearTimeout(A.current),re!==""&&(A.current=window.setTimeout(()=>W(""),1e3))})(z),q&&setTimeout(()=>q.focus())};p.useEffect(()=>()=>window.clearTimeout(A.current),[]),V_();const M=p.useCallback(R=>{var B,U;return L.current===((B=I.current)==null?void 0:B.side)&&o8(R,(U=I.current)==null?void 0:U.area)},[]);return l.jsx(U6,{scope:n,searchRef:_,onItemEnter:p.useCallback(R=>{M(R)&&R.preventDefault()},[M]),onItemLeave:p.useCallback(R=>{var z;M(R)||((z=N.current)==null||z.focus(),j(null))},[M]),onTriggerLeave:p.useCallback(R=>{M(R)&&R.preventDefault()},[M]),pointerGraceTimerRef:T,onPointerGraceIntentChange:p.useCallback(R=>{I.current=R},[]),children:l.jsx(O,{...D,children:l.jsx(cy,{asChild:!0,trapped:a,onMountAutoFocus:ee(o,R=>{var z;R.preventDefault(),(z=N.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l.jsx(Iy,{asChild:!0,...S,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:j,onEntryFocus:ee(c,R=>{g.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Ly,{role:"menu","aria-orientation":"vertical","data-state":Q2(w.open),"data-radix-menu-content":"",dir:g.dir,...x,...v,ref:C,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,R=>{const B=R.target.closest("[data-radix-menu-content]")===R.currentTarget,U=R.ctrlKey||R.altKey||R.metaKey,H=R.key.length===1;B&&(R.key==="Tab"&&R.preventDefault(),!U&&H&&P(R.key));const F=N.current;if(R.target!==F||!D6.includes(R.key))return;R.preventDefault();const q=b().filter(V=>!V.disabled).map(V=>V.ref.current);R2.includes(R.key)&&q.reverse(),t8(q)}),onBlur:ee(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(A.current),_.current="")}),onPointerMove:ee(e.onPointerMove,Yl(R=>{const z=R.target,B=k.current!==R.clientX;if(R.currentTarget.contains(z)&&B){const U=R.clientX>k.current?"right":"left";L.current=U,k.current=R.clientX}}))})})})})})})});$2.displayName=Ln;var Z6="MenuGroup",Gy=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(de.div,{role:"group",...r,ref:t})});Gy.displayName=Z6;var Y6="MenuLabel",L2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(de.div,{...r,ref:t})});L2.displayName=Y6;var Gd="MenuItem",uw="menu.itemSelect",Zf=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,o=p.useRef(null),s=Dc(Gd,e.__scopeMenu),i=Fy(Gd,e.__scopeMenu),c=Me(t,o),u=p.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const h=new CustomEvent(uw,{bubbles:!0,cancelable:!0});f.addEventListener(uw,m=>r==null?void 0:r(m),{once:!0}),B_(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return l.jsx(P2,{...a,ref:c,disabled:n,onClick:ee(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ee(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ee(e.onKeyDown,f=>{const h=i.searchRef.current!=="";n||h&&f.key===" "||dg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Zf.displayName=Gd;var P2=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=e,s=Fy(Gd,n),i=M2(n),c=p.useRef(null),u=Me(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[o.children]),l.jsx(Zl.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:l.jsx(By,{asChild:!0,...i,focusable:!r,children:l.jsx(de.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:ee(e.onPointerMove,Yl(y=>{r?s.onItemLeave(y):(s.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,Yl(y=>s.onItemLeave(y))),onFocus:ee(e.onFocus,()=>f(!0)),onBlur:ee(e.onBlur,()=>f(!1))})})})}),q6="MenuCheckboxItem",I2=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return l.jsx(V2,{scope:e.__scopeMenu,checked:n,children:l.jsx(Zf,{role:"menuitemcheckbox","aria-checked":Zd(n)?"mixed":n,...a,ref:t,"data-state":Yy(n),onSelect:ee(a.onSelect,()=>r==null?void 0:r(Zd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});I2.displayName=q6;var B2="MenuRadioGroup",[X6,K6]=Qo(B2,{value:void 0,onValueChange:()=>{}}),H2=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,o=$t(r);return l.jsx(X6,{scope:e.__scopeMenu,value:n,onValueChange:o,children:l.jsx(Gy,{...a,ref:t})})});H2.displayName=B2;var U2="MenuRadioItem",F2=p.forwardRef((e,t)=>{const{value:n,...r}=e,a=K6(U2,e.__scopeMenu),o=n===a.value;return l.jsx(V2,{scope:e.__scopeMenu,checked:o,children:l.jsx(Zf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Yy(o),onSelect:ee(r.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,n)},{checkForDefaultPrevented:!1})})})});F2.displayName=U2;var Zy="MenuItemIndicator",[V2,W6]=Qo(Zy,{checked:!1}),G2=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,o=W6(Zy,n);return l.jsx(Bt,{present:r||Zd(o.checked)||o.checked===!0,children:l.jsx(de.span,{...a,ref:t,"data-state":Yy(o.checked)})})});G2.displayName=Zy;var Q6="MenuSeparator",Z2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(de.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Z2.displayName=Q6;var J6="MenuArrow",Y2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Gf(n);return l.jsx(Py,{...a,...r,ref:t})});Y2.displayName=J6;var e8="MenuSub",[yJ,q2]=Qo(e8),rl="MenuSubTrigger",X2=p.forwardRef((e,t)=>{const n=Jo(rl,e.__scopeMenu),r=Dc(rl,e.__scopeMenu),a=q2(rl,e.__scopeMenu),o=Fy(rl,e.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),c(null)}},[i,c]),l.jsx(Hy,{asChild:!0,...u,children:l.jsx(P2,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Q2(n.open),...e,ref:Of(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,Yl(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ee(e.onPointerLeave,Yl(f=>{var m,y;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(y=n.content)==null?void 0:y.dataset.side,w=v==="right",g=w?-5:5,x=h[w?"left":"right"],S=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x,y:h.bottom}],side:v}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,f=>{var m;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||z6[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});X2.displayName=rl;var K2="MenuSubContent",W2=p.forwardRef((e,t)=>{const n=z2(Ln,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Jo(Ln,e.__scopeMenu),s=Dc(Ln,e.__scopeMenu),i=q2(K2,e.__scopeMenu),c=p.useRef(null),u=Me(t,c);return l.jsx(Zl.Provider,{scope:e.__scopeMenu,children:l.jsx(Bt,{present:r||o.open,children:l.jsx(Zl.Slot,{scope:e.__scopeMenu,children:l.jsx(Vy,{id:i.contentId,"aria-labelledby":i.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ee(e.onFocusOutside,d=>{d.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:ee(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=O6[s.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(m=i.trigger)==null||m.focus(),d.preventDefault())})})})})})});W2.displayName=K2;function Q2(e){return e?"open":"closed"}function Zd(e){return e==="indeterminate"}function Yy(e){return Zd(e)?"indeterminate":e?"checked":"unchecked"}function t8(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function n8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function r8(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=n8(e,Math.max(o,0));a.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function a8(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],c=t[s],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function o8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return a8(n,t)}function Yl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var s8=D2,i8=Hy,l8=O2,c8=$2,u8=Gy,d8=L2,f8=Zf,h8=I2,m8=H2,p8=F2,g8=G2,y8=Z2,v8=Y2,x8=X2,b8=W2,Yf="DropdownMenu",[w8,vJ]=rn(Yf,[T2]),Zt=T2(),[S8,J2]=w8(Yf),ej=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,c=Zt(t),u=p.useRef(null),[d,f]=En({prop:a,defaultProp:o??!1,onChange:s,caller:Yf});return l.jsx(S8,{scope:t,triggerId:br(),triggerRef:u,contentId:br(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:i,children:l.jsx(s8,{...c,open:d,onOpenChange:f,dir:r,modal:i,children:n})})};ej.displayName=Yf;var tj="DropdownMenuTrigger",nj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,o=J2(tj,n),s=Zt(n);return l.jsx(i8,{asChild:!0,...s,children:l.jsx(de.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Of(t,o.triggerRef),onPointerDown:ee(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:ee(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});nj.displayName=tj;var N8="DropdownMenuPortal",rj=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Zt(t);return l.jsx(l8,{...r,...n})};rj.displayName=N8;var aj="DropdownMenuContent",oj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=J2(aj,n),o=Zt(n),s=p.useRef(!1);return l.jsx(c8,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,i=>{var c;s.current||(c=a.triggerRef.current)==null||c.focus(),s.current=!1,i.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oj.displayName=aj;var E8="DropdownMenuGroup",_8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(u8,{...a,...r,ref:t})});_8.displayName=E8;var C8="DropdownMenuLabel",sj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(d8,{...a,...r,ref:t})});sj.displayName=C8;var j8="DropdownMenuItem",ij=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(f8,{...a,...r,ref:t})});ij.displayName=j8;var k8="DropdownMenuCheckboxItem",lj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(h8,{...a,...r,ref:t})});lj.displayName=k8;var A8="DropdownMenuRadioGroup",R8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(m8,{...a,...r,ref:t})});R8.displayName=A8;var T8="DropdownMenuRadioItem",cj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(p8,{...a,...r,ref:t})});cj.displayName=T8;var M8="DropdownMenuItemIndicator",uj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(g8,{...a,...r,ref:t})});uj.displayName=M8;var D8="DropdownMenuSeparator",dj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(y8,{...a,...r,ref:t})});dj.displayName=D8;var z8="DropdownMenuArrow",O8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(v8,{...a,...r,ref:t})});O8.displayName=z8;var $8="DropdownMenuSubTrigger",fj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(x8,{...a,...r,ref:t})});fj.displayName=$8;var L8="DropdownMenuSubContent",hj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(b8,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hj.displayName=L8;var P8=ej,I8=nj,B8=rj,mj=oj,pj=sj,gj=ij,yj=lj,vj=cj,xj=uj,bj=dj,wj=fj,Sj=hj;const qf=P8,Xf=I8,H8=p.forwardRef(({className:e,inset:t,children:n,...r},a)=>l.jsxs(wj,{ref:a,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(Mf,{className:"ml-auto h-4 w-4"})]}));H8.displayName=wj.displayName;const U8=p.forwardRef(({className:e,...t},n)=>l.jsx(Sj,{ref:n,className:K("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:It.DROPDOWN},...t}));U8.displayName=Sj.displayName;const zc=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(B8,{children:l.jsx(mj,{ref:r,sideOffset:t,className:K("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:It.DROPDOWN},...n})}));zc.displayName=mj.displayName;const Nr=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(gj,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Nr.displayName=gj.displayName;const F8=p.forwardRef(({className:e,children:t,checked:n,...r},a)=>l.jsxs(yj,{ref:a,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(xj,{children:l.jsx(M4,{className:"h-4 w-4"})})}),t]}));F8.displayName=yj.displayName;const V8=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(vj,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(xj,{children:l.jsx(Hs,{className:"h-2 w-2 fill-current"})})}),t]}));V8.displayName=vj.displayName;const G8=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(pj,{ref:r,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));G8.displayName=pj.displayName;const Z8=p.forwardRef(({className:e,...t},n)=>l.jsx(bj,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));Z8.displayName=bj.displayName;function Nj({title:e,description:t,selectedEntities:n,availableEntities:r,onEntitySelect:a,onEntityRemove:o,onNavigateToPage:s,selectionType:i,maxSelections:c,placeholder:u="Select...",className:d,renderEntityDisplay:f}){const h=!c||n.length<c,m=r.filter(w=>!n.find(g=>g.id===w.id)),y=w=>{i==="single"&&n.length>0&&o(n[0].id),a(w)},v=w=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:w.name}),w.category&&l.jsx(Se,{variant:"secondary",className:"text-xs",children:w.category})]});return l.jsxs(ct,{className:K("w-full",d),children:[l.jsx(ut,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(vt,{className:"text-lg",children:e}),t&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t})]}),s&&l.jsx(oe,{variant:"outline",size:"sm",onClick:s,className:"text-xs",children:"View All"})]})}),l.jsxs(ot,{className:"space-y-3",children:[n.length>0?l.jsx("div",{className:"space-y-2",children:n.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/50",children:[l.jsx("div",{className:"flex-1",children:f?f(w):v(w)}),l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>o(w.id),className:"h-8 w-8 p-0",children:l.jsx(Cr,{className:"h-4 w-4"})})]},w.id))}):l.jsx("div",{className:"text-center py-6 text-muted-foreground",children:l.jsx("p",{className:"text-sm",children:u})}),h&&m.length>0&&l.jsxs(qf,{children:[l.jsx(Xf,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"w-full justify-between",disabled:!h,children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Bn,{className:"h-4 w-4"}),i==="single"?"Select":"Add"]}),l.jsx(_t,{className:"h-4 w-4"})]})}),l.jsx(zc,{className:"w-full max-h-60 overflow-y-auto",children:m.map(w=>l.jsx(Nr,{onClick:()=>y(w.id),className:"cursor-pointer",children:l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:w.name}),w.description&&l.jsx("span",{className:"text-xs text-muted-foreground line-clamp-2",children:w.description})]})},w.id))})]}),c&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[n.length," / ",c," selected"]})]})]})}function qy({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},o={sm:"gap-3",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:K("grid",a[t],o[n],r),children:e})}function Y8({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},o={sm:"gap-2",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:K("grid",a[t],o[n],r),children:e})}var Kf="Collapsible",[q8,Ej]=rn(Kf),[X8,Xy]=q8(Kf),_j=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:s,...i}=e,[c,u]=En({prop:r,defaultProp:a??!1,onChange:s,caller:Kf});return l.jsx(X8,{scope:n,disabled:o,contentId:br(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:l.jsx(de.div,{"data-state":Wy(c),"data-disabled":o?"":void 0,...i,ref:t})})});_j.displayName=Kf;var Cj="CollapsibleTrigger",jj=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=Xy(Cj,n);return l.jsx(de.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Wy(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:ee(e.onClick,a.onOpenToggle)})});jj.displayName=Cj;var Ky="CollapsibleContent",kj=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Xy(Ky,e.__scopeCollapsible);return l.jsx(Bt,{present:n||a.open,children:({present:o})=>l.jsx(K8,{...r,ref:t,present:o})})});kj.displayName=Ky;var K8=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,s=Xy(Ky,n),[i,c]=p.useState(r),u=p.useRef(null),d=Me(t,u),f=p.useRef(0),h=f.current,m=p.useRef(0),y=m.current,v=s.open||i,w=p.useRef(v),g=p.useRef(void 0);return p.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),jr(()=>{const x=u.current;if(x){g.current=g.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const S=x.getBoundingClientRect();f.current=S.height,m.current=S.width,w.current||(x.style.transitionDuration=g.current.transitionDuration,x.style.animationName=g.current.animationName),c(r)}},[s.open,r]),l.jsx(de.div,{"data-state":Wy(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!v,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:v&&a})});function Wy(e){return e?"open":"closed"}var W8=_j,Q8=jj,J8=kj,rr="Accordion",e9=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Qy,t9,n9]=_y(rr),[Wf,xJ]=rn(rr,[n9,Ej]),Jy=Ej(),Aj=$.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,o=r;return l.jsx(Qy.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?l.jsx(s9,{...o,ref:t}):l.jsx(o9,{...a,ref:t})})});Aj.displayName=rr;var[Rj,r9]=Wf(rr),[Tj,a9]=Wf(rr,{collapsible:!1}),o9=$.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:o=!1,...s}=e,[i,c]=En({prop:n,defaultProp:r??"",onChange:a,caller:rr});return l.jsx(Rj,{scope:e.__scopeAccordion,value:$.useMemo(()=>i?[i]:[],[i]),onItemOpen:c,onItemClose:$.useCallback(()=>o&&c(""),[o,c]),children:l.jsx(Tj,{scope:e.__scopeAccordion,collapsible:o,children:l.jsx(Mj,{...s,ref:t})})})}),s9=$.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=En({prop:n,defaultProp:r??[],onChange:a,caller:rr}),c=$.useCallback(d=>i((f=[])=>[...f,d]),[i]),u=$.useCallback(d=>i((f=[])=>f.filter(h=>h!==d)),[i]);return l.jsx(Rj,{scope:e.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:l.jsx(Tj,{scope:e.__scopeAccordion,collapsible:!0,children:l.jsx(Mj,{...o,ref:t})})})}),[i9,Qf]=Wf(rr),Mj=$.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:o="vertical",...s}=e,i=$.useRef(null),c=Me(i,t),u=t9(n),f=Ai(a)==="ltr",h=ee(e.onKeyDown,m=>{var C;if(!e9.includes(m.key))return;const y=m.target,v=u().filter(A=>{var _;return!((_=A.ref.current)!=null&&_.disabled)}),w=v.findIndex(A=>A.ref.current===y),g=v.length;if(w===-1)return;m.preventDefault();let x=w;const S=0,b=g-1,E=()=>{x=w+1,x>b&&(x=S)},j=()=>{x=w-1,x<S&&(x=b)};switch(m.key){case"Home":x=S;break;case"End":x=b;break;case"ArrowRight":o==="horizontal"&&(f?E():j());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?j():E());break;case"ArrowUp":o==="vertical"&&j();break}const N=x%g;(C=v[N].ref.current)==null||C.focus()});return l.jsx(i9,{scope:n,disabled:r,direction:a,orientation:o,children:l.jsx(Qy.Slot,{scope:n,children:l.jsx(de.div,{...s,"data-orientation":o,ref:c,onKeyDown:r?void 0:h})})})}),Yd="AccordionItem",[l9,ev]=Wf(Yd),Dj=$.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,o=Qf(Yd,n),s=r9(Yd,n),i=Jy(n),c=br(),u=r&&s.value.includes(r)||!1,d=o.disabled||e.disabled;return l.jsx(l9,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(W8,{"data-orientation":o.orientation,"data-state":Ij(u),...i,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});Dj.displayName=Yd;var zj="AccordionHeader",Oj=$.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=Qf(rr,n),o=ev(zj,n);return l.jsx(de.h3,{"data-orientation":a.orientation,"data-state":Ij(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Oj.displayName=zj;var fg="AccordionTrigger",$j=$.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=Qf(rr,n),o=ev(fg,n),s=a9(fg,n),i=Jy(n);return l.jsx(Qy.ItemSlot,{scope:n,children:l.jsx(Q8,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...i,...r,ref:t})})});$j.displayName=fg;var Lj="AccordionContent",Pj=$.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=Qf(rr,n),o=ev(Lj,n),s=Jy(n);return l.jsx(J8,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...s,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Pj.displayName=Lj;function Ij(e){return e?"open":"closed"}var c9=Aj,u9=Dj,d9=Oj,Bj=$j,Hj=Pj;const tv=c9,Jf=p.forwardRef(({className:e,...t},n)=>l.jsx(u9,{ref:n,className:K("border-b",e),...t}));Jf.displayName="AccordionItem";const eh=p.forwardRef(({className:e,children:t,...n},r)=>l.jsx(d9,{className:"flex",children:l.jsxs(Bj,{ref:r,className:K("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,l.jsx(_t,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));eh.displayName=Bj.displayName;const th=p.forwardRef(({className:e,children:t,...n},r)=>l.jsx(Hj,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:K("pb-4 pt-0",e),children:t})}));th.displayName=Hj.displayName;function f9({children:e,title:t="Customize Display",description:n="Configure what information to show",defaultOpen:r=!1,className:a}){return l.jsx(tv,{type:"single",collapsible:!0,defaultValue:r?"customize-display":void 0,className:a,children:l.jsxs(Jf,{value:"customize-display",className:"border-none",children:[l.jsx(eh,{className:"hover:no-underline",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(l_,{className:"h-4 w-4"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:t}),l.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]})}),l.jsx(th,{children:l.jsx("div",{className:"space-y-4 pt-2",children:e})})]})})}var h9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),m9="VisuallyHidden",Uj=p.forwardRef((e,t)=>l.jsx(de.span,{...e,ref:t,style:{...h9,...e.style}}));Uj.displayName=m9;var p9=Uj,[nh,bJ]=rn("Tooltip",[Mi]),rh=Mi(),Fj="TooltipProvider",g9=700,hg="tooltip.open",[y9,nv]=nh(Fj),Vj=e=>{const{__scopeTooltip:t,delayDuration:n=g9,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,s=p.useRef(!0),i=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(y9,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:p.useCallback(u=>{i.current=u},[]),disableHoverableContent:a,children:o})};Vj.displayName=Fj;var ql="Tooltip",[v9,ah]=nh(ql),Gj=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a,onOpenChange:o,disableHoverableContent:s,delayDuration:i}=e,c=nv(ql,e.__scopeTooltip),u=rh(t),[d,f]=p.useState(null),h=br(),m=p.useRef(0),y=s??c.disableHoverableContent,v=i??c.delayDuration,w=p.useRef(!1),[g,x]=En({prop:r,defaultProp:a??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(hg))):c.onClose(),o==null||o(N)},caller:ql}),S=p.useMemo(()=>g?w.current?"delayed-open":"instant-open":"closed",[g]),b=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,x(!0)},[x]),E=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),j=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,x(!0),m.current=0},v)},[v,x]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(Oy,{...u,children:l.jsx(v9,{scope:t,contentId:h,open:g,stateAttribute:S,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?j():b()},[c.isOpenDelayedRef,j,b]),onTriggerLeave:p.useCallback(()=>{y?E():(window.clearTimeout(m.current),m.current=0)},[E,y]),onOpen:b,onClose:E,disableHoverableContent:y,children:n})})};Gj.displayName=ql;var mg="TooltipTrigger",Zj=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=ah(mg,n),o=nv(mg,n),s=rh(n),i=p.useRef(null),c=Me(t,i,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx($y,{asChild:!0,...s,children:l.jsx(de.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:ee(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:ee(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:ee(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ee(e.onBlur,a.onClose),onClick:ee(e.onClick,a.onClose)})})});Zj.displayName=mg;var x9="TooltipPortal",[wJ,b9]=nh(x9,{forceMount:void 0}),ci="TooltipContent",Yj=p.forwardRef((e,t)=>{const n=b9(ci,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,s=ah(ci,e.__scopeTooltip);return l.jsx(Bt,{present:r||s.open,children:s.disableHoverableContent?l.jsx(qj,{side:a,...o,ref:t}):l.jsx(w9,{side:a,...o,ref:t})})}),w9=p.forwardRef((e,t)=>{const n=ah(ci,e.__scopeTooltip),r=nv(ci,e.__scopeTooltip),a=p.useRef(null),o=Me(t,a),[s,i]=p.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{i(null),f(!1)},[f]),m=p.useCallback((y,v)=>{const w=y.currentTarget,g={x:y.clientX,y:y.clientY},x=C9(g,w.getBoundingClientRect()),S=j9(g,x),b=k9(v.getBoundingClientRect()),E=R9([...S,...b]);i(E),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const y=w=>m(w,d),v=w=>m(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",v)}}},[c,d,m,h]),p.useEffect(()=>{if(s){const y=v=>{const w=v.target,g={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),S=!A9(g,s);x?h():S&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,s,u,h]),l.jsx(qj,{...e,ref:o})}),[S9,N9]=nh(ql,{isInside:!1}),E9=Y$("TooltipContent"),qj=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:s,...i}=e,c=ah(ci,n),u=rh(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(hg,d),()=>document.removeEventListener(hg,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(Ly,{"data-state":c.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(E9,{children:r}),l.jsx(S9,{scope:n,isInside:!0,children:l.jsx(p9,{id:c.contentId,role:"tooltip",children:a||r})})]})})});Yj.displayName=ci;var Xj="TooltipArrow",_9=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=rh(n);return N9(Xj,n).isInside?null:l.jsx(Py,{...a,...r,ref:t})});_9.displayName=Xj;function C9(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function j9(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function k9(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function A9(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],c=t[s],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function R9(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),T9(t)}function T9(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var M9=Vj,D9=Gj,z9=Zj,Kj=Yj;const O9=M9,$9=D9,L9=z9,Wj=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(Kj,{ref:r,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Wj.displayName=Kj.displayName;function Qj({title:e,description:t,options:n,selectedValue:r,onValueChange:a,minWidth:o="min-w-[200px]",className:s,showCategory:i=!1,category:c,cardClassName:u,showCardTheming:d=!1,mutuallyExclusive:f=!1}){const h=y=>{a(r===y?void 0:y)},m=()=>typeof u=="function"?u(r):u||"";return l.jsx(O9,{children:l.jsxs("div",{className:K("group relative bg-card border border-border rounded-lg shadow-sm transition-all duration-200 p-3 flex flex-col min-h-[120px]",o,d&&m(),s),children:[l.jsx("div",{className:"flex items-start justify-between gap-2 mb-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-sm leading-tight mb-1",children:e}),i&&c&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c})]})}),t&&l.jsx("div",{className:"mb-4 flex-1",children:l.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed line-clamp-3",children:t})}),l.jsx("div",{className:"mt-auto pt-2",children:l.jsx("div",{className:"flex gap-1",children:n.map(y=>{const v=r===y.value,w=y.disabled&&!v;return l.jsxs($9,{children:[l.jsx(L9,{asChild:!0,children:l.jsx("button",{disabled:w,className:K("rounded-full px-3 py-2 text-xs font-medium border transition-colors flex-1 relative",v&&"bg-skyrim-gold text-skyrim-dark border-skyrim-gold shadow-sm",!v&&"bg-background text-foreground border-skyrim-gold/30 hover:border-skyrim-gold hover:bg-skyrim-gold/10",w&&"opacity-50",!w&&"hover:shadow-sm"),onClick:g=>{g.stopPropagation(),h(y.value)},children:l.jsx("span",{className:"flex items-center justify-center gap-1",children:v?`- ${y.label.replace("+ ","")}`:y.label})})}),w&&y.tooltip&&l.jsx(Wj,{children:l.jsx("p",{children:y.tooltip})})]},y.value)})})})]})})}var P9="Label",Jj=p.forwardRef((e,t)=>l.jsx(de.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Jj.displayName=P9;var ek=Jj;const I9=Ei("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yn=p.forwardRef(({className:e,...t},n)=>l.jsx(ek,{ref:n,className:K(I9(),e),...t}));Yn.displayName=ek.displayName;function du({title:e,description:t,checked:n,onCheckedChange:r,className:a,disabled:o=!1,onClick:s,showSwitch:i=!0}){const c=()=>{s?s():o||r(!n)};return l.jsxs("div",{className:K("flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",o&&"opacity-50 cursor-not-allowed",a),onClick:c,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Yn,{className:"text-base font-medium",children:e}),t&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),i&&l.jsx(hr,{checked:n,onCheckedChange:r,disabled:o})]})}function dw(e){const t=[...e.stat_modifications.map(r=>({type:r.type==="bonus"?"positive":"negative",name:`${r.stat} ${r.type==="bonus"?"+":"-"}${r.value}${r.value_type==="percentage"?"%":""}`,description:`${r.stat} ${r.type==="bonus"?"increased":"decreased"} by ${r.value}${r.value_type==="percentage"?"%":""}`,value:r.value,target:r.stat})),...e.skill_bonuses.map(r=>({type:"positive",name:`${r.stat} +${r.value}${r.value_type==="percentage"?"%":""}`,description:`${r.stat} skill increased by ${r.value}${r.value_type==="percentage"?"%":""}`,value:r.value,target:r.stat})),...e.powers.map(r=>({type:"positive",name:r.name,description:r.description,value:r.magnitude||0,target:"power"}))],n=[e.group,...e.stat_modifications.map(r=>r.stat),...e.skill_bonuses.map(r=>r.stat),...e.powers.map(r=>r.name)].filter((r,a,o)=>o.indexOf(r)===a);return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,description:e.description,tags:n,effects:t,category:e.group}}function B9(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function H9(e){const t=e.flatMap(n=>[...n.stat_modifications.map(r=>r.stat),...n.skill_bonuses.map(r=>r.stat)]);return[...new Set(t)].sort()}function fw(e){return{health:"Health",magicka:"Magicka",stamina:"Stamina",weapon_damage:"Weapon Damage",armor_penetration:"Armor Penetration",unarmed_damage:"Unarmed Damage",movement_speed:"Movement Speed",sprint_speed:"Sprint Speed",carry_weight:"Carry Weight",spell_strength:"Spell Strength",magicka_regeneration:"Magicka Regeneration",lockpicking_durability:"Lockpicking Durability",lockpicking_expertise:"Lockpicking Expertise",pickpocketing_success:"Pickpocketing Success",stealth_detection:"Stealth Detection",speech:"Speech",shout_cooldown:"Shout Cooldown",price_modification:"Price Modification",damage_reflection:"Damage Reflection",poison_resistance:"Poison Resistance",fire_resistance:"Fire Resistance",enchanting_strength:"Enchanting Strength"}[e]||e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function tk(e){return e.replace(/<(\d+)>/g,"$1")}function rv({children:e,isExpanded:t,onToggle:n,className:r}){const a=$.Children.toArray(e).find(c=>$.isValidElement(c)&&c.type===oh),o=$.Children.toArray(e).find(c=>$.isValidElement(c)&&c.type===sh),s=$.Children.toArray(e).find(c=>$.isValidElement(c)&&c.type===ih),i=$.Children.toArray(e).find(c=>$.isValidElement(c)&&c.type===lh);return l.jsxs(ct,{className:K("bg-card border rounded-lg shadow-sm transition-all duration-200 w-full",r),children:[l.jsx(ut,{className:"pb-3 cursor-pointer",onClick:n,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a,o]}),l.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:c=>{c.stopPropagation(),n()},children:t?l.jsx(_t,{className:"h-4 w-4"}):l.jsx(Mf,{className:"h-4 w-4"})})]})}),!t&&s&&l.jsx(ot,{className:"pt-0 pb-3",children:s}),t&&i&&l.jsx(ot,{className:"pt-0 space-y-6",children:i})]})}function oh({children:e,className:t}){return l.jsx("div",{className:K("flex flex-col items-center gap-2 mr-4",t),children:e})}function sh({children:e,className:t}){return l.jsx("div",{className:K("flex items-center gap-3 flex-1",t),children:e})}function ih({children:e,className:t}){return l.jsx("div",{className:t,children:e})}function lh({children:e,className:t}){return l.jsx("div",{className:t,children:e})}const U9={race:{Altmer:"altmer.png",Argonian:"argonian.png",Bosmer:"bosmer.png",Breton:"breton.png",Dunmer:"dunmer.png",Imperial:"imperial.png",Khajiit:"khajit.png",Nord:"nord.png",Orsimer:"orismer.png",Redguard:"redguard.png"},religion:{},trait:{},destiny:{},birthsign:{Apprentice:"apprentice.svg"}},hw={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},F9={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};function nk({entityName:e,entityType:t,size:n="md",className:r}){const o=U9[t][e],[s,i]=$.useState(!1);return!o||s?l.jsx("div",{className:K("bg-muted rounded-full flex items-center justify-center font-bold text-muted-foreground",hw[n],r),children:l.jsx("span",{className:K(F9[n]),children:e.charAt(0)})}):l.jsx("div",{className:K("rounded-full overflow-hidden bg-muted flex items-center justify-center",hw[n],r),children:l.jsx("img",{src:`/lorerim-arcaneum/assets/${t==="birthsign"?"sign-avatar":`${t}-avatar`}/${o}`,alt:`${e} avatar`,className:"w-full h-full object-cover",onError:()=>i(!0),loading:"lazy"})})}function V9({birthsignName:e,size:t="md",className:n}){return l.jsx(nk,{entityName:e,entityType:"birthsign",size:t,className:n})}var ch="Tabs",[G9,SJ]=rn(ch,[Di]),rk=Di(),[Z9,av]=G9(ch),ak=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:s="horizontal",dir:i,activationMode:c="automatic",...u}=e,d=Ai(i),[f,h]=En({prop:r,onChange:a,defaultProp:o??"",caller:ch});return l.jsx(Z9,{scope:n,baseId:br(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:l.jsx(de.div,{dir:d,"data-orientation":s,...u,ref:t})})});ak.displayName=ch;var ok="TabsList",sk=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=av(ok,n),s=rk(n);return l.jsx(Iy,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(de.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});sk.displayName=ok;var ik="TabsTrigger",lk=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,s=av(ik,n),i=rk(n),c=dk(s.baseId,r),u=fk(s.baseId,r),d=r===s.value;return l.jsx(By,{asChild:!0,...i,focusable:!a,active:d,children:l.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ee(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:ee(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(r)})})})});lk.displayName=ik;var ck="TabsContent",uk=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...s}=e,i=av(ck,n),c=dk(i.baseId,r),u=fk(i.baseId,r),d=r===i.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Bt,{present:a||d,children:({present:h})=>l.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});uk.displayName=ck;function dk(e,t){return`${e}-trigger-${t}`}function fk(e,t){return`${e}-content-${t}`}var Y9=ak,q9=sk,X9=lk,K9=uk;function W9({className:e,...t}){return l.jsx(Y9,{"data-slot":"tabs",className:K("flex flex-col gap-2",e),...t})}function Q9({className:e,...t}){return l.jsx(q9,{"data-slot":"tabs-list",className:K("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function mw({className:e,...t}){return l.jsx(X9,{"data-slot":"tabs-trigger",className:K("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function pw({className:e,...t}){return l.jsx(K9,{"data-slot":"tabs-content",className:K("flex-1 outline-none",e),...t})}function gw({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;const n=tk(e),r=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration","one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy","enchanting","restoration","destruction","alteration","illusion","conjuration","mysticism","speech","lockpicking","sneak","pickpocket","lockpicking","pickpocketing","stealth","acrobatics","one handed","two handed","heavy armor","light armor","weapon damage","armor rating","armor penetration","unarmed damage","movement speed","sprint speed","carry weight","spell strength","shout cooldown","price modification","damage reflection","poison resistance","fire resistance","frost resistance","shock resistance","magic resistance","disease resistance","lockpicking durability","lockpicking expertise","pickpocketing success","stealth detection","enchanting strength"],a=new RegExp(`\\b(${r.join("|")})\\b`,"gi"),s=n.split(/(<[^>]+>)/g).map((i,c)=>{if(i.startsWith("<")&&i.endsWith(">")){const u=i.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:u},`bracket-${c}`)}else{let u=i;return u=u.replace(a,f=>`<bold>${f}</bold>`),u.split(/(<bold>.*?<\/bold>|\+?\d+(?:\.\d+)?%?)/g).map((f,h)=>{if(f.startsWith("<bold>")&&f.endsWith("</bold>")){const m=f.slice(6,-7);return l.jsx("span",{className:"font-semibold text-primary",children:m},`attribute-${c}-${h}`)}else if(/^[+-]?\d+(?:\.\d+)?%?$/.test(f)){const m=parseFloat(f),y=f.startsWith("+")||m>0,v=f.startsWith("-")||m<0;let w="text-skyrim-gold";return y?w="text-green-600":v&&(w="text-red-600"),l.jsx("span",{className:`font-bold ${w}`,children:f},`numeric-${c}-${h}`)}return f})}});return l.jsx("div",{className:t,children:s})}const J9={health:l.jsx(o_,{className:"h-4 w-4 text-red-500"}),magicka:l.jsx(_l,{className:"h-4 w-4 text-blue-500"}),stamina:l.jsx(C4,{className:"h-4 w-4 text-green-500"}),weapon_damage:l.jsx(Jp,{className:"h-4 w-4 text-orange-500"}),armor_penetration:l.jsx(c_,{className:"h-4 w-4 text-purple-500"}),unarmed_damage:l.jsx($d,{className:"h-4 w-4 text-yellow-500"}),movement_speed:l.jsx(Hs,{className:"h-4 w-4 text-cyan-500"}),sprint_speed:l.jsx(Hs,{className:"h-4 w-4 text-cyan-500"}),carry_weight:l.jsx($a,{className:"h-4 w-4 text-gray-500"}),spell_strength:l.jsx(El,{className:"h-4 w-4 text-indigo-500"}),magicka_regeneration:l.jsx(_l,{className:"h-4 w-4 text-blue-400"}),lockpicking_durability:l.jsx(Gu,{className:"h-4 w-4 text-green-400"}),lockpicking_expertise:l.jsx(Gu,{className:"h-4 w-4 text-green-400"}),pickpocketing_success:l.jsx($d,{className:"h-4 w-4 text-green-400"}),stealth_detection:l.jsx(Gu,{className:"h-4 w-4 text-purple-400"}),speech:l.jsx(El,{className:"h-4 w-4 text-yellow-400"}),shout_cooldown:l.jsx(Qp,{className:"h-4 w-4 text-red-400"}),price_modification:l.jsx(Hs,{className:"h-4 w-4 text-gold-400"}),damage_reflection:l.jsx($a,{className:"h-4 w-4 text-red-400"}),poison_resistance:l.jsx(a_,{className:"h-4 w-4 text-green-400"}),fire_resistance:l.jsx(Qp,{className:"h-4 w-4 text-orange-400"}),enchanting_strength:l.jsx(El,{className:"h-4 w-4 text-purple-400"}),power:l.jsx(_l,{className:"h-4 w-4 text-yellow-500"})},eI={Warrior:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Mage:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Thief:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Serpent:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Other:"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200"},yw={sm:"text-xs px-2 py-0.5"};function vw({item:e,originalBirthsign:t,isExpanded:n=!1,onToggle:r,className:a,showStats:o=!0,showPowers:s=!0,showSkills:i=!0,showEffects:c=!0}){var f,h,m,y;if(!t)return null;const u=v=>J9[v.toLowerCase()]||l.jsx(zn,{className:"h-4 w-4 text-muted-foreground"}),d=tk(t.description);return l.jsxs(rv,{isExpanded:n,onToggle:r||(()=>{}),className:a,children:[l.jsx(oh,{children:l.jsx(Ey,{itemId:e.id,itemType:"stone",itemName:e.name})}),l.jsxs(sh,{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(V9,{birthsignName:t.name,size:"md"}),l.jsx(Pf,{className:"text-primary font-semibold",children:t.name})]}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[t.group&&l.jsx(Se,{variant:"outline",className:K(eI[t.group]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",yw.sm,"font-medium transition-colors"),children:t.group}),t.powers.length>0&&l.jsxs(Se,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",yw.sm,"font-medium transition-colors"),children:[l.jsx(_l,{className:"h-3 w-3 mr-1"}),t.powers.length," power",t.powers.length!==1?"s":""]}),e.effects&&e.effects.length>0&&l.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(zn,{className:"h-3 w-3 text-yellow-500"}),l.jsxs("span",{children:[e.effects.length," effects"]})]})})]})]}),l.jsx(ih,{children:l.jsx("div",{className:"space-y-3",children:l.jsx(gw,{text:d,className:"text-base text-muted-foreground"})})}),l.jsx(lh,{children:l.jsxs("div",{className:"space-y-6",children:[o&&t.stat_modifications.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Stat Modifications"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.stat_modifications.map((v,w)=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u(v.stat),l.jsx("span",{className:"font-medium",children:fw(v.stat)})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:K("font-bold",v.type==="bonus"?"text-green-600":"text-red-600"),children:v.type==="bonus"?(v.value>=0?"+":"")+v.value+(v.value_type==="percentage"?"%":""):(v.value<0?"":"-")+v.value+(v.value_type==="percentage"?"%":"")})})]},w))})]}),s&&t.powers.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Powers"}),l.jsx("div",{className:"space-y-3",children:t.powers.map((v,w)=>l.jsxs("div",{className:"p-4 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(DC,{className:"text-sm font-semibold",children:v.name}),v.magnitude&&l.jsxs(Se,{variant:"outline",className:"text-xs",children:["Magnitude: ",v.magnitude]})]}),l.jsx(gw,{text:v.description,className:"text-sm text-muted-foreground"})]},w))})]}),i&&t.skill_bonuses.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Skill Bonuses"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.skill_bonuses.map((v,w)=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u(v.stat),l.jsx("span",{className:"font-medium",children:fw(v.stat)})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"font-bold text-green-600",children:["+",v.value,v.value_type==="percentage"?"%":""]})})]},w))})]}),c&&(((f=t.conditional_effects)==null?void 0:f.length)>0||((h=t.mastery_effects)==null?void 0:h.length)>0)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Special Effects"}),l.jsxs("div",{className:"space-y-3",children:[(m=t.conditional_effects)==null?void 0:m.map((v,w)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Hs,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{className:"font-medium text-sm",children:"Conditional Effect"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm font-medium",children:v.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:v.description})]})]},`conditional-${w}`)),(y=t.mastery_effects)==null?void 0:y.map((v,w)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(zn,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm font-medium",children:v.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:v.description})]})]},`mastery-${w}`))]})]})]})})]})}function tI({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),v=e.length===1?e[0]:null;p.useEffect(()=>{const _=T=>{m.current&&!m.current.contains(T.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const w=i||v?(i||v).options.filter(_=>{var T;return _.label.toLowerCase().includes(u.toLowerCase())||((T=_.description)==null?void 0:T.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(_=>_.options.filter(T=>{var I;return T.label.toLowerCase().includes(u.toLowerCase())||((I=T.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),g=_=>{d(_),s(!0),h(-1)},x=_=>{var T;c(_),d(""),(T=y.current)==null||T.focus()},S=_=>{t(_),d(""),c(null),s(!1),h(-1)},b=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},E=_=>{_.key==="ArrowDown"?(_.preventDefault(),h(T=>Math.min(T+1,w.length-1))):_.key==="ArrowUp"?(_.preventDefault(),h(T=>Math.max(T-1,-1))):_.key==="Enter"?(_.preventDefault(),f>=0&&w[f]?S(w[f]):u.trim()&&b()):_.key==="Escape"&&(s(!1),c(null),h(-1))},j=()=>{s(!0)},N=i||v,C=!v&&!i,A=u.trim()&&!w.some(_=>_.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(wr,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:_=>g(_.target.value),onFocus:j,onKeyDown:E,className:"pl-10 pr-20"}),A&&l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:b,title:"Add custom search term",children:l.jsx(Bn,{className:"h-4 w-4"})}),l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(_t,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:It.AUTOCOMPLETE},children:[C&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(_=>l.jsxs("button",{onClick:()=>x(_),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:_.name}),l.jsx(_t,{className:"h-4 w-4"})]},_.id))]}),A&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:b,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Bn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!A?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((_,T)=>l.jsxs("button",{onClick:()=>S(_),className:`w-full text-left px-2 py-2 rounded text-sm ${T===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:_.label}),_.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:_.description})]},_.id))})]})]})}function nI({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(tI,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Wo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function da(e){return Array.isArray?Array.isArray(e):pk(e)==="[object Array]"}function rI(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function aI(e){return e==null?"":rI(e)}function gr(e){return typeof e=="string"}function hk(e){return typeof e=="number"}function oI(e){return e===!0||e===!1||sI(e)&&pk(e)=="[object Boolean]"}function mk(e){return typeof e=="object"}function sI(e){return mk(e)&&e!==null}function pn(e){return e!=null}function Em(e){return!e.trim().length}function pk(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const iI="Incorrect 'index' type",lI=e=>`Invalid value for key ${e}`,cI=e=>`Pattern length exceeds max of ${e}.`,uI=e=>`Missing ${e} property in key`,dI=e=>`Property 'weight' in key '${e}' must be a positive integer`,xw=Object.prototype.hasOwnProperty;class fI{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=gk(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function gk(e){let t=null,n=null,r=null,a=1,o=null;if(gr(e)||da(e))r=e,t=bw(e),n=pg(e);else{if(!xw.call(e,"name"))throw new Error(uI("name"));const s=e.name;if(r=s,xw.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(dI(s));t=bw(s),n=pg(s),o=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:o}}function bw(e){return da(e)?e:e.split(".")}function pg(e){return da(e)?e.join("."):e}function hI(e,t){let n=[],r=!1;const a=(o,s,i)=>{if(pn(o))if(!s[i])n.push(o);else{let c=s[i];const u=o[c];if(!pn(u))return;if(i===s.length-1&&(gr(u)||hk(u)||oI(u)))n.push(aI(u));else if(da(u)){r=!0;for(let d=0,f=u.length;d<f;d+=1)a(u[d],s,i+1)}else s.length&&a(u,s,i+1)}};return a(e,gr(t)?t.split("."):t,0),r?n:n[0]}const mI={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},pI={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},gI={location:0,threshold:.6,distance:100},yI={useExtendedSearch:!1,getFn:hI,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var le={...pI,...mI,...gI,...yI};const vI=/[^ ]+/g;function xI(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const o=a.match(vI).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*e),i=parseFloat(Math.round(s*r)/r);return n.set(o,i),i},clear(){n.clear()}}}class ov{constructor({getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){this.norm=xI(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,gr(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();gr(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!pn(t)||Em(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,o)=>{let s=a.getFn?a.getFn(t):this.getFn(t,a.path);if(pn(s)){if(da(s)){let i=[];const c=[{nestedArrIndex:-1,value:s}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(pn(d))if(gr(d)&&!Em(d)){let f={v:d,i:u,n:this.norm.get(d)};i.push(f)}else da(d)&&d.forEach((f,h)=>{c.push({nestedArrIndex:h,value:f})})}r.$[o]=i}else if(gr(s)&&!Em(s)){let i={v:s,n:this.norm.get(s)};r.$[o]=i}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function yk(e,t,{getFn:n=le.getFn,fieldNormWeight:r=le.fieldNormWeight}={}){const a=new ov({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(gk)),a.setSources(t),a.create(),a}function bI(e,{getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){const{keys:r,records:a}=e,o=new ov({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(a),o}function fu(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=le.distance,ignoreLocation:o=le.ignoreLocation}={}){const s=t/e.length;if(o)return s;const i=Math.abs(r-n);return a?s+i/a:i?1:s}function wI(e=[],t=le.minMatchCharLength){let n=[],r=-1,a=-1,o=0;for(let s=e.length;o<s;o+=1){let i=e[o];i&&r===-1?r=o:!i&&r!==-1&&(a=o-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const wo=32;function SI(e,t,n,{location:r=le.location,distance:a=le.distance,threshold:o=le.threshold,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,includeMatches:c=le.includeMatches,ignoreLocation:u=le.ignoreLocation}={}){if(t.length>wo)throw new Error(cI(wo));const d=t.length,f=e.length,h=Math.max(0,Math.min(r,f));let m=o,y=h;const v=i>1||c,w=v?Array(f):[];let g;for(;(g=e.indexOf(t,y))>-1;){let N=fu(t,{currentLocation:g,expectedLocation:h,distance:a,ignoreLocation:u});if(m=Math.min(N,m),y=g+d,v){let C=0;for(;C<d;)w[g+C]=1,C+=1}}y=-1;let x=[],S=1,b=d+f;const E=1<<d-1;for(let N=0;N<d;N+=1){let C=0,A=b;for(;C<A;)fu(t,{errors:N,currentLocation:h+A,expectedLocation:h,distance:a,ignoreLocation:u})<=m?C=A:b=A,A=Math.floor((b-C)/2+C);b=A;let _=Math.max(1,h-A+1),T=s?f:Math.min(h+A,f)+d,I=Array(T+2);I[T+1]=(1<<N)-1;for(let k=T;k>=_;k-=1){let O=k-1,D=n[e.charAt(O)];if(v&&(w[O]=+!!D),I[k]=(I[k+1]<<1|1)&D,N&&(I[k]|=(x[k+1]|x[k])<<1|1|x[k+1]),I[k]&E&&(S=fu(t,{errors:N,currentLocation:O,expectedLocation:h,distance:a,ignoreLocation:u}),S<=m)){if(m=S,y=O,y<=h)break;_=Math.max(1,2*h-y)}}if(fu(t,{errors:N+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>m)break;x=I}const j={isMatch:y>=0,score:Math.max(.001,S)};if(v){const N=wI(w,i);N.length?c&&(j.indices=N):j.isMatch=!1}return j}function NI(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const qd=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class vk{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:a=le.distance,includeMatches:o=le.includeMatches,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,isCaseSensitive:c=le.isCaseSensitive,ignoreDiacritics:u=le.ignoreDiacritics,ignoreLocation:d=le.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?qd(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(m,y)=>{this.chunks.push({pattern:m,alphabet:NI(m),startIndex:y})},h=this.pattern.length;if(h>wo){let m=0;const y=h%wo,v=h-y;for(;m<v;)f(this.pattern.substr(m,wo),m),m+=wo;if(y){const w=h-wo;f(this.pattern.substr(w),w)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?qd(t):t,this.pattern===t){let v={isMatch:!0,score:0};return a&&(v.indices=[[0,t.length-1]]),v}const{location:o,distance:s,threshold:i,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,m=!1;this.chunks.forEach(({pattern:v,alphabet:w,startIndex:g})=>{const{isMatch:x,score:S,indices:b}=SI(t,v,w,{location:o+g,distance:s,threshold:i,findAllMatches:c,minMatchCharLength:u,includeMatches:a,ignoreLocation:d});x&&(m=!0),h+=S,x&&b&&(f=[...f,...b])});let y={isMatch:m,score:m?h/this.chunks.length:1};return m&&a&&(y.indices=f),y}}class lo{constructor(t){this.pattern=t}static isMultiMatch(t){return ww(t,this.multiRegex)}static isSingleMatch(t){return ww(t,this.singleRegex)}search(){}}function ww(e,t){const n=e.match(t);return n?n[1]:null}class EI extends lo{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class _I extends lo{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class CI extends lo{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class jI extends lo{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class kI extends lo{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class AI extends lo{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class xk extends lo{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:a=le.distance,includeMatches:o=le.includeMatches,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,isCaseSensitive:c=le.isCaseSensitive,ignoreDiacritics:u=le.ignoreDiacritics,ignoreLocation:d=le.ignoreLocation}={}){super(t),this._bitapSearch=new vk(t,{location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class bk extends lo{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,a.push([r,n-1]);const s=!!a.length;return{isMatch:s,score:s?0:1,indices:a}}}const gg=[EI,bk,CI,jI,AI,kI,_I,xk],Sw=gg.length,RI=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,TI="|";function MI(e,t={}){return e.split(TI).map(n=>{let r=n.trim().split(RI).filter(o=>o&&!!o.trim()),a=[];for(let o=0,s=r.length;o<s;o+=1){const i=r[o];let c=!1,u=-1;for(;!c&&++u<Sw;){const d=gg[u];let f=d.isMultiMatch(i);f&&(a.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<Sw;){const d=gg[u];let f=d.isSingleMatch(i);if(f){a.push(new d(f,t));break}}}return a})}const DI=new Set([xk.type,bk.type]);class zI{constructor(t,{isCaseSensitive:n=le.isCaseSensitive,ignoreDiacritics:r=le.ignoreDiacritics,includeMatches:a=le.includeMatches,minMatchCharLength:o=le.minMatchCharLength,ignoreLocation:s=le.ignoreLocation,findAllMatches:i=le.findAllMatches,location:c=le.location,threshold:u=le.threshold,distance:d=le.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:o,findAllMatches:i,ignoreLocation:s,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=r?qd(t):t,this.pattern=t,this.query=MI(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:o}=this.options;t=a?t:t.toLowerCase(),t=o?qd(t):t;let s=0,i=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];i.length=0,s=0;for(let h=0,m=f.length;h<m;h+=1){const y=f[h],{isMatch:v,indices:w,score:g}=y.search(t);if(v){if(s+=1,c+=g,r){const x=y.constructor.type;DI.has(x)?i=[...i,...w]:i.push(w)}}else{c=0,s=0,i.length=0;break}}if(s){let h={isMatch:!0,score:c/s};return r&&(h.indices=i),h}}return{isMatch:!1,score:1}}}const yg=[];function OI(...e){yg.push(...e)}function vg(e,t){for(let n=0,r=yg.length;n<r;n+=1){let a=yg[n];if(a.condition(e,t))return new a(e,t)}return new vk(e,t)}const Xd={AND:"$and",OR:"$or"},xg={PATH:"$path",PATTERN:"$val"},bg=e=>!!(e[Xd.AND]||e[Xd.OR]),$I=e=>!!e[xg.PATH],LI=e=>!da(e)&&mk(e)&&!bg(e),Nw=e=>({[Xd.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function wk(e,t,{auto:n=!0}={}){const r=a=>{let o=Object.keys(a);const s=$I(a);if(!s&&o.length>1&&!bg(a))return r(Nw(a));if(LI(a)){const c=s?a[xg.PATH]:o[0],u=s?a[xg.PATTERN]:a[c];if(!gr(u))throw new Error(lI(c));const d={keyId:pg(c),pattern:u};return n&&(d.searcher=vg(u,t)),d}let i={children:[],operator:o[0]};return o.forEach(c=>{const u=a[c];da(u)&&u.forEach(d=>{i.children.push(r(d))})}),i};return bg(e)||(e=Nw(e)),r(e)}function PI(e,{ignoreFieldNorm:t=le.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:o,score:s})=>{const i=a?a.weight:null;r*=Math.pow(s===0&&i?Number.EPSILON:s,(i||1)*(t?1:o))}),n.score=r})}function II(e,t){const n=e.matches;t.matches=[],pn(n)&&n.forEach(r=>{if(!pn(r.indices)||!r.indices.length)return;const{indices:a,value:o}=r;let s={indices:a,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function BI(e,t){t.score=e.score}function HI(e,t,{includeMatches:n=le.includeMatches,includeScore:r=le.includeScore}={}){const a=[];return n&&a.push(II),r&&a.push(BI),e.map(o=>{const{idx:s}=o,i={item:t[s],refIndex:s};return a.length&&a.forEach(c=>{c(o,i)}),i})}class va{constructor(t,n={},r){this.options={...le,...n},this.options.useExtendedSearch,this._keyStore=new fI(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof ov))throw new Error(iI);this._myIndex=n||yk(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){pn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,a-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:o,sortFn:s,ignoreFieldNorm:i}=this.options;let c=gr(t)?gr(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return PI(c,{ignoreFieldNorm:i}),o&&c.sort(s),hk(n)&&n>-1&&(c=c.slice(0,n)),HI(c,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=vg(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:o,i:s,n:i})=>{if(!pn(o))return;const{isMatch:c,score:u,indices:d}=n.searchIn(o);c&&a.push({item:o,idx:s,matches:[{score:u,value:o,norm:i,indices:d}]})}),a}_searchLogical(t){const n=wk(t,this.options),r=(i,c,u)=>{if(!i.children){const{keyId:f,searcher:h}=i,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return m&&m.length?[{idx:u,item:c,matches:m}]:[]}const d=[];for(let f=0,h=i.children.length;f<h;f+=1){const m=i.children[f],y=r(m,c,u);if(y.length)d.push(...y);else if(i.operator===Xd.AND)return[]}return d},a=this._myIndex.records,o={},s=[];return a.forEach(({$:i,i:c})=>{if(pn(i)){let u=r(n,i,c);u.length&&(o[c]||(o[c]={idx:c,item:i,matches:[]},s.push(o[c])),u.forEach(({matches:d})=>{o[c].matches.push(...d)}))}}),s}_searchObjectList(t){const n=vg(t,this.options),{keys:r,records:a}=this._myIndex,o=[];return a.forEach(({$:s,i})=>{if(!pn(s))return;let c=[];r.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:s[d],searcher:n}))}),c.length&&o.push({idx:i,item:s,matches:c})}),o}_findMatches({key:t,value:n,searcher:r}){if(!pn(n))return[];let a=[];if(da(n))n.forEach(({v:o,i:s,n:i})=>{if(!pn(o))return;const{isMatch:c,score:u,indices:d}=r.searchIn(o);c&&a.push({score:u,key:t,value:o,idx:s,norm:i,indices:d})});else{const{v:o,n:s}=n,{isMatch:i,score:c,indices:u}=r.searchIn(o);i&&a.push({score:c,key:t,value:o,norm:s,indices:u})}return a}}va.version="7.1.0";va.createIndex=yk;va.parseIndex=bI;va.config=le;va.parseQuery=wk;OI(zI);function UI(e,t){const n=p.useMemo(()=>e.map(i=>{var c,u;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description,group:i.group,statModifications:i.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:i.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:i.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=i.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=i.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new va(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredBirthsigns:p.useMemo(()=>o.map(i=>i.item.originalBirthsign),[o]),searchResults:o,searchableBirthsigns:n}}function FI(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState(new Set),[c,u]=p.useState("alphabetical"),[d,f]=p.useState("grid"),[h,m]=p.useState(!0),[y,v]=p.useState(!0),[w,g]=p.useState(!0),[x,S]=p.useState(!0);p.useEffect(()=>{async function R(){try{r(!0);const z=await fetch("/lorerim-arcaneum/data/birthsigns.json");if(!z.ok)throw new Error("Failed to fetch birthsign data");const B=await z.json();t(B)}catch(z){o("Failed to load birthsign data"),console.error("Error loading birthsigns:",z)}finally{r(!1)}}R()},[]),p.useMemo(()=>e.map(dw),[e]);const E=(()=>{const R=B9(e),z=H9(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:R.map(B=>({id:`group-${B}`,label:B,value:B,category:"Birthsign Groups",description:`Birthsigns from ${B} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:z.map(B=>({id:`stat-${B}`,label:B.replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase()),value:B,category:"Stats & Skills",description:`Birthsigns that affect ${B}`}))}]})(),[j,N]=p.useState([]),C=R=>{let z;typeof R=="string"?z={id:`custom-${R}`,label:R,value:R,category:"Fuzzy Search"}:z={id:`${R.category}-${R.id}`,label:R.label,value:R.value,category:R.category},j.some(B=>B.value===z.value&&B.category===z.category)||N(B=>[...B,z])},A=R=>{N(z=>z.filter(B=>B.id!==R))},_=e.filter(R=>j.length===0?!0:j.every(z=>{switch(z.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return R.group===z.value;case"Stats & Skills":return[...R.stat_modifications.map(U=>U.stat),...R.skill_bonuses.map(U=>U.stat)].some(U=>U===z.value);default:return!0}})),T=j.filter(R=>R.category==="Fuzzy Search").map(R=>R.value).join(" "),{filteredBirthsigns:I}=UI(_,T),k=[...I.map(dw)].sort((R,z)=>{var B,U;switch(c){case"alphabetical":return R.name.localeCompare(z.name);case"group":const H=X=>{switch(X){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},F=H(R.category),G=H(z.category);return F!==G?F-G:R.name.localeCompare(z.name);case"power-count":const q=((B=R.effects)==null?void 0:B.filter(X=>X.target==="power").length)||0,V=((U=z.effects)==null?void 0:U.filter(X=>X.target==="power").length)||0;return q!==V?V-q:R.name.localeCompare(z.name);default:return 0}}),O=R=>{const z=new Set(s);if(d==="grid"){const U=k.findIndex(V=>V.id===R),F=Math.floor(U/3)*3,G=Math.min(F+3,k.length);k.slice(F,G).some(V=>z.has(V.id))?k.slice(F,G).forEach(V=>{z.delete(V.id)}):k.slice(F,G).forEach(V=>{z.add(V.id)})}else z.has(R)?z.delete(R):z.add(R);i(z)},D=()=>{const R=k.map(z=>z.id);i(new Set(R))},P=()=>{i(new Set)},M=k.length>0&&k.every(R=>s.has(R.id));return k.some(R=>s.has(R.id)),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading birthsigns..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(nI,{categories:E,onSelect:C,onCustomSearch:C})}),l.jsxs(qf,{children:[l.jsx(Xf,{asChild:!0,children:l.jsxs(oe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(_t,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":c==="group"?"Type":"Count"]})}),l.jsxs(zc,{align:"end",children:[l.jsx(Nr,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(Nr,{onClick:()=>u("group"),children:"Birthsign Group"}),l.jsx(Nr,{onClick:()=>u("power-count"),children:"Power Count"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(oe,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(_c,{className:"h-4 w-4"})}),l.jsx(oe,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(Ec,{className:"h-4 w-4"})})]}),l.jsx(oe,{variant:"outline",size:"sm",onClick:M?P:D,className:"flex items-center justify-center",title:M?"Collapse all accordions":"Expand all accordions",children:M?l.jsx(i_,{className:"h-4 w-4"}):l.jsx(s_,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:j.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>N([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(Cr,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),j.map(R=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>A(R.id),title:"Click to remove",children:[R.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},R.id))]})}),k.length>0&&l.jsx(tv,{type:"single",collapsible:!0,className:"w-full",children:l.jsxs(Jf,{value:"customize-display",className:"border-none",children:[l.jsxs(eh,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-background hover:bg-muted/50 transition-colors data-[state=open]:rounded-b-none data-[state=open]:border-b-0 justify-start",children:[l.jsx(l_,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Customize Display"})]}),l.jsx(th,{className:"px-3 py-3 rounded-b-lg border border-t-0 bg-background",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(hr,{checked:h&&y&&w&&x,onCheckedChange:R=>{m(R),v(R),g(R),S(R)}}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs("div",{className:"flex items-stretch gap-3 w-full",children:[l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>m(!h),children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Yn,{className:"text-base font-medium",children:"Stats"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute modifications"})]}),l.jsx(hr,{checked:h,onCheckedChange:m})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>v(!y),children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Yn,{className:"text-base font-medium",children:"Powers"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Special abilities and spells"})]}),l.jsx(hr,{checked:y,onCheckedChange:v})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>g(!w),children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Yn,{className:"text-base font-medium",children:"Skills"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Skill bonuses and effects"})]}),l.jsx(hr,{checked:w,onCheckedChange:g})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>S(!x),children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Yn,{className:"text-base font-medium",children:"Effects"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Conditional and mastery effects"})]}),l.jsx(hr,{checked:x,onCheckedChange:S})]})]})]})})]})}),d==="grid"?l.jsx(qy,{columns:3,gap:"md",className:"w-full mt-6",children:k.map(R=>{const z=e.find(U=>{const H=R.id;return U.name.toLowerCase().replace(/\s+/g,"-")===H}),B=s.has(R.id);return l.jsx(vw,{item:R,originalBirthsign:z,isExpanded:B,onToggle:()=>O(R.id),className:"w-full",showStats:h,showPowers:y,showSkills:w,showEffects:x},R.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:k.map(R=>{const z=e.find(U=>{const H=R.id;return U.name.toLowerCase().replace(/\s+/g,"-")===H}),B=s.has(R.id);return l.jsx(vw,{item:R,originalBirthsign:z,isExpanded:B,onToggle:()=>O(R.id),className:"w-full",showStats:h,showPowers:y,showSkills:w,showEffects:x},R.id)})}),k.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function VI({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r}){const[a,o]=p.useState([]),s=p.useMemo(()=>e.filter(g=>g.prerequisites.length===0),[e]),i=g=>e.filter(x=>x.prerequisites.includes(g)),c=p.useMemo(()=>{if(a.length===0)return s;const g=a[a.length-1];return i(g.name)},[a,s]),u=p.useMemo(()=>{const g=[],x=new Set,S=b=>{const E=b[b.length-1],j=i(E.name);if(j.length===0){g.push({path:[...b],isComplete:!0,endNode:E});return}j.forEach(N=>{const C=b.map(A=>A.id).join("->")+"->"+N.id;x.has(C)||(x.add(C),S([...b,N]))})};return a.length===0?s.forEach(b=>{S([b])}):c.forEach(b=>{S([...a,b])}),g},[a,c,s,e]),d=g=>t.some(x=>x.id===g),f=g=>{t.forEach(x=>{r(x.id)}),g.forEach(x=>{n(x.id)})};return{selectedPath:a,rootNodes:s,currentOptions:c,predictivePaths:u,isNodePlanned:d,getCurrentNodeName:()=>a.length===0?"Destiny":a[a.length-1].name,backtrack:g=>{const x=a.slice(0,g+1);o(x),f(x)},handleBreadcrumbClick:(g,x)=>{const S=g.slice(0,x+1);o(S),f(S)},startPath:g=>{o([g]),f([g])},startNewPath:()=>{o([]),f([])}}}var _m,uh="HoverCard",[Sk,NJ]=rn(uh,[Mi]),dh=Mi(),[GI,sv]=Sk(uh),Nk=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:a,onOpenChange:o,openDelay:s=700,closeDelay:i=300}=e,c=dh(t),u=p.useRef(0),d=p.useRef(0),f=p.useRef(!1),h=p.useRef(!1),[m,y]=En({prop:r,defaultProp:a??!1,onChange:o,caller:uh}),v=p.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>y(!0),s)},[s,y]),w=p.useCallback(()=>{clearTimeout(u.current),!f.current&&!h.current&&(d.current=window.setTimeout(()=>y(!1),i))},[i,y]),g=p.useCallback(()=>y(!1),[y]);return p.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),l.jsx(GI,{scope:t,open:m,onOpenChange:y,onOpen:v,onClose:w,onDismiss:g,hasSelectionRef:f,isPointerDownOnContentRef:h,children:l.jsx(Oy,{...c,children:n})})};Nk.displayName=uh;var Ek="HoverCardTrigger",_k=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=sv(Ek,n),o=dh(n);return l.jsx($y,{asChild:!0,...o,children:l.jsx(de.a,{"data-state":a.open?"open":"closed",...r,ref:t,onPointerEnter:ee(e.onPointerEnter,Wd(a.onOpen)),onPointerLeave:ee(e.onPointerLeave,Wd(a.onClose)),onFocus:ee(e.onFocus,a.onOpen),onBlur:ee(e.onBlur,a.onClose),onTouchStart:ee(e.onTouchStart,s=>s.preventDefault())})})});_k.displayName=Ek;var ZI="HoverCardPortal",[EJ,YI]=Sk(ZI,{forceMount:void 0}),Kd="HoverCardContent",Ck=p.forwardRef((e,t)=>{const n=YI(Kd,e.__scopeHoverCard),{forceMount:r=n.forceMount,...a}=e,o=sv(Kd,e.__scopeHoverCard);return l.jsx(Bt,{present:r||o.open,children:l.jsx(qI,{"data-state":o.open?"open":"closed",...a,onPointerEnter:ee(e.onPointerEnter,Wd(o.onOpen)),onPointerLeave:ee(e.onPointerLeave,Wd(o.onClose)),ref:t})})});Ck.displayName=Kd;var qI=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,...i}=e,c=sv(Kd,n),u=dh(n),d=p.useRef(null),f=Me(t,d),[h,m]=p.useState(!1);return p.useEffect(()=>{if(h){const y=document.body;return _m=y.style.userSelect||y.style.webkitUserSelect,y.style.userSelect="none",y.style.webkitUserSelect="none",()=>{y.style.userSelect=_m,y.style.webkitUserSelect=_m}}},[h]),p.useEffect(()=>{if(d.current){const y=()=>{m(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var w;((w=document.getSelection())==null?void 0:w.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",y),()=>{document.removeEventListener("pointerup",y),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),p.useEffect(()=>{d.current&&WI(d.current).forEach(v=>v.setAttribute("tabindex","-1"))}),l.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:s,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:ee(o,y=>{y.preventDefault()}),onDismiss:c.onDismiss,children:l.jsx(Ly,{...u,...i,onPointerDown:ee(i.onPointerDown,y=>{y.currentTarget.contains(y.target)&&m(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...i.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),XI="HoverCardArrow",KI=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=dh(n);return l.jsx(Py,{...a,...r,ref:t})});KI.displayName=XI;function Wd(e){return t=>t.pointerType==="touch"?void 0:e()}function WI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var QI=Nk,JI=_k,jk=Ck;const kk=QI,Ak=JI,iv=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>l.jsx(jk,{ref:a,align:t,sideOffset:n,className:K("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:It.TOOLTIP},...r}));iv.displayName=jk.displayName;function Rk({node:e,isPlanned:t,children:n}){return l.jsxs(kk,{openDelay:100,closeDelay:0,children:[l.jsx(Ak,{asChild:!0,children:n}),l.jsx(iv,{className:"w-80",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-lg",children:e.name}),l.jsx(Se,{variant:t?"default":"outline",className:"text-xs",children:t?"Planned":"Not Planned"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.prerequisites.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.prerequisites.map((r,a)=>l.jsx(Se,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},a))})]}),e.tags.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,a)=>l.jsx(Se,{variant:"secondary",className:"text-xs",children:r},a))})]})]})})]})}function eB({path:e,selectedPathLength:t,isPlanned:n,onBreadcrumbClick:r,showChevrons:a=!0,badgeClassName:o=""}){return l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.map((s,i)=>l.jsx($.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Rk,{node:s,isPlanned:n(s.id),children:l.jsx(Se,{variant:i===t-1?"default":"secondary",className:`cursor-pointer hover:bg-primary/80 ${o}`,onClick:()=>r(i),children:s.name})}),a&&i<e.length-1&&l.jsx(Mf,{className:"w-4 h-4 text-muted-foreground"})]})},s.id))})}function tB({path:e}){return l.jsx("div",{className:"space-y-2",children:e.map((t,n)=>l.jsx("div",{className:"flex items-center p-2 border rounded",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"font-medium flex items-center gap-2",children:[l.jsxs(Se,{variant:"secondary",className:"text-xs",children:["Step ",n+1]}),t.name]}),l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:t.description})]})},t.id))})}function nB({selectedPath:e,rootNodes:t,isPlanned:n,onBacktrack:r,onStartPath:a}){return l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(nz,{className:"w-5 h-5"}),"Your Destiny Path"]})}),l.jsx(ot,{children:e.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"No path started yet"}),l.jsx(oe,{onClick:()=>a(t[0]),children:"Start Your Journey"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(eB,{path:e,selectedPathLength:e.length,isPlanned:n,onBreadcrumbClick:r}),l.jsx(tB,{path:e})]})})]})}function rB({predictivePaths:e,selectedTags:t,onTagSelect:n,onTagRemove:r}){const a=p.useMemo(()=>{const o=new Map;e.forEach(f=>{f.path.forEach((h,m)=>{const y=m,v=o.get(h.name);(!v||y<v.level)&&o.set(h.name,{name:h.name,level:y})})});const s=new Set;e.forEach(f=>{f.isComplete&&s.add(f.endNode.name)});const i=Array.from(o.entries()).map(([f,{level:h}])=>({name:f,level:h})).sort((f,h)=>f.level!==h.level?f.level-h.level:f.name.localeCompare(h.name)),c=e.filter(f=>t.length===0?!0:t.every(h=>{const[m,y]=h.value.split(":");return m==="contains"?f.path.some(v=>v.name.toLowerCase().includes(y.toLowerCase())):m==="ends"?f.isComplete&&f.endNode.name.toLowerCase().includes(y.toLowerCase()):!0})),u=new Set;c.forEach(f=>{f.isComplete&&u.add(f.endNode.name)});const d=new Set;return c.forEach(f=>{f.path.forEach((h,m)=>{d.has(h.name)||d.add(h.name)})}),[{id:"contains-nodes",name:"Contains Node",placeholder:"Search for paths containing a specific node...",options:i.filter(({name:f})=>d.has(f)).map(({name:f,level:h})=>({id:`contains-${f}`,label:`${f} (Level ${h})`,value:`contains:${f}`,category:"Contains Node",description:`Paths that include ${f}`}))},{id:"ends-with-nodes",name:"Ends With Node",placeholder:"Search for paths ending at a specific node...",options:Array.from(u).sort().map(f=>({id:`ends-${f}`,label:f,value:`ends:${f}`,category:"Ends With Node",description:`Paths that end at ${f}`}))}]},[e,t]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(OC,{categories:a,onSelect:n,className:"w-full"}),l.jsx($C,{tags:t,onRemove:r,className:"justify-start"})]})}function aB({predictivePaths:e,selectedPath:t,isPlanned:n,onBreadcrumbClick:r,getCurrentNodeName:a,selectedTags:o,onTagSelect:s,onTagRemove:i}){const c=p.useMemo(()=>e.filter(u=>o.length===0?!0:o.every(d=>{const[f,h]=d.value.split(":");return f==="contains"?u.path.some(m=>m.name.toLowerCase().includes(h.toLowerCase())):f==="ends"?u.isComplete&&u.endNode.name.toLowerCase().includes(h.toLowerCase()):!0})),[e,o]);return e.length===0?null:l.jsxs("div",{className:"space-y-4",children:[l.jsx(rB,{predictivePaths:e,selectedTags:o,onTagSelect:s,onTagRemove:i}),l.jsxs(ct,{className:"h-[calc(60vh-300px)] overflow-hidden",children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(F4,{className:"w-5 h-5"}),"Possible Paths (",c.length," of ",e.length,")"]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length===0?"All possible destiny paths from the beginning":`Paths available from your current position at "${a()}"`,o.length>0&&l.jsxs("span",{children:["  Filtered by ",o.length," criteria"]})]})]}),l.jsx(ot,{className:"p-0 h-full",children:l.jsx(Ny,{className:"h-full",children:l.jsx("div",{className:"space-y-4 p-4",children:c.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground",children:"No paths match your current filters."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search criteria."})]}):c.map((u,d)=>l.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx("div",{className:"flex flex-wrap items-center gap-1",children:u.path.map((f,h)=>l.jsxs($.Fragment,{children:[l.jsx(Rk,{node:f,isPlanned:n(f.id),children:l.jsx(Se,{variant:h<t.length?"default":h===t.length?"secondary":"outline",className:`text-xs cursor-pointer hover:scale-105 transition-transform ${h<t.length?"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600":u.isComplete&&h===u.path.length-1?"bg-red-800 text-red-100 border-red-700":""}`,onClick:m=>{m.stopPropagation(),r(u.path,h)},children:f.name})}),h<u.path.length-1&&l.jsx(Mf,{className:"w-3 h-3 text-muted-foreground"})]},f.id))})}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Length: ",u.path.length," steps"]}),u.isComplete&&l.jsxs("span",{children:[" Ends at: ",u.endNode.name]}),u.path.length>t.length&&l.jsxs("span",{children:[" ",u.path.length-t.length," ","more choices"]})]})]},d))})})})]})]})}function oB({selectedPath:e,currentOptions:t,onStartNewPath:n}){return e.length===0||t.length>0?null:l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsx(vt,{children:"Path Complete"})}),l.jsx(ot,{children:l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("p",{className:"text-muted-foreground mb-4",children:[`You've reached the end of this path. "`,e[e.length-1].name,'" has no further progression options.']}),l.jsx(oe,{onClick:n,children:"Start New Path"})]})})]})}function Tk({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:r,onTagRemove:a}={}){const[o,s]=p.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return p.useEffect(()=>{e&&s(e)},[e]),{filters:o,handleSearch:f=>{const h={...o,search:f};s(h),n==null||n(f)},handleTagSelect:f=>{const h={id:`${f.category}-${f.id}`,label:f.label,value:f.value,category:f.category};if(!o.selectedTags.some(y=>y.id===h.id)){const y={...o,selectedTags:[...o.selectedTags,h]};s(y),r==null||r(h),t==null||t(y)}},handleTagRemove:f=>{const h={...o,selectedTags:o.selectedTags.filter(m=>m.id!==f)};s(h),a==null||a(f),t==null||t(h)},updateFilters:f=>{s(f),t==null||t(f)}}}function sB({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r}){const{selectedPath:a,rootNodes:o,currentOptions:s,predictivePaths:i,isNodePlanned:c,getCurrentNodeName:u,backtrack:d,handleBreadcrumbClick:f,startPath:h,startNewPath:m}=VI({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r}),{handleTagSelect:y,handleTagRemove:v,filters:{selectedTags:w}}=Tk({onFiltersChange:()=>{},onSearch:()=>{}});return l.jsxs("div",{className:"space-y-6",children:[l.jsx(nB,{selectedPath:a,rootNodes:o,isPlanned:c,onBacktrack:d,onStartPath:h}),l.jsx(aB,{predictivePaths:i,selectedPath:a,isPlanned:c,onBreadcrumbClick:f,getCurrentNodeName:u,selectedTags:w,onTagSelect:y,onTagRemove:v}),l.jsx(oB,{selectedPath:a,currentOptions:s,onStartNewPath:m})]})}function iB(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function lB(){return this.eachAfter(iB)}function cB(e){var t=this,n,r=[t],a,o,s;do for(n=r.reverse(),r=[];t=n.pop();)if(e(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)r.push(a[o]);while(r.length);return this}function uB(e){for(var t=this,n=[t],r,a;t=n.pop();)if(e(t),r=t.children,r)for(a=r.length-1;a>=0;--a)n.push(r[a]);return this}function dB(e){for(var t=this,n=[t],r=[],a,o,s;t=n.pop();)if(r.push(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;t=r.pop();)e(t);return this}function fB(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function hB(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function mB(e){for(var t=this,n=pB(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function pB(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function gB(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function yB(){var e=[];return this.each(function(t){e.push(t)}),e}function vB(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function xB(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function lv(e,t){var n=new Xl(e),r=+e.value&&(n.value=e.value),a,o=[n],s,i,c,u;for(t==null&&(t=wB);a=o.pop();)if(r&&(a.value=+a.data.value),(i=t(a.data))&&(u=i.length))for(a.children=new Array(u),c=u-1;c>=0;--c)o.push(s=a.children[c]=new Xl(i[c])),s.parent=a,s.depth=a.depth+1;return n.eachBefore(NB)}function bB(){return lv(this).eachBefore(SB)}function wB(e){return e.children}function SB(e){e.data=e.data.data}function NB(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Xl(e){this.data=e,this.depth=this.height=0,this.parent=null}Xl.prototype=lv.prototype={constructor:Xl,count:lB,each:cB,eachAfter:dB,eachBefore:uB,sum:fB,sort:hB,path:mB,ancestors:gB,descendants:yB,leaves:vB,links:xB,copy:bB};function EB(e,t){return e.parent===t.parent?1:2}function Cm(e){var t=e.children;return t?t[0]:e.t}function jm(e){var t=e.children;return t?t[t.length-1]:e.t}function _B(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function CB(e){for(var t=0,n=0,r=e.children,a=r.length,o;--a>=0;)o=r[a],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function jB(e,t,n){return e.a.parent===t.parent?e.a:n}function Qu(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Qu.prototype=Object.create(Xl.prototype);function kB(e){for(var t=new Qu(e,0),n,r=[t],a,o,s,i;n=r.pop();)if(o=n._.children)for(n.children=new Array(i=o.length),s=i-1;s>=0;--s)r.push(a=n.children[s]=new Qu(o[s],s)),a.parent=n;return(t.parent=new Qu(null,0)).children=[t],t}function AB(){var e=EB,t=1,n=1,r=null;function a(u){var d=kB(u);if(d.eachAfter(o),d.parent.m=-d.z,d.eachBefore(s),r)u.eachBefore(c);else{var f=u,h=u,m=u;u.eachBefore(function(x){x.x<f.x&&(f=x),x.x>h.x&&(h=x),x.depth>m.depth&&(m=x)});var y=f===h?1:e(f,h)/2,v=y-f.x,w=t/(h.x+y+v),g=n/(m.depth||1);u.eachBefore(function(x){x.x=(x.x+v)*w,x.y=x.depth*g})}return u}function o(u){var d=u.children,f=u.parent.children,h=u.i?f[u.i-1]:null;if(d){CB(u);var m=(d[0].z+d[d.length-1].z)/2;h?(u.z=h.z+e(u._,h._),u.m=u.z-m):u.z=m}else h&&(u.z=h.z+e(u._,h._));u.parent.A=i(u,h,u.parent.A||f[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function i(u,d,f){if(d){for(var h=u,m=u,y=d,v=h.parent.children[0],w=h.m,g=m.m,x=y.m,S=v.m,b;y=jm(y),h=Cm(h),y&&h;)v=Cm(v),m=jm(m),m.a=u,b=y.z+x-h.z-w+e(y._,h._),b>0&&(_B(jB(y,u,f),u,b),w+=b,g+=b),x+=y.m,w+=h.m,S+=v.m,g+=m.m;y&&!jm(m)&&(m.t=y,m.m+=x-g),h&&!Cm(v)&&(v.t=h,v.m+=w-S,f=u)}return f}function c(u){u.x*=t,u.y=u.depth*n}return a.separation=function(u){return arguments.length?(e=u,a):e},a.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],a):r?null:[t,n]},a.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],a):r?[t,n]:null},a}var wg="http://www.w3.org/1999/xhtml";const Ew={svg:"http://www.w3.org/2000/svg",xhtml:wg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ew.hasOwnProperty(t)?{space:Ew[t],local:e}:e}function RB(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===wg&&t.documentElement.namespaceURI===wg?t.createElement(e):t.createElementNS(n,e)}}function TB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Mk(e){var t=fh(e);return(t.local?TB:RB)(t)}function MB(){}function cv(e){return e==null?MB:function(){return this.querySelector(e)}}function DB(e){typeof e!="function"&&(e=cv(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=new Array(s),c,u,d=0;d<s;++d)(c=o[d])&&(u=e.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),i[d]=u);return new Nn(r,this._parents)}function zB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function OB(){return[]}function Dk(e){return e==null?OB:function(){return this.querySelectorAll(e)}}function $B(e){return function(){return zB(e.apply(this,arguments))}}function LB(e){typeof e=="function"?e=$B(e):e=Dk(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var s=t[o],i=s.length,c,u=0;u<i;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),a.push(c));return new Nn(r,a)}function zk(e){return function(){return this.matches(e)}}function Ok(e){return function(t){return t.matches(e)}}var PB=Array.prototype.find;function IB(e){return function(){return PB.call(this.children,e)}}function BB(){return this.firstElementChild}function HB(e){return this.select(e==null?BB:IB(typeof e=="function"?e:Ok(e)))}var UB=Array.prototype.filter;function FB(){return Array.from(this.children)}function VB(e){return function(){return UB.call(this.children,e)}}function GB(e){return this.selectAll(e==null?FB:VB(typeof e=="function"?e:Ok(e)))}function ZB(e){typeof e!="function"&&(e=zk(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&i.push(c);return new Nn(r,this._parents)}function $k(e){return new Array(e.length)}function YB(){return new Nn(this._enter||this._groups.map($k),this._parents)}function Qd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Qd.prototype={constructor:Qd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function qB(e){return function(){return e}}function XB(e,t,n,r,a,o){for(var s=0,i,c=t.length,u=o.length;s<u;++s)(i=t[s])?(i.__data__=o[s],r[s]=i):n[s]=new Qd(e,o[s]);for(;s<c;++s)(i=t[s])&&(a[s]=i)}function KB(e,t,n,r,a,o,s){var i,c,u=new Map,d=t.length,f=o.length,h=new Array(d),m;for(i=0;i<d;++i)(c=t[i])&&(h[i]=m=s.call(c,c.__data__,i,t)+"",u.has(m)?a[i]=c:u.set(m,c));for(i=0;i<f;++i)m=s.call(e,o[i],i,o)+"",(c=u.get(m))?(r[i]=c,c.__data__=o[i],u.delete(m)):n[i]=new Qd(e,o[i]);for(i=0;i<d;++i)(c=t[i])&&u.get(h[i])===c&&(a[i]=c)}function WB(e){return e.__data__}function QB(e,t){if(!arguments.length)return Array.from(this,WB);var n=t?KB:XB,r=this._parents,a=this._groups;typeof e!="function"&&(e=qB(e));for(var o=a.length,s=new Array(o),i=new Array(o),c=new Array(o),u=0;u<o;++u){var d=r[u],f=a[u],h=f.length,m=JB(e.call(d,d&&d.__data__,u,r)),y=m.length,v=i[u]=new Array(y),w=s[u]=new Array(y),g=c[u]=new Array(h);n(d,f,v,w,g,m,t);for(var x=0,S=0,b,E;x<y;++x)if(b=v[x]){for(x>=S&&(S=x+1);!(E=w[S])&&++S<y;);b._next=E||null}}return s=new Nn(s,r),s._enter=i,s._exit=c,s}function JB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eH(){return new Nn(this._exit||this._groups.map($k),this._parents)}function tH(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function nH(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,s=Math.min(a,o),i=new Array(a),c=0;c<s;++c)for(var u=n[c],d=r[c],f=u.length,h=i[c]=new Array(f),m,y=0;y<f;++y)(m=u[y]||d[y])&&(h[y]=m);for(;c<a;++c)i[c]=n[c];return new Nn(i,this._parents)}function rH(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],s;--a>=0;)(s=r[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function aH(e){e||(e=oH);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var s=n[o],i=s.length,c=a[o]=new Array(i),u,d=0;d<i;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new Nn(a,this._parents).order()}function oH(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function iH(){return Array.from(this)}function lH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var s=r[a];if(s)return s}return null}function cH(){let e=0;for(const t of this)++e;return e}function uH(){return!this.node()}function dH(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,s=a.length,i;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}function fH(e){return function(){this.removeAttribute(e)}}function hH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mH(e,t){return function(){this.setAttribute(e,t)}}function pH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function gH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function yH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function vH(e,t){var n=fh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?hH:fH:typeof t=="function"?n.local?yH:gH:n.local?pH:mH)(n,t))}function Lk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function xH(e){return function(){this.style.removeProperty(e)}}function bH(e,t,n){return function(){this.style.setProperty(e,t,n)}}function wH(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function SH(e,t,n){return arguments.length>1?this.each((t==null?xH:typeof t=="function"?wH:bH)(e,t,n??"")):ui(this.node(),e)}function ui(e,t){return e.style.getPropertyValue(t)||Lk(e).getComputedStyle(e,null).getPropertyValue(t)}function NH(e){return function(){delete this[e]}}function EH(e,t){return function(){this[e]=t}}function _H(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function CH(e,t){return arguments.length>1?this.each((t==null?NH:typeof t=="function"?_H:EH)(e,t)):this.node()[e]}function Pk(e){return e.trim().split(/^|\s+/)}function uv(e){return e.classList||new Ik(e)}function Ik(e){this._node=e,this._names=Pk(e.getAttribute("class")||"")}Ik.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Bk(e,t){for(var n=uv(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Hk(e,t){for(var n=uv(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function jH(e){return function(){Bk(this,e)}}function kH(e){return function(){Hk(this,e)}}function AH(e,t){return function(){(t.apply(this,arguments)?Bk:Hk)(this,e)}}function RH(e,t){var n=Pk(e+"");if(arguments.length<2){for(var r=uv(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?AH:t?jH:kH)(n,t))}function TH(){this.textContent=""}function MH(e){return function(){this.textContent=e}}function DH(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zH(e){return arguments.length?this.each(e==null?TH:(typeof e=="function"?DH:MH)(e)):this.node().textContent}function OH(){this.innerHTML=""}function $H(e){return function(){this.innerHTML=e}}function LH(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function PH(e){return arguments.length?this.each(e==null?OH:(typeof e=="function"?LH:$H)(e)):this.node().innerHTML}function IH(){this.nextSibling&&this.parentNode.appendChild(this)}function BH(){return this.each(IH)}function HH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UH(){return this.each(HH)}function FH(e){var t=typeof e=="function"?e:Mk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function VH(){return null}function GH(e,t){var n=typeof e=="function"?e:Mk(e),r=t==null?VH:typeof t=="function"?t:cv(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ZH(){var e=this.parentNode;e&&e.removeChild(this)}function YH(){return this.each(ZH)}function qH(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function XH(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function KH(e){return this.select(e?XH:qH)}function WH(e){return arguments.length?this.property("__data__",e):this.node().__data__}function QH(e){return function(t){e.call(this,t,this.__data__)}}function JH(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function e7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function t7(e,t,n){return function(){var r=this.__on,a,o=QH(t);if(r){for(var s=0,i=r.length;s<i;++s)if((a=r[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function n7(e,t,n){var r=JH(e+""),a,o=r.length,s;if(arguments.length<2){var i=this.node().__on;if(i){for(var c=0,u=i.length,d;c<u;++c)for(a=0,d=i[c];a<o;++a)if((s=r[a]).type===d.type&&s.name===d.name)return d.value}return}for(i=t?t7:e7,a=0;a<o;++a)this.each(i(r[a],t,n));return this}function Uk(e,t,n){var r=Lk(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function r7(e,t){return function(){return Uk(this,e,t)}}function a7(e,t){return function(){return Uk(this,e,t.apply(this,arguments))}}function o7(e,t){return this.each((typeof t=="function"?a7:r7)(e,t))}function*s7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,s;a<o;++a)(s=r[a])&&(yield s)}var Fk=[null];function Nn(e,t){this._groups=e,this._parents=t}function Oc(){return new Nn([[document.documentElement]],Fk)}function i7(){return this}Nn.prototype=Oc.prototype={constructor:Nn,select:DB,selectAll:LB,selectChild:HB,selectChildren:GB,filter:ZB,data:QB,enter:YB,exit:eH,join:tH,merge:nH,selection:i7,order:rH,sort:aH,call:sH,nodes:iH,node:lH,size:cH,empty:uH,each:dH,attr:vH,style:SH,property:CH,classed:RH,text:zH,html:PH,raise:BH,lower:UH,append:FH,insert:GH,remove:YH,clone:KH,datum:WH,on:n7,dispatch:o7,[Symbol.iterator]:s7};function yt(e){return typeof e=="string"?new Nn([[document.querySelector(e)]],[document.documentElement]):new Nn([[e]],Fk)}function l7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ur(e,t){if(e=l7(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var c7={value:()=>{}};function hh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ju(n)}function Ju(e){this._=e}function u7(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ju.prototype=hh.prototype={constructor:Ju,on:function(e,t){var n=this._,r=u7(e+"",n),a,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((a=(e=r[o]).type)&&(a=d7(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(e=r[o]).type)n[a]=_w(n[a],e.name,t);else if(t==null)for(a in n)n[a]=_w(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ju(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function d7(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function _w(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=c7,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}const f7={passive:!1},Kl={capture:!0,passive:!1};function km(e){e.stopImmediatePropagation()}function Vs(e){e.preventDefault(),e.stopImmediatePropagation()}function Vk(e){var t=e.document.documentElement,n=yt(e).on("dragstart.drag",Vs,Kl);"onselectstart"in t?n.on("selectstart.drag",Vs,Kl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Gk(e,t){var n=e.document.documentElement,r=yt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Vs,Kl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const hu=e=>()=>e;function Sg(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:o,x:s,y:i,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Sg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function h7(e){return!e.ctrlKey&&!e.button}function m7(){return this.parentNode}function p7(e,t){return t??{x:e.x,y:e.y}}function g7(){return navigator.maxTouchPoints||"ontouchstart"in this}function y7(){var e=h7,t=m7,n=p7,r=g7,a={},o=hh("start","drag","end"),s=0,i,c,u,d,f=0;function h(b){b.on("mousedown.drag",m).filter(r).on("touchstart.drag",w).on("touchmove.drag",g,f7).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(b,E){if(!(d||!e.call(this,b,E))){var j=S(this,t.call(this,b,E),b,E,"mouse");j&&(yt(b.view).on("mousemove.drag",y,Kl).on("mouseup.drag",v,Kl),Vk(b.view),km(b),u=!1,i=b.clientX,c=b.clientY,j("start",b))}}function y(b){if(Vs(b),!u){var E=b.clientX-i,j=b.clientY-c;u=E*E+j*j>f}a.mouse("drag",b)}function v(b){yt(b.view).on("mousemove.drag mouseup.drag",null),Gk(b.view,u),Vs(b),a.mouse("end",b)}function w(b,E){if(e.call(this,b,E)){var j=b.changedTouches,N=t.call(this,b,E),C=j.length,A,_;for(A=0;A<C;++A)(_=S(this,N,b,E,j[A].identifier,j[A]))&&(km(b),_("start",b,j[A]))}}function g(b){var E=b.changedTouches,j=E.length,N,C;for(N=0;N<j;++N)(C=a[E[N].identifier])&&(Vs(b),C("drag",b,E[N]))}function x(b){var E=b.changedTouches,j=E.length,N,C;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<j;++N)(C=a[E[N].identifier])&&(km(b),C("end",b,E[N]))}function S(b,E,j,N,C,A){var _=o.copy(),T=ur(A||j,E),I,L,k;if((k=n.call(b,new Sg("beforestart",{sourceEvent:j,target:h,identifier:C,active:s,x:T[0],y:T[1],dx:0,dy:0,dispatch:_}),N))!=null)return I=k.x-T[0]||0,L=k.y-T[1]||0,function O(D,P,M){var R=T,z;switch(D){case"start":a[C]=O,z=s++;break;case"end":delete a[C],--s;case"drag":T=ur(M||P,E),z=s;break}_.call(D,b,new Sg(D,{sourceEvent:P,subject:k,target:h,identifier:C,active:z,x:T[0]+I,y:T[1]+L,dx:T[0]-R[0],dy:T[1]-R[1],dispatch:_}),N)}}return h.filter=function(b){return arguments.length?(e=typeof b=="function"?b:hu(!!b),h):e},h.container=function(b){return arguments.length?(t=typeof b=="function"?b:hu(b),h):t},h.subject=function(b){return arguments.length?(n=typeof b=="function"?b:hu(b),h):n},h.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:hu(!!b),h):r},h.on=function(){var b=o.on.apply(o,arguments);return b===o?h:b},h.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,h):Math.sqrt(f)},h}function dv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Zk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $c(){}var Wl=.7,Jd=1/Wl,Gs="\\s*([+-]?\\d+)\\s*",Ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v7=/^#([0-9a-f]{3,8})$/,x7=new RegExp(`^rgb\\(${Gs},${Gs},${Gs}\\)$`),b7=new RegExp(`^rgb\\(${Er},${Er},${Er}\\)$`),w7=new RegExp(`^rgba\\(${Gs},${Gs},${Gs},${Ql}\\)$`),S7=new RegExp(`^rgba\\(${Er},${Er},${Er},${Ql}\\)$`),N7=new RegExp(`^hsl\\(${Ql},${Er},${Er}\\)$`),E7=new RegExp(`^hsla\\(${Ql},${Er},${Er},${Ql}\\)$`),Cw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dv($c,Jl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jw,formatHex:jw,formatHex8:_7,formatHsl:C7,formatRgb:kw,toString:kw});function jw(){return this.rgb().formatHex()}function _7(){return this.rgb().formatHex8()}function C7(){return Yk(this).formatHsl()}function kw(){return this.rgb().formatRgb()}function Jl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=v7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Aw(t):n===3?new Jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=x7.exec(e))?new Jt(t[1],t[2],t[3],1):(t=b7.exec(e))?new Jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w7.exec(e))?mu(t[1],t[2],t[3],t[4]):(t=S7.exec(e))?mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=N7.exec(e))?Mw(t[1],t[2]/100,t[3]/100,1):(t=E7.exec(e))?Mw(t[1],t[2]/100,t[3]/100,t[4]):Cw.hasOwnProperty(e)?Aw(Cw[e]):e==="transparent"?new Jt(NaN,NaN,NaN,0):null}function Aw(e){return new Jt(e>>16&255,e>>8&255,e&255,1)}function mu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Jt(e,t,n,r)}function j7(e){return e instanceof $c||(e=Jl(e)),e?(e=e.rgb(),new Jt(e.r,e.g,e.b,e.opacity)):new Jt}function Ng(e,t,n,r){return arguments.length===1?j7(e):new Jt(e,t,n,r??1)}function Jt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}dv(Jt,Ng,Zk($c,{brighter(e){return e=e==null?Jd:Math.pow(Jd,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Jt(Mo(this.r),Mo(this.g),Mo(this.b),ef(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rw,formatHex:Rw,formatHex8:k7,formatRgb:Tw,toString:Tw}));function Rw(){return`#${So(this.r)}${So(this.g)}${So(this.b)}`}function k7(){return`#${So(this.r)}${So(this.g)}${So(this.b)}${So((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tw(){const e=ef(this.opacity);return`${e===1?"rgb(":"rgba("}${Mo(this.r)}, ${Mo(this.g)}, ${Mo(this.b)}${e===1?")":`, ${e})`}`}function ef(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function So(e){return e=Mo(e),(e<16?"0":"")+e.toString(16)}function Mw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qn(e,t,n,r)}function Yk(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);if(e instanceof $c||(e=Jl(e)),!e)return new qn;if(e instanceof qn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,i=o-a,c=(o+a)/2;return i?(t===o?s=(n-r)/i+(n<r)*6:n===o?s=(r-t)/i+2:s=(t-n)/i+4,i/=c<.5?o+a:2-o-a,s*=60):i=c>0&&c<1?0:s,new qn(s,i,c,e.opacity)}function A7(e,t,n,r){return arguments.length===1?Yk(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}dv(qn,A7,Zk($c,{brighter(e){return e=e==null?Jd:Math.pow(Jd,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Jt(Am(e>=240?e-240:e+120,a,r),Am(e,a,r),Am(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new qn(Dw(this.h),pu(this.s),pu(this.l),ef(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ef(this.opacity);return`${e===1?"hsl(":"hsla("}${Dw(this.h)}, ${pu(this.s)*100}%, ${pu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dw(e){return e=(e||0)%360,e<0?e+360:e}function pu(e){return Math.max(0,Math.min(1,e||0))}function Am(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qk=e=>()=>e;function R7(e,t){return function(n){return e+n*t}}function T7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function M7(e){return(e=+e)==1?Xk:function(t,n){return n-t?T7(t,n,e):qk(isNaN(t)?n:t)}}function Xk(e,t){var n=t-e;return n?R7(e,n):qk(isNaN(e)?t:e)}const zw=function e(t){var n=M7(t);function r(a,o){var s=n((a=Ng(a)).r,(o=Ng(o)).r),i=n(a.g,o.g),c=n(a.b,o.b),u=Xk(a.opacity,o.opacity);return function(d){return a.r=s(d),a.g=i(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function Ra(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Eg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rm=new RegExp(Eg.source,"g");function D7(e){return function(){return e}}function z7(e){return function(t){return e(t)+""}}function O7(e,t){var n=Eg.lastIndex=Rm.lastIndex=0,r,a,o,s=-1,i=[],c=[];for(e=e+"",t=t+"";(r=Eg.exec(e))&&(a=Rm.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),i[s]?i[s]+=o:i[++s]=o),(r=r[0])===(a=a[0])?i[s]?i[s]+=a:i[++s]=a:(i[++s]=null,c.push({i:s,x:Ra(r,a)})),n=Rm.lastIndex;return n<t.length&&(o=t.slice(n),i[s]?i[s]+=o:i[++s]=o),i.length<2?c[0]?z7(c[0].x):D7(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)i[(f=c[d]).i]=f.x(u);return i.join("")})}var Ow=180/Math.PI,_g={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Kk(e,t,n,r,a,o){var s,i,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,c/=i),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Ow,skewX:Math.atan(c)*Ow,scaleX:s,scaleY:i}}var gu;function $7(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_g:Kk(t.a,t.b,t.c,t.d,t.e,t.f)}function L7(e){return e==null||(gu||(gu=document.createElementNS("http://www.w3.org/2000/svg","g")),gu.setAttribute("transform",e),!(e=gu.transform.baseVal.consolidate()))?_g:(e=e.matrix,Kk(e.a,e.b,e.c,e.d,e.e,e.f))}function Wk(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function o(u,d,f,h,m,y){if(u!==f||d!==h){var v=m.push("translate(",null,t,null,n);y.push({i:v-4,x:Ra(u,f)},{i:v-2,x:Ra(d,h)})}else(f||h)&&m.push("translate("+f+t+h+n)}function s(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,r)-2,x:Ra(u,d)})):d&&f.push(a(f)+"rotate("+d+r)}function i(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,r)-2,x:Ra(u,d)}):d&&f.push(a(f)+"skewX("+d+r)}function c(u,d,f,h,m,y){if(u!==f||d!==h){var v=m.push(a(m)+"scale(",null,",",null,")");y.push({i:v-4,x:Ra(u,f)},{i:v-2,x:Ra(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),o(u.translateX,u.translateY,d.translateX,d.translateY,f,h),s(u.rotate,d.rotate,f,h),i(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var y=-1,v=h.length,w;++y<v;)f[(w=h[y]).i]=w.x(m);return f.join("")}}}var P7=Wk($7,"px, ","px)","deg)"),I7=Wk(L7,", ",")",")"),B7=1e-12;function $w(e){return((e=Math.exp(e))+1/e)/2}function H7(e){return((e=Math.exp(e))-1/e)/2}function U7(e){return((e=Math.exp(2*e))-1)/(e+1)}const F7=function e(t,n,r){function a(o,s){var i=o[0],c=o[1],u=o[2],d=s[0],f=s[1],h=s[2],m=d-i,y=f-c,v=m*m+y*y,w,g;if(v<B7)g=Math.log(h/u)/t,w=function(N){return[i+N*m,c+N*y,u*Math.exp(t*N*g)]};else{var x=Math.sqrt(v),S=(h*h-u*u+r*v)/(2*u*n*x),b=(h*h-u*u-r*v)/(2*h*n*x),E=Math.log(Math.sqrt(S*S+1)-S),j=Math.log(Math.sqrt(b*b+1)-b);g=(j-E)/t,w=function(N){var C=N*g,A=$w(E),_=u/(n*x)*(A*U7(t*C+E)-H7(E));return[i+_*m,c+_*y,u*A/$w(t*C+E)]}}return w.duration=g*1e3*t/Math.SQRT2,w}return a.rho=function(o){var s=Math.max(.001,+o),i=s*s,c=i*i;return e(s,i,c)},a}(Math.SQRT2,2,4);var di=0,al=0,Gi=0,Qk=1e3,tf,ol,nf=0,Bo=0,mh=0,ec=typeof performance=="object"&&performance.now?performance:Date,Jk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fv(){return Bo||(Jk(V7),Bo=ec.now()+mh)}function V7(){Bo=0}function rf(){this._call=this._time=this._next=null}rf.prototype=eA.prototype={constructor:rf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?fv():+n)+(t==null?0:+t),!this._next&&ol!==this&&(ol?ol._next=this:tf=this,ol=this),this._call=e,this._time=n,Cg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cg())}};function eA(e,t,n){var r=new rf;return r.restart(e,t,n),r}function G7(){fv(),++di;for(var e=tf,t;e;)(t=Bo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--di}function Lw(){Bo=(nf=ec.now())+mh,di=al=0;try{G7()}finally{di=0,Y7(),Bo=0}}function Z7(){var e=ec.now(),t=e-nf;t>Qk&&(mh-=t,nf=e)}function Y7(){for(var e,t=tf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:tf=n);ol=e,Cg(r)}function Cg(e){if(!di){al&&(al=clearTimeout(al));var t=e-Bo;t>24?(e<1/0&&(al=setTimeout(Lw,e-ec.now()-mh)),Gi&&(Gi=clearInterval(Gi))):(Gi||(nf=ec.now(),Gi=setInterval(Z7,Qk)),di=1,Jk(Lw))}}function Pw(e,t,n){var r=new rf;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var q7=hh("start","end","cancel","interrupt"),X7=[],tA=0,Iw=1,jg=2,ed=3,Bw=4,kg=5,td=6;function ph(e,t,n,r,a,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;K7(e,n,{name:t,index:r,group:a,on:q7,tween:X7,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:tA})}function hv(e,t){var n=ar(e,t);if(n.state>tA)throw new Error("too late; already scheduled");return n}function zr(e,t){var n=ar(e,t);if(n.state>ed)throw new Error("too late; already running");return n}function ar(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function K7(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=eA(o,0,n.time);function o(u){n.state=Iw,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,f,h,m;if(n.state!==Iw)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===ed)return Pw(s);m.state===Bw?(m.state=td,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=td,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(Pw(function(){n.state===ed&&(n.state=Bw,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=jg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===jg){for(n.state=ed,a=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++f]=m);a.length=f+1}}function i(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=kg,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);n.state===kg&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=td,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function nd(e,t){var n=e.__transition,r,a,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}a=r.state>jg&&r.state<kg,r.state=td,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function W7(e){return this.each(function(){nd(this,e)})}function Q7(e,t){var n,r;return function(){var a=zr(this,e),o=a.tween;if(o!==n){r=n=o;for(var s=0,i=r.length;s<i;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function J7(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=zr(this,e),s=o.tween;if(s!==r){a=(r=s).slice();for(var i={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=i;break}c===u&&a.push(i)}o.tween=a}}function eU(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ar(this.node(),n).tween,a=0,o=r.length,s;a<o;++a)if((s=r[a]).name===e)return s.value;return null}return this.each((t==null?Q7:J7)(n,e,t))}function mv(e,t,n){var r=e._id;return e.each(function(){var a=zr(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return ar(a,r).value[t]}}function nA(e,t){var n;return(typeof t=="number"?Ra:t instanceof Jl?zw:(n=Jl(t))?(t=n,zw):O7)(e,t)}function tU(e){return function(){this.removeAttribute(e)}}function nU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rU(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttribute(e);return s===a?null:s===r?o:o=t(r=s,n)}}function aU(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?o:o=t(r=s,n)}}function oU(e,t,n){var r,a,o;return function(){var s,i=n(this),c;return i==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=i+"",s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i)))}}function sU(e,t,n){var r,a,o;return function(){var s,i=n(this),c;return i==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=i+"",s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i)))}}function iU(e,t){var n=fh(e),r=n==="transform"?I7:nA;return this.attrTween(e,typeof t=="function"?(n.local?sU:oU)(n,r,mv(this,"attr."+e,t)):t==null?(n.local?nU:tU)(n):(n.local?aU:rU)(n,r,t))}function lU(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function cU(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function uU(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&cU(e,o)),n}return a._value=t,a}function dU(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&lU(e,o)),n}return a._value=t,a}function fU(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=fh(e);return this.tween(n,(r.local?uU:dU)(r,t))}function hU(e,t){return function(){hv(this,e).delay=+t.apply(this,arguments)}}function mU(e,t){return t=+t,function(){hv(this,e).delay=t}}function pU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hU:mU)(t,e)):ar(this.node(),t).delay}function gU(e,t){return function(){zr(this,e).duration=+t.apply(this,arguments)}}function yU(e,t){return t=+t,function(){zr(this,e).duration=t}}function vU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gU:yU)(t,e)):ar(this.node(),t).duration}function xU(e,t){if(typeof t!="function")throw new Error;return function(){zr(this,e).ease=t}}function bU(e){var t=this._id;return arguments.length?this.each(xU(t,e)):ar(this.node(),t).ease}function wU(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;zr(this,e).ease=n}}function SU(e){if(typeof e!="function")throw new Error;return this.each(wU(this._id,e))}function NU(e){typeof e!="function"&&(e=zk(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&i.push(c);return new fa(r,this._parents,this._name,this._id)}function EU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),s=new Array(r),i=0;i<o;++i)for(var c=t[i],u=n[i],d=c.length,f=s[i]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;i<r;++i)s[i]=t[i];return new fa(s,this._parents,this._name,this._id)}function _U(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function CU(e,t,n){var r,a,o=_U(t)?hv:zr;return function(){var s=o(this,e),i=s.on;i!==r&&(a=(r=i).copy()).on(t,n),s.on=a}}function jU(e,t){var n=this._id;return arguments.length<2?ar(this.node(),n).on.on(e):this.each(CU(n,e,t))}function kU(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function AU(){return this.on("end.remove",kU(this._id))}function RU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=cv(e));for(var r=this._groups,a=r.length,o=new Array(a),s=0;s<a;++s)for(var i=r[s],c=i.length,u=o[s]=new Array(c),d,f,h=0;h<c;++h)(d=i[h])&&(f=e.call(d,d.__data__,h,i))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,ph(u[h],t,n,h,u,ar(d,n)));return new fa(o,this._parents,t,n)}function TU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dk(e));for(var r=this._groups,a=r.length,o=[],s=[],i=0;i<a;++i)for(var c=r[i],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,y=ar(d,n),v=0,w=h.length;v<w;++v)(m=h[v])&&ph(m,t,n,v,h,y);o.push(h),s.push(d)}return new fa(o,s,t,n)}var MU=Oc.prototype.constructor;function DU(){return new MU(this._groups,this._parents)}function zU(e,t){var n,r,a;return function(){var o=ui(this,e),s=(this.style.removeProperty(e),ui(this,e));return o===s?null:o===n&&s===r?a:a=t(n=o,r=s)}}function rA(e){return function(){this.style.removeProperty(e)}}function OU(e,t,n){var r,a=n+"",o;return function(){var s=ui(this,e);return s===a?null:s===r?o:o=t(r=s,n)}}function $U(e,t,n){var r,a,o;return function(){var s=ui(this,e),i=n(this),c=i+"";return i==null&&(c=i=(this.style.removeProperty(e),ui(this,e))),s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i))}}function LU(e,t){var n,r,a,o="style."+t,s="end."+o,i;return function(){var c=zr(this,e),u=c.on,d=c.value[o]==null?i||(i=rA(t)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(s,a=d),c.on=r}}function PU(e,t,n){var r=(e+="")=="transform"?P7:nA;return t==null?this.styleTween(e,zU(e,r)).on("end.style."+e,rA(e)):typeof t=="function"?this.styleTween(e,$U(e,r,mv(this,"style."+e,t))).each(LU(this._id,e)):this.styleTween(e,OU(e,r,t),n).on("end.style."+e,null)}function IU(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function BU(e,t,n){var r,a;function o(){var s=t.apply(this,arguments);return s!==a&&(r=(a=s)&&IU(e,s,n)),r}return o._value=t,o}function HU(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,BU(e,t,n??""))}function UU(e){return function(){this.textContent=e}}function FU(e){return function(){var t=e(this);this.textContent=t??""}}function VU(e){return this.tween("text",typeof e=="function"?FU(mv(this,"text",e)):UU(e==null?"":e+""))}function GU(e){return function(t){this.textContent=e.call(this,t)}}function ZU(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&GU(a)),t}return r._value=e,r}function YU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ZU(e))}function qU(){for(var e=this._name,t=this._id,n=aA(),r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,c,u=0;u<i;++u)if(c=s[u]){var d=ar(c,t);ph(c,e,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new fa(r,this._parents,e,n)}function XU(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,s){var i={value:s},c={value:function(){--a===0&&o()}};n.each(function(){var u=zr(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(c)),u.on=t}),a===0&&o()})}var KU=0;function fa(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function aA(){return++KU}var Zr=Oc.prototype;fa.prototype={constructor:fa,select:RU,selectAll:TU,selectChild:Zr.selectChild,selectChildren:Zr.selectChildren,filter:NU,merge:EU,selection:DU,transition:qU,call:Zr.call,nodes:Zr.nodes,node:Zr.node,size:Zr.size,empty:Zr.empty,each:Zr.each,on:jU,attr:iU,attrTween:fU,style:PU,styleTween:HU,text:VU,textTween:YU,remove:AU,tween:eU,delay:pU,duration:vU,ease:bU,easeVarying:SU,end:XU,[Symbol.iterator]:Zr[Symbol.iterator]};function WU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var QU={time:null,delay:0,duration:250,ease:WU};function JU(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function eF(e){var t,n;e instanceof fa?(t=e._id,e=e._name):(t=aA(),(n=QU).time=fv(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,c,u=0;u<i;++u)(c=s[u])&&ph(c,e,t,u,s,n||JU(c,t));return new fa(r,this._parents,e,t)}Oc.prototype.interrupt=W7;Oc.prototype.transition=eF;const yu=e=>()=>e;function tF(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function ea(e,t,n){this.k=e,this.x=t,this.y=n}ea.prototype={constructor:ea,scale:function(e){return e===1?this:new ea(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ea(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _r=new ea(1,0,0);ea.prototype;function Tm(e){e.stopImmediatePropagation()}function Zi(e){e.preventDefault(),e.stopImmediatePropagation()}function nF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function rF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hw(){return this.__zoom||_r}function aF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function oF(){return navigator.maxTouchPoints||"ontouchstart"in this}function sF(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function rd(){var e=nF,t=rF,n=sF,r=aF,a=oF,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],i=250,c=F7,u=hh("start","zoom","end"),d,f,h,m=500,y=150,v=0,w=10;function g(k){k.property("__zoom",Hw).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",_).filter(a).on("touchstart.zoom",T).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(k,O,D,P){var M=k.selection?k.selection():k;M.property("__zoom",Hw),k!==M?E(k,O,D,P):M.interrupt().each(function(){j(this,arguments).event(P).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},g.scaleBy=function(k,O,D,P){g.scaleTo(k,function(){var M=this.__zoom.k,R=typeof O=="function"?O.apply(this,arguments):O;return M*R},D,P)},g.scaleTo=function(k,O,D,P){g.transform(k,function(){var M=t.apply(this,arguments),R=this.__zoom,z=D==null?b(M):typeof D=="function"?D.apply(this,arguments):D,B=R.invert(z),U=typeof O=="function"?O.apply(this,arguments):O;return n(S(x(R,U),z,B),M,s)},D,P)},g.translateBy=function(k,O,D,P){g.transform(k,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),s)},null,P)},g.translateTo=function(k,O,D,P,M){g.transform(k,function(){var R=t.apply(this,arguments),z=this.__zoom,B=P==null?b(R):typeof P=="function"?P.apply(this,arguments):P;return n(_r.translate(B[0],B[1]).scale(z.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof D=="function"?-D.apply(this,arguments):-D),R,s)},P,M)};function x(k,O){return O=Math.max(o[0],Math.min(o[1],O)),O===k.k?k:new ea(O,k.x,k.y)}function S(k,O,D){var P=O[0]-D[0]*k.k,M=O[1]-D[1]*k.k;return P===k.x&&M===k.y?k:new ea(k.k,P,M)}function b(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function E(k,O,D,P){k.on("start.zoom",function(){j(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(P).end()}).tween("zoom",function(){var M=this,R=arguments,z=j(M,R).event(P),B=t.apply(M,R),U=D==null?b(B):typeof D=="function"?D.apply(M,R):D,H=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),F=M.__zoom,G=typeof O=="function"?O.apply(M,R):O,q=c(F.invert(U).concat(H/F.k),G.invert(U).concat(H/G.k));return function(V){if(V===1)V=G;else{var X=q(V),W=H/X[2];V=new ea(W,U[0]-X[0]*W,U[1]-X[1]*W)}z.zoom(null,V)}})}function j(k,O,D){return!D&&k.__zooming||new N(k,O)}function N(k,O){this.that=k,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,O),this.taps=0}N.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,O){return this.mouse&&k!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var O=yt(this.that).datum();u.call(k,this.that,new tF(k,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),O)}};function C(k,...O){if(!e.apply(this,arguments))return;var D=j(this,O).event(k),P=this.__zoom,M=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,r.apply(this,arguments)))),R=ur(k);if(D.wheel)(D.mouse[0][0]!==R[0]||D.mouse[0][1]!==R[1])&&(D.mouse[1]=P.invert(D.mouse[0]=R)),clearTimeout(D.wheel);else{if(P.k===M)return;D.mouse=[R,P.invert(R)],nd(this),D.start()}Zi(k),D.wheel=setTimeout(z,y),D.zoom("mouse",n(S(x(P,M),D.mouse[0],D.mouse[1]),D.extent,s));function z(){D.wheel=null,D.end()}}function A(k,...O){if(h||!e.apply(this,arguments))return;var D=k.currentTarget,P=j(this,O,!0).event(k),M=yt(k.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",H,!0),R=ur(k,D),z=k.clientX,B=k.clientY;Vk(k.view),Tm(k),P.mouse=[R,this.__zoom.invert(R)],nd(this),P.start();function U(F){if(Zi(F),!P.moved){var G=F.clientX-z,q=F.clientY-B;P.moved=G*G+q*q>v}P.event(F).zoom("mouse",n(S(P.that.__zoom,P.mouse[0]=ur(F,D),P.mouse[1]),P.extent,s))}function H(F){M.on("mousemove.zoom mouseup.zoom",null),Gk(F.view,P.moved),Zi(F),P.event(F).end()}}function _(k,...O){if(e.apply(this,arguments)){var D=this.__zoom,P=ur(k.changedTouches?k.changedTouches[0]:k,this),M=D.invert(P),R=D.k*(k.shiftKey?.5:2),z=n(S(x(D,R),P,M),t.apply(this,O),s);Zi(k),i>0?yt(this).transition().duration(i).call(E,z,P,k):yt(this).call(g.transform,z,P,k)}}function T(k,...O){if(e.apply(this,arguments)){var D=k.touches,P=D.length,M=j(this,O,k.changedTouches.length===P).event(k),R,z,B,U;for(Tm(k),z=0;z<P;++z)B=D[z],U=ur(B,this),U=[U,this.__zoom.invert(U),B.identifier],M.touch0?!M.touch1&&M.touch0[2]!==U[2]&&(M.touch1=U,M.taps=0):(M.touch0=U,R=!0,M.taps=1+!!d);d&&(d=clearTimeout(d)),R&&(M.taps<2&&(f=U[0],d=setTimeout(function(){d=null},m)),nd(this),M.start())}}function I(k,...O){if(this.__zooming){var D=j(this,O).event(k),P=k.changedTouches,M=P.length,R,z,B,U;for(Zi(k),R=0;R<M;++R)z=P[R],B=ur(z,this),D.touch0&&D.touch0[2]===z.identifier?D.touch0[0]=B:D.touch1&&D.touch1[2]===z.identifier&&(D.touch1[0]=B);if(z=D.that.__zoom,D.touch1){var H=D.touch0[0],F=D.touch0[1],G=D.touch1[0],q=D.touch1[1],V=(V=G[0]-H[0])*V+(V=G[1]-H[1])*V,X=(X=q[0]-F[0])*X+(X=q[1]-F[1])*X;z=x(z,Math.sqrt(V/X)),B=[(H[0]+G[0])/2,(H[1]+G[1])/2],U=[(F[0]+q[0])/2,(F[1]+q[1])/2]}else if(D.touch0)B=D.touch0[0],U=D.touch0[1];else return;D.zoom("touch",n(S(z,B,U),D.extent,s))}}function L(k,...O){if(this.__zooming){var D=j(this,O).event(k),P=k.changedTouches,M=P.length,R,z;for(Tm(k),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),R=0;R<M;++R)z=P[R],D.touch0&&D.touch0[2]===z.identifier?delete D.touch0:D.touch1&&D.touch1[2]===z.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(z=ur(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<w)){var B=yt(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return g.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:yu(+k),g):r},g.filter=function(k){return arguments.length?(e=typeof k=="function"?k:yu(!!k),g):e},g.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:yu(!!k),g):a},g.extent=function(k){return arguments.length?(t=typeof k=="function"?k:yu([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),g):t},g.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],g):[o[0],o[1]]},g.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(k){return arguments.length?(n=k,g):n},g.duration=function(k){return arguments.length?(i=+k,g):i},g.interpolate=function(k){return arguments.length?(c=k,g):c},g.on=function(){var k=u.on.apply(u,arguments);return k===u?g:k},g.clickDistance=function(k){return arguments.length?(v=(k=+k)*k,g):Math.sqrt(v)},g.tapDistance=function(k){return arguments.length?(w=+k,g):w},g}var Uw=Object.prototype.hasOwnProperty;function Cl(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Cl(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Uw.call(e,n)&&++r&&!Uw.call(t,n)||!(n in t)||!Cl(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var oA={exports:{}};(function(e){var t=function(){function n(h,m){return m!=null&&h instanceof m}var r;try{r=Map}catch{r=function(){}}var a;try{a=Set}catch{a=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(h,m,y,v,w){typeof m=="object"&&(y=m.depth,v=m.prototype,w=m.includeNonEnumerable,m=m.circular);var g=[],x=[],S=typeof Buffer<"u";typeof m>"u"&&(m=!0),typeof y>"u"&&(y=1/0);function b(E,j){if(E===null)return null;if(j===0)return E;var N,C;if(typeof E!="object")return E;if(n(E,r))N=new r;else if(n(E,a))N=new a;else if(n(E,o))N=new o(function(P,M){E.then(function(R){P(b(R,j-1))},function(R){M(b(R,j-1))})});else if(s.__isArray(E))N=[];else if(s.__isRegExp(E))N=new RegExp(E.source,f(E)),E.lastIndex&&(N.lastIndex=E.lastIndex);else if(s.__isDate(E))N=new Date(E.getTime());else{if(S&&Buffer.isBuffer(E))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(E.length):N=new Buffer(E.length),E.copy(N),N;n(E,Error)?N=Object.create(E):typeof v>"u"?(C=Object.getPrototypeOf(E),N=Object.create(C)):(N=Object.create(v),C=v)}if(m){var A=g.indexOf(E);if(A!=-1)return x[A];g.push(E),x.push(N)}n(E,r)&&E.forEach(function(P,M){var R=b(M,j-1),z=b(P,j-1);N.set(R,z)}),n(E,a)&&E.forEach(function(P){var M=b(P,j-1);N.add(M)});for(var _ in E){var T;C&&(T=Object.getOwnPropertyDescriptor(C,_)),!(T&&T.set==null)&&(N[_]=b(E[_],j-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(E),_=0;_<I.length;_++){var L=I[_],k=Object.getOwnPropertyDescriptor(E,L);k&&!k.enumerable&&!w||(N[L]=b(E[L],j-1),k.enumerable||Object.defineProperty(N,L,{enumerable:!1}))}if(w)for(var O=Object.getOwnPropertyNames(E),_=0;_<O.length;_++){var D=O[_],k=Object.getOwnPropertyDescriptor(E,D);k&&k.enumerable||(N[D]=b(E[D],j-1),Object.defineProperty(N,D,{enumerable:!1}))}return N}return b(h,y)}s.clonePrototype=function(m){if(m===null)return null;var y=function(){};return y.prototype=m,new y};function i(h){return Object.prototype.toString.call(h)}s.__objToStr=i;function c(h){return typeof h=="object"&&i(h)==="[object Date]"}s.__isDate=c;function u(h){return typeof h=="object"&&i(h)==="[object Array]"}s.__isArray=u;function d(h){return typeof h=="object"&&i(h)==="[object RegExp]"}s.__isRegExp=d;function f(h){var m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),m}return s.__getRegExpFlags=f,s}();e.exports&&(e.exports=t)})(oA);var iF=oA.exports;const Ht=hf(iF);var vu,lF=new Uint8Array(16);function cF(){if(!vu&&(vu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vu(lF)}const uF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dF(e){return typeof e=="string"&&uF.test(e)}var At=[];for(var Mm=0;Mm<256;++Mm)At.push((Mm+256).toString(16).substr(1));function fF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(At[e[t+0]]+At[e[t+1]]+At[e[t+2]]+At[e[t+3]]+"-"+At[e[t+4]]+At[e[t+5]]+"-"+At[e[t+6]]+At[e[t+7]]+"-"+At[e[t+8]]+At[e[t+9]]+"-"+At[e[t+10]]+At[e[t+11]]+At[e[t+12]]+At[e[t+13]]+At[e[t+14]]+At[e[t+15]]).toLowerCase();if(!dF(n))throw TypeError("Stringified UUID is invalid");return n}function Dm(e,t,n){e=e||{};var r=e.random||(e.rng||cF)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,fF(r)}var Ag={exports:{}},sA={exports:{}},hF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mF=hF,pF=mF;function iA(){}function lA(){}lA.resetWarningCache=iA;var gF=function(){function e(r,a,o,s,i,c){if(c!==pF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lA,resetWarningCache:iA};return n.PropTypes=n,n};sA.exports=gF();var gh=sA.exports,Rg={exports:{}},yF=function(){for(var t=arguments.length,n=[],r=0;r<t;r++)n[r]=arguments[r];if(n=n.filter(function(a){return a!=null}),n.length!==0)return n.length===1?n[0]:n.reduce(function(a,o){return function(){a.apply(this,arguments),o.apply(this,arguments)}})},vF=function(){},xF=vF;function cA(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function uA(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function dA(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}cA.__suppressDeprecationWarning=!0;uA.__suppressDeprecationWarning=!0;dA.__suppressDeprecationWarning=!0;function bF(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=cA,t.componentWillReceiveProps=uA),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=dA;var i=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;i.call(this,u,d,h)}}return e}const wF=Object.freeze(Object.defineProperty({__proto__:null,polyfill:bF},Symbol.toStringTag,{value:"Module"})),SF=NM(wF);var yh={};yh.__esModule=!0;yh.getChildMapping=EF;yh.mergeChildMappings=_F;var NF=p;function EF(e){if(!e)return e;var t={};return NF.Children.map(e,function(n){return n}).forEach(function(n){t[n.key]=n}),t}function _F(e,t){e=e||{},t=t||{};function n(d){return t.hasOwnProperty(d)?t[d]:e[d]}var r={},a=[];for(var o in e)t.hasOwnProperty(o)?a.length&&(r[o]=a,a=[]):a.push(o);var s=void 0,i={};for(var c in t){if(r.hasOwnProperty(c))for(s=0;s<r[c].length;s++){var u=r[c][s];i[r[c][s]]=n(u)}i[c]=n(c)}for(s=0;s<a.length;s++)i[a[s]]=n(a[s]);return i}(function(e,t){t.__esModule=!0;var n=Object.assign||function(x){for(var S=1;S<arguments.length;S++){var b=arguments[S];for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(x[E]=b[E])}return x},r=yF,a=h(r),o=p,s=h(o),i=gh,c=h(i),u=xF;h(u);var d=SF,f=yh;function h(x){return x&&x.__esModule?x:{default:x}}function m(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")}function y(x,S){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:x}function v(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(x,S):x.__proto__=S)}c.default.any,c.default.func,c.default.node;var w={component:"span",childFactory:function(S){return S}},g=function(x){v(S,x);function S(b,E){m(this,S);var j=y(this,x.call(this,b,E));return j.performAppear=function(N,C){j.currentlyTransitioningKeys[N]=!0,C.componentWillAppear?C.componentWillAppear(j._handleDoneAppearing.bind(j,N,C)):j._handleDoneAppearing(N,C)},j._handleDoneAppearing=function(N,C){C&&C.componentDidAppear&&C.componentDidAppear(),delete j.currentlyTransitioningKeys[N];var A=(0,f.getChildMapping)(j.props.children);(!A||!A.hasOwnProperty(N))&&j.performLeave(N,C)},j.performEnter=function(N,C){j.currentlyTransitioningKeys[N]=!0,C.componentWillEnter?C.componentWillEnter(j._handleDoneEntering.bind(j,N,C)):j._handleDoneEntering(N,C)},j._handleDoneEntering=function(N,C){C&&C.componentDidEnter&&C.componentDidEnter(),delete j.currentlyTransitioningKeys[N];var A=(0,f.getChildMapping)(j.props.children);(!A||!A.hasOwnProperty(N))&&j.performLeave(N,C)},j.performLeave=function(N,C){j.currentlyTransitioningKeys[N]=!0,C&&C.componentWillLeave?C.componentWillLeave(j._handleDoneLeaving.bind(j,N,C)):j._handleDoneLeaving(N,C)},j._handleDoneLeaving=function(N,C){C&&C.componentDidLeave&&C.componentDidLeave(),delete j.currentlyTransitioningKeys[N];var A=(0,f.getChildMapping)(j.props.children);A&&A.hasOwnProperty(N)?j.keysToEnter.push(N):j.setState(function(_){var T=n({},_.children);return delete T[N],{children:T}})},j.childRefs=Object.create(null),j.currentlyTransitioningKeys={},j.keysToEnter=[],j.keysToLeave=[],j.state={children:(0,f.getChildMapping)(b.children)},j}return S.prototype.componentDidMount=function(){var E=this.state.children;for(var j in E)E[j]&&this.performAppear(j,this.childRefs[j])},S.getDerivedStateFromProps=function(E,j){var N=(0,f.getChildMapping)(E.children),C=j.children;return{children:(0,f.mergeChildMappings)(C,N)}},S.prototype.componentDidUpdate=function(E,j){var N=this,C=(0,f.getChildMapping)(this.props.children),A=j.children;for(var _ in C){var T=A&&A.hasOwnProperty(_);C[_]&&!T&&!this.currentlyTransitioningKeys[_]&&this.keysToEnter.push(_)}for(var I in A){var L=C&&C.hasOwnProperty(I);A[I]&&!L&&!this.currentlyTransitioningKeys[I]&&this.keysToLeave.push(I)}var k=this.keysToEnter;this.keysToEnter=[],k.forEach(function(D){return N.performEnter(D,N.childRefs[D])});var O=this.keysToLeave;this.keysToLeave=[],O.forEach(function(D){return N.performLeave(D,N.childRefs[D])})},S.prototype.render=function(){var E=this,j=[],N=function(T){var I=E.state.children[T];if(I){var L=typeof I.ref!="string",k=E.props.childFactory(I),O=function(P){E.childRefs[T]=P};k===I&&L&&(O=(0,a.default)(I.ref,O)),j.push(s.default.cloneElement(k,{key:T,ref:O}))}};for(var C in this.state.children)N(C);var A=n({},this.props);return delete A.transitionLeave,delete A.transitionName,delete A.transitionAppear,delete A.transitionEnter,delete A.childFactory,delete A.transitionLeaveTimeout,delete A.transitionEnterTimeout,delete A.transitionAppearTimeout,delete A.component,s.default.createElement(this.props.component,A,j)},S}(s.default.Component);g.displayName="TransitionGroup",g.propTypes={},g.defaultProps=w,t.default=(0,d.polyfill)(g),e.exports=t.default})(Rg,Rg.exports);var fA=Rg.exports,Tg={exports:{}},Mg={exports:{}},hA={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(hA);var pv=hA.exports,xu={exports:{}},Fw;function CF(){return Fw||(Fw=1,function(e,t){t.__esModule=!0,t.default=n;function n(r,a){return r.classList?!!a&&r.classList.contains(a):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+a+" ")!==-1}e.exports=t.default}(xu,xu.exports)),xu.exports}(function(e,t){var n=pv;t.__esModule=!0,t.default=a;var r=n(CF());function a(o,s){o.classList?o.classList.add(s):(0,r.default)(o,s)||(typeof o.className=="string"?o.className=o.className+" "+s:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+s))}e.exports=t.default})(Mg,Mg.exports);var jF=Mg.exports;function Vw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var kF=function(t,n){t.classList?t.classList.remove(n):typeof t.className=="string"?t.className=Vw(t.className,n):t.setAttribute("class",Vw(t.className&&t.className.baseVal||"",n))},Dg={exports:{}},bu={exports:{}},Gw;function mA(){return Gw||(Gw=1,function(e,t){t.__esModule=!0,t.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);t.default=n,e.exports=t.default}(bu,bu.exports)),bu.exports}(function(e,t){var n=pv;t.__esModule=!0,t.default=void 0;var r=n(mA()),a=["","webkit","moz","o","ms"],o="clearTimeout",s=d,i,c=function(m,y){return m+(m?y[0].toUpperCase()+y.substr(1):y)+"AnimationFrame"};r.default&&a.some(function(h){var m=c(h,"request");if(m in window)return o=c(h,"cancel"),s=function(v){return window[m](v)}});var u=new Date().getTime();function d(h){var m=new Date().getTime(),y=Math.max(0,16-(m-u)),v=setTimeout(h,y);return u=m,v}i=function(m){return s(m)},i.cancel=function(h){window[o]&&typeof window[o]=="function"&&window[o](h)};var f=i;t.default=f,e.exports=t.default})(Dg,Dg.exports);var AF=Dg.exports,xe={},RF=pv;xe.__esModule=!0;xe.default=xe.animationEnd=xe.animationDelay=xe.animationTiming=xe.animationDuration=xe.animationName=xe.transitionEnd=xe.transitionDuration=xe.transitionDelay=xe.transitionTiming=xe.transitionProperty=xe.transform=void 0;var TF=RF(mA()),af="transform";xe.transform=af;var cr,gv,pA;xe.animationEnd=pA;xe.transitionEnd=gv;var yv,vv,xv,bv;xe.transitionDelay=bv;xe.transitionTiming=xv;xe.transitionDuration=vv;xe.transitionProperty=yv;var gA,yA,vA,xA;xe.animationDelay=xA;xe.animationTiming=vA;xe.animationDuration=yA;xe.animationName=gA;if(TF.default){var zm=DF();cr=zm.prefix,xe.transitionEnd=gv=zm.transitionEnd,xe.animationEnd=pA=zm.animationEnd,xe.transform=af=cr+"-"+af,xe.transitionProperty=yv=cr+"-transition-property",xe.transitionDuration=vv=cr+"-transition-duration",xe.transitionDelay=bv=cr+"-transition-delay",xe.transitionTiming=xv=cr+"-transition-timing-function",xe.animationName=gA=cr+"-animation-name",xe.animationDuration=yA=cr+"-animation-duration",xe.animationTiming=vA=cr+"-animation-delay",xe.animationDelay=xA=cr+"-animation-timing-function"}var MF={transform:af,end:gv,property:yv,timing:xv,delay:bv,duration:vv};xe.default=MF;function DF(){for(var e=document.createElement("div").style,t={O:function(u){return"o"+u.toLowerCase()},Moz:function(u){return u.toLowerCase()},Webkit:function(u){return"webkit"+u},ms:function(u){return"MS"+u}},n=Object.keys(t),r,a,o="",s=0;s<n.length;s++){var i=n[s];if(i+"TransitionProperty"in e){o="-"+i.toLowerCase(),r=t[i]("TransitionEnd"),a=t[i]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!a&&"animationName"in e&&(a="animationend"),e=null,{animationEnd:a,transitionEnd:r,prefix:o}}var zi={};zi.__esModule=!0;zi.nameShape=void 0;zi.transitionTimeout=$F;var zF=p;bA(zF);var OF=gh,un=bA(OF);function bA(e){return e&&e.__esModule?e:{default:e}}function $F(e){var t="transition"+e+"Timeout",n="transition"+e;return function(r){if(r[n]){if(r[t]==null)return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if(typeof r[t]!="number")return new Error(t+" must be a number (in milliseconds)")}return null}}zi.nameShape=un.default.oneOfType([un.default.string,un.default.shape({enter:un.default.string,leave:un.default.string,active:un.default.string}),un.default.shape({enter:un.default.string,enterActive:un.default.string,leave:un.default.string,leaveActive:un.default.string,appear:un.default.string,appearActive:un.default.string})]);(function(e,t){t.__esModule=!0;var n=Object.assign||function(N){for(var C=1;C<arguments.length;C++){var A=arguments[C];for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(N[_]=A[_])}return N},r=jF,a=w(r),o=kF,s=w(o),i=AF,c=w(i),u=xe,d=p,f=w(d),h=gh,m=w(h),y=ic,v=zi;function w(N){return N&&N.__esModule?N:{default:N}}function g(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function x(N,C){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:N}function S(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);N.prototype=Object.create(C&&C.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(N,C):N.__proto__=C)}var b=[];u.transitionEnd&&b.push(u.transitionEnd),u.animationEnd&&b.push(u.animationEnd);function E(N,C){return b.length?b.forEach(function(A){return N.addEventListener(A,C,!1)}):setTimeout(C,0),function(){b.length&&b.forEach(function(A){return N.removeEventListener(A,C,!1)})}}m.default.node,v.nameShape.isRequired,m.default.bool,m.default.bool,m.default.bool,m.default.number,m.default.number,m.default.number;var j=function(N){S(C,N);function C(A,_){g(this,C);var T=x(this,N.call(this,A,_));return T.componentWillAppear=function(I){T.props.appear?T.transition("appear",I,T.props.appearTimeout):I()},T.componentWillEnter=function(I){T.props.enter?T.transition("enter",I,T.props.enterTimeout):I()},T.componentWillLeave=function(I){T.props.leave?T.transition("leave",I,T.props.leaveTimeout):I()},T.classNameAndNodeQueue=[],T.transitionTimeouts=[],T}return C.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(_){clearTimeout(_)}),this.classNameAndNodeQueue.length=0},C.prototype.transition=function(_,T,I){var L=(0,y.findDOMNode)(this);if(!L){T&&T();return}var k=this.props.name[_]||this.props.name+"-"+_,O=this.props.name[_+"Active"]||k+"-active",D=null,P=void 0;(0,a.default)(L,k),this.queueClassAndNode(O,L);var M=function(z){z&&z.target!==L||(clearTimeout(D),P&&P(),(0,s.default)(L,k),(0,s.default)(L,O),P&&P(),T&&T())};I?(D=setTimeout(M,I),this.transitionTimeouts.push(D)):u.transitionEnd&&(P=E(L,M))},C.prototype.queueClassAndNode=function(_,T){var I=this;this.classNameAndNodeQueue.push({className:_,node:T}),this.rafHandle||(this.rafHandle=(0,c.default)(function(){return I.flushClassNameAndNodeQueue()}))},C.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(_){_.node.scrollTop,(0,a.default)(_.node,_.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},C.prototype.render=function(){var _=n({},this.props);return delete _.name,delete _.appear,delete _.enter,delete _.leave,delete _.appearTimeout,delete _.enterTimeout,delete _.leaveTimeout,delete _.children,f.default.cloneElement(f.default.Children.only(this.props.children),_)},C}(f.default.Component);j.displayName="CSSTransitionGroupChild",j.propTypes={},t.default=j,e.exports=t.default})(Tg,Tg.exports);var LF=Tg.exports;(function(e,t){t.__esModule=!0;var n=Object.assign||function(x){for(var S=1;S<arguments.length;S++){var b=arguments[S];for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(x[E]=b[E])}return x},r=p,a=h(r),o=gh,s=h(o),i=fA,c=h(i),u=LF,d=h(u),f=zi;function h(x){return x&&x.__esModule?x:{default:x}}function m(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")}function y(x,S){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:x}function v(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(x,S):x.__proto__=S)}f.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,f.transitionTimeout)("Appear"),(0,f.transitionTimeout)("Enter"),(0,f.transitionTimeout)("Leave");var w={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},g=function(x){v(S,x);function S(){var b,E,j;m(this,S);for(var N=arguments.length,C=Array(N),A=0;A<N;A++)C[A]=arguments[A];return j=(b=(E=y(this,x.call.apply(x,[this].concat(C))),E),E._wrapChild=function(_){return a.default.createElement(d.default,{name:E.props.transitionName,appear:E.props.transitionAppear,enter:E.props.transitionEnter,leave:E.props.transitionLeave,appearTimeout:E.props.transitionAppearTimeout,enterTimeout:E.props.transitionEnterTimeout,leaveTimeout:E.props.transitionLeaveTimeout},_)},b),y(E,j)}return S.prototype.render=function(){return a.default.createElement(c.default,n({},this.props,{childFactory:this._wrapChild}))},S}(a.default.Component);g.displayName="CSSTransitionGroup",g.propTypes={},g.defaultProps=w,t.default=g,e.exports=t.default})(Ag,Ag.exports);var PF=Ag.exports,IF=PF,BF=wA(IF),HF=fA,UF=wA(HF);function wA(e){return e&&e.__esModule?e:{default:e}}var FF={TransitionGroup:UF.default,CSSTransitionGroup:BF.default};const VF=e=>e.enableLegacyTransitions?$.createElement(FF.TransitionGroup,{component:e.component,className:e.className,transform:e.transform},e.children):$.createElement("g",{className:e.className,transform:e.transform},e.children),GF=15,Zw={title:{textAnchor:"start",x:40},attribute:{x:40,dy:"1.2em"}},ZF=({nodeDatum:e,toggleNode:t,onNodeClick:n,onNodeMouseOver:r,onNodeMouseOut:a})=>$.createElement($.Fragment,null,$.createElement("circle",{r:GF,onClick:o=>{t(),n(o)},onMouseOver:r,onMouseOut:a}),$.createElement("g",{className:"rd3t-label"},$.createElement("text",Object.assign({className:"rd3t-label__title"},Zw.title),e.name),$.createElement("text",{className:"rd3t-label__attributes"},e.attributes&&Object.entries(e.attributes).map(([o,s],i)=>$.createElement("tspan",Object.assign({key:`${o}-${i}`},Zw.attribute),o,": ",typeof s=="boolean"?s.toString():s)))));let YF=class extends $.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(t,n,r,a)=>n.subscriptions!==t.subscriptions||n.position.x!==t.position.x||n.position.y!==t.position.y||n.orientation!==t.orientation||a.wasClicked!==r.wasClicked,this.renderNodeElement=()=>{const{data:t,hierarchyPointNode:n,renderCustomNodeElement:r}=this.props,a=typeof r=="function"?r:ZF,o={hierarchyPointNode:n,nodeDatum:t,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren};return a(o)},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=t=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,t)},this.handleOnMouseOver=t=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,t)},this.handleOnMouseOut=t=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,t)},this.handleAddChildren=t=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,t)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(t,n){return this.shouldNodeTransform(this.props,t,this.state,n)}setTransform(t,n,r,a=!1){if(a){const o=n!=null,s=o?n.x:0,i=o?n.y:0;return r==="horizontal"?`translate(${i},${s})`:`translate(${s},${i})`}return r==="horizontal"?`translate(${t.y},${t.x})`:`translate(${t.x},${t.y})`}applyTransform(t,n,r=1,a=()=>{}){this.props.enableLegacyTransitions?yt(this.nodeRef).transition().duration(n).attr("transform",t).style("opacity",r).on("end",a):(yt(this.nodeRef).attr("transform",t).style("opacity",r),a())}commitTransform(){const{orientation:t,transitionDuration:n,position:r,parent:a}=this.props,o=this.setTransform(r,a,t);this.applyTransform(o,n)}componentWillLeave(t){const{orientation:n,transitionDuration:r,position:a,parent:o}=this.props,s=this.setTransform(a,o,n,!0);this.applyTransform(s,r,0,t)}render(){const{data:t,nodeClassName:n}=this.props;return $.createElement("g",{id:t.__rd3t.id,ref:r=>{this.nodeRef=r},style:this.state.initialStyle,className:[t.children&&t.children.length>0?"rd3t-node":"rd3t-leaf-node",n].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}};var zg=Math.PI,Og=2*zg,xo=1e-6,qF=Og-xo;function $g(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function SA(){return new $g}$g.prototype=SA.prototype={constructor:$g,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var o=this._x1,s=this._y1,i=n-e,c=r-t,u=o-e,d=s-t,f=u*u+d*d;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>xo)if(!(Math.abs(d*i-c*u)>xo)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-o,m=r-s,y=i*i+c*c,v=h*h+m*m,w=Math.sqrt(y),g=Math.sqrt(f),x=a*Math.tan((zg-Math.acos((y+f-v)/(2*w*g)))/2),S=x/g,b=x/w;Math.abs(S-1)>xo&&(this._+="L"+(e+S*u)+","+(t+S*d)),this._+="A"+a+","+a+",0,0,"+ +(d*h>u*m)+","+(this._x1=e+b*i)+","+(this._y1=t+b*c)}},arc:function(e,t,n,r,a,o){e=+e,t=+t,n=+n,o=!!o;var s=n*Math.cos(r),i=n*Math.sin(r),c=e+s,u=t+i,d=1^o,f=o?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+u:(Math.abs(this._x1-c)>xo||Math.abs(this._y1-u)>xo)&&(this._+="L"+c+","+u),n&&(f<0&&(f=f%Og+Og),f>qF?this._+="A"+n+","+n+",0,1,"+d+","+(e-s)+","+(t-i)+"A"+n+","+n+",0,1,"+d+","+(this._x1=c)+","+(this._y1=u):f>xo&&(this._+="A"+n+","+n+",0,"+ +(f>=zg)+","+d+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Yw(e){return function(){return e}}function XF(e){return e[0]}function KF(e){return e[1]}var WF=Array.prototype.slice;function QF(e){return e.source}function JF(e){return e.target}function NA(e){var t=QF,n=JF,r=XF,a=KF,o=null;function s(){var i,c=WF.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(o||(o=i=SA()),e(o,+r.apply(this,(c[0]=u,c)),+a.apply(this,c),+r.apply(this,(c[0]=d,c)),+a.apply(this,c)),i)return o=null,i+""||null}return s.source=function(i){return arguments.length?(t=i,s):t},s.target=function(i){return arguments.length?(n=i,s):n},s.x=function(i){return arguments.length?(r=typeof i=="function"?i:Yw(+i),s):r},s.y=function(i){return arguments.length?(a=typeof i=="function"?i:Yw(+i),s):a},s.context=function(i){return arguments.length?(o=i??null,s):o},s}function eV(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,a,r,a)}function tV(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+a)/2,r,n,r,a)}function nV(){return NA(eV)}function rV(){return NA(tV)}class aV extends $.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=t=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOver=t=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOut=t=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,t)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(t){this.applyOpacity(0,this.props.transitionDuration,t)}applyOpacity(t,n,r=()=>{}){this.props.enableLegacyTransitions?yt(this.linkRef).transition().duration(n).style("opacity",t).on("end",r):(yt(this.linkRef).style("opacity",t),r())}drawStepPath(t,n){const{source:r,target:a}=t,o=a.y-r.y;return n==="horizontal"?`M${r.y},${r.x} H${r.y+o/2} V${a.x} H${a.y}`:`M${r.x},${r.y} V${r.y+o/2} H${a.x} V${a.y}`}drawDiagonalPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?nV()({source:[r.y,r.x],target:[a.y,a.x]}):rV()({source:[r.x,r.y],target:[a.x,a.y]})}drawStraightPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?`M${r.y},${r.x}L${a.y},${a.x}`:`M${r.x},${r.y}L${a.x},${a.y}`}drawElbowPath(t,n){return n==="horizontal"?`M${t.source.y},${t.source.x}V${t.target.x}H${t.target.y}`:`M${t.source.x},${t.source.y}V${t.target.y}H${t.target.x}`}drawPath(){const{linkData:t,orientation:n,pathFunc:r}=this.props;return typeof r=="function"?r(t,n):r==="elbow"?this.drawElbowPath(t,n):r==="straight"?this.drawStraightPath(t,n):r==="step"?this.drawStepPath(t,n):this.drawDiagonalPath(t,n)}getClassNames(){const{linkData:t,orientation:n,pathClassFunc:r}=this.props,a=["rd3t-link"];return typeof r=="function"&&a.push(r(t,n)),a.join(" ").trim()}render(){const{linkData:t}=this.props;return $.createElement("path",{ref:n=>{this.linkRef=n},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":t.source.id,"data-target-id":t.target.id})}}const oV=`
/* Tree */
.rd3t-tree-container {
  width: 100%;
  height: 100%;
}

.rd3t-grabbable {
  cursor: move; /* fallback if grab cursor is unsupported */
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.rd3t-grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
}

/* Node */
.rd3t-node {
  cursor: pointer;
  fill: #777;
  stroke: #000;
  stroke-width: 2;
}

.rd3t-leaf-node {
  cursor: pointer;
  fill: transparent;
  stroke: #000;
  stroke-width: 1;
}

.rd3t-label__title {
  fill: #000;
  stroke: none;
  font-weight: bolder;
}

.rd3t-label__attributes {
  fill: #777;
  stroke: none;
  font-weight: bolder;
  font-size: smaller;
}

/* Link */
.rd3t-link {
  fill: none;
  stroke: #000;
}
`;class jn extends $.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:jn.assignInternalProperties(Ht(this.props.data)),d3:jn.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${Dm()}`,this.gInstanceRef=`rd3t-g-${Dm()}`,this.handleNodeToggle=t=>{const n=Ht(this.state.data),a=this.findNodesById(t,n,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(a.__rd3t.collapsed?(jn.expandNode(a),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(a,n)):jn.collapseNode(a),this.props.enableLegacyTransitions?(this.setState({data:n,isTransitioning:!0}),setTimeout(()=>this.setState({isTransitioning:!1}),this.props.transitionDuration+10)):this.setState({data:n}),this.internalState.targetNode=a)},this.handleAddChildrenToNode=(t,n)=>{const r=Ht(this.state.data),a=this.findNodesById(t,r,[]);if(a.length>0){const o=a[0],s=o.__rd3t.depth,i=Ht(n).map(c=>jn.assignInternalProperties([c],s+1));o.children.push(...i.flat()),this.setState({data:r})}},this.handleOnNodeClickCb=(t,n)=>{const{onNodeClick:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ht(t),n))},this.handleOnLinkClickCb=(t,n,r)=>{const{onLinkClick:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ht(t),Ht(n),r))},this.handleOnNodeMouseOverCb=(t,n)=>{const{onNodeMouseOver:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ht(t),n))},this.handleOnLinkMouseOverCb=(t,n,r)=>{const{onLinkMouseOver:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ht(t),Ht(n),r))},this.handleOnNodeMouseOutCb=(t,n)=>{const{onNodeMouseOut:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ht(t),n))},this.handleOnLinkMouseOutCb=(t,n,r)=>{const{onLinkMouseOut:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ht(t),Ht(n),r))},this.centerNode=t=>{const{dimensions:n,orientation:r,zoom:a,centeringTransitionDuration:o}=this.props;if(n){const s=yt(`.${this.gInstanceRef}`),i=yt(`.${this.svgInstanceRef}`),c=this.state.d3.scale;let u,d;r==="horizontal"?(d=-t.x*c+n.height/2,u=-t.y*c+n.width/2):(u=-t.x*c+n.width/2,d=-t.y*c+n.height/2),s.transition().duration(o).attr("transform","translate("+u+","+d+")scale("+c+")"),i.call(rd().transform,_r.translate(u,d).scale(a))}},this.getNodeClassName=(t,n)=>{const{rootNodeClassName:r,branchNodeClassName:a,leafNodeClassName:o}=this.props;return t!=null?n.children?a:o:r}}static getDerivedStateFromProps(t,n){let r=null;const a=!t.dataKey||n.dataKey!==t.dataKey;t.data!==n.dataRef&&a&&(r={dataRef:t.data,data:jn.assignInternalProperties(Ht(t.data)),isInitialRenderForDataset:!0,dataKey:t.dataKey});const o=jn.calculateD3Geometry(t);return Cl(o,n.d3)||(r=r||{},r.d3=o),r}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(t){this.props.data!==t.data&&this.setState({isInitialRenderForDataset:!1}),(!Cl(this.props.translate,t.translate)||!Cl(this.props.scaleExtent,t.scaleExtent)||this.props.zoomable!==t.zoomable||this.props.draggable!==t.draggable||this.props.zoom!==t.zoom||this.props.enableLegacyTransitions!==t.enableLegacyTransitions)&&this.bindZoomListener(this.props),typeof this.props.onUpdate=="function"&&this.props.onUpdate({node:this.internalState.targetNode?Ht(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(t,n){t.forEach(r=>{r.data.__rd3t.collapsed=r.depth>=n})}bindZoomListener(t){const{zoomable:n,scaleExtent:r,translate:a,zoom:o,onUpdate:s,hasInteractiveNodes:i}=t,c=yt(`.${this.svgInstanceRef}`),u=yt(`.${this.gInstanceRef}`);c.call(rd().transform,_r.translate(a.x,a.y).scale(o)),c.call(rd().scaleExtent(n?[r.min,r.max]:[o,o]).filter(d=>i?d.target.classList.contains(this.svgInstanceRef)||d.target.classList.contains(this.gInstanceRef)||d.shiftKey:!0).on("zoom",d=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(d.sourceEvent.type)||(u.attr("transform",d.transform),typeof s=="function"&&(s({node:null,zoom:d.transform.k,translate:{x:d.transform.x,y:d.transform.y}}),this.state.d3.scale=d.transform.k,this.state.d3.translate={x:d.transform.x,y:d.transform.y}))}))}static assignInternalProperties(t,n=0){return(Array.isArray(t)?t:[t]).map(a=>{const o=a;return o.__rd3t={id:null,depth:null,collapsed:!1},o.__rd3t.id=Dm(),o.__rd3t.depth=n,o.children&&o.children.length>0&&(o.children=jn.assignInternalProperties(o.children,n+1)),o})}findNodesById(t,n,r){return r.length>0||(r=r.concat(n.filter(a=>a.__rd3t.id===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesById(t,a.children,r))})),r}findNodesAtDepth(t,n,r){return r=r.concat(n.filter(a=>a.__rd3t.depth===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesAtDepth(t,a.children,r))}),r}static collapseNode(t){t.__rd3t.collapsed=!0,t.children&&t.children.length>0&&t.children.forEach(n=>{jn.collapseNode(n)})}static expandNode(t){t.__rd3t.collapsed=!1}collapseNeighborNodes(t,n){this.findNodesAtDepth(t.__rd3t.depth,n,[]).filter(a=>a.__rd3t.id!==t.__rd3t.id).forEach(a=>jn.collapseNode(a))}generateTree(){const{initialDepth:t,depthFactor:n,separation:r,nodeSize:a,orientation:o}=this.props,{isInitialRenderForDataset:s}=this.state,c=AB().nodeSize(o==="horizontal"?[a.y,a.x]:[a.x,a.y]).separation((f,h)=>f.parent.data.__rd3t.id===h.parent.data.__rd3t.id?r.siblings:r.nonSiblings)(lv(this.state.data[0],f=>f.__rd3t.collapsed?null:f.children));let u=c.descendants();const d=c.links();return t!==void 0&&s&&this.setInitialTreeDepth(u,t),n&&u.forEach(f=>{f.y=f.depth*n}),{nodes:u,links:d}}static calculateD3Geometry(t){let n;return t.zoom>t.scaleExtent.max?n=t.scaleExtent.max:t.zoom<t.scaleExtent.min?n=t.scaleExtent.min:n=t.zoom,{translate:t.translate,scale:n}}render(){const{nodes:t,links:n}=this.generateTree(),{renderCustomNodeElement:r,orientation:a,pathFunc:o,transitionDuration:s,nodeSize:i,depthFactor:c,initialDepth:u,separation:d,enableLegacyTransitions:f,svgClassName:h,pathClassFunc:m}=this.props,{translate:y,scale:v}=this.state.d3,w=Object.assign(Object.assign(Object.assign({},i),d),{depthFactor:c,initialDepth:u});return $.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},$.createElement("style",null,oV),$.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${h}`,width:"100%",height:"100%"},$.createElement(VF,{enableLegacyTransitions:f,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${y.x},${y.y}) scale(${v})`},n.map((g,x)=>$.createElement(aV,{key:"link-"+x,orientation:a,pathFunc:o,pathClassFunc:m,linkData:g,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:f,transitionDuration:s})),t.map((g,x)=>{const{data:S,x:b,y:E,parent:j}=g;return $.createElement(YF,{key:"node-"+x,data:S,position:{x:b,y:E},hierarchyPointNode:g,parent:j,nodeClassName:this.getNodeClassName(j,S),renderCustomNodeElement:r,nodeSize:i,orientation:a,enableLegacyTransitions:f,transitionDuration:s,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:w,centerNode:this.centerNode})}))))}}jn.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};function sV({items:e,filters:t=[]}){const[n,r]=p.useState(null),[a,o]=p.useState("grid"),[s,i]=p.useState({search:"",selectedFilters:{},selectedTags:[]}),c=p.useMemo(()=>{let y=e;if(s.search){const v=s.search.toLowerCase();y=y.filter(w=>w.name.toLowerCase().includes(v)||w.description.toLowerCase().includes(v)||w.tags.some(g=>g.toLowerCase().includes(v)))}return s.selectedTags.length>0&&(y=y.filter(v=>s.selectedTags.some(w=>v.tags.includes(w.value)||v.category===w.value||v.name.toLowerCase().includes(w.value.toLowerCase())))),y},[e,s]),u=p.useMemo(()=>t.length===0?[]:t.map(y=>({...y,options:y.options.map(v=>({...v,count:e.filter(w=>w.tags.includes(v.value)||w.category===v.value).length}))})),[t,e]),d=p.useCallback(y=>{r(y)},[]),f=p.useCallback(y=>{i(y)},[]),h=p.useCallback(y=>{i(v=>({...v,search:y}))},[]),m=p.useCallback(y=>{o(y)},[]);return{selectedItem:n,viewMode:a,currentFilters:s,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:f,handleSearch:h,handleViewModeChange:m,setSelectedItem:r}}function iV({item:e,originalNode:t,allNodes:n}){const r=a=>n.filter(o=>o.prerequisites.includes(a)).map(o=>o.name);return l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((a,o)=>l.jsx(Se,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:a},o))})]}),t&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[r(t.name).map((a,o)=>l.jsx(Se,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:a},o)),r(t.name).length===0&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((a,o)=>l.jsx(Se,{variant:"secondary",className:"text-xs",children:a},o))})]})]})}function lV({items:e,allNodes:t}){return l.jsx(Ny,{className:"h-[calc(100vh-500px)]",children:l.jsx(tv,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>l.jsxs(Jf,{value:n.id,children:[l.jsx(eh,{className:"text-left hover:no-underline",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),l.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),l.jsx(th,{children:l.jsx(iV,{item:n,originalNode:t.find(r=>r.id===n.id),allNodes:t})})]},n.id))})})}function cV(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]);p.useEffect(()=>{async function S(){try{r(!0);const b=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!b.ok)throw new Error("Failed to fetch destiny data");const j=(await b.json()).map((N,C)=>({id:N.globalFormId||`destiny-${C}`,name:N.name,description:N.description,tags:[],prerequisites:N.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:N.globalFormId}));j.forEach(N=>{const C=[];N.description.toLowerCase().includes("magicka")&&C.push("Magic"),N.description.toLowerCase().includes("health")&&C.push("Defensive"),N.description.toLowerCase().includes("stamina")&&C.push("Utility"),N.description.toLowerCase().includes("damage")&&C.push("Offensive"),N.description.toLowerCase().includes("armor")&&C.push("Defensive"),N.description.toLowerCase().includes("spell")&&C.push("Magic"),N.description.toLowerCase().includes("weapon")&&C.push("Combat"),N.tags=C}),t(j)}catch(b){o("Failed to load destiny data"),console.error("Error loading destiny data:",b)}finally{r(!1)}}S()},[]);const c=e.map(S=>({id:S.id,name:S.name,description:S.description,tags:S.tags,summary:S.description,effects:[],associatedItems:[],imageUrl:void 0,category:void 0})),d=(()=>{const S=[...new Set(e.flatMap(E=>E.tags))],b=[...new Set(e.flatMap(E=>E.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Search by tag...",options:S.map(E=>({id:`tag-${E}`,label:E,value:E,category:"Tags",description:`Destiny nodes with ${E} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Search by prerequisite...",options:b.map(E=>({id:`prereq-${E}`,label:E,value:E,category:"Prerequisites",description:`Destiny nodes requiring ${E}`}))}]})(),{filteredItems:f,currentFilters:h,handleFiltersChange:m,handleSearch:y}=sV({items:c,filters:[]}),{handleTagSelect:v,handleTagRemove:w}=Tk({initialFilters:h,onFiltersChange:m,onSearch:y}),g=S=>{const b=e.find(E=>E.id===S);b&&i(E=>E.some(N=>N.id===S)?E.filter(N=>N.id!==S):[...E,{id:S,name:b.name,description:b.description,levelRequirement:b.levelRequirement}])},x=S=>{i(b=>b.filter(E=>E.id!==S))};return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsx(ki,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",className:"max-w-none",children:l.jsx("div",{className:"mb-6",children:l.jsxs(W9,{defaultValue:"path",className:"w-full",children:[l.jsxs(Q9,{className:"grid w-full grid-cols-2",children:[l.jsx(mw,{value:"path",children:"Path Builder"}),l.jsx(mw,{value:"reference",children:"Reference"})]}),l.jsxs(pw,{value:"reference",className:"space-y-4",children:[l.jsx($L,{searchCategories:d,selectedTags:h.selectedTags,onTagSelect:v,onTagRemove:w}),l.jsx("div",{className:"w-full",children:l.jsx(lV,{items:f,allNodes:e})})]}),l.jsx(pw,{value:"path",className:"space-y-4",children:l.jsx(sB,{nodes:e,plannedNodes:s,onNodePlan:g,onNodeUnplan:x})})]})})})}function Yt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Yt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var EA={exports:{}},_A={},CA={exports:{}},jA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=p;function uV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dV=typeof Object.is=="function"?Object.is:uV,fV=fi.useState,hV=fi.useEffect,mV=fi.useLayoutEffect,pV=fi.useDebugValue;function gV(e,t){var n=t(),r=fV({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return mV(function(){a.value=n,a.getSnapshot=t,Om(a)&&o({inst:a})},[e,n,t]),hV(function(){return Om(a)&&o({inst:a}),e(function(){Om(a)&&o({inst:a})})},[e]),pV(n),n}function Om(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dV(e,n)}catch{return!0}}function yV(e,t){return t()}var vV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yV:gV;jA.useSyncExternalStore=fi.useSyncExternalStore!==void 0?fi.useSyncExternalStore:vV;CA.exports=jA;var xV=CA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=p,bV=xV;function wV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SV=typeof Object.is=="function"?Object.is:wV,NV=bV.useSyncExternalStore,EV=vh.useRef,_V=vh.useEffect,CV=vh.useMemo,jV=vh.useDebugValue;_A.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=EV(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=CV(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&s.hasValue){var y=s.value;if(a(y,m))return f=y}return f=m}if(y=f,SV(d,m))return y;var v=r(m);return a!==void 0&&a(y,v)?(d=m,y):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,a]);var i=NV(e,o[0],o[1]);return _V(function(){s.hasValue=!0,s.value=i},[i]),jV(i),i};EA.exports=_A;var kV=EA.exports;const AV=hf(kV),RV={},qw=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,m))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(RV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,a,c);return c},TV=e=>e?qw(e):qw,{useDebugValue:MV}=$,{useSyncExternalStoreWithSelector:DV}=AV,zV=e=>e;function kA(e,t=zV,n){const r=DV(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return MV(r),r}const Xw=(e,t)=>{const n=TV(e),r=(a,o=t)=>kA(n,a,o);return Object.assign(r,n),r},OV=(e,t)=>e?Xw(e,t):Xw;function tn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const xh=p.createContext(null),$V=xh.Provider,ha={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},AA=ha.error001();function Ke(e,t){const n=p.useContext(xh);if(n===null)throw new Error(AA);return kA(n,e,t)}const Ct=()=>{const e=p.useContext(xh);if(e===null)throw new Error(AA);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},LV=e=>e.userSelectionActive?"none":"all";function RA({position:e,children:t,className:n,style:r,...a}){const o=Ke(LV),s=`${e}`.split("-");return $.createElement("div",{className:Yt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...a},t)}function PV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:$.createElement(RA,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},$.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const IV=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:i=2,children:c,className:u,...d})=>{const f=p.useRef(null),[h,m]=p.useState({x:0,y:0,width:0,height:0}),y=Yt(["react-flow__edge-textwrapper",u]);return p.useEffect(()=>{if(f.current){const v=f.current.getBBox();m({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:$.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...d},a&&$.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:i,ry:i}),$.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),c)};var BV=p.memo(IV);const wv=e=>({width:e.offsetWidth,height:e.offsetHeight}),hi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Sv=(e={x:0,y:0},t)=>({x:hi(e.x,t[0][0],t[1][0]),y:hi(e.y,t[0][1],t[1][1])}),Kw=(e,t,n)=>e<t?hi(Math.abs(e-t),1,50)/50:e>n?-hi(Math.abs(e-n),1,50)/50:0,TA=(e,t)=>{const n=Kw(e.x,35,t.width-35)*20,r=Kw(e.y,35,t.height-35)*20;return[n,r]},MA=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},HV=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Nv=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),UV=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ww=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Lg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},FV=e=>$n(e.width)&&$n(e.height)&&$n(e.x)&&$n(e.y),$n=e=>!isNaN(e)&&isFinite(e),tt=Symbol.for("internals"),DA=["Enter"," ","Escape"],VV=(e,t)=>{},GV=e=>"nativeEvent"in e;function Pg(e){var a,o;const t=GV(e)?e.nativeEvent:e,n=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const zA=e=>"clientX"in e,Ja=(e,t)=>{var o,s;const n=zA(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},of=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Lc=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m=20})=>$.createElement($.Fragment,null,$.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),m&&$.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&$n(n)&&$n(r)?$.createElement(BV,{x:n,y:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u}):null);Lc.displayName="BaseEdge";function Yi(e,t,n){return n===void 0?n:r=>{const a=t().edges.find(o=>o.id===e);a&&n(r,{...a})}}function OA({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,o=n<e?n+a:n-a,s=Math.abs(r-t)/2,i=r<t?r+s:r-s;return[o,i,a,s]}function $A({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:o,targetControlX:s,targetControlY:i}){const c=e*.125+a*.375+s*.375+n*.125,u=t*.125+o*.375+i*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var Ho;(function(e){e.Strict="strict",e.Loose="loose"})(Ho||(Ho={}));var No;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(No||(No={}));var tc;(function(e){e.Partial="partial",e.Full="full"})(tc||(tc={}));var La;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(La||(La={}));var sf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(sf||(sf={}));var ae;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ae||(ae={}));function Qw({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===ae.Left||e===ae.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function LA({sourceX:e,sourceY:t,sourcePosition:n=ae.Bottom,targetX:r,targetY:a,targetPosition:o=ae.Top}){const[s,i]=Qw({pos:n,x1:e,y1:t,x2:r,y2:a}),[c,u]=Qw({pos:o,x1:r,y1:a,x2:e,y2:t}),[d,f,h,m]=$A({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:s,sourceControlY:i,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${i} ${c},${u} ${r},${a}`,d,f,h,m]}const Ev=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=ae.Bottom,targetPosition:o=ae.Top,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:y,interactionWidth:v})=>{const[w,g,x]=LA({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o});return $.createElement(Lc,{path:w,labelX:g,labelY:x,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:y,interactionWidth:v})});Ev.displayName="SimpleBezierEdge";const Jw={[ae.Left]:{x:-1,y:0},[ae.Right]:{x:1,y:0},[ae.Top]:{x:0,y:-1},[ae.Bottom]:{x:0,y:1}},ZV=({source:e,sourcePosition:t=ae.Bottom,target:n})=>t===ae.Left||t===ae.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},e1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function YV({source:e,sourcePosition:t=ae.Bottom,target:n,targetPosition:r=ae.Top,center:a,offset:o}){const s=Jw[t],i=Jw[r],c={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+i.x*o,y:n.y+i.y*o},d=ZV({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let m=[],y,v;const w={x:0,y:0},g={x:0,y:0},[x,S,b,E]=OA({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*i[f]===-1){y=a.x??x,v=a.y??S;const N=[{x:y,y:c.y},{x:y,y:u.y}],C=[{x:c.x,y:v},{x:u.x,y:v}];s[f]===h?m=f==="x"?N:C:m=f==="x"?C:N}else{const N=[{x:c.x,y:u.y}],C=[{x:u.x,y:c.y}];if(f==="x"?m=s.x===h?C:N:m=s.y===h?N:C,t===r){const L=Math.abs(e[f]-n[f]);if(L<=o){const k=Math.min(o-1,o-L);s[f]===h?w[f]=(c[f]>e[f]?-1:1)*k:g[f]=(u[f]>n[f]?-1:1)*k}}if(t!==r){const L=f==="x"?"y":"x",k=s[f]===i[L],O=c[L]>u[L],D=c[L]<u[L];(s[f]===1&&(!k&&O||k&&D)||s[f]!==1&&(!k&&D||k&&O))&&(m=f==="x"?N:C)}const A={x:c.x+w.x,y:c.y+w.y},_={x:u.x+g.x,y:u.y+g.y},T=Math.max(Math.abs(A.x-m[0].x),Math.abs(_.x-m[0].x)),I=Math.max(Math.abs(A.y-m[0].y),Math.abs(_.y-m[0].y));T>=I?(y=(A.x+_.x)/2,v=m[0].y):(y=m[0].x,v=(A.y+_.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...m,{x:u.x+g.x,y:u.y+g.y},n],y,v,b,E]}function qV(e,t,n,r){const a=Math.min(e1(e,t)/2,e1(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+a*u},${s}Q ${o},${s} ${o},${s+a*d}`}const i=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${s+a*c}Q ${o},${s} ${o+a*i},${s}`}function Ig({sourceX:e,sourceY:t,sourcePosition:n=ae.Bottom,targetX:r,targetY:a,targetPosition:o=ae.Top,borderRadius:s=5,centerX:i,centerY:c,offset:u=20}){const[d,f,h,m,y]=YV({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:o,center:{x:i,y:c},offset:u});return[d.reduce((w,g,x)=>{let S="";return x>0&&x<d.length-1?S=qV(d[x-1],g,d[x+1],s):S=`${x===0?"M":"L"}${g.x} ${g.y}`,w+=S,w},""),f,h,m,y]}const bh=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=ae.Bottom,targetPosition:h=ae.Top,markerEnd:m,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[g,x,S]=Ig({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return $.createElement(Lc,{path:g,labelX:x,labelY:S,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:w})});bh.displayName="SmoothStepEdge";const _v=p.memo(e=>{var t;return $.createElement(bh,{...e,pathOptions:p.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});_v.displayName="StepEdge";function XV({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,o,s,i]=OA({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,o,s,i]}const Cv=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m})=>{const[y,v,w]=XV({sourceX:e,sourceY:t,targetX:n,targetY:r});return $.createElement(Lc,{path:y,labelX:v,labelY:w,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m})});Cv.displayName="StraightEdge";function wu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function t1({pos:e,x1:t,y1:n,x2:r,y2:a,c:o}){switch(e){case ae.Left:return[t-wu(t-r,o),n];case ae.Right:return[t+wu(r-t,o),n];case ae.Top:return[t,n-wu(n-a,o)];case ae.Bottom:return[t,n+wu(a-n,o)]}}function PA({sourceX:e,sourceY:t,sourcePosition:n=ae.Bottom,targetX:r,targetY:a,targetPosition:o=ae.Top,curvature:s=.25}){const[i,c]=t1({pos:n,x1:e,y1:t,x2:r,y2:a,c:s}),[u,d]=t1({pos:o,x1:r,y1:a,x2:e,y2:t,c:s}),[f,h,m,y]=$A({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${i},${c} ${u},${d} ${r},${a}`,f,h,m,y]}const lf=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=ae.Bottom,targetPosition:o=ae.Top,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[g,x,S]=PA({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o,curvature:v==null?void 0:v.curvature});return $.createElement(Lc,{path:g,labelX:x,labelY:S,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:y,interactionWidth:w})});lf.displayName="BezierEdge";const jv=p.createContext(null),KV=jv.Provider;jv.Consumer;const WV=()=>p.useContext(jv),QV=e=>"id"in e&&"source"in e&&"target"in e,JV=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Bg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,eG=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),IA=(e,t)=>{if(!e.source||!e.target)return t;let n;return QV(e)?n={...e}:n={...e,id:JV(e)},eG(n,t)?t:t.concat(n)},Hg=({x:e,y:t},[n,r,a],o,[s,i])=>{const c={x:(e-n)/a,y:(t-r)/a};return o?{x:s*Math.round(c.x/s),y:i*Math.round(c.y/i)}:c},BA=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r}),Zs=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-r};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:a}},kv=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const{x:o,y:s}=Zs(a,t).positionAbsolute;return HV(r,Nv({x:o,y:s,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return UV(n)},HA=(e,t,[n,r,a]=[0,0,1],o=!1,s=!1,i=[0,0])=>{const c={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:m=!0,hidden:y=!1}=d;if(s&&!m||y)return!1;const{positionAbsolute:v}=Zs(d,i),w={x:v.x,y:v.y,width:f||0,height:h||0},g=Lg(c,w),x=typeof f>"u"||typeof h>"u"||f===null||h===null,S=o&&g>0,b=(f||0)*(h||0);(x||S||g>=b||d.dragging)&&u.push(d)}),u},UA=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},FA=(e,t,n,r,a,o=.1)=>{const s=t/(e.width*(1+o)),i=n/(e.height*(1+o)),c=Math.min(s,i),u=hi(c,r,a),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,m=n/2-f*u;return{x:h,y:m,zoom:u}},bo=(e,t=0)=>e.transition().duration(t);function n1(e,t,n,r){return(t[n]||[]).reduce((a,o)=>{var s,i;return`${e.id}-${o.id}-${n}`!==r&&a.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((i=e.positionAbsolute)==null?void 0:i.y)??0)+o.y+o.height/2}),a},[])}function tG(e,t,n,r,a,o){const{x:s,y:i}=Ja(e),u=t.elementsFromPoint(s,i).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const v=Av(void 0,u),w=u.getAttribute("data-handleid"),g=o({nodeId:y,id:w,type:v});if(g){const x=a.find(S=>S.nodeId===y&&S.type===v&&S.id===w);return{handle:{id:w,type:v,nodeId:y,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:g}}}}let d=[],f=1/0;if(a.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=r){const w=o(y);v<=f&&(v<f?d=[{handle:y,validHandleResult:w}]:v===f&&d.push({handle:y,validHandleResult:w}),f=v)}}),!d.length)return{handle:null,validHandleResult:VA()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:y})=>y.isValid),m=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:v})=>m?y.type==="target":h?v.isValid:!0)||d[0]}const nG={source:null,target:null,sourceHandle:null,targetHandle:null},VA=()=>({handleDomNode:null,isValid:!1,connection:nG,endHandle:null});function GA(e,t,n,r,a,o,s){const i=a==="target",c=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...VA(),handleDomNode:c};if(c){const d=Av(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),m=c.classList.contains("connectable"),y=c.classList.contains("connectableend"),v={source:i?f:n,sourceHandle:i?h:r,target:i?n:f,targetHandle:i?r:h};u.connection=v,m&&y&&(t===Ho.Strict?i&&d==="source"||!i&&d==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=o(v))}return u}function rG({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((a,o)=>{if(o[tt]){const{handleBounds:s}=o[tt];let i=[],c=[];s&&(i=n1(o,s,"source",`${t}-${n}-${r}`),c=n1(o,s,"target",`${t}-${n}-${r}`)),a.push(...i,...c)}return a},[])}function Av(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function $m(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function aG(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function ZA({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:a,getState:o,setState:s,isValidConnection:i,edgeUpdaterType:c,onReconnectEnd:u}){const d=MA(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:m,connectionRadius:y,onConnectStart:v,panBy:w,getNodes:g,cancelConnection:x}=o();let S=0,b;const{x:E,y:j}=Ja(e),N=d==null?void 0:d.elementFromPoint(E,j),C=Av(c,N),A=h==null?void 0:h.getBoundingClientRect();if(!A||!C)return;let _,T=Ja(e,A),I=!1,L=null,k=!1,O=null;const D=rG({nodes:g(),nodeId:n,handleId:t,handleType:C}),P=()=>{if(!m)return;const[z,B]=TA(T,A);w({x:z,y:B}),S=requestAnimationFrame(P)};s({connectionPosition:T,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:C});function M(z){const{transform:B}=o();T=Ja(z,A);const{handle:U,validHandleResult:H}=tG(z,d,Hg(T,B,!1,[1,1]),y,D,F=>GA(F,f,n,t,a?"target":"source",i,d));if(b=U,I||(P(),I=!0),O=H.handleDomNode,L=H.connection,k=H.isValid,s({connectionPosition:b&&k?BA({x:b.x,y:b.y},B):T,connectionStatus:aG(!!b,k),connectionEndHandle:H.endHandle}),!b&&!k&&!O)return $m(_);L.source!==L.target&&O&&($m(_),_=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",k),O.classList.toggle("react-flow__handle-valid",k))}function R(z){var B,U;(b||O)&&L&&k&&(r==null||r(L)),(U=(B=o()).onConnectEnd)==null||U.call(B,z),c&&(u==null||u(z)),$m(_),x(),cancelAnimationFrame(S),I=!1,k=!1,L=null,O=null,d.removeEventListener("mousemove",M),d.removeEventListener("mouseup",R),d.removeEventListener("touchmove",M),d.removeEventListener("touchend",R)}d.addEventListener("mousemove",M),d.addEventListener("mouseup",R),d.addEventListener("touchmove",M),d.addEventListener("touchend",R)}const r1=()=>!0,oG=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),sG=(e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},YA=p.forwardRef(({type:e="source",position:t=ae.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:s,onConnect:i,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},m)=>{var A,_;const y=s||null,v=e==="target",w=Ct(),g=WV(),{connectOnClick:x,noPanClassName:S}=Ke(oG,tn),{connecting:b,clickConnecting:E}=Ke(sG(g,y,e),tn);g||(_=(A=w.getState()).onError)==null||_.call(A,"010",ha.error010());const j=T=>{const{defaultEdgeOptions:I,onConnect:L,hasDefaultEdges:k}=w.getState(),O={...I,...T};if(k){const{edges:D,setEdges:P}=w.getState();P(IA(O,D))}L==null||L(O),i==null||i(O)},N=T=>{if(!g)return;const I=zA(T);a&&(I&&T.button===0||!I)&&ZA({event:T,handleId:y,nodeId:g,onConnect:j,isTarget:v,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||r1}),I?d==null||d(T):f==null||f(T)},C=T=>{const{onClickConnectStart:I,onClickConnectEnd:L,connectionClickStartHandle:k,connectionMode:O,isValidConnection:D}=w.getState();if(!g||!k&&!a)return;if(!k){I==null||I(T,{nodeId:g,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:g,type:e,handleId:y}});return}const P=MA(T.target),M=n||D||r1,{connection:R,isValid:z}=GA({nodeId:g,id:y,type:e},O,k.nodeId,k.handleId||null,k.type,M,P);z&&j(R),L==null||L(T),w.setState({connectionClickStartHandle:null})};return $.createElement("div",{"data-handleid":y,"data-nodeid":g,"data-handlepos":t,"data-id":`${g}-${y}-${e}`,className:Yt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,u,{source:!v,target:v,connectable:r,connectablestart:a,connectableend:o,connecting:E,connectionindicator:r&&(a&&!b||o&&b)}]),onMouseDown:N,onTouchStart:N,onClick:x?C:void 0,ref:m,...h},c)});YA.displayName="Handle";var mi=p.memo(YA);const qA=({data:e,isConnectable:t,targetPosition:n=ae.Top,sourcePosition:r=ae.Bottom})=>$.createElement($.Fragment,null,$.createElement(mi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,$.createElement(mi,{type:"source",position:r,isConnectable:t}));qA.displayName="DefaultNode";var Ug=p.memo(qA);const XA=({data:e,isConnectable:t,sourcePosition:n=ae.Bottom})=>$.createElement($.Fragment,null,e==null?void 0:e.label,$.createElement(mi,{type:"source",position:n,isConnectable:t}));XA.displayName="InputNode";var KA=p.memo(XA);const WA=({data:e,isConnectable:t,targetPosition:n=ae.Top})=>$.createElement($.Fragment,null,$.createElement(mi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);WA.displayName="OutputNode";var QA=p.memo(WA);const Rv=()=>null;Rv.displayName="GroupNode";const iG=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Su=e=>e.id;function lG(e,t){return tn(e.selectedNodes.map(Su),t.selectedNodes.map(Su))&&tn(e.selectedEdges.map(Su),t.selectedEdges.map(Su))}const JA=p.memo(({onSelectionChange:e})=>{const t=Ct(),{selectedNodes:n,selectedEdges:r}=Ke(iG,lG);return p.useEffect(()=>{const a={nodes:n,edges:r};e==null||e(a),t.getState().onSelectionChange.forEach(o=>o(a))},[n,r,e]),null});JA.displayName="SelectionListener";const cG=e=>!!e.onSelectionChange;function uG({onSelectionChange:e}){const t=Ke(cG);return e||t?$.createElement(JA,{onSelectionChange:e}):null}const dG=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ls(e,t){p.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ye(e,t,n){p.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const fG=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:o,onConnectEnd:s,onClickConnectStart:i,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:m,elevateNodesOnSelect:y,minZoom:v,maxZoom:w,nodeExtent:g,onNodesChange:x,onEdgesChange:S,elementsSelectable:b,connectionMode:E,snapGrid:j,snapToGrid:N,translateExtent:C,connectOnClick:A,defaultEdgeOptions:_,fitView:T,fitViewOptions:I,onNodesDelete:L,onEdgesDelete:k,onNodeDrag:O,onNodeDragStart:D,onNodeDragStop:P,onSelectionDrag:M,onSelectionDragStart:R,onSelectionDragStop:z,noPanClassName:B,nodeOrigin:U,rfId:H,autoPanOnConnect:F,autoPanOnNodeDrag:G,onError:q,connectionRadius:V,isValidConnection:X,nodeDragThreshold:W})=>{const{setNodes:re,setEdges:we,setDefaultNodesAndEdges:Ce,setMinZoom:ue,setMaxZoom:J,setTranslateExtent:Re,setNodeExtent:st,reset:Ne}=Ke(dG,tn),Q=Ct();return p.useEffect(()=>{const Ze=r==null?void 0:r.map(Dt=>({...Dt,..._}));return Ce(n,Ze),()=>{Ne()}},[]),ye("defaultEdgeOptions",_,Q.setState),ye("connectionMode",E,Q.setState),ye("onConnect",a,Q.setState),ye("onConnectStart",o,Q.setState),ye("onConnectEnd",s,Q.setState),ye("onClickConnectStart",i,Q.setState),ye("onClickConnectEnd",c,Q.setState),ye("nodesDraggable",u,Q.setState),ye("nodesConnectable",d,Q.setState),ye("nodesFocusable",f,Q.setState),ye("edgesFocusable",h,Q.setState),ye("edgesUpdatable",m,Q.setState),ye("elementsSelectable",b,Q.setState),ye("elevateNodesOnSelect",y,Q.setState),ye("snapToGrid",N,Q.setState),ye("snapGrid",j,Q.setState),ye("onNodesChange",x,Q.setState),ye("onEdgesChange",S,Q.setState),ye("connectOnClick",A,Q.setState),ye("fitViewOnInit",T,Q.setState),ye("fitViewOnInitOptions",I,Q.setState),ye("onNodesDelete",L,Q.setState),ye("onEdgesDelete",k,Q.setState),ye("onNodeDrag",O,Q.setState),ye("onNodeDragStart",D,Q.setState),ye("onNodeDragStop",P,Q.setState),ye("onSelectionDrag",M,Q.setState),ye("onSelectionDragStart",R,Q.setState),ye("onSelectionDragStop",z,Q.setState),ye("noPanClassName",B,Q.setState),ye("nodeOrigin",U,Q.setState),ye("rfId",H,Q.setState),ye("autoPanOnConnect",F,Q.setState),ye("autoPanOnNodeDrag",G,Q.setState),ye("onError",q,Q.setState),ye("connectionRadius",V,Q.setState),ye("isValidConnection",X,Q.setState),ye("nodeDragThreshold",W,Q.setState),ls(e,re),ls(t,we),ls(v,ue),ls(w,J),ls(C,Re),ls(g,st),null},a1={display:"none"},hG={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},eR="react-flow__node-desc",tR="react-flow__edge-desc",mG="react-flow__aria-live",pG=e=>e.ariaLiveMessage;function gG({rfId:e}){const t=Ke(pG);return $.createElement("div",{id:`${mG}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:hG},t)}function yG({rfId:e,disableKeyboardA11y:t}){return $.createElement($.Fragment,null,$.createElement("div",{id:`${eR}-${e}`,style:a1},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),$.createElement("div",{id:`${tR}-${e}`,style:a1},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&$.createElement(gG,{rfId:e}))}var nc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=p.useState(!1),a=p.useRef(!1),o=p.useRef(new Set([])),[s,i]=p.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return p.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=m=>{if(a.current=m.ctrlKey||m.metaKey||m.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&Pg(m))return!1;const v=s1(m.code,i);o.current.add(m[v]),o1(s,o.current,!1)&&(m.preventDefault(),r(!0))},f=m=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Pg(m))return!1;const v=s1(m.code,i);o1(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[v]),m.key==="Meta"&&o.current.clear(),a.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function o1(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function s1(e,t){return t.includes(e)?"code":"key"}function nR(e,t,n,r){var i,c;const a=e.parentNode||e.parentId;if(!a)return n;const o=t.get(a),s=Zs(o,r);return nR(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((i=o[tt])==null?void 0:i.z)??0)>(n.z??0)?((c=o[tt])==null?void 0:c.z)??0:n.z??0},r)}function rR(e,t,n){e.forEach(r=>{var o;const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||n!=null&&n[r.id]){const{x:s,y:i,z:c}=nR(r,e,{...r.position,z:((o=r[tt])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:i},r[tt].z=c,n!=null&&n[r.id]&&(r[tt].isParent=!0)}})}function Lm(e,t,n,r){const a=new Map,o={},s=r?1e3:0;return e.forEach(i=>{var m;const c=($n(i.zIndex)?i.zIndex:0)+(i.selected?s:0),u=t.get(i.id),d={...i,positionAbsolute:{x:i.position.x,y:i.position.y}},f=i.parentNode||i.parentId;f&&(o[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==i.type;Object.defineProperty(d,tt,{enumerable:!1,value:{handleBounds:h||(m=u==null?void 0:u[tt])==null?void 0:m.handleBounds,z:c}}),a.set(i.id,d)}),rR(a,n,o),a}function aR(e,t={}){const{getNodes:n,width:r,height:a,minZoom:o,maxZoom:s,d3Zoom:i,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(i&&c&&(h||!t.initial)){const y=n().filter(w=>{var x;const g=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(x=t.nodes)!=null&&x.length?g&&t.nodes.some(S=>S.id===w.id):g}),v=y.every(w=>w.width&&w.height);if(y.length>0&&v){const w=kv(y,f),{x:g,y:x,zoom:S}=FA(w,r,a,t.minZoom??o,t.maxZoom??s,t.padding??.1),b=_r.translate(g,x).scale(S);return typeof t.duration=="number"&&t.duration>0?i.transform(bo(c,t.duration),b):i.transform(c,b),!0}}return!1}function vG(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[tt]:r[tt],selected:n.selected})}),new Map(t)}function xG(e,t){return t.map(n=>{const r=e.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function Nu({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:a,edges:o,onNodesChange:s,onEdgesChange:i,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:vG(e,a)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:xG(t,o)}),i==null||i(t))}const cs=()=>{},bG={zoomIn:cs,zoomOut:cs,zoomTo:cs,getZoom:()=>1,setViewport:cs,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:cs,fitBounds:cs,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},wG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),SG=()=>{const e=Ct(),{d3Zoom:t,d3Selection:n}=Ke(wG,tn);return p.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(bo(n,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(bo(n,a==null?void 0:a.duration),1/1.2),zoomTo:(a,o)=>t.scaleTo(bo(n,o==null?void 0:o.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,o)=>{const[s,i,c]=e.getState().transform,u=_r.translate(a.x??s,a.y??i).scale(a.zoom??c);t.transform(bo(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[a,o,s]=e.getState().transform;return{x:a,y:o,zoom:s}},fitView:a=>aR(e.getState,a),setCenter:(a,o,s)=>{const{width:i,height:c,maxZoom:u}=e.getState(),d=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=i/2-a*d,h=c/2-o*d,m=_r.translate(f,h).scale(d);t.transform(bo(n,s==null?void 0:s.duration),m)},fitBounds:(a,o)=>{const{width:s,height:i,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=FA(a,s,i,c,u,(o==null?void 0:o.padding)??.1),m=_r.translate(d,f).scale(h);t.transform(bo(n,o==null?void 0:o.duration),m)},project:a=>{const{transform:o,snapToGrid:s,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Hg(a,o,s,i)},screenToFlowPosition:a=>{const{transform:o,snapToGrid:s,snapGrid:i,domNode:c}=e.getState();if(!c)return a;const{x:u,y:d}=c.getBoundingClientRect(),f={x:a.x-u,y:a.y-d};return Hg(f,o,s,i)},flowToScreenPosition:a=>{const{transform:o,domNode:s}=e.getState();if(!s)return a;const{x:i,y:c}=s.getBoundingClientRect(),u=BA(a,o);return{x:u.x+i,y:u.y+c}},viewportInitialized:!0}:bG,[t,n])};function Tv(){const e=SG(),t=Ct(),n=p.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=p.useCallback(v=>t.getState().nodeInternals.get(v),[]),a=p.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(w=>({...w}))},[]),o=p.useCallback(v=>{const{edges:w=[]}=t.getState();return w.find(g=>g.id===v)},[]),s=p.useCallback(v=>{const{getNodes:w,setNodes:g,hasDefaultNodes:x,onNodesChange:S}=t.getState(),b=w(),E=typeof v=="function"?v(b):v;if(x)g(E);else if(S){const j=E.length===0?b.map(N=>({type:"remove",id:N.id})):E.map(N=>({item:N,type:"reset"}));S(j)}},[]),i=p.useCallback(v=>{const{edges:w=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:S}=t.getState(),b=typeof v=="function"?v(w):v;if(x)g(b);else if(S){const E=b.length===0?w.map(j=>({type:"remove",id:j.id})):b.map(j=>({item:j,type:"reset"}));S(E)}},[]),c=p.useCallback(v=>{const w=Array.isArray(v)?v:[v],{getNodes:g,setNodes:x,hasDefaultNodes:S,onNodesChange:b}=t.getState();if(S){const j=[...g(),...w];x(j)}else if(b){const E=w.map(j=>({item:j,type:"add"}));b(E)}},[]),u=p.useCallback(v=>{const w=Array.isArray(v)?v:[v],{edges:g=[],setEdges:x,hasDefaultEdges:S,onEdgesChange:b}=t.getState();if(S)x([...g,...w]);else if(b){const E=w.map(j=>({item:j,type:"add"}));b(E)}},[]),d=p.useCallback(()=>{const{getNodes:v,edges:w=[],transform:g}=t.getState(),[x,S,b]=g;return{nodes:v().map(E=>({...E})),edges:w.map(E=>({...E})),viewport:{x,y:S,zoom:b}}},[]),f=p.useCallback(({nodes:v,edges:w})=>{const{nodeInternals:g,getNodes:x,edges:S,hasDefaultNodes:b,hasDefaultEdges:E,onNodesDelete:j,onEdgesDelete:N,onNodesChange:C,onEdgesChange:A}=t.getState(),_=(v||[]).map(O=>O.id),T=(w||[]).map(O=>O.id),I=x().reduce((O,D)=>{const P=D.parentNode||D.parentId,M=!_.includes(D.id)&&P&&O.find(z=>z.id===P);return(typeof D.deletable=="boolean"?D.deletable:!0)&&(_.includes(D.id)||M)&&O.push(D),O},[]),L=S.filter(O=>typeof O.deletable=="boolean"?O.deletable:!0),k=L.filter(O=>T.includes(O.id));if(I||k){const O=UA(I,L),D=[...k,...O],P=D.reduce((M,R)=>(M.includes(R.id)||M.push(R.id),M),[]);if((E||b)&&(E&&t.setState({edges:S.filter(M=>!P.includes(M.id))}),b&&(I.forEach(M=>{g.delete(M.id)}),t.setState({nodeInternals:new Map(g)}))),P.length>0&&(N==null||N(D),A&&A(P.map(M=>({id:M,type:"remove"})))),I.length>0&&(j==null||j(I),C)){const M=I.map(R=>({id:R.id,type:"remove"}));C(M)}}},[]),h=p.useCallback(v=>{const w=FV(v),g=w?null:t.getState().nodeInternals.get(v.id);return!w&&!g?[null,null,w]:[w?v:Ww(g),g,w]},[]),m=p.useCallback((v,w=!0,g)=>{const[x,S,b]=h(v);return x?(g||t.getState().getNodes()).filter(E=>{if(!b&&(E.id===S.id||!E.positionAbsolute))return!1;const j=Ww(E),N=Lg(j,x);return w&&N>0||N>=x.width*x.height}):[]},[]),y=p.useCallback((v,w,g=!0)=>{const[x]=h(v);if(!x)return!1;const S=Lg(x,w);return g&&S>0||S>=x.width*x.height},[]);return p.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:o,setNodes:s,setEdges:i,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:m,isNodeIntersecting:y}),[e,n,r,a,o,s,i,c,u,d,f,m,y])}const NG={actInsideInputWithModifier:!1};var EG=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ct(),{deleteElements:r}=Tv(),a=nc(e,NG),o=nc(t);p.useEffect(()=>{if(a){const{edges:s,getNodes:i}=n.getState(),c=i().filter(d=>d.selected),u=s.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[a]),p.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function _G(e){const t=Ct();p.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const a=wv(e.current);(a.height===0||a.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",ha.error004())),t.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Mv={position:"absolute",width:"100%",height:"100%",top:0,left:0},CG=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Eu=e=>({x:e.x,y:e.y,zoom:e.k}),us=(e,t)=>e.target.closest(`.${t}`),i1=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),l1=e=>{const t=e.ctrlKey&&of()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},jG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),kG=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:i=.5,panOnScrollMode:c=No.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:m,minZoom:y,maxZoom:v,zoomActivationKeyCode:w,preventScrolling:g=!0,children:x,noWheelClassName:S,noPanClassName:b})=>{const E=p.useRef(),j=Ct(),N=p.useRef(!1),C=p.useRef(!1),A=p.useRef(null),_=p.useRef({x:0,y:0,zoom:0}),{d3Zoom:T,d3Selection:I,d3ZoomHandler:L,userSelectionActive:k}=Ke(jG,tn),O=nc(w),D=p.useRef(0),P=p.useRef(!1),M=p.useRef();return _G(A),p.useEffect(()=>{if(A.current){const R=A.current.getBoundingClientRect(),z=rd().scaleExtent([y,v]).translateExtent(m),B=yt(A.current).call(z),U=_r.translate(h.x,h.y).scale(hi(h.zoom,y,v)),H=[[0,0],[R.width,R.height]],F=z.constrain()(U,H,m);z.transform(B,F),z.wheelDelta(l1),j.setState({d3Zoom:z,d3Selection:B,d3ZoomHandler:B.on("wheel.zoom"),transform:[F.x,F.y,F.k],domNode:A.current.closest(".react-flow")})}},[]),p.useEffect(()=>{I&&T&&(s&&!O&&!k?I.on("wheel.zoom",R=>{if(us(R,S))return!1;R.preventDefault(),R.stopImmediatePropagation();const z=I.property("__zoom").k||1;if(R.ctrlKey&&o){const X=ur(R),W=l1(R),re=z*Math.pow(2,W);T.scaleTo(I,re,X,R);return}const B=R.deltaMode===1?20:1;let U=c===No.Vertical?0:R.deltaX*B,H=c===No.Horizontal?0:R.deltaY*B;!of()&&R.shiftKey&&c!==No.Vertical&&(U=R.deltaY*B,H=0),T.translateBy(I,-(U/z)*i,-(H/z)*i,{internal:!0});const F=Eu(I.property("__zoom")),{onViewportChangeStart:G,onViewportChange:q,onViewportChangeEnd:V}=j.getState();clearTimeout(M.current),P.current||(P.current=!0,t==null||t(R,F),G==null||G(F)),P.current&&(e==null||e(R,F),q==null||q(F),M.current=setTimeout(()=>{n==null||n(R,F),V==null||V(F),P.current=!1},150))},{passive:!1}):typeof L<"u"&&I.on("wheel.zoom",function(R,z){if(!g&&R.type==="wheel"&&!R.ctrlKey||us(R,S))return null;R.preventDefault(),L.call(this,R,z)},{passive:!1}))},[k,s,c,I,T,L,O,o,g,S,t,e,n]),p.useEffect(()=>{T&&T.on("start",R=>{var U,H;if(!R.sourceEvent||R.sourceEvent.internal)return null;D.current=(U=R.sourceEvent)==null?void 0:U.button;const{onViewportChangeStart:z}=j.getState(),B=Eu(R.transform);N.current=!0,_.current=B,((H=R.sourceEvent)==null?void 0:H.type)==="mousedown"&&j.setState({paneDragging:!0}),z==null||z(B),t==null||t(R.sourceEvent,B)})},[T,t]),p.useEffect(()=>{T&&(k&&!N.current?T.on("zoom",null):k||T.on("zoom",R=>{var B;const{onViewportChange:z}=j.getState();if(j.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),C.current=!!(r&&i1(f,D.current??0)),(e||z)&&!((B=R.sourceEvent)!=null&&B.internal)){const U=Eu(R.transform);z==null||z(U),e==null||e(R.sourceEvent,U)}}))},[k,T,e,f,r]),p.useEffect(()=>{T&&T.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:z}=j.getState();if(N.current=!1,j.setState({paneDragging:!1}),r&&i1(f,D.current??0)&&!C.current&&r(R.sourceEvent),C.current=!1,(n||z)&&CG(_.current,R.transform)){const B=Eu(R.transform);_.current=B,clearTimeout(E.current),E.current=setTimeout(()=>{z==null||z(B),n==null||n(R.sourceEvent,B)},s?150:0)}})},[T,s,f,n,r]),p.useEffect(()=>{T&&T.filter(R=>{const z=O||a,B=o&&R.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&R.button===1&&R.type==="mousedown"&&(us(R,"react-flow__node")||us(R,"react-flow__edge")))return!0;if(!f&&!z&&!s&&!u&&!o||k||!u&&R.type==="dblclick"||us(R,S)&&R.type==="wheel"||us(R,b)&&(R.type!=="wheel"||s&&R.type==="wheel"&&!O)||!o&&R.ctrlKey&&R.type==="wheel"||!z&&!s&&!B&&R.type==="wheel"||!f&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(f)&&!f.includes(R.button)&&R.type==="mousedown")return!1;const U=Array.isArray(f)&&f.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&U})},[k,T,a,o,s,u,f,d,O]),$.createElement("div",{className:"react-flow__renderer",ref:A,style:Mv},x)},AG=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function RG(){const{userSelectionActive:e,userSelectionRect:t}=Ke(AG,tn);return e&&t?$.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function c1(e,t){const n=t.parentNode||t.parentId,r=e.find(a=>a.id===n);if(r){const a=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(a>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function oR(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,a)=>{const o=e.filter(i=>i.id===a.id);if(o.length===0)return r.push(a),r;const s={...a};for(const i of o)if(i)switch(i.type){case"select":{s.selected=i.selected;break}case"position":{typeof i.position<"u"&&(s.position=i.position),typeof i.positionAbsolute<"u"&&(s.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(s.dragging=i.dragging),s.expandParent&&c1(r,s);break}case"dimensions":{typeof i.dimensions<"u"&&(s.width=i.dimensions.width,s.height=i.dimensions.height),typeof i.updateStyle<"u"&&(s.style={...s.style||{},...i.dimensions}),typeof i.resizing=="boolean"&&(s.resizing=i.resizing),s.expandParent&&c1(r,s);break}case"remove":return r}return r.push(s),r},n)}function sR(e,t){return oR(e,t)}function TG(e,t){return oR(e,t)}const Ta=(e,t)=>({id:e,type:"select",selected:t});function Ts(e,t){return e.reduce((n,r)=>{const a=t.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(Ta(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(Ta(r.id,!1))),n},[])}const Pm=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},MG=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),iR=p.memo(({isSelecting:e,selectionMode:t=tc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:i,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=p.useRef(null),m=Ct(),y=p.useRef(0),v=p.useRef(0),w=p.useRef(),{userSelectionActive:g,elementsSelectable:x,dragging:S}=Ke(MG,tn),b=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},E=L=>{o==null||o(L),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},j=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}s==null||s(L)},N=i?L=>i(L):void 0,C=L=>{const{resetSelectedElements:k,domNode:O}=m.getState();if(w.current=O==null?void 0:O.getBoundingClientRect(),!x||!e||L.button!==0||L.target!==h.current||!w.current)return;const{x:D,y:P}=Ja(L,w.current);k(),m.setState({userSelectionRect:{width:0,height:0,startX:D,startY:P,x:D,y:P}}),r==null||r(L)},A=L=>{const{userSelectionRect:k,nodeInternals:O,edges:D,transform:P,onNodesChange:M,onEdgesChange:R,nodeOrigin:z,getNodes:B}=m.getState();if(!e||!w.current||!k)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const U=Ja(L,w.current),H=k.startX??0,F=k.startY??0,G={...k,x:U.x<H?U.x:H,y:U.y<F?U.y:F,width:Math.abs(U.x-H),height:Math.abs(U.y-F)},q=B(),V=HA(O,G,P,t===tc.Partial,!0,z),X=UA(V,D).map(re=>re.id),W=V.map(re=>re.id);if(y.current!==W.length){y.current=W.length;const re=Ts(q,W);re.length&&(M==null||M(re))}if(v.current!==X.length){v.current=X.length;const re=Ts(D,X);re.length&&(R==null||R(re))}m.setState({userSelectionRect:G})},_=L=>{if(L.button!==0)return;const{userSelectionRect:k}=m.getState();!g&&k&&L.target===h.current&&(E==null||E(L)),m.setState({nodesSelectionActive:y.current>0}),b(),a==null||a(L)},T=L=>{g&&(m.setState({nodesSelectionActive:y.current>0}),a==null||a(L)),b()},I=x&&(e||g);return $.createElement("div",{className:Yt(["react-flow__pane",{dragging:S,selection:e}]),onClick:I?void 0:Pm(E,h),onContextMenu:Pm(j,h),onWheel:Pm(N,h),onMouseEnter:I?void 0:c,onMouseDown:I?C:void 0,onMouseMove:I?A:u,onMouseUp:I?_:void 0,onMouseLeave:I?T:d,ref:h,style:Mv},f,$.createElement(RG,null))});iR.displayName="Pane";function lR(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:lR(r,t):!1}function u1(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function DG(e,t,n,r){return Array.from(e.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!lR(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var o,s;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=a.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=a.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function zG(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function cR(e,t,n,r,a=[0,0],o){const s=zG(e,e.extent||r);let i=s;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:h,y:m}=Zs(f,a).positionAbsolute;i=f&&$n(h)&&$n(m)&&$n(f.width)&&$n(f.height)?[[h+e.width*a[0],m+e.height*a[1]],[h+f.width-e.width+e.width*a[0],m+f.height-e.height+e.height*a[1]]]:i}else o==null||o("005",ha.error005()),i=s;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:h,y:m}=Zs(f,a).positionAbsolute;i=[[e.extent[0][0]+h,e.extent[0][1]+m],[e.extent[1][0]+h,e.extent[1][1]+m]]}let u={x:0,y:0};if(c){const f=n.get(c);u=Zs(f,a).positionAbsolute}const d=i&&i!=="parent"?Sv(t,i):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Im({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?r.find(a=>a.id===e):r[0],r]}const d1=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),s=t.getBoundingClientRect(),i={x:s.width*r[0],y:s.height*r[1]};return o.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-s.left-i.x)/n,y:(u.top-s.top-i.y)/n,...wv(c)}})};function qi(e,t,n){return n===void 0?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,{...a})}}function Fg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:i,onError:c}=t.getState(),u=i.get(e);if(!u){c==null||c("012",ha.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):a([e])}function OG(){const e=Ct();return p.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,c={x:(s-r[0])/r[2],y:(i-r[1])/r[2]};return{xSnapped:o?a[0]*Math.round(c.x/a[0]):c.x,ySnapped:o?a[1]*Math.round(c.y/a[1]):c.y,...c}},[])}function Bm(e){return(t,n,r)=>e==null?void 0:e(t,r)}function uR({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:o,selectNodesOnDrag:s}){const i=Ct(),[c,u]=p.useState(!1),d=p.useRef([]),f=p.useRef({x:null,y:null}),h=p.useRef(0),m=p.useRef(null),y=p.useRef({x:0,y:0}),v=p.useRef(null),w=p.useRef(!1),g=p.useRef(!1),x=p.useRef(!1),S=OG();return p.useEffect(()=>{if(e!=null&&e.current){const b=yt(e.current),E=({x:C,y:A})=>{const{nodeInternals:_,onNodeDrag:T,onSelectionDrag:I,updateNodePositions:L,nodeExtent:k,snapGrid:O,snapToGrid:D,nodeOrigin:P,onError:M}=i.getState();f.current={x:C,y:A};let R=!1,z={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&k){const U=kv(d.current,P);z=Nv(U)}if(d.current=d.current.map(U=>{const H={x:C-U.distance.x,y:A-U.distance.y};D&&(H.x=O[0]*Math.round(H.x/O[0]),H.y=O[1]*Math.round(H.y/O[1]));const F=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];d.current.length>1&&k&&!U.extent&&(F[0][0]=U.positionAbsolute.x-z.x+k[0][0],F[1][0]=U.positionAbsolute.x+(U.width??0)-z.x2+k[1][0],F[0][1]=U.positionAbsolute.y-z.y+k[0][1],F[1][1]=U.positionAbsolute.y+(U.height??0)-z.y2+k[1][1]);const G=cR(U,H,_,F,P,M);return R=R||U.position.x!==G.position.x||U.position.y!==G.position.y,U.position=G.position,U.positionAbsolute=G.positionAbsolute,U}),!R)return;L(d.current,!0,!0),u(!0);const B=a?T:Bm(I);if(B&&v.current){const[U,H]=Im({nodeId:a,dragItems:d.current,nodeInternals:_});B(v.current,U,H)}},j=()=>{if(!m.current)return;const[C,A]=TA(y.current,m.current);if(C!==0||A!==0){const{transform:_,panBy:T}=i.getState();f.current.x=(f.current.x??0)-C/_[2],f.current.y=(f.current.y??0)-A/_[2],T({x:C,y:A})&&E(f.current)}h.current=requestAnimationFrame(j)},N=C=>{var P;const{nodeInternals:A,multiSelectionActive:_,nodesDraggable:T,unselectNodesAndEdges:I,onNodeDragStart:L,onSelectionDragStart:k}=i.getState();g.current=!0;const O=a?L:Bm(k);(!s||!o)&&!_&&a&&((P=A.get(a))!=null&&P.selected||I()),a&&o&&s&&Fg({id:a,store:i,nodeRef:e});const D=S(C);if(f.current=D,d.current=DG(A,T,D,a),O&&d.current){const[M,R]=Im({nodeId:a,dragItems:d.current,nodeInternals:A});O(C.sourceEvent,M,R)}};if(t)b.on(".drag",null);else{const C=y7().on("start",A=>{const{domNode:_,nodeDragThreshold:T}=i.getState();T===0&&N(A),x.current=!1;const I=S(A);f.current=I,m.current=(_==null?void 0:_.getBoundingClientRect())||null,y.current=Ja(A.sourceEvent,m.current)}).on("drag",A=>{var L,k;const _=S(A),{autoPanOnNodeDrag:T,nodeDragThreshold:I}=i.getState();if(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!w.current&&g.current&&T&&(w.current=!0,j()),!g.current){const O=_.xSnapped-(((L=f==null?void 0:f.current)==null?void 0:L.x)??0),D=_.ySnapped-(((k=f==null?void 0:f.current)==null?void 0:k.y)??0);Math.sqrt(O*O+D*D)>I&&N(A)}(f.current.x!==_.xSnapped||f.current.y!==_.ySnapped)&&d.current&&g.current&&(v.current=A.sourceEvent,y.current=Ja(A.sourceEvent,m.current),E(_))}}).on("end",A=>{if(!(!g.current||x.current)&&(u(!1),w.current=!1,g.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:_,nodeInternals:T,onNodeDragStop:I,onSelectionDragStop:L}=i.getState(),k=a?I:Bm(L);if(_(d.current,!1,!1),k){const[O,D]=Im({nodeId:a,dragItems:d.current,nodeInternals:T});k(A.sourceEvent,O,D)}}}).filter(A=>{const _=A.target;return!A.button&&(!n||!u1(_,`.${n}`,e))&&(!r||u1(_,r,e))});return b.call(C),()=>{b.on(".drag",null)}}}},[e,t,n,r,o,i,a,s,S]),c}function dR(){const e=Ct();return p.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:o,getNodes:s,snapToGrid:i,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=s().filter(x=>x.selected&&(x.draggable||d&&typeof x.draggable>"u")),h=i?c[0]:5,m=i?c[1]:5,y=n.isShiftPressed?4:1,v=n.x*h*y,w=n.y*m*y,g=f.map(x=>{if(x.positionAbsolute){const S={x:x.positionAbsolute.x+v,y:x.positionAbsolute.y+w};i&&(S.x=c[0]*Math.round(S.x/c[0]),S.y=c[1]*Math.round(S.y/c[1]));const{positionAbsolute:b,position:E}=cR(x,S,r,a,void 0,u);x.position=E,x.positionAbsolute=b}return x});o(g,!0,!1)},[])}const Ys={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Xi=e=>{const t=({id:n,type:r,data:a,xPos:o,yPos:s,xPosOrigin:i,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:m,onContextMenu:y,onDoubleClick:v,style:w,className:g,isDraggable:x,isSelectable:S,isConnectable:b,isFocusable:E,selectNodesOnDrag:j,sourcePosition:N,targetPosition:C,hidden:A,resizeObserver:_,dragHandle:T,zIndex:I,isParent:L,noDragClassName:k,noPanClassName:O,initialized:D,disableKeyboardA11y:P,ariaLabel:M,rfId:R,hasHandleBounds:z})=>{const B=Ct(),U=p.useRef(null),H=p.useRef(null),F=p.useRef(N),G=p.useRef(C),q=p.useRef(r),V=S||x||d||f||h||m,X=dR(),W=qi(n,B.getState,f),re=qi(n,B.getState,h),we=qi(n,B.getState,m),Ce=qi(n,B.getState,y),ue=qi(n,B.getState,v),J=Ne=>{const{nodeDragThreshold:Q}=B.getState();if(S&&(!j||!x||Q>0)&&Fg({id:n,store:B,nodeRef:U}),d){const Ze=B.getState().nodeInternals.get(n);Ze&&d(Ne,{...Ze})}},Re=Ne=>{if(!Pg(Ne)&&!P)if(DA.includes(Ne.key)&&S){const Q=Ne.key==="Escape";Fg({id:n,store:B,unselect:Q,nodeRef:U})}else x&&u&&Object.prototype.hasOwnProperty.call(Ys,Ne.key)&&(B.setState({ariaLiveMessage:`Moved selected node ${Ne.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),X({x:Ys[Ne.key].x,y:Ys[Ne.key].y,isShiftPressed:Ne.shiftKey}))};p.useEffect(()=>()=>{H.current&&(_==null||_.unobserve(H.current),H.current=null)},[]),p.useEffect(()=>{if(U.current&&!A){const Ne=U.current;(!D||!z||H.current!==Ne)&&(H.current&&(_==null||_.unobserve(H.current)),_==null||_.observe(Ne),H.current=Ne)}},[A,D,z]),p.useEffect(()=>{const Ne=q.current!==r,Q=F.current!==N,Ze=G.current!==C;U.current&&(Ne||Q||Ze)&&(Ne&&(q.current=r),Q&&(F.current=N),Ze&&(G.current=C),B.getState().updateNodeDimensions([{id:n,nodeElement:U.current,forceUpdate:!0}]))},[n,r,N,C]);const st=uR({nodeRef:U,disabled:A||!x,noDragClassName:k,handleSelector:T,nodeId:n,isSelectable:S,selectNodesOnDrag:j});return A?null:$.createElement("div",{className:Yt(["react-flow__node",`react-flow__node-${r}`,{[O]:x},g,{selected:u,selectable:S,parent:L,dragging:st}]),ref:U,style:{zIndex:I,transform:`translate(${i}px,${c}px)`,pointerEvents:V?"all":"none",visibility:D?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:W,onMouseMove:re,onMouseLeave:we,onContextMenu:Ce,onClick:J,onDoubleClick:ue,onKeyDown:E?Re:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":P?void 0:`${eR}-${R}`,"aria-label":M},$.createElement(KV,{value:n},$.createElement(e,{id:n,data:a,type:r,xPos:o,yPos:s,selected:u,isConnectable:b,sourcePosition:N,targetPosition:C,dragging:st,dragHandle:T,zIndex:I})))};return t.displayName="NodeWrapper",p.memo(t)};const $G=e=>{const t=e.getNodes().filter(n=>n.selected);return{...kv(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function LG({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ct(),{width:a,height:o,x:s,y:i,transformString:c,userSelectionActive:u}=Ke($G,tn),d=dR(),f=p.useRef(null);if(p.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),uR({nodeRef:f}),u||!a||!o)return null;const h=e?y=>{const v=r.getState().getNodes().filter(w=>w.selected);e(y,v)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(Ys,y.key)&&d({x:Ys[y.key].x,y:Ys[y.key].y,isShiftPressed:y.shiftKey})};return $.createElement("div",{className:Yt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},$.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:a,height:o,top:i,left:s}}))}var PG=p.memo(LG);const IG=e=>e.nodesSelectionActive,fR=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:i,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:m,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:w,panActivationKeyCode:g,zoomActivationKeyCode:x,elementsSelectable:S,zoomOnScroll:b,zoomOnPinch:E,panOnScroll:j,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:_,defaultViewport:T,translateExtent:I,minZoom:L,maxZoom:k,preventScrolling:O,onSelectionContextMenu:D,noWheelClassName:P,noPanClassName:M,disableKeyboardA11y:R})=>{const z=Ke(IG),B=nc(f),U=nc(g),H=U||_,F=U||j,G=B||h&&H!==!0;return EG({deleteKeyCode:i,multiSelectionKeyCode:w}),$.createElement(kG,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:o,elementsSelectable:S,zoomOnScroll:b,zoomOnPinch:E,panOnScroll:F,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:!B&&H,defaultViewport:T,translateExtent:I,minZoom:L,maxZoom:k,zoomActivationKeyCode:x,preventScrolling:O,noWheelClassName:P,noPanClassName:M},$.createElement(iR,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:H,isSelecting:!!G,selectionMode:m},e,z&&$.createElement(PG,{onSelectionContextMenu:D,noPanClassName:M,disableKeyboardA11y:R})))};fR.displayName="FlowRenderer";var BG=p.memo(fR);function HG(e){return Ke(p.useCallback(n=>e?HA(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function UG(e){const t={input:Xi(e.input||KA),default:Xi(e.default||Ug),output:Xi(e.output||QA),group:Xi(e.group||Rv)},n={},r=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,o)=>(a[o]=Xi(e[o]||Ug),a),n);return{...t,...r}}const FG=({x:e,y:t,width:n,height:r,origin:a})=>!n||!r?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-r*a[1]},VG=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),hR=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:o,onError:s}=Ke(VG,tn),i=HG(e.onlyRenderVisibleElements),c=p.useRef(),u=p.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(h)});return c.current=d,d},[]);return p.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),$.createElement("div",{className:"react-flow__nodes",style:Mv},i.map(d=>{var E,j,N;let f=d.type||"default";e.nodeTypes[f]||(s==null||s("003",ha.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,m=!!(d.draggable||t&&typeof d.draggable>"u"),y=!!(d.selectable||a&&typeof d.selectable>"u"),v=!!(d.connectable||n&&typeof d.connectable>"u"),w=!!(d.focusable||r&&typeof d.focusable>"u"),g=e.nodeExtent?Sv(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,x=(g==null?void 0:g.x)??0,S=(g==null?void 0:g.y)??0,b=FG({x,y:S,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return $.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||ae.Bottom,targetPosition:d.targetPosition||ae.Top,hidden:d.hidden,xPos:x,yPos:S,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:y,isConnectable:v,isFocusable:w,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((E=d[tt])==null?void 0:E.z)??0,isParent:!!((j=d[tt])!=null&&j.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((N=d[tt])!=null&&N.handleBounds)})}))};hR.displayName="NodeRenderer";var GG=p.memo(hR);const ZG=(e,t,n)=>n===ae.Left?e-t:n===ae.Right?e+t:e,YG=(e,t,n)=>n===ae.Top?e-t:n===ae.Bottom?e+t:e,f1="react-flow__edgeupdater",h1=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:o,onMouseOut:s,type:i})=>$.createElement("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:s,className:Yt([f1,`${f1}-${i}`]),cx:ZG(t,r,e),cy:YG(n,r,e),r,stroke:"transparent",fill:"transparent"}),qG=()=>!0;var ds=e=>{const t=({id:n,className:r,type:a,data:o,onClick:s,onEdgeDoubleClick:i,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:v,style:w,source:g,target:x,sourceX:S,sourceY:b,targetX:E,targetY:j,sourcePosition:N,targetPosition:C,elementsSelectable:A,hidden:_,sourceHandleId:T,targetHandleId:I,onContextMenu:L,onMouseEnter:k,onMouseMove:O,onMouseLeave:D,reconnectRadius:P,onReconnect:M,onReconnectStart:R,onReconnectEnd:z,markerEnd:B,markerStart:U,rfId:H,ariaLabel:F,isFocusable:G,isReconnectable:q,pathOptions:V,interactionWidth:X,disableKeyboardA11y:W})=>{const re=p.useRef(null),[we,Ce]=p.useState(!1),[ue,J]=p.useState(!1),Re=Ct(),st=p.useMemo(()=>`url('#${Bg(U,H)}')`,[U,H]),Ne=p.useMemo(()=>`url('#${Bg(B,H)}')`,[B,H]);if(_)return null;const Q=bt=>{var _n;const{edges:jt,addSelectedEdges:or,unselectNodesAndEdges:Ir,multiSelectionActive:Br}=Re.getState(),Gn=jt.find(uo=>uo.id===n);Gn&&(A&&(Re.setState({nodesSelectionActive:!1}),Gn.selected&&Br?(Ir({nodes:[],edges:[Gn]}),(_n=re.current)==null||_n.blur()):or([n])),s&&s(bt,Gn))},Ze=Yi(n,Re.getState,i),Dt=Yi(n,Re.getState,L),qt=Yi(n,Re.getState,k),Un=Yi(n,Re.getState,O),Xt=Yi(n,Re.getState,D),Fn=(bt,jt)=>{if(bt.button!==0)return;const{edges:or,isValidConnection:Ir}=Re.getState(),Br=jt?x:g,Gn=(jt?I:T)||null,_n=jt?"target":"source",uo=Ir||qG,ie=jt,Ee=or.find(De=>De.id===n);J(!0),R==null||R(bt,Ee,_n);const Te=De=>{J(!1),z==null||z(De,Ee,_n)};ZA({event:bt,handleId:Gn,nodeId:Br,onConnect:De=>M==null?void 0:M(Ee,De),isTarget:ie,getState:Re.getState,setState:Re.setState,isValidConnection:uo,edgeUpdaterType:_n,onReconnectEnd:Te})},$r=bt=>Fn(bt,!0),Lr=bt=>Fn(bt,!1),Pr=()=>Ce(!0),Vn=()=>Ce(!1),ba=!A&&!s,wa=bt=>{var jt;if(!W&&DA.includes(bt.key)&&A){const{unselectNodesAndEdges:or,addSelectedEdges:Ir,edges:Br}=Re.getState();bt.key==="Escape"?((jt=re.current)==null||jt.blur(),or({edges:[Br.find(_n=>_n.id===n)]})):Ir([n])}};return $.createElement("g",{className:Yt(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:c,animated:u,inactive:ba,updating:we}]),onClick:Q,onDoubleClick:Ze,onContextMenu:Dt,onMouseEnter:qt,onMouseMove:Un,onMouseLeave:Xt,onKeyDown:G?wa:void 0,tabIndex:G?0:void 0,role:G?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":F===null?void 0:F||`Edge from ${g} to ${x}`,"aria-describedby":G?`${tR}-${H}`:void 0,ref:re},!ue&&$.createElement(e,{id:n,source:g,target:x,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:v,data:o,style:w,sourceX:S,sourceY:b,targetX:E,targetY:j,sourcePosition:N,targetPosition:C,sourceHandleId:T,targetHandleId:I,markerStart:st,markerEnd:Ne,pathOptions:V,interactionWidth:X}),q&&$.createElement($.Fragment,null,(q==="source"||q===!0)&&$.createElement(h1,{position:N,centerX:S,centerY:b,radius:P,onMouseDown:$r,onMouseEnter:Pr,onMouseOut:Vn,type:"source"}),(q==="target"||q===!0)&&$.createElement(h1,{position:C,centerX:E,centerY:j,radius:P,onMouseDown:Lr,onMouseEnter:Pr,onMouseOut:Vn,type:"target"})))};return t.displayName="EdgeWrapper",p.memo(t)};function XG(e){const t={default:ds(e.default||lf),straight:ds(e.bezier||Cv),step:ds(e.step||_v),smoothstep:ds(e.step||bh),simplebezier:ds(e.simplebezier||Ev)},n={},r=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,o)=>(a[o]=ds(e[o]||lf),a),n);return{...t,...r}}function m1(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,a=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case ae.Top:return{x:r+o/2,y:a};case ae.Right:return{x:r+o,y:a+s/2};case ae.Bottom:return{x:r+o/2,y:a+s};case ae.Left:return{x:r,y:a+s/2}}}function p1(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const KG=(e,t,n,r,a,o)=>{const s=m1(n,e,t),i=m1(o,r,a);return{sourceX:s.x,sourceY:s.y,targetX:i.x,targetY:i.y}};function WG({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:o,width:s,height:i,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Nv({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:i/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function g1(e){var r,a,o,s,i;const t=((r=e==null?void 0:e[tt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const QG=[{level:0,isMaxLevel:!0,edges:[]}];function JG(e,t,n=!1){let r=-1;const a=e.reduce((s,i)=>{var d,f;const c=$n(i.zIndex);let u=c?i.zIndex:0;if(n){const h=t.get(i.target),m=t.get(i.source),y=i.selected||(h==null?void 0:h.selected)||(m==null?void 0:m.selected),v=Math.max(((d=m==null?void 0:m[tt])==null?void 0:d.z)||0,((f=h==null?void 0:h[tt])==null?void 0:f.z)||0,1e3);u=(c?i.zIndex:0)+(y?v:0)}return s[u]?s[u].push(i):s[u]=[i],r=u>r?u:r,s},{}),o=Object.entries(a).map(([s,i])=>{const c=+s;return{edges:i,level:c,isMaxLevel:c===r}});return o.length===0?QG:o}function eZ(e,t,n){const r=Ke(p.useCallback(a=>e?a.edges.filter(o=>{const s=t.get(o.source),i=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&WG({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:i.width,targetHeight:i.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return JG(r,t,n)}const tZ=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),nZ=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),y1={[sf.Arrow]:tZ,[sf.ArrowClosed]:nZ};function rZ(e){const t=Ct();return p.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(y1,e)?y1[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",ha.error009(e)),null)},[e])}const aZ=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:i="auto-start-reverse"})=>{const c=rZ(t);return c?$.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:i,refX:"0",refY:"0"},$.createElement(c,{color:n,strokeWidth:s})):null},oZ=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((a,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const i=Bg(s,t);r.includes(i)||(a.push({id:i,color:s.color||e,...s}),r.push(i))}}),a),[]).sort((a,o)=>a.id.localeCompare(o.id))},mR=({defaultColor:e,rfId:t})=>{const n=Ke(p.useCallback(oZ({defaultColor:e,rfId:t}),[e,t]),(r,a)=>!(r.length!==a.length||r.some((o,s)=>o.id!==a[s].id)));return $.createElement("defs",null,n.map(r=>$.createElement(aZ,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};mR.displayName="MarkerDefinitions";var sZ=p.memo(mR);const iZ=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),pR=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:i,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:v,children:w,disableKeyboardA11y:g})=>{const{edgesFocusable:x,edgesUpdatable:S,elementsSelectable:b,width:E,height:j,connectionMode:N,nodeInternals:C,onError:A}=Ke(iZ,tn),_=eZ(t,C,n);return E?$.createElement($.Fragment,null,_.map(({level:T,edges:I,isMaxLevel:L})=>$.createElement("svg",{key:T,style:{zIndex:T},width:E,height:j,className:"react-flow__edges react-flow__container"},L&&$.createElement(sZ,{defaultColor:e,rfId:r}),$.createElement("g",null,I.map(k=>{const[O,D,P]=g1(C.get(k.source)),[M,R,z]=g1(C.get(k.target));if(!P||!z)return null;let B=k.type||"default";a[B]||(A==null||A("011",ha.error011(B)),B="default");const U=a[B]||a.default,H=N===Ho.Strict?R.target:(R.target??[]).concat(R.source??[]),F=p1(D.source,k.sourceHandle),G=p1(H,k.targetHandle),q=(F==null?void 0:F.position)||ae.Bottom,V=(G==null?void 0:G.position)||ae.Top,X=!!(k.focusable||x&&typeof k.focusable>"u"),W=k.reconnectable||k.updatable,re=typeof h<"u"&&(W||S&&typeof W>"u");if(!F||!G)return A==null||A("008",ha.error008(F,k)),null;const{sourceX:we,sourceY:Ce,targetX:ue,targetY:J}=KG(O,F,q,M,G,V);return $.createElement(U,{key:k.id,id:k.id,className:Yt([k.className,o]),type:B,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:we,sourceY:Ce,targetX:ue,targetY:J,sourcePosition:q,targetPosition:V,elementsSelectable:b,onContextMenu:s,onMouseEnter:i,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:v,rfId:r,ariaLabel:k.ariaLabel,isFocusable:X,isReconnectable:re,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:g})})))),w):null};pR.displayName="EdgeRenderer";var lZ=p.memo(pR);const cZ=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function uZ({children:e}){const t=Ke(cZ);return $.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function dZ(e){const t=Tv(),n=p.useRef(!1);p.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const fZ={[ae.Left]:ae.Right,[ae.Right]:ae.Left,[ae.Top]:ae.Bottom,[ae.Bottom]:ae.Top},gR=({nodeId:e,handleType:t,style:n,type:r=La.Bezier,CustomComponent:a,connectionStatus:o})=>{var j,N,C;const{fromNode:s,handleId:i,toX:c,toY:u,connectionMode:d}=Ke(p.useCallback(A=>({fromNode:A.nodeInternals.get(e),handleId:A.connectionHandleId,toX:(A.connectionPosition.x-A.transform[0])/A.transform[2],toY:(A.connectionPosition.y-A.transform[1])/A.transform[2],connectionMode:A.connectionMode}),[e]),tn),f=(j=s==null?void 0:s[tt])==null?void 0:j.handleBounds;let h=f==null?void 0:f[t];if(d===Ho.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!h)return null;const m=i?h.find(A=>A.id===i):h[0],y=m?m.x+m.width/2:(s.width??0)/2,v=m?m.y+m.height/2:s.height??0,w=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,g=(((C=s.positionAbsolute)==null?void 0:C.y)??0)+v,x=m==null?void 0:m.position,S=x?fZ[x]:null;if(!x||!S)return null;if(a)return $.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:w,fromY:g,toX:c,toY:u,fromPosition:x,toPosition:S,connectionStatus:o});let b="";const E={sourceX:w,sourceY:g,sourcePosition:x,targetX:c,targetY:u,targetPosition:S};return r===La.Bezier?[b]=PA(E):r===La.Step?[b]=Ig({...E,borderRadius:0}):r===La.SmoothStep?[b]=Ig(E):r===La.SimpleBezier?[b]=LA(E):b=`M${w},${g} ${c},${u}`,$.createElement("path",{d:b,fill:"none",className:"react-flow__connection-path",style:n})};gR.displayName="ConnectionLine";const hZ=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function mZ({containerStyle:e,style:t,type:n,component:r}){const{nodeId:a,handleType:o,nodesConnectable:s,width:i,height:c,connectionStatus:u}=Ke(hZ,tn);return!(a&&o&&i&&s)?null:$.createElement("svg",{style:e,width:i,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},$.createElement("g",{className:Yt(["react-flow__connection",u])},$.createElement(gR,{nodeId:a,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function v1(e,t){return p.useRef(null),Ct(),p.useMemo(()=>t(e),[e])}const yR=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:o,onNodeClick:s,onEdgeClick:i,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:w,connectionLineType:g,connectionLineStyle:x,connectionLineComponent:S,connectionLineContainerStyle:b,selectionKeyCode:E,selectionOnDrag:j,selectionMode:N,multiSelectionKeyCode:C,panActivationKeyCode:A,zoomActivationKeyCode:_,deleteKeyCode:T,onlyRenderVisibleElements:I,elementsSelectable:L,selectNodesOnDrag:k,defaultViewport:O,translateExtent:D,minZoom:P,maxZoom:M,preventScrolling:R,defaultMarkerColor:z,zoomOnScroll:B,zoomOnPinch:U,panOnScroll:H,panOnScrollSpeed:F,panOnScrollMode:G,zoomOnDoubleClick:q,panOnDrag:V,onPaneClick:X,onPaneMouseEnter:W,onPaneMouseMove:re,onPaneMouseLeave:we,onPaneScroll:Ce,onPaneContextMenu:ue,onEdgeContextMenu:J,onEdgeMouseEnter:Re,onEdgeMouseMove:st,onEdgeMouseLeave:Ne,onReconnect:Q,onReconnectStart:Ze,onReconnectEnd:Dt,reconnectRadius:qt,noDragClassName:Un,noWheelClassName:Xt,noPanClassName:Fn,elevateEdgesOnSelect:$r,disableKeyboardA11y:Lr,nodeOrigin:Pr,nodeExtent:Vn,rfId:ba})=>{const wa=v1(e,UG),bt=v1(t,XG);return dZ(o),$.createElement(BG,{onPaneClick:X,onPaneMouseEnter:W,onPaneMouseMove:re,onPaneMouseLeave:we,onPaneContextMenu:ue,onPaneScroll:Ce,deleteKeyCode:T,selectionKeyCode:E,selectionOnDrag:j,selectionMode:N,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:C,panActivationKeyCode:A,zoomActivationKeyCode:_,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:B,zoomOnPinch:U,zoomOnDoubleClick:q,panOnScroll:H,panOnScrollSpeed:F,panOnScrollMode:G,panOnDrag:V,defaultViewport:O,translateExtent:D,minZoom:P,maxZoom:M,onSelectionContextMenu:y,preventScrolling:R,noDragClassName:Un,noWheelClassName:Xt,noPanClassName:Fn,disableKeyboardA11y:Lr},$.createElement(uZ,null,$.createElement(lZ,{edgeTypes:bt,onEdgeClick:i,onEdgeDoubleClick:u,onlyRenderVisibleElements:I,onEdgeContextMenu:J,onEdgeMouseEnter:Re,onEdgeMouseMove:st,onEdgeMouseLeave:Ne,onReconnect:Q,onReconnectStart:Ze,onReconnectEnd:Dt,reconnectRadius:qt,defaultMarkerColor:z,noPanClassName:Fn,elevateEdgesOnSelect:!!$r,disableKeyboardA11y:Lr,rfId:ba},$.createElement(mZ,{style:x,type:g,component:S,containerStyle:b})),$.createElement("div",{className:"react-flow__edgelabel-renderer"}),$.createElement(GG,{nodeTypes:wa,onNodeClick:s,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:k,onlyRenderVisibleElements:I,noPanClassName:Fn,noDragClassName:Un,disableKeyboardA11y:Lr,nodeOrigin:Pr,nodeExtent:Vn,rfId:ba})))};yR.displayName="GraphView";var pZ=p.memo(yR);const Vg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],_a={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Vg,nodeExtent:Vg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ho.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:VV,isValidConnection:void 0},gZ=()=>OV((e,t)=>({..._a,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:Lm(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",o=typeof r<"u",s=a?Lm(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:i,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),m=n.reduce((v,w)=>{const g=a.get(w.id);if(g!=null&&g.hidden)a.set(g.id,{...g,[tt]:{...g[tt],handleBounds:void 0}});else if(g){const x=wv(w.nodeElement);!!(x.width&&x.height&&(g.width!==x.width||g.height!==x.height||w.forceUpdate))&&(a.set(g.id,{...g,[tt]:{...g[tt],handleBounds:{source:d1(".source",w.nodeElement,h,u),target:d1(".target",w.nodeElement,h,u)}},...x}),v.push({id:g.id,type:"dimensions",dimensions:x}))}return v},[]);rR(a,u);const y=s||o&&!s&&aR(t,{initial:!0,...i});e({nodeInternals:new Map(a),fitViewOnInitDone:y}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(i=>{const c={id:i.id,type:"position",dragging:a};return r&&(c.positionAbsolute=i.positionAbsolute,c.position=i.position),c});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:s,getNodes:i,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(o){const u=sR(n,i()),d=Lm(u,a,s,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(c=>Ta(c,!0)):(s=Ts(o(),n),i=Ts(a,[])),Nu({changedNodes:s,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(c=>Ta(c,!0)):(s=Ts(a,n),i=Ts(o(),[])),Nu({changedNodes:i,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:o}=t(),s=n||o(),i=r||a,c=s.map(d=>(d.selected=!1,Ta(d.id,!1))),u=i.map(d=>Ta(d.id,!1));Nu({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();r==null||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();r==null||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(i=>i.selected).map(i=>Ta(i.id,!1)),s=n.filter(i=>i.selected).map(i=>Ta(i.id,!1));Nu({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(a=>{a.positionAbsolute=Sv(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:o,d3Zoom:s,d3Selection:i,translateExtent:c}=t();if(!s||!i||!n.x&&!n.y)return!1;const u=_r.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[a,o]],f=s==null?void 0:s.constrain()(u,d,c);return s.transform(i,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:_a.connectionNodeId,connectionHandleId:_a.connectionHandleId,connectionHandleType:_a.connectionHandleType,connectionStatus:_a.connectionStatus,connectionStartHandle:_a.connectionStartHandle,connectionEndHandle:_a.connectionEndHandle}),reset:()=>e({..._a})}),Object.is),vR=({children:e})=>{const t=p.useRef(null);return t.current||(t.current=gZ()),$.createElement($V,{value:t.current},e)};vR.displayName="ReactFlowProvider";const xR=({children:e})=>p.useContext(xh)?$.createElement($.Fragment,null,e):$.createElement(vR,null,e);xR.displayName="ReactFlowWrapper";const yZ={input:KA,default:Ug,output:QA,group:Rv},vZ={default:lf,straight:Cv,step:_v,smoothstep:bh,simplebezier:Ev},xZ=[0,0],bZ=[15,15],wZ={x:0,y:0,zoom:1},SZ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},bR=p.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:o=yZ,edgeTypes:s=vZ,onNodeClick:i,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:y,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:g,onNodeMouseEnter:x,onNodeMouseMove:S,onNodeMouseLeave:b,onNodeContextMenu:E,onNodeDoubleClick:j,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:A,onNodesDelete:_,onEdgesDelete:T,onSelectionChange:I,onSelectionDragStart:L,onSelectionDrag:k,onSelectionDragStop:O,onSelectionContextMenu:D,onSelectionStart:P,onSelectionEnd:M,connectionMode:R=Ho.Strict,connectionLineType:z=La.Bezier,connectionLineStyle:B,connectionLineComponent:U,connectionLineContainerStyle:H,deleteKeyCode:F="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:q=!1,selectionMode:V=tc.Full,panActivationKeyCode:X="Space",multiSelectionKeyCode:W=of()?"Meta":"Control",zoomActivationKeyCode:re=of()?"Meta":"Control",snapToGrid:we=!1,snapGrid:Ce=bZ,onlyRenderVisibleElements:ue=!1,selectNodesOnDrag:J=!0,nodesDraggable:Re,nodesConnectable:st,nodesFocusable:Ne,nodeOrigin:Q=xZ,edgesFocusable:Ze,edgesUpdatable:Dt,elementsSelectable:qt,defaultViewport:Un=wZ,minZoom:Xt=.5,maxZoom:Fn=2,translateExtent:$r=Vg,preventScrolling:Lr=!0,nodeExtent:Pr,defaultMarkerColor:Vn="#b1b1b7",zoomOnScroll:ba=!0,zoomOnPinch:wa=!0,panOnScroll:bt=!1,panOnScrollSpeed:jt=.5,panOnScrollMode:or=No.Free,zoomOnDoubleClick:Ir=!0,panOnDrag:Br=!0,onPaneClick:Gn,onPaneMouseEnter:_n,onPaneMouseMove:uo,onPaneMouseLeave:ie,onPaneScroll:Ee,onPaneContextMenu:Te,children:_e,onEdgeContextMenu:De,onEdgeDoubleClick:zt,onEdgeMouseEnter:kt,onEdgeMouseMove:sr,onEdgeMouseLeave:sn,onEdgeUpdate:Hr,onEdgeUpdateStart:ir,onEdgeUpdateEnd:Cn,onReconnect:ts,onReconnectStart:Bc,onReconnectEnd:QT,reconnectRadius:JT=10,edgeUpdaterRadius:eM=10,onNodesChange:tM,onEdgesChange:nM,noDragClassName:rM="nodrag",noWheelClassName:aM="nowheel",noPanClassName:Gv="nopan",fitView:oM=!1,fitViewOptions:sM,connectOnClick:iM=!0,attributionPosition:lM,proOptions:cM,defaultEdgeOptions:uM,elevateNodesOnSelect:dM=!0,elevateEdgesOnSelect:fM=!1,disableKeyboardA11y:Zv=!1,autoPanOnConnect:hM=!0,autoPanOnNodeDrag:mM=!0,connectionRadius:pM=20,isValidConnection:gM,onError:yM,style:vM,id:Yv,nodeDragThreshold:xM,...bM},wM)=>{const kh=Yv||"1";return $.createElement("div",{...bM,style:{...vM,...SZ},ref:wM,className:Yt(["react-flow",a]),"data-testid":"rf__wrapper",id:Yv},$.createElement(xR,null,$.createElement(pZ,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:i,onEdgeClick:c,onNodeMouseEnter:x,onNodeMouseMove:S,onNodeMouseLeave:b,onNodeContextMenu:E,onNodeDoubleClick:j,nodeTypes:o,edgeTypes:s,connectionLineType:z,connectionLineStyle:B,connectionLineComponent:U,connectionLineContainerStyle:H,selectionKeyCode:G,selectionOnDrag:q,selectionMode:V,deleteKeyCode:F,multiSelectionKeyCode:W,panActivationKeyCode:X,zoomActivationKeyCode:re,onlyRenderVisibleElements:ue,selectNodesOnDrag:J,defaultViewport:Un,translateExtent:$r,minZoom:Xt,maxZoom:Fn,preventScrolling:Lr,zoomOnScroll:ba,zoomOnPinch:wa,zoomOnDoubleClick:Ir,panOnScroll:bt,panOnScrollSpeed:jt,panOnScrollMode:or,panOnDrag:Br,onPaneClick:Gn,onPaneMouseEnter:_n,onPaneMouseMove:uo,onPaneMouseLeave:ie,onPaneScroll:Ee,onPaneContextMenu:Te,onSelectionContextMenu:D,onSelectionStart:P,onSelectionEnd:M,onEdgeContextMenu:De,onEdgeDoubleClick:zt,onEdgeMouseEnter:kt,onEdgeMouseMove:sr,onEdgeMouseLeave:sn,onReconnect:ts??Hr,onReconnectStart:Bc??ir,onReconnectEnd:QT??Cn,reconnectRadius:JT??eM,defaultMarkerColor:Vn,noDragClassName:rM,noWheelClassName:aM,noPanClassName:Gv,elevateEdgesOnSelect:fM,rfId:kh,disableKeyboardA11y:Zv,nodeOrigin:Q,nodeExtent:Pr}),$.createElement(fG,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:g,nodesDraggable:Re,nodesConnectable:st,nodesFocusable:Ne,edgesFocusable:Ze,edgesUpdatable:Dt,elementsSelectable:qt,elevateNodesOnSelect:dM,minZoom:Xt,maxZoom:Fn,nodeExtent:Pr,onNodesChange:tM,onEdgesChange:nM,snapToGrid:we,snapGrid:Ce,connectionMode:R,translateExtent:$r,connectOnClick:iM,defaultEdgeOptions:uM,fitView:oM,fitViewOptions:sM,onNodesDelete:_,onEdgesDelete:T,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:A,onSelectionDrag:k,onSelectionDragStart:L,onSelectionDragStop:O,noPanClassName:Gv,nodeOrigin:Q,rfId:kh,autoPanOnConnect:hM,autoPanOnNodeDrag:mM,onError:yM,connectionRadius:pM,isValidConnection:gM,nodeDragThreshold:xM}),$.createElement(uG,{onSelectionChange:I}),_e,$.createElement(PV,{proOptions:cM,position:lM}),$.createElement(yG,{rfId:kh,disableKeyboardA11y:Zv})))});bR.displayName="ReactFlow";function wR(e){return t=>{const[n,r]=p.useState(t),a=p.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,a]}}const NZ=wR(sR),EZ=wR(TG);function _Z(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function CZ(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},$.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function jZ(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},$.createElement("path",{d:"M0 0h32v4.2H0z"}))}function kZ(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},$.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function AZ(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},$.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function RZ(){return $.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},$.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const sl=({children:e,className:t,...n})=>$.createElement("button",{type:"button",className:Yt(["react-flow__controls-button",t]),...n},e);sl.displayName="ControlButton";const TZ=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),SR=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:s,onFitView:i,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=Ct(),[m,y]=p.useState(!1),{isInteractive:v,minZoomReached:w,maxZoomReached:g}=Ke(TZ,_Z),{zoomIn:x,zoomOut:S,fitView:b}=Tv();if(p.useEffect(()=>{y(!0)},[]),!m)return null;const E=()=>{x(),o==null||o()},j=()=>{S(),s==null||s()},N=()=>{b(a),i==null||i()},C=()=>{h.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c==null||c(!v)};return $.createElement(RA,{className:Yt(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&$.createElement($.Fragment,null,$.createElement(sl,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},$.createElement(CZ,null)),$.createElement(sl,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},$.createElement(jZ,null))),n&&$.createElement(sl,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},$.createElement(kZ,null)),r&&$.createElement(sl,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},v?$.createElement(RZ,null):$.createElement(AZ,null)),d)};SR.displayName="Controls";var MZ=p.memo(SR);function DZ(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Kn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Kn||(Kn={}));function zZ({color:e,dimensions:t,lineWidth:n}){return $.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function OZ({color:e,radius:t}){return $.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const $Z={[Kn.Dots]:"#91919a",[Kn.Lines]:"#eee",[Kn.Cross]:"#e2e2e2"},LZ={[Kn.Dots]:1,[Kn.Lines]:1,[Kn.Cross]:6},PZ=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function NR({id:e,variant:t=Kn.Dots,gap:n=20,size:r,lineWidth:a=1,offset:o=2,color:s,style:i,className:c}){const u=p.useRef(null),{transform:d,patternId:f}=Ke(PZ,DZ),h=s||$Z[t],m=r||LZ[t],y=t===Kn.Dots,v=t===Kn.Cross,w=Array.isArray(n)?n:[n,n],g=[w[0]*d[2]||1,w[1]*d[2]||1],x=m*d[2],S=v?[x,x]:g,b=y?[x/o,x/o]:[S[0]/o,S[1]/o];return $.createElement("svg",{className:Yt(["react-flow__background",c]),style:{...i,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},$.createElement("pattern",{id:f+e,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`},y?$.createElement(OZ,{color:h,radius:x/o}):$.createElement(zZ,{dimensions:S,color:h,lineWidth:a})),$.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}NR.displayName="Background";var IZ=p.memo(NR);function BZ({data:e,selected:t,onTogglePerk:n,onRankChange:r}){var d,f;const a=e.totalRanks,o=a>1?(e.currentRank||0)>0:e.selected||t,s=h=>{h.preventDefault(),h.stopPropagation();const m=e.edid,y=e.name;console.log(`Toggling perk: ${y} (${m}), currently selected: ${o}, current rank: ${e.currentRank}`),n&&n(m)},i=h=>{if(h.preventDefault(),h.stopPropagation(),!o){const g=e.name;if(console.log(`Selecting multi-rank perk: ${g} with rank 1`),n){const x=e.edid;n(x)}return}if(!r)return;const m=e.currentRank||0,y=(m+1)%(a+1),v=e.name;console.log(`Cycling rank for ${v}: ${m} -> ${y}`);const w=e.edid;r(w,y)},c=()=>{const h={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return o?{...h,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...h,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...h,borderColor:"hsl(var(--border))"}},u=((f=(d=e.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"";return l.jsxs(kk,{children:[l.jsx(Ak,{asChild:!0,children:l.jsxs("div",{style:c(),onClick:a>1?i:s,onMouseDown:h=>h.stopPropagation(),children:[!e.isRoot&&l.jsx(mi,{type:"target",position:ae.Bottom}),l.jsx("div",{className:"font-medium",children:e.name}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",a," ranks"]}),e.hasChildren&&l.jsx(mi,{type:"source",position:ae.Top})]})}),l.jsx(iv,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:1e3},children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:e.name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:u}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",a,l.jsx("br",{}),l.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})}function Z(e,t,n){function r(i,c){var u;Object.defineProperty(i,"_zod",{value:i._zod??{},enumerable:!1}),(u=i._zod).traits??(u.traits=new Set),i._zod.traits.add(e),t(i,c);for(const d in s.prototype)d in i||Object.defineProperty(i,d,{value:s.prototype[d].bind(i)});i._zod.constr=s,i._zod.def=c}const a=(n==null?void 0:n.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function s(i){var c;const u=n!=null&&n.Parent?new o:this;r(u,i),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:i=>{var c,u;return n!=null&&n.Parent&&i instanceof n.Parent?!0:(u=(c=i==null?void 0:i._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class rc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const ER={};function Uo(e){return ER}function HZ(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function UZ(e,t){return typeof t=="bigint"?t.toString():t}function _R(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Dv(e){return e==null}function zv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function FZ(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,o=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return o%s/10**a}function Be(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Ov(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ki(e){return JSON.stringify(e)}const CR=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Gg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const VZ=_R(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Zg(e){if(Gg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Gg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const GZ=new Set(["string","number","symbol"]);function wh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function es(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function se(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function ZZ(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const YZ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function qZ(e,t){const n={},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(n[a]=r.shape[a])}return es(e,{...e._zod.def,shape:n,checks:[]})}function XZ(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete n[a]}return es(e,{...e._zod.def,shape:n,checks:[]})}function KZ(e,t){if(!Zg(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Ov(this,"shape",r),r},checks:[]};return es(e,n)}function WZ(e,t){return es(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ov(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function QZ(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)a[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return es(t,{...t._zod.def,shape:a,checks:[]})}function JZ(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)a[o]=new e({type:"nonoptional",innerType:r[o]});return es(t,{...t._zod.def,shape:a,checks:[]})}function jl(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function $v(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function _u(e){return typeof e=="string"?e:e==null?void 0:e.message}function Fo(e,t,n){var a,o,s,i,c,u;const r={...e,path:e.path??[]};if(!e.message){const d=_u((s=(o=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??_u((i=t==null?void 0:t.error)==null?void 0:i.call(t,e))??_u((c=n.customError)==null?void 0:c.call(n,e))??_u((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Lv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ac(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const jR=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,UZ,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},kR=Z("$ZodError",jR),AR=Z("$ZodError",jR,{Parent:Error});function eY(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function tY(e,t){const n=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>a({issues:i}));else if(s.code==="invalid_key")a({issues:s.issues});else if(s.code==="invalid_element")a({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let i=r,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(n(s))):i[u]=i[u]||{_errors:[]},i=i[u],c++}}};return a(e),r}const nY=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new rc;if(s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(c=>Fo(c,o,Uo())));throw CR(i,a==null?void 0:a.callee),i}return s.value},rY=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(c=>Fo(c,o,Uo())));throw CR(i,a==null?void 0:a.callee),i}return s.value},RR=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new rc;return o.issues.length?{success:!1,error:new(e??kR)(o.issues.map(s=>Fo(s,a,Uo())))}:{success:!0,data:o.value}},aY=RR(AR),TR=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Fo(s,a,Uo())))}:{success:!0,data:o.value}},oY=TR(AR),sY=/^[cC][^\s-]{8,}$/,iY=/^[0-9a-z]+$/,lY=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,cY=/^[0-9a-vA-V]{20}$/,uY=/^[A-Za-z0-9]{27}$/,dY=/^[a-zA-Z0-9_-]{21}$/,fY=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,hY=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,x1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,mY=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,pY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function gY(){return new RegExp(pY,"u")}const yY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,xY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,bY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wY=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,MR=/^[A-Za-z0-9_-]*$/,SY=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,NY=/^\+(?:[0-9]){6,14}[0-9]$/,DR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",EY=new RegExp(`^${DR}$`);function zR(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function _Y(e){return new RegExp(`^${zR(e)}$`)}function CY(e){const t=zR({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${DR}T(?:${r})$`)}const jY=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},kY=/^\d+$/,AY=/^-?\d+(?:\.\d+)?/i,RY=/true|false/i,TY=/^[^A-Z]*$/,MY=/^[^a-z]*$/,on=Z("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),OR={number:"number",bigint:"bigint",object:"date"},$R=Z("$ZodCheckLessThan",(e,t)=>{on.init(e,t);const n=OR[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),LR=Z("$ZodCheckGreaterThan",(e,t)=>{on.init(e,t);const n=OR[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),DY=Z("$ZodCheckMultipleOf",(e,t)=>{on.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):FZ(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),zY=Z("$ZodCheckNumberFormat",(e,t)=>{var s;on.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[a,o]=YZ[t.format];e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,c.minimum=a,c.maximum=o,n&&(c.pattern=kY)}),e._zod.check=i=>{const c=i.value;if(n){if(!Number.isInteger(c)){i.issues.push({expected:r,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?i.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<a&&i.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>o&&i.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inst:e})}}),OY=Z("$ZodCheckMaxLength",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Dv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const s=Lv(a);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),$Y=Z("$ZodCheckMinLength",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Dv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const s=Lv(a);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),LY=Z("$ZodCheckLengthEquals",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Dv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,o=a.length;if(o===t.length)return;const s=Lv(a),i=o>t.length;r.issues.push({origin:s,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Sh=Z("$ZodCheckStringFormat",(e,t)=>{var n,r;on.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),PY=Z("$ZodCheckRegex",(e,t)=>{Sh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),IY=Z("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=TY),Sh.init(e,t)}),BY=Z("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=MY),Sh.init(e,t)}),HY=Z("$ZodCheckIncludes",(e,t)=>{on.init(e,t);const n=wh(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),UY=Z("$ZodCheckStartsWith",(e,t)=>{on.init(e,t);const n=new RegExp(`^${wh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),FY=Z("$ZodCheckEndsWith",(e,t)=>{on.init(e,t);const n=new RegExp(`.*${wh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),VY=Z("$ZodCheckOverwrite",(e,t)=>{on.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class GY{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),a=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(a)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,a.join(`
`))}}const ZY={major:4,minor:0,patch:5},nt=Z("$ZodType",(e,t)=>{var a;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ZY;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,i,c)=>{let u=jl(s),d;for(const f of i){if(f._zod.def.when){if(!f._zod.def.when(s))continue}else if(u)continue;const h=s.issues.length,m=f._zod.check(s);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new rc;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,s.issues.length!==h&&(u||(u=jl(s,h)))});else{if(s.issues.length===h)continue;u||(u=jl(s,h))}}return d?d.then(()=>s):s};e._zod.run=(s,i)=>{const c=e._zod.parse(s,i);if(c instanceof Promise){if(i.async===!1)throw new rc;return c.then(u=>o(u,r,i))}return o(c,r,i)}}e["~standard"]={validate:o=>{var s;try{const i=aY(e,o);return i.success?{value:i.data}:{issues:(s=i.error)==null?void 0:s.issues}}catch{return oY(e,o).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Pv=Z("$ZodString",(e,t)=>{var n;nt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??jY(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ge=Z("$ZodStringFormat",(e,t)=>{Sh.init(e,t),Pv.init(e,t)}),YY=Z("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=hY),Ge.init(e,t)}),qY=Z("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=x1(r))}else t.pattern??(t.pattern=x1());Ge.init(e,t)}),XY=Z("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=mY),Ge.init(e,t)}),KY=Z("$ZodURL",(e,t)=>{Ge.init(e,t),e._zod.check=n=>{try{const r=n.value,a=new URL(r),o=a.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:SY.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),WY=Z("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=gY()),Ge.init(e,t)}),QY=Z("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=dY),Ge.init(e,t)}),JY=Z("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=sY),Ge.init(e,t)}),eq=Z("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=iY),Ge.init(e,t)}),tq=Z("$ZodULID",(e,t)=>{t.pattern??(t.pattern=lY),Ge.init(e,t)}),nq=Z("$ZodXID",(e,t)=>{t.pattern??(t.pattern=cY),Ge.init(e,t)}),rq=Z("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=uY),Ge.init(e,t)}),aq=Z("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=CY(t)),Ge.init(e,t)}),oq=Z("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=EY),Ge.init(e,t)}),sq=Z("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=_Y(t)),Ge.init(e,t)}),iq=Z("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=fY),Ge.init(e,t)}),lq=Z("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=yY),Ge.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),cq=Z("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=vY),Ge.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),uq=Z("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=xY),Ge.init(e,t)}),dq=Z("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=bY),Ge.init(e,t),e._zod.check=n=>{const[r,a]=n.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function PR(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const fq=Z("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=wY),Ge.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{PR(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function hq(e){if(!MR.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return PR(n)}const mq=Z("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=MR),Ge.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{hq(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),pq=Z("$ZodE164",(e,t)=>{t.pattern??(t.pattern=NY),Ge.init(e,t)});function gq(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const yq=Z("$ZodJWT",(e,t)=>{Ge.init(e,t),e._zod.check=n=>{gq(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),IR=Z("$ZodNumber",(e,t)=>{nt.init(e,t),e._zod.pattern=e._zod.bag.pattern??AY,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),vq=Z("$ZodNumber",(e,t)=>{zY.init(e,t),IR.init(e,t)}),xq=Z("$ZodBoolean",(e,t)=>{nt.init(e,t),e._zod.pattern=RY,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),bq=Z("$ZodUnknown",(e,t)=>{nt.init(e,t),e._zod.parse=n=>n}),wq=Z("$ZodNever",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function b1(e,t,n){e.issues.length&&t.issues.push(...$v(n,e.issues)),t.value[n]=e.value}const Sq=Z("$ZodArray",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let s=0;s<a.length;s++){const i=a[s],c=t.element._zod.run({value:i,issues:[]},r);c instanceof Promise?o.push(c.then(u=>b1(u,n,s))):b1(c,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function Cu(e,t,n){e.issues.length&&t.issues.push(...$v(n,e.issues)),t.value[n]=e.value}function w1(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...$v(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const Nq=Z("$ZodObject",(e,t)=>{nt.init(e,t);const n=_R(()=>{const f=Object.keys(t.shape);for(const m of f)if(!(t.shape[m]instanceof nt))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const h=ZZ(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(h)}});Be(e._zod,"propValues",()=>{const f=t.shape,h={};for(const m in f){const y=f[m]._zod;if(y.values){h[m]??(h[m]=new Set);for(const v of y.values)h[m].add(v)}}return h});const r=f=>{const h=new GY(["shape","payload","ctx"]),m=n.value,y=x=>{const S=Ki(x);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};h.write("const input = payload.value;");const v=Object.create(null);let w=0;for(const x of m.keys)v[x]=`key_${w++}`;h.write("const newResult = {}");for(const x of m.keys)if(m.optionalKeys.has(x)){const S=v[x];h.write(`const ${S} = ${y(x)};`);const b=Ki(x);h.write(`
        if (${S}.issues.length) {
          if (input[${b}] === undefined) {
            if (${b} in input) {
              newResult[${b}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${S}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${b}, ...iss.path] : [${b}],
              }))
            );
          }
        } else if (${S}.value === undefined) {
          if (${b} in input) newResult[${b}] = undefined;
        } else {
          newResult[${b}] = ${S}.value;
        }
        `)}else{const S=v[x];h.write(`const ${S} = ${y(x)};`),h.write(`
          if (${S}.issues.length) payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Ki(x)}, ...iss.path] : [${Ki(x)}]
          })));`),h.write(`newResult[${Ki(x)}] = ${S}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const g=h.compile();return(x,S)=>g(f,x,S)};let a;const o=Gg,s=!ER.jitless,c=s&&VZ.value,u=t.catchall;let d;e._zod.parse=(f,h)=>{d??(d=n.value);const m=f.value;if(!o(m))return f.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),f;const y=[];if(s&&c&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)a||(a=r(t.shape)),f=a(f,h);else{f.value={};const S=d.shape;for(const b of d.keys){const E=S[b],j=E._zod.run({value:m[b],issues:[]},h),N=E._zod.optin==="optional"&&E._zod.optout==="optional";j instanceof Promise?y.push(j.then(C=>N?w1(C,f,b,m):Cu(C,f,b))):N?w1(j,f,b,m):Cu(j,f,b)}}if(!u)return y.length?Promise.all(y).then(()=>f):f;const v=[],w=d.keySet,g=u._zod,x=g.def.type;for(const S of Object.keys(m)){if(w.has(S))continue;if(x==="never"){v.push(S);continue}const b=g.run({value:m[S],issues:[]},h);b instanceof Promise?y.push(b.then(E=>Cu(E,f,S))):Cu(b,f,S)}return v.length&&f.issues.push({code:"unrecognized_keys",keys:v,input:m,inst:e}),y.length?Promise.all(y).then(()=>f):f}});function S1(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(o=>Fo(o,r,Uo())))}),t}const Eq=Z("$ZodUnion",(e,t)=>{nt.init(e,t),Be(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Be(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Be(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Be(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>zv(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let a=!1;const o=[];for(const s of t.options){const i=s._zod.run({value:n.value,issues:[]},r);if(i instanceof Promise)o.push(i),a=!0;else{if(i.issues.length===0)return i;o.push(i)}}return a?Promise.all(o).then(s=>S1(s,n,e,r)):S1(o,n,e,r)}}),_q=Z("$ZodIntersection",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,o=t.left._zod.run({value:a,issues:[]},r),s=t.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([c,u])=>N1(n,c,u)):N1(n,o,s)}});function Yg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Zg(e)&&Zg(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),a={...e,...t};for(const o of r){const s=Yg(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};a[o]=s.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],s=Yg(a,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function N1(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),jl(e))return e;const r=Yg(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Cq=Z("$ZodEnum",(e,t)=>{nt.init(e,t);const n=HZ(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>GZ.has(typeof r)).map(r=>typeof r=="string"?wh(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),jq=Z("$ZodTransform",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(s=>(n.value=s,n));if(a instanceof Promise)throw new rc;return n.value=a,n}}),kq=Z("$ZodOptional",(e,t)=>{nt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${zv(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),Aq=Z("$ZodNullable",(e,t)=>{nt.init(e,t),Be(e._zod,"optin",()=>t.innerType._zod.optin),Be(e._zod,"optout",()=>t.innerType._zod.optout),Be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${zv(n.source)}|null)$`):void 0}),Be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Rq=Z("$ZodDefault",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>E1(o,t)):E1(a,t)}});function E1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Tq=Z("$ZodPrefault",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Mq=Z("$ZodNonOptional",(e,t)=>{nt.init(e,t),Be(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>_1(o,e)):_1(a,e)}});function _1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Dq=Z("$ZodCatch",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Be(e._zod,"optout",()=>t.innerType._zod.optout),Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Fo(s,r,Uo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>Fo(o,r,Uo()))},input:n.value}),n.issues=[]),n)}}),zq=Z("$ZodPipe",(e,t)=>{nt.init(e,t),Be(e._zod,"values",()=>t.in._zod.values),Be(e._zod,"optin",()=>t.in._zod.optin),Be(e._zod,"optout",()=>t.out._zod.optout),Be(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(o=>C1(o,t,r)):C1(a,t,r)}});function C1(e,t,n){return jl(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const Oq=Z("$ZodReadonly",(e,t)=>{nt.init(e,t),Be(e._zod,"propValues",()=>t.innerType._zod.propValues),Be(e._zod,"values",()=>t.innerType._zod.values),Be(e._zod,"optin",()=>t.innerType._zod.optin),Be(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(j1):j1(a)}});function j1(e){return e.value=Object.freeze(e.value),e}const $q=Z("$ZodCustom",(e,t)=>{on.init(e,t),nt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(o=>k1(o,n,r,e));k1(a,n,r,e)}});function k1(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(ac(a))}}class Lq{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function Pq(){return new Lq}const ju=Pq();function Iq(e,t){return new e({type:"string",...se(t)})}function Bq(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...se(t)})}function A1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...se(t)})}function Hq(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...se(t)})}function Uq(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...se(t)})}function Fq(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...se(t)})}function Vq(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...se(t)})}function Gq(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...se(t)})}function Zq(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...se(t)})}function Yq(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...se(t)})}function qq(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...se(t)})}function Xq(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...se(t)})}function Kq(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...se(t)})}function Wq(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...se(t)})}function Qq(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...se(t)})}function Jq(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...se(t)})}function eX(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...se(t)})}function tX(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...se(t)})}function nX(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...se(t)})}function rX(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...se(t)})}function aX(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...se(t)})}function oX(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...se(t)})}function sX(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...se(t)})}function iX(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...se(t)})}function lX(e,t){return new e({type:"string",format:"date",check:"string_format",...se(t)})}function cX(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...se(t)})}function uX(e,t){return new e({type:"string",format:"duration",check:"string_format",...se(t)})}function dX(e,t){return new e({type:"number",checks:[],...se(t)})}function fX(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...se(t)})}function hX(e,t){return new e({type:"boolean",...se(t)})}function mX(e){return new e({type:"unknown"})}function pX(e,t){return new e({type:"never",...se(t)})}function R1(e,t){return new $R({check:"less_than",...se(t),value:e,inclusive:!1})}function Hm(e,t){return new $R({check:"less_than",...se(t),value:e,inclusive:!0})}function T1(e,t){return new LR({check:"greater_than",...se(t),value:e,inclusive:!1})}function Um(e,t){return new LR({check:"greater_than",...se(t),value:e,inclusive:!0})}function M1(e,t){return new DY({check:"multiple_of",...se(t),value:e})}function BR(e,t){return new OY({check:"max_length",...se(t),maximum:e})}function cf(e,t){return new $Y({check:"min_length",...se(t),minimum:e})}function HR(e,t){return new LY({check:"length_equals",...se(t),length:e})}function gX(e,t){return new PY({check:"string_format",format:"regex",...se(t),pattern:e})}function yX(e){return new IY({check:"string_format",format:"lowercase",...se(e)})}function vX(e){return new BY({check:"string_format",format:"uppercase",...se(e)})}function xX(e,t){return new HY({check:"string_format",format:"includes",...se(t),includes:e})}function bX(e,t){return new UY({check:"string_format",format:"starts_with",...se(t),prefix:e})}function wX(e,t){return new FY({check:"string_format",format:"ends_with",...se(t),suffix:e})}function Pc(e){return new VY({check:"overwrite",tx:e})}function SX(e){return Pc(t=>t.normalize(e))}function NX(){return Pc(e=>e.trim())}function EX(){return Pc(e=>e.toLowerCase())}function _X(){return Pc(e=>e.toUpperCase())}function CX(e,t,n){return new e({type:"array",element:t,...se(n)})}function jX(e,t,n){return new e({type:"custom",check:"custom",fn:t,...se(n)})}const kX=Z("ZodISODateTime",(e,t)=>{aq.init(e,t),We.init(e,t)});function AX(e){return iX(kX,e)}const RX=Z("ZodISODate",(e,t)=>{oq.init(e,t),We.init(e,t)});function TX(e){return lX(RX,e)}const MX=Z("ZodISOTime",(e,t)=>{sq.init(e,t),We.init(e,t)});function DX(e){return cX(MX,e)}const zX=Z("ZodISODuration",(e,t)=>{iq.init(e,t),We.init(e,t)});function OX(e){return uX(zX,e)}const $X=(e,t)=>{kR.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>tY(e,n)},flatten:{value:n=>eY(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},Nh=Z("ZodError",$X,{Parent:Error}),LX=nY(Nh),PX=rY(Nh),IX=RR(Nh),BX=TR(Nh),ft=Z("ZodType",(e,t)=>(nt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>es(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>LX(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>IX(e,n,r),e.parseAsync=async(n,r)=>PX(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>BX(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(DK(n,r)),e.superRefine=n=>e.check(zK(n)),e.overwrite=n=>e.check(Pc(n)),e.optional=()=>$1(e),e.nullable=()=>L1(e),e.nullish=()=>$1(L1(e)),e.nonoptional=n=>_K(e,n),e.array=()=>Vo(e),e.or=n=>mK([e,n]),e.and=n=>gK(e,n),e.transform=n=>P1(e,xK(n)),e.default=n=>SK(e,n),e.prefault=n=>EK(e,n),e.catch=n=>jK(e,n),e.pipe=n=>P1(e,n),e.readonly=()=>RK(e),e.describe=n=>{const r=e.clone();return ju.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=ju.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ju.get(e);const r=e.clone();return ju.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),UR=Z("_ZodString",(e,t)=>{Pv.init(e,t),ft.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(gX(...r)),e.includes=(...r)=>e.check(xX(...r)),e.startsWith=(...r)=>e.check(bX(...r)),e.endsWith=(...r)=>e.check(wX(...r)),e.min=(...r)=>e.check(cf(...r)),e.max=(...r)=>e.check(BR(...r)),e.length=(...r)=>e.check(HR(...r)),e.nonempty=(...r)=>e.check(cf(1,...r)),e.lowercase=r=>e.check(yX(r)),e.uppercase=r=>e.check(vX(r)),e.trim=()=>e.check(NX()),e.normalize=(...r)=>e.check(SX(...r)),e.toLowerCase=()=>e.check(EX()),e.toUpperCase=()=>e.check(_X())}),HX=Z("ZodString",(e,t)=>{Pv.init(e,t),UR.init(e,t),e.email=n=>e.check(Bq(UX,n)),e.url=n=>e.check(Gq(FX,n)),e.jwt=n=>e.check(sX(aK,n)),e.emoji=n=>e.check(Zq(VX,n)),e.guid=n=>e.check(A1(D1,n)),e.uuid=n=>e.check(Hq(ku,n)),e.uuidv4=n=>e.check(Uq(ku,n)),e.uuidv6=n=>e.check(Fq(ku,n)),e.uuidv7=n=>e.check(Vq(ku,n)),e.nanoid=n=>e.check(Yq(GX,n)),e.guid=n=>e.check(A1(D1,n)),e.cuid=n=>e.check(qq(ZX,n)),e.cuid2=n=>e.check(Xq(YX,n)),e.ulid=n=>e.check(Kq(qX,n)),e.base64=n=>e.check(rX(tK,n)),e.base64url=n=>e.check(aX(nK,n)),e.xid=n=>e.check(Wq(XX,n)),e.ksuid=n=>e.check(Qq(KX,n)),e.ipv4=n=>e.check(Jq(WX,n)),e.ipv6=n=>e.check(eX(QX,n)),e.cidrv4=n=>e.check(tX(JX,n)),e.cidrv6=n=>e.check(nX(eK,n)),e.e164=n=>e.check(oX(rK,n)),e.datetime=n=>e.check(AX(n)),e.date=n=>e.check(TX(n)),e.time=n=>e.check(DX(n)),e.duration=n=>e.check(OX(n))});function Vt(e){return Iq(HX,e)}const We=Z("ZodStringFormat",(e,t)=>{Ge.init(e,t),UR.init(e,t)}),UX=Z("ZodEmail",(e,t)=>{XY.init(e,t),We.init(e,t)}),D1=Z("ZodGUID",(e,t)=>{YY.init(e,t),We.init(e,t)}),ku=Z("ZodUUID",(e,t)=>{qY.init(e,t),We.init(e,t)}),FX=Z("ZodURL",(e,t)=>{KY.init(e,t),We.init(e,t)}),VX=Z("ZodEmoji",(e,t)=>{WY.init(e,t),We.init(e,t)}),GX=Z("ZodNanoID",(e,t)=>{QY.init(e,t),We.init(e,t)}),ZX=Z("ZodCUID",(e,t)=>{JY.init(e,t),We.init(e,t)}),YX=Z("ZodCUID2",(e,t)=>{eq.init(e,t),We.init(e,t)}),qX=Z("ZodULID",(e,t)=>{tq.init(e,t),We.init(e,t)}),XX=Z("ZodXID",(e,t)=>{nq.init(e,t),We.init(e,t)}),KX=Z("ZodKSUID",(e,t)=>{rq.init(e,t),We.init(e,t)}),WX=Z("ZodIPv4",(e,t)=>{lq.init(e,t),We.init(e,t)}),QX=Z("ZodIPv6",(e,t)=>{cq.init(e,t),We.init(e,t)}),JX=Z("ZodCIDRv4",(e,t)=>{uq.init(e,t),We.init(e,t)}),eK=Z("ZodCIDRv6",(e,t)=>{dq.init(e,t),We.init(e,t)}),tK=Z("ZodBase64",(e,t)=>{fq.init(e,t),We.init(e,t)}),nK=Z("ZodBase64URL",(e,t)=>{mq.init(e,t),We.init(e,t)}),rK=Z("ZodE164",(e,t)=>{pq.init(e,t),We.init(e,t)}),aK=Z("ZodJWT",(e,t)=>{yq.init(e,t),We.init(e,t)}),FR=Z("ZodNumber",(e,t)=>{IR.init(e,t),ft.init(e,t),e.gt=(r,a)=>e.check(T1(r,a)),e.gte=(r,a)=>e.check(Um(r,a)),e.min=(r,a)=>e.check(Um(r,a)),e.lt=(r,a)=>e.check(R1(r,a)),e.lte=(r,a)=>e.check(Hm(r,a)),e.max=(r,a)=>e.check(Hm(r,a)),e.int=r=>e.check(z1(r)),e.safe=r=>e.check(z1(r)),e.positive=r=>e.check(T1(0,r)),e.nonnegative=r=>e.check(Um(0,r)),e.negative=r=>e.check(R1(0,r)),e.nonpositive=r=>e.check(Hm(0,r)),e.multipleOf=(r,a)=>e.check(M1(r,a)),e.step=(r,a)=>e.check(M1(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Eo(e){return dX(FR,e)}const oK=Z("ZodNumberFormat",(e,t)=>{vq.init(e,t),FR.init(e,t)});function z1(e){return fX(oK,e)}const sK=Z("ZodBoolean",(e,t)=>{xq.init(e,t),ft.init(e,t)});function iK(e){return hX(sK,e)}const lK=Z("ZodUnknown",(e,t)=>{bq.init(e,t),ft.init(e,t)});function O1(){return mX(lK)}const cK=Z("ZodNever",(e,t)=>{wq.init(e,t),ft.init(e,t)});function uK(e){return pX(cK,e)}const dK=Z("ZodArray",(e,t)=>{Sq.init(e,t),ft.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(cf(n,r)),e.nonempty=n=>e.check(cf(1,n)),e.max=(n,r)=>e.check(BR(n,r)),e.length=(n,r)=>e.check(HR(n,r)),e.unwrap=()=>e.element});function Vo(e,t){return CX(dK,e,t)}const fK=Z("ZodObject",(e,t)=>{Nq.init(e,t),ft.init(e,t),Be(e,"shape",()=>t.shape),e.keyof=()=>yK(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:O1()}),e.loose=()=>e.clone({...e._zod.def,catchall:O1()}),e.strict=()=>e.clone({...e._zod.def,catchall:uK()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>KZ(e,n),e.merge=n=>WZ(e,n),e.pick=n=>qZ(e,n),e.omit=n=>XZ(e,n),e.partial=(...n)=>QZ(VR,e,n[0]),e.required=(...n)=>JZ(GR,e,n[0])});function xa(e,t){const n={type:"object",get shape(){return Ov(this,"shape",{...e}),this.shape},...se(t)};return new fK(n)}const hK=Z("ZodUnion",(e,t)=>{Eq.init(e,t),ft.init(e,t),e.options=t.options});function mK(e,t){return new hK({type:"union",options:e,...se(t)})}const pK=Z("ZodIntersection",(e,t)=>{_q.init(e,t),ft.init(e,t)});function gK(e,t){return new pK({type:"intersection",left:e,right:t})}const qg=Z("ZodEnum",(e,t)=>{Cq.init(e,t),ft.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new qg({...t,checks:[],...se(a),entries:o})},e.exclude=(r,a)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new qg({...t,checks:[],...se(a),entries:o})}});function yK(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new qg({type:"enum",entries:n,...se(t)})}const vK=Z("ZodTransform",(e,t)=>{jq.init(e,t),ft.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(ac(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),n.issues.push(ac(s))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function xK(e){return new vK({type:"transform",transform:e})}const VR=Z("ZodOptional",(e,t)=>{kq.init(e,t),ft.init(e,t),e.unwrap=()=>e._zod.def.innerType});function $1(e){return new VR({type:"optional",innerType:e})}const bK=Z("ZodNullable",(e,t)=>{Aq.init(e,t),ft.init(e,t),e.unwrap=()=>e._zod.def.innerType});function L1(e){return new bK({type:"nullable",innerType:e})}const wK=Z("ZodDefault",(e,t)=>{Rq.init(e,t),ft.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function SK(e,t){return new wK({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const NK=Z("ZodPrefault",(e,t)=>{Tq.init(e,t),ft.init(e,t),e.unwrap=()=>e._zod.def.innerType});function EK(e,t){return new NK({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const GR=Z("ZodNonOptional",(e,t)=>{Mq.init(e,t),ft.init(e,t),e.unwrap=()=>e._zod.def.innerType});function _K(e,t){return new GR({type:"nonoptional",innerType:e,...se(t)})}const CK=Z("ZodCatch",(e,t)=>{Dq.init(e,t),ft.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function jK(e,t){return new CK({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const kK=Z("ZodPipe",(e,t)=>{zq.init(e,t),ft.init(e,t),e.in=t.in,e.out=t.out});function P1(e,t){return new kK({type:"pipe",in:e,out:t})}const AK=Z("ZodReadonly",(e,t)=>{Oq.init(e,t),ft.init(e,t)});function RK(e){return new AK({type:"readonly",innerType:e})}const TK=Z("ZodCustom",(e,t)=>{$q.init(e,t),ft.init(e,t)});function MK(e){const t=new on({check:"custom"});return t._zod.check=e,t}function DK(e,t={}){return jX(TK,e,t)}function zK(e){const t=MK(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ac(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(ac(a))}},e(n.value,n)));return t}const OK=xa({type:Vt(),id:Vt()}),$K=xa({skill:Vt(),level:Eo()}),LK=xa({skillLevel:$K.optional(),items:Vo(OK).optional()}),PK=xa({base:Vt(),subtext:Vt()}),IK=xa({rank:Eo(),edid:Vt(),name:Vt(),description:PK,prerequisites:LK}),BK=xa({x:Eo(),y:Eo(),horizontal:Eo(),vertical:Eo()}),HK=xa({parents:Vo(Vt()),children:Vo(Vt())}),UK=xa({edid:Vt(),name:Vt(),ranks:Vo(IK),totalRanks:Eo(),connections:HK,isRoot:iK(),position:BK}),ZR=xa({treeId:Vt(),treeName:Vt(),treeDescription:Vt(),category:Vt(),perks:Vo(UK)});Vo(ZR);const FK=e=>ZR.parse(e);function VK(e){try{return{success:!0,data:FK(e)}}catch(t){return{success:!1,error:t}}}function GK(e){const t=new Set,n=[],r=(a,o)=>{if(t.has(a))return;t.add(a),o.push(e.find(i=>i.edid===a));const s=e.find(i=>i.edid===a);s.connection.children.forEach(i=>{e.some(c=>c.edid===i)&&r(i,o)}),s.connection.parents.forEach(i=>{e.some(c=>c.edid===i)&&r(i,o)})};return e.forEach(a=>{if(!t.has(a.edid)){const o=[];r(a.edid,o),n.push(o)}}),n}function ZK(e,t){try{if(console.log("=== STARTING CLEAN HIERARCHICAL LAYOUT ==="),console.log(`Total perks to layout: ${e.length}`),e.length===0)return console.log("No perks to layout, returning empty array"),[];console.log("=== STEP 1: IDENTIFYING TREES ===");const n=GK(e);console.log(`Found ${n.length} trees:`,n.map(i=>i.map(c=>c.edid.split("_").pop()))),console.log("=== STEP 2: BUILDING HIERARCHY ===");const r=n.map(i=>YK(i));console.log("=== STEP 3: LAYOUTING TREES ===");const a=r.map((i,c)=>(console.log(`Layouting tree ${c+1} with ${i.nodes.size} nodes`),qK(i,t)));console.log("=== STEP 4: POSITIONING TREES AS SIBLINGS ===");const o=KK(a,t);console.log("=== STEP 5: APPLYING MILD FORCES ===");const s=YR(o,t);return console.log("Clean hierarchical layout completed"),console.log("Final positions:",s.map(i=>`${i.id}: (${i.x.toFixed(0)}, ${i.y.toFixed(0)})`)),s}catch(n){return console.error("Error in hierarchical layout algorithm:",n),e.map(r=>({id:r.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function YK(e){const t=new Map;e.forEach(i=>{t.set(i.edid,{perk:i,depth:-1,children:i.connection.children,parents:i.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((i,c)=>{i.parents.length===0&&n.push(c)}),console.log(`  Tree has ${n.length} roots:`,n.map(i=>i.split("_").pop()));const r=n.map(i=>({id:i,depth:0})),a=new Set;for(;r.length>0;){const{id:i,depth:c}=r.shift();if(a.has(i))continue;a.add(i);const u=t.get(i);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!a.has(d)&&r.push({id:d,depth:c+1})}))}console.log("  Second pass: Handling multi-parent nodes at different levels");let o=!0,s=0;for(;o&&s<10;)o=!1,s++,t.forEach((i,c)=>{if(i.parents.length>1){const u=i.parents.map(d=>{const f=t.get(d);return f?f.depth:-1}).filter(d=>d!==-1);if(u.length>0){const f=Math.min(...u)+1;i.depth!==f&&(console.log(`    ${c.split("_").pop()}: depth ${i.depth} -> ${f} (parents: ${i.parents.map(h=>h.split("_").pop()).join(", ")})`),i.depth=f,o=!0)}}});return console.log("  Third pass: Ensuring children are at higher depth than parents"),t.forEach((i,c)=>{i.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=i.depth){const f=i.depth+1;console.log(`    ${u.split("_").pop()}: depth ${d.depth} -> ${f} (child of ${c.split("_").pop()} at depth ${i.depth})`),d.depth=f}})}),s>=10&&console.log("  Warning: Depth calculation reached maximum iterations"),{nodes:t,roots:n}}function qK(e,t){const{nodes:n,roots:r}=e;console.log(`Layout single tree with ${n.size} nodes and ${r.length} roots`);const a=[];if(n.forEach((f,h)=>{a.push({id:h,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:f.children})}),a.some(f=>{try{const h=new Set,m=Xg(f.id,n,t,h);return!1}catch{return console.log(`Circular reference detected in tree, will use original positions for ${f.id}`),!0}}))return console.log("Using original position data due to circular references"),console.log(`Tree has ${a.length} nodes, checking original positions...`),a.forEach(f=>{const h=n.get(f.id);if(h&&h.perk){const m=h.perk.position.x*t.gridScaleX,y=-h.perk.position.y*t.gridScaleY;console.log(`${f.id.split("_").pop()}: original pos (${h.perk.position.x}, ${h.perk.position.y}) -> scaled (${m.toFixed(0)}, ${y.toFixed(0)})`),f.x=m,f.y=y,f.originalX=m,f.originalY=y}else console.warn(`No original position data for node: ${f.id}`)}),XK(a,t),a;console.log("No circular references detected, using hierarchical layout");const s=a.filter(f=>!a.some(m=>{var y;return m.id!==f.id&&((y=m.children)==null?void 0:y.includes(f.id))}));console.log(`Found ${s.length} root nodes: ${s.map(f=>f.id.split("_").pop()).join(", ")}`),s.forEach(f=>{f.y=0,f.originalY=0});const i=new Set,c=s.map(f=>({node:f,depth:0}));for(;c.length>0;){const{node:f,depth:h}=c.shift();i.has(f.id)||(i.add(f.id),h>0&&(f.y=-h*t.verticalSpacing,f.originalY=f.y),f.children&&f.children.forEach(m=>{const y=a.find(v=>v.id===m);y&&!i.has(m)&&c.push({node:y,depth:h+1})}))}const u=new Map;return a.forEach(f=>{const h=Math.round(f.y/t.verticalSpacing);u.has(h)||u.set(h,[]),u.get(h).push(f)}),Array.from(u.keys()).sort((f,h)=>h-f).forEach(f=>{u.get(f).forEach(m=>{if(m.children){const y=new Map;m.children.forEach(v=>{const w=a.find(g=>g.id===v);if(w){const g=a.filter(x=>{var S;return((S=x.children)==null?void 0:S.includes(v))&&Math.abs(x.y-w.y)===t.verticalSpacing});g.length>0&&g.some(x=>x.id===m.id)&&(y.has(m.id)||y.set(m.id,[]),y.get(m.id).push(w))}}),y.forEach((v,w)=>{if(v.length>0){const g=a.find(x=>x.id===w);if(g){const x=v.map(N=>{const C=Xg(N.id,n,t);return{child:N,subtreeWidth:C}}),S=x.reduce((N,{subtreeWidth:C})=>N+C,0),b=(v.length-1)*t.horizontalSpacing,E=S+b;let j=g.x-E/2;x.forEach(({child:N,subtreeWidth:C})=>{N.x=j+C/2,N.originalX=N.x,j+=C+t.horizontalSpacing})}}})}})}),YR(a,t),a}function YR(e,t){console.log("=== APPLYING MILD FORCES ===");const n=.03,r=.02,a=t.horizontalSpacing*.4,o=new Map;e.forEach(s=>{o.set(s.id,{x:s.x,y:s.y})});for(let s=0;s<5;s++){let i=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],f=e[u],h=d.x+t.nodeWidth*.5,m=d.y+t.nodeHeight*.5,y=f.x+t.nodeWidth*.5,v=f.y+t.nodeHeight*.5,w=y-h,g=v-m,x=Math.sqrt(w*w+g*g);if(x<a&&x>0){const S=w/x*n,b=g/x*n;d.x-=S,d.y-=b,f.x+=S,f.y+=b,i++,s===0&&console.log(`   Repulsion between ${d.id.split("_").pop()} and ${f.id.split("_").pop()}: force=(${S.toFixed(2)}, ${b.toFixed(2)})`)}}if(console.log(`  Iteration ${s+1}: Applied repulsion to ${i} node pairs`),i===0){console.log(`  No more repulsion needed after iteration ${s+1}`);break}}return console.log("=== APPLYING ATTRACTION WITH DEPTH CONSTRAINTS ==="),e.forEach(s=>{const i=o.get(s.id);if(!i)return;const c=i.x-s.x,u=i.y-s.y,d=s.x+c*r,f=s.y+u*r,m=Math.round(i.y/t.verticalSpacing)*t.verticalSpacing,y=Math.max(f,m);(Math.abs(y-s.y)>1||Math.abs(d-s.x)>1)&&console.log(`   Attraction for ${s.id.split("_").pop()}: x=${s.x.toFixed(0)}->${d.toFixed(0)}, y=${s.y.toFixed(0)}->${y.toFixed(0)} (depth constraint: ${m.toFixed(0)})`),s.x=d,s.y=y,s.originalX=d,s.originalY=y}),console.log("Mild forces completed"),e}function XK(e,t){console.log("=== APPLYING CIRCULAR TREE FORCES ===");const n=.08,r=.03,a=t.nodeHeight*.8,o=50,s=new Map;e.forEach(u=>{s.set(u.id,{x:u.x,y:u.y})}),console.log("=== PHASE 1: VERTICAL-ONLY REPULSION ===");let i=0,c=1;for(;c>0&&i<o;){i++,c=0;let u=0;for(let d=0;d<e.length;d++)for(let f=d+1;f<e.length;f++){const h=e[d],m=e[f],y=Math.max(0,Math.min(h.x+t.nodeWidth,m.x+t.nodeWidth)-Math.max(h.x,m.x)),v=Math.max(0,Math.min(h.y+t.nodeHeight,m.y+t.nodeHeight)-Math.max(h.y,m.y)),w=h.y+t.nodeHeight*.5,g=m.y+t.nodeHeight*.5,x=Math.abs(g-w),S=x<a;if(y>0&&v>0||S){c++;let b=0;y>0&&v>0?b=v*n:S&&(b=(a-x)*n),h.y<m.y?(h.y-=b,m.y+=b):(h.y+=b,m.y-=b),u=Math.max(u,b),i===1&&(y>0&&v>0?console.log(`   Vertical repulsion (overlap) between ${h.id.split("_").pop()} and ${m.id.split("_").pop()}: forceY=${b.toFixed(2)}`):console.log(`   Vertical separation between ${h.id.split("_").pop()} and ${m.id.split("_").pop()}: forceY=${b.toFixed(2)}`))}}if(console.log(`  Iteration ${i}: ${c} touching/close pairs, max force: ${u.toFixed(2)}`),c===0){console.log(`  No more touching or close nodes after iteration ${i}`);break}}return i>=o&&console.log(`  Warning: Reached maximum iterations (${o}) with ${c} still touching/close`),console.log("=== PHASE 2: VERTICAL ATTRACTION TO ORIGINAL POSITIONS ==="),e.forEach(u=>{const d=s.get(u.id);if(!d)return;const f=d.y-u.y,h=u.y+f*r;Math.abs(h-u.y)>1&&console.log(`   Vertical attraction for ${u.id.split("_").pop()}: y=${u.y.toFixed(0)}->${h.toFixed(0)}`),u.y=h,u.originalY=h}),console.log("Circular tree forces completed"),e}function KK(e,t){console.log(`Positioning ${e.length} trees as siblings`);const n=[],r=e.map((c,u)=>{const d=Math.max(...c.map(b=>b.y)),f=c.filter(b=>Math.abs(b.y-d)<1),h=f.map(b=>b.x),m=Math.min(...h),y=Math.max(...h),v=y-m,w=h.reduce((b,E)=>b+E,0)/h.length,g=Math.min(...c.map(b=>b.x)),x=Math.max(...c.map(b=>b.x+b.width)),S=x-g;return{treeIndex:u,treeNodes:c,rootNodes:f,minRootX:m,maxRootX:y,rootWidth:v,rootCenterX:w,minX:g,maxX:x,treeWidth:S}}),a=Math.min(...r.map(c=>c.minRootX)),o=Math.max(...r.map(c=>c.maxRootX)),s=o-a;console.log(`Overall root range: ${a.toFixed(0)} to ${o.toFixed(0)} (width: ${s.toFixed(0)})`);let i=0;return r.forEach((c,u)=>{console.log(`  Tree ${u+1}: root range ${c.minRootX.toFixed(0)}-${c.maxRootX.toFixed(0)}, tree width=${c.treeWidth.toFixed(0)}`),console.log(`    Root nodes: ${c.rootNodes.map(h=>h.id.split("_").pop()).join(", ")}`);const d=s>0?c.rootWidth/s:1,f=c.minRootX-a;i-c.minX+f*d,c.treeNodes.forEach(h=>{const y=(h.x-c.minRootX)*d,v=i+y;n.push({...h,x:v,originalX:v})}),i+=c.treeWidth*d+t.horizontalSpacing}),n}function Xg(e,t,n,r=new Set){if(r.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const a=t.get(e);if(!a)return n.nodeWidth;r.add(e);const o=a.children||[],s=o.map(c=>Xg(c,t,n,new Set(r)));if(s.length===0)return n.nodeWidth;let i=0;return s.forEach((c,u)=>{i+=c,u<o.length-1&&(i+=n.horizontalSpacing)}),Math.max(i,n.nodeWidth)}function WK(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const QK=(e,t)=>n=>l.jsx(BZ,{...n,onTogglePerk:e,onRankChange:t}),JK=(e,t)=>({perkNode:QK(e,t)});function eW({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:r}){const[a,o]=$.useState(null),s=$.useCallback((b,E)=>{console.log(` Node ${E.id} moved to: (${E.position.x.toFixed(0)}, ${E.position.y.toFixed(0)})`)},[]),i=p.useMemo(()=>{if(!e)return null;const b=VK(e);return b.success?b.data:(console.error("Invalid perk tree data:",b.error),null)},[e]),c=p.useMemo(()=>JK(t,n),[t,n]),u=p.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),d=p.useMemo(()=>{if(!i)return[];const b=WK(i);return ZK(b,u)},[i,u]),f=p.useMemo(()=>!i||d.length===0?[]:i.perks.map(b=>{const E=b.edid,j=d.find(_=>_.id===E),N=j?{x:j.x,y:j.y}:{x:0,y:0},C=b.connections.children.length>0,A=b.connections.parents.length===0;return{id:E,type:"perkNode",position:N,draggable:!0,data:{...b,selected:!1,hasChildren:C,isRoot:A}}}),[i,d]),h=p.useMemo(()=>{if(!i)return[];const b=[];return i.perks.forEach(E=>{const j=E.edid;E.connections.children.length>0&&E.connections.children.forEach(N=>{if(N===j)return;i.perks.some(A=>A.edid===N)&&b.push({id:`${j}-${N}`,source:j,target:N,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),b},[i]),[m,y,v]=NZ(f),[w,g,x]=EZ(h);$.useEffect(()=>{y(f)},[f,y]),$.useEffect(()=>{i&&y(b=>b.map(E=>{const j=r.find(C=>C.edid===E.id),N=j!==void 0;return{...E,data:{...E.data,selected:N,currentRank:(j==null?void 0:j.currentRank)||0}}}))},[r,y,i]),$.useEffect(()=>{g(h)},[h,g]),$.useEffect(()=>{i&&m.length>0&&a&&setTimeout(()=>{a.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[i==null?void 0:i.treeId,a]);const S=p.useCallback(b=>g(E=>IA(b,E)),[g]);return i?l.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},children:[l.jsx("div",{className:"absolute top-2 right-2 z-10",children:l.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Algorithm v2"})}),l.jsxs(bR,{nodes:m,edges:w,onNodesChange:v,onEdgesChange:x,onConnect:S,onInit:o,nodeTypes:c,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:s,children:[l.jsx(IZ,{}),l.jsx(MZ,{})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}const Eh=p.createContext(null);Eh.displayName="PanelGroupContext";const Je={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Iv=10,Do=p.useLayoutEffect,I1=i0.useId,tW=typeof I1=="function"?I1:()=>null;let nW=0;function Bv(e=null){const t=tW(),n=p.useRef(e||t||null);return n.current===null&&(n.current=""+nW++),e??n.current}function qR({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:o,id:s,maxSize:i,minSize:c,onCollapse:u,onExpand:d,onResize:f,order:h,style:m,tagName:y="div",...v}){const w=p.useContext(Eh);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:g,expandPanel:x,getPanelSize:S,getPanelStyle:b,groupId:E,isPanelCollapsed:j,reevaluatePanelConstraints:N,registerPanel:C,resizePanel:A,unregisterPanel:_}=w,T=Bv(s),I=p.useRef({callbacks:{onCollapse:u,onExpand:d,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:i,minSize:c},id:T,idIsFromProps:s!==void 0,order:h});p.useRef({didLogMissingDefaultSizeWarning:!1}),Do(()=>{const{callbacks:k,constraints:O}=I.current,D={...O};I.current.id=T,I.current.idIsFromProps=s!==void 0,I.current.order=h,k.onCollapse=u,k.onExpand=d,k.onResize=f,O.collapsedSize=n,O.collapsible=r,O.defaultSize=a,O.maxSize=i,O.minSize=c,(D.collapsedSize!==O.collapsedSize||D.collapsible!==O.collapsible||D.maxSize!==O.maxSize||D.minSize!==O.minSize)&&N(I.current,D)}),Do(()=>{const k=I.current;return C(k),()=>{_(k)}},[h,T,C,_]),p.useImperativeHandle(o,()=>({collapse:()=>{g(I.current)},expand:k=>{x(I.current,k)},getId(){return T},getSize(){return S(I.current)},isCollapsed(){return j(I.current)},isExpanded(){return!j(I.current)},resize:k=>{A(I.current,k)}}),[g,x,S,j,T,A]);const L=b(I.current,a);return p.createElement(y,{...v,children:e,className:t,id:T,style:{...L,...m},[Je.groupId]:E,[Je.panel]:"",[Je.panelCollapsible]:r||void 0,[Je.panelId]:T,[Je.panelSize]:parseFloat(""+L.flexGrow).toFixed(1)})}const XR=p.forwardRef((e,t)=>p.createElement(qR,{...e,forwardedRef:t}));qR.displayName="Panel";XR.displayName="forwardRef(Panel)";let Kg=null,ad=-1,Pa=null;function rW(e,t){if(t){const n=(t&eT)!==0,r=(t&tT)!==0,a=(t&nT)!==0,o=(t&rT)!==0;if(n)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function aW(){Pa!==null&&(document.head.removeChild(Pa),Kg=null,Pa=null,ad=-1)}function Fm(e,t){var n,r;const a=rW(e,t);if(Kg!==a){if(Kg=a,Pa===null&&(Pa=document.createElement("style"),document.head.appendChild(Pa)),ad>=0){var o;(o=Pa.sheet)===null||o===void 0||o.removeRule(ad)}ad=(n=(r=Pa.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${a} !important;}`))!==null&&n!==void 0?n:-1}}function KR(e){return e.type==="keydown"}function WR(e){return e.type.startsWith("pointer")}function QR(e){return e.type.startsWith("mouse")}function _h(e){if(WR(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(QR(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function oW(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function sW(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function iW(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:U1(e),b:U1(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;he(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:H1(B1(n.a)),b:H1(B1(n.b))};if(a.a===a.b){const o=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let i=o.length;for(;i--;){const c=o[i];if(c===s.a)return 1;if(c===s.b)return-1}}return Math.sign(a.a-a.b)}const lW=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function cW(e){var t;const n=getComputedStyle((t=JR(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function uW(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||cW(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||lW.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function B1(e){let t=e.length;for(;t--;){const n=e[t];if(he(n,"Missing node"),uW(n))return n}return null}function H1(e){return e&&Number(getComputedStyle(e).zIndex)||0}function U1(e){const t=[];for(;e;)t.push(e),e=JR(e);return t}function JR(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const eT=1,tT=2,nT=4,rT=8,dW=oW()==="coarse";let Wn=[],qs=!1,Ia=new Map,Ch=new Map;const oc=new Set;function fW(e,t,n,r,a){var o;const{ownerDocument:s}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},c=(o=Ia.get(s))!==null&&o!==void 0?o:0;return Ia.set(s,c+1),oc.add(i),uf(),function(){var d;Ch.delete(e),oc.delete(i);const f=(d=Ia.get(s))!==null&&d!==void 0?d:1;if(Ia.set(s,f-1),uf(),f===1&&Ia.delete(s),Wn.includes(i)){const h=Wn.indexOf(i);h>=0&&Wn.splice(h,1),Uv(),a("up",!0,null)}}}function hW(e){const{target:t}=e,{x:n,y:r}=_h(e);qs=!0,Hv({target:t,x:n,y:r}),uf(),Wn.length>0&&(df("down",e),e.preventDefault(),aT(t)||e.stopImmediatePropagation())}function Vm(e){const{x:t,y:n}=_h(e);if(qs&&e.buttons===0&&(qs=!1,df("up",e)),!qs){const{target:r}=e;Hv({target:r,x:t,y:n})}df("move",e),Uv(),Wn.length>0&&e.preventDefault()}function Gm(e){const{target:t}=e,{x:n,y:r}=_h(e);Ch.clear(),qs=!1,Wn.length>0&&(e.preventDefault(),aT(t)||e.stopImmediatePropagation()),df("up",e),Hv({target:t,x:n,y:r}),Uv(),uf()}function aT(e){let t=e;for(;t;){if(t.hasAttribute(Je.resizeHandle))return!0;t=t.parentElement}return!1}function Hv({target:e,x:t,y:n}){Wn.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),oc.forEach(a=>{const{element:o,hitAreaMargins:s}=a,i=o.getBoundingClientRect(),{bottom:c,left:u,right:d,top:f}=i,h=dW?s.coarse:s.fine;if(t>=u-h&&t<=d+h&&n>=f-h&&n<=c+h){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&iW(r,o)>0){let y=r,v=!1;for(;y&&!y.contains(o);){if(sW(y.getBoundingClientRect(),i)){v=!0;break}y=y.parentElement}if(v)return}Wn.push(a)}})}function Zm(e,t){Ch.set(e,t)}function Uv(){let e=!1,t=!1;Wn.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let n=0;Ch.forEach(r=>{n|=r}),e&&t?Fm("intersection",n):e?Fm("horizontal",n):t?Fm("vertical",n):aW()}let Ym;function uf(){var e;(e=Ym)===null||e===void 0||e.abort(),Ym=new AbortController;const t={capture:!0,signal:Ym.signal};oc.size&&(qs?(Wn.length>0&&Ia.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("contextmenu",Gm,t),a.addEventListener("pointerleave",Vm,t),a.addEventListener("pointermove",Vm,t))}),Ia.forEach((n,r)=>{const{body:a}=r;a.addEventListener("pointerup",Gm,t),a.addEventListener("pointercancel",Gm,t)})):Ia.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("pointerdown",hW,t),a.addEventListener("pointermove",Vm,t))}))}function df(e,t){oc.forEach(n=>{const{setResizeHandlerState:r}=n,a=Wn.includes(n);r(e,a,t)})}function mW(){const[e,t]=p.useState(0);return p.useCallback(()=>t(n=>n+1),[])}function he(e,t){if(!e)throw console.error(t),Error(t)}function Go(e,t,n=Iv){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function qr(e,t,n=Iv){return Go(e,t,n)===0}function hn(e,t,n){return Go(e,t,n)===0}function pW(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!hn(a,o,n))return!1}return!0}function Ms({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];he(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:s=100,minSize:i=0}=r;if(Go(n,i)<0)if(o){const c=(a+i)/2;Go(n,c)<0?n=a:n=i}else n=i;return n=Math.min(s,n),n=parseFloat(n.toFixed(Iv)),n}function il({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:o}){if(hn(e,0))return t;const s=[...t],[i,c]=r;he(i!=null,"Invalid first pivot index"),he(c!=null,"Invalid second pivot index");let u=0;if(o==="keyboard"){{const f=e<0?c:i,h=n[f];he(h,`Panel constraints not found for index ${f}`);const{collapsedSize:m=0,collapsible:y,minSize:v=0}=h;if(y){const w=t[f];if(he(w!=null,`Previous layout not found for panel index ${f}`),hn(w,m)){const g=v-w;Go(g,Math.abs(e))>0&&(e=e<0?0-g:g)}}}{const f=e<0?i:c,h=n[f];he(h,`No panel constraints found for index ${f}`);const{collapsedSize:m=0,collapsible:y,minSize:v=0}=h;if(y){const w=t[f];if(he(w!=null,`Previous layout not found for panel index ${f}`),hn(w,v)){const g=w-m;Go(g,Math.abs(e))>0&&(e=e<0?0-g:g)}}}}{const f=e<0?1:-1;let h=e<0?c:i,m=0;for(;;){const v=t[h];he(v!=null,`Previous layout not found for panel index ${h}`);const g=Ms({panelConstraints:n,panelIndex:h,size:100})-v;if(m+=g,h+=f,h<0||h>=n.length)break}const y=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-y:y}{let h=e<0?i:c;for(;h>=0&&h<n.length;){const m=Math.abs(e)-Math.abs(u),y=t[h];he(y!=null,`Previous layout not found for panel index ${h}`);const v=y-m,w=Ms({panelConstraints:n,panelIndex:h,size:v});if(!hn(y,w)&&(u+=y-w,s[h]=w,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?h--:h++}}if(pW(a,s))return a;{const f=e<0?c:i,h=t[f];he(h!=null,`Previous layout not found for panel index ${f}`);const m=h+u,y=Ms({panelConstraints:n,panelIndex:f,size:m});if(s[f]=y,!hn(y,m)){let v=m-y,g=e<0?c:i;for(;g>=0&&g<n.length;){const x=s[g];he(x!=null,`Previous layout not found for panel index ${g}`);const S=x+v,b=Ms({panelConstraints:n,panelIndex:g,size:S});if(hn(x,b)||(v-=b-x,s[g]=b),hn(v,0))break;e>0?g--:g++}}}const d=s.reduce((f,h)=>h+f,0);return hn(d,100)?s:a}function gW({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,o=0,s=0;const i=n[0];he(i!=null,"No pivot index found"),t.forEach((f,h)=>{const{constraints:m}=f,{maxSize:y=100,minSize:v=0}=m;h===i?(r=v,a=y):(o+=v,s+=y)});const c=Math.min(a,100-o),u=Math.max(r,100-s),d=e[i];return{valueMax:c,valueMin:u,valueNow:d}}function sc(e,t=document){return Array.from(t.querySelectorAll(`[${Je.resizeHandleId}][data-panel-group-id="${e}"]`))}function oT(e,t,n=document){const a=sc(e,n).findIndex(o=>o.getAttribute(Je.resizeHandleId)===t);return a??null}function sT(e,t,n){const r=oT(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function yW(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function iT(e,t=document){if(yW(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function jh(e,t=document){const n=t.querySelector(`[${Je.resizeHandleId}="${e}"]`);return n||null}function vW(e,t,n,r=document){var a,o,s,i;const c=jh(t,r),u=sc(e,r),d=c?u.indexOf(c):-1,f=(a=(o=n[d])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,h=(s=(i=n[d+1])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null;return[f,h]}function xW({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:s}){p.useRef({didWarnAboutMissingResizeHandle:!1}),Do(()=>{if(!o)return;const i=sc(n,o);for(let c=0;c<a.length-1;c++){const{valueMax:u,valueMin:d,valueNow:f}=gW({layout:r,panelsArray:a,pivotIndices:[c,c+1]}),h=i[c];if(h!=null){const m=a[c];he(m,`No panel data found for index "${c}"`),h.setAttribute("aria-controls",m.id),h.setAttribute("aria-valuemax",""+Math.round(u)),h.setAttribute("aria-valuemin",""+Math.round(d)),h.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{i.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,r,a,o]),p.useEffect(()=>{if(!o)return;const i=t.current;he(i,"Eager values not found");const{panelDataArray:c}=i,u=iT(n,o);he(u!=null,`No group found for id "${n}"`);const d=sc(n,o);he(d,`No resize handles found for group id "${n}"`);const f=d.map(h=>{const m=h.getAttribute(Je.resizeHandleId);he(m,"Resize handle element has no handle id attribute");const[y,v]=vW(n,m,c,o);if(y==null||v==null)return()=>{};const w=g=>{if(!g.defaultPrevented)switch(g.key){case"Enter":{g.preventDefault();const x=c.findIndex(S=>S.id===y);if(x>=0){const S=c[x];he(S,`No panel data found for index ${x}`);const b=r[x],{collapsedSize:E=0,collapsible:j,minSize:N=0}=S.constraints;if(b!=null&&j){const C=il({delta:hn(b,E)?N-E:E-b,initialLayout:r,panelConstraints:c.map(A=>A.constraints),pivotIndices:sT(n,m,o),prevLayout:r,trigger:"keyboard"});r!==C&&s(C)}}break}}};return h.addEventListener("keydown",w),()=>{h.removeEventListener("keydown",w)}});return()=>{f.forEach(h=>h())}},[o,e,t,n,r,a,s])}function F1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lT(e,t){const n=e==="horizontal",{x:r,y:a}=_h(t);return n?r:a}function bW(e,t,n,r,a){const o=n==="horizontal",s=jh(t,a);he(s,`No resize handle element found for id "${t}"`);const i=s.getAttribute(Je.groupId);he(i,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const u=lT(n,e),d=iT(i,a);he(d,`No group element found for id "${i}"`);const f=d.getBoundingClientRect(),h=o?f.width:f.height;return(u-c)/h*100}function wW(e,t,n,r,a,o){if(KR(e)){const s=n==="horizontal";let i=0;e.shiftKey?i=100:a!=null?i=a:i=10;let c=0;switch(e.key){case"ArrowDown":c=s?0:i;break;case"ArrowLeft":c=s?-i:0;break;case"ArrowRight":c=s?i:0;break;case"ArrowUp":c=s?0:-i;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:bW(e,t,n,r,o)}function SW({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const s=n[o];he(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;i!=null&&(r++,t[o]=i,a-=i)}for(let o=0;o<e.length;o++){const s=n[o];he(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;if(i!=null)continue;const c=e.length-r,u=a/c;r++,t[o]=u,a-=u}return t}function fs(e,t,n){t.forEach((r,a)=>{const o=e[a];he(o,`Panel data not found for index ${a}`);const{callbacks:s,constraints:i,id:c}=o,{collapsedSize:u=0,collapsible:d}=i,f=n[c];if(f==null||r!==f){n[c]=r;const{onCollapse:h,onExpand:m,onResize:y}=s;y&&y(r,f),d&&(h||m)&&(m&&(f==null||qr(f,u))&&!qr(r,u)&&m(),h&&(f==null||!qr(f,u))&&qr(r,u)&&h())}})}function Au(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function NW({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:o=3}){const s=n[a];let i;return s==null?i=e!=null?e.toPrecision(o):"1":r.length===1?i="1":i=s.toPrecision(o),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function EW(e,t=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...a)},t)}}function V1(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function cT(e){return`react-resizable-panels:${e}`}function uT(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function dT(e,t){try{const n=cT(e),r=t.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function _W(e,t,n){var r,a;const o=(r=dT(e,n))!==null&&r!==void 0?r:{},s=uT(t);return(a=o[s])!==null&&a!==void 0?a:null}function CW(e,t,n,r,a){var o;const s=cT(e),i=uT(t),c=(o=dT(e,a))!==null&&o!==void 0?o:{};c[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(s,JSON.stringify(c))}catch(u){console.error(u)}}function G1({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,s)=>o+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!hn(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const s=n[o];he(s!=null,`No layout data found for index ${o}`);const i=100/r*s;n[o]=i}let a=0;for(let o=0;o<t.length;o++){const s=n[o];he(s!=null,`No layout data found for index ${o}`);const i=Ms({panelConstraints:t,panelIndex:o,size:s});s!=i&&(a+=s-i,n[o]=i)}if(!hn(a,0))for(let o=0;o<t.length;o++){const s=n[o];he(s!=null,`No layout data found for index ${o}`);const i=s+a,c=Ms({panelConstraints:t,panelIndex:o,size:i});if(s!==c&&(a-=c-s,n[o]=c,hn(a,0)))break}return n}const jW=100,ll={getItem:e=>(V1(ll),ll.getItem(e)),setItem:(e,t)=>{V1(ll),ll.setItem(e,t)}},Z1={};function fT({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:o=null,onLayout:s=null,keyboardResizeBy:i=null,storage:c=ll,style:u,tagName:d="div",...f}){const h=Bv(o),m=p.useRef(null),[y,v]=p.useState(null),[w,g]=p.useState([]),x=mW(),S=p.useRef({}),b=p.useRef(new Map),E=p.useRef(0),j=p.useRef({autoSaveId:e,direction:r,dragState:y,id:h,keyboardResizeBy:i,onLayout:s,storage:c}),N=p.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});p.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),p.useImperativeHandle(a,()=>({getId:()=>j.current.id,getLayout:()=>{const{layout:H}=N.current;return H},setLayout:H=>{const{onLayout:F}=j.current,{layout:G,panelDataArray:q}=N.current,V=G1({layout:H,panelConstraints:q.map(X=>X.constraints)});F1(G,V)||(g(V),N.current.layout=V,F&&F(V),fs(q,V,S.current))}}),[]),Do(()=>{j.current.autoSaveId=e,j.current.direction=r,j.current.dragState=y,j.current.id=h,j.current.onLayout=s,j.current.storage=c}),xW({committedValuesRef:j,eagerValuesRef:N,groupId:h,layout:w,panelDataArray:N.current.panelDataArray,setLayout:g,panelGroupElement:m.current}),p.useEffect(()=>{const{panelDataArray:H}=N.current;if(e){if(w.length===0||w.length!==H.length)return;let F=Z1[e];F==null&&(F=EW(CW,jW),Z1[e]=F);const G=[...H],q=new Map(b.current);F(e,G,q,w,c)}},[e,w,c]),p.useEffect(()=>{});const C=p.useCallback(H=>{const{onLayout:F}=j.current,{layout:G,panelDataArray:q}=N.current;if(H.constraints.collapsible){const V=q.map(we=>we.constraints),{collapsedSize:X=0,panelSize:W,pivotIndices:re}=mo(q,H,G);if(he(W!=null,`Panel size not found for panel "${H.id}"`),!qr(W,X)){b.current.set(H.id,W);const Ce=vs(q,H)===q.length-1?W-X:X-W,ue=il({delta:Ce,initialLayout:G,panelConstraints:V,pivotIndices:re,prevLayout:G,trigger:"imperative-api"});Au(G,ue)||(g(ue),N.current.layout=ue,F&&F(ue),fs(q,ue,S.current))}}},[]),A=p.useCallback((H,F)=>{const{onLayout:G}=j.current,{layout:q,panelDataArray:V}=N.current;if(H.constraints.collapsible){const X=V.map(J=>J.constraints),{collapsedSize:W=0,panelSize:re=0,minSize:we=0,pivotIndices:Ce}=mo(V,H,q),ue=F??we;if(qr(re,W)){const J=b.current.get(H.id),Re=J!=null&&J>=ue?J:ue,Ne=vs(V,H)===V.length-1?re-Re:Re-re,Q=il({delta:Ne,initialLayout:q,panelConstraints:X,pivotIndices:Ce,prevLayout:q,trigger:"imperative-api"});Au(q,Q)||(g(Q),N.current.layout=Q,G&&G(Q),fs(V,Q,S.current))}}},[]),_=p.useCallback(H=>{const{layout:F,panelDataArray:G}=N.current,{panelSize:q}=mo(G,H,F);return he(q!=null,`Panel size not found for panel "${H.id}"`),q},[]),T=p.useCallback((H,F)=>{const{panelDataArray:G}=N.current,q=vs(G,H);return NW({defaultSize:F,dragState:y,layout:w,panelData:G,panelIndex:q})},[y,w]),I=p.useCallback(H=>{const{layout:F,panelDataArray:G}=N.current,{collapsedSize:q=0,collapsible:V,panelSize:X}=mo(G,H,F);return he(X!=null,`Panel size not found for panel "${H.id}"`),V===!0&&qr(X,q)},[]),L=p.useCallback(H=>{const{layout:F,panelDataArray:G}=N.current,{collapsedSize:q=0,collapsible:V,panelSize:X}=mo(G,H,F);return he(X!=null,`Panel size not found for panel "${H.id}"`),!V||Go(X,q)>0},[]),k=p.useCallback(H=>{const{panelDataArray:F}=N.current;F.push(H),F.sort((G,q)=>{const V=G.order,X=q.order;return V==null&&X==null?0:V==null?-1:X==null?1:V-X}),N.current.panelDataArrayChanged=!0,x()},[x]);Do(()=>{if(N.current.panelDataArrayChanged){N.current.panelDataArrayChanged=!1;const{autoSaveId:H,onLayout:F,storage:G}=j.current,{layout:q,panelDataArray:V}=N.current;let X=null;if(H){const re=_W(H,V,G);re&&(b.current=new Map(Object.entries(re.expandToSizes)),X=re.layout)}X==null&&(X=SW({panelDataArray:V}));const W=G1({layout:X,panelConstraints:V.map(re=>re.constraints)});F1(q,W)||(g(W),N.current.layout=W,F&&F(W),fs(V,W,S.current))}}),Do(()=>{const H=N.current;return()=>{H.layout=[]}},[]);const O=p.useCallback(H=>{let F=!1;const G=m.current;return G&&window.getComputedStyle(G,null).getPropertyValue("direction")==="rtl"&&(F=!0),function(V){V.preventDefault();const X=m.current;if(!X)return()=>null;const{direction:W,dragState:re,id:we,keyboardResizeBy:Ce,onLayout:ue}=j.current,{layout:J,panelDataArray:Re}=N.current,{initialLayout:st}=re??{},Ne=sT(we,H,X);let Q=wW(V,H,W,re,Ce,X);const Ze=W==="horizontal";Ze&&F&&(Q=-Q);const Dt=Re.map(Xt=>Xt.constraints),qt=il({delta:Q,initialLayout:st??J,panelConstraints:Dt,pivotIndices:Ne,prevLayout:J,trigger:KR(V)?"keyboard":"mouse-or-touch"}),Un=!Au(J,qt);(WR(V)||QR(V))&&E.current!=Q&&(E.current=Q,!Un&&Q!==0?Ze?Zm(H,Q<0?eT:tT):Zm(H,Q<0?nT:rT):Zm(H,0)),Un&&(g(qt),N.current.layout=qt,ue&&ue(qt),fs(Re,qt,S.current))}},[]),D=p.useCallback((H,F)=>{const{onLayout:G}=j.current,{layout:q,panelDataArray:V}=N.current,X=V.map(J=>J.constraints),{panelSize:W,pivotIndices:re}=mo(V,H,q);he(W!=null,`Panel size not found for panel "${H.id}"`);const Ce=vs(V,H)===V.length-1?W-F:F-W,ue=il({delta:Ce,initialLayout:q,panelConstraints:X,pivotIndices:re,prevLayout:q,trigger:"imperative-api"});Au(q,ue)||(g(ue),N.current.layout=ue,G&&G(ue),fs(V,ue,S.current))},[]),P=p.useCallback((H,F)=>{const{layout:G,panelDataArray:q}=N.current,{collapsedSize:V=0,collapsible:X}=F,{collapsedSize:W=0,collapsible:re,maxSize:we=100,minSize:Ce=0}=H.constraints,{panelSize:ue}=mo(q,H,G);ue!=null&&(X&&re&&qr(ue,V)?qr(V,W)||D(H,W):ue<Ce?D(H,Ce):ue>we&&D(H,we))},[D]),M=p.useCallback((H,F)=>{const{direction:G}=j.current,{layout:q}=N.current;if(!m.current)return;const V=jh(H,m.current);he(V,`Drag handle element not found for id "${H}"`);const X=lT(G,F);v({dragHandleId:H,dragHandleRect:V.getBoundingClientRect(),initialCursorPosition:X,initialLayout:q})},[]),R=p.useCallback(()=>{v(null)},[]),z=p.useCallback(H=>{const{panelDataArray:F}=N.current,G=vs(F,H);G>=0&&(F.splice(G,1),delete S.current[H.id],N.current.panelDataArrayChanged=!0,x())},[x]),B=p.useMemo(()=>({collapsePanel:C,direction:r,dragState:y,expandPanel:A,getPanelSize:_,getPanelStyle:T,groupId:h,isPanelCollapsed:I,isPanelExpanded:L,reevaluatePanelConstraints:P,registerPanel:k,registerResizeHandle:O,resizePanel:D,startDragging:M,stopDragging:R,unregisterPanel:z,panelGroupElement:m.current}),[C,y,r,A,_,T,h,I,L,P,k,O,D,M,R,z]),U={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return p.createElement(Eh.Provider,{value:B},p.createElement(d,{...f,children:t,className:n,id:o,ref:m,style:{...U,...u},[Je.group]:"",[Je.groupDirection]:r,[Je.groupId]:h}))}const hT=p.forwardRef((e,t)=>p.createElement(fT,{...e,forwardedRef:t}));fT.displayName="PanelGroup";hT.displayName="forwardRef(PanelGroup)";function vs(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function mo(e,t,n){const r=vs(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:o}}function kW({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){p.useEffect(()=>{if(e||n==null||r==null)return;const a=jh(t,r);if(a==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const i=a.getAttribute(Je.groupId);he(i,`No group element found for id "${i}"`);const c=sc(i,r),u=oT(i,t,r);he(u!==null,`No resize element found for id "${t}"`);const d=s.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[d].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,n])}function mT({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:s,onDragging:i,onFocus:c,onPointerDown:u,onPointerUp:d,style:f={},tabIndex:h=0,tagName:m="div",...y}){var v,w;const g=p.useRef(null),x=p.useRef({onClick:s,onDragging:i,onPointerDown:u,onPointerUp:d});p.useEffect(()=>{x.current.onClick=s,x.current.onDragging=i,x.current.onPointerDown=u,x.current.onPointerUp=d});const S=p.useContext(Eh);if(S===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:b,groupId:E,registerResizeHandle:j,startDragging:N,stopDragging:C,panelGroupElement:A}=S,_=Bv(a),[T,I]=p.useState("inactive"),[L,k]=p.useState(!1),[O,D]=p.useState(null),P=p.useRef({state:T});Do(()=>{P.current.state=T}),p.useEffect(()=>{if(n)D(null);else{const B=j(_);D(()=>B)}},[n,_,j]);const M=(v=r==null?void 0:r.coarse)!==null&&v!==void 0?v:15,R=(w=r==null?void 0:r.fine)!==null&&w!==void 0?w:5;p.useEffect(()=>{if(n||O==null)return;const B=g.current;he(B,"Element ref not attached");let U=!1;return fW(_,B,b,{coarse:M,fine:R},(F,G,q)=>{if(!G){I("inactive");return}switch(F){case"down":{I("drag"),U=!1,he(q,'Expected event to be defined for "down" action'),N(_,q);const{onDragging:V,onPointerDown:X}=x.current;V==null||V(!0),X==null||X();break}case"move":{const{state:V}=P.current;U=!0,V!=="drag"&&I("hover"),he(q,'Expected event to be defined for "move" action'),O(q);break}case"up":{I("hover"),C();const{onClick:V,onDragging:X,onPointerUp:W}=x.current;X==null||X(!1),W==null||W(),U||V==null||V();break}}})},[M,b,n,R,j,_,O,N,C]),kW({disabled:n,handleId:_,resizeHandler:O,panelGroupElement:A});const z={touchAction:"none",userSelect:"none"};return p.createElement(m,{...y,children:e,className:t,id:a,onBlur:()=>{k(!1),o==null||o()},onFocus:()=>{k(!0),c==null||c()},ref:g,role:"separator",style:{...z,...f},tabIndex:h,[Je.groupDirection]:b,[Je.groupId]:E,[Je.resizeHandle]:"",[Je.resizeHandleActive]:T==="drag"?"pointer":L?"keyboard":void 0,[Je.resizeHandleEnabled]:!n,[Je.resizeHandleId]:_,[Je.resizeHandleState]:T})}mT.displayName="PanelResizeHandle";function AW({className:e,...t}){return l.jsx(hT,{"data-slot":"resizable-panel-group",className:K("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function Y1({...e}){return l.jsx(XR,{"data-slot":"resizable-panel",...e})}function RW({withHandle:e,className:t,...n}){return l.jsx(mT,{"data-slot":"resizable-handle",className:K("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&l.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:l.jsx(Z4,{className:"size-2.5"})})})}function TW(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null);return p.useEffect(()=>{(async()=>{try{const c=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!c.ok)throw new Error("Failed to load perk trees data");const d=(await c.json()).map(f=>({...f,perks:f.perks.map(h=>({...h,currentRank:0,selected:!1}))}));t(d)}catch(c){o(c instanceof Error?c.message:"Unknown error")}finally{r(!1)}})()},[]),{perkTrees:e,getTreeById:i=>e.find(c=>c.treeId===i),loading:n,error:a}}function MW(e){const[t,n]=p.useState({selectedPerks:{},minLevels:{},totalPerks:0}),r=(u,d=new Set)=>{var m;if(!e||d.has(u))return[];d.add(u);const f=e.perks.find(y=>y.perkId===u);if(!f||!((m=f.prerequisites)!=null&&m.perks))return[];const h=[];return f.prerequisites.perks.forEach(y=>{if(y.type==="PERK"&&e.perks.some(w=>w.perkId===y.id)){h.push(y.id);const w=r(y.id,d);h.push(...w)}}),[...new Set(h)]},a=(u,d=new Set)=>{if(!e||d.has(u))return[];d.add(u);const f=[];return e.perks.forEach(h=>{var m,y;if((y=(m=h.prerequisites)==null?void 0:m.perks)!=null&&y.some(v=>v.type==="PERK"&&v.id===u)){f.push(h.perkId);const v=a(h.perkId,d);f.push(...v)}}),[...new Set(f)]},o=p.useCallback(u=>{e&&(console.log(`togglePerk called for ${u} in tree ${e.treeName}`),n(d=>{var v,w;const f=e.treeName,h=d.selectedPerks[f]||[],m=h.findIndex(g=>g.perkId===u),y=e.perks.find(g=>g.perkId===u);if(!y)return d;if(m>=0){const g=h[m];if(y.ranks>1){const S=((g.currentRank||0)+1)%(y.ranks+1);if(S===0)if(((w=(v=y.prerequisites)==null?void 0:v.perks)==null?void 0:w.some(E=>E.type==="PERK"&&E.id!==u&&h.some(j=>j.perkId===E.id)))||!1){const E=[...h];return E[m]={...g,currentRank:0},console.log(`Cycling ${y.perkName} to rank 0 (kept due to other parents)`),{...d,selectedPerks:{...d.selectedPerks,[f]:E}}}else{const E=a(u),j=new Set([u,...E]),N=h.filter(A=>j.has(A.perkId)),C=h.filter(A=>!j.has(A.perkId));return console.log(`Cycling to rank 0, removing ${N.length} perks:`,N.map(A=>A.perkName)),{...d,selectedPerks:{...d.selectedPerks,[f]:C},totalPerks:d.totalPerks-N.length}}else{const b=[...h];return b[m]={...g,currentRank:S},console.log(`Cycling ${y.perkName} to rank ${S}`),{...d,selectedPerks:{...d.selectedPerks,[f]:b}}}}else{const x=a(u),S=new Set([u,...x]),b=h.filter(j=>S.has(j.perkId)),E=h.filter(j=>!S.has(j.perkId));return console.log(`Removing ${b.length} perks:`,b.map(j=>j.perkName)),{...d,selectedPerks:{...d.selectedPerks,[f]:E},totalPerks:d.totalPerks-b.length}}}else{const g=r(u),x=new Set([u,...g]),S=Array.from(x).map(A=>e.perks.find(_=>_.perkId===A)).filter(A=>A!==void 0).map(A=>{const _=h.find(T=>T.perkId===A.perkId);if(_)return{...A,selected:!0,currentRank:_.currentRank||0};{const T=A.perkId===u||A.ranks>1&&x.has(A.perkId);return{...A,selected:!0,currentRank:T&&A.ranks>1?1:0}}}),b=new Set(h.map(A=>A.perkId)),E=S.filter(A=>b.has(A.perkId)),j=S.filter(A=>!b.has(A.perkId)),C=[...h.map(A=>{const _=E.find(T=>T.perkId===A.perkId);return _?{...A,..._}:A}),...j];return console.log(`Adding ${j.length} new perks and updating ${E.length} existing perks:`,j.map(A=>A.perkName)),{...d,selectedPerks:{...d.selectedPerks,[f]:C},totalPerks:d.totalPerks+j.length}}}))},[e]),s=p.useCallback((u,d)=>{e&&n(f=>{const h=e.treeName,m=f.selectedPerks[h]||[],y=m.findIndex(w=>w.perkId===u),v=e.perks.find(w=>w.perkId===u);if(!v)return f;if(y>=0){const w=[...m],g=v.ranks>1?Math.max(0,Math.min(d,v.ranks)):0;return w[y]={...w[y],currentRank:g},console.log(`Updated ${v.perkName} rank to ${g}`),{...f,selectedPerks:{...f.selectedPerks,[h]:w}}}else return console.log(`Attempted to update rank for unselected perk: ${v.perkName}`),f})},[e]),i=p.useCallback(()=>{e&&n(u=>{const d=e.treeName,f=u.selectedPerks[d]||[],h={...u.selectedPerks};return delete h[d],{...u,selectedPerks:h,totalPerks:u.totalPerks-f.length}})},[e]),c=p.useCallback(()=>{n({selectedPerks:{},minLevels:{},totalPerks:0})},[]);return{perkPlan:t,togglePerk:o,updatePerkRank:s,clearSkill:i,clearAll:c}}function DW(){const{perkTrees:e,loading:t,error:n}=TW(),[r,a]=p.useState(null),o=e.find(y=>y.treeId===r),{perkPlan:s,togglePerk:i,updatePerkRank:c,clearSkill:u,clearAll:d}=MW(o||void 0),f=o?s.selectedPerks[o.treeName]||[]:[],h=p.useMemo(()=>[{id:"skills",name:"Skills",placeholder:"Search skills...",options:e.map(v=>{const w=s.selectedPerks[v.treeName]||[];return{id:v.treeId,label:v.treeName,value:v.treeId,category:"skills",description:`${w.length} perks selected  ${v.treeDescription}`}})}],[e,s.selectedPerks]),m=y=>{a(y.value)};return $.useEffect(()=>{!r&&e.length>0&&a(e[0].treeId)},[r,e]),t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading perk trees..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Perk Planner"}),l.jsx("p",{className:"text-muted-foreground",children:"Plan your character's perk progression through skill trees"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Skill Selection"}),l.jsx(Wo,{categories:h,onSelect:m,placeholder:"Search for a skill...",className:"max-w-md"})]}),l.jsxs(AW,{direction:"vertical",className:"min-h-[800px]",children:[l.jsx(Y1,{defaultSize:100,children:l.jsxs(ct,{className:"h-full",children:[l.jsx(ut,{children:l.jsx(vt,{children:o?o.treeName:"Select a Skill"})}),l.jsx(ot,{className:"h-full p-0",children:l.jsx(eW,{tree:o,onTogglePerk:i,onRankChange:c,selectedPerks:f})})]})}),l.jsx(RW,{withHandle:!0}),l.jsx(Y1,{defaultSize:0})]}),l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsx(vt,{children:"Summary"})}),l.jsx(ot,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:"Total Perks:"}),l.jsx("span",{className:"text-lg font-bold",children:s.totalPerks})]}),o&&l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium",children:[o.treeName,":"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.length," perks selected"]})]}),l.jsx(oe,{size:"sm",variant:"outline",onClick:u,children:"Clear"})]}),l.jsx("div",{className:"flex justify-center items-center",children:l.jsx(oe,{size:"sm",variant:"outline",onClick:d,className:"w-full",children:"Clear All"})})]})})]})]})}function zW({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),v=e.length===1?e[0]:null;p.useEffect(()=>{const _=T=>{m.current&&!m.current.contains(T.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const w=i||v?(i||v).options.filter(_=>{var T;return _.label.toLowerCase().includes(u.toLowerCase())||((T=_.description)==null?void 0:T.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(_=>_.options.filter(T=>{var I;return T.label.toLowerCase().includes(u.toLowerCase())||((I=T.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),g=_=>{d(_),s(!0),h(-1)},x=_=>{var T;c(_),d(""),(T=y.current)==null||T.focus()},S=_=>{t(_),d(""),c(null),s(!1),h(-1)},b=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},E=_=>{_.key==="ArrowDown"?(_.preventDefault(),h(T=>Math.min(T+1,w.length-1))):_.key==="ArrowUp"?(_.preventDefault(),h(T=>Math.max(T-1,-1))):_.key==="Enter"?(_.preventDefault(),f>=0&&w[f]?S(w[f]):u.trim()&&b()):_.key==="Escape"&&(s(!1),c(null),h(-1))},j=()=>{s(!0)},N=i||v,C=!v&&!i,A=u.trim()&&!w.some(_=>_.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(wr,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:_=>g(_.target.value),onFocus:j,onKeyDown:E,className:"pl-10 pr-20"}),A&&l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:b,title:"Add custom search term",children:l.jsx(Bn,{className:"h-4 w-4"})}),l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(_t,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:It.AUTOCOMPLETE},children:[C&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(_=>l.jsxs("button",{onClick:()=>x(_),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:_.name}),l.jsx(_t,{className:"h-4 w-4"})]},_.id))]}),A&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:b,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Bn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!A?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((_,T)=>l.jsxs("button",{onClick:()=>S(_),className:`w-full text-left px-2 py-2 rounded text-sm ${T===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:_.label}),_.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:_.description})]},_.id))})]})]})}function OW({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="keywords"),o=e.filter(s=>s.id!=="keywords");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(zW,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Wo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function pT({raceName:e,size:t="md",className:n}){return l.jsx(nk,{entityName:e,entityType:"race",size:t,className:n})}function Wg({item:e,originalRace:t,isExpanded:n=!1,onToggle:r,className:a}){var o;return l.jsxs(rv,{isExpanded:n,onToggle:r||(()=>{}),className:a,children:[l.jsx(oh,{children:l.jsx(Ey,{itemId:(t==null?void 0:t.edid)||e.id,itemType:"race",itemName:e.name})}),l.jsxs(sh,{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(pT,{raceName:e.name,size:"md"}),l.jsx(Pf,{className:"text-primary font-semibold",children:e.name})]}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.category&&l.jsx(Se,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category}),e.effects&&e.effects.length>0&&l.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(zn,{className:"h-3 w-3 text-yellow-500"}),l.jsxs("span",{children:[e.effects.length," effects"]})]})})]})]}),l.jsx(ih,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"line-clamp-2",children:l.jsx(Ot,{className:"text-sm text-muted-foreground",children:e.summary||e.description})}),l.jsx("div",{className:"flex flex-wrap gap-2",children:(o=e.effects)==null?void 0:o.slice(0,2).map((s,i)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:s.description,children:[l.jsx(zn,{className:"h-3 w-3 text-yellow-500"}),l.jsx("span",{className:"font-medium",children:s.name})]},i))})]})}),l.jsx(lh,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx(Ot,{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),(t==null?void 0:t.startingStats)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Stats"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(t.startingStats).map(([s,i])=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zn,{className:"h-4 w-4 text-skyrim-gold"}),l.jsx("span",{className:"font-medium capitalize",children:s})]}),l.jsxs("span",{className:"font-bold text-green-600",children:["+",i]})]},s))})]}),e.effects&&e.effects.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Effects"}),l.jsx("div",{className:"space-y-3",children:e.effects.map((s,i)=>l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(zn,{className:"h-4 w-4 text-yellow-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Ot,{className:"font-medium text-sm mb-1",children:s.name}),l.jsx(Ot,{className:"text-sm text-muted-foreground",children:s.description})]})]})},i))})]})]})})]})}function $W(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid.toLowerCase().replace("race",""),name:i.name,description:i.description,category:i.category,abilities:i.racialSpells.map(c=>c.name),skills:i.skillBonuses.map(c=>c.skill),keywords:i.keywords.map(c=>c.edid),originalRace:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new va(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredRaces:p.useMemo(()=>o.map(i=>i.item.originalRace),[o]),searchResults:o,searchableRaces:n}}const gT={REQ_StrongStomach:"Strong Stomach",IsBeastRace:"Beast Race",REQ_DropsBloodKeyword:"Bleeds",REQ_RacialSkills_SneakUnperked:"Natural Sneak",REQ_RacialSkills_CreatePotionsUnperked:"Natural Alchemy",REQ_RacialSkills_LockpickUnperked:"Natural Lockpicking",REQ_RacialSkills_RechargeWeaponsUnperked:"Natural Enchanting",ActorTypeNPC:"NPC",REQ_RaceHuman:"Human Race"};function yT(e,t){const n=t.toLowerCase(),r=e.toLowerCase();return r.includes("resist")||r.includes("resistance")||n.includes("resist")||n.includes("resistance")||n.includes("immune")||n.includes("protection")||n.includes("less likely to")||n.includes("less damage")||n.includes("less effect")||n.includes("reduced effect")||n.includes("reduced damage")||n.includes("reduced chance")?"positive":n.includes("penalty")||n.includes("reduced")||n.includes("less")||r.includes("no ")||r.includes("penalty")||r.includes("weakness")?"negative":n.includes("increased")||n.includes("more")||n.includes("faster")||n.includes("bonus")||n.includes("+")?"positive":"neutral"}function vT(e){const t=e.match(/<(\d+(?:\.\d+)?)>/);return t?parseFloat(t[1]):void 0}function xT(e){const t=["health","magicka","stamina","damage","speed","effect"],n=e.toLowerCase();for(const r of t)if(n.includes(r))return r}function bT(e){const t=[];return t.push(e.category),e.keywords.forEach(n=>{const r=gT[n.edid];r&&t.push(r)}),e.racialSpells.forEach(n=>{t.push(n.name)}),e.skillBonuses.forEach(n=>{t.push(n.skill)}),[...new Set(t)]}function Qg(e){const t=e.racialSpells.map(r=>({name:r.name,type:yT(r.name,r.description),description:r.description,value:vT(r.description),target:xT(r.description)})),n=bT(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.category}}function LW(e){const t=e.racialSpells.map(r=>({name:r.name,type:yT(r.name,r.description),description:r.description,value:vT(r.description),target:xT(r.description)})),n=bT(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,category:e.category,tags:n,effects:t,startingStats:e.startingStats,skillBonuses:e.skillBonuses,keywords:n,regeneration:e.regeneration,combat:e.combat}}function Jg(e){return gT[e]||e}function PW(e){const t=new Set;return e.forEach(n=>{n.keywords.forEach(r=>{const a=Jg(r.edid);t.add(a)})}),Array.from(t).sort()}function IW(e){const t=new Set;return e.forEach(n=>{n.skillBonuses.forEach(r=>{t.add(r.skill)})}),Array.from(t).sort()}function BW(e){const t=new Set;return e.forEach(n=>{n.racialSpells.forEach(r=>{t.add(r.name)})}),Array.from(t).sort()}function HW(){const e=ga(),{build:t}=ya(),[n,r]=p.useState([]),[a,o]=p.useState(!0),[s,i]=p.useState(null),[c,u]=p.useState(new Set),[d,f]=p.useState("grid");p.useEffect(()=>{async function N(){try{o(!0);const C=await fetch("/lorerim-arcaneum/data/playable-races.json");if(!C.ok)throw new Error("Failed to fetch race data");const A=await C.json();r(A.races)}catch(C){i("Failed to load race data"),console.error("Error loading races:",C)}finally{o(!1)}}N()},[]),n.map(N=>Qg(N));const m=(()=>{const N=[...new Set(n.flatMap(_=>_.keywords.map(T=>T.edid)))],C=[...new Set(n.flatMap(_=>_.skillBonuses.map(T=>T.skill)))],A=[...new Set(n.map(_=>_.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:N.map(_=>({id:`keyword-${_}`,label:_,value:_,category:"Fuzzy Search",description:`Races with ${_} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:C.map(_=>({id:`skill-${_}`,label:_,value:_,category:"Skill Bonuses",description:`Races with ${_} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:A.map(_=>({id:`category-${_}`,label:_,value:_,category:"Race Categories",description:`${_} races`}))}]})(),[y,v]=p.useState([]),w=N=>{let C;typeof N=="string"?C={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:C={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},y.some(A=>A.value===C.value&&A.category===C.category)||v(A=>[...A,C])},g=N=>{v(C=>C.filter(A=>A.id!==N))},x=n.filter(N=>y.length===0?!0:y.every(C=>{switch(C.category){case"Fuzzy Search":return!0;case"Race Categories":return N.category===C.value;case"Skill Bonuses":return N.skillBonuses.some(A=>A.skill===C.value);case"Keywords":return N.keywords.some(A=>A.edid===C.value);default:return!0}})),S=y.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredRaces:b}=$W(x,S),E=b.map(N=>Qg(N)),j=N=>{const C=new Set(c);if(d==="grid"){const _=E.findIndex(O=>O.id===N),I=Math.floor(_/3)*3,L=Math.min(I+3,E.length);E.slice(I,L).some(O=>C.has(O.id))?E.slice(I,L).forEach(O=>{C.delete(O.id)}):E.slice(I,L).forEach(O=>{C.add(O.id)})}else C.has(N)?C.delete(N):C.add(N);u(C)};return a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:s}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>e("/build"),className:"flex items-center gap-2",children:[l.jsx(k4,{className:"h-4 w-4"}),"Back to Build"]})}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(OW,{categories:m,onSelect:w,onCustomSearch:w})}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(oe,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(_c,{className:"h-4 w-4"})}),l.jsx(oe,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(Ec,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:y.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>v([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(Cr,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),y.map(N=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>g(N.id),title:"Click to remove",children:[N.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})}),d==="grid"?l.jsx(qy,{columns:3,gap:"md",className:"w-full",children:E.map(N=>{const C=n.find(T=>T.edid.toLowerCase().replace("race","")===N.id),A=c.has(N.id),_=t.race===(C==null?void 0:C.edid);return l.jsx(Wg,{item:N,originalRace:C,isExpanded:A,onToggle:()=>j(N.id),className:K("w-full",_&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full",children:E.map(N=>{const C=n.find(T=>T.edid.toLowerCase().replace("race","")===N.id),A=c.has(N.id),_=t.race===(C==null?void 0:C.edid);return l.jsx(Wg,{item:N,originalRace:C,isExpanded:A,onToggle:()=>j(N.id),className:K("w-full",_&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}),E.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function UW({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),v=e.length===1?e[0]:null;p.useEffect(()=>{const _=T=>{m.current&&!m.current.contains(T.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const w=i||v?(i||v).options.filter(_=>{var T;return _.label.toLowerCase().includes(u.toLowerCase())||((T=_.description)==null?void 0:T.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(_=>_.options.filter(T=>{var I;return T.label.toLowerCase().includes(u.toLowerCase())||((I=T.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),g=_=>{d(_),s(!0),h(-1)},x=_=>{var T;c(_),d(""),(T=y.current)==null||T.focus()},S=_=>{t(_),d(""),c(null),s(!1),h(-1)},b=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},E=_=>{_.key==="ArrowDown"?(_.preventDefault(),h(T=>Math.min(T+1,w.length-1))):_.key==="ArrowUp"?(_.preventDefault(),h(T=>Math.max(T-1,-1))):_.key==="Enter"?(_.preventDefault(),f>=0&&w[f]?S(w[f]):u.trim()&&b()):_.key==="Escape"&&(s(!1),c(null),h(-1))},j=()=>{s(!0)},N=i||v,C=!v&&!i,A=u.trim()&&!w.some(_=>_.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(wr,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:_=>g(_.target.value),onFocus:j,onKeyDown:E,className:"pl-10 pr-20"}),A&&l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:b,title:"Add custom search term",children:l.jsx(Bn,{className:"h-4 w-4"})}),l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(_t,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:It.AUTOCOMPLETE},children:[C&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(_=>l.jsxs("button",{onClick:()=>x(_),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:_.name}),l.jsx(_t,{className:"h-4 w-4"})]},_.id))]}),A&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:b,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Bn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!A?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((_,T)=>l.jsxs("button",{onClick:()=>S(_),className:`w-full text-left px-2 py-2 rounded text-sm ${T===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:_.label}),_.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:_.description})]},_.id))})]})]})}function FW({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(UW,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Wo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function qm({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const r=n.split(/(<[^>]+>)/g);return l.jsx("div",{className:t,children:r.map((a,o)=>{if(a.startsWith("<")&&a.endsWith(">")){const s=a.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:s},o)}return a})})}function VW({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return l.jsx(Ot,{className:"text-xs text-muted-foreground",children:t.map((n,r)=>{if(n.startsWith("<")&&n.endsWith(">")){const a=n.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:a},r)}return n})})}function Xm({description:e,magnitude:t,duration:n,area:r=0}){if(!e)return null;let a=e.replace(/<[^>]*>/g,"");a=a.replace(/<mag>/g,t.toString()),a=a.replace(/<magnitude>/g,t.toString()),a=a.replace(/<dur>/g,n.toString()),a=a.replace(/<duration>/g,n.toString()),r>0&&(a=a.replace(/<area>/g,r.toString())),a=a.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const o=a.split(/(<[^>]+>)/g);return l.jsx(Ot,{className:"text-xs text-muted-foreground",children:o.map((s,i)=>{if(s.startsWith("<")&&s.endsWith(">")){const c=s.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},i)}return s})})}function Km(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Wm(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],r=t.some(o=>o.test(e)),a=n.some(o=>o.test(e));return{hasMagnitude:r,hasDuration:a}}const GW={Restoration:l.jsx(o_,{className:"h-4 w-4 text-green-500"}),Destruction:l.jsx(Qp,{className:"h-4 w-4 text-red-500"}),Alteration:l.jsx($a,{className:"h-4 w-4 text-blue-500"}),Illusion:l.jsx(bb,{className:"h-4 w-4 text-purple-500"}),Conjuration:l.jsx(_l,{className:"h-4 w-4 text-purple-500"}),Enchanting:l.jsx(El,{className:"h-4 w-4 text-blue-500"}),Alchemy:l.jsx(a_,{className:"h-4 w-4 text-green-500"}),"Light Armor":l.jsx($a,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":l.jsx($a,{className:"h-4 w-4 text-gray-500"}),"One-Handed":l.jsx(Jp,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":l.jsx(Jp,{className:"h-4 w-4 text-red-500"}),Archery:l.jsx(c_,{className:"h-4 w-4 text-green-500"}),Block:l.jsx($a,{className:"h-4 w-4 text-yellow-500"}),Smithing:l.jsx($a,{className:"h-4 w-4 text-gray-500"}),Speechcraft:l.jsx(bb,{className:"h-4 w-4 text-blue-500"}),Sneak:l.jsx(Gu,{className:"h-4 w-4 text-purple-500"}),Lockpicking:l.jsx($d,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:l.jsx($d,{className:"h-4 w-4 text-purple-500"})},ZW={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},q1={sm:"text-xs px-2 py-0.5"};function X1({item:e,originalReligion:t,isExpanded:n=!1,onToggle:r,className:a,showBlessings:o=!0,showTenets:s=!0,showBoons:i=!0,showFavoredRaces:c=!0}){var f,h,m;const u=y=>{switch(y){case"positive":return l.jsx(Bn,{className:"h-4 w-4 text-green-500"});case"negative":return l.jsx(Sb,{className:"h-4 w-4 text-red-500"});case"neutral":return l.jsx(Hs,{className:"h-4 w-4 text-blue-500"})}},d=y=>GW[y]||l.jsx(zn,{className:"h-4 w-4 text-skyrim-gold"});return l.jsxs(rv,{isExpanded:n,onToggle:r||(()=>{}),className:a,children:[l.jsx(oh,{children:l.jsx(Ey,{itemId:e.id,itemType:"religion",itemName:e.name})}),l.jsxs(sh,{children:[l.jsx("div",{className:"flex-1",children:l.jsx(Pf,{className:"text-primary font-semibold",children:e.name})}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.category&&l.jsx(Se,{variant:"outline",className:K(ZW[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",q1.sm,"font-medium transition-colors"),children:e.category}),(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&l.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((y,v)=>l.jsxs(Se,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",q1.sm,"font-medium transition-colors"),children:[l.jsx(zn,{className:"h-3 w-3 mr-1"}),"Favors ",y]},v))}),e.effects&&e.effects.length>0&&l.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(zn,{className:"h-3 w-3 text-yellow-500"}),l.jsxs("span",{children:[e.effects.length," effects"]})]})})]})]}),l.jsx(ih,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"line-clamp-2",children:l.jsx(qm,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(f=e.effects)==null?void 0:f.slice(0,2).map((y,v)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:y.description,children:[u(y.type),l.jsx("span",{className:"font-medium",children:y.name})]},v)),(h=t==null?void 0:t.favoredRaces)==null?void 0:h.slice(0,2).map((y,v)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[l.jsx(zn,{className:"h-3 w-3 text-skyrim-gold"}),l.jsx("span",{className:"font-medium",children:y})]},`race-${v}`))]})]})}),l.jsx(lh,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx(qm,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),c&&(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((y,v)=>l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[l.jsx(zn,{className:"h-4 w-4 text-skyrim-gold"}),l.jsx("span",{className:"text-sm font-medium",children:y})]},v))})]}),(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),l.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((y,v)=>l.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Sb,{className:"h-4 w-4 text-red-500 mt-0.5"}),l.jsx(qm,{text:y,className:"text-sm text-muted-foreground"})]})},v))})]}),o&&(t==null?void 0:t.blessing)&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),l.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(y=>y.effectType!=="1"&&y.effectType!=="3").map((y,v)=>{const{hasDuration:w}=Wm(y.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&d(y.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Ot,{className:"font-medium text-sm mb-1",children:y.effectName}),l.jsx(Xm,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),w&&y.duration>0&&l.jsxs(Ot,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",Km(y.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&l.jsxs("span",{children:["Area: ",y.area]})})]})]})},v)})})]}),s&&((m=t==null?void 0:t.tenet)==null?void 0:m.effects)&&t.tenet.effects.length>0&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((y,v)=>y.effectDescription.split(".").filter(g=>g.trim().length>0).map((g,x)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.targetAttribute&&d(y.targetAttribute)]}),l.jsx("div",{className:"flex-1",children:l.jsx(VW,{description:g.trim()+"."})})]},`${v}-${x}`)))})]}),i&&((t==null?void 0:t.boon1)||(t==null?void 0:t.boon2))&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),l.jsxs("div",{className:"space-y-4",children:[(t==null?void 0:t.boon1)&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((y,v)=>{const{hasDuration:w}=Wm(y.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&d(y.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Ot,{className:"font-medium text-sm mb-1",children:y.effectName}),l.jsx(Xm,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),w&&y.duration>0&&l.jsxs(Ot,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Km(y.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&l.jsxs("span",{children:["Area: ",y.area]})})]})]})},v)})})]}),(t==null?void 0:t.boon2)&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((y,v)=>{const{hasDuration:w}=Wm(y.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&d(y.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Ot,{className:"font-medium text-sm mb-1",children:y.effectName}),l.jsx(Xm,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),w&&y.duration>0&&l.jsxs(Ot,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Km(y.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&l.jsxs("span",{children:["Area: ",y.area]})})]})]})},v)})})]})]})]})]})})]})}function YW(e,t){const n=p.useMemo(()=>e.map(i=>{var c,u,d,f,h,m,y,v,w;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:((c=i.tenet)==null?void 0:c.description)||"",type:i.type,favoredRaces:i.favoredRaces||[],tenetEffects:((d=(u=i.tenet)==null?void 0:u.effects)==null?void 0:d.map(g=>`${g.effectName} ${g.effectDescription}`))||[],blessingEffects:((h=(f=i.blessing)==null?void 0:f.effects)==null?void 0:h.map(g=>`${g.effectName} ${g.effectDescription}`))||[],followerPowers:((y=(m=i.boon1)==null?void 0:m.effects)==null?void 0:y.map(g=>`${g.effectName} ${g.effectDescription}`))||[],devoteePowers:((w=(v=i.boon2)==null?void 0:v.effects)==null?void 0:w.map(g=>`${g.effectName} ${g.effectDescription}`))||[],originalReligion:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},{name:"favoredRaces",weight:.1},{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new va(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredReligions:p.useMemo(()=>o.map(i=>i.item.originalReligion),[o]),searchResults:o,searchableReligions:n}}function qW(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState(new Set),[c,u]=p.useState("alphabetical"),[d,f]=p.useState("grid"),[h,m]=p.useState(!0),[y,v]=p.useState(!0),[w,g]=p.useState(!0),[x,S]=p.useState(!0);p.useEffect(()=>{async function z(){try{r(!0);const B=await fetch("/lorerim-arcaneum/data/wintersun-religion-docs.json");if(!B.ok)throw new Error("Failed to fetch religion data");const H=(await B.json()).flatMap(F=>F.deities.map(G=>({...G,pantheon:F.type})));t(H)}catch(B){o("Failed to load religion data"),console.error("Error loading religions:",B)}finally{r(!1)}}z()},[]);const b=e.map(z=>{var B,U,H,F,G,q;return{id:`religion-${z.name.toLowerCase().replace(/\s+/g,"-")}`,name:z.name,description:((B=z.tenet)==null?void 0:B.description)||"",tags:z.favoredRaces||[],summary:((U=z.tenet)==null?void 0:U.description)||"",effects:[...((F=(H=z.tenet)==null?void 0:H.effects)==null?void 0:F.map(V=>({type:"positive",name:V.effectName,description:V.effectDescription,value:V.magnitude,target:V.targetAttribute||""})))||[],...((q=(G=z.blessing)==null?void 0:G.effects)==null?void 0:q.map(V=>({type:"positive",name:V.effectName,description:V.effectDescription,value:V.magnitude,target:V.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:z.type}}),j=(()=>{const z=[...new Set(e.map(U=>U.type))],B=[...new Set(b.flatMap(U=>U.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:z.map(U=>({id:`pantheon-${U}`,label:U,value:U,category:"Pantheons",description:`Religions from ${U} pantheon`}))},{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:B.map(U=>({id:`race-${U}`,label:U,value:U,category:"Favored Races",description:`Religions that favor ${U}`}))}]})(),[N,C]=p.useState([]),A=z=>{let B;typeof z=="string"?B={id:`custom-${z}`,label:z,value:z,category:"Fuzzy Search"}:B={id:`${z.category}-${z.id}`,label:z.label,value:z.value,category:z.category},N.some(U=>U.value===B.value&&U.category===B.category)||C(U=>[...U,B])},_=z=>{C(B=>B.filter(U=>U.id!==z))},T=e.filter(z=>N.length===0?!0:N.every(B=>{switch(B.category){case"Fuzzy Search":return!0;case"Pantheons":return z.type===B.value;case"Favored Races":return z.favoredRaces.some(U=>U===B.value);default:return!0}})),I=N.filter(z=>z.category==="Fuzzy Search").map(z=>z.value).join(" "),{filteredReligions:L}=YW(T,I),O=[...L.map(z=>{var B,U,H,F,G,q;return{id:`religion-${z.name.toLowerCase().replace(/\s+/g,"-")}`,name:z.name,description:((B=z.tenet)==null?void 0:B.description)||"",tags:z.favoredRaces||[],summary:((U=z.tenet)==null?void 0:U.description)||"",effects:[...((F=(H=z.tenet)==null?void 0:H.effects)==null?void 0:F.map(V=>({type:"positive",name:V.effectName,description:V.effectDescription,value:V.magnitude,target:V.targetAttribute||""})))||[],...((q=(G=z.blessing)==null?void 0:G.effects)==null?void 0:q.map(V=>({type:"positive",name:V.effectName,description:V.effectDescription,value:V.magnitude,target:V.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:z.type}})].sort((z,B)=>{switch(c){case"alphabetical":return z.name.localeCompare(B.name);case"divine-type":const U=G=>{switch(G){case"Divine":return 1;case"Daedric Prince":return 2;case"Tribunal":return 3;case"Ancestor":return 4;case"Nordic Deity":return 5;case"Yokudan Deity":return 6;case"Khajiiti Deity":return 7;case"Deity":return 8;default:return 9}},H=U(z.category),F=U(B.category);return H!==F?H-F:z.name.localeCompare(B.name);default:return 0}}),D=z=>{const B=new Set(s);if(d==="grid"){const H=O.findIndex(X=>X.id===z),G=Math.floor(H/3)*3,q=Math.min(G+3,O.length);O.slice(G,q).some(X=>B.has(X.id))?O.slice(G,q).forEach(X=>{B.delete(X.id)}):O.slice(G,q).forEach(X=>{B.add(X.id)})}else B.has(z)?B.delete(z):B.add(z);i(B)},P=()=>{const z=O.map(B=>B.id);i(new Set(z))},M=()=>{i(new Set)},R=O.length>0&&O.every(z=>s.has(z.id));return O.some(z=>s.has(z.id)),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading religions..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Religions",description:"Choose your character's religion. Each deity offers unique blessings, tenets, and powers that will guide your spiritual journey through Tamriel.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(FW,{categories:j,onSelect:A,onCustomSearch:A})}),l.jsxs(qf,{children:[l.jsx(Xf,{asChild:!0,children:l.jsxs(oe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(_t,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":"Type"]})}),l.jsxs(zc,{align:"end",children:[l.jsx(Nr,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(Nr,{onClick:()=>u("divine-type"),children:"Divine Type"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(oe,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(_c,{className:"h-4 w-4"})}),l.jsx(oe,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(Ec,{className:"h-4 w-4"})})]}),l.jsx(oe,{variant:"outline",size:"sm",onClick:R?M:P,className:"flex items-center justify-center",title:R?"Collapse all accordions":"Expand all accordions",children:R?l.jsx(i_,{className:"h-4 w-4"}):l.jsx(s_,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:N.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>C([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(Cr,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map(z=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>_(z.id),title:"Click to remove",children:[z.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},z.id))]})}),O.length>0&&l.jsxs(f9,{children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(hr,{checked:h&&y&&w&&x,onCheckedChange:z=>{m(z),v(z),g(z),S(z)}}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs(Y8,{columns:4,children:[l.jsx(du,{title:"Blessings",description:"Deity blessings and effects",checked:h,onCheckedChange:m}),l.jsx(du,{title:"Tenets",description:"Religious tenets and rules",checked:y,onCheckedChange:v}),l.jsx(du,{title:"Boons",description:"Follower and devotee powers",checked:w,onCheckedChange:g}),l.jsx(du,{title:"Favored Races",description:"Races favored by this deity",checked:x,onCheckedChange:S})]})]}),d==="grid"?l.jsx(qy,{columns:3,gap:"md",className:"w-full mt-6",children:O.map(z=>{const B=e.find(H=>{const F=z.id.replace("religion-","");return H.name.toLowerCase().replace(/\s+/g,"-")===F}),U=s.has(z.id);return l.jsx(X1,{item:z,originalReligion:B,isExpanded:U,onToggle:()=>D(z.id),className:"w-full",showBlessings:h,showTenets:y,showBoons:w,showFavoredRaces:x},z.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:O.map(z=>{const B=e.find(H=>{const F=z.id.replace("religion-","");return H.name.toLowerCase().replace(/\s+/g,"-")===F}),U=s.has(z.id);return l.jsx(X1,{item:z,originalReligion:B,isExpanded:U,onToggle:()=>D(z.id),className:"w-full",showBlessings:h,showTenets:y,showBoons:w,showFavoredRaces:x},z.id)})}),O.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No religions found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function XW({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),v=e.length===1?e[0]:null;p.useEffect(()=>{const _=T=>{m.current&&!m.current.contains(T.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const w=i||v?(i||v).options.filter(_=>{var T;return _.label.toLowerCase().includes(u.toLowerCase())||((T=_.description)==null?void 0:T.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(_=>_.options.filter(T=>{var I;return T.label.toLowerCase().includes(u.toLowerCase())||((I=T.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),g=_=>{d(_),s(!0),h(-1)},x=_=>{var T;c(_),d(""),(T=y.current)==null||T.focus()},S=_=>{t(_),d(""),c(null),s(!1),h(-1)},b=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},E=_=>{_.key==="ArrowDown"?(_.preventDefault(),h(T=>Math.min(T+1,w.length-1))):_.key==="ArrowUp"?(_.preventDefault(),h(T=>Math.max(T-1,-1))):_.key==="Enter"?(_.preventDefault(),f>=0&&w[f]?S(w[f]):u.trim()&&b()):_.key==="Escape"&&(s(!1),c(null),h(-1))},j=()=>{s(!0)},N=i||v,C=!v&&!i,A=u.trim()&&!w.some(_=>_.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(wr,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:_=>g(_.target.value),onFocus:j,onKeyDown:E,className:"pl-10 pr-20"}),A&&l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:b,title:"Add custom search term",children:l.jsx(Bn,{className:"h-4 w-4"})}),l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(_t,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:It.AUTOCOMPLETE},children:[C&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(_=>l.jsxs("button",{onClick:()=>x(_),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:_.name}),l.jsx(_t,{className:"h-4 w-4"})]},_.id))]}),A&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:b,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Bn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!A?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((_,T)=>l.jsxs("button",{onClick:()=>S(_),className:`w-full text-left px-2 py-2 rounded text-sm ${T===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:_.label}),_.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:_.description})]},_.id))})]})]})}function KW({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(XW,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Wo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function WW(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const wT=$.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Ic=()=>{const e=$.useContext(wT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};WW(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function QW(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function JW(){return Fv(/^Mac/)}function eQ(){return Fv(/^iPhone/)}function K1(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function tQ(){return Fv(/^iPad/)||JW()&&navigator.maxTouchPoints>1}function ST(){return eQ()||tQ()}function Fv(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const nQ=24,rQ=typeof window<"u"?p.useLayoutEffect:p.useEffect;function W1(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Qm=typeof document<"u"&&window.visualViewport;function Q1(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function NT(e){for(Q1(e)&&(e=e.parentElement);e&&!Q1(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const aQ=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ru=0,Jm;function oQ(e={}){let{isDisabled:t}=e;rQ(()=>{if(!t)return Ru++,Ru===1&&ST()&&(Jm=sQ()),()=>{Ru--,Ru===0&&(Jm==null||Jm())}},[t])}function sQ(){let e,t=0,n=f=>{e=NT(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,m=e.scrollTop,y=e.scrollHeight-e.clientHeight;y!==0&&((m<=0&&h>t||m>=y&&h<t)&&f.preventDefault(),t=h)},a=f=>{let h=f.target;e0(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},o=f=>{let h=f.target;e0(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Qm&&(Qm.height<window.innerHeight?requestAnimationFrame(()=>{J1(h)}):Qm.addEventListener("resize",()=>J1(h),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},i=window.pageXOffset,c=window.pageYOffset,u=W1(iQ(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=W1(Wi(document,"touchstart",n,{passive:!1,capture:!0}),Wi(document,"touchmove",r,{passive:!1,capture:!0}),Wi(document,"touchend",a,{passive:!1,capture:!0}),Wi(document,"focus",o,!0),Wi(window,"scroll",s));return()=>{u(),d(),window.scrollTo(i,c)}}function iQ(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Wi(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function J1(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=NT(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom+nQ;o>s&&(n.scrollTop+=a-r)}e=n.parentElement}}function e0(e){return e instanceof HTMLInputElement&&!aQ.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function lQ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function cQ(...e){return t=>e.forEach(n=>lQ(n,t))}function ET(...e){return p.useCallback(cQ(...e),e)}const _T=new WeakMap;function mt(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}r[a]=e.style[a],e.style[a]=o}),!n&&_T.set(e,r)}function uQ(e,t){if(!e||!(e instanceof HTMLElement))return;let n=_T.get(e);n&&(e.style[t]=n[t])}const it=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Tu(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[it(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[it(t)?5:4]):null)}function dQ(e){return 8*(Math.log(e+1)-2)}function ep(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function fQ(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const qe={DURATION:.5,EASE:[.32,.72,0,1]},CT=.4,hQ=.25,mQ=100,jT=8,po=16,t0=26,tp="vaul-dragging";function kT(e){const t=$.useRef(e);return $.useEffect(()=>{t.current=e}),$.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function pQ({defaultProp:e,onChange:t}){const n=$.useState(e),[r]=n,a=$.useRef(r),o=kT(t);return $.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}function AT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=pQ({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,i=kT(n),c=$.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&i(f)}else a(u)},[o,e,a,i]);return[s,c]}function gQ({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:o,onSnapPointChange:s,direction:i="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=AT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[h,m]=$.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);$.useEffect(()=>{function N(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const y=$.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),v=$.useMemo(()=>{var N;return(N=n==null?void 0:n.findIndex(C=>C===d))!=null?N:null},[n,d]),w=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===d||!n,g=$.useMemo(()=>{const N=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var C;return(C=n==null?void 0:n.map(A=>{const _=typeof A=="string";let T=0;if(_&&(T=parseInt(A,10)),it(i)){const L=_?T:h?A*N.height:0;return h?i==="bottom"?N.height-L:-N.height+L:L}const I=_?T:h?A*N.width:0;return h?i==="right"?N.width-I:-N.width+I:I}))!=null?C:[]},[n,h,c]),x=$.useMemo(()=>v!==null?g==null?void 0:g[v]:null,[g,v]),S=$.useCallback(N=>{var C;const A=(C=g==null?void 0:g.findIndex(_=>_===N))!=null?C:null;s(A),mt(r.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:it(i)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`}),g&&A!==g.length-1&&o!==void 0&&A!==o&&A<o?mt(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"0"}):mt(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(A,0)])},[r.current,n,g,o,a,f]);$.useEffect(()=>{if(d||e){var N;const C=(N=n==null?void 0:n.findIndex(A=>A===e||A===d))!=null?N:-1;g&&C!==-1&&typeof g[C]=="number"&&S(g[C])}},[d,e,n,g,S]);function b({draggedDistance:N,closeDrawer:C,velocity:A,dismissible:_}){if(o===void 0)return;const T=i==="bottom"||i==="right"?(x??0)-N:(x??0)+N,I=v===o-1,L=v===0,k=N>0;if(I&&mt(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),!u&&A>2&&!k){_?C():S(g[0]);return}if(!u&&A>2&&k&&g&&n){S(g[n.length-1]);return}const O=g==null?void 0:g.reduce((P,M)=>typeof P!="number"||typeof M!="number"?P:Math.abs(M-T)<Math.abs(P-T)?M:P),D=it(i)?window.innerHeight:window.innerWidth;if(A>CT&&Math.abs(N)<D*.4){const P=k?1:-1;if(P>0&&y&&n){S(g[n.length-1]);return}if(L&&P<0&&_&&C(),v===null)return;S(g[v+P]);return}S(O)}function E({draggedDistance:N}){if(x===null)return;const C=i==="bottom"||i==="right"?x-N:x+N;(i==="bottom"||i==="right")&&C<g[g.length-1]||(i==="top"||i==="left")&&C>g[g.length-1]||mt(r.current,{transform:it(i)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`})}function j(N,C){if(!n||typeof v!="number"||!g||o===void 0)return null;const A=v===o-1;if(v>=o&&C)return 0;if(A&&!C)return 1;if(!w&&!A)return null;const T=A?v+1:v-1,I=A?g[T]-g[T-1]:g[T+1]-g[T],L=N/Math.abs(I);return A?1-L:L}return{isLastSnapPoint:y,activeSnapPoint:d,shouldFade:w,getPercentageDragged:j,setActiveSnapPoint:f,activeSnapPointIndex:v,onRelease:b,onDrag:E,snapPointsOffset:g}}const yQ=()=>()=>{};function vQ(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:a}=Ic(),o=$.useRef(null),s=p.useMemo(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-t0)/window.innerWidth}$.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;fQ(r&&!a?ep(document.body,{background:"black"}):yQ,ep(c,{transformOrigin:it(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`}));const u=ep(c,{borderRadius:`${jT}px`,overflow:"hidden",...it(e)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},qe.DURATION*1e3)}}},[t,n,s])}let Qi=null;function xQ({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:o}){const[s,i]=$.useState(()=>typeof window<"u"?window.location.href:""),c=$.useRef(0),u=$.useCallback(()=>{if(K1()&&Qi===null&&e&&!o){Qi={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=h-window.innerHeight;m&&c.current>=h&&(document.body.style.top=`${-(c.current+m)}px`)}),300)}},[e]),d=$.useCallback(()=>{if(K1()&&Qi!==null&&!o){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Qi),window.requestAnimationFrame(()=>{if(a&&s!==window.location.href){i(window.location.href);return}window.scrollTo(h,f)}),Qi=null}},[s]);return $.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),$.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),$.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,s,t,n,u,d]),{restorePositionSetting:d}}function bQ({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:a,snapPoints:o,shouldScaleBackground:s=!1,setBackgroundColorOnScale:i=!0,closeThreshold:c=hQ,scrollLockTimeout:u=mQ,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=o&&o.length-1,activeSnapPoint:m,setActiveSnapPoint:y,fixed:v,modal:w=!0,onClose:g,nested:x,noBodyStyles:S=!1,direction:b="bottom",defaultOpen:E=!1,disablePreventScroll:j=!0,snapToSequentialPoint:N=!1,preventScrollRestoration:C=!1,repositionInputs:A=!0,onAnimationEnd:_,container:T,autoFocus:I=!1}){var L,k;const[O=!1,D]=AT({defaultProp:E,prop:e,onChange:ie=>{t==null||t(ie),!ie&&!x&&Pr(),setTimeout(()=>{_==null||_(ie)},qe.DURATION*1e3),ie&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ie||(document.body.style.pointerEvents="auto")}}),[P,M]=$.useState(!1),[R,z]=$.useState(!1),[B,U]=$.useState(!1),H=$.useRef(null),F=$.useRef(null),G=$.useRef(null),q=$.useRef(null),V=$.useRef(null),X=$.useRef(!1),W=$.useRef(null),re=$.useRef(0),we=$.useRef(!1),Ce=$.useRef(!E),ue=$.useRef(0),J=$.useRef(null),Re=$.useRef(((L=J.current)==null?void 0:L.getBoundingClientRect().height)||0),st=$.useRef(((k=J.current)==null?void 0:k.getBoundingClientRect().width)||0),Ne=$.useRef(0),Q=$.useCallback(ie=>{o&&ie===Xt.length-1&&(F.current=new Date)},[]),{activeSnapPoint:Ze,activeSnapPointIndex:Dt,setActiveSnapPoint:qt,onRelease:Un,snapPointsOffset:Xt,onDrag:Fn,shouldFade:$r,getPercentageDragged:Lr}=gQ({snapPoints:o,activeSnapPointProp:m,setActiveSnapPointProp:y,drawerRef:J,fadeFromIndex:h,overlayRef:H,onSnapPointChange:Q,direction:b,container:T,snapToSequentialPoint:N});oQ({isDisabled:!O||R||!w||B||!P||!A||!j});const{restorePositionSetting:Pr}=xQ({isOpen:O,modal:w,nested:x??!1,hasBeenOpened:P,preventScrollRestoration:C,noBodyStyles:S});function Vn(){return(window.innerWidth-t0)/window.innerWidth}function ba(ie){var Ee,Te;!d&&!o||J.current&&!J.current.contains(ie.target)||(Re.current=((Ee=J.current)==null?void 0:Ee.getBoundingClientRect().height)||0,st.current=((Te=J.current)==null?void 0:Te.getBoundingClientRect().width)||0,z(!0),G.current=new Date,ST()&&window.addEventListener("touchend",()=>X.current=!1,{once:!0}),ie.target.setPointerCapture(ie.pointerId),re.current=it(b)?ie.pageY:ie.pageX)}function wa(ie,Ee){var Te;let _e=ie;const De=(Te=window.getSelection())==null?void 0:Te.toString(),zt=J.current?Tu(J.current,b):null,kt=new Date;if(_e.tagName==="SELECT"||_e.hasAttribute("data-vaul-no-drag")||_e.closest("[data-vaul-no-drag]"))return!1;if(b==="right"||b==="left")return!0;if(F.current&&kt.getTime()-F.current.getTime()<500)return!1;if(zt!==null&&(b==="bottom"?zt>0:zt<0))return!0;if(De&&De.length>0)return!1;if(V.current&&kt.getTime()-V.current.getTime()<u&&zt===0||Ee)return V.current=kt,!1;for(;_e;){if(_e.scrollHeight>_e.clientHeight){if(_e.scrollTop!==0)return V.current=new Date,!1;if(_e.getAttribute("role")==="dialog")return!0}_e=_e.parentNode}return!0}function bt(ie){if(J.current&&R){const Ee=b==="bottom"||b==="right"?1:-1,Te=(re.current-(it(b)?ie.pageY:ie.pageX))*Ee,_e=Te>0,De=o&&!d&&!_e;if(De&&Dt===0)return;const zt=Math.abs(Te),kt=document.querySelector("[data-vaul-drawer-wrapper]"),sr=b==="bottom"||b==="top"?Re.current:st.current;let sn=zt/sr;const Hr=Lr(zt,_e);if(Hr!==null&&(sn=Hr),De&&sn>=1||!X.current&&!wa(ie.target,_e))return;if(J.current.classList.add(tp),X.current=!0,mt(J.current,{transition:"none"}),mt(H.current,{transition:"none"}),o&&Fn({draggedDistance:Te}),_e&&!o){const Cn=dQ(Te),ts=Math.min(Cn*-1,0)*Ee;mt(J.current,{transform:it(b)?`translate3d(0, ${ts}px, 0)`:`translate3d(${ts}px, 0, 0)`});return}const ir=1-sn;if(($r||h&&Dt===h-1)&&(r==null||r(ie,sn),mt(H.current,{opacity:`${ir}`,transition:"none"},!0)),kt&&H.current&&s){const Cn=Math.min(Vn()+sn*(1-Vn()),1),ts=8-sn*8,Bc=Math.max(0,14-sn*14);mt(kt,{borderRadius:`${ts}px`,transform:it(b)?`scale(${Cn}) translate3d(0, ${Bc}px, 0)`:`scale(${Cn}) translate3d(${Bc}px, 0, 0)`,transition:"none"},!0)}if(!o){const Cn=zt*Ee;mt(J.current,{transform:it(b)?`translate3d(0, ${Cn}px, 0)`:`translate3d(${Cn}px, 0, 0)`})}}}$.useEffect(()=>{window.requestAnimationFrame(()=>{Ce.current=!0})},[]),$.useEffect(()=>{var ie;function Ee(){if(!J.current||!A)return;const Te=document.activeElement;if(e0(Te)||we.current){var _e;const De=((_e=window.visualViewport)==null?void 0:_e.height)||0,zt=window.innerHeight;let kt=zt-De;const sr=J.current.getBoundingClientRect().height||0,sn=sr>zt*.8;Ne.current||(Ne.current=sr);const Hr=J.current.getBoundingClientRect().top;if(Math.abs(ue.current-kt)>60&&(we.current=!we.current),o&&o.length>0&&Xt&&Dt){const ir=Xt[Dt]||0;kt+=ir}if(ue.current=kt,sr>De||we.current){const ir=J.current.getBoundingClientRect().height;let Cn=ir;ir>De&&(Cn=De-(sn?Hr:t0)),v?J.current.style.height=`${ir-Math.max(kt,0)}px`:J.current.style.height=`${Math.max(Cn,De-Hr)}px`}else QW()||(J.current.style.height=`${Ne.current}px`);o&&o.length>0&&!we.current?J.current.style.bottom="0px":J.current.style.bottom=`${Math.max(kt,0)}px`}}return(ie=window.visualViewport)==null||ie.addEventListener("resize",Ee),()=>{var Te;return(Te=window.visualViewport)==null?void 0:Te.removeEventListener("resize",Ee)}},[Dt,o,Xt]);function jt(ie){Ir(),g==null||g(),ie||D(!1),setTimeout(()=>{o&&qt(o[0])},qe.DURATION*1e3)}function or(){if(!J.current)return;const ie=document.querySelector("[data-vaul-drawer-wrapper]"),Ee=Tu(J.current,b);mt(J.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),mt(H.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),s&&Ee&&Ee>0&&O&&mt(ie,{borderRadius:`${jT}px`,overflow:"hidden",...it(b)?{transform:`scale(${Vn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Vn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`},!0)}function Ir(){!R||!J.current||(J.current.classList.remove(tp),X.current=!1,z(!1),q.current=new Date)}function Br(ie){if(!R||!J.current)return;J.current.classList.remove(tp),X.current=!1,z(!1),q.current=new Date;const Ee=Tu(J.current,b);if(!ie||!wa(ie.target,!1)||!Ee||Number.isNaN(Ee)||G.current===null)return;const Te=q.current.getTime()-G.current.getTime(),_e=re.current-(it(b)?ie.pageY:ie.pageX),De=Math.abs(_e)/Te;if(De>.05&&(U(!0),setTimeout(()=>{U(!1)},200)),o){Un({draggedDistance:_e*(b==="bottom"||b==="right"?1:-1),closeDrawer:jt,velocity:De,dismissible:d}),a==null||a(ie,!0);return}if(b==="bottom"||b==="right"?_e>0:_e<0){or(),a==null||a(ie,!0);return}if(De>CT){jt(),a==null||a(ie,!1);return}var zt;const kt=Math.min((zt=J.current.getBoundingClientRect().height)!=null?zt:0,window.innerHeight);var sr;const sn=Math.min((sr=J.current.getBoundingClientRect().width)!=null?sr:0,window.innerWidth),Hr=b==="left"||b==="right";if(Math.abs(Ee)>=(Hr?sn:kt)*c){jt(),a==null||a(ie,!1);return}a==null||a(ie,!0),or()}$.useEffect(()=>(O&&(mt(document.documentElement,{scrollBehavior:"auto"}),F.current=new Date),()=>{uQ(document.documentElement,"scrollBehavior")}),[O]);function Gn(ie){const Ee=ie?(window.innerWidth-po)/window.innerWidth:1,Te=ie?-po:0;W.current&&window.clearTimeout(W.current),mt(J.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:it(b)?`scale(${Ee}) translate3d(0, ${Te}px, 0)`:`scale(${Ee}) translate3d(${Te}px, 0, 0)`}),!ie&&J.current&&(W.current=setTimeout(()=>{const _e=Tu(J.current,b);mt(J.current,{transition:"none",transform:it(b)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`})},500))}function _n(ie,Ee){if(Ee<0)return;const Te=(window.innerWidth-po)/window.innerWidth,_e=Te+Ee*(1-Te),De=-po+Ee*po;mt(J.current,{transform:it(b)?`scale(${_e}) translate3d(0, ${De}px, 0)`:`scale(${_e}) translate3d(${De}px, 0, 0)`,transition:"none"})}function uo(ie,Ee){const Te=it(b)?window.innerHeight:window.innerWidth,_e=Ee?(Te-po)/Te:1,De=Ee?-po:0;Ee&&mt(J.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:it(b)?`scale(${_e}) translate3d(0, ${De}px, 0)`:`scale(${_e}) translate3d(${De}px, 0, 0)`})}return $.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),$.createElement(gC,{defaultOpen:E,onOpenChange:ie=>{!d&&!ie||(ie?M(!0):jt(!0),D(ie))},open:O},$.createElement(wT.Provider,{value:{activeSnapPoint:Ze,snapPoints:o,setActiveSnapPoint:qt,drawerRef:J,overlayRef:H,onOpenChange:t,onPress:ba,onRelease:Br,onDrag:bt,dismissible:d,shouldAnimate:Ce,handleOnly:f,isOpen:O,isDragging:R,shouldFade:$r,closeDrawer:jt,onNestedDrag:_n,onNestedOpenChange:Gn,onNestedRelease:uo,keyboardIsOpen:we,modal:w,snapPointsOffset:Xt,activeSnapPointIndex:Dt,direction:b,shouldScaleBackground:s,setBackgroundColorOnScale:i,noBodyStyles:S,container:T,autoFocus:I}},n))}const RT=$.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:a,shouldFade:o,isOpen:s,modal:i,shouldAnimate:c}=Ic(),u=ET(t,n),d=r&&r.length>0;if(!i)return null;const f=$.useCallback(h=>a(h),[a]);return $.createElement(py,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":s&&d?"true":"false","data-vaul-snap-points-overlay":s&&o?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});RT.displayName="Drawer.Overlay";const TT=$.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},a){const{drawerRef:o,onPress:s,onRelease:i,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:f,modal:h,isOpen:m,direction:y,snapPoints:v,container:w,handleOnly:g,shouldAnimate:x,autoFocus:S}=Ic(),[b,E]=$.useState(!1),j=ET(a,o),N=$.useRef(null),C=$.useRef(null),A=$.useRef(!1),_=v&&v.length>0;vQ();const T=(L,k,O=0)=>{if(A.current)return!0;const D=Math.abs(L.y),P=Math.abs(L.x),M=P>D,R=["bottom","right"].includes(k)?1:-1;if(k==="left"||k==="right"){if(!(L.x*R<0)&&P>=0&&P<=O)return M}else if(!(L.y*R<0)&&D>=0&&D<=O)return!M;return A.current=!0,!0};$.useEffect(()=>{_&&window.requestAnimationFrame(()=>{E(!0)})},[]);function I(L){N.current=null,A.current=!1,i(L)}return $.createElement(gy,{"data-vaul-drawer-direction":y,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":m&&_?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":x!=null&&x.current?"true":"false",...r,ref:j,style:d&&d.length>0?{"--snap-point-height":`${d[f??0]}px`,...t}:t,onPointerDown:L=>{g||(r.onPointerDown==null||r.onPointerDown.call(r,L),N.current={x:L.pageX,y:L.pageY},s(L))},onOpenAutoFocus:L=>{n==null||n(L),S||L.preventDefault()},onPointerDownOutside:L=>{if(e==null||e(L),!h||L.defaultPrevented){L.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:L=>{if(!h){L.preventDefault();return}},onPointerMove:L=>{if(C.current=L,g||(r.onPointerMove==null||r.onPointerMove.call(r,L),!N.current))return;const k=L.pageY-N.current.y,O=L.pageX-N.current.x,D=L.pointerType==="touch"?10:2;T({x:O,y:k},y,D)?c(L):(Math.abs(O)>D||Math.abs(k)>D)&&(N.current=null)},onPointerUp:L=>{r.onPointerUp==null||r.onPointerUp.call(r,L),N.current=null,A.current=!1,i(L)},onPointerOut:L=>{r.onPointerOut==null||r.onPointerOut.call(r,L),I(C.current)},onContextMenu:L=>{r.onContextMenu==null||r.onContextMenu.call(r,L),C.current&&I(C.current)}})});TT.displayName="Drawer.Content";const wQ=250,SQ=120,NQ=$.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:a,isDragging:o,snapPoints:s,activeSnapPoint:i,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:m}=Ic(),y=$.useRef(null),v=$.useRef(!1);function w(){if(v.current){S();return}window.setTimeout(()=>{g()},SQ)}function g(){if(o||e||v.current){S();return}if(S(),!s||s.length===0){u||a();return}if(i===s[s.length-1]&&u){a();return}const E=s.findIndex(N=>N===i);if(E===-1)return;const j=s[E+1];c(j)}function x(){y.current=window.setTimeout(()=>{v.current=!0},wQ)}function S(){y.current&&window.clearTimeout(y.current),v.current=!1}return $.createElement("div",{onClick:w,onPointerCancel:S,onPointerDown:b=>{d&&h(b),x()},onPointerMove:b=>{d&&m(b)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},$.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});NQ.displayName="Drawer.Handle";function EQ(e){const t=Ic(),{container:n=t.container,...r}=e;return $.createElement(vC,{container:n,...r})}const Or={Root:bQ,Content:TT,Overlay:RT,Trigger:yC,Portal:EQ,Title:yy,Description:vy},MT=({shouldScaleBackground:e=!0,...t})=>l.jsx(Or.Root,{shouldScaleBackground:e,...t});MT.displayName="Drawer";const _Q=Or.Trigger,CQ=Or.Portal,DT=p.forwardRef(({className:e,...t},n)=>l.jsx(Or.Overlay,{ref:n,className:K("fixed inset-0 bg-black/40",e),style:{zIndex:It.MODAL},...t}));DT.displayName=Or.Overlay.displayName;const zT=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(CQ,{children:[l.jsx(DT,{}),l.jsxs(Or.Content,{ref:r,className:K("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:It.MODAL+1},...n,children:[l.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));zT.displayName="DrawerContent";const OT=({className:e,...t})=>l.jsx("div",{className:K("grid gap-1.5 p-4 text-center sm:text-left",e),...t});OT.displayName="DrawerHeader";const $T=({className:e,...t})=>l.jsx("div",{className:K("mt-auto flex flex-col gap-2 p-4",e),...t});$T.displayName="DrawerFooter";const LT=p.forwardRef(({className:e,...t},n)=>l.jsx(Or.Title,{ref:n,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));LT.displayName=Or.Title.displayName;const PT=p.forwardRef(({className:e,...t},n)=>l.jsx(Or.Description,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));PT.displayName=Or.Description.displayName;var IT="Toggle",BT=p.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:a,...o}=e,[s,i]=En({prop:n,onChange:a,defaultProp:r??!1,caller:IT});return l.jsx(de.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:ee(e.onClick,()=>{e.disabled||i(!s)})})});BT.displayName=IT;var co="ToggleGroup",[HT,CJ]=rn(co,[Di]),UT=Di(),Vv=$.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const a=r;return l.jsx(jQ,{...a,ref:t})}if(n==="multiple"){const a=r;return l.jsx(kQ,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${co}\``)});Vv.displayName=co;var[FT,VT]=HT(co),jQ=$.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=En({prop:n,defaultProp:r??"",onChange:a,caller:co});return l.jsx(FT,{scope:e.__scopeToggleGroup,type:"single",value:$.useMemo(()=>s?[s]:[],[s]),onItemActivate:i,onItemDeactivate:$.useCallback(()=>i(""),[i]),children:l.jsx(GT,{...o,ref:t})})}),kQ=$.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=En({prop:n,defaultProp:r??[],onChange:a,caller:co}),c=$.useCallback(d=>i((f=[])=>[...f,d]),[i]),u=$.useCallback(d=>i((f=[])=>f.filter(h=>h!==d)),[i]);return l.jsx(FT,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:c,onItemDeactivate:u,children:l.jsx(GT,{...o,ref:t})})});Vv.displayName=co;var[AQ,RQ]=HT(co),GT=$.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:a=!0,orientation:o,dir:s,loop:i=!0,...c}=e,u=UT(n),d=Ai(s),f={role:"group",dir:d,...c};return l.jsx(AQ,{scope:n,rovingFocus:a,disabled:r,children:a?l.jsx(Iy,{asChild:!0,...u,orientation:o,dir:d,loop:i,children:l.jsx(de.div,{...f,ref:t})}):l.jsx(de.div,{...f,ref:t})})}),ff="ToggleGroupItem",ZT=$.forwardRef((e,t)=>{const n=VT(ff,e.__scopeToggleGroup),r=RQ(ff,e.__scopeToggleGroup),a=UT(e.__scopeToggleGroup),o=n.value.includes(e.value),s=r.disabled||e.disabled,i={...e,pressed:o,disabled:s},c=$.useRef(null);return r.rovingFocus?l.jsx(By,{asChild:!0,...a,focusable:!s,active:o,ref:c,children:l.jsx(eS,{...i,ref:t})}):l.jsx(eS,{...i,ref:t})});ZT.displayName=ff;var eS=$.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...a}=e,o=VT(ff,n),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=o.type==="single"?s:void 0;return l.jsx(BT,{...i,...a,ref:t,onPressedChange:c=>{c?o.onItemActivate(r):o.onItemDeactivate(r)}})}),YT=Vv,qT=ZT;const XT=Ei("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-transparent hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground",outline:"border border-input bg-background hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground data-[state=on]:border-muted-foreground/20"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-8"}},defaultVariants:{variant:"default",size:"default"}}),KT=p.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>l.jsx(YT,{ref:o,className:K(XT({variant:t,size:n}),e),...a,children:r}));KT.displayName=YT.displayName;const od=p.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>l.jsx(qT,{ref:o,className:K(XT({variant:t,size:n}),e),...a,children:r}));od.displayName=qT.displayName;function TQ({skill:e,skillLevel:t,onSkillLevelChange:n,compact:r=!1,showCategory:a=!0,className:o,majorCount:s=0,minorCount:i=0,maxMajors:c=3,maxMinors:u=3}){const d=s>=c,f=i>=u,m=t==="major"?"primary":t==="minor"?"secondary":"none",y=g=>{g?g==="primary"?m==="primary"?n(e.edid,"none"):n(e.edid,"major"):g==="secondary"&&(m==="secondary"?n(e.edid,"none"):n(e.edid,"minor")):n(e.edid,"none")},v=[{value:"primary",label:"+ Major",color:{selected:"skyrim-gold",hover:"skyrim-gold/10",border:"skyrim-gold"},disabled:m!=="primary"&&d,tooltip:m!=="primary"&&d?`Maximum ${c} major skills reached`:void 0},{value:"secondary",label:"+ Minor",color:{selected:"skyrim-gold",hover:"skyrim-gold/10",border:"skyrim-gold"},disabled:m!=="secondary"&&f,tooltip:m!=="secondary"&&f?`Maximum ${u} minor skills reached`:void 0}],w=g=>g==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":g==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return l.jsxs(MT,{children:[l.jsx(_Q,{asChild:!0,children:l.jsx(Qj,{title:e.name,options:v,selectedValue:m,onValueChange:y,minWidth:"min-w-[240px]",className:K(r&&"p-2",o),showCategory:a,category:e.category,cardClassName:w,showCardTheming:!0,mutuallyExclusive:!0})}),l.jsx(zT,{children:l.jsxs("div",{className:"mx-auto w-full max-w-2xl",children:[l.jsxs(OT,{children:[l.jsx(LT,{className:"text-xl",children:e.name}),l.jsxs(PT,{className:"text-base",children:[e.category," "," ",e.abbreviation&&`${e.abbreviation}  `,"Skill"]})]}),l.jsxs("div",{className:"p-4 pb-0 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Description"}),l.jsx("p",{className:"text-sm leading-relaxed",children:e.description})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Scaling"}),l.jsx("p",{className:"text-sm leading-relaxed",children:e.scaling})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Key Abilities"}),l.jsx("ul",{className:"space-y-1",children:e.keyAbilities.map((g,x)=>l.jsxs("li",{className:"text-sm flex items-start gap-2",children:[l.jsx("span",{className:"text-skyrim-gold mt-1",children:""}),l.jsx("span",{children:g})]},x))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.metaTags.map((g,x)=>l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:g},x))})]})]}),l.jsx($T,{children:l.jsxs("div",{className:"w-full",children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-3",children:"Assign Skill"}),l.jsxs(KT,{type:"single",value:t,onValueChange:y,className:"flex gap-2",children:[l.jsx(od,{value:"major",disabled:d&&t!=="major",className:K("flex-1 px-4 py-2 text-sm font-medium border transition-colors","data-[state=on]:bg-yellow-500 data-[state=on]:text-white data-[state=on]:border-yellow-600","disabled:opacity-50 disabled:pointer-events-none","hover:bg-yellow-50 hover:border-yellow-300"),children:"+ Major Skill"}),l.jsx(od,{value:"minor",disabled:f&&t!=="minor",className:K("flex-1 px-4 py-2 text-sm font-medium border transition-colors","data-[state=on]:bg-gray-400 data-[state=on]:text-white data-[state=on]:border-gray-500","disabled:opacity-50 disabled:pointer-events-none","hover:bg-gray-50 hover:border-gray-300"),children:"+ Minor Skill"}),l.jsx(od,{value:"none",className:K("px-4 py-2 text-sm font-medium border border-muted-foreground/30 transition-colors","data-[state=on]:bg-muted data-[state=on]:text-muted-foreground","hover:bg-muted/50"),children:"Clear"})]})]})})]})})]})}const tS=3,nS=3;function MQ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]),{majorSkills:c,minorSkills:u,addMajorSkill:d,removeMajorSkill:f,addMinorSkill:h,removeMinorSkill:m,hasMajorSkill:y,hasMinorSkill:v,updateBuild:w}=ya();p.useEffect(()=>{async function L(){try{r(!0);const k=await fetch("/lorerim-arcaneum/data/skills.json");if(!k.ok)throw new Error("Failed to fetch skills data");const D=((await k.json()).skills||[]).sort((P,M)=>P.name.localeCompare(M.name));t(D)}catch(k){o("Failed to load skills data"),console.error("Error loading skills:",k)}finally{r(!1)}}L()},[]);const g=(L,k)=>{k==="major"?(m(L),d(L)):k==="minor"?(f(L),h(L)):y(L)?f(L):v(L)&&m(L)},x=L=>y(L)?"major":v(L)?"minor":"none",S=c.length,b=u.length,E=()=>{w({skills:{major:[],minor:[]}})},N=(()=>{const L=[...new Set(e.map(O=>O.category))],k=[...new Set(e.flatMap(O=>O.metaTags))];return[{id:"fuzzy",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Skill Categories",placeholder:"Filter by category...",options:L.map(O=>({id:`category-${O}`,label:O,value:O,category:"Skill Categories",description:`${O} skills`}))},{id:"meta-tags",name:"Meta Tags",placeholder:"Filter by tags...",options:k.map(O=>({id:`tag-${O}`,label:O,value:O,category:"Meta Tags",description:`Skills with ${O} tag`}))}]})(),C=L=>{let k;typeof L=="string"?k={id:`custom-${L}`,label:L,value:L,category:"Fuzzy Search"}:k={id:`${L.category}-${L.id}`,label:L.label,value:L.value,category:L.category},s.some(O=>O.value===k.value&&O.category===k.category)||i(O=>[...O,k])},A=L=>{i(k=>k.filter(O=>O.id!==L))},_=e.filter(L=>s.length===0?!0:s.every(k=>{switch(k.category){case"Fuzzy Search":return!0;case"Skill Categories":return L.category===k.value;case"Meta Tags":return L.metaTags.includes(k.value);default:return!0}})),T=s.filter(L=>L.category==="Fuzzy Search").map(L=>L.value).join(" "),I=T?_.filter(L=>{const k=T.toLowerCase();return L.name.toLowerCase().includes(k)||L.description.toLowerCase().includes(k)||L.keyAbilities.some(O=>O.toLowerCase().includes(k))||L.metaTags.some(O=>O.toLowerCase().includes(k))}):_;return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading skills..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Skills",description:"Choose your character's skills. Select up to 3 Major and 3 Minor skills to define your character's expertise and abilities.",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(KW,{categories:N,onSelect:C,onCustomSearch:C}),l.jsx("div",{className:"my-4",children:s.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(Cr,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(L=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>A(L.id),title:"Click to remove",children:[L.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},L.id))]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between h-10",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Current Skill Levels"}),(S>0||b>0)&&l.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 border border-red-200 hover:border-red-300 transition-colors duration-200",title:"Reset all skill selections",children:[l.jsx("span",{className:"text-lg",children:""}),"Reset All Skills"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-lg border bg-gradient-to-r from-yellow-50/50 to-amber-50/50 p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs("h4",{className:"font-semibold text-yellow-800 flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),"Major Skills (",S,"/",tS,")"]})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.map(L=>{const k=e.find(O=>O.edid===L);return k?l.jsxs("div",{className:"flex items-center gap-2 bg-yellow-100 border border-yellow-300 rounded-full px-3 py-1.5 text-sm font-medium text-yellow-800 hover:bg-yellow-200 transition-colors group",children:[l.jsx("span",{children:k.name}),l.jsx("button",{onClick:()=>g(k.edid,"none"),className:"w-4 h-4 rounded-full bg-yellow-300 hover:bg-yellow-400 flex items-center justify-center text-yellow-800 hover:text-white transition-colors text-xs font-bold",title:"Remove skill",children:""})]},L):null}),c.length===0&&l.jsx("p",{className:"text-yellow-600/70 text-sm italic",children:"No major skills selected"})]})]}),l.jsxs("div",{className:"rounded-lg border bg-gradient-to-r from-gray-50/50 to-slate-50/50 p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs("h4",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 bg-gray-500 rounded-full"}),"Minor Skills (",b,"/",nS,")"]})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map(L=>{const k=e.find(O=>O.edid===L);return k?l.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 border border-gray-300 rounded-full px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-200 transition-colors group",children:[l.jsx("span",{children:k.name}),l.jsx("button",{onClick:()=>g(k.edid,"none"),className:"w-4 h-4 rounded-full bg-gray-300 hover:bg-gray-400 flex items-center justify-center text-gray-700 hover:text-white transition-colors text-xs font-bold",title:"Remove skill",children:""})]},L):null}),u.length===0&&l.jsx("p",{className:"text-gray-500/70 text-sm italic",children:"No minor skills selected"})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h3",{className:"text-lg font-semibold",children:["Available Skills (",I.length," of"," ",e.length,")"]})}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 3xl:grid-cols-7 gap-4",children:I.map(L=>l.jsx(TQ,{skill:L,skillLevel:x(L.edid),onSkillLevelChange:g,compact:!0,showCategory:!1,majorCount:S,minorCount:b,maxMajors:tS,maxMinors:nS},L.edid))}),I.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No skills found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})]})}function DQ({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),v=e.length===1?e[0]:null;p.useEffect(()=>{const _=T=>{m.current&&!m.current.contains(T.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const w=i||v?(i||v).options.filter(_=>{var T;return _.label.toLowerCase().includes(u.toLowerCase())||((T=_.description)==null?void 0:T.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(_=>_.options.filter(T=>{var I;return T.label.toLowerCase().includes(u.toLowerCase())||((I=T.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),g=_=>{d(_),s(!0),h(-1)},x=_=>{var T;c(_),d(""),(T=y.current)==null||T.focus()},S=_=>{t(_),d(""),c(null),s(!1),h(-1)},b=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},E=_=>{_.key==="ArrowDown"?(_.preventDefault(),h(T=>Math.min(T+1,w.length-1))):_.key==="ArrowUp"?(_.preventDefault(),h(T=>Math.max(T-1,-1))):_.key==="Enter"?(_.preventDefault(),f>=0&&w[f]?S(w[f]):u.trim()&&b()):_.key==="Escape"&&(s(!1),c(null),h(-1))},j=()=>{s(!0)},N=i||v,C=!v&&!i,A=u.trim()&&!w.some(_=>_.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(wr,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:_=>g(_.target.value),onFocus:j,onKeyDown:E,className:"pl-10 pr-20"}),A&&l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:b,title:"Add custom search term",children:l.jsx(Bn,{className:"h-4 w-4"})}),l.jsx(oe,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(_t,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:It.AUTOCOMPLETE},children:[C&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(_=>l.jsxs("button",{onClick:()=>x(_),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:_.name}),l.jsx(_t,{className:"h-4 w-4"})]},_.id))]}),A&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:b,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Bn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!A?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((_,T)=>l.jsxs("button",{onClick:()=>S(_),className:`w-full text-left px-2 py-2 rounded text-sm ${T===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:_.label}),_.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:_.description})]},_.id))})]})]})}function zQ({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(DQ,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Wo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function rS(e){const t=e.effects.map(r=>({type:r.flags.includes("Detrimental")?"negative":"positive",name:r.type,description:r.condition||"",value:r.value,target:r.type})),n=[e.category,...e.tags].filter((r,a,o)=>o.indexOf(r)===a);return{id:e.edid,name:e.name,description:e.description,tags:n,effects:t,category:e.category}}function OQ(e){const t=e.map(n=>n.category);return[...new Set(t)].sort()}function $Q(e){const t=e.flatMap(n=>n.tags);return[...new Set(t)].sort()}function LQ(e){let t=e.replace(/\*\*\*(.*?)\*\*\*/g,"$1");return t=t.replace(/\*\*(.*?)\*\*/g,"$1"),t=t.replace(/\*(.*?)\*/g,"$1"),t}function aS({item:e}){const{hasRegularTrait:t,hasBonusTrait:n,addRegularTrait:r,addBonusTrait:a,removeTrait:o,getRegularTraitLimit:s,getBonusTraitLimit:i,canAddRegularTrait:c,canAddBonusTrait:u}=ya(),f=t(e.id)?"primary":n(e.id)?"secondary":"none",h=s(),m=i(),y=LQ(e.description),v=b=>{b?b==="primary"?f==="primary"?o(e.id):c()&&(o(e.id),r(e.id)):b==="secondary"&&(f==="secondary"?o(e.id):u()&&(o(e.id),a(e.id))):o(e.id)},w=!c()&&f!=="primary",g=!u()&&f!=="secondary",x=[{value:"primary",label:"+ Regular",color:{selected:"skyrim-gold",hover:"skyrim-gold/10",border:"skyrim-gold"},disabled:w,tooltip:w?`Maximum ${h} regular traits reached`:void 0},{value:"secondary",label:"+ Extra Unlock",color:{selected:"skyrim-gold",hover:"skyrim-gold/10",border:"skyrim-gold"},disabled:g,tooltip:g?`Maximum ${m} extra unlock traits reached`:void 0}],S=b=>b==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":b==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return l.jsx(Qj,{title:e.name,description:y,options:x,selectedValue:f,onValueChange:v,minWidth:"min-w-[320px]",cardClassName:S,showCardTheming:!0,mutuallyExclusive:!0})}const oS=[{id:"trait_1",name:"Acoustic Arcanist",description:"Your magic flows through melody and vibration.",category:"Magic",tags:["magic","spells"]},{id:"trait_2",name:"Adrenaline Rush",description:"You possess a natural flight response.",category:"Combat",tags:["combat","survival"]},{id:"trait_3",name:"Angler",description:"Your bond with the sea grants unique benefits.",category:"Survival",tags:["fishing","water"]}];function PQ({className:e}){const{build:t,addTrait:n,removeTrait:r,getRegularTraitLimit:a,getBonusTraitLimit:o}=ya(),s=ga(),i=[...t.traits.regular,...t.traits.bonus],c=oS.filter(g=>i.includes(g.id)),u=g=>{n(g)},d=g=>{r(g)},f=()=>{s("/traits")},h=()=>{i.forEach(g=>r(g))},m=g=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:g.name}),g.category&&l.jsx("div",{className:"text-xs text-muted-foreground",children:g.category})]}),l.jsx(Se,{variant:"outline",className:"text-xs",children:"Trait"})]}),y=a(),v=o(),w=y+v;return c.length===0?l.jsx(Nj,{title:"Traits",description:`Choose up to ${y} regular and ${v} bonus traits`,selectedEntities:[],availableEntities:oS,onEntitySelect:u,onEntityRemove:d,onNavigateToPage:f,selectionType:"multi",maxSelections:w,placeholder:"Select traits...",className:e,renderEntityDisplay:m}):l.jsxs(ct,{className:e,children:[l.jsx(ut,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(vt,{className:"text-lg",children:"Traits"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(oe,{variant:"outline",size:"sm",onClick:f,className:"text-xs",children:[l.jsx(Wp,{className:"h-3 w-3 mr-1"}),"View All"]}),l.jsxs(oe,{variant:"outline",size:"sm",onClick:h,className:"text-xs",children:[l.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Clear All"]})]})]})}),l.jsxs(ot,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[c.length," of ",w," traits selected"]}),l.jsxs("div",{className:"flex gap-2 text-xs",children:[l.jsxs(Se,{variant:"secondary",children:[t.traits.regular.length," Regular"]}),l.jsxs(Se,{variant:"secondary",children:[t.traits.bonus.length," Bonus"]})]})]}),l.jsx("div",{className:"space-y-3",children:c.map((g,x)=>l.jsx("div",{className:"border rounded-lg p-3",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-medium",children:g.name}),g.category&&l.jsx(Se,{variant:"secondary",className:"text-xs",children:g.category})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.description}),l.jsx(Se,{variant:t.traits.regular.includes(g.id)?"default":"outline",className:"text-xs",children:t.traits.regular.includes(g.id)?"Regular":"Bonus"})]}),l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>d(g.id),className:"h-8 w-8 p-0",children:l.jsx(Cr,{className:"h-4 w-4"})})]})},g.id))}),c.length<w&&l.jsx(oe,{variant:"outline",onClick:()=>{f()},className:"w-full",children:"Add More Traits"})]})]})}function IQ(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid,name:i.name,description:i.description,category:i.category,effects:i.effects.map(c=>`${c.type} ${c.condition||""} ${c.value}`),tags:i.tags,originalTrait:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new va(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredTraits:p.useMemo(()=>o.map(i=>i.item.originalTrait),[o]),searchResults:o,searchableTraits:n}}function BQ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]),[c,u]=p.useState("alphabetical"),[d,f]=p.useState("grid");p.useEffect(()=>{async function E(){try{r(!0);const j=await fetch("/lorerim-arcaneum/data/traits.json");if(!j.ok)throw new Error("Failed to fetch trait data");const N=await j.json();t(N.traits)}catch(j){o("Failed to load trait data"),console.error("Error loading traits:",j)}finally{r(!1)}}E()},[]),p.useMemo(()=>e.map(rS),[e]);const m=(()=>{const E=OQ(e),j=$Q(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:E.map(N=>({id:`category-${N}`,label:N,value:N,category:"Categories",description:`Traits in ${N} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:j.map(N=>({id:`tag-${N}`,label:N,value:N,category:"Tags",description:`Traits tagged with ${N}`}))}]})(),y=E=>{let j;typeof E=="string"?j={id:`custom-${E}`,label:E,value:E,category:"Fuzzy Search"}:j={id:`${E.category}-${E.id}`,label:E.label,value:E.value,category:E.category},s.some(N=>N.value===j.value&&N.category===j.category)||i(N=>[...N,j])},v=E=>{i(j=>j.filter(N=>N.id!==E))},w=e.filter(E=>s.length===0?!0:s.every(j=>{switch(j.category){case"Fuzzy Search":return!0;case"Categories":return E.category===j.value;case"Tags":return E.tags.some(N=>N===j.value);default:return!0}})),g=s.filter(E=>E.category==="Fuzzy Search").map(E=>E.value).join(" "),{filteredTraits:x}=IQ(w,g),b=[...x.map(rS)].sort((E,j)=>{var N,C;switch(c){case"alphabetical":return E.name.localeCompare(j.name);case"category":const A=k=>({combat:1,magic:2,survival:3,social:4,crafting:5,other:6})[k||"other"]||6,_=A(E.category),T=A(j.category);return _!==T?_-T:E.name.localeCompare(j.name);case"effect-count":const I=((N=E.effects)==null?void 0:N.length)||0,L=((C=j.effects)==null?void 0:C.length)||0;return I!==L?L-I:E.name.localeCompare(j.name);default:return 0}});return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Traits",description:"Choose your character's traits. Each trait provides unique abilities, bonuses, and sometimes drawbacks that will define your character's strengths and playstyle.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(zQ,{categories:m,onSelect:y,onCustomSearch:y})}),l.jsxs(qf,{children:[l.jsx(Xf,{asChild:!0,children:l.jsxs(oe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(_t,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":c==="category"?"Type":"Count"]})}),l.jsxs(zc,{align:"end",children:[l.jsx(Nr,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(Nr,{onClick:()=>u("category"),children:"Category"}),l.jsx(Nr,{onClick:()=>u("effect-count"),children:"Effect Count"})]})]}),l.jsxs("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg",children:[l.jsx(oe,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(_c,{className:"h-4 w-4"})}),l.jsx(oe,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(Ec,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:s.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(Cr,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(E=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>v(E.id),title:"Click to remove",children:[E.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},E.id))]})}),d==="grid"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:b.map(E=>l.jsx(aS,{item:E,isSelected:!1},E.id))}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:b.map(E=>l.jsx(aS,{item:E,isSelected:!1},E.id))}),b.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function HQ(e){return!e||typeof e!="object"?!1:e.races&&Array.isArray(e.races)?e.races.every(t=>sS(t)):sS(e)}function sS(e){return!e||typeof e!="object"?!1:["name","edid","category","description","startingStats","skillBonuses","racialSpells","keywords"].every(n=>{if(!(n in e))return!1;switch(n){case"name":case"edid":case"category":case"description":return typeof e[n]=="string";case"startingStats":return UQ(e[n]);case"skillBonuses":return Array.isArray(e[n])&&e[n].every(FQ);case"racialSpells":return Array.isArray(e[n])&&e[n].every(VQ);case"keywords":return Array.isArray(e[n])&&e[n].every(GQ);default:return!0}})}function UQ(e){return!e||typeof e!="object"?!1:["health","magicka","stamina","carryWeight"].every(n=>typeof e[n]=="number"&&e[n]>=0)}function FQ(e){return e&&typeof e.skill=="string"&&typeof e.bonus=="number"}function VQ(e){return e&&typeof e.edid=="string"&&typeof e.name=="string"&&typeof e.description=="string"&&typeof e.globalFormId=="string"}function GQ(e){return e&&typeof e.edid=="string"&&typeof e.globalFormId=="string"}function ZQ(e){var t,n,r,a;return{name:e.name||"Unknown Race",edid:e.edid||"UnknownRace",category:e.category||"Unknown",source:e.source||"Unknown",description:e.description||"No description available.",startingStats:{health:((t=e.startingStats)==null?void 0:t.health)||100,magicka:((n=e.startingStats)==null?void 0:n.magicka)||100,stamina:((r=e.startingStats)==null?void 0:r.stamina)||100,carryWeight:((a=e.startingStats)==null?void 0:a.carryWeight)||200},physicalAttributes:e.physicalAttributes||{heightMale:1,heightFemale:1,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:Array.isArray(e.skillBonuses)?e.skillBonuses:[],racialSpells:Array.isArray(e.racialSpells)?e.racialSpells:[],keywords:Array.isArray(e.keywords)?e.keywords:[],flags:Array.isArray(e.flags)?e.flags:[],regeneration:e.regeneration||{health:.1,magicka:1,stamina:1},combat:e.combat||{unarmedDamage:10,unarmedReach:70}}}function YQ(e){const t=[];let n=0;return e.forEach((r,a)=>{try{const o=LW(r);n++,(!o.id||!o.name||!o.category)&&t.push(`Race ${a}: Missing required transformed fields`),o.effects.length===0&&r.racialSpells.length>0&&t.push(`Race ${a}: No effects transformed from ${r.racialSpells.length} spells`)}catch(o){t.push(`Race ${a}: Transformation failed - ${o}`)}}),{success:t.length===0,errors:t,transformedCount:n}}const qQ=[{name:"Altmer",edid:"HighElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:'The Altmer of Summerset Isle are called "High" Elves in the Empire, describing both their physical appearance and their snobbish personality. The arcane ability of High Elves surpasses all other races in Tamriel. Their Highborn ability grants them increased magicka and spell power. They are weak in physical combat, however, and their magic affinity makes them more susceptible to elemental damage.',startingStats:{health:100,magicka:160,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.159999966621399,heightFemale:1.1200000047683716,weightMale:.5,weightFemale:.5,size:"Medium"},skillBonuses:[{skill:"Alteration",bonus:15},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:10},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Altmer_WeaknessElements",name:"Weakness to Elements",description:"High elves are more vulnerable to elements compared to other races. Fire, frost, and shock deal <10>% more damage to you.",globalFormId:"0x000E40C8"},{edid:"REQ_Ability_Race_Altmer_Highborn",name:"Highborn",description:"High elf blood grants great affinity to magicka as well as resistance to diseases. Magicka regenerates <50>% faster, spells are <5>% more powerful and last longer, you are <50>% less likely to contract diseases.",globalFormId:"0x00105F16"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.2000000476837158,multipliers:[{value:1.5,source:"Highborn"}]},stamina:{base:1.5499999523162842}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Argonian",edid:"ArgonianRace",category:"Beast",source:"Synthesis - NPC.esp",description:"Argonians are the reptilian denizens of Black Marsh. Years of defending their borders have made them experts in stealth and evasion, and their natural abilities make them equally at home in water and on land. They are resistant to diseases and poisons and enjoy raw meat. Their Histskin allows them to quickly heal their wounds.",startingStats:{health:140,magicka:120,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.059999942779541,heightFemale:1.0449999570846558,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:15},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Argonian_Waterbreathing",name:"Waterbreathing",description:"Your Argonian lungs can breathe underwater, while you also find it much easier to swim than members of other races. You can breathe underwater, swimming is <20>% faster, swimming is <75>% less exhausting.",globalFormId:"0x000AA01B"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Argonian_Histskin",name:"Histskin",description:"Argonians can nautrally regenerate health faster than others, and their metabolism increases the effect of alchemical substances. Regenerate <1> health per second, potions are <10>% more effective and last longer.",globalFormId:"0x000E40D5"},{edid:"REQ_Ability_Race_Argonian_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Argonian blood greatly reduces the effect of poison and disease. Poison deals <75>% less damage to you, you are <75>% less likely to contract diseases.",globalFormId:"0x00104ACF"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0,adjustments:[{value:1,source:"Histskin"}]},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Bosmer",edid:"WoodElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Bosmer, or Wood Elves, originate from the sacred forest of Valenwood. Their culture is highly carnivorous and even cannibalistic, derived from the Green Pact with the forest, in which they harm no plant. Their dexterity makes them excellent scouts and thieves, and there are no finer archers in all of Tamriel. They have a natural resistance to poison, disease and shock.",startingStats:{health:100,magicka:120,stamina:140,carryWeight:200},physicalAttributes:{heightMale:.9200000166893005,heightFemale:.9399999976158142,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Marksman",bonus:15},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:10},{skill:"Alteration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Bosmer_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Bosmer blood grants you resistance to poison and diseases. Poison deals <25>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA025"},{edid:"REQ_Power_Race_Bosmer_ShockResist",name:"Grounded",description:"In harmony with nature and the earth, the Bosmer have honed their bodies to be conduits of elemental potential. +25% shock resist",globalFormId:"0x000E40CF"},{edid:"REQ_Ability_Race_Bosmer_EyeOfTheHunt",name:"Eye of the Hunt",description:"The Bosmer are naturally skilled in marksmanship, and can aim their bows more precisely. Armor penetration with ranged weapons is increased by <5>.",globalFormId:"0xFE686801"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.649999976158142}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Breton",edid:"BretonRace",category:"Human",source:"Synthesis - NPC.esp",description:"Bretons, the inhabitants of the province of High Rock, are the human descendants of the Elves and the ancient race of the Nedes. While Bretons are physically weak, they can tap on magicka more than any other human race and they are particularly capable in the school of Conjuration. Their magic resistance blocks one fifth of incoming spell damage and their Dragonskin ability can fully absorb harmful magic by chance.",startingStats:{health:120,magicka:140,stamina:100,carryWeight:200},physicalAttributes:{heightMale:.9850000143051147,heightFemale:.949999988079071,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Alchemy",bonus:10},{skill:"Speechcraft",bonus:10},{skill:"Conjuration",bonus:15},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Breton_MagicResistance",name:"Magic Resistance",description:"Your Breton blood reduces damage taken from all magical sources. Magic deals <15>% less damage to you.",globalFormId:"0x000AA01F"},{edid:"REQ_Ability_Race_Breton_Dragonskin",name:"Dragonskin",description:"Bretons can naturally absorb harmful magic by chance. Increases chance to absorb the magicka from hostile spells by <10>%.",globalFormId:"0x000AA022"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.149999976158142},stamina:{base:1.600000023841858}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Dunmer",edid:"DarkElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Dunmer, or Dark Elves, are the ash-skinned, red-eyed, Elven people of Vvardenfell. They combine powerful intellects with strong and agile physiques, producing excellent warriors and evokers. They are extremely resistant to fire, blocking half of incoming fire damage. They're particularly skilled in Destruction and Conjuration magic, and can imbue more power into associated spells.",startingStats:{health:100,magicka:140,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0299999713897705,heightFemale:1.0149999856948853,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Sneak",bonus:10},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:15},{skill:"Illusion",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Dunmer_ResistFire",name:"Resist Fire",description:"Tempered in the flames of the Red Mountain and the heat of the Ashlands, your Dunmer blood greatly reduces all fire damage dealt to you. Fire deals <50>% less damage to you.",globalFormId:"0x000AA021"},{edid:"REQ_Ability_Race_Dunmer_Ashlander",name:"Ashlander",description:"Dunmer are naturally talented evokers and conjurers. Destruction and Conjuration spells are <10>% more powerful and last longer.",globalFormId:"0x000E40D4"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Imperial",edid:"ImperialRace",category:"Human",source:"Synthesis - NPC.esp",description:"The cosmopolitan citizens of Cyrodiil are descended from the founders of the glorious Empire that has influenced Tamriel's history throughout the eras. Imperials are talented leaders and traders among society, skilled in both magic and combat thanks to martial and academic education of the schools of Cyrodiil. Their leadership can encourage their followers to fight well in combat.",startingStats:{health:120,magicka:120,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0149999856948853,heightFemale:.9850000143051147,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Speechcraft",bonus:15},{skill:"Destruction",bonus:10},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Imperial_VoiceOfTheEmperor",name:"Voice of the Emperor",description:"Imperials are talented leaders and traders among society. Speech skill is <15> higher, prices are <15>% more favorable, magicka and stamina of nearby allies increase by <25>.",globalFormId:"0x000E40CA"},{edid:"REQ_Ability_Race_Imperial_ImperialDiversity",name:"Imperial Diversity",description:"Imperial education involves various martial and academical trainings, producing citizens with variety of skills. Health, magicka, and stamina regenerate <25>% faster.",globalFormId:"0x000EB7EB"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]},stamina:{base:1.600000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Khajiit",edid:"KhajiitRace",category:"Beast",source:"Synthesis - NPC.esp",description:"The Khajiit are a race of feline humanoids hailing from the province of Elsweyr, well-known as great merchants but also as smugglers and thieves. They are very fast and outrun all other races which, combined with a high stamina reserve, makes them fearsome skirmishers. However, they are seldom gifted with the skill to harness magical forces. All Khajiit can see in the dark at will, eat raw meat, resist the harmful effects of Skooma and their sharp claws are as lethal as knives.",startingStats:{health:100,magicka:100,stamina:160,carryWeight:200},physicalAttributes:{heightMale:.9800000190734863,heightFemale:.9449999928474426,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:15},{skill:"Alchemy",bonus:10}],racialSpells:[{edid:"REQ_Power_Race_Khajiit_NightEye",name:"Night Eye",description:"Your eyes are exceptionally versatile and can become extremely sensitive to light, allowing a much better sight in dark areas.",globalFormId:"0x000AA01D"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Khajiit_FelineAgility",name:"Feline Agility",description:"Khajiits are very agile and can fall long heights without taking critical damage. Movement is <10>% faster, sneaking is <20>% faster, fall damage is reduced by <75>%.",globalFormId:"0x8C1AD1B0"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"},{edid:"REQ_Ability_Race_Khajiit_Fingersmith",name:"Fingersmith",description:"Khajiits have keen senses and dexterity, making them much more proficient in thievery. Lockpicking expertise is increased by <2>, lockpicks are <20>% more durable, pickpocketing is <20>% more likely to succeed, you are <20>% harder to detect.",globalFormId:"0xFE686816"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.0499999523162842},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Nord",edid:"NordRace",category:"Human",source:"Synthesis - NPC.esp",description:"Skyrim's Nords are tall and fair, with a culture which values honor, glory, and loyalty to family and community. Nords have come to distrust magic, but excel in physical warfare. They are greatly resistant to frost. Nords also have innate ability to use Shouts, and can unleash immense power through the words of power when mastered.",startingStats:{health:140,magicka:100,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0800000429153442,heightFemale:1.059999942779541,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:15},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Nord_ResistFrostShock",name:"Resist Frost and Shock",description:"Your Nord blood halves all taken frost damage. Frost deals <50>% less damage.",globalFormId:"0x000AA020"},{edid:"REQ_Ability_Race_Nord_AncientTongues",name:"Ancient Tongues",description:"Nords have inherent ability to Shout, and can unleash immense power through the Voice. Shouts are <10>% more powerful and last longer, Shouts can be used <10>% more often.",globalFormId:"0xFE686809"},{edid:"REQ_Ability_Race_Nord_BarbaricStrength",name:"Barbaric Strength",description:"Nords are fierce and strong, skilled with all melee weapons. Melee weapons deal <5>% more damage.",globalFormId:"0xFE68680B"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Orsimer",edid:"OrcRace",category:"Elven",source:"Synthesis - NPC.esp",description:`The Orsimer or "Pariah Folk", commonly called Orcs, come from Orsinium in the west. Their savage appearance and customs sometimes cause fear, but they have won acceptance for their distinguished service in the Legion. Orcs' superior strength makes them formidable warriors, though use of magic requires extensive training. Their incredible endurance grants them resistance to both magical and physical harm.`,startingStats:{health:160,magicka:100,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.100000023841858,heightFemale:1.0800000429153442,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:15},{skill:"Destruction",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Orsimer_Bulwark",name:"Bulwark",description:"Orcs have incredible strength and endurance, resistant to all types of damage. Armor rating increases by <150>, magic deals <10>% less damage to you.",globalFormId:"0x000AA026"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Redguard",edid:"RedguardRace",category:"Human",source:"Synthesis - NPC.esp",description:"The dark-skinned, wiry-haired Redguards of Hammerfell seem born for battle, though their proud and independent spirits suit free-ranging heroism more. They have a hardy constitution and natural resistance to poison and disease, but tend to shun their magic. They are full of stamina and naturally skilled in melee combat, making them one of the strongest warriors in Tamriel.",startingStats:{health:120,magicka:100,stamina:140,carryWeight:200},physicalAttributes:{heightMale:1.0449999570846558,heightFemale:1.0299999713897705,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:15},{skill:"Two-Handed",bonus:10},{skill:"Marksman",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Redguard_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Redguard blood, tempered in the deserts of Hammerfell, grants you a very strong resistance to poisons and diseases. Poison deals <50>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA023"},{edid:"REQ_Ability_Race_Redguard_AdrenalineRush",name:"Adrenaline Rush",description:"Redguards are granted increased stamina, and can sprint much longer without being exhausted. Stamina regenerations is increased, sprinting costs <1> less stamina per second.",globalFormId:"0x000E40CE"},{edid:"REQ_Ability_Race_Redguard_MartialProwess",name:"Martial Prowess",description:"Redguards are naturally skilled in martial arts, and can wield their weapons with great precision. Armor penetration with melee weapons is increased by <5>.",globalFormId:"0xFE68680E"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:13,unarmedReach:73}}],XQ={races:qQ};function KQ(){const[e,t]=p.useState({search:"",type:"",tags:[]}),n=p.useMemo(()=>{const i=XQ.races;if(!HQ({races:i}))return console.error("Invalid race data structure detected"),[];const c=i.map(d=>ZQ(d)),u=YQ(c);return u.success?console.log(`Successfully transformed ${u.transformedCount} races`):console.error("Data transformation errors:",u.errors),c},[]),r=p.useMemo(()=>n.filter(i=>{if(e.search){const c=e.search.toLowerCase();if(![i.name,i.description,...i.racialSpells.map(d=>d.name),...i.skillBonuses.map(d=>d.skill),...i.keywords.map(d=>Jg(d.edid))].join(" ").toLowerCase().includes(c))return!1}if(e.type&&i.category!==e.type)return!1;if(e.tags.length>0){const c=i.keywords.map(h=>Jg(h.edid)),u=i.skillBonuses.map(h=>h.skill),d=i.racialSpells.map(h=>h.name);if(!e.tags.some(h=>c.includes(h)||u.includes(h)||d.includes(h)||i.category===h))return!1}return!0}),[n,e]),a=p.useMemo(()=>PW(n),[n]),o=p.useMemo(()=>IW(n),[n]),s=p.useMemo(()=>BW(n),[n]);return{races:r,allRaces:n,loading:!1,error:null,filters:e,setFilters:t,allKeywords:a,allSkills:o,allAbilities:s}}function WQ({className:e}){const{allRaces:t}=KQ(),{build:n,setRace:r}=ya(),a=ga(),[o,s]=p.useState(!0),i=t.map(v=>({id:v.edid,name:v.name,description:v.description,category:v.category,tags:v.keywords.map(w=>w.edid)})),c=n.race?t.find(v=>v.edid===n.race):null,u=v=>{r(v)},d=()=>{r(null)},f=()=>{a("/race")},h=()=>{s(!o)},m=v=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(pT,{raceName:v.name,size:"sm"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:v.name}),v.category&&l.jsx("div",{className:"text-xs text-muted-foreground",children:v.category})]})]});if(!c)return l.jsx(Nj,{title:"Race",description:"Choose your character's race",selectedEntities:[],availableEntities:i,onEntitySelect:u,onEntityRemove:d,onNavigateToPage:f,selectionType:"single",placeholder:"Select a race...",className:e,renderEntityDisplay:m});const y=Qg(c);return l.jsx(Wg,{item:y,originalRace:c,className:e,isExpanded:o,onToggle:h})}function QQ(){const{build:e,setBuildName:t,setBuildNotes:n,updateBuild:r}=ya(),[a,o]=p.useState(e.traitLimits.regular),[s,i]=p.useState(e.traitLimits.bonus),c=f=>{const h=parseInt(f)||0;o(h),r({traitLimits:{...e.traitLimits,regular:h}})},u=f=>{const h=parseInt(f)||0;i(h),r({traitLimits:{...e.traitLimits,bonus:h}})},d=a!==2||s!==1;return l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Character Builder"}),l.jsx(EC,{})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(WQ,{}),l.jsx(PQ,{})]}),l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsx(vt,{children:"Basic Information"})}),l.jsxs(ot,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Yn,{htmlFor:"name",children:"Character Name"}),l.jsx(wr,{id:"name",value:e.name,onChange:f=>t(f.target.value),placeholder:"Enter character name..."})]}),l.jsxs("div",{children:[l.jsx(Yn,{htmlFor:"notes",children:"Notes"}),l.jsx("textarea",{id:"notes",value:e.notes,onChange:f=>n(f.target.value),placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]}),l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsx(vt,{children:"Game Progress"})}),l.jsxs(ot,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Yn,{htmlFor:"game-completed",children:"Game Completed"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Unlocks late game trait slot"})]}),l.jsx(hr,{id:"game-completed",checked:e.userProgress.gameCompleted,onCheckedChange:f=>r({userProgress:{...e.userProgress,gameCompleted:f}})})]}),e.userProgress.gameCompleted&&l.jsx(Se,{variant:"secondary",className:"w-fit",children:"Late game traits unlocked"})]})]}),l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsxs(vt,{className:"flex items-center gap-2",children:["Trait Limits Configuration",l.jsx(wb,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsxs(ot,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start gap-2 p-4 rounded-lg border border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:[l.jsx(Nz,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"Default configuration is 2 regular + 1 extra unlock traits."}),"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Yn,{htmlFor:"regular-limit",children:"Regular Traits Limit"}),l.jsx(wr,{id:"regular-limit",type:"number",min:"0",max:"10",value:a,onChange:f=>c(f.target.value),className:"mt-1"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",e.traits.regular.length]})]}),l.jsxs("div",{children:[l.jsx(Yn,{htmlFor:"bonus-limit",children:"Extra Unlock Traits Limit"}),l.jsx(wr,{id:"bonus-limit",type:"number",min:"0",max:"5",value:s,onChange:f=>u(f.target.value),className:"mt-1"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",e.traits.bonus.length,!e.userProgress.gameCompleted&&" (requires game completion)"]})]})]}),d&&l.jsxs("div",{className:"flex items-start gap-2 p-4 rounded-lg border border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950",children:[l.jsx(wb,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"Custom limits detected:"})," ",a," regular + ",s," extra unlock traits. Remember to update your MCM settings accordingly."]})]})]})]}),l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsx(vt,{children:"Build Summary"})}),l.jsx(ot,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Race:"}),l.jsx("div",{className:"text-muted-foreground",children:e.race||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Birth Sign:"}),l.jsx("div",{className:"text-muted-foreground",children:e.stone||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Religion:"}),l.jsx("div",{className:"text-muted-foreground",children:e.religion||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Traits:"}),l.jsxs("div",{className:"text-muted-foreground",children:[e.traits.regular.length,"/",a," regular,"," ",e.traits.bonus.length,"/",s," extra unlock"]})]})]})})]})]})}function JQ(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ji,{children:"Crafting"}),l.jsx(Fl,{children:"Plan your crafting recipes and material requirements"})]}),l.jsxs(ct,{children:[l.jsxs(ut,{children:[l.jsx(vt,{children:"Coming Soon"}),l.jsx(Va,{children:"Crafting system is under development"})]}),l.jsx(ot,{children:l.jsx(Fl,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function eJ(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ji,{children:"Equipment"}),l.jsx(Fl,{children:"Browse and compare weapons, armor, and items"})]}),l.jsxs(ct,{children:[l.jsxs(ut,{children:[l.jsx(vt,{children:"Coming Soon"}),l.jsx(Va,{children:"Equipment database is under development"})]}),l.jsx(ot,{children:l.jsx(Fl,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const tJ=()=>{const{build:e,getSummary:t}=ya(),n=ga(),r=t();return!e.name&&!e.race?l.jsxs(ct,{className:"border-dashed border-2 border-muted",children:[l.jsxs(ut,{children:[l.jsx(vt,{className:"text-lg",children:"No Character Build"}),l.jsx(Va,{children:"Start building your character to see it here"})]}),l.jsx(ot,{children:l.jsx(oe,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):l.jsxs(ct,{children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"text-lg flex items-center justify-between",children:[l.jsx("span",{children:r.name}),l.jsx(oe,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),l.jsx(Va,{children:"Current character build status"})]}),l.jsxs(ot,{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Race:"}),l.jsx(Se,{variant:"secondary",className:"ml-2",children:r.race})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),l.jsx(Se,{variant:"secondary",className:"ml-2",children:r.stone})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),l.jsx(Se,{variant:"secondary",className:"ml-2",children:r.religion})]})]}),l.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[r.traitCount," traits"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.majorSkillCount," major skills"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.minorSkillCount," minor skills"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.equipmentCount," equipment"]})]})]})]})};function nJ(){return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx(ji,{children:"Welcome to Lorerim Arcaneum"}),l.jsx(zC,{children:"Your theorycrafting playground and reference hub for Lorerim players."})]}),l.jsx("div",{className:"max-w-md",children:l.jsx(tJ,{})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(Zu,{className:"h-5 w-5"}),"Player Creation"]}),l.jsx(Va,{children:"Design your character with races, traits, and birthsigns"})]}),l.jsx(ot,{children:l.jsx(oe,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/player-creation",children:"Get Started"})})})]}),l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx($a,{className:"h-5 w-5"}),"Equipment"]}),l.jsx(Va,{children:"Browse and compare weapons, armor, and items"})]}),l.jsx(ot,{children:l.jsx(oe,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/equipment",children:"Browse Items"})})})]}),l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(q4,{className:"h-5 w-5"}),"Crafting"]}),l.jsx(Va,{children:"Plan your crafting recipes and material requirements"})]}),l.jsx(ot,{children:l.jsx(oe,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/crafting",children:"Start Crafting"})})})]}),l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(El,{className:"h-5 w-5"}),"Skills"]}),l.jsx(Va,{children:"Explore skill trees and perk combinations"})]}),l.jsx(ot,{children:l.jsx(oe,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/skills",children:"View Skills"})})})]})]})]})}function rJ(){const e=ga();return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[l.jsx(ji,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),l.jsx(Ot,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),l.jsx(oe,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const aJ=()=>l.jsxs(CO,{children:[l.jsx(dn,{path:"/",element:l.jsx(nJ,{})}),l.jsx(dn,{path:"/build",element:l.jsx(QQ,{})}),l.jsx(dn,{path:"/race",element:l.jsx(HW,{})}),l.jsx(dn,{path:"/destiny",element:l.jsx(cV,{})}),l.jsx(dn,{path:"/perks",element:l.jsx(DW,{})}),l.jsx(dn,{path:"/birth-signs",element:l.jsx(FI,{})}),l.jsx(dn,{path:"/traits",element:l.jsx(BQ,{})}),l.jsx(dn,{path:"/skills",element:l.jsx(MQ,{})}),l.jsx(dn,{path:"/religions",element:l.jsx(qW,{})}),l.jsx(dn,{path:"/equipment",element:l.jsx(eJ,{})}),l.jsx(dn,{path:"/crafting",element:l.jsx(JQ,{})}),l.jsx(dn,{path:"*",element:l.jsx(rJ,{})})]}),WT=p.createContext(void 0);function oJ({children:e}){const[t,n]=p.useState("system"),[r,a]=p.useState("dark");return p.useEffect(()=>{const o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&n(o)},[]),p.useEffect(()=>{localStorage.setItem("theme",t);let o;t==="system"?o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":o=t,a(o);const s=document.documentElement;o==="dark"?s.classList.add("dark"):s.classList.remove("dark")},[t]),p.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{if(t==="system"){const i=o.matches?"dark":"light";a(i);const c=document.documentElement;i==="dark"?c.classList.add("dark"):c.classList.remove("dark")}};return o.addEventListener("change",s),()=>o.removeEventListener("change",s)},[t]),l.jsx(WT.Provider,{value:{theme:t,setTheme:n,resolvedTheme:r},children:e})}function sJ(){const e=p.useContext(WT);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function iJ(){const{theme:e,setTheme:t}=sJ(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},r=()=>{switch(e){case"light":return l.jsx(Nb,{className:"h-4 w-4"});case"dark":return l.jsx(dz,{className:"h-4 w-4"});case"system":return l.jsx(cz,{className:"h-4 w-4"});default:return l.jsx(Nb,{className:"h-4 w-4"})}};return l.jsxs(oe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[r(),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function lJ({sidebarCollapsed:e,onToggleSidebar:t}){return l.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm",style:{zIndex:It.NAVIGATION},children:[l.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:l.jsx(oz,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),l.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),l.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),l.jsx("div",{className:"ml-auto",children:l.jsx(iJ,{})})]})}const cJ=[{label:"Character Creation",items:[{to:"/build",label:"Character Builder"},{to:"/race",label:"Races"},{to:"/birth-signs",label:"Birth Signs"},{to:"/traits",label:"Traits"},{to:"/skills",label:"Skill Selection"},{to:"/religions",label:"Religion"}]},{label:"Progression",items:[{to:"/destiny",label:"Destiny "},{to:"/perks",label:"Perks"}]},{label:"Gear",items:[{to:"/weapons",label:"Weapons"},{to:"/armor",label:"Armor"},{to:"/food",label:"Food"},{to:"/alcohol",label:"Alcohol"}]},{label:"Crafting",items:[{to:"/alchemy",label:"Alchemy"},{to:"/smithing",label:"Smithing"},{to:"/enchanting",label:"Enchanting"}]},{label:"Ascensions",items:[{to:"/shouts",label:"Shouts of the Dragonborn"},{to:"/lichdom",label:"Lichdom"},{to:"/lycanthropy",label:"Lycanthropy"},{to:"/vampirism",label:"Vampirism"}]}];function uJ({collapsed:e}){const t=ga(),n=window.location.hash.replace(/^#\/?/,"/"),r=a=>{const o=window.location.hash,[s,i]=o.split("?"),u=new URLSearchParams(i||"").get("b");t(u?`${a}?b=${u}`:a)};return l.jsxs(_C,{collapsed:e,children:[l.jsx(kC,{children:!e&&l.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[l.jsx(Q4,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),l.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),l.jsx(CC,{children:cJ.map(a=>l.jsxs(jC,{children:[!e&&l.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:a.label}),l.jsx(AC,{children:a.items.map(o=>{const s=n===o.to;return l.jsx(TC,{children:l.jsx(RC,{asChild:!0,isActive:s,onClick:()=>r(o.to),tabIndex:0,children:l.jsx("span",{className:"w-full text-left truncate",children:o.label})})},o.to)})})]},a.label))}),!e&&l.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[l.jsx(Ot,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),l.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]}),l.jsx(MC,{})]})}function dJ(){const[e,t]=p.useState(!1);return CL(),l.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[l.jsx(lJ,{sidebarCollapsed:e,onToggleSidebar:()=>t(n=>!n)}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0":"w-64"}`,style:{zIndex:It.SIDEBAR},children:l.jsx(uJ,{collapsed:e})}),l.jsx("main",{className:"flex-1 p-8 transition-all duration-300 ease-in-out",children:l.jsx(aJ,{})})]}),l.jsx(EC,{})]})}function fJ(){return l.jsx(KO,{children:l.jsx(dJ,{})})}x4.createRoot(document.getElementById("root")).render(l.jsx(p.StrictMode,{children:l.jsx(oJ,{children:l.jsx(fJ,{})})}));
