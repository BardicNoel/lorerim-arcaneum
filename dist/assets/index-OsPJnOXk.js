function RM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function pf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var vS={exports:{}},gf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM=Symbol.for("react.transitional.element"),DM=Symbol.for("react.fragment");function xS(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:MM,type:e,key:r,ref:t!==void 0?t:null,props:n}}gf.Fragment=DM;gf.jsx=xS;gf.jsxs=xS;vS.exports=gf;var c=vS.exports,bS={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=Symbol.for("react.transitional.element"),zM=Symbol.for("react.portal"),OM=Symbol.for("react.fragment"),$M=Symbol.for("react.strict_mode"),PM=Symbol.for("react.profiler"),LM=Symbol.for("react.consumer"),IM=Symbol.for("react.context"),BM=Symbol.for("react.forward_ref"),HM=Symbol.for("react.suspense"),FM=Symbol.for("react.memo"),wS=Symbol.for("react.lazy"),Jv=Symbol.iterator;function UM(e){return e===null||typeof e!="object"?null:(e=Jv&&e[Jv]||e["@@iterator"],typeof e=="function"?e:null)}var SS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NS=Object.assign,ES={};function yi(e,t,n){this.props=e,this.context=t,this.refs=ES,this.updater=n||SS}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _S(){}_S.prototype=yi.prototype;function t0(e,t,n){this.props=e,this.context=t,this.refs=ES,this.updater=n||SS}var n0=t0.prototype=new _S;n0.constructor=t0;NS(n0,yi.prototype);n0.isPureReactComponent=!0;var ex=Array.isArray,Ue={H:null,A:null,T:null,S:null,V:null},CS=Object.prototype.hasOwnProperty;function r0(e,t,n,r,a,o){return n=o.ref,{$$typeof:e0,type:e,key:t,ref:n!==void 0?n:null,props:o}}function GM(e,t){return r0(e.type,t,void 0,void 0,void 0,e.props)}function a0(e){return typeof e=="object"&&e!==null&&e.$$typeof===e0}function VM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tx=/\/+/g;function Ch(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VM(""+e.key):t.toString(36)}function nx(){}function ZM(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(nx,nx):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function hs(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case e0:case zM:s=!0;break;case wS:return s=e._init,hs(s(e._payload),t,n,r,a)}}if(s)return a=a(e),s=r===""?"."+Ch(e,0):r,ex(a)?(n="",s!=null&&(n=s.replace(tx,"$&/")+"/"),hs(a,t,n,"",function(u){return u})):a!=null&&(a0(a)&&(a=GM(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(tx,"$&/")+"/")+s)),t.push(a)),1;s=0;var i=r===""?".":r+":";if(ex(e))for(var l=0;l<e.length;l++)r=e[l],o=i+Ch(r,l),s+=hs(r,t,n,o,a);else if(l=UM(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,o=i+Ch(r,l++),s+=hs(r,t,n,o,a);else if(o==="object"){if(typeof e.then=="function")return hs(ZM(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Vc(e,t,n){if(e==null)return e;var r=[],a=0;return hs(e,r,"","",function(o){return t.call(n,o,a++)}),r}function YM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rx=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qM(){}ge.Children={map:Vc,forEach:function(e,t,n){Vc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vc(e,function(){t++}),t},toArray:function(e){return Vc(e,function(t){return t})||[]},only:function(e){if(!a0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=yi;ge.Fragment=OM;ge.Profiler=PM;ge.PureComponent=t0;ge.StrictMode=$M;ge.Suspense=HM;ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;ge.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ue.H.useMemoCache(e)}};ge.cache=function(e){return function(){return e.apply(null,arguments)}};ge.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=NS({},e.props),a=e.key,o=void 0;if(t!=null)for(s in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(a=""+t.key),t)!CS.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];r.children=i}return r0(e.type,a,void 0,void 0,o,r)};ge.createContext=function(e){return e={$$typeof:IM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:LM,_context:e},e};ge.createElement=function(e,t,n){var r,a={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)CS.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];a.children=i}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return r0(e,o,void 0,void 0,null,a)};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:BM,render:e}};ge.isValidElement=a0;ge.lazy=function(e){return{$$typeof:wS,_payload:{_status:-1,_result:e},_init:YM}};ge.memo=function(e,t){return{$$typeof:FM,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ue.T,n={};Ue.T=n;try{var r=e(),a=Ue.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(qM,rx)}catch(o){rx(o)}finally{Ue.T=t}};ge.unstable_useCacheRefresh=function(){return Ue.H.useCacheRefresh()};ge.use=function(e){return Ue.H.use(e)};ge.useActionState=function(e,t,n){return Ue.H.useActionState(e,t,n)};ge.useCallback=function(e,t){return Ue.H.useCallback(e,t)};ge.useContext=function(e){return Ue.H.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e,t){return Ue.H.useDeferredValue(e,t)};ge.useEffect=function(e,t,n){var r=Ue.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};ge.useId=function(){return Ue.H.useId()};ge.useImperativeHandle=function(e,t,n){return Ue.H.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Ue.H.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Ue.H.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Ue.H.useMemo(e,t)};ge.useOptimistic=function(e,t){return Ue.H.useOptimistic(e,t)};ge.useReducer=function(e,t,n){return Ue.H.useReducer(e,t,n)};ge.useRef=function(e){return Ue.H.useRef(e)};ge.useState=function(e){return Ue.H.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Ue.H.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Ue.H.useTransition()};ge.version="19.1.0";bS.exports=ge;var p=bS.exports;const D=pf(p),o0=RM({__proto__:null,default:D},[p]);var AS={exports:{}},yf={},kS={exports:{}},TS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var O=R.length;R.push(L);e:for(;0<O;){var M=O-1>>>1,I=R[M];if(0<a(I,L))R[M]=L,R[O]=I,O=M;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],O=R.pop();if(O!==L){R[0]=O;e:for(var M=0,I=R.length,F=I>>>1;M<F;){var V=2*(M+1)-1,U=R[V],P=V+1,H=R[P];if(0>a(U,O))P<I&&0>a(H,U)?(R[M]=H,R[P]=O,M=P):(R[M]=U,R[V]=O,M=V);else if(P<I&&0>a(H,O))R[M]=H,R[P]=O,M=P;else break e}}return L}function a(R,L){var O=R.sortIndex-L.sortIndex;return O!==0?O:R.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var l=[],u=[],f=1,d=null,h=3,m=!1,x=!1,b=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function w(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function E(R){if(b=!1,w(R),!x)if(n(l)!==null)x=!0,A||(A=!0,B());else{var L=n(u);L!==null&&z(E,L.startTime-R)}}var A=!1,N=-1,_=5,C=-1;function k(){return S?!0:!(e.unstable_now()-C<_)}function j(){if(S=!1,A){var R=e.unstable_now();C=R;var L=!0;try{e:{x=!1,b&&(b=!1,g(N),N=-1),m=!0;var O=h;try{t:{for(w(R),d=n(l);d!==null&&!(d.expirationTime>R&&k());){var M=d.callback;if(typeof M=="function"){d.callback=null,h=d.priorityLevel;var I=M(d.expirationTime<=R);if(R=e.unstable_now(),typeof I=="function"){d.callback=I,w(R),L=!0;break t}d===n(l)&&r(l),w(R)}else r(l);d=n(l)}if(d!==null)L=!0;else{var F=n(u);F!==null&&z(E,F.startTime-R),L=!1}}break e}finally{d=null,h=O,m=!1}L=void 0}}finally{L?B():A=!1}}}var B;if(typeof v=="function")B=function(){v(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,T=$.port2;$.port1.onmessage=j,B=function(){T.postMessage(null)}}else B=function(){y(j,0)};function z(R,L){N=y(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var O=h;h=L;try{return R()}finally{h=O}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=h;h=R;try{return L()}finally{h=O}},e.unstable_scheduleCallback=function(R,L,O){var M=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?M+O:M):O=M,R){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=O+I,R={id:f++,callback:L,priorityLevel:R,startTime:O,expirationTime:I,sortIndex:-1},O>M?(R.sortIndex=O,t(u,R),n(l)===null&&R===n(u)&&(b?(g(N),N=-1):b=!0,z(E,O-M))):(R.sortIndex=I,t(l,R),x||m||(x=!0,A||(A=!0,B()))),R},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(R){var L=h;return function(){var O=h;h=L;try{return R.apply(this,arguments)}finally{h=O}}}})(TS);kS.exports=TS;var XM=kS.exports,RS={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WM=p;function jS(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Na(){}var Ut={d:{f:Na,r:function(){throw Error(jS(522))},D:Na,C:Na,L:Na,m:Na,X:Na,S:Na,M:Na},p:0,findDOMNode:null},KM=Symbol.for("react.portal");function QM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:KM,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var ll=WM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function vf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ut;Vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(jS(299));return QM(e,t,null,n)};Vt.flushSync=function(e){var t=ll.T,n=Ut.p;try{if(ll.T=null,Ut.p=2,e)return e()}finally{ll.T=t,Ut.p=n,Ut.d.f()}};Vt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ut.d.C(e,t))};Vt.prefetchDNS=function(e){typeof e=="string"&&Ut.d.D(e)};Vt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=vf(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ut.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n==="script"&&Ut.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Vt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=vf(t.as,t.crossOrigin);Ut.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ut.d.M(e)};Vt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=vf(n,t.crossOrigin);Ut.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Vt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=vf(t.as,t.crossOrigin);Ut.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ut.d.m(e)};Vt.requestFormReset=function(e){Ut.d.r(e)};Vt.unstable_batchedUpdates=function(e,t){return e(t)};Vt.useFormState=function(e,t,n){return ll.H.useFormState(e,t,n)};Vt.useFormStatus=function(){return ll.H.useHostTransitionStatus()};Vt.version="19.1.0";function MS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MS)}catch(e){console.error(e)}}MS(),RS.exports=Vt;var lc=RS.exports;const JM=pf(lc);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=XM,DS=p,eD=lc;function X(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function OS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ax(e){if(cc(e)!==e)throw Error(X(188))}function tD(e){var t=e.alternate;if(!t){if(t=cc(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return ax(a),e;if(o===r)return ax(a),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function $S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=$S(e),t!==null)return t;e=e.sibling}return null}var He=Object.assign,nD=Symbol.for("react.element"),Zc=Symbol.for("react.transitional.element"),Qi=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),PS=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),rD=Symbol.for("react.provider"),LS=Symbol.for("react.consumer"),qr=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),rp=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),Ta=Symbol.for("react.lazy"),ap=Symbol.for("react.activity"),aD=Symbol.for("react.memo_cache_sentinel"),ox=Symbol.iterator;function zi(e){return e===null||typeof e!="object"?null:(e=ox&&e[ox]||e["@@iterator"],typeof e=="function"?e:null)}var oD=Symbol.for("react.client.reference");function op(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oD?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bs:return"Fragment";case tp:return"Profiler";case PS:return"StrictMode";case np:return"Suspense";case rp:return"SuspenseList";case ap:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Qi:return"Portal";case qr:return(e.displayName||"Context")+".Provider";case LS:return(e._context.displayName||"Context")+".Consumer";case s0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case i0:return t=e.displayName||null,t!==null?t:op(e.type)||"Memo";case Ta:t=e._payload,e=e._init;try{return op(e(t))}catch{}}return null}var Ji=Array.isArray,ce=DS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te=eD.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Co={pending:!1,data:null,method:null,action:null},sp=[],ws=-1;function Cr(e){return{current:e}}function Ct(e){0>ws||(e.current=sp[ws],sp[ws]=null,ws--)}function Ge(e,t){ws++,sp[ws]=e.current,e.current=t}var vr=Cr(null),Cl=Cr(null),Za=Cr(null),id=Cr(null);function ld(e,t){switch(Ge(Za,t),Ge(Cl,e),Ge(vr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ub(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ub(t),e=t_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ct(vr),Ge(vr,e)}function Ks(){Ct(vr),Ct(Cl),Ct(Za)}function ip(e){e.memoizedState!==null&&Ge(id,e);var t=vr.current,n=t_(t,e.type);t!==n&&(Ge(Cl,e),Ge(vr,n))}function cd(e){Cl.current===e&&(Ct(vr),Ct(Cl)),id.current===e&&(Ct(id),$l._currentValue=Co)}var lp=Object.prototype.hasOwnProperty,l0=yt.unstable_scheduleCallback,Ah=yt.unstable_cancelCallback,sD=yt.unstable_shouldYield,iD=yt.unstable_requestPaint,xr=yt.unstable_now,lD=yt.unstable_getCurrentPriorityLevel,IS=yt.unstable_ImmediatePriority,BS=yt.unstable_UserBlockingPriority,ud=yt.unstable_NormalPriority,cD=yt.unstable_LowPriority,HS=yt.unstable_IdlePriority,uD=yt.log,dD=yt.unstable_setDisableYieldValue,uc=null,xn=null;function Ba(e){if(typeof uD=="function"&&dD(e),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(uc,e)}catch{}}var bn=Math.clz32?Math.clz32:mD,fD=Math.log,hD=Math.LN2;function mD(e){return e>>>=0,e===0?32:31-(fD(e)/hD|0)|0}var Yc=256,qc=4194304;function yo(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xf(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=r&134217727;return i!==0?(r=i&~o,r!==0?a=yo(r):(s&=i,s!==0?a=yo(s):n||(n=i&~e,n!==0&&(a=yo(n))))):(i=r&~o,i!==0?a=yo(i):s!==0?a=yo(s):n||(n=r&~e,n!==0&&(a=yo(n)))),a===0?0:t!==0&&t!==a&&!(t&o)&&(o=a&-a,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:a}function dc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function pD(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FS(){var e=Yc;return Yc<<=1,!(Yc&4194048)&&(Yc=256),e}function US(){var e=qc;return qc<<=1,!(qc&62914560)&&(qc=4194304),e}function kh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gD(e,t,n,r,a,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var f=31-bn(n),d=1<<f;i[f]=0,l[f]=-1;var h=u[f];if(h!==null)for(u[f]=null,f=0;f<h.length;f++){var m=h[f];m!==null&&(m.lane&=-536870913)}n&=~d}r!==0&&GS(e,r,0),o!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=o&~(s&~t))}function GS(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-bn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function VS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function c0(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function u0(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ZS(){var e=Te.p;return e!==0?e:(e=window.event,e===void 0?32:d_(e.type))}function yD(e,t){var n=Te.p;try{return Te.p=e,t()}finally{Te.p=n}}var so=Math.random().toString(36).slice(2),Lt="__reactFiber$"+so,tn="__reactProps$"+so,vi="__reactContainer$"+so,cp="__reactEvents$"+so,vD="__reactListeners$"+so,xD="__reactHandles$"+so,sx="__reactResources$"+so,hc="__reactMarker$"+so;function d0(e){delete e[Lt],delete e[tn],delete e[cp],delete e[vD],delete e[xD]}function Ss(e){var t=e[Lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[Lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hb(e);e!==null;){if(n=e[Lt])return n;e=hb(e)}return t}e=n,n=e.parentNode}return null}function xi(e){if(e=e[Lt]||e[vi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function el(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(X(33))}function zs(e){var t=e[sx];return t||(t=e[sx]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[hc]=!0}var YS=new Set,qS={};function Yo(e,t){Qs(e,t),Qs(e+"Capture",t)}function Qs(e,t){for(qS[e]=t,e=0;e<t.length;e++)YS.add(t[e])}var bD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ix={},lx={};function wD(e){return lp.call(lx,e)?!0:lp.call(ix,e)?!1:bD.test(e)?lx[e]=!0:(ix[e]=!0,!1)}function $u(e,t,n){if(wD(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Xc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Br(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Th,cx;function ms(e){if(Th===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Th=t&&t[1]||"",cx=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Th+e+cx}var Rh=!1;function jh(e,t){if(!e||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var h=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){h=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){h=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],i=o[1];if(s&&i){var l=s.split(`
`),u=i.split(`
`);for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||l[r]!==u[a]){var f=`
`+l[r].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=r&&0<=a);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ms(n):""}function SD(e){switch(e.tag){case 26:case 27:case 5:return ms(e.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 15:return jh(e.type,!1);case 11:return jh(e.type.render,!1);case 1:return jh(e.type,!0);case 31:return ms("Activity");default:return""}}function ux(e){try{var t="";do t+=SD(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ND(e){var t=XS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dd(e){e._valueTracker||(e._valueTracker=ND(e))}function WS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=XS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ED=/[\n"\\]/g;function On(e){return e.replace(ED,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function up(e,t,n,r,a,o,s,i){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mn(t)):e.value!==""+Mn(t)&&(e.value=""+Mn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?dp(e,s,Mn(t)):n!=null?dp(e,s,Mn(n)):r!=null&&e.removeAttribute("value"),a==null&&o!=null&&(e.defaultChecked=!!o),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.name=""+Mn(i):e.removeAttribute("name")}function KS(e,t,n,r,a,o,s,i){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+Mn(n):"",t=t!=null?""+Mn(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function dp(e,t,n){t==="number"&&fd(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Os(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function QS(e,t,n){if(t!=null&&(t=""+Mn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Mn(n):""}function JS(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(X(92));if(Ji(r)){if(1<r.length)throw Error(X(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Mn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _D=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dx(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||_D.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function eN(e,t,n){if(t!=null&&typeof t!="object")throw Error(X(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&dx(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&dx(e,o,t[o])}function f0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),AD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pu(e){return AD.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var fp=null;function h0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ns=null,$s=null;function fx(e){var t=xi(e);if(t&&(e=t.stateNode)){var n=e[tn]||null;e:switch(e=t.stateNode,t.type){case"input":if(up(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+On(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[tn]||null;if(!a)throw Error(X(90));up(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&WS(r)}break e;case"textarea":QS(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Os(e,!!n.multiple,t,!1)}}}var Mh=!1;function tN(e,t,n){if(Mh)return e(t,n);Mh=!0;try{var r=e(t);return r}finally{if(Mh=!1,(Ns!==null||$s!==null)&&(Tf(),Ns&&(t=Ns,e=$s,$s=Ns=null,fx(t),e)))for(t=0;t<e.length;t++)fx(e[t])}}function Al(e,t){var n=e.stateNode;if(n===null)return null;var r=n[tn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hp=!1;if(ia)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){hp=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{hp=!1}var Ha=null,m0=null,Lu=null;function nN(){if(Lu)return Lu;var e,t=m0,n=t.length,r,a="value"in Ha?Ha.value:Ha.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[o-r];r++);return Lu=a.slice(e,1<r?1-r:void 0)}function Iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wc(){return!0}function hx(){return!1}function rn(e){function t(n,r,a,o,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wc:hx,this.isPropagationStopped=hx,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),t}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bf=rn(qo),mc=He({},qo,{view:0,detail:0}),kD=rn(mc),Dh,zh,$i,wf=He({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$i&&($i&&e.type==="mousemove"?(Dh=e.screenX-$i.screenX,zh=e.screenY-$i.screenY):zh=Dh=0,$i=e),Dh)},movementY:function(e){return"movementY"in e?e.movementY:zh}}),mx=rn(wf),TD=He({},wf,{dataTransfer:0}),RD=rn(TD),jD=He({},mc,{relatedTarget:0}),Oh=rn(jD),MD=He({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),DD=rn(MD),zD=He({},qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OD=rn(zD),$D=He({},qo,{data:0}),px=rn($D),PD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ID={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ID[e])?!!t[e]:!1}function p0(){return BD}var HD=He({},mc,{key:function(e){if(e.key){var t=PD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p0,charCode:function(e){return e.type==="keypress"?Iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FD=rn(HD),UD=He({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gx=rn(UD),GD=He({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p0}),VD=rn(GD),ZD=He({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),YD=rn(ZD),qD=He({},wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XD=rn(qD),WD=He({},qo,{newState:0,oldState:0}),KD=rn(WD),QD=[9,13,27,32],g0=ia&&"CompositionEvent"in window,cl=null;ia&&"documentMode"in document&&(cl=document.documentMode);var JD=ia&&"TextEvent"in window&&!cl,rN=ia&&(!g0||cl&&8<cl&&11>=cl),yx=" ",vx=!1;function aN(e,t){switch(e){case"keyup":return QD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function e3(e,t){switch(e){case"compositionend":return oN(t);case"keypress":return t.which!==32?null:(vx=!0,yx);case"textInput":return e=t.data,e===yx&&vx?null:e;default:return null}}function t3(e,t){if(Es)return e==="compositionend"||!g0&&aN(e,t)?(e=nN(),Lu=m0=Ha=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rN&&t.locale!=="ko"?null:t.data;default:return null}}var n3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!n3[e.type]:t==="textarea"}function sN(e,t,n,r){Ns?$s?$s.push(r):$s=[r]:Ns=r,t=Rd(t,"onChange"),0<t.length&&(n=new bf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ul=null,kl=null;function r3(e){QE(e,0)}function Sf(e){var t=el(e);if(WS(t))return e}function bx(e,t){if(e==="change")return t}var iN=!1;if(ia){var $h;if(ia){var Ph="oninput"in document;if(!Ph){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),Ph=typeof wx.oninput=="function"}$h=Ph}else $h=!1;iN=$h&&(!document.documentMode||9<document.documentMode)}function Sx(){ul&&(ul.detachEvent("onpropertychange",lN),kl=ul=null)}function lN(e){if(e.propertyName==="value"&&Sf(kl)){var t=[];sN(t,kl,e,h0(e)),tN(r3,t)}}function a3(e,t,n){e==="focusin"?(Sx(),ul=t,kl=n,ul.attachEvent("onpropertychange",lN)):e==="focusout"&&Sx()}function o3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sf(kl)}function s3(e,t){if(e==="click")return Sf(t)}function i3(e,t){if(e==="input"||e==="change")return Sf(t)}function l3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:l3;function Tl(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!lp.call(t,a)||!_n(e[a],t[a]))return!1}return!0}function Nx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ex(e,t){var n=Nx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nx(n)}}function cN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uN(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=fd(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fd(e.document)}return t}function y0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var c3=ia&&"documentMode"in document&&11>=document.documentMode,_s=null,mp=null,dl=null,pp=!1;function _x(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pp||_s==null||_s!==fd(r)||(r=_s,"selectionStart"in r&&y0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Tl(dl,r)||(dl=r,r=Rd(mp,"onSelect"),0<r.length&&(t=new bf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_s)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cs={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionrun:ho("Transition","TransitionRun"),transitionstart:ho("Transition","TransitionStart"),transitioncancel:ho("Transition","TransitionCancel"),transitionend:ho("Transition","TransitionEnd")},Lh={},dN={};ia&&(dN=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Xo(e){if(Lh[e])return Lh[e];if(!Cs[e])return e;var t=Cs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dN)return Lh[e]=t[n];return e}var fN=Xo("animationend"),hN=Xo("animationiteration"),mN=Xo("animationstart"),u3=Xo("transitionrun"),d3=Xo("transitionstart"),f3=Xo("transitioncancel"),pN=Xo("transitionend"),gN=new Map,gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gp.push("scrollEnd");function rr(e,t){gN.set(e,t),Yo(t,[e])}var Cx=new WeakMap;function $n(e,t){if(typeof e=="object"&&e!==null){var n=Cx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ux(t)},Cx.set(e,t),t)}return{value:e,source:t,stack:ux(t)}}var jn=[],As=0,v0=0;function Nf(){for(var e=As,t=v0=As=0;t<e;){var n=jn[t];jn[t++]=null;var r=jn[t];jn[t++]=null;var a=jn[t];jn[t++]=null;var o=jn[t];if(jn[t++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}o!==0&&yN(n,a,o)}}function Ef(e,t,n,r){jn[As++]=e,jn[As++]=t,jn[As++]=n,jn[As++]=r,v0|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function x0(e,t,n,r){return Ef(e,t,n,r),hd(e)}function bi(e,t){return Ef(e,null,null,t),hd(e)}function yN(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(a=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,a&&t!==null&&(a=31-bn(n),e=o.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),o):null}function hd(e){if(50<wl)throw wl=0,Pp=null,Error(X(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ks={};function h3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,n,r){return new h3(e,t,n,r)}function b0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,t){var n=e.alternate;return n===null?(n=vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function vN(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bu(e,t,n,r,a,o){var s=0;if(r=e,typeof e=="function")b0(e)&&(s=1);else if(typeof e=="string")s=p4(e,n,vr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ap:return e=vn(31,n,t,a),e.elementType=ap,e.lanes=o,e;case bs:return Ao(n.children,a,o,t);case PS:s=8,a|=24;break;case tp:return e=vn(12,n,t,a|2),e.elementType=tp,e.lanes=o,e;case np:return e=vn(13,n,t,a),e.elementType=np,e.lanes=o,e;case rp:return e=vn(19,n,t,a),e.elementType=rp,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rD:case qr:s=10;break e;case LS:s=9;break e;case s0:s=11;break e;case i0:s=14;break e;case Ta:s=16,r=null;break e}s=29,n=Error(X(130,e===null?"null":typeof e,"")),r=null}return t=vn(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Ao(e,t,n,r){return e=vn(7,e,r,t),e.lanes=n,e}function Ih(e,t,n){return e=vn(6,e,null,t),e.lanes=n,e}function Bh(e,t,n){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ts=[],Rs=0,md=null,pd=0,Dn=[],zn=0,ko=null,Xr=1,Wr="";function vo(e,t){Ts[Rs++]=pd,Ts[Rs++]=md,md=e,pd=t}function xN(e,t,n){Dn[zn++]=Xr,Dn[zn++]=Wr,Dn[zn++]=ko,ko=e;var r=Xr;e=Wr;var a=32-bn(r)-1;r&=~(1<<a),n+=1;var o=32-bn(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Xr=1<<32-bn(t)+a|n<<a|r,Wr=o+e}else Xr=1<<o|n<<a|r,Wr=e}function w0(e){e.return!==null&&(vo(e,1),xN(e,1,0))}function S0(e){for(;e===md;)md=Ts[--Rs],Ts[Rs]=null,pd=Ts[--Rs],Ts[Rs]=null;for(;e===ko;)ko=Dn[--zn],Dn[zn]=null,Wr=Dn[--zn],Dn[zn]=null,Xr=Dn[--zn],Dn[zn]=null}var Ft=null,Je=null,ke=!1,To=null,hr=!1,yp=Error(X(519));function Oo(e){var t=Error(X(418,""));throw Rl($n(t,e)),yp}function Ax(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Lt]=e,t[tn]=r,n){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(n=0;n<Dl.length;n++)be(Dl[n],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),KS(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dd(t);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),JS(t,r.value,r.defaultValue,r.children),dd(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||e_(t.textContent,n)?(r.popover!=null&&(be("beforetoggle",t),be("toggle",t)),r.onScroll!=null&&be("scroll",t),r.onScrollEnd!=null&&be("scrollend",t),r.onClick!=null&&(t.onclick=Mf),t=!0):t=!1,t||Oo(e)}function kx(e){for(Ft=e.return;Ft;)switch(Ft.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:Ft=Ft.return}}function Pi(e){if(e!==Ft)return!1;if(!ke)return kx(e),ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Up(e.type,e.memoizedProps)),n=!n),n&&Je&&Oo(e),kx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Je=Kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Je=null}}else t===27?(t=Je,io(e.type)?(e=Zp,Zp=null,Je=e):Je=t):Je=Ft?Kn(e.stateNode.nextSibling):null;return!0}function pc(){Je=Ft=null,ke=!1}function Tx(){var e=To;return e!==null&&(Jt===null?Jt=e:Jt.push.apply(Jt,e),To=null),e}function Rl(e){To===null?To=[e]:To.push(e)}var vp=Cr(null),Wo=null,Kr=null;function Da(e,t,n){Ge(vp,t._currentValue),t._currentValue=n}function na(e){e._currentValue=vp.current,Ct(vp)}function xp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bp(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;e:for(;o!==null;){var i=o;o=a;for(var l=0;l<t.length;l++)if(i.context===t[l]){o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),xp(o.return,n,e),r||(s=null);break e}o=i.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(X(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),xp(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function gc(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(X(387));if(s=s.memoizedProps,s!==null){var i=a.type;_n(a.pendingProps.value,s.value)||(e!==null?e.push(i):e=[i])}}else if(a===id.current){if(s=a.alternate,s===null)throw Error(X(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push($l):e=[$l])}a=a.return}e!==null&&bp(t,e,n,r),t.flags|=262144}function gd(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $o(e){Wo=e,Kr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function It(e){return bN(Wo,e)}function Kc(e,t){return Wo===null&&$o(e),bN(e,t)}function bN(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Kr===null){if(e===null)throw Error(X(308));Kr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Kr=Kr.next=t;return n}var m3=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},p3=yt.unstable_scheduleCallback,g3=yt.unstable_NormalPriority,mt={$$typeof:qr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function N0(){return{controller:new m3,data:new Map,refCount:0}}function yc(e){e.refCount--,e.refCount===0&&p3(g3,function(){e.controller.abort()})}var fl=null,wp=0,ei=0,Ps=null;function y3(e,t){if(fl===null){var n=fl=[];wp=0,ei=Z0(),Ps={status:"pending",value:void 0,then:function(r){n.push(r)}}}return wp++,t.then(Rx,Rx),t}function Rx(){if(--wp===0&&fl!==null){Ps!==null&&(Ps.status="fulfilled");var e=fl;fl=null,ei=0,Ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function v3(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var jx=ce.S;ce.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&y3(e,t),jx!==null&&jx(e,t)};var Ro=Cr(null);function E0(){var e=Ro.current;return e!==null?e:Ie.pooledCache}function Hu(e,t){t===null?Ge(Ro,Ro.current):Ge(Ro,t.pool)}function wN(){var e=E0();return e===null?null:{parent:mt._currentValue,pool:e}}var vc=Error(X(460)),SN=Error(X(474)),_f=Error(X(542)),Sp={then:function(){}};function Mx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qc(){}function NN(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Qc,Qc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zx(e),e;default:if(typeof t.status=="string")t.then(Qc,Qc);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(X(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zx(e),e}throw hl=t,vc}}var hl=null;function Dx(){if(hl===null)throw Error(X(459));var e=hl;return hl=null,e}function zx(e){if(e===vc||e===_f)throw Error(X(483))}var Ra=!1;function _0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Np(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=hd(e),yN(e,null,n),t}return Ef(e,r,t,n),hd(e)}function ml(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,VS(e,n)}}function Hh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ep=!1;function pl(){if(Ep){var e=Ps;if(e!==null)throw e}}function gl(e,t,n,r){Ep=!1;var a=e.updateQueue;Ra=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var l=i,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==s&&(i===null?f.firstBaseUpdate=u:i.next=u,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;s=0,f=u=l=null,i=o;do{var h=i.lane&-536870913,m=h!==i.lane;if(m?(Ae&h)===h:(r&h)===h){h!==0&&h===ei&&(Ep=!0),f!==null&&(f=f.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var x=e,b=i;h=t;var S=n;switch(b.tag){case 1:if(x=b.payload,typeof x=="function"){d=x.call(S,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,h=typeof x=="function"?x.call(S,d,h):x,h==null)break e;d=He({},d,h);break e;case 2:Ra=!0}}h=i.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(u=f=m,l=d):f=f.next=m,s|=h;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;m=i,i=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=f,o===null&&(a.shared.lanes=0),ro|=s,e.lanes=s,e.memoizedState=d}}function EN(e,t){if(typeof e!="function")throw Error(X(191,e));e.call(t)}function _N(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)EN(n[e],t)}var ti=Cr(null),yd=Cr(0);function Ox(e,t){e=ua,Ge(yd,e),Ge(ti,t),ua=e|t.baseLanes}function _p(){Ge(yd,ua),Ge(ti,ti.current)}function C0(){ua=yd.current,Ct(ti),Ct(yd)}var to=0,ve=null,Pe=null,ct=null,vd=!1,Ls=!1,Po=!1,xd=0,jl=0,Is=null,x3=0;function at(){throw Error(X(321))}function A0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_n(e[n],t[n]))return!1;return!0}function k0(e,t,n,r,a,o){return to=o,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ce.H=e===null||e.memoizedState===null?nE:rE,Po=!1,o=n(r,a),Po=!1,Ls&&(o=AN(t,n,r,a)),CN(e),o}function CN(e){ce.H=bd;var t=Pe!==null&&Pe.next!==null;if(to=0,ct=Pe=ve=null,vd=!1,jl=0,Is=null,t)throw Error(X(300));e===null||wt||(e=e.dependencies,e!==null&&gd(e)&&(wt=!0))}function AN(e,t,n,r){ve=e;var a=0;do{if(Ls&&(Is=null),jl=0,Ls=!1,25<=a)throw Error(X(301));if(a+=1,ct=Pe=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}ce.H=C3,o=t(n,r)}while(Ls);return o}function b3(){var e=ce.H,t=e.useState()[0];return t=typeof t.then=="function"?xc(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(ve.flags|=1024),t}function T0(){var e=xd!==0;return xd=0,e}function R0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function j0(e){if(vd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vd=!1}to=0,ct=Pe=ve=null,Ls=!1,jl=xd=0,Is=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?ve.memoizedState=ct=e:ct=ct.next=e,ct}function ut(){if(Pe===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=ct===null?ve.memoizedState:ct.next;if(t!==null)ct=t,Pe=e;else{if(e===null)throw ve.alternate===null?Error(X(467)):Error(X(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},ct===null?ve.memoizedState=ct=e:ct=ct.next=e}return ct}function M0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xc(e){var t=jl;return jl+=1,Is===null&&(Is=[]),e=NN(Is,e,t),t=ve,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,ce.H=t===null||t.memoizedState===null?nE:rE),e}function Cf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xc(e);if(e.$$typeof===qr)return It(e)}throw Error(X(438,String(e)))}function D0(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ve.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=M0(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=aD;return t.index++,n}function la(e,t){return typeof t=="function"?t(e):t}function Fu(e){var t=ut();return z0(t,Pe,e)}function z0(e,t,n){var r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var i=s=null,l=null,u=t,f=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Ae&d)===d:(to&d)===d){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===ei&&(f=!0);else if((to&h)===h){u=u.next,h===ei&&(f=!0);continue}else d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(i=l=d,s=o):l=l.next=d,ve.lanes|=h,ro|=h;d=u.action,Po&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else h={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(i=l=h,s=o):l=l.next=h,ve.lanes|=d,ro|=d;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=i,!_n(o,e.memoizedState)&&(wt=!0,f&&(n=Ps,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Fh(e){var t=ut(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);_n(o,t.memoizedState)||(wt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function kN(e,t,n){var r=ve,a=ut(),o=ke;if(o){if(n===void 0)throw Error(X(407));n=n()}else n=t();var s=!_n((Pe||a).memoizedState,n);s&&(a.memoizedState=n,wt=!0),a=a.queue;var i=jN.bind(null,r,a,e);if(bc(2048,8,i,[e]),a.getSnapshot!==t||s||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,ni(9,Af(),RN.bind(null,r,a,n,t),null),Ie===null)throw Error(X(349));o||to&124||TN(r,t,n)}return n}function TN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=M0(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function RN(e,t,n,r){t.value=n,t.getSnapshot=r,MN(t)&&DN(e)}function jN(e,t,n){return n(function(){MN(t)&&DN(e)})}function MN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_n(e,n)}catch{return!0}}function DN(e){var t=bi(e,2);t!==null&&Sn(t,e,2)}function Cp(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),Po){Ba(!0);try{n()}finally{Ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function zN(e,t,n,r){return e.baseState=n,z0(e,Pe,typeof r=="function"?r:la)}function w3(e,t,n,r,a){if(kf(e))throw Error(X(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};ce.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,ON(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ON(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=ce.T,s={};ce.T=s;try{var i=n(a,r),l=ce.S;l!==null&&l(s,i),$x(e,t,i)}catch(u){Ap(e,t,u)}finally{ce.T=o}}else try{o=n(a,r),$x(e,t,o)}catch(u){Ap(e,t,u)}}function $x(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Px(e,t,r)},function(r){return Ap(e,t,r)}):Px(e,t,n)}function Px(e,t,n){t.status="fulfilled",t.value=n,$N(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ON(e,n)))}function Ap(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,$N(t),t=t.next;while(t!==r)}e.action=null}function $N(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function PN(e,t){return t}function Lx(e,t){if(ke){var n=Ie.formState;if(n!==null){e:{var r=ve;if(ke){if(Je){t:{for(var a=Je,o=hr;a.nodeType!==8;){if(!o){a=null;break t}if(a=Kn(a.nextSibling),a===null){a=null;break t}}o=a.data,a=o==="F!"||o==="F"?a:null}if(a){Je=Kn(a.nextSibling),r=a.data==="F!";break e}}Oo(r)}r=!1}r&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PN,lastRenderedState:t},n.queue=r,n=JN.bind(null,ve,r),r.dispatch=n,r=Cp(!1),o=L0.bind(null,ve,!1,r.queue),r=Kt(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=w3.bind(null,ve,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ix(e){var t=ut();return LN(t,Pe,e)}function LN(e,t,n){if(t=z0(e,t,PN)[0],e=Fu(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=xc(t)}catch(s){throw s===vc?_f:s}else r=t;t=ut();var a=t.queue,o=a.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,ni(9,Af(),S3.bind(null,a,n),null)),[r,o,e]}function S3(e,t){e.action=t}function Bx(e){var t=ut(),n=Pe;if(n!==null)return LN(t,n,e);ut(),t=t.memoizedState,n=ut();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ni(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ve.updateQueue,t===null&&(t=M0(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Af(){return{destroy:void 0,resource:void 0}}function IN(){return ut().memoizedState}function Uu(e,t,n,r){var a=Kt();r=r===void 0?null:r,ve.flags|=e,a.memoizedState=ni(1|t,Af(),n,r)}function bc(e,t,n,r){var a=ut();r=r===void 0?null:r;var o=a.memoizedState.inst;Pe!==null&&r!==null&&A0(r,Pe.memoizedState.deps)?a.memoizedState=ni(t,o,n,r):(ve.flags|=e,a.memoizedState=ni(1|t,o,n,r))}function Hx(e,t){Uu(8390656,8,e,t)}function BN(e,t){bc(2048,8,e,t)}function HN(e,t){return bc(4,2,e,t)}function FN(e,t){return bc(4,4,e,t)}function UN(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GN(e,t,n){n=n!=null?n.concat([e]):null,bc(4,4,UN.bind(null,t,e),n)}function O0(){}function VN(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&A0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ZN(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&A0(t,r[1]))return r[0];if(r=e(),Po){Ba(!0);try{e()}finally{Ba(!1)}}return n.memoizedState=[r,t],r}function $0(e,t,n){return n===void 0||to&1073741824?e.memoizedState=t:(e.memoizedState=n,e=$E(),ve.lanes|=e,ro|=e,n)}function YN(e,t,n,r){return _n(n,t)?n:ti.current!==null?(e=$0(e,n,r),_n(e,t)||(wt=!0),e):to&42?(e=$E(),ve.lanes|=e,ro|=e,t):(wt=!0,e.memoizedState=n)}function qN(e,t,n,r,a){var o=Te.p;Te.p=o!==0&&8>o?o:8;var s=ce.T,i={};ce.T=i,L0(e,!1,t,n);try{var l=a(),u=ce.S;if(u!==null&&u(i,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=v3(l,r);yl(e,t,f,wn(e))}else yl(e,t,r,wn(e))}catch(d){yl(e,t,{then:function(){},status:"rejected",reason:d},wn())}finally{Te.p=o,ce.T=s}}function N3(){}function kp(e,t,n,r){if(e.tag!==5)throw Error(X(476));var a=XN(e).queue;qN(e,a,t,Co,n===null?N3:function(){return WN(e),n(r)})}function XN(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Co,baseState:Co,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:Co},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function WN(e){var t=XN(e).next.queue;yl(e,t,{},wn())}function P0(){return It($l)}function KN(){return ut().memoizedState}function QN(){return ut().memoizedState}function E3(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=wn();e=Ya(n);var r=qa(t,e,n);r!==null&&(Sn(r,t,n),ml(r,t,n)),t={cache:N0()},e.payload=t;return}t=t.return}}function _3(e,t,n){var r=wn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},kf(e)?eE(t,n):(n=x0(e,t,n,r),n!==null&&(Sn(n,e,r),tE(n,t,r)))}function JN(e,t,n){var r=wn();yl(e,t,n,r)}function yl(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(kf(e))eE(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,_n(i,s))return Ef(e,t,a,0),Ie===null&&Nf(),!1}catch{}finally{}if(n=x0(e,t,a,r),n!==null)return Sn(n,e,r),tE(n,t,r),!0}return!1}function L0(e,t,n,r){if(r={lane:2,revertLane:Z0(),action:r,hasEagerState:!1,eagerState:null,next:null},kf(e)){if(t)throw Error(X(479))}else t=x0(e,n,r,2),t!==null&&Sn(t,e,2)}function kf(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function eE(e,t){Ls=vd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tE(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,VS(e,n)}}var bd={readContext:It,use:Cf,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at},nE={readContext:It,use:Cf,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Hx,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Uu(4194308,4,UN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uu(4194308,4,e,t)},useInsertionEffect:function(e,t){Uu(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var r=e();if(Po){Ba(!0);try{e()}finally{Ba(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Kt();if(n!==void 0){var a=n(t);if(Po){Ba(!0);try{n(t)}finally{Ba(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=_3.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Cp(e);var t=e.queue,n=JN.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:O0,useDeferredValue:function(e,t){var n=Kt();return $0(n,e,t)},useTransition:function(){var e=Cp(!1);return e=qN.bind(null,ve,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ve,a=Kt();if(ke){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),Ie===null)throw Error(X(349));Ae&124||TN(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Hx(jN.bind(null,r,o,e),[e]),r.flags|=2048,ni(9,Af(),RN.bind(null,r,o,n,t),null),n},useId:function(){var e=Kt(),t=Ie.identifierPrefix;if(ke){var n=Wr,r=Xr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,t=""+t+"R"+n,n=xd++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=x3++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:P0,useFormState:Lx,useActionState:Lx,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=L0.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:D0,useCacheRefresh:function(){return Kt().memoizedState=E3.bind(null,ve)}},rE={readContext:It,use:Cf,useCallback:VN,useContext:It,useEffect:BN,useImperativeHandle:GN,useInsertionEffect:HN,useLayoutEffect:FN,useMemo:ZN,useReducer:Fu,useRef:IN,useState:function(){return Fu(la)},useDebugValue:O0,useDeferredValue:function(e,t){var n=ut();return YN(n,Pe.memoizedState,e,t)},useTransition:function(){var e=Fu(la)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:xc(e),t]},useSyncExternalStore:kN,useId:KN,useHostTransitionStatus:P0,useFormState:Ix,useActionState:Ix,useOptimistic:function(e,t){var n=ut();return zN(n,Pe,e,t)},useMemoCache:D0,useCacheRefresh:QN},C3={readContext:It,use:Cf,useCallback:VN,useContext:It,useEffect:BN,useImperativeHandle:GN,useInsertionEffect:HN,useLayoutEffect:FN,useMemo:ZN,useReducer:Fh,useRef:IN,useState:function(){return Fh(la)},useDebugValue:O0,useDeferredValue:function(e,t){var n=ut();return Pe===null?$0(n,e,t):YN(n,Pe.memoizedState,e,t)},useTransition:function(){var e=Fh(la)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:xc(e),t]},useSyncExternalStore:kN,useId:KN,useHostTransitionStatus:P0,useFormState:Bx,useActionState:Bx,useOptimistic:function(e,t){var n=ut();return Pe!==null?zN(n,Pe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:D0,useCacheRefresh:QN},Bs=null,Ml=0;function Jc(e){var t=Ml;return Ml+=1,Bs===null&&(Bs=[]),NN(Bs,e,t)}function Li(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function eu(e,t){throw t.$$typeof===nD?Error(X(525)):(e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fx(e){var t=e._init;return t(e._payload)}function aE(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(y,g){return y=ta(y,g),y.index=0,y.sibling=null,y}function o(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=67108866,g):v):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function s(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function i(y,g,v,w){return g===null||g.tag!==6?(g=Ih(v,y.mode,w),g.return=y,g):(g=a(g,v),g.return=y,g)}function l(y,g,v,w){var E=v.type;return E===bs?f(y,g,v.props.children,w,v.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ta&&Fx(E)===g.type)?(g=a(g,v.props),Li(g,v),g.return=y,g):(g=Bu(v.type,v.key,v.props,null,y.mode,w),Li(g,v),g.return=y,g)}function u(y,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Bh(v,y.mode,w),g.return=y,g):(g=a(g,v.children||[]),g.return=y,g)}function f(y,g,v,w,E){return g===null||g.tag!==7?(g=Ao(v,y.mode,w,E),g.return=y,g):(g=a(g,v),g.return=y,g)}function d(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Ih(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zc:return v=Bu(g.type,g.key,g.props,null,y.mode,v),Li(v,g),v.return=y,v;case Qi:return g=Bh(g,y.mode,v),g.return=y,g;case Ta:var w=g._init;return g=w(g._payload),d(y,g,v)}if(Ji(g)||zi(g))return g=Ao(g,y.mode,v,null),g.return=y,g;if(typeof g.then=="function")return d(y,Jc(g),v);if(g.$$typeof===qr)return d(y,Kc(y,g),v);eu(y,g)}return null}function h(y,g,v,w){var E=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return E!==null?null:i(y,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zc:return v.key===E?l(y,g,v,w):null;case Qi:return v.key===E?u(y,g,v,w):null;case Ta:return E=v._init,v=E(v._payload),h(y,g,v,w)}if(Ji(v)||zi(v))return E!==null?null:f(y,g,v,w,null);if(typeof v.then=="function")return h(y,g,Jc(v),w);if(v.$$typeof===qr)return h(y,g,Kc(y,v),w);eu(y,v)}return null}function m(y,g,v,w,E){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return y=y.get(v)||null,i(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:return y=y.get(w.key===null?v:w.key)||null,l(g,y,w,E);case Qi:return y=y.get(w.key===null?v:w.key)||null,u(g,y,w,E);case Ta:var A=w._init;return w=A(w._payload),m(y,g,v,w,E)}if(Ji(w)||zi(w))return y=y.get(v)||null,f(g,y,w,E,null);if(typeof w.then=="function")return m(y,g,v,Jc(w),E);if(w.$$typeof===qr)return m(y,g,v,Kc(g,w),E);eu(g,w)}return null}function x(y,g,v,w){for(var E=null,A=null,N=g,_=g=0,C=null;N!==null&&_<v.length;_++){N.index>_?(C=N,N=null):C=N.sibling;var k=h(y,N,v[_],w);if(k===null){N===null&&(N=C);break}e&&N&&k.alternate===null&&t(y,N),g=o(k,g,_),A===null?E=k:A.sibling=k,A=k,N=C}if(_===v.length)return n(y,N),ke&&vo(y,_),E;if(N===null){for(;_<v.length;_++)N=d(y,v[_],w),N!==null&&(g=o(N,g,_),A===null?E=N:A.sibling=N,A=N);return ke&&vo(y,_),E}for(N=r(N);_<v.length;_++)C=m(N,y,_,v[_],w),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?_:C.key),g=o(C,g,_),A===null?E=C:A.sibling=C,A=C);return e&&N.forEach(function(j){return t(y,j)}),ke&&vo(y,_),E}function b(y,g,v,w){if(v==null)throw Error(X(151));for(var E=null,A=null,N=g,_=g=0,C=null,k=v.next();N!==null&&!k.done;_++,k=v.next()){N.index>_?(C=N,N=null):C=N.sibling;var j=h(y,N,k.value,w);if(j===null){N===null&&(N=C);break}e&&N&&j.alternate===null&&t(y,N),g=o(j,g,_),A===null?E=j:A.sibling=j,A=j,N=C}if(k.done)return n(y,N),ke&&vo(y,_),E;if(N===null){for(;!k.done;_++,k=v.next())k=d(y,k.value,w),k!==null&&(g=o(k,g,_),A===null?E=k:A.sibling=k,A=k);return ke&&vo(y,_),E}for(N=r(N);!k.done;_++,k=v.next())k=m(N,y,_,k.value,w),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?_:k.key),g=o(k,g,_),A===null?E=k:A.sibling=k,A=k);return e&&N.forEach(function(B){return t(y,B)}),ke&&vo(y,_),E}function S(y,g,v,w){if(typeof v=="object"&&v!==null&&v.type===bs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zc:e:{for(var E=v.key;g!==null;){if(g.key===E){if(E=v.type,E===bs){if(g.tag===7){n(y,g.sibling),w=a(g,v.props.children),w.return=y,y=w;break e}}else if(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ta&&Fx(E)===g.type){n(y,g.sibling),w=a(g,v.props),Li(w,v),w.return=y,y=w;break e}n(y,g);break}else t(y,g);g=g.sibling}v.type===bs?(w=Ao(v.props.children,y.mode,w,v.key),w.return=y,y=w):(w=Bu(v.type,v.key,v.props,null,y.mode,w),Li(w,v),w.return=y,y=w)}return s(y);case Qi:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),w=a(g,v.children||[]),w.return=y,y=w;break e}else{n(y,g);break}else t(y,g);g=g.sibling}w=Bh(v,y.mode,w),w.return=y,y=w}return s(y);case Ta:return E=v._init,v=E(v._payload),S(y,g,v,w)}if(Ji(v))return x(y,g,v,w);if(zi(v)){if(E=zi(v),typeof E!="function")throw Error(X(150));return v=E.call(v),b(y,g,v,w)}if(typeof v.then=="function")return S(y,g,Jc(v),w);if(v.$$typeof===qr)return S(y,g,Kc(y,v),w);eu(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),w=a(g,v),w.return=y,y=w):(n(y,g),w=Ih(v,y.mode,w),w.return=y,y=w),s(y)):n(y,g)}return function(y,g,v,w){try{Ml=0;var E=S(y,g,v,w);return Bs=null,E}catch(N){if(N===vc||N===_f)throw N;var A=vn(29,N,null,y.mode);return A.lanes=w,A.return=y,A}finally{}}}var ri=aE(!0),oE=aE(!1),Bn=Cr(null),br=null;function za(e){var t=e.alternate;Ge(pt,pt.current&1),Ge(Bn,e),br===null&&(t===null||ti.current!==null||t.memoizedState!==null)&&(br=e)}function sE(e){if(e.tag===22){if(Ge(pt,pt.current),Ge(Bn,e),br===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(br=e)}}else Oa()}function Oa(){Ge(pt,pt.current),Ge(Bn,Bn.current)}function Qr(e){Ct(Bn),br===e&&(br=null),Ct(pt)}var pt=Cr(0);function wd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Vp(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Uh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tp={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wn(),a=Ya(r);a.payload=t,n!=null&&(a.callback=n),t=qa(e,a,r),t!==null&&(Sn(t,e,r),ml(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wn(),a=Ya(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=qa(e,a,r),t!==null&&(Sn(t,e,r),ml(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wn(),r=Ya(n);r.tag=2,t!=null&&(r.callback=t),t=qa(e,r,n),t!==null&&(Sn(t,e,n),ml(t,e,n))}};function Ux(e,t,n,r,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Tl(n,r)||!Tl(a,o):!0}function Gx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Tp.enqueueReplaceState(t,t.state,null)}function Lo(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=He({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var Sd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function iE(e){Sd(e)}function lE(e){console.error(e)}function cE(e){Sd(e)}function Nd(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Vx(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Rp(e,t,n){return n=Ya(n),n.tag=3,n.payload={element:null},n.callback=function(){Nd(e,t)},n}function uE(e){return e=Ya(e),e.tag=3,e}function dE(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){Vx(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Vx(t,n,r),typeof a!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})})}function A3(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&gc(t,n,a,!0),n=Bn.current,n!==null){switch(n.tag){case 13:return br===null?Lp():n.alternate===null&&tt===0&&(tt=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Sp?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),em(e,r,a)),!1;case 22:return n.flags|=65536,r===Sp?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),em(e,r,a)),!1}throw Error(X(435,n.tag))}return em(e,r,a),Lp(),!1}if(ke)return t=Bn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==yp&&(e=Error(X(422),{cause:r}),Rl($n(e,n)))):(r!==yp&&(t=Error(X(423),{cause:r}),Rl($n(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=$n(r,n),a=Rp(e.stateNode,r,a),Hh(e,a),tt!==4&&(tt=2)),!1;var o=Error(X(520),{cause:r});if(o=$n(o,n),bl===null?bl=[o]:bl.push(o),tt!==4&&(tt=2),t===null)return!0;r=$n(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Rp(n.stateNode,r,e),Hh(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Xa===null||!Xa.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=uE(a),dE(a,e,n,r),Hh(n,a),!1}n=n.return}while(n!==null);return!1}var fE=Error(X(461)),wt=!1;function jt(e,t,n,r){t.child=e===null?oE(t,null,n,r):ri(t,e.child,n,r)}function Zx(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var i in r)i!=="ref"&&(s[i]=r[i])}else s=r;return $o(t),r=k0(e,t,n,s,o,a),i=T0(),e!==null&&!wt?(R0(e,t,a),ca(e,t,a)):(ke&&i&&w0(t),t.flags|=1,jt(e,t,r,a),t.child)}function Yx(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!b0(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,hE(e,t,o,r,a)):(e=Bu(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!I0(e,a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(s,r)&&e.ref===t.ref)return ca(e,t,a)}return t.flags|=1,e=ta(o,r),e.ref=t.ref,e.return=t,t.child=e}function hE(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(Tl(o,r)&&e.ref===t.ref)if(wt=!1,t.pendingProps=r=o,I0(e,a))e.flags&131072&&(wt=!0);else return t.lanes=e.lanes,ca(e,t,a)}return jp(e,t,n,r,a)}function mE(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return qx(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hu(t,o!==null?o.cachePool:null),o!==null?Ox(t,o):_p(),sE(t);else return t.lanes=t.childLanes=536870912,qx(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(Hu(t,o.cachePool),Ox(t,o),Oa(),t.memoizedState=null):(e!==null&&Hu(t,null),_p(),Oa());return jt(e,t,a,n),t.child}function qx(e,t,n,r){var a=E0();return a=a===null?null:{parent:mt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Hu(t,null),_p(),sE(t),e!==null&&gc(e,t,r,!0),null}function Gu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(X(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function jp(e,t,n,r,a){return $o(t),n=k0(e,t,n,r,void 0,a),r=T0(),e!==null&&!wt?(R0(e,t,a),ca(e,t,a)):(ke&&r&&w0(t),t.flags|=1,jt(e,t,n,a),t.child)}function Xx(e,t,n,r,a,o){return $o(t),t.updateQueue=null,n=AN(t,r,n,a),CN(e),r=T0(),e!==null&&!wt?(R0(e,t,o),ca(e,t,o)):(ke&&r&&w0(t),t.flags|=1,jt(e,t,n,o),t.child)}function Wx(e,t,n,r,a){if($o(t),t.stateNode===null){var o=ks,s=n.contextType;typeof s=="object"&&s!==null&&(o=It(s)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Tp,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},_0(t),s=n.contextType,o.context=typeof s=="object"&&s!==null?It(s):ks,o.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Uh(t,n,s,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Tp.enqueueReplaceState(o,o.state,null),gl(t,r,o,a),pl(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var i=t.memoizedProps,l=Lo(n,i);o.props=l;var u=o.context,f=n.contextType;s=ks,typeof f=="object"&&f!==null&&(s=It(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",i=t.pendingProps!==i,f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i||u!==s)&&Gx(t,o,r,s),Ra=!1;var h=t.memoizedState;o.state=h,gl(t,r,o,a),pl(),u=t.memoizedState,i||h!==u||Ra?(typeof d=="function"&&(Uh(t,n,d,r),u=t.memoizedState),(l=Ra||Ux(t,n,l,r,h,u,s))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Np(e,t),s=t.memoizedProps,f=Lo(n,s),o.props=f,d=t.pendingProps,h=o.context,u=n.contextType,l=ks,typeof u=="object"&&u!==null&&(l=It(u)),i=n.getDerivedStateFromProps,(u=typeof i=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Gx(t,o,r,l),Ra=!1,h=t.memoizedState,o.state=h,gl(t,r,o,a),pl();var m=t.memoizedState;s!==d||h!==m||Ra||e!==null&&e.dependencies!==null&&gd(e.dependencies)?(typeof i=="function"&&(Uh(t,n,i,r),m=t.memoizedState),(f=Ra||Ux(t,n,f,r,h,m,l)||e!==null&&e.dependencies!==null&&gd(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=f):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Gu(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=ri(t,e.child,null,a),t.child=ri(t,null,n,a)):jt(e,t,n,a),t.memoizedState=o.state,e=t.child):e=ca(e,t,a),e}function Kx(e,t,n,r){return pc(),t.flags|=256,jt(e,t,n,r),t.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(e){return{baseLanes:e,cachePool:wN()}}function Zh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Pn),e}function pE(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(a?za(t):Oa(),ke){var i=Je,l;if(l=i){e:{for(l=i,i=hr;l.nodeType!==8;){if(!i){i=null;break e}if(l=Kn(l.nextSibling),l===null){i=null;break e}}i=l}i!==null?(t.memoizedState={dehydrated:i,treeContext:ko!==null?{id:Xr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},l=vn(18,null,null,0),l.stateNode=i,l.return=t,t.child=l,Ft=t,Je=null,l=!0):l=!1}l||Oo(t)}if(i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null))return Vp(i)?t.lanes=32:t.lanes=536870912,null;Qr(t)}return i=r.children,r=r.fallback,a?(Oa(),a=t.mode,i=Ed({mode:"hidden",children:i},a),r=Ao(r,a,n,null),i.return=t,r.return=t,i.sibling=r,t.child=i,a=t.child,a.memoizedState=Vh(n),a.childLanes=Zh(e,s,n),t.memoizedState=Gh,r):(za(t),Mp(t,i))}if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null)){if(o)t.flags&256?(za(t),t.flags&=-257,t=Yh(e,t,n)):t.memoizedState!==null?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),a=r.fallback,i=t.mode,r=Ed({mode:"visible",children:r.children},i),a=Ao(a,i,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,ri(t,e.child,null,n),r=t.child,r.memoizedState=Vh(n),r.childLanes=Zh(e,s,n),t.memoizedState=Gh,t=a);else if(za(t),Vp(i)){if(s=i.nextSibling&&i.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(X(419)),r.stack="",r.digest=s,Rl({value:r,source:null,stack:null}),t=Yh(e,t,n)}else if(wt||gc(e,t,n,!1),s=(n&e.childLanes)!==0,wt||s){if(s=Ie,s!==null&&(r=n&-n,r=r&42?1:c0(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,bi(e,r),Sn(s,e,r),fE;i.data==="$?"||Lp(),t=Yh(e,t,n)}else i.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Je=Kn(i.nextSibling),Ft=t,ke=!0,To=null,hr=!1,e!==null&&(Dn[zn++]=Xr,Dn[zn++]=Wr,Dn[zn++]=ko,Xr=e.id,Wr=e.overflow,ko=t),t=Mp(t,r.children),t.flags|=4096);return t}return a?(Oa(),a=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=ta(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?a=ta(u,a):(a=Ao(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i===null?i=Vh(n):(l=i.cachePool,l!==null?(u=mt._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=wN(),i={baseLanes:i.baseLanes|n,cachePool:l}),a.memoizedState=i,a.childLanes=Zh(e,s,n),t.memoizedState=Gh,r):(za(t),n=e.child,e=n.sibling,n=ta(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Mp(e,t){return t=Ed({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ed(e,t){return e=vn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Yh(e,t,n){return ri(t,e.child,null,n),e=Mp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xp(e.return,t,n)}function qh(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function gE(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(jt(e,t,r.children,n),r=pt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qx(e,n,t);else if(e.tag===19)Qx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Ge(pt,r),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&wd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),qh(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&wd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}qh(t,!0,n,null,o);break;case"together":qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ca(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ro|=t.lanes,!(n&t.childLanes))if(e!==null){if(gc(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=ta(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ta(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&gd(e)))}function k3(e,t,n){switch(t.tag){case 3:ld(t,t.stateNode.containerInfo),Da(t,mt,e.memoizedState.cache),pc();break;case 27:case 5:ip(t);break;case 4:ld(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(za(t),t.flags|=128,null):n&t.child.childLanes?pE(e,t,n):(za(t),e=ca(e,t,n),e!==null?e.sibling:null);za(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(gc(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return gE(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ge(pt,pt.current),r)break;return null;case 22:case 23:return t.lanes=0,mE(e,t,n);case 24:Da(t,mt,e.memoizedState.cache)}return ca(e,t,n)}function yE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)wt=!0;else{if(!I0(e,n)&&!(t.flags&128))return wt=!1,k3(e,t,n);wt=!!(e.flags&131072)}else wt=!1,ke&&t.flags&1048576&&xN(t,pd,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r=="function")b0(r)?(e=Lo(r,e),t.tag=1,t=Wx(null,t,r,e,n)):(t.tag=0,t=jp(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===s0){t.tag=11,t=Zx(null,t,r,e,n);break e}else if(a===i0){t.tag=14,t=Yx(null,t,r,e,n);break e}}throw t=op(r)||r,Error(X(306,t,""))}}return t;case 0:return jp(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Lo(r,t.pendingProps),Wx(e,t,r,a,n);case 3:e:{if(ld(t,t.stateNode.containerInfo),e===null)throw Error(X(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Np(e,t),gl(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Da(t,mt,r),r!==o.cache&&bp(t,[mt],n,!0),pl(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Kx(e,t,r,n);break e}else if(r!==a){a=$n(Error(X(424)),t),Rl(a),t=Kx(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=Kn(e.firstChild),Ft=t,ke=!0,To=null,hr=!0,n=oE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(pc(),r===a){t=ca(e,t,n);break e}jt(e,t,r,n)}t=t.child}return t;case 26:return Gu(e,t),e===null?(n=pb(t.type,null,t.pendingProps,null))?t.memoizedState=n:ke||(n=t.type,e=t.pendingProps,r=jd(Za.current).createElement(n),r[Lt]=t,r[tn]=e,Dt(r,n,e),bt(r),t.stateNode=r):t.memoizedState=pb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ip(t),e===null&&ke&&(r=t.stateNode=r_(t.type,t.pendingProps,Za.current),Ft=t,hr=!0,a=Je,io(t.type)?(Zp=a,Je=Kn(r.firstChild)):Je=a),jt(e,t,t.pendingProps.children,n),Gu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((a=r=Je)&&(r=n4(r,t.type,t.pendingProps,hr),r!==null?(t.stateNode=r,Ft=t,Je=Kn(r.firstChild),hr=!1,a=!0):a=!1),a||Oo(t)),ip(t),a=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,r=o.children,Up(a,o)?r=null:s!==null&&Up(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=k0(e,t,b3,null,null,n),$l._currentValue=a),Gu(e,t),jt(e,t,r,n),t.child;case 6:return e===null&&ke&&((e=n=Je)&&(n=r4(n,t.pendingProps,hr),n!==null?(t.stateNode=n,Ft=t,Je=null,e=!0):e=!1),e||Oo(t)),null;case 13:return pE(e,t,n);case 4:return ld(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ri(t,null,r,n):jt(e,t,r,n),t.child;case 11:return Zx(e,t,t.type,t.pendingProps,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Da(t,t.type,r.value),jt(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,$o(t),a=It(a),r=r(a),t.flags|=1,jt(e,t,r,n),t.child;case 14:return Yx(e,t,t.type,t.pendingProps,n);case 15:return hE(e,t,t.type,t.pendingProps,n);case 19:return gE(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Ed(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ta(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return mE(e,t,n);case 24:return $o(t),r=It(mt),e===null?(a=E0(),a===null&&(a=Ie,o=N0(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},_0(t),Da(t,mt,a)):(e.lanes&n&&(Np(e,t),gl(t,null,null,n),pl()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Da(t,mt,r)):(r=o.cache,Da(t,mt,r),r!==a.cache&&bp(t,[mt],n,!0))),jt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(X(156,t.tag))}function Hr(e){e.flags|=4}function Jx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!s_(t)){if(t=Bn.current,t!==null&&((Ae&4194048)===Ae?br!==null:(Ae&62914560)!==Ae&&!(Ae&536870912)||t!==br))throw hl=Sp,SN;e.flags|=8192}}function tu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?US():536870912,e.lanes|=t,ai|=t)}function Ii(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function T3(e,t,n){var r=t.pendingProps;switch(S0(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),na(mt),Ks(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pi(t)?Hr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tx())),qe(t),null;case 26:return n=t.memoizedState,e===null?(Hr(t),n!==null?(qe(t),Jx(t,n)):(qe(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Hr(t),qe(t),Jx(t,n)):(qe(t),t.flags&=-16777217):(e.memoizedProps!==r&&Hr(t),qe(t),t.flags&=-16777217),null;case 27:cd(t),n=Za.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Hr(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return qe(t),null}e=vr.current,Pi(t)?Ax(t):(e=r_(a,r,n),t.stateNode=e,Hr(t))}return qe(t),null;case 5:if(cd(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Hr(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return qe(t),null}if(e=vr.current,Pi(t))Ax(t);else{switch(a=jd(Za.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Lt]=t,e[tn]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Dt(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hr(t)}}return qe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Hr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(e=Za.current,Pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ft,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Lt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||e_(e.nodeValue,n)),e||Oo(t)}else e=jd(e).createTextNode(r),e[Lt]=t,t.stateNode=e}return qe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[Lt]=t}else pc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),a=!1}else a=Tx(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Qr(t),t):(Qr(t),null)}if(Qr(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tu(t,t.updateQueue),qe(t),null;case 4:return Ks(),e===null&&Y0(t.stateNode.containerInfo),qe(t),null;case 10:return na(t.type),qe(t),null;case 19:if(Ct(pt),a=t.memoizedState,a===null)return qe(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ii(a,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wd(e),o!==null){for(t.flags|=128,Ii(a,!1),e=o.updateQueue,t.updateQueue=e,tu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)vN(n,e),n=n.sibling;return Ge(pt,pt.current&1|2),t.child}e=e.sibling}a.tail!==null&&xr()>Cd&&(t.flags|=128,r=!0,Ii(a,!1),t.lanes=4194304)}else{if(!r)if(e=wd(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tu(t,e),Ii(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ke)return qe(t),null}else 2*xr()-a.renderingStartTime>Cd&&n!==536870912&&(t.flags|=128,r=!0,Ii(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xr(),t.sibling=null,e=pt.current,Ge(pt,r?e&1|2:e&1),t):(qe(t),null);case 22:case 23:return Qr(t),C0(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),n=t.updateQueue,n!==null&&tu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Ct(Ro),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),na(mt),qe(t),null;case 25:return null;case 30:return null}throw Error(X(156,t.tag))}function R3(e,t){switch(S0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(mt),Ks(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return cd(t),null;case 13:if(Qr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));pc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(pt),null;case 4:return Ks(),null;case 10:return na(t.type),null;case 22:case 23:return Qr(t),C0(),e!==null&&Ct(Ro),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return na(mt),null;case 25:return null;default:return null}}function vE(e,t){switch(S0(t),t.tag){case 3:na(mt),Ks();break;case 26:case 27:case 5:cd(t);break;case 4:Ks();break;case 13:Qr(t);break;case 19:Ct(pt);break;case 10:na(t.type);break;case 22:case 23:Qr(t),C0(),e!==null&&Ct(Ro);break;case 24:na(mt)}}function wc(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==a)}}catch(i){Le(t,t.return,i)}}function no(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var o=a.next;r=o;do{if((r.tag&e)===e){var s=r.inst,i=s.destroy;if(i!==void 0){s.destroy=void 0,a=t;var l=n,u=i;try{u()}catch(f){Le(a,l,f)}}}r=r.next}while(r!==o)}}catch(f){Le(t,t.return,f)}}function xE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{_N(t,n)}catch(r){Le(e,e.return,r)}}}function bE(e,t,n){n.props=Lo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Le(e,t,r)}}function vl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){Le(e,t,a)}}function pr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Le(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Le(e,t,a)}else n.current=null}function wE(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Le(e,e.return,a)}}function Xh(e,t,n){try{var r=e.stateNode;K3(r,e.type,n,t),r[tn]=t}catch(a){Le(e,e.return,a)}}function SE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&io(e.type)||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&io(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mf));else if(r!==4&&(r===27&&io(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Dp(e,t,n),e=e.sibling;e!==null;)Dp(e,t,n),e=e.sibling}function _d(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&io(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(_d(e,t,n),e=e.sibling;e!==null;)_d(e,t,n),e=e.sibling}function NE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Dt(t,r,n),t[Lt]=e,t[tn]=n}catch(o){Le(e,e.return,o)}}var Vr=!1,ot=!1,Kh=!1,eb=typeof WeakSet=="function"?WeakSet:Set,xt=null;function j3(e,t){if(e=e.containerInfo,Hp=Od,e=uN(e),y0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,l=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var m;d!==n||a!==0&&d.nodeType!==3||(i=s+a),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===a&&(i=s),h===o&&++f===r&&(l=s),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=i===-1||l===-1?null:{start:i,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fp={focusedElem:e,selectionRange:n},Od=!1,xt=t;xt!==null;)if(t=xt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,xt=e;else for(;xt!==null;){switch(t=xt,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var x=Lo(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(x,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){Le(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Gp(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(X(163))}if(e=t.sibling,e!==null){e.return=t.return,xt=e;break}xt=t.return}}function EE(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ea(e,n),r&4&&wc(5,n);break;case 1:if(Ea(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Le(n,n.return,s)}else{var a=Lo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Le(n,n.return,s)}}r&64&&xE(n),r&512&&vl(n,n.return);break;case 3:if(Ea(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{_N(e,t)}catch(s){Le(n,n.return,s)}}break;case 27:t===null&&r&4&&NE(n);case 26:case 5:Ea(e,n),t===null&&r&4&&wE(n),r&512&&vl(n,n.return);break;case 12:Ea(e,n);break;case 13:Ea(e,n),r&4&&AE(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=B3.bind(null,n),a4(e,n))));break;case 22:if(r=n.memoizedState!==null||Vr,!r){t=t!==null&&t.memoizedState!==null||ot,a=Vr;var o=ot;Vr=r,(ot=t)&&!o?Aa(e,n,(n.subtreeFlags&8772)!==0):Ea(e,n),Vr=a,ot=o}break;case 30:break;default:Ea(e,n)}}function _E(e){var t=e.alternate;t!==null&&(e.alternate=null,_E(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&d0(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Qt=!1;function Fr(e,t,n){for(n=n.child;n!==null;)CE(e,t,n),n=n.sibling}function CE(e,t,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(uc,n)}catch{}switch(n.tag){case 26:ot||pr(n,t),Fr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ot||pr(n,t);var r=Fe,a=Qt;io(n.type)&&(Fe=n.stateNode,Qt=!1),Fr(e,t,n),Sl(n.stateNode),Fe=r,Qt=a;break;case 5:ot||pr(n,t);case 6:if(r=Fe,a=Qt,Fe=null,Fr(e,t,n),Fe=r,Qt=a,Fe!==null)if(Qt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(o){Le(n,t,o)}else try{Fe.removeChild(n.stateNode)}catch(o){Le(n,t,o)}break;case 18:Fe!==null&&(Qt?(e=Fe,fb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Il(e)):fb(Fe,n.stateNode));break;case 4:r=Fe,a=Qt,Fe=n.stateNode.containerInfo,Qt=!0,Fr(e,t,n),Fe=r,Qt=a;break;case 0:case 11:case 14:case 15:ot||no(2,n,t),ot||no(4,n,t),Fr(e,t,n);break;case 1:ot||(pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&bE(n,t,r)),Fr(e,t,n);break;case 21:Fr(e,t,n);break;case 22:ot=(r=ot)||n.memoizedState!==null,Fr(e,t,n),ot=r;break;default:Fr(e,t,n)}}function AE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Il(e)}catch(n){Le(t,t.return,n)}}function M3(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new eb),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new eb),t;default:throw Error(X(435,e.tag))}}function Qh(e,t){var n=M3(e);t.forEach(function(r){var a=H3.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}function un(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 27:if(io(i.type)){Fe=i.stateNode,Qt=!1;break e}break;case 5:Fe=i.stateNode,Qt=!1;break e;case 3:case 4:Fe=i.stateNode.containerInfo,Qt=!0;break e}i=i.return}if(Fe===null)throw Error(X(160));CE(o,s,a),Fe=null,Qt=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)kE(t,e),t=t.sibling}var Xn=null;function kE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(t,e),dn(e),r&4&&(no(3,e,e.return),wc(3,e),no(5,e,e.return));break;case 1:un(t,e),dn(e),r&512&&(ot||n===null||pr(n,n.return)),r&64&&Vr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Xn;if(un(t,e),dn(e),r&512&&(ot||n===null||pr(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":o=a.getElementsByTagName("title")[0],(!o||o[hc]||o[Lt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),Dt(o,r,n),o[Lt]=e,bt(o),r=o;break e;case"link":var s=yb("link","href",a).get(r+(n.href||""));if(s){for(var i=0;i<s.length;i++)if(o=s[i],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(i,1);break t}}o=a.createElement(r),Dt(o,r,n),a.head.appendChild(o);break;case"meta":if(s=yb("meta","content",a).get(r+(n.content||""))){for(i=0;i<s.length;i++)if(o=s[i],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(i,1);break t}}o=a.createElement(r),Dt(o,r,n),a.head.appendChild(o);break;default:throw Error(X(468,r))}o[Lt]=e,bt(o),r=o}e.stateNode=r}else vb(a,e.type,e.stateNode);else e.stateNode=gb(a,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?vb(a,e.type,e.stateNode):gb(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Xh(e,e.memoizedProps,n.memoizedProps)}break;case 27:un(t,e),dn(e),r&512&&(ot||n===null||pr(n,n.return)),n!==null&&r&4&&Xh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(un(t,e),dn(e),r&512&&(ot||n===null||pr(n,n.return)),e.flags&32){a=e.stateNode;try{Js(a,"")}catch(m){Le(e,e.return,m)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Xh(e,a,n!==null?n.memoizedProps:a)),r&1024&&(Kh=!0);break;case 6:if(un(t,e),dn(e),r&4){if(e.stateNode===null)throw Error(X(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Le(e,e.return,m)}}break;case 3:if(Yu=null,a=Xn,Xn=Md(t.containerInfo),un(t,e),Xn=a,dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(t.containerInfo)}catch(m){Le(e,e.return,m)}Kh&&(Kh=!1,TE(e));break;case 4:r=Xn,Xn=Md(e.stateNode.containerInfo),un(t,e),dn(e),Xn=r;break;case 12:un(t,e),dn(e);break;case 13:un(t,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(G0=xr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Qh(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Vr,f=ot;if(Vr=u||a,ot=f||l,un(t,e),ot=f,Vr=u,dn(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Vr||ot||xo(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{i=l.stateNode;var d=l.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;i.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){Le(l,l.return,m)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(m){Le(l,l.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Qh(e,n))));break;case 19:un(t,e),dn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Qh(e,r)));break;case 30:break;case 21:break;default:un(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(SE(r)){n=r;break}r=r.return}if(n==null)throw Error(X(160));switch(n.tag){case 27:var a=n.stateNode,o=Wh(e);_d(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Js(s,""),n.flags&=-33);var i=Wh(e);_d(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Wh(e);Dp(e,u,l);break;default:throw Error(X(161))}}catch(f){Le(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;TE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ea(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)EE(e,t.alternate,t),t=t.sibling}function xo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:no(4,t,t.return),xo(t);break;case 1:pr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&bE(t,t.return,n),xo(t);break;case 27:Sl(t.stateNode);case 26:case 5:pr(t,t.return),xo(t);break;case 22:t.memoizedState===null&&xo(t);break;case 30:xo(t);break;default:xo(t)}e=e.sibling}}function Aa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Aa(a,o,n),wc(4,o);break;case 1:if(Aa(a,o,n),r=o,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Le(r,r.return,u)}if(r=o,a=r.updateQueue,a!==null){var i=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(l!==null)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)EN(l[a],i)}catch(u){Le(r,r.return,u)}}n&&s&64&&xE(o),vl(o,o.return);break;case 27:NE(o);case 26:case 5:Aa(a,o,n),n&&r===null&&s&4&&wE(o),vl(o,o.return);break;case 12:Aa(a,o,n);break;case 13:Aa(a,o,n),n&&s&4&&AE(a,o);break;case 22:o.memoizedState===null&&Aa(a,o,n),vl(o,o.return);break;case 30:break;default:Aa(a,o,n)}t=t.sibling}}function B0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&yc(n))}function H0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yc(e))}function ur(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)RE(e,t,n,r),t=t.sibling}function RE(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ur(e,t,n,r),a&2048&&wc(9,t);break;case 1:ur(e,t,n,r);break;case 3:ur(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yc(e)));break;case 12:if(a&2048){ur(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,i=o.onPostCommit;typeof i=="function"&&i(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Le(t,t.return,l)}}else ur(e,t,n,r);break;case 13:ur(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,t.memoizedState!==null?o._visibility&2?ur(e,t,n,r):xl(e,t):o._visibility&2?ur(e,t,n,r):(o._visibility|=2,ps(e,t,n,r,(t.subtreeFlags&10256)!==0)),a&2048&&B0(s,t);break;case 24:ur(e,t,n,r),a&2048&&H0(t.alternate,t);break;default:ur(e,t,n,r)}}function ps(e,t,n,r,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,s=t,i=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:ps(o,s,i,l,a),wc(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?ps(o,s,i,l,a):xl(o,s):(f._visibility|=2,ps(o,s,i,l,a)),a&&u&2048&&B0(s.alternate,s);break;case 24:ps(o,s,i,l,a),a&&u&2048&&H0(s.alternate,s);break;default:ps(o,s,i,l,a)}t=t.sibling}}function xl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:xl(n,r),a&2048&&B0(r.alternate,r);break;case 24:xl(n,r),a&2048&&H0(r.alternate,r);break;default:xl(n,r)}t=t.sibling}}var tl=8192;function ns(e){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)jE(e),e=e.sibling}function jE(e){switch(e.tag){case 26:ns(e),e.flags&tl&&e.memoizedState!==null&&y4(Xn,e.memoizedState,e.memoizedProps);break;case 5:ns(e);break;case 3:case 4:var t=Xn;Xn=Md(e.stateNode.containerInfo),ns(e),Xn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=tl,tl=16777216,ns(e),tl=t):ns(e));break;default:ns(e)}}function ME(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];xt=r,zE(r,e)}ME(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)DE(e),e=e.sibling}function DE(e){switch(e.tag){case 0:case 11:case 15:Bi(e),e.flags&2048&&no(9,e,e.return);break;case 3:Bi(e);break;case 12:Bi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vu(e)):Bi(e);break;default:Bi(e)}}function Vu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];xt=r,zE(r,e)}ME(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:no(8,t,t.return),Vu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vu(t));break;default:Vu(t)}e=e.sibling}}function zE(e,t){for(;xt!==null;){var n=xt;switch(n.tag){case 0:case 11:case 15:no(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:yc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,xt=r;else e:for(n=e;xt!==null;){r=xt;var a=r.sibling,o=r.return;if(_E(r),r===n){xt=null;break e}if(a!==null){a.return=o,xt=a;break e}xt=o}}}var D3={getCacheForType:function(e){var t=It(mt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},z3=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ie=null,Se=null,Ae=0,ze=0,hn=null,Fa=!1,wi=!1,F0=!1,ua=0,tt=0,ro=0,jo=0,U0=0,Pn=0,ai=0,bl=null,Jt=null,zp=!1,G0=0,Cd=1/0,Ad=null,Xa=null,Mt=0,Wa=null,oi=null,Hs=0,Op=0,$p=null,OE=null,wl=0,Pp=null;function wn(){if(Oe&2&&Ae!==0)return Ae&-Ae;if(ce.T!==null){var e=ei;return e!==0?e:Z0()}return ZS()}function $E(){Pn===0&&(Pn=!(Ae&536870912)||ke?FS():536870912);var e=Bn.current;return e!==null&&(e.flags|=32),Pn}function Sn(e,t,n){(e===Ie&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(si(e,0),Ua(e,Ae,Pn,!1)),fc(e,n),(!(Oe&2)||e!==Ie)&&(e===Ie&&(!(Oe&2)&&(jo|=n),tt===4&&Ua(e,Ae,Pn,!1)),Ar(e))}function PE(e,t,n){if(Oe&6)throw Error(X(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||dc(e,t),a=r?P3(e,t):Jh(e,t,!0),o=r;do{if(a===0){wi&&!r&&Ua(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!O3(n)){a=Jh(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var i=e;a=bl;var l=i.current.memoizedState.isDehydrated;if(l&&(si(i,s).flags|=256),s=Jh(i,s,!1),s!==2){if(F0&&!l){i.errorRecoveryDisabledLanes|=o,jo|=o,a=4;break e}o=Jt,Jt=a,o!==null&&(Jt===null?Jt=o:Jt.push.apply(Jt,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){si(e,0),Ua(e,t,0,!0);break}e:{switch(r=e,o=a,o){case 0:case 1:throw Error(X(345));case 4:if((t&4194048)!==t)break;case 6:Ua(r,t,Pn,!Fa);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(X(329))}if((t&62914560)===t&&(a=G0+300-xr(),10<a)){if(Ua(r,t,Pn,!Fa),xf(r,0,!0)!==0)break e;r.timeoutHandle=n_(tb.bind(null,r,n,Jt,Ad,zp,t,Pn,jo,ai,Fa,o,2,-0,0),a);break e}tb(r,n,Jt,Ad,zp,t,Pn,jo,ai,Fa,o,0,-0,0)}}break}while(!0);Ar(e)}function tb(e,t,n,r,a,o,s,i,l,u,f,d,h,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:g4},jE(t),d=v4(),d!==null)){e.cancelPendingCommit=d(rb.bind(null,e,t,o,n,r,a,s,i,l,f,1,h,m)),Ua(e,o,s,!u);return}rb(e,t,o,n,r,a,s,i,l)}function O3(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!_n(o(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ua(e,t,n,r){t&=~U0,t&=~jo,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-bn(a),s=1<<o;r[o]=-1,a&=~s}n!==0&&GS(e,n,t)}function Tf(){return Oe&6?!0:(Sc(0),!1)}function V0(){if(Se!==null){if(ze===0)var e=Se.return;else e=Se,Kr=Wo=null,j0(e),Bs=null,Ml=0,e=Se;for(;e!==null;)vE(e.alternate,e),e=e.return;Se=null}}function si(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,J3(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),V0(),Ie=e,Se=n=ta(e.current,null),Ae=t,ze=0,hn=null,Fa=!1,wi=dc(e,t),F0=!1,ai=Pn=U0=jo=ro=tt=0,Jt=bl=null,zp=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-bn(r),o=1<<a;t|=e[a],r&=~o}return ua=t,Nf(),n}function LE(e,t){ve=null,ce.H=bd,t===vc||t===_f?(t=Dx(),ze=3):t===SN?(t=Dx(),ze=4):ze=t===fE?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,Se===null&&(tt=1,Nd(e,$n(t,e.current)))}function IE(){var e=ce.H;return ce.H=bd,e===null?bd:e}function BE(){var e=ce.A;return ce.A=D3,e}function Lp(){tt=4,Fa||(Ae&4194048)!==Ae&&Bn.current!==null||(wi=!0),!(ro&134217727)&&!(jo&134217727)||Ie===null||Ua(Ie,Ae,Pn,!1)}function Jh(e,t,n){var r=Oe;Oe|=2;var a=IE(),o=BE();(Ie!==e||Ae!==t)&&(Ad=null,si(e,t)),t=!1;var s=tt;e:do try{if(ze!==0&&Se!==null){var i=Se,l=hn;switch(ze){case 8:V0(),s=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(t=!0);var u=ze;if(ze=0,hn=null,js(e,i,l,u),n&&wi){s=0;break e}break;default:u=ze,ze=0,hn=null,js(e,i,l,u)}}$3(),s=tt;break}catch(f){LE(e,f)}while(!0);return t&&e.shellSuspendCounter++,Kr=Wo=null,Oe=r,ce.H=a,ce.A=o,Se===null&&(Ie=null,Ae=0,Nf()),s}function $3(){for(;Se!==null;)HE(Se)}function P3(e,t){var n=Oe;Oe|=2;var r=IE(),a=BE();Ie!==e||Ae!==t?(Ad=null,Cd=xr()+500,si(e,t)):wi=dc(e,t);e:do try{if(ze!==0&&Se!==null){t=Se;var o=hn;t:switch(ze){case 1:ze=0,hn=null,js(e,t,o,1);break;case 2:case 9:if(Mx(o)){ze=0,hn=null,nb(t);break}t=function(){ze!==2&&ze!==9||Ie!==e||(ze=7),Ar(e)},o.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Mx(o)?(ze=0,hn=null,nb(t)):(ze=0,hn=null,js(e,t,o,7));break;case 5:var s=null;switch(Se.tag){case 26:s=Se.memoizedState;case 5:case 27:var i=Se;if(!s||s_(s)){ze=0,hn=null;var l=i.sibling;if(l!==null)Se=l;else{var u=i.return;u!==null?(Se=u,Rf(u)):Se=null}break t}}ze=0,hn=null,js(e,t,o,5);break;case 6:ze=0,hn=null,js(e,t,o,6);break;case 8:V0(),tt=6;break e;default:throw Error(X(462))}}L3();break}catch(f){LE(e,f)}while(!0);return Kr=Wo=null,ce.H=r,ce.A=a,Oe=n,Se!==null?0:(Ie=null,Ae=0,Nf(),tt)}function L3(){for(;Se!==null&&!sD();)HE(Se)}function HE(e){var t=yE(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?Rf(e):Se=t}function nb(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xx(n,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Xx(n,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:j0(t);default:vE(n,t),t=Se=vN(t,ua),t=yE(n,t,ua)}e.memoizedProps=e.pendingProps,t===null?Rf(e):Se=t}function js(e,t,n,r){Kr=Wo=null,j0(t),Bs=null,Ml=0;var a=t.return;try{if(A3(e,a,t,n,Ae)){tt=1,Nd(e,$n(n,e.current)),Se=null;return}}catch(o){if(a!==null)throw Se=a,o;tt=1,Nd(e,$n(n,e.current)),Se=null;return}t.flags&32768?(ke||r===1?e=!0:wi||Ae&536870912?e=!1:(Fa=e=!0,(r===2||r===9||r===3||r===6)&&(r=Bn.current,r!==null&&r.tag===13&&(r.flags|=16384))),FE(t,e)):Rf(t)}function Rf(e){var t=e;do{if(t.flags&32768){FE(t,Fa);return}e=t.return;var n=T3(t.alternate,t,ua);if(n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);tt===0&&(tt=5)}function FE(e,t){do{var n=R3(e.alternate,e);if(n!==null){n.flags&=32767,Se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=n}while(e!==null);tt=6,Se=null}function rb(e,t,n,r,a,o,s,i,l){e.cancelPendingCommit=null;do jf();while(Mt!==0);if(Oe&6)throw Error(X(327));if(t!==null){if(t===e.current)throw Error(X(177));if(o=t.lanes|t.childLanes,o|=v0,gD(e,n,o,s,i,l),e===Ie&&(Se=Ie=null,Ae=0),oi=t,Wa=e,Hs=n,Op=o,$p=a,OE=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,F3(ud,function(){return YE(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=ce.T,ce.T=null,a=Te.p,Te.p=2,s=Oe,Oe|=4;try{j3(e,t,n)}finally{Oe=s,Te.p=a,ce.T=r}}Mt=1,UE(),GE(),VE()}}function UE(){if(Mt===1){Mt=0;var e=Wa,t=oi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ce.T,ce.T=null;var r=Te.p;Te.p=2;var a=Oe;Oe|=4;try{kE(t,e);var o=Fp,s=uN(e.containerInfo),i=o.focusedElem,l=o.selectionRange;if(s!==i&&i&&i.ownerDocument&&cN(i.ownerDocument.documentElement,i)){if(l!==null&&y0(i)){var u=l.start,f=l.end;if(f===void 0&&(f=u),"selectionStart"in i)i.selectionStart=u,i.selectionEnd=Math.min(f,i.value.length);else{var d=i.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),x=i.textContent.length,b=Math.min(l.start,x),S=l.end===void 0?b:Math.min(l.end,x);!m.extend&&b>S&&(s=S,S=b,b=s);var y=Ex(i,b),g=Ex(i,S);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var v=d.createRange();v.setStart(y.node,y.offset),m.removeAllRanges(),b>S?(m.addRange(v),m.extend(g.node,g.offset)):(v.setEnd(g.node,g.offset),m.addRange(v))}}}}for(d=[],m=i;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<d.length;i++){var w=d[i];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Od=!!Hp,Fp=Hp=null}finally{Oe=a,Te.p=r,ce.T=n}}e.current=t,Mt=2}}function GE(){if(Mt===2){Mt=0;var e=Wa,t=oi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ce.T,ce.T=null;var r=Te.p;Te.p=2;var a=Oe;Oe|=4;try{EE(e,t.alternate,t)}finally{Oe=a,Te.p=r,ce.T=n}}Mt=3}}function VE(){if(Mt===4||Mt===3){Mt=0,iD();var e=Wa,t=oi,n=Hs,r=OE;t.subtreeFlags&10256||t.flags&10256?Mt=5:(Mt=0,oi=Wa=null,ZE(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Xa=null),u0(n),t=t.stateNode,xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(uc,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=ce.T,a=Te.p,Te.p=2,ce.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var i=r[s];o(i.value,{componentStack:i.stack})}}finally{ce.T=t,Te.p=a}}Hs&3&&jf(),Ar(e),a=e.pendingLanes,n&4194090&&a&42?e===Pp?wl++:(wl=0,Pp=e):wl=0,Sc(0)}}function ZE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yc(t)))}function jf(e){return UE(),GE(),VE(),YE()}function YE(){if(Mt!==5)return!1;var e=Wa,t=Op;Op=0;var n=u0(Hs),r=ce.T,a=Te.p;try{Te.p=32>n?32:n,ce.T=null,n=$p,$p=null;var o=Wa,s=Hs;if(Mt=0,oi=Wa=null,Hs=0,Oe&6)throw Error(X(331));var i=Oe;if(Oe|=4,DE(o.current),RE(o,o.current,s,n),Oe=i,Sc(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(uc,o)}catch{}return!0}finally{Te.p=a,ce.T=r,ZE(e,t)}}function ab(e,t,n){t=$n(n,t),t=Rp(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(fc(e,2),Ar(e))}function Le(e,t,n){if(e.tag===3)ab(e,e,n);else for(;t!==null;){if(t.tag===3){ab(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xa===null||!Xa.has(r))){e=$n(n,e),n=uE(2),r=qa(t,n,2),r!==null&&(dE(n,r,t,e),fc(r,2),Ar(r));break}}t=t.return}}function em(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new z3;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(F0=!0,a.add(n),e=I3.bind(null,e,t,n),t.then(e,e))}function I3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ie===e&&(Ae&n)===n&&(tt===4||tt===3&&(Ae&62914560)===Ae&&300>xr()-G0?!(Oe&2)&&si(e,0):U0|=n,ai===Ae&&(ai=0)),Ar(e)}function qE(e,t){t===0&&(t=US()),e=bi(e,t),e!==null&&(fc(e,t),Ar(e))}function B3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qE(e,n)}function H3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(X(314))}r!==null&&r.delete(t),qE(e,n)}function F3(e,t){return l0(e,t)}var kd=null,gs=null,Ip=!1,Td=!1,tm=!1,Mo=0;function Ar(e){e!==gs&&e.next===null&&(gs===null?kd=gs=e:gs=gs.next=e),Td=!0,Ip||(Ip=!0,G3())}function Sc(e,t){if(!tm&&Td){tm=!0;do for(var n=!1,r=kd;r!==null;){if(e!==0){var a=r.pendingLanes;if(a===0)var o=0;else{var s=r.suspendedLanes,i=r.pingedLanes;o=(1<<31-bn(42|e)+1)-1,o&=a&~(s&~i),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,ob(r,o))}else o=Ae,o=xf(r,r===Ie?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||dc(r,o)||(n=!0,ob(r,o));r=r.next}while(n);tm=!1}}function U3(){XE()}function XE(){Td=Ip=!1;var e=0;Mo!==0&&(Q3()&&(e=Mo),Mo=0);for(var t=xr(),n=null,r=kd;r!==null;){var a=r.next,o=WE(r,t);o===0?(r.next=null,n===null?kd=a:n.next=a,a===null&&(gs=n)):(n=r,(e!==0||o&3)&&(Td=!0)),r=a}Sc(e)}function WE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var s=31-bn(o),i=1<<s,l=a[s];l===-1?(!(i&n)||i&r)&&(a[s]=pD(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}if(t=Ie,n=Ae,n=xf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ah(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||dc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ah(r),u0(n)){case 2:case 8:n=BS;break;case 32:n=ud;break;case 268435456:n=HS;break;default:n=ud}return r=KE.bind(null,e),n=l0(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ah(r),e.callbackPriority=2,e.callbackNode=null,2}function KE(e,t){if(Mt!==0&&Mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(jf()&&e.callbackNode!==n)return null;var r=Ae;return r=xf(e,e===Ie?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(PE(e,r,t),WE(e,xr()),e.callbackNode!=null&&e.callbackNode===n?KE.bind(null,e):null)}function ob(e,t){if(jf())return null;PE(e,t,!0)}function G3(){e4(function(){Oe&6?l0(IS,U3):XE()})}function Z0(){return Mo===0&&(Mo=FS()),Mo}function sb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pu(""+e)}function ib(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function V3(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var o=sb((a[tn]||null).action),s=r.submitter;s&&(t=(t=s[tn]||null)?sb(t.formAction):s.getAttribute("formAction"),t!==null&&(o=t,s=null));var i=new bf("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mo!==0){var l=s?ib(a,s):new FormData(a);kp(n,{pending:!0,data:l,method:a.method,action:o},null,l)}}else typeof o=="function"&&(i.preventDefault(),l=s?ib(a,s):new FormData(a),kp(n,{pending:!0,data:l,method:a.method,action:o},o,l))},currentTarget:a}]})}}for(var nm=0;nm<gp.length;nm++){var rm=gp[nm],Z3=rm.toLowerCase(),Y3=rm[0].toUpperCase()+rm.slice(1);rr(Z3,"on"+Y3)}rr(fN,"onAnimationEnd");rr(hN,"onAnimationIteration");rr(mN,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(u3,"onTransitionRun");rr(d3,"onTransitionStart");rr(f3,"onTransitionCancel");rr(pN,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function QE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(f){Sd(f)}a.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(i=r[s],l=i.instance,u=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(f){Sd(f)}a.currentTarget=null,o=l}}}}function be(e,t){var n=t[cp];n===void 0&&(n=t[cp]=new Set);var r=e+"__bubble";n.has(r)||(JE(t,e,2,!1),n.add(r))}function am(e,t,n){var r=0;t&&(r|=4),JE(n,e,r,t)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Y0(e){if(!e[nu]){e[nu]=!0,YS.forEach(function(n){n!=="selectionchange"&&(q3.has(n)||am(n,!1,e),am(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nu]||(t[nu]=!0,am("selectionchange",!1,t))}}function JE(e,t,n,r){switch(d_(t)){case 2:var a=w4;break;case 8:a=S4;break;default:a=K0}n=a.bind(null,t,n,e),a=void 0,!hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function om(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===a)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;i!==null;){if(s=Ss(i),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=o=s;continue e}i=i.parentNode}}r=r.return}tN(function(){var u=o,f=h0(n),d=[];e:{var h=gN.get(e);if(h!==void 0){var m=bf,x=e;switch(e){case"keypress":if(Iu(n)===0)break e;case"keydown":case"keyup":m=FD;break;case"focusin":x="focus",m=Oh;break;case"focusout":x="blur",m=Oh;break;case"beforeblur":case"afterblur":m=Oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=VD;break;case fN:case hN:case mN:m=DD;break;case pN:m=YD;break;case"scroll":case"scrollend":m=kD;break;case"wheel":m=XD;break;case"copy":case"cut":case"paste":m=OD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gx;break;case"toggle":case"beforetoggle":m=KD}var b=(t&4)!==0,S=!b&&(e==="scroll"||e==="scrollend"),y=b?h!==null?h+"Capture":null:h;b=[];for(var g=u,v;g!==null;){var w=g;if(v=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||v===null||y===null||(w=Al(g,y),w!=null&&b.push(zl(g,w,v))),S)break;g=g.return}0<b.length&&(h=new m(h,x,null,n,f),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==fp&&(x=n.relatedTarget||n.fromElement)&&(Ss(x)||x[vi]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?Ss(x):null,x!==null&&(S=cc(x),b=x.tag,x!==S||b!==5&&b!==27&&b!==6)&&(x=null)):(m=null,x=u),m!==x)){if(b=mx,w="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=gx,w="onPointerLeave",y="onPointerEnter",g="pointer"),S=m==null?h:el(m),v=x==null?h:el(x),h=new b(w,g+"leave",m,n,f),h.target=S,h.relatedTarget=v,w=null,Ss(f)===u&&(b=new b(y,g+"enter",x,n,f),b.target=v,b.relatedTarget=S,w=b),S=w,m&&x)t:{for(b=m,y=x,g=0,v=b;v;v=rs(v))g++;for(v=0,w=y;w;w=rs(w))v++;for(;0<g-v;)b=rs(b),g--;for(;0<v-g;)y=rs(y),v--;for(;g--;){if(b===y||y!==null&&b===y.alternate)break t;b=rs(b),y=rs(y)}b=null}else b=null;m!==null&&lb(d,h,m,b,!1),x!==null&&S!==null&&lb(d,S,x,b,!0)}}e:{if(h=u?el(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=bx;else if(xx(h))if(iN)E=i3;else{E=o3;var A=a3}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&f0(u.elementType)&&(E=bx):E=s3;if(E&&(E=E(e,u))){sN(d,E,n,f);break e}A&&A(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&dp(h,"number",h.value)}switch(A=u?el(u):window,e){case"focusin":(xx(A)||A.contentEditable==="true")&&(_s=A,mp=u,dl=null);break;case"focusout":dl=mp=_s=null;break;case"mousedown":pp=!0;break;case"contextmenu":case"mouseup":case"dragend":pp=!1,_x(d,n,f);break;case"selectionchange":if(c3)break;case"keydown":case"keyup":_x(d,n,f)}var N;if(g0)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Es?aN(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(rN&&n.locale!=="ko"&&(Es||_!=="onCompositionStart"?_==="onCompositionEnd"&&Es&&(N=nN()):(Ha=f,m0="value"in Ha?Ha.value:Ha.textContent,Es=!0)),A=Rd(u,_),0<A.length&&(_=new px(_,e,null,n,f),d.push({event:_,listeners:A}),N?_.data=N:(N=oN(n),N!==null&&(_.data=N)))),(N=JD?e3(e,n):t3(e,n))&&(_=Rd(u,"onBeforeInput"),0<_.length&&(A=new px("onBeforeInput","beforeinput",null,n,f),d.push({event:A,listeners:_}),A.data=N)),V3(d,e,u,n,f)}QE(d,t)})}function zl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rd(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||o===null||(a=Al(e,n),a!=null&&r.unshift(zl(e,a,o)),a=Al(e,t),a!=null&&r.push(zl(e,a,o))),e.tag===3)return r;e=e.return}return[]}function rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lb(e,t,n,r,a){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(i=i.tag,l!==null&&l===r)break;i!==5&&i!==26&&i!==27||u===null||(l=u,a?(u=Al(n,o),u!=null&&s.unshift(zl(n,u,l))):a||(u=Al(n,o),u!=null&&s.push(zl(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var X3=/\r\n?/g,W3=/\u0000|\uFFFD/g;function cb(e){return(typeof e=="string"?e:""+e).replace(X3,`
`).replace(W3,"")}function e_(e,t){return t=cb(t),cb(e)===t}function Mf(){}function $e(e,t,n,r,a,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Js(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Js(e,""+r);break;case"className":Xc(e,"class",r);break;case"tabIndex":Xc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xc(e,n,r);break;case"style":eN(e,r,o);break;case"data":if(t!=="object"){Xc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Pu(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&$e(e,t,"name",a.name,a,null),$e(e,t,"formEncType",a.formEncType,a,null),$e(e,t,"formMethod",a.formMethod,a,null),$e(e,t,"formTarget",a.formTarget,a,null)):($e(e,t,"encType",a.encType,a,null),$e(e,t,"method",a.method,a,null),$e(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Pu(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Mf);break;case"onScroll":r!=null&&be("scroll",e);break;case"onScrollEnd":r!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Pu(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":be("beforetoggle",e),be("toggle",e),$u(e,"popover",r);break;case"xlinkActuate":Br(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Br(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Br(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Br(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Br(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Br(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Br(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Br(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Br(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":$u(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=CD.get(n)||n,$u(e,n,r))}}function Bp(e,t,n,r,a,o){switch(n){case"style":eN(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Js(e,r):(typeof r=="number"||typeof r=="bigint")&&Js(e,""+r);break;case"onScroll":r!=null&&be("scroll",e);break;case"onScrollEnd":r!=null&&be("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),o=e[tn]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,a),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):$u(e,n,r)}}}function Dt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:$e(e,t,o,s,n,null)}}a&&$e(e,t,"srcSet",n.srcSet,n,null),r&&$e(e,t,"src",n.src,n,null);return;case"input":be("invalid",e);var i=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":a=f;break;case"type":s=f;break;case"checked":l=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":i=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(X(137,t));break;default:$e(e,t,r,f,n,null)}}KS(e,o,i,l,u,s,a,!1),dd(e);return;case"select":be("invalid",e),r=s=o=null;for(a in n)if(n.hasOwnProperty(a)&&(i=n[a],i!=null))switch(a){case"value":o=i;break;case"defaultValue":s=i;break;case"multiple":r=i;default:$e(e,t,a,i,n,null)}t=o,n=s,e.multiple=!!r,t!=null?Os(e,!!r,t,!1):n!=null&&Os(e,!!r,n,!0);return;case"textarea":be("invalid",e),o=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(i=n[s],i!=null))switch(s){case"value":r=i;break;case"defaultValue":a=i;break;case"children":o=i;break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(X(91));break;default:$e(e,t,s,i,n,null)}JS(e,r,a,o),dd(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:$e(e,t,l,r,n,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(r=0;r<Dl.length;r++)be(Dl[r],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:$e(e,t,u,r,n,null)}return;default:if(f0(t)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&Bp(e,t,f,r,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(r=n[i],r!=null&&$e(e,t,i,r,n,null))}function K3(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,i=null,l=null,u=null,f=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(m)||$e(e,t,m,null,r,d)}}for(var h in r){var m=r[h];if(d=n[h],r.hasOwnProperty(h)&&(m!=null||d!=null))switch(h){case"type":o=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":f=m;break;case"value":s=m;break;case"defaultValue":i=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(X(137,t));break;default:m!==d&&$e(e,t,h,m,r,d)}}up(e,s,i,l,u,f,o,a);return;case"select":m=s=i=h=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(o)||$e(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case"value":h=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:o!==l&&$e(e,t,a,o,r,l)}t=i,n=s,r=m,h!=null?Os(e,!!n,h,!1):!!r!=!!n&&(t!=null?Os(e,!!n,t,!0):Os(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null&&!r.hasOwnProperty(i))switch(i){case"value":break;case"children":break;default:$e(e,t,i,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(X(91));break;default:a!==o&&$e(e,t,s,a,r,o)}QS(e,h,m);return;case"option":for(var x in n)if(h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:$e(e,t,x,null,r,h)}for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:$e(e,t,l,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&$e(e,t,b,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(X(137,t));break;default:$e(e,t,u,h,r,m)}return;default:if(f0(t)){for(var S in n)h=n[S],n.hasOwnProperty(S)&&h!==void 0&&!r.hasOwnProperty(S)&&Bp(e,t,S,void 0,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h===void 0&&m===void 0||Bp(e,t,f,h,r,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&$e(e,t,y,null,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h==null&&m==null||$e(e,t,d,h,r,m)}var Hp=null,Fp=null;function jd(e){return e.nodeType===9?e:e.ownerDocument}function ub(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Up(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sm=null;function Q3(){var e=window.event;return e&&e.type==="popstate"?e===sm?!1:(sm=e,!0):(sm=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,J3=typeof clearTimeout=="function"?clearTimeout:void 0,db=typeof Promise=="function"?Promise:void 0,e4=typeof queueMicrotask=="function"?queueMicrotask:typeof db<"u"?function(e){return db.resolve(null).then(e).catch(t4)}:n_;function t4(e){setTimeout(function(){throw e})}function io(e){return e==="head"}function fb(e,t){var n=t,r=0,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(n&1&&Sl(s.documentElement),n&2&&Sl(s.body),n&4)for(n=s.head,Sl(n),s=n.firstChild;s;){var i=s.nextSibling,l=s.nodeName;s[hc]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=i}}if(a===0){e.removeChild(o),Il(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Il(t)}function Gp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Gp(n),d0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function n4(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[hc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function r4(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Kn(e.nextSibling),e===null))return null;return e}function Vp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function a4(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Zp=null;function hb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function r_(e,t,n){switch(t=jd(n),e){case"html":if(e=t.documentElement,!e)throw Error(X(452));return e;case"head":if(e=t.head,!e)throw Error(X(453));return e;case"body":if(e=t.body,!e)throw Error(X(454));return e;default:throw Error(X(451))}}function Sl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);d0(e)}var Hn=new Map,mb=new Set;function Md(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ya=Te.d;Te.d={f:o4,r:s4,D:i4,C:l4,L:c4,m:u4,X:f4,S:d4,M:h4};function o4(){var e=ya.f(),t=Tf();return e||t}function s4(e){var t=xi(e);t!==null&&t.tag===5&&t.type==="form"?WN(t):ya.r(e)}var Si=typeof document>"u"?null:document;function a_(e,t,n){var r=Si;if(r&&typeof t=="string"&&t){var a=On(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),mb.has(a)||(mb.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),Dt(t,"link",e),bt(t),r.head.appendChild(t)))}}function i4(e){ya.D(e),a_("dns-prefetch",e,null)}function l4(e,t){ya.C(e,t),a_("preconnect",e,t)}function c4(e,t,n){ya.L(e,t,n);var r=Si;if(r&&e&&t){var a='link[rel="preload"][as="'+On(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+On(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+On(n.imageSizes)+'"]')):a+='[href="'+On(e)+'"]';var o=a;switch(t){case"style":o=ii(e);break;case"script":o=Ni(e)}Hn.has(o)||(e=He({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Hn.set(o,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(Nc(o))||t==="script"&&r.querySelector(Ec(o))||(t=r.createElement("link"),Dt(t,"link",e),bt(t),r.head.appendChild(t)))}}function u4(e,t){ya.m(e,t);var n=Si;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+On(r)+'"][href="'+On(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ni(e)}if(!Hn.has(o)&&(e=He({rel:"modulepreload",href:e},t),Hn.set(o,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ec(o)))return}r=n.createElement("link"),Dt(r,"link",e),bt(r),n.head.appendChild(r)}}}function d4(e,t,n){ya.S(e,t,n);var r=Si;if(r&&e){var a=zs(r).hoistableStyles,o=ii(e);t=t||"default";var s=a.get(o);if(!s){var i={loading:0,preload:null};if(s=r.querySelector(Nc(o)))i.loading=5;else{e=He({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Hn.get(o))&&q0(e,n);var l=s=r.createElement("link");bt(l),Dt(l,"link",e),l._p=new Promise(function(u,f){l.onload=u,l.onerror=f}),l.addEventListener("load",function(){i.loading|=1}),l.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Zu(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:i},a.set(o,s)}}}function f4(e,t){ya.X(e,t);var n=Si;if(n&&e){var r=zs(n).hoistableScripts,a=Ni(e),o=r.get(a);o||(o=n.querySelector(Ec(a)),o||(e=He({src:e,async:!0},t),(t=Hn.get(a))&&X0(e,t),o=n.createElement("script"),bt(o),Dt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function h4(e,t){ya.M(e,t);var n=Si;if(n&&e){var r=zs(n).hoistableScripts,a=Ni(e),o=r.get(a);o||(o=n.querySelector(Ec(a)),o||(e=He({src:e,async:!0,type:"module"},t),(t=Hn.get(a))&&X0(e,t),o=n.createElement("script"),bt(o),Dt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function pb(e,t,n,r){var a=(a=Za.current)?Md(a):null;if(!a)throw Error(X(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ii(n.href),n=zs(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ii(n.href);var o=zs(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Nc(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Hn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Hn.set(e,n),o||m4(a,e,n,s.state))),t&&r===null)throw Error(X(528,""));return s}if(t&&r!==null)throw Error(X(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ni(n),n=zs(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,e))}}function ii(e){return'href="'+On(e)+'"'}function Nc(e){return'link[rel="stylesheet"]['+e+"]"}function o_(e){return He({},e,{"data-precedence":e.precedence,precedence:null})}function m4(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Dt(t,"link",n),bt(t),e.head.appendChild(t))}function Ni(e){return'[src="'+On(e)+'"]'}function Ec(e){return"script[async]"+e}function gb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+On(n.href)+'"]');if(r)return t.instance=r,bt(r),r;var a=He({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),bt(r),Dt(r,"style",a),Zu(r,n.precedence,e),t.instance=r;case"stylesheet":a=ii(n.href);var o=e.querySelector(Nc(a));if(o)return t.state.loading|=4,t.instance=o,bt(o),o;r=o_(n),(a=Hn.get(a))&&q0(r,a),o=(e.ownerDocument||e).createElement("link"),bt(o);var s=o;return s._p=new Promise(function(i,l){s.onload=i,s.onerror=l}),Dt(o,"link",r),t.state.loading|=4,Zu(o,n.precedence,e),t.instance=o;case"script":return o=Ni(n.src),(a=e.querySelector(Ec(o)))?(t.instance=a,bt(a),a):(r=n,(a=Hn.get(o))&&(r=He({},n),X0(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),bt(a),Dt(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(X(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Zu(r,n.precedence,e));return t.instance}function Zu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,s=0;s<r.length;s++){var i=r[s];if(i.dataset.precedence===t)o=i;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function q0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function X0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yu=null;function yb(e,t,n){if(Yu===null){var r=new Map,a=Yu=new Map;a.set(n,r)}else a=Yu,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[hc]||o[Lt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(t)||"";s=e+s;var i=r.get(s);i?i.push(o):r.set(s,[o])}}return r}function vb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function p4(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function s_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ol=null;function g4(){}function y4(e,t,n){if(Ol===null)throw Error(X(475));var r=Ol;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=ii(n.href),o=e.querySelector(Nc(a));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Dd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,bt(o);return}o=e.ownerDocument||e,n=o_(n),(a=Hn.get(a))&&q0(n,a),o=o.createElement("link"),bt(o);var s=o;s._p=new Promise(function(i,l){s.onload=i,s.onerror=l}),Dt(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Dd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function v4(){if(Ol===null)throw Error(X(475));var e=Ol;return e.stylesheets&&e.count===0&&Yp(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Yp(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Dd(){if(this.count--,this.count===0){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zd=null;function Yp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zd=new Map,t.forEach(x4,e),zd=null,Dd.call(e))}function x4(e,t){if(!(t.state.loading&4)){var n=zd.get(e);if(n)var r=n.get(null);else{n=new Map,zd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var s=a[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=t.instance,s=a.getAttribute("data-precedence"),o=n.get(s)||r,o===r&&n.set(null,a),n.set(s,a),this.count++,r=Dd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var $l={$$typeof:qr,Provider:null,Consumer:null,_currentValue:Co,_currentValue2:Co,_threadCount:0};function b4(e,t,n,r,a,o,s,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.hiddenUpdates=kh(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function i_(e,t,n,r,a,o,s,i,l,u,f,d){return e=new b4(e,t,n,s,i,l,u,d),t=1,o===!0&&(t|=24),o=vn(3,null,null,t),e.current=o,o.stateNode=e,t=N0(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},_0(o),e}function l_(e){return e?(e=ks,e):ks}function c_(e,t,n,r,a,o){a=l_(a),r.context===null?r.context=a:r.pendingContext=a,r=Ya(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=qa(e,r,t),n!==null&&(Sn(n,e,t),ml(n,e,t))}function xb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function W0(e,t){xb(e,t),(e=e.alternate)&&xb(e,t)}function u_(e){if(e.tag===13){var t=bi(e,67108864);t!==null&&Sn(t,e,67108864),W0(e,67108864)}}var Od=!0;function w4(e,t,n,r){var a=ce.T;ce.T=null;var o=Te.p;try{Te.p=2,K0(e,t,n,r)}finally{Te.p=o,ce.T=a}}function S4(e,t,n,r){var a=ce.T;ce.T=null;var o=Te.p;try{Te.p=8,K0(e,t,n,r)}finally{Te.p=o,ce.T=a}}function K0(e,t,n,r){if(Od){var a=qp(r);if(a===null)om(e,t,r,$d,n),bb(e,r);else if(E4(a,e,t,n,r))r.stopPropagation();else if(bb(e,r),t&4&&-1<N4.indexOf(e)){for(;a!==null;){var o=xi(a);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=yo(o.pendingLanes);if(s!==0){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var l=1<<31-bn(s);i.entanglements[1]|=l,s&=~l}Ar(o),!(Oe&6)&&(Cd=xr()+500,Sc(0))}}break;case 13:i=bi(o,2),i!==null&&Sn(i,o,2),Tf(),W0(o,2)}if(o=qp(r),o===null&&om(e,t,r,$d,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else om(e,t,r,null,n)}}function qp(e){return e=h0(e),Q0(e)}var $d=null;function Q0(e){if($d=null,e=Ss(e),e!==null){var t=cc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=OS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $d=e,null}function d_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lD()){case IS:return 2;case BS:return 8;case ud:case cD:return 32;case HS:return 268435456;default:return 32}default:return 32}}var Xp=!1,Ka=null,Qa=null,Ja=null,Pl=new Map,Ll=new Map,$a=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bb(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":Pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(t.pointerId)}}function Hi(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=xi(t),t!==null&&u_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function E4(e,t,n,r,a){switch(t){case"focusin":return Ka=Hi(Ka,e,t,n,r,a),!0;case"dragenter":return Qa=Hi(Qa,e,t,n,r,a),!0;case"mouseover":return Ja=Hi(Ja,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Pl.set(o,Hi(Pl.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ll.set(o,Hi(Ll.get(o)||null,e,t,n,r,a)),!0}return!1}function f_(e){var t=Ss(e.target);if(t!==null){var n=cc(t);if(n!==null){if(t=n.tag,t===13){if(t=OS(n),t!==null){e.blockedOn=t,yD(e.priority,function(){if(n.tag===13){var r=wn();r=c0(r);var a=bi(n,r);a!==null&&Sn(a,n,r),W0(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fp=r,n.target.dispatchEvent(r),fp=null}else return t=xi(n),t!==null&&u_(t),e.blockedOn=n,!1;t.shift()}return!0}function wb(e,t,n){qu(e)&&n.delete(t)}function _4(){Xp=!1,Ka!==null&&qu(Ka)&&(Ka=null),Qa!==null&&qu(Qa)&&(Qa=null),Ja!==null&&qu(Ja)&&(Ja=null),Pl.forEach(wb),Ll.forEach(wb)}function ru(e,t){e.blockedOn===t&&(e.blockedOn=null,Xp||(Xp=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,_4)))}var au=null;function Sb(e){au!==e&&(au=e,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,function(){au===e&&(au=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if(Q0(r||n)===null)continue;break}var o=xi(n);o!==null&&(e.splice(t,3),t-=3,kp(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Il(e){function t(l){return ru(l,e)}Ka!==null&&ru(Ka,e),Qa!==null&&ru(Qa,e),Ja!==null&&ru(Ja,e),Pl.forEach(t),Ll.forEach(t);for(var n=0;n<$a.length;n++){var r=$a[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<$a.length&&(n=$a[0],n.blockedOn===null);)f_(n),n.blockedOn===null&&$a.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],s=a[tn]||null;if(typeof o=="function")s||Sb(n);else if(s){var i=null;if(o&&o.hasAttribute("formAction")){if(a=o,s=o[tn]||null)i=s.formAction;else if(Q0(a)!==null)continue}else i=s.action;typeof i=="function"?n[r+1]=i:(n.splice(r,3),r-=3),Sb(n)}}}function J0(e){this._internalRoot=e}Df.prototype.render=J0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));var n=t.current,r=wn();c_(n,r,e,t,null,null)};Df.prototype.unmount=J0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;c_(e.current,2,null,e,null,null),Tf(),t[vi]=null}};function Df(e){this._internalRoot=e}Df.prototype.unstable_scheduleHydration=function(e){if(e){var t=ZS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$a.length&&t!==0&&t<$a[n].priority;n++);$a.splice(n,0,e),n===0&&f_(e)}};var Nb=DS.version;if(Nb!=="19.1.0")throw Error(X(527,Nb,"19.1.0"));Te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=tD(t),e=e!==null?$S(e):null,e=e===null?null:e.stateNode,e};var C4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{uc=ou.inject(C4),xn=ou}catch{}}yf.createRoot=function(e,t){if(!zS(e))throw Error(X(299));var n=!1,r="",a=iE,o=lE,s=cE,i=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(i=t.unstable_transitionCallbacks)),t=i_(e,1,!1,null,null,n,r,a,o,s,i,null),e[vi]=t.current,Y0(e),new J0(t)};yf.hydrateRoot=function(e,t,n){if(!zS(e))throw Error(X(299));var r=!1,a="",o=iE,s=lE,i=cE,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(i=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=i_(e,1,!0,t,n??null,r,a,o,s,i,l,u),t.context=l_(null),n=t.current,r=wn(),r=c0(r),a=Ya(r),a.callback=null,qa(n,a,r),n=r,t.current.lanes=n,fc(t,n),Ar(t),e[vi]=t.current,Y0(e),new Df(t)};yf.version="19.1.0";function h_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h_)}catch(e){console.error(e)}}h_(),AS.exports=yf;var A4=AS.exports;const zt={DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,DRAWER:202,HEADER:50,SIDEBAR:60,NAVIGATION:70};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Eb=e=>{const t=T4(e);return t.charAt(0).toUpperCase()+t.slice(1)},m_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),R4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:s,...i},l)=>p.createElement("svg",{ref:l,...j4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:m_("lucide",a),...!o&&!R4(i)&&{"aria-hidden":"true"},...i},[...s.map(([u,f])=>p.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const n=p.forwardRef(({className:r,...a},o)=>p.createElement(M4,{ref:o,iconNode:t,className:m_(`lucide-${k4(Eb(e))}`,`lucide-${e}`,r),...a}));return n.displayName=Eb(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],z4=de("arrow-left",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],p_=de("book-open",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],_b=de("brain",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],g_=de("check",P4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],er=de("chevron-down",L4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B4=de("chevron-left",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zf=de("chevron-right",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],U4=de("circle-check-big",F4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V4=de("circle-x",G4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ey=de("circle",Z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],q4=de("copy",Y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],W4=de("droplets",X4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Cb=de("external-link",K4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J4=de("eye",Q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],tz=de("flame",ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_c=de("grid-3x3",nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],az=de("grip-vertical",rz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],sz=de("hammer",oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Ab=de("hand",iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],y_=de("heart",lz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],uz=de("house",cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Bl=de("info",dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Cc=de("list",fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mz=de("map-pin",hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],v_=de("maximize-2",pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],yz=de("menu",gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],x_=de("minimize-2",vz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M5 12h14",key:"1ays0h"}]],kb=de("minus",xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],wz=de("monitor",bz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Nz=de("moon",Sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wp=de("plus",Ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ty=de("rotate-ccw",_z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ac=de("search",Cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],b_=de("settings",Az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Tz=de("share-2",kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ys=de("shield",Rz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ga=de("star",jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Tb=de("sun",Mz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],Rb=de("sword",Dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Oz=de("tag",zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Pz=de("target",$z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Iz=de("trash-2",Lz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hl=de("triangle-alert",Bz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Nl=de("user",Hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nn=de("x",Fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],w_=de("zap",Uz);var ny={};Object.defineProperty(ny,"__esModule",{value:!0});ny.parse=Wz;ny.serialize=Kz;const Gz=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Vz=/^[\u0021-\u003A\u003C-\u007E]*$/,Zz=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Yz=/^[\u0020-\u003A\u003D-\u007E]*$/,qz=Object.prototype.toString,Xz=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Wz(e,t){const n=new Xz,r=e.length;if(r<2)return n;const a=(t==null?void 0:t.decode)||Qz;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const i=e.indexOf(";",o),l=i===-1?r:i;if(s>l){o=e.lastIndexOf(";",s-1)+1;continue}const u=jb(e,o,s),f=Mb(e,s,u),d=e.slice(u,f);if(n[d]===void 0){let h=jb(e,s+1,l),m=Mb(e,l,h);const x=a(e.slice(h,m));n[d]=x}o=l+1}while(o<r);return n}function jb(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Mb(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function Kz(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Gz.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=r(t);if(!Vz.test(a))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+a;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!Zz.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!Yz.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!Jz(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function Qz(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Jz(e){return qz.call(e)==="[object Date]"}var Db="popstate";function eO(e={}){function t(a,o){let{pathname:s="/",search:i="",hash:l=""}=Ko(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Kp("",{pathname:s,search:i,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let s=a.document.querySelector("base"),i="";if(s&&s.getAttribute("href")){let l=a.location.href,u=l.indexOf("#");i=u===-1?l:l.slice(0,u)}return i+"#"+(typeof o=="string"?o:Fl(o))}function r(a,o){Fn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return nO(t,n,r,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tO(){return Math.random().toString(36).substring(2,10)}function zb(e,t){return{usr:e.state,key:e.key,idx:t}}function Kp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ko(t):t,state:n,key:t&&t.key||r||tO()}}function Fl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ko(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function nO(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,i="POP",l=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function d(){i="POP";let S=f(),y=S==null?null:S-u;u=S,l&&l({action:i,location:b.location,delta:y})}function h(S,y){i="PUSH";let g=Kp(b.location,S,y);n&&n(g,S),u=f()+1;let v=zb(g,u),w=b.createHref(g);try{s.pushState(v,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(w)}o&&l&&l({action:i,location:b.location,delta:1})}function m(S,y){i="REPLACE";let g=Kp(b.location,S,y);n&&n(g,S),u=f();let v=zb(g,u),w=b.createHref(g);s.replaceState(v,"",w),o&&l&&l({action:i,location:b.location,delta:0})}function x(S){return rO(S)}let b={get action(){return i},get location(){return e(a,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Db,d),l=S,()=>{a.removeEventListener(Db,d),l=null}},createHref(S){return t(a,S)},createURL:x,encodeLocation(S){let y=x(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(S){return s.go(S)}};return b}function rO(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),We(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Fl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function S_(e,t,n="/"){return aO(e,t,n,!1)}function aO(e,t,n,r){let a=typeof t=="string"?Ko(t):t,o=da(a.pathname||"/",n);if(o==null)return null;let s=N_(e);oO(s);let i=null;for(let l=0;i==null&&l<s.length;++l){let u=gO(o);i=mO(s[l],u,r)}return i}function N_(e,t=[],n=[],r=""){let a=(o,s,i)=>{let l={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=ra([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(We(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),N_(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:fO(u,o.index),routesMeta:f})};return e.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,s);else for(let l of E_(o.path))a(o,s,l)}),t}function E_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=E_(r.join("/")),i=[];return i.push(...s.map(l=>l===""?o:[o,l].join("/"))),a&&i.push(...s),i.map(l=>e.startsWith("/")&&l===""?"/":l)}function oO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sO=/^:[\w-]+$/,iO=3,lO=2,cO=1,uO=10,dO=-2,Ob=e=>e==="*";function fO(e,t){let n=e.split("/"),r=n.length;return n.some(Ob)&&(r+=dO),t&&(r+=lO),n.filter(a=>!Ob(a)).reduce((a,o)=>a+(sO.test(o)?iO:o===""?cO:uO),r)}function hO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function mO(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",s=[];for(let i=0;i<r.length;++i){let l=r[i],u=i===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=Pd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Pd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:ra([o,d.pathname]),pathnameBase:bO(ra([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=ra([o,d.pathnameBase]))}return s}function Pd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pO(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:d},h)=>{if(f==="*"){let x=i[h]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const m=i[h];return d&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function pO(e,t=!1,n=!0){Fn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,l)=>(r.push({paramName:i,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function gO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function da(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yO(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ko(e):e;return{pathname:n?n.startsWith("/")?n:vO(n,t):t,search:wO(r),hash:SO(a)}}function vO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function im(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function __(e){let t=xO(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function C_(e,t,n,r=!1){let a;typeof e=="string"?a=Ko(e):(a={...e},We(!a.pathname||!a.pathname.includes("?"),im("?","pathname","search",a)),We(!a.pathname||!a.pathname.includes("#"),im("#","pathname","hash",a)),We(!a.search||!a.search.includes("#"),im("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}i=d>=0?t[d]:"/"}let l=yO(a,i),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var ra=e=>e.join("/").replace(/\/\/+/g,"/"),bO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var A_=["POST","PUT","PATCH","DELETE"];new Set(A_);var EO=["GET",...A_];new Set(EO);var Ei=p.createContext(null);Ei.displayName="DataRouter";var Of=p.createContext(null);Of.displayName="DataRouterState";var k_=p.createContext({isTransitioning:!1});k_.displayName="ViewTransition";var _O=p.createContext(new Map);_O.displayName="Fetchers";var CO=p.createContext(null);CO.displayName="Await";var kr=p.createContext(null);kr.displayName="Navigation";var kc=p.createContext(null);kc.displayName="Location";var Tr=p.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var ry=p.createContext(null);ry.displayName="RouteError";function AO(e,{relative:t}={}){We(Tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(kr),{hash:a,pathname:o,search:s}=Rc(e,{relative:t}),i=o;return n!=="/"&&(i=o==="/"?n:ra([n,o])),r.createHref({pathname:i,search:s,hash:a})}function Tc(){return p.useContext(kc)!=null}function Rr(){return We(Tc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(kc).location}var T_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R_(e){p.useContext(kr).static||p.useLayoutEffect(e)}function An(){let{isDataRoute:e}=p.useContext(Tr);return e?FO():kO()}function kO(){We(Tc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Ei),{basename:t,navigator:n}=p.useContext(kr),{matches:r}=p.useContext(Tr),{pathname:a}=Rr(),o=JSON.stringify(__(r)),s=p.useRef(!1);return R_(()=>{s.current=!0}),p.useCallback((l,u={})=>{if(Fn(s.current,T_),!s.current)return;if(typeof l=="number"){n.go(l);return}let f=C_(l,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ra([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,a,e])}var TO=p.createContext(null);function RO(e){let t=p.useContext(Tr).outlet;return t&&p.createElement(TO.Provider,{value:e},t)}function Rc(e,{relative:t}={}){let{matches:n}=p.useContext(Tr),{pathname:r}=Rr(),a=JSON.stringify(__(n));return p.useMemo(()=>C_(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function jO(e,t){return j_(e,t)}function j_(e,t,n,r){var y;We(Tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=p.useContext(kr),{matches:o}=p.useContext(Tr),s=o[o.length-1],i=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",f=s&&s.route;{let g=f&&f.path||"";M_(l,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let d=Rr(),h;if(t){let g=typeof t=="string"?Ko(t):t;We(u==="/"||((y=g.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${g.pathname}" was given in the \`location\` prop.`),h=g}else h=d;let m=h.pathname||"/",x=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=S_(e,{pathname:x});Fn(f||b!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Fn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=$O(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},i,g.params),pathname:ra([u,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:ra([u,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return t&&S?p.createElement(kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},S):S}function MO(){let e=HO(),t=NO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,s)}var DO=p.createElement(MO,null),zO=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(Tr.Provider,{value:this.props.routeContext},p.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OO({routeContext:e,match:t,children:n}){let r=p.useContext(Ei);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Tr.Provider,{value:e},n)}function $O(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let l=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);We(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let s=!1,i=-1;if(n)for(let l=0;l<a.length;l++){let u=a[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=l),u.route.id){let{loaderData:f,errors:d}=n,h=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||h){s=!0,i>=0?a=a.slice(0,i+1):a=[a[0]];break}}}return a.reduceRight((l,u,f)=>{let d,h=!1,m=null,x=null;n&&(d=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||DO,s&&(i<0&&f===0?(M_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,x=null):i===f&&(h=!0,x=u.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,f+1)),S=()=>{let y;return d?y=m:h?y=x:u.route.Component?y=p.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,p.createElement(OO,{match:u,routeContext:{outlet:l,matches:b,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?p.createElement(zO,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function ay(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PO(e){let t=p.useContext(Ei);return We(t,ay(e)),t}function LO(e){let t=p.useContext(Of);return We(t,ay(e)),t}function IO(e){let t=p.useContext(Tr);return We(t,ay(e)),t}function oy(e){let t=IO(e),n=t.matches[t.matches.length-1];return We(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function BO(){return oy("useRouteId")}function HO(){var r;let e=p.useContext(ry),t=LO("useRouteError"),n=oy("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function FO(){let{router:e}=PO("useNavigate"),t=oy("useNavigate"),n=p.useRef(!1);return R_(()=>{n.current=!0}),p.useCallback(async(a,o={})=>{Fn(n.current,T_),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var $b={};function M_(e,t,n){!t&&!$b[e]&&($b[e]=!0,Fn(!1,n))}p.memo(UO);function UO({routes:e,future:t,state:n}){return j_(e,void 0,n,t)}function GO(e){return RO(e.context)}function it(e){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VO({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){We(!Tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=p.useMemo(()=>({basename:s,navigator:a,static:o,future:{}}),[s,a,o]);typeof n=="string"&&(n=Ko(n));let{pathname:l="/",search:u="",hash:f="",state:d=null,key:h="default"}=n,m=p.useMemo(()=>{let x=da(l,s);return x==null?null:{location:{pathname:x,search:u,hash:f,state:d,key:h},navigationType:r}},[s,l,u,f,d,h,r]);return Fn(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:p.createElement(kr.Provider,{value:i},p.createElement(kc.Provider,{children:t,value:m}))}function ZO({children:e,location:t}){return jO(Qp(e),t)}function Qp(e,t=[]){let n=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let o=[...t,a];if(r.type===p.Fragment){n.push.apply(n,Qp(r.props.children,o));return}We(r.type===it,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Qp(r.props.children,o)),n.push(s)}),n}var Xu="get",Wu="application/x-www-form-urlencoded";function $f(e){return e!=null&&typeof e.tagName=="string"}function YO(e){return $f(e)&&e.tagName.toLowerCase()==="button"}function qO(e){return $f(e)&&e.tagName.toLowerCase()==="form"}function XO(e){return $f(e)&&e.tagName.toLowerCase()==="input"}function WO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KO(e,t){return e.button===0&&(!t||t==="_self")&&!WO(e)}function Jp(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function QO(e,t){let n=Jp(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(o=>{n.append(a,o)})}),n}var su=null;function JO(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var e5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(e){return e!=null&&!e5.has(e)?(Fn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):e}function t5(e,t){let n,r,a,o,s;if(qO(e)){let i=e.getAttribute("action");r=i?da(i,t):null,n=e.getAttribute("method")||Xu,a=lm(e.getAttribute("enctype"))||Wu,o=new FormData(e)}else if(YO(e)||XO(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||i.getAttribute("action");if(r=l?da(l,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Xu,a=lm(e.getAttribute("formenctype"))||lm(i.getAttribute("enctype"))||Wu,o=new FormData(i,e),!JO()){let{name:u,type:f,value:d}=e;if(f==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,d)}}else{if($f(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xu,r=null,a=Wu,s=e}return o&&a==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:s}}function sy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function n5(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function a5(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let s=await n5(o,n);return s.links?s.links():[]}return[]}));return l5(r.flat(1).filter(r5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Pb(e,t,n,r,a,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,i=(l,u)=>{var f;return n[u].pathname!==l.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||i(l,u)):o==="data"?t.filter((l,u)=>{var d;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(s(l,u)||i(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function o5(e,t,{includeHydrateFallback:n}={}){return s5(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function s5(e){return[...new Set(e)]}function i5(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function l5(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(i5(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c5=new Set([100,101,204,205]);function u5(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&da(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function D_(){let e=p.useContext(Ei);return sy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function d5(){let e=p.useContext(Of);return sy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var iy=p.createContext(void 0);iy.displayName="FrameworkContext";function z_(){let e=p.useContext(iy);return sy(e,"You must render this element inside a <HydratedRouter> element"),e}function f5(e,t){let n=p.useContext(iy),[r,a]=p.useState(!1),[o,s]=p.useState(!1),{onFocus:i,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:d}=t,h=p.useRef(null);p.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let b=y=>{y.forEach(g=>{s(g.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return h.current&&S.observe(h.current),()=>{S.disconnect()}}},[e]),p.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let m=()=>{a(!0)},x=()=>{a(!1),s(!1)};return n?e!=="intent"?[o,h,{}]:[o,h,{onFocus:Fi(i,m),onBlur:Fi(l,x),onMouseEnter:Fi(u,m),onMouseLeave:Fi(f,x),onTouchStart:Fi(d,m)}]:[!1,h,{}]}function Fi(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function h5({page:e,...t}){let{router:n}=D_(),r=p.useMemo(()=>S_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?p.createElement(p5,{page:e,matches:r,...t}):null}function m5(e){let{manifest:t,routeModules:n}=z_(),[r,a]=p.useState([]);return p.useEffect(()=>{let o=!1;return a5(e,t,n).then(s=>{o||a(s)}),()=>{o=!0}},[e,t,n]),r}function p5({page:e,matches:t,...n}){let r=Rr(),{manifest:a,routeModules:o}=z_(),{basename:s}=D_(),{loaderData:i,matches:l}=d5(),u=p.useMemo(()=>Pb(e,t,l,a,r,"data"),[e,t,l,a,r]),f=p.useMemo(()=>Pb(e,t,l,a,r,"assets"),[e,t,l,a,r]),d=p.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,b=!1;if(t.forEach(y=>{var v;let g=a.routes[y.route.id];!g||!g.hasLoader||(!u.some(w=>w.route.id===y.route.id)&&y.route.id in i&&((v=o[y.route.id])!=null&&v.shouldRevalidate)||g.hasClientLoader?b=!0:x.add(y.route.id))}),x.size===0)return[];let S=u5(e,s);return b&&x.size>0&&S.searchParams.set("_routes",t.filter(y=>x.has(y.route.id)).map(y=>y.route.id).join(",")),[S.pathname+S.search]},[s,i,r,a,u,t,e,o]),h=p.useMemo(()=>o5(f,a),[f,a]),m=m5(f);return p.createElement(p.Fragment,null,d.map(x=>p.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),h.map(x=>p.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),m.map(({key:x,link:b})=>p.createElement("link",{key:x,...b})))}function g5(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var O_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O_&&(window.__reactRouterVersion="7.6.3")}catch{}function y5({basename:e,children:t,window:n}){let r=p.useRef();r.current==null&&(r.current=eO({window:n,v5Compat:!0}));let a=r.current,[o,s]=p.useState({action:a.action,location:a.location}),i=p.useCallback(l=>{p.startTransition(()=>s(l))},[s]);return p.useLayoutEffect(()=>a.listen(i),[a,i]),p.createElement(VO,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var $_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P_=p.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:s,state:i,target:l,to:u,preventScrollReset:f,viewTransition:d,...h},m){let{basename:x}=p.useContext(kr),b=typeof u=="string"&&$_.test(u),S,y=!1;if(typeof u=="string"&&b&&(S=u,O_))try{let C=new URL(window.location.href),k=u.startsWith("//")?new URL(C.protocol+u):new URL(u),j=da(k.pathname,x);k.origin===C.origin&&j!=null?u=j+k.search+k.hash:y=!0}catch{Fn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=AO(u,{relative:a}),[v,w,E]=f5(r,h),A=w5(u,{replace:s,state:i,target:l,preventScrollReset:f,relative:a,viewTransition:d});function N(C){t&&t(C),C.defaultPrevented||A(C)}let _=p.createElement("a",{...h,...E,href:S||g,onClick:y||o?t:N,ref:g5(m,w),target:l,"data-discover":!b&&n==="render"?"true":void 0});return v&&!b?p.createElement(p.Fragment,null,_,p.createElement(h5,{page:g})):_});P_.displayName="Link";var v5=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:s,viewTransition:i,children:l,...u},f){let d=Rc(s,{relative:u.relative}),h=Rr(),m=p.useContext(Of),{navigator:x,basename:b}=p.useContext(kr),S=m!=null&&A5(d)&&i===!0,y=x.encodeLocation?x.encodeLocation(d).pathname:d.pathname,g=h.pathname,v=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(g=g.toLowerCase(),v=v?v.toLowerCase():null,y=y.toLowerCase()),v&&b&&(v=da(v,b)||v);const w=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let E=g===y||!a&&g.startsWith(y)&&g.charAt(w)==="/",A=v!=null&&(v===y||!a&&v.startsWith(y)&&v.charAt(y.length)==="/"),N={isActive:E,isPending:A,isTransitioning:S},_=E?t:void 0,C;typeof r=="function"?C=r(N):C=[r,E?"active":null,A?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(N):o;return p.createElement(P_,{...u,"aria-current":_,className:C,ref:f,style:k,to:s,viewTransition:i},typeof l=="function"?l(N):l)});v5.displayName="NavLink";var x5=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:s=Xu,action:i,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:d,...h},m)=>{let x=_5(),b=C5(i,{relative:u}),S=s.toLowerCase()==="get"?"get":"post",y=typeof i=="string"&&$_.test(i),g=v=>{if(l&&l(v),v.defaultPrevented)return;v.preventDefault();let w=v.nativeEvent.submitter,E=(w==null?void 0:w.getAttribute("formmethod"))||s;x(w||v.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:a,state:o,relative:u,preventScrollReset:f,viewTransition:d})};return p.createElement("form",{ref:m,method:S,action:b,onSubmit:r?l:g,...h,"data-discover":!y&&e==="render"?"true":void 0})});x5.displayName="Form";function b5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L_(e){let t=p.useContext(Ei);return We(t,b5(e)),t}function w5(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:s}={}){let i=An(),l=Rr(),u=Rc(e,{relative:o});return p.useCallback(f=>{if(KO(f,t)){f.preventDefault();let d=n!==void 0?n:Fl(l)===Fl(u);i(e,{replace:d,state:r,preventScrollReset:a,relative:o,viewTransition:s})}},[l,i,u,n,r,t,e,a,o,s])}function S5(e){Fn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(Jp(e)),n=p.useRef(!1),r=Rr(),a=p.useMemo(()=>QO(r.search,n.current?null:t.current),[r.search]),o=An(),s=p.useCallback((i,l)=>{const u=Jp(typeof i=="function"?i(a):i);n.current=!0,o("?"+u,l)},[o,a]);return[a,s]}var N5=0,E5=()=>`__${String(++N5)}__`;function _5(){let{router:e}=L_("useSubmit"),{basename:t}=p.useContext(kr),n=BO();return p.useCallback(async(r,a={})=>{let{action:o,method:s,encType:i,formData:l,body:u}=t5(r,t);if(a.navigate===!1){let f=a.fetcherKey||E5();await e.fetch(f,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function C5(e,{relative:t}={}){let{basename:n}=p.useContext(kr),r=p.useContext(Tr);We(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Rc(e||".",{relative:t})},s=Rr();if(e==null){o.search=s.search;let i=new URLSearchParams(o.search),l=i.getAll("index");if(l.some(f=>f==="")){i.delete("index"),l.filter(d=>d).forEach(d=>i.append("index",d));let f=i.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ra([n,o.pathname])),Fl(o)}function A5(e,t={}){let n=p.useContext(k_);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=L_("useViewTransitionState"),a=Rc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=da(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=da(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pd(a.pathname,s)!=null||Pd(a.pathname,o)!=null}[...c5];const Lb={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},equipment:[],userProgress:{unlocks:[]},destinyPath:[]},Ib=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(m=>m(t,h))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,a,i);return i},k5=e=>e?Ib(e):Ib,T5=e=>e;function R5(e,t=T5){const n=D.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return D.useDebugValue(n),n}const Bb=e=>{const t=k5(e),n=r=>R5(t,r);return Object.assign(n,t),n},j5=e=>e?Bb(e):Bb,vs=j5(e=>({build:Lb,updateBuild:t=>e(n=>({build:{...n.build,...t}})),setBuild:t=>e({build:t}),resetBuild:()=>e({build:Lb})}));function an(){const e=vs(P=>P.build.skills.major),t=vs(P=>P.build.skills.minor),n=vs(P=>P.build),r=vs(P=>P.updateBuild),a=vs(P=>P.resetBuild),o=P=>(e==null?void 0:e.includes(P))??!1,s=P=>(t==null?void 0:t.includes(P))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:o,hasMinorSkill:s,addMajorSkill:P=>{const H=e??[],Z=t??[];if(!o(P)&&H.length<3){const G=Z.filter(Y=>Y!==P);r({skills:{major:[...H,P],minor:G}})}},removeMajorSkill:P=>{const H=e??[],Z=t??[],G=H.filter(Y=>Y!==P);r({skills:{major:G,minor:Z}})},addMinorSkill:P=>{const H=e??[],Z=t??[];if(!s(P)&&Z.length<3){const G=H.filter(Y=>Y!==P);r({skills:{major:G,minor:[...Z,P]}})}},removeMinorSkill:P=>{const H=e??[],G=(t??[]).filter(Y=>Y!==P);r({skills:{major:H,minor:G}})},addTrait:P=>{const{regular:H=[],bonus:Z=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:G=2,bonus:Y=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};H.length<G?r({traits:{...n==null?void 0:n.traits,regular:[...H,P]}}):Z.length<Y&&r({traits:{...n==null?void 0:n.traits,bonus:[...Z,P]}})},addRegularTrait:P=>{const{regular:H=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:Z=2}=(n==null?void 0:n.traitLimits)??{regular:2};H.length<Z&&r({traits:{...n==null?void 0:n.traits,regular:[...H,P]}})},addBonusTrait:P=>{const{bonus:H=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:Z=1}=(n==null?void 0:n.traitLimits)??{bonus:1};H.length<Z&&r({traits:{...n==null?void 0:n.traits,bonus:[...H,P]}})},removeTrait:P=>{const{regular:H=[],bonus:Z=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};r({traits:{regular:H.filter(G=>G!==P),bonus:Z.filter(G=>G!==P)}})},hasTrait:P=>{var H,Z,G,Y;return(((Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:Z.includes(P))??!1)||(((Y=(G=n==null?void 0:n.traits)==null?void 0:G.bonus)==null?void 0:Y.includes(P))??!1)},hasRegularTrait:P=>{var H,Z;return((Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:Z.includes(P))??!1},hasBonusTrait:P=>{var H,Z;return((Z=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:Z.includes(P))??!1},setRace:P=>{r({race:P})},setBirthsign:P=>{r({stone:P})},setStone:P=>{r({stone:P})},setReligion:P=>{r({religion:P})},addEquipment:P=>{const H=(n==null?void 0:n.equipment)??[];H.includes(P)||r({equipment:[...H,P]})},removeEquipment:P=>{const H=(n==null?void 0:n.equipment)??[];r({equipment:H.filter(Z=>Z!==P)})},setBuildName:P=>{r({name:P})},setBuildNotes:P=>{r({notes:P})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:P=>{r({destinyPath:P})},updateBuild:r,clearBuild:()=>{r({name:"",notes:"",race:null,stone:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},destinyPath:[]})},resetBuild:a,getSummary:()=>{var P,H,Z,G,Y,K,Q,he,me;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((H=(P=n==null?void 0:n.traits)==null?void 0:P.regular)==null?void 0:H.length)??0)+(((G=(Z=n==null?void 0:n.traits)==null?void 0:Z.bonus)==null?void 0:G.length)??0),majorSkillCount:((K=(Y=n==null?void 0:n.skills)==null?void 0:Y.major)==null?void 0:K.length)??0,minorSkillCount:((he=(Q=n==null?void 0:n.skills)==null?void 0:Q.minor)==null?void 0:he.length)??0,equipmentCount:((me=n==null?void 0:n.equipment)==null?void 0:me.length)??0}},getRegularTraitLimit:()=>{var P;return((P=n==null?void 0:n.traitLimits)==null?void 0:P.regular)??2},getBonusTraitLimit:()=>{var P;return((P=n==null?void 0:n.traitLimits)==null?void 0:P.bonus)??1},getRegularTraitCount:()=>{var P,H;return((H=(P=n==null?void 0:n.traits)==null?void 0:P.regular)==null?void 0:H.length)??0},getBonusTraitCount:()=>{var P,H;return((H=(P=n==null?void 0:n.traits)==null?void 0:P.bonus)==null?void 0:H.length)??0},canAddRegularTrait:()=>{var P,H,Z;return(((H=(P=n==null?void 0:n.traits)==null?void 0:P.regular)==null?void 0:H.length)??0)<(((Z=n==null?void 0:n.traitLimits)==null?void 0:Z.regular)??2)},canAddBonusTrait:()=>{var P,H,Z;return(((H=(P=n==null?void 0:n.traits)==null?void 0:P.bonus)==null?void 0:H.length)??0)<(((Z=n==null?void 0:n.traitLimits)==null?void 0:Z.bonus)??1)},getTraitType:P=>{var H,Z,G,Y;return(Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)!=null&&Z.includes(P)?"regular":(Y=(G=n==null?void 0:n.traits)==null?void 0:G.bonus)!=null&&Y.includes(P)?"bonus":null},isAllTraitsFull:()=>{var Y,K,Q,he,me,ue;const P=((K=(Y=n==null?void 0:n.traits)==null?void 0:Y.regular)==null?void 0:K.length)??0,H=((he=(Q=n==null?void 0:n.traits)==null?void 0:Q.bonus)==null?void 0:he.length)??0,Z=((me=n==null?void 0:n.traitLimits)==null?void 0:me.regular)??2,G=((ue=n==null?void 0:n.traitLimits)==null?void 0:ue.bonus)??1;return P>=Z&&H>=G},addTraitToSlot:(P,H)=>{if(H==="regular"){const{regular:Z=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:G=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(Z.length<G){const{bonus:Y=[]}=(n==null?void 0:n.traits)??{bonus:[]},K=Y.filter(Q=>Q!==P);r({traits:{regular:[...Z,P],bonus:K}})}}else{const{bonus:Z=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:G=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(Z.length<G){const{regular:Y=[]}=(n==null?void 0:n.traits)??{regular:[]},K=Y.filter(Q=>Q!==P);r({traits:{regular:K,bonus:[...Z,P]}})}}},isSlotAvailable:(P,H=0)=>{var Z,G,Y,K;return P==="regular"?(((G=(Z=n==null?void 0:n.traits)==null?void 0:Z.regular)==null?void 0:G.length)??0)<=H:(((K=(Y=n==null?void 0:n.traits)==null?void 0:Y.bonus)==null?void 0:K.length)??0)<=H}}}function I_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=I_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function B_(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=I_(e))&&(r&&(r+=" "),r+=t);return r}const Hb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Fb=B_,_i=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Fb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,s=Object.keys(a).map(u=>{const f=n==null?void 0:n[u],d=o==null?void 0:o[u];if(f===null)return null;const h=Hb(f)||Hb(d);return a[u][h]}),i=n&&Object.entries(n).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:h,...m}=f;return Object.entries(m).every(x=>{let[b,S]=x;return Array.isArray(S)?S.includes({...o,...i}[b]):{...o,...i}[b]===S})?[...u,d,h]:u},[]);return Fb(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},ly="-",M5=e=>{const t=z5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(ly);return i[0]===""&&i.length!==1&&i.shift(),H_(i,t)||D5(s)},getConflictingClassGroupIds:(s,i)=>{const l=n[s]||[];return i&&r[s]?[...l,...r[s]]:l}}},H_=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?H_(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(ly);return(s=t.validators.find(({validator:i})=>i(o)))==null?void 0:s.classGroupId},Ub=/^\[(.+)\]$/,D5=e=>{if(Ub.test(e)){const t=Ub.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},z5=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)eg(n[a],r,a,t);return r},eg=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Gb(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(O5(a)){eg(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,s])=>{eg(s,Gb(t,o),n,r)})})},Gb=(e,t)=>{let n=e;return t.split(ly).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},O5=e=>e.isThemeGetter,$5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return a(o,s),s},set(o,s){n.has(o)?n.set(o,s):a(o,s)}}},tg="!",ng=":",P5=ng.length,L5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const o=[];let s=0,i=0,l=0,u;for(let x=0;x<a.length;x++){let b=a[x];if(s===0&&i===0){if(b===ng){o.push(a.slice(l,x)),l=x+P5;continue}if(b==="/"){u=x;continue}}b==="["?s++:b==="]"?s--:b==="("?i++:b===")"&&i--}const f=o.length===0?a:a.substring(l),d=I5(f),h=d!==f,m=u&&u>l?u-l:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:m}};if(t){const a=t+ng,o=r;r=s=>s.startsWith(a)?o(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},I5=e=>e.endsWith(tg)?e.substring(0,e.length-1):e.startsWith(tg)?e.substring(1):e,B5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(a.push(...o.sort(),s),o=[]):o.push(s)}),a.push(...o.sort()),a}},H5=e=>({cache:$5(e.cacheSize),parseClassName:L5(e),sortModifiers:B5(e),...M5(e)}),F5=/\s+/,U5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=t,s=[],i=e.trim().split(F5);let l="";for(let u=i.length-1;u>=0;u-=1){const f=i[u],{isExternal:d,modifiers:h,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:b}=n(f);if(d){l=f+(l.length>0?" "+l:l);continue}let S=!!b,y=r(S?x.substring(0,b):x);if(!y){if(!S){l=f+(l.length>0?" "+l:l);continue}if(y=r(x),!y){l=f+(l.length>0?" "+l:l);continue}S=!1}const g=o(h).join(":"),v=m?g+tg:g,w=v+y;if(s.includes(w))continue;s.push(w);const E=a(y,S);for(let A=0;A<E.length;++A){const N=E[A];s.push(v+N)}l=f+(l.length>0?" "+l:l)}return l};function G5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=F_(t))&&(r&&(r+=" "),r+=n);return r}const F_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=F_(e[r]))&&(n&&(n+=" "),n+=t);return n};function V5(e,...t){let n,r,a,o=s;function s(l){const u=t.reduce((f,d)=>d(f),e());return n=H5(u),r=n.cache.get,a=n.cache.set,o=i,i(l)}function i(l){const u=r(l);if(u)return u;const f=U5(l,n);return a(l,f),f}return function(){return o(G5.apply(null,arguments))}}const ft=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},U_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,G_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Z5=/^\d+\/\d+$/,Y5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,W5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=e=>Z5.test(e),ye=e=>!!e&&!Number.isNaN(Number(e)),_a=e=>!!e&&Number.isInteger(Number(e)),cm=e=>e.endsWith("%")&&ye(e.slice(0,-1)),Ur=e=>Y5.test(e),Q5=()=>!0,J5=e=>q5.test(e)&&!X5.test(e),V_=()=>!1,e$=e=>W5.test(e),t$=e=>K5.test(e),n$=e=>!ne(e)&&!re(e),r$=e=>Ci(e,q_,V_),ne=e=>U_.test(e),mo=e=>Ci(e,X_,J5),um=e=>Ci(e,l$,ye),Vb=e=>Ci(e,Z_,V_),a$=e=>Ci(e,Y_,t$),iu=e=>Ci(e,W_,e$),re=e=>G_.test(e),Ui=e=>Ai(e,X_),o$=e=>Ai(e,c$),Zb=e=>Ai(e,Z_),s$=e=>Ai(e,q_),i$=e=>Ai(e,Y_),lu=e=>Ai(e,W_,!0),Ci=(e,t,n)=>{const r=U_.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Ai=(e,t,n=!1)=>{const r=G_.exec(e);return r?r[1]?t(r[1]):n:!1},Z_=e=>e==="position"||e==="percentage",Y_=e=>e==="image"||e==="url",q_=e=>e==="length"||e==="size"||e==="bg-size",X_=e=>e==="length",l$=e=>e==="number",c$=e=>e==="family-name",W_=e=>e==="shadow",u$=()=>{const e=ft("color"),t=ft("font"),n=ft("text"),r=ft("font-weight"),a=ft("tracking"),o=ft("leading"),s=ft("breakpoint"),i=ft("container"),l=ft("spacing"),u=ft("radius"),f=ft("shadow"),d=ft("inset-shadow"),h=ft("text-shadow"),m=ft("drop-shadow"),x=ft("blur"),b=ft("perspective"),S=ft("aspect"),y=ft("ease"),g=ft("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...w(),re,ne],A=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],_=()=>[re,ne,l],C=()=>[as,"full","auto",..._()],k=()=>[_a,"none","subgrid",re,ne],j=()=>["auto",{span:["full",_a,re,ne]},_a,re,ne],B=()=>[_a,"auto",re,ne],$=()=>["auto","min","max","fr",re,ne],T=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",..._()],L=()=>[as,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],O=()=>[e,re,ne],M=()=>[...w(),Zb,Vb,{position:[re,ne]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",s$,r$,{size:[re,ne]}],V=()=>[cm,Ui,mo],U=()=>["","none","full",u,re,ne],P=()=>["",ye,Ui,mo],H=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[ye,cm,Zb,Vb],Y=()=>["","none",x,re,ne],K=()=>["none",ye,re,ne],Q=()=>["none",ye,re,ne],he=()=>[ye,re,ne],me=()=>[as,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ur],breakpoint:[Ur],color:[Q5],container:[Ur],"drop-shadow":[Ur],ease:["in","out","in-out"],font:[n$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ur],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ur],shadow:[Ur],spacing:["px",ye],text:[Ur],"text-shadow":[Ur],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",as,ne,re,S]}],container:["container"],columns:[{columns:[ye,ne,re,i]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[_a,"auto",re,ne]}],basis:[{basis:[as,"full","auto",i,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ye,as,"auto","initial","none",ne]}],grow:[{grow:["",ye,re,ne]}],shrink:[{shrink:["",ye,re,ne]}],order:[{order:[_a,"first","last","none",re,ne]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...T(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...T()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":T()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[i,"screen",...L()]}],"min-w":[{"min-w":[i,"screen","none",...L()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[s]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",n,Ui,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,re,um]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cm,ne]}],"font-family":[{font:[o$,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,re,ne]}],"line-clamp":[{"line-clamp":[ye,"none",re,um]}],leading:[{leading:[o,..._()]}],"list-image":[{"list-image":["none",re,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[ye,"from-font","auto",re,mo]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[ye,"auto",re,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_a,re,ne],radial:["",re,ne],conic:[_a,re,ne]},i$,a$]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:P()}],"border-w-x":[{"border-x":P()}],"border-w-y":[{"border-y":P()}],"border-w-s":[{"border-s":P()}],"border-w-e":[{"border-e":P()}],"border-w-t":[{"border-t":P()}],"border-w-r":[{"border-r":P()}],"border-w-b":[{"border-b":P()}],"border-w-l":[{"border-l":P()}],"divide-x":[{"divide-x":P()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ye,re,ne]}],"outline-w":[{outline:["",ye,Ui,mo]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",f,lu,iu]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",d,lu,iu]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[ye,mo]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":P()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",h,lu,iu]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[ye,re,ne]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[re,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,ne]}],filter:[{filter:["","none",re,ne]}],blur:[{blur:Y()}],brightness:[{brightness:[ye,re,ne]}],contrast:[{contrast:[ye,re,ne]}],"drop-shadow":[{"drop-shadow":["","none",m,lu,iu]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",ye,re,ne]}],"hue-rotate":[{"hue-rotate":[ye,re,ne]}],invert:[{invert:["",ye,re,ne]}],saturate:[{saturate:[ye,re,ne]}],sepia:[{sepia:["",ye,re,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",re,ne]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[ye,re,ne]}],"backdrop-contrast":[{"backdrop-contrast":[ye,re,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ye,re,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ye,re,ne]}],"backdrop-invert":[{"backdrop-invert":["",ye,re,ne]}],"backdrop-opacity":[{"backdrop-opacity":[ye,re,ne]}],"backdrop-saturate":[{"backdrop-saturate":[ye,re,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",ye,re,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ye,"initial",re,ne]}],ease:[{ease:["linear","initial",y,re,ne]}],delay:[{delay:[ye,re,ne]}],animate:[{animate:["none",g,re,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,re,ne]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[re,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,ne]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[ye,Ui,mo,um]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},d$=V5(u$);function W(...e){return d$(B_(e))}const f$=_i("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...n}){return c.jsx("div",{className:W(f$({variant:t}),e),...n})}function Yb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pf(...e){return t=>{let n=!1;const r=e.map(a=>{const o=Yb(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():Yb(e[a],null)}}}}function Me(...e){return p.useCallback(Pf(...e),e)}function li(e){const t=m$(e),n=p.forwardRef((r,a)=>{const{children:o,...s}=r,i=p.Children.toArray(o),l=i.find(g$);if(l){const u=l.props.children,f=i.map(d=>d===l?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:d);return c.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,f):null})}return c.jsx(t,{...s,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var h$=li("Slot");function m$(e){const t=p.forwardRef((n,r)=>{const{children:a,...o}=n;if(p.isValidElement(a)){const s=v$(a),i=y$(o,a.props);return a.type!==p.Fragment&&(i.ref=r?Pf(r,s):s),p.cloneElement(a,i)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var K_=Symbol("radix.slottable");function p$(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=K_,t}function g$(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===K_}function y$(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...i)=>{const l=o(...i);return a(...i),l}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function v$(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const x$=_i("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function ae({className:e,variant:t,size:n,asChild:r=!1,...a}){const o=r?h$:"button";return c.jsx(o,{"data-slot":"button",className:W(x$({variant:t,size:n,className:e})),...a})}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function b$(e,t){const n=p.createContext(t),r=o=>{const{children:s,...i}=o,l=p.useMemo(()=>i,Object.values(i));return c.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function a(o){const s=p.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function on(e,t=[]){let n=[];function r(o,s){const i=p.createContext(s),l=n.length;n=[...n,s];const u=d=>{var y;const{scope:h,children:m,...x}=d,b=((y=h==null?void 0:h[e])==null?void 0:y[l])||i,S=p.useMemo(()=>x,Object.values(x));return c.jsx(b.Provider,{value:S,children:m})};u.displayName=o+"Provider";function f(d,h){var b;const m=((b=h==null?void 0:h[e])==null?void 0:b[l])||i,x=p.useContext(m);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const a=()=>{const o=n.map(s=>p.createContext(s));return function(i){const l=(i==null?void 0:i[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return a.scopeName=e,[r,w$(a,...t)]}function w$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const s=r.reduce((i,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...i,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Er=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},S$=o0[" useId ".trim().toString()]||(()=>{}),N$=0;function aa(e){const[t,n]=p.useState(S$());return Er(()=>{n(r=>r??String(N$++))},[e]),t?`radix-${t}`:""}var E$=o0[" useInsertionEffect ".trim().toString()]||Er;function Un({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,s]=_$({defaultProp:t,onChange:n}),i=e!==void 0,l=i?e:a;{const f=p.useRef(e!==void 0);p.useEffect(()=>{const d=f.current;d!==i&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=i},[i,r])}const u=p.useCallback(f=>{var d;if(i){const h=C$(f)?f(e):f;h!==e&&((d=s.current)==null||d.call(s,h))}else o(f)},[i,e,o,s]);return[l,u]}function _$({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),a=p.useRef(n),o=p.useRef(t);return E$(()=>{o.current=t},[t]),p.useEffect(()=>{var s;a.current!==n&&((s=o.current)==null||s.call(o,n),a.current=n)},[n,a]),[n,r,o]}function C$(e){return typeof e=="function"}var A$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=A$.reduce((e,t)=>{const n=li(`Primitive.${t}`),r=p.forwardRef((a,o)=>{const{asChild:s,...i}=a,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Q_(e,t){e&&lc.flushSync(()=>e.dispatchEvent(t))}function Pt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function k$(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var T$="DismissableLayer",rg="dismissableLayer.update",R$="dismissableLayer.pointerDownOutside",j$="dismissableLayer.focusOutside",qb,J_=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:i,...l}=e,u=p.useContext(J_),[f,d]=p.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=Me(t,N=>d(N)),b=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(S),g=f?b.indexOf(f):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,w=g>=y,E=z$(N=>{const _=N.target,C=[...u.branches].some(k=>k.contains(_));!w||C||(a==null||a(N),s==null||s(N),N.defaultPrevented||i==null||i())},h),A=O$(N=>{const _=N.target;[...u.branches].some(k=>k.contains(_))||(o==null||o(N),s==null||s(N),N.defaultPrevented||i==null||i())},h);return k$(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},h),p.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Xb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qb)}},[f,h,n,u]),p.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Xb())},[f,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(rg,N),()=>document.removeEventListener(rg,N)},[]),c.jsx(fe.div,{...l,ref:x,style:{pointerEvents:v?w?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,A.onFocusCapture),onBlurCapture:te(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,E.onPointerDownCapture)})});jc.displayName=T$;var M$="DismissableLayerBranch",D$=p.forwardRef((e,t)=>{const n=p.useContext(J_),r=p.useRef(null),a=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(fe.div,{...e,ref:a})});D$.displayName=M$;function z$(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let l=function(){eC(R$,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function O$(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!r.current&&eC(j$,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Xb(){const e=new CustomEvent(rg);document.dispatchEvent(e)}function eC(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Q_(a,o):a.dispatchEvent(o)}var dm="focusScope.autoFocusOnMount",fm="focusScope.autoFocusOnUnmount",Wb={bubbles:!1,cancelable:!0},$$="FocusScope",cy=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[i,l]=p.useState(null),u=Pt(a),f=Pt(o),d=p.useRef(null),h=Me(t,b=>l(b)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let b=function(v){if(m.paused||!i)return;const w=v.target;i.contains(w)?d.current=w:ka(d.current,{select:!0})},S=function(v){if(m.paused||!i)return;const w=v.relatedTarget;w!==null&&(i.contains(w)||ka(d.current,{select:!0}))},y=function(v){if(document.activeElement===document.body)for(const E of v)E.removedNodes.length>0&&ka(i)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const g=new MutationObserver(y);return i&&g.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),g.disconnect()}}},[r,i,m.paused]),p.useEffect(()=>{if(i){Qb.add(m);const b=document.activeElement;if(!i.contains(b)){const y=new CustomEvent(dm,Wb);i.addEventListener(dm,u),i.dispatchEvent(y),y.defaultPrevented||(P$(F$(tC(i)),{select:!0}),document.activeElement===b&&ka(i))}return()=>{i.removeEventListener(dm,u),setTimeout(()=>{const y=new CustomEvent(fm,Wb);i.addEventListener(fm,f),i.dispatchEvent(y),y.defaultPrevented||ka(b??document.body,{select:!0}),i.removeEventListener(fm,f),Qb.remove(m)},0)}}},[i,u,f,m]);const x=p.useCallback(b=>{if(!n&&!r||m.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,y=document.activeElement;if(S&&y){const g=b.currentTarget,[v,w]=L$(g);v&&w?!b.shiftKey&&y===w?(b.preventDefault(),n&&ka(v,{select:!0})):b.shiftKey&&y===v&&(b.preventDefault(),n&&ka(w,{select:!0})):y===g&&b.preventDefault()}},[n,r,m.paused]);return c.jsx(fe.div,{tabIndex:-1,...s,ref:h,onKeyDown:x})});cy.displayName=$$;function P$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ka(r,{select:t}),document.activeElement!==n)return}function L$(e){const t=tC(e),n=Kb(t,e),r=Kb(t.reverse(),e);return[n,r]}function tC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kb(e,t){for(const n of e)if(!I$(n,{upTo:t}))return n}function I$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function B$(e){return e instanceof HTMLInputElement&&"select"in e}function ka(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&B$(e)&&t&&e.select()}}var Qb=H$();function H$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Jb(e,t),e.unshift(t)},remove(t){var n;e=Jb(e,t),(n=e[0])==null||n.resume()}}}function Jb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function F$(e){return e.filter(t=>t.tagName!=="A")}var U$="Portal",uy=p.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[a,o]=p.useState(!1);Er(()=>o(!0),[]);const s=n||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return s?JM.createPortal(c.jsx(fe.div,{...r,ref:t}),s):null});uy.displayName=U$;function G$(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Bt=e=>{const{present:t,children:n}=e,r=V$(t),a=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Me(r.ref,Z$(a));return typeof n=="function"||r.isPresent?p.cloneElement(a,{ref:o}):null};Bt.displayName="Presence";function V$(e){const[t,n]=p.useState(),r=p.useRef(null),a=p.useRef(e),o=p.useRef("none"),s=e?"mounted":"unmounted",[i,l]=G$(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=cu(r.current);o.current=i==="mounted"?u:"none"},[i]),Er(()=>{const u=r.current,f=a.current;if(f!==e){const h=o.current,m=cu(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),Er(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=m=>{const b=cu(r.current).includes(m.animationName);if(m.target===t&&b&&(l("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},h=m=>{m.target===t&&(o.current=cu(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function cu(e){return(e==null?void 0:e.animationName)||"none"}function Z$(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hm=0;function nC(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ew()),document.body.insertAdjacentElement("beforeend",e[1]??ew()),hm++,()=>{hm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hm--}},[])}function ew(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mr=function(){return mr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},mr.apply(this,arguments)};function rC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Y$(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Ku="right-scroll-bar-position",Qu="width-before-scroll-bar",q$="with-scroll-bars-hidden",X$="--removed-body-scroll-bar-size";function mm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function W$(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var K$=typeof window<"u"?p.useLayoutEffect:p.useEffect,tw=new WeakMap;function Q$(e,t){var n=W$(null,function(r){return e.forEach(function(a){return mm(a,r)})});return K$(function(){var r=tw.get(n);if(r){var a=new Set(r),o=new Set(e),s=n.current;a.forEach(function(i){o.has(i)||mm(i,null)}),o.forEach(function(i){a.has(i)||mm(i,s)})}tw.set(n,e)},[e]),n}function J$(e){return e}function eP(e,t){t===void 0&&(t=J$);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(o),s=n}var l=function(){var f=s;s=[],f.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),n}}}};return a}function tP(e){e===void 0&&(e={});var t=eP(null);return t.options=mr({async:!0,ssr:!1},e),t}var aC=function(e){var t=e.sideCar,n=rC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,mr({},n))};aC.isSideCarExport=!0;function nP(e,t){return e.useMedium(t),aC}var oC=tP(),pm=function(){},Lf=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:pm,onWheelCapture:pm,onTouchMoveCapture:pm}),a=r[0],o=r[1],s=e.forwardProps,i=e.children,l=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,m=e.noRelative,x=e.noIsolation,b=e.inert,S=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,v=e.gapMode,w=rC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,A=Q$([n,t]),N=mr(mr({},w),a);return p.createElement(p.Fragment,null,f&&p.createElement(E,{sideCar:oC,removeScrollBar:u,shards:d,noRelative:m,noIsolation:x,inert:b,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:v}),s?p.cloneElement(p.Children.only(i),mr(mr({},N),{ref:A})):p.createElement(g,mr({},N,{className:l,ref:A}),i))});Lf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lf.classNames={fullWidth:Qu,zeroRight:Ku};var rP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rP();return t&&e.setAttribute("nonce",t),e}function oP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aP())&&(oP(t,n),sP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lP=function(){var e=iP();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},sC=function(){var e=lP(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},cP={left:0,top:0,right:0,gap:0},gm=function(e){return parseInt(e||"",10)||0},uP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[gm(n),gm(r),gm(a)]},dP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cP;var t=uP(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},fP=sC(),Fs="data-scroll-locked",hP=function(e,t,n,r){var a=e.left,o=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(q$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(Fs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ku,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Qu,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Ku," .").concat(Ku,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qu," .").concat(Qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fs,`] {
    `).concat(X$,": ").concat(i,`px;
  }
`)},nw=function(){var e=parseInt(document.body.getAttribute(Fs)||"0",10);return isFinite(e)?e:0},mP=function(){p.useEffect(function(){return document.body.setAttribute(Fs,(nw()+1).toString()),function(){var e=nw()-1;e<=0?document.body.removeAttribute(Fs):document.body.setAttribute(Fs,e.toString())}},[])},pP=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;mP();var o=p.useMemo(function(){return dP(a)},[a]);return p.createElement(fP,{styles:hP(o,!t,a,n?"":"!important")})},ag=!1;if(typeof window<"u")try{var uu=Object.defineProperty({},"passive",{get:function(){return ag=!0,!0}});window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{ag=!1}var os=ag?{passive:!1}:!1,gP=function(e){return e.tagName==="TEXTAREA"},iC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!gP(e)&&n[t]==="visible")},yP=function(e){return iC(e,"overflowY")},vP=function(e){return iC(e,"overflowX")},rw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=lC(e,r);if(a){var o=cC(e,r),s=o[1],i=o[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xP=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},bP=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},lC=function(e,t){return e==="v"?yP(t):vP(t)},cC=function(e,t){return e==="v"?xP(t):bP(t)},wP=function(e,t){return e==="h"&&t==="rtl"?-1:1},SP=function(e,t,n,r,a){var o=wP(e,window.getComputedStyle(t).direction),s=o*r,i=n.target,l=t.contains(i),u=!1,f=s>0,d=0,h=0;do{if(!i)break;var m=cC(e,i),x=m[0],b=m[1],S=m[2],y=b-S-o*x;(x||y)&&lC(e,i)&&(d+=y,h+=x);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(f&&Math.abs(d)<1||!f&&Math.abs(h)<1)&&(u=!0),u},du=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aw=function(e){return[e.deltaX,e.deltaY]},ow=function(e){return e&&"current"in e?e.current:e},NP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},EP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_P=0,ss=[];function CP(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),a=p.useState(_P++)[0],o=p.useState(sC)[0],s=p.useRef(e);p.useEffect(function(){s.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=Y$([e.lockRef.current],(e.shards||[]).map(ow),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=p.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var y=du(b),g=n.current,v="deltaX"in b?b.deltaX:g[0]-y[0],w="deltaY"in b?b.deltaY:g[1]-y[1],E,A=b.target,N=Math.abs(v)>Math.abs(w)?"h":"v";if("touches"in b&&N==="h"&&A.type==="range")return!1;var _=rw(N,A);if(!_)return!0;if(_?E=N:(E=N==="v"?"h":"v",_=rw(N,A)),!_)return!1;if(!r.current&&"changedTouches"in b&&(v||w)&&(r.current=E),!E)return!0;var C=r.current||E;return SP(C,S,b,C==="h"?v:w)},[]),l=p.useCallback(function(b){var S=b;if(!(!ss.length||ss[ss.length-1]!==o)){var y="deltaY"in S?aw(S):du(S),g=t.current.filter(function(E){return E.name===S.type&&(E.target===S.target||S.target===E.shadowParent)&&NP(E.delta,y)})[0];if(g&&g.should){S.cancelable&&S.preventDefault();return}if(!g){var v=(s.current.shards||[]).map(ow).filter(Boolean).filter(function(E){return E.contains(S.target)}),w=v.length>0?i(S,v[0]):!s.current.noIsolation;w&&S.cancelable&&S.preventDefault()}}},[]),u=p.useCallback(function(b,S,y,g){var v={name:b,delta:S,target:y,should:g,shadowParent:AP(y)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(w){return w!==v})},1)},[]),f=p.useCallback(function(b){n.current=du(b),r.current=void 0},[]),d=p.useCallback(function(b){u(b.type,aw(b),b.target,i(b,e.lockRef.current))},[]),h=p.useCallback(function(b){u(b.type,du(b),b.target,i(b,e.lockRef.current))},[]);p.useEffect(function(){return ss.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,os),document.addEventListener("touchmove",l,os),document.addEventListener("touchstart",f,os),function(){ss=ss.filter(function(b){return b!==o}),document.removeEventListener("wheel",l,os),document.removeEventListener("touchmove",l,os),document.removeEventListener("touchstart",f,os)}},[]);var m=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:EP(a)}):null,m?p.createElement(pP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function AP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kP=nP(oC,CP);var dy=p.forwardRef(function(e,t){return p.createElement(Lf,mr({},e,{ref:t,sideCar:kP}))});dy.classNames=Lf.classNames;var TP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},is=new WeakMap,fu=new WeakMap,hu={},ym=0,uC=function(e){return e&&(e.host||uC(e.parentNode))},RP=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=uC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},jP=function(e,t,n,r){var a=RP(t,Array.isArray(e)?e:[e]);hu[n]||(hu[n]=new WeakMap);var o=hu[n],s=[],i=new Set,l=new Set(a),u=function(d){!d||i.has(d)||(i.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(i.has(h))f(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",b=(is.get(h)||0)+1,S=(o.get(h)||0)+1;is.set(h,b),o.set(h,S),s.push(h),b===1&&x&&fu.set(h,!0),S===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(t),i.clear(),ym++,function(){s.forEach(function(d){var h=is.get(d)-1,m=o.get(d)-1;is.set(d,h),o.set(d,m),h||(fu.has(d)||d.removeAttribute(r),fu.delete(d)),m||d.removeAttribute(n)}),ym--,ym||(is=new WeakMap,is=new WeakMap,fu=new WeakMap,hu={})}},dC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=TP(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),jP(r,a,n,"aria-hidden")):function(){return null}},If="Dialog",[fC,JJ]=on(If),[MP,ar]=fC(If),hC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,i=p.useRef(null),l=p.useRef(null),[u,f]=Un({prop:r,defaultProp:a??!1,onChange:o,caller:If});return c.jsx(MP,{scope:t,triggerRef:i,contentRef:l,contentId:aa(),titleId:aa(),descriptionId:aa(),open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(d=>!d),[f]),modal:s,children:n})};hC.displayName=If;var mC="DialogTrigger",pC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ar(mC,n),o=Me(t,a.triggerRef);return c.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":my(a.open),...r,ref:o,onClick:te(e.onClick,a.onOpenToggle)})});pC.displayName=mC;var fy="DialogPortal",[DP,gC]=fC(fy,{forceMount:void 0}),yC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=ar(fy,t);return c.jsx(DP,{scope:t,forceMount:n,children:p.Children.map(r,s=>c.jsx(Bt,{present:n||o.open,children:c.jsx(uy,{asChild:!0,container:a,children:s})}))})};yC.displayName=fy;var Ld="DialogOverlay",vC=p.forwardRef((e,t)=>{const n=gC(Ld,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=ar(Ld,e.__scopeDialog);return o.modal?c.jsx(Bt,{present:r||o.open,children:c.jsx(OP,{...a,ref:t})}):null});vC.displayName=Ld;var zP=li("DialogOverlay.RemoveScroll"),OP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ar(Ld,n);return c.jsx(dy,{as:zP,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(fe.div,{"data-state":my(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Io="DialogContent",xC=p.forwardRef((e,t)=>{const n=gC(Io,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=ar(Io,e.__scopeDialog);return c.jsx(Bt,{present:r||o.open,children:o.modal?c.jsx($P,{...a,ref:t}):c.jsx(PP,{...a,ref:t})})});xC.displayName=Io;var $P=p.forwardRef((e,t)=>{const n=ar(Io,e.__scopeDialog),r=p.useRef(null),a=Me(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return dC(o)},[]),c.jsx(bC,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),PP=p.forwardRef((e,t)=>{const n=ar(Io,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return c.jsx(bC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),bC=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...s}=e,i=ar(Io,n),l=p.useRef(null),u=Me(t,l);return nC(),c.jsxs(c.Fragment,{children:[c.jsx(cy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:c.jsx(jc,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":my(i.open),...s,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(LP,{titleId:i.titleId}),c.jsx(BP,{contentRef:l,descriptionId:i.descriptionId})]})]})}),hy="DialogTitle",wC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ar(hy,n);return c.jsx(fe.h2,{id:a.titleId,...r,ref:t})});wC.displayName=hy;var SC="DialogDescription",NC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ar(SC,n);return c.jsx(fe.p,{id:a.descriptionId,...r,ref:t})});NC.displayName=SC;var EC="DialogClose",_C=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ar(EC,n);return c.jsx(fe.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>a.onOpenChange(!1))})});_C.displayName=EC;function my(e){return e?"open":"closed"}var CC="DialogTitleWarning",[eee,AC]=b$(CC,{contentName:Io,titleName:hy,docsSlug:"dialog"}),LP=({titleId:e})=>{const t=AC(CC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},IP="DialogDescriptionWarning",BP=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AC(IP).contentName}}.`;return p.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},kC=hC,HP=pC,TC=yC,py=vC,gy=xC,yy=wC,vy=NC,FP=_C;const UP=kC,GP=HP,VP=TC,RC=p.forwardRef(({className:e,...t},n)=>c.jsx(py,{className:W("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:zt.MODAL},...t,ref:n}));RC.displayName=py.displayName;const ZP=_i("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),jC=p.forwardRef(({side:e="right",className:t,children:n,...r},a)=>c.jsxs(VP,{children:[c.jsx(RC,{}),c.jsxs(gy,{ref:a,className:W(ZP({side:e}),t),style:{zIndex:zt.MODAL+1,backgroundColor:"hsl(var(--background))"},...r,children:[n,c.jsxs(FP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(Nn,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jC.displayName=gy.displayName;const MC=({className:e,...t})=>c.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",e),...t});MC.displayName="SheetHeader";const DC=p.forwardRef(({className:e,...t},n)=>c.jsx(yy,{ref:n,className:W("text-lg font-semibold text-foreground",e),...t}));DC.displayName=yy.displayName;const zC=p.forwardRef(({className:e,...t},n)=>c.jsx(vy,{ref:n,className:W("text-sm text-muted-foreground",e),...t}));zC.displayName=vy.displayName;const YP=()=>{const{build:e,resetBuild:t,getSummary:n,getRegularTraitLimit:r,getBonusTraitLimit:a}=an(),o=An(),s=n(),[i,l]=p.useState(!1),u=e.name||e.race||e.traits.regular.length>0||e.traits.bonus.length>0||e.stone||e.religion||e.skills.major.length>0||e.skills.minor.length>0||e.equipment.length>0,f=()=>{navigator.clipboard.writeText(window.location.href)},d=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},h=S=>{l(!1),o(S)},m=r(),x=a(),b=m+x;return c.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:zt.MODAL+1},children:c.jsxs(UP,{open:i,onOpenChange:l,children:[c.jsx(GP,{asChild:!0,children:c.jsx(ae,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${i?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:c.jsx(Nl,{className:"h-5 w-5"})})}),c.jsxs(jC,{side:"right",className:"w-[400px] sm:w-[540px] p-6",children:[c.jsxs(MC,{children:[c.jsxs(DC,{className:"flex items-center gap-2",children:[c.jsx(Nl,{className:"h-5 w-5"}),u?s.name:"Character Build"]}),c.jsx(zC,{children:u?"Your current character build status":"Create and manage your character build"})]}),c.jsx("div",{className:"mt-6 space-y-6",children:u?c.jsxs(c.Fragment,{children:[e.race&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Race"}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:s.race}),c.jsx(Ce,{variant:"secondary",className:"bg-blue-500",children:"Selected"})]})]}),e.stone&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Birth Sign"}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:s.stone}),c.jsx(Ce,{variant:"secondary",className:"bg-purple-500",children:"Selected"})]})]}),e.religion&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Religion"}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:s.religion}),c.jsx(Ce,{variant:"secondary",className:"bg-orange-500",children:"Selected"})]})]}),(e.traits.regular.length>0||e.traits.bonus.length>0)&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Traits (",e.traits.regular.length+e.traits.bonus.length,"/",b,")"]}),c.jsxs("div",{className:"space-y-2",children:[e.traits.regular.map(S=>c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),c.jsx("span",{className:"text-muted-foreground",children:"Starting"})]},`regular-${S}`)),e.traits.bonus.map(S=>c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),c.jsx("span",{className:"text-muted-foreground",children:"Late Game"})]},`bonus-${S}`))]})]}),(e.skills.major.length>0||e.skills.minor.length>0)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Skills"}),c.jsxs("div",{className:"space-y-2",children:[e.skills.major.length>0&&c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-medium",children:"Major Skills"}),c.jsx(Ce,{variant:"outline",children:e.skills.major.length})]}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.major.map(S=>c.jsx(Ce,{variant:"secondary",className:"bg-red-500 text-xs",children:S},S))})]}),e.skills.minor.length>0&&c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-medium",children:"Minor Skills"}),c.jsx(Ce,{variant:"outline",children:e.skills.minor.length})]}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.minor.map(S=>c.jsx(Ce,{variant:"secondary",className:"bg-blue-500 text-xs",children:S},S))})]})]})]}),e.equipment.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Equipment (",e.equipment.length,")"]}),c.jsx("div",{className:"space-y-2",children:e.equipment.map(S=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:S}),c.jsx(Ce,{variant:"secondary",className:"bg-gray-500",children:"Equipped"})]},S))})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Nl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Character Build"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building your character by selecting a race, traits, and other options."})]})}),c.jsx("div",{className:"mt-8 space-y-3",children:u?c.jsxs(c.Fragment,{children:[c.jsxs(ae,{onClick:()=>h("/build"),className:"w-full",children:[c.jsx(Cb,{className:"w-4 h-4 mr-2"}),"Edit Build"]}),c.jsxs(ae,{variant:"outline",onClick:f,className:"w-full",children:[c.jsx(q4,{className:"w-4 h-4 mr-2"}),"Copy Share URL"]}),c.jsxs(ae,{variant:"destructive",onClick:d,className:"w-full",children:[c.jsx(Iz,{className:"w-4 h-4 mr-2"}),"Reset Build"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(ae,{onClick:()=>h("/build"),className:"w-full",children:[c.jsx(Cb,{className:"w-4 h-4 mr-2"}),"Create Character Build"]}),c.jsx(ae,{variant:"outline",onClick:()=>h("/race"),className:"w-full",children:"Browse Races"}),c.jsx(ae,{variant:"outline",onClick:()=>h("/traits"),className:"w-full",children:"Browse Traits"})]})})]})]})})},qP=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),XP=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},WP=()=>{const{build:e,setBuild:t}=vs();Rr(),An(),p.useEffect(()=>{const n=window.location.hash,[r,a]=n.split("?"),s=new URLSearchParams(a||"").get("b");if(s){const i=XP(s);(i==null?void 0:i.v)===1?t(i):console.warn("Invalid or outdated build schema in URL")}},[t]),p.useEffect(()=>{const n=qP(e),r=window.location.hash,[a,o]=r.split("?"),s=new URLSearchParams(o||"");s.set("b",n);const i=`${a}?${s.toString()}`;window.history.replaceState(null,"",i)},[e])},OC=p.forwardRef(({className:e,collapsed:t,...n},r)=>c.jsx("aside",{ref:r,"data-collapsed":t?"":void 0,className:W("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300",t?"w-0 overflow-hidden":"w-64",e),...n}));OC.displayName="Sidebar";const $C=p.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:W("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));$C.displayName="SidebarContent";const PC=p.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:W("mb-2",e),...t}));PC.displayName="SidebarGroup";const LC=p.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:W("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));LC.displayName="SidebarHeader";const IC=p.forwardRef(({className:e,...t},n)=>c.jsx("ul",{ref:n,className:W("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));IC.displayName="SidebarMenu";const BC=p.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return c.jsx(o,{ref:a,"data-active":n?"":void 0,className:W("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...r})});BC.displayName="SidebarMenuButton";const HC=p.forwardRef(({className:e,...t},n)=>c.jsx("li",{ref:n,className:W("relative flex items-stretch",e),...t}));HC.displayName="SidebarMenuItem";const FC=p.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:e,...t}));FC.displayName="SidebarRail";const KP=_i("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),sn=p.forwardRef(({className:e,variant:t,as:n,...r},a)=>{const o=n||QP(t);return c.jsx(o,{className:W(KP({variant:t,className:e})),ref:a,...r})});sn.displayName="Typography";function QP(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const Mc=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h1",as:"h1",className:e,ref:n,...t}));Mc.displayName="H1";const JP=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h2",as:"h2",className:e,ref:n,...t}));JP.displayName="H2";const Dc=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h3",as:"h3",className:e,ref:n,...t}));Dc.displayName="H3";const eL=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h4",as:"h4",className:e,ref:n,...t}));eL.displayName="H4";const tL=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h5",as:"h5",className:e,ref:n,...t}));tL.displayName="H5";const nL=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h6",as:"h6",className:e,ref:n,...t}));nL.displayName="H6";const pn=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"p",as:"p",className:e,ref:n,...t}));pn.displayName="P";const rL=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));rL.displayName="Blockquote";const aL=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"code",as:"code",className:e,ref:n,...t}));aL.displayName="Code";const UC=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"lead",as:"p",className:e,ref:n,...t}));UC.displayName="Lead";const oL=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"large",as:"div",className:e,ref:n,...t}));oL.displayName="Large";const sL=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"small",as:"small",className:e,ref:n,...t}));sL.displayName="Small";const Ul=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"muted",as:"p",className:e,ref:n,...t}));Ul.displayName="Muted";const oa=({children:e,title:t,description:n,className:r=""})=>c.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${r}`,children:[t&&c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&c.jsx("p",{className:"text-muted-foreground mt-2 max-w-4xl",children:n})]})}),e]});function xy(e){const t=e+"CollectionProvider",[n,r]=on(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:S,children:y}=b,g=D.useRef(null),v=D.useRef(new Map).current;return c.jsx(a,{scope:S,itemMap:v,collectionRef:g,children:y})};s.displayName=t;const i=e+"CollectionSlot",l=li(i),u=D.forwardRef((b,S)=>{const{scope:y,children:g}=b,v=o(i,y),w=Me(S,v.collectionRef);return c.jsx(l,{ref:w,children:g})});u.displayName=i;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=li(f),m=D.forwardRef((b,S)=>{const{scope:y,children:g,...v}=b,w=D.useRef(null),E=Me(S,w),A=o(f,y);return D.useEffect(()=>(A.itemMap.set(w,{ref:w,...v}),()=>void A.itemMap.delete(w))),c.jsx(h,{[d]:"",ref:E,children:g})});m.displayName=f;function x(b){const S=o(e+"CollectionConsumer",b);return D.useCallback(()=>{const g=S.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(S.itemMap.values()).sort((A,N)=>v.indexOf(A.ref.current)-v.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},x,r]}var iL=p.createContext(void 0);function ki(e){const t=p.useContext(iL);return e||t||"ltr"}var vm="rovingFocusGroup.onEntryFocus",lL={bubbles:!1,cancelable:!0},zc="RovingFocusGroup",[og,GC,cL]=xy(zc),[uL,Ti]=on(zc,[cL]),[dL,fL]=uL(zc),VC=p.forwardRef((e,t)=>c.jsx(og.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(og.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(hL,{...e,ref:t})})}));VC.displayName=zc;var hL=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=p.useRef(null),m=Me(t,h),x=ki(o),[b,S]=Un({prop:s,defaultProp:i??null,onChange:l,caller:zc}),[y,g]=p.useState(!1),v=Pt(u),w=GC(n),E=p.useRef(!1),[A,N]=p.useState(0);return p.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(vm,v),()=>_.removeEventListener(vm,v)},[v]),c.jsx(dL,{scope:n,orientation:r,dir:x,loop:a,currentTabStopId:b,onItemFocus:p.useCallback(_=>S(_),[S]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(_=>_+1),[]),onFocusableItemRemove:p.useCallback(()=>N(_=>_-1),[]),children:c.jsx(fe.div,{tabIndex:y||A===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{E.current=!0}),onFocus:te(e.onFocus,_=>{const C=!E.current;if(_.target===_.currentTarget&&C&&!y){const k=new CustomEvent(vm,lL);if(_.currentTarget.dispatchEvent(k),!k.defaultPrevented){const j=w().filter(R=>R.focusable),B=j.find(R=>R.active),$=j.find(R=>R.id===b),z=[B,$,...j].filter(Boolean).map(R=>R.ref.current);qC(z,f)}}E.current=!1}),onBlur:te(e.onBlur,()=>g(!1))})})}),ZC="RovingFocusGroupItem",YC=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,children:s,...i}=e,l=aa(),u=o||l,f=fL(ZC,n),d=f.currentTabStopId===u,h=GC(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:b}=f;return p.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),c.jsx(og.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:c.jsx(fe.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...i,ref:t,onMouseDown:te(e.onMouseDown,S=>{r?f.onItemFocus(u):S.preventDefault()}),onFocus:te(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:te(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const y=gL(S,f.orientation,f.dir);if(y!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let v=h().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const w=v.indexOf(S.currentTarget);v=f.loop?yL(v,w+1):v.slice(w+1)}setTimeout(()=>qC(v))}}),children:typeof s=="function"?s({isCurrentTabStop:d,hasTabStop:b!=null}):s})})});YC.displayName=ZC;var mL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gL(e,t,n){const r=pL(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mL[r]}function qC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function yL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var by=VC,wy=YC,Bf="Tabs",[vL,tee]=on(Bf,[Ti]),XC=Ti(),[xL,Sy]=vL(Bf),WC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:s="horizontal",dir:i,activationMode:l="automatic",...u}=e,f=ki(i),[d,h]=Un({prop:r,onChange:a,defaultProp:o??"",caller:Bf});return c.jsx(xL,{scope:n,baseId:aa(),value:d,onValueChange:h,orientation:s,dir:f,activationMode:l,children:c.jsx(fe.div,{dir:f,"data-orientation":s,...u,ref:t})})});WC.displayName=Bf;var KC="TabsList",QC=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=Sy(KC,n),s=XC(n);return c.jsx(by,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(fe.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});QC.displayName=KC;var JC="TabsTrigger",e2=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,s=Sy(JC,n),i=XC(n),l=r2(s.baseId,r),u=a2(s.baseId,r),f=r===s.value;return c.jsx(wy,{asChild:!0,...i,focusable:!a,active:f,children:c.jsx(fe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...o,ref:t,onMouseDown:te(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?s.onValueChange(r):d.preventDefault()}),onKeyDown:te(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(r)}),onFocus:te(e.onFocus,()=>{const d=s.activationMode!=="manual";!f&&!a&&d&&s.onValueChange(r)})})})});e2.displayName=JC;var t2="TabsContent",n2=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...s}=e,i=Sy(t2,n),l=r2(i.baseId,r),u=a2(i.baseId,r),f=r===i.value,d=p.useRef(f);return p.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(Bt,{present:a||f,children:({present:h})=>c.jsx(fe.div,{"data-state":f?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&o})})});n2.displayName=t2;function r2(e,t){return`${e}-trigger-${t}`}function a2(e,t){return`${e}-content-${t}`}var bL=WC,wL=QC,SL=e2,NL=n2;function Ny({className:e,...t}){return c.jsx(bL,{"data-slot":"tabs",className:W("flex flex-col gap-2",e),...t})}function Ey({className:e,...t}){return c.jsx(wL,{"data-slot":"tabs-list",className:W("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Gl({className:e,...t}){return c.jsx(SL,{"data-slot":"tabs-trigger",className:W("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Id({className:e,...t}){return c.jsx(NL,{"data-slot":"tabs-content",className:W("flex-1 outline-none",e),...t})}const Wt=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],EL=({currentPath:e})=>{var f;const t=An(),n=Wt.findIndex(d=>d.to===e),r=n>=0?n:0,a=d=>{const h=Wt.find(m=>m.value===d);h&&t(h.to)},o=d=>{t(d.to)},s=()=>{r>0&&t(Wt[r-1].to)},i=()=>{r<Wt.length-1&&t(Wt[r+1].to)},l=d=>{switch(d.key){case"ArrowLeft":d.preventDefault(),s();break;case"ArrowRight":d.preventDefault(),i();break;case"Home":d.preventDefault(),t(Wt[0].to);break;case"End":d.preventDefault(),t(Wt[Wt.length-1].to);break}},u=((f=Wt[r])==null?void 0:f.value)||"build";return c.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{zIndex:zt.NAVIGATION,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:l,tabIndex:0,children:c.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:c.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[c.jsx(ae,{onClick:s,disabled:r===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${r>0?Wt[r-1].label:"none"}`,children:c.jsx(B4,{className:"h-4 w-4"})}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx(Ny,{value:u,onValueChange:a,children:c.jsx(Ey,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:Wt.map((d,h)=>c.jsxs(Gl,{value:d.value,onClick:()=>o(d),className:W("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:u===d.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${h+1}: ${d.label}`,role:"tab","aria-selected":u===d.value,"aria-label":`Step ${h+1}: ${d.label}`,children:[c.jsx("span",{className:"hidden sm:inline",children:d.label}),c.jsx("span",{className:"sm:hidden",children:d.label.split(" ")[0]}),u===d.value&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},d.value))})})}),c.jsx(ae,{onClick:i,disabled:r===Wt.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${r<Wt.length-1?Wt[r+1].label:"none"}`,children:c.jsx(zf,{className:"h-4 w-4"})})]})})})},_L=()=>{const e=Rr();return c.jsxs("div",{className:"flex flex-col min-h-full",children:[c.jsx(EL,{currentPath:e.pathname}),c.jsx("div",{className:"flex-grow",children:c.jsx(GO,{})})]})};function CL(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function o2(e){const[t,n]=p.useState(void 0);return Er(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let s,i;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,i=u.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Hf="Switch",[AL,nee]=on(Hf),[kL,TL]=AL(Hf),s2=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:s,disabled:i,value:l="on",onCheckedChange:u,form:f,...d}=e,[h,m]=p.useState(null),x=Me(t,v=>m(v)),b=p.useRef(!1),S=h?f||!!h.closest("form"):!0,[y,g]=Un({prop:a,defaultProp:o??!1,onChange:u,caller:Hf});return c.jsxs(kL,{scope:n,checked:y,disabled:i,children:[c.jsx(fe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":s,"data-state":u2(y),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:x,onClick:te(e.onClick,v=>{g(w=>!w),S&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})}),S&&c.jsx(c2,{control:h,bubbles:!b.current,name:r,value:l,checked:y,required:s,disabled:i,form:f,style:{transform:"translateX(-100%)"}})]})});s2.displayName=Hf;var i2="SwitchThumb",l2=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=TL(i2,n);return c.jsx(fe.span,{"data-state":u2(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});l2.displayName=i2;var RL="SwitchBubbleInput",c2=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},o)=>{const s=p.useRef(null),i=Me(s,o),l=CL(n),u=o2(t);return p.useEffect(()=>{const f=s.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&m){const x=new Event("click",{bubbles:r});m.call(f,n),f.dispatchEvent(x)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});c2.displayName=RL;function u2(e){return e?"checked":"unchecked"}var d2=s2,jL=l2;const Zr=p.forwardRef(({className:e,...t},n)=>c.jsx(d2,{className:W("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:c.jsx(jL,{className:W("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zr.displayName=d2.displayName;function _y({itemId:e,itemType:t,itemName:n,isInBuild:r=!1,className:a,onCheckedChange:o}){const{setRace:s,setStone:i,setReligion:l,addRegularTrait:u,addBonusTrait:f,removeTrait:d,addMajorSkill:h,removeMajorSkill:m,removeMinorSkill:x,addEquipment:b,removeEquipment:S,build:y}=an(),v=r||(()=>{switch(t){case"race":return y.race===e;case"stone":return y.stone===e;case"religion":return y.religion===e;case"trait":return y.traits.regular.includes(e)||y.traits.bonus.includes(e);case"skill":return y.skills.major.includes(e)||y.skills.minor.includes(e);case"equipment":return y.equipment.includes(e);default:return!1}})(),w=A=>{if(o){o(A);return}switch(t){case"race":s(A?e:null);break;case"stone":i(A?e:null);break;case"religion":l(A?e:null);break;case"trait":A?y.traits.regular.length<2?u(e):y.traits.bonus.length<1&&f(e):d(e);break;case"skill":A?h(e):(m(e),x(e));break;case"equipment":A?b(e):S(e);break}},E=()=>v?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return c.jsx("div",{className:W("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",v?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",a),onClick:A=>{A.stopPropagation(),w(!v)},title:E(),children:c.jsx(Zr,{checked:v,onCheckedChange:w,className:W("transition-all duration-200",v?"data-[state=checked]:bg-[#d4af37]":"")})})}const lo=p.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));lo.displayName="Input";function Ff({categories:e,onSelect:t,placeholder:n="Search categories...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(null),[l,u]=p.useState(""),[f,d]=p.useState(-1),h=p.useRef(null),m=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const N=_=>{h.current&&!h.current.contains(_.target)&&(o(!1),i(null),d(-1))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const b=s||x?(s||x).options.filter(N=>{var _;return N.label.toLowerCase().includes(l.toLowerCase())||((_=N.description)==null?void 0:_.toLowerCase().includes(l.toLowerCase()))}):e.flatMap(N=>N.options.filter(_=>{var C;return _.label.toLowerCase().includes(l.toLowerCase())||((C=_.description)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))})),S=N=>{u(N),o(!0),d(-1)},y=N=>{var _;i(N),u(""),(_=m.current)==null||_.focus()},g=N=>{t(N),u(""),i(null),o(!1),d(-1)},v=N=>{N.key==="ArrowDown"?(N.preventDefault(),d(_=>Math.min(_+1,b.length-1))):N.key==="ArrowUp"?(N.preventDefault(),d(_=>Math.max(_-1,-1))):N.key==="Enter"?(N.preventDefault(),f>=0&&b[f]&&g(b[f])):N.key==="Escape"&&(o(!1),i(null),d(-1))},w=()=>{o(!0)},E=s||x,A=!x&&!s;return c.jsxs("div",{ref:h,className:`relative ${r}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(lo,{ref:m,type:"text",placeholder:E?E.placeholder:n,value:l,onChange:N=>S(N.target.value),onFocus:w,onKeyDown:v,className:"pl-10 pr-10"}),c.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:c.jsx(er,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:zt.AUTOCOMPLETE+10},children:[A&&c.jsxs("div",{className:"p-2 border-b border-border",children:[c.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(N=>c.jsxs("button",{onClick:()=>y(N),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[c.jsx("span",{children:N.name}),c.jsx(er,{className:"h-4 w-4"})]},N.id))]}),c.jsx("div",{className:"p-2",children:b.length===0?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):b.map((N,_)=>c.jsxs("button",{onClick:()=>g(N),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${_===f?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[c.jsx("div",{className:"font-medium",children:N.label}),N.description&&c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:N.description})]},N.id))})]})]})}function St({className:e,...t}){return c.jsx("div",{"data-slot":"card",className:W("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function Nt({className:e,action:t,children:n,...r}){return c.jsxs("div",{"data-slot":"card-header",className:W("flex flex-row items-start justify-between space-y-0",e),...r,children:[c.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&c.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function Et({className:e,...t}){return c.jsx("div",{"data-slot":"card-title",className:W("text-xl font-bold leading-none",e),...t})}function Va({className:e,...t}){return c.jsx("div",{"data-slot":"card-description",className:W("text-base text-muted-foreground",e),...t})}function _t({className:e,...t}){return c.jsx("div",{"data-slot":"card-content",className:W("pt-0",e),...t})}const ML=["top","right","bottom","left"],ao=Math.min,gn=Math.max,Bd=Math.round,mu=Math.floor,wr=e=>({x:e,y:e}),DL={left:"right",right:"left",bottom:"top",top:"bottom"},zL={start:"end",end:"start"};function sg(e,t,n){return gn(e,ao(t,n))}function fa(e,t){return typeof e=="function"?e(t):e}function ha(e){return e.split("-")[0]}function Ri(e){return e.split("-")[1]}function Cy(e){return e==="x"?"y":"x"}function Ay(e){return e==="y"?"height":"width"}const OL=new Set(["top","bottom"]);function gr(e){return OL.has(ha(e))?"y":"x"}function ky(e){return Cy(gr(e))}function $L(e,t,n){n===void 0&&(n=!1);const r=Ri(e),a=ky(e),o=Ay(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Hd(s)),[s,Hd(s)]}function PL(e){const t=Hd(e);return[ig(e),t,ig(t)]}function ig(e){return e.replace(/start|end/g,t=>zL[t])}const sw=["left","right"],iw=["right","left"],LL=["top","bottom"],IL=["bottom","top"];function BL(e,t,n){switch(e){case"top":case"bottom":return n?t?iw:sw:t?sw:iw;case"left":case"right":return t?LL:IL;default:return[]}}function HL(e,t,n,r){const a=Ri(e);let o=BL(ha(e),n==="start",r);return a&&(o=o.map(s=>s+"-"+a),t&&(o=o.concat(o.map(ig)))),o}function Hd(e){return e.replace(/left|right|bottom|top/g,t=>DL[t])}function FL(e){return{top:0,right:0,bottom:0,left:0,...e}}function f2(e){return typeof e!="number"?FL(e):{top:e,right:e,bottom:e,left:e}}function Fd(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function lw(e,t,n){let{reference:r,floating:a}=e;const o=gr(t),s=ky(t),i=Ay(s),l=ha(t),u=o==="y",f=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,h=r[i]/2-a[i]/2;let m;switch(l){case"top":m={x:f,y:r.y-a.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-a.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Ri(t)){case"start":m[s]-=h*(n&&u?-1:1);break;case"end":m[s]+=h*(n&&u?-1:1);break}return m}const UL=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,i=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=lw(u,r,l),h=r,m={},x=0;for(let b=0;b<i.length;b++){const{name:S,fn:y}=i[b],{x:g,y:v,data:w,reset:E}=await y({x:f,y:d,initialPlacement:r,placement:h,strategy:a,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});f=g??f,d=v??d,m={...m,[S]:{...m[S],...w}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:f,y:d}=lw(u,h,l)),b=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:m}};async function Vl(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:s,elements:i,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=fa(t,e),x=f2(m),S=i[h?d==="floating"?"reference":"floating":d],y=Fd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:u,rootBoundary:f,strategy:l})),g=d==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),w=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},E=Fd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:v,strategy:l}):g);return{top:(y.top-E.top+x.top)/w.y,bottom:(E.bottom-y.bottom+x.bottom)/w.y,left:(y.left-E.left+x.left)/w.x,right:(E.right-y.right+x.right)/w.x}}const GL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:s,elements:i,middlewareData:l}=t,{element:u,padding:f=0}=fa(e,t)||{};if(u==null)return{};const d=f2(f),h={x:n,y:r},m=ky(a),x=Ay(m),b=await s.getDimensions(u),S=m==="y",y=S?"top":"left",g=S?"bottom":"right",v=S?"clientHeight":"clientWidth",w=o.reference[x]+o.reference[m]-h[m]-o.floating[x],E=h[m]-o.reference[m],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=A?A[v]:0;(!N||!await(s.isElement==null?void 0:s.isElement(A)))&&(N=i.floating[v]||o.floating[x]);const _=w/2-E/2,C=N/2-b[x]/2-1,k=ao(d[y],C),j=ao(d[g],C),B=k,$=N-b[x]-j,T=N/2-b[x]/2+_,z=sg(B,T,$),R=!l.arrow&&Ri(a)!=null&&T!==z&&o.reference[x]/2-(T<B?k:j)-b[x]/2<0,L=R?T<B?T-B:T-$:0;return{[m]:h[m]+L,data:{[m]:z,centerOffset:T-z-L,...R&&{alignmentOffset:L}},reset:R}}}),VL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:s,initialPlacement:i,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...S}=fa(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=ha(a),g=gr(i),v=ha(i)===i,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(v||!b?[Hd(i)]:PL(i)),A=x!=="none";!h&&A&&E.push(...HL(i,b,x,w));const N=[i,...E],_=await Vl(t,S),C=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&C.push(_[y]),d){const T=$L(a,s,w);C.push(_[T[0]],_[T[1]])}if(k=[...k,{placement:a,overflows:C}],!C.every(T=>T<=0)){var j,B;const T=(((j=o.flip)==null?void 0:j.index)||0)+1,z=N[T];if(z&&(!(d==="alignment"?g!==gr(z):!1)||k.every(O=>O.overflows[0]>0&&gr(O.placement)===g)))return{data:{index:T,overflows:k},reset:{placement:z}};let R=(B=k.filter(L=>L.overflows[0]<=0).sort((L,O)=>L.overflows[1]-O.overflows[1])[0])==null?void 0:B.placement;if(!R)switch(m){case"bestFit":{var $;const L=($=k.filter(O=>{if(A){const M=gr(O.placement);return M===g||M==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(M=>M>0).reduce((M,I)=>M+I,0)]).sort((O,M)=>O[1]-M[1])[0])==null?void 0:$[0];L&&(R=L);break}case"initialPlacement":R=i;break}if(a!==R)return{reset:{placement:R}}}return{}}}};function cw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uw(e){return ML.some(t=>e[t]>=0)}const ZL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=fa(e,t);switch(r){case"referenceHidden":{const o=await Vl(t,{...a,elementContext:"reference"}),s=cw(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:uw(s)}}}case"escaped":{const o=await Vl(t,{...a,altBoundary:!0}),s=cw(o,n.floating);return{data:{escapedOffsets:s,escaped:uw(s)}}}default:return{}}}}},h2=new Set(["left","top"]);async function YL(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=ha(n),i=Ri(n),l=gr(n)==="y",u=h2.has(s)?-1:1,f=o&&l?-1:1,d=fa(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return i&&typeof x=="number"&&(m=i==="end"?x*-1:x),l?{x:m*f,y:h*u}:{x:h*u,y:m*f}}const qL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:s,middlewareData:i}=t,l=await YL(t,e);return s===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:a+l.x,y:o+l.y,data:{...l,placement:s}}}}},XL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:i={fn:S=>{let{x:y,y:g}=S;return{x:y,y:g}}},...l}=fa(e,t),u={x:n,y:r},f=await Vl(t,l),d=gr(ha(a)),h=Cy(d);let m=u[h],x=u[d];if(o){const S=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=m+f[S],v=m-f[y];m=sg(g,m,v)}if(s){const S=d==="y"?"top":"left",y=d==="y"?"bottom":"right",g=x+f[S],v=x-f[y];x=sg(g,x,v)}const b=i.fn({...t,[h]:m,[d]:x});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[h]:o,[d]:s}}}}}},WL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:s}=t,{offset:i=0,mainAxis:l=!0,crossAxis:u=!0}=fa(e,t),f={x:n,y:r},d=gr(a),h=Cy(d);let m=f[h],x=f[d];const b=fa(i,t),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const v=h==="y"?"height":"width",w=o.reference[h]-o.floating[v]+S.mainAxis,E=o.reference[h]+o.reference[v]-S.mainAxis;m<w?m=w:m>E&&(m=E)}if(u){var y,g;const v=h==="y"?"width":"height",w=h2.has(ha(a)),E=o.reference[d]-o.floating[v]+(w&&((y=s.offset)==null?void 0:y[d])||0)+(w?0:S.crossAxis),A=o.reference[d]+o.reference[v]+(w?0:((g=s.offset)==null?void 0:g[d])||0)-(w?S.crossAxis:0);x<E?x=E:x>A&&(x=A)}return{[h]:m,[d]:x}}}},KL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:s,elements:i}=t,{apply:l=()=>{},...u}=fa(e,t),f=await Vl(t,u),d=ha(a),h=Ri(a),m=gr(a)==="y",{width:x,height:b}=o.floating;let S,y;d==="top"||d==="bottom"?(S=d,y=h===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(y=d,S=h==="end"?"top":"bottom");const g=b-f.top-f.bottom,v=x-f.left-f.right,w=ao(b-f[S],g),E=ao(x-f[y],v),A=!t.middlewareData.shift;let N=w,_=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=g),A&&!h){const k=gn(f.left,0),j=gn(f.right,0),B=gn(f.top,0),$=gn(f.bottom,0);m?_=x-2*(k!==0||j!==0?k+j:gn(f.left,f.right)):N=b-2*(B!==0||$!==0?B+$:gn(f.top,f.bottom))}await l({...t,availableWidth:_,availableHeight:N});const C=await s.getDimensions(i.floating);return x!==C.width||b!==C.height?{reset:{rects:!0}}:{}}}};function Uf(){return typeof window<"u"}function ji(e){return m2(e)?(e.nodeName||"").toLowerCase():"#document"}function En(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jr(e){var t;return(t=(m2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m2(e){return Uf()?e instanceof Node||e instanceof En(e).Node:!1}function tr(e){return Uf()?e instanceof Element||e instanceof En(e).Element:!1}function _r(e){return Uf()?e instanceof HTMLElement||e instanceof En(e).HTMLElement:!1}function dw(e){return!Uf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof En(e).ShadowRoot}const QL=new Set(["inline","contents"]);function Oc(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=nr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!QL.has(a)}const JL=new Set(["table","td","th"]);function e6(e){return JL.has(ji(e))}const t6=[":popover-open",":modal"];function Gf(e){return t6.some(t=>{try{return e.matches(t)}catch{return!1}})}const n6=["transform","translate","scale","rotate","perspective"],r6=["transform","translate","scale","rotate","perspective","filter"],a6=["paint","layout","strict","content"];function Ty(e){const t=Ry(),n=tr(e)?nr(e):e;return n6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||r6.some(r=>(n.willChange||"").includes(r))||a6.some(r=>(n.contain||"").includes(r))}function o6(e){let t=oo(e);for(;_r(t)&&!ci(t);){if(Ty(t))return t;if(Gf(t))return null;t=oo(t)}return null}function Ry(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const s6=new Set(["html","body","#document"]);function ci(e){return s6.has(ji(e))}function nr(e){return En(e).getComputedStyle(e)}function Vf(e){return tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oo(e){if(ji(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dw(e)&&e.host||jr(e);return dw(t)?t.host:t}function p2(e){const t=oo(e);return ci(t)?e.ownerDocument?e.ownerDocument.body:e.body:_r(t)&&Oc(t)?t:p2(t)}function Zl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=p2(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),s=En(a);if(o){const i=lg(s);return t.concat(s,s.visualViewport||[],Oc(a)?a:[],i&&n?Zl(i):[])}return t.concat(a,Zl(a,[],n))}function lg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function g2(e){const t=nr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=_r(e),o=a?e.offsetWidth:n,s=a?e.offsetHeight:r,i=Bd(n)!==o||Bd(r)!==s;return i&&(n=o,r=s),{width:n,height:r,$:i}}function jy(e){return tr(e)?e:e.contextElement}function Us(e){const t=jy(e);if(!_r(t))return wr(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=g2(t);let s=(o?Bd(n.width):n.width)/r,i=(o?Bd(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const i6=wr(0);function y2(e){const t=En(e);return!Ry()||!t.visualViewport?i6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function l6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==En(e)?!1:t}function Bo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=jy(e);let s=wr(1);t&&(r?tr(r)&&(s=Us(r)):s=Us(e));const i=l6(o,n,r)?y2(o):wr(0);let l=(a.left+i.x)/s.x,u=(a.top+i.y)/s.y,f=a.width/s.x,d=a.height/s.y;if(o){const h=En(o),m=r&&tr(r)?En(r):r;let x=h,b=lg(x);for(;b&&r&&m!==x;){const S=Us(b),y=b.getBoundingClientRect(),g=nr(b),v=y.left+(b.clientLeft+parseFloat(g.paddingLeft))*S.x,w=y.top+(b.clientTop+parseFloat(g.paddingTop))*S.y;l*=S.x,u*=S.y,f*=S.x,d*=S.y,l+=v,u+=w,x=En(b),b=lg(x)}}return Fd({width:f,height:d,x:l,y:u})}function My(e,t){const n=Vf(e).scrollLeft;return t?t.left+n:Bo(jr(e)).left+n}function v2(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:My(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function c6(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",s=jr(r),i=t?Gf(t.floating):!1;if(r===s||i&&o)return n;let l={scrollLeft:0,scrollTop:0},u=wr(1);const f=wr(0),d=_r(r);if((d||!d&&!o)&&((ji(r)!=="body"||Oc(s))&&(l=Vf(r)),_r(r))){const m=Bo(r);u=Us(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const h=s&&!d&&!o?v2(s,l,!0):wr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+h.x,y:n.y*u.y-l.scrollTop*u.y+f.y+h.y}}function u6(e){return Array.from(e.getClientRects())}function d6(e){const t=jr(e),n=Vf(e),r=e.ownerDocument.body,a=gn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=gn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+My(e);const i=-n.scrollTop;return nr(r).direction==="rtl"&&(s+=gn(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:s,y:i}}function f6(e,t){const n=En(e),r=jr(e),a=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,i=0,l=0;if(a){o=a.width,s=a.height;const u=Ry();(!u||u&&t==="fixed")&&(i=a.offsetLeft,l=a.offsetTop)}return{width:o,height:s,x:i,y:l}}const h6=new Set(["absolute","fixed"]);function m6(e,t){const n=Bo(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=_r(e)?Us(e):wr(1),s=e.clientWidth*o.x,i=e.clientHeight*o.y,l=a*o.x,u=r*o.y;return{width:s,height:i,x:l,y:u}}function fw(e,t,n){let r;if(t==="viewport")r=f6(e,n);else if(t==="document")r=d6(jr(e));else if(tr(t))r=m6(t,n);else{const a=y2(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Fd(r)}function x2(e,t){const n=oo(e);return n===t||!tr(n)||ci(n)?!1:nr(n).position==="fixed"||x2(n,t)}function p6(e,t){const n=t.get(e);if(n)return n;let r=Zl(e,[],!1).filter(i=>tr(i)&&ji(i)!=="body"),a=null;const o=nr(e).position==="fixed";let s=o?oo(e):e;for(;tr(s)&&!ci(s);){const i=nr(s),l=Ty(s);!l&&i.position==="fixed"&&(a=null),(o?!l&&!a:!l&&i.position==="static"&&!!a&&h6.has(a.position)||Oc(s)&&!l&&x2(e,s))?r=r.filter(f=>f!==s):a=i,s=oo(s)}return t.set(e,r),r}function g6(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?Gf(t)?[]:p6(t,this._c):[].concat(n),r],i=s[0],l=s.reduce((u,f)=>{const d=fw(t,f,a);return u.top=gn(d.top,u.top),u.right=ao(d.right,u.right),u.bottom=ao(d.bottom,u.bottom),u.left=gn(d.left,u.left),u},fw(t,i,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function y6(e){const{width:t,height:n}=g2(e);return{width:t,height:n}}function v6(e,t,n){const r=_r(t),a=jr(t),o=n==="fixed",s=Bo(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const l=wr(0);function u(){l.x=My(a)}if(r||!r&&!o)if((ji(t)!=="body"||Oc(a))&&(i=Vf(t)),r){const m=Bo(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&u();o&&!r&&a&&u();const f=a&&!r&&!o?v2(a,i):wr(0),d=s.left+i.scrollLeft-l.x-f.x,h=s.top+i.scrollTop-l.y-f.y;return{x:d,y:h,width:s.width,height:s.height}}function xm(e){return nr(e).position==="static"}function hw(e,t){if(!_r(e)||nr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jr(e)===n&&(n=n.ownerDocument.body),n}function b2(e,t){const n=En(e);if(Gf(e))return n;if(!_r(e)){let a=oo(e);for(;a&&!ci(a);){if(tr(a)&&!xm(a))return a;a=oo(a)}return n}let r=hw(e,t);for(;r&&e6(r)&&xm(r);)r=hw(r,t);return r&&ci(r)&&xm(r)&&!Ty(r)?n:r||o6(e)||n}const x6=async function(e){const t=this.getOffsetParent||b2,n=this.getDimensions,r=await n(e.floating);return{reference:v6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b6(e){return nr(e).direction==="rtl"}const w6={convertOffsetParentRelativeRectToViewportRelativeRect:c6,getDocumentElement:jr,getClippingRect:g6,getOffsetParent:b2,getElementRects:x6,getClientRects:u6,getDimensions:y6,getScale:Us,isElement:tr,isRTL:b6};function w2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function S6(e,t){let n=null,r;const a=jr(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function s(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:m}=u;if(i||t(),!h||!m)return;const x=mu(d),b=mu(a.clientWidth-(f+h)),S=mu(a.clientHeight-(d+m)),y=mu(f),v={rootMargin:-x+"px "+-b+"px "+-S+"px "+-y+"px",threshold:gn(0,ao(1,l))||1};let w=!0;function E(A){const N=A[0].intersectionRatio;if(N!==l){if(!w)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!w2(u,e.getBoundingClientRect())&&s(),w=!1}try{n=new IntersectionObserver(E,{...v,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(e)}return s(!0),o}function N6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=jy(e),f=a||o?[...u?Zl(u):[],...Zl(t)]:[];f.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=u&&i?S6(u,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let x,b=l?Bo(e):null;l&&S();function S(){const y=Bo(e);b&&!w2(b,y)&&n(),b=y,x=requestAnimationFrame(S)}return n(),()=>{var y;f.forEach(g=>{a&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),d==null||d(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const E6=qL,_6=XL,C6=VL,A6=KL,k6=ZL,mw=GL,T6=WL,R6=(e,t,n)=>{const r=new Map,a={platform:w6,...n},o={...a.platform,_c:r};return UL(e,t,{...a,platform:o})};var j6=typeof document<"u",M6=function(){},Ju=j6?p.useLayoutEffect:M6;function Ud(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ud(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Ud(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function S2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pw(e,t){const n=S2(e);return Math.round(t*n)/n}function bm(e){const t=p.useRef(e);return Ju(()=>{t.current=e}),t}function D6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:s}={},transform:i=!0,whileElementsMounted:l,open:u}=e,[f,d]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Ud(h,r)||m(r);const[x,b]=p.useState(null),[S,y]=p.useState(null),g=p.useCallback(O=>{O!==A.current&&(A.current=O,b(O))},[]),v=p.useCallback(O=>{O!==N.current&&(N.current=O,y(O))},[]),w=o||x,E=s||S,A=p.useRef(null),N=p.useRef(null),_=p.useRef(f),C=l!=null,k=bm(l),j=bm(a),B=bm(u),$=p.useCallback(()=>{if(!A.current||!N.current)return;const O={placement:t,strategy:n,middleware:h};j.current&&(O.platform=j.current),R6(A.current,N.current,O).then(M=>{const I={...M,isPositioned:B.current!==!1};T.current&&!Ud(_.current,I)&&(_.current=I,lc.flushSync(()=>{d(I)}))})},[h,t,n,j,B]);Ju(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[u]);const T=p.useRef(!1);Ju(()=>(T.current=!0,()=>{T.current=!1}),[]),Ju(()=>{if(w&&(A.current=w),E&&(N.current=E),w&&E){if(k.current)return k.current(w,E,$);$()}},[w,E,$,k,C]);const z=p.useMemo(()=>({reference:A,floating:N,setReference:g,setFloating:v}),[g,v]),R=p.useMemo(()=>({reference:w,floating:E}),[w,E]),L=p.useMemo(()=>{const O={position:n,left:0,top:0};if(!R.floating)return O;const M=pw(R.floating,f.x),I=pw(R.floating,f.y);return i?{...O,transform:"translate("+M+"px, "+I+"px)",...S2(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:I}},[n,i,R.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:$,refs:z,elements:R,floatingStyles:L}),[f,$,z,R,L])}const z6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mw({element:r.current,padding:a}).fn(n):{}:r?mw({element:r,padding:a}).fn(n):{}}}},O6=(e,t)=>({...E6(e),options:[e,t]}),$6=(e,t)=>({..._6(e),options:[e,t]}),P6=(e,t)=>({...T6(e),options:[e,t]}),L6=(e,t)=>({...C6(e),options:[e,t]}),I6=(e,t)=>({...A6(e),options:[e,t]}),B6=(e,t)=>({...k6(e),options:[e,t]}),H6=(e,t)=>({...z6(e),options:[e,t]});var F6="Arrow",N2=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return c.jsx(fe.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});N2.displayName=F6;var U6=N2,Dy="Popper",[E2,Mi]=on(Dy),[G6,_2]=E2(Dy),C2=e=>{const{__scopePopper:t,children:n}=e,[r,a]=p.useState(null);return c.jsx(G6,{scope:t,anchor:r,onAnchorChange:a,children:n})};C2.displayName=Dy;var A2="PopperAnchor",k2=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=_2(A2,n),s=p.useRef(null),i=Me(t,s);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:c.jsx(fe.div,{...a,ref:i})});k2.displayName=A2;var zy="PopperContent",[V6,Z6]=E2(zy),T2=p.forwardRef((e,t)=>{var G,Y,K,Q,he,me;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...b}=e,S=_2(zy,n),[y,g]=p.useState(null),v=Me(t,ue=>g(ue)),[w,E]=p.useState(null),A=o2(w),N=(A==null?void 0:A.width)??0,_=(A==null?void 0:A.height)??0,C=r+(o!=="center"?"-"+o:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},j=Array.isArray(u)?u:[u],B=j.length>0,$={padding:k,boundary:j.filter(q6),altBoundary:B},{refs:T,floatingStyles:z,placement:R,isPositioned:L,middlewareData:O}=D6({strategy:"fixed",placement:C,whileElementsMounted:(...ue)=>N6(...ue,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[O6({mainAxis:a+_,alignmentAxis:s}),l&&$6({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?P6():void 0,...$}),l&&L6({...$}),I6({...$,apply:({elements:ue,rects:ee,availableWidth:Re,availableHeight:st})=>{const{width:Ne,height:J}=ee.reference,Ye=ue.floating.style;Ye.setProperty("--radix-popper-available-width",`${Re}px`),Ye.setProperty("--radix-popper-available-height",`${st}px`),Ye.setProperty("--radix-popper-anchor-width",`${Ne}px`),Ye.setProperty("--radix-popper-anchor-height",`${J}px`)}}),w&&H6({element:w,padding:i}),X6({arrowWidth:N,arrowHeight:_}),h&&B6({strategy:"referenceHidden",...$})]}),[M,I]=M2(R),F=Pt(x);Er(()=>{L&&(F==null||F())},[L,F]);const V=(G=O.arrow)==null?void 0:G.x,U=(Y=O.arrow)==null?void 0:Y.y,P=((K=O.arrow)==null?void 0:K.centerOffset)!==0,[H,Z]=p.useState();return Er(()=>{y&&Z(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:L?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(Q=O.transformOrigin)==null?void 0:Q.x,(he=O.transformOrigin)==null?void 0:he.y].join(" "),...((me=O.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(V6,{scope:n,placedSide:M,onArrowChange:E,arrowX:V,arrowY:U,shouldHideArrow:P,children:c.jsx(fe.div,{"data-side":M,"data-align":I,...b,ref:v,style:{...b.style,animation:L?void 0:"none"}})})})});T2.displayName=zy;var R2="PopperArrow",Y6={top:"bottom",right:"left",bottom:"top",left:"right"},j2=p.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=Z6(R2,r),s=Y6[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(U6,{...a,ref:n,style:{...a.style,display:"block"}})})});j2.displayName=R2;function q6(e){return e!==null}var X6=e=>({name:"transformOrigin",options:e,fn(t){var S,y,g;const{placement:n,rects:r,middlewareData:a}=t,s=((S=a.arrow)==null?void 0:S.centerOffset)!==0,i=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,f]=M2(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((y=a.arrow)==null?void 0:y.x)??0)+i/2,m=(((g=a.arrow)==null?void 0:g.y)??0)+l/2;let x="",b="";return u==="bottom"?(x=s?d:`${h}px`,b=`${-l}px`):u==="top"?(x=s?d:`${h}px`,b=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,b=s?d:`${m}px`):u==="left"&&(x=`${r.floating.width+l}px`,b=s?d:`${m}px`),{data:{x,y:b}}}});function M2(e){const[t,n="center"]=e.split("-");return[t,n]}var D2=C2,Oy=k2,$y=T2,Py=j2,cg=["Enter"," "],W6=["ArrowDown","PageUp","Home"],z2=["ArrowUp","PageDown","End"],K6=[...W6,...z2],Q6={ltr:[...cg,"ArrowRight"],rtl:[...cg,"ArrowLeft"]},J6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$c="Menu",[Yl,e8,t8]=xy($c),[Qo,O2]=on($c,[t8,Mi,Ti]),Zf=Mi(),$2=Ti(),[n8,Jo]=Qo($c),[r8,Pc]=Qo($c),P2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:s=!0}=e,i=Zf(t),[l,u]=p.useState(null),f=p.useRef(!1),d=Pt(o),h=ki(a);return p.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),c.jsx(D2,{...i,children:c.jsx(n8,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:u,children:c.jsx(r8,{scope:t,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:s,children:r})})})};P2.displayName=$c;var a8="MenuAnchor",Ly=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Zf(n);return c.jsx(Oy,{...a,...r,ref:t})});Ly.displayName=a8;var Iy="MenuPortal",[o8,L2]=Qo(Iy,{forceMount:void 0}),I2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=Jo(Iy,t);return c.jsx(o8,{scope:t,forceMount:n,children:c.jsx(Bt,{present:n||o.open,children:c.jsx(uy,{asChild:!0,container:a,children:r})})})};I2.displayName=Iy;var In="MenuContent",[s8,By]=Qo(In),B2=p.forwardRef((e,t)=>{const n=L2(In,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Jo(In,e.__scopeMenu),s=Pc(In,e.__scopeMenu);return c.jsx(Yl.Provider,{scope:e.__scopeMenu,children:c.jsx(Bt,{present:r||o.open,children:c.jsx(Yl.Slot,{scope:e.__scopeMenu,children:s.modal?c.jsx(i8,{...a,ref:t}):c.jsx(l8,{...a,ref:t})})})})}),i8=p.forwardRef((e,t)=>{const n=Jo(In,e.__scopeMenu),r=p.useRef(null),a=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return dC(o)},[]),c.jsx(Hy,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),l8=p.forwardRef((e,t)=>{const n=Jo(In,e.__scopeMenu);return c.jsx(Hy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),c8=li("MenuContent.ScrollLock"),Hy=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...b}=e,S=Jo(In,n),y=Pc(In,n),g=Zf(n),v=$2(n),w=e8(n),[E,A]=p.useState(null),N=p.useRef(null),_=Me(t,N,S.onContentChange),C=p.useRef(0),k=p.useRef(""),j=p.useRef(0),B=p.useRef(null),$=p.useRef("right"),T=p.useRef(0),z=x?dy:p.Fragment,R=x?{as:c8,allowPinchZoom:!0}:void 0,L=M=>{var G,Y;const I=k.current+M,F=w().filter(K=>!K.disabled),V=document.activeElement,U=(G=F.find(K=>K.ref.current===V))==null?void 0:G.textValue,P=F.map(K=>K.textValue),H=w8(P,I,U),Z=(Y=F.find(K=>K.textValue===H))==null?void 0:Y.ref.current;(function K(Q){k.current=Q,window.clearTimeout(C.current),Q!==""&&(C.current=window.setTimeout(()=>K(""),1e3))})(I),Z&&setTimeout(()=>Z.focus())};p.useEffect(()=>()=>window.clearTimeout(C.current),[]),nC();const O=p.useCallback(M=>{var F,V;return $.current===((F=B.current)==null?void 0:F.side)&&N8(M,(V=B.current)==null?void 0:V.area)},[]);return c.jsx(s8,{scope:n,searchRef:k,onItemEnter:p.useCallback(M=>{O(M)&&M.preventDefault()},[O]),onItemLeave:p.useCallback(M=>{var I;O(M)||((I=N.current)==null||I.focus(),A(null))},[O]),onTriggerLeave:p.useCallback(M=>{O(M)&&M.preventDefault()},[O]),pointerGraceTimerRef:j,onPointerGraceIntentChange:p.useCallback(M=>{B.current=M},[]),children:c.jsx(z,{...R,children:c.jsx(cy,{asChild:!0,trapped:a,onMountAutoFocus:te(o,M=>{var I;M.preventDefault(),(I=N.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:c.jsx(jc,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,children:c.jsx(by,{asChild:!0,...v,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:A,onEntryFocus:te(l,M=>{y.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx($y,{role:"menu","aria-orientation":"vertical","data-state":nA(S.open),"data-radix-menu-content":"",dir:y.dir,...g,...b,ref:_,style:{outline:"none",...b.style},onKeyDown:te(b.onKeyDown,M=>{const F=M.target.closest("[data-radix-menu-content]")===M.currentTarget,V=M.ctrlKey||M.altKey||M.metaKey,U=M.key.length===1;F&&(M.key==="Tab"&&M.preventDefault(),!V&&U&&L(M.key));const P=N.current;if(M.target!==P||!K6.includes(M.key))return;M.preventDefault();const Z=w().filter(G=>!G.disabled).map(G=>G.ref.current);z2.includes(M.key)&&Z.reverse(),x8(Z)}),onBlur:te(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(C.current),k.current="")}),onPointerMove:te(e.onPointerMove,ql(M=>{const I=M.target,F=T.current!==M.clientX;if(M.currentTarget.contains(I)&&F){const V=M.clientX>T.current?"right":"left";$.current=V,T.current=M.clientX}}))})})})})})})});B2.displayName=In;var u8="MenuGroup",Fy=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(fe.div,{role:"group",...r,ref:t})});Fy.displayName=u8;var d8="MenuLabel",H2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(fe.div,{...r,ref:t})});H2.displayName=d8;var Gd="MenuItem",gw="menu.itemSelect",Yf=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,o=p.useRef(null),s=Pc(Gd,e.__scopeMenu),i=By(Gd,e.__scopeMenu),l=Me(t,o),u=p.useRef(!1),f=()=>{const d=o.current;if(!n&&d){const h=new CustomEvent(gw,{bubbles:!0,cancelable:!0});d.addEventListener(gw,m=>r==null?void 0:r(m),{once:!0}),Q_(d,h),h.defaultPrevented?u.current=!1:s.onClose()}};return c.jsx(F2,{...a,ref:l,disabled:n,onClick:te(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:te(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:te(e.onKeyDown,d=>{const h=i.searchRef.current!=="";n||h&&d.key===" "||cg.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Yf.displayName=Gd;var F2=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=e,s=By(Gd,n),i=$2(n),l=p.useRef(null),u=Me(t,l),[f,d]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const x=l.current;x&&m((x.textContent??"").trim())},[o.children]),c.jsx(Yl.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:c.jsx(wy,{asChild:!0,...i,focusable:!r,children:c.jsx(fe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:te(e.onPointerMove,ql(x=>{r?s.onItemLeave(x):(s.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,ql(x=>s.onItemLeave(x))),onFocus:te(e.onFocus,()=>d(!0)),onBlur:te(e.onBlur,()=>d(!1))})})})}),f8="MenuCheckboxItem",U2=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return c.jsx(q2,{scope:e.__scopeMenu,checked:n,children:c.jsx(Yf,{role:"menuitemcheckbox","aria-checked":Vd(n)?"mixed":n,...a,ref:t,"data-state":Gy(n),onSelect:te(a.onSelect,()=>r==null?void 0:r(Vd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});U2.displayName=f8;var G2="MenuRadioGroup",[h8,m8]=Qo(G2,{value:void 0,onValueChange:()=>{}}),V2=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,o=Pt(r);return c.jsx(h8,{scope:e.__scopeMenu,value:n,onValueChange:o,children:c.jsx(Fy,{...a,ref:t})})});V2.displayName=G2;var Z2="MenuRadioItem",Y2=p.forwardRef((e,t)=>{const{value:n,...r}=e,a=m8(Z2,e.__scopeMenu),o=n===a.value;return c.jsx(q2,{scope:e.__scopeMenu,checked:o,children:c.jsx(Yf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Gy(o),onSelect:te(r.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,n)},{checkForDefaultPrevented:!1})})})});Y2.displayName=Z2;var Uy="MenuItemIndicator",[q2,p8]=Qo(Uy,{checked:!1}),X2=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,o=p8(Uy,n);return c.jsx(Bt,{present:r||Vd(o.checked)||o.checked===!0,children:c.jsx(fe.span,{...a,ref:t,"data-state":Gy(o.checked)})})});X2.displayName=Uy;var g8="MenuSeparator",W2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(fe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});W2.displayName=g8;var y8="MenuArrow",K2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Zf(n);return c.jsx(Py,{...a,...r,ref:t})});K2.displayName=y8;var v8="MenuSub",[ree,Q2]=Qo(v8),nl="MenuSubTrigger",J2=p.forwardRef((e,t)=>{const n=Jo(nl,e.__scopeMenu),r=Pc(nl,e.__scopeMenu),a=Q2(nl,e.__scopeMenu),o=By(nl,e.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},f=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>f,[f]),p.useEffect(()=>{const d=i.current;return()=>{window.clearTimeout(d),l(null)}},[i,l]),c.jsx(Ly,{asChild:!0,...u,children:c.jsx(F2,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":nA(n.open),...e,ref:Pf(t,a.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,ql(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:te(e.onPointerLeave,ql(d=>{var m,x;f();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const b=(x=n.content)==null?void 0:x.dataset.side,S=b==="right",y=S?-5:5,g=h[S?"left":"right"],v=h[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:g,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:g,y:h.bottom}],side:b}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,d=>{var m;const h=o.searchRef.current!=="";e.disabled||h&&d.key===" "||Q6[r.dir].includes(d.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),d.preventDefault())})})})});J2.displayName=nl;var eA="MenuSubContent",tA=p.forwardRef((e,t)=>{const n=L2(In,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Jo(In,e.__scopeMenu),s=Pc(In,e.__scopeMenu),i=Q2(eA,e.__scopeMenu),l=p.useRef(null),u=Me(t,l);return c.jsx(Yl.Provider,{scope:e.__scopeMenu,children:c.jsx(Bt,{present:r||o.open,children:c.jsx(Yl.Slot,{scope:e.__scopeMenu,children:c.jsx(Hy,{id:i.contentId,"aria-labelledby":i.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;s.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:te(e.onFocusOutside,f=>{f.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,f=>{s.onClose(),f.preventDefault()}),onKeyDown:te(e.onKeyDown,f=>{var m;const d=f.currentTarget.contains(f.target),h=J6[s.dir].includes(f.key);d&&h&&(o.onOpenChange(!1),(m=i.trigger)==null||m.focus(),f.preventDefault())})})})})})});tA.displayName=eA;function nA(e){return e?"open":"closed"}function Vd(e){return e==="indeterminate"}function Gy(e){return Vd(e)?"indeterminate":e?"checked":"unchecked"}function x8(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function b8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function w8(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=b8(e,Math.max(o,0));a.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==n?l:void 0}function S8(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],l=t[s],u=i.x,f=i.y,d=l.x,h=l.y;f>r!=h>r&&n<(d-u)*(r-f)/(h-f)+u&&(a=!a)}return a}function N8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return S8(n,t)}function ql(e){return t=>t.pointerType==="mouse"?e(t):void 0}var E8=P2,_8=Ly,C8=I2,A8=B2,k8=Fy,T8=H2,R8=Yf,j8=U2,M8=V2,D8=Y2,z8=X2,O8=W2,$8=K2,P8=J2,L8=tA,qf="DropdownMenu",[I8,aee]=on(qf,[O2]),Zt=O2(),[B8,rA]=I8(qf),aA=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,l=Zt(t),u=p.useRef(null),[f,d]=Un({prop:a,defaultProp:o??!1,onChange:s,caller:qf});return c.jsx(B8,{scope:t,triggerId:aa(),triggerRef:u,contentId:aa(),open:f,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:i,children:c.jsx(E8,{...l,open:f,onOpenChange:d,dir:r,modal:i,children:n})})};aA.displayName=qf;var oA="DropdownMenuTrigger",sA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,o=rA(oA,n),s=Zt(n);return c.jsx(_8,{asChild:!0,...s,children:c.jsx(fe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Pf(t,o.triggerRef),onPointerDown:te(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:te(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});sA.displayName=oA;var H8="DropdownMenuPortal",iA=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Zt(t);return c.jsx(C8,{...r,...n})};iA.displayName=H8;var lA="DropdownMenuContent",cA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=rA(lA,n),o=Zt(n),s=p.useRef(!1);return c.jsx(A8,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,i=>{var l;s.current||(l=a.triggerRef.current)==null||l.focus(),s.current=!1,i.preventDefault()}),onInteractOutside:te(e.onInteractOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!a.modal||f)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cA.displayName=lA;var F8="DropdownMenuGroup",U8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(k8,{...a,...r,ref:t})});U8.displayName=F8;var G8="DropdownMenuLabel",uA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(T8,{...a,...r,ref:t})});uA.displayName=G8;var V8="DropdownMenuItem",dA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(R8,{...a,...r,ref:t})});dA.displayName=V8;var Z8="DropdownMenuCheckboxItem",fA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(j8,{...a,...r,ref:t})});fA.displayName=Z8;var Y8="DropdownMenuRadioGroup",q8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(M8,{...a,...r,ref:t})});q8.displayName=Y8;var X8="DropdownMenuRadioItem",hA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(D8,{...a,...r,ref:t})});hA.displayName=X8;var W8="DropdownMenuItemIndicator",mA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(z8,{...a,...r,ref:t})});mA.displayName=W8;var K8="DropdownMenuSeparator",pA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(O8,{...a,...r,ref:t})});pA.displayName=K8;var Q8="DropdownMenuArrow",J8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx($8,{...a,...r,ref:t})});J8.displayName=Q8;var eI="DropdownMenuSubTrigger",gA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(P8,{...a,...r,ref:t})});gA.displayName=eI;var tI="DropdownMenuSubContent",yA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return c.jsx(L8,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yA.displayName=tI;var nI=aA,rI=sA,aI=iA,vA=cA,xA=uA,bA=dA,wA=fA,SA=hA,NA=mA,EA=pA,_A=gA,CA=yA;const Vy=nI,Zy=rI,oI=p.forwardRef(({className:e,inset:t,children:n,...r},a)=>c.jsxs(_A,{ref:a,className:W("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,c.jsx(zf,{className:"ml-auto h-4 w-4"})]}));oI.displayName=_A.displayName;const sI=p.forwardRef(({className:e,...t},n)=>c.jsx(CA,{ref:n,className:W("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:zt.DROPDOWN},...t}));sI.displayName=CA.displayName;const Xf=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(aI,{children:c.jsx(vA,{ref:r,sideOffset:t,className:W("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:zt.DROPDOWN},...n})}));Xf.displayName=vA.displayName;const sa=p.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(bA,{ref:r,className:W("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));sa.displayName=bA.displayName;const iI=p.forwardRef(({className:e,children:t,checked:n,...r},a)=>c.jsxs(wA,{ref:a,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(NA,{children:c.jsx(g_,{className:"h-4 w-4"})})}),t]}));iI.displayName=wA.displayName;const lI=p.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(SA,{ref:r,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(NA,{children:c.jsx(ey,{className:"h-2 w-2 fill-current"})})}),t]}));lI.displayName=SA.displayName;const cI=p.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(xA,{ref:r,className:W("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));cI.displayName=xA.displayName;const uI=p.forwardRef(({className:e,...t},n)=>c.jsx(EA,{ref:n,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));uI.displayName=EA.displayName;function dI(e,[t,n]){return Math.min(n,Math.max(t,e))}function fI(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Yy="ScrollArea",[AA,oee]=on(Yy),[hI,Gn]=AA(Yy),kA=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...s}=e,[i,l]=p.useState(null),[u,f]=p.useState(null),[d,h]=p.useState(null),[m,x]=p.useState(null),[b,S]=p.useState(null),[y,g]=p.useState(0),[v,w]=p.useState(0),[E,A]=p.useState(!1),[N,_]=p.useState(!1),C=Me(t,j=>l(j)),k=ki(a);return c.jsx(hI,{scope:n,type:r,dir:k,scrollHideDelay:o,scrollArea:i,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:A,scrollbarY:b,onScrollbarYChange:S,scrollbarYEnabled:N,onScrollbarYEnabledChange:_,onCornerWidthChange:g,onCornerHeightChange:w,children:c.jsx(fe.div,{dir:k,...s,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});kA.displayName=Yy;var TA="ScrollAreaViewport",RA=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...o}=e,s=Gn(TA,n),i=p.useRef(null),l=Me(t,i,s.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),c.jsx(fe.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});RA.displayName=TA;var Mr="ScrollAreaScrollbar",qy=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Gn(Mr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=a,i=e.orientation==="horizontal";return p.useEffect(()=>(i?o(!0):s(!0),()=>{i?o(!1):s(!1)}),[i,o,s]),a.type==="hover"?c.jsx(mI,{...r,ref:t,forceMount:n}):a.type==="scroll"?c.jsx(pI,{...r,ref:t,forceMount:n}):a.type==="auto"?c.jsx(jA,{...r,ref:t,forceMount:n}):a.type==="always"?c.jsx(Xy,{...r,ref:t}):null});qy.displayName=Mr;var mI=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Gn(Mr,e.__scopeScrollArea),[o,s]=p.useState(!1);return p.useEffect(()=>{const i=a.scrollArea;let l=0;if(i){const u=()=>{window.clearTimeout(l),s(!0)},f=()=>{l=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),c.jsx(Bt,{present:n||o,children:c.jsx(jA,{"data-state":o?"visible":"hidden",...r,ref:t})})}),pI=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Gn(Mr,e.__scopeScrollArea),o=e.orientation==="horizontal",s=Kf(()=>l("SCROLL_END"),100),[i,l]=fI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,a.scrollHideDelay,l]),p.useEffect(()=>{const u=a.viewport,f=o?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const m=u[f];d!==m&&(l("SCROLL"),s()),d=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,o,l,s]),c.jsx(Bt,{present:n||i!=="hidden",children:c.jsx(Xy,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:te(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),jA=p.forwardRef((e,t)=>{const n=Gn(Mr,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,s]=p.useState(!1),i=e.orientation==="horizontal",l=Kf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;s(i?u:f)}},10);return ui(n.viewport,l),ui(n.content,l),c.jsx(Bt,{present:r||o,children:c.jsx(Xy,{"data-state":o?"visible":"hidden",...a,ref:t})})}),Xy=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Gn(Mr,e.__scopeScrollArea),o=p.useRef(null),s=p.useRef(0),[i,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=$A(i.viewport,i.content),f={...r,sizes:i,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function d(h,m){return wI(h,s.current,i,m)}return n==="horizontal"?c.jsx(gI,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,m=yw(h,i,a.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=d(h,a.dir))}}):n==="vertical"?c.jsx(yI,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,m=yw(h,i);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=d(h))}}):null}),gI=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Gn(Mr,e.__scopeScrollArea),[s,i]=p.useState(),l=p.useRef(null),u=Me(t,l,o.onScrollbarXChange);return p.useEffect(()=>{l.current&&i(getComputedStyle(l.current))},[l]),c.jsx(DA,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wf(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),LA(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Yd(s.paddingLeft),paddingEnd:Yd(s.paddingRight)}})}})}),yI=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Gn(Mr,e.__scopeScrollArea),[s,i]=p.useState(),l=p.useRef(null),u=Me(t,l,o.onScrollbarYChange);return p.useEffect(()=>{l.current&&i(getComputedStyle(l.current))},[l]),c.jsx(DA,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wf(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),LA(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Yd(s.paddingTop),paddingEnd:Yd(s.paddingBottom)}})}})}),[vI,MA]=AA(Mr),DA=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,m=Gn(Mr,n),[x,b]=p.useState(null),S=Me(t,C=>b(C)),y=p.useRef(null),g=p.useRef(""),v=m.viewport,w=r.content-r.viewport,E=Pt(f),A=Pt(l),N=Kf(d,10);function _(C){if(y.current){const k=C.clientX-y.current.left,j=C.clientY-y.current.top;u({x:k,y:j})}}return p.useEffect(()=>{const C=k=>{const j=k.target;(x==null?void 0:x.contains(j))&&E(k,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[v,x,w,E]),p.useEffect(A,[r,A]),ui(x,N),ui(m.content,N),c.jsx(vI,{scope:n,scrollbar:x,hasThumb:a,onThumbChange:Pt(o),onThumbPointerUp:Pt(s),onThumbPositionChange:A,onThumbPointerDown:Pt(i),children:c.jsx(fe.div,{...h,ref:S,style:{position:"absolute",...h.style},onPointerDown:te(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=x.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(C))}),onPointerMove:te(e.onPointerMove,_),onPointerUp:te(e.onPointerUp,C=>{const k=C.target;k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Zd="ScrollAreaThumb",zA=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=MA(Zd,e.__scopeScrollArea);return c.jsx(Bt,{present:n||a.hasThumb,children:c.jsx(xI,{ref:t,...r})})}),xI=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=Gn(Zd,n),s=MA(Zd,n),{onThumbPositionChange:i}=s,l=Me(t,d=>s.onThumbChange(d)),u=p.useRef(void 0),f=Kf(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const d=o.viewport;if(d){const h=()=>{if(f(),!u.current){const m=SI(d,i);u.current=m,i()}};return i(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,f,i]),c.jsx(fe.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:te(e.onPointerDownCapture,d=>{const m=d.target.getBoundingClientRect(),x=d.clientX-m.left,b=d.clientY-m.top;s.onThumbPointerDown({x,y:b})}),onPointerUp:te(e.onPointerUp,s.onThumbPointerUp)})});zA.displayName=Zd;var Wy="ScrollAreaCorner",OA=p.forwardRef((e,t)=>{const n=Gn(Wy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(bI,{...e,ref:t}):null});OA.displayName=Wy;var bI=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Gn(Wy,n),[o,s]=p.useState(0),[i,l]=p.useState(0),u=!!(o&&i);return ui(a.scrollbarX,()=>{var d;const f=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(f),l(f)}),ui(a.scrollbarY,()=>{var d;const f=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(f),s(f)}),u?c.jsx(fe.div,{...r,ref:t,style:{width:o,height:i,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yd(e){return e?parseInt(e,10):0}function $A(e,t){const n=e/t;return isNaN(n)?0:n}function Wf(e){const t=$A(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function wI(e,t,n,r="ltr"){const a=Wf(n),o=a/2,s=t||o,i=a-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-i,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return PA([l,u],d)(e)}function yw(e,t,n="ltr"){const r=Wf(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,s=t.content-t.viewport,i=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=dI(e,l);return PA([0,s],[0,i])(u)}function PA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function LA(e,t){return e>0&&e<t}var SI=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,i=n.top!==o.top;(s||i)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Kf(e,t){const n=Pt(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ui(e,t){const n=Pt(t);Er(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var IA=kA,NI=RA,EI=OA;const qd=p.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(IA,{ref:r,className:W("relative overflow-hidden",e),...n,children:[c.jsx(NI,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(BA,{}),c.jsx(EI,{})]}));qd.displayName=IA.displayName;const BA=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>c.jsx(qy,{ref:r,orientation:t,className:W("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:c.jsx(zA,{className:"relative flex-1 rounded-full bg-border"})}));BA.displayName=qy.displayName;function Ky({categories:e,onSelect:t,className:n=""}){return c.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(r=>c.jsx("div",{className:"flex-1 min-w-[180px]",children:c.jsx(Ff,{categories:[r],onSelect:t,placeholder:r.placeholder,className:"w-full"})},r.id))})}function Qy({tags:e,onRemove:t,className:n=""}){return e.length===0?null:c.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(r=>c.jsxs(Ce,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.category,":"]}),c.jsx("span",{children:r.label}),c.jsx("button",{onClick:()=>t(r.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:c.jsx(Nn,{className:"h-3 w-3"})})]},r.id))})}function _I({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,l]=p.useState(null),[u,f]=p.useState(""),[d,h]=p.useState(-1),m=p.useRef(null),x=p.useRef(null),b=e.length===1?e[0]:null;p.useEffect(()=>{const k=j=>{m.current&&!m.current.contains(j.target)&&(s(!1),l(null),h(-1))};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const S=i||b?(i||b).options.filter(k=>{var j;return k.label.toLowerCase().includes(u.toLowerCase())||((j=k.description)==null?void 0:j.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(k=>k.options.filter(j=>{var B;return j.label.toLowerCase().includes(u.toLowerCase())||((B=j.description)==null?void 0:B.toLowerCase().includes(u.toLowerCase()))})),y=k=>{f(k),s(!0),h(-1)},g=k=>{var j;l(k),f(""),(j=x.current)==null||j.focus()},v=k=>{t(k),f(""),l(null),s(!1),h(-1)},w=()=>{u.trim()&&(n(u.trim()),f(""),l(null),s(!1),h(-1))},E=k=>{k.key==="ArrowDown"?(k.preventDefault(),h(j=>Math.min(j+1,S.length-1))):k.key==="ArrowUp"?(k.preventDefault(),h(j=>Math.max(j-1,-1))):k.key==="Enter"?(k.preventDefault(),d>=0&&S[d]?v(S[d]):u.trim()&&w()):k.key==="Escape"&&(s(!1),l(null),h(-1))},A=()=>{s(!0)},N=i||b,_=!b&&!i,C=u.trim()&&!S.some(k=>k.label.toLowerCase()===u.toLowerCase());return c.jsxs("div",{ref:m,className:`relative ${a}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(lo,{ref:x,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:k=>y(k.target.value),onFocus:A,onKeyDown:E,className:"pl-10 pr-20"}),C&&c.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:w,title:"Add custom search term",children:c.jsx(Wp,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:c.jsx(er,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:zt.AUTOCOMPLETE},children:[_&&c.jsxs("div",{className:"p-2 border-b border-border",children:[c.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(k=>c.jsxs("button",{onClick:()=>g(k),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[c.jsx("span",{children:k.name}),c.jsx(er,{className:"h-4 w-4"})]},k.id))]}),C&&c.jsx("div",{className:"p-2 border-b border-border",children:c.jsxs("button",{onClick:w,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[c.jsx(Wp,{className:"h-4 w-4 text-primary"}),c.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),c.jsx("div",{className:"p-2",children:S.length===0&&!C?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):S.map((k,j)=>c.jsxs("button",{onClick:()=>v(k),className:`w-full text-left px-2 py-2 rounded text-sm ${j===d?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[c.jsx("div",{className:"font-medium",children:k.label}),k.description&&c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:k.description})]},k.id))})]})]})}function Qf({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"||s.id==="keywords"),o=e.filter(s=>s.id!=="fuzzy-search"&&s.id!=="keywords");return c.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&c.jsx("div",{className:"flex-1 min-w-[300px]",children:c.jsx(_I,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>c.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:c.jsx(Ff,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function CI({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:r,onTagRemove:a,onViewModeChange:o,children:s,className:i=""}){return c.jsxs("div",{className:`mb-8 space-y-4 ${i}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Ky,{categories:e,onSelect:r,className:"w-full"})}),o&&c.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[c.jsx(ae,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>o("grid"),className:"h-8 px-3",children:c.jsx(_c,{className:"h-4 w-4"})}),c.jsx(ae,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>o("list"),className:"h-8 px-3",children:c.jsx(Cc,{className:"h-4 w-4"})})]})]}),c.jsx(Qy,{tags:t,onRemove:a,className:"justify-start"}),s&&c.jsx("div",{className:"pt-4",children:s})]})}function Jy({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},o={sm:"gap-3",md:"gap-4",lg:"gap-6"};return c.jsx("div",{className:W("grid",a[t],o[n],r),children:e})}function AI({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},o={sm:"gap-2",md:"gap-4",lg:"gap-6"};return c.jsx("div",{className:W("grid",a[t],o[n],r),children:e})}var Jf="Collapsible",[kI,HA]=on(Jf),[TI,ev]=kI(Jf),FA=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:s,...i}=e,[l,u]=Un({prop:r,defaultProp:a??!1,onChange:s,caller:Jf});return c.jsx(TI,{scope:n,disabled:o,contentId:aa(),open:l,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),children:c.jsx(fe.div,{"data-state":nv(l),"data-disabled":o?"":void 0,...i,ref:t})})});FA.displayName=Jf;var UA="CollapsibleTrigger",GA=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=ev(UA,n);return c.jsx(fe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":nv(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:te(e.onClick,a.onOpenToggle)})});GA.displayName=UA;var tv="CollapsibleContent",VA=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=ev(tv,e.__scopeCollapsible);return c.jsx(Bt,{present:n||a.open,children:({present:o})=>c.jsx(RI,{...r,ref:t,present:o})})});VA.displayName=tv;var RI=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,s=ev(tv,n),[i,l]=p.useState(r),u=p.useRef(null),f=Me(t,u),d=p.useRef(0),h=d.current,m=p.useRef(0),x=m.current,b=s.open||i,S=p.useRef(b),y=p.useRef(void 0);return p.useEffect(()=>{const g=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(g)},[]),Er(()=>{const g=u.current;if(g){y.current=y.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const v=g.getBoundingClientRect();d.current=v.height,m.current=v.width,S.current||(g.style.transitionDuration=y.current.transitionDuration,g.style.animationName=y.current.animationName),l(r)}},[s.open,r]),c.jsx(fe.div,{"data-state":nv(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!b,...o,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:b&&a})});function nv(e){return e?"open":"closed"}var jI=FA,MI=GA,DI=VA,or="Accordion",zI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[rv,OI,$I]=xy(or),[eh,see]=on(or,[$I,HA]),av=HA(),ZA=D.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,o=r;return c.jsx(rv.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?c.jsx(BI,{...o,ref:t}):c.jsx(II,{...a,ref:t})})});ZA.displayName=or;var[YA,PI]=eh(or),[qA,LI]=eh(or,{collapsible:!1}),II=D.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:o=!1,...s}=e,[i,l]=Un({prop:n,defaultProp:r??"",onChange:a,caller:or});return c.jsx(YA,{scope:e.__scopeAccordion,value:D.useMemo(()=>i?[i]:[],[i]),onItemOpen:l,onItemClose:D.useCallback(()=>o&&l(""),[o,l]),children:c.jsx(qA,{scope:e.__scopeAccordion,collapsible:o,children:c.jsx(XA,{...s,ref:t})})})}),BI=D.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=Un({prop:n,defaultProp:r??[],onChange:a,caller:or}),l=D.useCallback(f=>i((d=[])=>[...d,f]),[i]),u=D.useCallback(f=>i((d=[])=>d.filter(h=>h!==f)),[i]);return c.jsx(YA,{scope:e.__scopeAccordion,value:s,onItemOpen:l,onItemClose:u,children:c.jsx(qA,{scope:e.__scopeAccordion,collapsible:!0,children:c.jsx(XA,{...o,ref:t})})})}),[HI,th]=eh(or),XA=D.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:o="vertical",...s}=e,i=D.useRef(null),l=Me(i,t),u=OI(n),d=ki(a)==="ltr",h=te(e.onKeyDown,m=>{var _;if(!zI.includes(m.key))return;const x=m.target,b=u().filter(C=>{var k;return!((k=C.ref.current)!=null&&k.disabled)}),S=b.findIndex(C=>C.ref.current===x),y=b.length;if(S===-1)return;m.preventDefault();let g=S;const v=0,w=y-1,E=()=>{g=S+1,g>w&&(g=v)},A=()=>{g=S-1,g<v&&(g=w)};switch(m.key){case"Home":g=v;break;case"End":g=w;break;case"ArrowRight":o==="horizontal"&&(d?E():A());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(d?A():E());break;case"ArrowUp":o==="vertical"&&A();break}const N=g%y;(_=b[N].ref.current)==null||_.focus()});return c.jsx(HI,{scope:n,disabled:r,direction:a,orientation:o,children:c.jsx(rv.Slot,{scope:n,children:c.jsx(fe.div,{...s,"data-orientation":o,ref:l,onKeyDown:r?void 0:h})})})}),Xd="AccordionItem",[FI,ov]=eh(Xd),WA=D.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,o=th(Xd,n),s=PI(Xd,n),i=av(n),l=aa(),u=r&&s.value.includes(r)||!1,f=o.disabled||e.disabled;return c.jsx(FI,{scope:n,open:u,disabled:f,triggerId:l,children:c.jsx(jI,{"data-orientation":o.orientation,"data-state":nk(u),...i,...a,ref:t,disabled:f,open:u,onOpenChange:d=>{d?s.onItemOpen(r):s.onItemClose(r)}})})});WA.displayName=Xd;var KA="AccordionHeader",QA=D.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=th(or,n),o=ov(KA,n);return c.jsx(fe.h3,{"data-orientation":a.orientation,"data-state":nk(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});QA.displayName=KA;var ug="AccordionTrigger",JA=D.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=th(or,n),o=ov(ug,n),s=LI(ug,n),i=av(n);return c.jsx(rv.ItemSlot,{scope:n,children:c.jsx(MI,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...i,...r,ref:t})})});JA.displayName=ug;var ek="AccordionContent",tk=D.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=th(or,n),o=ov(ek,n),s=av(n);return c.jsx(DI,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...s,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});tk.displayName=ek;function nk(e){return e?"open":"closed"}var UI=ZA,GI=WA,VI=QA,rk=JA,ak=tk;const sv=UI,nh=p.forwardRef(({className:e,...t},n)=>c.jsx(GI,{ref:n,className:W("border-b",e),...t}));nh.displayName="AccordionItem";const rh=p.forwardRef(({className:e,children:t,...n},r)=>c.jsx(VI,{className:"flex",children:c.jsxs(rk,{ref:r,className:W("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,c.jsx(er,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));rh.displayName=rk.displayName;const ah=p.forwardRef(({className:e,children:t,...n},r)=>c.jsx(ak,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:c.jsx("div",{className:W("pb-4 pt-0",e),children:t})}));ah.displayName=ak.displayName;function ZI({children:e,title:t="Customize Display",description:n="Configure what information to show",defaultOpen:r=!1,className:a}){return c.jsx(sv,{type:"single",collapsible:!0,defaultValue:r?"customize-display":void 0,className:a,children:c.jsxs(nh,{value:"customize-display",className:"border-none",children:[c.jsx(rh,{className:"hover:no-underline",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(b_,{className:"h-4 w-4"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-medium",children:t}),c.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]})}),c.jsx(ah,{children:c.jsx("div",{className:"space-y-4 pt-2",children:e})})]})})}var YI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qI="VisuallyHidden",ok=p.forwardRef((e,t)=>c.jsx(fe.span,{...e,ref:t,style:{...YI,...e.style}}));ok.displayName=qI;var XI=ok,[oh,iee]=on("Tooltip",[Mi]),iv=Mi(),WI="TooltipProvider",vw="tooltip.open",[lee,sk]=oh(WI),ik="Tooltip",[cee,sh]=oh(ik),dg="TooltipTrigger",KI=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=sh(dg,n),o=sk(dg,n),s=iv(n),i=p.useRef(null),l=Me(t,i,a.onTriggerChange),u=p.useRef(!1),f=p.useRef(!1),d=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),c.jsx(Oy,{asChild:!0,...s,children:c.jsx(fe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:l,onPointerMove:te(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:te(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:te(e.onBlur,a.onClose),onClick:te(e.onClick,a.onClose)})})});KI.displayName=dg;var QI="TooltipPortal",[uee,JI]=oh(QI,{forceMount:void 0}),di="TooltipContent",lk=p.forwardRef((e,t)=>{const n=JI(di,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,s=sh(di,e.__scopeTooltip);return c.jsx(Bt,{present:r||s.open,children:s.disableHoverableContent?c.jsx(ck,{side:a,...o,ref:t}):c.jsx(eB,{side:a,...o,ref:t})})}),eB=p.forwardRef((e,t)=>{const n=sh(di,e.__scopeTooltip),r=sk(di,e.__scopeTooltip),a=p.useRef(null),o=Me(t,a),[s,i]=p.useState(null),{trigger:l,onClose:u}=n,f=a.current,{onPointerInTransitChange:d}=r,h=p.useCallback(()=>{i(null),d(!1)},[d]),m=p.useCallback((x,b)=>{const S=x.currentTarget,y={x:x.clientX,y:x.clientY},g=oB(y,S.getBoundingClientRect()),v=sB(y,g),w=iB(b.getBoundingClientRect()),E=cB([...v,...w]);i(E),d(!0)},[d]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(l&&f){const x=S=>m(S,f),b=S=>m(S,l);return l.addEventListener("pointerleave",x),f.addEventListener("pointerleave",b),()=>{l.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",b)}}},[l,f,m,h]),p.useEffect(()=>{if(s){const x=b=>{const S=b.target,y={x:b.clientX,y:b.clientY},g=(l==null?void 0:l.contains(S))||(f==null?void 0:f.contains(S)),v=!lB(y,s);g?h():v&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,f,s,u,h]),c.jsx(ck,{...e,ref:o})}),[tB,nB]=oh(ik,{isInside:!1}),rB=p$("TooltipContent"),ck=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:s,...i}=e,l=sh(di,n),u=iv(n),{onClose:f}=l;return p.useEffect(()=>(document.addEventListener(vw,f),()=>document.removeEventListener(vw,f)),[f]),p.useEffect(()=>{if(l.trigger){const d=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,f]),c.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:c.jsxs($y,{"data-state":l.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(rB,{children:r}),c.jsx(tB,{scope:n,isInside:!0,children:c.jsx(XI,{id:l.contentId,role:"tooltip",children:a||r})})]})})});lk.displayName=di;var uk="TooltipArrow",aB=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=iv(n);return nB(uk,n).isInside?null:c.jsx(Py,{...a,...r,ref:t})});aB.displayName=uk;function oB(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sB(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function iB(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function lB(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],l=t[s],u=i.x,f=i.y,d=l.x,h=l.y;f>r!=h>r&&n<(d-u)*(r-f)/(h-f)+u&&(a=!a)}return a}function cB(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),uB(t)}function uB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var dk=lk;const dB=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(dk,{ref:r,sideOffset:t,className:W("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));dB.displayName=dk.displayName;function Xl({title:e,navigateTo:t,onNavigate:n,children:r,className:a,showHeaderButton:o=!0}){return c.jsxs(St,{className:a,children:[c.jsx(Nt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Et,{className:"text-lg",children:e}),o&&c.jsxs(ae,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," "]})]})}),c.jsx(_t,{className:"space-y-4",children:r})]})}var fB="Label",fk=p.forwardRef((e,t)=>c.jsx(fe.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fk.displayName=fB;const hB=_i("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jr=p.forwardRef(({className:e,children:t,...n},r)=>c.jsx(fk,{ref:r,className:W(hB(),e),...n,children:t}));Jr.displayName="Label";function pu({title:e,description:t,checked:n,onCheckedChange:r,className:a,disabled:o=!1,onClick:s,showSwitch:i=!0}){const l=()=>{s?s():o||r(!n)};return c.jsxs("div",{className:W("flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",o&&"opacity-50 cursor-not-allowed",a),onClick:l,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Jr,{className:"text-base font-medium",children:e}),t&&c.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),i&&c.jsx(Zr,{checked:n,onCheckedChange:r,disabled:o})]})}function mB(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function pB(e){const t=e.flatMap(n=>[...n.stat_modifications.map(r=>r.stat),...n.skill_bonuses.map(r=>r.stat)]);return[...new Set(t)].sort()}const gB={race:{Altmer:"altmer.png",Argonian:"argonian.png",Bosmer:"bosmer.png",Breton:"breton.png",Dunmer:"dunmer.png",Imperial:"imperial.png",Khajiit:"khajit.png",Nord:"nord.png",Orsimer:"orismer.png",Redguard:"redguard.png"},religion:{},trait:{},destiny:{},birthsign:{Apprentice:"apprentice.svg"}},xw={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},yB={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};function hk({entityName:e,entityType:t,size:n="md",className:r}){const o=gB[t][e],[s,i]=D.useState(!1);return!o||s?c.jsx("div",{className:W("bg-muted rounded-full flex items-center justify-center font-bold text-muted-foreground",xw[n],r),children:c.jsx("span",{className:W(yB[n]),children:e.charAt(0)})}):c.jsx("div",{className:W("rounded-full overflow-hidden bg-muted flex items-center justify-center",xw[n],r),children:c.jsx("img",{src:`/lorerim-arcaneum/assets/${t==="birthsign"?"sign-avatar":`${t}-avatar`}/${o}`,alt:`${e} avatar`,className:"w-full h-full object-cover",onError:()=>i(!0),loading:"lazy"})})}const wm=new Map;function vB(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(wm.has(n))return wm.get(n);let r=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((a,o)=>{const s=[];r.forEach(i=>{if(i.className)s.push(i);else{let l=0,u;const f=new RegExp(a.pattern,a.pattern.flags.includes("g")?a.pattern.flags:a.pattern.flags+"g");f.lastIndex=0;let d=0;for(;(u=f.exec(i.text))!==null;){u.index>l&&s.push({text:i.text.slice(l,u.index),key:`${i.key}-${d++}`});let h=u[0];a.transform&&(h=a.transform(h));const m=typeof a.className=="function"?a.className(h):a.className;s.push({text:h,className:m,key:`${i.key}-${d++}`}),l=f.lastIndex}l<i.text.length&&s.push({text:i.text.slice(l),key:`${i.key}-${d++}`})}}),r=s}),r=r.map((a,o)=>({...a,key:a.key||String(o)})),wm.set(n,r),r}const xB=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],bB=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function wB(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,r=e.startsWith("-")||t<0;return n?"font-bold text-green-600":r?"font-bold text-red-600":"font-bold text-skyrim-gold"}},{pattern:/\*\*\*(.*?)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const r=parseFloat(n[0]),a=n[0].startsWith("+")||r>0,o=n[0].startsWith("-")||r<0;if(a)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(o)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<\d+>/g,className:"font-bold italic text-skyrim-gold",transform:e=>e.slice(1,-1)},{pattern:new RegExp(`\\b(${xB.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${bB.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function Gs({text:e,options:t,className:n="text-sm text-muted-foreground",as:r="div"}){const a=p.useMemo(()=>wB(),[]),o=p.useMemo(()=>e?vB(e,t||a):[],[e,t,a]);if(!e)return null;if(n.includes("line-clamp")){const i=n.match(/line-clamp-\d+/g)||[],l=n.replace(/line-clamp-\d+/g,"").trim();return c.jsx(r,{className:l,children:c.jsx("div",{className:`${i.join(" ")} overflow-hidden`,children:o.map(u=>c.jsx("span",{className:u.className,children:u.text},u.key))})})}return c.jsx(r,{className:n,children:o.map(i=>c.jsx("span",{className:i.className,children:i.text},i.key))})}const Lc={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},shareButton:{copied:"text-green-600",default:"text-blue-600",hover:"text-blue-700"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},Vs={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function SB(e){return Lc.traitLimit[e]}function NB(e){return Lc.shareButton[e]}function bw(e){return Lc.summaryCard[e]}function EB(e){return Lc.backgrounds[e]}function mk(e){return Lc.borders[e]}function _B({title:e,description:t,icon:n,variant:r="default",children:a,className:o}){const s=()=>{if(n)return n;switch(r){case"warning":return c.jsx(Hl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return c.jsx(Bl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return c.jsxs(St,{className:W(Vs.card,o),children:[c.jsxs(Nt,{children:[c.jsxs(Et,{className:"flex items-center gap-2",children:[s(),e]}),t&&c.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),c.jsx(_t,{className:W(Vs.section),children:a})]})}function ww({label:e,value:t,onChange:n,min:r=0,max:a=10,currentCount:o,type:s="regular",className:i}){const l=()=>{switch(s){case"regular":return c.jsx(ey,{className:"h-4 w-4"});case"bonus":return c.jsx(Ga,{className:"h-4 w-4"});default:return null}},u=()=>SB(s);return c.jsxs("div",{className:W(Vs.item,i),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l(),c.jsx(Jr,{htmlFor:`${s}-limit`,className:u(),children:e})]}),c.jsx(lo,{id:`${s}-limit`,type:"number",min:r,max:a,value:t,onChange:f=>n(parseInt(f.target.value)||0),className:"mt-1"}),o!==void 0&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",o]})]})}function Sw({type:e,title:t,message:n,className:r}){const a=()=>{switch(e){case"warning":return c.jsx(Hl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return c.jsx(Bl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return c.jsx(Hl,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return c.jsx(Bl,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return c.jsxs("div",{className:W("flex items-start gap-2 p-4 rounded-lg border",EB(e),mk(e),r),children:[a(),c.jsxs("div",{className:"text-sm",children:[c.jsx("strong",{children:t}),c.jsx("p",{className:"mt-1",children:n})]})]})}function CB({open:e,title:t,message:n,variant:r="warning",confirmText:a="Confirm",cancelText:o="Cancel",onConfirm:s,onCancel:i,className:l}){if(!e)return null;const u=()=>{switch(r){case"warning":return c.jsx(Hl,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return c.jsx(Bl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return c.jsx(V4,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return c.jsx(U4,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return c.jsx(Hl,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},f=()=>{switch(r){case"error":return"destructive";case"success":return"default";default:return"default"}};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:c.jsxs("div",{className:W("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",mk(r),l),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u(),c.jsx("span",{className:"font-semibold",children:t})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:n}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",onClick:i,children:o}),c.jsx(ae,{variant:f(),size:"sm",onClick:s,children:a})]})]})})}function AB({link:e,variant:t="outline",size:n="sm",icon:r,text:a="Share / Export",onCopied:o,className:s}){const[i,l]=p.useState(!1),u=async()=>{try{await navigator.clipboard.writeText(e),l(!0),o==null||o(),setTimeout(()=>l(!1),1500)}catch(h){console.error("Failed to copy link:",h);const m=document.createElement("textarea");m.value=e,document.body.appendChild(m),m.select(),document.execCommand("copy"),document.body.removeChild(m),l(!0),o==null||o(),setTimeout(()=>l(!1),1500)}},f=()=>r||(i?c.jsx(g_,{className:"w-4 h-4"}):c.jsx(Tz,{className:"w-4 h-4"})),d=()=>i?"Copied!":a;return c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(ae,{variant:t,size:n,onClick:u,className:W("cursor-pointer hover:opacity-90",i&&NB("copied"),s),children:[f(),c.jsx("span",{className:"ml-2",children:d()})]})})}function kB({title:e,items:t,layout:n="grid",className:r}){const a=s=>{switch(s){case"race":return c.jsx(Nl,{className:"h-4 w-4"});case"birthsign":return c.jsx(Ga,{className:"h-4 w-4"});case"religion":return c.jsx(y_,{className:"h-4 w-4"});case"traits":return c.jsx(Oz,{className:"h-4 w-4"});default:return null}},o=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return c.jsxs(St,{className:W(Vs.card,r),children:[c.jsx(Nt,{children:c.jsx(Et,{children:e})}),c.jsx(_t,{className:W(Vs.section),children:c.jsx("div",{className:o(),children:t.map((s,i)=>c.jsxs("div",{className:W(Vs.item,s.className),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.icon||a(s.type),c.jsxs("span",{className:W("font-medium text-sm",bw("primary")),children:[s.label,":"]})]}),c.jsx("div",{className:W("text-sm",bw("secondary")),children:s.value||"Not selected"})]},i))})})]})}function TB(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function pk({birthsignName:e,size:t="md",className:n}){return c.jsx(hk,{entityName:e,entityType:"birthsign",size:t,className:n})}function Ve({children:e,className:t,expanded:n,onToggle:r,disableHover:a=!1}){let o,s,i,l;D.Children.forEach(e,x=>{D.isValidElement(x)&&(x.type===Ve.Header&&(o=x),x.type===Ve.Summary&&(s=x),x.type===Ve.Footer&&(i=x),x.type===Ve.Details&&(l=x))});const[u,f]=p.useState(!1),d=n!==void 0?n:u,h=r||(()=>f(x=>!x)),m=a?"":"hover:shadow-md hover:scale-[1.02]";return c.jsxs("div",{className:W("rounded-lg border bg-background shadow-sm transition-all duration-200 flex flex-col",m,t),children:[o&&D.cloneElement(o,{onClick:h,expanded:d}),c.jsxs("div",{className:"flex-1",children:[s,d&&l]}),i]})}Ve.Header=function({children:t,className:n,onClick:r,expanded:a}){return c.jsxs("div",{className:W("flex items-center gap-3 px-4 py-2 bg-muted/30 cursor-pointer select-none",n),onClick:r,tabIndex:0,role:"button","aria-expanded":a,children:[t,c.jsx("span",{className:W("ml-auto transition-transform",a?"rotate-90":""),children:c.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:c.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};Ve.Summary=function({children:t,className:n}){return c.jsx("div",{className:W("px-4 py-2 space-y-3",n),children:t})};Ve.Footer=function({children:t,className:n}){return c.jsx("div",{className:W("px-4 py-2",n),children:t})};Ve.Details=function({children:t,className:n}){return c.jsx("div",{className:W("px-4 py-4 space-y-4 bg-background",n),children:t})};const Nw={Warrior:{background:"bg-red-100",text:"text-red-800",border:"border-red-200",hover:"hover:bg-red-200"},Mage:{background:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",hover:"hover:bg-blue-200"},Thief:{background:"bg-green-100",text:"text-green-800",border:"border-green-200",hover:"hover:bg-red-200"},Serpent:{background:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",hover:"hover:bg-purple-200"},Other:{background:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",hover:"hover:bg-yellow-200"}};function RB(e){return Nw[e]||Nw.Other}function fg({item:e,className:t,showAddToBuild:n=!0,isExpanded:r=!1,onToggle:a,disableHover:o=!1}){var i,l,u,f;const s=e.originalBirthsign;return s?c.jsxs(Ve,{className:t,expanded:r,onToggle:a,disableHover:o,children:[c.jsxs(Ve.Header,{children:[n&&c.jsx(_y,{itemId:e.id,itemType:"stone",itemName:e.name}),c.jsx(pk,{birthsignName:s.name,size:"md"}),c.jsx(Dc,{className:"text-primary font-semibold",children:s.name}),c.jsx("div",{className:"flex items-center gap-3 ml-auto",children:s.group&&c.jsx(Ce,{variant:"outline",className:W(RB(s.group)||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200","text-xs font-medium transition-colors"),children:s.group})})]}),c.jsx(Ve.Summary,{children:c.jsx(Gs,{text:s.description,className:"text-base text-muted-foreground"})}),c.jsxs(Ve.Details,{children:[s.stat_modifications.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Stat Modifications"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.stat_modifications.map((d,h)=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[c.jsx("span",{className:"font-medium capitalize",children:d.stat}),c.jsxs("span",{className:W("font-bold",d.type==="bonus"?"text-green-600":"text-red-600"),children:[d.type==="bonus"?"+":"-",d.value,d.value_type==="percentage"?"%":""]})]},h))})]}),s.powers.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Powers"}),c.jsx("div",{className:"space-y-2",children:s.powers.map((d,h)=>c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ga,{className:"h-4 w-4 text-yellow-500"}),c.jsx("span",{className:"font-medium text-sm",children:d.name})]}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:d.description})]},h))})]}),s.skill_bonuses.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Skill Bonuses"}),c.jsx("div",{className:"space-y-2",children:s.skill_bonuses.map((d,h)=>c.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[c.jsxs("span",{className:"font-medium",children:[d.stat," +",d.value]}),c.jsx(Ce,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},h))})]}),(((i=s.conditional_effects)==null?void 0:i.length)>0||((l=s.mastery_effects)==null?void 0:l.length)>0)&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Special Effects"}),c.jsxs("div",{className:"space-y-3",children:[(u=s.conditional_effects)==null?void 0:u.map((d,h)=>c.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsx("span",{className:"font-medium text-sm",children:"Conditional Effect"})}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx("div",{className:"text-sm font-medium",children:d.stat}),c.jsx("div",{className:"text-sm text-muted-foreground",children:d.description})]},`conditional-${h}`)),(f=s.mastery_effects)==null?void 0:f.map((d,h)=>c.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ga,{className:"h-4 w-4 text-yellow-500"}),c.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx("div",{className:"text-sm font-medium",children:d.stat}),c.jsx("div",{className:"text-sm text-muted-foreground",children:d.description})]},`mastery-${h}`))]})]})]})]}):null}function Ew({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(""),[l,u]=p.useState(-1),f=p.useRef(null),d=p.useRef(null);p.useEffect(()=>{const g=v=>{f.current&&!f.current.contains(v.target)&&(o(!1),u(-1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=e.filter(g=>g.name.toLowerCase().includes(s.toLowerCase())||g.description.toLowerCase().includes(s.toLowerCase())||g.group.toLowerCase().includes(s.toLowerCase())),m=g=>{i(g),o(!0),u(-1)},x=g=>{t(g),i(""),o(!1),u(-1)},b=g=>{g.key==="ArrowDown"?(g.preventDefault(),u(v=>Math.min(v+1,h.length-1))):g.key==="ArrowUp"?(g.preventDefault(),u(v=>Math.max(v-1,-1))):g.key==="Enter"?(g.preventDefault(),l>=0&&h[l]&&x(h[l])):g.key==="Escape"&&(o(!1),u(-1))},S=()=>{o(!0)},y=()=>{var g;i(""),(g=d.current)==null||g.focus()};return c.jsxs("div",{ref:f,className:`relative ${r}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(lo,{ref:d,type:"text",placeholder:n,value:s,onChange:g=>m(g.target.value),onFocus:S,onKeyDown:b,className:"pl-10 pr-20"}),s&&c.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:y,children:c.jsx(Nn,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:c.jsx(er,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:zt.AUTOCOMPLETE+10},children:c.jsx("div",{className:"p-2",children:h.length===0?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No birthsigns found"}):h.map((g,v)=>c.jsx("button",{onClick:()=>x(g),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${v===l?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(pk,{birthsignName:g.name,size:"sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium truncate",children:g.name}),c.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[c.jsx("div",{className:"text-xs text-muted-foreground truncate",children:g.group}),g.powers.length>0&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500/80"}),c.jsxs("span",{className:"text-muted-foreground",children:[g.powers.length," power",g.powers.length!==1?"s":""]})]})]})]})]})},g.edid))})})]})}const jB={birthsigns:[],loading:!0,error:null};function MB(e,t){switch(t.type){case"FETCH_START":return{...e,loading:!0,error:null};case"FETCH_SUCCESS":return{...e,loading:!1,birthsigns:t.payload,error:null};case"FETCH_ERROR":return{...e,loading:!1,error:t.payload};default:return e}}function gk(){const[e,t]=p.useReducer(MB,jB),n=p.useCallback(async()=>{t({type:"FETCH_START"});try{const r=await fetch("/lorerim-arcaneum/data/birthsigns.json");if(!r.ok)throw new Error("Failed to fetch birthsign data");const a=await r.json();t({type:"FETCH_SUCCESS",payload:a})}catch{t({type:"FETCH_ERROR",payload:"Failed to load birthsign data"})}},[]);return p.useEffect(()=>{n()},[n]),{...e,refetch:n}}function _w(e){var t,n,r,a,o,s;return{id:`religion-${e.name.toLowerCase().replace(/\s+/g,"-")}`,name:e.name,description:((t=e.tenet)==null?void 0:t.description)||"",tags:e.favoredRaces||[],summary:((n=e.tenet)==null?void 0:n.description)||"",effects:[...((a=(r=e.tenet)==null?void 0:r.effects)==null?void 0:a.map(i=>({type:"positive",name:i.effectName,description:i.effectDescription,value:i.magnitude,target:i.targetAttribute||""})))||[],...((s=(o=e.blessing)==null?void 0:o.effects)==null?void 0:s.map(i=>({type:"positive",name:i.effectName,description:i.effectDescription,value:i.magnitude,target:i.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:e.type}}function yk(e){var t,n;return{...e,id:e.edid,name:e.name,description:e.description,tags:[e.category,...Array.isArray(e.flags)?e.flags:[]],summary:e.description,effects:[...((t=e.skillBonuses)==null?void 0:t.map(r=>({type:"positive",name:r.skill,description:`+${r.bonus} to ${r.skill}`,value:r.bonus,target:r.skill})))||[],...((n=e.racialSpells)==null?void 0:n.map(r=>({type:"positive",name:r.name,description:r.description})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalRace:e}}function Cw(e){var t;return{...e,id:e.edid,name:e.name,description:e.description,tags:e.tags||[],summary:e.description,effects:[...((t=e.effects)==null?void 0:t.map(n=>({type:"positive",name:n.type,description:n.condition?`${n.type} (${n.condition})`:n.type,value:n.value})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalTrait:e}}function vk(e){var r,a,o,s,i,l,u,f;const t=[...((r=e.stat_modifications)==null?void 0:r.map(d=>({type:d.type==="bonus"?"positive":"negative",name:`${d.stat} ${d.type==="bonus"?"+":"-"}${d.value}${d.value_type==="percentage"?"%":""}`,description:`${d.stat} ${d.type==="bonus"?"increased":"decreased"} by ${d.value}${d.value_type==="percentage"?"%":""}`,value:d.value,target:d.stat})))||[],...((a=e.skill_bonuses)==null?void 0:a.map(d=>({type:"positive",name:`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`,description:`${d.stat} skill increased by ${d.value}${d.value_type==="percentage"?"%":""}`,value:d.value,target:d.stat})))||[],...((o=e.powers)==null?void 0:o.map(d=>({type:"positive",name:d.name,description:d.description,value:d.magnitude||0,target:"power"})))||[],...((s=e.conditional_effects)==null?void 0:s.map(d=>({type:"neutral",name:d.stat,description:d.description,value:d.value,target:d.stat})))||[],...((i=e.mastery_effects)==null?void 0:i.map(d=>({type:"positive",name:d.stat,description:d.description,value:d.value,target:d.stat})))||[]],n=[e.group,...((l=e.stat_modifications)==null?void 0:l.map(d=>d.stat))||[],...((u=e.skill_bonuses)==null?void 0:u.map(d=>d.stat))||[],...((f=e.powers)==null?void 0:f.map(d=>d.name))||[]].filter((d,h,m)=>m.indexOf(d)===h);return{...e,id:e.edid,name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.group,originalBirthsign:e}}function DB({className:e}){const{birthsigns:t}=gk(),{build:n,setStone:r}=an(),a=An(),[o,s]=p.useState(!0),i=n.stone?t.find(h=>h.edid===n.stone):null,l=h=>{r(h.edid)},u=()=>{a("/birth-signs")},f=()=>{s(!o)};if(!i)return c.jsxs(Xl,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),c.jsx(Ew,{birthsigns:t,onSelect:l,placeholder:"Search for a birthsign...",className:"w-full"})]});const d=vk(i);return c.jsxs(Xl,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[c.jsx(Ew,{birthsigns:t,onSelect:l,placeholder:`Birth Sign: Select a birthsign (${i.name})`,className:"w-full"}),c.jsx(fg,{item:d,isExpanded:o,onToggle:f,className:"border-0 shadow-none",showAddToBuild:!1,disableHover:!0})]})}function ma(e){return Array.isArray?Array.isArray(e):wk(e)==="[object Array]"}function zB(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function OB(e){return e==null?"":zB(e)}function yr(e){return typeof e=="string"}function xk(e){return typeof e=="number"}function $B(e){return e===!0||e===!1||PB(e)&&wk(e)=="[object Boolean]"}function bk(e){return typeof e=="object"}function PB(e){return bk(e)&&e!==null}function yn(e){return e!=null}function Sm(e){return!e.trim().length}function wk(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const LB="Incorrect 'index' type",IB=e=>`Invalid value for key ${e}`,BB=e=>`Pattern length exceeds max of ${e}.`,HB=e=>`Missing ${e} property in key`,FB=e=>`Property 'weight' in key '${e}' must be a positive integer`,Aw=Object.prototype.hasOwnProperty;class UB{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=Sk(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Sk(e){let t=null,n=null,r=null,a=1,o=null;if(yr(e)||ma(e))r=e,t=kw(e),n=hg(e);else{if(!Aw.call(e,"name"))throw new Error(HB("name"));const s=e.name;if(r=s,Aw.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(FB(s));t=kw(s),n=hg(s),o=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:o}}function kw(e){return ma(e)?e:e.split(".")}function hg(e){return ma(e)?e.join("."):e}function GB(e,t){let n=[],r=!1;const a=(o,s,i)=>{if(yn(o))if(!s[i])n.push(o);else{let l=s[i];const u=o[l];if(!yn(u))return;if(i===s.length-1&&(yr(u)||xk(u)||$B(u)))n.push(OB(u));else if(ma(u)){r=!0;for(let f=0,d=u.length;f<d;f+=1)a(u[f],s,i+1)}else s.length&&a(u,s,i+1)}};return a(e,yr(t)?t.split("."):t,0),r?n:n[0]}const VB={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ZB={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},YB={location:0,threshold:.6,distance:100},qB={useExtendedSearch:!1,getFn:GB,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var le={...ZB,...VB,...YB,...qB};const XB=/[^ ]+/g;function WB(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const o=a.match(XB).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*e),i=parseFloat(Math.round(s*r)/r);return n.set(o,i),i},clear(){n.clear()}}}class lv{constructor({getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){this.norm=WB(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,yr(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();yr(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!yn(t)||Sm(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,o)=>{let s=a.getFn?a.getFn(t):this.getFn(t,a.path);if(yn(s)){if(ma(s)){let i=[];const l=[{nestedArrIndex:-1,value:s}];for(;l.length;){const{nestedArrIndex:u,value:f}=l.pop();if(yn(f))if(yr(f)&&!Sm(f)){let d={v:f,i:u,n:this.norm.get(f)};i.push(d)}else ma(f)&&f.forEach((d,h)=>{l.push({nestedArrIndex:h,value:d})})}r.$[o]=i}else if(yr(s)&&!Sm(s)){let i={v:s,n:this.norm.get(s)};r.$[o]=i}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Nk(e,t,{getFn:n=le.getFn,fieldNormWeight:r=le.fieldNormWeight}={}){const a=new lv({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(Sk)),a.setSources(t),a.create(),a}function KB(e,{getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){const{keys:r,records:a}=e,o=new lv({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(a),o}function gu(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=le.distance,ignoreLocation:o=le.ignoreLocation}={}){const s=t/e.length;if(o)return s;const i=Math.abs(r-n);return a?s+i/a:i?1:s}function QB(e=[],t=le.minMatchCharLength){let n=[],r=-1,a=-1,o=0;for(let s=e.length;o<s;o+=1){let i=e[o];i&&r===-1?r=o:!i&&r!==-1&&(a=o-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const So=32;function JB(e,t,n,{location:r=le.location,distance:a=le.distance,threshold:o=le.threshold,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,includeMatches:l=le.includeMatches,ignoreLocation:u=le.ignoreLocation}={}){if(t.length>So)throw new Error(BB(So));const f=t.length,d=e.length,h=Math.max(0,Math.min(r,d));let m=o,x=h;const b=i>1||l,S=b?Array(d):[];let y;for(;(y=e.indexOf(t,x))>-1;){let N=gu(t,{currentLocation:y,expectedLocation:h,distance:a,ignoreLocation:u});if(m=Math.min(N,m),x=y+f,b){let _=0;for(;_<f;)S[y+_]=1,_+=1}}x=-1;let g=[],v=1,w=f+d;const E=1<<f-1;for(let N=0;N<f;N+=1){let _=0,C=w;for(;_<C;)gu(t,{errors:N,currentLocation:h+C,expectedLocation:h,distance:a,ignoreLocation:u})<=m?_=C:w=C,C=Math.floor((w-_)/2+_);w=C;let k=Math.max(1,h-C+1),j=s?d:Math.min(h+C,d)+f,B=Array(j+2);B[j+1]=(1<<N)-1;for(let T=j;T>=k;T-=1){let z=T-1,R=n[e.charAt(z)];if(b&&(S[z]=+!!R),B[T]=(B[T+1]<<1|1)&R,N&&(B[T]|=(g[T+1]|g[T])<<1|1|g[T+1]),B[T]&E&&(v=gu(t,{errors:N,currentLocation:z,expectedLocation:h,distance:a,ignoreLocation:u}),v<=m)){if(m=v,x=z,x<=h)break;k=Math.max(1,2*h-x)}}if(gu(t,{errors:N+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>m)break;g=B}const A={isMatch:x>=0,score:Math.max(.001,v)};if(b){const N=QB(S,i);N.length?l&&(A.indices=N):A.isMatch=!1}return A}function e9(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const Wd=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class Ek{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:a=le.distance,includeMatches:o=le.includeMatches,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,isCaseSensitive:l=le.isCaseSensitive,ignoreDiacritics:u=le.ignoreDiacritics,ignoreLocation:f=le.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:f},t=l?t:t.toLowerCase(),t=u?Wd(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const d=(m,x)=>{this.chunks.push({pattern:m,alphabet:e9(m),startIndex:x})},h=this.pattern.length;if(h>So){let m=0;const x=h%So,b=h-x;for(;m<b;)d(this.pattern.substr(m,So),m),m+=So;if(x){const S=h-So;d(this.pattern.substr(S),S)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?Wd(t):t,this.pattern===t){let b={isMatch:!0,score:0};return a&&(b.indices=[[0,t.length-1]]),b}const{location:o,distance:s,threshold:i,findAllMatches:l,minMatchCharLength:u,ignoreLocation:f}=this.options;let d=[],h=0,m=!1;this.chunks.forEach(({pattern:b,alphabet:S,startIndex:y})=>{const{isMatch:g,score:v,indices:w}=JB(t,b,S,{location:o+y,distance:s,threshold:i,findAllMatches:l,minMatchCharLength:u,includeMatches:a,ignoreLocation:f});g&&(m=!0),h+=v,g&&w&&(d=[...d,...w])});let x={isMatch:m,score:m?h/this.chunks.length:1};return m&&a&&(x.indices=d),x}}class co{constructor(t){this.pattern=t}static isMultiMatch(t){return Tw(t,this.multiRegex)}static isSingleMatch(t){return Tw(t,this.singleRegex)}search(){}}function Tw(e,t){const n=e.match(t);return n?n[1]:null}class t9 extends co{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class n9 extends co{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class r9 extends co{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class a9 extends co{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class o9 extends co{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class s9 extends co{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class _k extends co{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:a=le.distance,includeMatches:o=le.includeMatches,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,isCaseSensitive:l=le.isCaseSensitive,ignoreDiacritics:u=le.ignoreDiacritics,ignoreLocation:f=le.ignoreLocation}={}){super(t),this._bitapSearch=new Ek(t,{location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Ck extends co{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,a.push([r,n-1]);const s=!!a.length;return{isMatch:s,score:s?0:1,indices:a}}}const mg=[t9,Ck,r9,a9,s9,o9,n9,_k],Rw=mg.length,i9=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,l9="|";function c9(e,t={}){return e.split(l9).map(n=>{let r=n.trim().split(i9).filter(o=>o&&!!o.trim()),a=[];for(let o=0,s=r.length;o<s;o+=1){const i=r[o];let l=!1,u=-1;for(;!l&&++u<Rw;){const f=mg[u];let d=f.isMultiMatch(i);d&&(a.push(new f(d,t)),l=!0)}if(!l)for(u=-1;++u<Rw;){const f=mg[u];let d=f.isSingleMatch(i);if(d){a.push(new f(d,t));break}}}return a})}const u9=new Set([_k.type,Ck.type]);class d9{constructor(t,{isCaseSensitive:n=le.isCaseSensitive,ignoreDiacritics:r=le.ignoreDiacritics,includeMatches:a=le.includeMatches,minMatchCharLength:o=le.minMatchCharLength,ignoreLocation:s=le.ignoreLocation,findAllMatches:i=le.findAllMatches,location:l=le.location,threshold:u=le.threshold,distance:f=le.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:o,findAllMatches:i,ignoreLocation:s,location:l,threshold:u,distance:f},t=n?t:t.toLowerCase(),t=r?Wd(t):t,this.pattern=t,this.query=c9(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:o}=this.options;t=a?t:t.toLowerCase(),t=o?Wd(t):t;let s=0,i=[],l=0;for(let u=0,f=n.length;u<f;u+=1){const d=n[u];i.length=0,s=0;for(let h=0,m=d.length;h<m;h+=1){const x=d[h],{isMatch:b,indices:S,score:y}=x.search(t);if(b){if(s+=1,l+=y,r){const g=x.constructor.type;u9.has(g)?i=[...i,...S]:i.push(S)}}else{l=0,s=0,i.length=0;break}}if(s){let h={isMatch:!0,score:l/s};return r&&(h.indices=i),h}}return{isMatch:!1,score:1}}}const pg=[];function f9(...e){pg.push(...e)}function gg(e,t){for(let n=0,r=pg.length;n<r;n+=1){let a=pg[n];if(a.condition(e,t))return new a(e,t)}return new Ek(e,t)}const Kd={AND:"$and",OR:"$or"},yg={PATH:"$path",PATTERN:"$val"},vg=e=>!!(e[Kd.AND]||e[Kd.OR]),h9=e=>!!e[yg.PATH],m9=e=>!ma(e)&&bk(e)&&!vg(e),jw=e=>({[Kd.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Ak(e,t,{auto:n=!0}={}){const r=a=>{let o=Object.keys(a);const s=h9(a);if(!s&&o.length>1&&!vg(a))return r(jw(a));if(m9(a)){const l=s?a[yg.PATH]:o[0],u=s?a[yg.PATTERN]:a[l];if(!yr(u))throw new Error(IB(l));const f={keyId:hg(l),pattern:u};return n&&(f.searcher=gg(u,t)),f}let i={children:[],operator:o[0]};return o.forEach(l=>{const u=a[l];ma(u)&&u.forEach(f=>{i.children.push(r(f))})}),i};return vg(e)||(e=jw(e)),r(e)}function p9(e,{ignoreFieldNorm:t=le.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:o,score:s})=>{const i=a?a.weight:null;r*=Math.pow(s===0&&i?Number.EPSILON:s,(i||1)*(t?1:o))}),n.score=r})}function g9(e,t){const n=e.matches;t.matches=[],yn(n)&&n.forEach(r=>{if(!yn(r.indices)||!r.indices.length)return;const{indices:a,value:o}=r;let s={indices:a,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function y9(e,t){t.score=e.score}function v9(e,t,{includeMatches:n=le.includeMatches,includeScore:r=le.includeScore}={}){const a=[];return n&&a.push(g9),r&&a.push(y9),e.map(o=>{const{idx:s}=o,i={item:t[s],refIndex:s};return a.length&&a.forEach(l=>{l(o,i)}),i})}class va{constructor(t,n={},r){this.options={...le,...n},this.options.useExtendedSearch,this._keyStore=new UB(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof lv))throw new Error(LB);this._myIndex=n||Nk(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){yn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,a-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:o,sortFn:s,ignoreFieldNorm:i}=this.options;let l=yr(t)?yr(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return p9(l,{ignoreFieldNorm:i}),o&&l.sort(s),xk(n)&&n>-1&&(l=l.slice(0,n)),v9(l,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=gg(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:o,i:s,n:i})=>{if(!yn(o))return;const{isMatch:l,score:u,indices:f}=n.searchIn(o);l&&a.push({item:o,idx:s,matches:[{score:u,value:o,norm:i,indices:f}]})}),a}_searchLogical(t){const n=Ak(t,this.options),r=(i,l,u)=>{if(!i.children){const{keyId:d,searcher:h}=i,m=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:h});return m&&m.length?[{idx:u,item:l,matches:m}]:[]}const f=[];for(let d=0,h=i.children.length;d<h;d+=1){const m=i.children[d],x=r(m,l,u);if(x.length)f.push(...x);else if(i.operator===Kd.AND)return[]}return f},a=this._myIndex.records,o={},s=[];return a.forEach(({$:i,i:l})=>{if(yn(i)){let u=r(n,i,l);u.length&&(o[l]||(o[l]={idx:l,item:i,matches:[]},s.push(o[l])),u.forEach(({matches:f})=>{o[l].matches.push(...f)}))}}),s}_searchObjectList(t){const n=gg(t,this.options),{keys:r,records:a}=this._myIndex,o=[];return a.forEach(({$:s,i})=>{if(!yn(s))return;let l=[];r.forEach((u,f)=>{l.push(...this._findMatches({key:u,value:s[f],searcher:n}))}),l.length&&o.push({idx:i,item:s,matches:l})}),o}_findMatches({key:t,value:n,searcher:r}){if(!yn(n))return[];let a=[];if(ma(n))n.forEach(({v:o,i:s,n:i})=>{if(!yn(o))return;const{isMatch:l,score:u,indices:f}=r.searchIn(o);l&&a.push({score:u,key:t,value:o,idx:s,norm:i,indices:f})});else{const{v:o,n:s}=n,{isMatch:i,score:l,indices:u}=r.searchIn(o);i&&a.push({score:l,key:t,value:o,norm:s,indices:u})}return a}}va.version="7.1.0";va.createIndex=Nk;va.parseIndex=KB;va.config=le;va.parseQuery=Ak;f9(d9);function x9(e,t){const n=p.useMemo(()=>e.map(i=>{var l,u;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description,group:i.group,statModifications:i.stat_modifications.map(f=>`${f.stat} ${f.type} ${f.value}${f.value_type==="percentage"?"%":""}`),skillBonuses:i.skill_bonuses.map(f=>`${f.stat} +${f.value}${f.value_type==="percentage"?"%":""}`),powers:i.powers.map(f=>`${f.name} ${f.description}`),conditionalEffects:((l=i.conditional_effects)==null?void 0:l.map(f=>`${f.stat} ${f.description} ${f.condition||""}`))||[],masteryEffects:((u=i.mastery_effects)==null?void 0:u.map(f=>`${f.stat} ${f.description} ${f.condition||""}`))||[],originalBirthsign:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new va(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredBirthsigns:p.useMemo(()=>o.map(i=>i.item.originalBirthsign),[o]),searchResults:o,searchableBirthsigns:n}}const b9={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function w9(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function S9(e){const[t,n]=p.useReducer(w9,b9),r=p.useMemo(()=>{const S=mB(e),y=pB(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:S.map(g=>({id:`group-${g}`,label:g,value:g,category:"Birthsign Groups",description:`Birthsigns from ${g} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:y.map(g=>({id:`stat-${g}`,label:g.replace(/_/g," ").replace(/\b\w/g,v=>v.toUpperCase()),value:g,category:"Stats & Skills",description:`Birthsigns that affect ${g}`}))}]},[e]),a=p.useMemo(()=>t.selectedTags.length===0?e:e.filter(S=>t.selectedTags.every(y=>{switch(y.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return S.group===y.value;case"Stats & Skills":return[...S.stat_modifications.map(v=>v.stat),...S.skill_bonuses.map(v=>v.stat)].some(v=>v===y.value);default:return!0}})),[e,t.selectedTags]),o=p.useMemo(()=>t.selectedTags.filter(S=>S.category==="Fuzzy Search").map(S=>S.value).join(" "),[t.selectedTags]),{filteredBirthsigns:s}=x9(a,o),i=p.useMemo(()=>s.map(vk),[s]),l=p.useMemo(()=>[...i].sort((S,y)=>{var g,v;switch(t.sortBy){case"alphabetical":return S.name.localeCompare(y.name);case"group":{const w=N=>{switch(N){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},E=w(S.category),A=w(y.category);return E!==A?E-A:S.name.localeCompare(y.name)}case"power-count":{const w=((g=S.effects)==null?void 0:g.filter(A=>A.target==="power").length)||0,E=((v=y.effects)==null?void 0:v.filter(A=>A.target==="power").length)||0;return w!==E?E-w:S.name.localeCompare(y.name)}default:return 0}}),[i,t.sortBy]),u=p.useCallback(S=>{n({type:"ADD_TAG",payload:S})},[]),f=p.useCallback(S=>{n({type:"REMOVE_TAG",payload:S})},[]),d=p.useCallback(S=>{n({type:"SET_SORT",payload:S})},[]),h=p.useCallback(S=>{n({type:"SET_VIEW_MODE",payload:S})},[]),m=p.useCallback(S=>{n({type:"TOGGLE_EXPANDED",payload:S})},[]),x=p.useCallback(S=>{n({type:"EXPAND_ALL",payload:S})},[]),b=p.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:f,setSort:d,setViewMode:h,toggleExpanded:m,expandAll:x,collapseAll:b,searchCategories:r,fuzzySearchQuery:o,filteredBirthsigns:a,displayItems:i,sortedDisplayItems:l}}const N9={showStats:!0,showPowers:!0,showSkills:!0,showEffects:!0};function E9(e,t){switch(t.type){case"TOGGLE_STATS":return{...e,showStats:!e.showStats};case"TOGGLE_POWERS":return{...e,showPowers:!e.showPowers};case"TOGGLE_SKILLS":return{...e,showSkills:!e.showSkills};case"TOGGLE_EFFECTS":return{...e,showEffects:!e.showEffects};case"TOGGLE_ALL":return{showStats:t.payload,showPowers:t.payload,showSkills:t.payload,showEffects:t.payload};case"SET_STATS":return{...e,showStats:t.payload};case"SET_POWERS":return{...e,showPowers:t.payload};case"SET_SKILLS":return{...e,showSkills:t.payload};case"SET_EFFECTS":return{...e,showEffects:t.payload};default:return e}}function _9(){const[e,t]=p.useReducer(E9,N9),n=p.useCallback(()=>{t({type:"TOGGLE_STATS"})},[]),r=p.useCallback(()=>{t({type:"TOGGLE_POWERS"})},[]),a=p.useCallback(()=>{t({type:"TOGGLE_SKILLS"})},[]),o=p.useCallback(()=>{t({type:"TOGGLE_EFFECTS"})},[]),s=p.useCallback(d=>{t({type:"TOGGLE_ALL",payload:d})},[]),i=p.useCallback(d=>{t({type:"SET_STATS",payload:d})},[]),l=p.useCallback(d=>{t({type:"SET_POWERS",payload:d})},[]),u=p.useCallback(d=>{t({type:"SET_SKILLS",payload:d})},[]),f=p.useCallback(d=>{t({type:"SET_EFFECTS",payload:d})},[]);return{...e,toggleStats:n,togglePowers:r,toggleSkills:a,toggleEffects:o,toggleAll:s,setStats:i,setPowers:l,setSkills:u,setEffects:f}}function Mw(){const{birthsigns:e,loading:t,error:n}=gk(),{selectedTags:r,sortBy:a,viewMode:o,addTag:s,removeTag:i,setSort:l,setViewMode:u,searchCategories:f,sortedDisplayItems:d}=S9(e),[h,m]=p.useState(new Set),{showStats:x,showPowers:b,showSkills:S,showEffects:y,toggleStats:g,togglePowers:v,toggleSkills:w,toggleEffects:E,toggleAll:A,setStats:N,setPowers:_,setSkills:C,setEffects:k}=_9(),j=d.length>0&&d.every($=>h.has($.id));d.some($=>h.has($.id));const B=$=>{const T=new Set(h),z=3,R=d.findIndex(F=>F.id===$),O=Math.floor(R/z)*z,M=Math.min(O+z,d.length);d.slice(O,M).some(F=>T.has(F.id))?d.slice(O,M).forEach(F=>{T.delete(F.id)}):d.slice(O,M).forEach(F=>{T.add(F.id)}),m(T)};return t?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading birthsigns..."})]})}):n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:n}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs(oa,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Qf,{categories:f,onSelect:$=>{let T;typeof $=="string"?T={id:`custom-${$}`,label:$,value:$,category:"Fuzzy Search"}:T={id:`${$.category}-${$.id}`,label:$.label,value:$.value,category:$.category},r.some(z=>z.value===T.value&&z.category===T.category)||s(T)},onCustomSearch:$=>{let T;typeof $=="string"?T={id:`custom-${$}`,label:$,value:$,category:"Fuzzy Search"}:T={id:`${$.category}-${$.id}`,label:$.label,value:$.value,category:$.category},r.some(z=>z.value===T.value&&z.category===T.category)||s(T)}})}),c.jsxs(Vy,{children:[c.jsx(Zy,{asChild:!0,children:c.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[c.jsx(er,{className:"h-4 w-4"}),a==="alphabetical"?"A-Z":a==="group"?"Type":"Count"]})}),c.jsxs(Xf,{align:"end",children:[c.jsx(sa,{onClick:()=>l("alphabetical"),children:"Alphabetical"}),c.jsx(sa,{onClick:()=>l("group"),children:"Birthsign Group"}),c.jsx(sa,{onClick:()=>l("power-count"),children:"Power Count"})]})]}),c.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[c.jsx(ae,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"h-8 px-3",title:"List view",children:c.jsx(Cc,{className:"h-4 w-4"})}),c.jsx(ae,{variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),className:"h-8 px-3",title:"Grid view",children:c.jsx(_c,{className:"h-4 w-4"})})]}),c.jsx(ae,{variant:"outline",size:"sm",onClick:j?()=>{m(new Set)}:()=>{m(new Set(d.map($=>$.id)))},className:"flex items-center justify-center",title:j?"Collapse all accordions":"Expand all accordions",children:j?c.jsx(x_,{className:"h-4 w-4"}):c.jsx(v_,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"my-4",children:r.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("button",{onClick:()=>r.forEach($=>i($.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[c.jsx(Nn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),r.map($=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>i($.id),title:"Click to remove",children:[$.label,c.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},$.id))]})}),d.length>0&&c.jsx(sv,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(nh,{value:"customize-display",className:"border-none",children:[c.jsxs(rh,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-background hover:bg-muted/50 transition-colors data-[state=open]:rounded-b-none data-[state=open]:border-b-0 justify-start",children:[c.jsx(b_,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-medium",children:"Customize Display"})]}),c.jsx(ah,{className:"px-3 py-3 rounded-b-lg border border-t-0 bg-background",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[c.jsx(Zr,{checked:x&&b&&S&&y,onCheckedChange:A}),c.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),c.jsxs("div",{className:"flex items-stretch gap-3 w-full",children:[c.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:g,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Jr,{className:"text-base font-medium",children:"Stats"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute modifications"})]}),c.jsx(Zr,{checked:x,onCheckedChange:N,onClick:$=>$.stopPropagation()})]}),c.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:v,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Jr,{className:"text-base font-medium",children:"Powers"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Special abilities and spells"})]}),c.jsx(Zr,{checked:b,onCheckedChange:_,onClick:$=>$.stopPropagation()})]}),c.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:w,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Jr,{className:"text-base font-medium",children:"Skills"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Skill bonuses and effects"})]}),c.jsx(Zr,{checked:S,onCheckedChange:C,onClick:$=>$.stopPropagation()})]}),c.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:E,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Jr,{className:"text-base font-medium",children:"Effects"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Conditional and mastery effects"})]}),c.jsx(Zr,{checked:y,onCheckedChange:k,onClick:$=>$.stopPropagation()})]})]})]})})]})}),o==="grid"?c.jsx(Jy,{columns:3,gap:"md",className:"w-full mt-6",children:d.map($=>{const T=e.find(R=>{const L=$.id;return R.name.toLowerCase().replace(/\s+/g,"-")===L});if(!T)return null;const z=h.has($.id);return c.jsx(fg,{item:{...$,originalBirthsign:T},isExpanded:z,onToggle:()=>B($.id),className:"w-full"},$.id)})}):c.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:d.map($=>{const T=e.find(R=>{const L=$.id;return R.name.toLowerCase().replace(/\s+/g,"-")===L});if(!T)return null;const z=h.has($.id);return c.jsx(fg,{item:{...$,originalBirthsign:T},isExpanded:z,onToggle:()=>B($.id),className:"w-full"},$.id)})}),d.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function kk({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r,initialPath:a=[]}){const[o,s]=p.useState(a),i=p.useMemo(()=>e.filter(g=>g.prerequisites.length===0),[e]),l=g=>e.filter(v=>v.prerequisites.includes(g)),u=p.useMemo(()=>{if(o.length===0)return i;const g=o[o.length-1];return l(g.name)},[o,i]),f=p.useMemo(()=>{const g=[],v=new Set,w=E=>{const A=E[E.length-1],N=l(A.name);if(N.length===0){g.push({path:[...E],isComplete:!0,endNode:A});return}N.forEach(_=>{const C=E.map(k=>k.id).join("->")+"->"+_.id;v.has(C)||(v.add(C),w([...E,_]))})};return o.length===0?i.forEach(E=>{w([E])}):u.forEach(E=>{w([...o,E])}),g},[o,u,i,e]),d=g=>t.some(v=>v.id===g),h=g=>{t.forEach(v=>{r(v.id)}),g.forEach(v=>{n(v.id)})};return{selectedPath:o,rootNodes:i,currentOptions:u,predictivePaths:f,isNodePlanned:d,getCurrentNodeName:()=>o.length===0?"Destiny":o[o.length-1].name,backtrack:g=>{const v=o.slice(0,g+1);s(v),h(v)},handleBreadcrumbClick:(g,v)=>{const w=g.slice(0,v+1);s(w),h(w)},startPath:g=>{s([g]),h([g])},startNewPath:()=>{s([]),h([])}}}var Nm,ih="HoverCard",[Tk,dee]=on(ih,[Mi]),lh=Mi(),[C9,cv]=Tk(ih),Rk=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:a,onOpenChange:o,openDelay:s=700,closeDelay:i=300}=e,l=lh(t),u=p.useRef(0),f=p.useRef(0),d=p.useRef(!1),h=p.useRef(!1),[m,x]=Un({prop:r,defaultProp:a??!1,onChange:o,caller:ih}),b=p.useCallback(()=>{clearTimeout(f.current),u.current=window.setTimeout(()=>x(!0),s)},[s,x]),S=p.useCallback(()=>{clearTimeout(u.current),!d.current&&!h.current&&(f.current=window.setTimeout(()=>x(!1),i))},[i,x]),y=p.useCallback(()=>x(!1),[x]);return p.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(f.current)},[]),c.jsx(C9,{scope:t,open:m,onOpenChange:x,onOpen:b,onClose:S,onDismiss:y,hasSelectionRef:d,isPointerDownOnContentRef:h,children:c.jsx(D2,{...l,children:n})})};Rk.displayName=ih;var jk="HoverCardTrigger",Mk=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=cv(jk,n),o=lh(n);return c.jsx(Oy,{asChild:!0,...o,children:c.jsx(fe.a,{"data-state":a.open?"open":"closed",...r,ref:t,onPointerEnter:te(e.onPointerEnter,Jd(a.onOpen)),onPointerLeave:te(e.onPointerLeave,Jd(a.onClose)),onFocus:te(e.onFocus,a.onOpen),onBlur:te(e.onBlur,a.onClose),onTouchStart:te(e.onTouchStart,s=>s.preventDefault())})})});Mk.displayName=jk;var A9="HoverCardPortal",[fee,k9]=Tk(A9,{forceMount:void 0}),Qd="HoverCardContent",Dk=p.forwardRef((e,t)=>{const n=k9(Qd,e.__scopeHoverCard),{forceMount:r=n.forceMount,...a}=e,o=cv(Qd,e.__scopeHoverCard);return c.jsx(Bt,{present:r||o.open,children:c.jsx(T9,{"data-state":o.open?"open":"closed",...a,onPointerEnter:te(e.onPointerEnter,Jd(o.onOpen)),onPointerLeave:te(e.onPointerLeave,Jd(o.onClose)),ref:t})})});Dk.displayName=Qd;var T9=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,...i}=e,l=cv(Qd,n),u=lh(n),f=p.useRef(null),d=Me(t,f),[h,m]=p.useState(!1);return p.useEffect(()=>{if(h){const x=document.body;return Nm=x.style.userSelect||x.style.webkitUserSelect,x.style.userSelect="none",x.style.webkitUserSelect="none",()=>{x.style.userSelect=Nm,x.style.webkitUserSelect=Nm}}},[h]),p.useEffect(()=>{if(f.current){const x=()=>{m(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var S;((S=document.getSelection())==null?void 0:S.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",x),()=>{document.removeEventListener("pointerup",x),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),p.useEffect(()=>{f.current&&M9(f.current).forEach(b=>b.setAttribute("tabindex","-1"))}),c.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:s,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:te(o,x=>{x.preventDefault()}),onDismiss:l.onDismiss,children:c.jsx($y,{...u,...i,onPointerDown:te(i.onPointerDown,x=>{x.currentTarget.contains(x.target)&&m(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:d,style:{...i.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),R9="HoverCardArrow",j9=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=lh(n);return c.jsx(Py,{...a,...r,ref:t})});j9.displayName=R9;function Jd(e){return t=>t.pointerType==="touch"?void 0:e()}function M9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var D9=Rk,z9=Mk,zk=Dk;const Ok=D9,$k=z9,uv=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>c.jsx(zk,{ref:a,align:t,sideOffset:n,className:W("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:zt.TOOLTIP},...r}));uv.displayName=zk.displayName;function dv({node:e,isPlanned:t,children:n}){return c.jsxs(Ok,{openDelay:100,closeDelay:0,children:[c.jsx($k,{asChild:!0,children:n}),c.jsx(uv,{className:"w-80",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h4",{className:"font-medium text-lg",children:e.name})}),c.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.prerequisites.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.prerequisites.map((r,a)=>c.jsx(Ce,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},a))})]}),e.tags.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,a)=>c.jsx(Ce,{variant:"secondary",className:"text-xs",children:r},a))})]})]})})]})}function Pk({path:e,onNodeClick:t,showChevrons:n=!0,BreadcrumbHover:r}){return c.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.map((a,o)=>{const s=c.jsx(Ce,{variant:o===e.length-1?"default":"secondary",className:"cursor-pointer hover:bg-primary/80",onClick:t?()=>t(o):void 0,children:a.name});return c.jsx(D.Fragment,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[r?r(a,s):s,n&&o<e.length-1&&c.jsx(zf,{className:"w-4 h-4 text-muted-foreground"})]})},a.id)})})}function Lk({path:e,renderNode:t,onNodeClick:n}){return c.jsx("div",{className:"space-y-2",children:e.map((r,a)=>t?t(r,a):c.jsx("div",{className:`flex items-center p-2 border rounded ${n?"cursor-pointer":""}`,onClick:n?()=>n(r,a):void 0,children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"font-medium flex items-center gap-2",children:[c.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["Step ",a+1]}),r.name]}),c.jsx("div",{className:"text-sm text-muted-foreground truncate",children:r.description})]})},r.id))})}function O9({selectedPath:e,rootNodes:t,isPlanned:n,onBacktrack:r,onStartPath:a,action:o}){return c.jsxs(St,{children:[c.jsx(Nt,{action:o,children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(mz,{className:"w-5 h-5"}),"Your Destiny Path"]})}),c.jsx(_t,{children:e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-muted-foreground mb-4",children:"No path started yet"}),c.jsx(ae,{onClick:()=>a(t[0]),children:"Start Your Journey"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pk,{path:e,onNodeClick:r,BreadcrumbHover:(s,i)=>c.jsx(dv,{node:s,isPlanned:n(s.id),children:i})}),c.jsx(Lk,{path:e})]})})]})}function $9({predictivePaths:e,selectedTags:t,onTagSelect:n,onTagRemove:r}){const a=p.useMemo(()=>{const o=new Map;e.forEach(d=>{d.path.forEach((h,m)=>{const x=m,b=o.get(h.name);(!b||x<b.level)&&o.set(h.name,{name:h.name,level:x})})});const s=new Set;e.forEach(d=>{d.isComplete&&s.add(d.endNode.name)});const i=Array.from(o.entries()).map(([d,{level:h}])=>({name:d,level:h})).sort((d,h)=>d.level!==h.level?d.level-h.level:d.name.localeCompare(h.name)),l=e.filter(d=>t.length===0?!0:t.every(h=>{const[m,x]=h.value.split(":");return m==="contains"?d.path.some(b=>b.name.toLowerCase().includes(x.toLowerCase())):m==="ends"?d.isComplete&&d.endNode.name.toLowerCase().includes(x.toLowerCase()):!0})),u=new Set;l.forEach(d=>{d.isComplete&&u.add(d.endNode.name)});const f=new Set;return l.forEach(d=>{d.path.forEach((h,m)=>{f.has(h.name)||f.add(h.name)})}),[{id:"contains-nodes",name:"Contains Node",placeholder:"Search for paths containing a specific node...",options:i.filter(({name:d})=>f.has(d)).map(({name:d,level:h})=>({id:`contains-${d}`,label:`${d} (Level ${h})`,value:`contains:${d}`,category:"Contains Node",description:`Paths that include ${d}`}))},{id:"ends-with-nodes",name:"Ends With Node",placeholder:"Search for paths ending at a specific node...",options:Array.from(u).sort().map(d=>({id:`ends-${d}`,label:d,value:`ends:${d}`,category:"Ends With Node",description:`Paths that end at ${d}`}))}]},[e,t]);return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Ky,{categories:a,onSelect:n,className:"w-full"}),c.jsx(Qy,{tags:t,onRemove:r,className:"justify-start"})]})}function P9({predictivePaths:e,selectedPath:t,isPlanned:n,onBreadcrumbClick:r,getCurrentNodeName:a,selectedTags:o,onTagSelect:s,onTagRemove:i,hideFilters:l=!1}){const u=p.useMemo(()=>e.filter(f=>o.length===0?!0:o.every(d=>{const[h,m]=d.value.split(":");return h==="contains"?f.path.some(x=>x.name.toLowerCase().includes(m.toLowerCase())):h==="ends"?f.isComplete&&f.endNode.name.toLowerCase().includes(m.toLowerCase()):!0})),[e,o]);return e.length===0?null:c.jsxs("div",{className:"space-y-4",children:[!l&&c.jsx($9,{predictivePaths:e,selectedTags:o,onTagSelect:s,onTagRemove:i}),c.jsx(xg,{possiblePaths:u,selectedPath:t,isPlanned:n,onBreadcrumbClick:r})]})}function xg({possiblePaths:e,selectedPath:t,isPlanned:n,onBreadcrumbClick:r}){return e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-muted-foreground",children:"No paths match your current filters."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search criteria."})]}):c.jsx("div",{className:"space-y-4",children:e.map((a,o)=>c.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("div",{className:"flex flex-wrap items-center gap-1",children:a.path.map((s,i)=>c.jsxs(D.Fragment,{children:[c.jsx(dv,{node:s,isPlanned:n(s.id),children:c.jsx(Ce,{variant:i<t.length?"default":i===t.length?"secondary":"outline",className:`text-xs cursor-pointer hover:scale-105 transition-transform ${i<t.length?"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600":a.isComplete&&i===a.path.length-1?"bg-red-800 text-red-100 border-red-700":""}`,onClick:l=>{l.stopPropagation(),r(a.path,i)},children:s.name})}),i<a.path.length-1&&c.jsx(zf,{className:"w-3 h-3 text-muted-foreground"})]},s.id))})}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsxs("span",{children:["Length: ",a.path.length," steps"]}),a.isComplete&&c.jsxs("span",{children:[" Ends at: ",a.endNode.name]}),a.path.length>t.length&&c.jsxs("span",{children:[" ",a.path.length-t.length," more choices"]})]})]},o))})}function L9({selectedPath:e,currentOptions:t,onStartNewPath:n}){return e.length===0||t.length>0?null:c.jsxs(St,{children:[c.jsx(Nt,{children:c.jsx(Et,{children:"Path Complete"})}),c.jsx(_t,{children:c.jsxs("div",{className:"text-center py-8",children:[c.jsxs("p",{className:"text-muted-foreground mb-4",children:[`You've reached the end of this path. "`,e[e.length-1].name,'" has no further progression options.']}),c.jsx(ae,{onClick:n,children:"Start New Path"})]})})]})}function fv({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:r,onTagRemove:a}={}){const[o,s]=p.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return p.useEffect(()=>{e&&s(e)},[e]),{filters:o,handleSearch:d=>{const h={...o,search:d};s(h),n==null||n(d)},handleTagSelect:d=>{const h={id:`${d.category}-${d.id}`,label:d.label,value:d.value,category:d.category};if(!o.selectedTags.some(x=>x.id===h.id)){const x={...o,selectedTags:[...o.selectedTags,h]};s(x),r==null||r(h),t==null||t(x)}},handleTagRemove:d=>{const h={...o,selectedTags:o.selectedTags.filter(m=>m.id!==d)};s(h),a==null||a(d),t==null||t(h)},updateFilters:d=>{s(d),t==null||t(d)}}}function Ik(e,t){const n=p.useMemo(()=>e.filter(s=>s.prerequisites.length===0),[e]),r=s=>e.filter(i=>i.prerequisites.includes(s)),a=(s,i)=>{const l=s[s.length-1],u=r(l.name);if(u.length===0){i.push([...s]);return}u.forEach(f=>{a([...s,f],i)})};return p.useMemo(()=>{const s=[];return t?a([t],s):n.forEach(i=>{a([i],s)}),s},[e,t,n])}function I9({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r}){const{getDestinyPath:a,setDestinyPath:o}=an(),s=a(),i=D.useMemo(()=>s.map(_=>e.find(C=>C.id===_)).filter(_=>!!_),[s,e]),{selectedPath:l,rootNodes:u,currentOptions:f,isNodePlanned:d,getCurrentNodeName:h,backtrack:m,handleBreadcrumbClick:x,startPath:b,startNewPath:S}=kk({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r,initialPath:i});D.useEffect(()=>{const _=a(),C=l.map(k=>k.id);(_.length!==C.length||_.some((k,j)=>k!==C[j]))&&o(C)},[l,a,o]);const{handleTagSelect:y,handleTagRemove:g,filters:{selectedTags:v}}=fv({onFiltersChange:()=>{},onSearch:()=>{}}),w=l.length>0?l[l.length-1]:void 0,E=Ik(e,w);function A(_){return e.every(C=>!C.prerequisites.includes(_.name))}const N=E.map(_=>({path:_,isComplete:_.length>0&&A(_[_.length-1]),endNode:_[_.length-1]}));return c.jsxs("div",{className:"space-y-6",children:[c.jsx(O9,{selectedPath:l,rootNodes:u,isPlanned:d,onBacktrack:m,onStartPath:b}),c.jsx(P9,{predictivePaths:N,selectedPath:l,isPlanned:d,onBreadcrumbClick:x,getCurrentNodeName:h,selectedTags:v,onTagSelect:y,onTagRemove:g}),c.jsx(L9,{selectedPath:l,currentOptions:f,onStartNewPath:S})]})}function B9(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function H9(){return this.eachAfter(B9)}function F9(e){var t=this,n,r=[t],a,o,s;do for(n=r.reverse(),r=[];t=n.pop();)if(e(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)r.push(a[o]);while(r.length);return this}function U9(e){for(var t=this,n=[t],r,a;t=n.pop();)if(e(t),r=t.children,r)for(a=r.length-1;a>=0;--a)n.push(r[a]);return this}function G9(e){for(var t=this,n=[t],r=[],a,o,s;t=n.pop();)if(r.push(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;t=r.pop();)e(t);return this}function V9(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function Z9(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Y9(e){for(var t=this,n=q9(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function q9(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function X9(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function W9(){var e=[];return this.each(function(t){e.push(t)}),e}function K9(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Q9(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function hv(e,t){var n=new Wl(e),r=+e.value&&(n.value=e.value),a,o=[n],s,i,l,u;for(t==null&&(t=eH);a=o.pop();)if(r&&(a.value=+a.data.value),(i=t(a.data))&&(u=i.length))for(a.children=new Array(u),l=u-1;l>=0;--l)o.push(s=a.children[l]=new Wl(i[l])),s.parent=a,s.depth=a.depth+1;return n.eachBefore(nH)}function J9(){return hv(this).eachBefore(tH)}function eH(e){return e.children}function tH(e){e.data=e.data.data}function nH(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Wl(e){this.data=e,this.depth=this.height=0,this.parent=null}Wl.prototype=hv.prototype={constructor:Wl,count:H9,each:F9,eachAfter:G9,eachBefore:U9,sum:V9,sort:Z9,path:Y9,ancestors:X9,descendants:W9,leaves:K9,links:Q9,copy:J9};function rH(e,t){return e.parent===t.parent?1:2}function Em(e){var t=e.children;return t?t[0]:e.t}function _m(e){var t=e.children;return t?t[t.length-1]:e.t}function aH(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function oH(e){for(var t=0,n=0,r=e.children,a=r.length,o;--a>=0;)o=r[a],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function sH(e,t,n){return e.a.parent===t.parent?e.a:n}function ed(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}ed.prototype=Object.create(Wl.prototype);function iH(e){for(var t=new ed(e,0),n,r=[t],a,o,s,i;n=r.pop();)if(o=n._.children)for(n.children=new Array(i=o.length),s=i-1;s>=0;--s)r.push(a=n.children[s]=new ed(o[s],s)),a.parent=n;return(t.parent=new ed(null,0)).children=[t],t}function lH(){var e=rH,t=1,n=1,r=null;function a(u){var f=iH(u);if(f.eachAfter(o),f.parent.m=-f.z,f.eachBefore(s),r)u.eachBefore(l);else{var d=u,h=u,m=u;u.eachBefore(function(g){g.x<d.x&&(d=g),g.x>h.x&&(h=g),g.depth>m.depth&&(m=g)});var x=d===h?1:e(d,h)/2,b=x-d.x,S=t/(h.x+x+b),y=n/(m.depth||1);u.eachBefore(function(g){g.x=(g.x+b)*S,g.y=g.depth*y})}return u}function o(u){var f=u.children,d=u.parent.children,h=u.i?d[u.i-1]:null;if(f){oH(u);var m=(f[0].z+f[f.length-1].z)/2;h?(u.z=h.z+e(u._,h._),u.m=u.z-m):u.z=m}else h&&(u.z=h.z+e(u._,h._));u.parent.A=i(u,h,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function i(u,f,d){if(f){for(var h=u,m=u,x=f,b=h.parent.children[0],S=h.m,y=m.m,g=x.m,v=b.m,w;x=_m(x),h=Em(h),x&&h;)b=Em(b),m=_m(m),m.a=u,w=x.z+g-h.z-S+e(x._,h._),w>0&&(aH(sH(x,u,d),u,w),S+=w,y+=w),g+=x.m,S+=h.m,v+=b.m,y+=m.m;x&&!_m(m)&&(m.t=x,m.m+=g-y),h&&!Em(b)&&(b.t=h,b.m+=S-v,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return a.separation=function(u){return arguments.length?(e=u,a):e},a.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],a):r?null:[t,n]},a.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],a):r?[t,n]:null},a}var bg="http://www.w3.org/1999/xhtml";const Dw={svg:"http://www.w3.org/2000/svg",xhtml:bg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ch(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Dw.hasOwnProperty(t)?{space:Dw[t],local:e}:e}function cH(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===bg&&t.documentElement.namespaceURI===bg?t.createElement(e):t.createElementNS(n,e)}}function uH(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bk(e){var t=ch(e);return(t.local?uH:cH)(t)}function dH(){}function mv(e){return e==null?dH:function(){return this.querySelector(e)}}function fH(e){typeof e!="function"&&(e=mv(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=new Array(s),l,u,f=0;f<s;++f)(l=o[f])&&(u=e.call(l,l.__data__,f,o))&&("__data__"in l&&(u.__data__=l.__data__),i[f]=u);return new Cn(r,this._parents)}function hH(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mH(){return[]}function Hk(e){return e==null?mH:function(){return this.querySelectorAll(e)}}function pH(e){return function(){return hH(e.apply(this,arguments))}}function gH(e){typeof e=="function"?e=pH(e):e=Hk(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var s=t[o],i=s.length,l,u=0;u<i;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),a.push(l));return new Cn(r,a)}function Fk(e){return function(){return this.matches(e)}}function Uk(e){return function(t){return t.matches(e)}}var yH=Array.prototype.find;function vH(e){return function(){return yH.call(this.children,e)}}function xH(){return this.firstElementChild}function bH(e){return this.select(e==null?xH:vH(typeof e=="function"?e:Uk(e)))}var wH=Array.prototype.filter;function SH(){return Array.from(this.children)}function NH(e){return function(){return wH.call(this.children,e)}}function EH(e){return this.selectAll(e==null?SH:NH(typeof e=="function"?e:Uk(e)))}function _H(e){typeof e!="function"&&(e=Fk(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&i.push(l);return new Cn(r,this._parents)}function Gk(e){return new Array(e.length)}function CH(){return new Cn(this._enter||this._groups.map(Gk),this._parents)}function ef(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ef.prototype={constructor:ef,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function AH(e){return function(){return e}}function kH(e,t,n,r,a,o){for(var s=0,i,l=t.length,u=o.length;s<u;++s)(i=t[s])?(i.__data__=o[s],r[s]=i):n[s]=new ef(e,o[s]);for(;s<l;++s)(i=t[s])&&(a[s]=i)}function TH(e,t,n,r,a,o,s){var i,l,u=new Map,f=t.length,d=o.length,h=new Array(f),m;for(i=0;i<f;++i)(l=t[i])&&(h[i]=m=s.call(l,l.__data__,i,t)+"",u.has(m)?a[i]=l:u.set(m,l));for(i=0;i<d;++i)m=s.call(e,o[i],i,o)+"",(l=u.get(m))?(r[i]=l,l.__data__=o[i],u.delete(m)):n[i]=new ef(e,o[i]);for(i=0;i<f;++i)(l=t[i])&&u.get(h[i])===l&&(a[i]=l)}function RH(e){return e.__data__}function jH(e,t){if(!arguments.length)return Array.from(this,RH);var n=t?TH:kH,r=this._parents,a=this._groups;typeof e!="function"&&(e=AH(e));for(var o=a.length,s=new Array(o),i=new Array(o),l=new Array(o),u=0;u<o;++u){var f=r[u],d=a[u],h=d.length,m=MH(e.call(f,f&&f.__data__,u,r)),x=m.length,b=i[u]=new Array(x),S=s[u]=new Array(x),y=l[u]=new Array(h);n(f,d,b,S,y,m,t);for(var g=0,v=0,w,E;g<x;++g)if(w=b[g]){for(g>=v&&(v=g+1);!(E=S[v])&&++v<x;);w._next=E||null}}return s=new Cn(s,r),s._enter=i,s._exit=l,s}function MH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DH(){return new Cn(this._exit||this._groups.map(Gk),this._parents)}function zH(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function OH(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,s=Math.min(a,o),i=new Array(a),l=0;l<s;++l)for(var u=n[l],f=r[l],d=u.length,h=i[l]=new Array(d),m,x=0;x<d;++x)(m=u[x]||f[x])&&(h[x]=m);for(;l<a;++l)i[l]=n[l];return new Cn(i,this._parents)}function $H(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],s;--a>=0;)(s=r[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function PH(e){e||(e=LH);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var s=n[o],i=s.length,l=a[o]=new Array(i),u,f=0;f<i;++f)(u=s[f])&&(l[f]=u);l.sort(t)}return new Cn(a,this._parents).order()}function LH(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function IH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function BH(){return Array.from(this)}function HH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var s=r[a];if(s)return s}return null}function FH(){let e=0;for(const t of this)++e;return e}function UH(){return!this.node()}function GH(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,s=a.length,i;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}function VH(e){return function(){this.removeAttribute(e)}}function ZH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function YH(e,t){return function(){this.setAttribute(e,t)}}function qH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function XH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function WH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function KH(e,t){var n=ch(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ZH:VH:typeof t=="function"?n.local?WH:XH:n.local?qH:YH)(n,t))}function Vk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function QH(e){return function(){this.style.removeProperty(e)}}function JH(e,t,n){return function(){this.style.setProperty(e,t,n)}}function e7(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function t7(e,t,n){return arguments.length>1?this.each((t==null?QH:typeof t=="function"?e7:JH)(e,t,n??"")):fi(this.node(),e)}function fi(e,t){return e.style.getPropertyValue(t)||Vk(e).getComputedStyle(e,null).getPropertyValue(t)}function n7(e){return function(){delete this[e]}}function r7(e,t){return function(){this[e]=t}}function a7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function o7(e,t){return arguments.length>1?this.each((t==null?n7:typeof t=="function"?a7:r7)(e,t)):this.node()[e]}function Zk(e){return e.trim().split(/^|\s+/)}function pv(e){return e.classList||new Yk(e)}function Yk(e){this._node=e,this._names=Zk(e.getAttribute("class")||"")}Yk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function qk(e,t){for(var n=pv(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Xk(e,t){for(var n=pv(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function s7(e){return function(){qk(this,e)}}function i7(e){return function(){Xk(this,e)}}function l7(e,t){return function(){(t.apply(this,arguments)?qk:Xk)(this,e)}}function c7(e,t){var n=Zk(e+"");if(arguments.length<2){for(var r=pv(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?l7:t?s7:i7)(n,t))}function u7(){this.textContent=""}function d7(e){return function(){this.textContent=e}}function f7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function h7(e){return arguments.length?this.each(e==null?u7:(typeof e=="function"?f7:d7)(e)):this.node().textContent}function m7(){this.innerHTML=""}function p7(e){return function(){this.innerHTML=e}}function g7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function y7(e){return arguments.length?this.each(e==null?m7:(typeof e=="function"?g7:p7)(e)):this.node().innerHTML}function v7(){this.nextSibling&&this.parentNode.appendChild(this)}function x7(){return this.each(v7)}function b7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function w7(){return this.each(b7)}function S7(e){var t=typeof e=="function"?e:Bk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function N7(){return null}function E7(e,t){var n=typeof e=="function"?e:Bk(e),r=t==null?N7:typeof t=="function"?t:mv(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function _7(){var e=this.parentNode;e&&e.removeChild(this)}function C7(){return this.each(_7)}function A7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function k7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function T7(e){return this.select(e?k7:A7)}function R7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function j7(e){return function(t){e.call(this,t,this.__data__)}}function M7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function D7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function z7(e,t,n){return function(){var r=this.__on,a,o=j7(t);if(r){for(var s=0,i=r.length;s<i;++s)if((a=r[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function O7(e,t,n){var r=M7(e+""),a,o=r.length,s;if(arguments.length<2){var i=this.node().__on;if(i){for(var l=0,u=i.length,f;l<u;++l)for(a=0,f=i[l];a<o;++a)if((s=r[a]).type===f.type&&s.name===f.name)return f.value}return}for(i=t?z7:D7,a=0;a<o;++a)this.each(i(r[a],t,n));return this}function Wk(e,t,n){var r=Vk(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function $7(e,t){return function(){return Wk(this,e,t)}}function P7(e,t){return function(){return Wk(this,e,t.apply(this,arguments))}}function L7(e,t){return this.each((typeof t=="function"?P7:$7)(e,t))}function*I7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,s;a<o;++a)(s=r[a])&&(yield s)}var Kk=[null];function Cn(e,t){this._groups=e,this._parents=t}function Ic(){return new Cn([[document.documentElement]],Kk)}function B7(){return this}Cn.prototype=Ic.prototype={constructor:Cn,select:fH,selectAll:gH,selectChild:bH,selectChildren:EH,filter:_H,data:jH,enter:CH,exit:DH,join:zH,merge:OH,selection:B7,order:$H,sort:PH,call:IH,nodes:BH,node:HH,size:FH,empty:UH,each:GH,attr:KH,style:t7,property:o7,classed:c7,text:h7,html:y7,raise:x7,lower:w7,append:S7,insert:E7,remove:C7,clone:T7,datum:R7,on:O7,dispatch:L7,[Symbol.iterator]:I7};function gt(e){return typeof e=="string"?new Cn([[document.querySelector(e)]],[document.documentElement]):new Cn([[e]],Kk)}function H7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function fr(e,t){if(e=H7(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var F7={value:()=>{}};function uh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new td(n)}function td(e){this._=e}function U7(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}td.prototype=uh.prototype={constructor:td,on:function(e,t){var n=this._,r=U7(e+"",n),a,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((a=(e=r[o]).type)&&(a=G7(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(e=r[o]).type)n[a]=zw(n[a],e.name,t);else if(t==null)for(a in n)n[a]=zw(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new td(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function G7(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function zw(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=F7,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}const V7={passive:!1},Kl={capture:!0,passive:!1};function Cm(e){e.stopImmediatePropagation()}function Zs(e){e.preventDefault(),e.stopImmediatePropagation()}function Qk(e){var t=e.document.documentElement,n=gt(e).on("dragstart.drag",Zs,Kl);"onselectstart"in t?n.on("selectstart.drag",Zs,Kl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Jk(e,t){var n=e.document.documentElement,r=gt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Zs,Kl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const yu=e=>()=>e;function wg(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:o,x:s,y:i,dx:l,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}wg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Z7(e){return!e.ctrlKey&&!e.button}function Y7(){return this.parentNode}function q7(e,t){return t??{x:e.x,y:e.y}}function X7(){return navigator.maxTouchPoints||"ontouchstart"in this}function W7(){var e=Z7,t=Y7,n=q7,r=X7,a={},o=uh("start","drag","end"),s=0,i,l,u,f,d=0;function h(w){w.on("mousedown.drag",m).filter(r).on("touchstart.drag",S).on("touchmove.drag",y,V7).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,E){if(!(f||!e.call(this,w,E))){var A=v(this,t.call(this,w,E),w,E,"mouse");A&&(gt(w.view).on("mousemove.drag",x,Kl).on("mouseup.drag",b,Kl),Qk(w.view),Cm(w),u=!1,i=w.clientX,l=w.clientY,A("start",w))}}function x(w){if(Zs(w),!u){var E=w.clientX-i,A=w.clientY-l;u=E*E+A*A>d}a.mouse("drag",w)}function b(w){gt(w.view).on("mousemove.drag mouseup.drag",null),Jk(w.view,u),Zs(w),a.mouse("end",w)}function S(w,E){if(e.call(this,w,E)){var A=w.changedTouches,N=t.call(this,w,E),_=A.length,C,k;for(C=0;C<_;++C)(k=v(this,N,w,E,A[C].identifier,A[C]))&&(Cm(w),k("start",w,A[C]))}}function y(w){var E=w.changedTouches,A=E.length,N,_;for(N=0;N<A;++N)(_=a[E[N].identifier])&&(Zs(w),_("drag",w,E[N]))}function g(w){var E=w.changedTouches,A=E.length,N,_;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<A;++N)(_=a[E[N].identifier])&&(Cm(w),_("end",w,E[N]))}function v(w,E,A,N,_,C){var k=o.copy(),j=fr(C||A,E),B,$,T;if((T=n.call(w,new wg("beforestart",{sourceEvent:A,target:h,identifier:_,active:s,x:j[0],y:j[1],dx:0,dy:0,dispatch:k}),N))!=null)return B=T.x-j[0]||0,$=T.y-j[1]||0,function z(R,L,O){var M=j,I;switch(R){case"start":a[_]=z,I=s++;break;case"end":delete a[_],--s;case"drag":j=fr(O||L,E),I=s;break}k.call(R,w,new wg(R,{sourceEvent:L,subject:T,target:h,identifier:_,active:I,x:j[0]+B,y:j[1]+$,dx:j[0]-M[0],dy:j[1]-M[1],dispatch:k}),N)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:yu(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:yu(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:yu(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:yu(!!w),h):r},h.on=function(){var w=o.on.apply(o,arguments);return w===o?h:w},h.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,h):Math.sqrt(d)},h}function gv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function eT(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Bc(){}var Ql=.7,tf=1/Ql,Ys="\\s*([+-]?\\d+)\\s*",Jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K7=/^#([0-9a-f]{3,8})$/,Q7=new RegExp(`^rgb\\(${Ys},${Ys},${Ys}\\)$`),J7=new RegExp(`^rgb\\(${Sr},${Sr},${Sr}\\)$`),eF=new RegExp(`^rgba\\(${Ys},${Ys},${Ys},${Jl}\\)$`),tF=new RegExp(`^rgba\\(${Sr},${Sr},${Sr},${Jl}\\)$`),nF=new RegExp(`^hsl\\(${Jl},${Sr},${Sr}\\)$`),rF=new RegExp(`^hsla\\(${Jl},${Sr},${Sr},${Jl}\\)$`),Ow={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gv(Bc,ec,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$w,formatHex:$w,formatHex8:aF,formatHsl:oF,formatRgb:Pw,toString:Pw});function $w(){return this.rgb().formatHex()}function aF(){return this.rgb().formatHex8()}function oF(){return tT(this).formatHsl()}function Pw(){return this.rgb().formatRgb()}function ec(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=K7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Lw(t):n===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Q7.exec(e))?new en(t[1],t[2],t[3],1):(t=J7.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eF.exec(e))?vu(t[1],t[2],t[3],t[4]):(t=tF.exec(e))?vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nF.exec(e))?Hw(t[1],t[2]/100,t[3]/100,1):(t=rF.exec(e))?Hw(t[1],t[2]/100,t[3]/100,t[4]):Ow.hasOwnProperty(e)?Lw(Ow[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function Lw(e){return new en(e>>16&255,e>>8&255,e&255,1)}function vu(e,t,n,r){return r<=0&&(e=t=n=NaN),new en(e,t,n,r)}function sF(e){return e instanceof Bc||(e=ec(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function Sg(e,t,n,r){return arguments.length===1?sF(e):new en(e,t,n,r??1)}function en(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gv(en,Sg,eT(Bc,{brighter(e){return e=e==null?tf:Math.pow(tf,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(Do(this.r),Do(this.g),Do(this.b),nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Iw,formatHex:Iw,formatHex8:iF,formatRgb:Bw,toString:Bw}));function Iw(){return`#${No(this.r)}${No(this.g)}${No(this.b)}`}function iF(){return`#${No(this.r)}${No(this.g)}${No(this.b)}${No((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bw(){const e=nf(this.opacity);return`${e===1?"rgb(":"rgba("}${Do(this.r)}, ${Do(this.g)}, ${Do(this.b)}${e===1?")":`, ${e})`}`}function nf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Do(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function No(e){return e=Do(e),(e<16?"0":"")+e.toString(16)}function Hw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wn(e,t,n,r)}function tT(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);if(e instanceof Bc||(e=ec(e)),!e)return new Wn;if(e instanceof Wn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,i=o-a,l=(o+a)/2;return i?(t===o?s=(n-r)/i+(n<r)*6:n===o?s=(r-t)/i+2:s=(t-n)/i+4,i/=l<.5?o+a:2-o-a,s*=60):i=l>0&&l<1?0:s,new Wn(s,i,l,e.opacity)}function lF(e,t,n,r){return arguments.length===1?tT(e):new Wn(e,t,n,r??1)}function Wn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gv(Wn,lF,eT(Bc,{brighter(e){return e=e==null?tf:Math.pow(tf,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new en(Am(e>=240?e-240:e+120,a,r),Am(e,a,r),Am(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Wn(Fw(this.h),xu(this.s),xu(this.l),nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nf(this.opacity);return`${e===1?"hsl(":"hsla("}${Fw(this.h)}, ${xu(this.s)*100}%, ${xu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fw(e){return e=(e||0)%360,e<0?e+360:e}function xu(e){return Math.max(0,Math.min(1,e||0))}function Am(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const nT=e=>()=>e;function cF(e,t){return function(n){return e+n*t}}function uF(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dF(e){return(e=+e)==1?rT:function(t,n){return n-t?uF(t,n,e):nT(isNaN(t)?n:t)}}function rT(e,t){var n=t-e;return n?cF(e,n):nT(isNaN(e)?t:e)}const Uw=function e(t){var n=dF(t);function r(a,o){var s=n((a=Sg(a)).r,(o=Sg(o)).r),i=n(a.g,o.g),l=n(a.b,o.b),u=rT(a.opacity,o.opacity);return function(f){return a.r=s(f),a.g=i(f),a.b=l(f),a.opacity=u(f),a+""}}return r.gamma=e,r}(1);function ja(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,km=new RegExp(Ng.source,"g");function fF(e){return function(){return e}}function hF(e){return function(t){return e(t)+""}}function mF(e,t){var n=Ng.lastIndex=km.lastIndex=0,r,a,o,s=-1,i=[],l=[];for(e=e+"",t=t+"";(r=Ng.exec(e))&&(a=km.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),i[s]?i[s]+=o:i[++s]=o),(r=r[0])===(a=a[0])?i[s]?i[s]+=a:i[++s]=a:(i[++s]=null,l.push({i:s,x:ja(r,a)})),n=km.lastIndex;return n<t.length&&(o=t.slice(n),i[s]?i[s]+=o:i[++s]=o),i.length<2?l[0]?hF(l[0].x):fF(t):(t=l.length,function(u){for(var f=0,d;f<t;++f)i[(d=l[f]).i]=d.x(u);return i.join("")})}var Gw=180/Math.PI,Eg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aT(e,t,n,r,a,o){var s,i,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,l/=i),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Gw,skewX:Math.atan(l)*Gw,scaleX:s,scaleY:i}}var bu;function pF(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Eg:aT(t.a,t.b,t.c,t.d,t.e,t.f)}function gF(e){return e==null||(bu||(bu=document.createElementNS("http://www.w3.org/2000/svg","g")),bu.setAttribute("transform",e),!(e=bu.transform.baseVal.consolidate()))?Eg:(e=e.matrix,aT(e.a,e.b,e.c,e.d,e.e,e.f))}function oT(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function o(u,f,d,h,m,x){if(u!==d||f!==h){var b=m.push("translate(",null,t,null,n);x.push({i:b-4,x:ja(u,d)},{i:b-2,x:ja(f,h)})}else(d||h)&&m.push("translate("+d+t+h+n)}function s(u,f,d,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:d.push(a(d)+"rotate(",null,r)-2,x:ja(u,f)})):f&&d.push(a(d)+"rotate("+f+r)}function i(u,f,d,h){u!==f?h.push({i:d.push(a(d)+"skewX(",null,r)-2,x:ja(u,f)}):f&&d.push(a(d)+"skewX("+f+r)}function l(u,f,d,h,m,x){if(u!==d||f!==h){var b=m.push(a(m)+"scale(",null,",",null,")");x.push({i:b-4,x:ja(u,d)},{i:b-2,x:ja(f,h)})}else(d!==1||h!==1)&&m.push(a(m)+"scale("+d+","+h+")")}return function(u,f){var d=[],h=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,d,h),s(u.rotate,f.rotate,d,h),i(u.skewX,f.skewX,d,h),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,h),u=f=null,function(m){for(var x=-1,b=h.length,S;++x<b;)d[(S=h[x]).i]=S.x(m);return d.join("")}}}var yF=oT(pF,"px, ","px)","deg)"),vF=oT(gF,", ",")",")"),xF=1e-12;function Vw(e){return((e=Math.exp(e))+1/e)/2}function bF(e){return((e=Math.exp(e))-1/e)/2}function wF(e){return((e=Math.exp(2*e))-1)/(e+1)}const SF=function e(t,n,r){function a(o,s){var i=o[0],l=o[1],u=o[2],f=s[0],d=s[1],h=s[2],m=f-i,x=d-l,b=m*m+x*x,S,y;if(b<xF)y=Math.log(h/u)/t,S=function(N){return[i+N*m,l+N*x,u*Math.exp(t*N*y)]};else{var g=Math.sqrt(b),v=(h*h-u*u+r*b)/(2*u*n*g),w=(h*h-u*u-r*b)/(2*h*n*g),E=Math.log(Math.sqrt(v*v+1)-v),A=Math.log(Math.sqrt(w*w+1)-w);y=(A-E)/t,S=function(N){var _=N*y,C=Vw(E),k=u/(n*g)*(C*wF(t*_+E)-bF(E));return[i+k*m,l+k*x,u*C/Vw(t*_+E)]}}return S.duration=y*1e3*t/Math.SQRT2,S}return a.rho=function(o){var s=Math.max(.001,+o),i=s*s,l=i*i;return e(s,i,l)},a}(Math.SQRT2,2,4);var hi=0,rl=0,Gi=0,sT=1e3,rf,al,af=0,Ho=0,dh=0,tc=typeof performance=="object"&&performance.now?performance:Date,iT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yv(){return Ho||(iT(NF),Ho=tc.now()+dh)}function NF(){Ho=0}function of(){this._call=this._time=this._next=null}of.prototype=lT.prototype={constructor:of,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yv():+n)+(t==null?0:+t),!this._next&&al!==this&&(al?al._next=this:rf=this,al=this),this._call=e,this._time=n,_g()},stop:function(){this._call&&(this._call=null,this._time=1/0,_g())}};function lT(e,t,n){var r=new of;return r.restart(e,t,n),r}function EF(){yv(),++hi;for(var e=rf,t;e;)(t=Ho-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hi}function Zw(){Ho=(af=tc.now())+dh,hi=rl=0;try{EF()}finally{hi=0,CF(),Ho=0}}function _F(){var e=tc.now(),t=e-af;t>sT&&(dh-=t,af=e)}function CF(){for(var e,t=rf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:rf=n);al=e,_g(r)}function _g(e){if(!hi){rl&&(rl=clearTimeout(rl));var t=e-Ho;t>24?(e<1/0&&(rl=setTimeout(Zw,e-tc.now()-dh)),Gi&&(Gi=clearInterval(Gi))):(Gi||(af=tc.now(),Gi=setInterval(_F,sT)),hi=1,iT(Zw))}}function Yw(e,t,n){var r=new of;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var AF=uh("start","end","cancel","interrupt"),kF=[],cT=0,qw=1,Cg=2,nd=3,Xw=4,Ag=5,rd=6;function fh(e,t,n,r,a,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;TF(e,n,{name:t,index:r,group:a,on:AF,tween:kF,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:cT})}function vv(e,t){var n=sr(e,t);if(n.state>cT)throw new Error("too late; already scheduled");return n}function Dr(e,t){var n=sr(e,t);if(n.state>nd)throw new Error("too late; already running");return n}function sr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function TF(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=lT(o,0,n.time);function o(u){n.state=qw,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,d,h,m;if(n.state!==qw)return l();for(f in r)if(m=r[f],m.name===n.name){if(m.state===nd)return Yw(s);m.state===Xw?(m.state=rd,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[f]):+f<t&&(m.state=rd,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[f])}if(Yw(function(){n.state===nd&&(n.state=Xw,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=Cg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Cg){for(n.state=nd,a=new Array(h=n.tween.length),f=0,d=-1;f<h;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=m);a.length=d+1}}function i(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Ag,1),d=-1,h=a.length;++d<h;)a[d].call(e,f);n.state===Ag&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=rd,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ad(e,t){var n=e.__transition,r,a,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}a=r.state>Cg&&r.state<Ag,r.state=rd,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function RF(e){return this.each(function(){ad(this,e)})}function jF(e,t){var n,r;return function(){var a=Dr(this,e),o=a.tween;if(o!==n){r=n=o;for(var s=0,i=r.length;s<i;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function MF(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=Dr(this,e),s=o.tween;if(s!==r){a=(r=s).slice();for(var i={name:t,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===t){a[l]=i;break}l===u&&a.push(i)}o.tween=a}}function DF(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=sr(this.node(),n).tween,a=0,o=r.length,s;a<o;++a)if((s=r[a]).name===e)return s.value;return null}return this.each((t==null?jF:MF)(n,e,t))}function xv(e,t,n){var r=e._id;return e.each(function(){var a=Dr(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return sr(a,r).value[t]}}function uT(e,t){var n;return(typeof t=="number"?ja:t instanceof ec?Uw:(n=ec(t))?(t=n,Uw):mF)(e,t)}function zF(e){return function(){this.removeAttribute(e)}}function OF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $F(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttribute(e);return s===a?null:s===r?o:o=t(r=s,n)}}function PF(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?o:o=t(r=s,n)}}function LF(e,t,n){var r,a,o;return function(){var s,i=n(this),l;return i==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=i+"",s===l?null:s===r&&l===a?o:(a=l,o=t(r=s,i)))}}function IF(e,t,n){var r,a,o;return function(){var s,i=n(this),l;return i==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=i+"",s===l?null:s===r&&l===a?o:(a=l,o=t(r=s,i)))}}function BF(e,t){var n=ch(e),r=n==="transform"?vF:uT;return this.attrTween(e,typeof t=="function"?(n.local?IF:LF)(n,r,xv(this,"attr."+e,t)):t==null?(n.local?OF:zF)(n):(n.local?PF:$F)(n,r,t))}function HF(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function FF(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function UF(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&FF(e,o)),n}return a._value=t,a}function GF(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&HF(e,o)),n}return a._value=t,a}function VF(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ch(e);return this.tween(n,(r.local?UF:GF)(r,t))}function ZF(e,t){return function(){vv(this,e).delay=+t.apply(this,arguments)}}function YF(e,t){return t=+t,function(){vv(this,e).delay=t}}function qF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ZF:YF)(t,e)):sr(this.node(),t).delay}function XF(e,t){return function(){Dr(this,e).duration=+t.apply(this,arguments)}}function WF(e,t){return t=+t,function(){Dr(this,e).duration=t}}function KF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?XF:WF)(t,e)):sr(this.node(),t).duration}function QF(e,t){if(typeof t!="function")throw new Error;return function(){Dr(this,e).ease=t}}function JF(e){var t=this._id;return arguments.length?this.each(QF(t,e)):sr(this.node(),t).ease}function eU(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Dr(this,e).ease=n}}function tU(e){if(typeof e!="function")throw new Error;return this.each(eU(this._id,e))}function nU(e){typeof e!="function"&&(e=Fk(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&i.push(l);return new pa(r,this._parents,this._name,this._id)}function rU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),s=new Array(r),i=0;i<o;++i)for(var l=t[i],u=n[i],f=l.length,d=s[i]=new Array(f),h,m=0;m<f;++m)(h=l[m]||u[m])&&(d[m]=h);for(;i<r;++i)s[i]=t[i];return new pa(s,this._parents,this._name,this._id)}function aU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function oU(e,t,n){var r,a,o=aU(t)?vv:Dr;return function(){var s=o(this,e),i=s.on;i!==r&&(a=(r=i).copy()).on(t,n),s.on=a}}function sU(e,t){var n=this._id;return arguments.length<2?sr(this.node(),n).on.on(e):this.each(oU(n,e,t))}function iU(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function lU(){return this.on("end.remove",iU(this._id))}function cU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mv(e));for(var r=this._groups,a=r.length,o=new Array(a),s=0;s<a;++s)for(var i=r[s],l=i.length,u=o[s]=new Array(l),f,d,h=0;h<l;++h)(f=i[h])&&(d=e.call(f,f.__data__,h,i))&&("__data__"in f&&(d.__data__=f.__data__),u[h]=d,fh(u[h],t,n,h,u,sr(f,n)));return new pa(o,this._parents,t,n)}function uU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hk(e));for(var r=this._groups,a=r.length,o=[],s=[],i=0;i<a;++i)for(var l=r[i],u=l.length,f,d=0;d<u;++d)if(f=l[d]){for(var h=e.call(f,f.__data__,d,l),m,x=sr(f,n),b=0,S=h.length;b<S;++b)(m=h[b])&&fh(m,t,n,b,h,x);o.push(h),s.push(f)}return new pa(o,s,t,n)}var dU=Ic.prototype.constructor;function fU(){return new dU(this._groups,this._parents)}function hU(e,t){var n,r,a;return function(){var o=fi(this,e),s=(this.style.removeProperty(e),fi(this,e));return o===s?null:o===n&&s===r?a:a=t(n=o,r=s)}}function dT(e){return function(){this.style.removeProperty(e)}}function mU(e,t,n){var r,a=n+"",o;return function(){var s=fi(this,e);return s===a?null:s===r?o:o=t(r=s,n)}}function pU(e,t,n){var r,a,o;return function(){var s=fi(this,e),i=n(this),l=i+"";return i==null&&(l=i=(this.style.removeProperty(e),fi(this,e))),s===l?null:s===r&&l===a?o:(a=l,o=t(r=s,i))}}function gU(e,t){var n,r,a,o="style."+t,s="end."+o,i;return function(){var l=Dr(this,e),u=l.on,f=l.value[o]==null?i||(i=dT(t)):void 0;(u!==n||a!==f)&&(r=(n=u).copy()).on(s,a=f),l.on=r}}function yU(e,t,n){var r=(e+="")=="transform"?yF:uT;return t==null?this.styleTween(e,hU(e,r)).on("end.style."+e,dT(e)):typeof t=="function"?this.styleTween(e,pU(e,r,xv(this,"style."+e,t))).each(gU(this._id,e)):this.styleTween(e,mU(e,r,t),n).on("end.style."+e,null)}function vU(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function xU(e,t,n){var r,a;function o(){var s=t.apply(this,arguments);return s!==a&&(r=(a=s)&&vU(e,s,n)),r}return o._value=t,o}function bU(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,xU(e,t,n??""))}function wU(e){return function(){this.textContent=e}}function SU(e){return function(){var t=e(this);this.textContent=t??""}}function NU(e){return this.tween("text",typeof e=="function"?SU(xv(this,"text",e)):wU(e==null?"":e+""))}function EU(e){return function(t){this.textContent=e.call(this,t)}}function _U(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&EU(a)),t}return r._value=e,r}function CU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,_U(e))}function AU(){for(var e=this._name,t=this._id,n=fT(),r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,l,u=0;u<i;++u)if(l=s[u]){var f=sr(l,t);fh(l,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new pa(r,this._parents,e,n)}function kU(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,s){var i={value:s},l={value:function(){--a===0&&o()}};n.each(function(){var u=Dr(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(l)),u.on=t}),a===0&&o()})}var TU=0;function pa(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function fT(){return++TU}var Gr=Ic.prototype;pa.prototype={constructor:pa,select:cU,selectAll:uU,selectChild:Gr.selectChild,selectChildren:Gr.selectChildren,filter:nU,merge:rU,selection:fU,transition:AU,call:Gr.call,nodes:Gr.nodes,node:Gr.node,size:Gr.size,empty:Gr.empty,each:Gr.each,on:sU,attr:BF,attrTween:VF,style:yU,styleTween:bU,text:NU,textTween:CU,remove:lU,tween:DF,delay:qF,duration:KF,ease:JF,easeVarying:tU,end:kU,[Symbol.iterator]:Gr[Symbol.iterator]};function RU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var jU={time:null,delay:0,duration:250,ease:RU};function MU(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function DU(e){var t,n;e instanceof pa?(t=e._id,e=e._name):(t=fT(),(n=jU).time=yv(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,l,u=0;u<i;++u)(l=s[u])&&fh(l,e,t,u,s,n||MU(l,t));return new pa(r,this._parents,e,t)}Ic.prototype.interrupt=RF;Ic.prototype.transition=DU;const wu=e=>()=>e;function zU(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function ea(e,t,n){this.k=e,this.x=t,this.y=n}ea.prototype={constructor:ea,scale:function(e){return e===1?this:new ea(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ea(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Nr=new ea(1,0,0);ea.prototype;function Tm(e){e.stopImmediatePropagation()}function Vi(e){e.preventDefault(),e.stopImmediatePropagation()}function OU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function $U(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ww(){return this.__zoom||Nr}function PU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function LU(){return navigator.maxTouchPoints||"ontouchstart"in this}function IU(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function od(){var e=OU,t=$U,n=IU,r=PU,a=LU,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],i=250,l=SF,u=uh("start","zoom","end"),f,d,h,m=500,x=150,b=0,S=10;function y(T){T.property("__zoom",Ww).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",k).filter(a).on("touchstart.zoom",j).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(T,z,R,L){var O=T.selection?T.selection():T;O.property("__zoom",Ww),T!==O?E(T,z,R,L):O.interrupt().each(function(){A(this,arguments).event(L).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},y.scaleBy=function(T,z,R,L){y.scaleTo(T,function(){var O=this.__zoom.k,M=typeof z=="function"?z.apply(this,arguments):z;return O*M},R,L)},y.scaleTo=function(T,z,R,L){y.transform(T,function(){var O=t.apply(this,arguments),M=this.__zoom,I=R==null?w(O):typeof R=="function"?R.apply(this,arguments):R,F=M.invert(I),V=typeof z=="function"?z.apply(this,arguments):z;return n(v(g(M,V),I,F),O,s)},R,L)},y.translateBy=function(T,z,R,L){y.transform(T,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),s)},null,L)},y.translateTo=function(T,z,R,L,O){y.transform(T,function(){var M=t.apply(this,arguments),I=this.__zoom,F=L==null?w(M):typeof L=="function"?L.apply(this,arguments):L;return n(Nr.translate(F[0],F[1]).scale(I.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof R=="function"?-R.apply(this,arguments):-R),M,s)},L,O)};function g(T,z){return z=Math.max(o[0],Math.min(o[1],z)),z===T.k?T:new ea(z,T.x,T.y)}function v(T,z,R){var L=z[0]-R[0]*T.k,O=z[1]-R[1]*T.k;return L===T.x&&O===T.y?T:new ea(T.k,L,O)}function w(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function E(T,z,R,L){T.on("start.zoom",function(){A(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(L).end()}).tween("zoom",function(){var O=this,M=arguments,I=A(O,M).event(L),F=t.apply(O,M),V=R==null?w(F):typeof R=="function"?R.apply(O,M):R,U=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),P=O.__zoom,H=typeof z=="function"?z.apply(O,M):z,Z=l(P.invert(V).concat(U/P.k),H.invert(V).concat(U/H.k));return function(G){if(G===1)G=H;else{var Y=Z(G),K=U/Y[2];G=new ea(K,V[0]-Y[0]*K,V[1]-Y[1]*K)}I.zoom(null,G)}})}function A(T,z,R){return!R&&T.__zooming||new N(T,z)}function N(T,z){this.that=T,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,z),this.taps=0}N.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,z){return this.mouse&&T!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var z=gt(this.that).datum();u.call(T,this.that,new zU(T,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),z)}};function _(T,...z){if(!e.apply(this,arguments))return;var R=A(this,z).event(T),L=this.__zoom,O=Math.max(o[0],Math.min(o[1],L.k*Math.pow(2,r.apply(this,arguments)))),M=fr(T);if(R.wheel)(R.mouse[0][0]!==M[0]||R.mouse[0][1]!==M[1])&&(R.mouse[1]=L.invert(R.mouse[0]=M)),clearTimeout(R.wheel);else{if(L.k===O)return;R.mouse=[M,L.invert(M)],ad(this),R.start()}Vi(T),R.wheel=setTimeout(I,x),R.zoom("mouse",n(v(g(L,O),R.mouse[0],R.mouse[1]),R.extent,s));function I(){R.wheel=null,R.end()}}function C(T,...z){if(h||!e.apply(this,arguments))return;var R=T.currentTarget,L=A(this,z,!0).event(T),O=gt(T.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",U,!0),M=fr(T,R),I=T.clientX,F=T.clientY;Qk(T.view),Tm(T),L.mouse=[M,this.__zoom.invert(M)],ad(this),L.start();function V(P){if(Vi(P),!L.moved){var H=P.clientX-I,Z=P.clientY-F;L.moved=H*H+Z*Z>b}L.event(P).zoom("mouse",n(v(L.that.__zoom,L.mouse[0]=fr(P,R),L.mouse[1]),L.extent,s))}function U(P){O.on("mousemove.zoom mouseup.zoom",null),Jk(P.view,L.moved),Vi(P),L.event(P).end()}}function k(T,...z){if(e.apply(this,arguments)){var R=this.__zoom,L=fr(T.changedTouches?T.changedTouches[0]:T,this),O=R.invert(L),M=R.k*(T.shiftKey?.5:2),I=n(v(g(R,M),L,O),t.apply(this,z),s);Vi(T),i>0?gt(this).transition().duration(i).call(E,I,L,T):gt(this).call(y.transform,I,L,T)}}function j(T,...z){if(e.apply(this,arguments)){var R=T.touches,L=R.length,O=A(this,z,T.changedTouches.length===L).event(T),M,I,F,V;for(Tm(T),I=0;I<L;++I)F=R[I],V=fr(F,this),V=[V,this.__zoom.invert(V),F.identifier],O.touch0?!O.touch1&&O.touch0[2]!==V[2]&&(O.touch1=V,O.taps=0):(O.touch0=V,M=!0,O.taps=1+!!f);f&&(f=clearTimeout(f)),M&&(O.taps<2&&(d=V[0],f=setTimeout(function(){f=null},m)),ad(this),O.start())}}function B(T,...z){if(this.__zooming){var R=A(this,z).event(T),L=T.changedTouches,O=L.length,M,I,F,V;for(Vi(T),M=0;M<O;++M)I=L[M],F=fr(I,this),R.touch0&&R.touch0[2]===I.identifier?R.touch0[0]=F:R.touch1&&R.touch1[2]===I.identifier&&(R.touch1[0]=F);if(I=R.that.__zoom,R.touch1){var U=R.touch0[0],P=R.touch0[1],H=R.touch1[0],Z=R.touch1[1],G=(G=H[0]-U[0])*G+(G=H[1]-U[1])*G,Y=(Y=Z[0]-P[0])*Y+(Y=Z[1]-P[1])*Y;I=g(I,Math.sqrt(G/Y)),F=[(U[0]+H[0])/2,(U[1]+H[1])/2],V=[(P[0]+Z[0])/2,(P[1]+Z[1])/2]}else if(R.touch0)F=R.touch0[0],V=R.touch0[1];else return;R.zoom("touch",n(v(I,F,V),R.extent,s))}}function $(T,...z){if(this.__zooming){var R=A(this,z).event(T),L=T.changedTouches,O=L.length,M,I;for(Tm(T),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<O;++M)I=L[M],R.touch0&&R.touch0[2]===I.identifier?delete R.touch0:R.touch1&&R.touch1[2]===I.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(I=fr(I,this),Math.hypot(d[0]-I[0],d[1]-I[1])<S)){var F=gt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return y.wheelDelta=function(T){return arguments.length?(r=typeof T=="function"?T:wu(+T),y):r},y.filter=function(T){return arguments.length?(e=typeof T=="function"?T:wu(!!T),y):e},y.touchable=function(T){return arguments.length?(a=typeof T=="function"?T:wu(!!T),y):a},y.extent=function(T){return arguments.length?(t=typeof T=="function"?T:wu([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),y):t},y.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],y):[o[0],o[1]]},y.translateExtent=function(T){return arguments.length?(s[0][0]=+T[0][0],s[1][0]=+T[1][0],s[0][1]=+T[0][1],s[1][1]=+T[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(T){return arguments.length?(n=T,y):n},y.duration=function(T){return arguments.length?(i=+T,y):i},y.interpolate=function(T){return arguments.length?(l=T,y):l},y.on=function(){var T=u.on.apply(u,arguments);return T===u?y:T},y.clickDistance=function(T){return arguments.length?(b=(T=+T)*T,y):Math.sqrt(b)},y.tapDistance=function(T){return arguments.length?(S=+T,y):S},y}var Kw=Object.prototype.hasOwnProperty;function El(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&El(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Kw.call(e,n)&&++r&&!Kw.call(t,n)||!(n in t)||!El(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var hT={exports:{}};(function(e){var t=function(){function n(h,m){return m!=null&&h instanceof m}var r;try{r=Map}catch{r=function(){}}var a;try{a=Set}catch{a=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(h,m,x,b,S){typeof m=="object"&&(x=m.depth,b=m.prototype,S=m.includeNonEnumerable,m=m.circular);var y=[],g=[],v=typeof Buffer<"u";typeof m>"u"&&(m=!0),typeof x>"u"&&(x=1/0);function w(E,A){if(E===null)return null;if(A===0)return E;var N,_;if(typeof E!="object")return E;if(n(E,r))N=new r;else if(n(E,a))N=new a;else if(n(E,o))N=new o(function(L,O){E.then(function(M){L(w(M,A-1))},function(M){O(w(M,A-1))})});else if(s.__isArray(E))N=[];else if(s.__isRegExp(E))N=new RegExp(E.source,d(E)),E.lastIndex&&(N.lastIndex=E.lastIndex);else if(s.__isDate(E))N=new Date(E.getTime());else{if(v&&Buffer.isBuffer(E))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(E.length):N=new Buffer(E.length),E.copy(N),N;n(E,Error)?N=Object.create(E):typeof b>"u"?(_=Object.getPrototypeOf(E),N=Object.create(_)):(N=Object.create(b),_=b)}if(m){var C=y.indexOf(E);if(C!=-1)return g[C];y.push(E),g.push(N)}n(E,r)&&E.forEach(function(L,O){var M=w(O,A-1),I=w(L,A-1);N.set(M,I)}),n(E,a)&&E.forEach(function(L){var O=w(L,A-1);N.add(O)});for(var k in E){var j;_&&(j=Object.getOwnPropertyDescriptor(_,k)),!(j&&j.set==null)&&(N[k]=w(E[k],A-1))}if(Object.getOwnPropertySymbols)for(var B=Object.getOwnPropertySymbols(E),k=0;k<B.length;k++){var $=B[k],T=Object.getOwnPropertyDescriptor(E,$);T&&!T.enumerable&&!S||(N[$]=w(E[$],A-1),T.enumerable||Object.defineProperty(N,$,{enumerable:!1}))}if(S)for(var z=Object.getOwnPropertyNames(E),k=0;k<z.length;k++){var R=z[k],T=Object.getOwnPropertyDescriptor(E,R);T&&T.enumerable||(N[R]=w(E[R],A-1),Object.defineProperty(N,R,{enumerable:!1}))}return N}return w(h,x)}s.clonePrototype=function(m){if(m===null)return null;var x=function(){};return x.prototype=m,new x};function i(h){return Object.prototype.toString.call(h)}s.__objToStr=i;function l(h){return typeof h=="object"&&i(h)==="[object Date]"}s.__isDate=l;function u(h){return typeof h=="object"&&i(h)==="[object Array]"}s.__isArray=u;function f(h){return typeof h=="object"&&i(h)==="[object RegExp]"}s.__isRegExp=f;function d(h){var m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),m}return s.__getRegExpFlags=d,s}();e.exports&&(e.exports=t)})(hT);var BU=hT.exports;const Ht=pf(BU);var Su,HU=new Uint8Array(16);function FU(){if(!Su&&(Su=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Su))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Su(HU)}const UU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function GU(e){return typeof e=="string"&&UU.test(e)}var Rt=[];for(var Rm=0;Rm<256;++Rm)Rt.push((Rm+256).toString(16).substr(1));function VU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Rt[e[t+0]]+Rt[e[t+1]]+Rt[e[t+2]]+Rt[e[t+3]]+"-"+Rt[e[t+4]]+Rt[e[t+5]]+"-"+Rt[e[t+6]]+Rt[e[t+7]]+"-"+Rt[e[t+8]]+Rt[e[t+9]]+"-"+Rt[e[t+10]]+Rt[e[t+11]]+Rt[e[t+12]]+Rt[e[t+13]]+Rt[e[t+14]]+Rt[e[t+15]]).toLowerCase();if(!GU(n))throw TypeError("Stringified UUID is invalid");return n}function jm(e,t,n){e=e||{};var r=e.random||(e.rng||FU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,VU(r)}var kg={exports:{}},mT={exports:{}},ZU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YU=ZU,qU=YU;function pT(){}function gT(){}gT.resetWarningCache=pT;var XU=function(){function e(r,a,o,s,i,l){if(l!==qU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gT,resetWarningCache:pT};return n.PropTypes=n,n};mT.exports=XU();var hh=mT.exports,Tg={exports:{}},WU=function(){for(var t=arguments.length,n=[],r=0;r<t;r++)n[r]=arguments[r];if(n=n.filter(function(a){return a!=null}),n.length!==0)return n.length===1?n[0]:n.reduce(function(a,o){return function(){a.apply(this,arguments),o.apply(this,arguments)}})},KU=function(){},QU=KU;function yT(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function vT(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function xT(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}yT.__suppressDeprecationWarning=!0;vT.__suppressDeprecationWarning=!0;xT.__suppressDeprecationWarning=!0;function JU(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=yT,t.componentWillReceiveProps=vT),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=xT;var i=t.componentDidUpdate;t.componentDidUpdate=function(u,f,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;i.call(this,u,f,h)}}return e}const eG=Object.freeze(Object.defineProperty({__proto__:null,polyfill:JU},Symbol.toStringTag,{value:"Module"})),tG=jM(eG);var mh={};mh.__esModule=!0;mh.getChildMapping=rG;mh.mergeChildMappings=aG;var nG=p;function rG(e){if(!e)return e;var t={};return nG.Children.map(e,function(n){return n}).forEach(function(n){t[n.key]=n}),t}function aG(e,t){e=e||{},t=t||{};function n(f){return t.hasOwnProperty(f)?t[f]:e[f]}var r={},a=[];for(var o in e)t.hasOwnProperty(o)?a.length&&(r[o]=a,a=[]):a.push(o);var s=void 0,i={};for(var l in t){if(r.hasOwnProperty(l))for(s=0;s<r[l].length;s++){var u=r[l][s];i[r[l][s]]=n(u)}i[l]=n(l)}for(s=0;s<a.length;s++)i[a[s]]=n(a[s]);return i}(function(e,t){t.__esModule=!0;var n=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var w=arguments[v];for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(g[E]=w[E])}return g},r=WU,a=h(r),o=p,s=h(o),i=hh,l=h(i),u=QU;h(u);var f=tG,d=mh;function h(g){return g&&g.__esModule?g:{default:g}}function m(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function x(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function b(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}l.default.any,l.default.func,l.default.node;var S={component:"span",childFactory:function(v){return v}},y=function(g){b(v,g);function v(w,E){m(this,v);var A=x(this,g.call(this,w,E));return A.performAppear=function(N,_){A.currentlyTransitioningKeys[N]=!0,_.componentWillAppear?_.componentWillAppear(A._handleDoneAppearing.bind(A,N,_)):A._handleDoneAppearing(N,_)},A._handleDoneAppearing=function(N,_){_&&_.componentDidAppear&&_.componentDidAppear(),delete A.currentlyTransitioningKeys[N];var C=(0,d.getChildMapping)(A.props.children);(!C||!C.hasOwnProperty(N))&&A.performLeave(N,_)},A.performEnter=function(N,_){A.currentlyTransitioningKeys[N]=!0,_.componentWillEnter?_.componentWillEnter(A._handleDoneEntering.bind(A,N,_)):A._handleDoneEntering(N,_)},A._handleDoneEntering=function(N,_){_&&_.componentDidEnter&&_.componentDidEnter(),delete A.currentlyTransitioningKeys[N];var C=(0,d.getChildMapping)(A.props.children);(!C||!C.hasOwnProperty(N))&&A.performLeave(N,_)},A.performLeave=function(N,_){A.currentlyTransitioningKeys[N]=!0,_&&_.componentWillLeave?_.componentWillLeave(A._handleDoneLeaving.bind(A,N,_)):A._handleDoneLeaving(N,_)},A._handleDoneLeaving=function(N,_){_&&_.componentDidLeave&&_.componentDidLeave(),delete A.currentlyTransitioningKeys[N];var C=(0,d.getChildMapping)(A.props.children);C&&C.hasOwnProperty(N)?A.keysToEnter.push(N):A.setState(function(k){var j=n({},k.children);return delete j[N],{children:j}})},A.childRefs=Object.create(null),A.currentlyTransitioningKeys={},A.keysToEnter=[],A.keysToLeave=[],A.state={children:(0,d.getChildMapping)(w.children)},A}return v.prototype.componentDidMount=function(){var E=this.state.children;for(var A in E)E[A]&&this.performAppear(A,this.childRefs[A])},v.getDerivedStateFromProps=function(E,A){var N=(0,d.getChildMapping)(E.children),_=A.children;return{children:(0,d.mergeChildMappings)(_,N)}},v.prototype.componentDidUpdate=function(E,A){var N=this,_=(0,d.getChildMapping)(this.props.children),C=A.children;for(var k in _){var j=C&&C.hasOwnProperty(k);_[k]&&!j&&!this.currentlyTransitioningKeys[k]&&this.keysToEnter.push(k)}for(var B in C){var $=_&&_.hasOwnProperty(B);C[B]&&!$&&!this.currentlyTransitioningKeys[B]&&this.keysToLeave.push(B)}var T=this.keysToEnter;this.keysToEnter=[],T.forEach(function(R){return N.performEnter(R,N.childRefs[R])});var z=this.keysToLeave;this.keysToLeave=[],z.forEach(function(R){return N.performLeave(R,N.childRefs[R])})},v.prototype.render=function(){var E=this,A=[],N=function(j){var B=E.state.children[j];if(B){var $=typeof B.ref!="string",T=E.props.childFactory(B),z=function(L){E.childRefs[j]=L};T===B&&$&&(z=(0,a.default)(B.ref,z)),A.push(s.default.cloneElement(T,{key:j,ref:z}))}};for(var _ in this.state.children)N(_);var C=n({},this.props);return delete C.transitionLeave,delete C.transitionName,delete C.transitionAppear,delete C.transitionEnter,delete C.childFactory,delete C.transitionLeaveTimeout,delete C.transitionEnterTimeout,delete C.transitionAppearTimeout,delete C.component,s.default.createElement(this.props.component,C,A)},v}(s.default.Component);y.displayName="TransitionGroup",y.propTypes={},y.defaultProps=S,t.default=(0,f.polyfill)(y),e.exports=t.default})(Tg,Tg.exports);var bT=Tg.exports,Rg={exports:{}},jg={exports:{}},wT={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(wT);var bv=wT.exports,Nu={exports:{}},Qw;function oG(){return Qw||(Qw=1,function(e,t){t.__esModule=!0,t.default=n;function n(r,a){return r.classList?!!a&&r.classList.contains(a):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+a+" ")!==-1}e.exports=t.default}(Nu,Nu.exports)),Nu.exports}(function(e,t){var n=bv;t.__esModule=!0,t.default=a;var r=n(oG());function a(o,s){o.classList?o.classList.add(s):(0,r.default)(o,s)||(typeof o.className=="string"?o.className=o.className+" "+s:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+s))}e.exports=t.default})(jg,jg.exports);var sG=jg.exports;function Jw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var iG=function(t,n){t.classList?t.classList.remove(n):typeof t.className=="string"?t.className=Jw(t.className,n):t.setAttribute("class",Jw(t.className&&t.className.baseVal||"",n))},Mg={exports:{}},Eu={exports:{}},e1;function ST(){return e1||(e1=1,function(e,t){t.__esModule=!0,t.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);t.default=n,e.exports=t.default}(Eu,Eu.exports)),Eu.exports}(function(e,t){var n=bv;t.__esModule=!0,t.default=void 0;var r=n(ST()),a=["","webkit","moz","o","ms"],o="clearTimeout",s=f,i,l=function(m,x){return m+(m?x[0].toUpperCase()+x.substr(1):x)+"AnimationFrame"};r.default&&a.some(function(h){var m=l(h,"request");if(m in window)return o=l(h,"cancel"),s=function(b){return window[m](b)}});var u=new Date().getTime();function f(h){var m=new Date().getTime(),x=Math.max(0,16-(m-u)),b=setTimeout(h,x);return u=m,b}i=function(m){return s(m)},i.cancel=function(h){window[o]&&typeof window[o]=="function"&&window[o](h)};var d=i;t.default=d,e.exports=t.default})(Mg,Mg.exports);var lG=Mg.exports,we={},cG=bv;we.__esModule=!0;we.default=we.animationEnd=we.animationDelay=we.animationTiming=we.animationDuration=we.animationName=we.transitionEnd=we.transitionDuration=we.transitionDelay=we.transitionTiming=we.transitionProperty=we.transform=void 0;var uG=cG(ST()),sf="transform";we.transform=sf;var dr,wv,NT;we.animationEnd=NT;we.transitionEnd=wv;var Sv,Nv,Ev,_v;we.transitionDelay=_v;we.transitionTiming=Ev;we.transitionDuration=Nv;we.transitionProperty=Sv;var ET,_T,CT,AT;we.animationDelay=AT;we.animationTiming=CT;we.animationDuration=_T;we.animationName=ET;if(uG.default){var Mm=fG();dr=Mm.prefix,we.transitionEnd=wv=Mm.transitionEnd,we.animationEnd=NT=Mm.animationEnd,we.transform=sf=dr+"-"+sf,we.transitionProperty=Sv=dr+"-transition-property",we.transitionDuration=Nv=dr+"-transition-duration",we.transitionDelay=_v=dr+"-transition-delay",we.transitionTiming=Ev=dr+"-transition-timing-function",we.animationName=ET=dr+"-animation-name",we.animationDuration=_T=dr+"-animation-duration",we.animationTiming=CT=dr+"-animation-delay",we.animationDelay=AT=dr+"-animation-timing-function"}var dG={transform:sf,end:wv,property:Sv,timing:Ev,delay:_v,duration:Nv};we.default=dG;function fG(){for(var e=document.createElement("div").style,t={O:function(u){return"o"+u.toLowerCase()},Moz:function(u){return u.toLowerCase()},Webkit:function(u){return"webkit"+u},ms:function(u){return"MS"+u}},n=Object.keys(t),r,a,o="",s=0;s<n.length;s++){var i=n[s];if(i+"TransitionProperty"in e){o="-"+i.toLowerCase(),r=t[i]("TransitionEnd"),a=t[i]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!a&&"animationName"in e&&(a="animationend"),e=null,{animationEnd:a,transitionEnd:r,prefix:o}}var Di={};Di.__esModule=!0;Di.nameShape=void 0;Di.transitionTimeout=pG;var hG=p;kT(hG);var mG=hh,fn=kT(mG);function kT(e){return e&&e.__esModule?e:{default:e}}function pG(e){var t="transition"+e+"Timeout",n="transition"+e;return function(r){if(r[n]){if(r[t]==null)return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if(typeof r[t]!="number")return new Error(t+" must be a number (in milliseconds)")}return null}}Di.nameShape=fn.default.oneOfType([fn.default.string,fn.default.shape({enter:fn.default.string,leave:fn.default.string,active:fn.default.string}),fn.default.shape({enter:fn.default.string,enterActive:fn.default.string,leave:fn.default.string,leaveActive:fn.default.string,appear:fn.default.string,appearActive:fn.default.string})]);(function(e,t){t.__esModule=!0;var n=Object.assign||function(N){for(var _=1;_<arguments.length;_++){var C=arguments[_];for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&(N[k]=C[k])}return N},r=sG,a=S(r),o=iG,s=S(o),i=lG,l=S(i),u=we,f=p,d=S(f),h=hh,m=S(h),x=lc,b=Di;function S(N){return N&&N.__esModule?N:{default:N}}function y(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function g(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function v(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var w=[];u.transitionEnd&&w.push(u.transitionEnd),u.animationEnd&&w.push(u.animationEnd);function E(N,_){return w.length?w.forEach(function(C){return N.addEventListener(C,_,!1)}):setTimeout(_,0),function(){w.length&&w.forEach(function(C){return N.removeEventListener(C,_,!1)})}}m.default.node,b.nameShape.isRequired,m.default.bool,m.default.bool,m.default.bool,m.default.number,m.default.number,m.default.number;var A=function(N){v(_,N);function _(C,k){y(this,_);var j=g(this,N.call(this,C,k));return j.componentWillAppear=function(B){j.props.appear?j.transition("appear",B,j.props.appearTimeout):B()},j.componentWillEnter=function(B){j.props.enter?j.transition("enter",B,j.props.enterTimeout):B()},j.componentWillLeave=function(B){j.props.leave?j.transition("leave",B,j.props.leaveTimeout):B()},j.classNameAndNodeQueue=[],j.transitionTimeouts=[],j}return _.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(k){clearTimeout(k)}),this.classNameAndNodeQueue.length=0},_.prototype.transition=function(k,j,B){var $=(0,x.findDOMNode)(this);if(!$){j&&j();return}var T=this.props.name[k]||this.props.name+"-"+k,z=this.props.name[k+"Active"]||T+"-active",R=null,L=void 0;(0,a.default)($,T),this.queueClassAndNode(z,$);var O=function(I){I&&I.target!==$||(clearTimeout(R),L&&L(),(0,s.default)($,T),(0,s.default)($,z),L&&L(),j&&j())};B?(R=setTimeout(O,B),this.transitionTimeouts.push(R)):u.transitionEnd&&(L=E($,O))},_.prototype.queueClassAndNode=function(k,j){var B=this;this.classNameAndNodeQueue.push({className:k,node:j}),this.rafHandle||(this.rafHandle=(0,l.default)(function(){return B.flushClassNameAndNodeQueue()}))},_.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(k){k.node.scrollTop,(0,a.default)(k.node,k.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},_.prototype.render=function(){var k=n({},this.props);return delete k.name,delete k.appear,delete k.enter,delete k.leave,delete k.appearTimeout,delete k.enterTimeout,delete k.leaveTimeout,delete k.children,d.default.cloneElement(d.default.Children.only(this.props.children),k)},_}(d.default.Component);A.displayName="CSSTransitionGroupChild",A.propTypes={},t.default=A,e.exports=t.default})(Rg,Rg.exports);var gG=Rg.exports;(function(e,t){t.__esModule=!0;var n=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var w=arguments[v];for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(g[E]=w[E])}return g},r=p,a=h(r),o=hh,s=h(o),i=bT,l=h(i),u=gG,f=h(u),d=Di;function h(g){return g&&g.__esModule?g:{default:g}}function m(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function x(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function b(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}d.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,d.transitionTimeout)("Appear"),(0,d.transitionTimeout)("Enter"),(0,d.transitionTimeout)("Leave");var S={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},y=function(g){b(v,g);function v(){var w,E,A;m(this,v);for(var N=arguments.length,_=Array(N),C=0;C<N;C++)_[C]=arguments[C];return A=(w=(E=x(this,g.call.apply(g,[this].concat(_))),E),E._wrapChild=function(k){return a.default.createElement(f.default,{name:E.props.transitionName,appear:E.props.transitionAppear,enter:E.props.transitionEnter,leave:E.props.transitionLeave,appearTimeout:E.props.transitionAppearTimeout,enterTimeout:E.props.transitionEnterTimeout,leaveTimeout:E.props.transitionLeaveTimeout},k)},w),x(E,A)}return v.prototype.render=function(){return a.default.createElement(l.default,n({},this.props,{childFactory:this._wrapChild}))},v}(a.default.Component);y.displayName="CSSTransitionGroup",y.propTypes={},y.defaultProps=S,t.default=y,e.exports=t.default})(kg,kg.exports);var yG=kg.exports,vG=yG,xG=TT(vG),bG=bT,wG=TT(bG);function TT(e){return e&&e.__esModule?e:{default:e}}var SG={TransitionGroup:wG.default,CSSTransitionGroup:xG.default};const NG=e=>e.enableLegacyTransitions?D.createElement(SG.TransitionGroup,{component:e.component,className:e.className,transform:e.transform},e.children):D.createElement("g",{className:e.className,transform:e.transform},e.children),EG=15,t1={title:{textAnchor:"start",x:40},attribute:{x:40,dy:"1.2em"}},_G=({nodeDatum:e,toggleNode:t,onNodeClick:n,onNodeMouseOver:r,onNodeMouseOut:a})=>D.createElement(D.Fragment,null,D.createElement("circle",{r:EG,onClick:o=>{t(),n(o)},onMouseOver:r,onMouseOut:a}),D.createElement("g",{className:"rd3t-label"},D.createElement("text",Object.assign({className:"rd3t-label__title"},t1.title),e.name),D.createElement("text",{className:"rd3t-label__attributes"},e.attributes&&Object.entries(e.attributes).map(([o,s],i)=>D.createElement("tspan",Object.assign({key:`${o}-${i}`},t1.attribute),o,": ",typeof s=="boolean"?s.toString():s)))));let CG=class extends D.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(t,n,r,a)=>n.subscriptions!==t.subscriptions||n.position.x!==t.position.x||n.position.y!==t.position.y||n.orientation!==t.orientation||a.wasClicked!==r.wasClicked,this.renderNodeElement=()=>{const{data:t,hierarchyPointNode:n,renderCustomNodeElement:r}=this.props,a=typeof r=="function"?r:_G,o={hierarchyPointNode:n,nodeDatum:t,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren};return a(o)},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=t=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,t)},this.handleOnMouseOver=t=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,t)},this.handleOnMouseOut=t=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,t)},this.handleAddChildren=t=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,t)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(t,n){return this.shouldNodeTransform(this.props,t,this.state,n)}setTransform(t,n,r,a=!1){if(a){const o=n!=null,s=o?n.x:0,i=o?n.y:0;return r==="horizontal"?`translate(${i},${s})`:`translate(${s},${i})`}return r==="horizontal"?`translate(${t.y},${t.x})`:`translate(${t.x},${t.y})`}applyTransform(t,n,r=1,a=()=>{}){this.props.enableLegacyTransitions?gt(this.nodeRef).transition().duration(n).attr("transform",t).style("opacity",r).on("end",a):(gt(this.nodeRef).attr("transform",t).style("opacity",r),a())}commitTransform(){const{orientation:t,transitionDuration:n,position:r,parent:a}=this.props,o=this.setTransform(r,a,t);this.applyTransform(o,n)}componentWillLeave(t){const{orientation:n,transitionDuration:r,position:a,parent:o}=this.props,s=this.setTransform(a,o,n,!0);this.applyTransform(s,r,0,t)}render(){const{data:t,nodeClassName:n}=this.props;return D.createElement("g",{id:t.__rd3t.id,ref:r=>{this.nodeRef=r},style:this.state.initialStyle,className:[t.children&&t.children.length>0?"rd3t-node":"rd3t-leaf-node",n].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}};var Dg=Math.PI,zg=2*Dg,bo=1e-6,AG=zg-bo;function Og(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function RT(){return new Og}Og.prototype=RT.prototype={constructor:Og,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var o=this._x1,s=this._y1,i=n-e,l=r-t,u=o-e,f=s-t,d=u*u+f*f;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>bo)if(!(Math.abs(f*i-l*u)>bo)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-o,m=r-s,x=i*i+l*l,b=h*h+m*m,S=Math.sqrt(x),y=Math.sqrt(d),g=a*Math.tan((Dg-Math.acos((x+d-b)/(2*S*y)))/2),v=g/y,w=g/S;Math.abs(v-1)>bo&&(this._+="L"+(e+v*u)+","+(t+v*f)),this._+="A"+a+","+a+",0,0,"+ +(f*h>u*m)+","+(this._x1=e+w*i)+","+(this._y1=t+w*l)}},arc:function(e,t,n,r,a,o){e=+e,t=+t,n=+n,o=!!o;var s=n*Math.cos(r),i=n*Math.sin(r),l=e+s,u=t+i,f=1^o,d=o?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>bo||Math.abs(this._y1-u)>bo)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%zg+zg),d>AG?this._+="A"+n+","+n+",0,1,"+f+","+(e-s)+","+(t-i)+"A"+n+","+n+",0,1,"+f+","+(this._x1=l)+","+(this._y1=u):d>bo&&(this._+="A"+n+","+n+",0,"+ +(d>=Dg)+","+f+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function n1(e){return function(){return e}}function kG(e){return e[0]}function TG(e){return e[1]}var RG=Array.prototype.slice;function jG(e){return e.source}function MG(e){return e.target}function jT(e){var t=jG,n=MG,r=kG,a=TG,o=null;function s(){var i,l=RG.call(arguments),u=t.apply(this,l),f=n.apply(this,l);if(o||(o=i=RT()),e(o,+r.apply(this,(l[0]=u,l)),+a.apply(this,l),+r.apply(this,(l[0]=f,l)),+a.apply(this,l)),i)return o=null,i+""||null}return s.source=function(i){return arguments.length?(t=i,s):t},s.target=function(i){return arguments.length?(n=i,s):n},s.x=function(i){return arguments.length?(r=typeof i=="function"?i:n1(+i),s):r},s.y=function(i){return arguments.length?(a=typeof i=="function"?i:n1(+i),s):a},s.context=function(i){return arguments.length?(o=i??null,s):o},s}function DG(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,a,r,a)}function zG(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+a)/2,r,n,r,a)}function OG(){return jT(DG)}function $G(){return jT(zG)}class PG extends D.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=t=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOver=t=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOut=t=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,t)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(t){this.applyOpacity(0,this.props.transitionDuration,t)}applyOpacity(t,n,r=()=>{}){this.props.enableLegacyTransitions?gt(this.linkRef).transition().duration(n).style("opacity",t).on("end",r):(gt(this.linkRef).style("opacity",t),r())}drawStepPath(t,n){const{source:r,target:a}=t,o=a.y-r.y;return n==="horizontal"?`M${r.y},${r.x} H${r.y+o/2} V${a.x} H${a.y}`:`M${r.x},${r.y} V${r.y+o/2} H${a.x} V${a.y}`}drawDiagonalPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?OG()({source:[r.y,r.x],target:[a.y,a.x]}):$G()({source:[r.x,r.y],target:[a.x,a.y]})}drawStraightPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?`M${r.y},${r.x}L${a.y},${a.x}`:`M${r.x},${r.y}L${a.x},${a.y}`}drawElbowPath(t,n){return n==="horizontal"?`M${t.source.y},${t.source.x}V${t.target.x}H${t.target.y}`:`M${t.source.x},${t.source.y}V${t.target.y}H${t.target.x}`}drawPath(){const{linkData:t,orientation:n,pathFunc:r}=this.props;return typeof r=="function"?r(t,n):r==="elbow"?this.drawElbowPath(t,n):r==="straight"?this.drawStraightPath(t,n):r==="step"?this.drawStepPath(t,n):this.drawDiagonalPath(t,n)}getClassNames(){const{linkData:t,orientation:n,pathClassFunc:r}=this.props,a=["rd3t-link"];return typeof r=="function"&&a.push(r(t,n)),a.join(" ").trim()}render(){const{linkData:t}=this.props;return D.createElement("path",{ref:n=>{this.linkRef=n},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":t.source.id,"data-target-id":t.target.id})}}const LG=`
/* Tree */
.rd3t-tree-container {
  width: 100%;
  height: 100%;
}

.rd3t-grabbable {
  cursor: move; /* fallback if grab cursor is unsupported */
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.rd3t-grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
}

/* Node */
.rd3t-node {
  cursor: pointer;
  fill: #777;
  stroke: #000;
  stroke-width: 2;
}

.rd3t-leaf-node {
  cursor: pointer;
  fill: transparent;
  stroke: #000;
  stroke-width: 1;
}

.rd3t-label__title {
  fill: #000;
  stroke: none;
  font-weight: bolder;
}

.rd3t-label__attributes {
  fill: #777;
  stroke: none;
  font-weight: bolder;
  font-size: smaller;
}

/* Link */
.rd3t-link {
  fill: none;
  stroke: #000;
}
`;class Rn extends D.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:Rn.assignInternalProperties(Ht(this.props.data)),d3:Rn.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${jm()}`,this.gInstanceRef=`rd3t-g-${jm()}`,this.handleNodeToggle=t=>{const n=Ht(this.state.data),a=this.findNodesById(t,n,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(a.__rd3t.collapsed?(Rn.expandNode(a),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(a,n)):Rn.collapseNode(a),this.props.enableLegacyTransitions?(this.setState({data:n,isTransitioning:!0}),setTimeout(()=>this.setState({isTransitioning:!1}),this.props.transitionDuration+10)):this.setState({data:n}),this.internalState.targetNode=a)},this.handleAddChildrenToNode=(t,n)=>{const r=Ht(this.state.data),a=this.findNodesById(t,r,[]);if(a.length>0){const o=a[0],s=o.__rd3t.depth,i=Ht(n).map(l=>Rn.assignInternalProperties([l],s+1));o.children.push(...i.flat()),this.setState({data:r})}},this.handleOnNodeClickCb=(t,n)=>{const{onNodeClick:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ht(t),n))},this.handleOnLinkClickCb=(t,n,r)=>{const{onLinkClick:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ht(t),Ht(n),r))},this.handleOnNodeMouseOverCb=(t,n)=>{const{onNodeMouseOver:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ht(t),n))},this.handleOnLinkMouseOverCb=(t,n,r)=>{const{onLinkMouseOver:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ht(t),Ht(n),r))},this.handleOnNodeMouseOutCb=(t,n)=>{const{onNodeMouseOut:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ht(t),n))},this.handleOnLinkMouseOutCb=(t,n,r)=>{const{onLinkMouseOut:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ht(t),Ht(n),r))},this.centerNode=t=>{const{dimensions:n,orientation:r,zoom:a,centeringTransitionDuration:o}=this.props;if(n){const s=gt(`.${this.gInstanceRef}`),i=gt(`.${this.svgInstanceRef}`),l=this.state.d3.scale;let u,f;r==="horizontal"?(f=-t.x*l+n.height/2,u=-t.y*l+n.width/2):(u=-t.x*l+n.width/2,f=-t.y*l+n.height/2),s.transition().duration(o).attr("transform","translate("+u+","+f+")scale("+l+")"),i.call(od().transform,Nr.translate(u,f).scale(a))}},this.getNodeClassName=(t,n)=>{const{rootNodeClassName:r,branchNodeClassName:a,leafNodeClassName:o}=this.props;return t!=null?n.children?a:o:r}}static getDerivedStateFromProps(t,n){let r=null;const a=!t.dataKey||n.dataKey!==t.dataKey;t.data!==n.dataRef&&a&&(r={dataRef:t.data,data:Rn.assignInternalProperties(Ht(t.data)),isInitialRenderForDataset:!0,dataKey:t.dataKey});const o=Rn.calculateD3Geometry(t);return El(o,n.d3)||(r=r||{},r.d3=o),r}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(t){this.props.data!==t.data&&this.setState({isInitialRenderForDataset:!1}),(!El(this.props.translate,t.translate)||!El(this.props.scaleExtent,t.scaleExtent)||this.props.zoomable!==t.zoomable||this.props.draggable!==t.draggable||this.props.zoom!==t.zoom||this.props.enableLegacyTransitions!==t.enableLegacyTransitions)&&this.bindZoomListener(this.props),typeof this.props.onUpdate=="function"&&this.props.onUpdate({node:this.internalState.targetNode?Ht(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(t,n){t.forEach(r=>{r.data.__rd3t.collapsed=r.depth>=n})}bindZoomListener(t){const{zoomable:n,scaleExtent:r,translate:a,zoom:o,onUpdate:s,hasInteractiveNodes:i}=t,l=gt(`.${this.svgInstanceRef}`),u=gt(`.${this.gInstanceRef}`);l.call(od().transform,Nr.translate(a.x,a.y).scale(o)),l.call(od().scaleExtent(n?[r.min,r.max]:[o,o]).filter(f=>i?f.target.classList.contains(this.svgInstanceRef)||f.target.classList.contains(this.gInstanceRef)||f.shiftKey:!0).on("zoom",f=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(f.sourceEvent.type)||(u.attr("transform",f.transform),typeof s=="function"&&(s({node:null,zoom:f.transform.k,translate:{x:f.transform.x,y:f.transform.y}}),this.state.d3.scale=f.transform.k,this.state.d3.translate={x:f.transform.x,y:f.transform.y}))}))}static assignInternalProperties(t,n=0){return(Array.isArray(t)?t:[t]).map(a=>{const o=a;return o.__rd3t={id:null,depth:null,collapsed:!1},o.__rd3t.id=jm(),o.__rd3t.depth=n,o.children&&o.children.length>0&&(o.children=Rn.assignInternalProperties(o.children,n+1)),o})}findNodesById(t,n,r){return r.length>0||(r=r.concat(n.filter(a=>a.__rd3t.id===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesById(t,a.children,r))})),r}findNodesAtDepth(t,n,r){return r=r.concat(n.filter(a=>a.__rd3t.depth===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesAtDepth(t,a.children,r))}),r}static collapseNode(t){t.__rd3t.collapsed=!0,t.children&&t.children.length>0&&t.children.forEach(n=>{Rn.collapseNode(n)})}static expandNode(t){t.__rd3t.collapsed=!1}collapseNeighborNodes(t,n){this.findNodesAtDepth(t.__rd3t.depth,n,[]).filter(a=>a.__rd3t.id!==t.__rd3t.id).forEach(a=>Rn.collapseNode(a))}generateTree(){const{initialDepth:t,depthFactor:n,separation:r,nodeSize:a,orientation:o}=this.props,{isInitialRenderForDataset:s}=this.state,l=lH().nodeSize(o==="horizontal"?[a.y,a.x]:[a.x,a.y]).separation((d,h)=>d.parent.data.__rd3t.id===h.parent.data.__rd3t.id?r.siblings:r.nonSiblings)(hv(this.state.data[0],d=>d.__rd3t.collapsed?null:d.children));let u=l.descendants();const f=l.links();return t!==void 0&&s&&this.setInitialTreeDepth(u,t),n&&u.forEach(d=>{d.y=d.depth*n}),{nodes:u,links:f}}static calculateD3Geometry(t){let n;return t.zoom>t.scaleExtent.max?n=t.scaleExtent.max:t.zoom<t.scaleExtent.min?n=t.scaleExtent.min:n=t.zoom,{translate:t.translate,scale:n}}render(){const{nodes:t,links:n}=this.generateTree(),{renderCustomNodeElement:r,orientation:a,pathFunc:o,transitionDuration:s,nodeSize:i,depthFactor:l,initialDepth:u,separation:f,enableLegacyTransitions:d,svgClassName:h,pathClassFunc:m}=this.props,{translate:x,scale:b}=this.state.d3,S=Object.assign(Object.assign(Object.assign({},i),f),{depthFactor:l,initialDepth:u});return D.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},D.createElement("style",null,LG),D.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${h}`,width:"100%",height:"100%"},D.createElement(NG,{enableLegacyTransitions:d,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${x.x},${x.y}) scale(${b})`},n.map((y,g)=>D.createElement(PG,{key:"link-"+g,orientation:a,pathFunc:o,pathClassFunc:m,linkData:y,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:d,transitionDuration:s})),t.map((y,g)=>{const{data:v,x:w,y:E,parent:A}=y;return D.createElement(CG,{key:"node-"+g,data:v,position:{x:w,y:E},hierarchyPointNode:y,parent:A,nodeClassName:this.getNodeClassName(A,v),renderCustomNodeElement:r,nodeSize:i,orientation:a,enableLegacyTransitions:d,transitionDuration:s,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:S,centerNode:this.centerNode})}))))}}Rn.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};function IG({items:e,filters:t=[]}){const[n,r]=p.useState(null),[a,o]=p.useState("grid"),[s,i]=p.useState({search:"",selectedFilters:{},selectedTags:[]}),l=p.useMemo(()=>{let x=e;if(s.search){const b=s.search.toLowerCase();x=x.filter(S=>S.name.toLowerCase().includes(b)||S.description.toLowerCase().includes(b)||S.tags.some(y=>y.toLowerCase().includes(b)))}return s.selectedTags.length>0&&(x=x.filter(b=>s.selectedTags.some(S=>b.tags.includes(S.value)||b.category===S.value||b.name.toLowerCase().includes(S.value.toLowerCase())))),x},[e,s]),u=p.useMemo(()=>t.length===0?[]:t.map(x=>({...x,options:x.options.map(b=>({...b,count:e.filter(S=>S.tags.includes(b.value)||S.category===b.value).length}))})),[t,e]),f=p.useCallback(x=>{r(x)},[]),d=p.useCallback(x=>{i(x)},[]),h=p.useCallback(x=>{i(b=>({...b,search:x}))},[]),m=p.useCallback(x=>{o(x)},[]);return{selectedItem:n,viewMode:a,currentFilters:s,filteredItems:l,filtersWithCounts:u,handleItemSelect:f,handleFiltersChange:d,handleSearch:h,handleViewModeChange:m,setSelectedItem:r}}function BG({item:e,originalNode:t,allNodes:n}){const r=a=>n.filter(o=>o.prerequisites.includes(a)).map(o=>o.name);return c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((a,o)=>c.jsx(Ce,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:a},o))})]}),t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[r(t.name).map((a,o)=>c.jsx(Ce,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:a},o)),r(t.name).length===0&&c.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((a,o)=>c.jsx(Ce,{variant:"secondary",className:"text-xs",children:a},o))})]})]})}function HG({items:e,allNodes:t}){return c.jsx(qd,{className:"h-[calc(100vh-500px)]",children:c.jsx(sv,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>c.jsxs(nh,{value:n.id,children:[c.jsx(rh,{className:"text-left hover:no-underline",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),c.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),c.jsx(ah,{children:c.jsx(BG,{item:n,originalNode:t.find(r=>r.id===n.id),allNodes:t})})]},n.id))})})}function r1(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]);p.useEffect(()=>{async function v(){try{r(!0);const w=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!w.ok)throw new Error("Failed to fetch destiny data");const A=(await w.json()).map((N,_)=>({id:N.globalFormId||`destiny-${_}`,name:N.name,description:N.description,tags:[],prerequisites:N.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:N.globalFormId}));A.forEach(N=>{const _=[];N.description.toLowerCase().includes("magicka")&&_.push("Magic"),N.description.toLowerCase().includes("health")&&_.push("Defensive"),N.description.toLowerCase().includes("stamina")&&_.push("Utility"),N.description.toLowerCase().includes("damage")&&_.push("Offensive"),N.description.toLowerCase().includes("armor")&&_.push("Defensive"),N.description.toLowerCase().includes("spell")&&_.push("Magic"),N.description.toLowerCase().includes("weapon")&&_.push("Combat"),N.tags=_}),t(A)}catch(w){o("Failed to load destiny data"),console.error("Error loading destiny data:",w)}finally{r(!1)}}v()},[]);const l=e.map(v=>({id:v.id,name:v.name,description:v.description,tags:v.tags,summary:v.description,effects:[],associatedItems:[],imageUrl:void 0,category:void 0})),f=(()=>{const v=[...new Set(e.flatMap(E=>E.tags))],w=[...new Set(e.flatMap(E=>E.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Search by tag...",options:v.map(E=>({id:`tag-${E}`,label:E,value:E,category:"Tags",description:`Destiny nodes with ${E} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Search by prerequisite...",options:w.map(E=>({id:`prereq-${E}`,label:E,value:E,category:"Prerequisites",description:`Destiny nodes requiring ${E}`}))}]})(),{filteredItems:d,currentFilters:h,handleFiltersChange:m,handleSearch:x}=IG({items:l,filters:[]}),{handleTagSelect:b,handleTagRemove:S}=fv({initialFilters:h,onFiltersChange:m,onSearch:x}),y=v=>{const w=e.find(E=>E.id===v);w&&i(E=>E.some(N=>N.id===v)?E.filter(N=>N.id!==v):[...E,{id:v,name:w.name,description:w.description,levelRequirement:w.levelRequirement}])},g=v=>{i(w=>w.filter(E=>E.id!==v))};return n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):a?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:a}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsx(oa,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:c.jsx("div",{className:"mb-6",children:c.jsxs(Ny,{defaultValue:"path",className:"w-full",children:[c.jsxs(Ey,{className:"grid w-full grid-cols-2",children:[c.jsx(Gl,{value:"path",children:"Path Builder"}),c.jsx(Gl,{value:"reference",children:"Reference"})]}),c.jsxs(Id,{value:"reference",className:"space-y-4",children:[c.jsx(CI,{searchCategories:f,selectedTags:h.selectedTags,onTagSelect:b,onTagRemove:S}),c.jsx("div",{className:"w-full",children:c.jsx(HG,{items:d,allNodes:e})})]}),c.jsx(Id,{value:"path",className:"space-y-4",children:c.jsx(I9,{nodes:e,plannedNodes:s,onNodePlan:y,onNodeUnplan:g})})]})})})}function Yt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Yt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var MT={exports:{}},DT={},zT={exports:{}},OT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mi=p;function FG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UG=typeof Object.is=="function"?Object.is:FG,GG=mi.useState,VG=mi.useEffect,ZG=mi.useLayoutEffect,YG=mi.useDebugValue;function qG(e,t){var n=t(),r=GG({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return ZG(function(){a.value=n,a.getSnapshot=t,Dm(a)&&o({inst:a})},[e,n,t]),VG(function(){return Dm(a)&&o({inst:a}),e(function(){Dm(a)&&o({inst:a})})},[e]),YG(n),n}function Dm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!UG(e,n)}catch{return!0}}function XG(e,t){return t()}var WG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XG:qG;OT.useSyncExternalStore=mi.useSyncExternalStore!==void 0?mi.useSyncExternalStore:WG;zT.exports=OT;var KG=zT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=p,QG=KG;function JG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eV=typeof Object.is=="function"?Object.is:JG,tV=QG.useSyncExternalStore,nV=ph.useRef,rV=ph.useEffect,aV=ph.useMemo,oV=ph.useDebugValue;DT.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=nV(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=aV(function(){function l(m){if(!u){if(u=!0,f=m,m=r(m),a!==void 0&&s.hasValue){var x=s.value;if(a(x,m))return d=x}return d=m}if(x=d,eV(f,m))return x;var b=r(m);return a!==void 0&&a(x,b)?(f=m,x):(f=m,d=b)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,a]);var i=tV(e,o[0],o[1]);return rV(function(){s.hasValue=!0,s.value=i},[i]),oV(i),i};MT.exports=DT;var sV=MT.exports;const iV=pf(sV),lV={},a1=e=>{let t;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const m=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(x=>x(t,m))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(lV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,a,l);return l},cV=e=>e?a1(e):a1,{useDebugValue:uV}=D,{useSyncExternalStoreWithSelector:dV}=iV,fV=e=>e;function $T(e,t=fV,n){const r=dV(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return uV(r),r}const o1=(e,t)=>{const n=cV(e),r=(a,o=t)=>$T(n,a,o);return Object.assign(r,n),r},hV=(e,t)=>e?o1(e,t):o1;function nn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const gh=p.createContext(null),mV=gh.Provider,ga={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},PT=ga.error001();function Ke(e,t){const n=p.useContext(gh);if(n===null)throw new Error(PT);return $T(n,e,t)}const At=()=>{const e=p.useContext(gh);if(e===null)throw new Error(PT);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},pV=e=>e.userSelectionActive?"none":"all";function LT({position:e,children:t,className:n,style:r,...a}){const o=Ke(pV),s=`${e}`.split("-");return D.createElement("div",{className:Yt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...a},t)}function gV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:D.createElement(LT,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},D.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const yV=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:i=2,children:l,className:u,...f})=>{const d=p.useRef(null),[h,m]=p.useState({x:0,y:0,width:0,height:0}),x=Yt(["react-flow__edge-textwrapper",u]);return p.useEffect(()=>{if(d.current){const b=d.current.getBBox();m({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),typeof n>"u"||!n?null:D.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...f},a&&D.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:i,ry:i}),D.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:d,style:r},n),l)};var vV=p.memo(yV);const Cv=e=>({width:e.offsetWidth,height:e.offsetHeight}),pi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Av=(e={x:0,y:0},t)=>({x:pi(e.x,t[0][0],t[1][0]),y:pi(e.y,t[0][1],t[1][1])}),s1=(e,t,n)=>e<t?pi(Math.abs(e-t),1,50)/50:e>n?-pi(Math.abs(e-n),1,50)/50:0,IT=(e,t)=>{const n=s1(e.x,35,t.width-35)*20,r=s1(e.y,35,t.height-35)*20;return[n,r]},BT=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},xV=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),kv=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),bV=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),i1=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),$g=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},wV=e=>Ln(e.width)&&Ln(e.height)&&Ln(e.x)&&Ln(e.y),Ln=e=>!isNaN(e)&&isFinite(e),nt=Symbol.for("internals"),HT=["Enter"," ","Escape"],SV=(e,t)=>{},NV=e=>"nativeEvent"in e;function Pg(e){var a,o;const t=NV(e)?e.nativeEvent:e,n=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const FT=e=>"clientX"in e,eo=(e,t)=>{var o,s;const n=FT(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},lf=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Hc=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:h,interactionWidth:m=20})=>D.createElement(D.Fragment,null,D.createElement("path",{id:e,style:f,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:h}),m&&D.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&Ln(n)&&Ln(r)?D.createElement(vV,{x:n,y:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u}):null);Hc.displayName="BaseEdge";function Zi(e,t,n){return n===void 0?n:r=>{const a=t().edges.find(o=>o.id===e);a&&n(r,{...a})}}function UT({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,o=n<e?n+a:n-a,s=Math.abs(r-t)/2,i=r<t?r+s:r-s;return[o,i,a,s]}function GT({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:o,targetControlX:s,targetControlY:i}){const l=e*.125+a*.375+s*.375+n*.125,u=t*.125+o*.375+i*.375+r*.125,f=Math.abs(l-e),d=Math.abs(u-t);return[l,u,f,d]}var Fo;(function(e){e.Strict="strict",e.Loose="loose"})(Fo||(Fo={}));var Eo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Eo||(Eo={}));var nc;(function(e){e.Partial="partial",e.Full="full"})(nc||(nc={}));var Pa;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Pa||(Pa={}));var cf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(cf||(cf={}));var oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(oe||(oe={}));function l1({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===oe.Left||e===oe.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function VT({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:a,targetPosition:o=oe.Top}){const[s,i]=l1({pos:n,x1:e,y1:t,x2:r,y2:a}),[l,u]=l1({pos:o,x1:r,y1:a,x2:e,y2:t}),[f,d,h,m]=GT({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:s,sourceControlY:i,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${i} ${l},${u} ${r},${a}`,f,d,h,m]}const Tv=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=oe.Bottom,targetPosition:o=oe.Top,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:x,interactionWidth:b})=>{const[S,y,g]=VT({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o});return D.createElement(Hc,{path:S,labelX:y,labelY:g,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:x,interactionWidth:b})});Tv.displayName="SimpleBezierEdge";const c1={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}},EV=({source:e,sourcePosition:t=oe.Bottom,target:n})=>t===oe.Left||t===oe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},u1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function _V({source:e,sourcePosition:t=oe.Bottom,target:n,targetPosition:r=oe.Top,center:a,offset:o}){const s=c1[t],i=c1[r],l={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+i.x*o,y:n.y+i.y*o},f=EV({source:l,sourcePosition:t,target:u}),d=f.x!==0?"x":"y",h=f[d];let m=[],x,b;const S={x:0,y:0},y={x:0,y:0},[g,v,w,E]=UT({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*i[d]===-1){x=a.x??g,b=a.y??v;const N=[{x,y:l.y},{x,y:u.y}],_=[{x:l.x,y:b},{x:u.x,y:b}];s[d]===h?m=d==="x"?N:_:m=d==="x"?_:N}else{const N=[{x:l.x,y:u.y}],_=[{x:u.x,y:l.y}];if(d==="x"?m=s.x===h?_:N:m=s.y===h?N:_,t===r){const $=Math.abs(e[d]-n[d]);if($<=o){const T=Math.min(o-1,o-$);s[d]===h?S[d]=(l[d]>e[d]?-1:1)*T:y[d]=(u[d]>n[d]?-1:1)*T}}if(t!==r){const $=d==="x"?"y":"x",T=s[d]===i[$],z=l[$]>u[$],R=l[$]<u[$];(s[d]===1&&(!T&&z||T&&R)||s[d]!==1&&(!T&&R||T&&z))&&(m=d==="x"?N:_)}const C={x:l.x+S.x,y:l.y+S.y},k={x:u.x+y.x,y:u.y+y.y},j=Math.max(Math.abs(C.x-m[0].x),Math.abs(k.x-m[0].x)),B=Math.max(Math.abs(C.y-m[0].y),Math.abs(k.y-m[0].y));j>=B?(x=(C.x+k.x)/2,b=m[0].y):(x=m[0].x,b=(C.y+k.y)/2)}return[[e,{x:l.x+S.x,y:l.y+S.y},...m,{x:u.x+y.x,y:u.y+y.y},n],x,b,w,E]}function CV(e,t,n,r){const a=Math.min(u1(e,t)/2,u1(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${o+a*u},${s}Q ${o},${s} ${o},${s+a*f}`}const i=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+a*l}Q ${o},${s} ${o+a*i},${s}`}function Lg({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:a,targetPosition:o=oe.Top,borderRadius:s=5,centerX:i,centerY:l,offset:u=20}){const[f,d,h,m,x]=_V({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:o,center:{x:i,y:l},offset:u});return[f.reduce((S,y,g)=>{let v="";return g>0&&g<f.length-1?v=CV(f[g-1],y,f[g+1],s):v=`${g===0?"M":"L"}${y.x} ${y.y}`,S+=v,S},""),d,h,m,x]}const yh=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,sourcePosition:d=oe.Bottom,targetPosition:h=oe.Top,markerEnd:m,markerStart:x,pathOptions:b,interactionWidth:S})=>{const[y,g,v]=Lg({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:h,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset});return D.createElement(Hc,{path:y,labelX:g,labelY:v,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:m,markerStart:x,interactionWidth:S})});yh.displayName="SmoothStepEdge";const Rv=p.memo(e=>{var t;return D.createElement(yh,{...e,pathOptions:p.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Rv.displayName="StepEdge";function AV({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,o,s,i]=UT({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,o,s,i]}const jv=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:h,interactionWidth:m})=>{const[x,b,S]=AV({sourceX:e,sourceY:t,targetX:n,targetY:r});return D.createElement(Hc,{path:x,labelX:b,labelY:S,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:h,interactionWidth:m})});jv.displayName="StraightEdge";function _u(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function d1({pos:e,x1:t,y1:n,x2:r,y2:a,c:o}){switch(e){case oe.Left:return[t-_u(t-r,o),n];case oe.Right:return[t+_u(r-t,o),n];case oe.Top:return[t,n-_u(n-a,o)];case oe.Bottom:return[t,n+_u(a-n,o)]}}function ZT({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:a,targetPosition:o=oe.Top,curvature:s=.25}){const[i,l]=d1({pos:n,x1:e,y1:t,x2:r,y2:a,c:s}),[u,f]=d1({pos:o,x1:r,y1:a,x2:e,y2:t,c:s}),[d,h,m,x]=GT({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:u,targetControlY:f});return[`M${e},${t} C${i},${l} ${u},${f} ${r},${a}`,d,h,m,x]}const uf=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=oe.Bottom,targetPosition:o=oe.Top,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:x,pathOptions:b,interactionWidth:S})=>{const[y,g,v]=ZT({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o,curvature:b==null?void 0:b.curvature});return D.createElement(Hc,{path:y,labelX:g,labelY:v,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:x,interactionWidth:S})});uf.displayName="BezierEdge";const Mv=p.createContext(null),kV=Mv.Provider;Mv.Consumer;const TV=()=>p.useContext(Mv),RV=e=>"id"in e&&"source"in e&&"target"in e,jV=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Ig=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,MV=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),YT=(e,t)=>{if(!e.source||!e.target)return t;let n;return RV(e)?n={...e}:n={...e,id:jV(e)},MV(n,t)?t:t.concat(n)},Bg=({x:e,y:t},[n,r,a],o,[s,i])=>{const l={x:(e-n)/a,y:(t-r)/a};return o?{x:s*Math.round(l.x/s),y:i*Math.round(l.y/i)}:l},qT=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r}),qs=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-r};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:a}},Dv=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const{x:o,y:s}=qs(a,t).positionAbsolute;return xV(r,kv({x:o,y:s,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return bV(n)},XT=(e,t,[n,r,a]=[0,0,1],o=!1,s=!1,i=[0,0])=>{const l={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(f=>{const{width:d,height:h,selectable:m=!0,hidden:x=!1}=f;if(s&&!m||x)return!1;const{positionAbsolute:b}=qs(f,i),S={x:b.x,y:b.y,width:d||0,height:h||0},y=$g(l,S),g=typeof d>"u"||typeof h>"u"||d===null||h===null,v=o&&y>0,w=(d||0)*(h||0);(g||v||y>=w||f.dragging)&&u.push(f)}),u},WT=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},KT=(e,t,n,r,a,o=.1)=>{const s=t/(e.width*(1+o)),i=n/(e.height*(1+o)),l=Math.min(s,i),u=pi(l,r,a),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*u,m=n/2-d*u;return{x:h,y:m,zoom:u}},wo=(e,t=0)=>e.transition().duration(t);function f1(e,t,n,r){return(t[n]||[]).reduce((a,o)=>{var s,i;return`${e.id}-${o.id}-${n}`!==r&&a.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((i=e.positionAbsolute)==null?void 0:i.y)??0)+o.y+o.height/2}),a},[])}function DV(e,t,n,r,a,o){const{x:s,y:i}=eo(e),u=t.elementsFromPoint(s,i).find(x=>x.classList.contains("react-flow__handle"));if(u){const x=u.getAttribute("data-nodeid");if(x){const b=zv(void 0,u),S=u.getAttribute("data-handleid"),y=o({nodeId:x,id:S,type:b});if(y){const g=a.find(v=>v.nodeId===x&&v.type===b&&v.id===S);return{handle:{id:S,type:b,nodeId:x,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:y}}}}let f=[],d=1/0;if(a.forEach(x=>{const b=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(b<=r){const S=o(x);b<=d&&(b<d?f=[{handle:x,validHandleResult:S}]:b===d&&f.push({handle:x,validHandleResult:S}),d=b)}}),!f.length)return{handle:null,validHandleResult:QT()};if(f.length===1)return f[0];const h=f.some(({validHandleResult:x})=>x.isValid),m=f.some(({handle:x})=>x.type==="target");return f.find(({handle:x,validHandleResult:b})=>m?x.type==="target":h?b.isValid:!0)||f[0]}const zV={source:null,target:null,sourceHandle:null,targetHandle:null},QT=()=>({handleDomNode:null,isValid:!1,connection:zV,endHandle:null});function JT(e,t,n,r,a,o,s){const i=a==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...QT(),handleDomNode:l};if(l){const f=zv(void 0,l),d=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),x=l.classList.contains("connectableend"),b={source:i?d:n,sourceHandle:i?h:r,target:i?n:d,targetHandle:i?r:h};u.connection=b,m&&x&&(t===Fo.Strict?i&&f==="source"||!i&&f==="target":d!==n||h!==r)&&(u.endHandle={nodeId:d,handleId:h,type:f},u.isValid=o(b))}return u}function OV({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((a,o)=>{if(o[nt]){const{handleBounds:s}=o[nt];let i=[],l=[];s&&(i=f1(o,s,"source",`${t}-${n}-${r}`),l=f1(o,s,"target",`${t}-${n}-${r}`)),a.push(...i,...l)}return a},[])}function zv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function zm(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function $V(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function eR({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:a,getState:o,setState:s,isValidConnection:i,edgeUpdaterType:l,onReconnectEnd:u}){const f=BT(e.target),{connectionMode:d,domNode:h,autoPanOnConnect:m,connectionRadius:x,onConnectStart:b,panBy:S,getNodes:y,cancelConnection:g}=o();let v=0,w;const{x:E,y:A}=eo(e),N=f==null?void 0:f.elementFromPoint(E,A),_=zv(l,N),C=h==null?void 0:h.getBoundingClientRect();if(!C||!_)return;let k,j=eo(e,C),B=!1,$=null,T=!1,z=null;const R=OV({nodes:y(),nodeId:n,handleId:t,handleType:_}),L=()=>{if(!m)return;const[I,F]=IT(j,C);S({x:I,y:F}),v=requestAnimationFrame(L)};s({connectionPosition:j,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),b==null||b(e,{nodeId:n,handleId:t,handleType:_});function O(I){const{transform:F}=o();j=eo(I,C);const{handle:V,validHandleResult:U}=DV(I,f,Bg(j,F,!1,[1,1]),x,R,P=>JT(P,d,n,t,a?"target":"source",i,f));if(w=V,B||(L(),B=!0),z=U.handleDomNode,$=U.connection,T=U.isValid,s({connectionPosition:w&&T?qT({x:w.x,y:w.y},F):j,connectionStatus:$V(!!w,T),connectionEndHandle:U.endHandle}),!w&&!T&&!z)return zm(k);$.source!==$.target&&z&&(zm(k),k=z,z.classList.add("connecting","react-flow__handle-connecting"),z.classList.toggle("valid",T),z.classList.toggle("react-flow__handle-valid",T))}function M(I){var F,V;(w||z)&&$&&T&&(r==null||r($)),(V=(F=o()).onConnectEnd)==null||V.call(F,I),l&&(u==null||u(I)),zm(k),g(),cancelAnimationFrame(v),B=!1,T=!1,$=null,z=null,f.removeEventListener("mousemove",O),f.removeEventListener("mouseup",M),f.removeEventListener("touchmove",O),f.removeEventListener("touchend",M)}f.addEventListener("mousemove",O),f.addEventListener("mouseup",M),f.addEventListener("touchmove",O),f.addEventListener("touchend",M)}const h1=()=>!0,PV=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),LV=(e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},tR=p.forwardRef(({type:e="source",position:t=oe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:s,onConnect:i,children:l,className:u,onMouseDown:f,onTouchStart:d,...h},m)=>{var C,k;const x=s||null,b=e==="target",S=At(),y=TV(),{connectOnClick:g,noPanClassName:v}=Ke(PV,nn),{connecting:w,clickConnecting:E}=Ke(LV(y,x,e),nn);y||(k=(C=S.getState()).onError)==null||k.call(C,"010",ga.error010());const A=j=>{const{defaultEdgeOptions:B,onConnect:$,hasDefaultEdges:T}=S.getState(),z={...B,...j};if(T){const{edges:R,setEdges:L}=S.getState();L(YT(z,R))}$==null||$(z),i==null||i(z)},N=j=>{if(!y)return;const B=FT(j);a&&(B&&j.button===0||!B)&&eR({event:j,handleId:x,nodeId:y,onConnect:A,isTarget:b,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||h1}),B?f==null||f(j):d==null||d(j)},_=j=>{const{onClickConnectStart:B,onClickConnectEnd:$,connectionClickStartHandle:T,connectionMode:z,isValidConnection:R}=S.getState();if(!y||!T&&!a)return;if(!T){B==null||B(j,{nodeId:y,handleId:x,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:x}});return}const L=BT(j.target),O=n||R||h1,{connection:M,isValid:I}=JT({nodeId:y,id:x,type:e},z,T.nodeId,T.handleId||null,T.type,O,L);I&&A(M),$==null||$(j),S.setState({connectionClickStartHandle:null})};return D.createElement("div",{"data-handleid":x,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${x}-${e}`,className:Yt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,u,{source:!b,target:b,connectable:r,connectablestart:a,connectableend:o,connecting:E,connectionindicator:r&&(a&&!w||o&&w)}]),onMouseDown:N,onTouchStart:N,onClick:g?_:void 0,ref:m,...h},l)});tR.displayName="Handle";var gi=p.memo(tR);const nR=({data:e,isConnectable:t,targetPosition:n=oe.Top,sourcePosition:r=oe.Bottom})=>D.createElement(D.Fragment,null,D.createElement(gi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,D.createElement(gi,{type:"source",position:r,isConnectable:t}));nR.displayName="DefaultNode";var Hg=p.memo(nR);const rR=({data:e,isConnectable:t,sourcePosition:n=oe.Bottom})=>D.createElement(D.Fragment,null,e==null?void 0:e.label,D.createElement(gi,{type:"source",position:n,isConnectable:t}));rR.displayName="InputNode";var aR=p.memo(rR);const oR=({data:e,isConnectable:t,targetPosition:n=oe.Top})=>D.createElement(D.Fragment,null,D.createElement(gi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);oR.displayName="OutputNode";var sR=p.memo(oR);const Ov=()=>null;Ov.displayName="GroupNode";const IV=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Cu=e=>e.id;function BV(e,t){return nn(e.selectedNodes.map(Cu),t.selectedNodes.map(Cu))&&nn(e.selectedEdges.map(Cu),t.selectedEdges.map(Cu))}const iR=p.memo(({onSelectionChange:e})=>{const t=At(),{selectedNodes:n,selectedEdges:r}=Ke(IV,BV);return p.useEffect(()=>{const a={nodes:n,edges:r};e==null||e(a),t.getState().onSelectionChange.forEach(o=>o(a))},[n,r,e]),null});iR.displayName="SelectionListener";const HV=e=>!!e.onSelectionChange;function FV({onSelectionChange:e}){const t=Ke(HV);return e||t?D.createElement(iR,{onSelectionChange:e}):null}const UV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ls(e,t){p.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function xe(e,t,n){p.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const GV=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:o,onConnectEnd:s,onClickConnectStart:i,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:f,nodesFocusable:d,edgesFocusable:h,edgesUpdatable:m,elevateNodesOnSelect:x,minZoom:b,maxZoom:S,nodeExtent:y,onNodesChange:g,onEdgesChange:v,elementsSelectable:w,connectionMode:E,snapGrid:A,snapToGrid:N,translateExtent:_,connectOnClick:C,defaultEdgeOptions:k,fitView:j,fitViewOptions:B,onNodesDelete:$,onEdgesDelete:T,onNodeDrag:z,onNodeDragStart:R,onNodeDragStop:L,onSelectionDrag:O,onSelectionDragStart:M,onSelectionDragStop:I,noPanClassName:F,nodeOrigin:V,rfId:U,autoPanOnConnect:P,autoPanOnNodeDrag:H,onError:Z,connectionRadius:G,isValidConnection:Y,nodeDragThreshold:K})=>{const{setNodes:Q,setEdges:he,setDefaultNodesAndEdges:me,setMinZoom:ue,setMaxZoom:ee,setTranslateExtent:Re,setNodeExtent:st,reset:Ne}=Ke(UV,nn),J=At();return p.useEffect(()=>{const Ye=r==null?void 0:r.map(Ot=>({...Ot,...k}));return me(n,Ye),()=>{Ne()}},[]),xe("defaultEdgeOptions",k,J.setState),xe("connectionMode",E,J.setState),xe("onConnect",a,J.setState),xe("onConnectStart",o,J.setState),xe("onConnectEnd",s,J.setState),xe("onClickConnectStart",i,J.setState),xe("onClickConnectEnd",l,J.setState),xe("nodesDraggable",u,J.setState),xe("nodesConnectable",f,J.setState),xe("nodesFocusable",d,J.setState),xe("edgesFocusable",h,J.setState),xe("edgesUpdatable",m,J.setState),xe("elementsSelectable",w,J.setState),xe("elevateNodesOnSelect",x,J.setState),xe("snapToGrid",N,J.setState),xe("snapGrid",A,J.setState),xe("onNodesChange",g,J.setState),xe("onEdgesChange",v,J.setState),xe("connectOnClick",C,J.setState),xe("fitViewOnInit",j,J.setState),xe("fitViewOnInitOptions",B,J.setState),xe("onNodesDelete",$,J.setState),xe("onEdgesDelete",T,J.setState),xe("onNodeDrag",z,J.setState),xe("onNodeDragStart",R,J.setState),xe("onNodeDragStop",L,J.setState),xe("onSelectionDrag",O,J.setState),xe("onSelectionDragStart",M,J.setState),xe("onSelectionDragStop",I,J.setState),xe("noPanClassName",F,J.setState),xe("nodeOrigin",V,J.setState),xe("rfId",U,J.setState),xe("autoPanOnConnect",P,J.setState),xe("autoPanOnNodeDrag",H,J.setState),xe("onError",Z,J.setState),xe("connectionRadius",G,J.setState),xe("isValidConnection",Y,J.setState),xe("nodeDragThreshold",K,J.setState),ls(e,Q),ls(t,he),ls(b,ue),ls(S,ee),ls(_,Re),ls(y,st),null},m1={display:"none"},VV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},lR="react-flow__node-desc",cR="react-flow__edge-desc",ZV="react-flow__aria-live",YV=e=>e.ariaLiveMessage;function qV({rfId:e}){const t=Ke(YV);return D.createElement("div",{id:`${ZV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:VV},t)}function XV({rfId:e,disableKeyboardA11y:t}){return D.createElement(D.Fragment,null,D.createElement("div",{id:`${lR}-${e}`,style:m1},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),D.createElement("div",{id:`${cR}-${e}`,style:m1},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&D.createElement(qV,{rfId:e}))}var rc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=p.useState(!1),a=p.useRef(!1),o=p.useRef(new Set([])),[s,i]=p.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),f=u.reduce((d,h)=>d.concat(...h),[]);return[u,f]}return[[],[]]},[e]);return p.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const f=m=>{if(a.current=m.ctrlKey||m.metaKey||m.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&Pg(m))return!1;const b=g1(m.code,i);o.current.add(m[b]),p1(s,o.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Pg(m))return!1;const b=g1(m.code,i);p1(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[b]),m.key==="Meta"&&o.current.clear(),a.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",f),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",f),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",h)}}},[e,r]),n};function p1(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function g1(e,t){return t.includes(e)?"code":"key"}function uR(e,t,n,r){var i,l;const a=e.parentNode||e.parentId;if(!a)return n;const o=t.get(a),s=qs(o,r);return uR(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((i=o[nt])==null?void 0:i.z)??0)>(n.z??0)?((l=o[nt])==null?void 0:l.z)??0:n.z??0},r)}function dR(e,t,n){e.forEach(r=>{var o;const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||n!=null&&n[r.id]){const{x:s,y:i,z:l}=uR(r,e,{...r.position,z:((o=r[nt])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:i},r[nt].z=l,n!=null&&n[r.id]&&(r[nt].isParent=!0)}})}function Om(e,t,n,r){const a=new Map,o={},s=r?1e3:0;return e.forEach(i=>{var m;const l=(Ln(i.zIndex)?i.zIndex:0)+(i.selected?s:0),u=t.get(i.id),f={...i,positionAbsolute:{x:i.position.x,y:i.position.y}},d=i.parentNode||i.parentId;d&&(o[d]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==i.type;Object.defineProperty(f,nt,{enumerable:!1,value:{handleBounds:h||(m=u==null?void 0:u[nt])==null?void 0:m.handleBounds,z:l}}),a.set(i.id,f)}),dR(a,n,o),a}function fR(e,t={}){const{getNodes:n,width:r,height:a,minZoom:o,maxZoom:s,d3Zoom:i,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:f,nodeOrigin:d}=e(),h=t.initial&&!u&&f;if(i&&l&&(h||!t.initial)){const x=n().filter(S=>{var g;const y=t.includeHiddenNodes?S.width&&S.height:!S.hidden;return(g=t.nodes)!=null&&g.length?y&&t.nodes.some(v=>v.id===S.id):y}),b=x.every(S=>S.width&&S.height);if(x.length>0&&b){const S=Dv(x,d),{x:y,y:g,zoom:v}=KT(S,r,a,t.minZoom??o,t.maxZoom??s,t.padding??.1),w=Nr.translate(y,g).scale(v);return typeof t.duration=="number"&&t.duration>0?i.transform(wo(l,t.duration),w):i.transform(l,w),!0}}return!1}function WV(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[nt]:r[nt],selected:n.selected})}),new Map(t)}function KV(e,t){return t.map(n=>{const r=e.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function Au({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:a,edges:o,onNodesChange:s,onEdgesChange:i,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:WV(e,a)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:KV(t,o)}),i==null||i(t))}const cs=()=>{},QV={zoomIn:cs,zoomOut:cs,zoomTo:cs,getZoom:()=>1,setViewport:cs,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:cs,fitBounds:cs,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},JV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),eZ=()=>{const e=At(),{d3Zoom:t,d3Selection:n}=Ke(JV,nn);return p.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(wo(n,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(wo(n,a==null?void 0:a.duration),1/1.2),zoomTo:(a,o)=>t.scaleTo(wo(n,o==null?void 0:o.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,o)=>{const[s,i,l]=e.getState().transform,u=Nr.translate(a.x??s,a.y??i).scale(a.zoom??l);t.transform(wo(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[a,o,s]=e.getState().transform;return{x:a,y:o,zoom:s}},fitView:a=>fR(e.getState,a),setCenter:(a,o,s)=>{const{width:i,height:l,maxZoom:u}=e.getState(),f=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=i/2-a*f,h=l/2-o*f,m=Nr.translate(d,h).scale(f);t.transform(wo(n,s==null?void 0:s.duration),m)},fitBounds:(a,o)=>{const{width:s,height:i,minZoom:l,maxZoom:u}=e.getState(),{x:f,y:d,zoom:h}=KT(a,s,i,l,u,(o==null?void 0:o.padding)??.1),m=Nr.translate(f,d).scale(h);t.transform(wo(n,o==null?void 0:o.duration),m)},project:a=>{const{transform:o,snapToGrid:s,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Bg(a,o,s,i)},screenToFlowPosition:a=>{const{transform:o,snapToGrid:s,snapGrid:i,domNode:l}=e.getState();if(!l)return a;const{x:u,y:f}=l.getBoundingClientRect(),d={x:a.x-u,y:a.y-f};return Bg(d,o,s,i)},flowToScreenPosition:a=>{const{transform:o,domNode:s}=e.getState();if(!s)return a;const{x:i,y:l}=s.getBoundingClientRect(),u=qT(a,o);return{x:u.x+i,y:u.y+l}},viewportInitialized:!0}:QV,[t,n])};function $v(){const e=eZ(),t=At(),n=p.useCallback(()=>t.getState().getNodes().map(b=>({...b})),[]),r=p.useCallback(b=>t.getState().nodeInternals.get(b),[]),a=p.useCallback(()=>{const{edges:b=[]}=t.getState();return b.map(S=>({...S}))},[]),o=p.useCallback(b=>{const{edges:S=[]}=t.getState();return S.find(y=>y.id===b)},[]),s=p.useCallback(b=>{const{getNodes:S,setNodes:y,hasDefaultNodes:g,onNodesChange:v}=t.getState(),w=S(),E=typeof b=="function"?b(w):b;if(g)y(E);else if(v){const A=E.length===0?w.map(N=>({type:"remove",id:N.id})):E.map(N=>({item:N,type:"reset"}));v(A)}},[]),i=p.useCallback(b=>{const{edges:S=[],setEdges:y,hasDefaultEdges:g,onEdgesChange:v}=t.getState(),w=typeof b=="function"?b(S):b;if(g)y(w);else if(v){const E=w.length===0?S.map(A=>({type:"remove",id:A.id})):w.map(A=>({item:A,type:"reset"}));v(E)}},[]),l=p.useCallback(b=>{const S=Array.isArray(b)?b:[b],{getNodes:y,setNodes:g,hasDefaultNodes:v,onNodesChange:w}=t.getState();if(v){const A=[...y(),...S];g(A)}else if(w){const E=S.map(A=>({item:A,type:"add"}));w(E)}},[]),u=p.useCallback(b=>{const S=Array.isArray(b)?b:[b],{edges:y=[],setEdges:g,hasDefaultEdges:v,onEdgesChange:w}=t.getState();if(v)g([...y,...S]);else if(w){const E=S.map(A=>({item:A,type:"add"}));w(E)}},[]),f=p.useCallback(()=>{const{getNodes:b,edges:S=[],transform:y}=t.getState(),[g,v,w]=y;return{nodes:b().map(E=>({...E})),edges:S.map(E=>({...E})),viewport:{x:g,y:v,zoom:w}}},[]),d=p.useCallback(({nodes:b,edges:S})=>{const{nodeInternals:y,getNodes:g,edges:v,hasDefaultNodes:w,hasDefaultEdges:E,onNodesDelete:A,onEdgesDelete:N,onNodesChange:_,onEdgesChange:C}=t.getState(),k=(b||[]).map(z=>z.id),j=(S||[]).map(z=>z.id),B=g().reduce((z,R)=>{const L=R.parentNode||R.parentId,O=!k.includes(R.id)&&L&&z.find(I=>I.id===L);return(typeof R.deletable=="boolean"?R.deletable:!0)&&(k.includes(R.id)||O)&&z.push(R),z},[]),$=v.filter(z=>typeof z.deletable=="boolean"?z.deletable:!0),T=$.filter(z=>j.includes(z.id));if(B||T){const z=WT(B,$),R=[...T,...z],L=R.reduce((O,M)=>(O.includes(M.id)||O.push(M.id),O),[]);if((E||w)&&(E&&t.setState({edges:v.filter(O=>!L.includes(O.id))}),w&&(B.forEach(O=>{y.delete(O.id)}),t.setState({nodeInternals:new Map(y)}))),L.length>0&&(N==null||N(R),C&&C(L.map(O=>({id:O,type:"remove"})))),B.length>0&&(A==null||A(B),_)){const O=B.map(M=>({id:M.id,type:"remove"}));_(O)}}},[]),h=p.useCallback(b=>{const S=wV(b),y=S?null:t.getState().nodeInternals.get(b.id);return!S&&!y?[null,null,S]:[S?b:i1(y),y,S]},[]),m=p.useCallback((b,S=!0,y)=>{const[g,v,w]=h(b);return g?(y||t.getState().getNodes()).filter(E=>{if(!w&&(E.id===v.id||!E.positionAbsolute))return!1;const A=i1(E),N=$g(A,g);return S&&N>0||N>=g.width*g.height}):[]},[]),x=p.useCallback((b,S,y=!0)=>{const[g]=h(b);if(!g)return!1;const v=$g(g,S);return y&&v>0||v>=g.width*g.height},[]);return p.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:o,setNodes:s,setEdges:i,addNodes:l,addEdges:u,toObject:f,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:x}),[e,n,r,a,o,s,i,l,u,f,d,m,x])}const tZ={actInsideInputWithModifier:!1};var nZ=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=At(),{deleteElements:r}=$v(),a=rc(e,tZ),o=rc(t);p.useEffect(()=>{if(a){const{edges:s,getNodes:i}=n.getState(),l=i().filter(f=>f.selected),u=s.filter(f=>f.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[a]),p.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function rZ(e){const t=At();p.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const a=Cv(e.current);(a.height===0||a.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",ga.error004())),t.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Pv={position:"absolute",width:"100%",height:"100%",top:0,left:0},aZ=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ku=e=>({x:e.x,y:e.y,zoom:e.k}),us=(e,t)=>e.target.closest(`.${t}`),y1=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),v1=e=>{const t=e.ctrlKey&&lf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},oZ=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),sZ=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:i=.5,panOnScrollMode:l=Eo.Free,zoomOnDoubleClick:u=!0,elementsSelectable:f,panOnDrag:d=!0,defaultViewport:h,translateExtent:m,minZoom:x,maxZoom:b,zoomActivationKeyCode:S,preventScrolling:y=!0,children:g,noWheelClassName:v,noPanClassName:w})=>{const E=p.useRef(),A=At(),N=p.useRef(!1),_=p.useRef(!1),C=p.useRef(null),k=p.useRef({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:B,d3ZoomHandler:$,userSelectionActive:T}=Ke(oZ,nn),z=rc(S),R=p.useRef(0),L=p.useRef(!1),O=p.useRef();return rZ(C),p.useEffect(()=>{if(C.current){const M=C.current.getBoundingClientRect(),I=od().scaleExtent([x,b]).translateExtent(m),F=gt(C.current).call(I),V=Nr.translate(h.x,h.y).scale(pi(h.zoom,x,b)),U=[[0,0],[M.width,M.height]],P=I.constrain()(V,U,m);I.transform(F,P),I.wheelDelta(v1),A.setState({d3Zoom:I,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[P.x,P.y,P.k],domNode:C.current.closest(".react-flow")})}},[]),p.useEffect(()=>{B&&j&&(s&&!z&&!T?B.on("wheel.zoom",M=>{if(us(M,v))return!1;M.preventDefault(),M.stopImmediatePropagation();const I=B.property("__zoom").k||1;if(M.ctrlKey&&o){const Y=fr(M),K=v1(M),Q=I*Math.pow(2,K);j.scaleTo(B,Q,Y,M);return}const F=M.deltaMode===1?20:1;let V=l===Eo.Vertical?0:M.deltaX*F,U=l===Eo.Horizontal?0:M.deltaY*F;!lf()&&M.shiftKey&&l!==Eo.Vertical&&(V=M.deltaY*F,U=0),j.translateBy(B,-(V/I)*i,-(U/I)*i,{internal:!0});const P=ku(B.property("__zoom")),{onViewportChangeStart:H,onViewportChange:Z,onViewportChangeEnd:G}=A.getState();clearTimeout(O.current),L.current||(L.current=!0,t==null||t(M,P),H==null||H(P)),L.current&&(e==null||e(M,P),Z==null||Z(P),O.current=setTimeout(()=>{n==null||n(M,P),G==null||G(P),L.current=!1},150))},{passive:!1}):typeof $<"u"&&B.on("wheel.zoom",function(M,I){if(!y&&M.type==="wheel"&&!M.ctrlKey||us(M,v))return null;M.preventDefault(),$.call(this,M,I)},{passive:!1}))},[T,s,l,B,j,$,z,o,y,v,t,e,n]),p.useEffect(()=>{j&&j.on("start",M=>{var V,U;if(!M.sourceEvent||M.sourceEvent.internal)return null;R.current=(V=M.sourceEvent)==null?void 0:V.button;const{onViewportChangeStart:I}=A.getState(),F=ku(M.transform);N.current=!0,k.current=F,((U=M.sourceEvent)==null?void 0:U.type)==="mousedown"&&A.setState({paneDragging:!0}),I==null||I(F),t==null||t(M.sourceEvent,F)})},[j,t]),p.useEffect(()=>{j&&(T&&!N.current?j.on("zoom",null):T||j.on("zoom",M=>{var F;const{onViewportChange:I}=A.getState();if(A.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),_.current=!!(r&&y1(d,R.current??0)),(e||I)&&!((F=M.sourceEvent)!=null&&F.internal)){const V=ku(M.transform);I==null||I(V),e==null||e(M.sourceEvent,V)}}))},[T,j,e,d,r]),p.useEffect(()=>{j&&j.on("end",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;const{onViewportChangeEnd:I}=A.getState();if(N.current=!1,A.setState({paneDragging:!1}),r&&y1(d,R.current??0)&&!_.current&&r(M.sourceEvent),_.current=!1,(n||I)&&aZ(k.current,M.transform)){const F=ku(M.transform);k.current=F,clearTimeout(E.current),E.current=setTimeout(()=>{I==null||I(F),n==null||n(M.sourceEvent,F)},s?150:0)}})},[j,s,d,n,r]),p.useEffect(()=>{j&&j.filter(M=>{const I=z||a,F=o&&M.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&M.button===1&&M.type==="mousedown"&&(us(M,"react-flow__node")||us(M,"react-flow__edge")))return!0;if(!d&&!I&&!s&&!u&&!o||T||!u&&M.type==="dblclick"||us(M,v)&&M.type==="wheel"||us(M,w)&&(M.type!=="wheel"||s&&M.type==="wheel"&&!z)||!o&&M.ctrlKey&&M.type==="wheel"||!I&&!s&&!F&&M.type==="wheel"||!d&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(d)&&!d.includes(M.button)&&M.type==="mousedown")return!1;const V=Array.isArray(d)&&d.includes(M.button)||!M.button||M.button<=1;return(!M.ctrlKey||M.type==="wheel")&&V})},[T,j,a,o,s,u,d,f,z]),D.createElement("div",{className:"react-flow__renderer",ref:C,style:Pv},g)},iZ=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function lZ(){const{userSelectionActive:e,userSelectionRect:t}=Ke(iZ,nn);return e&&t?D.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function x1(e,t){const n=t.parentNode||t.parentId,r=e.find(a=>a.id===n);if(r){const a=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(a>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function hR(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,a)=>{const o=e.filter(i=>i.id===a.id);if(o.length===0)return r.push(a),r;const s={...a};for(const i of o)if(i)switch(i.type){case"select":{s.selected=i.selected;break}case"position":{typeof i.position<"u"&&(s.position=i.position),typeof i.positionAbsolute<"u"&&(s.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(s.dragging=i.dragging),s.expandParent&&x1(r,s);break}case"dimensions":{typeof i.dimensions<"u"&&(s.width=i.dimensions.width,s.height=i.dimensions.height),typeof i.updateStyle<"u"&&(s.style={...s.style||{},...i.dimensions}),typeof i.resizing=="boolean"&&(s.resizing=i.resizing),s.expandParent&&x1(r,s);break}case"remove":return r}return r.push(s),r},n)}function mR(e,t){return hR(e,t)}function cZ(e,t){return hR(e,t)}const Ma=(e,t)=>({id:e,type:"select",selected:t});function Ms(e,t){return e.reduce((n,r)=>{const a=t.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(Ma(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(Ma(r.id,!1))),n},[])}const $m=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},uZ=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),pR=p.memo(({isSelecting:e,selectionMode:t=nc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:i,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:f,children:d})=>{const h=p.useRef(null),m=At(),x=p.useRef(0),b=p.useRef(0),S=p.useRef(),{userSelectionActive:y,elementsSelectable:g,dragging:v}=Ke(uZ,nn),w=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,b.current=0},E=$=>{o==null||o($),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},A=$=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){$.preventDefault();return}s==null||s($)},N=i?$=>i($):void 0,_=$=>{const{resetSelectedElements:T,domNode:z}=m.getState();if(S.current=z==null?void 0:z.getBoundingClientRect(),!g||!e||$.button!==0||$.target!==h.current||!S.current)return;const{x:R,y:L}=eo($,S.current);T(),m.setState({userSelectionRect:{width:0,height:0,startX:R,startY:L,x:R,y:L}}),r==null||r($)},C=$=>{const{userSelectionRect:T,nodeInternals:z,edges:R,transform:L,onNodesChange:O,onEdgesChange:M,nodeOrigin:I,getNodes:F}=m.getState();if(!e||!S.current||!T)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const V=eo($,S.current),U=T.startX??0,P=T.startY??0,H={...T,x:V.x<U?V.x:U,y:V.y<P?V.y:P,width:Math.abs(V.x-U),height:Math.abs(V.y-P)},Z=F(),G=XT(z,H,L,t===nc.Partial,!0,I),Y=WT(G,R).map(Q=>Q.id),K=G.map(Q=>Q.id);if(x.current!==K.length){x.current=K.length;const Q=Ms(Z,K);Q.length&&(O==null||O(Q))}if(b.current!==Y.length){b.current=Y.length;const Q=Ms(R,Y);Q.length&&(M==null||M(Q))}m.setState({userSelectionRect:H})},k=$=>{if($.button!==0)return;const{userSelectionRect:T}=m.getState();!y&&T&&$.target===h.current&&(E==null||E($)),m.setState({nodesSelectionActive:x.current>0}),w(),a==null||a($)},j=$=>{y&&(m.setState({nodesSelectionActive:x.current>0}),a==null||a($)),w()},B=g&&(e||y);return D.createElement("div",{className:Yt(["react-flow__pane",{dragging:v,selection:e}]),onClick:B?void 0:$m(E,h),onContextMenu:$m(A,h),onWheel:$m(N,h),onMouseEnter:B?void 0:l,onMouseDown:B?_:void 0,onMouseMove:B?C:u,onMouseUp:B?k:void 0,onMouseLeave:B?j:f,ref:h,style:Pv},d,D.createElement(lZ,null))});pR.displayName="Pane";function gR(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:gR(r,t):!1}function b1(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function dZ(e,t,n,r){return Array.from(e.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!gR(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var o,s;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=a.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=a.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function fZ(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function yR(e,t,n,r,a=[0,0],o){const s=fZ(e,e.extent||r);let i=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:h,y:m}=qs(d,a).positionAbsolute;i=d&&Ln(h)&&Ln(m)&&Ln(d.width)&&Ln(d.height)?[[h+e.width*a[0],m+e.height*a[1]],[h+d.width-e.width+e.width*a[0],m+d.height-e.height+e.height*a[1]]]:i}else o==null||o("005",ga.error005()),i=s;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:h,y:m}=qs(d,a).positionAbsolute;i=[[e.extent[0][0]+h,e.extent[0][1]+m],[e.extent[1][0]+h,e.extent[1][1]+m]]}let u={x:0,y:0};if(l){const d=n.get(l);u=qs(d,a).positionAbsolute}const f=i&&i!=="parent"?Av(t,i):t;return{position:{x:f.x-u.x,y:f.y-u.y},positionAbsolute:f}}function Pm({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?r.find(a=>a.id===e):r[0],r]}const w1=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),s=t.getBoundingClientRect(),i={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-i.x)/n,y:(u.top-s.top-i.y)/n,...Cv(l)}})};function Yi(e,t,n){return n===void 0?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,{...a})}}function Fg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:i,onError:l}=t.getState(),u=i.get(e);if(!u){l==null||l("012",ga.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):a([e])}function hZ(){const e=At();return p.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(i-r[1])/r[2]};return{xSnapped:o?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:o?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}function Lm(e){return(t,n,r)=>e==null?void 0:e(t,r)}function vR({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:o,selectNodesOnDrag:s}){const i=At(),[l,u]=p.useState(!1),f=p.useRef([]),d=p.useRef({x:null,y:null}),h=p.useRef(0),m=p.useRef(null),x=p.useRef({x:0,y:0}),b=p.useRef(null),S=p.useRef(!1),y=p.useRef(!1),g=p.useRef(!1),v=hZ();return p.useEffect(()=>{if(e!=null&&e.current){const w=gt(e.current),E=({x:_,y:C})=>{const{nodeInternals:k,onNodeDrag:j,onSelectionDrag:B,updateNodePositions:$,nodeExtent:T,snapGrid:z,snapToGrid:R,nodeOrigin:L,onError:O}=i.getState();d.current={x:_,y:C};let M=!1,I={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&T){const V=Dv(f.current,L);I=kv(V)}if(f.current=f.current.map(V=>{const U={x:_-V.distance.x,y:C-V.distance.y};R&&(U.x=z[0]*Math.round(U.x/z[0]),U.y=z[1]*Math.round(U.y/z[1]));const P=[[T[0][0],T[0][1]],[T[1][0],T[1][1]]];f.current.length>1&&T&&!V.extent&&(P[0][0]=V.positionAbsolute.x-I.x+T[0][0],P[1][0]=V.positionAbsolute.x+(V.width??0)-I.x2+T[1][0],P[0][1]=V.positionAbsolute.y-I.y+T[0][1],P[1][1]=V.positionAbsolute.y+(V.height??0)-I.y2+T[1][1]);const H=yR(V,U,k,P,L,O);return M=M||V.position.x!==H.position.x||V.position.y!==H.position.y,V.position=H.position,V.positionAbsolute=H.positionAbsolute,V}),!M)return;$(f.current,!0,!0),u(!0);const F=a?j:Lm(B);if(F&&b.current){const[V,U]=Pm({nodeId:a,dragItems:f.current,nodeInternals:k});F(b.current,V,U)}},A=()=>{if(!m.current)return;const[_,C]=IT(x.current,m.current);if(_!==0||C!==0){const{transform:k,panBy:j}=i.getState();d.current.x=(d.current.x??0)-_/k[2],d.current.y=(d.current.y??0)-C/k[2],j({x:_,y:C})&&E(d.current)}h.current=requestAnimationFrame(A)},N=_=>{var L;const{nodeInternals:C,multiSelectionActive:k,nodesDraggable:j,unselectNodesAndEdges:B,onNodeDragStart:$,onSelectionDragStart:T}=i.getState();y.current=!0;const z=a?$:Lm(T);(!s||!o)&&!k&&a&&((L=C.get(a))!=null&&L.selected||B()),a&&o&&s&&Fg({id:a,store:i,nodeRef:e});const R=v(_);if(d.current=R,f.current=dZ(C,j,R,a),z&&f.current){const[O,M]=Pm({nodeId:a,dragItems:f.current,nodeInternals:C});z(_.sourceEvent,O,M)}};if(t)w.on(".drag",null);else{const _=W7().on("start",C=>{const{domNode:k,nodeDragThreshold:j}=i.getState();j===0&&N(C),g.current=!1;const B=v(C);d.current=B,m.current=(k==null?void 0:k.getBoundingClientRect())||null,x.current=eo(C.sourceEvent,m.current)}).on("drag",C=>{var $,T;const k=v(C),{autoPanOnNodeDrag:j,nodeDragThreshold:B}=i.getState();if(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!S.current&&y.current&&j&&(S.current=!0,A()),!y.current){const z=k.xSnapped-((($=d==null?void 0:d.current)==null?void 0:$.x)??0),R=k.ySnapped-(((T=d==null?void 0:d.current)==null?void 0:T.y)??0);Math.sqrt(z*z+R*R)>B&&N(C)}(d.current.x!==k.xSnapped||d.current.y!==k.ySnapped)&&f.current&&y.current&&(b.current=C.sourceEvent,x.current=eo(C.sourceEvent,m.current),E(k))}}).on("end",C=>{if(!(!y.current||g.current)&&(u(!1),S.current=!1,y.current=!1,cancelAnimationFrame(h.current),f.current)){const{updateNodePositions:k,nodeInternals:j,onNodeDragStop:B,onSelectionDragStop:$}=i.getState(),T=a?B:Lm($);if(k(f.current,!1,!1),T){const[z,R]=Pm({nodeId:a,dragItems:f.current,nodeInternals:j});T(C.sourceEvent,z,R)}}}).filter(C=>{const k=C.target;return!C.button&&(!n||!b1(k,`.${n}`,e))&&(!r||b1(k,r,e))});return w.call(_),()=>{w.on(".drag",null)}}}},[e,t,n,r,o,i,a,s,v]),l}function xR(){const e=At();return p.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:o,getNodes:s,snapToGrid:i,snapGrid:l,onError:u,nodesDraggable:f}=e.getState(),d=s().filter(g=>g.selected&&(g.draggable||f&&typeof g.draggable>"u")),h=i?l[0]:5,m=i?l[1]:5,x=n.isShiftPressed?4:1,b=n.x*h*x,S=n.y*m*x,y=d.map(g=>{if(g.positionAbsolute){const v={x:g.positionAbsolute.x+b,y:g.positionAbsolute.y+S};i&&(v.x=l[0]*Math.round(v.x/l[0]),v.y=l[1]*Math.round(v.y/l[1]));const{positionAbsolute:w,position:E}=yR(g,v,r,a,void 0,u);g.position=E,g.positionAbsolute=w}return g});o(y,!0,!1)},[])}const Xs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var qi=e=>{const t=({id:n,type:r,data:a,xPos:o,yPos:s,xPosOrigin:i,yPosOrigin:l,selected:u,onClick:f,onMouseEnter:d,onMouseMove:h,onMouseLeave:m,onContextMenu:x,onDoubleClick:b,style:S,className:y,isDraggable:g,isSelectable:v,isConnectable:w,isFocusable:E,selectNodesOnDrag:A,sourcePosition:N,targetPosition:_,hidden:C,resizeObserver:k,dragHandle:j,zIndex:B,isParent:$,noDragClassName:T,noPanClassName:z,initialized:R,disableKeyboardA11y:L,ariaLabel:O,rfId:M,hasHandleBounds:I})=>{const F=At(),V=p.useRef(null),U=p.useRef(null),P=p.useRef(N),H=p.useRef(_),Z=p.useRef(r),G=v||g||f||d||h||m,Y=xR(),K=Yi(n,F.getState,d),Q=Yi(n,F.getState,h),he=Yi(n,F.getState,m),me=Yi(n,F.getState,x),ue=Yi(n,F.getState,b),ee=Ne=>{const{nodeDragThreshold:J}=F.getState();if(v&&(!A||!g||J>0)&&Fg({id:n,store:F,nodeRef:V}),f){const Ye=F.getState().nodeInternals.get(n);Ye&&f(Ne,{...Ye})}},Re=Ne=>{if(!Pg(Ne)&&!L)if(HT.includes(Ne.key)&&v){const J=Ne.key==="Escape";Fg({id:n,store:F,unselect:J,nodeRef:V})}else g&&u&&Object.prototype.hasOwnProperty.call(Xs,Ne.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${Ne.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),Y({x:Xs[Ne.key].x,y:Xs[Ne.key].y,isShiftPressed:Ne.shiftKey}))};p.useEffect(()=>()=>{U.current&&(k==null||k.unobserve(U.current),U.current=null)},[]),p.useEffect(()=>{if(V.current&&!C){const Ne=V.current;(!R||!I||U.current!==Ne)&&(U.current&&(k==null||k.unobserve(U.current)),k==null||k.observe(Ne),U.current=Ne)}},[C,R,I]),p.useEffect(()=>{const Ne=Z.current!==r,J=P.current!==N,Ye=H.current!==_;V.current&&(Ne||J||Ye)&&(Ne&&(Z.current=r),J&&(P.current=N),Ye&&(H.current=_),F.getState().updateNodeDimensions([{id:n,nodeElement:V.current,forceUpdate:!0}]))},[n,r,N,_]);const st=vR({nodeRef:V,disabled:C||!g,noDragClassName:T,handleSelector:j,nodeId:n,isSelectable:v,selectNodesOnDrag:A});return C?null:D.createElement("div",{className:Yt(["react-flow__node",`react-flow__node-${r}`,{[z]:g},y,{selected:u,selectable:v,parent:$,dragging:st}]),ref:V,style:{zIndex:B,transform:`translate(${i}px,${l}px)`,pointerEvents:G?"all":"none",visibility:R?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:K,onMouseMove:Q,onMouseLeave:he,onContextMenu:me,onClick:ee,onDoubleClick:ue,onKeyDown:E?Re:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":L?void 0:`${lR}-${M}`,"aria-label":O},D.createElement(kV,{value:n},D.createElement(e,{id:n,data:a,type:r,xPos:o,yPos:s,selected:u,isConnectable:w,sourcePosition:N,targetPosition:_,dragging:st,dragHandle:j,zIndex:B})))};return t.displayName="NodeWrapper",p.memo(t)};const mZ=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Dv(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function pZ({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=At(),{width:a,height:o,x:s,y:i,transformString:l,userSelectionActive:u}=Ke(mZ,nn),f=xR(),d=p.useRef(null);if(p.useEffect(()=>{var x;n||(x=d.current)==null||x.focus({preventScroll:!0})},[n]),vR({nodeRef:d}),u||!a||!o)return null;const h=e?x=>{const b=r.getState().getNodes().filter(S=>S.selected);e(x,b)}:void 0,m=x=>{Object.prototype.hasOwnProperty.call(Xs,x.key)&&f({x:Xs[x.key].x,y:Xs[x.key].y,isShiftPressed:x.shiftKey})};return D.createElement("div",{className:Yt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},D.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:a,height:o,top:i,left:s}}))}var gZ=p.memo(pZ);const yZ=e=>e.nodesSelectionActive,bR=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:i,onMove:l,onMoveStart:u,onMoveEnd:f,selectionKeyCode:d,selectionOnDrag:h,selectionMode:m,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:S,panActivationKeyCode:y,zoomActivationKeyCode:g,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:A,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:k,defaultViewport:j,translateExtent:B,minZoom:$,maxZoom:T,preventScrolling:z,onSelectionContextMenu:R,noWheelClassName:L,noPanClassName:O,disableKeyboardA11y:M})=>{const I=Ke(yZ),F=rc(d),V=rc(y),U=V||k,P=V||A,H=F||h&&U!==!0;return nZ({deleteKeyCode:i,multiSelectionKeyCode:S}),D.createElement(sZ,{onMove:l,onMoveStart:u,onMoveEnd:f,onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:P,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:!F&&U,defaultViewport:j,translateExtent:B,minZoom:$,maxZoom:T,zoomActivationKeyCode:g,preventScrolling:z,noWheelClassName:L,noPanClassName:O},D.createElement(pR,{onSelectionStart:x,onSelectionEnd:b,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:U,isSelecting:!!H,selectionMode:m},e,I&&D.createElement(gZ,{onSelectionContextMenu:R,noPanClassName:O,disableKeyboardA11y:M})))};bR.displayName="FlowRenderer";var vZ=p.memo(bR);function xZ(e){return Ke(p.useCallback(n=>e?XT(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function bZ(e){const t={input:qi(e.input||aR),default:qi(e.default||Hg),output:qi(e.output||sR),group:qi(e.group||Ov)},n={},r=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,o)=>(a[o]=qi(e[o]||Hg),a),n);return{...t,...r}}const wZ=({x:e,y:t,width:n,height:r,origin:a})=>!n||!r?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-r*a[1]},SZ=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),wR=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:o,onError:s}=Ke(SZ,nn),i=xZ(e.onlyRenderVisibleElements),l=p.useRef(),u=p.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(d=>{const h=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(h)});return l.current=f,f},[]);return p.useEffect(()=>()=>{var f;(f=l==null?void 0:l.current)==null||f.disconnect()},[]),D.createElement("div",{className:"react-flow__nodes",style:Pv},i.map(f=>{var E,A,N;let d=f.type||"default";e.nodeTypes[d]||(s==null||s("003",ga.error003(d)),d="default");const h=e.nodeTypes[d]||e.nodeTypes.default,m=!!(f.draggable||t&&typeof f.draggable>"u"),x=!!(f.selectable||a&&typeof f.selectable>"u"),b=!!(f.connectable||n&&typeof f.connectable>"u"),S=!!(f.focusable||r&&typeof f.focusable>"u"),y=e.nodeExtent?Av(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,g=(y==null?void 0:y.x)??0,v=(y==null?void 0:y.y)??0,w=wZ({x:g,y:v,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return D.createElement(h,{key:f.id,id:f.id,className:f.className,style:f.style,type:d,data:f.data,sourcePosition:f.sourcePosition||oe.Bottom,targetPosition:f.targetPosition||oe.Top,hidden:f.hidden,xPos:g,yPos:v,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:m,isSelectable:x,isConnectable:b,isFocusable:S,resizeObserver:u,dragHandle:f.dragHandle,zIndex:((E=f[nt])==null?void 0:E.z)??0,isParent:!!((A=f[nt])!=null&&A.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel,hasHandleBounds:!!((N=f[nt])!=null&&N.handleBounds)})}))};wR.displayName="NodeRenderer";var NZ=p.memo(wR);const EZ=(e,t,n)=>n===oe.Left?e-t:n===oe.Right?e+t:e,_Z=(e,t,n)=>n===oe.Top?e-t:n===oe.Bottom?e+t:e,S1="react-flow__edgeupdater",N1=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:o,onMouseOut:s,type:i})=>D.createElement("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:s,className:Yt([S1,`${S1}-${i}`]),cx:EZ(t,r,e),cy:_Z(n,r,e),r,stroke:"transparent",fill:"transparent"}),CZ=()=>!0;var ds=e=>{const t=({id:n,className:r,type:a,data:o,onClick:s,onEdgeDoubleClick:i,selected:l,animated:u,label:f,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:b,style:S,source:y,target:g,sourceX:v,sourceY:w,targetX:E,targetY:A,sourcePosition:N,targetPosition:_,elementsSelectable:C,hidden:k,sourceHandleId:j,targetHandleId:B,onContextMenu:$,onMouseEnter:T,onMouseMove:z,onMouseLeave:R,reconnectRadius:L,onReconnect:O,onReconnectStart:M,onReconnectEnd:I,markerEnd:F,markerStart:V,rfId:U,ariaLabel:P,isFocusable:H,isReconnectable:Z,pathOptions:G,interactionWidth:Y,disableKeyboardA11y:K})=>{const Q=p.useRef(null),[he,me]=p.useState(!1),[ue,ee]=p.useState(!1),Re=At(),st=p.useMemo(()=>`url('#${Ig(V,U)}')`,[V,U]),Ne=p.useMemo(()=>`url('#${Ig(F,U)}')`,[F,U]);if(k)return null;const J=vt=>{var kn;const{edges:kt,addSelectedEdges:ir,unselectNodesAndEdges:Pr,multiSelectionActive:Lr}=Re.getState(),qn=kt.find(fo=>fo.id===n);qn&&(C&&(Re.setState({nodesSelectionActive:!1}),qn.selected&&Lr?(Pr({nodes:[],edges:[qn]}),(kn=Q.current)==null||kn.blur()):ir([n])),s&&s(vt,qn))},Ye=Zi(n,Re.getState,i),Ot=Zi(n,Re.getState,$),qt=Zi(n,Re.getState,T),Vn=Zi(n,Re.getState,z),Xt=Zi(n,Re.getState,R),Zn=(vt,kt)=>{if(vt.button!==0)return;const{edges:ir,isValidConnection:Pr}=Re.getState(),Lr=kt?g:y,qn=(kt?B:j)||null,kn=kt?"target":"source",fo=Pr||CZ,ie=kt,Ee=ir.find(De=>De.id===n);ee(!0),M==null||M(vt,Ee,kn);const je=De=>{ee(!1),I==null||I(De,Ee,kn)};eR({event:vt,handleId:qn,nodeId:Lr,onConnect:De=>O==null?void 0:O(Ee,De),isTarget:ie,getState:Re.getState,setState:Re.setState,isValidConnection:fo,edgeUpdaterType:kn,onReconnectEnd:je})},zr=vt=>Zn(vt,!0),Or=vt=>Zn(vt,!1),$r=()=>me(!0),Yn=()=>me(!1),wa=!C&&!s,Sa=vt=>{var kt;if(!K&&HT.includes(vt.key)&&C){const{unselectNodesAndEdges:ir,addSelectedEdges:Pr,edges:Lr}=Re.getState();vt.key==="Escape"?((kt=Q.current)==null||kt.blur(),ir({edges:[Lr.find(kn=>kn.id===n)]})):Pr([n])}};return D.createElement("g",{className:Yt(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:l,animated:u,inactive:wa,updating:he}]),onClick:J,onDoubleClick:Ye,onContextMenu:Ot,onMouseEnter:qt,onMouseMove:Vn,onMouseLeave:Xt,onKeyDown:H?Sa:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":P===null?void 0:P||`Edge from ${y} to ${g}`,"aria-describedby":H?`${cR}-${U}`:void 0,ref:Q},!ue&&D.createElement(e,{id:n,source:y,target:g,selected:l,animated:u,label:f,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:b,data:o,style:S,sourceX:v,sourceY:w,targetX:E,targetY:A,sourcePosition:N,targetPosition:_,sourceHandleId:j,targetHandleId:B,markerStart:st,markerEnd:Ne,pathOptions:G,interactionWidth:Y}),Z&&D.createElement(D.Fragment,null,(Z==="source"||Z===!0)&&D.createElement(N1,{position:N,centerX:v,centerY:w,radius:L,onMouseDown:zr,onMouseEnter:$r,onMouseOut:Yn,type:"source"}),(Z==="target"||Z===!0)&&D.createElement(N1,{position:_,centerX:E,centerY:A,radius:L,onMouseDown:Or,onMouseEnter:$r,onMouseOut:Yn,type:"target"})))};return t.displayName="EdgeWrapper",p.memo(t)};function AZ(e){const t={default:ds(e.default||uf),straight:ds(e.bezier||jv),step:ds(e.step||Rv),smoothstep:ds(e.step||yh),simplebezier:ds(e.simplebezier||Tv)},n={},r=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,o)=>(a[o]=ds(e[o]||uf),a),n);return{...t,...r}}function E1(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,a=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case oe.Top:return{x:r+o/2,y:a};case oe.Right:return{x:r+o,y:a+s/2};case oe.Bottom:return{x:r+o/2,y:a+s};case oe.Left:return{x:r,y:a+s/2}}}function _1(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const kZ=(e,t,n,r,a,o)=>{const s=E1(n,e,t),i=E1(o,r,a);return{sourceX:s.x,sourceY:s.y,targetX:i.x,targetY:i.y}};function TZ({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:o,width:s,height:i,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const f=kv({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:i/l[2]}),d=Math.max(0,Math.min(f.x2,u.x2)-Math.max(f.x,u.x)),h=Math.max(0,Math.min(f.y2,u.y2)-Math.max(f.y,u.y));return Math.ceil(d*h)>0}function C1(e){var r,a,o,s,i;const t=((r=e==null?void 0:e[nt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const RZ=[{level:0,isMaxLevel:!0,edges:[]}];function jZ(e,t,n=!1){let r=-1;const a=e.reduce((s,i)=>{var f,d;const l=Ln(i.zIndex);let u=l?i.zIndex:0;if(n){const h=t.get(i.target),m=t.get(i.source),x=i.selected||(h==null?void 0:h.selected)||(m==null?void 0:m.selected),b=Math.max(((f=m==null?void 0:m[nt])==null?void 0:f.z)||0,((d=h==null?void 0:h[nt])==null?void 0:d.z)||0,1e3);u=(l?i.zIndex:0)+(x?b:0)}return s[u]?s[u].push(i):s[u]=[i],r=u>r?u:r,s},{}),o=Object.entries(a).map(([s,i])=>{const l=+s;return{edges:i,level:l,isMaxLevel:l===r}});return o.length===0?RZ:o}function MZ(e,t,n){const r=Ke(p.useCallback(a=>e?a.edges.filter(o=>{const s=t.get(o.source),i=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&TZ({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:i.width,targetHeight:i.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return jZ(r,t,n)}const DZ=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zZ=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),A1={[cf.Arrow]:DZ,[cf.ArrowClosed]:zZ};function OZ(e){const t=At();return p.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(A1,e)?A1[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",ga.error009(e)),null)},[e])}const $Z=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:i="auto-start-reverse"})=>{const l=OZ(t);return l?D.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:i,refX:"0",refY:"0"},D.createElement(l,{color:n,strokeWidth:s})):null},PZ=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((a,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const i=Ig(s,t);r.includes(i)||(a.push({id:i,color:s.color||e,...s}),r.push(i))}}),a),[]).sort((a,o)=>a.id.localeCompare(o.id))},SR=({defaultColor:e,rfId:t})=>{const n=Ke(p.useCallback(PZ({defaultColor:e,rfId:t}),[e,t]),(r,a)=>!(r.length!==a.length||r.some((o,s)=>o.id!==a[s].id)));return D.createElement("defs",null,n.map(r=>D.createElement($Z,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};SR.displayName="MarkerDefinitions";var LZ=p.memo(SR);const IZ=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),NR=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:i,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:f,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:b,children:S,disableKeyboardA11y:y})=>{const{edgesFocusable:g,edgesUpdatable:v,elementsSelectable:w,width:E,height:A,connectionMode:N,nodeInternals:_,onError:C}=Ke(IZ,nn),k=MZ(t,_,n);return E?D.createElement(D.Fragment,null,k.map(({level:j,edges:B,isMaxLevel:$})=>D.createElement("svg",{key:j,style:{zIndex:j},width:E,height:A,className:"react-flow__edges react-flow__container"},$&&D.createElement(LZ,{defaultColor:e,rfId:r}),D.createElement("g",null,B.map(T=>{const[z,R,L]=C1(_.get(T.source)),[O,M,I]=C1(_.get(T.target));if(!L||!I)return null;let F=T.type||"default";a[F]||(C==null||C("011",ga.error011(F)),F="default");const V=a[F]||a.default,U=N===Fo.Strict?M.target:(M.target??[]).concat(M.source??[]),P=_1(R.source,T.sourceHandle),H=_1(U,T.targetHandle),Z=(P==null?void 0:P.position)||oe.Bottom,G=(H==null?void 0:H.position)||oe.Top,Y=!!(T.focusable||g&&typeof T.focusable>"u"),K=T.reconnectable||T.updatable,Q=typeof h<"u"&&(K||v&&typeof K>"u");if(!P||!H)return C==null||C("008",ga.error008(P,T)),null;const{sourceX:he,sourceY:me,targetX:ue,targetY:ee}=kZ(z,P,Z,O,H,G);return D.createElement(V,{key:T.id,id:T.id,className:Yt([T.className,o]),type:F,data:T.data,selected:!!T.selected,animated:!!T.animated,hidden:!!T.hidden,label:T.label,labelStyle:T.labelStyle,labelShowBg:T.labelShowBg,labelBgStyle:T.labelBgStyle,labelBgPadding:T.labelBgPadding,labelBgBorderRadius:T.labelBgBorderRadius,style:T.style,source:T.source,target:T.target,sourceHandleId:T.sourceHandle,targetHandleId:T.targetHandle,markerEnd:T.markerEnd,markerStart:T.markerStart,sourceX:he,sourceY:me,targetX:ue,targetY:ee,sourcePosition:Z,targetPosition:G,elementsSelectable:w,onContextMenu:s,onMouseEnter:i,onMouseMove:l,onMouseLeave:u,onClick:f,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:b,rfId:r,ariaLabel:T.ariaLabel,isFocusable:Y,isReconnectable:Q,pathOptions:"pathOptions"in T?T.pathOptions:void 0,interactionWidth:T.interactionWidth,disableKeyboardA11y:y})})))),S):null};NR.displayName="EdgeRenderer";var BZ=p.memo(NR);const HZ=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function FZ({children:e}){const t=Ke(HZ);return D.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function UZ(e){const t=$v(),n=p.useRef(!1);p.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const GZ={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top},ER=({nodeId:e,handleType:t,style:n,type:r=Pa.Bezier,CustomComponent:a,connectionStatus:o})=>{var A,N,_;const{fromNode:s,handleId:i,toX:l,toY:u,connectionMode:f}=Ke(p.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),nn),d=(A=s==null?void 0:s[nt])==null?void 0:A.handleBounds;let h=d==null?void 0:d[t];if(f===Fo.Loose&&(h=h||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!h)return null;const m=i?h.find(C=>C.id===i):h[0],x=m?m.x+m.width/2:(s.width??0)/2,b=m?m.y+m.height/2:s.height??0,S=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+x,y=(((_=s.positionAbsolute)==null?void 0:_.y)??0)+b,g=m==null?void 0:m.position,v=g?GZ[g]:null;if(!g||!v)return null;if(a)return D.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:S,fromY:y,toX:l,toY:u,fromPosition:g,toPosition:v,connectionStatus:o});let w="";const E={sourceX:S,sourceY:y,sourcePosition:g,targetX:l,targetY:u,targetPosition:v};return r===Pa.Bezier?[w]=ZT(E):r===Pa.Step?[w]=Lg({...E,borderRadius:0}):r===Pa.SmoothStep?[w]=Lg(E):r===Pa.SimpleBezier?[w]=VT(E):w=`M${S},${y} ${l},${u}`,D.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};ER.displayName="ConnectionLine";const VZ=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function ZZ({containerStyle:e,style:t,type:n,component:r}){const{nodeId:a,handleType:o,nodesConnectable:s,width:i,height:l,connectionStatus:u}=Ke(VZ,nn);return!(a&&o&&i&&s)?null:D.createElement("svg",{style:e,width:i,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},D.createElement("g",{className:Yt(["react-flow__connection",u])},D.createElement(ER,{nodeId:a,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function k1(e,t){return p.useRef(null),At(),p.useMemo(()=>t(e),[e])}const _R=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:o,onNodeClick:s,onEdgeClick:i,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:x,onSelectionStart:b,onSelectionEnd:S,connectionLineType:y,connectionLineStyle:g,connectionLineComponent:v,connectionLineContainerStyle:w,selectionKeyCode:E,selectionOnDrag:A,selectionMode:N,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:k,deleteKeyCode:j,onlyRenderVisibleElements:B,elementsSelectable:$,selectNodesOnDrag:T,defaultViewport:z,translateExtent:R,minZoom:L,maxZoom:O,preventScrolling:M,defaultMarkerColor:I,zoomOnScroll:F,zoomOnPinch:V,panOnScroll:U,panOnScrollSpeed:P,panOnScrollMode:H,zoomOnDoubleClick:Z,panOnDrag:G,onPaneClick:Y,onPaneMouseEnter:K,onPaneMouseMove:Q,onPaneMouseLeave:he,onPaneScroll:me,onPaneContextMenu:ue,onEdgeContextMenu:ee,onEdgeMouseEnter:Re,onEdgeMouseMove:st,onEdgeMouseLeave:Ne,onReconnect:J,onReconnectStart:Ye,onReconnectEnd:Ot,reconnectRadius:qt,noDragClassName:Vn,noWheelClassName:Xt,noPanClassName:Zn,elevateEdgesOnSelect:zr,disableKeyboardA11y:Or,nodeOrigin:$r,nodeExtent:Yn,rfId:wa})=>{const Sa=k1(e,bZ),vt=k1(t,AZ);return UZ(o),D.createElement(vZ,{onPaneClick:Y,onPaneMouseEnter:K,onPaneMouseMove:Q,onPaneMouseLeave:he,onPaneContextMenu:ue,onPaneScroll:me,deleteKeyCode:j,selectionKeyCode:E,selectionOnDrag:A,selectionMode:N,onSelectionStart:b,onSelectionEnd:S,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:k,elementsSelectable:$,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:F,zoomOnPinch:V,zoomOnDoubleClick:Z,panOnScroll:U,panOnScrollSpeed:P,panOnScrollMode:H,panOnDrag:G,defaultViewport:z,translateExtent:R,minZoom:L,maxZoom:O,onSelectionContextMenu:x,preventScrolling:M,noDragClassName:Vn,noWheelClassName:Xt,noPanClassName:Zn,disableKeyboardA11y:Or},D.createElement(FZ,null,D.createElement(BZ,{edgeTypes:vt,onEdgeClick:i,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:ee,onEdgeMouseEnter:Re,onEdgeMouseMove:st,onEdgeMouseLeave:Ne,onReconnect:J,onReconnectStart:Ye,onReconnectEnd:Ot,reconnectRadius:qt,defaultMarkerColor:I,noPanClassName:Zn,elevateEdgesOnSelect:!!zr,disableKeyboardA11y:Or,rfId:wa},D.createElement(ZZ,{style:g,type:y,component:v,containerStyle:w})),D.createElement("div",{className:"react-flow__edgelabel-renderer"}),D.createElement(NZ,{nodeTypes:Sa,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:T,onlyRenderVisibleElements:B,noPanClassName:Zn,noDragClassName:Vn,disableKeyboardA11y:Or,nodeOrigin:$r,nodeExtent:Yn,rfId:wa})))};_R.displayName="GraphView";var YZ=p.memo(_R);const Ug=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ca={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ug,nodeExtent:Ug,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Fo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:SV,isValidConnection:void 0},qZ=()=>hV((e,t)=>({...Ca,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:Om(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",o=typeof r<"u",s=a?Om(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:i,domNode:l,nodeOrigin:u}=t(),f=l==null?void 0:l.querySelector(".react-flow__viewport");if(!f)return;const d=window.getComputedStyle(f),{m22:h}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((b,S)=>{const y=a.get(S.id);if(y!=null&&y.hidden)a.set(y.id,{...y,[nt]:{...y[nt],handleBounds:void 0}});else if(y){const g=Cv(S.nodeElement);!!(g.width&&g.height&&(y.width!==g.width||y.height!==g.height||S.forceUpdate))&&(a.set(y.id,{...y,[nt]:{...y[nt],handleBounds:{source:w1(".source",S.nodeElement,h,u),target:w1(".target",S.nodeElement,h,u)}},...g}),b.push({id:y.id,type:"dimensions",dimensions:g}))}return b},[]);dR(a,u);const x=s||o&&!s&&fR(t,{initial:!0,...i});e({nodeInternals:new Map(a),fitViewOnInitDone:x}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(i=>{const l={id:i.id,type:"position",dragging:a};return r&&(l.positionAbsolute=i.positionAbsolute,l.position=i.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:s,getNodes:i,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=mR(n,i()),f=Om(u,a,s,l);e({nodeInternals:f})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(l=>Ma(l,!0)):(s=Ms(o(),n),i=Ms(a,[])),Au({changedNodes:s,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(l=>Ma(l,!0)):(s=Ms(a,n),i=Ms(o(),[])),Au({changedNodes:i,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:o}=t(),s=n||o(),i=r||a,l=s.map(f=>(f.selected=!1,Ma(f.id,!1))),u=i.map(f=>Ma(f.id,!1));Au({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();r==null||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();r==null||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(i=>i.selected).map(i=>Ma(i.id,!1)),s=n.filter(i=>i.selected).map(i=>Ma(i.id,!1));Au({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(a=>{a.positionAbsolute=Av(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:o,d3Zoom:s,d3Selection:i,translateExtent:l}=t();if(!s||!i||!n.x&&!n.y)return!1;const u=Nr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),f=[[0,0],[a,o]],d=s==null?void 0:s.constrain()(u,f,l);return s.transform(i,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Ca.connectionNodeId,connectionHandleId:Ca.connectionHandleId,connectionHandleType:Ca.connectionHandleType,connectionStatus:Ca.connectionStatus,connectionStartHandle:Ca.connectionStartHandle,connectionEndHandle:Ca.connectionEndHandle}),reset:()=>e({...Ca})}),Object.is),CR=({children:e})=>{const t=p.useRef(null);return t.current||(t.current=qZ()),D.createElement(mV,{value:t.current},e)};CR.displayName="ReactFlowProvider";const AR=({children:e})=>p.useContext(gh)?D.createElement(D.Fragment,null,e):D.createElement(CR,null,e);AR.displayName="ReactFlowWrapper";const XZ={input:aR,default:Hg,output:sR,group:Ov},WZ={default:uf,straight:jv,step:Rv,smoothstep:yh,simplebezier:Tv},KZ=[0,0],QZ=[15,15],JZ={x:0,y:0,zoom:1},eY={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},kR=p.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:o=XZ,edgeTypes:s=WZ,onNodeClick:i,onEdgeClick:l,onInit:u,onMove:f,onMoveStart:d,onMoveEnd:h,onConnect:m,onConnectStart:x,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:y,onNodeMouseEnter:g,onNodeMouseMove:v,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:A,onNodeDragStart:N,onNodeDrag:_,onNodeDragStop:C,onNodesDelete:k,onEdgesDelete:j,onSelectionChange:B,onSelectionDragStart:$,onSelectionDrag:T,onSelectionDragStop:z,onSelectionContextMenu:R,onSelectionStart:L,onSelectionEnd:O,connectionMode:M=Fo.Strict,connectionLineType:I=Pa.Bezier,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:U,deleteKeyCode:P="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:Z=!1,selectionMode:G=nc.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:K=lf()?"Meta":"Control",zoomActivationKeyCode:Q=lf()?"Meta":"Control",snapToGrid:he=!1,snapGrid:me=QZ,onlyRenderVisibleElements:ue=!1,selectNodesOnDrag:ee=!0,nodesDraggable:Re,nodesConnectable:st,nodesFocusable:Ne,nodeOrigin:J=KZ,edgesFocusable:Ye,edgesUpdatable:Ot,elementsSelectable:qt,defaultViewport:Vn=JZ,minZoom:Xt=.5,maxZoom:Zn=2,translateExtent:zr=Ug,preventScrolling:Or=!0,nodeExtent:$r,defaultMarkerColor:Yn="#b1b1b7",zoomOnScroll:wa=!0,zoomOnPinch:Sa=!0,panOnScroll:vt=!1,panOnScrollSpeed:kt=.5,panOnScrollMode:ir=Eo.Free,zoomOnDoubleClick:Pr=!0,panOnDrag:Lr=!0,onPaneClick:qn,onPaneMouseEnter:kn,onPaneMouseMove:fo,onPaneMouseLeave:ie,onPaneScroll:Ee,onPaneContextMenu:je,children:_e,onEdgeContextMenu:De,onEdgeDoubleClick:$t,onEdgeMouseEnter:Tt,onEdgeMouseMove:lr,onEdgeMouseLeave:cn,onEdgeUpdate:Ir,onEdgeUpdateStart:cr,onEdgeUpdateEnd:Tn,onReconnect:ts,onReconnectStart:Gc,onReconnectEnd:sM,reconnectRadius:iM=10,edgeUpdaterRadius:lM=10,onNodesChange:cM,onEdgesChange:uM,noDragClassName:dM="nodrag",noWheelClassName:fM="nowheel",noPanClassName:Wv="nopan",fitView:hM=!1,fitViewOptions:mM,connectOnClick:pM=!0,attributionPosition:gM,proOptions:yM,defaultEdgeOptions:vM,elevateNodesOnSelect:xM=!0,elevateEdgesOnSelect:bM=!1,disableKeyboardA11y:Kv=!1,autoPanOnConnect:wM=!0,autoPanOnNodeDrag:SM=!0,connectionRadius:NM=20,isValidConnection:EM,onError:_M,style:CM,id:Qv,nodeDragThreshold:AM,...kM},TM)=>{const _h=Qv||"1";return D.createElement("div",{...kM,style:{...CM,...eY},ref:TM,className:Yt(["react-flow",a]),"data-testid":"rf__wrapper",id:Qv},D.createElement(AR,null,D.createElement(YZ,{onInit:u,onMove:f,onMoveStart:d,onMoveEnd:h,onNodeClick:i,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:v,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:s,connectionLineType:I,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:U,selectionKeyCode:H,selectionOnDrag:Z,selectionMode:G,deleteKeyCode:P,multiSelectionKeyCode:K,panActivationKeyCode:Y,zoomActivationKeyCode:Q,onlyRenderVisibleElements:ue,selectNodesOnDrag:ee,defaultViewport:Vn,translateExtent:zr,minZoom:Xt,maxZoom:Zn,preventScrolling:Or,zoomOnScroll:wa,zoomOnPinch:Sa,zoomOnDoubleClick:Pr,panOnScroll:vt,panOnScrollSpeed:kt,panOnScrollMode:ir,panOnDrag:Lr,onPaneClick:qn,onPaneMouseEnter:kn,onPaneMouseMove:fo,onPaneMouseLeave:ie,onPaneScroll:Ee,onPaneContextMenu:je,onSelectionContextMenu:R,onSelectionStart:L,onSelectionEnd:O,onEdgeContextMenu:De,onEdgeDoubleClick:$t,onEdgeMouseEnter:Tt,onEdgeMouseMove:lr,onEdgeMouseLeave:cn,onReconnect:ts??Ir,onReconnectStart:Gc??cr,onReconnectEnd:sM??Tn,reconnectRadius:iM??lM,defaultMarkerColor:Yn,noDragClassName:dM,noWheelClassName:fM,noPanClassName:Wv,elevateEdgesOnSelect:bM,rfId:_h,disableKeyboardA11y:Kv,nodeOrigin:J,nodeExtent:$r}),D.createElement(GV,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:x,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:y,nodesDraggable:Re,nodesConnectable:st,nodesFocusable:Ne,edgesFocusable:Ye,edgesUpdatable:Ot,elementsSelectable:qt,elevateNodesOnSelect:xM,minZoom:Xt,maxZoom:Zn,nodeExtent:$r,onNodesChange:cM,onEdgesChange:uM,snapToGrid:he,snapGrid:me,connectionMode:M,translateExtent:zr,connectOnClick:pM,defaultEdgeOptions:vM,fitView:hM,fitViewOptions:mM,onNodesDelete:k,onEdgesDelete:j,onNodeDragStart:N,onNodeDrag:_,onNodeDragStop:C,onSelectionDrag:T,onSelectionDragStart:$,onSelectionDragStop:z,noPanClassName:Wv,nodeOrigin:J,rfId:_h,autoPanOnConnect:wM,autoPanOnNodeDrag:SM,onError:_M,connectionRadius:NM,isValidConnection:EM,nodeDragThreshold:AM}),D.createElement(FV,{onSelectionChange:B}),_e,D.createElement(gV,{proOptions:yM,position:gM}),D.createElement(XV,{rfId:_h,disableKeyboardA11y:Kv})))});kR.displayName="ReactFlow";function TR(e){return t=>{const[n,r]=p.useState(t),a=p.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,a]}}const tY=TR(mR),nY=TR(cZ);function rY(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function aY(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},D.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function oY(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},D.createElement("path",{d:"M0 0h32v4.2H0z"}))}function sY(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},D.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function iY(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function lY(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ol=({children:e,className:t,...n})=>D.createElement("button",{type:"button",className:Yt(["react-flow__controls-button",t]),...n},e);ol.displayName="ControlButton";const cY=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),RR=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:s,onFitView:i,onInteractiveChange:l,className:u,children:f,position:d="bottom-left"})=>{const h=At(),[m,x]=p.useState(!1),{isInteractive:b,minZoomReached:S,maxZoomReached:y}=Ke(cY,rY),{zoomIn:g,zoomOut:v,fitView:w}=$v();if(p.useEffect(()=>{x(!0)},[]),!m)return null;const E=()=>{g(),o==null||o()},A=()=>{v(),s==null||s()},N=()=>{w(a),i==null||i()},_=()=>{h.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),l==null||l(!b)};return D.createElement(LT,{className:Yt(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&D.createElement(D.Fragment,null,D.createElement(ol,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},D.createElement(aY,null)),D.createElement(ol,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},D.createElement(oY,null))),n&&D.createElement(ol,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},D.createElement(sY,null)),r&&D.createElement(ol,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},b?D.createElement(lY,null):D.createElement(iY,null)),f)};RR.displayName="Controls";var uY=p.memo(RR);function dY(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Qn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Qn||(Qn={}));function fY({color:e,dimensions:t,lineWidth:n}){return D.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function hY({color:e,radius:t}){return D.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const mY={[Qn.Dots]:"#91919a",[Qn.Lines]:"#eee",[Qn.Cross]:"#e2e2e2"},pY={[Qn.Dots]:1,[Qn.Lines]:1,[Qn.Cross]:6},gY=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function jR({id:e,variant:t=Qn.Dots,gap:n=20,size:r,lineWidth:a=1,offset:o=2,color:s,style:i,className:l}){const u=p.useRef(null),{transform:f,patternId:d}=Ke(gY,dY),h=s||mY[t],m=r||pY[t],x=t===Qn.Dots,b=t===Qn.Cross,S=Array.isArray(n)?n:[n,n],y=[S[0]*f[2]||1,S[1]*f[2]||1],g=m*f[2],v=b?[g,g]:y,w=x?[g/o,g/o]:[v[0]/o,v[1]/o];return D.createElement("svg",{className:Yt(["react-flow__background",l]),style:{...i,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},D.createElement("pattern",{id:d+e,x:f[0]%y[0],y:f[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},x?D.createElement(hY,{color:h,radius:g/o}):D.createElement(fY,{dimensions:v,color:h,lineWidth:a})),D.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}jR.displayName="Background";var yY=p.memo(jR);function vY({data:e,selected:t,onTogglePerk:n,onRankChange:r}){var f,d;const a=e.totalRanks,o=a>1?(e.currentRank||0)>0:e.selected||t,s=h=>{h.preventDefault(),h.stopPropagation();const m=e.edid,x=e.name;console.log(`Toggling perk: ${x} (${m}), currently selected: ${o}, current rank: ${e.currentRank}`),n&&n(m)},i=h=>{if(h.preventDefault(),h.stopPropagation(),!o){const y=e.name;if(console.log(`Selecting multi-rank perk: ${y} with rank 1`),n){const g=e.edid;n(g)}return}if(!r)return;const m=e.currentRank||0,x=(m+1)%(a+1),b=e.name;console.log(`Cycling rank for ${b}: ${m} -> ${x}`);const S=e.edid;r(S,x)},l=()=>{const h={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return o?{...h,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...h,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...h,borderColor:"hsl(var(--border))"}},u=((d=(f=e.ranks[0])==null?void 0:f.description)==null?void 0:d.base)||"";return c.jsxs(Ok,{children:[c.jsx($k,{asChild:!0,children:c.jsxs("div",{style:l(),onClick:a>1?i:s,onMouseDown:h=>h.stopPropagation(),children:[!e.isRoot&&c.jsx(gi,{type:"target",position:oe.Bottom}),c.jsx("div",{className:"font-medium",children:e.name}),a>1&&c.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",a," ranks"]}),e.hasChildren&&c.jsx(gi,{type:"source",position:oe.Top})]})}),c.jsx(uv,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:1e3},children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-semibold text-sm",children:e.name}),c.jsx("div",{className:"text-sm text-muted-foreground",children:u}),a>1&&c.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[c.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",a,c.jsx("br",{}),c.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})}function q(e,t,n){function r(i,l){var u;Object.defineProperty(i,"_zod",{value:i._zod??{},enumerable:!1}),(u=i._zod).traits??(u.traits=new Set),i._zod.traits.add(e),t(i,l);for(const f in s.prototype)f in i||Object.defineProperty(i,f,{value:s.prototype[f].bind(i)});i._zod.constr=s,i._zod.def=l}const a=(n==null?void 0:n.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function s(i){var l;const u=n!=null&&n.Parent?new o:this;r(u,i),(l=u._zod).deferred??(l.deferred=[]);for(const f of u._zod.deferred)f();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:i=>{var l,u;return n!=null&&n.Parent&&i instanceof n.Parent?!0:(u=(l=i==null?void 0:i._zod)==null?void 0:l.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class ac extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const MR={};function Uo(e){return MR}function xY(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function bY(e,t){return typeof t=="bigint"?t.toString():t}function DR(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Lv(e){return e==null}function Iv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function wY(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,o=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return o%s/10**a}function Be(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Bv(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Xi(e){return JSON.stringify(e)}const zR=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Gg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const SY=DR(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Vg(e){if(Gg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Gg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const NY=new Set(["string","number","symbol"]);function vh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function es(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function se(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function EY(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const _Y={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function CY(e,t){const n={},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(n[a]=r.shape[a])}return es(e,{...e._zod.def,shape:n,checks:[]})}function AY(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete n[a]}return es(e,{...e._zod.def,shape:n,checks:[]})}function kY(e,t){if(!Vg(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Bv(this,"shape",r),r},checks:[]};return es(e,n)}function TY(e,t){return es(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Bv(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function RY(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)a[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return es(t,{...t._zod.def,shape:a,checks:[]})}function jY(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)a[o]=new e({type:"nonoptional",innerType:r[o]});return es(t,{...t._zod.def,shape:a,checks:[]})}function _l(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Hv(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Tu(e){return typeof e=="string"?e:e==null?void 0:e.message}function Go(e,t,n){var a,o,s,i,l,u;const r={...e,path:e.path??[]};if(!e.message){const f=Tu((s=(o=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??Tu((i=t==null?void 0:t.error)==null?void 0:i.call(t,e))??Tu((l=n.customError)==null?void 0:l.call(n,e))??Tu((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=f}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Fv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function oc(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const OR=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,bY,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},$R=q("$ZodError",OR),PR=q("$ZodError",OR,{Parent:Error});function MY(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function DY(e,t){const n=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>a({issues:i}));else if(s.code==="invalid_key")a({issues:s.issues});else if(s.code==="invalid_element")a({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let i=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(n(s))):i[u]=i[u]||{_errors:[]},i=i[u],l++}}};return a(e),r}const zY=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new ac;if(s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(l=>Go(l,o,Uo())));throw zR(i,a==null?void 0:a.callee),i}return s.value},OY=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(l=>Go(l,o,Uo())));throw zR(i,a==null?void 0:a.callee),i}return s.value},LR=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new ac;return o.issues.length?{success:!1,error:new(e??$R)(o.issues.map(s=>Go(s,a,Uo())))}:{success:!0,data:o.value}},$Y=LR(PR),IR=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Go(s,a,Uo())))}:{success:!0,data:o.value}},PY=IR(PR),LY=/^[cC][^\s-]{8,}$/,IY=/^[0-9a-z]+$/,BY=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,HY=/^[0-9a-vA-V]{20}$/,FY=/^[A-Za-z0-9]{27}$/,UY=/^[a-zA-Z0-9_-]{21}$/,GY=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,VY=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,T1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,ZY=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,YY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function qY(){return new RegExp(YY,"u")}const XY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,KY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,QY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,JY=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,BR=/^[A-Za-z0-9_-]*$/,eq=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,tq=/^\+(?:[0-9]){6,14}[0-9]$/,HR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",nq=new RegExp(`^${HR}$`);function FR(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function rq(e){return new RegExp(`^${FR(e)}$`)}function aq(e){const t=FR({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${HR}T(?:${r})$`)}const oq=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},sq=/^\d+$/,iq=/^-?\d+(?:\.\d+)?/i,lq=/true|false/i,cq=/^[^A-Z]*$/,uq=/^[^a-z]*$/,ln=q("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),UR={number:"number",bigint:"bigint",object:"date"},GR=q("$ZodCheckLessThan",(e,t)=>{ln.init(e,t);const n=UR[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),VR=q("$ZodCheckGreaterThan",(e,t)=>{ln.init(e,t);const n=UR[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),dq=q("$ZodCheckMultipleOf",(e,t)=>{ln.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):wY(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),fq=q("$ZodCheckNumberFormat",(e,t)=>{var s;ln.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[a,o]=_Y[t.format];e._zod.onattach.push(i=>{const l=i._zod.bag;l.format=t.format,l.minimum=a,l.maximum=o,n&&(l.pattern=sq)}),e._zod.check=i=>{const l=i.value;if(n){if(!Number.isInteger(l)){i.issues.push({expected:r,format:t.format,code:"invalid_type",input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?i.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}l<a&&i.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),l>o&&i.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:e})}}),hq=q("$ZodCheckMaxLength",(e,t)=>{var n;ln.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Lv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const s=Fv(a);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),mq=q("$ZodCheckMinLength",(e,t)=>{var n;ln.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Lv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const s=Fv(a);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),pq=q("$ZodCheckLengthEquals",(e,t)=>{var n;ln.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Lv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,o=a.length;if(o===t.length)return;const s=Fv(a),i=o>t.length;r.issues.push({origin:s,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),xh=q("$ZodCheckStringFormat",(e,t)=>{var n,r;ln.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),gq=q("$ZodCheckRegex",(e,t)=>{xh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),yq=q("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=cq),xh.init(e,t)}),vq=q("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=uq),xh.init(e,t)}),xq=q("$ZodCheckIncludes",(e,t)=>{ln.init(e,t);const n=vh(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),bq=q("$ZodCheckStartsWith",(e,t)=>{ln.init(e,t);const n=new RegExp(`^${vh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),wq=q("$ZodCheckEndsWith",(e,t)=>{ln.init(e,t);const n=new RegExp(`.*${vh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Sq=q("$ZodCheckOverwrite",(e,t)=>{ln.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Nq{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),a=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(a)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,a.join(`
`))}}const Eq={major:4,minor:0,patch:5},rt=q("$ZodType",(e,t)=>{var a;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Eq;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,i,l)=>{let u=_l(s),f;for(const d of i){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(u)continue;const h=s.issues.length,m=d._zod.check(s);if(m instanceof Promise&&(l==null?void 0:l.async)===!1)throw new ac;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,s.issues.length!==h&&(u||(u=_l(s,h)))});else{if(s.issues.length===h)continue;u||(u=_l(s,h))}}return f?f.then(()=>s):s};e._zod.run=(s,i)=>{const l=e._zod.parse(s,i);if(l instanceof Promise){if(i.async===!1)throw new ac;return l.then(u=>o(u,r,i))}return o(l,r,i)}}e["~standard"]={validate:o=>{var s;try{const i=$Y(e,o);return i.success?{value:i.data}:{issues:(s=i.error)==null?void 0:s.issues}}catch{return PY(e,o).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Uv=q("$ZodString",(e,t)=>{var n;rt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??oq(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ze=q("$ZodStringFormat",(e,t)=>{xh.init(e,t),Uv.init(e,t)}),_q=q("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=VY),Ze.init(e,t)}),Cq=q("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=T1(r))}else t.pattern??(t.pattern=T1());Ze.init(e,t)}),Aq=q("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=ZY),Ze.init(e,t)}),kq=q("$ZodURL",(e,t)=>{Ze.init(e,t),e._zod.check=n=>{try{const r=n.value,a=new URL(r),o=a.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:eq.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Tq=q("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=qY()),Ze.init(e,t)}),Rq=q("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=UY),Ze.init(e,t)}),jq=q("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=LY),Ze.init(e,t)}),Mq=q("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=IY),Ze.init(e,t)}),Dq=q("$ZodULID",(e,t)=>{t.pattern??(t.pattern=BY),Ze.init(e,t)}),zq=q("$ZodXID",(e,t)=>{t.pattern??(t.pattern=HY),Ze.init(e,t)}),Oq=q("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=FY),Ze.init(e,t)}),$q=q("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=aq(t)),Ze.init(e,t)}),Pq=q("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=nq),Ze.init(e,t)}),Lq=q("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=rq(t)),Ze.init(e,t)}),Iq=q("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=GY),Ze.init(e,t)}),Bq=q("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=XY),Ze.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Hq=q("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=WY),Ze.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Fq=q("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=KY),Ze.init(e,t)}),Uq=q("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=QY),Ze.init(e,t),e._zod.check=n=>{const[r,a]=n.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function ZR(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Gq=q("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=JY),Ze.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{ZR(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Vq(e){if(!BR.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return ZR(n)}const Zq=q("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=BR),Ze.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{Vq(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Yq=q("$ZodE164",(e,t)=>{t.pattern??(t.pattern=tq),Ze.init(e,t)});function qq(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const Xq=q("$ZodJWT",(e,t)=>{Ze.init(e,t),e._zod.check=n=>{qq(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),YR=q("$ZodNumber",(e,t)=>{rt.init(e,t),e._zod.pattern=e._zod.bag.pattern??iq,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),Wq=q("$ZodNumber",(e,t)=>{fq.init(e,t),YR.init(e,t)}),Kq=q("$ZodBoolean",(e,t)=>{rt.init(e,t),e._zod.pattern=lq,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),Qq=q("$ZodUnknown",(e,t)=>{rt.init(e,t),e._zod.parse=n=>n}),Jq=q("$ZodNever",(e,t)=>{rt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function R1(e,t,n){e.issues.length&&t.issues.push(...Hv(n,e.issues)),t.value[n]=e.value}const eX=q("$ZodArray",(e,t)=>{rt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let s=0;s<a.length;s++){const i=a[s],l=t.element._zod.run({value:i,issues:[]},r);l instanceof Promise?o.push(l.then(u=>R1(u,n,s))):R1(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function Ru(e,t,n){e.issues.length&&t.issues.push(...Hv(n,e.issues)),t.value[n]=e.value}function j1(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Hv(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const tX=q("$ZodObject",(e,t)=>{rt.init(e,t);const n=DR(()=>{const d=Object.keys(t.shape);for(const m of d)if(!(t.shape[m]instanceof rt))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const h=EY(t.shape);return{shape:t.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(h)}});Be(e._zod,"propValues",()=>{const d=t.shape,h={};for(const m in d){const x=d[m]._zod;if(x.values){h[m]??(h[m]=new Set);for(const b of x.values)h[m].add(b)}}return h});const r=d=>{const h=new Nq(["shape","payload","ctx"]),m=n.value,x=g=>{const v=Xi(g);return`shape[${v}]._zod.run({ value: input[${v}], issues: [] }, ctx)`};h.write("const input = payload.value;");const b=Object.create(null);let S=0;for(const g of m.keys)b[g]=`key_${S++}`;h.write("const newResult = {}");for(const g of m.keys)if(m.optionalKeys.has(g)){const v=b[g];h.write(`const ${v} = ${x(g)};`);const w=Xi(g);h.write(`
        if (${v}.issues.length) {
          if (input[${w}] === undefined) {
            if (${w} in input) {
              newResult[${w}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${v}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${w}, ...iss.path] : [${w}],
              }))
            );
          }
        } else if (${v}.value === undefined) {
          if (${w} in input) newResult[${w}] = undefined;
        } else {
          newResult[${w}] = ${v}.value;
        }
        `)}else{const v=b[g];h.write(`const ${v} = ${x(g)};`),h.write(`
          if (${v}.issues.length) payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Xi(g)}, ...iss.path] : [${Xi(g)}]
          })));`),h.write(`newResult[${Xi(g)}] = ${v}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const y=h.compile();return(g,v)=>y(d,g,v)};let a;const o=Gg,s=!MR.jitless,l=s&&SY.value,u=t.catchall;let f;e._zod.parse=(d,h)=>{f??(f=n.value);const m=d.value;if(!o(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),d;const x=[];if(s&&l&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)a||(a=r(t.shape)),d=a(d,h);else{d.value={};const v=f.shape;for(const w of f.keys){const E=v[w],A=E._zod.run({value:m[w],issues:[]},h),N=E._zod.optin==="optional"&&E._zod.optout==="optional";A instanceof Promise?x.push(A.then(_=>N?j1(_,d,w,m):Ru(_,d,w))):N?j1(A,d,w,m):Ru(A,d,w)}}if(!u)return x.length?Promise.all(x).then(()=>d):d;const b=[],S=f.keySet,y=u._zod,g=y.def.type;for(const v of Object.keys(m)){if(S.has(v))continue;if(g==="never"){b.push(v);continue}const w=y.run({value:m[v],issues:[]},h);w instanceof Promise?x.push(w.then(E=>Ru(E,d,v))):Ru(w,d,v)}return b.length&&d.issues.push({code:"unrecognized_keys",keys:b,input:m,inst:e}),x.length?Promise.all(x).then(()=>d):d}});function M1(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(o=>Go(o,r,Uo())))}),t}const nX=q("$ZodUnion",(e,t)=>{rt.init(e,t),Be(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Be(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Be(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Be(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>Iv(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let a=!1;const o=[];for(const s of t.options){const i=s._zod.run({value:n.value,issues:[]},r);if(i instanceof Promise)o.push(i),a=!0;else{if(i.issues.length===0)return i;o.push(i)}}return a?Promise.all(o).then(s=>M1(s,n,e,r)):M1(o,n,e,r)}}),rX=q("$ZodIntersection",(e,t)=>{rt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,o=t.left._zod.run({value:a,issues:[]},r),s=t.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([l,u])=>D1(n,l,u)):D1(n,o,s)}});function Zg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Vg(e)&&Vg(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),a={...e,...t};for(const o of r){const s=Zg(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};a[o]=s.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],s=Zg(a,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function D1(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),_l(e))return e;const r=Zg(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const aX=q("$ZodEnum",(e,t)=>{rt.init(e,t);const n=xY(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>NY.has(typeof r)).map(r=>typeof r=="string"?vh(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),oX=q("$ZodTransform",(e,t)=>{rt.init(e,t),e._zod.parse=(n,r)=>{const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(s=>(n.value=s,n));if(a instanceof Promise)throw new ac;return n.value=a,n}}),sX=q("$ZodOptional",(e,t)=>{rt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Iv(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),iX=q("$ZodNullable",(e,t)=>{rt.init(e,t),Be(e._zod,"optin",()=>t.innerType._zod.optin),Be(e._zod,"optout",()=>t.innerType._zod.optout),Be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Iv(n.source)}|null)$`):void 0}),Be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),lX=q("$ZodDefault",(e,t)=>{rt.init(e,t),e._zod.optin="optional",Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>z1(o,t)):z1(a,t)}});function z1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const cX=q("$ZodPrefault",(e,t)=>{rt.init(e,t),e._zod.optin="optional",Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),uX=q("$ZodNonOptional",(e,t)=>{rt.init(e,t),Be(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>O1(o,e)):O1(a,e)}});function O1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const dX=q("$ZodCatch",(e,t)=>{rt.init(e,t),e._zod.optin="optional",Be(e._zod,"optout",()=>t.innerType._zod.optout),Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Go(s,r,Uo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>Go(o,r,Uo()))},input:n.value}),n.issues=[]),n)}}),fX=q("$ZodPipe",(e,t)=>{rt.init(e,t),Be(e._zod,"values",()=>t.in._zod.values),Be(e._zod,"optin",()=>t.in._zod.optin),Be(e._zod,"optout",()=>t.out._zod.optout),Be(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(o=>$1(o,t,r)):$1(a,t,r)}});function $1(e,t,n){return _l(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const hX=q("$ZodReadonly",(e,t)=>{rt.init(e,t),Be(e._zod,"propValues",()=>t.innerType._zod.propValues),Be(e._zod,"values",()=>t.innerType._zod.values),Be(e._zod,"optin",()=>t.innerType._zod.optin),Be(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(P1):P1(a)}});function P1(e){return e.value=Object.freeze(e.value),e}const mX=q("$ZodCustom",(e,t)=>{ln.init(e,t),rt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(o=>L1(o,n,r,e));L1(a,n,r,e)}});function L1(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(oc(a))}}class pX{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function gX(){return new pX}const ju=gX();function yX(e,t){return new e({type:"string",...se(t)})}function vX(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...se(t)})}function I1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...se(t)})}function xX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...se(t)})}function bX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...se(t)})}function wX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...se(t)})}function SX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...se(t)})}function NX(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...se(t)})}function EX(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...se(t)})}function _X(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...se(t)})}function CX(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...se(t)})}function AX(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...se(t)})}function kX(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...se(t)})}function TX(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...se(t)})}function RX(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...se(t)})}function jX(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...se(t)})}function MX(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...se(t)})}function DX(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...se(t)})}function zX(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...se(t)})}function OX(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...se(t)})}function $X(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...se(t)})}function PX(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...se(t)})}function LX(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...se(t)})}function IX(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...se(t)})}function BX(e,t){return new e({type:"string",format:"date",check:"string_format",...se(t)})}function HX(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...se(t)})}function FX(e,t){return new e({type:"string",format:"duration",check:"string_format",...se(t)})}function UX(e,t){return new e({type:"number",checks:[],...se(t)})}function GX(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...se(t)})}function VX(e,t){return new e({type:"boolean",...se(t)})}function ZX(e){return new e({type:"unknown"})}function YX(e,t){return new e({type:"never",...se(t)})}function B1(e,t){return new GR({check:"less_than",...se(t),value:e,inclusive:!1})}function Im(e,t){return new GR({check:"less_than",...se(t),value:e,inclusive:!0})}function H1(e,t){return new VR({check:"greater_than",...se(t),value:e,inclusive:!1})}function Bm(e,t){return new VR({check:"greater_than",...se(t),value:e,inclusive:!0})}function F1(e,t){return new dq({check:"multiple_of",...se(t),value:e})}function qR(e,t){return new hq({check:"max_length",...se(t),maximum:e})}function df(e,t){return new mq({check:"min_length",...se(t),minimum:e})}function XR(e,t){return new pq({check:"length_equals",...se(t),length:e})}function qX(e,t){return new gq({check:"string_format",format:"regex",...se(t),pattern:e})}function XX(e){return new yq({check:"string_format",format:"lowercase",...se(e)})}function WX(e){return new vq({check:"string_format",format:"uppercase",...se(e)})}function KX(e,t){return new xq({check:"string_format",format:"includes",...se(t),includes:e})}function QX(e,t){return new bq({check:"string_format",format:"starts_with",...se(t),prefix:e})}function JX(e,t){return new wq({check:"string_format",format:"ends_with",...se(t),suffix:e})}function Fc(e){return new Sq({check:"overwrite",tx:e})}function eW(e){return Fc(t=>t.normalize(e))}function tW(){return Fc(e=>e.trim())}function nW(){return Fc(e=>e.toLowerCase())}function rW(){return Fc(e=>e.toUpperCase())}function aW(e,t,n){return new e({type:"array",element:t,...se(n)})}function oW(e,t,n){return new e({type:"custom",check:"custom",fn:t,...se(n)})}const sW=q("ZodISODateTime",(e,t)=>{$q.init(e,t),Qe.init(e,t)});function iW(e){return IX(sW,e)}const lW=q("ZodISODate",(e,t)=>{Pq.init(e,t),Qe.init(e,t)});function cW(e){return BX(lW,e)}const uW=q("ZodISOTime",(e,t)=>{Lq.init(e,t),Qe.init(e,t)});function dW(e){return HX(uW,e)}const fW=q("ZodISODuration",(e,t)=>{Iq.init(e,t),Qe.init(e,t)});function hW(e){return FX(fW,e)}const mW=(e,t)=>{$R.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>DY(e,n)},flatten:{value:n=>MY(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},bh=q("ZodError",mW,{Parent:Error}),pW=zY(bh),gW=OY(bh),yW=LR(bh),vW=IR(bh),dt=q("ZodType",(e,t)=>(rt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>es(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>pW(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>yW(e,n,r),e.parseAsync=async(n,r)=>gW(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>vW(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(dK(n,r)),e.superRefine=n=>e.check(fK(n)),e.overwrite=n=>e.check(Fc(n)),e.optional=()=>Z1(e),e.nullable=()=>Y1(e),e.nullish=()=>Z1(Y1(e)),e.nonoptional=n=>rK(e,n),e.array=()=>Vo(e),e.or=n=>ZW([e,n]),e.and=n=>qW(e,n),e.transform=n=>q1(e,KW(n)),e.default=n=>eK(e,n),e.prefault=n=>nK(e,n),e.catch=n=>oK(e,n),e.pipe=n=>q1(e,n),e.readonly=()=>lK(e),e.describe=n=>{const r=e.clone();return ju.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=ju.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ju.get(e);const r=e.clone();return ju.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),WR=q("_ZodString",(e,t)=>{Uv.init(e,t),dt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(qX(...r)),e.includes=(...r)=>e.check(KX(...r)),e.startsWith=(...r)=>e.check(QX(...r)),e.endsWith=(...r)=>e.check(JX(...r)),e.min=(...r)=>e.check(df(...r)),e.max=(...r)=>e.check(qR(...r)),e.length=(...r)=>e.check(XR(...r)),e.nonempty=(...r)=>e.check(df(1,...r)),e.lowercase=r=>e.check(XX(r)),e.uppercase=r=>e.check(WX(r)),e.trim=()=>e.check(tW()),e.normalize=(...r)=>e.check(eW(...r)),e.toLowerCase=()=>e.check(nW()),e.toUpperCase=()=>e.check(rW())}),xW=q("ZodString",(e,t)=>{Uv.init(e,t),WR.init(e,t),e.email=n=>e.check(vX(bW,n)),e.url=n=>e.check(NX(wW,n)),e.jwt=n=>e.check(LX($W,n)),e.emoji=n=>e.check(EX(SW,n)),e.guid=n=>e.check(I1(U1,n)),e.uuid=n=>e.check(xX(Mu,n)),e.uuidv4=n=>e.check(bX(Mu,n)),e.uuidv6=n=>e.check(wX(Mu,n)),e.uuidv7=n=>e.check(SX(Mu,n)),e.nanoid=n=>e.check(_X(NW,n)),e.guid=n=>e.check(I1(U1,n)),e.cuid=n=>e.check(CX(EW,n)),e.cuid2=n=>e.check(AX(_W,n)),e.ulid=n=>e.check(kX(CW,n)),e.base64=n=>e.check(OX(DW,n)),e.base64url=n=>e.check($X(zW,n)),e.xid=n=>e.check(TX(AW,n)),e.ksuid=n=>e.check(RX(kW,n)),e.ipv4=n=>e.check(jX(TW,n)),e.ipv6=n=>e.check(MX(RW,n)),e.cidrv4=n=>e.check(DX(jW,n)),e.cidrv6=n=>e.check(zX(MW,n)),e.e164=n=>e.check(PX(OW,n)),e.datetime=n=>e.check(iW(n)),e.date=n=>e.check(cW(n)),e.time=n=>e.check(dW(n)),e.duration=n=>e.check(hW(n))});function Gt(e){return yX(xW,e)}const Qe=q("ZodStringFormat",(e,t)=>{Ze.init(e,t),WR.init(e,t)}),bW=q("ZodEmail",(e,t)=>{Aq.init(e,t),Qe.init(e,t)}),U1=q("ZodGUID",(e,t)=>{_q.init(e,t),Qe.init(e,t)}),Mu=q("ZodUUID",(e,t)=>{Cq.init(e,t),Qe.init(e,t)}),wW=q("ZodURL",(e,t)=>{kq.init(e,t),Qe.init(e,t)}),SW=q("ZodEmoji",(e,t)=>{Tq.init(e,t),Qe.init(e,t)}),NW=q("ZodNanoID",(e,t)=>{Rq.init(e,t),Qe.init(e,t)}),EW=q("ZodCUID",(e,t)=>{jq.init(e,t),Qe.init(e,t)}),_W=q("ZodCUID2",(e,t)=>{Mq.init(e,t),Qe.init(e,t)}),CW=q("ZodULID",(e,t)=>{Dq.init(e,t),Qe.init(e,t)}),AW=q("ZodXID",(e,t)=>{zq.init(e,t),Qe.init(e,t)}),kW=q("ZodKSUID",(e,t)=>{Oq.init(e,t),Qe.init(e,t)}),TW=q("ZodIPv4",(e,t)=>{Bq.init(e,t),Qe.init(e,t)}),RW=q("ZodIPv6",(e,t)=>{Hq.init(e,t),Qe.init(e,t)}),jW=q("ZodCIDRv4",(e,t)=>{Fq.init(e,t),Qe.init(e,t)}),MW=q("ZodCIDRv6",(e,t)=>{Uq.init(e,t),Qe.init(e,t)}),DW=q("ZodBase64",(e,t)=>{Gq.init(e,t),Qe.init(e,t)}),zW=q("ZodBase64URL",(e,t)=>{Zq.init(e,t),Qe.init(e,t)}),OW=q("ZodE164",(e,t)=>{Yq.init(e,t),Qe.init(e,t)}),$W=q("ZodJWT",(e,t)=>{Xq.init(e,t),Qe.init(e,t)}),KR=q("ZodNumber",(e,t)=>{YR.init(e,t),dt.init(e,t),e.gt=(r,a)=>e.check(H1(r,a)),e.gte=(r,a)=>e.check(Bm(r,a)),e.min=(r,a)=>e.check(Bm(r,a)),e.lt=(r,a)=>e.check(B1(r,a)),e.lte=(r,a)=>e.check(Im(r,a)),e.max=(r,a)=>e.check(Im(r,a)),e.int=r=>e.check(G1(r)),e.safe=r=>e.check(G1(r)),e.positive=r=>e.check(H1(0,r)),e.nonnegative=r=>e.check(Bm(0,r)),e.negative=r=>e.check(B1(0,r)),e.nonpositive=r=>e.check(Im(0,r)),e.multipleOf=(r,a)=>e.check(F1(r,a)),e.step=(r,a)=>e.check(F1(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function _o(e){return UX(KR,e)}const PW=q("ZodNumberFormat",(e,t)=>{Wq.init(e,t),KR.init(e,t)});function G1(e){return GX(PW,e)}const LW=q("ZodBoolean",(e,t)=>{Kq.init(e,t),dt.init(e,t)});function IW(e){return VX(LW,e)}const BW=q("ZodUnknown",(e,t)=>{Qq.init(e,t),dt.init(e,t)});function V1(){return ZX(BW)}const HW=q("ZodNever",(e,t)=>{Jq.init(e,t),dt.init(e,t)});function FW(e){return YX(HW,e)}const UW=q("ZodArray",(e,t)=>{eX.init(e,t),dt.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(df(n,r)),e.nonempty=n=>e.check(df(1,n)),e.max=(n,r)=>e.check(qR(n,r)),e.length=(n,r)=>e.check(XR(n,r)),e.unwrap=()=>e.element});function Vo(e,t){return aW(UW,e,t)}const GW=q("ZodObject",(e,t)=>{tX.init(e,t),dt.init(e,t),Be(e,"shape",()=>t.shape),e.keyof=()=>XW(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:V1()}),e.loose=()=>e.clone({...e._zod.def,catchall:V1()}),e.strict=()=>e.clone({...e._zod.def,catchall:FW()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>kY(e,n),e.merge=n=>TY(e,n),e.pick=n=>CY(e,n),e.omit=n=>AY(e,n),e.partial=(...n)=>RY(QR,e,n[0]),e.required=(...n)=>jY(JR,e,n[0])});function xa(e,t){const n={type:"object",get shape(){return Bv(this,"shape",{...e}),this.shape},...se(t)};return new GW(n)}const VW=q("ZodUnion",(e,t)=>{nX.init(e,t),dt.init(e,t),e.options=t.options});function ZW(e,t){return new VW({type:"union",options:e,...se(t)})}const YW=q("ZodIntersection",(e,t)=>{rX.init(e,t),dt.init(e,t)});function qW(e,t){return new YW({type:"intersection",left:e,right:t})}const Yg=q("ZodEnum",(e,t)=>{aX.init(e,t),dt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Yg({...t,checks:[],...se(a),entries:o})},e.exclude=(r,a)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new Yg({...t,checks:[],...se(a),entries:o})}});function XW(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Yg({type:"enum",entries:n,...se(t)})}const WW=q("ZodTransform",(e,t)=>{oX.init(e,t),dt.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(oc(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),n.issues.push(oc(s))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function KW(e){return new WW({type:"transform",transform:e})}const QR=q("ZodOptional",(e,t)=>{sX.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Z1(e){return new QR({type:"optional",innerType:e})}const QW=q("ZodNullable",(e,t)=>{iX.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Y1(e){return new QW({type:"nullable",innerType:e})}const JW=q("ZodDefault",(e,t)=>{lX.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function eK(e,t){return new JW({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const tK=q("ZodPrefault",(e,t)=>{cX.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nK(e,t){return new tK({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const JR=q("ZodNonOptional",(e,t)=>{uX.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rK(e,t){return new JR({type:"nonoptional",innerType:e,...se(t)})}const aK=q("ZodCatch",(e,t)=>{dX.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function oK(e,t){return new aK({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const sK=q("ZodPipe",(e,t)=>{fX.init(e,t),dt.init(e,t),e.in=t.in,e.out=t.out});function q1(e,t){return new sK({type:"pipe",in:e,out:t})}const iK=q("ZodReadonly",(e,t)=>{hX.init(e,t),dt.init(e,t)});function lK(e){return new iK({type:"readonly",innerType:e})}const cK=q("ZodCustom",(e,t)=>{mX.init(e,t),dt.init(e,t)});function uK(e){const t=new ln({check:"custom"});return t._zod.check=e,t}function dK(e,t={}){return oW(cK,e,t)}function fK(e){const t=uK(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(oc(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(oc(a))}},e(n.value,n)));return t}const hK=xa({type:Gt(),id:Gt()}),mK=xa({skill:Gt(),level:_o()}),pK=xa({skillLevel:mK.optional(),items:Vo(hK).optional()}),gK=xa({base:Gt(),subtext:Gt()}),yK=xa({rank:_o(),edid:Gt(),name:Gt(),description:gK,prerequisites:pK}),vK=xa({x:_o(),y:_o(),horizontal:_o(),vertical:_o()}),xK=xa({parents:Vo(Gt()),children:Vo(Gt())}),bK=xa({edid:Gt(),name:Gt(),ranks:Vo(yK),totalRanks:_o(),connections:xK,isRoot:IW(),position:vK}),ej=xa({treeId:Gt(),treeName:Gt(),treeDescription:Gt(),category:Gt(),perks:Vo(bK)});Vo(ej);const wK=e=>ej.parse(e);function SK(e){try{return{success:!0,data:wK(e)}}catch(t){return{success:!1,error:t}}}function NK(e){const t=new Set,n=[],r=(a,o)=>{if(t.has(a))return;t.add(a),o.push(e.find(i=>i.edid===a));const s=e.find(i=>i.edid===a);s.connection.children.forEach(i=>{e.some(l=>l.edid===i)&&r(i,o)}),s.connection.parents.forEach(i=>{e.some(l=>l.edid===i)&&r(i,o)})};return e.forEach(a=>{if(!t.has(a.edid)){const o=[];r(a.edid,o),n.push(o)}}),n}function EK(e,t){try{if(console.log("=== STARTING CLEAN HIERARCHICAL LAYOUT ==="),console.log(`Total perks to layout: ${e.length}`),e.length===0)return console.log("No perks to layout, returning empty array"),[];console.log("=== STEP 1: IDENTIFYING TREES ===");const n=NK(e);console.log(`Found ${n.length} trees:`,n.map(i=>i.map(l=>l.edid.split("_").pop()))),console.log("=== STEP 2: BUILDING HIERARCHY ===");const r=n.map(i=>_K(i));console.log("=== STEP 3: LAYOUTING TREES ===");const a=r.map((i,l)=>(console.log(`Layouting tree ${l+1} with ${i.nodes.size} nodes`),CK(i,t)));console.log("=== STEP 4: POSITIONING TREES AS SIBLINGS ===");const o=kK(a,t);console.log("=== STEP 5: APPLYING MILD FORCES ===");const s=tj(o,t);return console.log("Clean hierarchical layout completed"),console.log("Final positions:",s.map(i=>`${i.id}: (${i.x.toFixed(0)}, ${i.y.toFixed(0)})`)),s}catch(n){return console.error("Error in hierarchical layout algorithm:",n),e.map(r=>({id:r.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function _K(e){const t=new Map;e.forEach(i=>{t.set(i.edid,{perk:i,depth:-1,children:i.connection.children,parents:i.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((i,l)=>{i.parents.length===0&&n.push(l)}),console.log(`  Tree has ${n.length} roots:`,n.map(i=>i.split("_").pop()));const r=n.map(i=>({id:i,depth:0})),a=new Set;for(;r.length>0;){const{id:i,depth:l}=r.shift();if(a.has(i))continue;a.add(i);const u=t.get(i);u&&((u.depth===-1||l<u.depth)&&(u.depth=l),u.children.forEach(f=>{t.has(f)&&!a.has(f)&&r.push({id:f,depth:l+1})}))}console.log("  Second pass: Handling multi-parent nodes at different levels");let o=!0,s=0;for(;o&&s<10;)o=!1,s++,t.forEach((i,l)=>{if(i.parents.length>1){const u=i.parents.map(f=>{const d=t.get(f);return d?d.depth:-1}).filter(f=>f!==-1);if(u.length>0){const d=Math.min(...u)+1;i.depth!==d&&(console.log(`    ${l.split("_").pop()}: depth ${i.depth} -> ${d} (parents: ${i.parents.map(h=>h.split("_").pop()).join(", ")})`),i.depth=d,o=!0)}}});return console.log("  Third pass: Ensuring children are at higher depth than parents"),t.forEach((i,l)=>{i.children.forEach(u=>{const f=t.get(u);if(f&&f.depth<=i.depth){const d=i.depth+1;console.log(`    ${u.split("_").pop()}: depth ${f.depth} -> ${d} (child of ${l.split("_").pop()} at depth ${i.depth})`),f.depth=d}})}),s>=10&&console.log("  Warning: Depth calculation reached maximum iterations"),{nodes:t,roots:n}}function CK(e,t){const{nodes:n,roots:r}=e;console.log(`Layout single tree with ${n.size} nodes and ${r.length} roots`);const a=[];if(n.forEach((d,h)=>{a.push({id:h,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:d.children})}),a.some(d=>{try{const h=new Set,m=qg(d.id,n,t,h);return!1}catch{return console.log(`Circular reference detected in tree, will use original positions for ${d.id}`),!0}}))return console.log("Using original position data due to circular references"),console.log(`Tree has ${a.length} nodes, checking original positions...`),a.forEach(d=>{const h=n.get(d.id);if(h&&h.perk){const m=h.perk.position.x*t.gridScaleX,x=-h.perk.position.y*t.gridScaleY;console.log(`${d.id.split("_").pop()}: original pos (${h.perk.position.x}, ${h.perk.position.y}) -> scaled (${m.toFixed(0)}, ${x.toFixed(0)})`),d.x=m,d.y=x,d.originalX=m,d.originalY=x}else console.warn(`No original position data for node: ${d.id}`)}),AK(a,t),a;console.log("No circular references detected, using hierarchical layout");const s=a.filter(d=>!a.some(m=>{var x;return m.id!==d.id&&((x=m.children)==null?void 0:x.includes(d.id))}));console.log(`Found ${s.length} root nodes: ${s.map(d=>d.id.split("_").pop()).join(", ")}`),s.forEach(d=>{d.y=0,d.originalY=0});const i=new Set,l=s.map(d=>({node:d,depth:0}));for(;l.length>0;){const{node:d,depth:h}=l.shift();i.has(d.id)||(i.add(d.id),h>0&&(d.y=-h*t.verticalSpacing,d.originalY=d.y),d.children&&d.children.forEach(m=>{const x=a.find(b=>b.id===m);x&&!i.has(m)&&l.push({node:x,depth:h+1})}))}const u=new Map;return a.forEach(d=>{const h=Math.round(d.y/t.verticalSpacing);u.has(h)||u.set(h,[]),u.get(h).push(d)}),Array.from(u.keys()).sort((d,h)=>h-d).forEach(d=>{u.get(d).forEach(m=>{if(m.children){const x=new Map;m.children.forEach(b=>{const S=a.find(y=>y.id===b);if(S){const y=a.filter(g=>{var v;return((v=g.children)==null?void 0:v.includes(b))&&Math.abs(g.y-S.y)===t.verticalSpacing});y.length>0&&y.some(g=>g.id===m.id)&&(x.has(m.id)||x.set(m.id,[]),x.get(m.id).push(S))}}),x.forEach((b,S)=>{if(b.length>0){const y=a.find(g=>g.id===S);if(y){const g=b.map(N=>{const _=qg(N.id,n,t);return{child:N,subtreeWidth:_}}),v=g.reduce((N,{subtreeWidth:_})=>N+_,0),w=(b.length-1)*t.horizontalSpacing,E=v+w;let A=y.x-E/2;g.forEach(({child:N,subtreeWidth:_})=>{N.x=A+_/2,N.originalX=N.x,A+=_+t.horizontalSpacing})}}})}})}),tj(a,t),a}function tj(e,t){console.log("=== APPLYING MILD FORCES ===");const n=.03,r=.02,a=t.horizontalSpacing*.4,o=new Map;e.forEach(s=>{o.set(s.id,{x:s.x,y:s.y})});for(let s=0;s<5;s++){let i=0;for(let l=0;l<e.length;l++)for(let u=l+1;u<e.length;u++){const f=e[l],d=e[u],h=f.x+t.nodeWidth*.5,m=f.y+t.nodeHeight*.5,x=d.x+t.nodeWidth*.5,b=d.y+t.nodeHeight*.5,S=x-h,y=b-m,g=Math.sqrt(S*S+y*y);if(g<a&&g>0){const v=S/g*n,w=y/g*n;f.x-=v,f.y-=w,d.x+=v,d.y+=w,i++,s===0&&console.log(`   Repulsion between ${f.id.split("_").pop()} and ${d.id.split("_").pop()}: force=(${v.toFixed(2)}, ${w.toFixed(2)})`)}}if(console.log(`  Iteration ${s+1}: Applied repulsion to ${i} node pairs`),i===0){console.log(`  No more repulsion needed after iteration ${s+1}`);break}}return console.log("=== APPLYING ATTRACTION WITH DEPTH CONSTRAINTS ==="),e.forEach(s=>{const i=o.get(s.id);if(!i)return;const l=i.x-s.x,u=i.y-s.y,f=s.x+l*r,d=s.y+u*r,m=Math.round(i.y/t.verticalSpacing)*t.verticalSpacing,x=Math.max(d,m);(Math.abs(x-s.y)>1||Math.abs(f-s.x)>1)&&console.log(`   Attraction for ${s.id.split("_").pop()}: x=${s.x.toFixed(0)}->${f.toFixed(0)}, y=${s.y.toFixed(0)}->${x.toFixed(0)} (depth constraint: ${m.toFixed(0)})`),s.x=f,s.y=x,s.originalX=f,s.originalY=x}),console.log("Mild forces completed"),e}function AK(e,t){console.log("=== APPLYING CIRCULAR TREE FORCES ===");const n=.08,r=.03,a=t.nodeHeight*.8,o=50,s=new Map;e.forEach(u=>{s.set(u.id,{x:u.x,y:u.y})}),console.log("=== PHASE 1: VERTICAL-ONLY REPULSION ===");let i=0,l=1;for(;l>0&&i<o;){i++,l=0;let u=0;for(let f=0;f<e.length;f++)for(let d=f+1;d<e.length;d++){const h=e[f],m=e[d],x=Math.max(0,Math.min(h.x+t.nodeWidth,m.x+t.nodeWidth)-Math.max(h.x,m.x)),b=Math.max(0,Math.min(h.y+t.nodeHeight,m.y+t.nodeHeight)-Math.max(h.y,m.y)),S=h.y+t.nodeHeight*.5,y=m.y+t.nodeHeight*.5,g=Math.abs(y-S),v=g<a;if(x>0&&b>0||v){l++;let w=0;x>0&&b>0?w=b*n:v&&(w=(a-g)*n),h.y<m.y?(h.y-=w,m.y+=w):(h.y+=w,m.y-=w),u=Math.max(u,w),i===1&&(x>0&&b>0?console.log(`   Vertical repulsion (overlap) between ${h.id.split("_").pop()} and ${m.id.split("_").pop()}: forceY=${w.toFixed(2)}`):console.log(`   Vertical separation between ${h.id.split("_").pop()} and ${m.id.split("_").pop()}: forceY=${w.toFixed(2)}`))}}if(console.log(`  Iteration ${i}: ${l} touching/close pairs, max force: ${u.toFixed(2)}`),l===0){console.log(`  No more touching or close nodes after iteration ${i}`);break}}return i>=o&&console.log(`  Warning: Reached maximum iterations (${o}) with ${l} still touching/close`),console.log("=== PHASE 2: VERTICAL ATTRACTION TO ORIGINAL POSITIONS ==="),e.forEach(u=>{const f=s.get(u.id);if(!f)return;const d=f.y-u.y,h=u.y+d*r;Math.abs(h-u.y)>1&&console.log(`   Vertical attraction for ${u.id.split("_").pop()}: y=${u.y.toFixed(0)}->${h.toFixed(0)}`),u.y=h,u.originalY=h}),console.log("Circular tree forces completed"),e}function kK(e,t){console.log(`Positioning ${e.length} trees as siblings`);const n=[],r=e.map((l,u)=>{const f=Math.max(...l.map(w=>w.y)),d=l.filter(w=>Math.abs(w.y-f)<1),h=d.map(w=>w.x),m=Math.min(...h),x=Math.max(...h),b=x-m,S=h.reduce((w,E)=>w+E,0)/h.length,y=Math.min(...l.map(w=>w.x)),g=Math.max(...l.map(w=>w.x+w.width)),v=g-y;return{treeIndex:u,treeNodes:l,rootNodes:d,minRootX:m,maxRootX:x,rootWidth:b,rootCenterX:S,minX:y,maxX:g,treeWidth:v}}),a=Math.min(...r.map(l=>l.minRootX)),o=Math.max(...r.map(l=>l.maxRootX)),s=o-a;console.log(`Overall root range: ${a.toFixed(0)} to ${o.toFixed(0)} (width: ${s.toFixed(0)})`);let i=0;return r.forEach((l,u)=>{console.log(`  Tree ${u+1}: root range ${l.minRootX.toFixed(0)}-${l.maxRootX.toFixed(0)}, tree width=${l.treeWidth.toFixed(0)}`),console.log(`    Root nodes: ${l.rootNodes.map(h=>h.id.split("_").pop()).join(", ")}`);const f=s>0?l.rootWidth/s:1,d=l.minRootX-a;i-l.minX+d*f,l.treeNodes.forEach(h=>{const x=(h.x-l.minRootX)*f,b=i+x;n.push({...h,x:b,originalX:b})}),i+=l.treeWidth*f+t.horizontalSpacing}),n}function qg(e,t,n,r=new Set){if(r.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const a=t.get(e);if(!a)return n.nodeWidth;r.add(e);const o=a.children||[],s=o.map(l=>qg(l,t,n,new Set(r)));if(s.length===0)return n.nodeWidth;let i=0;return s.forEach((l,u)=>{i+=l,u<o.length-1&&(i+=n.horizontalSpacing)}),Math.max(i,n.nodeWidth)}function TK(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const RK=(e,t)=>n=>c.jsx(vY,{...n,onTogglePerk:e,onRankChange:t}),jK=(e,t)=>({perkNode:RK(e,t)});function nj({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:r}){const[a,o]=D.useState(null),s=D.useCallback((w,E)=>{console.log(` Node ${E.id} moved to: (${E.position.x.toFixed(0)}, ${E.position.y.toFixed(0)})`)},[]),i=p.useMemo(()=>{if(!e)return null;const w=SK(e);return w.success?w.data:(console.error("Invalid perk tree data:",w.error),null)},[e]),l=p.useMemo(()=>jK(t,n),[t,n]),u=p.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),f=p.useMemo(()=>{if(!i)return[];const w=TK(i);return EK(w,u)},[i,u]),d=p.useMemo(()=>!i||f.length===0?[]:i.perks.map(w=>{const E=w.edid,A=f.find(k=>k.id===E),N=A?{x:A.x,y:A.y}:{x:0,y:0},_=w.connections.children.length>0,C=w.connections.parents.length===0;return{id:E,type:"perkNode",position:N,draggable:!0,data:{...w,selected:!1,hasChildren:_,isRoot:C}}}),[i,f]),h=p.useMemo(()=>{if(!i)return[];const w=[];return i.perks.forEach(E=>{const A=E.edid;E.connections.children.length>0&&E.connections.children.forEach(N=>{if(N===A)return;i.perks.some(C=>C.edid===N)&&w.push({id:`${A}-${N}`,source:A,target:N,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),w},[i]),[m,x,b]=tY(d),[S,y,g]=nY(h);D.useEffect(()=>{x(d)},[d,x]),D.useEffect(()=>{i&&x(w=>w.map(E=>{const A=r.find(_=>_.edid===E.id),N=A!==void 0;return{...E,data:{...E.data,selected:N,currentRank:(A==null?void 0:A.currentRank)||0}}}))},[r,x,i]),D.useEffect(()=>{y(h)},[h,y]),D.useEffect(()=>{i&&m.length>0&&a&&setTimeout(()=>{a.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[i==null?void 0:i.treeId,a]);const v=p.useCallback(w=>y(E=>YT(w,E)),[y]);return i?c.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},children:[c.jsx("div",{className:"absolute top-2 right-2 z-10",children:c.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Algorithm v2"})}),c.jsxs(kR,{nodes:m,edges:S,onNodesChange:b,onEdgesChange:g,onConnect:v,onInit:o,nodeTypes:l,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:s,children:[c.jsx(yY,{}),c.jsx(uY,{})]})]}):c.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:c.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}const wh=p.createContext(null);wh.displayName="PanelGroupContext";const et={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Gv=10,zo=p.useLayoutEffect,X1=o0.useId,MK=typeof X1=="function"?X1:()=>null;let DK=0;function Vv(e=null){const t=MK(),n=p.useRef(e||t||null);return n.current===null&&(n.current=""+DK++),e??n.current}function rj({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:o,id:s,maxSize:i,minSize:l,onCollapse:u,onExpand:f,onResize:d,order:h,style:m,tagName:x="div",...b}){const S=p.useContext(wh);if(S===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:g,getPanelSize:v,getPanelStyle:w,groupId:E,isPanelCollapsed:A,reevaluatePanelConstraints:N,registerPanel:_,resizePanel:C,unregisterPanel:k}=S,j=Vv(s),B=p.useRef({callbacks:{onCollapse:u,onExpand:f,onResize:d},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:i,minSize:l},id:j,idIsFromProps:s!==void 0,order:h});p.useRef({didLogMissingDefaultSizeWarning:!1}),zo(()=>{const{callbacks:T,constraints:z}=B.current,R={...z};B.current.id=j,B.current.idIsFromProps=s!==void 0,B.current.order=h,T.onCollapse=u,T.onExpand=f,T.onResize=d,z.collapsedSize=n,z.collapsible=r,z.defaultSize=a,z.maxSize=i,z.minSize=l,(R.collapsedSize!==z.collapsedSize||R.collapsible!==z.collapsible||R.maxSize!==z.maxSize||R.minSize!==z.minSize)&&N(B.current,R)}),zo(()=>{const T=B.current;return _(T),()=>{k(T)}},[h,j,_,k]),p.useImperativeHandle(o,()=>({collapse:()=>{y(B.current)},expand:T=>{g(B.current,T)},getId(){return j},getSize(){return v(B.current)},isCollapsed(){return A(B.current)},isExpanded(){return!A(B.current)},resize:T=>{C(B.current,T)}}),[y,g,v,A,j,C]);const $=w(B.current,a);return p.createElement(x,{...b,children:e,className:t,id:j,style:{...$,...m},[et.groupId]:E,[et.panel]:"",[et.panelCollapsible]:r||void 0,[et.panelId]:j,[et.panelSize]:parseFloat(""+$.flexGrow).toFixed(1)})}const aj=p.forwardRef((e,t)=>p.createElement(rj,{...e,forwardedRef:t}));rj.displayName="Panel";aj.displayName="forwardRef(Panel)";let Xg=null,sd=-1,La=null;function zK(e,t){if(t){const n=(t&cj)!==0,r=(t&uj)!==0,a=(t&dj)!==0,o=(t&fj)!==0;if(n)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function OK(){La!==null&&(document.head.removeChild(La),Xg=null,La=null,sd=-1)}function Hm(e,t){var n,r;const a=zK(e,t);if(Xg!==a){if(Xg=a,La===null&&(La=document.createElement("style"),document.head.appendChild(La)),sd>=0){var o;(o=La.sheet)===null||o===void 0||o.removeRule(sd)}sd=(n=(r=La.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${a} !important;}`))!==null&&n!==void 0?n:-1}}function oj(e){return e.type==="keydown"}function sj(e){return e.type.startsWith("pointer")}function ij(e){return e.type.startsWith("mouse")}function Sh(e){if(sj(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(ij(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function $K(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function PK(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function LK(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:Q1(e),b:Q1(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;pe(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:K1(W1(n.a)),b:K1(W1(n.b))};if(a.a===a.b){const o=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let i=o.length;for(;i--;){const l=o[i];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(a.a-a.b)}const IK=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function BK(e){var t;const n=getComputedStyle((t=lj(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function HK(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||BK(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||IK.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function W1(e){let t=e.length;for(;t--;){const n=e[t];if(pe(n,"Missing node"),HK(n))return n}return null}function K1(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Q1(e){const t=[];for(;e;)t.push(e),e=lj(e);return t}function lj(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const cj=1,uj=2,dj=4,fj=8,FK=$K()==="coarse";let Jn=[],Ws=!1,Ia=new Map,Nh=new Map;const sc=new Set;function UK(e,t,n,r,a){var o;const{ownerDocument:s}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},l=(o=Ia.get(s))!==null&&o!==void 0?o:0;return Ia.set(s,l+1),sc.add(i),ff(),function(){var f;Nh.delete(e),sc.delete(i);const d=(f=Ia.get(s))!==null&&f!==void 0?f:1;if(Ia.set(s,d-1),ff(),d===1&&Ia.delete(s),Jn.includes(i)){const h=Jn.indexOf(i);h>=0&&Jn.splice(h,1),Yv(),a("up",!0,null)}}}function GK(e){const{target:t}=e,{x:n,y:r}=Sh(e);Ws=!0,Zv({target:t,x:n,y:r}),ff(),Jn.length>0&&(hf("down",e),e.preventDefault(),hj(t)||e.stopImmediatePropagation())}function Fm(e){const{x:t,y:n}=Sh(e);if(Ws&&e.buttons===0&&(Ws=!1,hf("up",e)),!Ws){const{target:r}=e;Zv({target:r,x:t,y:n})}hf("move",e),Yv(),Jn.length>0&&e.preventDefault()}function Um(e){const{target:t}=e,{x:n,y:r}=Sh(e);Nh.clear(),Ws=!1,Jn.length>0&&(e.preventDefault(),hj(t)||e.stopImmediatePropagation()),hf("up",e),Zv({target:t,x:n,y:r}),Yv(),ff()}function hj(e){let t=e;for(;t;){if(t.hasAttribute(et.resizeHandle))return!0;t=t.parentElement}return!1}function Zv({target:e,x:t,y:n}){Jn.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),sc.forEach(a=>{const{element:o,hitAreaMargins:s}=a,i=o.getBoundingClientRect(),{bottom:l,left:u,right:f,top:d}=i,h=FK?s.coarse:s.fine;if(t>=u-h&&t<=f+h&&n>=d-h&&n<=l+h){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&LK(r,o)>0){let x=r,b=!1;for(;x&&!x.contains(o);){if(PK(x.getBoundingClientRect(),i)){b=!0;break}x=x.parentElement}if(b)return}Jn.push(a)}})}function Gm(e,t){Nh.set(e,t)}function Yv(){let e=!1,t=!1;Jn.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let n=0;Nh.forEach(r=>{n|=r}),e&&t?Hm("intersection",n):e?Hm("horizontal",n):t?Hm("vertical",n):OK()}let Vm;function ff(){var e;(e=Vm)===null||e===void 0||e.abort(),Vm=new AbortController;const t={capture:!0,signal:Vm.signal};sc.size&&(Ws?(Jn.length>0&&Ia.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("contextmenu",Um,t),a.addEventListener("pointerleave",Fm,t),a.addEventListener("pointermove",Fm,t))}),Ia.forEach((n,r)=>{const{body:a}=r;a.addEventListener("pointerup",Um,t),a.addEventListener("pointercancel",Um,t)})):Ia.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("pointerdown",GK,t),a.addEventListener("pointermove",Fm,t))}))}function hf(e,t){sc.forEach(n=>{const{setResizeHandlerState:r}=n,a=Jn.includes(n);r(e,a,t)})}function VK(){const[e,t]=p.useState(0);return p.useCallback(()=>t(n=>n+1),[])}function pe(e,t){if(!e)throw console.error(t),Error(t)}function Zo(e,t,n=Gv){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Yr(e,t,n=Gv){return Zo(e,t,n)===0}function mn(e,t,n){return Zo(e,t,n)===0}function ZK(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!mn(a,o,n))return!1}return!0}function Ds({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];pe(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:s=100,minSize:i=0}=r;if(Zo(n,i)<0)if(o){const l=(a+i)/2;Zo(n,l)<0?n=a:n=i}else n=i;return n=Math.min(s,n),n=parseFloat(n.toFixed(Gv)),n}function sl({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:o}){if(mn(e,0))return t;const s=[...t],[i,l]=r;pe(i!=null,"Invalid first pivot index"),pe(l!=null,"Invalid second pivot index");let u=0;if(o==="keyboard"){{const d=e<0?l:i,h=n[d];pe(h,`Panel constraints not found for index ${d}`);const{collapsedSize:m=0,collapsible:x,minSize:b=0}=h;if(x){const S=t[d];if(pe(S!=null,`Previous layout not found for panel index ${d}`),mn(S,m)){const y=b-S;Zo(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}{const d=e<0?i:l,h=n[d];pe(h,`No panel constraints found for index ${d}`);const{collapsedSize:m=0,collapsible:x,minSize:b=0}=h;if(x){const S=t[d];if(pe(S!=null,`Previous layout not found for panel index ${d}`),mn(S,b)){const y=S-m;Zo(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}}{const d=e<0?1:-1;let h=e<0?l:i,m=0;for(;;){const b=t[h];pe(b!=null,`Previous layout not found for panel index ${h}`);const y=Ds({panelConstraints:n,panelIndex:h,size:100})-b;if(m+=y,h+=d,h<0||h>=n.length)break}const x=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-x:x}{let h=e<0?i:l;for(;h>=0&&h<n.length;){const m=Math.abs(e)-Math.abs(u),x=t[h];pe(x!=null,`Previous layout not found for panel index ${h}`);const b=x-m,S=Ds({panelConstraints:n,panelIndex:h,size:b});if(!mn(x,S)&&(u+=x-S,s[h]=S,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?h--:h++}}if(ZK(a,s))return a;{const d=e<0?l:i,h=t[d];pe(h!=null,`Previous layout not found for panel index ${d}`);const m=h+u,x=Ds({panelConstraints:n,panelIndex:d,size:m});if(s[d]=x,!mn(x,m)){let b=m-x,y=e<0?l:i;for(;y>=0&&y<n.length;){const g=s[y];pe(g!=null,`Previous layout not found for panel index ${y}`);const v=g+b,w=Ds({panelConstraints:n,panelIndex:y,size:v});if(mn(g,w)||(b-=w-g,s[y]=w),mn(b,0))break;e>0?y--:y++}}}const f=s.reduce((d,h)=>h+d,0);return mn(f,100)?s:a}function YK({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,o=0,s=0;const i=n[0];pe(i!=null,"No pivot index found"),t.forEach((d,h)=>{const{constraints:m}=d,{maxSize:x=100,minSize:b=0}=m;h===i?(r=b,a=x):(o+=b,s+=x)});const l=Math.min(a,100-o),u=Math.max(r,100-s),f=e[i];return{valueMax:l,valueMin:u,valueNow:f}}function ic(e,t=document){return Array.from(t.querySelectorAll(`[${et.resizeHandleId}][data-panel-group-id="${e}"]`))}function mj(e,t,n=document){const a=ic(e,n).findIndex(o=>o.getAttribute(et.resizeHandleId)===t);return a??null}function pj(e,t,n){const r=mj(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function qK(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function gj(e,t=document){if(qK(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function Eh(e,t=document){const n=t.querySelector(`[${et.resizeHandleId}="${e}"]`);return n||null}function XK(e,t,n,r=document){var a,o,s,i;const l=Eh(t,r),u=ic(e,r),f=l?u.indexOf(l):-1,d=(a=(o=n[f])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,h=(s=(i=n[f+1])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null;return[d,h]}function WK({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:s}){p.useRef({didWarnAboutMissingResizeHandle:!1}),zo(()=>{if(!o)return;const i=ic(n,o);for(let l=0;l<a.length-1;l++){const{valueMax:u,valueMin:f,valueNow:d}=YK({layout:r,panelsArray:a,pivotIndices:[l,l+1]}),h=i[l];if(h!=null){const m=a[l];pe(m,`No panel data found for index "${l}"`),h.setAttribute("aria-controls",m.id),h.setAttribute("aria-valuemax",""+Math.round(u)),h.setAttribute("aria-valuemin",""+Math.round(f)),h.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{i.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,a,o]),p.useEffect(()=>{if(!o)return;const i=t.current;pe(i,"Eager values not found");const{panelDataArray:l}=i,u=gj(n,o);pe(u!=null,`No group found for id "${n}"`);const f=ic(n,o);pe(f,`No resize handles found for group id "${n}"`);const d=f.map(h=>{const m=h.getAttribute(et.resizeHandleId);pe(m,"Resize handle element has no handle id attribute");const[x,b]=XK(n,m,l,o);if(x==null||b==null)return()=>{};const S=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const g=l.findIndex(v=>v.id===x);if(g>=0){const v=l[g];pe(v,`No panel data found for index ${g}`);const w=r[g],{collapsedSize:E=0,collapsible:A,minSize:N=0}=v.constraints;if(w!=null&&A){const _=sl({delta:mn(w,E)?N-E:E-w,initialLayout:r,panelConstraints:l.map(C=>C.constraints),pivotIndices:pj(n,m,o),prevLayout:r,trigger:"keyboard"});r!==_&&s(_)}}break}}};return h.addEventListener("keydown",S),()=>{h.removeEventListener("keydown",S)}});return()=>{d.forEach(h=>h())}},[o,e,t,n,r,a,s])}function J1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function yj(e,t){const n=e==="horizontal",{x:r,y:a}=Sh(t);return n?r:a}function KK(e,t,n,r,a){const o=n==="horizontal",s=Eh(t,a);pe(s,`No resize handle element found for id "${t}"`);const i=s.getAttribute(et.groupId);pe(i,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const u=yj(n,e),f=gj(i,a);pe(f,`No group element found for id "${i}"`);const d=f.getBoundingClientRect(),h=o?d.width:d.height;return(u-l)/h*100}function QK(e,t,n,r,a,o){if(oj(e)){const s=n==="horizontal";let i=0;e.shiftKey?i=100:a!=null?i=a:i=10;let l=0;switch(e.key){case"ArrowDown":l=s?0:i;break;case"ArrowLeft":l=s?-i:0;break;case"ArrowRight":l=s?i:0;break;case"ArrowUp":l=s?0:-i;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:KK(e,t,n,r,o)}function JK({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const s=n[o];pe(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;i!=null&&(r++,t[o]=i,a-=i)}for(let o=0;o<e.length;o++){const s=n[o];pe(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;if(i!=null)continue;const l=e.length-r,u=a/l;r++,t[o]=u,a-=u}return t}function fs(e,t,n){t.forEach((r,a)=>{const o=e[a];pe(o,`Panel data not found for index ${a}`);const{callbacks:s,constraints:i,id:l}=o,{collapsedSize:u=0,collapsible:f}=i,d=n[l];if(d==null||r!==d){n[l]=r;const{onCollapse:h,onExpand:m,onResize:x}=s;x&&x(r,d),f&&(h||m)&&(m&&(d==null||Yr(d,u))&&!Yr(r,u)&&m(),h&&(d==null||!Yr(d,u))&&Yr(r,u)&&h())}})}function Du(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function eQ({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:o=3}){const s=n[a];let i;return s==null?i=e!=null?e.toPrecision(o):"1":r.length===1?i="1":i=s.toPrecision(o),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function tQ(e,t=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...a)},t)}}function eS(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function vj(e){return`react-resizable-panels:${e}`}function xj(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function bj(e,t){try{const n=vj(e),r=t.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function nQ(e,t,n){var r,a;const o=(r=bj(e,n))!==null&&r!==void 0?r:{},s=xj(t);return(a=o[s])!==null&&a!==void 0?a:null}function rQ(e,t,n,r,a){var o;const s=vj(e),i=xj(t),l=(o=bj(e,a))!==null&&o!==void 0?o:{};l[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(s,JSON.stringify(l))}catch(u){console.error(u)}}function tS({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,s)=>o+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!mn(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const s=n[o];pe(s!=null,`No layout data found for index ${o}`);const i=100/r*s;n[o]=i}let a=0;for(let o=0;o<t.length;o++){const s=n[o];pe(s!=null,`No layout data found for index ${o}`);const i=Ds({panelConstraints:t,panelIndex:o,size:s});s!=i&&(a+=s-i,n[o]=i)}if(!mn(a,0))for(let o=0;o<t.length;o++){const s=n[o];pe(s!=null,`No layout data found for index ${o}`);const i=s+a,l=Ds({panelConstraints:t,panelIndex:o,size:i});if(s!==l&&(a-=l-s,n[o]=l,mn(a,0)))break}return n}const aQ=100,il={getItem:e=>(eS(il),il.getItem(e)),setItem:(e,t)=>{eS(il),il.setItem(e,t)}},nS={};function wj({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:o=null,onLayout:s=null,keyboardResizeBy:i=null,storage:l=il,style:u,tagName:f="div",...d}){const h=Vv(o),m=p.useRef(null),[x,b]=p.useState(null),[S,y]=p.useState([]),g=VK(),v=p.useRef({}),w=p.useRef(new Map),E=p.useRef(0),A=p.useRef({autoSaveId:e,direction:r,dragState:x,id:h,keyboardResizeBy:i,onLayout:s,storage:l}),N=p.useRef({layout:S,panelDataArray:[],panelDataArrayChanged:!1});p.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),p.useImperativeHandle(a,()=>({getId:()=>A.current.id,getLayout:()=>{const{layout:U}=N.current;return U},setLayout:U=>{const{onLayout:P}=A.current,{layout:H,panelDataArray:Z}=N.current,G=tS({layout:U,panelConstraints:Z.map(Y=>Y.constraints)});J1(H,G)||(y(G),N.current.layout=G,P&&P(G),fs(Z,G,v.current))}}),[]),zo(()=>{A.current.autoSaveId=e,A.current.direction=r,A.current.dragState=x,A.current.id=h,A.current.onLayout=s,A.current.storage=l}),WK({committedValuesRef:A,eagerValuesRef:N,groupId:h,layout:S,panelDataArray:N.current.panelDataArray,setLayout:y,panelGroupElement:m.current}),p.useEffect(()=>{const{panelDataArray:U}=N.current;if(e){if(S.length===0||S.length!==U.length)return;let P=nS[e];P==null&&(P=tQ(rQ,aQ),nS[e]=P);const H=[...U],Z=new Map(w.current);P(e,H,Z,S,l)}},[e,S,l]),p.useEffect(()=>{});const _=p.useCallback(U=>{const{onLayout:P}=A.current,{layout:H,panelDataArray:Z}=N.current;if(U.constraints.collapsible){const G=Z.map(he=>he.constraints),{collapsedSize:Y=0,panelSize:K,pivotIndices:Q}=po(Z,U,H);if(pe(K!=null,`Panel size not found for panel "${U.id}"`),!Yr(K,Y)){w.current.set(U.id,K);const me=xs(Z,U)===Z.length-1?K-Y:Y-K,ue=sl({delta:me,initialLayout:H,panelConstraints:G,pivotIndices:Q,prevLayout:H,trigger:"imperative-api"});Du(H,ue)||(y(ue),N.current.layout=ue,P&&P(ue),fs(Z,ue,v.current))}}},[]),C=p.useCallback((U,P)=>{const{onLayout:H}=A.current,{layout:Z,panelDataArray:G}=N.current;if(U.constraints.collapsible){const Y=G.map(ee=>ee.constraints),{collapsedSize:K=0,panelSize:Q=0,minSize:he=0,pivotIndices:me}=po(G,U,Z),ue=P??he;if(Yr(Q,K)){const ee=w.current.get(U.id),Re=ee!=null&&ee>=ue?ee:ue,Ne=xs(G,U)===G.length-1?Q-Re:Re-Q,J=sl({delta:Ne,initialLayout:Z,panelConstraints:Y,pivotIndices:me,prevLayout:Z,trigger:"imperative-api"});Du(Z,J)||(y(J),N.current.layout=J,H&&H(J),fs(G,J,v.current))}}},[]),k=p.useCallback(U=>{const{layout:P,panelDataArray:H}=N.current,{panelSize:Z}=po(H,U,P);return pe(Z!=null,`Panel size not found for panel "${U.id}"`),Z},[]),j=p.useCallback((U,P)=>{const{panelDataArray:H}=N.current,Z=xs(H,U);return eQ({defaultSize:P,dragState:x,layout:S,panelData:H,panelIndex:Z})},[x,S]),B=p.useCallback(U=>{const{layout:P,panelDataArray:H}=N.current,{collapsedSize:Z=0,collapsible:G,panelSize:Y}=po(H,U,P);return pe(Y!=null,`Panel size not found for panel "${U.id}"`),G===!0&&Yr(Y,Z)},[]),$=p.useCallback(U=>{const{layout:P,panelDataArray:H}=N.current,{collapsedSize:Z=0,collapsible:G,panelSize:Y}=po(H,U,P);return pe(Y!=null,`Panel size not found for panel "${U.id}"`),!G||Zo(Y,Z)>0},[]),T=p.useCallback(U=>{const{panelDataArray:P}=N.current;P.push(U),P.sort((H,Z)=>{const G=H.order,Y=Z.order;return G==null&&Y==null?0:G==null?-1:Y==null?1:G-Y}),N.current.panelDataArrayChanged=!0,g()},[g]);zo(()=>{if(N.current.panelDataArrayChanged){N.current.panelDataArrayChanged=!1;const{autoSaveId:U,onLayout:P,storage:H}=A.current,{layout:Z,panelDataArray:G}=N.current;let Y=null;if(U){const Q=nQ(U,G,H);Q&&(w.current=new Map(Object.entries(Q.expandToSizes)),Y=Q.layout)}Y==null&&(Y=JK({panelDataArray:G}));const K=tS({layout:Y,panelConstraints:G.map(Q=>Q.constraints)});J1(Z,K)||(y(K),N.current.layout=K,P&&P(K),fs(G,K,v.current))}}),zo(()=>{const U=N.current;return()=>{U.layout=[]}},[]);const z=p.useCallback(U=>{let P=!1;const H=m.current;return H&&window.getComputedStyle(H,null).getPropertyValue("direction")==="rtl"&&(P=!0),function(G){G.preventDefault();const Y=m.current;if(!Y)return()=>null;const{direction:K,dragState:Q,id:he,keyboardResizeBy:me,onLayout:ue}=A.current,{layout:ee,panelDataArray:Re}=N.current,{initialLayout:st}=Q??{},Ne=pj(he,U,Y);let J=QK(G,U,K,Q,me,Y);const Ye=K==="horizontal";Ye&&P&&(J=-J);const Ot=Re.map(Xt=>Xt.constraints),qt=sl({delta:J,initialLayout:st??ee,panelConstraints:Ot,pivotIndices:Ne,prevLayout:ee,trigger:oj(G)?"keyboard":"mouse-or-touch"}),Vn=!Du(ee,qt);(sj(G)||ij(G))&&E.current!=J&&(E.current=J,!Vn&&J!==0?Ye?Gm(U,J<0?cj:uj):Gm(U,J<0?dj:fj):Gm(U,0)),Vn&&(y(qt),N.current.layout=qt,ue&&ue(qt),fs(Re,qt,v.current))}},[]),R=p.useCallback((U,P)=>{const{onLayout:H}=A.current,{layout:Z,panelDataArray:G}=N.current,Y=G.map(ee=>ee.constraints),{panelSize:K,pivotIndices:Q}=po(G,U,Z);pe(K!=null,`Panel size not found for panel "${U.id}"`);const me=xs(G,U)===G.length-1?K-P:P-K,ue=sl({delta:me,initialLayout:Z,panelConstraints:Y,pivotIndices:Q,prevLayout:Z,trigger:"imperative-api"});Du(Z,ue)||(y(ue),N.current.layout=ue,H&&H(ue),fs(G,ue,v.current))},[]),L=p.useCallback((U,P)=>{const{layout:H,panelDataArray:Z}=N.current,{collapsedSize:G=0,collapsible:Y}=P,{collapsedSize:K=0,collapsible:Q,maxSize:he=100,minSize:me=0}=U.constraints,{panelSize:ue}=po(Z,U,H);ue!=null&&(Y&&Q&&Yr(ue,G)?Yr(G,K)||R(U,K):ue<me?R(U,me):ue>he&&R(U,he))},[R]),O=p.useCallback((U,P)=>{const{direction:H}=A.current,{layout:Z}=N.current;if(!m.current)return;const G=Eh(U,m.current);pe(G,`Drag handle element not found for id "${U}"`);const Y=yj(H,P);b({dragHandleId:U,dragHandleRect:G.getBoundingClientRect(),initialCursorPosition:Y,initialLayout:Z})},[]),M=p.useCallback(()=>{b(null)},[]),I=p.useCallback(U=>{const{panelDataArray:P}=N.current,H=xs(P,U);H>=0&&(P.splice(H,1),delete v.current[U.id],N.current.panelDataArrayChanged=!0,g())},[g]),F=p.useMemo(()=>({collapsePanel:_,direction:r,dragState:x,expandPanel:C,getPanelSize:k,getPanelStyle:j,groupId:h,isPanelCollapsed:B,isPanelExpanded:$,reevaluatePanelConstraints:L,registerPanel:T,registerResizeHandle:z,resizePanel:R,startDragging:O,stopDragging:M,unregisterPanel:I,panelGroupElement:m.current}),[_,x,r,C,k,j,h,B,$,L,T,z,R,O,M,I]),V={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return p.createElement(wh.Provider,{value:F},p.createElement(f,{...d,children:t,className:n,id:o,ref:m,style:{...V,...u},[et.group]:"",[et.groupDirection]:r,[et.groupId]:h}))}const Sj=p.forwardRef((e,t)=>p.createElement(wj,{...e,forwardedRef:t}));wj.displayName="PanelGroup";Sj.displayName="forwardRef(PanelGroup)";function xs(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function po(e,t,n){const r=xs(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:o}}function oQ({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){p.useEffect(()=>{if(e||n==null||r==null)return;const a=Eh(t,r);if(a==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const i=a.getAttribute(et.groupId);pe(i,`No group element found for id "${i}"`);const l=ic(i,r),u=mj(i,t,r);pe(u!==null,`No resize element found for id "${t}"`);const f=s.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[f].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,n])}function Nj({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:s,onDragging:i,onFocus:l,onPointerDown:u,onPointerUp:f,style:d={},tabIndex:h=0,tagName:m="div",...x}){var b,S;const y=p.useRef(null),g=p.useRef({onClick:s,onDragging:i,onPointerDown:u,onPointerUp:f});p.useEffect(()=>{g.current.onClick=s,g.current.onDragging=i,g.current.onPointerDown=u,g.current.onPointerUp=f});const v=p.useContext(wh);if(v===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:w,groupId:E,registerResizeHandle:A,startDragging:N,stopDragging:_,panelGroupElement:C}=v,k=Vv(a),[j,B]=p.useState("inactive"),[$,T]=p.useState(!1),[z,R]=p.useState(null),L=p.useRef({state:j});zo(()=>{L.current.state=j}),p.useEffect(()=>{if(n)R(null);else{const F=A(k);R(()=>F)}},[n,k,A]);const O=(b=r==null?void 0:r.coarse)!==null&&b!==void 0?b:15,M=(S=r==null?void 0:r.fine)!==null&&S!==void 0?S:5;p.useEffect(()=>{if(n||z==null)return;const F=y.current;pe(F,"Element ref not attached");let V=!1;return UK(k,F,w,{coarse:O,fine:M},(P,H,Z)=>{if(!H){B("inactive");return}switch(P){case"down":{B("drag"),V=!1,pe(Z,'Expected event to be defined for "down" action'),N(k,Z);const{onDragging:G,onPointerDown:Y}=g.current;G==null||G(!0),Y==null||Y();break}case"move":{const{state:G}=L.current;V=!0,G!=="drag"&&B("hover"),pe(Z,'Expected event to be defined for "move" action'),z(Z);break}case"up":{B("hover"),_();const{onClick:G,onDragging:Y,onPointerUp:K}=g.current;Y==null||Y(!1),K==null||K(),V||G==null||G();break}}})},[O,w,n,M,A,k,z,N,_]),oQ({disabled:n,handleId:k,resizeHandler:z,panelGroupElement:C});const I={touchAction:"none",userSelect:"none"};return p.createElement(m,{...x,children:e,className:t,id:a,onBlur:()=>{T(!1),o==null||o()},onFocus:()=>{T(!0),l==null||l()},ref:y,role:"separator",style:{...I,...d},tabIndex:h,[et.groupDirection]:w,[et.groupId]:E,[et.resizeHandle]:"",[et.resizeHandleActive]:j==="drag"?"pointer":$?"keyboard":void 0,[et.resizeHandleEnabled]:!n,[et.resizeHandleId]:k,[et.resizeHandleState]:j})}Nj.displayName="PanelResizeHandle";function sQ({className:e,...t}){return c.jsx(Sj,{"data-slot":"resizable-panel-group",className:W("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function rS({...e}){return c.jsx(aj,{"data-slot":"resizable-panel",...e})}function iQ({withHandle:e,className:t,...n}){return c.jsx(Nj,{"data-slot":"resizable-handle",className:W("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&c.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:c.jsx(az,{className:"size-2.5"})})})}function Ej(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null);return p.useEffect(()=>{(async()=>{try{const l=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!l.ok)throw new Error("Failed to load perk trees data");const f=(await l.json()).map(d=>({...d,perks:d.perks.map(h=>({...h,currentRank:0,selected:!1}))}));t(f)}catch(l){o(l instanceof Error?l.message:"Unknown error")}finally{r(!1)}})()},[]),{perkTrees:e,getTreeById:i=>e.find(l=>l.treeId===i),loading:n,error:a}}function _j(e){const[t,n]=p.useState({selectedPerks:{},minLevels:{},totalPerks:0}),r=(u,f=new Set)=>{var m;if(!e||f.has(u))return[];f.add(u);const d=e.perks.find(x=>x.perkId===u);if(!d||!((m=d.prerequisites)!=null&&m.perks))return[];const h=[];return d.prerequisites.perks.forEach(x=>{if(x.type==="PERK"&&e.perks.some(S=>S.perkId===x.id)){h.push(x.id);const S=r(x.id,f);h.push(...S)}}),[...new Set(h)]},a=(u,f=new Set)=>{if(!e||f.has(u))return[];f.add(u);const d=[];return e.perks.forEach(h=>{var m,x;if((x=(m=h.prerequisites)==null?void 0:m.perks)!=null&&x.some(b=>b.type==="PERK"&&b.id===u)){d.push(h.perkId);const b=a(h.perkId,f);d.push(...b)}}),[...new Set(d)]},o=p.useCallback(u=>{e&&(console.log(`togglePerk called for ${u} in tree ${e.treeName}`),n(f=>{var b,S;const d=e.treeName,h=f.selectedPerks[d]||[],m=h.findIndex(y=>y.perkId===u),x=e.perks.find(y=>y.perkId===u);if(!x)return f;if(m>=0){const y=h[m];if(x.ranks>1){const v=((y.currentRank||0)+1)%(x.ranks+1);if(v===0)if(((S=(b=x.prerequisites)==null?void 0:b.perks)==null?void 0:S.some(E=>E.type==="PERK"&&E.id!==u&&h.some(A=>A.perkId===E.id)))||!1){const E=[...h];return E[m]={...y,currentRank:0},console.log(`Cycling ${x.perkName} to rank 0 (kept due to other parents)`),{...f,selectedPerks:{...f.selectedPerks,[d]:E}}}else{const E=a(u),A=new Set([u,...E]),N=h.filter(C=>A.has(C.perkId)),_=h.filter(C=>!A.has(C.perkId));return console.log(`Cycling to rank 0, removing ${N.length} perks:`,N.map(C=>C.perkName)),{...f,selectedPerks:{...f.selectedPerks,[d]:_},totalPerks:f.totalPerks-N.length}}else{const w=[...h];return w[m]={...y,currentRank:v},console.log(`Cycling ${x.perkName} to rank ${v}`),{...f,selectedPerks:{...f.selectedPerks,[d]:w}}}}else{const g=a(u),v=new Set([u,...g]),w=h.filter(A=>v.has(A.perkId)),E=h.filter(A=>!v.has(A.perkId));return console.log(`Removing ${w.length} perks:`,w.map(A=>A.perkName)),{...f,selectedPerks:{...f.selectedPerks,[d]:E},totalPerks:f.totalPerks-w.length}}}else{const y=r(u),g=new Set([u,...y]),v=Array.from(g).map(C=>e.perks.find(k=>k.perkId===C)).filter(C=>C!==void 0).map(C=>{const k=h.find(j=>j.perkId===C.perkId);if(k)return{...C,selected:!0,currentRank:k.currentRank||0};{const j=C.perkId===u||C.ranks>1&&g.has(C.perkId);return{...C,selected:!0,currentRank:j&&C.ranks>1?1:0}}}),w=new Set(h.map(C=>C.perkId)),E=v.filter(C=>w.has(C.perkId)),A=v.filter(C=>!w.has(C.perkId)),_=[...h.map(C=>{const k=E.find(j=>j.perkId===C.perkId);return k?{...C,...k}:C}),...A];return console.log(`Adding ${A.length} new perks and updating ${E.length} existing perks:`,A.map(C=>C.perkName)),{...f,selectedPerks:{...f.selectedPerks,[d]:_},totalPerks:f.totalPerks+A.length}}}))},[e]),s=p.useCallback((u,f)=>{e&&n(d=>{const h=e.treeName,m=d.selectedPerks[h]||[],x=m.findIndex(S=>S.perkId===u),b=e.perks.find(S=>S.perkId===u);if(!b)return d;if(x>=0){const S=[...m],y=b.ranks>1?Math.max(0,Math.min(f,b.ranks)):0;return S[x]={...S[x],currentRank:y},console.log(`Updated ${b.perkName} rank to ${y}`),{...d,selectedPerks:{...d.selectedPerks,[h]:S}}}else return console.log(`Attempted to update rank for unselected perk: ${b.perkName}`),d})},[e]),i=p.useCallback(()=>{e&&n(u=>{const f=e.treeName,d=u.selectedPerks[f]||[],h={...u.selectedPerks};return delete h[f],{...u,selectedPerks:h,totalPerks:u.totalPerks-d.length}})},[e]),l=p.useCallback(()=>{n({selectedPerks:{},minLevels:{},totalPerks:0})},[]);return{perkPlan:t,togglePerk:o,updatePerkRank:s,clearSkill:i,clearAll:l}}function lQ(){const{perkTrees:e,loading:t,error:n}=Ej(),[r,a]=p.useState(null),o=e.find(x=>x.treeId===r),{perkPlan:s,togglePerk:i,updatePerkRank:l,clearSkill:u,clearAll:f}=_j(o||void 0),d=o?s.selectedPerks[o.treeName]||[]:[],h=p.useMemo(()=>[{id:"skills",name:"Skills",placeholder:"Search skills...",options:e.map(b=>{const S=s.selectedPerks[b.treeName]||[];return{id:b.treeId,label:b.treeName,value:b.treeId,category:"skills",description:`${S.length} perks selected  ${b.treeDescription}`}})}],[e,s.selectedPerks]),m=x=>{a(x.value)};return D.useEffect(()=>{!r&&e.length>0&&a(e[0].treeId)},[r,e]),t?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading perk trees..."})]})}):n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:n}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Perk Planner"}),c.jsx("p",{className:"text-muted-foreground",children:"Plan your character's perk progression through skill trees"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Skill Selection"}),c.jsx(Ff,{categories:h,onSelect:m,placeholder:"Search for a skill...",className:"max-w-md"})]}),c.jsxs(sQ,{direction:"vertical",className:"min-h-[800px]",children:[c.jsx(rS,{defaultSize:100,children:c.jsxs(St,{className:"h-full",children:[c.jsx(Nt,{children:c.jsx(Et,{children:o?o.treeName:"Select a Skill"})}),c.jsx(_t,{className:"h-full p-0",children:c.jsx(nj,{tree:o,onTogglePerk:i,onRankChange:l,selectedPerks:d})})]})}),c.jsx(iQ,{withHandle:!0}),c.jsx(rS,{defaultSize:0})]}),c.jsxs(St,{children:[c.jsx(Nt,{children:c.jsx(Et,{children:"Summary"})}),c.jsx(_t,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:"Total Perks:"}),c.jsx("span",{className:"text-lg font-bold",children:s.totalPerks})]}),o&&c.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"font-medium",children:[o.treeName,":"]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.length," perks selected"]})]}),c.jsx(ae,{size:"sm",variant:"outline",onClick:u,children:"Clear"})]}),c.jsx("div",{className:"flex justify-center items-center",children:c.jsx(ae,{size:"sm",variant:"outline",onClick:f,className:"w-full",children:"Clear All"})})]})})]})]})}function Cj({raceName:e,size:t="md",className:n}){return c.jsx(hk,{entityName:e,entityType:"race",size:t,className:n})}function Wg({item:e,className:t,showToggle:n=!0,isExpanded:r=!1,onToggle:a,disableHover:o=!1}){const s=e.originalRace;return c.jsxs(Ve,{className:t,expanded:r,onToggle:a,disableHover:o,children:[c.jsx(Ve.Header,{children:c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[n&&c.jsx(_y,{itemId:(s==null?void 0:s.edid)||e.id,itemType:"race",itemName:e.name}),c.jsx(Cj,{raceName:e.name,size:"md"}),c.jsx(Dc,{className:"text-primary font-semibold",children:e.name})]}),c.jsx("div",{className:"flex items-center gap-3",children:e.category&&c.jsx(Ce,{variant:"outline",className:W("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category})})]})}),c.jsx(Ve.Summary,{children:c.jsx("div",{className:"line-clamp-2",children:c.jsx(pn,{className:"text-sm text-muted-foreground",children:e.summary||e.description})})}),c.jsxs(Ve.Details,{children:[c.jsx("div",{children:c.jsx(pn,{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),(s==null?void 0:s.startingStats)&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Attributes"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(s.startingStats).map(([i,l])=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[c.jsx("span",{className:"font-medium capitalize",children:i}),c.jsx("span",{className:"font-bold text-green-600",children:l})]},i))})]}),(s==null?void 0:s.skillBonuses)&&s.skillBonuses.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Skills"}),c.jsx("div",{className:"space-y-2",children:s.skillBonuses.map((i,l)=>c.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[c.jsxs("span",{className:"font-medium",children:[i.skill," +",i.bonus]}),c.jsx(Ce,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},l))})]}),(s==null?void 0:s.racialSpells)&&s.racialSpells.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Quirks"}),c.jsx("div",{className:"space-y-2",children:s.racialSpells.map((i,l)=>c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("svg",{className:"h-4 w-4 text-yellow-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 17.75L18.2 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.44 4.73L5.8 21z"})}),c.jsx("span",{className:"font-medium text-sm",children:i.name})]}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]},l))})]})]})]})}function cQ(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid.toLowerCase().replace("race",""),name:i.name,description:i.description,category:i.category,abilities:i.racialSpells.map(l=>l.name),skills:i.skillBonuses.map(l=>l.skill),keywords:i.keywords.map(l=>l.edid),originalRace:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new va(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredRaces:p.useMemo(()=>o.map(i=>i.item.originalRace),[o]),searchResults:o,searchableRaces:n}}function aS(){const e=An(),{build:t}=an(),[n,r]=p.useState([]),[a,o]=p.useState(!0),[s,i]=p.useState(null),[l,u]=p.useState(new Set),[f,d]=p.useState("grid");p.useEffect(()=>{async function N(){try{o(!0);const _=await fetch("/lorerim-arcaneum/data/playable-races.json");if(!_.ok)throw new Error("Failed to fetch race data");const C=await _.json();r(C.races)}catch(_){i("Failed to load race data"),console.error("Error loading races:",_)}finally{o(!1)}}N()},[]);const m=(()=>{const N=[...new Set(n.flatMap(k=>k.keywords.map(j=>j.edid)))],_=[...new Set(n.flatMap(k=>k.skillBonuses.map(j=>j.skill)))],C=[...new Set(n.map(k=>k.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:N.map(k=>({id:`keyword-${k}`,label:k,value:k,category:"Fuzzy Search",description:`Races with ${k} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:_.map(k=>({id:`skill-${k}`,label:k,value:k,category:"Skill Bonuses",description:`Races with ${k} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:C.map(k=>({id:`category-${k}`,label:k,value:k,category:"Race Categories",description:`${k} races`}))}]})(),[x,b]=p.useState([]),S=N=>{let _;typeof N=="string"?_={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:_={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},x.some(C=>C.value===_.value&&C.category===_.category)||b(C=>[...C,_])},y=N=>{b(_=>_.filter(C=>C.id!==N))},g=n.filter(N=>x.length===0?!0:x.every(_=>{switch(_.category){case"Fuzzy Search":return!0;case"Race Categories":return N.category===_.value;case"Skill Bonuses":return N.skillBonuses.some(C=>C.skill===_.value);case"Keywords":return N.keywords.some(C=>C.edid===_.value);default:return!0}})),v=x.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredRaces:w}=cQ(g,v),E=w.map(N=>({...yk(N),originalRace:N})),A=N=>{const _=new Set(l);if(f==="grid"){const k=E.findIndex(z=>z.id===N),B=Math.floor(k/3)*3,$=Math.min(B+3,E.length);E.slice(B,$).some(z=>_.has(z.id))?E.slice(B,$).forEach(z=>{_.delete(z.id)}):E.slice(B,$).forEach(z=>{_.add(z.id)})}else _.has(N)?_.delete(N):_.add(N);u(_)};return a?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:s}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs(oa,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>e("/build"),className:"flex items-center gap-2",children:[c.jsx(z4,{className:"h-4 w-4"}),"Back to Build"]})}),c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Qf,{categories:m,onSelect:S,onCustomSearch:S})}),c.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[c.jsx(ae,{variant:f==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:c.jsx(Cc,{className:"h-4 w-4"})}),c.jsx(ae,{variant:f==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:c.jsx(_c,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"my-4",children:x.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("button",{onClick:()=>b([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[c.jsx(Nn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),x.map(N=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>y(N.id),title:"Click to remove",children:[N.label,c.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})}),f==="grid"?c.jsx(Jy,{columns:3,gap:"md",className:"w-full",children:E.map(N=>{var k;const _=l.has(N.id),C=t.race===((k=N.originalRace)==null?void 0:k.edid);return c.jsx(Wg,{item:N,isExpanded:_,onToggle:()=>A(N.id),className:W("w-full",C&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}):c.jsx("div",{className:"flex flex-col gap-4 w-full",children:E.map(N=>{var k;const _=l.has(N.id),C=t.race===((k=N.originalRace)==null?void 0:k.edid);return c.jsx(Wg,{item:N,isExpanded:_,onToggle:()=>A(N.id),className:W("w-full",C&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}),E.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function Zm({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const r=n.split(/(<[^>]+>)/g);return c.jsx("div",{className:t,children:r.map((a,o)=>{if(a.startsWith("<")&&a.endsWith(">")){const s=a.slice(1,-1);return c.jsx("span",{className:"font-bold italic text-skyrim-gold",children:s},o)}return a})})}function uQ({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return c.jsx(pn,{className:"text-xs text-muted-foreground",children:t.map((n,r)=>{if(n.startsWith("<")&&n.endsWith(">")){const a=n.slice(1,-1);return c.jsx("span",{className:"font-bold italic text-skyrim-gold",children:a},r)}return n})})}function Ym({description:e,magnitude:t,duration:n,area:r=0}){if(!e)return null;let a=e.replace(/<[^>]*>/g,"");a=a.replace(/<mag>/g,t.toString()),a=a.replace(/<magnitude>/g,t.toString()),a=a.replace(/<dur>/g,n.toString()),a=a.replace(/<duration>/g,n.toString()),r>0&&(a=a.replace(/<area>/g,r.toString())),a=a.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const o=a.split(/(<[^>]+>)/g);return c.jsx(pn,{className:"text-xs text-muted-foreground",children:o.map((s,i)=>{if(s.startsWith("<")&&s.endsWith(">")){const l=s.slice(1,-1);return c.jsx("span",{className:"font-bold italic text-skyrim-gold",children:l},i)}return s})})}function qm(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Xm(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],r=t.some(o=>o.test(e)),a=n.some(o=>o.test(e));return{hasMagnitude:r,hasDuration:a}}const dQ={Restoration:c.jsx(y_,{className:"h-4 w-4 text-green-500"}),Destruction:c.jsx(tz,{className:"h-4 w-4 text-red-500"}),Alteration:c.jsx(ys,{className:"h-4 w-4 text-blue-500"}),Illusion:c.jsx(_b,{className:"h-4 w-4 text-purple-500"}),Conjuration:c.jsx(w_,{className:"h-4 w-4 text-purple-500"}),Enchanting:c.jsx(p_,{className:"h-4 w-4 text-blue-500"}),Alchemy:c.jsx(W4,{className:"h-4 w-4 text-green-500"}),"Light Armor":c.jsx(ys,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":c.jsx(ys,{className:"h-4 w-4 text-gray-500"}),"One-Handed":c.jsx(Rb,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":c.jsx(Rb,{className:"h-4 w-4 text-red-500"}),Archery:c.jsx(Pz,{className:"h-4 w-4 text-green-500"}),Block:c.jsx(ys,{className:"h-4 w-4 text-yellow-500"}),Smithing:c.jsx(ys,{className:"h-4 w-4 text-gray-500"}),Speechcraft:c.jsx(_b,{className:"h-4 w-4 text-blue-500"}),Sneak:c.jsx(J4,{className:"h-4 w-4 text-purple-500"}),Lockpicking:c.jsx(Ab,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:c.jsx(Ab,{className:"h-4 w-4 text-purple-500"})},fQ={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},oS={sm:"text-xs px-2 py-0.5"};function sS({item:e,originalReligion:t,isExpanded:n=!1,onToggle:r,className:a,showBlessings:o=!0,showTenets:s=!0,showBoons:i=!0,showFavoredRaces:l=!0}){var d,h,m,x,b,S,y,g;const u=v=>{switch(v){case"positive":return c.jsx(Wp,{className:"h-4 w-4 text-green-500"});case"negative":return c.jsx(kb,{className:"h-4 w-4 text-red-500"});case"neutral":return c.jsx(ey,{className:"h-4 w-4 text-blue-500"})}},f=v=>dQ[v]||c.jsx(Ga,{className:"h-4 w-4 text-skyrim-gold"});return c.jsxs(Ve,{expanded:n,onToggle:r,className:a,children:[c.jsxs(Ve.Header,{children:[c.jsx(_y,{itemId:e.id,itemType:"religion",itemName:e.name}),c.jsx("div",{className:"flex-1",children:c.jsx(Dc,{className:"text-primary font-semibold",children:e.name})}),e.category&&c.jsx(Ce,{variant:"outline",className:W(fQ[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",oS.sm,"font-medium transition-colors"),children:e.category}),l&&t&&Array.isArray(t.favoredRaces)&&t.favoredRaces.length>0&&c.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((v,w)=>c.jsxs(Ce,{variant:"outline",className:W("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",oS.sm,"font-medium transition-colors"),children:[c.jsx(Ga,{className:"h-3 w-3 mr-1"}),"Favors ",v]},w))})]}),c.jsxs(Ve.Summary,{children:[c.jsx("div",{className:"line-clamp-2",children:c.jsx(Zm,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[(d=e.effects)==null?void 0:d.slice(0,2).map((v,w)=>c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:v.description,children:[u(v.type),c.jsx("span",{className:"font-medium",children:v.name})]},w)),l&&((h=t==null?void 0:t.favoredRaces)==null?void 0:h.slice(0,2).map((v,w)=>c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[c.jsx(Ga,{className:"h-3 w-3 text-skyrim-gold"}),c.jsx("span",{className:"font-medium",children:v})]},`race-${w}`)))]})]}),c.jsxs(Ve.Details,{children:[e.description&&c.jsx("div",{children:c.jsx(Zm,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),l&&Array.isArray(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((v,w)=>c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[c.jsx(Ga,{className:"h-4 w-4 text-skyrim-gold"}),c.jsx("span",{className:"text-sm font-medium",children:v})]},w))})]}),Array.isArray(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),c.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((v,w)=>c.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(kb,{className:"h-4 w-4 text-red-500 mt-0.5"}),c.jsx(Zm,{text:v,className:"text-sm text-muted-foreground"})]})},w))})]}),o&&Array.isArray((m=t==null?void 0:t.blessing)==null?void 0:m.effects)&&t.blessing.effects.length>0&&c.jsxs("div",{children:[c.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),c.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(v=>v.effectType!=="1"&&v.effectType!=="3").map((v,w)=>{const{hasDuration:E}=Xm(v.effectDescription);return c.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),v.effectType&&f(v.effectType)]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(pn,{className:"font-medium text-sm mb-1",children:v.effectName}),c.jsx(Ym,{description:v.effectDescription,magnitude:v.magnitude,duration:v.duration,area:v.area}),E&&v.duration>0&&c.jsxs(pn,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",qm(v.duration),"."]}),c.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:v.area>0&&c.jsxs("span",{children:["Area: ",v.area]})})]})]})},w)})})]}),s&&Array.isArray((x=t==null?void 0:t.tenet)==null?void 0:x.effects)&&t.tenet.effects.length>0&&c.jsxs("div",{children:[c.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((v,w)=>v.effectDescription.split(".").filter(A=>A.trim().length>0).map((A,N)=>c.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),v.targetAttribute&&f(v.targetAttribute)]}),c.jsx("div",{className:"flex-1",children:c.jsx(uQ,{description:A.trim()+"."})})]},`${w}-${N}`)))})]}),i&&(Array.isArray((b=t==null?void 0:t.boon1)==null?void 0:b.effects)&&t.boon1.effects.length>0||Array.isArray((S=t==null?void 0:t.boon2)==null?void 0:S.effects)&&t.boon2.effects.length>0)&&c.jsxs("div",{children:[c.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),c.jsxs("div",{className:"space-y-4",children:[Array.isArray((y=t==null?void 0:t.boon1)==null?void 0:y.effects)&&t.boon1.effects.length>0&&c.jsxs("div",{children:[c.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),c.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((v,w)=>{const{hasDuration:E}=Xm(v.effectDescription);return c.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),v.effectType&&f(v.effectType)]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(pn,{className:"font-medium text-sm mb-1",children:v.effectName}),c.jsx(Ym,{description:v.effectDescription,magnitude:v.magnitude,duration:v.duration,area:v.area}),E&&v.duration>0&&c.jsxs(pn,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",qm(v.duration),"."]}),c.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:v.area>0&&c.jsxs("span",{children:["Area: ",v.area]})})]})]})},w)})})]}),Array.isArray((g=t==null?void 0:t.boon2)==null?void 0:g.effects)&&t.boon2.effects.length>0&&c.jsxs("div",{children:[c.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),c.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((v,w)=>{const{hasDuration:E}=Xm(v.effectDescription);return c.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),v.effectType&&f(v.effectType)]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(pn,{className:"font-medium text-sm mb-1",children:v.effectName}),c.jsx(Ym,{description:v.effectDescription,magnitude:v.magnitude,duration:v.duration,area:v.area}),E&&v.duration>0&&c.jsxs(pn,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",qm(v.duration),"."]}),c.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:v.area>0&&c.jsxs("span",{children:["Area: ",v.area]})})]})]})},w)})})]})]})]})]})]})}function hQ(e,t){const n=p.useMemo(()=>e.map(i=>{var l,u,f,d,h,m,x,b,S;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:((l=i.tenet)==null?void 0:l.description)||"",type:i.type,favoredRaces:i.favoredRaces||[],tenetEffects:((f=(u=i.tenet)==null?void 0:u.effects)==null?void 0:f.map(y=>`${y.effectName} ${y.effectDescription}`))||[],blessingEffects:((h=(d=i.blessing)==null?void 0:d.effects)==null?void 0:h.map(y=>`${y.effectName} ${y.effectDescription}`))||[],followerPowers:((x=(m=i.boon1)==null?void 0:m.effects)==null?void 0:x.map(y=>`${y.effectName} ${y.effectDescription}`))||[],devoteePowers:((S=(b=i.boon2)==null?void 0:b.effects)==null?void 0:S.map(y=>`${y.effectName} ${y.effectDescription}`))||[],originalReligion:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},{name:"favoredRaces",weight:.1},{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new va(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredReligions:p.useMemo(()=>o.map(i=>i.item.originalReligion),[o]),searchResults:o,searchableReligions:n}}function iS(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState(new Set),[l,u]=p.useState("alphabetical"),[f,d]=p.useState("grid"),[h,m]=p.useState(!0),[x,b]=p.useState(!0),[S,y]=p.useState(!0),[g,v]=p.useState(!0);p.useEffect(()=>{async function I(){try{r(!0);const F=await fetch("/lorerim-arcaneum/data/wintersun-religion-docs.json");if(!F.ok)throw new Error("Failed to fetch religion data");const U=(await F.json()).flatMap(P=>P.deities.map(H=>({...H,pantheon:P.type})));t(U)}catch(F){o("Failed to load religion data"),console.error("Error loading religions:",F)}finally{r(!1)}}I()},[]);const w=e.map(_w),A=(()=>{const I=[...new Set(e.map(V=>V.type))],F=[...new Set(w.flatMap(V=>V.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:I.map(V=>({id:`pantheon-${V}`,label:V,value:V,category:"Pantheons",description:`Religions from ${V} pantheon`}))},{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:F.map(V=>({id:`race-${V}`,label:V,value:V,category:"Favored Races",description:`Religions that favor ${V}`}))}]})(),[N,_]=p.useState([]),C=I=>{let F;typeof I=="string"?F={id:`custom-${I}`,label:I,value:I,category:"Fuzzy Search"}:F={id:`${I.category}-${I.id}`,label:I.label,value:I.value,category:I.category},N.some(V=>V.value===F.value&&V.category===F.category)||_(V=>[...V,F])},k=I=>{_(F=>F.filter(V=>V.id!==I))},j=e.filter(I=>N.length===0?!0:N.every(F=>{switch(F.category){case"Fuzzy Search":return!0;case"Pantheons":return I.type===F.value;case"Favored Races":return I.favoredRaces.some(V=>V===F.value);default:return!0}})),B=N.filter(I=>I.category==="Fuzzy Search").map(I=>I.value).join(" "),{filteredReligions:$}=hQ(j,B),z=[...$.map(_w)].sort((I,F)=>{switch(l){case"alphabetical":return I.name.localeCompare(F.name);case"divine-type":const V=H=>{switch(H){case"Divine":return 1;case"Daedric Prince":return 2;case"Tribunal":return 3;case"Ancestor":return 4;case"Nordic Deity":return 5;case"Yokudan Deity":return 6;case"Khajiiti Deity":return 7;case"Deity":return 8;default:return 9}},U=V(I.category),P=V(F.category);return U!==P?U-P:I.name.localeCompare(F.name);default:return 0}}),R=I=>{const F=new Set(s);if(f==="grid"){const U=z.findIndex(Y=>Y.id===I),H=Math.floor(U/3)*3,Z=Math.min(H+3,z.length);z.slice(H,Z).some(Y=>F.has(Y.id))?z.slice(H,Z).forEach(Y=>{F.delete(Y.id)}):z.slice(H,Z).forEach(Y=>{F.add(Y.id)})}else F.has(I)?F.delete(I):F.add(I);i(F)},L=()=>{const I=z.map(F=>F.id);i(new Set(I))},O=()=>{i(new Set)},M=z.length>0&&z.every(I=>s.has(I.id));return z.some(I=>s.has(I.id)),n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading religions..."})]})}):a?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:a}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs(oa,{title:"Religions",description:"Choose your character's religion. Each deity offers unique blessings, tenets, and powers that will guide your spiritual journey through Tamriel.",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Qf,{categories:A,onSelect:C,onCustomSearch:C})}),c.jsxs(Vy,{children:[c.jsx(Zy,{asChild:!0,children:c.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[c.jsx(er,{className:"h-4 w-4"}),l==="alphabetical"?"A-Z":"Type"]})}),c.jsxs(Xf,{align:"end",children:[c.jsx(sa,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),c.jsx(sa,{onClick:()=>u("divine-type"),children:"Divine Type"})]})]}),c.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[c.jsx(ae,{variant:f==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:c.jsx(Cc,{className:"h-4 w-4"})}),c.jsx(ae,{variant:f==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:c.jsx(_c,{className:"h-4 w-4"})})]}),c.jsx(ae,{variant:"outline",size:"sm",onClick:M?O:L,className:"flex items-center justify-center",title:M?"Collapse all accordions":"Expand all accordions",children:M?c.jsx(x_,{className:"h-4 w-4"}):c.jsx(v_,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"my-4",children:N.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("button",{onClick:()=>_([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[c.jsx(Nn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map(I=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>k(I.id),title:"Click to remove",children:[I.label,c.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},I.id))]})}),z.length>0&&c.jsxs(ZI,{children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[c.jsx(Zr,{checked:h&&x&&S&&g,onCheckedChange:I=>{m(I),b(I),y(I),v(I)}}),c.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),c.jsxs(AI,{columns:4,children:[c.jsx(pu,{title:"Blessings",description:"Deity blessings and effects",checked:h,onCheckedChange:m}),c.jsx(pu,{title:"Tenets",description:"Religious tenets and rules",checked:x,onCheckedChange:b}),c.jsx(pu,{title:"Boons",description:"Follower and devotee powers",checked:S,onCheckedChange:y}),c.jsx(pu,{title:"Favored Races",description:"Races favored by this deity",checked:g,onCheckedChange:v})]})]}),f==="grid"?c.jsx(Jy,{columns:3,gap:"md",className:"w-full mt-6",children:z.map(I=>{const F=e.find(U=>{const P=I.id.replace("religion-","");return U.name.toLowerCase().replace(/\s+/g,"-")===P}),V=s.has(I.id);return c.jsx(sS,{item:I,originalReligion:F,isExpanded:V,onToggle:()=>R(I.id),className:"w-full",showBlessings:h,showTenets:x,showBoons:S,showFavoredRaces:g},I.id)})}):c.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:z.map(I=>{const F=e.find(U=>{const P=I.id.replace("religion-","");return U.name.toLowerCase().replace(/\s+/g,"-")===P}),V=s.has(I.id);return c.jsx(sS,{item:I,originalReligion:F,isExpanded:V,onToggle:()=>R(I.id),className:"w-full",showBlessings:h,showTenets:x,showBoons:S,showFavoredRaces:g},I.id)})}),z.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No religions found matching your criteria."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function mQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Aj=D.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Uc=()=>{const e=D.useContext(Aj);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};mQ(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function pQ(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function gQ(){return qv(/^Mac/)}function yQ(){return qv(/^iPhone/)}function lS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function vQ(){return qv(/^iPad/)||gQ()&&navigator.maxTouchPoints>1}function kj(){return yQ()||vQ()}function qv(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const xQ=24,bQ=typeof window<"u"?p.useLayoutEffect:p.useEffect;function cS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Wm=typeof document<"u"&&window.visualViewport;function uS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Tj(e){for(uS(e)&&(e=e.parentElement);e&&!uS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const wQ=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let zu=0,Km;function SQ(e={}){let{isDisabled:t}=e;bQ(()=>{if(!t)return zu++,zu===1&&kj()&&(Km=NQ()),()=>{zu--,zu===0&&(Km==null||Km())}},[t])}function NQ(){let e,t=0,n=d=>{e=Tj(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},r=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let h=d.changedTouches[0].pageY,m=e.scrollTop,x=e.scrollHeight-e.clientHeight;x!==0&&((m<=0&&h>t||m>=x&&h<t)&&d.preventDefault(),t=h)},a=d=>{let h=d.target;Kg(h)&&h!==document.activeElement&&(d.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},o=d=>{let h=d.target;Kg(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Wm&&(Wm.height<window.innerHeight?requestAnimationFrame(()=>{dS(h)}):Wm.addEventListener("resize",()=>dS(h),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},i=window.pageXOffset,l=window.pageYOffset,u=cS(EQ(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=cS(Wi(document,"touchstart",n,{passive:!1,capture:!0}),Wi(document,"touchmove",r,{passive:!1,capture:!0}),Wi(document,"touchend",a,{passive:!1,capture:!0}),Wi(document,"focus",o,!0),Wi(window,"scroll",s));return()=>{u(),f(),window.scrollTo(i,l)}}function EQ(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Wi(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function dS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=Tj(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom+xQ;o>s&&(n.scrollTop+=a-r)}e=n.parentElement}}function Kg(e){return e instanceof HTMLInputElement&&!wQ.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function _Q(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function CQ(...e){return t=>e.forEach(n=>_Q(n,t))}function Rj(...e){return p.useCallback(CQ(...e),e)}const jj=new WeakMap;function ht(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}r[a]=e.style[a],e.style[a]=o}),!n&&jj.set(e,r)}function AQ(e,t){if(!e||!(e instanceof HTMLElement))return;let n=jj.get(e);n&&(e.style[t]=n[t])}const lt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ou(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[lt(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[lt(t)?5:4]):null)}function kQ(e){return 8*(Math.log(e+1)-2)}function Qm(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function TQ(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Xe={DURATION:.5,EASE:[.32,.72,0,1]},Mj=.4,RQ=.25,jQ=100,Dj=8,go=16,Qg=26,Jm="vaul-dragging";function zj(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function MQ({defaultProp:e,onChange:t}){const n=D.useState(e),[r]=n,a=D.useRef(r),o=zj(t);return D.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}function Oj({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=MQ({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,i=zj(n),l=D.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&i(d)}else a(u)},[o,e,a,i]);return[s,l]}function DQ({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:o,onSnapPointChange:s,direction:i="bottom",container:l,snapToSequentialPoint:u}){const[f,d]=Oj({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[h,m]=D.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);D.useEffect(()=>{function N(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const x=D.useMemo(()=>f===(n==null?void 0:n[n.length-1])||null,[n,f]),b=D.useMemo(()=>{var N;return(N=n==null?void 0:n.findIndex(_=>_===f))!=null?N:null},[n,f]),S=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===f||!n,y=D.useMemo(()=>{const N=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var _;return(_=n==null?void 0:n.map(C=>{const k=typeof C=="string";let j=0;if(k&&(j=parseInt(C,10)),lt(i)){const $=k?j:h?C*N.height:0;return h?i==="bottom"?N.height-$:-N.height+$:$}const B=k?j:h?C*N.width:0;return h?i==="right"?N.width-B:-N.width+B:B}))!=null?_:[]},[n,h,l]),g=D.useMemo(()=>b!==null?y==null?void 0:y[b]:null,[y,b]),v=D.useCallback(N=>{var _;const C=(_=y==null?void 0:y.findIndex(k=>k===N))!=null?_:null;s(C),ht(r.current,{transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,transform:lt(i)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`}),y&&C!==y.length-1&&o!==void 0&&C!==o&&C<o?ht(a.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,opacity:"0"}):ht(a.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,opacity:"1"}),d(n==null?void 0:n[Math.max(C,0)])},[r.current,n,y,o,a,d]);D.useEffect(()=>{if(f||e){var N;const _=(N=n==null?void 0:n.findIndex(C=>C===e||C===f))!=null?N:-1;y&&_!==-1&&typeof y[_]=="number"&&v(y[_])}},[f,e,n,y,v]);function w({draggedDistance:N,closeDrawer:_,velocity:C,dismissible:k}){if(o===void 0)return;const j=i==="bottom"||i==="right"?(g??0)-N:(g??0)+N,B=b===o-1,$=b===0,T=N>0;if(B&&ht(a.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`}),!u&&C>2&&!T){k?_():v(y[0]);return}if(!u&&C>2&&T&&y&&n){v(y[n.length-1]);return}const z=y==null?void 0:y.reduce((L,O)=>typeof L!="number"||typeof O!="number"?L:Math.abs(O-j)<Math.abs(L-j)?O:L),R=lt(i)?window.innerHeight:window.innerWidth;if(C>Mj&&Math.abs(N)<R*.4){const L=T?1:-1;if(L>0&&x&&n){v(y[n.length-1]);return}if($&&L<0&&k&&_(),b===null)return;v(y[b+L]);return}v(z)}function E({draggedDistance:N}){if(g===null)return;const _=i==="bottom"||i==="right"?g-N:g+N;(i==="bottom"||i==="right")&&_<y[y.length-1]||(i==="top"||i==="left")&&_>y[y.length-1]||ht(r.current,{transform:lt(i)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`})}function A(N,_){if(!n||typeof b!="number"||!y||o===void 0)return null;const C=b===o-1;if(b>=o&&_)return 0;if(C&&!_)return 1;if(!S&&!C)return null;const j=C?b+1:b-1,B=C?y[j]-y[j-1]:y[j+1]-y[j],$=N/Math.abs(B);return C?1-$:$}return{isLastSnapPoint:x,activeSnapPoint:f,shouldFade:S,getPercentageDragged:A,setActiveSnapPoint:d,activeSnapPointIndex:b,onRelease:w,onDrag:E,snapPointsOffset:y}}const zQ=()=>()=>{};function OQ(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:a}=Uc(),o=D.useRef(null),s=p.useMemo(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-Qg)/window.innerWidth}D.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;TQ(r&&!a?Qm(document.body,{background:"black"}):zQ,Qm(l,{transformOrigin:lt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Xe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Xe.EASE.join(",")})`}));const u=Qm(l,{borderRadius:`${Dj}px`,overflow:"hidden",...lt(e)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},Xe.DURATION*1e3)}}},[t,n,s])}let Ki=null;function $Q({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:o}){const[s,i]=D.useState(()=>typeof window<"u"?window.location.href:""),l=D.useRef(0),u=D.useCallback(()=>{if(lS()&&Ki===null&&e&&!o){Ki={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=h-window.innerHeight;m&&l.current>=h&&(document.body.style.top=`${-(l.current+m)}px`)}),300)}},[e]),f=D.useCallback(()=>{if(lS()&&Ki!==null&&!o){const d=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ki),window.requestAnimationFrame(()=>{if(a&&s!==window.location.href){i(window.location.href);return}window.scrollTo(h,d)}),Ki=null}},[s]);return D.useEffect(()=>{function d(){l.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),D.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[t,f]),D.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{f()},500)):f())},[e,r,s,t,n,u,f]),{restorePositionSetting:f}}function PQ({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:a,snapPoints:o,shouldScaleBackground:s=!1,setBackgroundColorOnScale:i=!0,closeThreshold:l=RQ,scrollLockTimeout:u=jQ,dismissible:f=!0,handleOnly:d=!1,fadeFromIndex:h=o&&o.length-1,activeSnapPoint:m,setActiveSnapPoint:x,fixed:b,modal:S=!0,onClose:y,nested:g,noBodyStyles:v=!1,direction:w="bottom",defaultOpen:E=!1,disablePreventScroll:A=!0,snapToSequentialPoint:N=!1,preventScrollRestoration:_=!1,repositionInputs:C=!0,onAnimationEnd:k,container:j,autoFocus:B=!1}){var $,T;const[z=!1,R]=Oj({defaultProp:E,prop:e,onChange:ie=>{t==null||t(ie),!ie&&!g&&$r(),setTimeout(()=>{k==null||k(ie)},Xe.DURATION*1e3),ie&&!S&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ie||(document.body.style.pointerEvents="auto")}}),[L,O]=D.useState(!1),[M,I]=D.useState(!1),[F,V]=D.useState(!1),U=D.useRef(null),P=D.useRef(null),H=D.useRef(null),Z=D.useRef(null),G=D.useRef(null),Y=D.useRef(!1),K=D.useRef(null),Q=D.useRef(0),he=D.useRef(!1),me=D.useRef(!E),ue=D.useRef(0),ee=D.useRef(null),Re=D.useRef((($=ee.current)==null?void 0:$.getBoundingClientRect().height)||0),st=D.useRef(((T=ee.current)==null?void 0:T.getBoundingClientRect().width)||0),Ne=D.useRef(0),J=D.useCallback(ie=>{o&&ie===Xt.length-1&&(P.current=new Date)},[]),{activeSnapPoint:Ye,activeSnapPointIndex:Ot,setActiveSnapPoint:qt,onRelease:Vn,snapPointsOffset:Xt,onDrag:Zn,shouldFade:zr,getPercentageDragged:Or}=DQ({snapPoints:o,activeSnapPointProp:m,setActiveSnapPointProp:x,drawerRef:ee,fadeFromIndex:h,overlayRef:U,onSnapPointChange:J,direction:w,container:j,snapToSequentialPoint:N});SQ({isDisabled:!z||M||!S||F||!L||!C||!A});const{restorePositionSetting:$r}=$Q({isOpen:z,modal:S,nested:g??!1,hasBeenOpened:L,preventScrollRestoration:_,noBodyStyles:v});function Yn(){return(window.innerWidth-Qg)/window.innerWidth}function wa(ie){var Ee,je;!f&&!o||ee.current&&!ee.current.contains(ie.target)||(Re.current=((Ee=ee.current)==null?void 0:Ee.getBoundingClientRect().height)||0,st.current=((je=ee.current)==null?void 0:je.getBoundingClientRect().width)||0,I(!0),H.current=new Date,kj()&&window.addEventListener("touchend",()=>Y.current=!1,{once:!0}),ie.target.setPointerCapture(ie.pointerId),Q.current=lt(w)?ie.pageY:ie.pageX)}function Sa(ie,Ee){var je;let _e=ie;const De=(je=window.getSelection())==null?void 0:je.toString(),$t=ee.current?Ou(ee.current,w):null,Tt=new Date;if(_e.tagName==="SELECT"||_e.hasAttribute("data-vaul-no-drag")||_e.closest("[data-vaul-no-drag]"))return!1;if(w==="right"||w==="left")return!0;if(P.current&&Tt.getTime()-P.current.getTime()<500)return!1;if($t!==null&&(w==="bottom"?$t>0:$t<0))return!0;if(De&&De.length>0)return!1;if(G.current&&Tt.getTime()-G.current.getTime()<u&&$t===0||Ee)return G.current=Tt,!1;for(;_e;){if(_e.scrollHeight>_e.clientHeight){if(_e.scrollTop!==0)return G.current=new Date,!1;if(_e.getAttribute("role")==="dialog")return!0}_e=_e.parentNode}return!0}function vt(ie){if(ee.current&&M){const Ee=w==="bottom"||w==="right"?1:-1,je=(Q.current-(lt(w)?ie.pageY:ie.pageX))*Ee,_e=je>0,De=o&&!f&&!_e;if(De&&Ot===0)return;const $t=Math.abs(je),Tt=document.querySelector("[data-vaul-drawer-wrapper]"),lr=w==="bottom"||w==="top"?Re.current:st.current;let cn=$t/lr;const Ir=Or($t,_e);if(Ir!==null&&(cn=Ir),De&&cn>=1||!Y.current&&!Sa(ie.target,_e))return;if(ee.current.classList.add(Jm),Y.current=!0,ht(ee.current,{transition:"none"}),ht(U.current,{transition:"none"}),o&&Zn({draggedDistance:je}),_e&&!o){const Tn=kQ(je),ts=Math.min(Tn*-1,0)*Ee;ht(ee.current,{transform:lt(w)?`translate3d(0, ${ts}px, 0)`:`translate3d(${ts}px, 0, 0)`});return}const cr=1-cn;if((zr||h&&Ot===h-1)&&(r==null||r(ie,cn),ht(U.current,{opacity:`${cr}`,transition:"none"},!0)),Tt&&U.current&&s){const Tn=Math.min(Yn()+cn*(1-Yn()),1),ts=8-cn*8,Gc=Math.max(0,14-cn*14);ht(Tt,{borderRadius:`${ts}px`,transform:lt(w)?`scale(${Tn}) translate3d(0, ${Gc}px, 0)`:`scale(${Tn}) translate3d(${Gc}px, 0, 0)`,transition:"none"},!0)}if(!o){const Tn=$t*Ee;ht(ee.current,{transform:lt(w)?`translate3d(0, ${Tn}px, 0)`:`translate3d(${Tn}px, 0, 0)`})}}}D.useEffect(()=>{window.requestAnimationFrame(()=>{me.current=!0})},[]),D.useEffect(()=>{var ie;function Ee(){if(!ee.current||!C)return;const je=document.activeElement;if(Kg(je)||he.current){var _e;const De=((_e=window.visualViewport)==null?void 0:_e.height)||0,$t=window.innerHeight;let Tt=$t-De;const lr=ee.current.getBoundingClientRect().height||0,cn=lr>$t*.8;Ne.current||(Ne.current=lr);const Ir=ee.current.getBoundingClientRect().top;if(Math.abs(ue.current-Tt)>60&&(he.current=!he.current),o&&o.length>0&&Xt&&Ot){const cr=Xt[Ot]||0;Tt+=cr}if(ue.current=Tt,lr>De||he.current){const cr=ee.current.getBoundingClientRect().height;let Tn=cr;cr>De&&(Tn=De-(cn?Ir:Qg)),b?ee.current.style.height=`${cr-Math.max(Tt,0)}px`:ee.current.style.height=`${Math.max(Tn,De-Ir)}px`}else pQ()||(ee.current.style.height=`${Ne.current}px`);o&&o.length>0&&!he.current?ee.current.style.bottom="0px":ee.current.style.bottom=`${Math.max(Tt,0)}px`}}return(ie=window.visualViewport)==null||ie.addEventListener("resize",Ee),()=>{var je;return(je=window.visualViewport)==null?void 0:je.removeEventListener("resize",Ee)}},[Ot,o,Xt]);function kt(ie){Pr(),y==null||y(),ie||R(!1),setTimeout(()=>{o&&qt(o[0])},Xe.DURATION*1e3)}function ir(){if(!ee.current)return;const ie=document.querySelector("[data-vaul-drawer-wrapper]"),Ee=Ou(ee.current,w);ht(ee.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`}),ht(U.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,opacity:"1"}),s&&Ee&&Ee>0&&z&&ht(ie,{borderRadius:`${Dj}px`,overflow:"hidden",...lt(w)?{transform:`scale(${Yn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Yn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Xe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Xe.EASE.join(",")})`},!0)}function Pr(){!M||!ee.current||(ee.current.classList.remove(Jm),Y.current=!1,I(!1),Z.current=new Date)}function Lr(ie){if(!M||!ee.current)return;ee.current.classList.remove(Jm),Y.current=!1,I(!1),Z.current=new Date;const Ee=Ou(ee.current,w);if(!ie||!Sa(ie.target,!1)||!Ee||Number.isNaN(Ee)||H.current===null)return;const je=Z.current.getTime()-H.current.getTime(),_e=Q.current-(lt(w)?ie.pageY:ie.pageX),De=Math.abs(_e)/je;if(De>.05&&(V(!0),setTimeout(()=>{V(!1)},200)),o){Vn({draggedDistance:_e*(w==="bottom"||w==="right"?1:-1),closeDrawer:kt,velocity:De,dismissible:f}),a==null||a(ie,!0);return}if(w==="bottom"||w==="right"?_e>0:_e<0){ir(),a==null||a(ie,!0);return}if(De>Mj){kt(),a==null||a(ie,!1);return}var $t;const Tt=Math.min(($t=ee.current.getBoundingClientRect().height)!=null?$t:0,window.innerHeight);var lr;const cn=Math.min((lr=ee.current.getBoundingClientRect().width)!=null?lr:0,window.innerWidth),Ir=w==="left"||w==="right";if(Math.abs(Ee)>=(Ir?cn:Tt)*l){kt(),a==null||a(ie,!1);return}a==null||a(ie,!0),ir()}D.useEffect(()=>(z&&(ht(document.documentElement,{scrollBehavior:"auto"}),P.current=new Date),()=>{AQ(document.documentElement,"scrollBehavior")}),[z]);function qn(ie){const Ee=ie?(window.innerWidth-go)/window.innerWidth:1,je=ie?-go:0;K.current&&window.clearTimeout(K.current),ht(ee.current,{transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,transform:lt(w)?`scale(${Ee}) translate3d(0, ${je}px, 0)`:`scale(${Ee}) translate3d(${je}px, 0, 0)`}),!ie&&ee.current&&(K.current=setTimeout(()=>{const _e=Ou(ee.current,w);ht(ee.current,{transition:"none",transform:lt(w)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`})},500))}function kn(ie,Ee){if(Ee<0)return;const je=(window.innerWidth-go)/window.innerWidth,_e=je+Ee*(1-je),De=-go+Ee*go;ht(ee.current,{transform:lt(w)?`scale(${_e}) translate3d(0, ${De}px, 0)`:`scale(${_e}) translate3d(${De}px, 0, 0)`,transition:"none"})}function fo(ie,Ee){const je=lt(w)?window.innerHeight:window.innerWidth,_e=Ee?(je-go)/je:1,De=Ee?-go:0;Ee&&ht(ee.current,{transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,transform:lt(w)?`scale(${_e}) translate3d(0, ${De}px, 0)`:`scale(${_e}) translate3d(${De}px, 0, 0)`})}return D.useEffect(()=>{S||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[S]),D.createElement(kC,{defaultOpen:E,onOpenChange:ie=>{!f&&!ie||(ie?O(!0):kt(!0),R(ie))},open:z},D.createElement(Aj.Provider,{value:{activeSnapPoint:Ye,snapPoints:o,setActiveSnapPoint:qt,drawerRef:ee,overlayRef:U,onOpenChange:t,onPress:wa,onRelease:Lr,onDrag:vt,dismissible:f,shouldAnimate:me,handleOnly:d,isOpen:z,isDragging:M,shouldFade:zr,closeDrawer:kt,onNestedDrag:kn,onNestedOpenChange:qn,onNestedRelease:fo,keyboardIsOpen:he,modal:S,snapPointsOffset:Xt,activeSnapPointIndex:Ot,direction:w,shouldScaleBackground:s,setBackgroundColorOnScale:i,noBodyStyles:v,container:j,autoFocus:B}},n))}const $j=D.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:a,shouldFade:o,isOpen:s,modal:i,shouldAnimate:l}=Uc(),u=Rj(t,n),f=r&&r.length>0;if(!i)return null;const d=D.useCallback(h=>a(h),[a]);return D.createElement(py,{onMouseUp:d,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":s&&f?"true":"false","data-vaul-snap-points-overlay":s&&o?"true":"false","data-vaul-animate":l!=null&&l.current?"true":"false",...e})});$j.displayName="Drawer.Overlay";const Pj=D.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},a){const{drawerRef:o,onPress:s,onRelease:i,onDrag:l,keyboardIsOpen:u,snapPointsOffset:f,activeSnapPointIndex:d,modal:h,isOpen:m,direction:x,snapPoints:b,container:S,handleOnly:y,shouldAnimate:g,autoFocus:v}=Uc(),[w,E]=D.useState(!1),A=Rj(a,o),N=D.useRef(null),_=D.useRef(null),C=D.useRef(!1),k=b&&b.length>0;OQ();const j=($,T,z=0)=>{if(C.current)return!0;const R=Math.abs($.y),L=Math.abs($.x),O=L>R,M=["bottom","right"].includes(T)?1:-1;if(T==="left"||T==="right"){if(!($.x*M<0)&&L>=0&&L<=z)return O}else if(!($.y*M<0)&&R>=0&&R<=z)return!O;return C.current=!0,!0};D.useEffect(()=>{k&&window.requestAnimationFrame(()=>{E(!0)})},[]);function B($){N.current=null,C.current=!1,i($)}return D.createElement(gy,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":m&&k?"true":"false","data-vaul-custom-container":S?"true":"false","data-vaul-animate":g!=null&&g.current?"true":"false",...r,ref:A,style:f&&f.length>0?{"--snap-point-height":`${f[d??0]}px`,...t}:t,onPointerDown:$=>{y||(r.onPointerDown==null||r.onPointerDown.call(r,$),N.current={x:$.pageX,y:$.pageY},s($))},onOpenAutoFocus:$=>{n==null||n($),v||$.preventDefault()},onPointerDownOutside:$=>{if(e==null||e($),!h||$.defaultPrevented){$.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:$=>{if(!h){$.preventDefault();return}},onPointerMove:$=>{if(_.current=$,y||(r.onPointerMove==null||r.onPointerMove.call(r,$),!N.current))return;const T=$.pageY-N.current.y,z=$.pageX-N.current.x,R=$.pointerType==="touch"?10:2;j({x:z,y:T},x,R)?l($):(Math.abs(z)>R||Math.abs(T)>R)&&(N.current=null)},onPointerUp:$=>{r.onPointerUp==null||r.onPointerUp.call(r,$),N.current=null,C.current=!1,i($)},onPointerOut:$=>{r.onPointerOut==null||r.onPointerOut.call(r,$),B(_.current)},onContextMenu:$=>{r.onContextMenu==null||r.onContextMenu.call(r,$),_.current&&B(_.current)}})});Pj.displayName="Drawer.Content";const LQ=250,IQ=120,BQ=D.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:a,isDragging:o,snapPoints:s,activeSnapPoint:i,setActiveSnapPoint:l,dismissible:u,handleOnly:f,isOpen:d,onPress:h,onDrag:m}=Uc(),x=D.useRef(null),b=D.useRef(!1);function S(){if(b.current){v();return}window.setTimeout(()=>{y()},IQ)}function y(){if(o||e||b.current){v();return}if(v(),!s||s.length===0){u||a();return}if(i===s[s.length-1]&&u){a();return}const E=s.findIndex(N=>N===i);if(E===-1)return;const A=s[E+1];l(A)}function g(){x.current=window.setTimeout(()=>{b.current=!0},LQ)}function v(){x.current&&window.clearTimeout(x.current),b.current=!1}return D.createElement("div",{onClick:S,onPointerCancel:v,onPointerDown:w=>{f&&h(w),g()},onPointerMove:w=>{f&&m(w)},ref:r,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},D.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});BQ.displayName="Drawer.Handle";function HQ(e){const t=Uc(),{container:n=t.container,...r}=e;return D.createElement(TC,{container:n,...r})}const ba={Root:PQ,Content:Pj,Overlay:$j,Portal:HQ,Title:yy,Description:vy},Lj=({shouldScaleBackground:e=!0,...t})=>c.jsx(ba.Root,{shouldScaleBackground:e,...t});Lj.displayName="Drawer";const FQ=ba.Portal,Ij=p.forwardRef(({className:e,...t},n)=>c.jsx(ba.Overlay,{ref:n,className:W("fixed inset-0 bg-black/40",e),style:{zIndex:zt.MODAL},...t}));Ij.displayName=ba.Overlay.displayName;const Bj=p.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(FQ,{children:[c.jsx(Ij,{}),c.jsxs(ba.Content,{ref:r,className:W("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:zt.MODAL+1},...n,children:[c.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));Bj.displayName="DrawerContent";const Hj=({className:e,...t})=>c.jsx("div",{className:W("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Hj.displayName="DrawerHeader";const Fj=({className:e,...t})=>c.jsx("div",{className:W("mt-auto flex flex-col gap-2 p-4",e),...t});Fj.displayName="DrawerFooter";const Uj=p.forwardRef(({className:e,...t},n)=>c.jsx(ba.Title,{ref:n,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));Uj.displayName=ba.Title.displayName;const Gj=p.forwardRef(({className:e,...t},n)=>c.jsx(ba.Description,{ref:n,className:W("text-sm text-muted-foreground",e),...t}));Gj.displayName=ba.Description.displayName;var Vj="Toggle",Zj=p.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:a,...o}=e,[s,i]=Un({prop:n,onChange:a,defaultProp:r??!1,caller:Vj});return c.jsx(fe.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:te(e.onClick,()=>{e.disabled||i(!s)})})});Zj.displayName=Vj;var uo="ToggleGroup",[Yj,mee]=on(uo,[Ti]),qj=Ti(),Xv=D.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const a=r;return c.jsx(UQ,{...a,ref:t})}if(n==="multiple"){const a=r;return c.jsx(GQ,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${uo}\``)});Xv.displayName=uo;var[Xj,Wj]=Yj(uo),UQ=D.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=Un({prop:n,defaultProp:r??"",onChange:a,caller:uo});return c.jsx(Xj,{scope:e.__scopeToggleGroup,type:"single",value:D.useMemo(()=>s?[s]:[],[s]),onItemActivate:i,onItemDeactivate:D.useCallback(()=>i(""),[i]),children:c.jsx(Kj,{...o,ref:t})})}),GQ=D.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=Un({prop:n,defaultProp:r??[],onChange:a,caller:uo}),l=D.useCallback(f=>i((d=[])=>[...d,f]),[i]),u=D.useCallback(f=>i((d=[])=>d.filter(h=>h!==f)),[i]);return c.jsx(Xj,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:l,onItemDeactivate:u,children:c.jsx(Kj,{...o,ref:t})})});Xv.displayName=uo;var[VQ,ZQ]=Yj(uo),Kj=D.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:a=!0,orientation:o,dir:s,loop:i=!0,...l}=e,u=qj(n),f=ki(s),d={role:"group",dir:f,...l};return c.jsx(VQ,{scope:n,rovingFocus:a,disabled:r,children:a?c.jsx(by,{asChild:!0,...u,orientation:o,dir:f,loop:i,children:c.jsx(fe.div,{...d,ref:t})}):c.jsx(fe.div,{...d,ref:t})})}),mf="ToggleGroupItem",Qj=D.forwardRef((e,t)=>{const n=Wj(mf,e.__scopeToggleGroup),r=ZQ(mf,e.__scopeToggleGroup),a=qj(e.__scopeToggleGroup),o=n.value.includes(e.value),s=r.disabled||e.disabled,i={...e,pressed:o,disabled:s},l=D.useRef(null);return r.rovingFocus?c.jsx(wy,{asChild:!0,...a,focusable:!s,active:o,ref:l,children:c.jsx(fS,{...i,ref:t})}):c.jsx(fS,{...i,ref:t})});Qj.displayName=mf;var fS=D.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...a}=e,o=Wj(mf,n),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=o.type==="single"?s:void 0;return c.jsx(Zj,{...i,...a,ref:t,onPressedChange:l=>{l?o.onItemActivate(r):o.onItemDeactivate(r)}})}),Jj=Xv,eM=Qj;const tM=_i("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-transparent hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground",outline:"border border-input bg-background hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground data-[state=on]:border-muted-foreground/20"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-8"}},defaultVariants:{variant:"default",size:"default"}}),YQ=p.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>c.jsx(Jj,{ref:o,className:W(tM({variant:t,size:n}),e),...a,children:r}));YQ.displayName=Jj.displayName;const qQ=p.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>c.jsx(eM,{ref:o,className:W(tM({variant:t,size:n}),e),...a,children:r}));qQ.displayName=eM.displayName;function XQ({skill:e,onSkillSelect:t,onAssignmentChange:n}){const r=o=>{o.target.closest("[data-badge]")||t()},a=(o,s)=>{o.stopPropagation(),s==="major"?e.isMajor?n("none"):n("major"):s==="minor"&&(e.isMinor?n("none"):n("minor"))};return c.jsxs(St,{className:"cursor-pointer hover:shadow-md transition-shadow duration-200",onClick:r,children:[c.jsxs(Nt,{className:"pb-3",children:[c.jsx(Et,{className:"text-lg font-bold",children:e.name}),c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),c.jsxs(_t,{className:"pt-0 space-y-3",children:[e.perksCount>0&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",e.perksCount," Perks"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ce,{"data-badge":"major",variant:e.isMajor?"default":"outline",className:`cursor-pointer transition-colors ${e.isMajor?"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90":"hover:bg-skyrim-gold/10 hover:border-skyrim-gold"}`,onClick:o=>a(o,"major"),children:e.isMajor?"Major":"+ Major"}),c.jsx(Ce,{"data-badge":"minor",variant:e.isMinor?"default":"outline",className:`cursor-pointer transition-colors ${e.isMinor?"bg-gray-600 text-white hover:bg-gray-700":"hover:bg-gray-100 hover:border-gray-400"}`,onClick:o=>a(o,"minor"),children:e.isMinor?"Minor":"+ Minor"})]})]})]})}function WQ({skills:e,onSkillSelect:t,onAssignmentChange:n}){return c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(r=>c.jsx(XQ,{skill:r,onSkillSelect:()=>t(r.edid),onAssignmentChange:a=>n(r.edid,a)},r.edid))})}function KQ({selectedSkill:e,skillName:t,perkTree:n,skills:r,onSkillSelect:a,onReset:o,open:s,onOpenChange:i}){const{perkPlan:l,togglePerk:u,updatePerkRank:f,clearSkill:d}=_j(n),h=n?l.selectedPerks[n.treeName]||[]:[],m=()=>{n&&d(),o()},x=()=>{i(!1)},b=[{id:"skills",name:"Skills",placeholder:"Search skills...",options:r.map(y=>({id:y.edid,label:y.name,value:y.edid,category:"Skills",description:`${y.perksCount} perks available`}))}],S=y=>{a(y.value)};return!e||!n?null:c.jsx(Lj,{open:s,onOpenChange:i,children:c.jsxs(Bj,{className:"h-[85vh] bg-card border-t shadow-lg !bg-card",style:{backgroundColor:"hsl(var(--card))",zIndex:zt.DRAWER},children:[c.jsx(Hj,{className:"border-b",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-64",children:c.jsx(Ff,{categories:b,onSelect:S,placeholder:"Search skills..."})}),c.jsxs("div",{children:[c.jsx(Uj,{className:"text-xl",children:t||n.treeName}),c.jsxs(Gj,{children:[h.length," perks selected"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ae,{variant:"outline",size:"sm",onClick:m,className:"flex items-center gap-2",children:[c.jsx(ty,{className:"h-4 w-4"}),"Reset Perks"]}),c.jsx(ae,{variant:"outline",size:"sm",onClick:x,className:"flex items-center gap-2",children:c.jsx(Nn,{className:"h-4 w-4"})})]})]})}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx("div",{className:"h-full w-full",children:c.jsx(nj,{tree:n,onTogglePerk:u,onRankChange:f,selectedPerks:h})})}),c.jsx(Fj,{className:"border-t",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on perk nodes to select/deselect them"}),c.jsx(ae,{variant:"outline",onClick:x,children:"Close"})]})})]})})}function QQ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),{hasMajorSkill:s,hasMinorSkill:i}=an(),{perkTrees:l}=Ej();return p.useEffect(()=>{async function f(){try{r(!0);const d=await fetch("/lorerim-arcaneum/data/skills.json");if(!d.ok)throw new Error("Failed to fetch skills data");const m=((await d.json()).skills||[]).sort((x,b)=>x.name.localeCompare(b.name));t(m)}catch(d){o("Failed to load skills data"),console.error("Error loading skills:",d)}finally{r(!1)}}f()},[]),{skills:e.map(f=>{const d=l.find(m=>m.treeId===f.edid),h=d?d.perks.length:0;return{...f,perksCount:h,isMajor:s(f.edid),isMinor:i(f.edid)}}),loading:n,error:a,perkTrees:l}}function hS(){const[e,t]=S5(),[n,r]=p.useState(null),[a,o]=p.useState(!1),{skills:s,loading:i,error:l,perkTrees:u}=QQ(),{addMajorSkill:f,removeMajorSkill:d,addMinorSkill:h,removeMinorSkill:m}=an();p.useEffect(()=>{const w=e.get("skill");r(w),w&&o(!0)},[e]),p.useEffect(()=>{n?e.set("skill",n):e.delete("skill"),t(e,{replace:!0})},[n,e,t]);const x=w=>{r(w),o(!0)},b=(w,E)=>{E==="major"?f(w):E==="minor"?h(w):(d(w),m(w))},S=w=>{o(w),w||r(null)},y=()=>{console.log("Reset perks for skill:",n)},g=u.find(w=>w.treeId===n),v=s.find(w=>w.edid===n);return i?c.jsx(oa,{title:"Skills & Perks",description:"Choose your character's skills and plan your perk progression through skill trees.",children:c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading skills and perks..."})]})})}):l?c.jsx(oa,{title:"Skills & Perks",description:"Choose your character's skills and plan your perk progression through skill trees.",children:c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:l}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})})}):c.jsx(oa,{title:"Skills & Perks",description:"Choose your character's skills and plan your perk progression through skill trees.",children:c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Skills"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.length," skills available"]})]}),c.jsx(WQ,{skills:s,onSkillSelect:x,onAssignmentChange:b})]}),c.jsx(KQ,{selectedSkill:n,skillName:v==null?void 0:v.name,perkTree:g,skills:s,onSkillSelect:x,onReset:y,open:a,onOpenChange:S})]})})}function mS({item:e,isExpanded:t=!1,onToggle:n,className:r,allTraitIds:a,disableHover:o=!1}){e.originalTrait;const{hasRegularTrait:s,hasBonusTrait:i,addRegularTrait:l,addBonusTrait:u,removeTrait:f,canAddRegularTrait:d,canAddBonusTrait:h,build:m}=an(),b=s(e.id)?"primary":i(e.id)?"secondary":"none",S=w=>{b===w?f(e.id):(f(e.id),w==="primary"&&d()?l(e.id):w==="secondary"&&h()&&u(e.id))},y=!d()&&b!=="primary",g=!h()&&b!=="secondary",v=()=>b==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":b==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return p.useEffect(()=>{var w,E;if(a){const A=((w=m==null?void 0:m.traits)==null?void 0:w.regular)||[],N=((E=m==null?void 0:m.traits)==null?void 0:E.bonus)||[];[...A,...N].filter(k=>!a.includes(k)).forEach(k=>f(k))}},[a,m==null?void 0:m.traits,f]),c.jsxs(Ve,{expanded:t,onToggle:n,className:W(r,v()),disableHover:o,children:[c.jsx(Ve.Header,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(w_,{className:"h-4 w-4 text-black"}),c.jsx(Dc,{className:"text-primary font-semibold",children:e.name})]})}),c.jsx(Ve.Summary,{children:c.jsx(Gs,{text:e.description,className:W("text-base text-muted-foreground",t?"":"line-clamp-2")})}),c.jsx(Ve.Footer,{children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{size:"sm",variant:b==="primary"?"default":"outline",disabled:y,className:W("flex-1 text-xs",b==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:w=>{w.stopPropagation(),S("primary")},children:b==="primary"?"Remove Trait":"Starting Trait"}),c.jsx(ae,{size:"sm",variant:b==="secondary"?"default":"outline",disabled:g,className:W("flex-1 text-xs",b==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:w=>{w.stopPropagation(),S("secondary")},children:b==="secondary"?"Remove Trait":"Late Game Trait"})]})})]})}function JQ(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid,name:i.name,description:i.description,category:i.category,effects:i.effects.map(l=>`${l.type} ${l.condition||""} ${l.value}`),tags:i.tags,originalTrait:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new va(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredTraits:p.useMemo(()=>o.map(i=>i.item.originalTrait),[o]),searchResults:o,searchableTraits:n}}function nM(e){const t=e.map(n=>n.category);return[...new Set(t)].sort()}function eJ(e){const t=e.flatMap(n=>n.effects.map(r=>r.type));return[...new Set(t)].sort()}function rM(e){const t=e.flatMap(n=>n.tags);return[...new Set(t)].sort()}const tJ=[{name:"Acoustic Arcanist",description:"Your magic flows through melody and vibration. After playing an instrument at an inn, your sonic spells become ***20%*** more powerful. However, your booming presence makes hiring followers more expensive, and your reliance on sound magic weakens your physical attacks by ***15%***.",edid:"LoreTraits_AcousticArcanistAb",formId:"0xFEDF282F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Adrenaline Rush",description:"You possess a natural flight response. When at less than ***20%*** health, you move ***20%*** faster and regenerate ***1*** stamina per second but also deal ***30%*** less damage when below this threshold.",edid:"Traits_AdrenalineRushAb",formId:"0xFEA72D78",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Angler",description:"Your bond with the sea grants unique benefits. Mudcrabs and slaughterfish become friendly toward you. Fishing yields more valuable items. Fishing rods deal double damage and have a chance to summon a mudcrab to fight at your side. The summoned mudcrab becomes stronger if you're carrying an insect or small fish. Fishing rods can be enchanted. However, your affinity with the waters leaves you ***10%*** more vulnerable to shock damage.",edid:"Traits_AnglerAb",formId:"0xFEA72071",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Au Naturel",description:"Embrace your divine gifts! Start with ***+100*** health, magicka, and stamina. For each piece of armor or clothing you wear, you lose ***40*** from each attribute (up to a maximum loss of ***-160*** with four pieces equipped). Additionally, you gain +1 to health, magicka, and stamina per level for each empty armor slot (head, chest, hands, and feet).",edid:"Traits_AuNaturelAb",formId:"0xFEA72D7B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Bad Natured",description:"You were born into wickedness. Your attacks while being crouched deals ***20%*** more and you're better at pickpocketing. However, attacks while standing up do ***20%*** less and wearing a divine amulet will hurt you.",edid:"Traits_BadNaturedAb",formId:"0xFEA72D85",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:0,condition:"passive effect",duration:0,flags:["No Hit Event","No Duration","No Magnitude","No Area","Hide in UI","Painless"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bane of the Wicked",description:"You are an enemy to all things abhorrent. Deal ***20%*** more damage to undead, daedra and werewolves. However, do ***10%*** less damage to other beings.",edid:"Traits_BaneoftheWickedAb",formId:"0xFEA72D97",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blighted Fists",description:"Your afflictions fuel your fury! Your unarmed attacks deal ***+10*** unresistable disease damage per disease.",edid:"LoreTraits_BlightedFistsAb",formId:"0xFEDF281F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blood Warrior",description:"You take ***50%*** more physical damage and have ***100%*** weakness to Poison. However you start with ***+100*** health and gain ***+5*** health per level.",edid:"LoreTraits_BloodWarriorAb",formId:"0xFEDF200C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:100,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bulwark",description:"When walking or standing still, you gain ***200*** armor rating and reflect ***10%*** physical damage. You drain ***1*** additional stamina per second while sprinting and ***0.25*** when running.",edid:"Traits_BulwarkAb",formId:"0xFEA72D9F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:.25,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Defiler",description:"The only use you have for the living is to resurrect them in death. Deal ***20%*** more damage to playable races. However, do ***10%*** less damage to other beings.",edid:"Traits_DefilerAb",formId:"0xFEA72D99",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disbeliever",description:"You reject the influence of gods, placing your faith in logic and reason instead. Dwemer weapons and armor are ***33%*** stronger, but you cannot receive blessings from shrines or divines.",edid:"Traits_DisbelieverAb",formId:"0xFEA7284A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disciplined",description:"Shoot to kill. Bows and crossbows deal ***20%*** more damage. However, they draw/reload ***40%*** slower.",edid:"Traits_DisciplinedAb",formId:"0xFEA72D8F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Dominating Will",description:"Your presence commands fear, intimidation checks almost always succeed, and frenzy spells are ***20%*** stronger. However, your persuasive charm is lacking, making persuasion checks harder, and your pacifying spells are ***20%*** weaker.",edid:"LoreTraits_DominatingWillAb",formId:"0xFEDF281A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Dovah Tinvaak",description:"You are fluent in Dragon speech and as such can shout ***10%*** more often, at ***20%*** reduced effectiveness.",edid:"Traits_DovahTinvaakAb",formId:"0xFEA7204C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:.10000000149011612,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"social",tags:["social"],diagram:""},{name:"Druid",description:"Druids are attuned to nature, making spriggans friendly and reducing the cost of druidic spells by up to ***30%***. You can craft ***Lifebloom Essence*** from Taproot and Spriggan Sap for powerful regeneration. However, your bond with the wild leaves you ***25%*** more vulnerable to fire and axes.",edid:"Traits_DruidAb",formId:"0xFEA7207C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Elemental Conduit",description:`Fire spells are more powerful in sunny weather but lose potency in the rain. 
Shock spells are enhanced during rain but are less effective in snowy conditions. 
Frost spells excel in snowy weather but weaken under sunny skies.`,edid:"Traits_ElementalConduitAb",formId:"0xFEA72058",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Fast Shot",description:"You'd rather shoot fast than shoot hard. Bows draw ***40%*** faster, crossbows reload ***40%*** faster. However, bows and crossbows deal ***30%*** less damage.",edid:"Traits_FastShotAb",formId:"0xFEA72D8D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Fatal Attraction",description:"Your presence is as dangerous as it is alluring. You can choose one gender, you deal ***20%*** more physical damage to the selected gender, but in turn, take ***20%*** more from the other.",edid:"LoreTraits_FatalAttractionAb",formId:"0xFEDF281D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Focused",description:"When in danger, you think before acting. When at less than ***20%*** health, you regenerate ***5*** magicka per second and absorb ***10%*** of incoming spells. However, you take ***10%*** more damage when below this threshold.",edid:"Traits_FocusedAb",formId:"0xFEA72D93",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Focused Precision",description:"Your reliance on careful aim comes at a cost. Arrows and bolts deal ***15%*** less damage, but have a ***20%*** chance to push targets away. The strength of this pushback scales with your Marksman skill.",edid:"LoreTraits_FocusedPrecisionAb",formId:"0xFEDF2835",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Gambler",description:"You go in all or nothing. Gain ***50%*** chance to critical hit. However, overall weapon damage is reduced by ***40%***. When you land a critical hit, your attacks do ***10%*** more damage for ***30*** seconds (stackable up to ***5*** times).",edid:"Traits_GamblerAb",formId:"0xFEA72DA1",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Giantkin",description:"Descended from the mighty giants; you gain ***10%*** magic resistance and damage with blunt weapons, however you cannot read skill books, or use scrolls and staves.",edid:"Traits_GiantkinAb",formId:"0xFEA7205F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Glutton",description:"You LOVE food but hate medicine. Food benefits are ***25%*** stronger but potions have only ***50%*** their efficiency.",edid:"Traits_GluttonAb",formId:"0xFEA72D7F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Good Natured",description:"You have a good heart. Deal ***20%*** less damage with weapons and Destruction spells. However, while wearing an amulet of the divines beneficial spells and potions last ***20%*** longer and you take ***20%*** less damage.",edid:"Traits_GoodNaturedAb",formId:"0xFEA72D83",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Hoarder",description:"You love carrying stuff around, even if it's junk. Gain ***+200*** carryweight. Selling prices are ***50%*** worse.",edid:"Traits_HoarderAb",formId:"0xFEA72D87",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Homeowner",description:"You've secured a place to call your own, choosing one of Skyrim's fine homes to settle in. However, comfort comes at a cost: each week, you must make a mortgage payment based on the home's value.",edid:"Traits_HomeownerAb",formId:"0xFEA720B5",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Introvert",description:"You thrive in solitude but falter in the crowd. When facing three or fewer enemies, you deal ***15%*** more damage, whether with weapons or Destruction magic. Against four or more, your nerves get the better of you, and you deal ***10%*** less.",edid:"Traits_IntrovertAb",formId:"0xFEA720D4",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Jack of All Spells",description:"But master of none. Novice, Apprentice and Adept spells are ***20%*** stronger or longer lasting, expert and master spells are ***20%*** weaker or shorter.",edid:"Traits_JackofAllSpellsAb",formId:"0xFEA72D89",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"King of Worms",description:"You've gained hidden insight into necromantic arts. You can have ***1*** additional summon or undead thrall. However, the duration of summon and resurrecting spells is reduced by ***33%***.",edid:"Traits_KingofWormsAb",formId:"0xFEA72D9B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Light Foot",description:"You've never felt comfortable in footwear. When not wearing boots/shoes, your movement is muffled, you move ***5%*** faster and suffer no fall damage. When wearing boots/shoes you move ***10%*** slower.",edid:"Traits_LightFootAb",formId:"0xFEA72D79",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Lurker",description:"When not wearing any clothes sneak attacks deal ***2.5*** times more damage and can sneak ***25%*** better. Eating fish when it's raw and wriggling triggers a powerful healing effect that lasts ***10*** minutes. However, armor provides no protection, cooked food offers no benefits, and weapons with a weight above 10 will deal no damage.",edid:"Traits_GollumAb",formId:"0xFEA720DF",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Marathon Runner",description:"You regenerate ***5*** stamina per second while sprinting. However, you will not be able to gain any stamina while running or standing still.",edid:"Traits_MarathonRunnerAb",formId:"0xFEA7205B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e4,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"special",tags:["special"],diagram:""},{name:"Master of Destiny",description:"You reject the influence of fate and star signs. Standing Stones cannot be used, but you begin the game with ***3*** additional perk points and a permanent ***+5*** boost to all skills.",edid:"Traits_MasterofDestinyAb",formId:"0xFEA7206D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Nosferatu",description:"You're an ugly sight and live in the sewers. ***-50*** speech, no health, magicka or stamina regen outdoors. Eating skeever meat gives you a ***20%*** speed boost and restores ***10*** health, magicka and stamina per second for ***180*** seconds.",edid:"Traits_NosferatuAb",formId:"0xFEA72039",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:50,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:50,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Old Fashioned",description:"If it ain't broke, don't fix it. Weapons, armor and magical staves made of iron, wood, steel, fur or hide are ***15%*** stronger. Otherwise, they are ***10%*** weaker.",edid:"Traits_OldFashionedAb",formId:"0xFEA72D8B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Pacifist",description:"When your arms are lowered you restore ***2*** magicka and stamina per second. However, raising your hands in combat will have the opposite effect. Those born under the sign of the Atronach do not gain any benefits.",edid:"Traits_PacifistAb",formId:"0xFEA72D9D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:2,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:2,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Phalanx",description:"You deal ***15%*** more damage with spears, javelins, pikes, and halberds. However, you take ***50%*** more damage when hit from behind. Also gives you a unique pike.",edid:"LoreTraits_PhalanxAb",formId:"0xFEDF2801",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Rage",description:"You posses a natural fight response. When at less than ***20%*** health, you deal ***20%*** more damage and take ***20%*** less damage. However, you move ***30%*** slower when below this threshold.",edid:"Traits_RageAb",formId:"0xFEA72D91",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Serene Presence",description:"Your calming aura makes you effortlessly persuasive: persuasion checks almost always succeed, and pacifying spells are ***20%*** stronger. However, your intimidation attempts are half as likely to succeed, and your frenzy spells are ***20%*** weaker.",edid:"LoreTraits_SerenePresenceAb",formId:"0xFEDF2816",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Shehai",description:"Your bound weapons do ***15%*** more damage. But you take ***25%*** more damage from the undead.",edid:"LoreTraits_ShehaiAb",formId:"0xFEDF2029",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Silent Dovah",description:"You choose not to speak the Thu'um, instead hoarding the souls of slain dragons to fuel your own power. For each unspent dragon soul, you gain ***+10*** Health, Magicka, and Stamina. However, this draconic strength rejects the curse of beast or blood: werewolves and vampires cannot harness its power.",edid:"LoreTraits_SilentDovahAb",formId:"0xFEDF280C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Skilled",description:"Reading skill books grants an extra skill point and trainers cost ***50%*** less, however every ***5*** levels you don't gain a perk point.",edid:"Traits_SkilledAb",formId:"0xFEA7203F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Embed",description:"At will, you can consume a dragon soul to amplify the magnitude of your shouts by ***50%*** for ***1*** hour.",edid:"LoreTraits_SoulEmbedAb",formId:"0xFEDF2004",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Reaver",description:"You've claimed countless souls for your gain. Weapon and armor enchantments are ***10%*** stronger and use ***10%*** less charge. Armor rating and weapon damage is reduced by ***10%***.",edid:"Traits_SoulReaverAb",formId:"0xFEA72D95",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Sunkissed",description:"You draw strength from the sun's radiant blaze: sun spells are ***15%*** more powerful in your hands. But such warmth comes at a cost: you take ***25%*** more frost damage, and this weakness deepens to ***50%*** beneath the cold veil of night.",edid:"LoreTraits_SunkissedAb",formId:"0xFEDF2014",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Swimmer",description:"You prefer life on the water. In water, you swim ***30%*** faster, can breath underwater and regenerate health, stamina and magicka by a flat ***1*** per second. On land, you suffer ***25%*** less health, stamina and magicka regeneration.",edid:"Traits_SwimmerAb",formId:"0xFEA72D81",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:0,condition:"recovery effect, duration scales with power",duration:0,flags:["Recover","No Magnitude","No Area","Hide in UI","Power Affects Duration","No Hit Effect"]},{type:"special_effect",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Touch of the Arcane",description:"Your touch and cloak spells are ***20%*** stronger. All other spell types are ***10%*** weaker or last ***10%*** less.",edid:"LoreTraits_TouchoftheArcaneAb",formId:"0xFEDF2808",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unbound Hands",description:"Handwear constricts you. Spells are ***15%*** stronger and unarmed attacks do ***+30*** more damage when not wearing gloves/gauntlets. However, they suffer the opposite effect when wearing gloves/gauntlets.",edid:"Traits_UnboundHandsAb",formId:"0xFEA72D7D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unshakable",description:"You turn defense into offense. Your shield bashes deal ***20%*** more damage and cost ***20%*** less Stamina. However, your unwavering focus on your shield makes you slower while blocking.",edid:"LoreTraits_UnshakableAb",formId:"0xFEDF2833",spell:{cost:1109,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]},{type:"special_effect",value:50,condition:"while blocking, negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Wandering Monk",description:"Power attacks with quarterstaves will force the enemy to drop their weapon to the ground, however this only applies if you're not wearing any armor (light or heavy). You also recieve a unique battlestaff.",edid:"LoreTraits_WanderingMonkAb",formId:"0xFEDF201A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Way of the Voice",description:"You follow the pacifist creed of the Greybeards, and as such your hostile shouts are ***30%*** less effective, but using non-hostile shouts has a ***20%*** chance reset the shout cooldown.",edid:"Traits_WayoftheVoiceAb",formId:"0xFEA72050",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Witcher",description:"Potions and poisons you craft are ***20%*** more effective, and consuming raw ingredients grants double the effect. However, you can only benefit from up to ***four*** active potion effects at a time.",edid:"Traits_WitcherAb",formId:"0xFEA72032",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"crafting",tags:["crafting"],diagram:""},{name:"Wizard's Wardrobe",description:"Your wands are ***30%*** more effective when wearing a wizard hat. When not wearing a wizard hat, all spells are ***10%*** less powerful or last ***10%*** less.",edid:"LoreTraits_WizardsWardrobeAb",formId:"0xFEDF2806",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""}],nJ={traits:tJ};function rJ(){const[e,t]=p.useState({search:"",category:"",tags:[]}),n=p.useMemo(()=>{const i=nJ.traits;if(!i||!Array.isArray(i))return console.error("Invalid trait data structure detected"),[];const l=i.map(u=>({...u,name:u.name||"Unknown Trait",description:u.description||"",category:u.category||"misc",tags:u.tags||[],effects:u.effects||[]}));return console.log(`Successfully loaded ${l.length} traits`),l},[]),r=p.useMemo(()=>n.filter(i=>{if(e.search){const l=e.search.toLowerCase();if(![i.name,i.description,i.category,...i.tags,...i.effects.map(f=>f.type)].join(" ").toLowerCase().includes(l))return!1}return!(e.category&&i.category!==e.category||e.tags.length>0&&!e.tags.some(u=>i.tags.includes(u)||i.category===u||i.effects.some(f=>f.type===u)))}),[n,e]),a=p.useMemo(()=>nM(n),[n]),o=p.useMemo(()=>eJ(n),[n]),s=p.useMemo(()=>rM(n),[n]);return{traits:r,allTraits:n,loading:!1,error:null,filters:e,setFilters:t,allCategories:a,allEffectTypes:o,allTags:s}}function pS(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]),[l,u]=p.useState("alphabetical"),[f,d]=p.useState("grid"),[h,m]=p.useState(new Set);p.useEffect(()=>{async function C(){try{r(!0);const k=await fetch("/lorerim-arcaneum/data/traits.json");if(!k.ok)throw new Error("Failed to fetch trait data");const j=await k.json();t(j.traits)}catch(k){o("Failed to load trait data"),console.error("Error loading traits:",k)}finally{r(!1)}}C()},[]),e.map(Cw);const b=(()=>{const C=nM(e),k=rM(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:C.map(j=>({id:`category-${j}`,label:j,value:j,category:"Categories",description:`Traits in ${j} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:k.map(j=>({id:`tag-${j}`,label:j,value:j,category:"Tags",description:`Traits tagged with ${j}`}))}]})(),S=C=>{let k;typeof C=="string"?k={id:`custom-${C}`,label:C,value:C,category:"Fuzzy Search"}:k={id:`${C.category}-${C.id}`,label:C.label,value:C.value,category:C.category},s.some(j=>j.value===k.value&&j.category===k.category)||i(j=>[...j,k])},y=C=>{i(k=>k.filter(j=>j.id!==C))},g=e.filter(C=>s.length===0?!0:s.every(k=>{switch(k.category){case"Fuzzy Search":return!0;case"Categories":return C.category===k.value;case"Tags":return C.tags.some(j=>j===k.value);default:return!0}})),v=s.filter(C=>C.category==="Fuzzy Search").map(C=>C.value).join(" "),{filteredTraits:w}=JQ(g,v),E=w.map(Cw),A=e.map(C=>C.edid),N=[...E].sort((C,k)=>{var j,B;switch(l){case"alphabetical":return C.name.localeCompare(k.name);case"category":const $=O=>{switch(O){case"Combat":return 1;case"Magic":return 2;case"Stealth":return 3;case"Social":return 4;case"Survival":return 5;default:return 6}},T=$(C.category),z=$(k.category);return T!==z?T-z:C.name.localeCompare(k.name);case"effect-count":const R=((j=C.effects)==null?void 0:j.length)||0,L=((B=k.effects)==null?void 0:B.length)||0;return R!==L?L-R:C.name.localeCompare(k.name);default:return 0}}),_=C=>{const k=new Set(h);if(f==="grid"){const B=N.findIndex(L=>L.id===C),T=Math.floor(B/3)*3,z=Math.min(T+3,N.length);N.slice(T,z).some(L=>k.has(L.id))?N.slice(T,z).forEach(L=>{k.delete(L.id)}):N.slice(T,z).forEach(L=>{k.add(L.id)})}else k.has(C)?k.delete(C):k.add(C);m(k)};return n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):a?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:a}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs(oa,{title:"Traits",description:"Choose your character's traits. Traits provide unique abilities and modifiers that will shape your character's capabilities throughout their journey.",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Qf,{categories:b,onSelect:S,onCustomSearch:S})}),c.jsxs(Vy,{children:[c.jsx(Zy,{asChild:!0,children:c.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[c.jsx(er,{className:"h-4 w-4"}),l==="alphabetical"?"A-Z":l==="category"?"Category":"Count"]})}),c.jsxs(Xf,{align:"end",children:[c.jsx(sa,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),c.jsx(sa,{onClick:()=>u("category"),children:"Category"}),c.jsx(sa,{onClick:()=>u("effect-count"),children:"Effect Count"})]})]}),c.jsxs("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg",children:[c.jsx(ae,{variant:f==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:c.jsx(Cc,{className:"h-4 w-4"})}),c.jsx(ae,{variant:f==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:c.jsx(_c,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"my-4",children:s.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[c.jsx(Nn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(C=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>y(C.id),title:"Click to remove",children:[C.label,c.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},C.id))]})}),f==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:N.map(C=>{const k=h.has(C.id);return c.jsx(mS,{item:C,isExpanded:k,onToggle:()=>_(C.id),className:"w-full",allTraitIds:A},C.id)})}):c.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:N.map(C=>{const k=h.has(C.id);return c.jsx(mS,{item:C,isExpanded:k,onToggle:()=>_(C.id),className:"w-full",allTraitIds:A},C.id)})}),N.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function aJ({predictivePaths:e,selectedTags:t,onTagSelect:n,onTagRemove:r,className:a=""}){const o=p.useMemo(()=>{const s=new Map;e.forEach(h=>{h.path.forEach((m,x)=>{const b=x,S=s.get(m.name);(!S||b<S.level)&&s.set(m.name,{name:m.name,level:b})})});const i=new Set;e.forEach(h=>{h.isComplete&&i.add(h.endNode.name)});const l=Array.from(s.entries()).map(([h,{level:m}])=>({name:h,level:m})).sort((h,m)=>h.level!==m.level?h.level-m.level:h.name.localeCompare(m.name)),u=e.filter(h=>t.length===0?!0:t.every(m=>{const[x,b]=m.value.split(":");return x==="contains"?h.path.some(S=>S.name.toLowerCase().includes(b.toLowerCase())):x==="ends"?h.isComplete&&h.endNode.name.toLowerCase().includes(b.toLowerCase()):!0})),f=new Set;u.forEach(h=>{h.isComplete&&f.add(h.endNode.name)});const d=new Set;return u.forEach(h=>{h.path.forEach((m,x)=>{d.has(m.name)||d.add(m.name)})}),[{id:"contains-nodes",name:"Contains Node",placeholder:"Search for paths containing a specific node...",options:l.filter(({name:h})=>d.has(h)).map(({name:h,level:m})=>({id:`contains-${h}`,label:`${h} (Level ${m})`,value:`contains:${h}`,category:"Contains Node",description:`Paths that include ${h}`}))},{id:"ends-with-nodes",name:"Ends With Node",placeholder:"Search for paths ending at a specific node...",options:Array.from(f).sort().map(h=>({id:`ends-${h}`,label:h,value:`ends:${h}`,category:"Ends With Node",description:`Paths that end at ${h}`}))}]},[e,t]);return c.jsxs("div",{className:`space-y-4 ${a}`,children:[c.jsx(Ky,{categories:o,onSelect:n,className:"w-full"}),c.jsx(Qy,{tags:t,onRemove:r,className:"justify-start"})]})}function oJ({destinyNodes:e,buildDestinyPath:t,setDestinyPath:n,loading:r,error:a,navigate:o,predictivePaths:s,onBuildPathSelect:i,isNodePlanned:l,onBreadcrumbClick:u,selectedTags:f,onTagSelect:d,onTagRemove:h}){const m=t.map(y=>e.find(g=>g.id===y)).filter(y=>!!y),x=m.length>0?m[m.length-1]:void 0,b=x?e.every(y=>!y.prerequisites.includes(x.name)):!1,S=D.useMemo(()=>s.filter(y=>f.length===0?!0:f.every(g=>{const[v,w]=g.value.split(":");return v==="contains"?y.path.some(E=>E.name.toLowerCase().includes(w.toLowerCase())):v==="ends"?y.isComplete&&y.endNode.name.toLowerCase().includes(w.toLowerCase()):!0})),[s,f]);return c.jsxs(St,{className:"mb-6",children:[c.jsx(Nt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx(Et,{className:"text-lg",children:"Destiny"}),c.jsx(ae,{variant:"outline",size:"sm",onClick:()=>o("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:"View All"})]})}),c.jsx(_t,{className:"space-y-4",children:r?c.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):a?c.jsx("div",{className:"text-destructive",children:a}):c.jsx(c.Fragment,{children:m.length===0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-muted-foreground font-medium mb-2",children:"Select a node to start building your destiny:"}),c.jsx(qd,{className:"min-h-[120px] max-h-96 overflow-y-auto pr-2",children:c.jsx(xg,{possiblePaths:S,selectedPath:[],isPlanned:l,onBreadcrumbClick:i})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("button",{type:"button",className:"p-1 rounded hover:bg-muted transition-colors cursor-pointer",title:"Reset Destiny Path",onClick:()=>n([]),children:c.jsx(ty,{className:"w-4 h-4 text-muted-foreground"})}),c.jsx(Pk,{path:m,BreadcrumbHover:(y,g)=>c.jsx(dv,{node:y,isPlanned:!1,children:g}),onNodeClick:u})]}),c.jsx(Lk,{path:m}),!b&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"my-4 h-px bg-gray-300 dark:bg-gray-600"}),c.jsx(aJ,{predictivePaths:s,selectedTags:f,onTagSelect:d,onTagRemove:h}),c.jsx(qd,{className:"min-h-[120px] max-h-96 overflow-y-auto pr-2",children:c.jsx(xg,{possiblePaths:S,selectedPath:[],isPlanned:l,onBreadcrumbClick:i})})]})]})})})]})}function sJ(e){const{build:t,setDestinyPath:n}=an(),r=t.destinyPath.length===0?[]:t.destinyPath.map(u=>e.find(f=>f.id===u)).filter(u=>!!u),{predictivePaths:a,isNodePlanned:o}=kk({nodes:e,plannedNodes:[],onNodePlan:()=>{},onNodeUnplan:()=>{},initialPath:r});let s=a;if(r.length>0){const u=r[r.length-1];s=a.filter(f=>f.path.length>0&&f.path[0].id===u.id)}return{build:t,selectedDestinyPath:r,filteredPredictivePaths:s,isNodePlanned:o,handleBuildPathSelect:(u,f)=>{const d=u.slice(0,f+1).map(h=>h.id);n(d)},handleBreadcrumbClick:u=>{const f=r.slice(0,u+1).map(d=>d.id);n(f)},setDestinyPath:n}}const iJ=({navigate:e})=>{const[t,n]=p.useState([]),[r,a]=p.useState(!0),[o,s]=p.useState(null);p.useEffect(()=>{async function E(){try{a(!0);const A=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!A.ok)throw new Error("Failed to fetch destiny data");const N=await A.json();n(N.map((_,C)=>({id:_.globalFormId||`destiny-${C}`,name:_.name,description:_.description,tags:[],prerequisites:_.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:_.globalFormId})))}catch{s("Failed to load destiny data")}finally{a(!1)}}E()},[]);const{selectedDestinyPath:i,isNodePlanned:l,handleBuildPathSelect:u,handleBreadcrumbClick:f,build:d,setDestinyPath:h}=sJ(t),m=t.find(E=>E.prerequisites.length===0),x=Ik(t,m);let b=x;i.length>0&&(b=x.filter(E=>i.every((A,N)=>E[N]&&E[N].id===A.id)));function S(E){return t.every(A=>!A.prerequisites.includes(E.name))}const y=b.map(E=>({path:E,isComplete:E.length>0&&S(E[E.length-1]),endNode:E[E.length-1]})),{handleTagSelect:g,handleTagRemove:v,filters:{selectedTags:w}}=fv({onFiltersChange:()=>{},onSearch:()=>{}});return c.jsx(oJ,{selectedPath:i,destinyNodes:t,buildDestinyPath:d.destinyPath,setDestinyPath:h,loading:r,error:o,navigate:e,predictivePaths:y,onBuildPathSelect:u,isNodePlanned:l,onBreadcrumbClick:f,selectedTags:w,onTagSelect:g,onTagRemove:v})};function gS({races:e,onSelect:t,placeholder:n="Search races...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(""),[l,u]=p.useState(-1),f=p.useRef(null),d=p.useRef(null);p.useEffect(()=>{const g=v=>{f.current&&!f.current.contains(v.target)&&(o(!1),u(-1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=e.filter(g=>{var v;return g.name.toLowerCase().includes(s.toLowerCase())||g.description.toLowerCase().includes(s.toLowerCase())||((v=g.category)==null?void 0:v.toLowerCase().includes(s.toLowerCase()))}),m=g=>{i(g),o(!0),u(-1)},x=g=>{t(g),i(""),o(!1),u(-1)},b=g=>{g.key==="ArrowDown"?(g.preventDefault(),u(v=>Math.min(v+1,h.length-1))):g.key==="ArrowUp"?(g.preventDefault(),u(v=>Math.max(v-1,-1))):g.key==="Enter"?(g.preventDefault(),l>=0&&h[l]&&x(h[l])):g.key==="Escape"&&(o(!1),u(-1))},S=()=>{o(!0)},y=()=>{var g;i(""),(g=d.current)==null||g.focus()};return c.jsxs("div",{ref:f,className:`relative ${r}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(lo,{ref:d,type:"text",placeholder:n,value:s,onChange:g=>m(g.target.value),onFocus:S,onKeyDown:b,className:"pl-10 pr-20"}),s&&c.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:y,children:c.jsx(Nn,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:c.jsx(er,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:zt.AUTOCOMPLETE+10},children:c.jsx("div",{className:"p-2",children:h.length===0?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No races found"}):h.map((g,v)=>c.jsx("button",{onClick:()=>x(g),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${v===l?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Cj,{raceName:g.name,size:"sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium truncate",children:g.name}),c.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[g.category&&c.jsx("div",{className:"text-xs text-muted-foreground truncate",children:g.category}),g.startingStats&&c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/80"}),c.jsx("span",{className:"text-muted-foreground",children:"HP"}),c.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.health})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/80"}),c.jsx("span",{className:"text-muted-foreground",children:"MP"}),c.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.magicka})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/80"}),c.jsx("span",{className:"text-muted-foreground",children:"SP"}),c.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.stamina})]})]})]})]})]})},g.edid))})})]})}const aM={REQ_StrongStomach:"Strong Stomach",IsBeastRace:"Beast Race",REQ_DropsBloodKeyword:"Bleeds",REQ_RacialSkills_SneakUnperked:"Natural Sneak",REQ_RacialSkills_CreatePotionsUnperked:"Natural Alchemy",REQ_RacialSkills_LockpickUnperked:"Natural Lockpicking",REQ_RacialSkills_RechargeWeaponsUnperked:"Natural Enchanting",ActorTypeNPC:"NPC",REQ_RaceHuman:"Human Race"};function lJ(e,t){const n=t.toLowerCase(),r=e.toLowerCase();return r.includes("resist")||r.includes("resistance")||n.includes("resist")||n.includes("resistance")||n.includes("immune")||n.includes("protection")||n.includes("less likely to")||n.includes("less damage")||n.includes("less effect")||n.includes("reduced effect")||n.includes("reduced damage")||n.includes("reduced chance")?"positive":n.includes("penalty")||n.includes("reduced")||n.includes("less")||r.includes("no ")||r.includes("penalty")||r.includes("weakness")?"negative":n.includes("increased")||n.includes("more")||n.includes("faster")||n.includes("bonus")||n.includes("+")?"positive":"neutral"}function cJ(e){const t=e.match(/<(\d+(?:\.\d+)?)>/);return t?parseFloat(t[1]):void 0}function uJ(e){const t=["health","magicka","stamina","damage","speed","effect"],n=e.toLowerCase();for(const r of t)if(n.includes(r))return r}function dJ(e){const t=[];return t.push(e.category),e.keywords.forEach(n=>{const r=aM[n.edid];r&&t.push(r)}),e.racialSpells.forEach(n=>{t.push(n.name)}),e.skillBonuses.forEach(n=>{t.push(n.skill)}),[...new Set(t)]}function fJ(e){const t=e.racialSpells.map(r=>({name:r.name,type:lJ(r.name,r.description),description:r.description,value:cJ(r.description),target:uJ(r.description)})),n=dJ(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,category:e.category,tags:n,effects:t,startingStats:e.startingStats,skillBonuses:e.skillBonuses,keywords:n,regeneration:e.regeneration,combat:e.combat}}function Jg(e){return aM[e]||e}function hJ(e){const t=new Set;return e.forEach(n=>{n.keywords.forEach(r=>{const a=Jg(r.edid);t.add(a)})}),Array.from(t).sort()}function mJ(e){const t=new Set;return e.forEach(n=>{n.skillBonuses.forEach(r=>{t.add(r.skill)})}),Array.from(t).sort()}function pJ(e){const t=new Set;return e.forEach(n=>{n.racialSpells.forEach(r=>{t.add(r.name)})}),Array.from(t).sort()}function gJ(e){return!e||typeof e!="object"?!1:e.races&&Array.isArray(e.races)?e.races.every(t=>yS(t)):yS(e)}function yS(e){return!e||typeof e!="object"?!1:["name","edid","category","description","startingStats","skillBonuses","racialSpells","keywords"].every(n=>{if(!(n in e))return!1;switch(n){case"name":case"edid":case"category":case"description":return typeof e[n]=="string";case"startingStats":return yJ(e[n]);case"skillBonuses":return Array.isArray(e[n])&&e[n].every(vJ);case"racialSpells":return Array.isArray(e[n])&&e[n].every(xJ);case"keywords":return Array.isArray(e[n])&&e[n].every(bJ);default:return!0}})}function yJ(e){return!e||typeof e!="object"?!1:["health","magicka","stamina","carryWeight"].every(n=>typeof e[n]=="number"&&e[n]>=0)}function vJ(e){return e&&typeof e.skill=="string"&&typeof e.bonus=="number"}function xJ(e){return e&&typeof e.edid=="string"&&typeof e.name=="string"&&typeof e.description=="string"&&typeof e.globalFormId=="string"}function bJ(e){return e&&typeof e.edid=="string"&&typeof e.globalFormId=="string"}function wJ(e){var t,n,r,a;return{name:e.name||"Unknown Race",edid:e.edid||"UnknownRace",category:e.category||"Unknown",source:e.source||"Unknown",description:e.description||"No description available.",startingStats:{health:((t=e.startingStats)==null?void 0:t.health)||100,magicka:((n=e.startingStats)==null?void 0:n.magicka)||100,stamina:((r=e.startingStats)==null?void 0:r.stamina)||100,carryWeight:((a=e.startingStats)==null?void 0:a.carryWeight)||200},physicalAttributes:e.physicalAttributes||{heightMale:1,heightFemale:1,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:Array.isArray(e.skillBonuses)?e.skillBonuses:[],racialSpells:Array.isArray(e.racialSpells)?e.racialSpells:[],keywords:Array.isArray(e.keywords)?e.keywords:[],flags:Array.isArray(e.flags)?e.flags:[],regeneration:e.regeneration||{health:.1,magicka:1,stamina:1},combat:e.combat||{unarmedDamage:10,unarmedReach:70}}}function SJ(e){const t=[];let n=0;return e.forEach((r,a)=>{try{const o=fJ(r);n++,(!o.id||!o.name||!o.category)&&t.push(`Race ${a}: Missing required transformed fields`),o.effects.length===0&&r.racialSpells.length>0&&t.push(`Race ${a}: No effects transformed from ${r.racialSpells.length} spells`)}catch(o){t.push(`Race ${a}: Transformation failed - ${o}`)}}),{success:t.length===0,errors:t,transformedCount:n}}const NJ=[{name:"Altmer",edid:"HighElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:'The Altmer of Summerset Isle are called "High" Elves in the Empire, describing both their physical appearance and their snobbish personality. The arcane ability of High Elves surpasses all other races in Tamriel. Their Highborn ability grants them increased magicka and spell power. They are weak in physical combat, however, and their magic affinity makes them more susceptible to elemental damage.',startingStats:{health:100,magicka:160,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.159999966621399,heightFemale:1.1200000047683716,weightMale:.5,weightFemale:.5,size:"Medium"},skillBonuses:[{skill:"Alteration",bonus:15},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:10},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Altmer_WeaknessElements",name:"Weakness to Elements",description:"High elves are more vulnerable to elements compared to other races. Fire, frost, and shock deal <10>% more damage to you.",globalFormId:"0x000E40C8"},{edid:"REQ_Ability_Race_Altmer_Highborn",name:"Highborn",description:"High elf blood grants great affinity to magicka as well as resistance to diseases. Magicka regenerates <50>% faster, spells are <5>% more powerful and last longer, you are <50>% less likely to contract diseases.",globalFormId:"0x00105F16"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.2000000476837158,multipliers:[{value:1.5,source:"Highborn"}]},stamina:{base:1.5499999523162842}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Argonian",edid:"ArgonianRace",category:"Beast",source:"Synthesis - NPC.esp",description:"Argonians are the reptilian denizens of Black Marsh. Years of defending their borders have made them experts in stealth and evasion, and their natural abilities make them equally at home in water and on land. They are resistant to diseases and poisons and enjoy raw meat. Their Histskin allows them to quickly heal their wounds.",startingStats:{health:140,magicka:120,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.059999942779541,heightFemale:1.0449999570846558,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:15},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Argonian_Waterbreathing",name:"Waterbreathing",description:"Your Argonian lungs can breathe underwater, while you also find it much easier to swim than members of other races. You can breathe underwater, swimming is <20>% faster, swimming is <75>% less exhausting.",globalFormId:"0x000AA01B"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Argonian_Histskin",name:"Histskin",description:"Argonians can nautrally regenerate health faster than others, and their metabolism increases the effect of alchemical substances. Regenerate <1> health per second, potions are <10>% more effective and last longer.",globalFormId:"0x000E40D5"},{edid:"REQ_Ability_Race_Argonian_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Argonian blood greatly reduces the effect of poison and disease. Poison deals <75>% less damage to you, you are <75>% less likely to contract diseases.",globalFormId:"0x00104ACF"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0,adjustments:[{value:1,source:"Histskin"}]},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Bosmer",edid:"WoodElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Bosmer, or Wood Elves, originate from the sacred forest of Valenwood. Their culture is highly carnivorous and even cannibalistic, derived from the Green Pact with the forest, in which they harm no plant. Their dexterity makes them excellent scouts and thieves, and there are no finer archers in all of Tamriel. They have a natural resistance to poison, disease and shock.",startingStats:{health:100,magicka:120,stamina:140,carryWeight:200},physicalAttributes:{heightMale:.9200000166893005,heightFemale:.9399999976158142,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Marksman",bonus:15},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:10},{skill:"Alteration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Bosmer_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Bosmer blood grants you resistance to poison and diseases. Poison deals <25>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA025"},{edid:"REQ_Power_Race_Bosmer_ShockResist",name:"Grounded",description:"In harmony with nature and the earth, the Bosmer have honed their bodies to be conduits of elemental potential. +25% shock resist",globalFormId:"0x000E40CF"},{edid:"REQ_Ability_Race_Bosmer_EyeOfTheHunt",name:"Eye of the Hunt",description:"The Bosmer are naturally skilled in marksmanship, and can aim their bows more precisely. Armor penetration with ranged weapons is increased by <5>.",globalFormId:"0xFE686801"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.649999976158142}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Breton",edid:"BretonRace",category:"Human",source:"Synthesis - NPC.esp",description:"Bretons, the inhabitants of the province of High Rock, are the human descendants of the Elves and the ancient race of the Nedes. While Bretons are physically weak, they can tap on magicka more than any other human race and they are particularly capable in the school of Conjuration. Their magic resistance blocks one fifth of incoming spell damage and their Dragonskin ability can fully absorb harmful magic by chance.",startingStats:{health:120,magicka:140,stamina:100,carryWeight:200},physicalAttributes:{heightMale:.9850000143051147,heightFemale:.949999988079071,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Alchemy",bonus:10},{skill:"Speechcraft",bonus:10},{skill:"Conjuration",bonus:15},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Breton_MagicResistance",name:"Magic Resistance",description:"Your Breton blood reduces damage taken from all magical sources. Magic deals <15>% less damage to you.",globalFormId:"0x000AA01F"},{edid:"REQ_Ability_Race_Breton_Dragonskin",name:"Dragonskin",description:"Bretons can naturally absorb harmful magic by chance. Increases chance to absorb the magicka from hostile spells by <10>%.",globalFormId:"0x000AA022"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.149999976158142},stamina:{base:1.600000023841858}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Dunmer",edid:"DarkElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Dunmer, or Dark Elves, are the ash-skinned, red-eyed, Elven people of Vvardenfell. They combine powerful intellects with strong and agile physiques, producing excellent warriors and evokers. They are extremely resistant to fire, blocking half of incoming fire damage. They're particularly skilled in Destruction and Conjuration magic, and can imbue more power into associated spells.",startingStats:{health:100,magicka:140,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0299999713897705,heightFemale:1.0149999856948853,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Sneak",bonus:10},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:15},{skill:"Illusion",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Dunmer_ResistFire",name:"Resist Fire",description:"Tempered in the flames of the Red Mountain and the heat of the Ashlands, your Dunmer blood greatly reduces all fire damage dealt to you. Fire deals <50>% less damage to you.",globalFormId:"0x000AA021"},{edid:"REQ_Ability_Race_Dunmer_Ashlander",name:"Ashlander",description:"Dunmer are naturally talented evokers and conjurers. Destruction and Conjuration spells are <10>% more powerful and last longer.",globalFormId:"0x000E40D4"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Imperial",edid:"ImperialRace",category:"Human",source:"Synthesis - NPC.esp",description:"The cosmopolitan citizens of Cyrodiil are descended from the founders of the glorious Empire that has influenced Tamriel's history throughout the eras. Imperials are talented leaders and traders among society, skilled in both magic and combat thanks to martial and academic education of the schools of Cyrodiil. Their leadership can encourage their followers to fight well in combat.",startingStats:{health:120,magicka:120,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0149999856948853,heightFemale:.9850000143051147,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Speechcraft",bonus:15},{skill:"Destruction",bonus:10},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Imperial_VoiceOfTheEmperor",name:"Voice of the Emperor",description:"Imperials are talented leaders and traders among society. Speech skill is <15> higher, prices are <15>% more favorable, magicka and stamina of nearby allies increase by <25>.",globalFormId:"0x000E40CA"},{edid:"REQ_Ability_Race_Imperial_ImperialDiversity",name:"Imperial Diversity",description:"Imperial education involves various martial and academical trainings, producing citizens with variety of skills. Health, magicka, and stamina regenerate <25>% faster.",globalFormId:"0x000EB7EB"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]},stamina:{base:1.600000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Khajiit",edid:"KhajiitRace",category:"Beast",source:"Synthesis - NPC.esp",description:"The Khajiit are a race of feline humanoids hailing from the province of Elsweyr, well-known as great merchants but also as smugglers and thieves. They are very fast and outrun all other races which, combined with a high stamina reserve, makes them fearsome skirmishers. However, they are seldom gifted with the skill to harness magical forces. All Khajiit can see in the dark at will, eat raw meat, resist the harmful effects of Skooma and their sharp claws are as lethal as knives.",startingStats:{health:100,magicka:100,stamina:160,carryWeight:200},physicalAttributes:{heightMale:.9800000190734863,heightFemale:.9449999928474426,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:15},{skill:"Alchemy",bonus:10}],racialSpells:[{edid:"REQ_Power_Race_Khajiit_NightEye",name:"Night Eye",description:"Your eyes are exceptionally versatile and can become extremely sensitive to light, allowing a much better sight in dark areas.",globalFormId:"0x000AA01D"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Khajiit_FelineAgility",name:"Feline Agility",description:"Khajiits are very agile and can fall long heights without taking critical damage. Movement is <10>% faster, sneaking is <20>% faster, fall damage is reduced by <75>%.",globalFormId:"0x8C1AD1B0"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"},{edid:"REQ_Ability_Race_Khajiit_Fingersmith",name:"Fingersmith",description:"Khajiits have keen senses and dexterity, making them much more proficient in thievery. Lockpicking expertise is increased by <2>, lockpicks are <20>% more durable, pickpocketing is <20>% more likely to succeed, you are <20>% harder to detect.",globalFormId:"0xFE686816"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.0499999523162842},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Nord",edid:"NordRace",category:"Human",source:"Synthesis - NPC.esp",description:"Skyrim's Nords are tall and fair, with a culture which values honor, glory, and loyalty to family and community. Nords have come to distrust magic, but excel in physical warfare. They are greatly resistant to frost. Nords also have innate ability to use Shouts, and can unleash immense power through the words of power when mastered.",startingStats:{health:140,magicka:100,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0800000429153442,heightFemale:1.059999942779541,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:15},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Nord_ResistFrostShock",name:"Resist Frost and Shock",description:"Your Nord blood halves all taken frost damage. Frost deals <50>% less damage.",globalFormId:"0x000AA020"},{edid:"REQ_Ability_Race_Nord_AncientTongues",name:"Ancient Tongues",description:"Nords have inherent ability to Shout, and can unleash immense power through the Voice. Shouts are <10>% more powerful and last longer, Shouts can be used <10>% more often.",globalFormId:"0xFE686809"},{edid:"REQ_Ability_Race_Nord_BarbaricStrength",name:"Barbaric Strength",description:"Nords are fierce and strong, skilled with all melee weapons. Melee weapons deal <5>% more damage.",globalFormId:"0xFE68680B"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Orsimer",edid:"OrcRace",category:"Elven",source:"Synthesis - NPC.esp",description:`The Orsimer or "Pariah Folk", commonly called Orcs, come from Orsinium in the west. Their savage appearance and customs sometimes cause fear, but they have won acceptance for their distinguished service in the Legion. Orcs' superior strength makes them formidable warriors, though use of magic requires extensive training. Their incredible endurance grants them resistance to both magical and physical harm.`,startingStats:{health:160,magicka:100,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.100000023841858,heightFemale:1.0800000429153442,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:15},{skill:"Destruction",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Orsimer_Bulwark",name:"Bulwark",description:"Orcs have incredible strength and endurance, resistant to all types of damage. Armor rating increases by <150>, magic deals <10>% less damage to you.",globalFormId:"0x000AA026"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Redguard",edid:"RedguardRace",category:"Human",source:"Synthesis - NPC.esp",description:"The dark-skinned, wiry-haired Redguards of Hammerfell seem born for battle, though their proud and independent spirits suit free-ranging heroism more. They have a hardy constitution and natural resistance to poison and disease, but tend to shun their magic. They are full of stamina and naturally skilled in melee combat, making them one of the strongest warriors in Tamriel.",startingStats:{health:120,magicka:100,stamina:140,carryWeight:200},physicalAttributes:{heightMale:1.0449999570846558,heightFemale:1.0299999713897705,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:15},{skill:"Two-Handed",bonus:10},{skill:"Marksman",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Redguard_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Redguard blood, tempered in the deserts of Hammerfell, grants you a very strong resistance to poisons and diseases. Poison deals <50>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA023"},{edid:"REQ_Ability_Race_Redguard_AdrenalineRush",name:"Adrenaline Rush",description:"Redguards are granted increased stamina, and can sprint much longer without being exhausted. Stamina regenerations is increased, sprinting costs <1> less stamina per second.",globalFormId:"0x000E40CE"},{edid:"REQ_Ability_Race_Redguard_MartialProwess",name:"Martial Prowess",description:"Redguards are naturally skilled in martial arts, and can wield their weapons with great precision. Armor penetration with melee weapons is increased by <5>.",globalFormId:"0xFE68680E"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:13,unarmedReach:73}}],EJ={races:NJ};function _J(){const[e,t]=p.useState({search:"",type:"",tags:[]}),n=p.useMemo(()=>{const i=EJ.races;if(!gJ({races:i}))return console.error("Invalid race data structure detected"),[];const l=i.map(f=>wJ(f)),u=SJ(l);return u.success?console.log(`Successfully transformed ${u.transformedCount} races`):console.error("Data transformation errors:",u.errors),l},[]),r=p.useMemo(()=>n.filter(i=>{if(e.search){const l=e.search.toLowerCase();if(![i.name,i.description,...i.racialSpells.map(f=>f.name),...i.skillBonuses.map(f=>f.skill),...i.keywords.map(f=>Jg(f.edid))].join(" ").toLowerCase().includes(l))return!1}if(e.type&&i.category!==e.type)return!1;if(e.tags.length>0){const l=i.keywords.map(h=>Jg(h.edid)),u=i.skillBonuses.map(h=>h.skill),f=i.racialSpells.map(h=>h.name);if(!e.tags.some(h=>l.includes(h)||u.includes(h)||f.includes(h)||i.category===h))return!1}return!0}),[n,e]),a=p.useMemo(()=>hJ(n),[n]),o=p.useMemo(()=>mJ(n),[n]),s=p.useMemo(()=>pJ(n),[n]);return{races:r,allRaces:n,loading:!1,error:null,filters:e,setFilters:t,allKeywords:a,allSkills:o,allAbilities:s}}function CJ({className:e}){const{allRaces:t}=_J(),{build:n,setRace:r}=an(),a=An(),[o,s]=p.useState(!0),i=n.race?t.find(h=>h.edid===n.race):null,l=h=>{r(h.edid)},u=()=>{a("/race")},f=()=>{s(!o)};if(!i)return c.jsxs(Xl,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),c.jsx(gS,{races:t,onSelect:l,placeholder:"Search for a race...",className:"w-full"})]});const d=yk(i);return c.jsxs(Xl,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[c.jsx(gS,{races:t,onSelect:l,placeholder:`Race: Select a race (${i.name})`,className:"w-full"}),c.jsx(Wg,{item:d,isExpanded:o,onToggle:f,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function ep({traits:e,onSelect:t,placeholder:n="Search traits...",className:r="",disabled:a=!1}){const[o,s]=p.useState(!1),[i,l]=p.useState(""),[u,f]=p.useState(-1),d=p.useRef(null),h=p.useRef(null);p.useEffect(()=>{const v=w=>{d.current&&!d.current.contains(w.target)&&(s(!1),f(-1))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const m=e.filter(v=>{var w;return v.name.toLowerCase().includes(i.toLowerCase())||v.description.toLowerCase().includes(i.toLowerCase())||((w=v.category)==null?void 0:w.toLowerCase().includes(i.toLowerCase()))||v.tags.some(E=>E.toLowerCase().includes(i.toLowerCase()))}),x=v=>{l(v),s(!0),f(-1)},b=v=>{t(v),l(""),s(!1),f(-1)},S=v=>{v.key==="ArrowDown"?(v.preventDefault(),f(w=>Math.min(w+1,m.length-1))):v.key==="ArrowUp"?(v.preventDefault(),f(w=>Math.max(w-1,-1))):v.key==="Enter"?(v.preventDefault(),u>=0&&m[u]&&b(m[u])):v.key==="Escape"&&(s(!1),f(-1))},y=()=>{s(!0)},g=()=>{var v;l(""),(v=h.current)==null||v.focus()};return c.jsxs("div",{ref:d,className:`relative ${r}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(lo,{ref:h,type:"text",placeholder:n,value:i,onChange:v=>x(v.target.value),onFocus:y,onKeyDown:S,className:"pl-10 pr-20",disabled:a}),i&&c.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:g,disabled:a,children:c.jsx(Nn,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),disabled:a,children:c.jsx(er,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:zt.AUTOCOMPLETE+10},children:c.jsx("div",{className:"p-2",children:m.length===0?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No traits found"}):m.map((v,w)=>c.jsx("button",{onClick:()=>b(v),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${w===u?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,disabled:a,children:c.jsx("div",{className:"flex items-start gap-3",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium truncate",children:v.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.category&&c.jsx(Ce,{variant:"outline",className:"text-xs",children:v.category}),v.effects.length>0&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.effects.length," effect",v.effects.length!==1?"s":""]})]}),c.jsx(Gs,{text:v.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})},v.edid))})})]})}function AJ({className:e}){const{allTraits:t}=rJ(),{build:n,addTraitToSlot:r,removeTrait:a,getRegularTraitLimit:o,getBonusTraitLimit:s}=an(),i=An();o(),s();const l=n.traits.regular.map(x=>t.find(b=>b.edid===x)).filter(Boolean),u=n.traits.bonus.map(x=>t.find(b=>b.edid===x)).filter(Boolean),f=(x,b)=>{r(x.edid,b)},d=x=>{a(x)},h=()=>{i("/traits")},m=t.filter(x=>!n.traits.regular.includes(x.edid)&&!n.traits.bonus.includes(x.edid));return c.jsx(Xl,{title:"Traits",navigateTo:"traits",onNavigate:h,className:e,children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ce,{variant:"outline",className:"text-xs",children:"Slot 1"}),l[0]&&c.jsx(Ce,{variant:"default",className:"text-xs",children:"Starting"})]}),l[0]?c.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm",children:l[0].name}),c.jsx(Gs,{text:l[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),c.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>d(l[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:c.jsx(Nn,{className:"h-3 w-3"})})]}):c.jsx(ep,{traits:m,onSelect:x=>f(x,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ce,{variant:"outline",className:"text-xs",children:"Slot 2"}),l[1]&&c.jsx(Ce,{variant:"default",className:"text-xs",children:"Starting"})]}),l[1]?c.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm",children:l[1].name}),c.jsx(Gs,{text:l[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),c.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>d(l[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:c.jsx(Nn,{className:"h-3 w-3"})})]}):c.jsx(ep,{traits:m,onSelect:x=>f(x,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ce,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&c.jsx(Ce,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?c.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm",children:u[0].name}),c.jsx(Gs,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),c.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>d(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:c.jsx(Nn,{className:"h-3 w-3"})})]}):c.jsx(ep,{traits:m,onSelect:x=>f(x,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}function kJ({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:r,currentRegularCount:a,currentBonusCount:o,className:s}){const i=e!==2||t!==1;return c.jsxs(_B,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:c.jsx(Bl,{className:"h-4 w-4 text-muted-foreground"}),className:s,children:[c.jsx(Sw,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(ww,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:a,type:"regular"}),c.jsx(ww,{label:"Late Game Traits Limit",value:t,onChange:r,min:0,max:5,currentCount:o,type:"bonus"})]}),i&&c.jsx(Sw,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}function TJ({open:e,title:t,message:n,variant:r="warning",confirmText:a,cancelText:o,onConfirm:s,onCancel:i,className:l}){return c.jsx(CB,{open:e,title:t,message:n,variant:r,confirmText:a,cancelText:o,onConfirm:s,onCancel:i,className:l})}function RJ({open:e,onConfirm:t,onCancel:n}){return c.jsx(TJ,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function jJ({link:e,variant:t="outline",size:n="sm",text:r="Export / Share",onCopied:a,className:o}){return c.jsx(AB,{link:e,variant:t,size:n,text:r,onCopied:a,className:o})}function MJ({onCopied:e,className:t}){const n=window.location.href;return c.jsx(jJ,{link:n,onCopied:e,className:t})}function DJ({build:e,title:t="Build Summary",layout:n="grid",className:r}){const a=TB(e);return c.jsx(kB,{title:t,items:a,layout:n,className:r})}function zJ({name:e,notes:t,onNameChange:n,onNotesChange:r,className:a}){return c.jsxs(St,{className:`mb-6 ${a||""}`,children:[c.jsx(Nt,{children:c.jsx(Et,{children:"Basic Information"})}),c.jsxs(_t,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Jr,{htmlFor:"name",children:"Character Name"}),c.jsx(lo,{id:"name",value:e,onChange:o=>n(o.target.value),placeholder:"Enter character name..."})]}),c.jsxs("div",{children:[c.jsx(Jr,{htmlFor:"notes",children:"Notes"}),c.jsx("textarea",{id:"notes",value:t,onChange:o=>r(o.target.value),placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}function OJ({onReset:e,className:t}){return c.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${t||""}`,children:[c.jsxs(ae,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[c.jsx(ty,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),c.jsx(MJ,{})]})}function $J(){const{build:e,updateBuild:t}=an(),[n,r]=p.useState(e.traitLimits.regular),[a,o]=p.useState(e.traitLimits.bonus),s=p.useCallback(l=>{r(l),t({traitLimits:{...e.traitLimits,regular:l}})},[e.traitLimits,t]),i=p.useCallback(l=>{o(l),t({traitLimits:{...e.traitLimits,bonus:l}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:a,handleRegularLimitChange:s,handleBonusLimitChange:i,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}function PJ(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:r}=an(),[a,o]=p.useState(!1),s=$J(),i=An();return c.jsxs(oa,{title:"Character Builder",children:[c.jsx(OJ,{onReset:()=>o(!0)}),c.jsx(RJ,{open:a,onConfirm:()=>{r(),o(!1)},onCancel:()=>o(!1)}),c.jsxs(Ny,{defaultValue:"build",className:"w-full",children:[c.jsxs(Ey,{className:"mb-4",children:[c.jsx(Gl,{value:"build",children:"Build"}),c.jsx(Gl,{value:"config",children:"Config"})]}),c.jsxs(Id,{value:"build",children:[c.jsx(zJ,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[c.jsx(CJ,{}),c.jsx(DB,{}),c.jsx(AJ,{})]}),c.jsx(iJ,{navigate:i}),c.jsx(DJ,{build:e})]}),c.jsx(Id,{value:"config",children:c.jsx(kJ,{regularLimit:s.regularLimit,bonusLimit:s.bonusLimit,onRegularLimitChange:s.handleRegularLimitChange,onBonusLimitChange:s.handleBonusLimitChange,currentRegularCount:s.currentRegularCount,currentBonusCount:s.currentBonusCount})})]})]})}function LJ(){return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Mc,{children:"Crafting"}),c.jsx(Ul,{children:"Plan your crafting recipes and material requirements"})]}),c.jsxs(St,{children:[c.jsxs(Nt,{children:[c.jsx(Et,{children:"Coming Soon"}),c.jsx(Va,{children:"Crafting system is under development"})]}),c.jsx(_t,{children:c.jsx(Ul,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function IJ(){return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Mc,{children:"Equipment"}),c.jsx(Ul,{children:"Browse and compare weapons, armor, and items"})]}),c.jsxs(St,{children:[c.jsxs(Nt,{children:[c.jsx(Et,{children:"Coming Soon"}),c.jsx(Va,{children:"Equipment database is under development"})]}),c.jsx(_t,{children:c.jsx(Ul,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const BJ=()=>{const{build:e,getSummary:t}=an(),n=An(),r=t();return!e.name&&!e.race?c.jsxs(St,{className:"border-dashed border-2 border-muted",children:[c.jsxs(Nt,{children:[c.jsx(Et,{className:"text-lg",children:"No Character Build"}),c.jsx(Va,{children:"Start building your character to see it here"})]}),c.jsx(_t,{children:c.jsx(ae,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):c.jsxs(St,{children:[c.jsxs(Nt,{children:[c.jsxs(Et,{className:"text-lg flex items-center justify-between",children:[c.jsx("span",{children:r.name}),c.jsx(ae,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),c.jsx(Va,{children:"Current character build status"})]}),c.jsxs(_t,{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Race:"}),c.jsx(Ce,{variant:"secondary",className:"ml-2",children:r.race})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),c.jsx(Ce,{variant:"secondary",className:"ml-2",children:r.stone})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),c.jsx(Ce,{variant:"secondary",className:"ml-2",children:r.religion})]})]}),c.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[c.jsxs("span",{children:[r.traitCount," traits"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[r.majorSkillCount," major skills"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[r.minorSkillCount," minor skills"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[r.equipmentCount," equipment"]})]})]})]})};function HJ(){return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx(Mc,{children:"Welcome to Lorerim Arcaneum"}),c.jsx(UC,{children:"Your theorycrafting playground and reference hub for Lorerim players."})]}),c.jsx("div",{className:"max-w-md",children:c.jsx(BJ,{})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(St,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(Nt,{children:[c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(Nl,{className:"h-5 w-5"}),"Player Creation"]}),c.jsx(Va,{children:"Design your character with races, traits, and birthsigns"})]}),c.jsx(_t,{children:c.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:c.jsx("a",{href:"#/player-creation",children:"Get Started"})})})]}),c.jsxs(St,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(Nt,{children:[c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(ys,{className:"h-5 w-5"}),"Equipment"]}),c.jsx(Va,{children:"Browse and compare weapons, armor, and items"})]}),c.jsx(_t,{children:c.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:c.jsx("a",{href:"#/equipment",children:"Browse Items"})})})]}),c.jsxs(St,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(Nt,{children:[c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(sz,{className:"h-5 w-5"}),"Crafting"]}),c.jsx(Va,{children:"Plan your crafting recipes and material requirements"})]}),c.jsx(_t,{children:c.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:c.jsx("a",{href:"#/crafting",children:"Start Crafting"})})})]}),c.jsxs(St,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(Nt,{children:[c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(p_,{className:"h-5 w-5"}),"Skills"]}),c.jsx(Va,{children:"Explore skill trees and perk combinations"})]}),c.jsx(_t,{children:c.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:c.jsx("a",{href:"#/skills",children:"View Skills"})})})]})]})]})}function FJ(){const e=An();return c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[c.jsx(Mc,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),c.jsx(pn,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),c.jsx(ae,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const UJ=()=>c.jsxs(ZO,{children:[c.jsx(it,{path:"/",element:c.jsx(HJ,{})}),c.jsxs(it,{path:"/build",element:c.jsx(_L,{}),children:[c.jsx(it,{index:!0,element:c.jsx(PJ,{})}),c.jsx(it,{path:"race",element:c.jsx(aS,{})}),c.jsx(it,{path:"birth-signs",element:c.jsx(Mw,{})}),c.jsx(it,{path:"traits",element:c.jsx(pS,{})}),c.jsx(it,{path:"religions",element:c.jsx(iS,{})}),c.jsx(it,{path:"destiny",element:c.jsx(r1,{})}),c.jsx(it,{path:"perks",element:c.jsx(hS,{})})]}),c.jsx(it,{path:"/race",element:c.jsx(aS,{})}),c.jsx(it,{path:"/destiny",element:c.jsx(r1,{})}),c.jsx(it,{path:"/perks",element:c.jsx(lQ,{})}),c.jsx(it,{path:"/birth-signs",element:c.jsx(Mw,{})}),c.jsx(it,{path:"/traits",element:c.jsx(pS,{})}),c.jsx(it,{path:"/religions",element:c.jsx(iS,{})}),c.jsx(it,{path:"/perks",element:c.jsx(hS,{})}),c.jsx(it,{path:"/equipment",element:c.jsx(IJ,{})}),c.jsx(it,{path:"/crafting",element:c.jsx(LJ,{})}),c.jsx(it,{path:"*",element:c.jsx(FJ,{})})]}),oM=p.createContext(void 0);function GJ({children:e}){const[t,n]=p.useState("system"),[r,a]=p.useState("dark");return p.useEffect(()=>{const o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&n(o)},[]),p.useEffect(()=>{localStorage.setItem("theme",t);let o;t==="system"?o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":o=t,a(o);const s=document.documentElement;o==="dark"?s.classList.add("dark"):s.classList.remove("dark")},[t]),p.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{if(t==="system"){const i=o.matches?"dark":"light";a(i);const l=document.documentElement;i==="dark"?l.classList.add("dark"):l.classList.remove("dark")}};return o.addEventListener("change",s),()=>o.removeEventListener("change",s)},[t]),c.jsx(oM.Provider,{value:{theme:t,setTheme:n,resolvedTheme:r},children:e})}function VJ(){const e=p.useContext(oM);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function ZJ(){const{theme:e,setTheme:t}=VJ(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},r=()=>{switch(e){case"light":return c.jsx(Tb,{className:"h-4 w-4"});case"dark":return c.jsx(Nz,{className:"h-4 w-4"});case"system":return c.jsx(wz,{className:"h-4 w-4"});default:return c.jsx(Tb,{className:"h-4 w-4"})}};return c.jsxs(ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[r(),c.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function YJ({sidebarCollapsed:e,onToggleSidebar:t}){return c.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:zt.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[c.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:c.jsx(yz,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),c.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),c.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),c.jsx("div",{className:"ml-auto",children:c.jsx(ZJ,{})})]})}const qJ=p.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return c.jsx(o,{ref:a,"data-active":n?"":void 0,className:W("group flex items-center w-full text-left px-3 py-1.5 text-sm rounded transition-colors","hover:bg-skyrim-gold/10 hover:text-skyrim-gold",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-2 border-skyrim-gold font-bold":"text-skyrim-gold/80 border-l-2 border-transparent",e),tabIndex:0,...r})});qJ.displayName="SidebarMenuSubButton";const XJ=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"}]},{label:"Gear",items:[{to:"/weapons",label:"Weapons"},{to:"/armor",label:"Armor"},{to:"/food",label:"Food"},{to:"/alcohol",label:"Alcohol"}]},{label:"Crafting",items:[{to:"/alchemy",label:"Alchemy"},{to:"/smithing",label:"Smithing"},{to:"/enchanting",label:"Enchanting"}]},{label:"Ascensions",items:[{to:"/shouts",label:"Shouts of the Dragonborn"},{to:"/lichdom",label:"Lichdom"},{to:"/lycanthropy",label:"Lycanthropy"},{to:"/vampirism",label:"Vampirism"}]}];function WJ({collapsed:e}){const t=An(),n=window.location.hash.replace(/^#\/?/,"/"),r=a=>{const o=window.location.hash,[s,i]=o.split("?"),u=new URLSearchParams(i||"").get("b");t(u?`${a}?b=${u}`:a)};return c.jsxs(OC,{collapsed:e,children:[c.jsx(LC,{children:!e&&c.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[c.jsx(uz,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),c.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),c.jsx($C,{children:XJ.map(a=>c.jsxs(PC,{children:[!e&&c.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:a.label}),c.jsx(IC,{children:a.items.map(o=>{const s=n===o.to;return c.jsx(HC,{children:c.jsx(BC,{asChild:!0,isActive:s,onClick:()=>r(o.to),tabIndex:0,children:c.jsx("span",{className:"w-full text-left truncate",children:o.label})})},o.to)})})]},a.label))}),!e&&c.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[c.jsx(pn,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),c.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]}),c.jsx(FC,{})]})}function KJ(){const[e,t]=p.useState(!1);return WP(),c.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[c.jsx(YJ,{sidebarCollapsed:e,onToggleSidebar:()=>t(n=>!n)}),c.jsxs("div",{className:"flex flex-1",children:[c.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0":"w-64"}`,style:{zIndex:zt.SIDEBAR},children:c.jsx(WJ,{collapsed:e})}),c.jsx("main",{className:"flex-1  transition-all duration-300 ease-in-out",children:c.jsx(UJ,{})})]}),c.jsx(YP,{})]})}function QJ(){return c.jsx(y5,{children:c.jsx(KJ,{})})}A4.createRoot(document.getElementById("root")).render(c.jsx(p.StrictMode,{children:c.jsx(GJ,{children:c.jsx(QJ,{})})}));
