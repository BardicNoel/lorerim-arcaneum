var TR=Object.defineProperty;var RR=(e,t,n)=>t in e?TR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ti=(e,t,n)=>RR(e,typeof t!="symbol"?t+"":t,n);function MR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Mg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O1={exports:{}},ef={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR=Symbol.for("react.transitional.element"),zR=Symbol.for("react.fragment");function $1(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:DR,type:e,key:r,ref:t!==void 0?t:null,props:n}}ef.Fragment=zR;ef.jsx=$1;ef.jsxs=$1;O1.exports=ef;var l=O1.exports,P1={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=Symbol.for("react.transitional.element"),OR=Symbol.for("react.portal"),$R=Symbol.for("react.fragment"),PR=Symbol.for("react.strict_mode"),LR=Symbol.for("react.profiler"),IR=Symbol.for("react.consumer"),BR=Symbol.for("react.context"),HR=Symbol.for("react.forward_ref"),FR=Symbol.for("react.suspense"),UR=Symbol.for("react.memo"),L1=Symbol.for("react.lazy"),Sv=Symbol.iterator;function GR(e){return e===null||typeof e!="object"?null:(e=Sv&&e[Sv]||e["@@iterator"],typeof e=="function"?e:null)}var I1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B1=Object.assign,H1={};function hi(e,t,n){this.props=e,this.context=t,this.refs=H1,this.updater=n||I1}hi.prototype.isReactComponent={};hi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F1(){}F1.prototype=hi.prototype;function zg(e,t,n){this.props=e,this.context=t,this.refs=H1,this.updater=n||I1}var Og=zg.prototype=new F1;Og.constructor=zg;B1(Og,hi.prototype);Og.isPureReactComponent=!0;var Nv=Array.isArray,Fe={H:null,A:null,T:null,S:null,V:null},U1=Object.prototype.hasOwnProperty;function $g(e,t,n,r,a,o){return n=o.ref,{$$typeof:Dg,type:e,key:t,ref:n!==void 0?n:null,props:o}}function VR(e,t){return $g(e.type,t,void 0,void 0,void 0,e.props)}function Pg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dg}function ZR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ev=/\/+/g;function fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZR(""+e.key):t.toString(36)}function _v(){}function YR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(_v,_v):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function us(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Dg:case OR:s=!0;break;case L1:return s=e._init,us(s(e._payload),t,n,r,a)}}if(s)return a=a(e),s=r===""?"."+fh(e,0):r,Nv(a)?(n="",s!=null&&(n=s.replace(Ev,"$&/")+"/"),us(a,t,n,"",function(u){return u})):a!=null&&(Pg(a)&&(a=VR(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Ev,"$&/")+"/")+s)),t.push(a)),1;s=0;var i=r===""?".":r+":";if(Nv(e))for(var c=0;c<e.length;c++)r=e[c],o=i+fh(r,c),s+=us(r,t,n,o,a);else if(c=GR(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,o=i+fh(r,c++),s+=us(r,t,n,o,a);else if(o==="object"){if(typeof e.then=="function")return us(YR(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Lc(e,t,n){if(e==null)return e;var r=[],a=0;return us(e,r,"","",function(o){return t.call(n,o,a++)}),r}function qR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cv=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function XR(){}ye.Children={map:Lc,forEach:function(e,t,n){Lc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lc(e,function(){t++}),t},toArray:function(e){return Lc(e,function(t){return t})||[]},only:function(e){if(!Pg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=hi;ye.Fragment=$R;ye.Profiler=LR;ye.PureComponent=zg;ye.StrictMode=PR;ye.Suspense=FR;ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fe;ye.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Fe.H.useMemoCache(e)}};ye.cache=function(e){return function(){return e.apply(null,arguments)}};ye.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=B1({},e.props),a=e.key,o=void 0;if(t!=null)for(s in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(a=""+t.key),t)!U1.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var i=Array(s),c=0;c<s;c++)i[c]=arguments[c+2];r.children=i}return $g(e.type,a,void 0,void 0,o,r)};ye.createContext=function(e){return e={$$typeof:BR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:IR,_context:e},e};ye.createElement=function(e,t,n){var r,a={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)U1.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var i=Array(s),c=0;c<s;c++)i[c]=arguments[c+2];a.children=i}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return $g(e,o,void 0,void 0,null,a)};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:HR,render:e}};ye.isValidElement=Pg;ye.lazy=function(e){return{$$typeof:L1,_payload:{_status:-1,_result:e},_init:qR}};ye.memo=function(e,t){return{$$typeof:UR,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Fe.T,n={};Fe.T=n;try{var r=e(),a=Fe.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(XR,Cv)}catch(o){Cv(o)}finally{Fe.T=t}};ye.unstable_useCacheRefresh=function(){return Fe.H.useCacheRefresh()};ye.use=function(e){return Fe.H.use(e)};ye.useActionState=function(e,t,n){return Fe.H.useActionState(e,t,n)};ye.useCallback=function(e,t){return Fe.H.useCallback(e,t)};ye.useContext=function(e){return Fe.H.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e,t){return Fe.H.useDeferredValue(e,t)};ye.useEffect=function(e,t,n){var r=Fe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};ye.useId=function(){return Fe.H.useId()};ye.useImperativeHandle=function(e,t,n){return Fe.H.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return Fe.H.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Fe.H.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Fe.H.useMemo(e,t)};ye.useOptimistic=function(e,t){return Fe.H.useOptimistic(e,t)};ye.useReducer=function(e,t,n){return Fe.H.useReducer(e,t,n)};ye.useRef=function(e){return Fe.H.useRef(e)};ye.useState=function(e){return Fe.H.useState(e)};ye.useSyncExternalStore=function(e,t,n){return Fe.H.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return Fe.H.useTransition()};ye.version="19.1.0";P1.exports=ye;var m=P1.exports;const P=Mg(m),Lg=MR({__proto__:null,default:P},[m]);var G1={exports:{}},tf={},V1={exports:{}},Z1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var D=T.length;T.push(I);e:for(;0<D;){var M=D-1>>>1,L=T[M];if(0<a(L,I))T[M]=I,T[D]=L,D=M;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],D=T.pop();if(D!==I){T[0]=D;e:for(var M=0,L=T.length,F=L>>>1;M<F;){var V=2*(M+1)-1,U=T[V],z=V+1,H=T[z];if(0>a(U,D))z<L&&0>a(H,U)?(T[M]=H,T[z]=D,M=z):(T[M]=U,T[V]=D,M=V);else if(z<L&&0>a(H,D))T[M]=H,T[z]=D,M=z;else break e}}return I}function a(T,I){var D=T.sortIndex-I.sortIndex;return D!==0?D:T.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,x=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function b(T){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=T)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function E(T){if(x=!1,b(T),!y)if(n(c)!==null)y=!0,j||(j=!0,B());else{var I=n(u);I!==null&&$(E,I.startTime-T)}}var j=!1,N=-1,C=5,_=-1;function A(){return w?!0:!(e.unstable_now()-_<C)}function O(){if(w=!1,j){var T=e.unstable_now();_=T;var I=!0;try{e:{y=!1,x&&(x=!1,v(N),N=-1),p=!0;var D=h;try{t:{for(b(T),f=n(c);f!==null&&!(f.expirationTime>T&&A());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var L=M(f.expirationTime<=T);if(T=e.unstable_now(),typeof L=="function"){f.callback=L,b(T),I=!0;break t}f===n(c)&&r(c),b(T)}else r(c);f=n(c)}if(f!==null)I=!0;else{var F=n(u);F!==null&&$(E,F.startTime-T),I=!1}}break e}finally{f=null,h=D,p=!1}I=void 0}}finally{I?B():j=!1}}}var B;if(typeof S=="function")B=function(){S(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,k=R.port2;R.port1.onmessage=O,B=function(){k.postMessage(null)}}else B=function(){g(O,0)};function $(T,I){N=g(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var D=h;h=I;try{return T()}finally{h=D}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=h;h=T;try{return I()}finally{h=D}},e.unstable_scheduleCallback=function(T,I,D){var M=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?M+D:M):D=M,T){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=D+L,T={id:d++,callback:I,priorityLevel:T,startTime:D,expirationTime:L,sortIndex:-1},D>M?(T.sortIndex=D,t(u,T),n(c)===null&&T===n(u)&&(x?(v(N),N=-1):x=!0,$(E,D-M))):(T.sortIndex=L,t(c,T),y||p||(y=!0,j||(j=!0,B()))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var I=h;return function(){var D=h;h=I;try{return T.apply(this,arguments)}finally{h=D}}}})(Z1);V1.exports=Z1;var KR=V1.exports,Y1={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR=m;function q1(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ba(){}var Lt={d:{f:ba,r:function(){throw Error(q1(522))},D:ba,C:ba,L:ba,m:ba,X:ba,S:ba,M:ba},p:0,findDOMNode:null},QR=Symbol.for("react.portal");function JR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:QR,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var ol=WR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function nf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Lt;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(q1(299));return JR(e,t,null,n)};Bt.flushSync=function(e){var t=ol.T,n=Lt.p;try{if(ol.T=null,Lt.p=2,e)return e()}finally{ol.T=t,Lt.p=n,Lt.d.f()}};Bt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Lt.d.C(e,t))};Bt.prefetchDNS=function(e){typeof e=="string"&&Lt.d.D(e)};Bt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=nf(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Lt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n==="script"&&Lt.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Bt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=nf(t.as,t.crossOrigin);Lt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Lt.d.M(e)};Bt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=nf(n,t.crossOrigin);Lt.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Bt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=nf(t.as,t.crossOrigin);Lt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Lt.d.m(e)};Bt.requestFormReset=function(e){Lt.d.r(e)};Bt.unstable_batchedUpdates=function(e,t){return e(t)};Bt.useFormState=function(e,t,n){return ol.H.useFormState(e,t,n)};Bt.useFormStatus=function(){return ol.H.useHostTransitionStatus()};Bt.version="19.1.0";function X1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X1)}catch(e){console.error(e)}}X1(),Y1.exports=Bt;var rf=Y1.exports;const eM=Mg(rf);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xt=KR,K1=m,tM=rf;function X(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function W1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ac(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Q1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Av(e){if(ac(e)!==e)throw Error(X(188))}function nM(e){var t=e.alternate;if(!t){if(t=ac(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Av(a),e;if(o===r)return Av(a),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function J1(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=J1(e),t!==null)return t;e=e.sibling}return null}var Be=Object.assign,rM=Symbol.for("react.element"),Ic=Symbol.for("react.transitional.element"),Xi=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),eS=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),aM=Symbol.for("react.provider"),tS=Symbol.for("react.consumer"),Fr=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Lm=Symbol.for("react.suspense_list"),Bg=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),Im=Symbol.for("react.activity"),oM=Symbol.for("react.memo_cache_sentinel"),kv=Symbol.iterator;function Ri(e){return e===null||typeof e!="object"?null:(e=kv&&e[kv]||e["@@iterator"],typeof e=="function"?e:null)}var sM=Symbol.for("react.client.reference");function Bm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===sM?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case $m:return"Profiler";case eS:return"StrictMode";case Pm:return"Suspense";case Lm:return"SuspenseList";case Im:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Xi:return"Portal";case Fr:return(e.displayName||"Context")+".Provider";case tS:return(e._context.displayName||"Context")+".Consumer";case Ig:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bg:return t=e.displayName||null,t!==null?t:Bm(e.type)||"Memo";case Ca:t=e._payload,e=e._init;try{return Bm(e(t))}catch{}}return null}var Ki=Array.isArray,ce=K1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke=tM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,So={pending:!1,data:null,method:null,action:null},Hm=[],vs=-1;function br(e){return{current:e}}function Et(e){0>vs||(e.current=Hm[vs],Hm[vs]=null,vs--)}function Ue(e,t){vs++,Hm[vs]=e.current,e.current=t}var hr=br(null),Sl=br(null),Fa=br(null),Xu=br(null);function Ku(e,t){switch(Ue(Fa,t),Ue(Sl,e),Ue(hr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Dx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Dx(t),e=vE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Et(hr),Ue(hr,e)}function Ys(){Et(hr),Et(Sl),Et(Fa)}function Fm(e){e.memoizedState!==null&&Ue(Xu,e);var t=hr.current,n=vE(t,e.type);t!==n&&(Ue(Sl,e),Ue(hr,n))}function Wu(e){Sl.current===e&&(Et(hr),Et(Sl)),Xu.current===e&&(Et(Xu),Ml._currentValue=So)}var Um=Object.prototype.hasOwnProperty,Hg=xt.unstable_scheduleCallback,hh=xt.unstable_cancelCallback,iM=xt.unstable_shouldYield,lM=xt.unstable_requestPaint,mr=xt.unstable_now,cM=xt.unstable_getCurrentPriorityLevel,nS=xt.unstable_ImmediatePriority,rS=xt.unstable_UserBlockingPriority,Qu=xt.unstable_NormalPriority,uM=xt.unstable_LowPriority,aS=xt.unstable_IdlePriority,dM=xt.log,fM=xt.unstable_setDisableYieldValue,oc=null,pn=null;function Pa(e){if(typeof dM=="function"&&fM(e),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(oc,e)}catch{}}var gn=Math.clz32?Math.clz32:pM,hM=Math.log,mM=Math.LN2;function pM(e){return e>>>=0,e===0?32:31-(hM(e)/mM|0)|0}var Bc=256,Hc=4194304;function ho(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function af(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=r&134217727;return i!==0?(r=i&~o,r!==0?a=ho(r):(s&=i,s!==0?a=ho(s):n||(n=i&~e,n!==0&&(a=ho(n))))):(i=r&~o,i!==0?a=ho(i):s!==0?a=ho(s):n||(n=r&~e,n!==0&&(a=ho(n)))),a===0?0:t!==0&&t!==a&&!(t&o)&&(o=a&-a,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:a}function sc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gM(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oS(){var e=Bc;return Bc<<=1,!(Bc&4194048)&&(Bc=256),e}function sS(){var e=Hc;return Hc<<=1,!(Hc&62914560)&&(Hc=4194304),e}function mh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ic(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yM(e,t,n,r,a,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-gn(n),f=1<<d;i[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var p=h[d];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&iS(e,r,0),o!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=o&~(s&~t))}function iS(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-gn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function lS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Fg(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ug(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function cS(){var e=ke.p;return e!==0?e:(e=window.event,e===void 0?32:kE(e.type))}function vM(e,t){var n=ke.p;try{return ke.p=e,t()}finally{ke.p=n}}var ro=Math.random().toString(36).slice(2),zt="__reactFiber$"+ro,Jt="__reactProps$"+ro,mi="__reactContainer$"+ro,Gm="__reactEvents$"+ro,xM="__reactListeners$"+ro,bM="__reactHandles$"+ro,jv="__reactResources$"+ro,lc="__reactMarker$"+ro;function Gg(e){delete e[zt],delete e[Jt],delete e[Gm],delete e[xM],delete e[bM]}function xs(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$x(e);e!==null;){if(n=e[zt])return n;e=$x(e)}return t}e=n,n=e.parentNode}return null}function pi(e){if(e=e[zt]||e[mi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Wi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(X(33))}function Rs(e){var t=e[jv];return t||(t=e[jv]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[lc]=!0}var uS=new Set,dS={};function Uo(e,t){qs(e,t),qs(e+"Capture",t)}function qs(e,t){for(dS[e]=t,e=0;e<t.length;e++)uS.add(t[e])}var wM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tv={},Rv={};function SM(e){return Um.call(Rv,e)?!0:Um.call(Tv,e)?!1:wM.test(e)?Rv[e]=!0:(Tv[e]=!0,!1)}function Cu(e,t,n){if(SM(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Fc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function zr(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var ph,Mv;function ds(e){if(ph===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ph=t&&t[1]||"",Mv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ph+e+Mv}var gh=!1;function yh(e,t){if(!e||gh)return"";gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(e,[],f)}else{try{f.call()}catch(p){h=p}e.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],i=o[1];if(s&&i){var c=s.split(`
`),u=i.split(`
`);for(a=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===c.length||a===u.length)for(r=c.length-1,a=u.length-1;1<=r&&0<=a&&c[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(c[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||c[r]!==u[a]){var d=`
`+c[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=r&&0<=a);break}}}finally{gh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ds(n):""}function NM(e){switch(e.tag){case 26:case 27:case 5:return ds(e.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return yh(e.type,!1);case 11:return yh(e.type.render,!1);case 1:return yh(e.type,!0);case 31:return ds("Activity");default:return""}}function Dv(e){try{var t="";do t+=NM(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function EM(e){var t=fS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ju(e){e._valueTracker||(e._valueTracker=EM(e))}function hS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ed(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _M=/[\n"\\]/g;function jn(e){return e.replace(_M,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vm(e,t,n,r,a,o,s,i){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Cn(t)):e.value!==""+Cn(t)&&(e.value=""+Cn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Zm(e,s,Cn(t)):n!=null?Zm(e,s,Cn(n)):r!=null&&e.removeAttribute("value"),a==null&&o!=null&&(e.defaultChecked=!!o),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.name=""+Cn(i):e.removeAttribute("name")}function mS(e,t,n,r,a,o,s,i){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+Cn(n):"",t=t!=null?""+Cn(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function Zm(e,t,n){t==="number"&&ed(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ms(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function pS(e,t,n){if(t!=null&&(t=""+Cn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Cn(n):""}function gS(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(X(92));if(Ki(r)){if(1<r.length)throw Error(X(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Cn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var CM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zv(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||CM.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function yS(e,t,n){if(t!=null&&typeof t!="object")throw Error(X(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&zv(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&zv(e,o,t[o])}function Vg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Au(e){return kM.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ym=null;function Zg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,Ds=null;function Ov(e){var t=pi(e);if(t&&(e=t.stateNode)){var n=e[Jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+jn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Jt]||null;if(!a)throw Error(X(90));Vm(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&hS(r)}break e;case"textarea":pS(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ms(e,!!n.multiple,t,!1)}}}var vh=!1;function vS(e,t,n){if(vh)return e(t,n);vh=!0;try{var r=e(t);return r}finally{if(vh=!1,(bs!==null||Ds!==null)&&(pf(),bs&&(t=bs,e=Ds,Ds=bs=null,Ov(t),e)))for(t=0;t<e.length;t++)Ov(e[t])}}function Nl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Jt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qm=!1;if(ra)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){qm=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{qm=!1}var La=null,Yg=null,ku=null;function xS(){if(ku)return ku;var e,t=Yg,n=t.length,r,a="value"in La?La.value:La.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[o-r];r++);return ku=a.slice(e,1<r?1-r:void 0)}function ju(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function $v(){return!1}function tn(e){function t(n,r,a,o,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uc:$v,this.isPropagationStopped=$v,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},of=tn(Go),cc=Be({},Go,{view:0,detail:0}),jM=tn(cc),xh,bh,Di,sf=Be({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(xh=e.screenX-Di.screenX,bh=e.screenY-Di.screenY):bh=xh=0,Di=e),xh)},movementY:function(e){return"movementY"in e?e.movementY:bh}}),Pv=tn(sf),TM=Be({},sf,{dataTransfer:0}),RM=tn(TM),MM=Be({},cc,{relatedTarget:0}),wh=tn(MM),DM=Be({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),zM=tn(DM),OM=Be({},Go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$M=tn(OM),PM=Be({},Go,{data:0}),Lv=tn(PM),LM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BM[e])?!!t[e]:!1}function qg(){return HM}var FM=Be({},cc,{key:function(e){if(e.key){var t=LM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ju(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qg,charCode:function(e){return e.type==="keypress"?ju(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ju(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UM=tn(FM),GM=Be({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iv=tn(GM),VM=Be({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qg}),ZM=tn(VM),YM=Be({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),qM=tn(YM),XM=Be({},sf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KM=tn(XM),WM=Be({},Go,{newState:0,oldState:0}),QM=tn(WM),JM=[9,13,27,32],Xg=ra&&"CompositionEvent"in window,sl=null;ra&&"documentMode"in document&&(sl=document.documentMode);var eD=ra&&"TextEvent"in window&&!sl,bS=ra&&(!Xg||sl&&8<sl&&11>=sl),Bv=" ",Hv=!1;function wS(e,t){switch(e){case"keyup":return JM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ws=!1;function tD(e,t){switch(e){case"compositionend":return SS(t);case"keypress":return t.which!==32?null:(Hv=!0,Bv);case"textInput":return e=t.data,e===Bv&&Hv?null:e;default:return null}}function nD(e,t){if(ws)return e==="compositionend"||!Xg&&wS(e,t)?(e=xS(),ku=Yg=La=null,ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bS&&t.locale!=="ko"?null:t.data;default:return null}}var rD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rD[e.type]:t==="textarea"}function NS(e,t,n,r){bs?Ds?Ds.push(r):Ds=[r]:bs=r,t=vd(t,"onChange"),0<t.length&&(n=new of("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var il=null,El=null;function aD(e){pE(e,0)}function lf(e){var t=Wi(e);if(hS(t))return e}function Uv(e,t){if(e==="change")return t}var ES=!1;if(ra){var Sh;if(ra){var Nh="oninput"in document;if(!Nh){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),Nh=typeof Gv.oninput=="function"}Sh=Nh}else Sh=!1;ES=Sh&&(!document.documentMode||9<document.documentMode)}function Vv(){il&&(il.detachEvent("onpropertychange",_S),El=il=null)}function _S(e){if(e.propertyName==="value"&&lf(El)){var t=[];NS(t,El,e,Zg(e)),vS(aD,t)}}function oD(e,t,n){e==="focusin"?(Vv(),il=t,El=n,il.attachEvent("onpropertychange",_S)):e==="focusout"&&Vv()}function sD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lf(El)}function iD(e,t){if(e==="click")return lf(t)}function lD(e,t){if(e==="input"||e==="change")return lf(t)}function cD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:cD;function _l(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Um.call(t,a)||!wn(e[a],t[a]))return!1}return!0}function Zv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yv(e,t){var n=Zv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zv(n)}}function CS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ed(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ed(e.document)}return t}function Kg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var uD=ra&&"documentMode"in document&&11>=document.documentMode,Ss=null,Xm=null,ll=null,Km=!1;function qv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Km||Ss==null||Ss!==ed(r)||(r=Ss,"selectionStart"in r&&Kg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&_l(ll,r)||(ll=r,r=vd(Xm,"onSelect"),0<r.length&&(t=new of("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ss)))}function lo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ns={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},Eh={},kS={};ra&&(kS=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Vo(e){if(Eh[e])return Eh[e];if(!Ns[e])return e;var t=Ns[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kS)return Eh[e]=t[n];return e}var jS=Vo("animationend"),TS=Vo("animationiteration"),RS=Vo("animationstart"),dD=Vo("transitionrun"),fD=Vo("transitionstart"),hD=Vo("transitioncancel"),MS=Vo("transitionend"),DS=new Map,Wm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wm.push("scrollEnd");function Wn(e,t){DS.set(e,t),Uo(t,[e])}var Xv=new WeakMap;function Tn(e,t){if(typeof e=="object"&&e!==null){var n=Xv.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Dv(t)},Xv.set(e,t),t)}return{value:e,source:t,stack:Dv(t)}}var _n=[],Es=0,Wg=0;function cf(){for(var e=Es,t=Wg=Es=0;t<e;){var n=_n[t];_n[t++]=null;var r=_n[t];_n[t++]=null;var a=_n[t];_n[t++]=null;var o=_n[t];if(_n[t++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}o!==0&&zS(n,a,o)}}function uf(e,t,n,r){_n[Es++]=e,_n[Es++]=t,_n[Es++]=n,_n[Es++]=r,Wg|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Qg(e,t,n,r){return uf(e,t,n,r),td(e)}function gi(e,t){return uf(e,null,null,t),td(e)}function zS(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(a=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,a&&t!==null&&(a=31-gn(n),e=o.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),o):null}function td(e){if(50<vl)throw vl=0,vp=null,Error(X(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var _s={};function mD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,n,r){return new mD(e,t,n,r)}function Jg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kr(e,t){var n=e.alternate;return n===null?(n=mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function OS(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Tu(e,t,n,r,a,o){var s=0;if(r=e,typeof e=="function")Jg(e)&&(s=1);else if(typeof e=="string")s=g3(e,n,hr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Im:return e=mn(31,n,t,a),e.elementType=Im,e.lanes=o,e;case ys:return No(n.children,a,o,t);case eS:s=8,a|=24;break;case $m:return e=mn(12,n,t,a|2),e.elementType=$m,e.lanes=o,e;case Pm:return e=mn(13,n,t,a),e.elementType=Pm,e.lanes=o,e;case Lm:return e=mn(19,n,t,a),e.elementType=Lm,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aM:case Fr:s=10;break e;case tS:s=9;break e;case Ig:s=11;break e;case Bg:s=14;break e;case Ca:s=16,r=null;break e}s=29,n=Error(X(130,e===null?"null":typeof e,"")),r=null}return t=mn(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function No(e,t,n,r){return e=mn(7,e,r,t),e.lanes=n,e}function _h(e,t,n){return e=mn(6,e,null,t),e.lanes=n,e}function Ch(e,t,n){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Cs=[],As=0,nd=null,rd=0,An=[],kn=0,Eo=null,Ur=1,Gr="";function mo(e,t){Cs[As++]=rd,Cs[As++]=nd,nd=e,rd=t}function $S(e,t,n){An[kn++]=Ur,An[kn++]=Gr,An[kn++]=Eo,Eo=e;var r=Ur;e=Gr;var a=32-gn(r)-1;r&=~(1<<a),n+=1;var o=32-gn(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ur=1<<32-gn(t)+a|n<<a|r,Gr=o+e}else Ur=1<<o|n<<a|r,Gr=e}function e0(e){e.return!==null&&(mo(e,1),$S(e,1,0))}function t0(e){for(;e===nd;)nd=Cs[--As],Cs[As]=null,rd=Cs[--As],Cs[As]=null;for(;e===Eo;)Eo=An[--kn],An[kn]=null,Gr=An[--kn],An[kn]=null,Ur=An[--kn],An[kn]=null}var Pt=null,Qe=null,Ae=!1,_o=null,ir=!1,Qm=Error(X(519));function Ro(e){var t=Error(X(418,""));throw Cl(Tn(t,e)),Qm}function Kv(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[zt]=e,t[Jt]=r,n){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(n=0;n<jl.length;n++)we(jl[n],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),mS(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ju(t);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),gS(t,r.value,r.defaultValue,r.children),Ju(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||yE(t.textContent,n)?(r.popover!=null&&(we("beforetoggle",t),we("toggle",t)),r.onScroll!=null&&we("scroll",t),r.onScrollEnd!=null&&we("scrollend",t),r.onClick!=null&&(t.onclick=vf),t=!0):t=!1,t||Ro(e)}function Wv(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:Pt=Pt.return}}function zi(e){if(e!==Pt)return!1;if(!Ae)return Wv(e),Ae=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ep(e.type,e.memoizedProps)),n=!n),n&&Qe&&Ro(e),Wv(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Qe=Zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Qe=null}}else t===27?(t=Qe,ao(e.type)?(e=Ap,Ap=null,Qe=e):Qe=t):Qe=Pt?Zn(e.stateNode.nextSibling):null;return!0}function uc(){Qe=Pt=null,Ae=!1}function Qv(){var e=_o;return e!==null&&(Wt===null?Wt=e:Wt.push.apply(Wt,e),_o=null),e}function Cl(e){_o===null?_o=[e]:_o.push(e)}var Jm=br(null),Zo=null,Vr=null;function Ta(e,t,n){Ue(Jm,t._currentValue),t._currentValue=n}function Wr(e){e._currentValue=Jm.current,Et(Jm)}function ep(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function tp(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;e:for(;o!==null;){var i=o;o=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),ep(o.return,n,e),r||(s=null);break e}o=i.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(X(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ep(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function dc(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(X(387));if(s=s.memoizedProps,s!==null){var i=a.type;wn(a.pendingProps.value,s.value)||(e!==null?e.push(i):e=[i])}}else if(a===Xu.current){if(s=a.alternate,s===null)throw Error(X(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Ml):e=[Ml])}a=a.return}e!==null&&tp(t,e,n,r),t.flags|=262144}function ad(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mo(e){Zo=e,Vr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return PS(Zo,e)}function Gc(e,t){return Zo===null&&Mo(e),PS(e,t)}function PS(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Vr===null){if(e===null)throw Error(X(308));Vr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Vr=Vr.next=t;return n}var pD=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},gD=xt.unstable_scheduleCallback,yD=xt.unstable_NormalPriority,gt={$$typeof:Fr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function n0(){return{controller:new pD,data:new Map,refCount:0}}function fc(e){e.refCount--,e.refCount===0&&gD(yD,function(){e.controller.abort()})}var cl=null,np=0,Ks=0,zs=null;function vD(e,t){if(cl===null){var n=cl=[];np=0,Ks=_0(),zs={status:"pending",value:void 0,then:function(r){n.push(r)}}}return np++,t.then(Jv,Jv),t}function Jv(){if(--np===0&&cl!==null){zs!==null&&(zs.status="fulfilled");var e=cl;cl=null,Ks=0,zs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function xD(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var ex=ce.S;ce.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&vD(e,t),ex!==null&&ex(e,t)};var Co=br(null);function r0(){var e=Co.current;return e!==null?e:Le.pooledCache}function Ru(e,t){t===null?Ue(Co,Co.current):Ue(Co,t.pool)}function LS(){var e=r0();return e===null?null:{parent:gt._currentValue,pool:e}}var hc=Error(X(460)),IS=Error(X(474)),df=Error(X(542)),rp={then:function(){}};function tx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vc(){}function BS(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Vc,Vc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rx(e),e;default:if(typeof t.status=="string")t.then(Vc,Vc);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(X(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rx(e),e}throw ul=t,hc}}var ul=null;function nx(){if(ul===null)throw Error(X(459));var e=ul;return ul=null,e}function rx(e){if(e===hc||e===df)throw Error(X(483))}var Aa=!1;function a0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=td(e),zS(e,null,n),t}return uf(e,r,t,n),td(e)}function dl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lS(e,n)}}function Ah(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var op=!1;function fl(){if(op){var e=zs;if(e!==null)throw e}}function hl(e,t,n,r){op=!1;var a=e.updateQueue;Aa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==s&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=a.baseState;s=0,d=u=c=null,i=o;do{var h=i.lane&-536870913,p=h!==i.lane;if(p?(Ce&h)===h:(r&h)===h){h!==0&&h===Ks&&(op=!0),d!==null&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var y=e,x=i;h=t;var w=n;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(w,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(w,f,h):y,h==null)break e;f=Be({},f,h);break e;case 2:Aa=!0}}h=i.callback,h!==null&&(e.flags|=64,p&&(e.flags|=8192),p=a.callbacks,p===null?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;p=i,i=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,o===null&&(a.shared.lanes=0),eo|=s,e.lanes=s,e.memoizedState=f}}function HS(e,t){if(typeof e!="function")throw Error(X(191,e));e.call(t)}function FS(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)HS(n[e],t)}var Ws=br(null),od=br(0);function ax(e,t){e=sa,Ue(od,e),Ue(Ws,t),sa=e|t.baseLanes}function sp(){Ue(od,sa),Ue(Ws,Ws.current)}function o0(){sa=od.current,Et(Ws),Et(od)}var Qa=0,xe=null,$e=null,lt=null,sd=!1,Os=!1,Do=!1,id=0,Al=0,$s=null,bD=0;function rt(){throw Error(X(321))}function s0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function i0(e,t,n,r,a,o){return Qa=o,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ce.H=e===null||e.memoizedState===null?xN:bN,Do=!1,o=n(r,a),Do=!1,Os&&(o=GS(t,n,r,a)),US(e),o}function US(e){ce.H=ld;var t=$e!==null&&$e.next!==null;if(Qa=0,lt=$e=xe=null,sd=!1,Al=0,$s=null,t)throw Error(X(300));e===null||Nt||(e=e.dependencies,e!==null&&ad(e)&&(Nt=!0))}function GS(e,t,n,r){xe=e;var a=0;do{if(Os&&($s=null),Al=0,Os=!1,25<=a)throw Error(X(301));if(a+=1,lt=$e=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}ce.H=AD,o=t(n,r)}while(Os);return o}function wD(){var e=ce.H,t=e.useState()[0];return t=typeof t.then=="function"?mc(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(xe.flags|=1024),t}function l0(){var e=id!==0;return id=0,e}function c0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function u0(e){if(sd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}sd=!1}Qa=0,lt=$e=xe=null,Os=!1,Al=id=0,$s=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?xe.memoizedState=lt=e:lt=lt.next=e,lt}function ft(){if($e===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=lt===null?xe.memoizedState:lt.next;if(t!==null)lt=t,$e=e;else{if(e===null)throw xe.alternate===null?Error(X(467)):Error(X(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},lt===null?xe.memoizedState=lt=e:lt=lt.next=e}return lt}function d0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mc(e){var t=Al;return Al+=1,$s===null&&($s=[]),e=BS($s,e,t),t=xe,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,ce.H=t===null||t.memoizedState===null?xN:bN),e}function ff(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mc(e);if(e.$$typeof===Fr)return Ot(e)}throw Error(X(438,String(e)))}function f0(e){var t=null,n=xe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=xe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=d0(),xe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=oM;return t.index++,n}function aa(e,t){return typeof t=="function"?t(e):t}function Mu(e){var t=ft();return h0(t,$e,e)}function h0(e,t,n){var r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var i=s=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ce&f)===f:(Qa&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Ks&&(d=!0);else if((Qa&h)===h){u=u.next,h===Ks&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=f,s=o):c=c.next=f,xe.lanes|=h,eo|=h;f=u.action,Do&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=h,s=o):c=c.next=h,xe.lanes|=f,eo|=f;u=u.next}while(u!==null&&u!==t);if(c===null?s=o:c.next=i,!wn(o,e.memoizedState)&&(Nt=!0,d&&(n=zs,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function kh(e){var t=ft(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);wn(o,t.memoizedState)||(Nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function VS(e,t,n){var r=xe,a=ft(),o=Ae;if(o){if(n===void 0)throw Error(X(407));n=n()}else n=t();var s=!wn(($e||a).memoizedState,n);s&&(a.memoizedState=n,Nt=!0),a=a.queue;var i=qS.bind(null,r,a,e);if(pc(2048,8,i,[e]),a.getSnapshot!==t||s||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,Qs(9,hf(),YS.bind(null,r,a,n,t),null),Le===null)throw Error(X(349));o||Qa&124||ZS(r,t,n)}return n}function ZS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t=d0(),xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function YS(e,t,n,r){t.value=n,t.getSnapshot=r,XS(t)&&KS(e)}function qS(e,t,n){return n(function(){XS(t)&&KS(e)})}function XS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wn(e,n)}catch{return!0}}function KS(e){var t=gi(e,2);t!==null&&vn(t,e,2)}function ip(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),Do){Pa(!0);try{n()}finally{Pa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e},t}function WS(e,t,n,r){return e.baseState=n,h0(e,$e,typeof r=="function"?r:aa)}function SD(e,t,n,r,a){if(mf(e))throw Error(X(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};ce.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,QS(t,o)):(o.next=n.next,t.pending=n.next=o)}}function QS(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=ce.T,s={};ce.T=s;try{var i=n(a,r),c=ce.S;c!==null&&c(s,i),ox(e,t,i)}catch(u){lp(e,t,u)}finally{ce.T=o}}else try{o=n(a,r),ox(e,t,o)}catch(u){lp(e,t,u)}}function ox(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){sx(e,t,r)},function(r){return lp(e,t,r)}):sx(e,t,n)}function sx(e,t,n){t.status="fulfilled",t.value=n,JS(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,QS(e,n)))}function lp(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,JS(t),t=t.next;while(t!==r)}e.action=null}function JS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function eN(e,t){return t}function ix(e,t){if(Ae){var n=Le.formState;if(n!==null){e:{var r=xe;if(Ae){if(Qe){t:{for(var a=Qe,o=ir;a.nodeType!==8;){if(!o){a=null;break t}if(a=Zn(a.nextSibling),a===null){a=null;break t}}o=a.data,a=o==="F!"||o==="F"?a:null}if(a){Qe=Zn(a.nextSibling),r=a.data==="F!";break e}}Ro(r)}r=!1}r&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eN,lastRenderedState:t},n.queue=r,n=gN.bind(null,xe,r),r.dispatch=n,r=ip(!1),o=y0.bind(null,xe,!1,r.queue),r=Xt(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=SD.bind(null,xe,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function lx(e){var t=ft();return tN(t,$e,e)}function tN(e,t,n){if(t=h0(e,t,eN)[0],e=Mu(aa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=mc(t)}catch(s){throw s===hc?df:s}else r=t;t=ft();var a=t.queue,o=a.dispatch;return n!==t.memoizedState&&(xe.flags|=2048,Qs(9,hf(),ND.bind(null,a,n),null)),[r,o,e]}function ND(e,t){e.action=t}function cx(e){var t=ft(),n=$e;if(n!==null)return tN(t,n,e);ft(),t=t.memoizedState,n=ft();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Qs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=xe.updateQueue,t===null&&(t=d0(),xe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hf(){return{destroy:void 0,resource:void 0}}function nN(){return ft().memoizedState}function Du(e,t,n,r){var a=Xt();r=r===void 0?null:r,xe.flags|=e,a.memoizedState=Qs(1|t,hf(),n,r)}function pc(e,t,n,r){var a=ft();r=r===void 0?null:r;var o=a.memoizedState.inst;$e!==null&&r!==null&&s0(r,$e.memoizedState.deps)?a.memoizedState=Qs(t,o,n,r):(xe.flags|=e,a.memoizedState=Qs(1|t,o,n,r))}function ux(e,t){Du(8390656,8,e,t)}function rN(e,t){pc(2048,8,e,t)}function aN(e,t){return pc(4,2,e,t)}function oN(e,t){return pc(4,4,e,t)}function sN(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iN(e,t,n){n=n!=null?n.concat([e]):null,pc(4,4,sN.bind(null,t,e),n)}function m0(){}function lN(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&s0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cN(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&s0(t,r[1]))return r[0];if(r=e(),Do){Pa(!0);try{e()}finally{Pa(!1)}}return n.memoizedState=[r,t],r}function p0(e,t,n){return n===void 0||Qa&1073741824?e.memoizedState=t:(e.memoizedState=n,e=JN(),xe.lanes|=e,eo|=e,n)}function uN(e,t,n,r){return wn(n,t)?n:Ws.current!==null?(e=p0(e,n,r),wn(e,t)||(Nt=!0),e):Qa&42?(e=JN(),xe.lanes|=e,eo|=e,t):(Nt=!0,e.memoizedState=n)}function dN(e,t,n,r,a){var o=ke.p;ke.p=o!==0&&8>o?o:8;var s=ce.T,i={};ce.T=i,y0(e,!1,t,n);try{var c=a(),u=ce.S;if(u!==null&&u(i,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=xD(c,r);ml(e,t,d,yn(e))}else ml(e,t,r,yn(e))}catch(f){ml(e,t,{then:function(){},status:"rejected",reason:f},yn())}finally{ke.p=o,ce.T=s}}function ED(){}function cp(e,t,n,r){if(e.tag!==5)throw Error(X(476));var a=fN(e).queue;dN(e,a,t,So,n===null?ED:function(){return hN(e),n(r)})}function fN(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:So,baseState:So,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:So},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hN(e){var t=fN(e).next.queue;ml(e,t,{},yn())}function g0(){return Ot(Ml)}function mN(){return ft().memoizedState}function pN(){return ft().memoizedState}function _D(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=yn();e=Ua(n);var r=Ga(t,e,n);r!==null&&(vn(r,t,n),dl(r,t,n)),t={cache:n0()},e.payload=t;return}t=t.return}}function CD(e,t,n){var r=yn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},mf(e)?yN(t,n):(n=Qg(e,t,n,r),n!==null&&(vn(n,e,r),vN(n,t,r)))}function gN(e,t,n){var r=yn();ml(e,t,n,r)}function ml(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(mf(e))yN(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,wn(i,s))return uf(e,t,a,0),Le===null&&cf(),!1}catch{}finally{}if(n=Qg(e,t,a,r),n!==null)return vn(n,e,r),vN(n,t,r),!0}return!1}function y0(e,t,n,r){if(r={lane:2,revertLane:_0(),action:r,hasEagerState:!1,eagerState:null,next:null},mf(e)){if(t)throw Error(X(479))}else t=Qg(e,n,r,2),t!==null&&vn(t,e,2)}function mf(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function yN(e,t){Os=sd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vN(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lS(e,n)}}var ld={readContext:Ot,use:ff,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},xN={readContext:Ot,use:ff,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:ux,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Du(4194308,4,sN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Du(4194308,4,e,t)},useInsertionEffect:function(e,t){Du(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var r=e();if(Do){Pa(!0);try{e()}finally{Pa(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Xt();if(n!==void 0){var a=n(t);if(Do){Pa(!0);try{n(t)}finally{Pa(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=CD.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=ip(e);var t=e.queue,n=gN.bind(null,xe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:m0,useDeferredValue:function(e,t){var n=Xt();return p0(n,e,t)},useTransition:function(){var e=ip(!1);return e=dN.bind(null,xe,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xe,a=Xt();if(Ae){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),Le===null)throw Error(X(349));Ce&124||ZS(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,ux(qS.bind(null,r,o,e),[e]),r.flags|=2048,Qs(9,hf(),YS.bind(null,r,o,n,t),null),n},useId:function(){var e=Xt(),t=Le.identifierPrefix;if(Ae){var n=Gr,r=Ur;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,t=""+t+"R"+n,n=id++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=bD++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:g0,useFormState:ix,useActionState:ix,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=y0.bind(null,xe,!0,n),n.dispatch=t,[e,t]},useMemoCache:f0,useCacheRefresh:function(){return Xt().memoizedState=_D.bind(null,xe)}},bN={readContext:Ot,use:ff,useCallback:lN,useContext:Ot,useEffect:rN,useImperativeHandle:iN,useInsertionEffect:aN,useLayoutEffect:oN,useMemo:cN,useReducer:Mu,useRef:nN,useState:function(){return Mu(aa)},useDebugValue:m0,useDeferredValue:function(e,t){var n=ft();return uN(n,$e.memoizedState,e,t)},useTransition:function(){var e=Mu(aa)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:mc(e),t]},useSyncExternalStore:VS,useId:mN,useHostTransitionStatus:g0,useFormState:lx,useActionState:lx,useOptimistic:function(e,t){var n=ft();return WS(n,$e,e,t)},useMemoCache:f0,useCacheRefresh:pN},AD={readContext:Ot,use:ff,useCallback:lN,useContext:Ot,useEffect:rN,useImperativeHandle:iN,useInsertionEffect:aN,useLayoutEffect:oN,useMemo:cN,useReducer:kh,useRef:nN,useState:function(){return kh(aa)},useDebugValue:m0,useDeferredValue:function(e,t){var n=ft();return $e===null?p0(n,e,t):uN(n,$e.memoizedState,e,t)},useTransition:function(){var e=kh(aa)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:mc(e),t]},useSyncExternalStore:VS,useId:mN,useHostTransitionStatus:g0,useFormState:cx,useActionState:cx,useOptimistic:function(e,t){var n=ft();return $e!==null?WS(n,$e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:f0,useCacheRefresh:pN},Ps=null,kl=0;function Zc(e){var t=kl;return kl+=1,Ps===null&&(Ps=[]),BS(Ps,e,t)}function Oi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yc(e,t){throw t.$$typeof===rM?Error(X(525)):(e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function dx(e){var t=e._init;return t(e._payload)}function wN(e){function t(g,v){if(e){var S=g.deletions;S===null?(g.deletions=[v],g.flags|=16):S.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g){for(var v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(g,v){return g=Kr(g,v),g.index=0,g.sibling=null,g}function o(g,v,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<v?(g.flags|=67108866,v):S):(g.flags|=67108866,v)):(g.flags|=1048576,v)}function s(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function i(g,v,S,b){return v===null||v.tag!==6?(v=_h(S,g.mode,b),v.return=g,v):(v=a(v,S),v.return=g,v)}function c(g,v,S,b){var E=S.type;return E===ys?d(g,v,S.props.children,b,S.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ca&&dx(E)===v.type)?(v=a(v,S.props),Oi(v,S),v.return=g,v):(v=Tu(S.type,S.key,S.props,null,g.mode,b),Oi(v,S),v.return=g,v)}function u(g,v,S,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Ch(S,g.mode,b),v.return=g,v):(v=a(v,S.children||[]),v.return=g,v)}function d(g,v,S,b,E){return v===null||v.tag!==7?(v=No(S,g.mode,b,E),v.return=g,v):(v=a(v,S),v.return=g,v)}function f(g,v,S){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=_h(""+v,g.mode,S),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ic:return S=Tu(v.type,v.key,v.props,null,g.mode,S),Oi(S,v),S.return=g,S;case Xi:return v=Ch(v,g.mode,S),v.return=g,v;case Ca:var b=v._init;return v=b(v._payload),f(g,v,S)}if(Ki(v)||Ri(v))return v=No(v,g.mode,S,null),v.return=g,v;if(typeof v.then=="function")return f(g,Zc(v),S);if(v.$$typeof===Fr)return f(g,Gc(g,v),S);Yc(g,v)}return null}function h(g,v,S,b){var E=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return E!==null?null:i(g,v,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ic:return S.key===E?c(g,v,S,b):null;case Xi:return S.key===E?u(g,v,S,b):null;case Ca:return E=S._init,S=E(S._payload),h(g,v,S,b)}if(Ki(S)||Ri(S))return E!==null?null:d(g,v,S,b,null);if(typeof S.then=="function")return h(g,v,Zc(S),b);if(S.$$typeof===Fr)return h(g,v,Gc(g,S),b);Yc(g,S)}return null}function p(g,v,S,b,E){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(S)||null,i(v,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ic:return g=g.get(b.key===null?S:b.key)||null,c(v,g,b,E);case Xi:return g=g.get(b.key===null?S:b.key)||null,u(v,g,b,E);case Ca:var j=b._init;return b=j(b._payload),p(g,v,S,b,E)}if(Ki(b)||Ri(b))return g=g.get(S)||null,d(v,g,b,E,null);if(typeof b.then=="function")return p(g,v,S,Zc(b),E);if(b.$$typeof===Fr)return p(g,v,S,Gc(v,b),E);Yc(v,b)}return null}function y(g,v,S,b){for(var E=null,j=null,N=v,C=v=0,_=null;N!==null&&C<S.length;C++){N.index>C?(_=N,N=null):_=N.sibling;var A=h(g,N,S[C],b);if(A===null){N===null&&(N=_);break}e&&N&&A.alternate===null&&t(g,N),v=o(A,v,C),j===null?E=A:j.sibling=A,j=A,N=_}if(C===S.length)return n(g,N),Ae&&mo(g,C),E;if(N===null){for(;C<S.length;C++)N=f(g,S[C],b),N!==null&&(v=o(N,v,C),j===null?E=N:j.sibling=N,j=N);return Ae&&mo(g,C),E}for(N=r(N);C<S.length;C++)_=p(N,g,C,S[C],b),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?C:_.key),v=o(_,v,C),j===null?E=_:j.sibling=_,j=_);return e&&N.forEach(function(O){return t(g,O)}),Ae&&mo(g,C),E}function x(g,v,S,b){if(S==null)throw Error(X(151));for(var E=null,j=null,N=v,C=v=0,_=null,A=S.next();N!==null&&!A.done;C++,A=S.next()){N.index>C?(_=N,N=null):_=N.sibling;var O=h(g,N,A.value,b);if(O===null){N===null&&(N=_);break}e&&N&&O.alternate===null&&t(g,N),v=o(O,v,C),j===null?E=O:j.sibling=O,j=O,N=_}if(A.done)return n(g,N),Ae&&mo(g,C),E;if(N===null){for(;!A.done;C++,A=S.next())A=f(g,A.value,b),A!==null&&(v=o(A,v,C),j===null?E=A:j.sibling=A,j=A);return Ae&&mo(g,C),E}for(N=r(N);!A.done;C++,A=S.next())A=p(N,g,C,A.value,b),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?C:A.key),v=o(A,v,C),j===null?E=A:j.sibling=A,j=A);return e&&N.forEach(function(B){return t(g,B)}),Ae&&mo(g,C),E}function w(g,v,S,b){if(typeof S=="object"&&S!==null&&S.type===ys&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ic:e:{for(var E=S.key;v!==null;){if(v.key===E){if(E=S.type,E===ys){if(v.tag===7){n(g,v.sibling),b=a(v,S.props.children),b.return=g,g=b;break e}}else if(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ca&&dx(E)===v.type){n(g,v.sibling),b=a(v,S.props),Oi(b,S),b.return=g,g=b;break e}n(g,v);break}else t(g,v);v=v.sibling}S.type===ys?(b=No(S.props.children,g.mode,b,S.key),b.return=g,g=b):(b=Tu(S.type,S.key,S.props,null,g.mode,b),Oi(b,S),b.return=g,g=b)}return s(g);case Xi:e:{for(E=S.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(g,v.sibling),b=a(v,S.children||[]),b.return=g,g=b;break e}else{n(g,v);break}else t(g,v);v=v.sibling}b=Ch(S,g.mode,b),b.return=g,g=b}return s(g);case Ca:return E=S._init,S=E(S._payload),w(g,v,S,b)}if(Ki(S))return y(g,v,S,b);if(Ri(S)){if(E=Ri(S),typeof E!="function")throw Error(X(150));return S=E.call(S),x(g,v,S,b)}if(typeof S.then=="function")return w(g,v,Zc(S),b);if(S.$$typeof===Fr)return w(g,v,Gc(g,S),b);Yc(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,v!==null&&v.tag===6?(n(g,v.sibling),b=a(v,S),b.return=g,g=b):(n(g,v),b=_h(S,g.mode,b),b.return=g,g=b),s(g)):n(g,v)}return function(g,v,S,b){try{kl=0;var E=w(g,v,S,b);return Ps=null,E}catch(N){if(N===hc||N===df)throw N;var j=mn(29,N,null,g.mode);return j.lanes=b,j.return=g,j}finally{}}}var Js=wN(!0),SN=wN(!1),zn=br(null),pr=null;function Ra(e){var t=e.alternate;Ue(yt,yt.current&1),Ue(zn,e),pr===null&&(t===null||Ws.current!==null||t.memoizedState!==null)&&(pr=e)}function NN(e){if(e.tag===22){if(Ue(yt,yt.current),Ue(zn,e),pr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(pr=e)}}else Ma()}function Ma(){Ue(yt,yt.current),Ue(zn,zn.current)}function Zr(e){Et(zn),pr===e&&(pr=null),Et(yt)}var yt=br(0);function cd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Cp(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function jh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var up={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yn(),a=Ua(r);a.payload=t,n!=null&&(a.callback=n),t=Ga(e,a,r),t!==null&&(vn(t,e,r),dl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yn(),a=Ua(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ga(e,a,r),t!==null&&(vn(t,e,r),dl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yn(),r=Ua(n);r.tag=2,t!=null&&(r.callback=t),t=Ga(e,r,n),t!==null&&(vn(t,e,n),dl(t,e,n))}};function fx(e,t,n,r,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!_l(n,r)||!_l(a,o):!0}function hx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&up.enqueueReplaceState(t,t.state,null)}function zo(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Be({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var ud=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function EN(e){ud(e)}function _N(e){console.error(e)}function CN(e){ud(e)}function dd(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function mx(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function dp(e,t,n){return n=Ua(n),n.tag=3,n.payload={element:null},n.callback=function(){dd(e,t)},n}function AN(e){return e=Ua(e),e.tag=3,e}function kN(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){mx(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){mx(t,n,r),typeof a!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})})}function kD(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&dc(t,n,a,!0),n=zn.current,n!==null){switch(n.tag){case 13:return pr===null?xp():n.alternate===null&&et===0&&(et=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===rp?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Bh(e,r,a)),!1;case 22:return n.flags|=65536,r===rp?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Bh(e,r,a)),!1}throw Error(X(435,n.tag))}return Bh(e,r,a),xp(),!1}if(Ae)return t=zn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Qm&&(e=Error(X(422),{cause:r}),Cl(Tn(e,n)))):(r!==Qm&&(t=Error(X(423),{cause:r}),Cl(Tn(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Tn(r,n),a=dp(e.stateNode,r,a),Ah(e,a),et!==4&&(et=2)),!1;var o=Error(X(520),{cause:r});if(o=Tn(o,n),yl===null?yl=[o]:yl.push(o),et!==4&&(et=2),t===null)return!0;r=Tn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=dp(n.stateNode,r,e),Ah(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Va===null||!Va.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=AN(a),kN(a,e,n,r),Ah(n,a),!1}n=n.return}while(n!==null);return!1}var jN=Error(X(461)),Nt=!1;function kt(e,t,n,r){t.child=e===null?SN(t,null,n,r):Js(t,e.child,n,r)}function px(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var i in r)i!=="ref"&&(s[i]=r[i])}else s=r;return Mo(t),r=i0(e,t,n,s,o,a),i=l0(),e!==null&&!Nt?(c0(e,t,a),oa(e,t,a)):(Ae&&i&&e0(t),t.flags|=1,kt(e,t,r,a),t.child)}function gx(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!Jg(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,TN(e,t,o,r,a)):(e=Tu(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!v0(e,a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(s,r)&&e.ref===t.ref)return oa(e,t,a)}return t.flags|=1,e=Kr(o,r),e.ref=t.ref,e.return=t,t.child=e}function TN(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(_l(o,r)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=r=o,v0(e,a))e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,oa(e,t,a)}return fp(e,t,n,r,a)}function RN(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return yx(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(t,o!==null?o.cachePool:null),o!==null?ax(t,o):sp(),NN(t);else return t.lanes=t.childLanes=536870912,yx(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(Ru(t,o.cachePool),ax(t,o),Ma(),t.memoizedState=null):(e!==null&&Ru(t,null),sp(),Ma());return kt(e,t,a,n),t.child}function yx(e,t,n,r){var a=r0();return a=a===null?null:{parent:gt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Ru(t,null),sp(),NN(t),e!==null&&dc(e,t,r,!0),null}function zu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(X(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function fp(e,t,n,r,a){return Mo(t),n=i0(e,t,n,r,void 0,a),r=l0(),e!==null&&!Nt?(c0(e,t,a),oa(e,t,a)):(Ae&&r&&e0(t),t.flags|=1,kt(e,t,n,a),t.child)}function vx(e,t,n,r,a,o){return Mo(t),t.updateQueue=null,n=GS(t,r,n,a),US(e),r=l0(),e!==null&&!Nt?(c0(e,t,o),oa(e,t,o)):(Ae&&r&&e0(t),t.flags|=1,kt(e,t,n,o),t.child)}function xx(e,t,n,r,a){if(Mo(t),t.stateNode===null){var o=_s,s=n.contextType;typeof s=="object"&&s!==null&&(o=Ot(s)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=up,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},a0(t),s=n.contextType,o.context=typeof s=="object"&&s!==null?Ot(s):_s,o.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(jh(t,n,s,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&up.enqueueReplaceState(o,o.state,null),hl(t,r,o,a),fl(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var i=t.memoizedProps,c=zo(n,i);o.props=c;var u=o.context,d=n.contextType;s=_s,typeof d=="object"&&d!==null&&(s=Ot(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function",i=t.pendingProps!==i,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i||u!==s)&&hx(t,o,r,s),Aa=!1;var h=t.memoizedState;o.state=h,hl(t,r,o,a),fl(),u=t.memoizedState,i||h!==u||Aa?(typeof f=="function"&&(jh(t,n,f,r),u=t.memoizedState),(c=Aa||fx(t,n,c,r,h,u,s))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ap(e,t),s=t.memoizedProps,d=zo(n,s),o.props=d,f=t.pendingProps,h=o.context,u=n.contextType,c=_s,typeof u=="object"&&u!==null&&(c=Ot(u)),i=n.getDerivedStateFromProps,(u=typeof i=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&hx(t,o,r,c),Aa=!1,h=t.memoizedState,o.state=h,hl(t,r,o,a),fl();var p=t.memoizedState;s!==f||h!==p||Aa||e!==null&&e.dependencies!==null&&ad(e.dependencies)?(typeof i=="function"&&(jh(t,n,i,r),p=t.memoizedState),(d=Aa||fx(t,n,d,r,h,p,c)||e!==null&&e.dependencies!==null&&ad(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,zu(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=Js(t,e.child,null,a),t.child=Js(t,null,n,a)):kt(e,t,n,a),t.memoizedState=o.state,e=t.child):e=oa(e,t,a),e}function bx(e,t,n,r){return uc(),t.flags|=256,kt(e,t,n,r),t.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(e){return{baseLanes:e,cachePool:LS()}}function Mh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Rn),e}function MN(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(a?Ra(t):Ma(),Ae){var i=Qe,c;if(c=i){e:{for(c=i,i=ir;c.nodeType!==8;){if(!i){i=null;break e}if(c=Zn(c.nextSibling),c===null){i=null;break e}}i=c}i!==null?(t.memoizedState={dehydrated:i,treeContext:Eo!==null?{id:Ur,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},c=mn(18,null,null,0),c.stateNode=i,c.return=t,t.child=c,Pt=t,Qe=null,c=!0):c=!1}c||Ro(t)}if(i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null))return Cp(i)?t.lanes=32:t.lanes=536870912,null;Zr(t)}return i=r.children,r=r.fallback,a?(Ma(),a=t.mode,i=fd({mode:"hidden",children:i},a),r=No(r,a,n,null),i.return=t,r.return=t,i.sibling=r,t.child=i,a=t.child,a.memoizedState=Rh(n),a.childLanes=Mh(e,s,n),t.memoizedState=Th,r):(Ra(t),hp(t,i))}if(c=e.memoizedState,c!==null&&(i=c.dehydrated,i!==null)){if(o)t.flags&256?(Ra(t),t.flags&=-257,t=Dh(e,t,n)):t.memoizedState!==null?(Ma(),t.child=e.child,t.flags|=128,t=null):(Ma(),a=r.fallback,i=t.mode,r=fd({mode:"visible",children:r.children},i),a=No(a,i,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,Js(t,e.child,null,n),r=t.child,r.memoizedState=Rh(n),r.childLanes=Mh(e,s,n),t.memoizedState=Th,t=a);else if(Ra(t),Cp(i)){if(s=i.nextSibling&&i.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(X(419)),r.stack="",r.digest=s,Cl({value:r,source:null,stack:null}),t=Dh(e,t,n)}else if(Nt||dc(e,t,n,!1),s=(n&e.childLanes)!==0,Nt||s){if(s=Le,s!==null&&(r=n&-n,r=r&42?1:Fg(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,gi(e,r),vn(s,e,r),jN;i.data==="$?"||xp(),t=Dh(e,t,n)}else i.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Qe=Zn(i.nextSibling),Pt=t,Ae=!0,_o=null,ir=!1,e!==null&&(An[kn++]=Ur,An[kn++]=Gr,An[kn++]=Eo,Ur=e.id,Gr=e.overflow,Eo=t),t=hp(t,r.children),t.flags|=4096);return t}return a?(Ma(),a=r.fallback,i=t.mode,c=e.child,u=c.sibling,r=Kr(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?a=Kr(u,a):(a=No(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i===null?i=Rh(n):(c=i.cachePool,c!==null?(u=gt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=LS(),i={baseLanes:i.baseLanes|n,cachePool:c}),a.memoizedState=i,a.childLanes=Mh(e,s,n),t.memoizedState=Th,r):(Ra(t),n=e.child,e=n.sibling,n=Kr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function hp(e,t){return t=fd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fd(e,t){return e=mn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Dh(e,t,n){return Js(t,e.child,null,n),e=hp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ep(e.return,t,n)}function zh(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function DN(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(kt(e,t,r.children,n),r=yt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wx(e,n,t);else if(e.tag===19)wx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Ue(yt,r),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&cd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zh(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&cd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zh(t,!0,n,null,o);break;case"together":zh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),eo|=t.lanes,!(n&t.childLanes))if(e!==null){if(dc(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Kr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function v0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ad(e)))}function jD(e,t,n){switch(t.tag){case 3:Ku(t,t.stateNode.containerInfo),Ta(t,gt,e.memoizedState.cache),uc();break;case 27:case 5:Fm(t);break;case 4:Ku(t,t.stateNode.containerInfo);break;case 10:Ta(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ra(t),t.flags|=128,null):n&t.child.childLanes?MN(e,t,n):(Ra(t),e=oa(e,t,n),e!==null?e.sibling:null);Ra(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(dc(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return DN(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ue(yt,yt.current),r)break;return null;case 22:case 23:return t.lanes=0,RN(e,t,n);case 24:Ta(t,gt,e.memoizedState.cache)}return oa(e,t,n)}function zN(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Nt=!0;else{if(!v0(e,n)&&!(t.flags&128))return Nt=!1,jD(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,Ae&&t.flags&1048576&&$S(t,rd,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r=="function")Jg(r)?(e=zo(r,e),t.tag=1,t=xx(null,t,r,e,n)):(t.tag=0,t=fp(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===Ig){t.tag=11,t=px(null,t,r,e,n);break e}else if(a===Bg){t.tag=14,t=gx(null,t,r,e,n);break e}}throw t=Bm(r)||r,Error(X(306,t,""))}}return t;case 0:return fp(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=zo(r,t.pendingProps),xx(e,t,r,a,n);case 3:e:{if(Ku(t,t.stateNode.containerInfo),e===null)throw Error(X(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,ap(e,t),hl(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ta(t,gt,r),r!==o.cache&&tp(t,[gt],n,!0),fl(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=bx(e,t,r,n);break e}else if(r!==a){a=Tn(Error(X(424)),t),Cl(a),t=bx(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Zn(e.firstChild),Pt=t,Ae=!0,_o=null,ir=!0,n=SN(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(uc(),r===a){t=oa(e,t,n);break e}kt(e,t,r,n)}t=t.child}return t;case 26:return zu(e,t),e===null?(n=Lx(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ae||(n=t.type,e=t.pendingProps,r=xd(Fa.current).createElement(n),r[zt]=t,r[Jt]=e,Tt(r,n,e),St(r),t.stateNode=r):t.memoizedState=Lx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fm(t),e===null&&Ae&&(r=t.stateNode=bE(t.type,t.pendingProps,Fa.current),Pt=t,ir=!0,a=Qe,ao(t.type)?(Ap=a,Qe=Zn(r.firstChild)):Qe=a),kt(e,t,t.pendingProps.children,n),zu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((a=r=Qe)&&(r=r3(r,t.type,t.pendingProps,ir),r!==null?(t.stateNode=r,Pt=t,Qe=Zn(r.firstChild),ir=!1,a=!0):a=!1),a||Ro(t)),Fm(t),a=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,r=o.children,Ep(a,o)?r=null:s!==null&&Ep(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=i0(e,t,wD,null,null,n),Ml._currentValue=a),zu(e,t),kt(e,t,r,n),t.child;case 6:return e===null&&Ae&&((e=n=Qe)&&(n=a3(n,t.pendingProps,ir),n!==null?(t.stateNode=n,Pt=t,Qe=null,e=!0):e=!1),e||Ro(t)),null;case 13:return MN(e,t,n);case 4:return Ku(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Js(t,null,r,n):kt(e,t,r,n),t.child;case 11:return px(e,t,t.type,t.pendingProps,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ta(t,t.type,r.value),kt(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Mo(t),a=Ot(a),r=r(a),t.flags|=1,kt(e,t,r,n),t.child;case 14:return gx(e,t,t.type,t.pendingProps,n);case 15:return TN(e,t,t.type,t.pendingProps,n);case 19:return DN(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=fd(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Kr(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return RN(e,t,n);case 24:return Mo(t),r=Ot(gt),e===null?(a=r0(),a===null&&(a=Le,o=n0(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},a0(t),Ta(t,gt,a)):(e.lanes&n&&(ap(e,t),hl(t,null,null,n),fl()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Ta(t,gt,r)):(r=o.cache,Ta(t,gt,r),r!==a.cache&&tp(t,[gt],n,!0))),kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(X(156,t.tag))}function Or(e){e.flags|=4}function Sx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!NE(t)){if(t=zn.current,t!==null&&((Ce&4194048)===Ce?pr!==null:(Ce&62914560)!==Ce&&!(Ce&536870912)||t!==pr))throw ul=rp,IS;e.flags|=8192}}function qc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sS():536870912,e.lanes|=t,ei|=t)}function $i(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TD(e,t,n){var r=t.pendingProps;switch(t0(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Wr(gt),Ys(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zi(t)?Or(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qv())),Ye(t),null;case 26:return n=t.memoizedState,e===null?(Or(t),n!==null?(Ye(t),Sx(t,n)):(Ye(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Or(t),Ye(t),Sx(t,n)):(Ye(t),t.flags&=-16777217):(e.memoizedProps!==r&&Or(t),Ye(t),t.flags&=-16777217),null;case 27:Wu(t),n=Fa.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Or(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return Ye(t),null}e=hr.current,zi(t)?Kv(t):(e=bE(a,r,n),t.stateNode=e,Or(t))}return Ye(t),null;case 5:if(Wu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Or(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return Ye(t),null}if(e=hr.current,zi(t))Kv(t);else{switch(a=xd(Fa.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?a.createElement(n,{is:r.is}):a.createElement(n)}}e[zt]=t,e[Jt]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Tt(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Or(t)}}return Ye(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Or(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(e=Fa.current,zi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Pt,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[zt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||yE(e.nodeValue,n)),e||Ro(t)}else e=xd(e).createTextNode(r),e[zt]=t,t.stateNode=e}return Ye(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=zi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[zt]=t}else uc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),a=!1}else a=Qv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Zr(t),t):(Zr(t),null)}if(Zr(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),qc(t,t.updateQueue),Ye(t),null;case 4:return Ys(),e===null&&C0(t.stateNode.containerInfo),Ye(t),null;case 10:return Wr(t.type),Ye(t),null;case 19:if(Et(yt),a=t.memoizedState,a===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)$i(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cd(e),o!==null){for(t.flags|=128,$i(a,!1),e=o.updateQueue,t.updateQueue=e,qc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)OS(n,e),n=n.sibling;return Ue(yt,yt.current&1|2),t.child}e=e.sibling}a.tail!==null&&mr()>md&&(t.flags|=128,r=!0,$i(a,!1),t.lanes=4194304)}else{if(!r)if(e=cd(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,qc(t,e),$i(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ae)return Ye(t),null}else 2*mr()-a.renderingStartTime>md&&n!==536870912&&(t.flags|=128,r=!0,$i(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=mr(),t.sibling=null,e=yt.current,Ue(yt,r?e&1|2:e&1),t):(Ye(t),null);case 22:case 23:return Zr(t),o0(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),n=t.updateQueue,n!==null&&qc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Et(Co),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Wr(gt),Ye(t),null;case 25:return null;case 30:return null}throw Error(X(156,t.tag))}function RD(e,t){switch(t0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wr(gt),Ys(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wu(t),null;case 13:if(Zr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));uc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Et(yt),null;case 4:return Ys(),null;case 10:return Wr(t.type),null;case 22:case 23:return Zr(t),o0(),e!==null&&Et(Co),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Wr(gt),null;case 25:return null;default:return null}}function ON(e,t){switch(t0(t),t.tag){case 3:Wr(gt),Ys();break;case 26:case 27:case 5:Wu(t);break;case 4:Ys();break;case 13:Zr(t);break;case 19:Et(yt);break;case 10:Wr(t.type);break;case 22:case 23:Zr(t),o0(),e!==null&&Et(Co);break;case 24:Wr(gt)}}function gc(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==a)}}catch(i){Pe(t,t.return,i)}}function Ja(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var o=a.next;r=o;do{if((r.tag&e)===e){var s=r.inst,i=s.destroy;if(i!==void 0){s.destroy=void 0,a=t;var c=n,u=i;try{u()}catch(d){Pe(a,c,d)}}}r=r.next}while(r!==o)}}catch(d){Pe(t,t.return,d)}}function $N(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{FS(t,n)}catch(r){Pe(e,e.return,r)}}}function PN(e,t,n){n.props=zo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Pe(e,t,r)}}function pl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){Pe(e,t,a)}}function cr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Pe(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Pe(e,t,a)}else n.current=null}function LN(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Pe(e,e.return,a)}}function Oh(e,t,n){try{var r=e.stateNode;QD(r,e.type,n,t),r[Jt]=t}catch(a){Pe(e,e.return,a)}}function IN(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ao(e.type)||e.tag===4}function $h(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ao(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vf));else if(r!==4&&(r===27&&ao(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(mp(e,t,n),e=e.sibling;e!==null;)mp(e,t,n),e=e.sibling}function hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ao(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(hd(e,t,n),e=e.sibling;e!==null;)hd(e,t,n),e=e.sibling}function BN(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Tt(t,r,n),t[zt]=e,t[Jt]=n}catch(o){Pe(e,e.return,o)}}var Ir=!1,at=!1,Ph=!1,Nx=typeof WeakSet=="function"?WeakSet:Set,wt=null;function MD(e,t){if(e=e.containerInfo,Sp=Nd,e=AS(e),Kg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||a!==0&&f.nodeType!==3||(i=s+a),f!==o||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(i=s),h===o&&++d===r&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Np={focusedElem:e,selectionRange:n},Nd=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var y=zo(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(y,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){Pe(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)_p(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_p(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(X(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function HN(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:wa(e,n),r&4&&gc(5,n);break;case 1:if(wa(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Pe(n,n.return,s)}else{var a=zo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Pe(n,n.return,s)}}r&64&&$N(n),r&512&&pl(n,n.return);break;case 3:if(wa(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{FS(e,t)}catch(s){Pe(n,n.return,s)}}break;case 27:t===null&&r&4&&BN(n);case 26:case 5:wa(e,n),t===null&&r&4&&LN(n),r&512&&pl(n,n.return);break;case 12:wa(e,n);break;case 13:wa(e,n),r&4&&GN(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=HD.bind(null,n),o3(e,n))));break;case 22:if(r=n.memoizedState!==null||Ir,!r){t=t!==null&&t.memoizedState!==null||at,a=Ir;var o=at;Ir=r,(at=t)&&!o?Ea(e,n,(n.subtreeFlags&8772)!==0):wa(e,n),Ir=a,at=o}break;case 30:break;default:wa(e,n)}}function FN(e){var t=e.alternate;t!==null&&(e.alternate=null,FN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Gg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Kt=!1;function $r(e,t,n){for(n=n.child;n!==null;)UN(e,t,n),n=n.sibling}function UN(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(oc,n)}catch{}switch(n.tag){case 26:at||cr(n,t),$r(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:at||cr(n,t);var r=He,a=Kt;ao(n.type)&&(He=n.stateNode,Kt=!1),$r(e,t,n),xl(n.stateNode),He=r,Kt=a;break;case 5:at||cr(n,t);case 6:if(r=He,a=Kt,He=null,$r(e,t,n),He=r,Kt=a,He!==null)if(Kt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(o){Pe(n,t,o)}else try{He.removeChild(n.stateNode)}catch(o){Pe(n,t,o)}break;case 18:He!==null&&(Kt?(e=He,Ox(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ol(e)):Ox(He,n.stateNode));break;case 4:r=He,a=Kt,He=n.stateNode.containerInfo,Kt=!0,$r(e,t,n),He=r,Kt=a;break;case 0:case 11:case 14:case 15:at||Ja(2,n,t),at||Ja(4,n,t),$r(e,t,n);break;case 1:at||(cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&PN(n,t,r)),$r(e,t,n);break;case 21:$r(e,t,n);break;case 22:at=(r=at)||n.memoizedState!==null,$r(e,t,n),at=r;break;default:$r(e,t,n)}}function GN(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ol(e)}catch(n){Pe(t,t.return,n)}}function DD(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nx),t;default:throw Error(X(435,e.tag))}}function Lh(e,t){var n=DD(e);t.forEach(function(r){var a=FD.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}function sn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 27:if(ao(i.type)){He=i.stateNode,Kt=!1;break e}break;case 5:He=i.stateNode,Kt=!1;break e;case 3:case 4:He=i.stateNode.containerInfo,Kt=!0;break e}i=i.return}if(He===null)throw Error(X(160));UN(o,s,a),He=null,Kt=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)VN(t,e),t=t.sibling}var Un=null;function VN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(t,e),ln(e),r&4&&(Ja(3,e,e.return),gc(3,e),Ja(5,e,e.return));break;case 1:sn(t,e),ln(e),r&512&&(at||n===null||cr(n,n.return)),r&64&&Ir&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Un;if(sn(t,e),ln(e),r&512&&(at||n===null||cr(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":o=a.getElementsByTagName("title")[0],(!o||o[lc]||o[zt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),Tt(o,r,n),o[zt]=e,St(o),r=o;break e;case"link":var s=Bx("link","href",a).get(r+(n.href||""));if(s){for(var i=0;i<s.length;i++)if(o=s[i],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(i,1);break t}}o=a.createElement(r),Tt(o,r,n),a.head.appendChild(o);break;case"meta":if(s=Bx("meta","content",a).get(r+(n.content||""))){for(i=0;i<s.length;i++)if(o=s[i],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(i,1);break t}}o=a.createElement(r),Tt(o,r,n),a.head.appendChild(o);break;default:throw Error(X(468,r))}o[zt]=e,St(o),r=o}e.stateNode=r}else Hx(a,e.type,e.stateNode);else e.stateNode=Ix(a,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Hx(a,e.type,e.stateNode):Ix(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Oh(e,e.memoizedProps,n.memoizedProps)}break;case 27:sn(t,e),ln(e),r&512&&(at||n===null||cr(n,n.return)),n!==null&&r&4&&Oh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sn(t,e),ln(e),r&512&&(at||n===null||cr(n,n.return)),e.flags&32){a=e.stateNode;try{Xs(a,"")}catch(p){Pe(e,e.return,p)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Oh(e,a,n!==null?n.memoizedProps:a)),r&1024&&(Ph=!0);break;case 6:if(sn(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(X(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){Pe(e,e.return,p)}}break;case 3:if(Pu=null,a=Un,Un=bd(t.containerInfo),sn(t,e),Un=a,ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ol(t.containerInfo)}catch(p){Pe(e,e.return,p)}Ph&&(Ph=!1,ZN(e));break;case 4:r=Un,Un=bd(e.stateNode.containerInfo),sn(t,e),ln(e),Un=r;break;case 12:sn(t,e),ln(e);break;case 13:sn(t,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(N0=mr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Lh(e,r)));break;case 22:a=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Ir,d=at;if(Ir=u||a,at=d||c,sn(t,e),at=d,Ir=u,ln(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||c||Ir||at||po(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(o=c.stateNode,a)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{i=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;i.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){Pe(c,c.return,p)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){Pe(c,c.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Lh(e,n))));break;case 19:sn(t,e),ln(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Lh(e,r)));break;case 30:break;case 21:break;default:sn(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(IN(r)){n=r;break}r=r.return}if(n==null)throw Error(X(160));switch(n.tag){case 27:var a=n.stateNode,o=$h(e);hd(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Xs(s,""),n.flags&=-33);var i=$h(e);hd(e,i,s);break;case 3:case 4:var c=n.stateNode.containerInfo,u=$h(e);mp(e,u,c);break;default:throw Error(X(161))}}catch(d){Pe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZN(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ZN(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)HN(e,t.alternate,t),t=t.sibling}function po(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ja(4,t,t.return),po(t);break;case 1:cr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&PN(t,t.return,n),po(t);break;case 27:xl(t.stateNode);case 26:case 5:cr(t,t.return),po(t);break;case 22:t.memoizedState===null&&po(t);break;case 30:po(t);break;default:po(t)}e=e.sibling}}function Ea(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Ea(a,o,n),gc(4,o);break;case 1:if(Ea(a,o,n),r=o,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Pe(r,r.return,u)}if(r=o,a=r.updateQueue,a!==null){var i=r.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)HS(c[a],i)}catch(u){Pe(r,r.return,u)}}n&&s&64&&$N(o),pl(o,o.return);break;case 27:BN(o);case 26:case 5:Ea(a,o,n),n&&r===null&&s&4&&LN(o),pl(o,o.return);break;case 12:Ea(a,o,n);break;case 13:Ea(a,o,n),n&&s&4&&GN(a,o);break;case 22:o.memoizedState===null&&Ea(a,o,n),pl(o,o.return);break;case 30:break;default:Ea(a,o,n)}t=t.sibling}}function x0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&fc(n))}function b0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fc(e))}function ar(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)YN(e,t,n,r),t=t.sibling}function YN(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ar(e,t,n,r),a&2048&&gc(9,t);break;case 1:ar(e,t,n,r);break;case 3:ar(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fc(e)));break;case 12:if(a&2048){ar(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,i=o.onPostCommit;typeof i=="function"&&i(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Pe(t,t.return,c)}}else ar(e,t,n,r);break;case 13:ar(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,t.memoizedState!==null?o._visibility&2?ar(e,t,n,r):gl(e,t):o._visibility&2?ar(e,t,n,r):(o._visibility|=2,fs(e,t,n,r,(t.subtreeFlags&10256)!==0)),a&2048&&x0(s,t);break;case 24:ar(e,t,n,r),a&2048&&b0(t.alternate,t);break;default:ar(e,t,n,r)}}function fs(e,t,n,r,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,s=t,i=n,c=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:fs(o,s,i,c,a),gc(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?fs(o,s,i,c,a):gl(o,s):(d._visibility|=2,fs(o,s,i,c,a)),a&&u&2048&&x0(s.alternate,s);break;case 24:fs(o,s,i,c,a),a&&u&2048&&b0(s.alternate,s);break;default:fs(o,s,i,c,a)}t=t.sibling}}function gl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:gl(n,r),a&2048&&x0(r.alternate,r);break;case 24:gl(n,r),a&2048&&b0(r.alternate,r);break;default:gl(n,r)}t=t.sibling}}var Qi=8192;function Jo(e){if(e.subtreeFlags&Qi)for(e=e.child;e!==null;)qN(e),e=e.sibling}function qN(e){switch(e.tag){case 26:Jo(e),e.flags&Qi&&e.memoizedState!==null&&v3(Un,e.memoizedState,e.memoizedProps);break;case 5:Jo(e);break;case 3:case 4:var t=Un;Un=bd(e.stateNode.containerInfo),Jo(e),Un=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Qi,Qi=16777216,Jo(e),Qi=t):Jo(e));break;default:Jo(e)}}function XN(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Pi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];wt=r,WN(r,e)}XN(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)KN(e),e=e.sibling}function KN(e){switch(e.tag){case 0:case 11:case 15:Pi(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:Pi(e);break;case 12:Pi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ou(e)):Pi(e);break;default:Pi(e)}}function Ou(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];wt=r,WN(r,e)}XN(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ja(8,t,t.return),Ou(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ou(t));break;default:Ou(t)}e=e.sibling}}function WN(e,t){for(;wt!==null;){var n=wt;switch(n.tag){case 0:case 11:case 15:Ja(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:fc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,wt=r;else e:for(n=e;wt!==null;){r=wt;var a=r.sibling,o=r.return;if(FN(r),r===n){wt=null;break e}if(a!==null){a.return=o,wt=a;break e}wt=o}}}var zD={getCacheForType:function(e){var t=Ot(gt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},OD=typeof WeakMap=="function"?WeakMap:Map,ze=0,Le=null,Se=null,Ce=0,De=0,cn=null,Ia=!1,yi=!1,w0=!1,sa=0,et=0,eo=0,Ao=0,S0=0,Rn=0,ei=0,yl=null,Wt=null,pp=!1,N0=0,md=1/0,pd=null,Va=null,jt=0,Za=null,ti=null,Ls=0,gp=0,yp=null,QN=null,vl=0,vp=null;function yn(){if(ze&2&&Ce!==0)return Ce&-Ce;if(ce.T!==null){var e=Ks;return e!==0?e:_0()}return cS()}function JN(){Rn===0&&(Rn=!(Ce&536870912)||Ae?oS():536870912);var e=zn.current;return e!==null&&(e.flags|=32),Rn}function vn(e,t,n){(e===Le&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(ni(e,0),Ba(e,Ce,Rn,!1)),ic(e,n),(!(ze&2)||e!==Le)&&(e===Le&&(!(ze&2)&&(Ao|=n),et===4&&Ba(e,Ce,Rn,!1)),wr(e))}function eE(e,t,n){if(ze&6)throw Error(X(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||sc(e,t),a=r?LD(e,t):Ih(e,t,!0),o=r;do{if(a===0){yi&&!r&&Ba(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!$D(n)){a=Ih(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var i=e;a=yl;var c=i.current.memoizedState.isDehydrated;if(c&&(ni(i,s).flags|=256),s=Ih(i,s,!1),s!==2){if(w0&&!c){i.errorRecoveryDisabledLanes|=o,Ao|=o,a=4;break e}o=Wt,Wt=a,o!==null&&(Wt===null?Wt=o:Wt.push.apply(Wt,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){ni(e,0),Ba(e,t,0,!0);break}e:{switch(r=e,o=a,o){case 0:case 1:throw Error(X(345));case 4:if((t&4194048)!==t)break;case 6:Ba(r,t,Rn,!Ia);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(X(329))}if((t&62914560)===t&&(a=N0+300-mr(),10<a)){if(Ba(r,t,Rn,!Ia),af(r,0,!0)!==0)break e;r.timeoutHandle=xE(Ex.bind(null,r,n,Wt,pd,pp,t,Rn,Ao,ei,Ia,o,2,-0,0),a);break e}Ex(r,n,Wt,pd,pp,t,Rn,Ao,ei,Ia,o,0,-0,0)}}break}while(!0);wr(e)}function Ex(e,t,n,r,a,o,s,i,c,u,d,f,h,p){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:y3},qN(t),f=x3(),f!==null)){e.cancelPendingCommit=f(Cx.bind(null,e,t,o,n,r,a,s,i,c,d,1,h,p)),Ba(e,o,s,!u);return}Cx(e,t,o,n,r,a,s,i,c)}function $D(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!wn(o(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,n,r){t&=~S0,t&=~Ao,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-gn(a),s=1<<o;r[o]=-1,a&=~s}n!==0&&iS(e,n,t)}function pf(){return ze&6?!0:(yc(0),!1)}function E0(){if(Se!==null){if(De===0)var e=Se.return;else e=Se,Vr=Zo=null,u0(e),Ps=null,kl=0,e=Se;for(;e!==null;)ON(e.alternate,e),e=e.return;Se=null}}function ni(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,e3(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),E0(),Le=e,Se=n=Kr(e.current,null),Ce=t,De=0,cn=null,Ia=!1,yi=sc(e,t),w0=!1,ei=Rn=S0=Ao=eo=et=0,Wt=yl=null,pp=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-gn(r),o=1<<a;t|=e[a],r&=~o}return sa=t,cf(),n}function tE(e,t){xe=null,ce.H=ld,t===hc||t===df?(t=nx(),De=3):t===IS?(t=nx(),De=4):De=t===jN?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,cn=t,Se===null&&(et=1,dd(e,Tn(t,e.current)))}function nE(){var e=ce.H;return ce.H=ld,e===null?ld:e}function rE(){var e=ce.A;return ce.A=zD,e}function xp(){et=4,Ia||(Ce&4194048)!==Ce&&zn.current!==null||(yi=!0),!(eo&134217727)&&!(Ao&134217727)||Le===null||Ba(Le,Ce,Rn,!1)}function Ih(e,t,n){var r=ze;ze|=2;var a=nE(),o=rE();(Le!==e||Ce!==t)&&(pd=null,ni(e,t)),t=!1;var s=et;e:do try{if(De!==0&&Se!==null){var i=Se,c=cn;switch(De){case 8:E0(),s=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(t=!0);var u=De;if(De=0,cn=null,ks(e,i,c,u),n&&yi){s=0;break e}break;default:u=De,De=0,cn=null,ks(e,i,c,u)}}PD(),s=et;break}catch(d){tE(e,d)}while(!0);return t&&e.shellSuspendCounter++,Vr=Zo=null,ze=r,ce.H=a,ce.A=o,Se===null&&(Le=null,Ce=0,cf()),s}function PD(){for(;Se!==null;)aE(Se)}function LD(e,t){var n=ze;ze|=2;var r=nE(),a=rE();Le!==e||Ce!==t?(pd=null,md=mr()+500,ni(e,t)):yi=sc(e,t);e:do try{if(De!==0&&Se!==null){t=Se;var o=cn;t:switch(De){case 1:De=0,cn=null,ks(e,t,o,1);break;case 2:case 9:if(tx(o)){De=0,cn=null,_x(t);break}t=function(){De!==2&&De!==9||Le!==e||(De=7),wr(e)},o.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:tx(o)?(De=0,cn=null,_x(t)):(De=0,cn=null,ks(e,t,o,7));break;case 5:var s=null;switch(Se.tag){case 26:s=Se.memoizedState;case 5:case 27:var i=Se;if(!s||NE(s)){De=0,cn=null;var c=i.sibling;if(c!==null)Se=c;else{var u=i.return;u!==null?(Se=u,gf(u)):Se=null}break t}}De=0,cn=null,ks(e,t,o,5);break;case 6:De=0,cn=null,ks(e,t,o,6);break;case 8:E0(),et=6;break e;default:throw Error(X(462))}}ID();break}catch(d){tE(e,d)}while(!0);return Vr=Zo=null,ce.H=r,ce.A=a,ze=n,Se!==null?0:(Le=null,Ce=0,cf(),et)}function ID(){for(;Se!==null&&!iM();)aE(Se)}function aE(e){var t=zN(e.alternate,e,sa);e.memoizedProps=e.pendingProps,t===null?gf(e):Se=t}function _x(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=vx(n,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=vx(n,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:u0(t);default:ON(n,t),t=Se=OS(t,sa),t=zN(n,t,sa)}e.memoizedProps=e.pendingProps,t===null?gf(e):Se=t}function ks(e,t,n,r){Vr=Zo=null,u0(t),Ps=null,kl=0;var a=t.return;try{if(kD(e,a,t,n,Ce)){et=1,dd(e,Tn(n,e.current)),Se=null;return}}catch(o){if(a!==null)throw Se=a,o;et=1,dd(e,Tn(n,e.current)),Se=null;return}t.flags&32768?(Ae||r===1?e=!0:yi||Ce&536870912?e=!1:(Ia=e=!0,(r===2||r===9||r===3||r===6)&&(r=zn.current,r!==null&&r.tag===13&&(r.flags|=16384))),oE(t,e)):gf(t)}function gf(e){var t=e;do{if(t.flags&32768){oE(t,Ia);return}e=t.return;var n=TD(t.alternate,t,sa);if(n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);et===0&&(et=5)}function oE(e,t){do{var n=RD(e.alternate,e);if(n!==null){n.flags&=32767,Se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=n}while(e!==null);et=6,Se=null}function Cx(e,t,n,r,a,o,s,i,c){e.cancelPendingCommit=null;do yf();while(jt!==0);if(ze&6)throw Error(X(327));if(t!==null){if(t===e.current)throw Error(X(177));if(o=t.lanes|t.childLanes,o|=Wg,yM(e,n,o,s,i,c),e===Le&&(Se=Le=null,Ce=0),ti=t,Za=e,Ls=n,gp=o,yp=a,QN=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,UD(Qu,function(){return uE(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=ce.T,ce.T=null,a=ke.p,ke.p=2,s=ze,ze|=4;try{MD(e,t,n)}finally{ze=s,ke.p=a,ce.T=r}}jt=1,sE(),iE(),lE()}}function sE(){if(jt===1){jt=0;var e=Za,t=ti,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ce.T,ce.T=null;var r=ke.p;ke.p=2;var a=ze;ze|=4;try{VN(t,e);var o=Np,s=AS(e.containerInfo),i=o.focusedElem,c=o.selectionRange;if(s!==i&&i&&i.ownerDocument&&CS(i.ownerDocument.documentElement,i)){if(c!==null&&Kg(i)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in i)i.selectionStart=u,i.selectionEnd=Math.min(d,i.value.length);else{var f=i.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),y=i.textContent.length,x=Math.min(c.start,y),w=c.end===void 0?x:Math.min(c.end,y);!p.extend&&x>w&&(s=w,w=x,x=s);var g=Yv(i,x),v=Yv(i,w);if(g&&v&&(p.rangeCount!==1||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var S=f.createRange();S.setStart(g.node,g.offset),p.removeAllRanges(),x>w?(p.addRange(S),p.extend(v.node,v.offset)):(S.setEnd(v.node,v.offset),p.addRange(S))}}}}for(f=[],p=i;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<f.length;i++){var b=f[i];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}Nd=!!Sp,Np=Sp=null}finally{ze=a,ke.p=r,ce.T=n}}e.current=t,jt=2}}function iE(){if(jt===2){jt=0;var e=Za,t=ti,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ce.T,ce.T=null;var r=ke.p;ke.p=2;var a=ze;ze|=4;try{HN(e,t.alternate,t)}finally{ze=a,ke.p=r,ce.T=n}}jt=3}}function lE(){if(jt===4||jt===3){jt=0,lM();var e=Za,t=ti,n=Ls,r=QN;t.subtreeFlags&10256||t.flags&10256?jt=5:(jt=0,ti=Za=null,cE(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Va=null),Ug(n),t=t.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(oc,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=ce.T,a=ke.p,ke.p=2,ce.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var i=r[s];o(i.value,{componentStack:i.stack})}}finally{ce.T=t,ke.p=a}}Ls&3&&yf(),wr(e),a=e.pendingLanes,n&4194090&&a&42?e===vp?vl++:(vl=0,vp=e):vl=0,yc(0)}}function cE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fc(t)))}function yf(e){return sE(),iE(),lE(),uE()}function uE(){if(jt!==5)return!1;var e=Za,t=gp;gp=0;var n=Ug(Ls),r=ce.T,a=ke.p;try{ke.p=32>n?32:n,ce.T=null,n=yp,yp=null;var o=Za,s=Ls;if(jt=0,ti=Za=null,Ls=0,ze&6)throw Error(X(331));var i=ze;if(ze|=4,KN(o.current),YN(o,o.current,s,n),ze=i,yc(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(oc,o)}catch{}return!0}finally{ke.p=a,ce.T=r,cE(e,t)}}function Ax(e,t,n){t=Tn(n,t),t=dp(e.stateNode,t,2),e=Ga(e,t,2),e!==null&&(ic(e,2),wr(e))}function Pe(e,t,n){if(e.tag===3)Ax(e,e,n);else for(;t!==null;){if(t.tag===3){Ax(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Va===null||!Va.has(r))){e=Tn(n,e),n=AN(2),r=Ga(t,n,2),r!==null&&(kN(n,r,t,e),ic(r,2),wr(r));break}}t=t.return}}function Bh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new OD;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(w0=!0,a.add(n),e=BD.bind(null,e,t,n),t.then(e,e))}function BD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Le===e&&(Ce&n)===n&&(et===4||et===3&&(Ce&62914560)===Ce&&300>mr()-N0?!(ze&2)&&ni(e,0):S0|=n,ei===Ce&&(ei=0)),wr(e)}function dE(e,t){t===0&&(t=sS()),e=gi(e,t),e!==null&&(ic(e,t),wr(e))}function HD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dE(e,n)}function FD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(X(314))}r!==null&&r.delete(t),dE(e,n)}function UD(e,t){return Hg(e,t)}var gd=null,hs=null,bp=!1,yd=!1,Hh=!1,ko=0;function wr(e){e!==hs&&e.next===null&&(hs===null?gd=hs=e:hs=hs.next=e),yd=!0,bp||(bp=!0,VD())}function yc(e,t){if(!Hh&&yd){Hh=!0;do for(var n=!1,r=gd;r!==null;){if(e!==0){var a=r.pendingLanes;if(a===0)var o=0;else{var s=r.suspendedLanes,i=r.pingedLanes;o=(1<<31-gn(42|e)+1)-1,o&=a&~(s&~i),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,kx(r,o))}else o=Ce,o=af(r,r===Le?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||sc(r,o)||(n=!0,kx(r,o));r=r.next}while(n);Hh=!1}}function GD(){fE()}function fE(){yd=bp=!1;var e=0;ko!==0&&(JD()&&(e=ko),ko=0);for(var t=mr(),n=null,r=gd;r!==null;){var a=r.next,o=hE(r,t);o===0?(r.next=null,n===null?gd=a:n.next=a,a===null&&(hs=n)):(n=r,(e!==0||o&3)&&(yd=!0)),r=a}yc(e)}function hE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var s=31-gn(o),i=1<<s,c=a[s];c===-1?(!(i&n)||i&r)&&(a[s]=gM(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}if(t=Le,n=Ce,n=af(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&hh(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||sc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&hh(r),Ug(n)){case 2:case 8:n=rS;break;case 32:n=Qu;break;case 268435456:n=aS;break;default:n=Qu}return r=mE.bind(null,e),n=Hg(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&hh(r),e.callbackPriority=2,e.callbackNode=null,2}function mE(e,t){if(jt!==0&&jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yf()&&e.callbackNode!==n)return null;var r=Ce;return r=af(e,e===Le?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(eE(e,r,t),hE(e,mr()),e.callbackNode!=null&&e.callbackNode===n?mE.bind(null,e):null)}function kx(e,t){if(yf())return null;eE(e,t,!0)}function VD(){t3(function(){ze&6?Hg(nS,GD):fE()})}function _0(){return ko===0&&(ko=oS()),ko}function jx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Au(""+e)}function Tx(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ZD(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var o=jx((a[Jt]||null).action),s=r.submitter;s&&(t=(t=s[Jt]||null)?jx(t.formAction):s.getAttribute("formAction"),t!==null&&(o=t,s=null));var i=new of("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ko!==0){var c=s?Tx(a,s):new FormData(a);cp(n,{pending:!0,data:c,method:a.method,action:o},null,c)}}else typeof o=="function"&&(i.preventDefault(),c=s?Tx(a,s):new FormData(a),cp(n,{pending:!0,data:c,method:a.method,action:o},o,c))},currentTarget:a}]})}}for(var Fh=0;Fh<Wm.length;Fh++){var Uh=Wm[Fh],YD=Uh.toLowerCase(),qD=Uh[0].toUpperCase()+Uh.slice(1);Wn(YD,"on"+qD)}Wn(jS,"onAnimationEnd");Wn(TS,"onAnimationIteration");Wn(RS,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(dD,"onTransitionRun");Wn(fD,"onTransitionStart");Wn(hD,"onTransitionCancel");Wn(MS,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function pE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(d){ud(d)}a.currentTarget=null,o=c}else for(s=0;s<r.length;s++){if(i=r[s],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(d){ud(d)}a.currentTarget=null,o=c}}}}function we(e,t){var n=t[Gm];n===void 0&&(n=t[Gm]=new Set);var r=e+"__bubble";n.has(r)||(gE(t,e,2,!1),n.add(r))}function Gh(e,t,n){var r=0;t&&(r|=4),gE(n,e,r,t)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function C0(e){if(!e[Xc]){e[Xc]=!0,uS.forEach(function(n){n!=="selectionchange"&&(XD.has(n)||Gh(n,!1,e),Gh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xc]||(t[Xc]=!0,Gh("selectionchange",!1,t))}}function gE(e,t,n,r){switch(kE(t)){case 2:var a=S3;break;case 8:a=N3;break;default:a=T0}n=a.bind(null,t,n,e),a=void 0,!qm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vh(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===a)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;i!==null;){if(s=xs(i),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){r=o=s;continue e}i=i.parentNode}}r=r.return}vS(function(){var u=o,d=Zg(n),f=[];e:{var h=DS.get(e);if(h!==void 0){var p=of,y=e;switch(e){case"keypress":if(ju(n)===0)break e;case"keydown":case"keyup":p=UM;break;case"focusin":y="focus",p=wh;break;case"focusout":y="blur",p=wh;break;case"beforeblur":case"afterblur":p=wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Pv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=RM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZM;break;case jS:case TS:case RS:p=zM;break;case MS:p=qM;break;case"scroll":case"scrollend":p=jM;break;case"wheel":p=KM;break;case"copy":case"cut":case"paste":p=$M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Iv;break;case"toggle":case"beforetoggle":p=QM}var x=(t&4)!==0,w=!x&&(e==="scroll"||e==="scrollend"),g=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,S;v!==null;){var b=v;if(S=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||S===null||g===null||(b=Nl(v,g),b!=null&&x.push(Tl(v,b,S))),w)break;v=v.return}0<x.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Ym&&(y=n.relatedTarget||n.fromElement)&&(xs(y)||y[mi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?xs(y):null,y!==null&&(w=ac(y),x=y.tag,y!==w||x!==5&&x!==27&&x!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=Pv,b="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Iv,b="onPointerLeave",g="onPointerEnter",v="pointer"),w=p==null?h:Wi(p),S=y==null?h:Wi(y),h=new x(b,v+"leave",p,n,d),h.target=w,h.relatedTarget=S,b=null,xs(d)===u&&(x=new x(g,v+"enter",y,n,d),x.target=S,x.relatedTarget=w,b=x),w=b,p&&y)t:{for(x=p,g=y,v=0,S=x;S;S=es(S))v++;for(S=0,b=g;b;b=es(b))S++;for(;0<v-S;)x=es(x),v--;for(;0<S-v;)g=es(g),S--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=es(x),g=es(g)}x=null}else x=null;p!==null&&Rx(f,h,p,x,!1),y!==null&&w!==null&&Rx(f,w,y,x,!0)}}e:{if(h=u?Wi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=Uv;else if(Fv(h))if(ES)E=lD;else{E=sD;var j=oD}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Vg(u.elementType)&&(E=Uv):E=iD;if(E&&(E=E(e,u))){NS(f,E,n,d);break e}j&&j(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Zm(h,"number",h.value)}switch(j=u?Wi(u):window,e){case"focusin":(Fv(j)||j.contentEditable==="true")&&(Ss=j,Xm=u,ll=null);break;case"focusout":ll=Xm=Ss=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,qv(f,n,d);break;case"selectionchange":if(uD)break;case"keydown":case"keyup":qv(f,n,d)}var N;if(Xg)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ws?wS(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(bS&&n.locale!=="ko"&&(ws||C!=="onCompositionStart"?C==="onCompositionEnd"&&ws&&(N=xS()):(La=d,Yg="value"in La?La.value:La.textContent,ws=!0)),j=vd(u,C),0<j.length&&(C=new Lv(C,e,null,n,d),f.push({event:C,listeners:j}),N?C.data=N:(N=SS(n),N!==null&&(C.data=N)))),(N=eD?tD(e,n):nD(e,n))&&(C=vd(u,"onBeforeInput"),0<C.length&&(j=new Lv("onBeforeInput","beforeinput",null,n,d),f.push({event:j,listeners:C}),j.data=N)),ZD(f,e,u,n,d)}pE(f,t)})}function Tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vd(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||o===null||(a=Nl(e,n),a!=null&&r.unshift(Tl(e,a,o)),a=Nl(e,t),a!=null&&r.push(Tl(e,a,o))),e.tag===3)return r;e=e.return}return[]}function es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rx(e,t,n,r,a){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(i=i.tag,c!==null&&c===r)break;i!==5&&i!==26&&i!==27||u===null||(c=u,a?(u=Nl(n,o),u!=null&&s.unshift(Tl(n,u,c))):a||(u=Nl(n,o),u!=null&&s.push(Tl(n,u,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var KD=/\r\n?/g,WD=/\u0000|\uFFFD/g;function Mx(e){return(typeof e=="string"?e:""+e).replace(KD,`
`).replace(WD,"")}function yE(e,t){return t=Mx(t),Mx(e)===t}function vf(){}function Oe(e,t,n,r,a,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Xs(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Xs(e,""+r);break;case"className":Fc(e,"class",r);break;case"tabIndex":Fc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Fc(e,n,r);break;case"style":yS(e,r,o);break;case"data":if(t!=="object"){Fc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Au(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",a.name,a,null),Oe(e,t,"formEncType",a.formEncType,a,null),Oe(e,t,"formMethod",a.formMethod,a,null),Oe(e,t,"formTarget",a.formTarget,a,null)):(Oe(e,t,"encType",a.encType,a,null),Oe(e,t,"method",a.method,a,null),Oe(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Au(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=vf);break;case"onScroll":r!=null&&we("scroll",e);break;case"onScrollEnd":r!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Au(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":we("beforetoggle",e),we("toggle",e),Cu(e,"popover",r);break;case"xlinkActuate":zr(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":zr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":zr(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":zr(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":zr(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":zr(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":zr(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":zr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":zr(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Cu(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=AM.get(n)||n,Cu(e,n,r))}}function wp(e,t,n,r,a,o){switch(n){case"style":yS(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Xs(e,r):(typeof r=="number"||typeof r=="bigint")&&Xs(e,""+r);break;case"onScroll":r!=null&&we("scroll",e);break;case"onScrollEnd":r!=null&&we("scrollend",e);break;case"onClick":r!=null&&(e.onclick=vf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),o=e[Jt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,a),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Cu(e,n,r)}}}function Tt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:Oe(e,t,o,s,n,null)}}a&&Oe(e,t,"srcSet",n.srcSet,n,null),r&&Oe(e,t,"src",n.src,n,null);return;case"input":we("invalid",e);var i=o=s=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":o=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(X(137,t));break;default:Oe(e,t,r,d,n,null)}}mS(e,o,i,c,u,s,a,!1),Ju(e);return;case"select":we("invalid",e),r=s=o=null;for(a in n)if(n.hasOwnProperty(a)&&(i=n[a],i!=null))switch(a){case"value":o=i;break;case"defaultValue":s=i;break;case"multiple":r=i;default:Oe(e,t,a,i,n,null)}t=o,n=s,e.multiple=!!r,t!=null?Ms(e,!!r,t,!1):n!=null&&Ms(e,!!r,n,!0);return;case"textarea":we("invalid",e),o=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(i=n[s],i!=null))switch(s){case"value":r=i;break;case"defaultValue":a=i;break;case"children":o=i;break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(X(91));break;default:Oe(e,t,s,i,n,null)}gS(e,r,a,o),Ju(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Oe(e,t,c,r,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(r=0;r<jl.length;r++)we(jl[r],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:Oe(e,t,u,r,n,null)}return;default:if(Vg(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&wp(e,t,d,r,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(r=n[i],r!=null&&Oe(e,t,i,r,n,null))}function QD(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,i=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(p)||Oe(e,t,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":o=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":i=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(X(137,t));break;default:p!==f&&Oe(e,t,h,p,r,f)}}Vm(e,s,i,c,u,d,o,a);return;case"select":p=s=i=h=null;for(o in n)if(c=n[o],n.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Oe(e,t,o,null,r,c)}for(a in r)if(o=r[a],c=n[a],r.hasOwnProperty(a)&&(o!=null||c!=null))switch(a){case"value":h=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:o!==c&&Oe(e,t,a,o,r,c)}t=i,n=s,r=p,h!=null?Ms(e,!!n,h,!1):!!r!=!!n&&(t!=null?Ms(e,!!n,t,!0):Ms(e,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null&&!r.hasOwnProperty(i))switch(i){case"value":break;case"children":break;default:Oe(e,t,i,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":h=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(X(91));break;default:a!==o&&Oe(e,t,s,a,r,o)}pS(e,h,p);return;case"option":for(var y in n)if(h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:Oe(e,t,y,null,r,h)}for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Oe(e,t,c,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x)&&Oe(e,t,x,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(X(137,t));break;default:Oe(e,t,u,h,r,p)}return;default:if(Vg(t)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!r.hasOwnProperty(w)&&wp(e,t,w,void 0,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||h===void 0&&p===void 0||wp(e,t,d,h,r,p);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&Oe(e,t,g,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||h==null&&p==null||Oe(e,t,f,h,r,p)}var Sp=null,Np=null;function xd(e){return e.nodeType===9?e:e.ownerDocument}function Dx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zh=null;function JD(){var e=window.event;return e&&e.type==="popstate"?e===Zh?!1:(Zh=e,!0):(Zh=null,!1)}var xE=typeof setTimeout=="function"?setTimeout:void 0,e3=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,t3=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(e){return zx.resolve(null).then(e).catch(n3)}:xE;function n3(e){setTimeout(function(){throw e})}function ao(e){return e==="head"}function Ox(e,t){var n=t,r=0,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(n&1&&xl(s.documentElement),n&2&&xl(s.body),n&4)for(n=s.head,xl(n),s=n.firstChild;s;){var i=s.nextSibling,c=s.nodeName;s[lc]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=i}}if(a===0){e.removeChild(o),Ol(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ol(t)}function _p(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_p(n),Gg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function r3(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[lc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function a3(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zn(e.nextSibling),e===null))return null;return e}function Cp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function o3(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ap=null;function $x(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function bE(e,t,n){switch(t=xd(n),e){case"html":if(e=t.documentElement,!e)throw Error(X(452));return e;case"head":if(e=t.head,!e)throw Error(X(453));return e;case"body":if(e=t.body,!e)throw Error(X(454));return e;default:throw Error(X(451))}}function xl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Gg(e)}var On=new Map,Px=new Set;function bd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ma=ke.d;ke.d={f:s3,r:i3,D:l3,C:c3,L:u3,m:d3,X:h3,S:f3,M:m3};function s3(){var e=ma.f(),t=pf();return e||t}function i3(e){var t=pi(e);t!==null&&t.tag===5&&t.type==="form"?hN(t):ma.r(e)}var vi=typeof document>"u"?null:document;function wE(e,t,n){var r=vi;if(r&&typeof t=="string"&&t){var a=jn(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Px.has(a)||(Px.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),Tt(t,"link",e),St(t),r.head.appendChild(t)))}}function l3(e){ma.D(e),wE("dns-prefetch",e,null)}function c3(e,t){ma.C(e,t),wE("preconnect",e,t)}function u3(e,t,n){ma.L(e,t,n);var r=vi;if(r&&e&&t){var a='link[rel="preload"][as="'+jn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+jn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+jn(n.imageSizes)+'"]')):a+='[href="'+jn(e)+'"]';var o=a;switch(t){case"style":o=ri(e);break;case"script":o=xi(e)}On.has(o)||(e=Be({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),On.set(o,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(vc(o))||t==="script"&&r.querySelector(xc(o))||(t=r.createElement("link"),Tt(t,"link",e),St(t),r.head.appendChild(t)))}}function d3(e,t){ma.m(e,t);var n=vi;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+jn(r)+'"][href="'+jn(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=xi(e)}if(!On.has(o)&&(e=Be({rel:"modulepreload",href:e},t),On.set(o,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xc(o)))return}r=n.createElement("link"),Tt(r,"link",e),St(r),n.head.appendChild(r)}}}function f3(e,t,n){ma.S(e,t,n);var r=vi;if(r&&e){var a=Rs(r).hoistableStyles,o=ri(e);t=t||"default";var s=a.get(o);if(!s){var i={loading:0,preload:null};if(s=r.querySelector(vc(o)))i.loading=5;else{e=Be({rel:"stylesheet",href:e,"data-precedence":t},n),(n=On.get(o))&&A0(e,n);var c=s=r.createElement("link");St(c),Tt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){i.loading|=1}),c.addEventListener("error",function(){i.loading|=2}),i.loading|=4,$u(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:i},a.set(o,s)}}}function h3(e,t){ma.X(e,t);var n=vi;if(n&&e){var r=Rs(n).hoistableScripts,a=xi(e),o=r.get(a);o||(o=n.querySelector(xc(a)),o||(e=Be({src:e,async:!0},t),(t=On.get(a))&&k0(e,t),o=n.createElement("script"),St(o),Tt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function m3(e,t){ma.M(e,t);var n=vi;if(n&&e){var r=Rs(n).hoistableScripts,a=xi(e),o=r.get(a);o||(o=n.querySelector(xc(a)),o||(e=Be({src:e,async:!0,type:"module"},t),(t=On.get(a))&&k0(e,t),o=n.createElement("script"),St(o),Tt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function Lx(e,t,n,r){var a=(a=Fa.current)?bd(a):null;if(!a)throw Error(X(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ri(n.href),n=Rs(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ri(n.href);var o=Rs(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(vc(e)))&&!o._p&&(s.instance=o,s.state.loading=5),On.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},On.set(e,n),o||p3(a,e,n,s.state))),t&&r===null)throw Error(X(528,""));return s}if(t&&r!==null)throw Error(X(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xi(n),n=Rs(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,e))}}function ri(e){return'href="'+jn(e)+'"'}function vc(e){return'link[rel="stylesheet"]['+e+"]"}function SE(e){return Be({},e,{"data-precedence":e.precedence,precedence:null})}function p3(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Tt(t,"link",n),St(t),e.head.appendChild(t))}function xi(e){return'[src="'+jn(e)+'"]'}function xc(e){return"script[async]"+e}function Ix(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+jn(n.href)+'"]');if(r)return t.instance=r,St(r),r;var a=Be({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),St(r),Tt(r,"style",a),$u(r,n.precedence,e),t.instance=r;case"stylesheet":a=ri(n.href);var o=e.querySelector(vc(a));if(o)return t.state.loading|=4,t.instance=o,St(o),o;r=SE(n),(a=On.get(a))&&A0(r,a),o=(e.ownerDocument||e).createElement("link"),St(o);var s=o;return s._p=new Promise(function(i,c){s.onload=i,s.onerror=c}),Tt(o,"link",r),t.state.loading|=4,$u(o,n.precedence,e),t.instance=o;case"script":return o=xi(n.src),(a=e.querySelector(xc(o)))?(t.instance=a,St(a),a):(r=n,(a=On.get(o))&&(r=Be({},n),k0(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),St(a),Tt(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(X(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,$u(r,n.precedence,e));return t.instance}function $u(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,s=0;s<r.length;s++){var i=r[s];if(i.dataset.precedence===t)o=i;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function A0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function k0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pu=null;function Bx(e,t,n){if(Pu===null){var r=new Map,a=Pu=new Map;a.set(n,r)}else a=Pu,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[lc]||o[zt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(t)||"";s=e+s;var i=r.get(s);i?i.push(o):r.set(s,[o])}}return r}function Hx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function g3(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function NE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Rl=null;function y3(){}function v3(e,t,n){if(Rl===null)throw Error(X(475));var r=Rl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=ri(n.href),o=e.querySelector(vc(a));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,St(o);return}o=e.ownerDocument||e,n=SE(n),(a=On.get(a))&&A0(n,a),o=o.createElement("link"),St(o);var s=o;s._p=new Promise(function(i,c){s.onload=i,s.onerror=c}),Tt(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function x3(){if(Rl===null)throw Error(X(475));var e=Rl;return e.stylesheets&&e.count===0&&kp(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&kp(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function wd(){if(this.count--,this.count===0){if(this.stylesheets)kp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sd=null;function kp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sd=new Map,t.forEach(b3,e),Sd=null,wd.call(e))}function b3(e,t){if(!(t.state.loading&4)){var n=Sd.get(e);if(n)var r=n.get(null);else{n=new Map,Sd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var s=a[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=t.instance,s=a.getAttribute("data-precedence"),o=n.get(s)||r,o===r&&n.set(null,a),n.set(s,a),this.count++,r=wd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Ml={$$typeof:Fr,Provider:null,Consumer:null,_currentValue:So,_currentValue2:So,_threadCount:0};function w3(e,t,n,r,a,o,s,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mh(0),this.hiddenUpdates=mh(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function EE(e,t,n,r,a,o,s,i,c,u,d,f){return e=new w3(e,t,n,s,i,c,u,f),t=1,o===!0&&(t|=24),o=mn(3,null,null,t),e.current=o,o.stateNode=e,t=n0(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},a0(o),e}function _E(e){return e?(e=_s,e):_s}function CE(e,t,n,r,a,o){a=_E(a),r.context===null?r.context=a:r.pendingContext=a,r=Ua(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Ga(e,r,t),n!==null&&(vn(n,e,t),dl(n,e,t))}function Fx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function j0(e,t){Fx(e,t),(e=e.alternate)&&Fx(e,t)}function AE(e){if(e.tag===13){var t=gi(e,67108864);t!==null&&vn(t,e,67108864),j0(e,67108864)}}var Nd=!0;function S3(e,t,n,r){var a=ce.T;ce.T=null;var o=ke.p;try{ke.p=2,T0(e,t,n,r)}finally{ke.p=o,ce.T=a}}function N3(e,t,n,r){var a=ce.T;ce.T=null;var o=ke.p;try{ke.p=8,T0(e,t,n,r)}finally{ke.p=o,ce.T=a}}function T0(e,t,n,r){if(Nd){var a=jp(r);if(a===null)Vh(e,t,r,Ed,n),Ux(e,r);else if(_3(a,e,t,n,r))r.stopPropagation();else if(Ux(e,r),t&4&&-1<E3.indexOf(e)){for(;a!==null;){var o=pi(a);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=ho(o.pendingLanes);if(s!==0){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var c=1<<31-gn(s);i.entanglements[1]|=c,s&=~c}wr(o),!(ze&6)&&(md=mr()+500,yc(0))}}break;case 13:i=gi(o,2),i!==null&&vn(i,o,2),pf(),j0(o,2)}if(o=jp(r),o===null&&Vh(e,t,r,Ed,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else Vh(e,t,r,null,n)}}function jp(e){return e=Zg(e),R0(e)}var Ed=null;function R0(e){if(Ed=null,e=xs(e),e!==null){var t=ac(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Q1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ed=e,null}function kE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cM()){case nS:return 2;case rS:return 8;case Qu:case uM:return 32;case aS:return 268435456;default:return 32}default:return 32}}var Tp=!1,Ya=null,qa=null,Xa=null,Dl=new Map,zl=new Map,Da=[],E3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ux(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":Dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function Li(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=pi(t),t!==null&&AE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function _3(e,t,n,r,a){switch(t){case"focusin":return Ya=Li(Ya,e,t,n,r,a),!0;case"dragenter":return qa=Li(qa,e,t,n,r,a),!0;case"mouseover":return Xa=Li(Xa,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Dl.set(o,Li(Dl.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,zl.set(o,Li(zl.get(o)||null,e,t,n,r,a)),!0}return!1}function jE(e){var t=xs(e.target);if(t!==null){var n=ac(t);if(n!==null){if(t=n.tag,t===13){if(t=Q1(n),t!==null){e.blockedOn=t,vM(e.priority,function(){if(n.tag===13){var r=yn();r=Fg(r);var a=gi(n,r);a!==null&&vn(a,n,r),j0(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ym=r,n.target.dispatchEvent(r),Ym=null}else return t=pi(n),t!==null&&AE(t),e.blockedOn=n,!1;t.shift()}return!0}function Gx(e,t,n){Lu(e)&&n.delete(t)}function C3(){Tp=!1,Ya!==null&&Lu(Ya)&&(Ya=null),qa!==null&&Lu(qa)&&(qa=null),Xa!==null&&Lu(Xa)&&(Xa=null),Dl.forEach(Gx),zl.forEach(Gx)}function Kc(e,t){e.blockedOn===t&&(e.blockedOn=null,Tp||(Tp=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,C3)))}var Wc=null;function Vx(e){Wc!==e&&(Wc=e,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,function(){Wc===e&&(Wc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if(R0(r||n)===null)continue;break}var o=pi(n);o!==null&&(e.splice(t,3),t-=3,cp(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Ol(e){function t(c){return Kc(c,e)}Ya!==null&&Kc(Ya,e),qa!==null&&Kc(qa,e),Xa!==null&&Kc(Xa,e),Dl.forEach(t),zl.forEach(t);for(var n=0;n<Da.length;n++){var r=Da[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)jE(n),n.blockedOn===null&&Da.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],s=a[Jt]||null;if(typeof o=="function")s||Vx(n);else if(s){var i=null;if(o&&o.hasAttribute("formAction")){if(a=o,s=o[Jt]||null)i=s.formAction;else if(R0(a)!==null)continue}else i=s.action;typeof i=="function"?n[r+1]=i:(n.splice(r,3),r-=3),Vx(n)}}}function M0(e){this._internalRoot=e}xf.prototype.render=M0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));var n=t.current,r=yn();CE(n,r,e,t,null,null)};xf.prototype.unmount=M0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;CE(e.current,2,null,e,null,null),pf(),t[mi]=null}};function xf(e){this._internalRoot=e}xf.prototype.unstable_scheduleHydration=function(e){if(e){var t=cS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Da.length&&t!==0&&t<Da[n].priority;n++);Da.splice(n,0,e),n===0&&jE(e)}};var Zx=K1.version;if(Zx!=="19.1.0")throw Error(X(527,Zx,"19.1.0"));ke.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=nM(t),e=e!==null?J1(e):null,e=e===null?null:e.stateNode,e};var A3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{oc=Qc.inject(A3),pn=Qc}catch{}}tf.createRoot=function(e,t){if(!W1(e))throw Error(X(299));var n=!1,r="",a=EN,o=_N,s=CN,i=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(i=t.unstable_transitionCallbacks)),t=EE(e,1,!1,null,null,n,r,a,o,s,i,null),e[mi]=t.current,C0(e),new M0(t)};tf.hydrateRoot=function(e,t,n){if(!W1(e))throw Error(X(299));var r=!1,a="",o=EN,s=_N,i=CN,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(i=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=EE(e,1,!0,t,n??null,r,a,o,s,i,c,u),t.context=_E(null),n=t.current,r=yn(),r=Fg(r),a=Ua(r),a.callback=null,Ga(n,a,r),n=r,t.current.lanes=n,ic(t,n),wr(t),e[mi]=t.current,C0(e),new xf(t)};tf.version="19.1.0";function TE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TE)}catch(e){console.error(e)}}TE(),G1.exports=tf;var k3=G1.exports;const Ht={DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,DRAWER:202,HEADER:50,SIDEBAR:60,NAVIGATION:70};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Yx=e=>{const t=T3(e);return t.charAt(0).toUpperCase()+t.slice(1)},RE=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),R3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:s,...i},c)=>m.createElement("svg",{ref:c,...M3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:RE("lucide",a),...!o&&!R3(i)&&{"aria-hidden":"true"},...i},[...s.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const n=m.forwardRef(({className:r,...a},o)=>m.createElement(D3,{ref:o,iconNode:t,className:RE(`lucide-${j3(Yx(e))}`,`lucide-${e}`,r),...a}));return n.displayName=Yx(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],O3=de("arrow-left",z3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ME=de("book-open",$3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],qx=de("brain",P3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DE=de("check",L3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ia=de("chevron-down",I3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],H3=de("chevron-left",B3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bf=de("chevron-right",F3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rp=de("circle-alert",U3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mp=de("circle-check-big",G3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Z3=de("circle-x",V3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D0=de("circle",Y3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],X3=de("copy",q3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],W3=de("droplets",K3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dp=de("external-link",Q3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e4=de("eye",J3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],n4=de("flame",t4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],wf=de("grid-3x3",r4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],o4=de("grip-vertical",a4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],i4=de("hammer",s4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Xx=de("hand",l4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],zE=de("heart",c4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],d4=de("house",u4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$l=de("info",f4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Sf=de("list",h4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],OE=de("maximize-2",m4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],g4=de("menu",p4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],$E=de("minimize-2",y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M5 12h14",key:"1ays0h"}]],Kx=de("minus",v4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],b4=de("monitor",x4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],S4=de("moon",w4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zp=de("plus",N4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Pl=de("rotate-ccw",E4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],C4=de("search-x",_4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],z0=de("search",A4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PE=de("settings",k4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],T4=de("share-2",j4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ms=de("shield",R4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Yr=de("star",M4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wx=de("sun",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],Qx=de("sword",z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],$4=de("tag",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],L4=de("target",P4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],B4=de("trash-2",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ll=de("triangle-alert",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bl=de("user",F4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xn=de("x",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],LE=de("zap",G4);var O0={};Object.defineProperty(O0,"__esModule",{value:!0});O0.parse=W4;O0.serialize=Q4;const V4=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Z4=/^[\u0021-\u003A\u003C-\u007E]*$/,Y4=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,q4=/^[\u0020-\u003A\u003D-\u007E]*$/,X4=Object.prototype.toString,K4=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function W4(e,t){const n=new K4,r=e.length;if(r<2)return n;const a=(t==null?void 0:t.decode)||J4;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const i=e.indexOf(";",o),c=i===-1?r:i;if(s>c){o=e.lastIndexOf(";",s-1)+1;continue}const u=Jx(e,o,s),d=eb(e,s,u),f=e.slice(u,d);if(n[f]===void 0){let h=Jx(e,s+1,c),p=eb(e,c,h);const y=a(e.slice(h,p));n[f]=y}o=c+1}while(o<r);return n}function Jx(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function eb(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function Q4(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!V4.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=r(t);if(!Z4.test(a))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+a;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!Y4.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!q4.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!ez(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function J4(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function ez(e){return X4.call(e)==="[object Date]"}var tb="popstate";function tz(e={}){function t(a,o){let{pathname:s="/",search:i="",hash:c=""}=Yo(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Op("",{pathname:s,search:i,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let s=a.document.querySelector("base"),i="";if(s&&s.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");i=u===-1?c:c.slice(0,u)}return i+"#"+(typeof o=="string"?o:Il(o))}function r(a,o){$n(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return rz(t,n,r,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $n(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nz(){return Math.random().toString(36).substring(2,10)}function nb(e,t){return{usr:e.state,key:e.key,idx:t}}function Op(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Yo(t):t,state:n,key:t&&t.key||r||nz()}}function Il({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function rz(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,i="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){i="POP";let w=d(),g=w==null?null:w-u;u=w,c&&c({action:i,location:x.location,delta:g})}function h(w,g){i="PUSH";let v=Op(x.location,w,g);n&&n(v,w),u=d()+1;let S=nb(v,u),b=x.createHref(v);try{s.pushState(S,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(b)}o&&c&&c({action:i,location:x.location,delta:1})}function p(w,g){i="REPLACE";let v=Op(x.location,w,g);n&&n(v,w),u=d();let S=nb(v,u),b=x.createHref(v);s.replaceState(S,"",b),o&&c&&c({action:i,location:x.location,delta:0})}function y(w){return az(w)}let x={get action(){return i},get location(){return e(a,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(tb,f),c=w,()=>{a.removeEventListener(tb,f),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(w){return s.go(w)}};return x}function az(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Il(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function IE(e,t,n="/"){return oz(e,t,n,!1)}function oz(e,t,n,r){let a=typeof t=="string"?Yo(t):t,o=la(a.pathname||"/",n);if(o==null)return null;let s=BE(e);sz(s);let i=null;for(let c=0;i==null&&c<s.length;++c){let u=yz(o);i=pz(s[c],u,r)}return i}function BE(e,t=[],n=[],r=""){let a=(o,s,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Qr([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Xe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),BE(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:hz(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,s);else for(let c of HE(o.path))a(o,s,c)}),t}function HE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=HE(r.join("/")),i=[];return i.push(...s.map(c=>c===""?o:[o,c].join("/"))),a&&i.push(...s),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function sz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iz=/^:[\w-]+$/,lz=3,cz=2,uz=1,dz=10,fz=-2,rb=e=>e==="*";function hz(e,t){let n=e.split("/"),r=n.length;return n.some(rb)&&(r+=fz),t&&(r+=cz),n.filter(a=>!rb(a)).reduce((a,o)=>a+(iz.test(o)?lz:o===""?uz:dz),r)}function mz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function pz(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",s=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=_d({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=_d({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Qr([o,f.pathname]),pathnameBase:wz(Qr([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Qr([o,f.pathnameBase]))}return s}function _d(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gz(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=i[h]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const p=i[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function gz(e,t=!1,n=!0){$n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function yz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function la(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vz(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Yo(e):e;return{pathname:n?n.startsWith("/")?n:xz(n,t):t,search:Sz(r),hash:Nz(a)}}function xz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Yh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function FE(e){let t=bz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function UE(e,t,n,r=!1){let a;typeof e=="string"?a=Yo(e):(a={...e},Xe(!a.pathname||!a.pathname.includes("?"),Yh("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),Yh("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),Yh("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=vz(a,i),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Qr=e=>e.join("/").replace(/\/\/+/g,"/"),wz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Nz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ez(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var GE=["POST","PUT","PATCH","DELETE"];new Set(GE);var _z=["GET",...GE];new Set(_z);var bi=m.createContext(null);bi.displayName="DataRouter";var Nf=m.createContext(null);Nf.displayName="DataRouterState";var VE=m.createContext({isTransitioning:!1});VE.displayName="ViewTransition";var Cz=m.createContext(new Map);Cz.displayName="Fetchers";var Az=m.createContext(null);Az.displayName="Await";var Sr=m.createContext(null);Sr.displayName="Navigation";var bc=m.createContext(null);bc.displayName="Location";var Nr=m.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var $0=m.createContext(null);$0.displayName="RouteError";function kz(e,{relative:t}={}){Xe(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=m.useContext(Sr),{hash:a,pathname:o,search:s}=Sc(e,{relative:t}),i=o;return n!=="/"&&(i=o==="/"?n:Qr([n,o])),r.createHref({pathname:i,search:s,hash:a})}function wc(){return m.useContext(bc)!=null}function Er(){return Xe(wc(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(bc).location}var ZE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(e){m.useContext(Sr).static||m.useLayoutEffect(e)}function Ft(){let{isDataRoute:e}=m.useContext(Nr);return e?Uz():jz()}function jz(){Xe(wc(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(bi),{basename:t,navigator:n}=m.useContext(Sr),{matches:r}=m.useContext(Nr),{pathname:a}=Er(),o=JSON.stringify(FE(r)),s=m.useRef(!1);return YE(()=>{s.current=!0}),m.useCallback((c,u={})=>{if($n(s.current,ZE),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=UE(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Qr([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,a,e])}var Tz=m.createContext(null);function Rz(e){let t=m.useContext(Nr).outlet;return t&&m.createElement(Tz.Provider,{value:e},t)}function Sc(e,{relative:t}={}){let{matches:n}=m.useContext(Nr),{pathname:r}=Er(),a=JSON.stringify(FE(n));return m.useMemo(()=>UE(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function Mz(e,t){return qE(e,t)}function qE(e,t,n,r){var g;Xe(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=m.useContext(Sr),{matches:o}=m.useContext(Nr),s=o[o.length-1],i=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let v=d&&d.path||"";XE(c,!d||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=Er(),h;if(t){let v=typeof t=="string"?Yo(t):t;Xe(u==="/"||((g=v.pathname)==null?void 0:g.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),h=v}else h=f;let p=h.pathname||"/",y=p;if(u!=="/"){let v=u.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=IE(e,{pathname:y});$n(d||x!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),$n(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Pz(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},i,v.params),pathname:Qr([u,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Qr([u,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return t&&w?m.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},w):w}function Dz(){let e=Fz(),t=Ez(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:o},"ErrorBoundary")," or"," ",m.createElement("code",{style:o},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,s)}var zz=m.createElement(Dz,null),Oz=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?m.createElement(Nr.Provider,{value:this.props.routeContext},m.createElement($0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $z({routeContext:e,match:t,children:n}){let r=m.useContext(bi);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Nr.Provider,{value:e},n)}function Pz(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let c=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Xe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,i=-1;if(n)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=c),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,i>=0?a=a.slice(0,i+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let f,h=!1,p=null,y=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||zz,s&&(i<0&&d===0?(XE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):i===d&&(h=!0,y=u.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,d+1)),w=()=>{let g;return f?g=p:h?g=y:u.route.Component?g=m.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,m.createElement($z,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?m.createElement(Oz,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function P0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lz(e){let t=m.useContext(bi);return Xe(t,P0(e)),t}function Iz(e){let t=m.useContext(Nf);return Xe(t,P0(e)),t}function Bz(e){let t=m.useContext(Nr);return Xe(t,P0(e)),t}function L0(e){let t=Bz(e),n=t.matches[t.matches.length-1];return Xe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Hz(){return L0("useRouteId")}function Fz(){var r;let e=m.useContext($0),t=Iz("useRouteError"),n=L0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Uz(){let{router:e}=Lz("useNavigate"),t=L0("useNavigate"),n=m.useRef(!1);return YE(()=>{n.current=!0}),m.useCallback(async(a,o={})=>{$n(n.current,ZE),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var ab={};function XE(e,t,n){!t&&!ab[e]&&(ab[e]=!0,$n(!1,n))}m.memo(Gz);function Gz({routes:e,future:t,state:n}){return qE(e,void 0,n,t)}function Vz(e){return Rz(e.context)}function st(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Xe(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=m.useMemo(()=>({basename:s,navigator:a,static:o,future:{}}),[s,a,o]);typeof n=="string"&&(n=Yo(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,p=m.useMemo(()=>{let y=la(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:h},navigationType:r}},[s,c,u,d,f,h,r]);return $n(p!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:m.createElement(Sr.Provider,{value:i},m.createElement(bc.Provider,{children:t,value:p}))}function Yz({children:e,location:t}){return Mz($p(e),t)}function $p(e,t=[]){let n=[];return m.Children.forEach(e,(r,a)=>{if(!m.isValidElement(r))return;let o=[...t,a];if(r.type===m.Fragment){n.push.apply(n,$p(r.props.children,o));return}Xe(r.type===st,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=$p(r.props.children,o)),n.push(s)}),n}var Iu="get",Bu="application/x-www-form-urlencoded";function Ef(e){return e!=null&&typeof e.tagName=="string"}function qz(e){return Ef(e)&&e.tagName.toLowerCase()==="button"}function Xz(e){return Ef(e)&&e.tagName.toLowerCase()==="form"}function Kz(e){return Ef(e)&&e.tagName.toLowerCase()==="input"}function Wz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qz(e,t){return e.button===0&&(!t||t==="_self")&&!Wz(e)}function Pp(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function Jz(e,t){let n=Pp(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(o=>{n.append(a,o)})}),n}var Jc=null;function e5(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var t5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qh(e){return e!=null&&!t5.has(e)?($n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bu}"`),null):e}function n5(e,t){let n,r,a,o,s;if(Xz(e)){let i=e.getAttribute("action");r=i?la(i,t):null,n=e.getAttribute("method")||Iu,a=qh(e.getAttribute("enctype"))||Bu,o=new FormData(e)}else if(qz(e)||Kz(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||i.getAttribute("action");if(r=c?la(c,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Iu,a=qh(e.getAttribute("formenctype"))||qh(i.getAttribute("enctype"))||Bu,o=new FormData(i,e),!e5()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,f)}}else{if(Ef(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Iu,r=null,a=Bu,s=e}return o&&a==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:s}}function I0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function r5(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function o5(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let s=await r5(o,n);return s.links?s.links():[]}return[]}));return c5(r.flat(1).filter(a5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ob(e,t,n,r,a,o){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,i=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>s(c,u)||i(c,u)):o==="data"?t.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||i(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function s5(e,t,{includeHydrateFallback:n}={}){return i5(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function i5(e){return[...new Set(e)]}function l5(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function c5(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(l5(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u5=new Set([100,101,204,205]);function d5(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&la(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function KE(){let e=m.useContext(bi);return I0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function f5(){let e=m.useContext(Nf);return I0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var B0=m.createContext(void 0);B0.displayName="FrameworkContext";function WE(){let e=m.useContext(B0);return I0(e,"You must render this element inside a <HydratedRouter> element"),e}function h5(e,t){let n=m.useContext(B0),[r,a]=m.useState(!1),[o,s]=m.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=m.useRef(null);m.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=g=>{g.forEach(v=>{s(v.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),m.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{a(!0)},y=()=>{a(!1),s(!1)};return n?e!=="intent"?[o,h,{}]:[o,h,{onFocus:Ii(i,p),onBlur:Ii(c,y),onMouseEnter:Ii(u,p),onMouseLeave:Ii(d,y),onTouchStart:Ii(f,p)}]:[!1,h,{}]}function Ii(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function m5({page:e,...t}){let{router:n}=KE(),r=m.useMemo(()=>IE(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?m.createElement(g5,{page:e,matches:r,...t}):null}function p5(e){let{manifest:t,routeModules:n}=WE(),[r,a]=m.useState([]);return m.useEffect(()=>{let o=!1;return o5(e,t,n).then(s=>{o||a(s)}),()=>{o=!0}},[e,t,n]),r}function g5({page:e,matches:t,...n}){let r=Er(),{manifest:a,routeModules:o}=WE(),{basename:s}=KE(),{loaderData:i,matches:c}=f5(),u=m.useMemo(()=>ob(e,t,c,a,r,"data"),[e,t,c,a,r]),d=m.useMemo(()=>ob(e,t,c,a,r,"assets"),[e,t,c,a,r]),f=m.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(t.forEach(g=>{var S;let v=a.routes[g.route.id];!v||!v.hasLoader||(!u.some(b=>b.route.id===g.route.id)&&g.route.id in i&&((S=o[g.route.id])!=null&&S.shouldRevalidate)||v.hasClientLoader?x=!0:y.add(g.route.id))}),y.size===0)return[];let w=d5(e,s);return x&&y.size>0&&w.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[s,i,r,a,u,t,e,o]),h=m.useMemo(()=>s5(d,a),[d,a]),p=p5(d);return m.createElement(m.Fragment,null,f.map(y=>m.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),h.map(y=>m.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),p.map(({key:y,link:x})=>m.createElement("link",{key:y,...x})))}function y5(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var QE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QE&&(window.__reactRouterVersion="7.6.3")}catch{}function v5({basename:e,children:t,window:n}){let r=m.useRef();r.current==null&&(r.current=tz({window:n,v5Compat:!0}));let a=r.current,[o,s]=m.useState({action:a.action,location:a.location}),i=m.useCallback(c=>{m.startTransition(()=>s(c))},[s]);return m.useLayoutEffect(()=>a.listen(i),[a,i]),m.createElement(Zz,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e2=m.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:s,state:i,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},p){let{basename:y}=m.useContext(Sr),x=typeof u=="string"&&JE.test(u),w,g=!1;if(typeof u=="string"&&x&&(w=u,QE))try{let _=new URL(window.location.href),A=u.startsWith("//")?new URL(_.protocol+u):new URL(u),O=la(A.pathname,y);A.origin===_.origin&&O!=null?u=O+A.search+A.hash:g=!0}catch{$n(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=kz(u,{relative:a}),[S,b,E]=h5(r,h),j=S5(u,{replace:s,state:i,target:c,preventScrollReset:d,relative:a,viewTransition:f});function N(_){t&&t(_),_.defaultPrevented||j(_)}let C=m.createElement("a",{...h,...E,href:w||v,onClick:g||o?t:N,ref:y5(p,b),target:c,"data-discover":!x&&n==="render"?"true":void 0});return S&&!x?m.createElement(m.Fragment,null,C,m.createElement(m5,{page:v})):C});e2.displayName="Link";var x5=m.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:s,viewTransition:i,children:c,...u},d){let f=Sc(s,{relative:u.relative}),h=Er(),p=m.useContext(Nf),{navigator:y,basename:x}=m.useContext(Sr),w=p!=null&&k5(f)&&i===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,v=h.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&x&&(S=la(S,x)||S);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=v===g||!a&&v.startsWith(g)&&v.charAt(b)==="/",j=S!=null&&(S===g||!a&&S.startsWith(g)&&S.charAt(g.length)==="/"),N={isActive:E,isPending:j,isTransitioning:w},C=E?t:void 0,_;typeof r=="function"?_=r(N):_=[r,E?"active":null,j?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(N):o;return m.createElement(e2,{...u,"aria-current":C,className:_,ref:d,style:A,to:s,viewTransition:i},typeof c=="function"?c(N):c)});x5.displayName="NavLink";var b5=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:s=Iu,action:i,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},p)=>{let y=C5(),x=A5(i,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",g=typeof i=="string"&&JE.test(i),v=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let b=S.nativeEvent.submitter,E=(b==null?void 0:b.getAttribute("formmethod"))||s;y(b||S.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:a,state:o,relative:u,preventScrollReset:d,viewTransition:f})};return m.createElement("form",{ref:p,method:w,action:x,onSubmit:r?c:v,...h,"data-discover":!g&&e==="render"?"true":void 0})});b5.displayName="Form";function w5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t2(e){let t=m.useContext(bi);return Xe(t,w5(e)),t}function S5(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:s}={}){let i=Ft(),c=Er(),u=Sc(e,{relative:o});return m.useCallback(d=>{if(Qz(d,t)){d.preventDefault();let f=n!==void 0?n:Il(c)===Il(u);i(e,{replace:f,state:r,preventScrollReset:a,relative:o,viewTransition:s})}},[c,i,u,n,r,t,e,a,o,s])}function N5(e){$n(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(Pp(e)),n=m.useRef(!1),r=Er(),a=m.useMemo(()=>Jz(r.search,n.current?null:t.current),[r.search]),o=Ft(),s=m.useCallback((i,c)=>{const u=Pp(typeof i=="function"?i(a):i);n.current=!0,o("?"+u,c)},[o,a]);return[a,s]}var E5=0,_5=()=>`__${String(++E5)}__`;function C5(){let{router:e}=t2("useSubmit"),{basename:t}=m.useContext(Sr),n=Hz();return m.useCallback(async(r,a={})=>{let{action:o,method:s,encType:i,formData:c,body:u}=n5(r,t);if(a.navigate===!1){let d=a.fetcherKey||_5();await e.fetch(d,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function A5(e,{relative:t}={}){let{basename:n}=m.useContext(Sr),r=m.useContext(Nr);Xe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Sc(e||".",{relative:t})},s=Er();if(e==null){o.search=s.search;let i=new URLSearchParams(o.search),c=i.getAll("index");if(c.some(d=>d==="")){i.delete("index"),c.filter(f=>f).forEach(f=>i.append("index",f));let d=i.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Qr([n,o.pathname])),Il(o)}function k5(e,t={}){let n=m.useContext(VE);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=t2("useViewTransitionState"),a=Sc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=la(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=la(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _d(a.pathname,s)!=null||_d(a.pathname,o)!=null}[...u5];const sb={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},equipment:[],userProgress:{unlocks:[]},destinyPath:[]},ib=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,a,i);return i},j5=e=>e?ib(e):ib,T5=e=>e;function R5(e,t=T5){const n=P.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return P.useDebugValue(n),n}const lb=e=>{const t=j5(e),n=r=>R5(t,r);return Object.assign(n,t),n},M5=e=>e?lb(e):lb,ps=M5(e=>({build:sb,updateBuild:t=>e(n=>({build:{...n.build,...t}})),setBuild:t=>e({build:t}),resetBuild:()=>e({build:sb})}));function Ut(){const e=ps(z=>z.build.skills.major),t=ps(z=>z.build.skills.minor),n=ps(z=>z.build),r=ps(z=>z.updateBuild),a=ps(z=>z.resetBuild),o=z=>(e==null?void 0:e.includes(z))??!1,s=z=>(t==null?void 0:t.includes(z))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:o,hasMinorSkill:s,addMajorSkill:z=>{const H=e??[],Z=t??[];if(!o(z)&&H.length<3){const G=Z.filter(Y=>Y!==z);r({skills:{major:[...H,z],minor:G}})}},removeMajorSkill:z=>{const H=e??[],Z=t??[],G=H.filter(Y=>Y!==z);r({skills:{major:G,minor:Z}})},addMinorSkill:z=>{const H=e??[],Z=t??[];if(!s(z)&&Z.length<6){const G=H.filter(Y=>Y!==z);r({skills:{major:G,minor:[...Z,z]}})}},removeMinorSkill:z=>{const H=e??[],G=(t??[]).filter(Y=>Y!==z);r({skills:{major:H,minor:G}})},addTrait:z=>{const{regular:H=[],bonus:Z=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:G=2,bonus:Y=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};H.length<G?r({traits:{...n==null?void 0:n.traits,regular:[...H,z]}}):Z.length<Y&&r({traits:{...n==null?void 0:n.traits,bonus:[...Z,z]}})},addRegularTrait:z=>{const{regular:H=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:Z=2}=(n==null?void 0:n.traitLimits)??{regular:2};H.length<Z&&r({traits:{...n==null?void 0:n.traits,regular:[...H,z]}})},addBonusTrait:z=>{const{bonus:H=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:Z=1}=(n==null?void 0:n.traitLimits)??{bonus:1};H.length<Z&&r({traits:{...n==null?void 0:n.traits,bonus:[...H,z]}})},removeTrait:z=>{const{regular:H=[],bonus:Z=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};r({traits:{regular:H.filter(G=>G!==z),bonus:Z.filter(G=>G!==z)}})},hasTrait:z=>{var H,Z,G,Y;return(((Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:Z.includes(z))??!1)||(((Y=(G=n==null?void 0:n.traits)==null?void 0:G.bonus)==null?void 0:Y.includes(z))??!1)},hasRegularTrait:z=>{var H,Z;return((Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:Z.includes(z))??!1},hasBonusTrait:z=>{var H,Z;return((Z=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:Z.includes(z))??!1},setRace:z=>{r({race:z})},setBirthsign:z=>{r({stone:z})},setStone:z=>{r({stone:z})},setReligion:z=>{r({religion:z})},addEquipment:z=>{const H=(n==null?void 0:n.equipment)??[];H.includes(z)||r({equipment:[...H,z]})},removeEquipment:z=>{const H=(n==null?void 0:n.equipment)??[];r({equipment:H.filter(Z=>Z!==z)})},setBuildName:z=>{r({name:z})},setBuildNotes:z=>{r({notes:z})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:z=>{r({destinyPath:z})},updateBuild:r,clearBuild:()=>{r({name:"",notes:"",race:null,stone:null,religion:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},destinyPath:[]})},resetBuild:a,getSummary:()=>{var z,H,Z,G,Y,W,Q,me,pe;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((H=(z=n==null?void 0:n.traits)==null?void 0:z.regular)==null?void 0:H.length)??0)+(((G=(Z=n==null?void 0:n.traits)==null?void 0:Z.bonus)==null?void 0:G.length)??0),majorSkillCount:((W=(Y=n==null?void 0:n.skills)==null?void 0:Y.major)==null?void 0:W.length)??0,minorSkillCount:((me=(Q=n==null?void 0:n.skills)==null?void 0:Q.minor)==null?void 0:me.length)??0,equipmentCount:((pe=n==null?void 0:n.equipment)==null?void 0:pe.length)??0}},getRegularTraitLimit:()=>{var z;return((z=n==null?void 0:n.traitLimits)==null?void 0:z.regular)??2},getBonusTraitLimit:()=>{var z;return((z=n==null?void 0:n.traitLimits)==null?void 0:z.bonus)??1},getRegularTraitCount:()=>{var z,H;return((H=(z=n==null?void 0:n.traits)==null?void 0:z.regular)==null?void 0:H.length)??0},getBonusTraitCount:()=>{var z,H;return((H=(z=n==null?void 0:n.traits)==null?void 0:z.bonus)==null?void 0:H.length)??0},canAddRegularTrait:()=>{var z,H,Z;return(((H=(z=n==null?void 0:n.traits)==null?void 0:z.regular)==null?void 0:H.length)??0)<(((Z=n==null?void 0:n.traitLimits)==null?void 0:Z.regular)??2)},canAddBonusTrait:()=>{var z,H,Z;return(((H=(z=n==null?void 0:n.traits)==null?void 0:z.bonus)==null?void 0:H.length)??0)<(((Z=n==null?void 0:n.traitLimits)==null?void 0:Z.bonus)??1)},getTraitType:z=>{var H,Z,G,Y;return(Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)!=null&&Z.includes(z)?"regular":(Y=(G=n==null?void 0:n.traits)==null?void 0:G.bonus)!=null&&Y.includes(z)?"bonus":null},isAllTraitsFull:()=>{var Y,W,Q,me,pe,fe;const z=((W=(Y=n==null?void 0:n.traits)==null?void 0:Y.regular)==null?void 0:W.length)??0,H=((me=(Q=n==null?void 0:n.traits)==null?void 0:Q.bonus)==null?void 0:me.length)??0,Z=((pe=n==null?void 0:n.traitLimits)==null?void 0:pe.regular)??2,G=((fe=n==null?void 0:n.traitLimits)==null?void 0:fe.bonus)??1;return z>=Z&&H>=G},addTraitToSlot:(z,H)=>{if(H==="regular"){const{regular:Z=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:G=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(Z.length<G){const{bonus:Y=[]}=(n==null?void 0:n.traits)??{bonus:[]},W=Y.filter(Q=>Q!==z);r({traits:{regular:[...Z,z],bonus:W}})}}else{const{bonus:Z=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:G=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(Z.length<G){const{regular:Y=[]}=(n==null?void 0:n.traits)??{regular:[]},W=Y.filter(Q=>Q!==z);r({traits:{regular:W,bonus:[...Z,z]}})}}},isSlotAvailable:(z,H=0)=>{var Z,G,Y,W;return z==="regular"?(((G=(Z=n==null?void 0:n.traits)==null?void 0:Z.regular)==null?void 0:G.length)??0)<=H:(((W=(Y=n==null?void 0:n.traits)==null?void 0:Y.bonus)==null?void 0:W.length)??0)<=H}}}function n2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=n2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function r2(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=n2(e))&&(r&&(r+=" "),r+=t);return r}const cb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ub=r2,wi=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ub(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,s=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=cb(d)||cb(f);return a[u][h]}),i=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[x,w]=y;return Array.isArray(w)?w.includes({...o,...i}[x]):{...o,...i}[x]===w})?[...u,f,h]:u},[]);return ub(e,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},H0="-",D5=e=>{const t=O5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(H0);return i[0]===""&&i.length!==1&&i.shift(),a2(i,t)||z5(s)},getConflictingClassGroupIds:(s,i)=>{const c=n[s]||[];return i&&r[s]?[...c,...r[s]]:c}}},a2=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?a2(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(H0);return(s=t.validators.find(({validator:i})=>i(o)))==null?void 0:s.classGroupId},db=/^\[(.+)\]$/,z5=e=>{if(db.test(e)){const t=db.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},O5=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)Lp(n[a],r,a,t);return r},Lp=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:fb(t,a);o.classGroupId=n;return}if(typeof a=="function"){if($5(a)){Lp(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,s])=>{Lp(s,fb(t,o),n,r)})})},fb=(e,t)=>{let n=e;return t.split(H0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$5=e=>e.isThemeGetter,P5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return a(o,s),s},set(o,s){n.has(o)?n.set(o,s):a(o,s)}}},Ip="!",Bp=":",L5=Bp.length,I5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const o=[];let s=0,i=0,c=0,u;for(let y=0;y<a.length;y++){let x=a[y];if(s===0&&i===0){if(x===Bp){o.push(a.slice(c,y)),c=y+L5;continue}if(x==="/"){u=y;continue}}x==="["?s++:x==="]"?s--:x==="("?i++:x===")"&&i--}const d=o.length===0?a:a.substring(c),f=B5(d),h=f!==d,p=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const a=t+Bp,o=r;r=s=>s.startsWith(a)?o(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},B5=e=>e.endsWith(Ip)?e.substring(0,e.length-1):e.startsWith(Ip)?e.substring(1):e,H5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(a.push(...o.sort(),s),o=[]):o.push(s)}),a.push(...o.sort()),a}},F5=e=>({cache:P5(e.cacheSize),parseClassName:I5(e),sortModifiers:H5(e),...D5(e)}),U5=/\s+/,G5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=t,s=[],i=e.trim().split(U5);let c="";for(let u=i.length-1;u>=0;u-=1){const d=i[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:x}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!x,g=r(w?y.substring(0,x):y);if(!g){if(!w){c=d+(c.length>0?" "+c:c);continue}if(g=r(y),!g){c=d+(c.length>0?" "+c:c);continue}w=!1}const v=o(h).join(":"),S=p?v+Ip:v,b=S+g;if(s.includes(b))continue;s.push(b);const E=a(g,w);for(let j=0;j<E.length;++j){const N=E[j];s.push(S+N)}c=d+(c.length>0?" "+c:c)}return c};function V5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=o2(t))&&(r&&(r+=" "),r+=n);return r}const o2=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=o2(e[r]))&&(n&&(n+=" "),n+=t);return n};function Z5(e,...t){let n,r,a,o=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return n=F5(u),r=n.cache.get,a=n.cache.set,o=i,i(c)}function i(c){const u=r(c);if(u)return u;const d=G5(c,n);return a(c,d),d}return function(){return o(V5.apply(null,arguments))}}const mt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},s2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,i2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Y5=/^\d+\/\d+$/,q5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,X5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,W5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Q5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ts=e=>Y5.test(e),ve=e=>!!e&&!Number.isNaN(Number(e)),Sa=e=>!!e&&Number.isInteger(Number(e)),Xh=e=>e.endsWith("%")&&ve(e.slice(0,-1)),Pr=e=>q5.test(e),J5=()=>!0,eO=e=>X5.test(e)&&!K5.test(e),l2=()=>!1,tO=e=>W5.test(e),nO=e=>Q5.test(e),rO=e=>!ne(e)&&!re(e),aO=e=>Si(e,d2,l2),ne=e=>s2.test(e),co=e=>Si(e,f2,eO),Kh=e=>Si(e,cO,ve),hb=e=>Si(e,c2,l2),oO=e=>Si(e,u2,nO),eu=e=>Si(e,h2,tO),re=e=>i2.test(e),Bi=e=>Ni(e,f2),sO=e=>Ni(e,uO),mb=e=>Ni(e,c2),iO=e=>Ni(e,d2),lO=e=>Ni(e,u2),tu=e=>Ni(e,h2,!0),Si=(e,t,n)=>{const r=s2.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Ni=(e,t,n=!1)=>{const r=i2.exec(e);return r?r[1]?t(r[1]):n:!1},c2=e=>e==="position"||e==="percentage",u2=e=>e==="image"||e==="url",d2=e=>e==="length"||e==="size"||e==="bg-size",f2=e=>e==="length",cO=e=>e==="number",uO=e=>e==="family-name",h2=e=>e==="shadow",dO=()=>{const e=mt("color"),t=mt("font"),n=mt("text"),r=mt("font-weight"),a=mt("tracking"),o=mt("leading"),s=mt("breakpoint"),i=mt("container"),c=mt("spacing"),u=mt("radius"),d=mt("shadow"),f=mt("inset-shadow"),h=mt("text-shadow"),p=mt("drop-shadow"),y=mt("blur"),x=mt("perspective"),w=mt("aspect"),g=mt("ease"),v=mt("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...b(),re,ne],j=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],C=()=>[re,ne,c],_=()=>[ts,"full","auto",...C()],A=()=>[Sa,"none","subgrid",re,ne],O=()=>["auto",{span:["full",Sa,re,ne]},Sa,re,ne],B=()=>[Sa,"auto",re,ne],R=()=>["auto","min","max","fr",re,ne],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...C()],I=()=>[ts,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],D=()=>[e,re,ne],M=()=>[...b(),mb,hb,{position:[re,ne]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",iO,aO,{size:[re,ne]}],V=()=>[Xh,Bi,co],U=()=>["","none","full",u,re,ne],z=()=>["",ve,Bi,co],H=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[ve,Xh,mb,hb],Y=()=>["","none",y,re,ne],W=()=>["none",ve,re,ne],Q=()=>["none",ve,re,ne],me=()=>[ve,re,ne],pe=()=>[ts,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pr],breakpoint:[Pr],color:[J5],container:[Pr],"drop-shadow":[Pr],ease:["in","out","in-out"],font:[rO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pr],shadow:[Pr],spacing:["px",ve],text:[Pr],"text-shadow":[Pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ts,ne,re,w]}],container:["container"],columns:[{columns:[ve,ne,re,i]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[Sa,"auto",re,ne]}],basis:[{basis:[ts,"full","auto",i,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ve,ts,"auto","initial","none",ne]}],grow:[{grow:["",ve,re,ne]}],shrink:[{shrink:["",ve,re,ne]}],order:[{order:[Sa,"first","last","none",re,ne]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[i,"screen",...I()]}],"min-w":[{"min-w":[i,"screen","none",...I()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[s]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,Bi,co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,re,Kh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xh,ne]}],"font-family":[{font:[sO,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,re,ne]}],"line-clamp":[{"line-clamp":[ve,"none",re,Kh]}],leading:[{leading:[o,...C()]}],"list-image":[{"list-image":["none",re,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[ve,"from-font","auto",re,co]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[ve,"auto",re,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sa,re,ne],radial:["",re,ne],conic:[Sa,re,ne]},lO,oO]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ve,re,ne]}],"outline-w":[{outline:["",ve,Bi,co]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",d,tu,eu]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",f,tu,eu]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[ve,co]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",h,tu,eu]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[ve,re,ne]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[re,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,ne]}],filter:[{filter:["","none",re,ne]}],blur:[{blur:Y()}],brightness:[{brightness:[ve,re,ne]}],contrast:[{contrast:[ve,re,ne]}],"drop-shadow":[{"drop-shadow":["","none",p,tu,eu]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",ve,re,ne]}],"hue-rotate":[{"hue-rotate":[ve,re,ne]}],invert:[{invert:["",ve,re,ne]}],saturate:[{saturate:[ve,re,ne]}],sepia:[{sepia:["",ve,re,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",re,ne]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[ve,re,ne]}],"backdrop-contrast":[{"backdrop-contrast":[ve,re,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ve,re,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ve,re,ne]}],"backdrop-invert":[{"backdrop-invert":["",ve,re,ne]}],"backdrop-opacity":[{"backdrop-opacity":[ve,re,ne]}],"backdrop-saturate":[{"backdrop-saturate":[ve,re,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",ve,re,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ve,"initial",re,ne]}],ease:[{ease:["linear","initial",g,re,ne]}],delay:[{delay:[ve,re,ne]}],animate:[{animate:["none",v,re,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,re,ne]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[re,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,ne]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[ve,Bi,co,Kh]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fO=Z5(dO);function K(...e){return fO(r2(e))}const hO=wi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ue({className:e,variant:t,...n}){return l.jsx("div",{className:K(hO({variant:t}),e),...n})}function pb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _f(...e){return t=>{let n=!1;const r=e.map(a=>{const o=pb(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():pb(e[a],null)}}}}function Re(...e){return m.useCallback(_f(...e),e)}function ai(e){const t=pO(e),n=m.forwardRef((r,a)=>{const{children:o,...s}=r,i=m.Children.toArray(o),c=i.find(yO);if(c){const u=c.props.children,d=i.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var mO=ai("Slot");function pO(e){const t=m.forwardRef((n,r)=>{const{children:a,...o}=n;if(m.isValidElement(a)){const s=xO(a),i=vO(o,a.props);return a.type!==m.Fragment&&(i.ref=r?_f(r,s):s),m.cloneElement(a,i)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var m2=Symbol("radix.slottable");function gO(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=m2,t}function yO(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===m2}function vO(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...i)=>{const c=o(...i);return a(...i),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function xO(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const bO=wi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function ae({className:e,variant:t,size:n,asChild:r=!1,...a}){const o=r?mO:"button";return l.jsx(o,{"data-slot":"button",className:K(bO({variant:t,size:n,className:e})),...a})}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function wO(e,t){const n=m.createContext(t),r=o=>{const{children:s,...i}=o,c=m.useMemo(()=>i,Object.values(i));return l.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function a(o){const s=m.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function nn(e,t=[]){let n=[];function r(o,s){const i=m.createContext(s),c=n.length;n=[...n,s];const u=f=>{var g;const{scope:h,children:p,...y}=f,x=((g=h==null?void 0:h[e])==null?void 0:g[c])||i,w=m.useMemo(()=>y,Object.values(y));return l.jsx(x.Provider,{value:w,children:p})};u.displayName=o+"Provider";function d(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||i,y=m.useContext(p);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const a=()=>{const o=n.map(s=>m.createContext(s));return function(i){const c=(i==null?void 0:i[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return a.scopeName=e,[r,SO(a,...t)]}function SO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const s=r.reduce((i,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...i,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var vr=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},NO=Lg[" useId ".trim().toString()]||(()=>{}),EO=0;function Jr(e){const[t,n]=m.useState(NO());return vr(()=>{n(r=>r??String(EO++))},[e]),t?`radix-${t}`:""}var _O=Lg[" useInsertionEffect ".trim().toString()]||vr;function Pn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,s]=CO({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:a;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=m.useCallback(d=>{var f;if(i){const h=AO(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else o(d)},[i,e,o,s]);return[c,u]}function CO({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),a=m.useRef(n),o=m.useRef(t);return _O(()=>{o.current=t},[t]),m.useEffect(()=>{var s;a.current!==n&&((s=o.current)==null||s.call(o,n),a.current=n)},[n,a]),[n,r,o]}function AO(e){return typeof e=="function"}var kO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=kO.reduce((e,t)=>{const n=ai(`Primitive.${t}`),r=m.forwardRef((a,o)=>{const{asChild:s,...i}=a,c=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function p2(e,t){e&&rf.flushSync(()=>e.dispatchEvent(t))}function Dt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function jO(e,t=globalThis==null?void 0:globalThis.document){const n=Dt(e);m.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var TO="DismissableLayer",Hp="dismissableLayer.update",RO="dismissableLayer.pointerDownOutside",MO="dismissableLayer.focusOutside",gb,g2=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nc=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:i,...c}=e,u=m.useContext(g2),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=Re(t,N=>f(N)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(w),v=d?x.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=g,E=OO(N=>{const C=N.target,_=[...u.branches].some(A=>A.contains(C));!b||_||(a==null||a(N),s==null||s(N),N.defaultPrevented||i==null||i())},h),j=$O(N=>{const C=N.target;[...u.branches].some(A=>A.contains(C))||(o==null||o(N),s==null||s(N),N.defaultPrevented||i==null||i())},h);return jO(N=>{v===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),yb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=gb)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),yb())},[d,u]),m.useEffect(()=>{const N=()=>p({});return document.addEventListener(Hp,N),()=>document.removeEventListener(Hp,N)},[]),l.jsx(he.div,{...c,ref:y,style:{pointerEvents:S?b?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,j.onFocusCapture),onBlurCapture:te(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,E.onPointerDownCapture)})});Nc.displayName=TO;var DO="DismissableLayerBranch",zO=m.forwardRef((e,t)=>{const n=m.useContext(g2),r=m.useRef(null),a=Re(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(he.div,{...e,ref:a})});zO.displayName=DO;function OO(e,t=globalThis==null?void 0:globalThis.document){const n=Dt(e),r=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let c=function(){y2(RO,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $O(e,t=globalThis==null?void 0:globalThis.document){const n=Dt(e),r=m.useRef(!1);return m.useEffect(()=>{const a=o=>{o.target&&!r.current&&y2(MO,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yb(){const e=new CustomEvent(Hp);document.dispatchEvent(e)}function y2(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?p2(a,o):a.dispatchEvent(o)}var Wh="focusScope.autoFocusOnMount",Qh="focusScope.autoFocusOnUnmount",vb={bubbles:!1,cancelable:!0},PO="FocusScope",F0=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[i,c]=m.useState(null),u=Dt(a),d=Dt(o),f=m.useRef(null),h=Re(t,x=>c(x)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(S){if(p.paused||!i)return;const b=S.target;i.contains(b)?f.current=b:_a(f.current,{select:!0})},w=function(S){if(p.paused||!i)return;const b=S.relatedTarget;b!==null&&(i.contains(b)||_a(f.current,{select:!0}))},g=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&_a(i)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const v=new MutationObserver(g);return i&&v.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),v.disconnect()}}},[r,i,p.paused]),m.useEffect(()=>{if(i){bb.add(p);const x=document.activeElement;if(!i.contains(x)){const g=new CustomEvent(Wh,vb);i.addEventListener(Wh,u),i.dispatchEvent(g),g.defaultPrevented||(LO(UO(v2(i)),{select:!0}),document.activeElement===x&&_a(i))}return()=>{i.removeEventListener(Wh,u),setTimeout(()=>{const g=new CustomEvent(Qh,vb);i.addEventListener(Qh,d),i.dispatchEvent(g),g.defaultPrevented||_a(x??document.body,{select:!0}),i.removeEventListener(Qh,d),bb.remove(p)},0)}}},[i,u,d,p]);const y=m.useCallback(x=>{if(!n&&!r||p.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(w&&g){const v=x.currentTarget,[S,b]=IO(v);S&&b?!x.shiftKey&&g===b?(x.preventDefault(),n&&_a(S,{select:!0})):x.shiftKey&&g===S&&(x.preventDefault(),n&&_a(b,{select:!0})):g===v&&x.preventDefault()}},[n,r,p.paused]);return l.jsx(he.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});F0.displayName=PO;function LO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(_a(r,{select:t}),document.activeElement!==n)return}function IO(e){const t=v2(e),n=xb(t,e),r=xb(t.reverse(),e);return[n,r]}function v2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xb(e,t){for(const n of e)if(!BO(n,{upTo:t}))return n}function BO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HO(e){return e instanceof HTMLInputElement&&"select"in e}function _a(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&HO(e)&&t&&e.select()}}var bb=FO();function FO(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=wb(e,t),e.unshift(t)},remove(t){var n;e=wb(e,t),(n=e[0])==null||n.resume()}}}function wb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function UO(e){return e.filter(t=>t.tagName!=="A")}var GO="Portal",U0=m.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[a,o]=m.useState(!1);vr(()=>o(!0),[]);const s=n||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return s?eM.createPortal(l.jsx(he.div,{...r,ref:t}),s):null});U0.displayName=GO;function VO(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var $t=e=>{const{present:t,children:n}=e,r=ZO(t),a=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Re(r.ref,YO(a));return typeof n=="function"||r.isPresent?m.cloneElement(a,{ref:o}):null};$t.displayName="Presence";function ZO(e){const[t,n]=m.useState(),r=m.useRef(null),a=m.useRef(e),o=m.useRef("none"),s=e?"mounted":"unmounted",[i,c]=VO(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=nu(r.current);o.current=i==="mounted"?u:"none"},[i]),vr(()=>{const u=r.current,d=a.current;if(d!==e){const h=o.current,p=nu(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),vr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const x=nu(r.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(o.current=nu(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function nu(e){return(e==null?void 0:e.animationName)||"none"}function YO(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Jh=0;function x2(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Sb()),document.body.insertAdjacentElement("beforeend",e[1]??Sb()),Jh++,()=>{Jh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jh--}},[])}function Sb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lr=function(){return lr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},lr.apply(this,arguments)};function b2(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function qO(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Hu="right-scroll-bar-position",Fu="width-before-scroll-bar",XO="with-scroll-bars-hidden",KO="--removed-body-scroll-bar-size";function em(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function WO(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var QO=typeof window<"u"?m.useLayoutEffect:m.useEffect,Nb=new WeakMap;function JO(e,t){var n=WO(null,function(r){return e.forEach(function(a){return em(a,r)})});return QO(function(){var r=Nb.get(n);if(r){var a=new Set(r),o=new Set(e),s=n.current;a.forEach(function(i){o.has(i)||em(i,null)}),o.forEach(function(i){a.has(i)||em(i,s)})}Nb.set(n,e)},[e]),n}function e$(e){return e}function t$(e,t){t===void 0&&(t=e$);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(o),s=n}var c=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return a}function n$(e){e===void 0&&(e={});var t=t$(null);return t.options=lr({async:!0,ssr:!1},e),t}var w2=function(e){var t=e.sideCar,n=b2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,lr({},n))};w2.isSideCarExport=!0;function r$(e,t){return e.useMedium(t),w2}var S2=n$(),tm=function(){},Cf=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:tm,onWheelCapture:tm,onTouchMoveCapture:tm}),a=r[0],o=r[1],s=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,x=e.inert,w=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,S=e.gapMode,b=b2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,j=JO([n,t]),N=lr(lr({},b),a);return m.createElement(m.Fragment,null,d&&m.createElement(E,{sideCar:S2,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:S}),s?m.cloneElement(m.Children.only(i),lr(lr({},N),{ref:j})):m.createElement(v,lr({},N,{className:c,ref:j}),i))});Cf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cf.classNames={fullWidth:Fu,zeroRight:Hu};var a$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a$();return t&&e.setAttribute("nonce",t),e}function s$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function i$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var l$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=o$())&&(s$(t,n),i$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c$=function(){var e=l$();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},N2=function(){var e=c$(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},u$={left:0,top:0,right:0,gap:0},nm=function(e){return parseInt(e||"",10)||0},d$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[nm(n),nm(r),nm(a)]},f$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u$;var t=d$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},h$=N2(),Is="data-scroll-locked",m$=function(e,t,n,r){var a=e.left,o=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(XO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(Is,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hu,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Fu,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Hu," .").concat(Hu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fu," .").concat(Fu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Is,`] {
    `).concat(KO,": ").concat(i,`px;
  }
`)},Eb=function(){var e=parseInt(document.body.getAttribute(Is)||"0",10);return isFinite(e)?e:0},p$=function(){m.useEffect(function(){return document.body.setAttribute(Is,(Eb()+1).toString()),function(){var e=Eb()-1;e<=0?document.body.removeAttribute(Is):document.body.setAttribute(Is,e.toString())}},[])},g$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;p$();var o=m.useMemo(function(){return f$(a)},[a]);return m.createElement(h$,{styles:m$(o,!t,a,n?"":"!important")})},Fp=!1;if(typeof window<"u")try{var ru=Object.defineProperty({},"passive",{get:function(){return Fp=!0,!0}});window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Fp=!1}var ns=Fp?{passive:!1}:!1,y$=function(e){return e.tagName==="TEXTAREA"},E2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!y$(e)&&n[t]==="visible")},v$=function(e){return E2(e,"overflowY")},x$=function(e){return E2(e,"overflowX")},_b=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=_2(e,r);if(a){var o=C2(e,r),s=o[1],i=o[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},b$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},w$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_2=function(e,t){return e==="v"?v$(t):x$(t)},C2=function(e,t){return e==="v"?b$(t):w$(t)},S$=function(e,t){return e==="h"&&t==="rtl"?-1:1},N$=function(e,t,n,r,a){var o=S$(e,window.getComputedStyle(t).direction),s=o*r,i=n.target,c=t.contains(i),u=!1,d=s>0,f=0,h=0;do{if(!i)break;var p=C2(e,i),y=p[0],x=p[1],w=p[2],g=x-w-o*y;(y||g)&&_2(e,i)&&(f+=g,h+=y);var v=i.parentNode;i=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},au=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Cb=function(e){return[e.deltaX,e.deltaY]},Ab=function(e){return e&&"current"in e?e.current:e},E$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},C$=0,rs=[];function A$(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),a=m.useState(C$++)[0],o=m.useState(N2)[0],s=m.useRef(e);m.useEffect(function(){s.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=qO([e.lockRef.current],(e.shards||[]).map(Ab),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=m.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var g=au(x),v=n.current,S="deltaX"in x?x.deltaX:v[0]-g[0],b="deltaY"in x?x.deltaY:v[1]-g[1],E,j=x.target,N=Math.abs(S)>Math.abs(b)?"h":"v";if("touches"in x&&N==="h"&&j.type==="range")return!1;var C=_b(N,j);if(!C)return!0;if(C?E=N:(E=N==="v"?"h":"v",C=_b(N,j)),!C)return!1;if(!r.current&&"changedTouches"in x&&(S||b)&&(r.current=E),!E)return!0;var _=r.current||E;return N$(_,w,x,_==="h"?S:b)},[]),c=m.useCallback(function(x){var w=x;if(!(!rs.length||rs[rs.length-1]!==o)){var g="deltaY"in w?Cb(w):au(w),v=t.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&E$(E.delta,g)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var S=(s.current.shards||[]).map(Ab).filter(Boolean).filter(function(E){return E.contains(w.target)}),b=S.length>0?i(w,S[0]):!s.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(x,w,g,v){var S={name:x,delta:w,target:g,should:v,shadowParent:k$(g)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(b){return b!==S})},1)},[]),d=m.useCallback(function(x){n.current=au(x),r.current=void 0},[]),f=m.useCallback(function(x){u(x.type,Cb(x),x.target,i(x,e.lockRef.current))},[]),h=m.useCallback(function(x){u(x.type,au(x),x.target,i(x,e.lockRef.current))},[]);m.useEffect(function(){return rs.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ns),document.addEventListener("touchmove",c,ns),document.addEventListener("touchstart",d,ns),function(){rs=rs.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,ns),document.removeEventListener("touchmove",c,ns),document.removeEventListener("touchstart",d,ns)}},[]);var p=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(o,{styles:_$(a)}):null,p?m.createElement(g$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function k$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const j$=r$(S2,A$);var G0=m.forwardRef(function(e,t){return m.createElement(Cf,lr({},e,{ref:t,sideCar:j$}))});G0.classNames=Cf.classNames;var T$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},as=new WeakMap,ou=new WeakMap,su={},rm=0,A2=function(e){return e&&(e.host||A2(e.parentNode))},R$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=A2(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},M$=function(e,t,n,r){var a=R$(t,Array.isArray(e)?e:[e]);su[n]||(su[n]=new WeakMap);var o=su[n],s=[],i=new Set,c=new Set(a),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))d(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",x=(as.get(h)||0)+1,w=(o.get(h)||0)+1;as.set(h,x),o.set(h,w),s.push(h),x===1&&y&&ou.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),i.clear(),rm++,function(){s.forEach(function(f){var h=as.get(f)-1,p=o.get(f)-1;as.set(f,h),o.set(f,p),h||(ou.has(f)||f.removeAttribute(r),ou.delete(f)),p||f.removeAttribute(n)}),rm--,rm||(as=new WeakMap,as=new WeakMap,ou=new WeakMap,su={})}},k2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=T$(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),M$(r,a,n,"aria-hidden")):function(){return null}},Af="Dialog",[j2,DW]=nn(Af),[D$,Qn]=j2(Af),T2=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,i=m.useRef(null),c=m.useRef(null),[u,d]=Pn({prop:r,defaultProp:a??!1,onChange:o,caller:Af});return l.jsx(D$,{scope:t,triggerRef:i,contentRef:c,contentId:Jr(),titleId:Jr(),descriptionId:Jr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};T2.displayName=Af;var R2="DialogTrigger",M2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Qn(R2,n),o=Re(t,a.triggerRef);return l.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Y0(a.open),...r,ref:o,onClick:te(e.onClick,a.onOpenToggle)})});M2.displayName=R2;var V0="DialogPortal",[z$,D2]=j2(V0,{forceMount:void 0}),z2=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=Qn(V0,t);return l.jsx(z$,{scope:t,forceMount:n,children:m.Children.map(r,s=>l.jsx($t,{present:n||o.open,children:l.jsx(U0,{asChild:!0,container:a,children:s})}))})};z2.displayName=V0;var Cd="DialogOverlay",O2=m.forwardRef((e,t)=>{const n=D2(Cd,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Qn(Cd,e.__scopeDialog);return o.modal?l.jsx($t,{present:r||o.open,children:l.jsx($$,{...a,ref:t})}):null});O2.displayName=Cd;var O$=ai("DialogOverlay.RemoveScroll"),$$=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Qn(Cd,n);return l.jsx(G0,{as:O$,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(he.div,{"data-state":Y0(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Oo="DialogContent",$2=m.forwardRef((e,t)=>{const n=D2(Oo,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Qn(Oo,e.__scopeDialog);return l.jsx($t,{present:r||o.open,children:o.modal?l.jsx(P$,{...a,ref:t}):l.jsx(L$,{...a,ref:t})})});$2.displayName=Oo;var P$=m.forwardRef((e,t)=>{const n=Qn(Oo,e.__scopeDialog),r=m.useRef(null),a=Re(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return k2(o)},[]),l.jsx(P2,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),L$=m.forwardRef((e,t)=>{const n=Qn(Oo,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return l.jsx(P2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),P2=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...s}=e,i=Qn(Oo,n),c=m.useRef(null),u=Re(t,c);return x2(),l.jsxs(l.Fragment,{children:[l.jsx(F0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:l.jsx(Nc,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Y0(i.open),...s,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(I$,{titleId:i.titleId}),l.jsx(H$,{contentRef:c,descriptionId:i.descriptionId})]})]})}),Z0="DialogTitle",L2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Qn(Z0,n);return l.jsx(he.h2,{id:a.titleId,...r,ref:t})});L2.displayName=Z0;var I2="DialogDescription",B2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Qn(I2,n);return l.jsx(he.p,{id:a.descriptionId,...r,ref:t})});B2.displayName=I2;var H2="DialogClose",F2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Qn(H2,n);return l.jsx(he.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>a.onOpenChange(!1))})});F2.displayName=H2;function Y0(e){return e?"open":"closed"}var U2="DialogTitleWarning",[zW,G2]=wO(U2,{contentName:Oo,titleName:Z0,docsSlug:"dialog"}),I$=({titleId:e})=>{const t=G2(U2),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},B$="DialogDescriptionWarning",H$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G2(B$).contentName}}.`;return m.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},V2=T2,F$=M2,Z2=z2,q0=O2,X0=$2,K0=L2,W0=B2,U$=F2;const G$=V2,V$=F$,Z$=Z2,Y2=m.forwardRef(({className:e,...t},n)=>l.jsx(q0,{className:K("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:Ht.MODAL},...t,ref:n}));Y2.displayName=q0.displayName;const Y$=wi("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),q2=m.forwardRef(({side:e="right",className:t,children:n,...r},a)=>l.jsxs(Z$,{children:[l.jsx(Y2,{}),l.jsxs(X0,{ref:a,className:K(Y$({side:e}),t),style:{zIndex:Ht.MODAL+1,backgroundColor:"hsl(var(--background))"},...r,children:[n,l.jsxs(U$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(xn,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));q2.displayName=X0.displayName;const X2=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});X2.displayName="SheetHeader";const K2=m.forwardRef(({className:e,...t},n)=>l.jsx(K0,{ref:n,className:K("text-lg font-semibold text-foreground",e),...t}));K2.displayName=K0.displayName;const W2=m.forwardRef(({className:e,...t},n)=>l.jsx(W0,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));W2.displayName=W0.displayName;const q$=()=>{const{build:e,resetBuild:t,getSummary:n,getRegularTraitLimit:r,getBonusTraitLimit:a}=Ut(),o=Ft(),s=n(),[i,c]=m.useState(!1),u=e.name||e.race||e.traits.regular.length>0||e.traits.bonus.length>0||e.stone||e.religion||e.skills.major.length>0||e.skills.minor.length>0||e.equipment.length>0,d=()=>{navigator.clipboard.writeText(window.location.href)},f=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},h=w=>{c(!1),o(w)},p=r(),y=a(),x=p+y;return l.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:Ht.MODAL+1},children:l.jsxs(G$,{open:i,onOpenChange:c,children:[l.jsx(V$,{asChild:!0,children:l.jsx(ae,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${i?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:l.jsx(bl,{className:"h-5 w-5"})})}),l.jsxs(q2,{side:"right",className:"w-[400px] sm:w-[540px] p-6",children:[l.jsxs(X2,{children:[l.jsxs(K2,{className:"flex items-center gap-2",children:[l.jsx(bl,{className:"h-5 w-5"}),u?s.name:"Character Build"]}),l.jsx(W2,{children:u?"Your current character build status":"Create and manage your character build"})]}),l.jsx("div",{className:"mt-6 space-y-6",children:u?l.jsxs(l.Fragment,{children:[e.race&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Race"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.race}),l.jsx(ue,{variant:"secondary",className:"bg-blue-500",children:"Selected"})]})]}),e.stone&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Birth Sign"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.stone}),l.jsx(ue,{variant:"secondary",className:"bg-purple-500",children:"Selected"})]})]}),e.religion&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Religion"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.religion}),l.jsx(ue,{variant:"secondary",className:"bg-orange-500",children:"Selected"})]})]}),(e.traits.regular.length>0||e.traits.bonus.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Traits (",e.traits.regular.length+e.traits.bonus.length,"/",x,")"]}),l.jsxs("div",{className:"space-y-2",children:[e.traits.regular.map(w=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-muted-foreground",children:"Starting"})]},`regular-${w}`)),e.traits.bonus.map(w=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),l.jsx("span",{className:"text-muted-foreground",children:"Late Game"})]},`bonus-${w}`))]})]}),(e.skills.major.length>0||e.skills.minor.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Skills"}),l.jsxs("div",{className:"space-y-2",children:[e.skills.major.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Major Skills"}),l.jsx(ue,{variant:"outline",children:e.skills.major.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.major.map(w=>l.jsx(ue,{variant:"secondary",className:"bg-red-500 text-xs",children:w},w))})]}),e.skills.minor.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Minor Skills"}),l.jsx(ue,{variant:"outline",children:e.skills.minor.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.minor.map(w=>l.jsx(ue,{variant:"secondary",className:"bg-blue-500 text-xs",children:w},w))})]})]})]}),e.equipment.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Equipment (",e.equipment.length,")"]}),l.jsx("div",{className:"space-y-2",children:e.equipment.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:w}),l.jsx(ue,{variant:"secondary",className:"bg-gray-500",children:"Equipped"})]},w))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(bl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Character Build"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building your character by selecting a race, traits, and other options."})]})}),l.jsx("div",{className:"mt-8 space-y-3",children:u?l.jsxs(l.Fragment,{children:[l.jsxs(ae,{onClick:()=>h("/build"),className:"w-full",children:[l.jsx(Dp,{className:"w-4 h-4 mr-2"}),"Edit Build"]}),l.jsxs(ae,{variant:"outline",onClick:d,className:"w-full",children:[l.jsx(X3,{className:"w-4 h-4 mr-2"}),"Copy Share URL"]}),l.jsxs(ae,{variant:"destructive",onClick:f,className:"w-full",children:[l.jsx(B4,{className:"w-4 h-4 mr-2"}),"Reset Build"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ae,{onClick:()=>h("/build"),className:"w-full",children:[l.jsx(Dp,{className:"w-4 h-4 mr-2"}),"Create Character Build"]}),l.jsx(ae,{variant:"outline",onClick:()=>h("/race"),className:"w-full",children:"Browse Races"}),l.jsx(ae,{variant:"outline",onClick:()=>h("/traits"),className:"w-full",children:"Browse Traits"})]})})]})]})})},X$=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),K$=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},W$=()=>{const{build:e,setBuild:t}=ps();Er(),Ft(),m.useEffect(()=>{const n=window.location.hash,[r,a]=n.split("?"),s=new URLSearchParams(a||"").get("b");if(s){const i=K$(s);(i==null?void 0:i.v)===1?t(i):console.warn("Invalid or outdated build schema in URL")}},[t]),m.useEffect(()=>{const n=X$(e),r=window.location.hash,[a,o]=r.split("?"),s=new URLSearchParams(o||"");s.set("b",n);const i=`${a}?${s.toString()}`;window.history.replaceState(null,"",i)},[e])},Q2=m.forwardRef(({className:e,collapsed:t,...n},r)=>l.jsx("aside",{ref:r,"data-collapsed":t?"":void 0,className:K("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300",t?"w-0 overflow-hidden":"w-64",e),...n}));Q2.displayName="Sidebar";const J2=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));J2.displayName="SidebarContent";const e_=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("mb-2",e),...t}));e_.displayName="SidebarGroup";const t_=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));t_.displayName="SidebarHeader";const n_=m.forwardRef(({className:e,...t},n)=>l.jsx("ul",{ref:n,className:K("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));n_.displayName="SidebarMenu";const r_=m.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return l.jsx(o,{ref:a,"data-active":n?"":void 0,className:K("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...r})});r_.displayName="SidebarMenuButton";const a_=m.forwardRef(({className:e,...t},n)=>l.jsx("li",{ref:n,className:K("relative flex items-stretch",e),...t}));a_.displayName="SidebarMenuItem";const o_=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:e,...t}));o_.displayName="SidebarRail";const Q$=wi("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),rn=m.forwardRef(({className:e,variant:t,as:n,...r},a)=>{const o=n||J$(t);return l.jsx(o,{className:K(Q$({variant:t,className:e})),ref:a,...r})});rn.displayName="Typography";function J$(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const Ec=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"h1",as:"h1",className:e,ref:n,...t}));Ec.displayName="H1";const eP=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"h2",as:"h2",className:e,ref:n,...t}));eP.displayName="H2";const _c=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"h3",as:"h3",className:e,ref:n,...t}));_c.displayName="H3";const tP=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"h4",as:"h4",className:e,ref:n,...t}));tP.displayName="H4";const nP=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"h5",as:"h5",className:e,ref:n,...t}));nP.displayName="H5";const rP=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"h6",as:"h6",className:e,ref:n,...t}));rP.displayName="H6";const dn=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"p",as:"p",className:e,ref:n,...t}));dn.displayName="P";const aP=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));aP.displayName="Blockquote";const oP=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"code",as:"code",className:e,ref:n,...t}));oP.displayName="Code";const s_=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"lead",as:"p",className:e,ref:n,...t}));s_.displayName="Lead";const sP=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"large",as:"div",className:e,ref:n,...t}));sP.displayName="Large";const iP=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"small",as:"small",className:e,ref:n,...t}));iP.displayName="Small";const Bl=m.forwardRef(({className:e,...t},n)=>l.jsx(rn,{variant:"muted",as:"p",className:e,ref:n,...t}));Bl.displayName="Muted";const ea=({children:e,title:t,description:n,className:r=""})=>l.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${r}`,children:[t&&l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&l.jsx("p",{className:"text-muted-foreground mt-2 max-w-4xl",children:n})]})}),e]});function Q0(e){const t=e+"CollectionProvider",[n,r]=nn(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=x=>{const{scope:w,children:g}=x,v=P.useRef(null),S=P.useRef(new Map).current;return l.jsx(a,{scope:w,itemMap:S,collectionRef:v,children:g})};s.displayName=t;const i=e+"CollectionSlot",c=ai(i),u=P.forwardRef((x,w)=>{const{scope:g,children:v}=x,S=o(i,g),b=Re(w,S.collectionRef);return l.jsx(c,{ref:b,children:v})});u.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=ai(d),p=P.forwardRef((x,w)=>{const{scope:g,children:v,...S}=x,b=P.useRef(null),E=Re(w,b),j=o(d,g);return P.useEffect(()=>(j.itemMap.set(b,{ref:b,...S}),()=>void j.itemMap.delete(b))),l.jsx(h,{[f]:"",ref:E,children:v})});p.displayName=d;function y(x){const w=o(e+"CollectionConsumer",x);return P.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const S=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((j,N)=>S.indexOf(j.ref.current)-S.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},y,r]}var lP=m.createContext(void 0);function Ei(e){const t=m.useContext(lP);return e||t||"ltr"}var am="rovingFocusGroup.onEntryFocus",cP={bubbles:!1,cancelable:!0},Cc="RovingFocusGroup",[Up,i_,uP]=Q0(Cc),[dP,_i]=nn(Cc,[uP]),[fP,hP]=dP(Cc),l_=m.forwardRef((e,t)=>l.jsx(Up.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Up.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(mP,{...e,ref:t})})}));l_.displayName=Cc;var mP=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=Re(t,h),y=Ei(o),[x,w]=Pn({prop:s,defaultProp:i??null,onChange:c,caller:Cc}),[g,v]=m.useState(!1),S=Dt(u),b=i_(n),E=m.useRef(!1),[j,N]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(am,S),()=>C.removeEventListener(am,S)},[S]),l.jsx(fP,{scope:n,orientation:r,dir:y,loop:a,currentTabStopId:x,onItemFocus:m.useCallback(C=>w(C),[w]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>N(C=>C-1),[]),children:l.jsx(he.div,{tabIndex:g||j===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{E.current=!0}),onFocus:te(e.onFocus,C=>{const _=!E.current;if(C.target===C.currentTarget&&_&&!g){const A=new CustomEvent(am,cP);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=b().filter(T=>T.focusable),B=O.find(T=>T.active),R=O.find(T=>T.id===x),$=[B,R,...O].filter(Boolean).map(T=>T.ref.current);d_($,d)}}E.current=!1}),onBlur:te(e.onBlur,()=>v(!1))})})}),c_="RovingFocusGroupItem",u_=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,children:s,...i}=e,c=Jr(),u=o||c,d=hP(c_,n),f=d.currentTabStopId===u,h=i_(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:x}=d;return m.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),l.jsx(Up.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:l.jsx(he.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:te(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:te(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:te(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const g=yP(w,d.orientation,d.dir);if(g!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=h().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const b=S.indexOf(w.currentTarget);S=d.loop?vP(S,b+1):S.slice(b+1)}setTimeout(()=>d_(S))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:x!=null}):s})})});u_.displayName=c_;var pP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yP(e,t,n){const r=gP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pP[r]}function d_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function vP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var J0=l_,ey=u_,kf="Tabs",[xP,OW]=nn(kf,[_i]),f_=_i(),[bP,ty]=xP(kf),h_=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:s="horizontal",dir:i,activationMode:c="automatic",...u}=e,d=Ei(i),[f,h]=Pn({prop:r,onChange:a,defaultProp:o??"",caller:kf});return l.jsx(bP,{scope:n,baseId:Jr(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:l.jsx(he.div,{dir:d,"data-orientation":s,...u,ref:t})})});h_.displayName=kf;var m_="TabsList",p_=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=ty(m_,n),s=f_(n);return l.jsx(J0,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(he.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});p_.displayName=m_;var g_="TabsTrigger",y_=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,s=ty(g_,n),i=f_(n),c=b_(s.baseId,r),u=w_(s.baseId,r),d=r===s.value;return l.jsx(ey,{asChild:!0,...i,focusable:!a,active:d,children:l.jsx(he.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:te(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:te(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:te(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(r)})})})});y_.displayName=g_;var v_="TabsContent",x_=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...s}=e,i=ty(v_,n),c=b_(i.baseId,r),u=w_(i.baseId,r),d=r===i.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx($t,{present:a||d,children:({present:h})=>l.jsx(he.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});x_.displayName=v_;function b_(e,t){return`${e}-trigger-${t}`}function w_(e,t){return`${e}-content-${t}`}var wP=h_,SP=p_,NP=y_,EP=x_;function ny({className:e,...t}){return l.jsx(wP,{"data-slot":"tabs",className:K("flex flex-col gap-2",e),...t})}function ry({className:e,...t}){return l.jsx(SP,{"data-slot":"tabs-list",className:K("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Hl({className:e,...t}){return l.jsx(NP,{"data-slot":"tabs-trigger",className:K("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Ad({className:e,...t}){return l.jsx(EP,{"data-slot":"tabs-content",className:K("flex-1 outline-none",e),...t})}const qt=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],_P=({currentPath:e})=>{var d;const t=Ft(),n=qt.findIndex(f=>f.to===e),r=n>=0?n:0,a=f=>{const h=qt.find(p=>p.value===f);h&&t(h.to)},o=f=>{t(f.to)},s=()=>{r>0&&t(qt[r-1].to)},i=()=>{r<qt.length-1&&t(qt[r+1].to)},c=f=>{switch(f.key){case"ArrowLeft":f.preventDefault(),s();break;case"ArrowRight":f.preventDefault(),i();break;case"Home":f.preventDefault(),t(qt[0].to);break;case"End":f.preventDefault(),t(qt[qt.length-1].to);break}},u=((d=qt[r])==null?void 0:d.value)||"build";return l.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{zIndex:Ht.NAVIGATION,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:c,tabIndex:0,children:l.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l.jsx(ae,{onClick:s,disabled:r===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${r>0?qt[r-1].label:"none"}`,children:l.jsx(H3,{className:"h-4 w-4"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx(ny,{value:u,onValueChange:a,children:l.jsx(ry,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:qt.map((f,h)=>l.jsxs(Hl,{value:f.value,onClick:()=>o(f),className:K("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:u===f.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${h+1}: ${f.label}`,role:"tab","aria-selected":u===f.value,"aria-label":`Step ${h+1}: ${f.label}`,children:[l.jsx("span",{className:"hidden sm:inline",children:f.label}),l.jsx("span",{className:"sm:hidden",children:f.label.split(" ")[0]}),u===f.value&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},f.value))})})}),l.jsx(ae,{onClick:i,disabled:r===qt.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${r<qt.length-1?qt[r+1].label:"none"}`,children:l.jsx(bf,{className:"h-4 w-4"})})]})})})},CP=()=>{const e=Er();return l.jsxs("div",{className:"flex flex-col min-h-full",children:[l.jsx(_P,{currentPath:e.pathname}),l.jsx("div",{className:"flex-grow",children:l.jsx(Vz,{})})]})};function AP(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function S_(e){const[t,n]=m.useState(void 0);return vr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let s,i;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,i=u.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var jf="Switch",[kP,$W]=nn(jf),[jP,TP]=kP(jf),N_=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:s,disabled:i,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),y=Re(t,S=>p(S)),x=m.useRef(!1),w=h?d||!!h.closest("form"):!0,[g,v]=Pn({prop:a,defaultProp:o??!1,onChange:u,caller:jf});return l.jsxs(jP,{scope:n,checked:g,disabled:i,children:[l.jsx(he.button,{type:"button",role:"switch","aria-checked":g,"aria-required":s,"data-state":A_(g),"data-disabled":i?"":void 0,disabled:i,value:c,...f,ref:y,onClick:te(e.onClick,S=>{v(b=>!b),w&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),w&&l.jsx(C_,{control:h,bubbles:!x.current,name:r,value:c,checked:g,required:s,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});N_.displayName=jf;var E_="SwitchThumb",__=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=TP(E_,n);return l.jsx(he.span,{"data-state":A_(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});__.displayName=E_;var RP="SwitchBubbleInput",C_=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},o)=>{const s=m.useRef(null),i=Re(s,o),c=AP(n),u=S_(t);return m.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const y=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(y)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});C_.displayName=RP;function A_(e){return e?"checked":"unchecked"}var k_=N_,MP=__;const Br=m.forwardRef(({className:e,...t},n)=>l.jsx(k_,{className:K("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:l.jsx(MP,{className:K("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Br.displayName=k_.displayName;function ay({itemId:e,itemType:t,itemName:n,isInBuild:r=!1,className:a,onCheckedChange:o}){const{setRace:s,setStone:i,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:f,addMajorSkill:h,removeMajorSkill:p,removeMinorSkill:y,addEquipment:x,removeEquipment:w,build:g}=Ut(),S=r||(()=>{switch(t){case"race":return g.race===e;case"stone":return g.stone===e;case"religion":return g.religion===e;case"trait":return g.traits.regular.includes(e)||g.traits.bonus.includes(e);case"skill":return g.skills.major.includes(e)||g.skills.minor.includes(e);case"equipment":return g.equipment.includes(e);default:return!1}})(),b=j=>{if(o){o(j);return}switch(t){case"race":s(j?e:null);break;case"stone":i(j?e:null);break;case"religion":c(j?e:null);break;case"trait":j?g.traits.regular.length<2?u(e):g.traits.bonus.length<1&&d(e):f(e);break;case"skill":j?h(e):(p(e),y(e));break;case"equipment":j?x(e):w(e);break}},E=()=>S?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return l.jsx("div",{className:K("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",S?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",a),onClick:j=>{j.stopPropagation(),b(!S)},title:E(),children:l.jsx(Br,{checked:S,onCheckedChange:b,className:K("transition-all duration-200",S?"data-[state=checked]:bg-[#d4af37]":"")})})}const Ci=m.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Ci.displayName="Input";function vo({categories:e,onSelect:t,placeholder:n="Search categories...",className:r=""}){const[a,o]=m.useState(!1),[s,i]=m.useState(null),[c,u]=m.useState(""),[d,f]=m.useState(-1),h=m.useRef(null),p=m.useRef(null),y=e.length===1?e[0]:null;m.useEffect(()=>{const N=C=>{h.current&&!h.current.contains(C.target)&&(o(!1),i(null),f(-1))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const x=s||y?(s||y).options.filter(N=>{var C;return N.label.toLowerCase().includes(c.toLowerCase())||((C=N.description)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))}):e.flatMap(N=>N.options.filter(C=>{var _;return C.label.toLowerCase().includes(c.toLowerCase())||((_=C.description)==null?void 0:_.toLowerCase().includes(c.toLowerCase()))})),w=N=>{u(N),o(!0),f(-1)},g=N=>{var C;i(N),u(""),(C=p.current)==null||C.focus()},v=N=>{t(N),u(""),i(null),o(!1),f(-1)},S=N=>{N.key==="ArrowDown"?(N.preventDefault(),f(C=>Math.min(C+1,x.length-1))):N.key==="ArrowUp"?(N.preventDefault(),f(C=>Math.max(C-1,-1))):N.key==="Enter"?(N.preventDefault(),d>=0&&x[d]&&v(x[d])):N.key==="Escape"&&(o(!1),i(null),f(-1))},b=()=>{o(!0)},E=s||y,j=!y&&!s;return l.jsxs("div",{ref:h,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(z0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Ci,{ref:p,type:"text",placeholder:E?E.placeholder:n,value:c,onChange:N=>w(N.target.value),onFocus:b,onKeyDown:S,className:"pl-10 pr-10"}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:l.jsx(ia,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:Ht.AUTOCOMPLETE+10},children:[j&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(N=>l.jsxs("button",{onClick:()=>g(N),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[l.jsx("span",{children:N.name}),l.jsx(ia,{className:"h-4 w-4"})]},N.id))]}),l.jsx("div",{className:"p-2",children:x.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):x.map((N,C)=>l.jsxs("button",{onClick:()=>v(N),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${C===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[l.jsx("div",{className:"font-medium",children:N.label}),N.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:N.description})]},N.id))})]})]})}function ct({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:K("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function ut({className:e,action:t,children:n,...r}){return l.jsxs("div",{"data-slot":"card-header",className:K("flex flex-row items-start justify-between space-y-0",e),...r,children:[l.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&l.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function vt({className:e,...t}){return l.jsx("div",{"data-slot":"card-title",className:K("text-xl font-bold leading-none",e),...t})}function Ha({className:e,...t}){return l.jsx("div",{"data-slot":"card-description",className:K("text-base text-muted-foreground",e),...t})}function dt({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:K("pt-0",e),...t})}const DP=["top","right","bottom","left"],to=Math.min,fn=Math.max,kd=Math.round,iu=Math.floor,gr=e=>({x:e,y:e}),zP={left:"right",right:"left",bottom:"top",top:"bottom"},OP={start:"end",end:"start"};function Gp(e,t,n){return fn(e,to(t,n))}function ca(e,t){return typeof e=="function"?e(t):e}function ua(e){return e.split("-")[0]}function Ai(e){return e.split("-")[1]}function oy(e){return e==="x"?"y":"x"}function sy(e){return e==="y"?"height":"width"}const $P=new Set(["top","bottom"]);function ur(e){return $P.has(ua(e))?"y":"x"}function iy(e){return oy(ur(e))}function PP(e,t,n){n===void 0&&(n=!1);const r=Ai(e),a=iy(e),o=sy(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=jd(s)),[s,jd(s)]}function LP(e){const t=jd(e);return[Vp(e),t,Vp(t)]}function Vp(e){return e.replace(/start|end/g,t=>OP[t])}const kb=["left","right"],jb=["right","left"],IP=["top","bottom"],BP=["bottom","top"];function HP(e,t,n){switch(e){case"top":case"bottom":return n?t?jb:kb:t?kb:jb;case"left":case"right":return t?IP:BP;default:return[]}}function FP(e,t,n,r){const a=Ai(e);let o=HP(ua(e),n==="start",r);return a&&(o=o.map(s=>s+"-"+a),t&&(o=o.concat(o.map(Vp)))),o}function jd(e){return e.replace(/left|right|bottom|top/g,t=>zP[t])}function UP(e){return{top:0,right:0,bottom:0,left:0,...e}}function j_(e){return typeof e!="number"?UP(e):{top:e,right:e,bottom:e,left:e}}function Td(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function Tb(e,t,n){let{reference:r,floating:a}=e;const o=ur(t),s=iy(t),i=sy(s),c=ua(t),u=o==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[i]/2-a[i]/2;let p;switch(c){case"top":p={x:d,y:r.y-a.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-a.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ai(t)){case"start":p[s]-=h*(n&&u?-1:1);break;case"end":p[s]+=h*(n&&u?-1:1);break}return p}const GP=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,i=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Tb(u,r,c),h=r,p={},y=0;for(let x=0;x<i.length;x++){const{name:w,fn:g}=i[x],{x:v,y:S,data:b,reset:E}=await g({x:d,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=v??d,f=S??f,p={...p,[w]:{...p[w],...b}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:d,y:f}=Tb(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function Fl(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:s,elements:i,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ca(t,e),y=j_(p),w=i[h?f==="floating"?"reference":"floating":f],g=Td(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),b=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Td(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:v,offsetParent:S,strategy:c}):v);return{top:(g.top-E.top+y.top)/b.y,bottom:(E.bottom-g.bottom+y.bottom)/b.y,left:(g.left-E.left+y.left)/b.x,right:(E.right-g.right+y.right)/b.x}}const VP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:s,elements:i,middlewareData:c}=t,{element:u,padding:d=0}=ca(e,t)||{};if(u==null)return{};const f=j_(d),h={x:n,y:r},p=iy(a),y=sy(p),x=await s.getDimensions(u),w=p==="y",g=w?"top":"left",v=w?"bottom":"right",S=w?"clientHeight":"clientWidth",b=o.reference[y]+o.reference[p]-h[p]-o.floating[y],E=h[p]-o.reference[p],j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=j?j[S]:0;(!N||!await(s.isElement==null?void 0:s.isElement(j)))&&(N=i.floating[S]||o.floating[y]);const C=b/2-E/2,_=N/2-x[y]/2-1,A=to(f[g],_),O=to(f[v],_),B=A,R=N-x[y]-O,k=N/2-x[y]/2+C,$=Gp(B,k,R),T=!c.arrow&&Ai(a)!=null&&k!==$&&o.reference[y]/2-(k<B?A:O)-x[y]/2<0,I=T?k<B?k-B:k-R:0;return{[p]:h[p]+I,data:{[p]:$,centerOffset:k-$-I,...T&&{alignmentOffset:I}},reset:T}}}),ZP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:s,initialPlacement:i,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...w}=ca(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=ua(a),v=ur(i),S=ua(i)===i,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(S||!x?[jd(i)]:LP(i)),j=y!=="none";!h&&j&&E.push(...FP(i,x,y,b));const N=[i,...E],C=await Fl(t,w),_=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&_.push(C[g]),f){const k=PP(a,s,b);_.push(C[k[0]],C[k[1]])}if(A=[...A,{placement:a,overflows:_}],!_.every(k=>k<=0)){var O,B;const k=(((O=o.flip)==null?void 0:O.index)||0)+1,$=N[k];if($&&(!(f==="alignment"?v!==ur($):!1)||A.every(D=>D.overflows[0]>0&&ur(D.placement)===v)))return{data:{index:k,overflows:A},reset:{placement:$}};let T=(B=A.filter(I=>I.overflows[0]<=0).sort((I,D)=>I.overflows[1]-D.overflows[1])[0])==null?void 0:B.placement;if(!T)switch(p){case"bestFit":{var R;const I=(R=A.filter(D=>{if(j){const M=ur(D.placement);return M===v||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,L)=>M+L,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:R[0];I&&(T=I);break}case"initialPlacement":T=i;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function Rb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mb(e){return DP.some(t=>e[t]>=0)}const YP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=ca(e,t);switch(r){case"referenceHidden":{const o=await Fl(t,{...a,elementContext:"reference"}),s=Rb(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Mb(s)}}}case"escaped":{const o=await Fl(t,{...a,altBoundary:!0}),s=Rb(o,n.floating);return{data:{escapedOffsets:s,escaped:Mb(s)}}}default:return{}}}}},T_=new Set(["left","top"]);async function qP(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=ua(n),i=Ai(n),c=ur(n)==="y",u=T_.has(s)?-1:1,d=o&&c?-1:1,f=ca(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof y=="number"&&(p=i==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const XP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:s,middlewareData:i}=t,c=await qP(t,e);return s===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:s}}}}},KP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:i={fn:w=>{let{x:g,y:v}=w;return{x:g,y:v}}},...c}=ca(e,t),u={x:n,y:r},d=await Fl(t,c),f=ur(ua(a)),h=oy(f);let p=u[h],y=u[f];if(o){const w=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=p+d[w],S=p-d[g];p=Gp(v,p,S)}if(s){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=y+d[w],S=y-d[g];y=Gp(v,y,S)}const x=i.fn({...t,[h]:p,[f]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:o,[f]:s}}}}}},WP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:s}=t,{offset:i=0,mainAxis:c=!0,crossAxis:u=!0}=ca(e,t),d={x:n,y:r},f=ur(a),h=oy(f);let p=d[h],y=d[f];const x=ca(i,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const S=h==="y"?"height":"width",b=o.reference[h]-o.floating[S]+w.mainAxis,E=o.reference[h]+o.reference[S]-w.mainAxis;p<b?p=b:p>E&&(p=E)}if(u){var g,v;const S=h==="y"?"width":"height",b=T_.has(ua(a)),E=o.reference[f]-o.floating[S]+(b&&((g=s.offset)==null?void 0:g[f])||0)+(b?0:w.crossAxis),j=o.reference[f]+o.reference[S]+(b?0:((v=s.offset)==null?void 0:v[f])||0)-(b?w.crossAxis:0);y<E?y=E:y>j&&(y=j)}return{[h]:p,[f]:y}}}},QP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:s,elements:i}=t,{apply:c=()=>{},...u}=ca(e,t),d=await Fl(t,u),f=ua(a),h=Ai(a),p=ur(a)==="y",{width:y,height:x}=o.floating;let w,g;f==="top"||f==="bottom"?(w=f,g=h===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(g=f,w=h==="end"?"top":"bottom");const v=x-d.top-d.bottom,S=y-d.left-d.right,b=to(x-d[w],v),E=to(y-d[g],S),j=!t.middlewareData.shift;let N=b,C=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=v),j&&!h){const A=fn(d.left,0),O=fn(d.right,0),B=fn(d.top,0),R=fn(d.bottom,0);p?C=y-2*(A!==0||O!==0?A+O:fn(d.left,d.right)):N=x-2*(B!==0||R!==0?B+R:fn(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const _=await s.getDimensions(i.floating);return y!==_.width||x!==_.height?{reset:{rects:!0}}:{}}}};function Tf(){return typeof window<"u"}function ki(e){return R_(e)?(e.nodeName||"").toLowerCase():"#document"}function bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _r(e){var t;return(t=(R_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function R_(e){return Tf()?e instanceof Node||e instanceof bn(e).Node:!1}function Xn(e){return Tf()?e instanceof Element||e instanceof bn(e).Element:!1}function xr(e){return Tf()?e instanceof HTMLElement||e instanceof bn(e).HTMLElement:!1}function Db(e){return!Tf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bn(e).ShadowRoot}const JP=new Set(["inline","contents"]);function Ac(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Kn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!JP.has(a)}const eL=new Set(["table","td","th"]);function tL(e){return eL.has(ki(e))}const nL=[":popover-open",":modal"];function Rf(e){return nL.some(t=>{try{return e.matches(t)}catch{return!1}})}const rL=["transform","translate","scale","rotate","perspective"],aL=["transform","translate","scale","rotate","perspective","filter"],oL=["paint","layout","strict","content"];function ly(e){const t=cy(),n=Xn(e)?Kn(e):e;return rL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||aL.some(r=>(n.willChange||"").includes(r))||oL.some(r=>(n.contain||"").includes(r))}function sL(e){let t=no(e);for(;xr(t)&&!oi(t);){if(ly(t))return t;if(Rf(t))return null;t=no(t)}return null}function cy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iL=new Set(["html","body","#document"]);function oi(e){return iL.has(ki(e))}function Kn(e){return bn(e).getComputedStyle(e)}function Mf(e){return Xn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function no(e){if(ki(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Db(e)&&e.host||_r(e);return Db(t)?t.host:t}function M_(e){const t=no(e);return oi(t)?e.ownerDocument?e.ownerDocument.body:e.body:xr(t)&&Ac(t)?t:M_(t)}function Ul(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=M_(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),s=bn(a);if(o){const i=Zp(s);return t.concat(s,s.visualViewport||[],Ac(a)?a:[],i&&n?Ul(i):[])}return t.concat(a,Ul(a,[],n))}function Zp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function D_(e){const t=Kn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=xr(e),o=a?e.offsetWidth:n,s=a?e.offsetHeight:r,i=kd(n)!==o||kd(r)!==s;return i&&(n=o,r=s),{width:n,height:r,$:i}}function uy(e){return Xn(e)?e:e.contextElement}function Bs(e){const t=uy(e);if(!xr(t))return gr(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=D_(t);let s=(o?kd(n.width):n.width)/r,i=(o?kd(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const lL=gr(0);function z_(e){const t=bn(e);return!cy()||!t.visualViewport?lL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==bn(e)?!1:t}function $o(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=uy(e);let s=gr(1);t&&(r?Xn(r)&&(s=Bs(r)):s=Bs(e));const i=cL(o,n,r)?z_(o):gr(0);let c=(a.left+i.x)/s.x,u=(a.top+i.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(o){const h=bn(o),p=r&&Xn(r)?bn(r):r;let y=h,x=Zp(y);for(;x&&r&&p!==y;){const w=Bs(x),g=x.getBoundingClientRect(),v=Kn(x),S=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*w.x,b=g.top+(x.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=S,u+=b,y=bn(x),x=Zp(y)}}return Td({width:d,height:f,x:c,y:u})}function dy(e,t){const n=Mf(e).scrollLeft;return t?t.left+n:$o(_r(e)).left+n}function O_(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:dy(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function uL(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",s=_r(r),i=t?Rf(t.floating):!1;if(r===s||i&&o)return n;let c={scrollLeft:0,scrollTop:0},u=gr(1);const d=gr(0),f=xr(r);if((f||!f&&!o)&&((ki(r)!=="body"||Ac(s))&&(c=Mf(r)),xr(r))){const p=$o(r);u=Bs(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=s&&!f&&!o?O_(s,c,!0):gr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function dL(e){return Array.from(e.getClientRects())}function fL(e){const t=_r(e),n=Mf(e),r=e.ownerDocument.body,a=fn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=fn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+dy(e);const i=-n.scrollTop;return Kn(r).direction==="rtl"&&(s+=fn(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:s,y:i}}function hL(e,t){const n=bn(e),r=_r(e),a=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,i=0,c=0;if(a){o=a.width,s=a.height;const u=cy();(!u||u&&t==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:o,height:s,x:i,y:c}}const mL=new Set(["absolute","fixed"]);function pL(e,t){const n=$o(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=xr(e)?Bs(e):gr(1),s=e.clientWidth*o.x,i=e.clientHeight*o.y,c=a*o.x,u=r*o.y;return{width:s,height:i,x:c,y:u}}function zb(e,t,n){let r;if(t==="viewport")r=hL(e,n);else if(t==="document")r=fL(_r(e));else if(Xn(t))r=pL(t,n);else{const a=z_(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Td(r)}function $_(e,t){const n=no(e);return n===t||!Xn(n)||oi(n)?!1:Kn(n).position==="fixed"||$_(n,t)}function gL(e,t){const n=t.get(e);if(n)return n;let r=Ul(e,[],!1).filter(i=>Xn(i)&&ki(i)!=="body"),a=null;const o=Kn(e).position==="fixed";let s=o?no(e):e;for(;Xn(s)&&!oi(s);){const i=Kn(s),c=ly(s);!c&&i.position==="fixed"&&(a=null),(o?!c&&!a:!c&&i.position==="static"&&!!a&&mL.has(a.position)||Ac(s)&&!c&&$_(e,s))?r=r.filter(d=>d!==s):a=i,s=no(s)}return t.set(e,r),r}function yL(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?Rf(t)?[]:gL(t,this._c):[].concat(n),r],i=s[0],c=s.reduce((u,d)=>{const f=zb(t,d,a);return u.top=fn(f.top,u.top),u.right=to(f.right,u.right),u.bottom=to(f.bottom,u.bottom),u.left=fn(f.left,u.left),u},zb(t,i,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function vL(e){const{width:t,height:n}=D_(e);return{width:t,height:n}}function xL(e,t,n){const r=xr(t),a=_r(t),o=n==="fixed",s=$o(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const c=gr(0);function u(){c.x=dy(a)}if(r||!r&&!o)if((ki(t)!=="body"||Ac(a))&&(i=Mf(t)),r){const p=$o(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();o&&!r&&a&&u();const d=a&&!r&&!o?O_(a,i):gr(0),f=s.left+i.scrollLeft-c.x-d.x,h=s.top+i.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function om(e){return Kn(e).position==="static"}function Ob(e,t){if(!xr(e)||Kn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _r(e)===n&&(n=n.ownerDocument.body),n}function P_(e,t){const n=bn(e);if(Rf(e))return n;if(!xr(e)){let a=no(e);for(;a&&!oi(a);){if(Xn(a)&&!om(a))return a;a=no(a)}return n}let r=Ob(e,t);for(;r&&tL(r)&&om(r);)r=Ob(r,t);return r&&oi(r)&&om(r)&&!ly(r)?n:r||sL(e)||n}const bL=async function(e){const t=this.getOffsetParent||P_,n=this.getDimensions,r=await n(e.floating);return{reference:xL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wL(e){return Kn(e).direction==="rtl"}const SL={convertOffsetParentRelativeRectToViewportRelativeRect:uL,getDocumentElement:_r,getClippingRect:yL,getOffsetParent:P_,getElementRects:bL,getClientRects:dL,getDimensions:vL,getScale:Bs,isElement:Xn,isRTL:wL};function L_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NL(e,t){let n=null,r;const a=_r(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function s(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(i||t(),!h||!p)return;const y=iu(f),x=iu(a.clientWidth-(d+h)),w=iu(a.clientHeight-(f+p)),g=iu(d),S={rootMargin:-y+"px "+-x+"px "+-w+"px "+-g+"px",threshold:fn(0,to(1,c))||1};let b=!0;function E(j){const N=j[0].intersectionRatio;if(N!==c){if(!b)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!L_(u,e.getBoundingClientRect())&&s(),b=!1}try{n=new IntersectionObserver(E,{...S,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return s(!0),o}function EL(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=uy(e),d=a||o?[...u?Ul(u):[],...Ul(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const f=u&&i?NL(u,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let y,x=c?$o(e):null;c&&w();function w(){const g=$o(e);x&&!L_(x,g)&&n(),x=g,y=requestAnimationFrame(w)}return n(),()=>{var g;d.forEach(v=>{a&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const _L=XP,CL=KP,AL=ZP,kL=QP,jL=YP,$b=VP,TL=WP,RL=(e,t,n)=>{const r=new Map,a={platform:SL,...n},o={...a.platform,_c:r};return GP(e,t,{...a,platform:o})};var ML=typeof document<"u",DL=function(){},Uu=ML?m.useLayoutEffect:DL;function Rd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Rd(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Rd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function I_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Pb(e,t){const n=I_(e);return Math.round(t*n)/n}function sm(e){const t=m.useRef(e);return Uu(()=>{t.current=e}),t}function zL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:s}={},transform:i=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);Rd(h,r)||p(r);const[y,x]=m.useState(null),[w,g]=m.useState(null),v=m.useCallback(D=>{D!==j.current&&(j.current=D,x(D))},[]),S=m.useCallback(D=>{D!==N.current&&(N.current=D,g(D))},[]),b=o||y,E=s||w,j=m.useRef(null),N=m.useRef(null),C=m.useRef(d),_=c!=null,A=sm(c),O=sm(a),B=sm(u),R=m.useCallback(()=>{if(!j.current||!N.current)return;const D={placement:t,strategy:n,middleware:h};O.current&&(D.platform=O.current),RL(j.current,N.current,D).then(M=>{const L={...M,isPositioned:B.current!==!1};k.current&&!Rd(C.current,L)&&(C.current=L,rf.flushSync(()=>{f(L)}))})},[h,t,n,O,B]);Uu(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const k=m.useRef(!1);Uu(()=>(k.current=!0,()=>{k.current=!1}),[]),Uu(()=>{if(b&&(j.current=b),E&&(N.current=E),b&&E){if(A.current)return A.current(b,E,R);R()}},[b,E,R,A,_]);const $=m.useMemo(()=>({reference:j,floating:N,setReference:v,setFloating:S}),[v,S]),T=m.useMemo(()=>({reference:b,floating:E}),[b,E]),I=m.useMemo(()=>{const D={position:n,left:0,top:0};if(!T.floating)return D;const M=Pb(T.floating,d.x),L=Pb(T.floating,d.y);return i?{...D,transform:"translate("+M+"px, "+L+"px)",...I_(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:L}},[n,i,T.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:R,refs:$,elements:T,floatingStyles:I}),[d,R,$,T,I])}const OL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$b({element:r.current,padding:a}).fn(n):{}:r?$b({element:r,padding:a}).fn(n):{}}}},$L=(e,t)=>({..._L(e),options:[e,t]}),PL=(e,t)=>({...CL(e),options:[e,t]}),LL=(e,t)=>({...TL(e),options:[e,t]}),IL=(e,t)=>({...AL(e),options:[e,t]}),BL=(e,t)=>({...kL(e),options:[e,t]}),HL=(e,t)=>({...jL(e),options:[e,t]}),FL=(e,t)=>({...OL(e),options:[e,t]});var UL="Arrow",B_=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return l.jsx(he.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});B_.displayName=UL;var GL=B_,fy="Popper",[H_,ji]=nn(fy),[VL,F_]=H_(fy),U_=e=>{const{__scopePopper:t,children:n}=e,[r,a]=m.useState(null);return l.jsx(VL,{scope:t,anchor:r,onAnchorChange:a,children:n})};U_.displayName=fy;var G_="PopperAnchor",V_=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=F_(G_,n),s=m.useRef(null),i=Re(t,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:l.jsx(he.div,{...a,ref:i})});V_.displayName=G_;var hy="PopperContent",[ZL,YL]=H_(hy),Z_=m.forwardRef((e,t)=>{var G,Y,W,Q,me,pe;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...x}=e,w=F_(hy,n),[g,v]=m.useState(null),S=Re(t,fe=>v(fe)),[b,E]=m.useState(null),j=S_(b),N=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,_=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],B=O.length>0,R={padding:A,boundary:O.filter(XL),altBoundary:B},{refs:k,floatingStyles:$,placement:T,isPositioned:I,middlewareData:D}=zL({strategy:"fixed",placement:_,whileElementsMounted:(...fe)=>EL(...fe,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[$L({mainAxis:a+C,alignmentAxis:s}),c&&PL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?LL():void 0,...R}),c&&IL({...R}),BL({...R,apply:({elements:fe,rects:ee,availableWidth:je,availableHeight:ot})=>{const{width:Ne,height:J}=ee.reference,Ze=fe.floating.style;Ze.setProperty("--radix-popper-available-width",`${je}px`),Ze.setProperty("--radix-popper-available-height",`${ot}px`),Ze.setProperty("--radix-popper-anchor-width",`${Ne}px`),Ze.setProperty("--radix-popper-anchor-height",`${J}px`)}}),b&&FL({element:b,padding:i}),KL({arrowWidth:N,arrowHeight:C}),h&&HL({strategy:"referenceHidden",...R})]}),[M,L]=X_(T),F=Dt(y);vr(()=>{I&&(F==null||F())},[I,F]);const V=(G=D.arrow)==null?void 0:G.x,U=(Y=D.arrow)==null?void 0:Y.y,z=((W=D.arrow)==null?void 0:W.centerOffset)!==0,[H,Z]=m.useState();return vr(()=>{g&&Z(window.getComputedStyle(g).zIndex)},[g]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:I?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(Q=D.transformOrigin)==null?void 0:Q.x,(me=D.transformOrigin)==null?void 0:me.y].join(" "),...((pe=D.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(ZL,{scope:n,placedSide:M,onArrowChange:E,arrowX:V,arrowY:U,shouldHideArrow:z,children:l.jsx(he.div,{"data-side":M,"data-align":L,...x,ref:S,style:{...x.style,animation:I?void 0:"none"}})})})});Z_.displayName=hy;var Y_="PopperArrow",qL={top:"bottom",right:"left",bottom:"top",left:"right"},q_=m.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=YL(Y_,r),s=qL[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(GL,{...a,ref:n,style:{...a.style,display:"block"}})})});q_.displayName=Y_;function XL(e){return e!==null}var KL=e=>({name:"transformOrigin",options:e,fn(t){var w,g,v;const{placement:n,rects:r,middlewareData:a}=t,s=((w=a.arrow)==null?void 0:w.centerOffset)!==0,i=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=X_(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=a.arrow)==null?void 0:g.x)??0)+i/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=s?f:`${h}px`,x=`${-c}px`):u==="top"?(y=s?f:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=s?f:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,x=s?f:`${p}px`),{data:{x:y,y:x}}}});function X_(e){const[t,n="center"]=e.split("-");return[t,n]}var K_=U_,my=V_,py=Z_,gy=q_,Yp=["Enter"," "],WL=["ArrowDown","PageUp","Home"],W_=["ArrowUp","PageDown","End"],QL=[...WL,...W_],JL={ltr:[...Yp,"ArrowRight"],rtl:[...Yp,"ArrowLeft"]},e6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},kc="Menu",[Gl,t6,n6]=Q0(kc),[qo,Q_]=nn(kc,[n6,ji,_i]),Df=ji(),J_=_i(),[r6,Xo]=qo(kc),[a6,jc]=qo(kc),eC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:s=!0}=e,i=Df(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Dt(o),h=Ei(a);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(K_,{...i,children:l.jsx(r6,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(a6,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:r})})})};eC.displayName=kc;var o6="MenuAnchor",yy=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Df(n);return l.jsx(my,{...a,...r,ref:t})});yy.displayName=o6;var vy="MenuPortal",[s6,tC]=qo(vy,{forceMount:void 0}),nC=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=Xo(vy,t);return l.jsx(s6,{scope:t,forceMount:n,children:l.jsx($t,{present:n||o.open,children:l.jsx(U0,{asChild:!0,container:a,children:r})})})};nC.displayName=vy;var Dn="MenuContent",[i6,xy]=qo(Dn),rC=m.forwardRef((e,t)=>{const n=tC(Dn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Xo(Dn,e.__scopeMenu),s=jc(Dn,e.__scopeMenu);return l.jsx(Gl.Provider,{scope:e.__scopeMenu,children:l.jsx($t,{present:r||o.open,children:l.jsx(Gl.Slot,{scope:e.__scopeMenu,children:s.modal?l.jsx(l6,{...a,ref:t}):l.jsx(c6,{...a,ref:t})})})})}),l6=m.forwardRef((e,t)=>{const n=Xo(Dn,e.__scopeMenu),r=m.useRef(null),a=Re(t,r);return m.useEffect(()=>{const o=r.current;if(o)return k2(o)},[]),l.jsx(by,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),c6=m.forwardRef((e,t)=>{const n=Xo(Dn,e.__scopeMenu);return l.jsx(by,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),u6=ai("MenuContent.ScrollLock"),by=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...x}=e,w=Xo(Dn,n),g=jc(Dn,n),v=Df(n),S=J_(n),b=t6(n),[E,j]=m.useState(null),N=m.useRef(null),C=Re(t,N,w.onContentChange),_=m.useRef(0),A=m.useRef(""),O=m.useRef(0),B=m.useRef(null),R=m.useRef("right"),k=m.useRef(0),$=y?G0:m.Fragment,T=y?{as:u6,allowPinchZoom:!0}:void 0,I=M=>{var G,Y;const L=A.current+M,F=b().filter(W=>!W.disabled),V=document.activeElement,U=(G=F.find(W=>W.ref.current===V))==null?void 0:G.textValue,z=F.map(W=>W.textValue),H=S6(z,L,U),Z=(Y=F.find(W=>W.textValue===H))==null?void 0:Y.ref.current;(function W(Q){A.current=Q,window.clearTimeout(_.current),Q!==""&&(_.current=window.setTimeout(()=>W(""),1e3))})(L),Z&&setTimeout(()=>Z.focus())};m.useEffect(()=>()=>window.clearTimeout(_.current),[]),x2();const D=m.useCallback(M=>{var F,V;return R.current===((F=B.current)==null?void 0:F.side)&&E6(M,(V=B.current)==null?void 0:V.area)},[]);return l.jsx(i6,{scope:n,searchRef:A,onItemEnter:m.useCallback(M=>{D(M)&&M.preventDefault()},[D]),onItemLeave:m.useCallback(M=>{var L;D(M)||((L=N.current)==null||L.focus(),j(null))},[D]),onTriggerLeave:m.useCallback(M=>{D(M)&&M.preventDefault()},[D]),pointerGraceTimerRef:O,onPointerGraceIntentChange:m.useCallback(M=>{B.current=M},[]),children:l.jsx($,{...T,children:l.jsx(F0,{asChild:!0,trapped:a,onMountAutoFocus:te(o,M=>{var L;M.preventDefault(),(L=N.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l.jsx(Nc,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:l.jsx(J0,{asChild:!0,...S,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:j,onEntryFocus:te(c,M=>{g.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(py,{role:"menu","aria-orientation":"vertical","data-state":xC(w.open),"data-radix-menu-content":"",dir:g.dir,...v,...x,ref:C,style:{outline:"none",...x.style},onKeyDown:te(x.onKeyDown,M=>{const F=M.target.closest("[data-radix-menu-content]")===M.currentTarget,V=M.ctrlKey||M.altKey||M.metaKey,U=M.key.length===1;F&&(M.key==="Tab"&&M.preventDefault(),!V&&U&&I(M.key));const z=N.current;if(M.target!==z||!QL.includes(M.key))return;M.preventDefault();const Z=b().filter(G=>!G.disabled).map(G=>G.ref.current);W_.includes(M.key)&&Z.reverse(),b6(Z)}),onBlur:te(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(_.current),A.current="")}),onPointerMove:te(e.onPointerMove,Vl(M=>{const L=M.target,F=k.current!==M.clientX;if(M.currentTarget.contains(L)&&F){const V=M.clientX>k.current?"right":"left";R.current=V,k.current=M.clientX}}))})})})})})})});rC.displayName=Dn;var d6="MenuGroup",wy=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(he.div,{role:"group",...r,ref:t})});wy.displayName=d6;var f6="MenuLabel",aC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(he.div,{...r,ref:t})});aC.displayName=f6;var Md="MenuItem",Lb="menu.itemSelect",zf=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,o=m.useRef(null),s=jc(Md,e.__scopeMenu),i=xy(Md,e.__scopeMenu),c=Re(t,o),u=m.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const h=new CustomEvent(Lb,{bubbles:!0,cancelable:!0});f.addEventListener(Lb,p=>r==null?void 0:r(p),{once:!0}),p2(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return l.jsx(oC,{...a,ref:c,disabled:n,onClick:te(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:te(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:te(e.onKeyDown,f=>{const h=i.searchRef.current!=="";n||h&&f.key===" "||Yp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});zf.displayName=Md;var oC=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=e,s=xy(Md,n),i=J_(n),c=m.useRef(null),u=Re(t,c),[d,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[o.children]),l.jsx(Gl.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:l.jsx(ey,{asChild:!0,...i,focusable:!r,children:l.jsx(he.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:te(e.onPointerMove,Vl(y=>{r?s.onItemLeave(y):(s.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,Vl(y=>s.onItemLeave(y))),onFocus:te(e.onFocus,()=>f(!0)),onBlur:te(e.onBlur,()=>f(!1))})})})}),h6="MenuCheckboxItem",sC=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return l.jsx(dC,{scope:e.__scopeMenu,checked:n,children:l.jsx(zf,{role:"menuitemcheckbox","aria-checked":Dd(n)?"mixed":n,...a,ref:t,"data-state":Ny(n),onSelect:te(a.onSelect,()=>r==null?void 0:r(Dd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});sC.displayName=h6;var iC="MenuRadioGroup",[m6,p6]=qo(iC,{value:void 0,onValueChange:()=>{}}),lC=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,o=Dt(r);return l.jsx(m6,{scope:e.__scopeMenu,value:n,onValueChange:o,children:l.jsx(wy,{...a,ref:t})})});lC.displayName=iC;var cC="MenuRadioItem",uC=m.forwardRef((e,t)=>{const{value:n,...r}=e,a=p6(cC,e.__scopeMenu),o=n===a.value;return l.jsx(dC,{scope:e.__scopeMenu,checked:o,children:l.jsx(zf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Ny(o),onSelect:te(r.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,n)},{checkForDefaultPrevented:!1})})})});uC.displayName=cC;var Sy="MenuItemIndicator",[dC,g6]=qo(Sy,{checked:!1}),fC=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,o=g6(Sy,n);return l.jsx($t,{present:r||Dd(o.checked)||o.checked===!0,children:l.jsx(he.span,{...a,ref:t,"data-state":Ny(o.checked)})})});fC.displayName=Sy;var y6="MenuSeparator",hC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});hC.displayName=y6;var v6="MenuArrow",mC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Df(n);return l.jsx(gy,{...a,...r,ref:t})});mC.displayName=v6;var x6="MenuSub",[PW,pC]=qo(x6),Ji="MenuSubTrigger",gC=m.forwardRef((e,t)=>{const n=Xo(Ji,e.__scopeMenu),r=jc(Ji,e.__scopeMenu),a=pC(Ji,e.__scopeMenu),o=xy(Ji,e.__scopeMenu),s=m.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),c(null)}},[i,c]),l.jsx(yy,{asChild:!0,...u,children:l.jsx(oC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":xC(n.open),...e,ref:_f(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,Vl(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:te(e.onPointerLeave,Vl(f=>{var p,y;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const x=(y=n.content)==null?void 0:y.dataset.side,w=x==="right",g=w?-5:5,v=h[w?"left":"right"],S=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:v,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x:v,y:h.bottom}],side:x}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,f=>{var p;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||JL[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});gC.displayName=Ji;var yC="MenuSubContent",vC=m.forwardRef((e,t)=>{const n=tC(Dn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Xo(Dn,e.__scopeMenu),s=jc(Dn,e.__scopeMenu),i=pC(yC,e.__scopeMenu),c=m.useRef(null),u=Re(t,c);return l.jsx(Gl.Provider,{scope:e.__scopeMenu,children:l.jsx($t,{present:r||o.open,children:l.jsx(Gl.Slot,{scope:e.__scopeMenu,children:l.jsx(by,{id:i.contentId,"aria-labelledby":i.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:te(e.onFocusOutside,d=>{d.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:te(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=e6[s.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(p=i.trigger)==null||p.focus(),d.preventDefault())})})})})})});vC.displayName=yC;function xC(e){return e?"open":"closed"}function Dd(e){return e==="indeterminate"}function Ny(e){return Dd(e)?"indeterminate":e?"checked":"unchecked"}function b6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function w6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function S6(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=w6(e,Math.max(o,0));a.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function N6(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],c=t[s],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function E6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return N6(n,t)}function Vl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _6=eC,C6=yy,A6=nC,k6=rC,j6=wy,T6=aC,R6=zf,M6=sC,D6=lC,z6=uC,O6=fC,$6=hC,P6=mC,L6=gC,I6=vC,Of="DropdownMenu",[B6,LW]=nn(Of,[Q_]),Gt=Q_(),[H6,bC]=B6(Of),wC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,c=Gt(t),u=m.useRef(null),[d,f]=Pn({prop:a,defaultProp:o??!1,onChange:s,caller:Of});return l.jsx(H6,{scope:t,triggerId:Jr(),triggerRef:u,contentId:Jr(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:i,children:l.jsx(_6,{...c,open:d,onOpenChange:f,dir:r,modal:i,children:n})})};wC.displayName=Of;var SC="DropdownMenuTrigger",NC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,o=bC(SC,n),s=Gt(n);return l.jsx(C6,{asChild:!0,...s,children:l.jsx(he.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:_f(t,o.triggerRef),onPointerDown:te(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:te(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});NC.displayName=SC;var F6="DropdownMenuPortal",EC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Gt(t);return l.jsx(A6,{...r,...n})};EC.displayName=F6;var _C="DropdownMenuContent",CC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=bC(_C,n),o=Gt(n),s=m.useRef(!1);return l.jsx(k6,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,i=>{var c;s.current||(c=a.triggerRef.current)==null||c.focus(),s.current=!1,i.preventDefault()}),onInteractOutside:te(e.onInteractOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CC.displayName=_C;var U6="DropdownMenuGroup",G6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(j6,{...a,...r,ref:t})});G6.displayName=U6;var V6="DropdownMenuLabel",AC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(T6,{...a,...r,ref:t})});AC.displayName=V6;var Z6="DropdownMenuItem",kC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(R6,{...a,...r,ref:t})});kC.displayName=Z6;var Y6="DropdownMenuCheckboxItem",jC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(M6,{...a,...r,ref:t})});jC.displayName=Y6;var q6="DropdownMenuRadioGroup",X6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(D6,{...a,...r,ref:t})});X6.displayName=q6;var K6="DropdownMenuRadioItem",TC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(z6,{...a,...r,ref:t})});TC.displayName=K6;var W6="DropdownMenuItemIndicator",RC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(O6,{...a,...r,ref:t})});RC.displayName=W6;var Q6="DropdownMenuSeparator",MC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx($6,{...a,...r,ref:t})});MC.displayName=Q6;var J6="DropdownMenuArrow",e8=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(P6,{...a,...r,ref:t})});e8.displayName=J6;var t8="DropdownMenuSubTrigger",DC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(L6,{...a,...r,ref:t})});DC.displayName=t8;var n8="DropdownMenuSubContent",zC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gt(n);return l.jsx(I6,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zC.displayName=n8;var r8=wC,a8=NC,o8=EC,OC=CC,$C=AC,PC=kC,LC=jC,IC=TC,BC=RC,HC=MC,FC=DC,UC=zC;const Ey=r8,_y=a8,s8=m.forwardRef(({className:e,inset:t,children:n,...r},a)=>l.jsxs(FC,{ref:a,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(bf,{className:"ml-auto h-4 w-4"})]}));s8.displayName=FC.displayName;const i8=m.forwardRef(({className:e,...t},n)=>l.jsx(UC,{ref:n,className:K("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Ht.DROPDOWN},...t}));i8.displayName=UC.displayName;const $f=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(o8,{children:l.jsx(OC,{ref:r,sideOffset:t,className:K("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Ht.DROPDOWN},...n})}));$f.displayName=OC.displayName;const ta=m.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(PC,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ta.displayName=PC.displayName;const l8=m.forwardRef(({className:e,children:t,checked:n,...r},a)=>l.jsxs(LC,{ref:a,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(BC,{children:l.jsx(DE,{className:"h-4 w-4"})})}),t]}));l8.displayName=LC.displayName;const c8=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(IC,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(BC,{children:l.jsx(D0,{className:"h-2 w-2 fill-current"})})}),t]}));c8.displayName=IC.displayName;const u8=m.forwardRef(({className:e,inset:t,...n},r)=>l.jsx($C,{ref:r,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));u8.displayName=$C.displayName;const d8=m.forwardRef(({className:e,...t},n)=>l.jsx(HC,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));d8.displayName=HC.displayName;function f8(e,[t,n]){return Math.min(n,Math.max(t,e))}function h8(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Cy="ScrollArea",[GC,IW]=nn(Cy),[m8,Ln]=GC(Cy),VC=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...s}=e,[i,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,y]=m.useState(null),[x,w]=m.useState(null),[g,v]=m.useState(0),[S,b]=m.useState(0),[E,j]=m.useState(!1),[N,C]=m.useState(!1),_=Re(t,O=>c(O)),A=Ei(a);return l.jsx(m8,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:i,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:j,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:b,children:l.jsx(he.div,{dir:A,...s,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});VC.displayName=Cy;var ZC="ScrollAreaViewport",YC=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...o}=e,s=Ln(ZC,n),i=m.useRef(null),c=Re(t,i,s.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(he.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});YC.displayName=ZC;var Cr="ScrollAreaScrollbar",Ay=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ln(Cr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=a,i=e.orientation==="horizontal";return m.useEffect(()=>(i?o(!0):s(!0),()=>{i?o(!1):s(!1)}),[i,o,s]),a.type==="hover"?l.jsx(p8,{...r,ref:t,forceMount:n}):a.type==="scroll"?l.jsx(g8,{...r,ref:t,forceMount:n}):a.type==="auto"?l.jsx(qC,{...r,ref:t,forceMount:n}):a.type==="always"?l.jsx(ky,{...r,ref:t}):null});Ay.displayName=Cr;var p8=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ln(Cr,e.__scopeScrollArea),[o,s]=m.useState(!1);return m.useEffect(()=>{const i=a.scrollArea;let c=0;if(i){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),l.jsx($t,{present:n||o,children:l.jsx(qC,{"data-state":o?"visible":"hidden",...r,ref:t})})}),g8=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ln(Cr,e.__scopeScrollArea),o=e.orientation==="horizontal",s=Lf(()=>c("SCROLL_END"),100),[i,c]=h8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,a.scrollHideDelay,c]),m.useEffect(()=>{const u=a.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),s()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,o,c,s]),l.jsx($t,{present:n||i!=="hidden",children:l.jsx(ky,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:te(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),qC=m.forwardRef((e,t)=>{const n=Ln(Cr,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,s]=m.useState(!1),i=e.orientation==="horizontal",c=Lf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(i?u:d)}},10);return si(n.viewport,c),si(n.content,c),l.jsx($t,{present:r||o,children:l.jsx(ky,{"data-state":o?"visible":"hidden",...a,ref:t})})}),ky=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Ln(Cr,e.__scopeScrollArea),o=m.useRef(null),s=m.useRef(0),[i,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=JC(i.viewport,i.content),d={...r,sizes:i,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return S8(h,s.current,i,p)}return n==="horizontal"?l.jsx(y8,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,p=Ib(h,i,a.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):n==="vertical"?l.jsx(v8,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,p=Ib(h,i);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),y8=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Ln(Cr,e.__scopeScrollArea),[s,i]=m.useState(),c=m.useRef(null),u=Re(t,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(KC,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Pf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),tA(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Od(s.paddingLeft),paddingEnd:Od(s.paddingRight)}})}})}),v8=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Ln(Cr,e.__scopeScrollArea),[s,i]=m.useState(),c=m.useRef(null),u=Re(t,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(KC,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Pf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),tA(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Od(s.paddingTop),paddingEnd:Od(s.paddingBottom)}})}})}),[x8,XC]=GC(Cr),KC=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Ln(Cr,n),[y,x]=m.useState(null),w=Re(t,_=>x(_)),g=m.useRef(null),v=m.useRef(""),S=p.viewport,b=r.content-r.viewport,E=Dt(d),j=Dt(c),N=Lf(f,10);function C(_){if(g.current){const A=_.clientX-g.current.left,O=_.clientY-g.current.top;u({x:A,y:O})}}return m.useEffect(()=>{const _=A=>{const O=A.target;(y==null?void 0:y.contains(O))&&E(A,b)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[S,y,b,E]),m.useEffect(j,[r,j]),si(y,N),si(p.content,N),l.jsx(x8,{scope:n,scrollbar:y,hasThumb:a,onThumbChange:Dt(o),onThumbPointerUp:Dt(s),onThumbPositionChange:j,onThumbPointerDown:Dt(i),children:l.jsx(he.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:te(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),g.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(_))}),onPointerMove:te(e.onPointerMove,C),onPointerUp:te(e.onPointerUp,_=>{const A=_.target;A.hasPointerCapture(_.pointerId)&&A.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),zd="ScrollAreaThumb",WC=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=XC(zd,e.__scopeScrollArea);return l.jsx($t,{present:n||a.hasThumb,children:l.jsx(b8,{ref:t,...r})})}),b8=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=Ln(zd,n),s=XC(zd,n),{onThumbPositionChange:i}=s,c=Re(t,f=>s.onThumbChange(f)),u=m.useRef(void 0),d=Lf(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const p=N8(f,i);u.current=p,i()}};return i(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,i]),l.jsx(he.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:te(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,x=f.clientY-p.top;s.onThumbPointerDown({x:y,y:x})}),onPointerUp:te(e.onPointerUp,s.onThumbPointerUp)})});WC.displayName=zd;var jy="ScrollAreaCorner",QC=m.forwardRef((e,t)=>{const n=Ln(jy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(w8,{...e,ref:t}):null});QC.displayName=jy;var w8=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Ln(jy,n),[o,s]=m.useState(0),[i,c]=m.useState(0),u=!!(o&&i);return si(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),si(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?l.jsx(he.div,{...r,ref:t,style:{width:o,height:i,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Od(e){return e?parseInt(e,10):0}function JC(e,t){const n=e/t;return isNaN(n)?0:n}function Pf(e){const t=JC(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function S8(e,t,n,r="ltr"){const a=Pf(n),o=a/2,s=t||o,i=a-s,c=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-i,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return eA([c,u],f)(e)}function Ib(e,t,n="ltr"){const r=Pf(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,s=t.content-t.viewport,i=o-r,c=n==="ltr"?[0,s]:[s*-1,0],u=f8(e,c);return eA([0,s],[0,i])(u)}function eA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function tA(e,t){return e>0&&e<t}var N8=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,i=n.top!==o.top;(s||i)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Lf(e,t){const n=Dt(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function si(e,t){const n=Dt(t);vr(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var nA=VC,E8=YC,_8=QC;const Zl=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(nA,{ref:r,className:K("relative overflow-hidden",e),...n,children:[l.jsx(E8,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(rA,{}),l.jsx(_8,{})]}));Zl.displayName=nA.displayName;const rA=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Ay,{ref:r,orientation:t,className:K("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(WC,{className:"relative flex-1 rounded-full bg-border"})}));rA.displayName=Ay.displayName;function C8({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=m.useState(!1),[i,c]=m.useState(null),[u,d]=m.useState(""),[f,h]=m.useState(-1),p=m.useRef(null),y=m.useRef(null),x=e.length===1?e[0]:null;m.useEffect(()=>{const A=O=>{p.current&&!p.current.contains(O.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const w=i||x?(i||x).options.filter(A=>{var O;return A.label.toLowerCase().includes(u.toLowerCase())||((O=A.description)==null?void 0:O.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(A=>A.options.filter(O=>{var B;return O.label.toLowerCase().includes(u.toLowerCase())||((B=O.description)==null?void 0:B.toLowerCase().includes(u.toLowerCase()))})),g=A=>{d(A),s(!0),h(-1)},v=A=>{var O;c(A),d(""),(O=y.current)==null||O.focus()},S=A=>{t(A),d(""),c(null),s(!1),h(-1)},b=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},E=A=>{A.key==="ArrowDown"?(A.preventDefault(),h(O=>Math.min(O+1,w.length-1))):A.key==="ArrowUp"?(A.preventDefault(),h(O=>Math.max(O-1,-1))):A.key==="Enter"?(A.preventDefault(),f>=0&&w[f]?S(w[f]):u.trim()&&b()):A.key==="Escape"&&(s(!1),c(null),h(-1))},j=()=>{s(!0)},N=i||x,C=!x&&!i,_=u.trim()&&!w.some(A=>A.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:p,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(z0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Ci,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:A=>g(A.target.value),onFocus:j,onKeyDown:E,className:"pl-10 pr-20"}),_&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:b,title:"Add custom search term",children:l.jsx(zp,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(ia,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:Ht.AUTOCOMPLETE},children:[C&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(A=>l.jsxs("button",{onClick:()=>v(A),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:A.name}),l.jsx(ia,{className:"h-4 w-4"})]},A.id))]}),_&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:b,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(zp,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!_?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((A,O)=>l.jsxs("button",{onClick:()=>S(A),className:`w-full text-left px-2 py-2 rounded text-sm ${O===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:A.label}),A.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:A.description})]},A.id))})]})]})}function If({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"||s.id==="keywords"),o=e.filter(s=>s.id!=="fuzzy-search"&&s.id!=="keywords");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(C8,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(vo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function Ty({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},o={sm:"gap-3",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:K("grid",a[t],o[n],r),children:e})}function A8({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},o={sm:"gap-2",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:K("grid",a[t],o[n],r),children:e})}var Bf="Collapsible",[k8,aA]=nn(Bf),[j8,Ry]=k8(Bf),oA=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:s,...i}=e,[c,u]=Pn({prop:r,defaultProp:a??!1,onChange:s,caller:Bf});return l.jsx(j8,{scope:n,disabled:o,contentId:Jr(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:l.jsx(he.div,{"data-state":Dy(c),"data-disabled":o?"":void 0,...i,ref:t})})});oA.displayName=Bf;var sA="CollapsibleTrigger",iA=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=Ry(sA,n);return l.jsx(he.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Dy(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:te(e.onClick,a.onOpenToggle)})});iA.displayName=sA;var My="CollapsibleContent",lA=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ry(My,e.__scopeCollapsible);return l.jsx($t,{present:n||a.open,children:({present:o})=>l.jsx(T8,{...r,ref:t,present:o})})});lA.displayName=My;var T8=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,s=Ry(My,n),[i,c]=m.useState(r),u=m.useRef(null),d=Re(t,u),f=m.useRef(0),h=f.current,p=m.useRef(0),y=p.current,x=s.open||i,w=m.useRef(x),g=m.useRef(void 0);return m.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),vr(()=>{const v=u.current;if(v){g.current=g.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const S=v.getBoundingClientRect();f.current=S.height,p.current=S.width,w.current||(v.style.transitionDuration=g.current.transitionDuration,v.style.animationName=g.current.animationName),c(r)}},[s.open,r]),l.jsx(he.div,{"data-state":Dy(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!x,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:x&&a})});function Dy(e){return e?"open":"closed"}var R8=oA,M8=iA,D8=lA,Jn="Accordion",z8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[zy,O8,$8]=Q0(Jn),[Hf,BW]=nn(Jn,[$8,aA]),Oy=aA(),cA=P.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,o=r;return l.jsx(zy.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?l.jsx(B8,{...o,ref:t}):l.jsx(I8,{...a,ref:t})})});cA.displayName=Jn;var[uA,P8]=Hf(Jn),[dA,L8]=Hf(Jn,{collapsible:!1}),I8=P.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:o=!1,...s}=e,[i,c]=Pn({prop:n,defaultProp:r??"",onChange:a,caller:Jn});return l.jsx(uA,{scope:e.__scopeAccordion,value:P.useMemo(()=>i?[i]:[],[i]),onItemOpen:c,onItemClose:P.useCallback(()=>o&&c(""),[o,c]),children:l.jsx(dA,{scope:e.__scopeAccordion,collapsible:o,children:l.jsx(fA,{...s,ref:t})})})}),B8=P.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=Pn({prop:n,defaultProp:r??[],onChange:a,caller:Jn}),c=P.useCallback(d=>i((f=[])=>[...f,d]),[i]),u=P.useCallback(d=>i((f=[])=>f.filter(h=>h!==d)),[i]);return l.jsx(uA,{scope:e.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:l.jsx(dA,{scope:e.__scopeAccordion,collapsible:!0,children:l.jsx(fA,{...o,ref:t})})})}),[H8,Ff]=Hf(Jn),fA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:o="vertical",...s}=e,i=P.useRef(null),c=Re(i,t),u=O8(n),f=Ei(a)==="ltr",h=te(e.onKeyDown,p=>{var C;if(!z8.includes(p.key))return;const y=p.target,x=u().filter(_=>{var A;return!((A=_.ref.current)!=null&&A.disabled)}),w=x.findIndex(_=>_.ref.current===y),g=x.length;if(w===-1)return;p.preventDefault();let v=w;const S=0,b=g-1,E=()=>{v=w+1,v>b&&(v=S)},j=()=>{v=w-1,v<S&&(v=b)};switch(p.key){case"Home":v=S;break;case"End":v=b;break;case"ArrowRight":o==="horizontal"&&(f?E():j());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?j():E());break;case"ArrowUp":o==="vertical"&&j();break}const N=v%g;(C=x[N].ref.current)==null||C.focus()});return l.jsx(H8,{scope:n,disabled:r,direction:a,orientation:o,children:l.jsx(zy.Slot,{scope:n,children:l.jsx(he.div,{...s,"data-orientation":o,ref:c,onKeyDown:r?void 0:h})})})}),$d="AccordionItem",[F8,$y]=Hf($d),hA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,o=Ff($d,n),s=P8($d,n),i=Oy(n),c=Jr(),u=r&&s.value.includes(r)||!1,d=o.disabled||e.disabled;return l.jsx(F8,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(R8,{"data-orientation":o.orientation,"data-state":xA(u),...i,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});hA.displayName=$d;var mA="AccordionHeader",pA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=Ff(Jn,n),o=$y(mA,n);return l.jsx(he.h3,{"data-orientation":a.orientation,"data-state":xA(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});pA.displayName=mA;var qp="AccordionTrigger",gA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=Ff(Jn,n),o=$y(qp,n),s=L8(qp,n),i=Oy(n);return l.jsx(zy.ItemSlot,{scope:n,children:l.jsx(M8,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...i,...r,ref:t})})});gA.displayName=qp;var yA="AccordionContent",vA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=Ff(Jn,n),o=$y(yA,n),s=Oy(n);return l.jsx(D8,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...s,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});vA.displayName=yA;function xA(e){return e?"open":"closed"}var U8=cA,G8=hA,V8=pA,bA=gA,wA=vA;const Py=U8,Uf=m.forwardRef(({className:e,...t},n)=>l.jsx(G8,{ref:n,className:K("border-b",e),...t}));Uf.displayName="AccordionItem";const Gf=m.forwardRef(({className:e,children:t,...n},r)=>l.jsx(V8,{className:"flex",children:l.jsxs(bA,{ref:r,className:K("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,l.jsx(ia,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Gf.displayName=bA.displayName;const Vf=m.forwardRef(({className:e,children:t,...n},r)=>l.jsx(wA,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:K("pb-4 pt-0",e),children:t})}));Vf.displayName=wA.displayName;function Z8({children:e,title:t="Customize Display",description:n="Configure what information to show",defaultOpen:r=!1,className:a}){return l.jsx(Py,{type:"single",collapsible:!0,defaultValue:r?"customize-display":void 0,className:a,children:l.jsxs(Uf,{value:"customize-display",className:"border-none",children:[l.jsx(Gf,{className:"hover:no-underline",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(PE,{className:"h-4 w-4"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:t}),l.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]})}),l.jsx(Vf,{children:l.jsx("div",{className:"space-y-4 pt-2",children:e})})]})})}var Y8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),q8="VisuallyHidden",SA=m.forwardRef((e,t)=>l.jsx(he.span,{...e,ref:t,style:{...Y8,...e.style}}));SA.displayName=q8;var X8=SA,[Zf,HW]=nn("Tooltip",[ji]),Ly=ji(),K8="TooltipProvider",Bb="tooltip.open",[FW,NA]=Zf(K8),EA="Tooltip",[UW,Yf]=Zf(EA),Xp="TooltipTrigger",W8=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Yf(Xp,n),o=NA(Xp,n),s=Ly(n),i=m.useRef(null),c=Re(t,i,a.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(my,{asChild:!0,...s,children:l.jsx(he.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:te(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:te(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:te(e.onBlur,a.onClose),onClick:te(e.onClick,a.onClose)})})});W8.displayName=Xp;var Q8="TooltipPortal",[GW,J8]=Zf(Q8,{forceMount:void 0}),ii="TooltipContent",_A=m.forwardRef((e,t)=>{const n=J8(ii,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,s=Yf(ii,e.__scopeTooltip);return l.jsx($t,{present:r||s.open,children:s.disableHoverableContent?l.jsx(CA,{side:a,...o,ref:t}):l.jsx(eI,{side:a,...o,ref:t})})}),eI=m.forwardRef((e,t)=>{const n=Yf(ii,e.__scopeTooltip),r=NA(ii,e.__scopeTooltip),a=m.useRef(null),o=Re(t,a),[s,i]=m.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{i(null),f(!1)},[f]),p=m.useCallback((y,x)=>{const w=y.currentTarget,g={x:y.clientX,y:y.clientY},v=oI(g,w.getBoundingClientRect()),S=sI(g,v),b=iI(x.getBoundingClientRect()),E=cI([...S,...b]);i(E),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const y=w=>p(w,d),x=w=>p(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,p,h]),m.useEffect(()=>{if(s){const y=x=>{const w=x.target,g={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),S=!lI(g,s);v?h():S&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,s,u,h]),l.jsx(CA,{...e,ref:o})}),[tI,nI]=Zf(EA,{isInside:!1}),rI=gO("TooltipContent"),CA=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:s,...i}=e,c=Yf(ii,n),u=Ly(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Bb,d),()=>document.removeEventListener(Bb,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Nc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(py,{"data-state":c.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(rI,{children:r}),l.jsx(tI,{scope:n,isInside:!0,children:l.jsx(X8,{id:c.contentId,role:"tooltip",children:a||r})})]})})});_A.displayName=ii;var AA="TooltipArrow",aI=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Ly(n);return nI(AA,n).isInside?null:l.jsx(gy,{...a,...r,ref:t})});aI.displayName=AA;function oI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function iI(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function lI(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],c=t[s],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function cI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),uI(t)}function uI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var kA=_A;const dI=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(kA,{ref:r,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));dI.displayName=kA.displayName;function dr({title:e,navigateTo:t,onNavigate:n,children:r,className:a,showHeaderButton:o=!0}){return l.jsxs(ct,{className:a,children:[l.jsx(ut,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(vt,{className:"text-lg",children:e}),o&&l.jsxs(ae,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," "]})]})}),l.jsx(dt,{className:"space-y-4",children:r})]})}var fI="Label",jA=m.forwardRef((e,t)=>l.jsx(he.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jA.displayName=fI;const hI=wi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qr=m.forwardRef(({className:e,children:t,...n},r)=>l.jsx(jA,{ref:r,className:K(hI(),e),...n,children:t}));qr.displayName="Label";function lu({title:e,description:t,checked:n,onCheckedChange:r,className:a,disabled:o=!1,onClick:s,showSwitch:i=!0}){const c=()=>{s?s():o||r(!n)};return l.jsxs("div",{className:K("flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",o&&"opacity-50 cursor-not-allowed",a),onClick:c,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(qr,{className:"text-base font-medium",children:e}),t&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),i&&l.jsx(Br,{checked:n,onCheckedChange:r,disabled:o})]})}function mI(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function pI(e){const t=e.flatMap(n=>[...n.stat_modifications.map(r=>r.stat),...n.skill_bonuses.map(r=>r.stat)]);return[...new Set(t)].sort()}function Ge({children:e,className:t,expanded:n,onToggle:r,disableHover:a=!1}){let o,s,i,c;P.Children.forEach(e,y=>{P.isValidElement(y)&&(y.type===Ge.Header&&(o=y),y.type===Ge.Summary&&(s=y),y.type===Ge.Footer&&(i=y),y.type===Ge.Details&&(c=y))});const[u,d]=m.useState(!1),f=n!==void 0?n:u,h=r||(()=>d(y=>!y)),p=a?"":"hover:shadow-md hover:scale-[1.02]";return l.jsxs("div",{className:K("rounded-lg border bg-background shadow-sm transition-all duration-200 flex flex-col",p,t),children:[o&&P.cloneElement(o,{onClick:h,expanded:f}),l.jsxs("div",{className:"flex-1",children:[s,f&&c]}),i]})}Ge.Header=function({children:t,className:n,onClick:r,expanded:a}){return l.jsxs("div",{className:K("flex items-center gap-3 px-4 py-2 bg-muted/30 cursor-pointer select-none",n),onClick:r,tabIndex:0,role:"button","aria-expanded":a,children:[t,l.jsx("span",{className:K("ml-auto transition-transform",a?"rotate-90":""),children:l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};Ge.Summary=function({children:t,className:n}){return l.jsx("div",{className:K("px-4 py-2 space-y-3",n),children:t})};Ge.Footer=function({children:t,className:n}){return l.jsx("div",{className:K("px-4 py-2",n),children:t})};Ge.Details=function({children:t,className:n}){return l.jsx("div",{className:K("px-4 py-4 space-y-4 bg-background",n),children:t})};const Tc={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},shareButton:{copied:"text-green-600",default:"text-blue-600",hover:"text-blue-700"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},Hs={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function gI(e){return Tc.traitLimit[e]}function yI(e){return Tc.shareButton[e]}function Hb(e){return Tc.summaryCard[e]}function vI(e){return Tc.backgrounds[e]}function TA(e){return Tc.borders[e]}function xI({title:e,description:t,icon:n,variant:r="default",children:a,className:o}){const s=()=>{if(n)return n;switch(r){case"warning":return l.jsx(Ll,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return l.jsx($l,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return l.jsxs(ct,{className:K(Hs.card,o),children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[s(),e]}),t&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),l.jsx(dt,{className:K(Hs.section),children:a})]})}function Fb({label:e,value:t,onChange:n,min:r=0,max:a=10,currentCount:o,type:s="regular",className:i}){const c=()=>{switch(s){case"regular":return l.jsx(D0,{className:"h-4 w-4"});case"bonus":return l.jsx(Yr,{className:"h-4 w-4"});default:return null}},u=()=>gI(s);return l.jsxs("div",{className:K(Hs.item,i),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c(),l.jsx(qr,{htmlFor:`${s}-limit`,className:u(),children:e})]}),l.jsx(Ci,{id:`${s}-limit`,type:"number",min:r,max:a,value:t,onChange:d=>n(parseInt(d.target.value)||0),className:"mt-1"}),o!==void 0&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",o]})]})}function Ub({type:e,title:t,message:n,className:r}){const a=()=>{switch(e){case"warning":return l.jsx(Ll,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return l.jsx($l,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return l.jsx(Ll,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return l.jsx($l,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return l.jsxs("div",{className:K("flex items-start gap-2 p-4 rounded-lg border",vI(e),TA(e),r),children:[a(),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:t}),l.jsx("p",{className:"mt-1",children:n})]})]})}function bI({open:e,title:t,message:n,variant:r="warning",confirmText:a="Confirm",cancelText:o="Cancel",onConfirm:s,onCancel:i,className:c}){if(!e)return null;const u=()=>{switch(r){case"warning":return l.jsx(Ll,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return l.jsx($l,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return l.jsx(Z3,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return l.jsx(Mp,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return l.jsx(Ll,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},d=()=>{switch(r){case"error":return"destructive";case"success":return"default";default:return"default"}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:l.jsxs("div",{className:K("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",TA(r),c),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u(),l.jsx("span",{className:"font-semibold",children:t})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:n}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ae,{variant:"outline",size:"sm",onClick:i,children:o}),l.jsx(ae,{variant:d(),size:"sm",onClick:s,children:a})]})]})})}const wI={race:{Altmer:"altmer.png",Argonian:"argonian.png",Bosmer:"bosmer.png",Breton:"breton.png",Dunmer:"dunmer.png",Imperial:"imperial.png",Khajiit:"khajit.png",Nord:"nord.png",Orsimer:"orismer.png",Redguard:"redguard.png"},religion:{},trait:{},destiny:{},birthsign:{Apprentice:"apprentice.svg"}},Gb={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},SI={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};function RA({entityName:e,entityType:t,size:n="md",className:r}){const o=wI[t][e],[s,i]=P.useState(!1);return!o||s?l.jsx("div",{className:K("bg-muted rounded-full flex items-center justify-center font-bold text-muted-foreground",Gb[n],r),children:l.jsx("span",{className:K(SI[n]),children:e.charAt(0)})}):l.jsx("div",{className:K("rounded-full overflow-hidden bg-muted flex items-center justify-center",Gb[n],r),children:l.jsx("img",{src:`/lorerim-arcaneum/assets/${t==="birthsign"?"sign-avatar":`${t}-avatar`}/${o}`,alt:`${e} avatar`,className:"w-full h-full object-cover",onError:()=>i(!0),loading:"lazy"})})}const im=new Map;function NI(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(im.has(n))return im.get(n);let r=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((a,o)=>{const s=[];r.forEach(i=>{if(i.className)s.push(i);else{let c=0,u;const d=new RegExp(a.pattern,a.pattern.flags.includes("g")?a.pattern.flags:a.pattern.flags+"g");d.lastIndex=0;let f=0;for(;(u=d.exec(i.text))!==null;){u.index>c&&s.push({text:i.text.slice(c,u.index),key:`${i.key}-${f++}`});let h=u[0];a.transform&&(h=a.transform(h));const p=typeof a.className=="function"?a.className(h):a.className;s.push({text:h,className:p,key:`${i.key}-${f++}`}),c=d.lastIndex}c<i.text.length&&s.push({text:i.text.slice(c),key:`${i.key}-${f++}`})}}),r=s}),r=r.map((a,o)=>({...a,key:a.key||String(o)})),im.set(n,r),r}const EI=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],_I=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function CI(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,r=e.startsWith("-")||t<0;return n?"font-bold text-green-600":r?"font-bold text-red-600":"font-bold text-skyrim-gold"}},{pattern:/\*\*\*(.*?)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const r=parseFloat(n[0]),a=n[0].startsWith("+")||r>0,o=n[0].startsWith("-")||r<0;if(a)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(o)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<\d+>/g,className:"font-bold italic text-skyrim-gold",transform:e=>e.slice(1,-1)},{pattern:new RegExp(`\\b(${EI.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${_I.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function na({text:e,options:t,className:n="text-sm text-muted-foreground",as:r="div"}){const a=m.useMemo(()=>CI(),[]),o=m.useMemo(()=>e?NI(e,t||a):[],[e,t,a]);if(!e)return null;if(n.includes("line-clamp")){const i=n.match(/line-clamp-\d+/g)||[],c=n.replace(/line-clamp-\d+/g,"").trim();return l.jsx(r,{className:c,children:l.jsx("div",{className:`${i.join(" ")} overflow-hidden`,children:o.map(u=>l.jsx("span",{className:u.className,children:u.text},u.key))})})}return l.jsx(r,{className:n,children:o.map(i=>l.jsx("span",{className:i.className,children:i.text},i.key))})}function Rc({options:e,onSelect:t,placeholder:n="Search...",className:r="",disabled:a=!1,searchQuery:o,onSearchQueryChange:s,renderOption:i,emptyMessage:c="No options found",maxHeight:u="max-h-96",showClearButton:d=!0,showToggleButton:f=!0}){const[h,p]=m.useState(!1),[y,x]=m.useState(""),[w,g]=m.useState(-1),v=m.useRef(null),S=m.useRef(null),b=o??y,E=s??x;m.useEffect(()=>{const R=k=>{v.current&&!v.current.contains(k.target)&&(p(!1),g(-1))};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const j=R=>{E(R),p(!0),g(-1)},N=R=>{t(R),E(""),p(!1),g(-1)},C=R=>{R.key==="ArrowDown"?(R.preventDefault(),g(k=>Math.min(k+1,e.length-1))):R.key==="ArrowUp"?(R.preventDefault(),g(k=>Math.max(k-1,-1))):R.key==="Enter"?(R.preventDefault(),w>=0&&e[w]&&N(e[w])):R.key==="Escape"&&(p(!1),g(-1))},_=()=>{p(!0)},A=()=>{var R;E(""),(R=S.current)==null||R.focus()},O=()=>{var R;p(!h),h||(R=S.current)==null||R.focus()},B=(R,k)=>l.jsxs("div",{className:"flex items-center gap-3",children:[R.icon&&l.jsx("div",{className:"flex-shrink-0",children:R.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium truncate",children:R.label}),R.badge&&l.jsx("div",{className:"flex-shrink-0",children:R.badge})]}),R.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:R.description})]})]});return l.jsxs("div",{ref:v,className:K("relative",r),children:[l.jsxs("div",{className:"relative",children:[l.jsx(z0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Ci,{ref:S,type:"text",placeholder:n,value:b,onChange:R=>j(R.target.value),onFocus:_,onKeyDown:C,className:"pl-10 pr-20",disabled:a}),d&&b&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:A,disabled:a,children:l.jsx(xn,{className:"h-4 w-4"})}),f&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:O,disabled:a,children:l.jsx(ia,{className:K("h-4 w-4 transition-transform",h&&"rotate-180")})})]}),h&&l.jsx("div",{className:K("absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",u),style:{zIndex:Ht.AUTOCOMPLETE+10},children:l.jsx("div",{className:"p-2",children:e.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:c}):e.map((R,k)=>l.jsx("button",{onClick:()=>N(R),className:K("w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer",k===w?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"),disabled:a,children:i?i(R,k===w):B(R)},R.id))})})]})}function AI({link:e,variant:t="outline",size:n="sm",icon:r,text:a="Share / Export",onCopied:o,className:s}){const[i,c]=m.useState(!1),u=async()=>{try{await navigator.clipboard.writeText(e),c(!0),o==null||o(),setTimeout(()=>c(!1),1500)}catch(h){console.error("Failed to copy link:",h);const p=document.createElement("textarea");p.value=e,document.body.appendChild(p),p.select(),document.execCommand("copy"),document.body.removeChild(p),c(!0),o==null||o(),setTimeout(()=>c(!1),1500)}},d=()=>r||(i?l.jsx(DE,{className:"w-4 h-4"}):l.jsx(T4,{className:"w-4 h-4"})),f=()=>i?"Copied!":a;return l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ae,{variant:t,size:n,onClick:u,className:K("cursor-pointer hover:opacity-90",i&&yI("copied"),s),children:[d(),l.jsx("span",{className:"ml-2",children:f()})]})})}function kI({title:e,items:t,layout:n="grid",className:r}){const a=s=>{switch(s){case"race":return l.jsx(bl,{className:"h-4 w-4"});case"birthsign":return l.jsx(Yr,{className:"h-4 w-4"});case"religion":return l.jsx(zE,{className:"h-4 w-4"});case"traits":return l.jsx($4,{className:"h-4 w-4"});default:return null}},o=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return l.jsxs(ct,{className:K(Hs.card,r),children:[l.jsx(ut,{children:l.jsx(vt,{children:e})}),l.jsx(dt,{className:K(Hs.section),children:l.jsx("div",{className:o(),children:t.map((s,i)=>l.jsxs("div",{className:K(Hs.item,s.className),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.icon||a(s.type),l.jsxs("span",{className:K("font-medium text-sm",Hb("primary")),children:[s.label,":"]})]}),l.jsx("div",{className:K("text-sm",Hb("secondary")),children:s.value||"Not selected"})]},i))})})]})}function jI(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function MA({birthsignName:e,size:t="md",className:n}){return l.jsx(RA,{entityName:e,entityType:"birthsign",size:t,className:n})}const Vb={Warrior:{background:"bg-red-100",text:"text-red-800",border:"border-red-200",hover:"hover:bg-red-200"},Mage:{background:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",hover:"hover:bg-blue-200"},Thief:{background:"bg-green-100",text:"text-green-800",border:"border-green-200",hover:"hover:bg-red-200"},Serpent:{background:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",hover:"hover:bg-purple-200"},Other:{background:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",hover:"hover:bg-yellow-200"}};function TI(e){return Vb[e]||Vb.Other}function Kp({item:e,className:t,showAddToBuild:n=!0,isExpanded:r=!1,onToggle:a,disableHover:o=!1}){var i,c,u,d;const s=e.originalBirthsign;return s?l.jsxs(Ge,{className:t,expanded:r,onToggle:a,disableHover:o,children:[l.jsxs(Ge.Header,{children:[n&&l.jsx(ay,{itemId:e.id,itemType:"stone",itemName:e.name}),l.jsx(MA,{birthsignName:s.name,size:"md"}),l.jsx(_c,{className:"text-primary font-semibold",children:s.name}),l.jsx("div",{className:"flex items-center gap-3 ml-auto",children:s.group&&l.jsx(ue,{variant:"outline",className:K(TI(s.group)||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200","text-xs font-medium transition-colors"),children:s.group})})]}),l.jsx(Ge.Summary,{children:l.jsx(na,{text:s.description,className:"text-base text-muted-foreground"})}),l.jsxs(Ge.Details,{children:[s.stat_modifications.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Stat Modifications"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.stat_modifications.map((f,h)=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsx("span",{className:"font-medium capitalize",children:f.stat}),l.jsxs("span",{className:K("font-bold",f.type==="bonus"?"text-green-600":"text-red-600"),children:[f.type==="bonus"?"+":"-",f.value,f.value_type==="percentage"?"%":""]})]},h))})]}),s.powers.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Powers"}),l.jsx("div",{className:"space-y-2",children:s.powers.map((f,h)=>l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Yr,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"font-medium text-sm",children:f.name})]}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},h))})]}),s.skill_bonuses.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Skill Bonuses"}),l.jsx("div",{className:"space-y-2",children:s.skill_bonuses.map((f,h)=>l.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[l.jsxs("span",{className:"font-medium",children:[f.stat," +",f.value]}),l.jsx(ue,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},h))})]}),(((i=s.conditional_effects)==null?void 0:i.length)>0||((c=s.mastery_effects)==null?void 0:c.length)>0)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Special Effects"}),l.jsxs("div",{className:"space-y-3",children:[(u=s.conditional_effects)==null?void 0:u.map((f,h)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsx("div",{className:"flex items-center gap-2 mb-1",children:l.jsx("span",{className:"font-medium text-sm",children:"Conditional Effect"})}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx("div",{className:"text-sm font-medium",children:f.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},`conditional-${h}`)),(d=s.mastery_effects)==null?void 0:d.map((f,h)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Yr,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx("div",{className:"text-sm font-medium",children:f.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},`mastery-${h}`))]})]})]})]}):null}function Zb({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:r=""}){const a=m.useMemo(()=>e.map(i=>({id:i.edid,label:i.name,description:i.description,category:i.group,icon:l.jsx(MA,{birthsignName:i.name,size:"sm"}),badge:i.group&&l.jsx(ue,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:i.group}),metadata:{originalBirthsign:i}})),[e]),o=i=>{const c=e.find(u=>u.edid===i.id);c&&t(c)},s=(i,c)=>l.jsxs("div",{className:"flex items-center gap-3",children:[i.icon&&l.jsx("div",{className:"flex-shrink-0",children:i.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:i.label}),i.badge&&l.jsx("div",{className:"flex-shrink-0",children:i.badge})]}),i.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:i.description})]})]});return l.jsx(Rc,{options:a,onSelect:o,placeholder:n,className:r,renderOption:s,emptyMessage:"No birthsigns found"})}const RI={birthsigns:[],loading:!0,error:null};function MI(e,t){switch(t.type){case"FETCH_START":return{...e,loading:!0,error:null};case"FETCH_SUCCESS":return{...e,loading:!1,birthsigns:t.payload,error:null};case"FETCH_ERROR":return{...e,loading:!1,error:t.payload};default:return e}}function DA(){const[e,t]=m.useReducer(MI,RI),n=m.useCallback(async()=>{t({type:"FETCH_START"});try{const r=await fetch("/lorerim-arcaneum/data/birthsigns.json");if(!r.ok)throw new Error("Failed to fetch birthsign data");const a=await r.json();t({type:"FETCH_SUCCESS",payload:a})}catch{t({type:"FETCH_ERROR",payload:"Failed to load birthsign data"})}},[]);return m.useEffect(()=>{n()},[n]),{...e,refetch:n}}function Wp(e){var t,n,r,a,o,s;return{id:`religion-${e.name.toLowerCase().replace(/\s+/g,"-")}`,name:e.name,description:((t=e.tenet)==null?void 0:t.description)||"",tags:e.favoredRaces||[],summary:((n=e.tenet)==null?void 0:n.description)||"",effects:[...((a=(r=e.tenet)==null?void 0:r.effects)==null?void 0:a.map(i=>({type:"positive",name:i.effectName,description:i.effectDescription,value:i.magnitude,target:i.targetAttribute||""})))||[],...((s=(o=e.blessing)==null?void 0:o.effects)==null?void 0:s.map(i=>({type:"positive",name:i.effectName,description:i.effectDescription,value:i.magnitude,target:i.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:e.type}}function zA(e){var t,n;return{...e,id:e.edid,name:e.name,description:e.description,tags:[e.category,...Array.isArray(e.flags)?e.flags:[]],summary:e.description,effects:[...((t=e.skillBonuses)==null?void 0:t.map(r=>({type:"positive",name:r.skill,description:`+${r.bonus} to ${r.skill}`,value:r.bonus,target:r.skill})))||[],...((n=e.racialSpells)==null?void 0:n.map(r=>({type:"positive",name:r.name,description:r.description})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalRace:e}}function Yb(e){var t;return{...e,id:e.edid,name:e.name,description:e.description,tags:e.tags||[],summary:e.description,effects:[...((t=e.effects)==null?void 0:t.map(n=>({type:"positive",name:n.type,description:n.condition?`${n.type} (${n.condition})`:n.type,value:n.value})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalTrait:e}}function OA(e){var r,a,o,s,i,c,u,d;const t=[...((r=e.stat_modifications)==null?void 0:r.map(f=>({type:f.type==="bonus"?"positive":"negative",name:`${f.stat} ${f.type==="bonus"?"+":"-"}${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} ${f.type==="bonus"?"increased":"decreased"} by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((a=e.skill_bonuses)==null?void 0:a.map(f=>({type:"positive",name:`${f.stat} +${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} skill increased by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((o=e.powers)==null?void 0:o.map(f=>({type:"positive",name:f.name,description:f.description,value:f.magnitude||0,target:"power"})))||[],...((s=e.conditional_effects)==null?void 0:s.map(f=>({type:"neutral",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[],...((i=e.mastery_effects)==null?void 0:i.map(f=>({type:"positive",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[]],n=[e.group,...((c=e.stat_modifications)==null?void 0:c.map(f=>f.stat))||[],...((u=e.skill_bonuses)==null?void 0:u.map(f=>f.stat))||[],...((d=e.powers)==null?void 0:d.map(f=>f.name))||[]].filter((f,h,p)=>p.indexOf(f)===h);return{...e,id:e.edid,name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.group,originalBirthsign:e}}function DI({className:e}){const{birthsigns:t}=DA(),{build:n,setStone:r}=Ut(),a=Ft(),[o,s]=m.useState(!0),i=n.stone?t.find(h=>h.edid===n.stone):null,c=h=>{r(h.edid)},u=()=>{a("/birth-signs")},d=()=>{s(!o)};if(!i)return l.jsxs(dr,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),l.jsx(Zb,{birthsigns:t,onSelect:c,placeholder:"Search for a birthsign...",className:"w-full"})]});const f=OA(i);return l.jsxs(dr,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[l.jsx(Zb,{birthsigns:t,onSelect:c,placeholder:`Birth Sign: Select a birthsign (${i.name})`,className:"w-full"}),l.jsx(Kp,{item:f,isExpanded:o,onToggle:d,className:"border-0 shadow-none",showAddToBuild:!1,disableHover:!0})]})}function da(e){return Array.isArray?Array.isArray(e):LA(e)==="[object Array]"}function zI(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function OI(e){return e==null?"":zI(e)}function fr(e){return typeof e=="string"}function $A(e){return typeof e=="number"}function $I(e){return e===!0||e===!1||PI(e)&&LA(e)=="[object Boolean]"}function PA(e){return typeof e=="object"}function PI(e){return PA(e)&&e!==null}function hn(e){return e!=null}function lm(e){return!e.trim().length}function LA(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const LI="Incorrect 'index' type",II=e=>`Invalid value for key ${e}`,BI=e=>`Pattern length exceeds max of ${e}.`,HI=e=>`Missing ${e} property in key`,FI=e=>`Property 'weight' in key '${e}' must be a positive integer`,qb=Object.prototype.hasOwnProperty;class UI{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=IA(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function IA(e){let t=null,n=null,r=null,a=1,o=null;if(fr(e)||da(e))r=e,t=Xb(e),n=Qp(e);else{if(!qb.call(e,"name"))throw new Error(HI("name"));const s=e.name;if(r=s,qb.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(FI(s));t=Xb(s),n=Qp(s),o=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:o}}function Xb(e){return da(e)?e:e.split(".")}function Qp(e){return da(e)?e.join("."):e}function GI(e,t){let n=[],r=!1;const a=(o,s,i)=>{if(hn(o))if(!s[i])n.push(o);else{let c=s[i];const u=o[c];if(!hn(u))return;if(i===s.length-1&&(fr(u)||$A(u)||$I(u)))n.push(OI(u));else if(da(u)){r=!0;for(let d=0,f=u.length;d<f;d+=1)a(u[d],s,i+1)}else s.length&&a(u,s,i+1)}};return a(e,fr(t)?t.split("."):t,0),r?n:n[0]}const VI={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ZI={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},YI={location:0,threshold:.6,distance:100},qI={useExtendedSearch:!1,getFn:GI,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var le={...ZI,...VI,...YI,...qI};const XI=/[^ ]+/g;function KI(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const o=a.match(XI).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*e),i=parseFloat(Math.round(s*r)/r);return n.set(o,i),i},clear(){n.clear()}}}class Iy{constructor({getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){this.norm=KI(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,fr(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();fr(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!hn(t)||lm(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,o)=>{let s=a.getFn?a.getFn(t):this.getFn(t,a.path);if(hn(s)){if(da(s)){let i=[];const c=[{nestedArrIndex:-1,value:s}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(hn(d))if(fr(d)&&!lm(d)){let f={v:d,i:u,n:this.norm.get(d)};i.push(f)}else da(d)&&d.forEach((f,h)=>{c.push({nestedArrIndex:h,value:f})})}r.$[o]=i}else if(fr(s)&&!lm(s)){let i={v:s,n:this.norm.get(s)};r.$[o]=i}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function BA(e,t,{getFn:n=le.getFn,fieldNormWeight:r=le.fieldNormWeight}={}){const a=new Iy({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(IA)),a.setSources(t),a.create(),a}function WI(e,{getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){const{keys:r,records:a}=e,o=new Iy({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(a),o}function cu(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=le.distance,ignoreLocation:o=le.ignoreLocation}={}){const s=t/e.length;if(o)return s;const i=Math.abs(r-n);return a?s+i/a:i?1:s}function QI(e=[],t=le.minMatchCharLength){let n=[],r=-1,a=-1,o=0;for(let s=e.length;o<s;o+=1){let i=e[o];i&&r===-1?r=o:!i&&r!==-1&&(a=o-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const yo=32;function JI(e,t,n,{location:r=le.location,distance:a=le.distance,threshold:o=le.threshold,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,includeMatches:c=le.includeMatches,ignoreLocation:u=le.ignoreLocation}={}){if(t.length>yo)throw new Error(BI(yo));const d=t.length,f=e.length,h=Math.max(0,Math.min(r,f));let p=o,y=h;const x=i>1||c,w=x?Array(f):[];let g;for(;(g=e.indexOf(t,y))>-1;){let N=cu(t,{currentLocation:g,expectedLocation:h,distance:a,ignoreLocation:u});if(p=Math.min(N,p),y=g+d,x){let C=0;for(;C<d;)w[g+C]=1,C+=1}}y=-1;let v=[],S=1,b=d+f;const E=1<<d-1;for(let N=0;N<d;N+=1){let C=0,_=b;for(;C<_;)cu(t,{errors:N,currentLocation:h+_,expectedLocation:h,distance:a,ignoreLocation:u})<=p?C=_:b=_,_=Math.floor((b-C)/2+C);b=_;let A=Math.max(1,h-_+1),O=s?f:Math.min(h+_,f)+d,B=Array(O+2);B[O+1]=(1<<N)-1;for(let k=O;k>=A;k-=1){let $=k-1,T=n[e.charAt($)];if(x&&(w[$]=+!!T),B[k]=(B[k+1]<<1|1)&T,N&&(B[k]|=(v[k+1]|v[k])<<1|1|v[k+1]),B[k]&E&&(S=cu(t,{errors:N,currentLocation:$,expectedLocation:h,distance:a,ignoreLocation:u}),S<=p)){if(p=S,y=$,y<=h)break;A=Math.max(1,2*h-y)}}if(cu(t,{errors:N+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>p)break;v=B}const j={isMatch:y>=0,score:Math.max(.001,S)};if(x){const N=QI(w,i);N.length?c&&(j.indices=N):j.isMatch=!1}return j}function eB(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const Pd=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class HA{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:a=le.distance,includeMatches:o=le.includeMatches,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,isCaseSensitive:c=le.isCaseSensitive,ignoreDiacritics:u=le.ignoreDiacritics,ignoreLocation:d=le.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?Pd(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(p,y)=>{this.chunks.push({pattern:p,alphabet:eB(p),startIndex:y})},h=this.pattern.length;if(h>yo){let p=0;const y=h%yo,x=h-y;for(;p<x;)f(this.pattern.substr(p,yo),p),p+=yo;if(y){const w=h-yo;f(this.pattern.substr(w),w)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?Pd(t):t,this.pattern===t){let x={isMatch:!0,score:0};return a&&(x.indices=[[0,t.length-1]]),x}const{location:o,distance:s,threshold:i,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,p=!1;this.chunks.forEach(({pattern:x,alphabet:w,startIndex:g})=>{const{isMatch:v,score:S,indices:b}=JI(t,x,w,{location:o+g,distance:s,threshold:i,findAllMatches:c,minMatchCharLength:u,includeMatches:a,ignoreLocation:d});v&&(p=!0),h+=S,v&&b&&(f=[...f,...b])});let y={isMatch:p,score:p?h/this.chunks.length:1};return p&&a&&(y.indices=f),y}}class oo{constructor(t){this.pattern=t}static isMultiMatch(t){return Kb(t,this.multiRegex)}static isSingleMatch(t){return Kb(t,this.singleRegex)}search(){}}function Kb(e,t){const n=e.match(t);return n?n[1]:null}class tB extends oo{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class nB extends oo{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class rB extends oo{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class aB extends oo{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class oB extends oo{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class sB extends oo{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class FA extends oo{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:a=le.distance,includeMatches:o=le.includeMatches,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,isCaseSensitive:c=le.isCaseSensitive,ignoreDiacritics:u=le.ignoreDiacritics,ignoreLocation:d=le.ignoreLocation}={}){super(t),this._bitapSearch=new HA(t,{location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class UA extends oo{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,a.push([r,n-1]);const s=!!a.length;return{isMatch:s,score:s?0:1,indices:a}}}const Jp=[tB,UA,rB,aB,sB,oB,nB,FA],Wb=Jp.length,iB=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,lB="|";function cB(e,t={}){return e.split(lB).map(n=>{let r=n.trim().split(iB).filter(o=>o&&!!o.trim()),a=[];for(let o=0,s=r.length;o<s;o+=1){const i=r[o];let c=!1,u=-1;for(;!c&&++u<Wb;){const d=Jp[u];let f=d.isMultiMatch(i);f&&(a.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<Wb;){const d=Jp[u];let f=d.isSingleMatch(i);if(f){a.push(new d(f,t));break}}}return a})}const uB=new Set([FA.type,UA.type]);class dB{constructor(t,{isCaseSensitive:n=le.isCaseSensitive,ignoreDiacritics:r=le.ignoreDiacritics,includeMatches:a=le.includeMatches,minMatchCharLength:o=le.minMatchCharLength,ignoreLocation:s=le.ignoreLocation,findAllMatches:i=le.findAllMatches,location:c=le.location,threshold:u=le.threshold,distance:d=le.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:o,findAllMatches:i,ignoreLocation:s,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=r?Pd(t):t,this.pattern=t,this.query=cB(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:o}=this.options;t=a?t:t.toLowerCase(),t=o?Pd(t):t;let s=0,i=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];i.length=0,s=0;for(let h=0,p=f.length;h<p;h+=1){const y=f[h],{isMatch:x,indices:w,score:g}=y.search(t);if(x){if(s+=1,c+=g,r){const v=y.constructor.type;uB.has(v)?i=[...i,...w]:i.push(w)}}else{c=0,s=0,i.length=0;break}}if(s){let h={isMatch:!0,score:c/s};return r&&(h.indices=i),h}}return{isMatch:!1,score:1}}}const eg=[];function fB(...e){eg.push(...e)}function tg(e,t){for(let n=0,r=eg.length;n<r;n+=1){let a=eg[n];if(a.condition(e,t))return new a(e,t)}return new HA(e,t)}const Ld={AND:"$and",OR:"$or"},ng={PATH:"$path",PATTERN:"$val"},rg=e=>!!(e[Ld.AND]||e[Ld.OR]),hB=e=>!!e[ng.PATH],mB=e=>!da(e)&&PA(e)&&!rg(e),Qb=e=>({[Ld.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function GA(e,t,{auto:n=!0}={}){const r=a=>{let o=Object.keys(a);const s=hB(a);if(!s&&o.length>1&&!rg(a))return r(Qb(a));if(mB(a)){const c=s?a[ng.PATH]:o[0],u=s?a[ng.PATTERN]:a[c];if(!fr(u))throw new Error(II(c));const d={keyId:Qp(c),pattern:u};return n&&(d.searcher=tg(u,t)),d}let i={children:[],operator:o[0]};return o.forEach(c=>{const u=a[c];da(u)&&u.forEach(d=>{i.children.push(r(d))})}),i};return rg(e)||(e=Qb(e)),r(e)}function pB(e,{ignoreFieldNorm:t=le.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:o,score:s})=>{const i=a?a.weight:null;r*=Math.pow(s===0&&i?Number.EPSILON:s,(i||1)*(t?1:o))}),n.score=r})}function gB(e,t){const n=e.matches;t.matches=[],hn(n)&&n.forEach(r=>{if(!hn(r.indices)||!r.indices.length)return;const{indices:a,value:o}=r;let s={indices:a,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function yB(e,t){t.score=e.score}function vB(e,t,{includeMatches:n=le.includeMatches,includeScore:r=le.includeScore}={}){const a=[];return n&&a.push(gB),r&&a.push(yB),e.map(o=>{const{idx:s}=o,i={item:t[s],refIndex:s};return a.length&&a.forEach(c=>{c(o,i)}),i})}class pa{constructor(t,n={},r){this.options={...le,...n},this.options.useExtendedSearch,this._keyStore=new UI(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Iy))throw new Error(LI);this._myIndex=n||BA(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){hn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,a-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:o,sortFn:s,ignoreFieldNorm:i}=this.options;let c=fr(t)?fr(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return pB(c,{ignoreFieldNorm:i}),o&&c.sort(s),$A(n)&&n>-1&&(c=c.slice(0,n)),vB(c,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=tg(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:o,i:s,n:i})=>{if(!hn(o))return;const{isMatch:c,score:u,indices:d}=n.searchIn(o);c&&a.push({item:o,idx:s,matches:[{score:u,value:o,norm:i,indices:d}]})}),a}_searchLogical(t){const n=GA(t,this.options),r=(i,c,u)=>{if(!i.children){const{keyId:f,searcher:h}=i,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return p&&p.length?[{idx:u,item:c,matches:p}]:[]}const d=[];for(let f=0,h=i.children.length;f<h;f+=1){const p=i.children[f],y=r(p,c,u);if(y.length)d.push(...y);else if(i.operator===Ld.AND)return[]}return d},a=this._myIndex.records,o={},s=[];return a.forEach(({$:i,i:c})=>{if(hn(i)){let u=r(n,i,c);u.length&&(o[c]||(o[c]={idx:c,item:i,matches:[]},s.push(o[c])),u.forEach(({matches:d})=>{o[c].matches.push(...d)}))}}),s}_searchObjectList(t){const n=tg(t,this.options),{keys:r,records:a}=this._myIndex,o=[];return a.forEach(({$:s,i})=>{if(!hn(s))return;let c=[];r.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:s[d],searcher:n}))}),c.length&&o.push({idx:i,item:s,matches:c})}),o}_findMatches({key:t,value:n,searcher:r}){if(!hn(n))return[];let a=[];if(da(n))n.forEach(({v:o,i:s,n:i})=>{if(!hn(o))return;const{isMatch:c,score:u,indices:d}=r.searchIn(o);c&&a.push({score:u,key:t,value:o,idx:s,norm:i,indices:d})});else{const{v:o,n:s}=n,{isMatch:i,score:c,indices:u}=r.searchIn(o);i&&a.push({score:c,key:t,value:o,norm:s,indices:u})}return a}}pa.version="7.1.0";pa.createIndex=BA;pa.parseIndex=WI;pa.config=le;pa.parseQuery=GA;fB(dB);function xB(e,t){const n=m.useMemo(()=>e.map(i=>{var c,u;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description,group:i.group,statModifications:i.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:i.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:i.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=i.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=i.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:i}}),[e]),r=m.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=m.useMemo(()=>new pa(n,r),[n,r]),o=m.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredBirthsigns:m.useMemo(()=>o.map(i=>i.item.originalBirthsign),[o]),searchResults:o,searchableBirthsigns:n}}const bB={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function wB(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function SB(e){const[t,n]=m.useReducer(wB,bB),r=m.useMemo(()=>{const w=mI(e),g=pI(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:w.map(v=>({id:`group-${v}`,label:v,value:v,category:"Birthsign Groups",description:`Birthsigns from ${v} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:g.map(v=>({id:`stat-${v}`,label:v.replace(/_/g," ").replace(/\b\w/g,S=>S.toUpperCase()),value:v,category:"Stats & Skills",description:`Birthsigns that affect ${v}`}))}]},[e]),a=m.useMemo(()=>t.selectedTags.length===0?e:e.filter(w=>t.selectedTags.every(g=>{switch(g.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return w.group===g.value;case"Stats & Skills":return[...w.stat_modifications.map(S=>S.stat),...w.skill_bonuses.map(S=>S.stat)].some(S=>S===g.value);default:return!0}})),[e,t.selectedTags]),o=m.useMemo(()=>t.selectedTags.filter(w=>w.category==="Fuzzy Search").map(w=>w.value).join(" "),[t.selectedTags]),{filteredBirthsigns:s}=xB(a,o),i=m.useMemo(()=>s.map(OA),[s]),c=m.useMemo(()=>[...i].sort((w,g)=>{var v,S;switch(t.sortBy){case"alphabetical":return w.name.localeCompare(g.name);case"group":{const b=N=>{switch(N){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},E=b(w.category),j=b(g.category);return E!==j?E-j:w.name.localeCompare(g.name)}case"power-count":{const b=((v=w.effects)==null?void 0:v.filter(j=>j.target==="power").length)||0,E=((S=g.effects)==null?void 0:S.filter(j=>j.target==="power").length)||0;return b!==E?E-b:w.name.localeCompare(g.name)}default:return 0}}),[i,t.sortBy]),u=m.useCallback(w=>{n({type:"ADD_TAG",payload:w})},[]),d=m.useCallback(w=>{n({type:"REMOVE_TAG",payload:w})},[]),f=m.useCallback(w=>{n({type:"SET_SORT",payload:w})},[]),h=m.useCallback(w=>{n({type:"SET_VIEW_MODE",payload:w})},[]),p=m.useCallback(w=>{n({type:"TOGGLE_EXPANDED",payload:w})},[]),y=m.useCallback(w=>{n({type:"EXPAND_ALL",payload:w})},[]),x=m.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:d,setSort:f,setViewMode:h,toggleExpanded:p,expandAll:y,collapseAll:x,searchCategories:r,fuzzySearchQuery:o,filteredBirthsigns:a,displayItems:i,sortedDisplayItems:c}}const NB={showStats:!0,showPowers:!0,showSkills:!0,showEffects:!0};function EB(e,t){switch(t.type){case"TOGGLE_STATS":return{...e,showStats:!e.showStats};case"TOGGLE_POWERS":return{...e,showPowers:!e.showPowers};case"TOGGLE_SKILLS":return{...e,showSkills:!e.showSkills};case"TOGGLE_EFFECTS":return{...e,showEffects:!e.showEffects};case"TOGGLE_ALL":return{showStats:t.payload,showPowers:t.payload,showSkills:t.payload,showEffects:t.payload};case"SET_STATS":return{...e,showStats:t.payload};case"SET_POWERS":return{...e,showPowers:t.payload};case"SET_SKILLS":return{...e,showSkills:t.payload};case"SET_EFFECTS":return{...e,showEffects:t.payload};default:return e}}function _B(){const[e,t]=m.useReducer(EB,NB),n=m.useCallback(()=>{t({type:"TOGGLE_STATS"})},[]),r=m.useCallback(()=>{t({type:"TOGGLE_POWERS"})},[]),a=m.useCallback(()=>{t({type:"TOGGLE_SKILLS"})},[]),o=m.useCallback(()=>{t({type:"TOGGLE_EFFECTS"})},[]),s=m.useCallback(f=>{t({type:"TOGGLE_ALL",payload:f})},[]),i=m.useCallback(f=>{t({type:"SET_STATS",payload:f})},[]),c=m.useCallback(f=>{t({type:"SET_POWERS",payload:f})},[]),u=m.useCallback(f=>{t({type:"SET_SKILLS",payload:f})},[]),d=m.useCallback(f=>{t({type:"SET_EFFECTS",payload:f})},[]);return{...e,toggleStats:n,togglePowers:r,toggleSkills:a,toggleEffects:o,toggleAll:s,setStats:i,setPowers:c,setSkills:u,setEffects:d}}function Jb(){const{birthsigns:e,loading:t,error:n}=DA(),{selectedTags:r,sortBy:a,viewMode:o,addTag:s,removeTag:i,setSort:c,setViewMode:u,searchCategories:d,sortedDisplayItems:f}=SB(e),[h,p]=m.useState(new Set),{showStats:y,showPowers:x,showSkills:w,showEffects:g,toggleStats:v,togglePowers:S,toggleSkills:b,toggleEffects:E,toggleAll:j,setStats:N,setPowers:C,setSkills:_,setEffects:A}=_B(),O=f.length>0&&f.every(R=>h.has(R.id));f.some(R=>h.has(R.id));const B=R=>{const k=new Set(h),$=3,T=f.findIndex(F=>F.id===R),D=Math.floor(T/$)*$,M=Math.min(D+$,f.length);f.slice(D,M).some(F=>k.has(F.id))?f.slice(D,M).forEach(F=>{k.delete(F.id)}):f.slice(D,M).forEach(F=>{k.add(F.id)}),p(k)};return t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading birthsigns..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ea,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(If,{categories:d,onSelect:R=>{let k;typeof R=="string"?k={id:`custom-${R}`,label:R,value:R,category:"Fuzzy Search"}:k={id:`${R.category}-${R.id}`,label:R.label,value:R.value,category:R.category},r.some($=>$.value===k.value&&$.category===k.category)||s(k)},onCustomSearch:R=>{let k;typeof R=="string"?k={id:`custom-${R}`,label:R,value:R,category:"Fuzzy Search"}:k={id:`${R.category}-${R.id}`,label:R.label,value:R.value,category:R.category},r.some($=>$.value===k.value&&$.category===k.category)||s(k)}})}),l.jsxs(Ey,{children:[l.jsx(_y,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(ia,{className:"h-4 w-4"}),a==="alphabetical"?"A-Z":a==="group"?"Type":"Count"]})}),l.jsxs($f,{align:"end",children:[l.jsx(ta,{onClick:()=>c("alphabetical"),children:"Alphabetical"}),l.jsx(ta,{onClick:()=>c("group"),children:"Birthsign Group"}),l.jsx(ta,{onClick:()=>c("power-count"),children:"Power Count"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Sf,{className:"h-4 w-4"})}),l.jsx(ae,{variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(wf,{className:"h-4 w-4"})})]}),l.jsx(ae,{variant:"outline",size:"sm",onClick:O?()=>{p(new Set)}:()=>{p(new Set(f.map(R=>R.id)))},className:"flex items-center justify-center",title:O?"Collapse all accordions":"Expand all accordions",children:O?l.jsx($E,{className:"h-4 w-4"}):l.jsx(OE,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:r.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>r.forEach(R=>i(R.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(xn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),r.map(R=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>i(R.id),title:"Click to remove",children:[R.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},R.id))]})}),f.length>0&&l.jsx(Py,{type:"single",collapsible:!0,className:"w-full",children:l.jsxs(Uf,{value:"customize-display",className:"border-none",children:[l.jsxs(Gf,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-background hover:bg-muted/50 transition-colors data-[state=open]:rounded-b-none data-[state=open]:border-b-0 justify-start",children:[l.jsx(PE,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Customize Display"})]}),l.jsx(Vf,{className:"px-3 py-3 rounded-b-lg border border-t-0 bg-background",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(Br,{checked:y&&x&&w&&g,onCheckedChange:j}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs("div",{className:"flex items-stretch gap-3 w-full",children:[l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:v,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(qr,{className:"text-base font-medium",children:"Stats"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute modifications"})]}),l.jsx(Br,{checked:y,onCheckedChange:N,onClick:R=>R.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:S,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(qr,{className:"text-base font-medium",children:"Powers"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Special abilities and spells"})]}),l.jsx(Br,{checked:x,onCheckedChange:C,onClick:R=>R.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:b,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(qr,{className:"text-base font-medium",children:"Skills"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Skill bonuses and effects"})]}),l.jsx(Br,{checked:w,onCheckedChange:_,onClick:R=>R.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:E,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(qr,{className:"text-base font-medium",children:"Effects"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Conditional and mastery effects"})]}),l.jsx(Br,{checked:g,onCheckedChange:A,onClick:R=>R.stopPropagation()})]})]})]})})]})}),o==="grid"?l.jsx(Ty,{columns:3,gap:"md",className:"w-full mt-6",children:f.map(R=>{const k=e.find(T=>{const I=R.id;return T.name.toLowerCase().replace(/\s+/g,"-")===I});if(!k)return null;const $=h.has(R.id);return l.jsx(Kp,{item:{...R,originalBirthsign:k},isExpanded:$,onToggle:()=>B(R.id),className:"w-full"},R.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:f.map(R=>{const k=e.find(T=>{const I=R.id;return T.name.toLowerCase().replace(/\s+/g,"-")===I});if(!k)return null;const $=h.has(R.id);return l.jsx(Kp,{item:{...R,originalBirthsign:k},isExpanded:$,onToggle:()=>B(R.id),className:"w-full"},R.id)})}),f.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}var cm,qf="HoverCard",[VA,VW]=nn(qf,[ji]),Xf=ji(),[CB,By]=VA(qf),ZA=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:a,onOpenChange:o,openDelay:s=700,closeDelay:i=300}=e,c=Xf(t),u=m.useRef(0),d=m.useRef(0),f=m.useRef(!1),h=m.useRef(!1),[p,y]=Pn({prop:r,defaultProp:a??!1,onChange:o,caller:qf}),x=m.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>y(!0),s)},[s,y]),w=m.useCallback(()=>{clearTimeout(u.current),!f.current&&!h.current&&(d.current=window.setTimeout(()=>y(!1),i))},[i,y]),g=m.useCallback(()=>y(!1),[y]);return m.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),l.jsx(CB,{scope:t,open:p,onOpenChange:y,onOpen:x,onClose:w,onDismiss:g,hasSelectionRef:f,isPointerDownOnContentRef:h,children:l.jsx(K_,{...c,children:n})})};ZA.displayName=qf;var YA="HoverCardTrigger",qA=m.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=By(YA,n),o=Xf(n);return l.jsx(my,{asChild:!0,...o,children:l.jsx(he.a,{"data-state":a.open?"open":"closed",...r,ref:t,onPointerEnter:te(e.onPointerEnter,Bd(a.onOpen)),onPointerLeave:te(e.onPointerLeave,Bd(a.onClose)),onFocus:te(e.onFocus,a.onOpen),onBlur:te(e.onBlur,a.onClose),onTouchStart:te(e.onTouchStart,s=>s.preventDefault())})})});qA.displayName=YA;var AB="HoverCardPortal",[ZW,kB]=VA(AB,{forceMount:void 0}),Id="HoverCardContent",XA=m.forwardRef((e,t)=>{const n=kB(Id,e.__scopeHoverCard),{forceMount:r=n.forceMount,...a}=e,o=By(Id,e.__scopeHoverCard);return l.jsx($t,{present:r||o.open,children:l.jsx(jB,{"data-state":o.open?"open":"closed",...a,onPointerEnter:te(e.onPointerEnter,Bd(o.onOpen)),onPointerLeave:te(e.onPointerLeave,Bd(o.onClose)),ref:t})})});XA.displayName=Id;var jB=m.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,...i}=e,c=By(Id,n),u=Xf(n),d=m.useRef(null),f=Re(t,d),[h,p]=m.useState(!1);return m.useEffect(()=>{if(h){const y=document.body;return cm=y.style.userSelect||y.style.webkitUserSelect,y.style.userSelect="none",y.style.webkitUserSelect="none",()=>{y.style.userSelect=cm,y.style.webkitUserSelect=cm}}},[h]),m.useEffect(()=>{if(d.current){const y=()=>{p(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var w;((w=document.getSelection())==null?void 0:w.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",y),()=>{document.removeEventListener("pointerup",y),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),m.useEffect(()=>{d.current&&MB(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),l.jsx(Nc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:s,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:te(o,y=>{y.preventDefault()}),onDismiss:c.onDismiss,children:l.jsx(py,{...u,...i,onPointerDown:te(i.onPointerDown,y=>{y.currentTarget.contains(y.target)&&p(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...i.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),TB="HoverCardArrow",RB=m.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=Xf(n);return l.jsx(gy,{...a,...r,ref:t})});RB.displayName=TB;function Bd(e){return t=>t.pointerType==="touch"?void 0:e()}function MB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var DB=ZA,zB=qA,KA=XA;const WA=DB,QA=zB,Hy=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>l.jsx(KA,{ref:a,align:t,sideOffset:n,className:K("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Ht.TOOLTIP},...r}));Hy.displayName=KA.displayName;function OB({node:e,allNodes:t,children:n,showPrerequisites:r=!0,showNextNodes:a=!0,showTags:o=!0,className:s=""}){const i=u=>t.filter(d=>d.prerequisites.includes(u)),c=u=>t.filter(d=>e.prerequisites.includes(d.name));return l.jsxs(WA,{children:[l.jsx(QA,{asChild:!0,children:n}),l.jsx(Hy,{className:`w-80 p-0 ${s}`,children:l.jsxs(ct,{className:"border-0 shadow-none",children:[l.jsx(ut,{className:"pb-2",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:e.name})}),e.icon&&l.jsx("div",{className:"w-8 h-8 ml-2",children:l.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-contain"})})]})}),l.jsxs(dt,{className:"pt-0 space-y-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),r&&e.prerequisites.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[c(e.name).map(u=>l.jsx(ue,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:u.name},u.id)),e.prerequisites.filter(u=>!t.some(d=>d.name===u)).map((u,d)=>l.jsx(ue,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500 border-gray-200",children:u},`missing-${d}`))]})]}),a&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Leads to:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[i(e.name).map(u=>l.jsx(ue,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:u.name},u.id)),i(e.name).length===0&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"No further progression"})]})]}),o&&e.tags.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((u,d)=>l.jsx(ue,{variant:"secondary",className:"text-xs",children:u},d))})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l.jsxs("p",{children:["ID: ",e.id]}),e.globalFormId&&l.jsxs("p",{children:["Form ID: ",e.globalFormId]})]})]})]})})]})}function JA({node:e,allNodes:t,variant:n="default",size:r="md",showHoverCard:a=!0,onClick:o,className:s=""}){const i={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},c=l.jsx(ue,{variant:n,className:`
        ${i[r]} 
        ${o?"cursor-pointer hover:bg-muted/50":""} 
        ${s}
        rounded-full
      `,onClick:o,children:e.name});return a?l.jsx(OB,{node:e,allNodes:t,children:c}):c}function ek({path:e,allNodes:t,onBreadcrumbClick:n,variant:r="default",className:a=""}){if(e.length===0)return l.jsx("div",{className:`flex items-center gap-2 ${a}`,children:l.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})});const o=r==="compact"?"sm":"md";return l.jsx("div",{className:`flex items-center gap-2 ${a}`,children:e.map((s,i)=>l.jsxs(P.Fragment,{children:[l.jsx(JA,{node:s,allNodes:t,variant:i===e.length-1?"default":"outline",size:o,showHoverCard:!0,onClick:n?()=>n(i):void 0}),i<e.length-1&&l.jsx(bf,{className:"w-4 h-4 text-muted-foreground"})]},s.id))})}function $B({path:e,allNodes:t,selectedPathLength:n,isComplete:r,endNode:a,onPathClick:o,variant:s="default",className:i=""}){const c=s==="compact"?"sm":"md";return l.jsxs("div",{className:`p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer ${i}`,onClick:()=>o(e,n),children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx("div",{className:"flex flex-wrap items-center gap-1",children:e.map((u,d)=>l.jsxs(P.Fragment,{children:[l.jsx(JA,{node:u,allNodes:t,variant:"outline",size:c,showHoverCard:!0,onClick:f=>{f==null||f.stopPropagation(),o(e,d)},className:`
                   ${d===0&&n===0?"cursor-pointer":""}
                   ${r&&d===e.length-1?"bg-yellow-600 text-yellow-50 border-yellow-700":""}
                 `}),d<e.length-1&&l.jsx(bf,{className:"w-3 h-3 text-muted-foreground"})]},u.id))})}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Length: ",e.length," steps"]}),r&&l.jsxs("span",{children:[" Ends at: ",a.name]}),e.length>n&&l.jsxs("span",{children:[" ",e.length-n," more choices"]})]})]})}function PB({path:e,className:t=""}){return e.length===0?l.jsxs("div",{className:`space-y-2 ${t}`,children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Selected Path"}),l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:l.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})})]}):l.jsxs("div",{className:`space-y-2 ${t}`,children:[l.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Selected Path (",e.length," nodes)"]}),l.jsx("div",{className:"space-y-2",children:e.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium",children:r+1}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-sm",children:n.name}),n.description&&l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:n.description})]})]}),l.jsx(ue,{variant:"secondary",className:r===e.length-1?"bg-yellow-600 text-yellow-50":"bg-blue-500",children:r===e.length-1?"Current":"Selected"})]},n.id))})]})}class LB{constructor(){Ti(this,"nodes",[]);Ti(this,"loading",!1);Ti(this,"error",null);Ti(this,"loaded",!1)}async loadNodes(){if(this.loaded&&this.nodes.length>0)return this.nodes;try{this.loading=!0,this.error=null;const t=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!t.ok)throw new Error("Failed to fetch destiny data");const r=(await t.json()).map((a,o)=>({id:a.globalFormId||`destiny-${o}`,name:a.name,description:a.description,tags:[],prerequisites:a.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:a.globalFormId}));return this.enrichNodesWithTags(r),this.nodes=r,this.loaded=!0,this.nodes}catch(t){throw this.error="Failed to load destiny data",console.error("Error loading destiny data:",t),new Error(this.error)}finally{this.loading=!1}}getNodes(){return this.nodes}isLoading(){return this.loading}getError(){return this.error}isLoaded(){return this.loaded}async retry(){return this.loaded=!1,this.nodes=[],this.loadNodes()}clear(){this.nodes=[],this.loaded=!1,this.error=null}enrichNodesWithTags(t){t.forEach(n=>{const r=[],a=n.description.toLowerCase();a.includes("magicka")&&r.push("Magic"),a.includes("health")&&r.push("Defensive"),a.includes("stamina")&&r.push("Utility"),a.includes("damage")&&r.push("Offensive"),a.includes("armor")&&r.push("Defensive"),a.includes("spell")&&r.push("Magic"),a.includes("weapon")&&r.push("Combat"),n.tags=r})}}class or{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.description=="string"&&Array.isArray(t.tags)&&Array.isArray(t.prerequisites)}static equals(t,n){return t.id===n.id}static hasTag(t,n){return t.tags.includes(n)}static hasAnyTag(t,n){return n.some(r=>this.hasTag(t,r))}static hasAllTags(t,n){return n.every(r=>this.hasTag(t,r))}static filterByTag(t,n){return t.filter(r=>this.hasTag(r,n))}static filterByAnyTag(t,n){return t.filter(r=>this.hasAnyTag(r,n))}static filterByAllTags(t,n){return t.filter(r=>this.hasAllTags(r,n))}static isRootNode(t){return t.prerequisites.length===0}static getRootNodes(t){return t.filter(n=>this.isRootNode(n))}static isLeafNode(t,n){return!n.some(r=>r.prerequisites.includes(t.name))}static getLeafNodes(t){return t.filter(n=>this.isLeafNode(n,t))}static getNextNodes(t,n){return n.filter(r=>r.prerequisites.includes(t.name))}static getPrerequisiteNodes(t,n){return n.filter(r=>t.prerequisites.includes(r.name))}static search(t,n){const r=n.toLowerCase();return t.filter(a=>a.name.toLowerCase().includes(r)||a.description.toLowerCase().includes(r)||a.tags.some(o=>o.toLowerCase().includes(r)))}static sortByName(t){return[...t].sort((n,r)=>n.name.localeCompare(r.name))}static sortByPrerequisites(t){return[...t].sort((n,r)=>n.prerequisites.length-r.prerequisites.length)}static getUniqueTags(t){const n=t.flatMap(r=>r.tags);return[...new Set(n)].sort()}static getUniquePrerequisites(t){const n=t.flatMap(r=>r.prerequisites);return[...new Set(n)].sort()}}function Ko(e={}){const{includePrerequisites:t=!1,includeNextNodes:n=!1,filterByTags:r=[],searchTerm:a="",sortBy:o="name"}=e,[s,i]=m.useState([]),[c,u]=m.useState(!0),[d,f]=m.useState(null),[h]=m.useState(()=>new LB);m.useEffect(()=>{(async()=>{try{u(!0),f(null);const A=await h.loadNodes();i(A)}catch(A){f(A instanceof Error?A.message:"Failed to load destiny nodes")}finally{u(!1)}})()},[h]);const p=m.useMemo(()=>or.getRootNodes(s),[s]),y=m.useMemo(()=>[],[s]),x=m.useMemo(()=>or.getUniqueTags(s),[s]),w=m.useMemo(()=>{let _=[...s];return r.length>0&&(_=or.filterByAnyTag(_,r)),a&&(_=or.search(_,a)),o==="name"?_=or.sortByName(_):o==="prerequisites"&&(_=or.sortByPrerequisites(_)),_},[s,r,a,o]),g=_=>s.find(A=>A.id===_),v=_=>s.find(A=>A.name===_);return{nodes:s,rootNodes:p,filteredNodes:w,isLoading:c,error:d,categories:y,tags:x,refresh:async()=>{try{u(!0),f(null);const _=await h.loadNodes();i(_)}catch(_){f(_ instanceof Error?_.message:"Failed to refresh destiny nodes")}finally{u(!1)}},getNodeById:g,getNodeByName:v,getNextNodes:_=>{const A=v(_);return A?or.getNextNodes(A,s):[]},getPrerequisiteNodes:_=>{const A=v(_);return A?or.getPrerequisiteNodes(A,s):[]},filterByCategory:_=>[],filterByTag:_=>or.filterByTag(s,_),searchNodes:_=>or.search(s,_)}}function Kf(e={}){const{fromNode:t,maxDepth:n=10}=e,{nodes:r,rootNodes:a,isLoading:o,error:s}=Ko();return{possiblePaths:m.useMemo(()=>{if(o||s||!r.length)return[];const c=[],u=new Set,d=h=>r.filter(p=>p.prerequisites.includes(h)),f=(h,p=0)=>{if(p>=n)return;const y=h[h.length-1],x=d(y.name);if(x.length===0){c.push({path:[...h],isComplete:!0,endNode:y});return}x.forEach(w=>{const g=h.map(v=>v.id).join("->")+"->"+w.id;u.has(g)||(u.add(g),f([...h,w],p+1))})};if(t){if(d(t.name).length===0)return[];f([t])}else a.forEach(h=>{f([h])});return c},[r,a,t,n,o,s]),isLoading:o,error:s}}function tk(e){const{filterType:t,currentPath:n=[]}=e,{nodes:r,rootNodes:a}=Ko(),[o,s]=m.useState([]),{possiblePaths:i}=Kf({fromNode:n.length>0?n[n.length-1]:void 0}),c=m.useMemo(()=>{if(t!=="build-path"||n.length===0)return r;const w=new Set,g=new Set,v=b=>{g.has(b)||(g.add(b),w.add(b),r.forEach(E=>{E.prerequisites.includes(b)&&v(E.name)}))},S=n[n.length-1];return v(S.name),r.filter(b=>w.has(b.name))},[t,n,r,a]),u=m.useMemo(()=>{if(t==="build-path"){const w=new Set,g=new Set;i.forEach(b=>{b.path.forEach(E=>{w.add(E.name)}),b.path.length>0&&g.add(b.path[b.path.length-1].name)});const v=r.filter(b=>w.has(b.name)),S=r.filter(b=>g.has(b.name));return[{id:"includes-node",name:"Includes Node",placeholder:"Filter paths that include this node...",options:v.map(b=>{const E=i.filter(j=>j.path.some(N=>N.name===b.name)).length;return{id:`includes-${b.id}`,label:b.name,value:b.name,category:"Includes Node",description:`${E} path${E!==1?"s":""} include ${b.name}`}})},{id:"ends-with-node",name:"Ends With Node",placeholder:"Filter paths that end with this node...",options:S.map(b=>{const E=i.filter(j=>j.path.length>0&&j.path[j.path.length-1].name===b.name).length;return{id:`ends-${b.id}`,label:b.name,value:b.name,category:"Ends With Node",description:`${E} path${E!==1?"s":""} end with ${b.name}`}})}]}else{const w=[...new Set(r.flatMap(v=>v.tags))],g=[...new Set(r.flatMap(v=>v.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:w.map(v=>({id:`tag-${v}`,label:v,value:v,category:"Tags",description:`Nodes with ${v} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Filter by prerequisite...",options:g.map(v=>({id:`prereq-${v}`,label:v,value:v,category:"Prerequisites",description:`Nodes requiring ${v}`}))}]}},[t,c,r,i]),d=m.useCallback(w=>{s(g=>g.some(S=>S.type===w.type&&S.nodeName===w.nodeName)?g:[...g,w])},[]),f=m.useCallback(w=>{s(g=>g.filter(v=>v.id!==w))},[]),h=m.useCallback(()=>{s([])},[]),p=m.useCallback(()=>u.flatMap(w=>w.options),[u]),y=m.useCallback(w=>c.some(g=>g.id===w.id),[c]),x=m.useMemo(()=>t!=="build-path"||o.length===0?i.map(w=>w.path):i.map(w=>w.path).filter(w=>o.every(g=>{switch(g.type){case"includes-node":return w.some(v=>v.name===g.nodeName);case"ends-with-node":return w.length>0&&w[w.length-1].name===g.nodeName;default:return!0}})),[t,o,i]);return{selectedFilters:o,searchCategories:u,addFilter:d,removeFilter:f,clearFilters:h,filteredPaths:x,availableNodes:c,getFilterOptions:p,isNodeAvailable:y}}function Fy(e={}){const{initialPath:t=[],validatePath:n=!0}=e,[r,a]=m.useState(t),{nodes:o,rootNodes:s}=Ko(),i=m.useMemo(()=>r.length>0?r[r.length-1]:null,[r]),c=m.useMemo(()=>r.length===0?s:o.filter(S=>S.prerequisites.length===0?!1:S.prerequisites.some(b=>r.some(E=>E.name===b))),[r,o,s]),u=m.useMemo(()=>i?o.filter(S=>S.prerequisites.includes(i.name)):s,[i,o,s]),d=m.useMemo(()=>i?o.filter(S=>i.prerequisites.includes(S.name)):[],[i,o]),{isValidPath:f,pathErrors:h}=m.useMemo(()=>{if(!n||r.length===0)return{isValidPath:!0,pathErrors:[]};const S=[];for(let b=1;b<r.length;b++){const E=r[b],j=r.slice(0,b);!E.prerequisites.some(C=>j.some(_=>_.name===C))&&E.prerequisites.length>0&&S.push(`${E.name} requires one of: ${E.prerequisites.join(", ")}`)}return{isValidPath:S.length===0,pathErrors:S}},[r,n]),p=m.useCallback(S=>{if(r.length>0){if(r[r.length-1],!S.prerequisites.some(E=>r.some(j=>j.name===E))&&S.prerequisites.length>0)return!1}else if(S.prerequisites.length>0)return!1;return a(b=>[...b,S]),!0},[r]),y=m.useCallback(S=>{a(b=>b.slice(0,S+1))},[]),x=m.useCallback(S=>{a(S)},[]),w=m.useCallback(()=>{a([])},[]),g=m.useCallback(S=>{a(b=>b.slice(0,S+1))},[]),v=m.useCallback(()=>({startNode:r[0]||null,endNode:r[r.length-1]||null,totalNodes:r.length,pathString:r.map(S=>S.name).join("  ")}),[r]);return{currentPath:r,currentNode:i,availableNodes:c,rootNodes:s,isValidPath:f,pathErrors:h,addNodeToPath:p,removeNodeFromPath:y,setPath:x,clearPath:w,goToPathIndex:g,pathLength:r.length,isPathComplete:u.length===0,nextPossibleNodes:u,prerequisiteNodes:d,getPathSummary:v}}function nk({searchCategories:e,selectedFilters:t,onFilterSelect:n,onFilterRemove:r,onClearFilters:a,className:o=""}){const s=e.find(d=>d.id==="includes-node"),i=e.find(d=>d.id==="ends-with-node"),c=e.find(d=>d.id==="tags"),u=e.find(d=>d.id==="prerequisites");return l.jsxs("div",{className:`space-y-4 ${o}`,children:[l.jsxs("div",{className:"flex flex-wrap gap-4",children:[s&&l.jsxs("div",{className:"space-y-2 max-w-sm",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Includes"}),l.jsx(vo,{categories:[s],onSelect:n,placeholder:s.placeholder,className:"w-full"})]}),i&&l.jsxs("div",{className:"space-y-2 max-w-sm",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Ends With"}),l.jsx(vo,{categories:[i],onSelect:n,placeholder:i.placeholder,className:"w-full"})]}),c&&l.jsxs("div",{className:"space-y-2 max-w-sm",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Tags"}),l.jsx(vo,{categories:[c],onSelect:n,placeholder:c.placeholder,className:"w-full"})]}),u&&l.jsxs("div",{className:"space-y-2 max-w-sm",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Prerequisites"}),l.jsx(vo,{categories:[u],onSelect:n,placeholder:u.placeholder,className:"w-full"})]})]}),t.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Active Filters"}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:a,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(xn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),t.map(d=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>r(d.id),title:"Click to remove",children:[l.jsx("span",{className:"text-xs opacity-70 mr-1",children:d.type==="includes-node"?"Includes:":d.type==="ends-with-node"?"Ends:":d.type==="tags"?"Tag:":"Prereq:"}),d.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},d.id))]})]})]})}function ag({possiblePaths:e,selectedPathLength:t,onPathClick:n,variant:r="default",className:a=""}){const{nodes:o}=Ko();return e.length===0?l.jsxs("div",{className:`text-center py-8 ${a}`,children:[l.jsx("p",{className:"text-muted-foreground",children:"No possible paths available."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You may have reached the end of available destiny paths."})]}):l.jsx("div",{className:`space-y-3 ${a}`,children:e.map((s,i)=>l.jsx($B,{path:s.path,allNodes:o,selectedPathLength:t,isComplete:s.isComplete,endNode:s.endNode,onPathClick:n,variant:r},i))})}function IB({onPathChange:e,onPathComplete:t,className:n="",compact:r=!1}){var C,_;const{currentPath:a,currentNode:o,isValidPath:s,pathErrors:i,setPath:c,clearPath:u,goToPathIndex:d,isPathComplete:f,getPathSummary:h}=Fy(),{possiblePaths:p}=Kf({fromNode:o||void 0}),{nodes:y}=Ko(),x=tk({filterType:"build-path",currentPath:a}),w=x.selectedFilters.length>0?x.filteredPaths:p.map(A=>A.path),g=A=>{if(typeof A=="string")return;let O,B;if(A.category==="Includes Node")O="includes-node",B=A.id.replace(/^includes-/,"");else if(A.category==="Ends With Node")O="ends-with-node",B=A.id.replace(/^ends-/,"");else return;const R={id:A.id,type:O,nodeName:A.value,nodeId:B,label:A.label};x.addFilter(R)},v=A=>{x.removeFilter(A)},S=()=>{x.clearFilters()},b=(A,O)=>{let B;if(a.length===0)B=A.slice(0,O+1);else{if(O===0)return;const R=A.slice(1,O+1);B=[...a,...R]}c(B),e==null||e(B),f&&(t==null||t(B))},E=A=>{d(A),e==null||e(a)},j=()=>{u(),e==null||e([])},N=h();return r?l.jsxs("div",{className:`space-y-4 ${n}`,children:[l.jsx(PB,{path:a}),a.length>0&&l.jsx("div",{className:"flex justify-end",children:l.jsxs(ae,{variant:"outline",size:"sm",onClick:j,className:"text-xs",children:[l.jsx(Pl,{className:"w-3 h-3 mr-1"}),"Clear Path"]})}),w.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Possible Remaining Paths"}),l.jsx(Zl,{className:"h-[200px]",children:l.jsx("div",{className:"p-4",children:l.jsx(ag,{possiblePaths:w.map(A=>({path:A,isComplete:!1,endNode:A[A.length-1]})),selectedPathLength:a.length,onPathClick:b,variant:"compact"})})})]}),!s&&i.length>0&&l.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(Rp,{className:"w-3 h-3"}),l.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),l.jsx("ul",{className:"space-y-0.5",children:i.map((A,O)=>l.jsxs("li",{children:[" ",A]},O))})]})]}):l.jsxs("div",{className:`space-y-6 ${n}`,children:[l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(Mp,{className:"w-5 h-5 text-primary"}),"Destiny Path Builder"]}),l.jsx("div",{className:"flex items-center gap-2",children:a.length>0&&l.jsxs(ae,{variant:"outline",size:"sm",onClick:j,className:"flex items-center gap-1",children:[l.jsx(Pl,{className:"w-4 h-4"}),"Clear Path"]})})]})}),l.jsxs(dt,{children:[l.jsx(ek,{path:a,allNodes:y,onBreadcrumbClick:E,className:"mb-4"}),a.length>0&&l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{children:["Path Length: ",a.length]}),l.jsx("span",{children:""}),l.jsxs("span",{children:["Start: ",(C=N.startNode)==null?void 0:C.name]}),l.jsx("span",{children:""}),l.jsxs("span",{children:["Current: ",(_=N.endNode)==null?void 0:_.name]}),f&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsx(ue,{variant:"default",className:"text-xs",children:"Complete"})]})]}),!s&&i.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[l.jsx(Rp,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium",children:"Path Validation Errors:"})]}),l.jsx("ul",{className:"text-sm space-y-1",children:i.map((A,O)=>l.jsxs("li",{className:"text-destructive",children:[" ",A]},O))})]})]})]}),a.length>0&&l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsx(vt,{className:"text-lg",children:"Current Path"})}),l.jsx(dt,{children:l.jsx("div",{className:"space-y-2",children:a.map((A,O)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[l.jsx(ue,{variant:"outline",className:"text-xs",children:O+1}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium",children:A.name}),l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:A.description})]})]},A.id))})})]}),l.jsxs(ct,{children:[l.jsxs(ut,{children:[l.jsx(vt,{className:"text-lg",children:a.length===0?"Choose Your Starting Point":"Possible Paths"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:a.length===0?"Select a root destiny node to begin your path":w.length===0?x.selectedFilters.length>0?"No paths match your current filters":"You have reached the end of this destiny path":x.selectedFilters.length>0?`Showing ${w.length} filtered paths from your current position`:`Explore ${w.length} possible paths from your current position`})]}),l.jsxs(dt,{className:"h-[600px] p-0",children:[l.jsx("div",{className:"p-6 pb-6",children:l.jsx(nk,{searchCategories:x.searchCategories,selectedFilters:x.selectedFilters,onFilterSelect:g,onFilterRemove:v,onClearFilters:S})}),w.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[x.selectedFilters.length>0?l.jsx(C4,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}):l.jsx(Mp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg font-medium",children:x.selectedFilters.length>0?"No paths match your filters":"Path Complete!"}),l.jsx("p",{className:"text-sm",children:x.selectedFilters.length>0?"Try adjusting your filters to see more paths.":"You've reached the end of this destiny path."})]}):l.jsx(Zl,{className:"h-[calc(600px-200px)]",children:l.jsx("div",{className:"p-6 pt-4",children:l.jsx(ag,{possiblePaths:w.map(A=>({path:A,isComplete:!1,endNode:A[A.length-1]})),selectedPathLength:a.length,onPathClick:b})})})]})]})]})}function BB({item:e,originalNode:t,allNodes:n}){const r=a=>n.filter(o=>o.prerequisites.includes(a)).map(o=>o.name);return l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((a,o)=>l.jsx(ue,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:a},o))})]}),t&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[r(t.name).map((a,o)=>l.jsx(ue,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:a},o)),r(t.name).length===0&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((a,o)=>l.jsx(ue,{variant:"secondary",className:"text-xs",children:a},o))})]})]})}function HB({items:e,allNodes:t}){return l.jsx(Zl,{className:"h-[calc(100vh-500px)]",children:l.jsx(Py,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>l.jsxs(Uf,{value:n.id,children:[l.jsx(Gf,{className:"text-left hover:no-underline",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),l.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),l.jsx(Vf,{children:l.jsx(BB,{item:n,originalNode:t.find(r=>r.id===n.id),allNodes:t})})]},n.id))})})}const FB=({navigate:e})=>{const{build:t,setDestinyPath:n}=Ut(),{nodes:r,isLoading:a,error:o}=Ko(),s=P.useMemo(()=>t.destinyPath.map(v=>r.find(S=>S.id===v)).filter(v=>!!v),[t.destinyPath,r]),{isValidPath:i,pathErrors:c,setPath:u,clearPath:d,currentPath:f,currentNode:h}=Fy({initialPath:s,validatePath:!0}),{possiblePaths:p}=Kf({fromNode:h||void 0}),y=v=>{const S=v.map(b=>b.id);n(S)},x=(v,S)=>{let b;if(f.length===0)b=v.slice(0,S+1);else{if(S===0)return;const E=v.slice(1,S+1);b=[...f,...E]}u(b),y(b)},w=()=>{d(),n([])},g=v=>{const S=f.slice(0,v+1);u(S),y(S)};return l.jsxs(ct,{className:"mb-6",children:[l.jsx(ut,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx(vt,{className:"text-lg",children:"Destiny"}),l.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:[l.jsx(Dp,{className:"w-4 h-4 mr-1"}),"View All"]})]})}),l.jsx(dt,{children:a?l.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):o?l.jsx("div",{className:"text-destructive",children:o}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Selected Path"}),l.jsx(ek,{path:f,allNodes:r,variant:"compact",onBreadcrumbClick:g})]}),f.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Path Details (",f.length," nodes)"]}),l.jsxs(ae,{variant:"outline",size:"sm",onClick:w,className:"text-xs",children:[l.jsx(Pl,{className:"w-3 h-3 mr-1"}),"Clear Path"]})]}),l.jsx("div",{className:"space-y-2",children:f.map((v,S)=>l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium flex-shrink-0",children:S+1}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h5",{className:"font-medium text-sm text-foreground",children:v.name}),v.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:v.description})]})]})},v.id))})]}),p.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:f.length===0?"Choose Your Starting Point":"Continue Your Path"}),l.jsx(Zl,{className:"h-[200px]",children:l.jsx("div",{className:"p-2",children:l.jsx(ag,{possiblePaths:p,selectedPathLength:f.length,onPathClick:x,variant:"compact"})})})]}),!i&&c.length>0&&l.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(Rp,{className:"w-3 h-3"}),l.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),l.jsx("ul",{className:"space-y-0.5",children:c.map((v,S)=>l.jsxs("li",{children:[" ",v]},S))})]}),f.length===0&&p.length===0&&l.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[l.jsx("p",{className:"text-sm",children:"No destiny paths available"}),l.jsx(ae,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"mt-2",children:"Browse All Destinies"})]})]})})]})};function UB({items:e,filters:t=[]}){const[n,r]=m.useState(null),[a,o]=m.useState("grid"),[s,i]=m.useState({search:"",selectedFilters:{},selectedTags:[]}),c=m.useMemo(()=>{let y=e;if(s.search){const x=s.search.toLowerCase();y=y.filter(w=>w.name.toLowerCase().includes(x)||w.description.toLowerCase().includes(x)||w.tags.some(g=>g.toLowerCase().includes(x)))}return s.selectedTags.length>0&&(y=y.filter(x=>s.selectedTags.some(w=>x.tags.includes(w.value)||x.category===w.value||x.name.toLowerCase().includes(w.value.toLowerCase())))),y},[e,s]),u=m.useMemo(()=>t.length===0?[]:t.map(y=>({...y,options:y.options.map(x=>({...x,count:e.filter(w=>w.tags.includes(x.value)||w.category===x.value).length}))})),[t,e]),d=m.useCallback(y=>{r(y)},[]),f=m.useCallback(y=>{i(y)},[]),h=m.useCallback(y=>{i(x=>({...x,search:y}))},[]),p=m.useCallback(y=>{o(y)},[]);return{selectedItem:n,viewMode:a,currentFilters:s,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:f,handleSearch:h,handleViewModeChange:p,setSelectedItem:r}}function ew(){const{nodes:e,isLoading:t,error:n}=Ko(),{currentPath:r,setPath:a}=Fy({validatePath:!0});Kf({fromNode:r.length>0?r[r.length-1]:void 0});const o=tk({filterType:"reference"}),i=m.useMemo(()=>o.selectedFilters.length===0?e:e.filter(p=>o.selectedFilters.every(y=>{switch(y.type){case"tags":return p.tags.includes(y.nodeName);case"prerequisites":return p.prerequisites.includes(y.nodeName);default:return!0}})),[e,o.selectedFilters]).map(p=>({id:p.id,name:p.name,description:p.description,tags:p.tags,summary:p.description,effects:[],associatedItems:[],imageUrl:void 0,category:void 0}));UB({items:i,filters:[]});const c=p=>{if(typeof p=="string")return;let y,x;if(p.category==="Tags")y="tags",x=p.id.replace(/^tag-/,"");else if(p.category==="Prerequisites")y="prerequisites",x=p.id.replace(/^prereq-/,"");else return;const w={id:p.id,type:y,nodeName:p.value,nodeId:x,label:p.label};o.addFilter(w)},u=p=>{o.removeFilter(p)},d=()=>{o.clearFilters()},f=p=>{a(p)},h=p=>{a(p)};return t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsx(ea,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:l.jsx("div",{className:"mb-6",children:l.jsxs(ny,{defaultValue:"path",className:"w-full",children:[l.jsxs(ry,{className:"grid w-full grid-cols-2",children:[l.jsx(Hl,{value:"path",children:"Path Builder"}),l.jsx(Hl,{value:"reference",children:"Reference"})]}),l.jsxs(Ad,{value:"reference",className:"space-y-4",children:[l.jsx(nk,{searchCategories:o.searchCategories,selectedFilters:o.selectedFilters,onFilterSelect:c,onFilterRemove:u,onClearFilters:d}),l.jsx("div",{className:"w-full",children:l.jsx(HB,{items:i,allNodes:e})})]}),l.jsx(Ad,{value:"path",className:"space-y-4",children:l.jsx(IB,{onPathChange:f,onPathComplete:h})})]})})})}function Vt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Vt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var rk={exports:{}},ak={},ok={exports:{}},sk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=m;function GB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VB=typeof Object.is=="function"?Object.is:GB,ZB=li.useState,YB=li.useEffect,qB=li.useLayoutEffect,XB=li.useDebugValue;function KB(e,t){var n=t(),r=ZB({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return qB(function(){a.value=n,a.getSnapshot=t,um(a)&&o({inst:a})},[e,n,t]),YB(function(){return um(a)&&o({inst:a}),e(function(){um(a)&&o({inst:a})})},[e]),XB(n),n}function um(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!VB(e,n)}catch{return!0}}function WB(e,t){return t()}var QB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WB:KB;sk.useSyncExternalStore=li.useSyncExternalStore!==void 0?li.useSyncExternalStore:QB;ok.exports=sk;var JB=ok.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=m,e9=JB;function t9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var n9=typeof Object.is=="function"?Object.is:t9,r9=e9.useSyncExternalStore,a9=Wf.useRef,o9=Wf.useEffect,s9=Wf.useMemo,i9=Wf.useDebugValue;ak.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=a9(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=s9(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),a!==void 0&&s.hasValue){var y=s.value;if(a(y,p))return f=y}return f=p}if(y=f,n9(d,p))return y;var x=r(p);return a!==void 0&&a(y,x)?(d=p,y):(d=p,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,a]);var i=r9(e,o[0],o[1]);return o9(function(){s.hasValue=!0,s.value=i},[i]),i9(i),i};rk.exports=ak;var l9=rk.exports;const c9=Mg(l9),u9={},tw=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(u9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,a,c);return c},d9=e=>e?tw(e):tw,{useDebugValue:f9}=P,{useSyncExternalStoreWithSelector:h9}=c9,m9=e=>e;function ik(e,t=m9,n){const r=h9(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return f9(r),r}const nw=(e,t)=>{const n=d9(e),r=(a,o=t)=>ik(n,a,o);return Object.assign(r,n),r},p9=(e,t)=>e?nw(e,t):nw;function en(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var g9={value:()=>{}};function Qf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gu(n)}function Gu(e){this._=e}function y9(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gu.prototype=Qf.prototype={constructor:Gu,on:function(e,t){var n=this._,r=y9(e+"",n),a,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((a=(e=r[o]).type)&&(a=v9(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(e=r[o]).type)n[a]=rw(n[a],e.name,t);else if(t==null)for(a in n)n[a]=rw(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gu(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function v9(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function rw(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=g9,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var og="http://www.w3.org/1999/xhtml";const aw={svg:"http://www.w3.org/2000/svg",xhtml:og,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),aw.hasOwnProperty(t)?{space:aw[t],local:e}:e}function x9(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===og&&t.documentElement.namespaceURI===og?t.createElement(e):t.createElementNS(n,e)}}function b9(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function lk(e){var t=Jf(e);return(t.local?b9:x9)(t)}function w9(){}function Uy(e){return e==null?w9:function(){return this.querySelector(e)}}function S9(e){typeof e!="function"&&(e=Uy(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=new Array(s),c,u,d=0;d<s;++d)(c=o[d])&&(u=e.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),i[d]=u);return new Sn(r,this._parents)}function N9(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function E9(){return[]}function ck(e){return e==null?E9:function(){return this.querySelectorAll(e)}}function _9(e){return function(){return N9(e.apply(this,arguments))}}function C9(e){typeof e=="function"?e=_9(e):e=ck(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var s=t[o],i=s.length,c,u=0;u<i;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),a.push(c));return new Sn(r,a)}function uk(e){return function(){return this.matches(e)}}function dk(e){return function(t){return t.matches(e)}}var A9=Array.prototype.find;function k9(e){return function(){return A9.call(this.children,e)}}function j9(){return this.firstElementChild}function T9(e){return this.select(e==null?j9:k9(typeof e=="function"?e:dk(e)))}var R9=Array.prototype.filter;function M9(){return Array.from(this.children)}function D9(e){return function(){return R9.call(this.children,e)}}function z9(e){return this.selectAll(e==null?M9:D9(typeof e=="function"?e:dk(e)))}function O9(e){typeof e!="function"&&(e=uk(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&i.push(c);return new Sn(r,this._parents)}function fk(e){return new Array(e.length)}function $9(){return new Sn(this._enter||this._groups.map(fk),this._parents)}function Hd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Hd.prototype={constructor:Hd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function P9(e){return function(){return e}}function L9(e,t,n,r,a,o){for(var s=0,i,c=t.length,u=o.length;s<u;++s)(i=t[s])?(i.__data__=o[s],r[s]=i):n[s]=new Hd(e,o[s]);for(;s<c;++s)(i=t[s])&&(a[s]=i)}function I9(e,t,n,r,a,o,s){var i,c,u=new Map,d=t.length,f=o.length,h=new Array(d),p;for(i=0;i<d;++i)(c=t[i])&&(h[i]=p=s.call(c,c.__data__,i,t)+"",u.has(p)?a[i]=c:u.set(p,c));for(i=0;i<f;++i)p=s.call(e,o[i],i,o)+"",(c=u.get(p))?(r[i]=c,c.__data__=o[i],u.delete(p)):n[i]=new Hd(e,o[i]);for(i=0;i<d;++i)(c=t[i])&&u.get(h[i])===c&&(a[i]=c)}function B9(e){return e.__data__}function H9(e,t){if(!arguments.length)return Array.from(this,B9);var n=t?I9:L9,r=this._parents,a=this._groups;typeof e!="function"&&(e=P9(e));for(var o=a.length,s=new Array(o),i=new Array(o),c=new Array(o),u=0;u<o;++u){var d=r[u],f=a[u],h=f.length,p=F9(e.call(d,d&&d.__data__,u,r)),y=p.length,x=i[u]=new Array(y),w=s[u]=new Array(y),g=c[u]=new Array(h);n(d,f,x,w,g,p,t);for(var v=0,S=0,b,E;v<y;++v)if(b=x[v]){for(v>=S&&(S=v+1);!(E=w[S])&&++S<y;);b._next=E||null}}return s=new Sn(s,r),s._enter=i,s._exit=c,s}function F9(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function U9(){return new Sn(this._exit||this._groups.map(fk),this._parents)}function G9(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function V9(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,s=Math.min(a,o),i=new Array(a),c=0;c<s;++c)for(var u=n[c],d=r[c],f=u.length,h=i[c]=new Array(f),p,y=0;y<f;++y)(p=u[y]||d[y])&&(h[y]=p);for(;c<a;++c)i[c]=n[c];return new Sn(i,this._parents)}function Z9(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],s;--a>=0;)(s=r[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Y9(e){e||(e=q9);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var s=n[o],i=s.length,c=a[o]=new Array(i),u,d=0;d<i;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new Sn(a,this._parents).order()}function q9(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function X9(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function K9(){return Array.from(this)}function W9(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var s=r[a];if(s)return s}return null}function Q9(){let e=0;for(const t of this)++e;return e}function J9(){return!this.node()}function eH(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,s=a.length,i;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}function tH(e){return function(){this.removeAttribute(e)}}function nH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rH(e,t){return function(){this.setAttribute(e,t)}}function aH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function oH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function sH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function iH(e,t){var n=Jf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?nH:tH:typeof t=="function"?n.local?sH:oH:n.local?aH:rH)(n,t))}function hk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lH(e){return function(){this.style.removeProperty(e)}}function cH(e,t,n){return function(){this.style.setProperty(e,t,n)}}function uH(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function dH(e,t,n){return arguments.length>1?this.each((t==null?lH:typeof t=="function"?uH:cH)(e,t,n??"")):ci(this.node(),e)}function ci(e,t){return e.style.getPropertyValue(t)||hk(e).getComputedStyle(e,null).getPropertyValue(t)}function fH(e){return function(){delete this[e]}}function hH(e,t){return function(){this[e]=t}}function mH(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function pH(e,t){return arguments.length>1?this.each((t==null?fH:typeof t=="function"?mH:hH)(e,t)):this.node()[e]}function mk(e){return e.trim().split(/^|\s+/)}function Gy(e){return e.classList||new pk(e)}function pk(e){this._node=e,this._names=mk(e.getAttribute("class")||"")}pk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gk(e,t){for(var n=Gy(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function yk(e,t){for(var n=Gy(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function gH(e){return function(){gk(this,e)}}function yH(e){return function(){yk(this,e)}}function vH(e,t){return function(){(t.apply(this,arguments)?gk:yk)(this,e)}}function xH(e,t){var n=mk(e+"");if(arguments.length<2){for(var r=Gy(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?vH:t?gH:yH)(n,t))}function bH(){this.textContent=""}function wH(e){return function(){this.textContent=e}}function SH(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function NH(e){return arguments.length?this.each(e==null?bH:(typeof e=="function"?SH:wH)(e)):this.node().textContent}function EH(){this.innerHTML=""}function _H(e){return function(){this.innerHTML=e}}function CH(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function AH(e){return arguments.length?this.each(e==null?EH:(typeof e=="function"?CH:_H)(e)):this.node().innerHTML}function kH(){this.nextSibling&&this.parentNode.appendChild(this)}function jH(){return this.each(kH)}function TH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RH(){return this.each(TH)}function MH(e){var t=typeof e=="function"?e:lk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function DH(){return null}function zH(e,t){var n=typeof e=="function"?e:lk(e),r=t==null?DH:typeof t=="function"?t:Uy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function OH(){var e=this.parentNode;e&&e.removeChild(this)}function $H(){return this.each(OH)}function PH(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function LH(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function IH(e){return this.select(e?LH:PH)}function BH(e){return arguments.length?this.property("__data__",e):this.node().__data__}function HH(e){return function(t){e.call(this,t,this.__data__)}}function FH(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function UH(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function GH(e,t,n){return function(){var r=this.__on,a,o=HH(t);if(r){for(var s=0,i=r.length;s<i;++s)if((a=r[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function VH(e,t,n){var r=FH(e+""),a,o=r.length,s;if(arguments.length<2){var i=this.node().__on;if(i){for(var c=0,u=i.length,d;c<u;++c)for(a=0,d=i[c];a<o;++a)if((s=r[a]).type===d.type&&s.name===d.name)return d.value}return}for(i=t?GH:UH,a=0;a<o;++a)this.each(i(r[a],t,n));return this}function vk(e,t,n){var r=hk(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function ZH(e,t){return function(){return vk(this,e,t)}}function YH(e,t){return function(){return vk(this,e,t.apply(this,arguments))}}function qH(e,t){return this.each((typeof t=="function"?YH:ZH)(e,t))}function*XH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,s;a<o;++a)(s=r[a])&&(yield s)}var xk=[null];function Sn(e,t){this._groups=e,this._parents=t}function Mc(){return new Sn([[document.documentElement]],xk)}function KH(){return this}Sn.prototype=Mc.prototype={constructor:Sn,select:S9,selectAll:C9,selectChild:T9,selectChildren:z9,filter:O9,data:H9,enter:$9,exit:U9,join:G9,merge:V9,selection:KH,order:Z9,sort:Y9,call:X9,nodes:K9,node:W9,size:Q9,empty:J9,each:eH,attr:iH,style:dH,property:pH,classed:xH,text:NH,html:AH,raise:jH,lower:RH,append:MH,insert:zH,remove:$H,clone:IH,datum:BH,on:VH,dispatch:qH,[Symbol.iterator]:XH};function Gn(e){return typeof e=="string"?new Sn([[document.querySelector(e)]],[document.documentElement]):new Sn([[e]],xk)}function WH(e){let t;for(;t=e.sourceEvent;)e=t;return e}function sr(e,t){if(e=WH(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const QH={passive:!1},Yl={capture:!0,passive:!1};function dm(e){e.stopImmediatePropagation()}function Fs(e){e.preventDefault(),e.stopImmediatePropagation()}function bk(e){var t=e.document.documentElement,n=Gn(e).on("dragstart.drag",Fs,Yl);"onselectstart"in t?n.on("selectstart.drag",Fs,Yl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function wk(e,t){var n=e.document.documentElement,r=Gn(e).on("dragstart.drag",null);t&&(r.on("click.drag",Fs,Yl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const uu=e=>()=>e;function sg(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:o,x:s,y:i,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}sg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function JH(e){return!e.ctrlKey&&!e.button}function e7(){return this.parentNode}function t7(e,t){return t??{x:e.x,y:e.y}}function n7(){return navigator.maxTouchPoints||"ontouchstart"in this}function r7(){var e=JH,t=e7,n=t7,r=n7,a={},o=Qf("start","drag","end"),s=0,i,c,u,d,f=0;function h(b){b.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",g,QH).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,E){if(!(d||!e.call(this,b,E))){var j=S(this,t.call(this,b,E),b,E,"mouse");j&&(Gn(b.view).on("mousemove.drag",y,Yl).on("mouseup.drag",x,Yl),bk(b.view),dm(b),u=!1,i=b.clientX,c=b.clientY,j("start",b))}}function y(b){if(Fs(b),!u){var E=b.clientX-i,j=b.clientY-c;u=E*E+j*j>f}a.mouse("drag",b)}function x(b){Gn(b.view).on("mousemove.drag mouseup.drag",null),wk(b.view,u),Fs(b),a.mouse("end",b)}function w(b,E){if(e.call(this,b,E)){var j=b.changedTouches,N=t.call(this,b,E),C=j.length,_,A;for(_=0;_<C;++_)(A=S(this,N,b,E,j[_].identifier,j[_]))&&(dm(b),A("start",b,j[_]))}}function g(b){var E=b.changedTouches,j=E.length,N,C;for(N=0;N<j;++N)(C=a[E[N].identifier])&&(Fs(b),C("drag",b,E[N]))}function v(b){var E=b.changedTouches,j=E.length,N,C;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<j;++N)(C=a[E[N].identifier])&&(dm(b),C("end",b,E[N]))}function S(b,E,j,N,C,_){var A=o.copy(),O=sr(_||j,E),B,R,k;if((k=n.call(b,new sg("beforestart",{sourceEvent:j,target:h,identifier:C,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:A}),N))!=null)return B=k.x-O[0]||0,R=k.y-O[1]||0,function $(T,I,D){var M=O,L;switch(T){case"start":a[C]=$,L=s++;break;case"end":delete a[C],--s;case"drag":O=sr(D||I,E),L=s;break}A.call(T,b,new sg(T,{sourceEvent:I,subject:k,target:h,identifier:C,active:L,x:O[0]+B,y:O[1]+R,dx:O[0]-M[0],dy:O[1]-M[1],dispatch:A}),N)}}return h.filter=function(b){return arguments.length?(e=typeof b=="function"?b:uu(!!b),h):e},h.container=function(b){return arguments.length?(t=typeof b=="function"?b:uu(b),h):t},h.subject=function(b){return arguments.length?(n=typeof b=="function"?b:uu(b),h):n},h.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:uu(!!b),h):r},h.on=function(){var b=o.on.apply(o,arguments);return b===o?h:b},h.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,h):Math.sqrt(f)},h}function Vy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Sk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Dc(){}var ql=.7,Fd=1/ql,Us="\\s*([+-]?\\d+)\\s*",Xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a7=/^#([0-9a-f]{3,8})$/,o7=new RegExp(`^rgb\\(${Us},${Us},${Us}\\)$`),s7=new RegExp(`^rgb\\(${yr},${yr},${yr}\\)$`),i7=new RegExp(`^rgba\\(${Us},${Us},${Us},${Xl}\\)$`),l7=new RegExp(`^rgba\\(${yr},${yr},${yr},${Xl}\\)$`),c7=new RegExp(`^hsl\\(${Xl},${yr},${yr}\\)$`),u7=new RegExp(`^hsla\\(${Xl},${yr},${yr},${Xl}\\)$`),ow={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vy(Dc,Kl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sw,formatHex:sw,formatHex8:d7,formatHsl:f7,formatRgb:iw,toString:iw});function sw(){return this.rgb().formatHex()}function d7(){return this.rgb().formatHex8()}function f7(){return Nk(this).formatHsl()}function iw(){return this.rgb().formatRgb()}function Kl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=a7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lw(t):n===3?new Qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?du(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?du(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=o7.exec(e))?new Qt(t[1],t[2],t[3],1):(t=s7.exec(e))?new Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=i7.exec(e))?du(t[1],t[2],t[3],t[4]):(t=l7.exec(e))?du(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=c7.exec(e))?dw(t[1],t[2]/100,t[3]/100,1):(t=u7.exec(e))?dw(t[1],t[2]/100,t[3]/100,t[4]):ow.hasOwnProperty(e)?lw(ow[e]):e==="transparent"?new Qt(NaN,NaN,NaN,0):null}function lw(e){return new Qt(e>>16&255,e>>8&255,e&255,1)}function du(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qt(e,t,n,r)}function h7(e){return e instanceof Dc||(e=Kl(e)),e?(e=e.rgb(),new Qt(e.r,e.g,e.b,e.opacity)):new Qt}function ig(e,t,n,r){return arguments.length===1?h7(e):new Qt(e,t,n,r??1)}function Qt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Vy(Qt,ig,Sk(Dc,{brighter(e){return e=e==null?Fd:Math.pow(Fd,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ql:Math.pow(ql,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qt(jo(this.r),jo(this.g),jo(this.b),Ud(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cw,formatHex:cw,formatHex8:m7,formatRgb:uw,toString:uw}));function cw(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}`}function m7(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}${xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function uw(){const e=Ud(this.opacity);return`${e===1?"rgb(":"rgba("}${jo(this.r)}, ${jo(this.g)}, ${jo(this.b)}${e===1?")":`, ${e})`}`}function Ud(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xo(e){return e=jo(e),(e<16?"0":"")+e.toString(16)}function dw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vn(e,t,n,r)}function Nk(e){if(e instanceof Vn)return new Vn(e.h,e.s,e.l,e.opacity);if(e instanceof Dc||(e=Kl(e)),!e)return new Vn;if(e instanceof Vn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,i=o-a,c=(o+a)/2;return i?(t===o?s=(n-r)/i+(n<r)*6:n===o?s=(r-t)/i+2:s=(t-n)/i+4,i/=c<.5?o+a:2-o-a,s*=60):i=c>0&&c<1?0:s,new Vn(s,i,c,e.opacity)}function p7(e,t,n,r){return arguments.length===1?Nk(e):new Vn(e,t,n,r??1)}function Vn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Vy(Vn,p7,Sk(Dc,{brighter(e){return e=e==null?Fd:Math.pow(Fd,e),new Vn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ql:Math.pow(ql,e),new Vn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Qt(fm(e>=240?e-240:e+120,a,r),fm(e,a,r),fm(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Vn(fw(this.h),fu(this.s),fu(this.l),Ud(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ud(this.opacity);return`${e===1?"hsl(":"hsla("}${fw(this.h)}, ${fu(this.s)*100}%, ${fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fw(e){return e=(e||0)%360,e<0?e+360:e}function fu(e){return Math.max(0,Math.min(1,e||0))}function fm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ek=e=>()=>e;function g7(e,t){return function(n){return e+n*t}}function y7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function v7(e){return(e=+e)==1?_k:function(t,n){return n-t?y7(t,n,e):Ek(isNaN(t)?n:t)}}function _k(e,t){var n=t-e;return n?g7(e,n):Ek(isNaN(e)?t:e)}const hw=function e(t){var n=v7(t);function r(a,o){var s=n((a=ig(a)).r,(o=ig(o)).r),i=n(a.g,o.g),c=n(a.b,o.b),u=_k(a.opacity,o.opacity);return function(d){return a.r=s(d),a.g=i(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function ka(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var lg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hm=new RegExp(lg.source,"g");function x7(e){return function(){return e}}function b7(e){return function(t){return e(t)+""}}function w7(e,t){var n=lg.lastIndex=hm.lastIndex=0,r,a,o,s=-1,i=[],c=[];for(e=e+"",t=t+"";(r=lg.exec(e))&&(a=hm.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),i[s]?i[s]+=o:i[++s]=o),(r=r[0])===(a=a[0])?i[s]?i[s]+=a:i[++s]=a:(i[++s]=null,c.push({i:s,x:ka(r,a)})),n=hm.lastIndex;return n<t.length&&(o=t.slice(n),i[s]?i[s]+=o:i[++s]=o),i.length<2?c[0]?b7(c[0].x):x7(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)i[(f=c[d]).i]=f.x(u);return i.join("")})}var mw=180/Math.PI,cg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ck(e,t,n,r,a,o){var s,i,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,c/=i),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*mw,skewX:Math.atan(c)*mw,scaleX:s,scaleY:i}}var hu;function S7(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?cg:Ck(t.a,t.b,t.c,t.d,t.e,t.f)}function N7(e){return e==null||(hu||(hu=document.createElementNS("http://www.w3.org/2000/svg","g")),hu.setAttribute("transform",e),!(e=hu.transform.baseVal.consolidate()))?cg:(e=e.matrix,Ck(e.a,e.b,e.c,e.d,e.e,e.f))}function Ak(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function o(u,d,f,h,p,y){if(u!==f||d!==h){var x=p.push("translate(",null,t,null,n);y.push({i:x-4,x:ka(u,f)},{i:x-2,x:ka(d,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function s(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,r)-2,x:ka(u,d)})):d&&f.push(a(f)+"rotate("+d+r)}function i(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,r)-2,x:ka(u,d)}):d&&f.push(a(f)+"skewX("+d+r)}function c(u,d,f,h,p,y){if(u!==f||d!==h){var x=p.push(a(p)+"scale(",null,",",null,")");y.push({i:x-4,x:ka(u,f)},{i:x-2,x:ka(d,h)})}else(f!==1||h!==1)&&p.push(a(p)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),o(u.translateX,u.translateY,d.translateX,d.translateY,f,h),s(u.rotate,d.rotate,f,h),i(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(p){for(var y=-1,x=h.length,w;++y<x;)f[(w=h[y]).i]=w.x(p);return f.join("")}}}var E7=Ak(S7,"px, ","px)","deg)"),_7=Ak(N7,", ",")",")"),C7=1e-12;function pw(e){return((e=Math.exp(e))+1/e)/2}function A7(e){return((e=Math.exp(e))-1/e)/2}function k7(e){return((e=Math.exp(2*e))-1)/(e+1)}const j7=function e(t,n,r){function a(o,s){var i=o[0],c=o[1],u=o[2],d=s[0],f=s[1],h=s[2],p=d-i,y=f-c,x=p*p+y*y,w,g;if(x<C7)g=Math.log(h/u)/t,w=function(N){return[i+N*p,c+N*y,u*Math.exp(t*N*g)]};else{var v=Math.sqrt(x),S=(h*h-u*u+r*x)/(2*u*n*v),b=(h*h-u*u-r*x)/(2*h*n*v),E=Math.log(Math.sqrt(S*S+1)-S),j=Math.log(Math.sqrt(b*b+1)-b);g=(j-E)/t,w=function(N){var C=N*g,_=pw(E),A=u/(n*v)*(_*k7(t*C+E)-A7(E));return[i+A*p,c+A*y,u*_/pw(t*C+E)]}}return w.duration=g*1e3*t/Math.SQRT2,w}return a.rho=function(o){var s=Math.max(.001,+o),i=s*s,c=i*i;return e(s,i,c)},a}(Math.SQRT2,2,4);var ui=0,el=0,Hi=0,kk=1e3,Gd,tl,Vd=0,Po=0,eh=0,Wl=typeof performance=="object"&&performance.now?performance:Date,jk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Zy(){return Po||(jk(T7),Po=Wl.now()+eh)}function T7(){Po=0}function Zd(){this._call=this._time=this._next=null}Zd.prototype=Tk.prototype={constructor:Zd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Zy():+n)+(t==null?0:+t),!this._next&&tl!==this&&(tl?tl._next=this:Gd=this,tl=this),this._call=e,this._time=n,ug()},stop:function(){this._call&&(this._call=null,this._time=1/0,ug())}};function Tk(e,t,n){var r=new Zd;return r.restart(e,t,n),r}function R7(){Zy(),++ui;for(var e=Gd,t;e;)(t=Po-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ui}function gw(){Po=(Vd=Wl.now())+eh,ui=el=0;try{R7()}finally{ui=0,D7(),Po=0}}function M7(){var e=Wl.now(),t=e-Vd;t>kk&&(eh-=t,Vd=e)}function D7(){for(var e,t=Gd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Gd=n);tl=e,ug(r)}function ug(e){if(!ui){el&&(el=clearTimeout(el));var t=e-Po;t>24?(e<1/0&&(el=setTimeout(gw,e-Wl.now()-eh)),Hi&&(Hi=clearInterval(Hi))):(Hi||(Vd=Wl.now(),Hi=setInterval(M7,kk)),ui=1,jk(gw))}}function yw(e,t,n){var r=new Zd;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var z7=Qf("start","end","cancel","interrupt"),O7=[],Rk=0,vw=1,dg=2,Vu=3,xw=4,fg=5,Zu=6;function th(e,t,n,r,a,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;$7(e,n,{name:t,index:r,group:a,on:z7,tween:O7,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Rk})}function Yy(e,t){var n=er(e,t);if(n.state>Rk)throw new Error("too late; already scheduled");return n}function Ar(e,t){var n=er(e,t);if(n.state>Vu)throw new Error("too late; already running");return n}function er(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function $7(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Tk(o,0,n.time);function o(u){n.state=vw,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,f,h,p;if(n.state!==vw)return c();for(d in r)if(p=r[d],p.name===n.name){if(p.state===Vu)return yw(s);p.state===xw?(p.state=Zu,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[d]):+d<t&&(p.state=Zu,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[d])}if(yw(function(){n.state===Vu&&(n.state=xw,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=dg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===dg){for(n.state=Vu,a=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(p=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++f]=p);a.length=f+1}}function i(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=fg,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);n.state===fg&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Zu,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Yu(e,t){var n=e.__transition,r,a,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}a=r.state>dg&&r.state<fg,r.state=Zu,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function P7(e){return this.each(function(){Yu(this,e)})}function L7(e,t){var n,r;return function(){var a=Ar(this,e),o=a.tween;if(o!==n){r=n=o;for(var s=0,i=r.length;s<i;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function I7(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=Ar(this,e),s=o.tween;if(s!==r){a=(r=s).slice();for(var i={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=i;break}c===u&&a.push(i)}o.tween=a}}function B7(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=er(this.node(),n).tween,a=0,o=r.length,s;a<o;++a)if((s=r[a]).name===e)return s.value;return null}return this.each((t==null?L7:I7)(n,e,t))}function qy(e,t,n){var r=e._id;return e.each(function(){var a=Ar(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return er(a,r).value[t]}}function Mk(e,t){var n;return(typeof t=="number"?ka:t instanceof Kl?hw:(n=Kl(t))?(t=n,hw):w7)(e,t)}function H7(e){return function(){this.removeAttribute(e)}}function F7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function U7(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttribute(e);return s===a?null:s===r?o:o=t(r=s,n)}}function G7(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?o:o=t(r=s,n)}}function V7(e,t,n){var r,a,o;return function(){var s,i=n(this),c;return i==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=i+"",s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i)))}}function Z7(e,t,n){var r,a,o;return function(){var s,i=n(this),c;return i==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=i+"",s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i)))}}function Y7(e,t){var n=Jf(e),r=n==="transform"?_7:Mk;return this.attrTween(e,typeof t=="function"?(n.local?Z7:V7)(n,r,qy(this,"attr."+e,t)):t==null?(n.local?F7:H7)(n):(n.local?G7:U7)(n,r,t))}function q7(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function X7(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function K7(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&X7(e,o)),n}return a._value=t,a}function W7(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&q7(e,o)),n}return a._value=t,a}function Q7(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Jf(e);return this.tween(n,(r.local?K7:W7)(r,t))}function J7(e,t){return function(){Yy(this,e).delay=+t.apply(this,arguments)}}function eF(e,t){return t=+t,function(){Yy(this,e).delay=t}}function tF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?J7:eF)(t,e)):er(this.node(),t).delay}function nF(e,t){return function(){Ar(this,e).duration=+t.apply(this,arguments)}}function rF(e,t){return t=+t,function(){Ar(this,e).duration=t}}function aF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nF:rF)(t,e)):er(this.node(),t).duration}function oF(e,t){if(typeof t!="function")throw new Error;return function(){Ar(this,e).ease=t}}function sF(e){var t=this._id;return arguments.length?this.each(oF(t,e)):er(this.node(),t).ease}function iF(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ar(this,e).ease=n}}function lF(e){if(typeof e!="function")throw new Error;return this.each(iF(this._id,e))}function cF(e){typeof e!="function"&&(e=uk(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&i.push(c);return new fa(r,this._parents,this._name,this._id)}function uF(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),s=new Array(r),i=0;i<o;++i)for(var c=t[i],u=n[i],d=c.length,f=s[i]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(f[p]=h);for(;i<r;++i)s[i]=t[i];return new fa(s,this._parents,this._name,this._id)}function dF(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function fF(e,t,n){var r,a,o=dF(t)?Yy:Ar;return function(){var s=o(this,e),i=s.on;i!==r&&(a=(r=i).copy()).on(t,n),s.on=a}}function hF(e,t){var n=this._id;return arguments.length<2?er(this.node(),n).on.on(e):this.each(fF(n,e,t))}function mF(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function pF(){return this.on("end.remove",mF(this._id))}function gF(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Uy(e));for(var r=this._groups,a=r.length,o=new Array(a),s=0;s<a;++s)for(var i=r[s],c=i.length,u=o[s]=new Array(c),d,f,h=0;h<c;++h)(d=i[h])&&(f=e.call(d,d.__data__,h,i))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,th(u[h],t,n,h,u,er(d,n)));return new fa(o,this._parents,t,n)}function yF(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ck(e));for(var r=this._groups,a=r.length,o=[],s=[],i=0;i<a;++i)for(var c=r[i],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),p,y=er(d,n),x=0,w=h.length;x<w;++x)(p=h[x])&&th(p,t,n,x,h,y);o.push(h),s.push(d)}return new fa(o,s,t,n)}var vF=Mc.prototype.constructor;function xF(){return new vF(this._groups,this._parents)}function bF(e,t){var n,r,a;return function(){var o=ci(this,e),s=(this.style.removeProperty(e),ci(this,e));return o===s?null:o===n&&s===r?a:a=t(n=o,r=s)}}function Dk(e){return function(){this.style.removeProperty(e)}}function wF(e,t,n){var r,a=n+"",o;return function(){var s=ci(this,e);return s===a?null:s===r?o:o=t(r=s,n)}}function SF(e,t,n){var r,a,o;return function(){var s=ci(this,e),i=n(this),c=i+"";return i==null&&(c=i=(this.style.removeProperty(e),ci(this,e))),s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i))}}function NF(e,t){var n,r,a,o="style."+t,s="end."+o,i;return function(){var c=Ar(this,e),u=c.on,d=c.value[o]==null?i||(i=Dk(t)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(s,a=d),c.on=r}}function EF(e,t,n){var r=(e+="")=="transform"?E7:Mk;return t==null?this.styleTween(e,bF(e,r)).on("end.style."+e,Dk(e)):typeof t=="function"?this.styleTween(e,SF(e,r,qy(this,"style."+e,t))).each(NF(this._id,e)):this.styleTween(e,wF(e,r,t),n).on("end.style."+e,null)}function _F(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function CF(e,t,n){var r,a;function o(){var s=t.apply(this,arguments);return s!==a&&(r=(a=s)&&_F(e,s,n)),r}return o._value=t,o}function AF(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,CF(e,t,n??""))}function kF(e){return function(){this.textContent=e}}function jF(e){return function(){var t=e(this);this.textContent=t??""}}function TF(e){return this.tween("text",typeof e=="function"?jF(qy(this,"text",e)):kF(e==null?"":e+""))}function RF(e){return function(t){this.textContent=e.call(this,t)}}function MF(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&RF(a)),t}return r._value=e,r}function DF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,MF(e))}function zF(){for(var e=this._name,t=this._id,n=zk(),r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,c,u=0;u<i;++u)if(c=s[u]){var d=er(c,t);th(c,e,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new fa(r,this._parents,e,n)}function OF(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,s){var i={value:s},c={value:function(){--a===0&&o()}};n.each(function(){var u=Ar(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(c)),u.on=t}),a===0&&o()})}var $F=0;function fa(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function zk(){return++$F}var Lr=Mc.prototype;fa.prototype={constructor:fa,select:gF,selectAll:yF,selectChild:Lr.selectChild,selectChildren:Lr.selectChildren,filter:cF,merge:uF,selection:xF,transition:zF,call:Lr.call,nodes:Lr.nodes,node:Lr.node,size:Lr.size,empty:Lr.empty,each:Lr.each,on:hF,attr:Y7,attrTween:Q7,style:EF,styleTween:AF,text:TF,textTween:DF,remove:pF,tween:B7,delay:tF,duration:aF,ease:sF,easeVarying:lF,end:OF,[Symbol.iterator]:Lr[Symbol.iterator]};function PF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var LF={time:null,delay:0,duration:250,ease:PF};function IF(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function BF(e){var t,n;e instanceof fa?(t=e._id,e=e._name):(t=zk(),(n=LF).time=Zy(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,c,u=0;u<i;++u)(c=s[u])&&th(c,e,t,u,s,n||IF(c,t));return new fa(r,this._parents,e,t)}Mc.prototype.interrupt=P7;Mc.prototype.transition=BF;const mu=e=>()=>e;function HF(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Xr(e,t,n){this.k=e,this.x=t,this.y=n}Xr.prototype={constructor:Xr,scale:function(e){return e===1?this:new Xr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Xr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ka=new Xr(1,0,0);Xr.prototype;function mm(e){e.stopImmediatePropagation()}function Fi(e){e.preventDefault(),e.stopImmediatePropagation()}function FF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function UF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function bw(){return this.__zoom||Ka}function GF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function VF(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZF(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function YF(){var e=FF,t=UF,n=ZF,r=GF,a=VF,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],i=250,c=j7,u=Qf("start","zoom","end"),d,f,h,p=500,y=150,x=0,w=10;function g(k){k.property("__zoom",bw).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",A).filter(a).on("touchstart.zoom",O).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(k,$,T,I){var D=k.selection?k.selection():k;D.property("__zoom",bw),k!==D?E(k,$,T,I):D.interrupt().each(function(){j(this,arguments).event(I).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},g.scaleBy=function(k,$,T,I){g.scaleTo(k,function(){var D=this.__zoom.k,M=typeof $=="function"?$.apply(this,arguments):$;return D*M},T,I)},g.scaleTo=function(k,$,T,I){g.transform(k,function(){var D=t.apply(this,arguments),M=this.__zoom,L=T==null?b(D):typeof T=="function"?T.apply(this,arguments):T,F=M.invert(L),V=typeof $=="function"?$.apply(this,arguments):$;return n(S(v(M,V),L,F),D,s)},T,I)},g.translateBy=function(k,$,T,I){g.transform(k,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,I)},g.translateTo=function(k,$,T,I,D){g.transform(k,function(){var M=t.apply(this,arguments),L=this.__zoom,F=I==null?b(M):typeof I=="function"?I.apply(this,arguments):I;return n(Ka.translate(F[0],F[1]).scale(L.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof T=="function"?-T.apply(this,arguments):-T),M,s)},I,D)};function v(k,$){return $=Math.max(o[0],Math.min(o[1],$)),$===k.k?k:new Xr($,k.x,k.y)}function S(k,$,T){var I=$[0]-T[0]*k.k,D=$[1]-T[1]*k.k;return I===k.x&&D===k.y?k:new Xr(k.k,I,D)}function b(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function E(k,$,T,I){k.on("start.zoom",function(){j(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(I).end()}).tween("zoom",function(){var D=this,M=arguments,L=j(D,M).event(I),F=t.apply(D,M),V=T==null?b(F):typeof T=="function"?T.apply(D,M):T,U=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),z=D.__zoom,H=typeof $=="function"?$.apply(D,M):$,Z=c(z.invert(V).concat(U/z.k),H.invert(V).concat(U/H.k));return function(G){if(G===1)G=H;else{var Y=Z(G),W=U/Y[2];G=new Xr(W,V[0]-Y[0]*W,V[1]-Y[1]*W)}L.zoom(null,G)}})}function j(k,$,T){return!T&&k.__zooming||new N(k,$)}function N(k,$){this.that=k,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,$),this.taps=0}N.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,$){return this.mouse&&k!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var $=Gn(this.that).datum();u.call(k,this.that,new HF(k,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),$)}};function C(k,...$){if(!e.apply(this,arguments))return;var T=j(this,$).event(k),I=this.__zoom,D=Math.max(o[0],Math.min(o[1],I.k*Math.pow(2,r.apply(this,arguments)))),M=sr(k);if(T.wheel)(T.mouse[0][0]!==M[0]||T.mouse[0][1]!==M[1])&&(T.mouse[1]=I.invert(T.mouse[0]=M)),clearTimeout(T.wheel);else{if(I.k===D)return;T.mouse=[M,I.invert(M)],Yu(this),T.start()}Fi(k),T.wheel=setTimeout(L,y),T.zoom("mouse",n(S(v(I,D),T.mouse[0],T.mouse[1]),T.extent,s));function L(){T.wheel=null,T.end()}}function _(k,...$){if(h||!e.apply(this,arguments))return;var T=k.currentTarget,I=j(this,$,!0).event(k),D=Gn(k.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",U,!0),M=sr(k,T),L=k.clientX,F=k.clientY;bk(k.view),mm(k),I.mouse=[M,this.__zoom.invert(M)],Yu(this),I.start();function V(z){if(Fi(z),!I.moved){var H=z.clientX-L,Z=z.clientY-F;I.moved=H*H+Z*Z>x}I.event(z).zoom("mouse",n(S(I.that.__zoom,I.mouse[0]=sr(z,T),I.mouse[1]),I.extent,s))}function U(z){D.on("mousemove.zoom mouseup.zoom",null),wk(z.view,I.moved),Fi(z),I.event(z).end()}}function A(k,...$){if(e.apply(this,arguments)){var T=this.__zoom,I=sr(k.changedTouches?k.changedTouches[0]:k,this),D=T.invert(I),M=T.k*(k.shiftKey?.5:2),L=n(S(v(T,M),I,D),t.apply(this,$),s);Fi(k),i>0?Gn(this).transition().duration(i).call(E,L,I,k):Gn(this).call(g.transform,L,I,k)}}function O(k,...$){if(e.apply(this,arguments)){var T=k.touches,I=T.length,D=j(this,$,k.changedTouches.length===I).event(k),M,L,F,V;for(mm(k),L=0;L<I;++L)F=T[L],V=sr(F,this),V=[V,this.__zoom.invert(V),F.identifier],D.touch0?!D.touch1&&D.touch0[2]!==V[2]&&(D.touch1=V,D.taps=0):(D.touch0=V,M=!0,D.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(D.taps<2&&(f=V[0],d=setTimeout(function(){d=null},p)),Yu(this),D.start())}}function B(k,...$){if(this.__zooming){var T=j(this,$).event(k),I=k.changedTouches,D=I.length,M,L,F,V;for(Fi(k),M=0;M<D;++M)L=I[M],F=sr(L,this),T.touch0&&T.touch0[2]===L.identifier?T.touch0[0]=F:T.touch1&&T.touch1[2]===L.identifier&&(T.touch1[0]=F);if(L=T.that.__zoom,T.touch1){var U=T.touch0[0],z=T.touch0[1],H=T.touch1[0],Z=T.touch1[1],G=(G=H[0]-U[0])*G+(G=H[1]-U[1])*G,Y=(Y=Z[0]-z[0])*Y+(Y=Z[1]-z[1])*Y;L=v(L,Math.sqrt(G/Y)),F=[(U[0]+H[0])/2,(U[1]+H[1])/2],V=[(z[0]+Z[0])/2,(z[1]+Z[1])/2]}else if(T.touch0)F=T.touch0[0],V=T.touch0[1];else return;T.zoom("touch",n(S(L,F,V),T.extent,s))}}function R(k,...$){if(this.__zooming){var T=j(this,$).event(k),I=k.changedTouches,D=I.length,M,L;for(mm(k),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),M=0;M<D;++M)L=I[M],T.touch0&&T.touch0[2]===L.identifier?delete T.touch0:T.touch1&&T.touch1[2]===L.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(L=sr(L,this),Math.hypot(f[0]-L[0],f[1]-L[1])<w)){var F=Gn(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return g.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:mu(+k),g):r},g.filter=function(k){return arguments.length?(e=typeof k=="function"?k:mu(!!k),g):e},g.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:mu(!!k),g):a},g.extent=function(k){return arguments.length?(t=typeof k=="function"?k:mu([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),g):t},g.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],g):[o[0],o[1]]},g.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(k){return arguments.length?(n=k,g):n},g.duration=function(k){return arguments.length?(i=+k,g):i},g.interpolate=function(k){return arguments.length?(c=k,g):c},g.on=function(){var k=u.on.apply(u,arguments);return k===u?g:k},g.clickDistance=function(k){return arguments.length?(x=(k=+k)*k,g):Math.sqrt(x)},g.tapDistance=function(k){return arguments.length?(w=+k,g):w},g}const nh=m.createContext(null),qF=nh.Provider,ha={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Ok=ha.error001();function Ke(e,t){const n=m.useContext(nh);if(n===null)throw new Error(Ok);return ik(n,e,t)}const _t=()=>{const e=m.useContext(nh);if(e===null)throw new Error(Ok);return m.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},XF=e=>e.userSelectionActive?"none":"all";function $k({position:e,children:t,className:n,style:r,...a}){const o=Ke(XF),s=`${e}`.split("-");return P.createElement("div",{className:Vt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...a},t)}function KF({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:P.createElement($k,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},P.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const WF=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:i=2,children:c,className:u,...d})=>{const f=m.useRef(null),[h,p]=m.useState({x:0,y:0,width:0,height:0}),y=Vt(["react-flow__edge-textwrapper",u]);return m.useEffect(()=>{if(f.current){const x=f.current.getBBox();p({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:P.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...d},a&&P.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:i,ry:i}),P.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),c)};var QF=m.memo(WF);const Xy=e=>({width:e.offsetWidth,height:e.offsetHeight}),di=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ky=(e={x:0,y:0},t)=>({x:di(e.x,t[0][0],t[1][0]),y:di(e.y,t[0][1],t[1][1])}),ww=(e,t,n)=>e<t?di(Math.abs(e-t),1,50)/50:e>n?-di(Math.abs(e-n),1,50)/50:0,Pk=(e,t)=>{const n=ww(e.x,35,t.width-35)*20,r=ww(e.y,35,t.height-35)*20;return[n,r]},Lk=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},JF=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Wy=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),eU=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Sw=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),hg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},tU=e=>Mn(e.width)&&Mn(e.height)&&Mn(e.x)&&Mn(e.y),Mn=e=>!isNaN(e)&&isFinite(e),tt=Symbol.for("internals"),Ik=["Enter"," ","Escape"],nU=(e,t)=>{},rU=e=>"nativeEvent"in e;function mg(e){var a,o;const t=rU(e)?e.nativeEvent:e,n=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Bk=e=>"clientX"in e,Wa=(e,t)=>{var o,s;const n=Bk(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},Yd=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},zc=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p=20})=>P.createElement(P.Fragment,null,P.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&P.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),a&&Mn(n)&&Mn(r)?P.createElement(QF,{x:n,y:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u}):null);zc.displayName="BaseEdge";function Ui(e,t,n){return n===void 0?n:r=>{const a=t().edges.find(o=>o.id===e);a&&n(r,{...a})}}function Hk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,o=n<e?n+a:n-a,s=Math.abs(r-t)/2,i=r<t?r+s:r-s;return[o,i,a,s]}function Fk({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:o,targetControlX:s,targetControlY:i}){const c=e*.125+a*.375+s*.375+n*.125,u=t*.125+o*.375+i*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var Lo;(function(e){e.Strict="strict",e.Loose="loose"})(Lo||(Lo={}));var bo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(bo||(bo={}));var Ql;(function(e){e.Partial="partial",e.Full="full"})(Ql||(Ql={}));var za;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(za||(za={}));var qd;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(qd||(qd={}));var oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(oe||(oe={}));function Nw({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===oe.Left||e===oe.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function Uk({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:a,targetPosition:o=oe.Top}){const[s,i]=Nw({pos:n,x1:e,y1:t,x2:r,y2:a}),[c,u]=Nw({pos:o,x1:r,y1:a,x2:e,y2:t}),[d,f,h,p]=Fk({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:s,sourceControlY:i,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${i} ${c},${u} ${r},${a}`,d,f,h,p]}const Qy=m.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=oe.Bottom,targetPosition:o=oe.Top,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:x})=>{const[w,g,v]=Uk({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o});return P.createElement(zc,{path:w,labelX:g,labelY:v,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:x})});Qy.displayName="SimpleBezierEdge";const Ew={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}},aU=({source:e,sourcePosition:t=oe.Bottom,target:n})=>t===oe.Left||t===oe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},_w=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function oU({source:e,sourcePosition:t=oe.Bottom,target:n,targetPosition:r=oe.Top,center:a,offset:o}){const s=Ew[t],i=Ew[r],c={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+i.x*o,y:n.y+i.y*o},d=aU({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let p=[],y,x;const w={x:0,y:0},g={x:0,y:0},[v,S,b,E]=Hk({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*i[f]===-1){y=a.x??v,x=a.y??S;const N=[{x:y,y:c.y},{x:y,y:u.y}],C=[{x:c.x,y:x},{x:u.x,y:x}];s[f]===h?p=f==="x"?N:C:p=f==="x"?C:N}else{const N=[{x:c.x,y:u.y}],C=[{x:u.x,y:c.y}];if(f==="x"?p=s.x===h?C:N:p=s.y===h?N:C,t===r){const R=Math.abs(e[f]-n[f]);if(R<=o){const k=Math.min(o-1,o-R);s[f]===h?w[f]=(c[f]>e[f]?-1:1)*k:g[f]=(u[f]>n[f]?-1:1)*k}}if(t!==r){const R=f==="x"?"y":"x",k=s[f]===i[R],$=c[R]>u[R],T=c[R]<u[R];(s[f]===1&&(!k&&$||k&&T)||s[f]!==1&&(!k&&T||k&&$))&&(p=f==="x"?N:C)}const _={x:c.x+w.x,y:c.y+w.y},A={x:u.x+g.x,y:u.y+g.y},O=Math.max(Math.abs(_.x-p[0].x),Math.abs(A.x-p[0].x)),B=Math.max(Math.abs(_.y-p[0].y),Math.abs(A.y-p[0].y));O>=B?(y=(_.x+A.x)/2,x=p[0].y):(y=p[0].x,x=(_.y+A.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...p,{x:u.x+g.x,y:u.y+g.y},n],y,x,b,E]}function sU(e,t,n,r){const a=Math.min(_w(e,t)/2,_w(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+a*u},${s}Q ${o},${s} ${o},${s+a*d}`}const i=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${s+a*c}Q ${o},${s} ${o+a*i},${s}`}function pg({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:a,targetPosition:o=oe.Top,borderRadius:s=5,centerX:i,centerY:c,offset:u=20}){const[d,f,h,p,y]=oU({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:o,center:{x:i,y:c},offset:u});return[d.reduce((w,g,v)=>{let S="";return v>0&&v<d.length-1?S=sU(d[v-1],g,d[v+1],s):S=`${v===0?"M":"L"}${g.x} ${g.y}`,w+=S,w},""),f,h,p,y]}const rh=m.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=oe.Bottom,targetPosition:h=oe.Top,markerEnd:p,markerStart:y,pathOptions:x,interactionWidth:w})=>{const[g,v,S]=pg({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return P.createElement(zc,{path:g,labelX:v,labelY:S,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:y,interactionWidth:w})});rh.displayName="SmoothStepEdge";const Jy=m.memo(e=>{var t;return P.createElement(rh,{...e,pathOptions:m.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Jy.displayName="StepEdge";function iU({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,o,s,i]=Hk({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,o,s,i]}const ev=m.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[y,x,w]=iU({sourceX:e,sourceY:t,targetX:n,targetY:r});return P.createElement(zc,{path:y,labelX:x,labelY:w,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p})});ev.displayName="StraightEdge";function pu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Cw({pos:e,x1:t,y1:n,x2:r,y2:a,c:o}){switch(e){case oe.Left:return[t-pu(t-r,o),n];case oe.Right:return[t+pu(r-t,o),n];case oe.Top:return[t,n-pu(n-a,o)];case oe.Bottom:return[t,n+pu(a-n,o)]}}function Gk({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:a,targetPosition:o=oe.Top,curvature:s=.25}){const[i,c]=Cw({pos:n,x1:e,y1:t,x2:r,y2:a,c:s}),[u,d]=Cw({pos:o,x1:r,y1:a,x2:e,y2:t,c:s}),[f,h,p,y]=Fk({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${i},${c} ${u},${d} ${r},${a}`,f,h,p,y]}const Xd=m.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=oe.Bottom,targetPosition:o=oe.Top,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,pathOptions:x,interactionWidth:w})=>{const[g,v,S]=Gk({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o,curvature:x==null?void 0:x.curvature});return P.createElement(zc,{path:g,labelX:v,labelY:S,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:w})});Xd.displayName="BezierEdge";const tv=m.createContext(null),lU=tv.Provider;tv.Consumer;const cU=()=>m.useContext(tv),uU=e=>"id"in e&&"source"in e&&"target"in e,dU=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,gg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,fU=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Vk=(e,t)=>{if(!e.source||!e.target)return t;let n;return uU(e)?n={...e}:n={...e,id:dU(e)},fU(n,t)?t:t.concat(n)},yg=({x:e,y:t},[n,r,a],o,[s,i])=>{const c={x:(e-n)/a,y:(t-r)/a};return o?{x:s*Math.round(c.x/s),y:i*Math.round(c.y/i)}:c},Zk=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r}),Gs=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-r};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:a}},nv=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const{x:o,y:s}=Gs(a,t).positionAbsolute;return JF(r,Wy({x:o,y:s,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return eU(n)},Yk=(e,t,[n,r,a]=[0,0,1],o=!1,s=!1,i=[0,0])=>{const c={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:p=!0,hidden:y=!1}=d;if(s&&!p||y)return!1;const{positionAbsolute:x}=Gs(d,i),w={x:x.x,y:x.y,width:f||0,height:h||0},g=hg(c,w),v=typeof f>"u"||typeof h>"u"||f===null||h===null,S=o&&g>0,b=(f||0)*(h||0);(v||S||g>=b||d.dragging)&&u.push(d)}),u},qk=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Xk=(e,t,n,r,a,o=.1)=>{const s=t/(e.width*(1+o)),i=n/(e.height*(1+o)),c=Math.min(s,i),u=di(c,r,a),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,p=n/2-f*u;return{x:h,y:p,zoom:u}},go=(e,t=0)=>e.transition().duration(t);function Aw(e,t,n,r){return(t[n]||[]).reduce((a,o)=>{var s,i;return`${e.id}-${o.id}-${n}`!==r&&a.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((i=e.positionAbsolute)==null?void 0:i.y)??0)+o.y+o.height/2}),a},[])}function hU(e,t,n,r,a,o){const{x:s,y:i}=Wa(e),u=t.elementsFromPoint(s,i).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const x=rv(void 0,u),w=u.getAttribute("data-handleid"),g=o({nodeId:y,id:w,type:x});if(g){const v=a.find(S=>S.nodeId===y&&S.type===x&&S.id===w);return{handle:{id:w,type:x,nodeId:y,x:(v==null?void 0:v.x)||n.x,y:(v==null?void 0:v.y)||n.y},validHandleResult:g}}}}let d=[],f=1/0;if(a.forEach(y=>{const x=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(x<=r){const w=o(y);x<=f&&(x<f?d=[{handle:y,validHandleResult:w}]:x===f&&d.push({handle:y,validHandleResult:w}),f=x)}}),!d.length)return{handle:null,validHandleResult:Kk()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:y})=>y.isValid),p=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:x})=>p?y.type==="target":h?x.isValid:!0)||d[0]}const mU={source:null,target:null,sourceHandle:null,targetHandle:null},Kk=()=>({handleDomNode:null,isValid:!1,connection:mU,endHandle:null});function Wk(e,t,n,r,a,o,s){const i=a==="target",c=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...Kk(),handleDomNode:c};if(c){const d=rv(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),p=c.classList.contains("connectable"),y=c.classList.contains("connectableend"),x={source:i?f:n,sourceHandle:i?h:r,target:i?n:f,targetHandle:i?r:h};u.connection=x,p&&y&&(t===Lo.Strict?i&&d==="source"||!i&&d==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=o(x))}return u}function pU({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((a,o)=>{if(o[tt]){const{handleBounds:s}=o[tt];let i=[],c=[];s&&(i=Aw(o,s,"source",`${t}-${n}-${r}`),c=Aw(o,s,"target",`${t}-${n}-${r}`)),a.push(...i,...c)}return a},[])}function rv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function pm(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function gU(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Qk({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:a,getState:o,setState:s,isValidConnection:i,edgeUpdaterType:c,onReconnectEnd:u}){const d=Lk(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:y,onConnectStart:x,panBy:w,getNodes:g,cancelConnection:v}=o();let S=0,b;const{x:E,y:j}=Wa(e),N=d==null?void 0:d.elementFromPoint(E,j),C=rv(c,N),_=h==null?void 0:h.getBoundingClientRect();if(!_||!C)return;let A,O=Wa(e,_),B=!1,R=null,k=!1,$=null;const T=pU({nodes:g(),nodeId:n,handleId:t,handleType:C}),I=()=>{if(!p)return;const[L,F]=Pk(O,_);w({x:L,y:F}),S=requestAnimationFrame(I)};s({connectionPosition:O,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:C});function D(L){const{transform:F}=o();O=Wa(L,_);const{handle:V,validHandleResult:U}=hU(L,d,yg(O,F,!1,[1,1]),y,T,z=>Wk(z,f,n,t,a?"target":"source",i,d));if(b=V,B||(I(),B=!0),$=U.handleDomNode,R=U.connection,k=U.isValid,s({connectionPosition:b&&k?Zk({x:b.x,y:b.y},F):O,connectionStatus:gU(!!b,k),connectionEndHandle:U.endHandle}),!b&&!k&&!$)return pm(A);R.source!==R.target&&$&&(pm(A),A=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",k),$.classList.toggle("react-flow__handle-valid",k))}function M(L){var F,V;(b||$)&&R&&k&&(r==null||r(R)),(V=(F=o()).onConnectEnd)==null||V.call(F,L),c&&(u==null||u(L)),pm(A),v(),cancelAnimationFrame(S),B=!1,k=!1,R=null,$=null,d.removeEventListener("mousemove",D),d.removeEventListener("mouseup",M),d.removeEventListener("touchmove",D),d.removeEventListener("touchend",M)}d.addEventListener("mousemove",D),d.addEventListener("mouseup",M),d.addEventListener("touchmove",D),d.addEventListener("touchend",M)}const kw=()=>!0,yU=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),vU=(e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},Jk=m.forwardRef(({type:e="source",position:t=oe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:s,onConnect:i,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},p)=>{var _,A;const y=s||null,x=e==="target",w=_t(),g=cU(),{connectOnClick:v,noPanClassName:S}=Ke(yU,en),{connecting:b,clickConnecting:E}=Ke(vU(g,y,e),en);g||(A=(_=w.getState()).onError)==null||A.call(_,"010",ha.error010());const j=O=>{const{defaultEdgeOptions:B,onConnect:R,hasDefaultEdges:k}=w.getState(),$={...B,...O};if(k){const{edges:T,setEdges:I}=w.getState();I(Vk($,T))}R==null||R($),i==null||i($)},N=O=>{if(!g)return;const B=Bk(O);a&&(B&&O.button===0||!B)&&Qk({event:O,handleId:y,nodeId:g,onConnect:j,isTarget:x,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||kw}),B?d==null||d(O):f==null||f(O)},C=O=>{const{onClickConnectStart:B,onClickConnectEnd:R,connectionClickStartHandle:k,connectionMode:$,isValidConnection:T}=w.getState();if(!g||!k&&!a)return;if(!k){B==null||B(O,{nodeId:g,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:g,type:e,handleId:y}});return}const I=Lk(O.target),D=n||T||kw,{connection:M,isValid:L}=Wk({nodeId:g,id:y,type:e},$,k.nodeId,k.handleId||null,k.type,D,I);L&&j(M),R==null||R(O),w.setState({connectionClickStartHandle:null})};return P.createElement("div",{"data-handleid":y,"data-nodeid":g,"data-handlepos":t,"data-id":`${g}-${y}-${e}`,className:Vt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,u,{source:!x,target:x,connectable:r,connectablestart:a,connectableend:o,connecting:E,connectionindicator:r&&(a&&!b||o&&b)}]),onMouseDown:N,onTouchStart:N,onClick:v?C:void 0,ref:p,...h},c)});Jk.displayName="Handle";var fi=m.memo(Jk);const ej=({data:e,isConnectable:t,targetPosition:n=oe.Top,sourcePosition:r=oe.Bottom})=>P.createElement(P.Fragment,null,P.createElement(fi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,P.createElement(fi,{type:"source",position:r,isConnectable:t}));ej.displayName="DefaultNode";var vg=m.memo(ej);const tj=({data:e,isConnectable:t,sourcePosition:n=oe.Bottom})=>P.createElement(P.Fragment,null,e==null?void 0:e.label,P.createElement(fi,{type:"source",position:n,isConnectable:t}));tj.displayName="InputNode";var nj=m.memo(tj);const rj=({data:e,isConnectable:t,targetPosition:n=oe.Top})=>P.createElement(P.Fragment,null,P.createElement(fi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);rj.displayName="OutputNode";var aj=m.memo(rj);const av=()=>null;av.displayName="GroupNode";const xU=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),gu=e=>e.id;function bU(e,t){return en(e.selectedNodes.map(gu),t.selectedNodes.map(gu))&&en(e.selectedEdges.map(gu),t.selectedEdges.map(gu))}const oj=m.memo(({onSelectionChange:e})=>{const t=_t(),{selectedNodes:n,selectedEdges:r}=Ke(xU,bU);return m.useEffect(()=>{const a={nodes:n,edges:r};e==null||e(a),t.getState().onSelectionChange.forEach(o=>o(a))},[n,r,e]),null});oj.displayName="SelectionListener";const wU=e=>!!e.onSelectionChange;function SU({onSelectionChange:e}){const t=Ke(wU);return e||t?P.createElement(oj,{onSelectionChange:e}):null}const NU=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function os(e,t){m.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function be(e,t,n){m.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const EU=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:o,onConnectEnd:s,onClickConnectStart:i,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:x,maxZoom:w,nodeExtent:g,onNodesChange:v,onEdgesChange:S,elementsSelectable:b,connectionMode:E,snapGrid:j,snapToGrid:N,translateExtent:C,connectOnClick:_,defaultEdgeOptions:A,fitView:O,fitViewOptions:B,onNodesDelete:R,onEdgesDelete:k,onNodeDrag:$,onNodeDragStart:T,onNodeDragStop:I,onSelectionDrag:D,onSelectionDragStart:M,onSelectionDragStop:L,noPanClassName:F,nodeOrigin:V,rfId:U,autoPanOnConnect:z,autoPanOnNodeDrag:H,onError:Z,connectionRadius:G,isValidConnection:Y,nodeDragThreshold:W})=>{const{setNodes:Q,setEdges:me,setDefaultNodesAndEdges:pe,setMinZoom:fe,setMaxZoom:ee,setTranslateExtent:je,setNodeExtent:ot,reset:Ne}=Ke(NU,en),J=_t();return m.useEffect(()=>{const Ze=r==null?void 0:r.map(Rt=>({...Rt,...A}));return pe(n,Ze),()=>{Ne()}},[]),be("defaultEdgeOptions",A,J.setState),be("connectionMode",E,J.setState),be("onConnect",a,J.setState),be("onConnectStart",o,J.setState),be("onConnectEnd",s,J.setState),be("onClickConnectStart",i,J.setState),be("onClickConnectEnd",c,J.setState),be("nodesDraggable",u,J.setState),be("nodesConnectable",d,J.setState),be("nodesFocusable",f,J.setState),be("edgesFocusable",h,J.setState),be("edgesUpdatable",p,J.setState),be("elementsSelectable",b,J.setState),be("elevateNodesOnSelect",y,J.setState),be("snapToGrid",N,J.setState),be("snapGrid",j,J.setState),be("onNodesChange",v,J.setState),be("onEdgesChange",S,J.setState),be("connectOnClick",_,J.setState),be("fitViewOnInit",O,J.setState),be("fitViewOnInitOptions",B,J.setState),be("onNodesDelete",R,J.setState),be("onEdgesDelete",k,J.setState),be("onNodeDrag",$,J.setState),be("onNodeDragStart",T,J.setState),be("onNodeDragStop",I,J.setState),be("onSelectionDrag",D,J.setState),be("onSelectionDragStart",M,J.setState),be("onSelectionDragStop",L,J.setState),be("noPanClassName",F,J.setState),be("nodeOrigin",V,J.setState),be("rfId",U,J.setState),be("autoPanOnConnect",z,J.setState),be("autoPanOnNodeDrag",H,J.setState),be("onError",Z,J.setState),be("connectionRadius",G,J.setState),be("isValidConnection",Y,J.setState),be("nodeDragThreshold",W,J.setState),os(e,Q),os(t,me),os(x,fe),os(w,ee),os(C,je),os(g,ot),null},jw={display:"none"},_U={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},sj="react-flow__node-desc",ij="react-flow__edge-desc",CU="react-flow__aria-live",AU=e=>e.ariaLiveMessage;function kU({rfId:e}){const t=Ke(AU);return P.createElement("div",{id:`${CU}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:_U},t)}function jU({rfId:e,disableKeyboardA11y:t}){return P.createElement(P.Fragment,null,P.createElement("div",{id:`${sj}-${e}`,style:jw},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),P.createElement("div",{id:`${ij}-${e}`,style:jw},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&P.createElement(kU,{rfId:e}))}var Jl=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=m.useState(!1),a=m.useRef(!1),o=m.useRef(new Set([])),[s,i]=m.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return m.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=p=>{if(a.current=p.ctrlKey||p.metaKey||p.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&mg(p))return!1;const x=Rw(p.code,i);o.current.add(p[x]),Tw(s,o.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&mg(p))return!1;const x=Rw(p.code,i);Tw(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[x]),p.key==="Meta"&&o.current.clear(),a.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Tw(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function Rw(e,t){return t.includes(e)?"code":"key"}function lj(e,t,n,r){var i,c;const a=e.parentNode||e.parentId;if(!a)return n;const o=t.get(a),s=Gs(o,r);return lj(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((i=o[tt])==null?void 0:i.z)??0)>(n.z??0)?((c=o[tt])==null?void 0:c.z)??0:n.z??0},r)}function cj(e,t,n){e.forEach(r=>{var o;const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||n!=null&&n[r.id]){const{x:s,y:i,z:c}=lj(r,e,{...r.position,z:((o=r[tt])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:i},r[tt].z=c,n!=null&&n[r.id]&&(r[tt].isParent=!0)}})}function gm(e,t,n,r){const a=new Map,o={},s=r?1e3:0;return e.forEach(i=>{var p;const c=(Mn(i.zIndex)?i.zIndex:0)+(i.selected?s:0),u=t.get(i.id),d={...i,positionAbsolute:{x:i.position.x,y:i.position.y}},f=i.parentNode||i.parentId;f&&(o[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==i.type;Object.defineProperty(d,tt,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[tt])==null?void 0:p.handleBounds,z:c}}),a.set(i.id,d)}),cj(a,n,o),a}function uj(e,t={}){const{getNodes:n,width:r,height:a,minZoom:o,maxZoom:s,d3Zoom:i,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(i&&c&&(h||!t.initial)){const y=n().filter(w=>{var v;const g=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(v=t.nodes)!=null&&v.length?g&&t.nodes.some(S=>S.id===w.id):g}),x=y.every(w=>w.width&&w.height);if(y.length>0&&x){const w=nv(y,f),{x:g,y:v,zoom:S}=Xk(w,r,a,t.minZoom??o,t.maxZoom??s,t.padding??.1),b=Ka.translate(g,v).scale(S);return typeof t.duration=="number"&&t.duration>0?i.transform(go(c,t.duration),b):i.transform(c,b),!0}}return!1}function TU(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[tt]:r[tt],selected:n.selected})}),new Map(t)}function RU(e,t){return t.map(n=>{const r=e.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function yu({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:a,edges:o,onNodesChange:s,onEdgesChange:i,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:TU(e,a)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:RU(t,o)}),i==null||i(t))}const ss=()=>{},MU={zoomIn:ss,zoomOut:ss,zoomTo:ss,getZoom:()=>1,setViewport:ss,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ss,fitBounds:ss,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},DU=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),zU=()=>{const e=_t(),{d3Zoom:t,d3Selection:n}=Ke(DU,en);return m.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(go(n,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(go(n,a==null?void 0:a.duration),1/1.2),zoomTo:(a,o)=>t.scaleTo(go(n,o==null?void 0:o.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,o)=>{const[s,i,c]=e.getState().transform,u=Ka.translate(a.x??s,a.y??i).scale(a.zoom??c);t.transform(go(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[a,o,s]=e.getState().transform;return{x:a,y:o,zoom:s}},fitView:a=>uj(e.getState,a),setCenter:(a,o,s)=>{const{width:i,height:c,maxZoom:u}=e.getState(),d=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=i/2-a*d,h=c/2-o*d,p=Ka.translate(f,h).scale(d);t.transform(go(n,s==null?void 0:s.duration),p)},fitBounds:(a,o)=>{const{width:s,height:i,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=Xk(a,s,i,c,u,(o==null?void 0:o.padding)??.1),p=Ka.translate(d,f).scale(h);t.transform(go(n,o==null?void 0:o.duration),p)},project:a=>{const{transform:o,snapToGrid:s,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),yg(a,o,s,i)},screenToFlowPosition:a=>{const{transform:o,snapToGrid:s,snapGrid:i,domNode:c}=e.getState();if(!c)return a;const{x:u,y:d}=c.getBoundingClientRect(),f={x:a.x-u,y:a.y-d};return yg(f,o,s,i)},flowToScreenPosition:a=>{const{transform:o,domNode:s}=e.getState();if(!s)return a;const{x:i,y:c}=s.getBoundingClientRect(),u=Zk(a,o);return{x:u.x+i,y:u.y+c}},viewportInitialized:!0}:MU,[t,n])};function ov(){const e=zU(),t=_t(),n=m.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=m.useCallback(x=>t.getState().nodeInternals.get(x),[]),a=m.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(w=>({...w}))},[]),o=m.useCallback(x=>{const{edges:w=[]}=t.getState();return w.find(g=>g.id===x)},[]),s=m.useCallback(x=>{const{getNodes:w,setNodes:g,hasDefaultNodes:v,onNodesChange:S}=t.getState(),b=w(),E=typeof x=="function"?x(b):x;if(v)g(E);else if(S){const j=E.length===0?b.map(N=>({type:"remove",id:N.id})):E.map(N=>({item:N,type:"reset"}));S(j)}},[]),i=m.useCallback(x=>{const{edges:w=[],setEdges:g,hasDefaultEdges:v,onEdgesChange:S}=t.getState(),b=typeof x=="function"?x(w):x;if(v)g(b);else if(S){const E=b.length===0?w.map(j=>({type:"remove",id:j.id})):b.map(j=>({item:j,type:"reset"}));S(E)}},[]),c=m.useCallback(x=>{const w=Array.isArray(x)?x:[x],{getNodes:g,setNodes:v,hasDefaultNodes:S,onNodesChange:b}=t.getState();if(S){const j=[...g(),...w];v(j)}else if(b){const E=w.map(j=>({item:j,type:"add"}));b(E)}},[]),u=m.useCallback(x=>{const w=Array.isArray(x)?x:[x],{edges:g=[],setEdges:v,hasDefaultEdges:S,onEdgesChange:b}=t.getState();if(S)v([...g,...w]);else if(b){const E=w.map(j=>({item:j,type:"add"}));b(E)}},[]),d=m.useCallback(()=>{const{getNodes:x,edges:w=[],transform:g}=t.getState(),[v,S,b]=g;return{nodes:x().map(E=>({...E})),edges:w.map(E=>({...E})),viewport:{x:v,y:S,zoom:b}}},[]),f=m.useCallback(({nodes:x,edges:w})=>{const{nodeInternals:g,getNodes:v,edges:S,hasDefaultNodes:b,hasDefaultEdges:E,onNodesDelete:j,onEdgesDelete:N,onNodesChange:C,onEdgesChange:_}=t.getState(),A=(x||[]).map($=>$.id),O=(w||[]).map($=>$.id),B=v().reduce(($,T)=>{const I=T.parentNode||T.parentId,D=!A.includes(T.id)&&I&&$.find(L=>L.id===I);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(A.includes(T.id)||D)&&$.push(T),$},[]),R=S.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),k=R.filter($=>O.includes($.id));if(B||k){const $=qk(B,R),T=[...k,...$],I=T.reduce((D,M)=>(D.includes(M.id)||D.push(M.id),D),[]);if((E||b)&&(E&&t.setState({edges:S.filter(D=>!I.includes(D.id))}),b&&(B.forEach(D=>{g.delete(D.id)}),t.setState({nodeInternals:new Map(g)}))),I.length>0&&(N==null||N(T),_&&_(I.map(D=>({id:D,type:"remove"})))),B.length>0&&(j==null||j(B),C)){const D=B.map(M=>({id:M.id,type:"remove"}));C(D)}}},[]),h=m.useCallback(x=>{const w=tU(x),g=w?null:t.getState().nodeInternals.get(x.id);return!w&&!g?[null,null,w]:[w?x:Sw(g),g,w]},[]),p=m.useCallback((x,w=!0,g)=>{const[v,S,b]=h(x);return v?(g||t.getState().getNodes()).filter(E=>{if(!b&&(E.id===S.id||!E.positionAbsolute))return!1;const j=Sw(E),N=hg(j,v);return w&&N>0||N>=v.width*v.height}):[]},[]),y=m.useCallback((x,w,g=!0)=>{const[v]=h(x);if(!v)return!1;const S=hg(v,w);return g&&S>0||S>=v.width*v.height},[]);return m.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:o,setNodes:s,setEdges:i,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:y}),[e,n,r,a,o,s,i,c,u,d,f,p,y])}const OU={actInsideInputWithModifier:!1};var $U=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=_t(),{deleteElements:r}=ov(),a=Jl(e,OU),o=Jl(t);m.useEffect(()=>{if(a){const{edges:s,getNodes:i}=n.getState(),c=i().filter(d=>d.selected),u=s.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[a]),m.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function PU(e){const t=_t();m.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const a=Xy(e.current);(a.height===0||a.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",ha.error004())),t.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const sv={position:"absolute",width:"100%",height:"100%",top:0,left:0},LU=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,vu=e=>({x:e.x,y:e.y,zoom:e.k}),is=(e,t)=>e.target.closest(`.${t}`),Mw=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Dw=e=>{const t=e.ctrlKey&&Yd()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},IU=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),BU=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:i=.5,panOnScrollMode:c=bo.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:y,maxZoom:x,zoomActivationKeyCode:w,preventScrolling:g=!0,children:v,noWheelClassName:S,noPanClassName:b})=>{const E=m.useRef(),j=_t(),N=m.useRef(!1),C=m.useRef(!1),_=m.useRef(null),A=m.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:B,d3ZoomHandler:R,userSelectionActive:k}=Ke(IU,en),$=Jl(w),T=m.useRef(0),I=m.useRef(!1),D=m.useRef();return PU(_),m.useEffect(()=>{if(_.current){const M=_.current.getBoundingClientRect(),L=YF().scaleExtent([y,x]).translateExtent(p),F=Gn(_.current).call(L),V=Ka.translate(h.x,h.y).scale(di(h.zoom,y,x)),U=[[0,0],[M.width,M.height]],z=L.constrain()(V,U,p);L.transform(F,z),L.wheelDelta(Dw),j.setState({d3Zoom:L,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[z.x,z.y,z.k],domNode:_.current.closest(".react-flow")})}},[]),m.useEffect(()=>{B&&O&&(s&&!$&&!k?B.on("wheel.zoom",M=>{if(is(M,S))return!1;M.preventDefault(),M.stopImmediatePropagation();const L=B.property("__zoom").k||1;if(M.ctrlKey&&o){const Y=sr(M),W=Dw(M),Q=L*Math.pow(2,W);O.scaleTo(B,Q,Y,M);return}const F=M.deltaMode===1?20:1;let V=c===bo.Vertical?0:M.deltaX*F,U=c===bo.Horizontal?0:M.deltaY*F;!Yd()&&M.shiftKey&&c!==bo.Vertical&&(V=M.deltaY*F,U=0),O.translateBy(B,-(V/L)*i,-(U/L)*i,{internal:!0});const z=vu(B.property("__zoom")),{onViewportChangeStart:H,onViewportChange:Z,onViewportChangeEnd:G}=j.getState();clearTimeout(D.current),I.current||(I.current=!0,t==null||t(M,z),H==null||H(z)),I.current&&(e==null||e(M,z),Z==null||Z(z),D.current=setTimeout(()=>{n==null||n(M,z),G==null||G(z),I.current=!1},150))},{passive:!1}):typeof R<"u"&&B.on("wheel.zoom",function(M,L){if(!g&&M.type==="wheel"&&!M.ctrlKey||is(M,S))return null;M.preventDefault(),R.call(this,M,L)},{passive:!1}))},[k,s,c,B,O,R,$,o,g,S,t,e,n]),m.useEffect(()=>{O&&O.on("start",M=>{var V,U;if(!M.sourceEvent||M.sourceEvent.internal)return null;T.current=(V=M.sourceEvent)==null?void 0:V.button;const{onViewportChangeStart:L}=j.getState(),F=vu(M.transform);N.current=!0,A.current=F,((U=M.sourceEvent)==null?void 0:U.type)==="mousedown"&&j.setState({paneDragging:!0}),L==null||L(F),t==null||t(M.sourceEvent,F)})},[O,t]),m.useEffect(()=>{O&&(k&&!N.current?O.on("zoom",null):k||O.on("zoom",M=>{var F;const{onViewportChange:L}=j.getState();if(j.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),C.current=!!(r&&Mw(f,T.current??0)),(e||L)&&!((F=M.sourceEvent)!=null&&F.internal)){const V=vu(M.transform);L==null||L(V),e==null||e(M.sourceEvent,V)}}))},[k,O,e,f,r]),m.useEffect(()=>{O&&O.on("end",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;const{onViewportChangeEnd:L}=j.getState();if(N.current=!1,j.setState({paneDragging:!1}),r&&Mw(f,T.current??0)&&!C.current&&r(M.sourceEvent),C.current=!1,(n||L)&&LU(A.current,M.transform)){const F=vu(M.transform);A.current=F,clearTimeout(E.current),E.current=setTimeout(()=>{L==null||L(F),n==null||n(M.sourceEvent,F)},s?150:0)}})},[O,s,f,n,r]),m.useEffect(()=>{O&&O.filter(M=>{const L=$||a,F=o&&M.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&M.button===1&&M.type==="mousedown"&&(is(M,"react-flow__node")||is(M,"react-flow__edge")))return!0;if(!f&&!L&&!s&&!u&&!o||k||!u&&M.type==="dblclick"||is(M,S)&&M.type==="wheel"||is(M,b)&&(M.type!=="wheel"||s&&M.type==="wheel"&&!$)||!o&&M.ctrlKey&&M.type==="wheel"||!L&&!s&&!F&&M.type==="wheel"||!f&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(f)&&!f.includes(M.button)&&M.type==="mousedown")return!1;const V=Array.isArray(f)&&f.includes(M.button)||!M.button||M.button<=1;return(!M.ctrlKey||M.type==="wheel")&&V})},[k,O,a,o,s,u,f,d,$]),P.createElement("div",{className:"react-flow__renderer",ref:_,style:sv},v)},HU=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function FU(){const{userSelectionActive:e,userSelectionRect:t}=Ke(HU,en);return e&&t?P.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function zw(e,t){const n=t.parentNode||t.parentId,r=e.find(a=>a.id===n);if(r){const a=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(a>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function dj(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,a)=>{const o=e.filter(i=>i.id===a.id);if(o.length===0)return r.push(a),r;const s={...a};for(const i of o)if(i)switch(i.type){case"select":{s.selected=i.selected;break}case"position":{typeof i.position<"u"&&(s.position=i.position),typeof i.positionAbsolute<"u"&&(s.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(s.dragging=i.dragging),s.expandParent&&zw(r,s);break}case"dimensions":{typeof i.dimensions<"u"&&(s.width=i.dimensions.width,s.height=i.dimensions.height),typeof i.updateStyle<"u"&&(s.style={...s.style||{},...i.dimensions}),typeof i.resizing=="boolean"&&(s.resizing=i.resizing),s.expandParent&&zw(r,s);break}case"remove":return r}return r.push(s),r},n)}function fj(e,t){return dj(e,t)}function UU(e,t){return dj(e,t)}const ja=(e,t)=>({id:e,type:"select",selected:t});function js(e,t){return e.reduce((n,r)=>{const a=t.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(ja(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(ja(r.id,!1))),n},[])}const ym=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},GU=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),hj=m.memo(({isSelecting:e,selectionMode:t=Ql.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:i,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=m.useRef(null),p=_t(),y=m.useRef(0),x=m.useRef(0),w=m.useRef(),{userSelectionActive:g,elementsSelectable:v,dragging:S}=Ke(GU,en),b=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,x.current=0},E=R=>{o==null||o(R),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},j=R=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){R.preventDefault();return}s==null||s(R)},N=i?R=>i(R):void 0,C=R=>{const{resetSelectedElements:k,domNode:$}=p.getState();if(w.current=$==null?void 0:$.getBoundingClientRect(),!v||!e||R.button!==0||R.target!==h.current||!w.current)return;const{x:T,y:I}=Wa(R,w.current);k(),p.setState({userSelectionRect:{width:0,height:0,startX:T,startY:I,x:T,y:I}}),r==null||r(R)},_=R=>{const{userSelectionRect:k,nodeInternals:$,edges:T,transform:I,onNodesChange:D,onEdgesChange:M,nodeOrigin:L,getNodes:F}=p.getState();if(!e||!w.current||!k)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const V=Wa(R,w.current),U=k.startX??0,z=k.startY??0,H={...k,x:V.x<U?V.x:U,y:V.y<z?V.y:z,width:Math.abs(V.x-U),height:Math.abs(V.y-z)},Z=F(),G=Yk($,H,I,t===Ql.Partial,!0,L),Y=qk(G,T).map(Q=>Q.id),W=G.map(Q=>Q.id);if(y.current!==W.length){y.current=W.length;const Q=js(Z,W);Q.length&&(D==null||D(Q))}if(x.current!==Y.length){x.current=Y.length;const Q=js(T,Y);Q.length&&(M==null||M(Q))}p.setState({userSelectionRect:H})},A=R=>{if(R.button!==0)return;const{userSelectionRect:k}=p.getState();!g&&k&&R.target===h.current&&(E==null||E(R)),p.setState({nodesSelectionActive:y.current>0}),b(),a==null||a(R)},O=R=>{g&&(p.setState({nodesSelectionActive:y.current>0}),a==null||a(R)),b()},B=v&&(e||g);return P.createElement("div",{className:Vt(["react-flow__pane",{dragging:S,selection:e}]),onClick:B?void 0:ym(E,h),onContextMenu:ym(j,h),onWheel:ym(N,h),onMouseEnter:B?void 0:c,onMouseDown:B?C:void 0,onMouseMove:B?_:u,onMouseUp:B?A:void 0,onMouseLeave:B?O:d,ref:h,style:sv},f,P.createElement(FU,null))});hj.displayName="Pane";function mj(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:mj(r,t):!1}function Ow(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function VU(e,t,n,r){return Array.from(e.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!mj(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var o,s;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=a.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=a.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function ZU(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function pj(e,t,n,r,a=[0,0],o){const s=ZU(e,e.extent||r);let i=s;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:h,y:p}=Gs(f,a).positionAbsolute;i=f&&Mn(h)&&Mn(p)&&Mn(f.width)&&Mn(f.height)?[[h+e.width*a[0],p+e.height*a[1]],[h+f.width-e.width+e.width*a[0],p+f.height-e.height+e.height*a[1]]]:i}else o==null||o("005",ha.error005()),i=s;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:h,y:p}=Gs(f,a).positionAbsolute;i=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(c){const f=n.get(c);u=Gs(f,a).positionAbsolute}const d=i&&i!=="parent"?Ky(t,i):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function vm({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?r.find(a=>a.id===e):r[0],r]}const $w=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),s=t.getBoundingClientRect(),i={x:s.width*r[0],y:s.height*r[1]};return o.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-s.left-i.x)/n,y:(u.top-s.top-i.y)/n,...Xy(c)}})};function Gi(e,t,n){return n===void 0?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,{...a})}}function xg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:i,onError:c}=t.getState(),u=i.get(e);if(!u){c==null||c("012",ha.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):a([e])}function YU(){const e=_t();return m.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,c={x:(s-r[0])/r[2],y:(i-r[1])/r[2]};return{xSnapped:o?a[0]*Math.round(c.x/a[0]):c.x,ySnapped:o?a[1]*Math.round(c.y/a[1]):c.y,...c}},[])}function xm(e){return(t,n,r)=>e==null?void 0:e(t,r)}function gj({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:o,selectNodesOnDrag:s}){const i=_t(),[c,u]=m.useState(!1),d=m.useRef([]),f=m.useRef({x:null,y:null}),h=m.useRef(0),p=m.useRef(null),y=m.useRef({x:0,y:0}),x=m.useRef(null),w=m.useRef(!1),g=m.useRef(!1),v=m.useRef(!1),S=YU();return m.useEffect(()=>{if(e!=null&&e.current){const b=Gn(e.current),E=({x:C,y:_})=>{const{nodeInternals:A,onNodeDrag:O,onSelectionDrag:B,updateNodePositions:R,nodeExtent:k,snapGrid:$,snapToGrid:T,nodeOrigin:I,onError:D}=i.getState();f.current={x:C,y:_};let M=!1,L={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&k){const V=nv(d.current,I);L=Wy(V)}if(d.current=d.current.map(V=>{const U={x:C-V.distance.x,y:_-V.distance.y};T&&(U.x=$[0]*Math.round(U.x/$[0]),U.y=$[1]*Math.round(U.y/$[1]));const z=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];d.current.length>1&&k&&!V.extent&&(z[0][0]=V.positionAbsolute.x-L.x+k[0][0],z[1][0]=V.positionAbsolute.x+(V.width??0)-L.x2+k[1][0],z[0][1]=V.positionAbsolute.y-L.y+k[0][1],z[1][1]=V.positionAbsolute.y+(V.height??0)-L.y2+k[1][1]);const H=pj(V,U,A,z,I,D);return M=M||V.position.x!==H.position.x||V.position.y!==H.position.y,V.position=H.position,V.positionAbsolute=H.positionAbsolute,V}),!M)return;R(d.current,!0,!0),u(!0);const F=a?O:xm(B);if(F&&x.current){const[V,U]=vm({nodeId:a,dragItems:d.current,nodeInternals:A});F(x.current,V,U)}},j=()=>{if(!p.current)return;const[C,_]=Pk(y.current,p.current);if(C!==0||_!==0){const{transform:A,panBy:O}=i.getState();f.current.x=(f.current.x??0)-C/A[2],f.current.y=(f.current.y??0)-_/A[2],O({x:C,y:_})&&E(f.current)}h.current=requestAnimationFrame(j)},N=C=>{var I;const{nodeInternals:_,multiSelectionActive:A,nodesDraggable:O,unselectNodesAndEdges:B,onNodeDragStart:R,onSelectionDragStart:k}=i.getState();g.current=!0;const $=a?R:xm(k);(!s||!o)&&!A&&a&&((I=_.get(a))!=null&&I.selected||B()),a&&o&&s&&xg({id:a,store:i,nodeRef:e});const T=S(C);if(f.current=T,d.current=VU(_,O,T,a),$&&d.current){const[D,M]=vm({nodeId:a,dragItems:d.current,nodeInternals:_});$(C.sourceEvent,D,M)}};if(t)b.on(".drag",null);else{const C=r7().on("start",_=>{const{domNode:A,nodeDragThreshold:O}=i.getState();O===0&&N(_),v.current=!1;const B=S(_);f.current=B,p.current=(A==null?void 0:A.getBoundingClientRect())||null,y.current=Wa(_.sourceEvent,p.current)}).on("drag",_=>{var R,k;const A=S(_),{autoPanOnNodeDrag:O,nodeDragThreshold:B}=i.getState();if(_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1&&(v.current=!0),!v.current){if(!w.current&&g.current&&O&&(w.current=!0,j()),!g.current){const $=A.xSnapped-(((R=f==null?void 0:f.current)==null?void 0:R.x)??0),T=A.ySnapped-(((k=f==null?void 0:f.current)==null?void 0:k.y)??0);Math.sqrt($*$+T*T)>B&&N(_)}(f.current.x!==A.xSnapped||f.current.y!==A.ySnapped)&&d.current&&g.current&&(x.current=_.sourceEvent,y.current=Wa(_.sourceEvent,p.current),E(A))}}).on("end",_=>{if(!(!g.current||v.current)&&(u(!1),w.current=!1,g.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:A,nodeInternals:O,onNodeDragStop:B,onSelectionDragStop:R}=i.getState(),k=a?B:xm(R);if(A(d.current,!1,!1),k){const[$,T]=vm({nodeId:a,dragItems:d.current,nodeInternals:O});k(_.sourceEvent,$,T)}}}).filter(_=>{const A=_.target;return!_.button&&(!n||!Ow(A,`.${n}`,e))&&(!r||Ow(A,r,e))});return b.call(C),()=>{b.on(".drag",null)}}}},[e,t,n,r,o,i,a,s,S]),c}function yj(){const e=_t();return m.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:o,getNodes:s,snapToGrid:i,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=s().filter(v=>v.selected&&(v.draggable||d&&typeof v.draggable>"u")),h=i?c[0]:5,p=i?c[1]:5,y=n.isShiftPressed?4:1,x=n.x*h*y,w=n.y*p*y,g=f.map(v=>{if(v.positionAbsolute){const S={x:v.positionAbsolute.x+x,y:v.positionAbsolute.y+w};i&&(S.x=c[0]*Math.round(S.x/c[0]),S.y=c[1]*Math.round(S.y/c[1]));const{positionAbsolute:b,position:E}=pj(v,S,r,a,void 0,u);v.position=E,v.positionAbsolute=b}return v});o(g,!0,!1)},[])}const Vs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Vi=e=>{const t=({id:n,type:r,data:a,xPos:o,yPos:s,xPosOrigin:i,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:y,onDoubleClick:x,style:w,className:g,isDraggable:v,isSelectable:S,isConnectable:b,isFocusable:E,selectNodesOnDrag:j,sourcePosition:N,targetPosition:C,hidden:_,resizeObserver:A,dragHandle:O,zIndex:B,isParent:R,noDragClassName:k,noPanClassName:$,initialized:T,disableKeyboardA11y:I,ariaLabel:D,rfId:M,hasHandleBounds:L})=>{const F=_t(),V=m.useRef(null),U=m.useRef(null),z=m.useRef(N),H=m.useRef(C),Z=m.useRef(r),G=S||v||d||f||h||p,Y=yj(),W=Gi(n,F.getState,f),Q=Gi(n,F.getState,h),me=Gi(n,F.getState,p),pe=Gi(n,F.getState,y),fe=Gi(n,F.getState,x),ee=Ne=>{const{nodeDragThreshold:J}=F.getState();if(S&&(!j||!v||J>0)&&xg({id:n,store:F,nodeRef:V}),d){const Ze=F.getState().nodeInternals.get(n);Ze&&d(Ne,{...Ze})}},je=Ne=>{if(!mg(Ne)&&!I)if(Ik.includes(Ne.key)&&S){const J=Ne.key==="Escape";xg({id:n,store:F,unselect:J,nodeRef:V})}else v&&u&&Object.prototype.hasOwnProperty.call(Vs,Ne.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${Ne.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),Y({x:Vs[Ne.key].x,y:Vs[Ne.key].y,isShiftPressed:Ne.shiftKey}))};m.useEffect(()=>()=>{U.current&&(A==null||A.unobserve(U.current),U.current=null)},[]),m.useEffect(()=>{if(V.current&&!_){const Ne=V.current;(!T||!L||U.current!==Ne)&&(U.current&&(A==null||A.unobserve(U.current)),A==null||A.observe(Ne),U.current=Ne)}},[_,T,L]),m.useEffect(()=>{const Ne=Z.current!==r,J=z.current!==N,Ze=H.current!==C;V.current&&(Ne||J||Ze)&&(Ne&&(Z.current=r),J&&(z.current=N),Ze&&(H.current=C),F.getState().updateNodeDimensions([{id:n,nodeElement:V.current,forceUpdate:!0}]))},[n,r,N,C]);const ot=gj({nodeRef:V,disabled:_||!v,noDragClassName:k,handleSelector:O,nodeId:n,isSelectable:S,selectNodesOnDrag:j});return _?null:P.createElement("div",{className:Vt(["react-flow__node",`react-flow__node-${r}`,{[$]:v},g,{selected:u,selectable:S,parent:R,dragging:ot}]),ref:V,style:{zIndex:B,transform:`translate(${i}px,${c}px)`,pointerEvents:G?"all":"none",visibility:T?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:W,onMouseMove:Q,onMouseLeave:me,onContextMenu:pe,onClick:ee,onDoubleClick:fe,onKeyDown:E?je:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":I?void 0:`${sj}-${M}`,"aria-label":D},P.createElement(lU,{value:n},P.createElement(e,{id:n,data:a,type:r,xPos:o,yPos:s,selected:u,isConnectable:b,sourcePosition:N,targetPosition:C,dragging:ot,dragHandle:O,zIndex:B})))};return t.displayName="NodeWrapper",m.memo(t)};const qU=e=>{const t=e.getNodes().filter(n=>n.selected);return{...nv(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function XU({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=_t(),{width:a,height:o,x:s,y:i,transformString:c,userSelectionActive:u}=Ke(qU,en),d=yj(),f=m.useRef(null);if(m.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),gj({nodeRef:f}),u||!a||!o)return null;const h=e?y=>{const x=r.getState().getNodes().filter(w=>w.selected);e(y,x)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(Vs,y.key)&&d({x:Vs[y.key].x,y:Vs[y.key].y,isShiftPressed:y.shiftKey})};return P.createElement("div",{className:Vt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},P.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:a,height:o,top:i,left:s}}))}var KU=m.memo(XU);const WU=e=>e.nodesSelectionActive,vj=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:i,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:y,onSelectionEnd:x,multiSelectionKeyCode:w,panActivationKeyCode:g,zoomActivationKeyCode:v,elementsSelectable:S,zoomOnScroll:b,zoomOnPinch:E,panOnScroll:j,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:_,panOnDrag:A,defaultViewport:O,translateExtent:B,minZoom:R,maxZoom:k,preventScrolling:$,onSelectionContextMenu:T,noWheelClassName:I,noPanClassName:D,disableKeyboardA11y:M})=>{const L=Ke(WU),F=Jl(f),V=Jl(g),U=V||A,z=V||j,H=F||h&&U!==!0;return $U({deleteKeyCode:i,multiSelectionKeyCode:w}),P.createElement(BU,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:o,elementsSelectable:S,zoomOnScroll:b,zoomOnPinch:E,panOnScroll:z,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:_,panOnDrag:!F&&U,defaultViewport:O,translateExtent:B,minZoom:R,maxZoom:k,zoomActivationKeyCode:v,preventScrolling:$,noWheelClassName:I,noPanClassName:D},P.createElement(hj,{onSelectionStart:y,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:U,isSelecting:!!H,selectionMode:p},e,L&&P.createElement(KU,{onSelectionContextMenu:T,noPanClassName:D,disableKeyboardA11y:M})))};vj.displayName="FlowRenderer";var QU=m.memo(vj);function JU(e){return Ke(m.useCallback(n=>e?Yk(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function eG(e){const t={input:Vi(e.input||nj),default:Vi(e.default||vg),output:Vi(e.output||aj),group:Vi(e.group||av)},n={},r=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,o)=>(a[o]=Vi(e[o]||vg),a),n);return{...t,...r}}const tG=({x:e,y:t,width:n,height:r,origin:a})=>!n||!r?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-r*a[1]},nG=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),xj=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:o,onError:s}=Ke(nG,en),i=JU(e.onlyRenderVisibleElements),c=m.useRef(),u=m.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));o(h)});return c.current=d,d},[]);return m.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),P.createElement("div",{className:"react-flow__nodes",style:sv},i.map(d=>{var E,j,N;let f=d.type||"default";e.nodeTypes[f]||(s==null||s("003",ha.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(d.draggable||t&&typeof d.draggable>"u"),y=!!(d.selectable||a&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),w=!!(d.focusable||r&&typeof d.focusable>"u"),g=e.nodeExtent?Ky(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,v=(g==null?void 0:g.x)??0,S=(g==null?void 0:g.y)??0,b=tG({x:v,y:S,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return P.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||oe.Bottom,targetPosition:d.targetPosition||oe.Top,hidden:d.hidden,xPos:v,yPos:S,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:p,isSelectable:y,isConnectable:x,isFocusable:w,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((E=d[tt])==null?void 0:E.z)??0,isParent:!!((j=d[tt])!=null&&j.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((N=d[tt])!=null&&N.handleBounds)})}))};xj.displayName="NodeRenderer";var rG=m.memo(xj);const aG=(e,t,n)=>n===oe.Left?e-t:n===oe.Right?e+t:e,oG=(e,t,n)=>n===oe.Top?e-t:n===oe.Bottom?e+t:e,Pw="react-flow__edgeupdater",Lw=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:o,onMouseOut:s,type:i})=>P.createElement("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:s,className:Vt([Pw,`${Pw}-${i}`]),cx:aG(t,r,e),cy:oG(n,r,e),r,stroke:"transparent",fill:"transparent"}),sG=()=>!0;var ls=e=>{const t=({id:n,className:r,type:a,data:o,onClick:s,onEdgeDoubleClick:i,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:x,style:w,source:g,target:v,sourceX:S,sourceY:b,targetX:E,targetY:j,sourcePosition:N,targetPosition:C,elementsSelectable:_,hidden:A,sourceHandleId:O,targetHandleId:B,onContextMenu:R,onMouseEnter:k,onMouseMove:$,onMouseLeave:T,reconnectRadius:I,onReconnect:D,onReconnectStart:M,onReconnectEnd:L,markerEnd:F,markerStart:V,rfId:U,ariaLabel:z,isFocusable:H,isReconnectable:Z,pathOptions:G,interactionWidth:Y,disableKeyboardA11y:W})=>{const Q=m.useRef(null),[me,pe]=m.useState(!1),[fe,ee]=m.useState(!1),je=_t(),ot=m.useMemo(()=>`url('#${gg(V,U)}')`,[V,U]),Ne=m.useMemo(()=>`url('#${gg(F,U)}')`,[F,U]);if(A)return null;const J=bt=>{var Nn;const{edges:Ct,addSelectedEdges:tr,unselectNodesAndEdges:Rr,multiSelectionActive:Mr}=je.getState(),Fn=Ct.find(io=>io.id===n);Fn&&(_&&(je.setState({nodesSelectionActive:!1}),Fn.selected&&Mr?(Rr({nodes:[],edges:[Fn]}),(Nn=Q.current)==null||Nn.blur()):tr([n])),s&&s(bt,Fn))},Ze=Ui(n,je.getState,i),Rt=Ui(n,je.getState,R),Zt=Ui(n,je.getState,k),In=Ui(n,je.getState,$),Yt=Ui(n,je.getState,T),Bn=(bt,Ct)=>{if(bt.button!==0)return;const{edges:tr,isValidConnection:Rr}=je.getState(),Mr=Ct?v:g,Fn=(Ct?B:O)||null,Nn=Ct?"target":"source",io=Rr||sG,ie=Ct,Ee=tr.find(Me=>Me.id===n);ee(!0),M==null||M(bt,Ee,Nn);const Te=Me=>{ee(!1),L==null||L(Me,Ee,Nn)};Qk({event:bt,handleId:Fn,nodeId:Mr,onConnect:Me=>D==null?void 0:D(Ee,Me),isTarget:ie,getState:je.getState,setState:je.setState,isValidConnection:io,edgeUpdaterType:Nn,onReconnectEnd:Te})},kr=bt=>Bn(bt,!0),jr=bt=>Bn(bt,!1),Tr=()=>pe(!0),Hn=()=>pe(!1),va=!_&&!s,xa=bt=>{var Ct;if(!W&&Ik.includes(bt.key)&&_){const{unselectNodesAndEdges:tr,addSelectedEdges:Rr,edges:Mr}=je.getState();bt.key==="Escape"?((Ct=Q.current)==null||Ct.blur(),tr({edges:[Mr.find(Nn=>Nn.id===n)]})):Rr([n])}};return P.createElement("g",{className:Vt(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:c,animated:u,inactive:va,updating:me}]),onClick:J,onDoubleClick:Ze,onContextMenu:Rt,onMouseEnter:Zt,onMouseMove:In,onMouseLeave:Yt,onKeyDown:H?xa:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":z===null?void 0:z||`Edge from ${g} to ${v}`,"aria-describedby":H?`${ij}-${U}`:void 0,ref:Q},!fe&&P.createElement(e,{id:n,source:g,target:v,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:x,data:o,style:w,sourceX:S,sourceY:b,targetX:E,targetY:j,sourcePosition:N,targetPosition:C,sourceHandleId:O,targetHandleId:B,markerStart:ot,markerEnd:Ne,pathOptions:G,interactionWidth:Y}),Z&&P.createElement(P.Fragment,null,(Z==="source"||Z===!0)&&P.createElement(Lw,{position:N,centerX:S,centerY:b,radius:I,onMouseDown:kr,onMouseEnter:Tr,onMouseOut:Hn,type:"source"}),(Z==="target"||Z===!0)&&P.createElement(Lw,{position:C,centerX:E,centerY:j,radius:I,onMouseDown:jr,onMouseEnter:Tr,onMouseOut:Hn,type:"target"})))};return t.displayName="EdgeWrapper",m.memo(t)};function iG(e){const t={default:ls(e.default||Xd),straight:ls(e.bezier||ev),step:ls(e.step||Jy),smoothstep:ls(e.step||rh),simplebezier:ls(e.simplebezier||Qy)},n={},r=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,o)=>(a[o]=ls(e[o]||Xd),a),n);return{...t,...r}}function Iw(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,a=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case oe.Top:return{x:r+o/2,y:a};case oe.Right:return{x:r+o,y:a+s/2};case oe.Bottom:return{x:r+o/2,y:a+s};case oe.Left:return{x:r,y:a+s/2}}}function Bw(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const lG=(e,t,n,r,a,o)=>{const s=Iw(n,e,t),i=Iw(o,r,a);return{sourceX:s.x,sourceY:s.y,targetX:i.x,targetY:i.y}};function cG({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:o,width:s,height:i,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Wy({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:i/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function Hw(e){var r,a,o,s,i;const t=((r=e==null?void 0:e[tt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const uG=[{level:0,isMaxLevel:!0,edges:[]}];function dG(e,t,n=!1){let r=-1;const a=e.reduce((s,i)=>{var d,f;const c=Mn(i.zIndex);let u=c?i.zIndex:0;if(n){const h=t.get(i.target),p=t.get(i.source),y=i.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),x=Math.max(((d=p==null?void 0:p[tt])==null?void 0:d.z)||0,((f=h==null?void 0:h[tt])==null?void 0:f.z)||0,1e3);u=(c?i.zIndex:0)+(y?x:0)}return s[u]?s[u].push(i):s[u]=[i],r=u>r?u:r,s},{}),o=Object.entries(a).map(([s,i])=>{const c=+s;return{edges:i,level:c,isMaxLevel:c===r}});return o.length===0?uG:o}function fG(e,t,n){const r=Ke(m.useCallback(a=>e?a.edges.filter(o=>{const s=t.get(o.source),i=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&cG({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:i.width,targetHeight:i.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return dG(r,t,n)}const hG=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),mG=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Fw={[qd.Arrow]:hG,[qd.ArrowClosed]:mG};function pG(e){const t=_t();return m.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(Fw,e)?Fw[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",ha.error009(e)),null)},[e])}const gG=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:i="auto-start-reverse"})=>{const c=pG(t);return c?P.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:i,refX:"0",refY:"0"},P.createElement(c,{color:n,strokeWidth:s})):null},yG=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((a,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const i=gg(s,t);r.includes(i)||(a.push({id:i,color:s.color||e,...s}),r.push(i))}}),a),[]).sort((a,o)=>a.id.localeCompare(o.id))},bj=({defaultColor:e,rfId:t})=>{const n=Ke(m.useCallback(yG({defaultColor:e,rfId:t}),[e,t]),(r,a)=>!(r.length!==a.length||r.some((o,s)=>o.id!==a[s].id)));return P.createElement("defs",null,n.map(r=>P.createElement(gG,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};bj.displayName="MarkerDefinitions";var vG=m.memo(bj);const xG=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),wj=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:i,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:x,children:w,disableKeyboardA11y:g})=>{const{edgesFocusable:v,edgesUpdatable:S,elementsSelectable:b,width:E,height:j,connectionMode:N,nodeInternals:C,onError:_}=Ke(xG,en),A=fG(t,C,n);return E?P.createElement(P.Fragment,null,A.map(({level:O,edges:B,isMaxLevel:R})=>P.createElement("svg",{key:O,style:{zIndex:O},width:E,height:j,className:"react-flow__edges react-flow__container"},R&&P.createElement(vG,{defaultColor:e,rfId:r}),P.createElement("g",null,B.map(k=>{const[$,T,I]=Hw(C.get(k.source)),[D,M,L]=Hw(C.get(k.target));if(!I||!L)return null;let F=k.type||"default";a[F]||(_==null||_("011",ha.error011(F)),F="default");const V=a[F]||a.default,U=N===Lo.Strict?M.target:(M.target??[]).concat(M.source??[]),z=Bw(T.source,k.sourceHandle),H=Bw(U,k.targetHandle),Z=(z==null?void 0:z.position)||oe.Bottom,G=(H==null?void 0:H.position)||oe.Top,Y=!!(k.focusable||v&&typeof k.focusable>"u"),W=k.reconnectable||k.updatable,Q=typeof h<"u"&&(W||S&&typeof W>"u");if(!z||!H)return _==null||_("008",ha.error008(z,k)),null;const{sourceX:me,sourceY:pe,targetX:fe,targetY:ee}=lG($,z,Z,D,H,G);return P.createElement(V,{key:k.id,id:k.id,className:Vt([k.className,o]),type:F,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:me,sourceY:pe,targetX:fe,targetY:ee,sourcePosition:Z,targetPosition:G,elementsSelectable:b,onContextMenu:s,onMouseEnter:i,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:x,rfId:r,ariaLabel:k.ariaLabel,isFocusable:Y,isReconnectable:Q,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:g})})))),w):null};wj.displayName="EdgeRenderer";var bG=m.memo(wj);const wG=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function SG({children:e}){const t=Ke(wG);return P.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function NG(e){const t=ov(),n=m.useRef(!1);m.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const EG={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top},Sj=({nodeId:e,handleType:t,style:n,type:r=za.Bezier,CustomComponent:a,connectionStatus:o})=>{var j,N,C;const{fromNode:s,handleId:i,toX:c,toY:u,connectionMode:d}=Ke(m.useCallback(_=>({fromNode:_.nodeInternals.get(e),handleId:_.connectionHandleId,toX:(_.connectionPosition.x-_.transform[0])/_.transform[2],toY:(_.connectionPosition.y-_.transform[1])/_.transform[2],connectionMode:_.connectionMode}),[e]),en),f=(j=s==null?void 0:s[tt])==null?void 0:j.handleBounds;let h=f==null?void 0:f[t];if(d===Lo.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!h)return null;const p=i?h.find(_=>_.id===i):h[0],y=p?p.x+p.width/2:(s.width??0)/2,x=p?p.y+p.height/2:s.height??0,w=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,g=(((C=s.positionAbsolute)==null?void 0:C.y)??0)+x,v=p==null?void 0:p.position,S=v?EG[v]:null;if(!v||!S)return null;if(a)return P.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:w,fromY:g,toX:c,toY:u,fromPosition:v,toPosition:S,connectionStatus:o});let b="";const E={sourceX:w,sourceY:g,sourcePosition:v,targetX:c,targetY:u,targetPosition:S};return r===za.Bezier?[b]=Gk(E):r===za.Step?[b]=pg({...E,borderRadius:0}):r===za.SmoothStep?[b]=pg(E):r===za.SimpleBezier?[b]=Uk(E):b=`M${w},${g} ${c},${u}`,P.createElement("path",{d:b,fill:"none",className:"react-flow__connection-path",style:n})};Sj.displayName="ConnectionLine";const _G=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function CG({containerStyle:e,style:t,type:n,component:r}){const{nodeId:a,handleType:o,nodesConnectable:s,width:i,height:c,connectionStatus:u}=Ke(_G,en);return!(a&&o&&i&&s)?null:P.createElement("svg",{style:e,width:i,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},P.createElement("g",{className:Vt(["react-flow__connection",u])},P.createElement(Sj,{nodeId:a,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Uw(e,t){return m.useRef(null),_t(),m.useMemo(()=>t(e),[e])}const Nj=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:o,onNodeClick:s,onEdgeClick:i,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:w,connectionLineType:g,connectionLineStyle:v,connectionLineComponent:S,connectionLineContainerStyle:b,selectionKeyCode:E,selectionOnDrag:j,selectionMode:N,multiSelectionKeyCode:C,panActivationKeyCode:_,zoomActivationKeyCode:A,deleteKeyCode:O,onlyRenderVisibleElements:B,elementsSelectable:R,selectNodesOnDrag:k,defaultViewport:$,translateExtent:T,minZoom:I,maxZoom:D,preventScrolling:M,defaultMarkerColor:L,zoomOnScroll:F,zoomOnPinch:V,panOnScroll:U,panOnScrollSpeed:z,panOnScrollMode:H,zoomOnDoubleClick:Z,panOnDrag:G,onPaneClick:Y,onPaneMouseEnter:W,onPaneMouseMove:Q,onPaneMouseLeave:me,onPaneScroll:pe,onPaneContextMenu:fe,onEdgeContextMenu:ee,onEdgeMouseEnter:je,onEdgeMouseMove:ot,onEdgeMouseLeave:Ne,onReconnect:J,onReconnectStart:Ze,onReconnectEnd:Rt,reconnectRadius:Zt,noDragClassName:In,noWheelClassName:Yt,noPanClassName:Bn,elevateEdgesOnSelect:kr,disableKeyboardA11y:jr,nodeOrigin:Tr,nodeExtent:Hn,rfId:va})=>{const xa=Uw(e,eG),bt=Uw(t,iG);return NG(o),P.createElement(QU,{onPaneClick:Y,onPaneMouseEnter:W,onPaneMouseMove:Q,onPaneMouseLeave:me,onPaneContextMenu:fe,onPaneScroll:pe,deleteKeyCode:O,selectionKeyCode:E,selectionOnDrag:j,selectionMode:N,onSelectionStart:x,onSelectionEnd:w,multiSelectionKeyCode:C,panActivationKeyCode:_,zoomActivationKeyCode:A,elementsSelectable:R,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:F,zoomOnPinch:V,zoomOnDoubleClick:Z,panOnScroll:U,panOnScrollSpeed:z,panOnScrollMode:H,panOnDrag:G,defaultViewport:$,translateExtent:T,minZoom:I,maxZoom:D,onSelectionContextMenu:y,preventScrolling:M,noDragClassName:In,noWheelClassName:Yt,noPanClassName:Bn,disableKeyboardA11y:jr},P.createElement(SG,null,P.createElement(bG,{edgeTypes:bt,onEdgeClick:i,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:ee,onEdgeMouseEnter:je,onEdgeMouseMove:ot,onEdgeMouseLeave:Ne,onReconnect:J,onReconnectStart:Ze,onReconnectEnd:Rt,reconnectRadius:Zt,defaultMarkerColor:L,noPanClassName:Bn,elevateEdgesOnSelect:!!kr,disableKeyboardA11y:jr,rfId:va},P.createElement(CG,{style:v,type:g,component:S,containerStyle:b})),P.createElement("div",{className:"react-flow__edgelabel-renderer"}),P.createElement(rG,{nodeTypes:xa,onNodeClick:s,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:k,onlyRenderVisibleElements:B,noPanClassName:Bn,noDragClassName:In,disableKeyboardA11y:jr,nodeOrigin:Tr,nodeExtent:Hn,rfId:va})))};Nj.displayName="GraphView";var AG=m.memo(Nj);const bg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Na={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:bg,nodeExtent:bg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Lo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:nU,isValidConnection:void 0},kG=()=>p9((e,t)=>({...Na,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:gm(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",o=typeof r<"u",s=a?gm(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:i,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((x,w)=>{const g=a.get(w.id);if(g!=null&&g.hidden)a.set(g.id,{...g,[tt]:{...g[tt],handleBounds:void 0}});else if(g){const v=Xy(w.nodeElement);!!(v.width&&v.height&&(g.width!==v.width||g.height!==v.height||w.forceUpdate))&&(a.set(g.id,{...g,[tt]:{...g[tt],handleBounds:{source:$w(".source",w.nodeElement,h,u),target:$w(".target",w.nodeElement,h,u)}},...v}),x.push({id:g.id,type:"dimensions",dimensions:v}))}return x},[]);cj(a,u);const y=s||o&&!s&&uj(t,{initial:!0,...i});e({nodeInternals:new Map(a),fitViewOnInitDone:y}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(i=>{const c={id:i.id,type:"position",dragging:a};return r&&(c.positionAbsolute=i.positionAbsolute,c.position=i.position),c});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:s,getNodes:i,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(o){const u=fj(n,i()),d=gm(u,a,s,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(c=>ja(c,!0)):(s=js(o(),n),i=js(a,[])),yu({changedNodes:s,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(c=>ja(c,!0)):(s=js(a,n),i=js(o(),[])),yu({changedNodes:i,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:o}=t(),s=n||o(),i=r||a,c=s.map(d=>(d.selected=!1,ja(d.id,!1))),u=i.map(d=>ja(d.id,!1));yu({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();r==null||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();r==null||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(i=>i.selected).map(i=>ja(i.id,!1)),s=n.filter(i=>i.selected).map(i=>ja(i.id,!1));yu({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(a=>{a.positionAbsolute=Ky(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:o,d3Zoom:s,d3Selection:i,translateExtent:c}=t();if(!s||!i||!n.x&&!n.y)return!1;const u=Ka.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[a,o]],f=s==null?void 0:s.constrain()(u,d,c);return s.transform(i,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Na.connectionNodeId,connectionHandleId:Na.connectionHandleId,connectionHandleType:Na.connectionHandleType,connectionStatus:Na.connectionStatus,connectionStartHandle:Na.connectionStartHandle,connectionEndHandle:Na.connectionEndHandle}),reset:()=>e({...Na})}),Object.is),Ej=({children:e})=>{const t=m.useRef(null);return t.current||(t.current=kG()),P.createElement(qF,{value:t.current},e)};Ej.displayName="ReactFlowProvider";const _j=({children:e})=>m.useContext(nh)?P.createElement(P.Fragment,null,e):P.createElement(Ej,null,e);_j.displayName="ReactFlowWrapper";const jG={input:nj,default:vg,output:aj,group:av},TG={default:Xd,straight:ev,step:Jy,smoothstep:rh,simplebezier:Qy},RG=[0,0],MG=[15,15],DG={x:0,y:0,zoom:1},zG={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Cj=m.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:o=jG,edgeTypes:s=TG,onNodeClick:i,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:g,onNodeMouseEnter:v,onNodeMouseMove:S,onNodeMouseLeave:b,onNodeContextMenu:E,onNodeDoubleClick:j,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:_,onNodesDelete:A,onEdgesDelete:O,onSelectionChange:B,onSelectionDragStart:R,onSelectionDrag:k,onSelectionDragStop:$,onSelectionContextMenu:T,onSelectionStart:I,onSelectionEnd:D,connectionMode:M=Lo.Strict,connectionLineType:L=za.Bezier,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:U,deleteKeyCode:z="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:Z=!1,selectionMode:G=Ql.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:W=Yd()?"Meta":"Control",zoomActivationKeyCode:Q=Yd()?"Meta":"Control",snapToGrid:me=!1,snapGrid:pe=MG,onlyRenderVisibleElements:fe=!1,selectNodesOnDrag:ee=!0,nodesDraggable:je,nodesConnectable:ot,nodesFocusable:Ne,nodeOrigin:J=RG,edgesFocusable:Ze,edgesUpdatable:Rt,elementsSelectable:Zt,defaultViewport:In=DG,minZoom:Yt=.5,maxZoom:Bn=2,translateExtent:kr=bg,preventScrolling:jr=!0,nodeExtent:Tr,defaultMarkerColor:Hn="#b1b1b7",zoomOnScroll:va=!0,zoomOnPinch:xa=!0,panOnScroll:bt=!1,panOnScrollSpeed:Ct=.5,panOnScrollMode:tr=bo.Free,zoomOnDoubleClick:Rr=!0,panOnDrag:Mr=!0,onPaneClick:Fn,onPaneMouseEnter:Nn,onPaneMouseMove:io,onPaneMouseLeave:ie,onPaneScroll:Ee,onPaneContextMenu:Te,children:_e,onEdgeContextMenu:Me,onEdgeDoubleClick:Mt,onEdgeMouseEnter:At,onEdgeMouseMove:nr,onEdgeMouseLeave:on,onEdgeUpdate:Dr,onEdgeUpdateStart:rr,onEdgeUpdateEnd:En,onReconnect:Qo,onReconnectStart:Pc,onReconnectEnd:sR,reconnectRadius:iR=10,edgeUpdaterRadius:lR=10,onNodesChange:cR,onEdgesChange:uR,noDragClassName:dR="nodrag",noWheelClassName:fR="nowheel",noPanClassName:xv="nopan",fitView:hR=!1,fitViewOptions:mR,connectOnClick:pR=!0,attributionPosition:gR,proOptions:yR,defaultEdgeOptions:vR,elevateNodesOnSelect:xR=!0,elevateEdgesOnSelect:bR=!1,disableKeyboardA11y:bv=!1,autoPanOnConnect:wR=!0,autoPanOnNodeDrag:SR=!0,connectionRadius:NR=20,isValidConnection:ER,onError:_R,style:CR,id:wv,nodeDragThreshold:AR,...kR},jR)=>{const dh=wv||"1";return P.createElement("div",{...kR,style:{...CR,...zG},ref:jR,className:Vt(["react-flow",a]),"data-testid":"rf__wrapper",id:wv},P.createElement(_j,null,P.createElement(AG,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:i,onEdgeClick:c,onNodeMouseEnter:v,onNodeMouseMove:S,onNodeMouseLeave:b,onNodeContextMenu:E,onNodeDoubleClick:j,nodeTypes:o,edgeTypes:s,connectionLineType:L,connectionLineStyle:F,connectionLineComponent:V,connectionLineContainerStyle:U,selectionKeyCode:H,selectionOnDrag:Z,selectionMode:G,deleteKeyCode:z,multiSelectionKeyCode:W,panActivationKeyCode:Y,zoomActivationKeyCode:Q,onlyRenderVisibleElements:fe,selectNodesOnDrag:ee,defaultViewport:In,translateExtent:kr,minZoom:Yt,maxZoom:Bn,preventScrolling:jr,zoomOnScroll:va,zoomOnPinch:xa,zoomOnDoubleClick:Rr,panOnScroll:bt,panOnScrollSpeed:Ct,panOnScrollMode:tr,panOnDrag:Mr,onPaneClick:Fn,onPaneMouseEnter:Nn,onPaneMouseMove:io,onPaneMouseLeave:ie,onPaneScroll:Ee,onPaneContextMenu:Te,onSelectionContextMenu:T,onSelectionStart:I,onSelectionEnd:D,onEdgeContextMenu:Me,onEdgeDoubleClick:Mt,onEdgeMouseEnter:At,onEdgeMouseMove:nr,onEdgeMouseLeave:on,onReconnect:Qo??Dr,onReconnectStart:Pc??rr,onReconnectEnd:sR??En,reconnectRadius:iR??lR,defaultMarkerColor:Hn,noDragClassName:dR,noWheelClassName:fR,noPanClassName:xv,elevateEdgesOnSelect:bR,rfId:dh,disableKeyboardA11y:bv,nodeOrigin:J,nodeExtent:Tr}),P.createElement(EU,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:g,nodesDraggable:je,nodesConnectable:ot,nodesFocusable:Ne,edgesFocusable:Ze,edgesUpdatable:Rt,elementsSelectable:Zt,elevateNodesOnSelect:xR,minZoom:Yt,maxZoom:Bn,nodeExtent:Tr,onNodesChange:cR,onEdgesChange:uR,snapToGrid:me,snapGrid:pe,connectionMode:M,translateExtent:kr,connectOnClick:pR,defaultEdgeOptions:vR,fitView:hR,fitViewOptions:mR,onNodesDelete:A,onEdgesDelete:O,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:_,onSelectionDrag:k,onSelectionDragStart:R,onSelectionDragStop:$,noPanClassName:xv,nodeOrigin:J,rfId:dh,autoPanOnConnect:wR,autoPanOnNodeDrag:SR,onError:_R,connectionRadius:NR,isValidConnection:ER,nodeDragThreshold:AR}),P.createElement(SU,{onSelectionChange:B}),_e,P.createElement(KF,{proOptions:yR,position:gR}),P.createElement(jU,{rfId:dh,disableKeyboardA11y:bv})))});Cj.displayName="ReactFlow";function Aj(e){return t=>{const[n,r]=m.useState(t),a=m.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,a]}}const OG=Aj(fj),$G=Aj(UU);function PG(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function LG(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},P.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function IG(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},P.createElement("path",{d:"M0 0h32v4.2H0z"}))}function BG(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},P.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function HG(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function FG(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const nl=({children:e,className:t,...n})=>P.createElement("button",{type:"button",className:Vt(["react-flow__controls-button",t]),...n},e);nl.displayName="ControlButton";const UG=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),kj=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:s,onFitView:i,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=_t(),[p,y]=m.useState(!1),{isInteractive:x,minZoomReached:w,maxZoomReached:g}=Ke(UG,PG),{zoomIn:v,zoomOut:S,fitView:b}=ov();if(m.useEffect(()=>{y(!0)},[]),!p)return null;const E=()=>{v(),o==null||o()},j=()=>{S(),s==null||s()},N=()=>{b(a),i==null||i()},C=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return P.createElement($k,{className:Vt(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&P.createElement(P.Fragment,null,P.createElement(nl,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},P.createElement(LG,null)),P.createElement(nl,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},P.createElement(IG,null))),n&&P.createElement(nl,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},P.createElement(BG,null)),r&&P.createElement(nl,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},x?P.createElement(FG,null):P.createElement(HG,null)),d)};kj.displayName="Controls";var GG=m.memo(kj);function VG(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Yn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Yn||(Yn={}));function ZG({color:e,dimensions:t,lineWidth:n}){return P.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function YG({color:e,radius:t}){return P.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const qG={[Yn.Dots]:"#91919a",[Yn.Lines]:"#eee",[Yn.Cross]:"#e2e2e2"},XG={[Yn.Dots]:1,[Yn.Lines]:1,[Yn.Cross]:6},KG=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function jj({id:e,variant:t=Yn.Dots,gap:n=20,size:r,lineWidth:a=1,offset:o=2,color:s,style:i,className:c}){const u=m.useRef(null),{transform:d,patternId:f}=Ke(KG,VG),h=s||qG[t],p=r||XG[t],y=t===Yn.Dots,x=t===Yn.Cross,w=Array.isArray(n)?n:[n,n],g=[w[0]*d[2]||1,w[1]*d[2]||1],v=p*d[2],S=x?[v,v]:g,b=y?[v/o,v/o]:[S[0]/o,S[1]/o];return P.createElement("svg",{className:Vt(["react-flow__background",c]),style:{...i,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},P.createElement("pattern",{id:f+e,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`},y?P.createElement(YG,{color:h,radius:v/o}):P.createElement(ZG,{dimensions:S,color:h,lineWidth:a})),P.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}jj.displayName="Background";var WG=m.memo(jj);function QG({data:e,selected:t,onTogglePerk:n,onRankChange:r}){var d,f;const a=e.totalRanks,o=a>1?(e.currentRank||0)>0:e.selected||t,s=h=>{h.preventDefault(),h.stopPropagation();const p=e.edid,y=e.name;console.log(`Toggling perk: ${y} (${p}), currently selected: ${o}, current rank: ${e.currentRank}`),n&&n(p)},i=h=>{if(h.preventDefault(),h.stopPropagation(),!o){const g=e.name;if(console.log(`Selecting multi-rank perk: ${g} with rank 1`),n){const v=e.edid;n(v)}return}if(!r)return;const p=e.currentRank||0,y=(p+1)%(a+1),x=e.name;console.log(`Cycling rank for ${x}: ${p} -> ${y}`);const w=e.edid;r(w,y)},c=()=>{const h={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return o?{...h,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...h,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...h,borderColor:"hsl(var(--border))"}},u=((f=(d=e.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"";return l.jsxs(WA,{children:[l.jsx(QA,{asChild:!0,children:l.jsxs("div",{style:c(),onClick:a>1?i:s,onMouseDown:h=>h.stopPropagation(),children:[!e.isRoot&&l.jsx(fi,{type:"target",position:oe.Bottom}),l.jsx("div",{className:"font-medium",children:e.name}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",a," ranks"]}),e.hasChildren&&l.jsx(fi,{type:"source",position:oe.Top})]})}),l.jsx(Hy,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:1e3},children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:e.name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:u}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",a,l.jsx("br",{}),l.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})}function q(e,t,n){function r(i,c){var u;Object.defineProperty(i,"_zod",{value:i._zod??{},enumerable:!1}),(u=i._zod).traits??(u.traits=new Set),i._zod.traits.add(e),t(i,c);for(const d in s.prototype)d in i||Object.defineProperty(i,d,{value:s.prototype[d].bind(i)});i._zod.constr=s,i._zod.def=c}const a=(n==null?void 0:n.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function s(i){var c;const u=n!=null&&n.Parent?new o:this;r(u,i),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:i=>{var c,u;return n!=null&&n.Parent&&i instanceof n.Parent?!0:(u=(c=i==null?void 0:i._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class ec extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Tj={};function Io(e){return Tj}function JG(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function eV(e,t){return typeof t=="bigint"?t.toString():t}function Rj(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function iv(e){return e==null}function lv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function tV(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,o=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return o%s/10**a}function Ie(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function cv(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Zi(e){return JSON.stringify(e)}const Mj=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function wg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const nV=Rj(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Sg(e){if(wg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(wg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const rV=new Set(["string","number","symbol"]);function ah(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Wo(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function se(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function aV(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const oV={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function sV(e,t){const n={},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(n[a]=r.shape[a])}return Wo(e,{...e._zod.def,shape:n,checks:[]})}function iV(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete n[a]}return Wo(e,{...e._zod.def,shape:n,checks:[]})}function lV(e,t){if(!Sg(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return cv(this,"shape",r),r},checks:[]};return Wo(e,n)}function cV(e,t){return Wo(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return cv(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function uV(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)a[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return Wo(t,{...t._zod.def,shape:a,checks:[]})}function dV(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)a[o]=new e({type:"nonoptional",innerType:r[o]});return Wo(t,{...t._zod.def,shape:a,checks:[]})}function wl(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function uv(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function xu(e){return typeof e=="string"?e:e==null?void 0:e.message}function Bo(e,t,n){var a,o,s,i,c,u;const r={...e,path:e.path??[]};if(!e.message){const d=xu((s=(o=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??xu((i=t==null?void 0:t.error)==null?void 0:i.call(t,e))??xu((c=n.customError)==null?void 0:c.call(n,e))??xu((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function dv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function tc(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Dj=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,eV,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},zj=q("$ZodError",Dj),Oj=q("$ZodError",Dj,{Parent:Error});function fV(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function hV(e,t){const n=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>a({issues:i}));else if(s.code==="invalid_key")a({issues:s.issues});else if(s.code==="invalid_element")a({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let i=r,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(n(s))):i[u]=i[u]||{_errors:[]},i=i[u],c++}}};return a(e),r}const mV=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new ec;if(s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(c=>Bo(c,o,Io())));throw Mj(i,a==null?void 0:a.callee),i}return s.value},pV=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(c=>Bo(c,o,Io())));throw Mj(i,a==null?void 0:a.callee),i}return s.value},$j=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new ec;return o.issues.length?{success:!1,error:new(e??zj)(o.issues.map(s=>Bo(s,a,Io())))}:{success:!0,data:o.value}},gV=$j(Oj),Pj=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Bo(s,a,Io())))}:{success:!0,data:o.value}},yV=Pj(Oj),vV=/^[cC][^\s-]{8,}$/,xV=/^[0-9a-z]+$/,bV=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,wV=/^[0-9a-vA-V]{20}$/,SV=/^[A-Za-z0-9]{27}$/,NV=/^[a-zA-Z0-9_-]{21}$/,EV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,_V=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Gw=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,CV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,AV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function kV(){return new RegExp(AV,"u")}const jV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,RV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,MV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,DV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Lj=/^[A-Za-z0-9_-]*$/,zV=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,OV=/^\+(?:[0-9]){6,14}[0-9]$/,Ij="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",$V=new RegExp(`^${Ij}$`);function Bj(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function PV(e){return new RegExp(`^${Bj(e)}$`)}function LV(e){const t=Bj({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Ij}T(?:${r})$`)}const IV=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},BV=/^\d+$/,HV=/^-?\d+(?:\.\d+)?/i,FV=/true|false/i,UV=/^[^A-Z]*$/,GV=/^[^a-z]*$/,an=q("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Hj={number:"number",bigint:"bigint",object:"date"},Fj=q("$ZodCheckLessThan",(e,t)=>{an.init(e,t);const n=Hj[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Uj=q("$ZodCheckGreaterThan",(e,t)=>{an.init(e,t);const n=Hj[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),VV=q("$ZodCheckMultipleOf",(e,t)=>{an.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):tV(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),ZV=q("$ZodCheckNumberFormat",(e,t)=>{var s;an.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[a,o]=oV[t.format];e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,c.minimum=a,c.maximum=o,n&&(c.pattern=BV)}),e._zod.check=i=>{const c=i.value;if(n){if(!Number.isInteger(c)){i.issues.push({expected:r,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?i.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<a&&i.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>o&&i.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inst:e})}}),YV=q("$ZodCheckMaxLength",(e,t)=>{var n;an.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!iv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const s=dv(a);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),qV=q("$ZodCheckMinLength",(e,t)=>{var n;an.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!iv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const s=dv(a);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),XV=q("$ZodCheckLengthEquals",(e,t)=>{var n;an.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!iv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,o=a.length;if(o===t.length)return;const s=dv(a),i=o>t.length;r.issues.push({origin:s,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),oh=q("$ZodCheckStringFormat",(e,t)=>{var n,r;an.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),KV=q("$ZodCheckRegex",(e,t)=>{oh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),WV=q("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=UV),oh.init(e,t)}),QV=q("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=GV),oh.init(e,t)}),JV=q("$ZodCheckIncludes",(e,t)=>{an.init(e,t);const n=ah(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),eZ=q("$ZodCheckStartsWith",(e,t)=>{an.init(e,t);const n=new RegExp(`^${ah(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),tZ=q("$ZodCheckEndsWith",(e,t)=>{an.init(e,t);const n=new RegExp(`.*${ah(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),nZ=q("$ZodCheckOverwrite",(e,t)=>{an.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class rZ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),a=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(a)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,a.join(`
`))}}const aZ={major:4,minor:0,patch:5},nt=q("$ZodType",(e,t)=>{var a;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=aZ;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,i,c)=>{let u=wl(s),d;for(const f of i){if(f._zod.def.when){if(!f._zod.def.when(s))continue}else if(u)continue;const h=s.issues.length,p=f._zod.check(s);if(p instanceof Promise&&(c==null?void 0:c.async)===!1)throw new ec;if(d||p instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await p,s.issues.length!==h&&(u||(u=wl(s,h)))});else{if(s.issues.length===h)continue;u||(u=wl(s,h))}}return d?d.then(()=>s):s};e._zod.run=(s,i)=>{const c=e._zod.parse(s,i);if(c instanceof Promise){if(i.async===!1)throw new ec;return c.then(u=>o(u,r,i))}return o(c,r,i)}}e["~standard"]={validate:o=>{var s;try{const i=gV(e,o);return i.success?{value:i.data}:{issues:(s=i.error)==null?void 0:s.issues}}catch{return yV(e,o).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),fv=q("$ZodString",(e,t)=>{var n;nt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??IV(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ve=q("$ZodStringFormat",(e,t)=>{oh.init(e,t),fv.init(e,t)}),oZ=q("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=_V),Ve.init(e,t)}),sZ=q("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Gw(r))}else t.pattern??(t.pattern=Gw());Ve.init(e,t)}),iZ=q("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=CV),Ve.init(e,t)}),lZ=q("$ZodURL",(e,t)=>{Ve.init(e,t),e._zod.check=n=>{try{const r=n.value,a=new URL(r),o=a.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:zV.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),cZ=q("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=kV()),Ve.init(e,t)}),uZ=q("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=NV),Ve.init(e,t)}),dZ=q("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=vV),Ve.init(e,t)}),fZ=q("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=xV),Ve.init(e,t)}),hZ=q("$ZodULID",(e,t)=>{t.pattern??(t.pattern=bV),Ve.init(e,t)}),mZ=q("$ZodXID",(e,t)=>{t.pattern??(t.pattern=wV),Ve.init(e,t)}),pZ=q("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=SV),Ve.init(e,t)}),gZ=q("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=LV(t)),Ve.init(e,t)}),yZ=q("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=$V),Ve.init(e,t)}),vZ=q("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=PV(t)),Ve.init(e,t)}),xZ=q("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=EV),Ve.init(e,t)}),bZ=q("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=jV),Ve.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),wZ=q("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=TV),Ve.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),SZ=q("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=RV),Ve.init(e,t)}),NZ=q("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=MV),Ve.init(e,t),e._zod.check=n=>{const[r,a]=n.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Gj(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const EZ=q("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=DV),Ve.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Gj(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function _Z(e){if(!Lj.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Gj(n)}const CZ=q("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Lj),Ve.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{_Z(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),AZ=q("$ZodE164",(e,t)=>{t.pattern??(t.pattern=OV),Ve.init(e,t)});function kZ(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const jZ=q("$ZodJWT",(e,t)=>{Ve.init(e,t),e._zod.check=n=>{kZ(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Vj=q("$ZodNumber",(e,t)=>{nt.init(e,t),e._zod.pattern=e._zod.bag.pattern??HV,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),TZ=q("$ZodNumber",(e,t)=>{ZV.init(e,t),Vj.init(e,t)}),RZ=q("$ZodBoolean",(e,t)=>{nt.init(e,t),e._zod.pattern=FV,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),MZ=q("$ZodUnknown",(e,t)=>{nt.init(e,t),e._zod.parse=n=>n}),DZ=q("$ZodNever",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Vw(e,t,n){e.issues.length&&t.issues.push(...uv(n,e.issues)),t.value[n]=e.value}const zZ=q("$ZodArray",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let s=0;s<a.length;s++){const i=a[s],c=t.element._zod.run({value:i,issues:[]},r);c instanceof Promise?o.push(c.then(u=>Vw(u,n,s))):Vw(c,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function bu(e,t,n){e.issues.length&&t.issues.push(...uv(n,e.issues)),t.value[n]=e.value}function Zw(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...uv(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const OZ=q("$ZodObject",(e,t)=>{nt.init(e,t);const n=Rj(()=>{const f=Object.keys(t.shape);for(const p of f)if(!(t.shape[p]instanceof nt))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);const h=aV(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(h)}});Ie(e._zod,"propValues",()=>{const f=t.shape,h={};for(const p in f){const y=f[p]._zod;if(y.values){h[p]??(h[p]=new Set);for(const x of y.values)h[p].add(x)}}return h});const r=f=>{const h=new rZ(["shape","payload","ctx"]),p=n.value,y=v=>{const S=Zi(v);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};h.write("const input = payload.value;");const x=Object.create(null);let w=0;for(const v of p.keys)x[v]=`key_${w++}`;h.write("const newResult = {}");for(const v of p.keys)if(p.optionalKeys.has(v)){const S=x[v];h.write(`const ${S} = ${y(v)};`);const b=Zi(v);h.write(`
        if (${S}.issues.length) {
          if (input[${b}] === undefined) {
            if (${b} in input) {
              newResult[${b}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${S}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${b}, ...iss.path] : [${b}],
              }))
            );
          }
        } else if (${S}.value === undefined) {
          if (${b} in input) newResult[${b}] = undefined;
        } else {
          newResult[${b}] = ${S}.value;
        }
        `)}else{const S=x[v];h.write(`const ${S} = ${y(v)};`),h.write(`
          if (${S}.issues.length) payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Zi(v)}, ...iss.path] : [${Zi(v)}]
          })));`),h.write(`newResult[${Zi(v)}] = ${S}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const g=h.compile();return(v,S)=>g(f,v,S)};let a;const o=wg,s=!Tj.jitless,c=s&&nV.value,u=t.catchall;let d;e._zod.parse=(f,h)=>{d??(d=n.value);const p=f.value;if(!o(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),f;const y=[];if(s&&c&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)a||(a=r(t.shape)),f=a(f,h);else{f.value={};const S=d.shape;for(const b of d.keys){const E=S[b],j=E._zod.run({value:p[b],issues:[]},h),N=E._zod.optin==="optional"&&E._zod.optout==="optional";j instanceof Promise?y.push(j.then(C=>N?Zw(C,f,b,p):bu(C,f,b))):N?Zw(j,f,b,p):bu(j,f,b)}}if(!u)return y.length?Promise.all(y).then(()=>f):f;const x=[],w=d.keySet,g=u._zod,v=g.def.type;for(const S of Object.keys(p)){if(w.has(S))continue;if(v==="never"){x.push(S);continue}const b=g.run({value:p[S],issues:[]},h);b instanceof Promise?y.push(b.then(E=>bu(E,f,S))):bu(b,f,S)}return x.length&&f.issues.push({code:"unrecognized_keys",keys:x,input:p,inst:e}),y.length?Promise.all(y).then(()=>f):f}});function Yw(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(o=>Bo(o,r,Io())))}),t}const $Z=q("$ZodUnion",(e,t)=>{nt.init(e,t),Ie(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Ie(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Ie(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Ie(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>lv(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let a=!1;const o=[];for(const s of t.options){const i=s._zod.run({value:n.value,issues:[]},r);if(i instanceof Promise)o.push(i),a=!0;else{if(i.issues.length===0)return i;o.push(i)}}return a?Promise.all(o).then(s=>Yw(s,n,e,r)):Yw(o,n,e,r)}}),PZ=q("$ZodIntersection",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,o=t.left._zod.run({value:a,issues:[]},r),s=t.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([c,u])=>qw(n,c,u)):qw(n,o,s)}});function Ng(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Sg(e)&&Sg(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),a={...e,...t};for(const o of r){const s=Ng(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};a[o]=s.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],s=Ng(a,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function qw(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),wl(e))return e;const r=Ng(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const LZ=q("$ZodEnum",(e,t)=>{nt.init(e,t);const n=JG(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>rV.has(typeof r)).map(r=>typeof r=="string"?ah(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),IZ=q("$ZodTransform",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(s=>(n.value=s,n));if(a instanceof Promise)throw new ec;return n.value=a,n}}),BZ=q("$ZodOptional",(e,t)=>{nt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ie(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ie(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${lv(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),HZ=q("$ZodNullable",(e,t)=>{nt.init(e,t),Ie(e._zod,"optin",()=>t.innerType._zod.optin),Ie(e._zod,"optout",()=>t.innerType._zod.optout),Ie(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${lv(n.source)}|null)$`):void 0}),Ie(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),FZ=q("$ZodDefault",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Ie(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>Xw(o,t)):Xw(a,t)}});function Xw(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const UZ=q("$ZodPrefault",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Ie(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),GZ=q("$ZodNonOptional",(e,t)=>{nt.init(e,t),Ie(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>Kw(o,e)):Kw(a,e)}});function Kw(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const VZ=q("$ZodCatch",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Ie(e._zod,"optout",()=>t.innerType._zod.optout),Ie(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Bo(s,r,Io()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>Bo(o,r,Io()))},input:n.value}),n.issues=[]),n)}}),ZZ=q("$ZodPipe",(e,t)=>{nt.init(e,t),Ie(e._zod,"values",()=>t.in._zod.values),Ie(e._zod,"optin",()=>t.in._zod.optin),Ie(e._zod,"optout",()=>t.out._zod.optout),Ie(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(o=>Ww(o,t,r)):Ww(a,t,r)}});function Ww(e,t,n){return wl(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const YZ=q("$ZodReadonly",(e,t)=>{nt.init(e,t),Ie(e._zod,"propValues",()=>t.innerType._zod.propValues),Ie(e._zod,"values",()=>t.innerType._zod.values),Ie(e._zod,"optin",()=>t.innerType._zod.optin),Ie(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(Qw):Qw(a)}});function Qw(e){return e.value=Object.freeze(e.value),e}const qZ=q("$ZodCustom",(e,t)=>{an.init(e,t),nt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(o=>Jw(o,n,r,e));Jw(a,n,r,e)}});function Jw(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(tc(a))}}class XZ{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function KZ(){return new XZ}const wu=KZ();function WZ(e,t){return new e({type:"string",...se(t)})}function QZ(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...se(t)})}function e1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...se(t)})}function JZ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...se(t)})}function eY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...se(t)})}function tY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...se(t)})}function nY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...se(t)})}function rY(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...se(t)})}function aY(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...se(t)})}function oY(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...se(t)})}function sY(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...se(t)})}function iY(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...se(t)})}function lY(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...se(t)})}function cY(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...se(t)})}function uY(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...se(t)})}function dY(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...se(t)})}function fY(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...se(t)})}function hY(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...se(t)})}function mY(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...se(t)})}function pY(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...se(t)})}function gY(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...se(t)})}function yY(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...se(t)})}function vY(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...se(t)})}function xY(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...se(t)})}function bY(e,t){return new e({type:"string",format:"date",check:"string_format",...se(t)})}function wY(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...se(t)})}function SY(e,t){return new e({type:"string",format:"duration",check:"string_format",...se(t)})}function NY(e,t){return new e({type:"number",checks:[],...se(t)})}function EY(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...se(t)})}function _Y(e,t){return new e({type:"boolean",...se(t)})}function CY(e){return new e({type:"unknown"})}function AY(e,t){return new e({type:"never",...se(t)})}function t1(e,t){return new Fj({check:"less_than",...se(t),value:e,inclusive:!1})}function bm(e,t){return new Fj({check:"less_than",...se(t),value:e,inclusive:!0})}function n1(e,t){return new Uj({check:"greater_than",...se(t),value:e,inclusive:!1})}function wm(e,t){return new Uj({check:"greater_than",...se(t),value:e,inclusive:!0})}function r1(e,t){return new VV({check:"multiple_of",...se(t),value:e})}function Zj(e,t){return new YV({check:"max_length",...se(t),maximum:e})}function Kd(e,t){return new qV({check:"min_length",...se(t),minimum:e})}function Yj(e,t){return new XV({check:"length_equals",...se(t),length:e})}function kY(e,t){return new KV({check:"string_format",format:"regex",...se(t),pattern:e})}function jY(e){return new WV({check:"string_format",format:"lowercase",...se(e)})}function TY(e){return new QV({check:"string_format",format:"uppercase",...se(e)})}function RY(e,t){return new JV({check:"string_format",format:"includes",...se(t),includes:e})}function MY(e,t){return new eZ({check:"string_format",format:"starts_with",...se(t),prefix:e})}function DY(e,t){return new tZ({check:"string_format",format:"ends_with",...se(t),suffix:e})}function Oc(e){return new nZ({check:"overwrite",tx:e})}function zY(e){return Oc(t=>t.normalize(e))}function OY(){return Oc(e=>e.trim())}function $Y(){return Oc(e=>e.toLowerCase())}function PY(){return Oc(e=>e.toUpperCase())}function LY(e,t,n){return new e({type:"array",element:t,...se(n)})}function IY(e,t,n){return new e({type:"custom",check:"custom",fn:t,...se(n)})}const BY=q("ZodISODateTime",(e,t)=>{gZ.init(e,t),We.init(e,t)});function HY(e){return xY(BY,e)}const FY=q("ZodISODate",(e,t)=>{yZ.init(e,t),We.init(e,t)});function UY(e){return bY(FY,e)}const GY=q("ZodISOTime",(e,t)=>{vZ.init(e,t),We.init(e,t)});function VY(e){return wY(GY,e)}const ZY=q("ZodISODuration",(e,t)=>{xZ.init(e,t),We.init(e,t)});function YY(e){return SY(ZY,e)}const qY=(e,t)=>{zj.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>hV(e,n)},flatten:{value:n=>fV(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},sh=q("ZodError",qY,{Parent:Error}),XY=mV(sh),KY=pV(sh),WY=$j(sh),QY=Pj(sh),ht=q("ZodType",(e,t)=>(nt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>Wo(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>XY(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>WY(e,n,r),e.parseAsync=async(n,r)=>KY(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>QY(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(Vq(n,r)),e.superRefine=n=>e.check(Zq(n)),e.overwrite=n=>e.check(Oc(n)),e.optional=()=>i1(e),e.nullable=()=>l1(e),e.nullish=()=>i1(l1(e)),e.nonoptional=n=>Pq(e,n),e.array=()=>Ho(e),e.or=n=>Cq([e,n]),e.and=n=>kq(e,n),e.transform=n=>c1(e,Rq(n)),e.default=n=>zq(e,n),e.prefault=n=>$q(e,n),e.catch=n=>Iq(e,n),e.pipe=n=>c1(e,n),e.readonly=()=>Fq(e),e.describe=n=>{const r=e.clone();return wu.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=wu.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return wu.get(e);const r=e.clone();return wu.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),qj=q("_ZodString",(e,t)=>{fv.init(e,t),ht.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(kY(...r)),e.includes=(...r)=>e.check(RY(...r)),e.startsWith=(...r)=>e.check(MY(...r)),e.endsWith=(...r)=>e.check(DY(...r)),e.min=(...r)=>e.check(Kd(...r)),e.max=(...r)=>e.check(Zj(...r)),e.length=(...r)=>e.check(Yj(...r)),e.nonempty=(...r)=>e.check(Kd(1,...r)),e.lowercase=r=>e.check(jY(r)),e.uppercase=r=>e.check(TY(r)),e.trim=()=>e.check(OY()),e.normalize=(...r)=>e.check(zY(...r)),e.toLowerCase=()=>e.check($Y()),e.toUpperCase=()=>e.check(PY())}),JY=q("ZodString",(e,t)=>{fv.init(e,t),qj.init(e,t),e.email=n=>e.check(QZ(eq,n)),e.url=n=>e.check(rY(tq,n)),e.jwt=n=>e.check(vY(gq,n)),e.emoji=n=>e.check(aY(nq,n)),e.guid=n=>e.check(e1(a1,n)),e.uuid=n=>e.check(JZ(Su,n)),e.uuidv4=n=>e.check(eY(Su,n)),e.uuidv6=n=>e.check(tY(Su,n)),e.uuidv7=n=>e.check(nY(Su,n)),e.nanoid=n=>e.check(oY(rq,n)),e.guid=n=>e.check(e1(a1,n)),e.cuid=n=>e.check(sY(aq,n)),e.cuid2=n=>e.check(iY(oq,n)),e.ulid=n=>e.check(lY(sq,n)),e.base64=n=>e.check(pY(hq,n)),e.base64url=n=>e.check(gY(mq,n)),e.xid=n=>e.check(cY(iq,n)),e.ksuid=n=>e.check(uY(lq,n)),e.ipv4=n=>e.check(dY(cq,n)),e.ipv6=n=>e.check(fY(uq,n)),e.cidrv4=n=>e.check(hY(dq,n)),e.cidrv6=n=>e.check(mY(fq,n)),e.e164=n=>e.check(yY(pq,n)),e.datetime=n=>e.check(HY(n)),e.date=n=>e.check(UY(n)),e.time=n=>e.check(VY(n)),e.duration=n=>e.check(YY(n))});function It(e){return WZ(JY,e)}const We=q("ZodStringFormat",(e,t)=>{Ve.init(e,t),qj.init(e,t)}),eq=q("ZodEmail",(e,t)=>{iZ.init(e,t),We.init(e,t)}),a1=q("ZodGUID",(e,t)=>{oZ.init(e,t),We.init(e,t)}),Su=q("ZodUUID",(e,t)=>{sZ.init(e,t),We.init(e,t)}),tq=q("ZodURL",(e,t)=>{lZ.init(e,t),We.init(e,t)}),nq=q("ZodEmoji",(e,t)=>{cZ.init(e,t),We.init(e,t)}),rq=q("ZodNanoID",(e,t)=>{uZ.init(e,t),We.init(e,t)}),aq=q("ZodCUID",(e,t)=>{dZ.init(e,t),We.init(e,t)}),oq=q("ZodCUID2",(e,t)=>{fZ.init(e,t),We.init(e,t)}),sq=q("ZodULID",(e,t)=>{hZ.init(e,t),We.init(e,t)}),iq=q("ZodXID",(e,t)=>{mZ.init(e,t),We.init(e,t)}),lq=q("ZodKSUID",(e,t)=>{pZ.init(e,t),We.init(e,t)}),cq=q("ZodIPv4",(e,t)=>{bZ.init(e,t),We.init(e,t)}),uq=q("ZodIPv6",(e,t)=>{wZ.init(e,t),We.init(e,t)}),dq=q("ZodCIDRv4",(e,t)=>{SZ.init(e,t),We.init(e,t)}),fq=q("ZodCIDRv6",(e,t)=>{NZ.init(e,t),We.init(e,t)}),hq=q("ZodBase64",(e,t)=>{EZ.init(e,t),We.init(e,t)}),mq=q("ZodBase64URL",(e,t)=>{CZ.init(e,t),We.init(e,t)}),pq=q("ZodE164",(e,t)=>{AZ.init(e,t),We.init(e,t)}),gq=q("ZodJWT",(e,t)=>{jZ.init(e,t),We.init(e,t)}),Xj=q("ZodNumber",(e,t)=>{Vj.init(e,t),ht.init(e,t),e.gt=(r,a)=>e.check(n1(r,a)),e.gte=(r,a)=>e.check(wm(r,a)),e.min=(r,a)=>e.check(wm(r,a)),e.lt=(r,a)=>e.check(t1(r,a)),e.lte=(r,a)=>e.check(bm(r,a)),e.max=(r,a)=>e.check(bm(r,a)),e.int=r=>e.check(o1(r)),e.safe=r=>e.check(o1(r)),e.positive=r=>e.check(n1(0,r)),e.nonnegative=r=>e.check(wm(0,r)),e.negative=r=>e.check(t1(0,r)),e.nonpositive=r=>e.check(bm(0,r)),e.multipleOf=(r,a)=>e.check(r1(r,a)),e.step=(r,a)=>e.check(r1(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function wo(e){return NY(Xj,e)}const yq=q("ZodNumberFormat",(e,t)=>{TZ.init(e,t),Xj.init(e,t)});function o1(e){return EY(yq,e)}const vq=q("ZodBoolean",(e,t)=>{RZ.init(e,t),ht.init(e,t)});function xq(e){return _Y(vq,e)}const bq=q("ZodUnknown",(e,t)=>{MZ.init(e,t),ht.init(e,t)});function s1(){return CY(bq)}const wq=q("ZodNever",(e,t)=>{DZ.init(e,t),ht.init(e,t)});function Sq(e){return AY(wq,e)}const Nq=q("ZodArray",(e,t)=>{zZ.init(e,t),ht.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Kd(n,r)),e.nonempty=n=>e.check(Kd(1,n)),e.max=(n,r)=>e.check(Zj(n,r)),e.length=(n,r)=>e.check(Yj(n,r)),e.unwrap=()=>e.element});function Ho(e,t){return LY(Nq,e,t)}const Eq=q("ZodObject",(e,t)=>{OZ.init(e,t),ht.init(e,t),Ie(e,"shape",()=>t.shape),e.keyof=()=>jq(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:s1()}),e.loose=()=>e.clone({...e._zod.def,catchall:s1()}),e.strict=()=>e.clone({...e._zod.def,catchall:Sq()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>lV(e,n),e.merge=n=>cV(e,n),e.pick=n=>sV(e,n),e.omit=n=>iV(e,n),e.partial=(...n)=>uV(Kj,e,n[0]),e.required=(...n)=>dV(Wj,e,n[0])});function ga(e,t){const n={type:"object",get shape(){return cv(this,"shape",{...e}),this.shape},...se(t)};return new Eq(n)}const _q=q("ZodUnion",(e,t)=>{$Z.init(e,t),ht.init(e,t),e.options=t.options});function Cq(e,t){return new _q({type:"union",options:e,...se(t)})}const Aq=q("ZodIntersection",(e,t)=>{PZ.init(e,t),ht.init(e,t)});function kq(e,t){return new Aq({type:"intersection",left:e,right:t})}const Eg=q("ZodEnum",(e,t)=>{LZ.init(e,t),ht.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Eg({...t,checks:[],...se(a),entries:o})},e.exclude=(r,a)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new Eg({...t,checks:[],...se(a),entries:o})}});function jq(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Eg({type:"enum",entries:n,...se(t)})}const Tq=q("ZodTransform",(e,t)=>{IZ.init(e,t),ht.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(tc(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),n.issues.push(tc(s))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function Rq(e){return new Tq({type:"transform",transform:e})}const Kj=q("ZodOptional",(e,t)=>{BZ.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType});function i1(e){return new Kj({type:"optional",innerType:e})}const Mq=q("ZodNullable",(e,t)=>{HZ.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType});function l1(e){return new Mq({type:"nullable",innerType:e})}const Dq=q("ZodDefault",(e,t)=>{FZ.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function zq(e,t){return new Dq({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Oq=q("ZodPrefault",(e,t)=>{UZ.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType});function $q(e,t){return new Oq({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Wj=q("ZodNonOptional",(e,t)=>{GZ.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Pq(e,t){return new Wj({type:"nonoptional",innerType:e,...se(t)})}const Lq=q("ZodCatch",(e,t)=>{VZ.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Iq(e,t){return new Lq({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Bq=q("ZodPipe",(e,t)=>{ZZ.init(e,t),ht.init(e,t),e.in=t.in,e.out=t.out});function c1(e,t){return new Bq({type:"pipe",in:e,out:t})}const Hq=q("ZodReadonly",(e,t)=>{YZ.init(e,t),ht.init(e,t)});function Fq(e){return new Hq({type:"readonly",innerType:e})}const Uq=q("ZodCustom",(e,t)=>{qZ.init(e,t),ht.init(e,t)});function Gq(e){const t=new an({check:"custom"});return t._zod.check=e,t}function Vq(e,t={}){return IY(Uq,e,t)}function Zq(e){const t=Gq(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(tc(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(tc(a))}},e(n.value,n)));return t}const Yq=ga({type:It(),id:It()}),qq=ga({skill:It(),level:wo()}),Xq=ga({skillLevel:qq.optional(),items:Ho(Yq).optional()}),Kq=ga({base:It(),subtext:It()}),Wq=ga({rank:wo(),edid:It(),name:It(),description:Kq,prerequisites:Xq}),Qq=ga({x:wo(),y:wo(),horizontal:wo(),vertical:wo()}),Jq=ga({parents:Ho(It()),children:Ho(It())}),eX=ga({edid:It(),name:It(),ranks:Ho(Wq),totalRanks:wo(),connections:Jq,isRoot:xq(),position:Qq}),Qj=ga({treeId:It(),treeName:It(),treeDescription:It(),category:It(),perks:Ho(eX)});Ho(Qj);const tX=e=>Qj.parse(e);function nX(e){try{return{success:!0,data:tX(e)}}catch(t){return{success:!1,error:t}}}function rX(e){const t=new Set,n=[],r=(a,o)=>{if(t.has(a))return;t.add(a),o.push(e.find(i=>i.edid===a));const s=e.find(i=>i.edid===a);s.connection.children.forEach(i=>{e.some(c=>c.edid===i)&&r(i,o)}),s.connection.parents.forEach(i=>{e.some(c=>c.edid===i)&&r(i,o)})};return e.forEach(a=>{if(!t.has(a.edid)){const o=[];r(a.edid,o),n.push(o)}}),n}function aX(e,t){try{if(console.log("=== STARTING CLEAN HIERARCHICAL LAYOUT ==="),console.log(`Total perks to layout: ${e.length}`),e.length===0)return console.log("No perks to layout, returning empty array"),[];console.log("=== STEP 1: IDENTIFYING TREES ===");const n=rX(e);console.log(`Found ${n.length} trees:`,n.map(i=>i.map(c=>c.edid.split("_").pop()))),console.log("=== STEP 2: BUILDING HIERARCHY ===");const r=n.map(i=>oX(i));console.log("=== STEP 3: LAYOUTING TREES ===");const a=r.map((i,c)=>(console.log(`Layouting tree ${c+1} with ${i.nodes.size} nodes`),sX(i,t)));console.log("=== STEP 4: POSITIONING TREES AS SIBLINGS ===");const o=lX(a,t);console.log("=== STEP 5: APPLYING MILD FORCES ===");const s=Jj(o,t);return console.log("Clean hierarchical layout completed"),console.log("Final positions:",s.map(i=>`${i.id}: (${i.x.toFixed(0)}, ${i.y.toFixed(0)})`)),s}catch(n){return console.error("Error in hierarchical layout algorithm:",n),e.map(r=>({id:r.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function oX(e){const t=new Map;e.forEach(i=>{t.set(i.edid,{perk:i,depth:-1,children:i.connection.children,parents:i.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((i,c)=>{i.parents.length===0&&n.push(c)}),console.log(`  Tree has ${n.length} roots:`,n.map(i=>i.split("_").pop()));const r=n.map(i=>({id:i,depth:0})),a=new Set;for(;r.length>0;){const{id:i,depth:c}=r.shift();if(a.has(i))continue;a.add(i);const u=t.get(i);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!a.has(d)&&r.push({id:d,depth:c+1})}))}console.log("  Second pass: Handling multi-parent nodes at different levels");let o=!0,s=0;for(;o&&s<10;)o=!1,s++,t.forEach((i,c)=>{if(i.parents.length>1){const u=i.parents.map(d=>{const f=t.get(d);return f?f.depth:-1}).filter(d=>d!==-1);if(u.length>0){const f=Math.min(...u)+1;i.depth!==f&&(console.log(`    ${c.split("_").pop()}: depth ${i.depth} -> ${f} (parents: ${i.parents.map(h=>h.split("_").pop()).join(", ")})`),i.depth=f,o=!0)}}});return console.log("  Third pass: Ensuring children are at higher depth than parents"),t.forEach((i,c)=>{i.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=i.depth){const f=i.depth+1;console.log(`    ${u.split("_").pop()}: depth ${d.depth} -> ${f} (child of ${c.split("_").pop()} at depth ${i.depth})`),d.depth=f}})}),s>=10&&console.log("  Warning: Depth calculation reached maximum iterations"),{nodes:t,roots:n}}function sX(e,t){const{nodes:n,roots:r}=e;console.log(`Layout single tree with ${n.size} nodes and ${r.length} roots`);const a=[];if(n.forEach((f,h)=>{a.push({id:h,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:f.children})}),a.some(f=>{try{const h=new Set,p=_g(f.id,n,t,h);return!1}catch{return console.log(`Circular reference detected in tree, will use original positions for ${f.id}`),!0}}))return console.log("Using original position data due to circular references"),console.log(`Tree has ${a.length} nodes, checking original positions...`),a.forEach(f=>{const h=n.get(f.id);if(h&&h.perk){const p=h.perk.position.x*t.gridScaleX,y=-h.perk.position.y*t.gridScaleY;console.log(`${f.id.split("_").pop()}: original pos (${h.perk.position.x}, ${h.perk.position.y}) -> scaled (${p.toFixed(0)}, ${y.toFixed(0)})`),f.x=p,f.y=y,f.originalX=p,f.originalY=y}else console.warn(`No original position data for node: ${f.id}`)}),iX(a,t),a;console.log("No circular references detected, using hierarchical layout");const s=a.filter(f=>!a.some(p=>{var y;return p.id!==f.id&&((y=p.children)==null?void 0:y.includes(f.id))}));console.log(`Found ${s.length} root nodes: ${s.map(f=>f.id.split("_").pop()).join(", ")}`),s.forEach(f=>{f.y=0,f.originalY=0});const i=new Set,c=s.map(f=>({node:f,depth:0}));for(;c.length>0;){const{node:f,depth:h}=c.shift();i.has(f.id)||(i.add(f.id),h>0&&(f.y=-h*t.verticalSpacing,f.originalY=f.y),f.children&&f.children.forEach(p=>{const y=a.find(x=>x.id===p);y&&!i.has(p)&&c.push({node:y,depth:h+1})}))}const u=new Map;return a.forEach(f=>{const h=Math.round(f.y/t.verticalSpacing);u.has(h)||u.set(h,[]),u.get(h).push(f)}),Array.from(u.keys()).sort((f,h)=>h-f).forEach(f=>{u.get(f).forEach(p=>{if(p.children){const y=new Map;p.children.forEach(x=>{const w=a.find(g=>g.id===x);if(w){const g=a.filter(v=>{var S;return((S=v.children)==null?void 0:S.includes(x))&&Math.abs(v.y-w.y)===t.verticalSpacing});g.length>0&&g.some(v=>v.id===p.id)&&(y.has(p.id)||y.set(p.id,[]),y.get(p.id).push(w))}}),y.forEach((x,w)=>{if(x.length>0){const g=a.find(v=>v.id===w);if(g){const v=x.map(N=>{const C=_g(N.id,n,t);return{child:N,subtreeWidth:C}}),S=v.reduce((N,{subtreeWidth:C})=>N+C,0),b=(x.length-1)*t.horizontalSpacing,E=S+b;let j=g.x-E/2;v.forEach(({child:N,subtreeWidth:C})=>{N.x=j+C/2,N.originalX=N.x,j+=C+t.horizontalSpacing})}}})}})}),Jj(a,t),a}function Jj(e,t){console.log("=== APPLYING MILD FORCES ===");const n=.03,r=.02,a=t.horizontalSpacing*.4,o=new Map;e.forEach(s=>{o.set(s.id,{x:s.x,y:s.y})});for(let s=0;s<5;s++){let i=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],f=e[u],h=d.x+t.nodeWidth*.5,p=d.y+t.nodeHeight*.5,y=f.x+t.nodeWidth*.5,x=f.y+t.nodeHeight*.5,w=y-h,g=x-p,v=Math.sqrt(w*w+g*g);if(v<a&&v>0){const S=w/v*n,b=g/v*n;d.x-=S,d.y-=b,f.x+=S,f.y+=b,i++,s===0&&console.log(`   Repulsion between ${d.id.split("_").pop()} and ${f.id.split("_").pop()}: force=(${S.toFixed(2)}, ${b.toFixed(2)})`)}}if(console.log(`  Iteration ${s+1}: Applied repulsion to ${i} node pairs`),i===0){console.log(`  No more repulsion needed after iteration ${s+1}`);break}}return console.log("=== APPLYING ATTRACTION WITH DEPTH CONSTRAINTS ==="),e.forEach(s=>{const i=o.get(s.id);if(!i)return;const c=i.x-s.x,u=i.y-s.y,d=s.x+c*r,f=s.y+u*r,p=Math.round(i.y/t.verticalSpacing)*t.verticalSpacing,y=Math.max(f,p);(Math.abs(y-s.y)>1||Math.abs(d-s.x)>1)&&console.log(`   Attraction for ${s.id.split("_").pop()}: x=${s.x.toFixed(0)}->${d.toFixed(0)}, y=${s.y.toFixed(0)}->${y.toFixed(0)} (depth constraint: ${p.toFixed(0)})`),s.x=d,s.y=y,s.originalX=d,s.originalY=y}),console.log("Mild forces completed"),e}function iX(e,t){console.log("=== APPLYING CIRCULAR TREE FORCES ===");const n=.08,r=.03,a=t.nodeHeight*.8,o=50,s=new Map;e.forEach(u=>{s.set(u.id,{x:u.x,y:u.y})}),console.log("=== PHASE 1: VERTICAL-ONLY REPULSION ===");let i=0,c=1;for(;c>0&&i<o;){i++,c=0;let u=0;for(let d=0;d<e.length;d++)for(let f=d+1;f<e.length;f++){const h=e[d],p=e[f],y=Math.max(0,Math.min(h.x+t.nodeWidth,p.x+t.nodeWidth)-Math.max(h.x,p.x)),x=Math.max(0,Math.min(h.y+t.nodeHeight,p.y+t.nodeHeight)-Math.max(h.y,p.y)),w=h.y+t.nodeHeight*.5,g=p.y+t.nodeHeight*.5,v=Math.abs(g-w),S=v<a;if(y>0&&x>0||S){c++;let b=0;y>0&&x>0?b=x*n:S&&(b=(a-v)*n),h.y<p.y?(h.y-=b,p.y+=b):(h.y+=b,p.y-=b),u=Math.max(u,b),i===1&&(y>0&&x>0?console.log(`   Vertical repulsion (overlap) between ${h.id.split("_").pop()} and ${p.id.split("_").pop()}: forceY=${b.toFixed(2)}`):console.log(`   Vertical separation between ${h.id.split("_").pop()} and ${p.id.split("_").pop()}: forceY=${b.toFixed(2)}`))}}if(console.log(`  Iteration ${i}: ${c} touching/close pairs, max force: ${u.toFixed(2)}`),c===0){console.log(`  No more touching or close nodes after iteration ${i}`);break}}return i>=o&&console.log(`  Warning: Reached maximum iterations (${o}) with ${c} still touching/close`),console.log("=== PHASE 2: VERTICAL ATTRACTION TO ORIGINAL POSITIONS ==="),e.forEach(u=>{const d=s.get(u.id);if(!d)return;const f=d.y-u.y,h=u.y+f*r;Math.abs(h-u.y)>1&&console.log(`   Vertical attraction for ${u.id.split("_").pop()}: y=${u.y.toFixed(0)}->${h.toFixed(0)}`),u.y=h,u.originalY=h}),console.log("Circular tree forces completed"),e}function lX(e,t){console.log(`Positioning ${e.length} trees as siblings`);const n=[],r=e.map((c,u)=>{const d=Math.max(...c.map(b=>b.y)),f=c.filter(b=>Math.abs(b.y-d)<1),h=f.map(b=>b.x),p=Math.min(...h),y=Math.max(...h),x=y-p,w=h.reduce((b,E)=>b+E,0)/h.length,g=Math.min(...c.map(b=>b.x)),v=Math.max(...c.map(b=>b.x+b.width)),S=v-g;return{treeIndex:u,treeNodes:c,rootNodes:f,minRootX:p,maxRootX:y,rootWidth:x,rootCenterX:w,minX:g,maxX:v,treeWidth:S}}),a=Math.min(...r.map(c=>c.minRootX)),o=Math.max(...r.map(c=>c.maxRootX)),s=o-a;console.log(`Overall root range: ${a.toFixed(0)} to ${o.toFixed(0)} (width: ${s.toFixed(0)})`);let i=0;return r.forEach((c,u)=>{console.log(`  Tree ${u+1}: root range ${c.minRootX.toFixed(0)}-${c.maxRootX.toFixed(0)}, tree width=${c.treeWidth.toFixed(0)}`),console.log(`    Root nodes: ${c.rootNodes.map(h=>h.id.split("_").pop()).join(", ")}`);const d=s>0?c.rootWidth/s:1,f=c.minRootX-a;i-c.minX+f*d,c.treeNodes.forEach(h=>{const y=(h.x-c.minRootX)*d,x=i+y;n.push({...h,x,originalX:x})}),i+=c.treeWidth*d+t.horizontalSpacing}),n}function _g(e,t,n,r=new Set){if(r.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const a=t.get(e);if(!a)return n.nodeWidth;r.add(e);const o=a.children||[],s=o.map(c=>_g(c,t,n,new Set(r)));if(s.length===0)return n.nodeWidth;let i=0;return s.forEach((c,u)=>{i+=c,u<o.length-1&&(i+=n.horizontalSpacing)}),Math.max(i,n.nodeWidth)}function cX(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const uX=(e,t)=>n=>l.jsx(QG,{...n,onTogglePerk:e,onRankChange:t}),dX=(e,t)=>({perkNode:uX(e,t)});function eT({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:r}){const[a,o]=P.useState(null),s=P.useCallback((b,E)=>{console.log(` Node ${E.id} moved to: (${E.position.x.toFixed(0)}, ${E.position.y.toFixed(0)})`)},[]),i=m.useMemo(()=>{if(!e)return null;const b=nX(e);return b.success?b.data:(console.error("Invalid perk tree data:",b.error),null)},[e]),c=m.useMemo(()=>dX(t,n),[t,n]),u=m.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),d=m.useMemo(()=>{if(!i)return[];const b=cX(i);return aX(b,u)},[i,u]),f=m.useMemo(()=>!i||d.length===0?[]:i.perks.map(b=>{const E=b.edid,j=d.find(A=>A.id===E),N=j?{x:j.x,y:j.y}:{x:0,y:0},C=b.connections.children.length>0,_=b.connections.parents.length===0;return{id:E,type:"perkNode",position:N,draggable:!0,data:{...b,selected:!1,hasChildren:C,isRoot:_}}}),[i,d]),h=m.useMemo(()=>{if(!i)return[];const b=[];return i.perks.forEach(E=>{const j=E.edid;E.connections.children.length>0&&E.connections.children.forEach(N=>{if(N===j)return;i.perks.some(_=>_.edid===N)&&b.push({id:`${j}-${N}`,source:j,target:N,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),b},[i]),[p,y,x]=OG(f),[w,g,v]=$G(h);P.useEffect(()=>{y(f)},[f,y]),P.useEffect(()=>{i&&y(b=>b.map(E=>{const j=r.find(C=>C.edid===E.id),N=j!==void 0;return{...E,data:{...E.data,selected:N,currentRank:(j==null?void 0:j.currentRank)||0}}}))},[r,y,i]),P.useEffect(()=>{g(h)},[h,g]),P.useEffect(()=>{i&&p.length>0&&a&&setTimeout(()=>{a.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[i==null?void 0:i.treeId,a]);const S=m.useCallback(b=>g(E=>Vk(b,E)),[g]);return i?l.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},children:[l.jsx("div",{className:"absolute top-2 right-2 z-10",children:l.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Algorithm v2"})}),l.jsxs(Cj,{nodes:p,edges:w,onNodesChange:x,onEdgesChange:v,onConnect:S,onInit:o,nodeTypes:c,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:s,children:[l.jsx(WG,{}),l.jsx(GG,{})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}const ih=m.createContext(null);ih.displayName="PanelGroupContext";const Je={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},hv=10,To=m.useLayoutEffect,u1=Lg.useId,fX=typeof u1=="function"?u1:()=>null;let hX=0;function mv(e=null){const t=fX(),n=m.useRef(e||t||null);return n.current===null&&(n.current=""+hX++),e??n.current}function tT({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:o,id:s,maxSize:i,minSize:c,onCollapse:u,onExpand:d,onResize:f,order:h,style:p,tagName:y="div",...x}){const w=m.useContext(ih);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:g,expandPanel:v,getPanelSize:S,getPanelStyle:b,groupId:E,isPanelCollapsed:j,reevaluatePanelConstraints:N,registerPanel:C,resizePanel:_,unregisterPanel:A}=w,O=mv(s),B=m.useRef({callbacks:{onCollapse:u,onExpand:d,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:i,minSize:c},id:O,idIsFromProps:s!==void 0,order:h});m.useRef({didLogMissingDefaultSizeWarning:!1}),To(()=>{const{callbacks:k,constraints:$}=B.current,T={...$};B.current.id=O,B.current.idIsFromProps=s!==void 0,B.current.order=h,k.onCollapse=u,k.onExpand=d,k.onResize=f,$.collapsedSize=n,$.collapsible=r,$.defaultSize=a,$.maxSize=i,$.minSize=c,(T.collapsedSize!==$.collapsedSize||T.collapsible!==$.collapsible||T.maxSize!==$.maxSize||T.minSize!==$.minSize)&&N(B.current,T)}),To(()=>{const k=B.current;return C(k),()=>{A(k)}},[h,O,C,A]),m.useImperativeHandle(o,()=>({collapse:()=>{g(B.current)},expand:k=>{v(B.current,k)},getId(){return O},getSize(){return S(B.current)},isCollapsed(){return j(B.current)},isExpanded(){return!j(B.current)},resize:k=>{_(B.current,k)}}),[g,v,S,j,O,_]);const R=b(B.current,a);return m.createElement(y,{...x,children:e,className:t,id:O,style:{...R,...p},[Je.groupId]:E,[Je.panel]:"",[Je.panelCollapsible]:r||void 0,[Je.panelId]:O,[Je.panelSize]:parseFloat(""+R.flexGrow).toFixed(1)})}const nT=m.forwardRef((e,t)=>m.createElement(tT,{...e,forwardedRef:t}));tT.displayName="Panel";nT.displayName="forwardRef(Panel)";let Cg=null,qu=-1,Oa=null;function mX(e,t){if(t){const n=(t&iT)!==0,r=(t&lT)!==0,a=(t&cT)!==0,o=(t&uT)!==0;if(n)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function pX(){Oa!==null&&(document.head.removeChild(Oa),Cg=null,Oa=null,qu=-1)}function Sm(e,t){var n,r;const a=mX(e,t);if(Cg!==a){if(Cg=a,Oa===null&&(Oa=document.createElement("style"),document.head.appendChild(Oa)),qu>=0){var o;(o=Oa.sheet)===null||o===void 0||o.removeRule(qu)}qu=(n=(r=Oa.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${a} !important;}`))!==null&&n!==void 0?n:-1}}function rT(e){return e.type==="keydown"}function aT(e){return e.type.startsWith("pointer")}function oT(e){return e.type.startsWith("mouse")}function lh(e){if(aT(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(oT(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function gX(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function yX(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function vX(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:h1(e),b:h1(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;ge(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:f1(d1(n.a)),b:f1(d1(n.b))};if(a.a===a.b){const o=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let i=o.length;for(;i--;){const c=o[i];if(c===s.a)return 1;if(c===s.b)return-1}}return Math.sign(a.a-a.b)}const xX=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function bX(e){var t;const n=getComputedStyle((t=sT(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function wX(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||bX(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||xX.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function d1(e){let t=e.length;for(;t--;){const n=e[t];if(ge(n,"Missing node"),wX(n))return n}return null}function f1(e){return e&&Number(getComputedStyle(e).zIndex)||0}function h1(e){const t=[];for(;e;)t.push(e),e=sT(e);return t}function sT(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const iT=1,lT=2,cT=4,uT=8,SX=gX()==="coarse";let qn=[],Zs=!1,$a=new Map,ch=new Map;const nc=new Set;function NX(e,t,n,r,a){var o;const{ownerDocument:s}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},c=(o=$a.get(s))!==null&&o!==void 0?o:0;return $a.set(s,c+1),nc.add(i),Wd(),function(){var d;ch.delete(e),nc.delete(i);const f=(d=$a.get(s))!==null&&d!==void 0?d:1;if($a.set(s,f-1),Wd(),f===1&&$a.delete(s),qn.includes(i)){const h=qn.indexOf(i);h>=0&&qn.splice(h,1),gv(),a("up",!0,null)}}}function EX(e){const{target:t}=e,{x:n,y:r}=lh(e);Zs=!0,pv({target:t,x:n,y:r}),Wd(),qn.length>0&&(Qd("down",e),e.preventDefault(),dT(t)||e.stopImmediatePropagation())}function Nm(e){const{x:t,y:n}=lh(e);if(Zs&&e.buttons===0&&(Zs=!1,Qd("up",e)),!Zs){const{target:r}=e;pv({target:r,x:t,y:n})}Qd("move",e),gv(),qn.length>0&&e.preventDefault()}function Em(e){const{target:t}=e,{x:n,y:r}=lh(e);ch.clear(),Zs=!1,qn.length>0&&(e.preventDefault(),dT(t)||e.stopImmediatePropagation()),Qd("up",e),pv({target:t,x:n,y:r}),gv(),Wd()}function dT(e){let t=e;for(;t;){if(t.hasAttribute(Je.resizeHandle))return!0;t=t.parentElement}return!1}function pv({target:e,x:t,y:n}){qn.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),nc.forEach(a=>{const{element:o,hitAreaMargins:s}=a,i=o.getBoundingClientRect(),{bottom:c,left:u,right:d,top:f}=i,h=SX?s.coarse:s.fine;if(t>=u-h&&t<=d+h&&n>=f-h&&n<=c+h){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&vX(r,o)>0){let y=r,x=!1;for(;y&&!y.contains(o);){if(yX(y.getBoundingClientRect(),i)){x=!0;break}y=y.parentElement}if(x)return}qn.push(a)}})}function _m(e,t){ch.set(e,t)}function gv(){let e=!1,t=!1;qn.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let n=0;ch.forEach(r=>{n|=r}),e&&t?Sm("intersection",n):e?Sm("horizontal",n):t?Sm("vertical",n):pX()}let Cm;function Wd(){var e;(e=Cm)===null||e===void 0||e.abort(),Cm=new AbortController;const t={capture:!0,signal:Cm.signal};nc.size&&(Zs?(qn.length>0&&$a.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("contextmenu",Em,t),a.addEventListener("pointerleave",Nm,t),a.addEventListener("pointermove",Nm,t))}),$a.forEach((n,r)=>{const{body:a}=r;a.addEventListener("pointerup",Em,t),a.addEventListener("pointercancel",Em,t)})):$a.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("pointerdown",EX,t),a.addEventListener("pointermove",Nm,t))}))}function Qd(e,t){nc.forEach(n=>{const{setResizeHandlerState:r}=n,a=qn.includes(n);r(e,a,t)})}function _X(){const[e,t]=m.useState(0);return m.useCallback(()=>t(n=>n+1),[])}function ge(e,t){if(!e)throw console.error(t),Error(t)}function Fo(e,t,n=hv){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Hr(e,t,n=hv){return Fo(e,t,n)===0}function un(e,t,n){return Fo(e,t,n)===0}function CX(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!un(a,o,n))return!1}return!0}function Ts({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];ge(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:s=100,minSize:i=0}=r;if(Fo(n,i)<0)if(o){const c=(a+i)/2;Fo(n,c)<0?n=a:n=i}else n=i;return n=Math.min(s,n),n=parseFloat(n.toFixed(hv)),n}function rl({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:o}){if(un(e,0))return t;const s=[...t],[i,c]=r;ge(i!=null,"Invalid first pivot index"),ge(c!=null,"Invalid second pivot index");let u=0;if(o==="keyboard"){{const f=e<0?c:i,h=n[f];ge(h,`Panel constraints not found for index ${f}`);const{collapsedSize:p=0,collapsible:y,minSize:x=0}=h;if(y){const w=t[f];if(ge(w!=null,`Previous layout not found for panel index ${f}`),un(w,p)){const g=x-w;Fo(g,Math.abs(e))>0&&(e=e<0?0-g:g)}}}{const f=e<0?i:c,h=n[f];ge(h,`No panel constraints found for index ${f}`);const{collapsedSize:p=0,collapsible:y,minSize:x=0}=h;if(y){const w=t[f];if(ge(w!=null,`Previous layout not found for panel index ${f}`),un(w,x)){const g=w-p;Fo(g,Math.abs(e))>0&&(e=e<0?0-g:g)}}}}{const f=e<0?1:-1;let h=e<0?c:i,p=0;for(;;){const x=t[h];ge(x!=null,`Previous layout not found for panel index ${h}`);const g=Ts({panelConstraints:n,panelIndex:h,size:100})-x;if(p+=g,h+=f,h<0||h>=n.length)break}const y=Math.min(Math.abs(e),Math.abs(p));e=e<0?0-y:y}{let h=e<0?i:c;for(;h>=0&&h<n.length;){const p=Math.abs(e)-Math.abs(u),y=t[h];ge(y!=null,`Previous layout not found for panel index ${h}`);const x=y-p,w=Ts({panelConstraints:n,panelIndex:h,size:x});if(!un(y,w)&&(u+=y-w,s[h]=w,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?h--:h++}}if(CX(a,s))return a;{const f=e<0?c:i,h=t[f];ge(h!=null,`Previous layout not found for panel index ${f}`);const p=h+u,y=Ts({panelConstraints:n,panelIndex:f,size:p});if(s[f]=y,!un(y,p)){let x=p-y,g=e<0?c:i;for(;g>=0&&g<n.length;){const v=s[g];ge(v!=null,`Previous layout not found for panel index ${g}`);const S=v+x,b=Ts({panelConstraints:n,panelIndex:g,size:S});if(un(v,b)||(x-=b-v,s[g]=b),un(x,0))break;e>0?g--:g++}}}const d=s.reduce((f,h)=>h+f,0);return un(d,100)?s:a}function AX({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,o=0,s=0;const i=n[0];ge(i!=null,"No pivot index found"),t.forEach((f,h)=>{const{constraints:p}=f,{maxSize:y=100,minSize:x=0}=p;h===i?(r=x,a=y):(o+=x,s+=y)});const c=Math.min(a,100-o),u=Math.max(r,100-s),d=e[i];return{valueMax:c,valueMin:u,valueNow:d}}function rc(e,t=document){return Array.from(t.querySelectorAll(`[${Je.resizeHandleId}][data-panel-group-id="${e}"]`))}function fT(e,t,n=document){const a=rc(e,n).findIndex(o=>o.getAttribute(Je.resizeHandleId)===t);return a??null}function hT(e,t,n){const r=fT(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function kX(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function mT(e,t=document){if(kX(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function uh(e,t=document){const n=t.querySelector(`[${Je.resizeHandleId}="${e}"]`);return n||null}function jX(e,t,n,r=document){var a,o,s,i;const c=uh(t,r),u=rc(e,r),d=c?u.indexOf(c):-1,f=(a=(o=n[d])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,h=(s=(i=n[d+1])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null;return[f,h]}function TX({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:s}){m.useRef({didWarnAboutMissingResizeHandle:!1}),To(()=>{if(!o)return;const i=rc(n,o);for(let c=0;c<a.length-1;c++){const{valueMax:u,valueMin:d,valueNow:f}=AX({layout:r,panelsArray:a,pivotIndices:[c,c+1]}),h=i[c];if(h!=null){const p=a[c];ge(p,`No panel data found for index "${c}"`),h.setAttribute("aria-controls",p.id),h.setAttribute("aria-valuemax",""+Math.round(u)),h.setAttribute("aria-valuemin",""+Math.round(d)),h.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{i.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,r,a,o]),m.useEffect(()=>{if(!o)return;const i=t.current;ge(i,"Eager values not found");const{panelDataArray:c}=i,u=mT(n,o);ge(u!=null,`No group found for id "${n}"`);const d=rc(n,o);ge(d,`No resize handles found for group id "${n}"`);const f=d.map(h=>{const p=h.getAttribute(Je.resizeHandleId);ge(p,"Resize handle element has no handle id attribute");const[y,x]=jX(n,p,c,o);if(y==null||x==null)return()=>{};const w=g=>{if(!g.defaultPrevented)switch(g.key){case"Enter":{g.preventDefault();const v=c.findIndex(S=>S.id===y);if(v>=0){const S=c[v];ge(S,`No panel data found for index ${v}`);const b=r[v],{collapsedSize:E=0,collapsible:j,minSize:N=0}=S.constraints;if(b!=null&&j){const C=rl({delta:un(b,E)?N-E:E-b,initialLayout:r,panelConstraints:c.map(_=>_.constraints),pivotIndices:hT(n,p,o),prevLayout:r,trigger:"keyboard"});r!==C&&s(C)}}break}}};return h.addEventListener("keydown",w),()=>{h.removeEventListener("keydown",w)}});return()=>{f.forEach(h=>h())}},[o,e,t,n,r,a,s])}function m1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function pT(e,t){const n=e==="horizontal",{x:r,y:a}=lh(t);return n?r:a}function RX(e,t,n,r,a){const o=n==="horizontal",s=uh(t,a);ge(s,`No resize handle element found for id "${t}"`);const i=s.getAttribute(Je.groupId);ge(i,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const u=pT(n,e),d=mT(i,a);ge(d,`No group element found for id "${i}"`);const f=d.getBoundingClientRect(),h=o?f.width:f.height;return(u-c)/h*100}function MX(e,t,n,r,a,o){if(rT(e)){const s=n==="horizontal";let i=0;e.shiftKey?i=100:a!=null?i=a:i=10;let c=0;switch(e.key){case"ArrowDown":c=s?0:i;break;case"ArrowLeft":c=s?-i:0;break;case"ArrowRight":c=s?i:0;break;case"ArrowUp":c=s?0:-i;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:RX(e,t,n,r,o)}function DX({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const s=n[o];ge(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;i!=null&&(r++,t[o]=i,a-=i)}for(let o=0;o<e.length;o++){const s=n[o];ge(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;if(i!=null)continue;const c=e.length-r,u=a/c;r++,t[o]=u,a-=u}return t}function cs(e,t,n){t.forEach((r,a)=>{const o=e[a];ge(o,`Panel data not found for index ${a}`);const{callbacks:s,constraints:i,id:c}=o,{collapsedSize:u=0,collapsible:d}=i,f=n[c];if(f==null||r!==f){n[c]=r;const{onCollapse:h,onExpand:p,onResize:y}=s;y&&y(r,f),d&&(h||p)&&(p&&(f==null||Hr(f,u))&&!Hr(r,u)&&p(),h&&(f==null||!Hr(f,u))&&Hr(r,u)&&h())}})}function Nu(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function zX({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:o=3}){const s=n[a];let i;return s==null?i=e!=null?e.toPrecision(o):"1":r.length===1?i="1":i=s.toPrecision(o),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function OX(e,t=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...a)},t)}}function p1(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function gT(e){return`react-resizable-panels:${e}`}function yT(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function vT(e,t){try{const n=gT(e),r=t.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function $X(e,t,n){var r,a;const o=(r=vT(e,n))!==null&&r!==void 0?r:{},s=yT(t);return(a=o[s])!==null&&a!==void 0?a:null}function PX(e,t,n,r,a){var o;const s=gT(e),i=yT(t),c=(o=vT(e,a))!==null&&o!==void 0?o:{};c[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(s,JSON.stringify(c))}catch(u){console.error(u)}}function g1({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,s)=>o+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!un(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const s=n[o];ge(s!=null,`No layout data found for index ${o}`);const i=100/r*s;n[o]=i}let a=0;for(let o=0;o<t.length;o++){const s=n[o];ge(s!=null,`No layout data found for index ${o}`);const i=Ts({panelConstraints:t,panelIndex:o,size:s});s!=i&&(a+=s-i,n[o]=i)}if(!un(a,0))for(let o=0;o<t.length;o++){const s=n[o];ge(s!=null,`No layout data found for index ${o}`);const i=s+a,c=Ts({panelConstraints:t,panelIndex:o,size:i});if(s!==c&&(a-=c-s,n[o]=c,un(a,0)))break}return n}const LX=100,al={getItem:e=>(p1(al),al.getItem(e)),setItem:(e,t)=>{p1(al),al.setItem(e,t)}},y1={};function xT({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:o=null,onLayout:s=null,keyboardResizeBy:i=null,storage:c=al,style:u,tagName:d="div",...f}){const h=mv(o),p=m.useRef(null),[y,x]=m.useState(null),[w,g]=m.useState([]),v=_X(),S=m.useRef({}),b=m.useRef(new Map),E=m.useRef(0),j=m.useRef({autoSaveId:e,direction:r,dragState:y,id:h,keyboardResizeBy:i,onLayout:s,storage:c}),N=m.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});m.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),m.useImperativeHandle(a,()=>({getId:()=>j.current.id,getLayout:()=>{const{layout:U}=N.current;return U},setLayout:U=>{const{onLayout:z}=j.current,{layout:H,panelDataArray:Z}=N.current,G=g1({layout:U,panelConstraints:Z.map(Y=>Y.constraints)});m1(H,G)||(g(G),N.current.layout=G,z&&z(G),cs(Z,G,S.current))}}),[]),To(()=>{j.current.autoSaveId=e,j.current.direction=r,j.current.dragState=y,j.current.id=h,j.current.onLayout=s,j.current.storage=c}),TX({committedValuesRef:j,eagerValuesRef:N,groupId:h,layout:w,panelDataArray:N.current.panelDataArray,setLayout:g,panelGroupElement:p.current}),m.useEffect(()=>{const{panelDataArray:U}=N.current;if(e){if(w.length===0||w.length!==U.length)return;let z=y1[e];z==null&&(z=OX(PX,LX),y1[e]=z);const H=[...U],Z=new Map(b.current);z(e,H,Z,w,c)}},[e,w,c]),m.useEffect(()=>{});const C=m.useCallback(U=>{const{onLayout:z}=j.current,{layout:H,panelDataArray:Z}=N.current;if(U.constraints.collapsible){const G=Z.map(me=>me.constraints),{collapsedSize:Y=0,panelSize:W,pivotIndices:Q}=uo(Z,U,H);if(ge(W!=null,`Panel size not found for panel "${U.id}"`),!Hr(W,Y)){b.current.set(U.id,W);const pe=gs(Z,U)===Z.length-1?W-Y:Y-W,fe=rl({delta:pe,initialLayout:H,panelConstraints:G,pivotIndices:Q,prevLayout:H,trigger:"imperative-api"});Nu(H,fe)||(g(fe),N.current.layout=fe,z&&z(fe),cs(Z,fe,S.current))}}},[]),_=m.useCallback((U,z)=>{const{onLayout:H}=j.current,{layout:Z,panelDataArray:G}=N.current;if(U.constraints.collapsible){const Y=G.map(ee=>ee.constraints),{collapsedSize:W=0,panelSize:Q=0,minSize:me=0,pivotIndices:pe}=uo(G,U,Z),fe=z??me;if(Hr(Q,W)){const ee=b.current.get(U.id),je=ee!=null&&ee>=fe?ee:fe,Ne=gs(G,U)===G.length-1?Q-je:je-Q,J=rl({delta:Ne,initialLayout:Z,panelConstraints:Y,pivotIndices:pe,prevLayout:Z,trigger:"imperative-api"});Nu(Z,J)||(g(J),N.current.layout=J,H&&H(J),cs(G,J,S.current))}}},[]),A=m.useCallback(U=>{const{layout:z,panelDataArray:H}=N.current,{panelSize:Z}=uo(H,U,z);return ge(Z!=null,`Panel size not found for panel "${U.id}"`),Z},[]),O=m.useCallback((U,z)=>{const{panelDataArray:H}=N.current,Z=gs(H,U);return zX({defaultSize:z,dragState:y,layout:w,panelData:H,panelIndex:Z})},[y,w]),B=m.useCallback(U=>{const{layout:z,panelDataArray:H}=N.current,{collapsedSize:Z=0,collapsible:G,panelSize:Y}=uo(H,U,z);return ge(Y!=null,`Panel size not found for panel "${U.id}"`),G===!0&&Hr(Y,Z)},[]),R=m.useCallback(U=>{const{layout:z,panelDataArray:H}=N.current,{collapsedSize:Z=0,collapsible:G,panelSize:Y}=uo(H,U,z);return ge(Y!=null,`Panel size not found for panel "${U.id}"`),!G||Fo(Y,Z)>0},[]),k=m.useCallback(U=>{const{panelDataArray:z}=N.current;z.push(U),z.sort((H,Z)=>{const G=H.order,Y=Z.order;return G==null&&Y==null?0:G==null?-1:Y==null?1:G-Y}),N.current.panelDataArrayChanged=!0,v()},[v]);To(()=>{if(N.current.panelDataArrayChanged){N.current.panelDataArrayChanged=!1;const{autoSaveId:U,onLayout:z,storage:H}=j.current,{layout:Z,panelDataArray:G}=N.current;let Y=null;if(U){const Q=$X(U,G,H);Q&&(b.current=new Map(Object.entries(Q.expandToSizes)),Y=Q.layout)}Y==null&&(Y=DX({panelDataArray:G}));const W=g1({layout:Y,panelConstraints:G.map(Q=>Q.constraints)});m1(Z,W)||(g(W),N.current.layout=W,z&&z(W),cs(G,W,S.current))}}),To(()=>{const U=N.current;return()=>{U.layout=[]}},[]);const $=m.useCallback(U=>{let z=!1;const H=p.current;return H&&window.getComputedStyle(H,null).getPropertyValue("direction")==="rtl"&&(z=!0),function(G){G.preventDefault();const Y=p.current;if(!Y)return()=>null;const{direction:W,dragState:Q,id:me,keyboardResizeBy:pe,onLayout:fe}=j.current,{layout:ee,panelDataArray:je}=N.current,{initialLayout:ot}=Q??{},Ne=hT(me,U,Y);let J=MX(G,U,W,Q,pe,Y);const Ze=W==="horizontal";Ze&&z&&(J=-J);const Rt=je.map(Yt=>Yt.constraints),Zt=rl({delta:J,initialLayout:ot??ee,panelConstraints:Rt,pivotIndices:Ne,prevLayout:ee,trigger:rT(G)?"keyboard":"mouse-or-touch"}),In=!Nu(ee,Zt);(aT(G)||oT(G))&&E.current!=J&&(E.current=J,!In&&J!==0?Ze?_m(U,J<0?iT:lT):_m(U,J<0?cT:uT):_m(U,0)),In&&(g(Zt),N.current.layout=Zt,fe&&fe(Zt),cs(je,Zt,S.current))}},[]),T=m.useCallback((U,z)=>{const{onLayout:H}=j.current,{layout:Z,panelDataArray:G}=N.current,Y=G.map(ee=>ee.constraints),{panelSize:W,pivotIndices:Q}=uo(G,U,Z);ge(W!=null,`Panel size not found for panel "${U.id}"`);const pe=gs(G,U)===G.length-1?W-z:z-W,fe=rl({delta:pe,initialLayout:Z,panelConstraints:Y,pivotIndices:Q,prevLayout:Z,trigger:"imperative-api"});Nu(Z,fe)||(g(fe),N.current.layout=fe,H&&H(fe),cs(G,fe,S.current))},[]),I=m.useCallback((U,z)=>{const{layout:H,panelDataArray:Z}=N.current,{collapsedSize:G=0,collapsible:Y}=z,{collapsedSize:W=0,collapsible:Q,maxSize:me=100,minSize:pe=0}=U.constraints,{panelSize:fe}=uo(Z,U,H);fe!=null&&(Y&&Q&&Hr(fe,G)?Hr(G,W)||T(U,W):fe<pe?T(U,pe):fe>me&&T(U,me))},[T]),D=m.useCallback((U,z)=>{const{direction:H}=j.current,{layout:Z}=N.current;if(!p.current)return;const G=uh(U,p.current);ge(G,`Drag handle element not found for id "${U}"`);const Y=pT(H,z);x({dragHandleId:U,dragHandleRect:G.getBoundingClientRect(),initialCursorPosition:Y,initialLayout:Z})},[]),M=m.useCallback(()=>{x(null)},[]),L=m.useCallback(U=>{const{panelDataArray:z}=N.current,H=gs(z,U);H>=0&&(z.splice(H,1),delete S.current[U.id],N.current.panelDataArrayChanged=!0,v())},[v]),F=m.useMemo(()=>({collapsePanel:C,direction:r,dragState:y,expandPanel:_,getPanelSize:A,getPanelStyle:O,groupId:h,isPanelCollapsed:B,isPanelExpanded:R,reevaluatePanelConstraints:I,registerPanel:k,registerResizeHandle:$,resizePanel:T,startDragging:D,stopDragging:M,unregisterPanel:L,panelGroupElement:p.current}),[C,y,r,_,A,O,h,B,R,I,k,$,T,D,M,L]),V={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return m.createElement(ih.Provider,{value:F},m.createElement(d,{...f,children:t,className:n,id:o,ref:p,style:{...V,...u},[Je.group]:"",[Je.groupDirection]:r,[Je.groupId]:h}))}const bT=m.forwardRef((e,t)=>m.createElement(xT,{...e,forwardedRef:t}));xT.displayName="PanelGroup";bT.displayName="forwardRef(PanelGroup)";function gs(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function uo(e,t,n){const r=gs(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:o}}function IX({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){m.useEffect(()=>{if(e||n==null||r==null)return;const a=uh(t,r);if(a==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const i=a.getAttribute(Je.groupId);ge(i,`No group element found for id "${i}"`);const c=rc(i,r),u=fT(i,t,r);ge(u!==null,`No resize element found for id "${t}"`);const d=s.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[d].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,n])}function wT({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:s,onDragging:i,onFocus:c,onPointerDown:u,onPointerUp:d,style:f={},tabIndex:h=0,tagName:p="div",...y}){var x,w;const g=m.useRef(null),v=m.useRef({onClick:s,onDragging:i,onPointerDown:u,onPointerUp:d});m.useEffect(()=>{v.current.onClick=s,v.current.onDragging=i,v.current.onPointerDown=u,v.current.onPointerUp=d});const S=m.useContext(ih);if(S===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:b,groupId:E,registerResizeHandle:j,startDragging:N,stopDragging:C,panelGroupElement:_}=S,A=mv(a),[O,B]=m.useState("inactive"),[R,k]=m.useState(!1),[$,T]=m.useState(null),I=m.useRef({state:O});To(()=>{I.current.state=O}),m.useEffect(()=>{if(n)T(null);else{const F=j(A);T(()=>F)}},[n,A,j]);const D=(x=r==null?void 0:r.coarse)!==null&&x!==void 0?x:15,M=(w=r==null?void 0:r.fine)!==null&&w!==void 0?w:5;m.useEffect(()=>{if(n||$==null)return;const F=g.current;ge(F,"Element ref not attached");let V=!1;return NX(A,F,b,{coarse:D,fine:M},(z,H,Z)=>{if(!H){B("inactive");return}switch(z){case"down":{B("drag"),V=!1,ge(Z,'Expected event to be defined for "down" action'),N(A,Z);const{onDragging:G,onPointerDown:Y}=v.current;G==null||G(!0),Y==null||Y();break}case"move":{const{state:G}=I.current;V=!0,G!=="drag"&&B("hover"),ge(Z,'Expected event to be defined for "move" action'),$(Z);break}case"up":{B("hover"),C();const{onClick:G,onDragging:Y,onPointerUp:W}=v.current;Y==null||Y(!1),W==null||W(),V||G==null||G();break}}})},[D,b,n,M,j,A,$,N,C]),IX({disabled:n,handleId:A,resizeHandler:$,panelGroupElement:_});const L={touchAction:"none",userSelect:"none"};return m.createElement(p,{...y,children:e,className:t,id:a,onBlur:()=>{k(!1),o==null||o()},onFocus:()=>{k(!0),c==null||c()},ref:g,role:"separator",style:{...L,...f},tabIndex:h,[Je.groupDirection]:b,[Je.groupId]:E,[Je.resizeHandle]:"",[Je.resizeHandleActive]:O==="drag"?"pointer":R?"keyboard":void 0,[Je.resizeHandleEnabled]:!n,[Je.resizeHandleId]:A,[Je.resizeHandleState]:O})}wT.displayName="PanelResizeHandle";function BX({className:e,...t}){return l.jsx(bT,{"data-slot":"resizable-panel-group",className:K("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function v1({...e}){return l.jsx(nT,{"data-slot":"resizable-panel",...e})}function HX({withHandle:e,className:t,...n}){return l.jsx(wT,{"data-slot":"resizable-handle",className:K("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&l.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:l.jsx(o4,{className:"size-2.5"})})})}function ST(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,o]=m.useState(null);return m.useEffect(()=>{(async()=>{try{const c=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!c.ok)throw new Error("Failed to load perk trees data");const d=(await c.json()).map(f=>({...f,perks:f.perks.map(h=>({...h,currentRank:0,selected:!1}))}));t(d)}catch(c){o(c instanceof Error?c.message:"Unknown error")}finally{r(!1)}})()},[]),{perkTrees:e,getTreeById:i=>e.find(c=>c.treeId===i),loading:n,error:a}}function NT(e){const[t,n]=m.useState({selectedPerks:{},minLevels:{},totalPerks:0}),r=(u,d=new Set)=>{var p;if(!e||d.has(u))return[];d.add(u);const f=e.perks.find(y=>y.perkId===u);if(!f||!((p=f.prerequisites)!=null&&p.perks))return[];const h=[];return f.prerequisites.perks.forEach(y=>{if(y.type==="PERK"&&e.perks.some(w=>w.perkId===y.id)){h.push(y.id);const w=r(y.id,d);h.push(...w)}}),[...new Set(h)]},a=(u,d=new Set)=>{if(!e||d.has(u))return[];d.add(u);const f=[];return e.perks.forEach(h=>{var p,y;if((y=(p=h.prerequisites)==null?void 0:p.perks)!=null&&y.some(x=>x.type==="PERK"&&x.id===u)){f.push(h.perkId);const x=a(h.perkId,d);f.push(...x)}}),[...new Set(f)]},o=m.useCallback(u=>{e&&(console.log(`togglePerk called for ${u} in tree ${e.treeName}`),n(d=>{var x,w;const f=e.treeName,h=d.selectedPerks[f]||[],p=h.findIndex(g=>g.perkId===u),y=e.perks.find(g=>g.perkId===u);if(!y)return d;if(p>=0){const g=h[p];if(y.ranks>1){const S=((g.currentRank||0)+1)%(y.ranks+1);if(S===0)if(((w=(x=y.prerequisites)==null?void 0:x.perks)==null?void 0:w.some(E=>E.type==="PERK"&&E.id!==u&&h.some(j=>j.perkId===E.id)))||!1){const E=[...h];return E[p]={...g,currentRank:0},console.log(`Cycling ${y.perkName} to rank 0 (kept due to other parents)`),{...d,selectedPerks:{...d.selectedPerks,[f]:E}}}else{const E=a(u),j=new Set([u,...E]),N=h.filter(_=>j.has(_.perkId)),C=h.filter(_=>!j.has(_.perkId));return console.log(`Cycling to rank 0, removing ${N.length} perks:`,N.map(_=>_.perkName)),{...d,selectedPerks:{...d.selectedPerks,[f]:C},totalPerks:d.totalPerks-N.length}}else{const b=[...h];return b[p]={...g,currentRank:S},console.log(`Cycling ${y.perkName} to rank ${S}`),{...d,selectedPerks:{...d.selectedPerks,[f]:b}}}}else{const v=a(u),S=new Set([u,...v]),b=h.filter(j=>S.has(j.perkId)),E=h.filter(j=>!S.has(j.perkId));return console.log(`Removing ${b.length} perks:`,b.map(j=>j.perkName)),{...d,selectedPerks:{...d.selectedPerks,[f]:E},totalPerks:d.totalPerks-b.length}}}else{const g=r(u),v=new Set([u,...g]),S=Array.from(v).map(_=>e.perks.find(A=>A.perkId===_)).filter(_=>_!==void 0).map(_=>{const A=h.find(O=>O.perkId===_.perkId);if(A)return{..._,selected:!0,currentRank:A.currentRank||0};{const O=_.perkId===u||_.ranks>1&&v.has(_.perkId);return{..._,selected:!0,currentRank:O&&_.ranks>1?1:0}}}),b=new Set(h.map(_=>_.perkId)),E=S.filter(_=>b.has(_.perkId)),j=S.filter(_=>!b.has(_.perkId)),C=[...h.map(_=>{const A=E.find(O=>O.perkId===_.perkId);return A?{..._,...A}:_}),...j];return console.log(`Adding ${j.length} new perks and updating ${E.length} existing perks:`,j.map(_=>_.perkName)),{...d,selectedPerks:{...d.selectedPerks,[f]:C},totalPerks:d.totalPerks+j.length}}}))},[e]),s=m.useCallback((u,d)=>{e&&n(f=>{const h=e.treeName,p=f.selectedPerks[h]||[],y=p.findIndex(w=>w.perkId===u),x=e.perks.find(w=>w.perkId===u);if(!x)return f;if(y>=0){const w=[...p],g=x.ranks>1?Math.max(0,Math.min(d,x.ranks)):0;return w[y]={...w[y],currentRank:g},console.log(`Updated ${x.perkName} rank to ${g}`),{...f,selectedPerks:{...f.selectedPerks,[h]:w}}}else return console.log(`Attempted to update rank for unselected perk: ${x.perkName}`),f})},[e]),i=m.useCallback(()=>{e&&n(u=>{const d=e.treeName,f=u.selectedPerks[d]||[],h={...u.selectedPerks};return delete h[d],{...u,selectedPerks:h,totalPerks:u.totalPerks-f.length}})},[e]),c=m.useCallback(()=>{n({selectedPerks:{},minLevels:{},totalPerks:0})},[]);return{perkPlan:t,togglePerk:o,updatePerkRank:s,clearSkill:i,clearAll:c}}function FX(){const{perkTrees:e,loading:t,error:n}=ST(),[r,a]=m.useState(null),o=e.find(y=>y.treeId===r),{perkPlan:s,togglePerk:i,updatePerkRank:c,clearSkill:u,clearAll:d}=NT(o||void 0),f=o?s.selectedPerks[o.treeName]||[]:[],h=m.useMemo(()=>[{id:"skills",name:"Skills",placeholder:"Search skills...",options:e.map(x=>{const w=s.selectedPerks[x.treeName]||[];return{id:x.treeId,label:x.treeName,value:x.treeId,category:"skills",description:`${w.length} perks selected  ${x.treeDescription}`}})}],[e,s.selectedPerks]),p=y=>{a(y.value)};return P.useEffect(()=>{!r&&e.length>0&&a(e[0].treeId)},[r,e]),t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading perk trees..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Perk Planner"}),l.jsx("p",{className:"text-muted-foreground",children:"Plan your character's perk progression through skill trees"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Skill Selection"}),l.jsx(vo,{categories:h,onSelect:p,placeholder:"Search for a skill...",className:"max-w-md"})]}),l.jsxs(BX,{direction:"vertical",className:"min-h-[800px]",children:[l.jsx(v1,{defaultSize:100,children:l.jsxs(ct,{className:"h-full",children:[l.jsx(ut,{children:l.jsx(vt,{children:o?o.treeName:"Select a Skill"})}),l.jsx(dt,{className:"h-full p-0",children:l.jsx(eT,{tree:o,onTogglePerk:i,onRankChange:c,selectedPerks:f})})]})}),l.jsx(HX,{withHandle:!0}),l.jsx(v1,{defaultSize:0})]}),l.jsxs(ct,{children:[l.jsx(ut,{children:l.jsx(vt,{children:"Summary"})}),l.jsx(dt,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:"Total Perks:"}),l.jsx("span",{className:"text-lg font-bold",children:s.totalPerks})]}),o&&l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium",children:[o.treeName,":"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.length," perks selected"]})]}),l.jsx(ae,{size:"sm",variant:"outline",onClick:u,children:"Clear"})]}),l.jsx("div",{className:"flex justify-center items-center",children:l.jsx(ae,{size:"sm",variant:"outline",onClick:d,className:"w-full",children:"Clear All"})})]})})]})]})}function ET({raceName:e,size:t="md",className:n}){return l.jsx(RA,{entityName:e,entityType:"race",size:t,className:n})}function Ag({item:e,className:t,showToggle:n=!0,isExpanded:r=!1,onToggle:a,disableHover:o=!1}){const s=e.originalRace;return l.jsxs(Ge,{className:t,expanded:r,onToggle:a,disableHover:o,children:[l.jsx(Ge.Header,{children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[n&&l.jsx(ay,{itemId:(s==null?void 0:s.edid)||e.id,itemType:"race",itemName:e.name}),l.jsx(ET,{raceName:e.name,size:"md"}),l.jsx(_c,{className:"text-primary font-semibold",children:e.name})]}),l.jsx("div",{className:"flex items-center gap-3",children:e.category&&l.jsx(ue,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category})})]})}),l.jsx(Ge.Summary,{children:l.jsx("div",{className:"line-clamp-2",children:l.jsx(dn,{className:"text-sm text-muted-foreground",children:e.summary||e.description})})}),l.jsxs(Ge.Details,{children:[l.jsx("div",{children:l.jsx(dn,{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),(s==null?void 0:s.startingStats)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Attributes"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(s.startingStats).map(([i,c])=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsx("span",{className:"font-medium capitalize",children:i}),l.jsx("span",{className:"font-bold text-green-600",children:c})]},i))})]}),(s==null?void 0:s.skillBonuses)&&s.skillBonuses.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Skills"}),l.jsx("div",{className:"space-y-2",children:s.skillBonuses.map((i,c)=>l.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[l.jsxs("span",{className:"font-medium",children:[i.skill," +",i.bonus]}),l.jsx(ue,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},c))})]}),(s==null?void 0:s.racialSpells)&&s.racialSpells.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Quirks"}),l.jsx("div",{className:"space-y-2",children:s.racialSpells.map((i,c)=>l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("svg",{className:"h-4 w-4 text-yellow-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 17.75L18.2 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.44 4.73L5.8 21z"})}),l.jsx("span",{className:"font-medium text-sm",children:i.name})]}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]},c))})]})]})]})}function UX(e,t){const n=m.useMemo(()=>e.map(i=>({id:i.edid.toLowerCase().replace("race",""),name:i.name,description:i.description,category:i.category,abilities:i.racialSpells.map(c=>c.name),skills:i.skillBonuses.map(c=>c.skill),keywords:i.keywords.map(c=>c.edid),originalRace:i})),[e]),r=m.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=m.useMemo(()=>new pa(n,r),[n,r]),o=m.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredRaces:m.useMemo(()=>o.map(i=>i.item.originalRace),[o]),searchResults:o,searchableRaces:n}}function x1(){const e=Ft(),{build:t}=Ut(),[n,r]=m.useState([]),[a,o]=m.useState(!0),[s,i]=m.useState(null),[c,u]=m.useState(new Set),[d,f]=m.useState("grid");m.useEffect(()=>{async function N(){try{o(!0);const C=await fetch("/lorerim-arcaneum/data/playable-races.json");if(!C.ok)throw new Error("Failed to fetch race data");const _=await C.json();r(_.races)}catch(C){i("Failed to load race data"),console.error("Error loading races:",C)}finally{o(!1)}}N()},[]);const p=(()=>{const N=[...new Set(n.flatMap(A=>A.keywords.map(O=>O.edid)))],C=[...new Set(n.flatMap(A=>A.skillBonuses.map(O=>O.skill)))],_=[...new Set(n.map(A=>A.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:N.map(A=>({id:`keyword-${A}`,label:A,value:A,category:"Fuzzy Search",description:`Races with ${A} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:C.map(A=>({id:`skill-${A}`,label:A,value:A,category:"Skill Bonuses",description:`Races with ${A} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:_.map(A=>({id:`category-${A}`,label:A,value:A,category:"Race Categories",description:`${A} races`}))}]})(),[y,x]=m.useState([]),w=N=>{let C;typeof N=="string"?C={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:C={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},y.some(_=>_.value===C.value&&_.category===C.category)||x(_=>[..._,C])},g=N=>{x(C=>C.filter(_=>_.id!==N))},v=n.filter(N=>y.length===0?!0:y.every(C=>{switch(C.category){case"Fuzzy Search":return!0;case"Race Categories":return N.category===C.value;case"Skill Bonuses":return N.skillBonuses.some(_=>_.skill===C.value);case"Keywords":return N.keywords.some(_=>_.edid===C.value);default:return!0}})),S=y.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredRaces:b}=UX(v,S),E=b.map(N=>({...zA(N),originalRace:N})),j=N=>{const C=new Set(c);if(d==="grid"){const A=E.findIndex($=>$.id===N),B=Math.floor(A/3)*3,R=Math.min(B+3,E.length);E.slice(B,R).some($=>C.has($.id))?E.slice(B,R).forEach($=>{C.delete($.id)}):E.slice(B,R).forEach($=>{C.add($.id)})}else C.has(N)?C.delete(N):C.add(N);u(C)};return a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:s}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ea,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>e("/build"),className:"flex items-center gap-2",children:[l.jsx(O3,{className:"h-4 w-4"}),"Back to Build"]})}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(If,{categories:p,onSelect:w,onCustomSearch:w})}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Sf,{className:"h-4 w-4"})}),l.jsx(ae,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(wf,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:y.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>x([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(xn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),y.map(N=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>g(N.id),title:"Click to remove",children:[N.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})}),d==="grid"?l.jsx(Ty,{columns:3,gap:"md",className:"w-full",children:E.map(N=>{var A;const C=c.has(N.id),_=t.race===((A=N.originalRace)==null?void 0:A.edid);return l.jsx(Ag,{item:N,isExpanded:C,onToggle:()=>j(N.id),className:K("w-full",_&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full",children:E.map(N=>{var A;const C=c.has(N.id),_=t.race===((A=N.originalRace)==null?void 0:A.edid);return l.jsx(Ag,{item:N,isExpanded:C,onToggle:()=>j(N.id),className:K("w-full",_&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}),E.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function Am({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const r=n.split(/(<[^>]+>)/g);return l.jsx("div",{className:t,children:r.map((a,o)=>{if(a.startsWith("<")&&a.endsWith(">")){const s=a.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:s},o)}return a})})}function GX({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return l.jsx(dn,{className:"text-xs text-muted-foreground",children:t.map((n,r)=>{if(n.startsWith("<")&&n.endsWith(">")){const a=n.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:a},r)}return n})})}function km({description:e,magnitude:t,duration:n,area:r=0}){if(!e)return null;let a=e.replace(/<[^>]*>/g,"");a=a.replace(/<mag>/g,t.toString()),a=a.replace(/<magnitude>/g,t.toString()),a=a.replace(/<dur>/g,n.toString()),a=a.replace(/<duration>/g,n.toString()),r>0&&(a=a.replace(/<area>/g,r.toString())),a=a.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const o=a.split(/(<[^>]+>)/g);return l.jsx(dn,{className:"text-xs text-muted-foreground",children:o.map((s,i)=>{if(s.startsWith("<")&&s.endsWith(">")){const c=s.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},i)}return s})})}function jm(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Tm(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],r=t.some(o=>o.test(e)),a=n.some(o=>o.test(e));return{hasMagnitude:r,hasDuration:a}}const VX={Restoration:l.jsx(zE,{className:"h-4 w-4 text-green-500"}),Destruction:l.jsx(n4,{className:"h-4 w-4 text-red-500"}),Alteration:l.jsx(ms,{className:"h-4 w-4 text-blue-500"}),Illusion:l.jsx(qx,{className:"h-4 w-4 text-purple-500"}),Conjuration:l.jsx(LE,{className:"h-4 w-4 text-purple-500"}),Enchanting:l.jsx(ME,{className:"h-4 w-4 text-blue-500"}),Alchemy:l.jsx(W3,{className:"h-4 w-4 text-green-500"}),"Light Armor":l.jsx(ms,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":l.jsx(ms,{className:"h-4 w-4 text-gray-500"}),"One-Handed":l.jsx(Qx,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":l.jsx(Qx,{className:"h-4 w-4 text-red-500"}),Archery:l.jsx(L4,{className:"h-4 w-4 text-green-500"}),Block:l.jsx(ms,{className:"h-4 w-4 text-yellow-500"}),Smithing:l.jsx(ms,{className:"h-4 w-4 text-gray-500"}),Speechcraft:l.jsx(qx,{className:"h-4 w-4 text-blue-500"}),Sneak:l.jsx(e4,{className:"h-4 w-4 text-purple-500"}),Lockpicking:l.jsx(Xx,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:l.jsx(Xx,{className:"h-4 w-4 text-purple-500"})},ZX={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},b1={sm:"text-xs px-2 py-0.5"};function kg({item:e,originalReligion:t,isExpanded:n=!1,onToggle:r,className:a,showBlessings:o=!0,showTenets:s=!0,showBoons:i=!0,showFavoredRaces:c=!0,disableHover:u,showToggle:d}){var p,y,x,w,g,v,S,b;const f=E=>{switch(E){case"positive":return l.jsx(zp,{className:"h-4 w-4 text-green-500"});case"negative":return l.jsx(Kx,{className:"h-4 w-4 text-red-500"});case"neutral":return l.jsx(D0,{className:"h-4 w-4 text-blue-500"})}},h=E=>VX[E]||l.jsx(Yr,{className:"h-4 w-4 text-skyrim-gold"});return l.jsxs(Ge,{expanded:n,onToggle:r,className:a,disableHover:u,children:[l.jsxs(Ge.Header,{children:[d&&l.jsx(ay,{itemId:e.id,itemType:"religion",itemName:e.name}),l.jsx("div",{className:"flex-1",children:l.jsx(_c,{className:"text-primary font-semibold",children:e.name})}),e.category&&l.jsx(ue,{variant:"outline",className:K(ZX[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",b1.sm,"font-medium transition-colors"),children:e.category}),c&&t&&Array.isArray(t.favoredRaces)&&t.favoredRaces.length>0&&l.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((E,j)=>l.jsxs(ue,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",b1.sm,"font-medium transition-colors"),children:[l.jsx(Yr,{className:"h-3 w-3 mr-1"}),"Favors ",E]},j))})]}),l.jsxs(Ge.Summary,{children:[l.jsx("div",{className:"line-clamp-2",children:l.jsx(Am,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(p=e.effects)==null?void 0:p.slice(0,2).map((E,j)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:E.description,children:[f(E.type),l.jsx("span",{className:"font-medium",children:E.name})]},j)),c&&((y=t==null?void 0:t.favoredRaces)==null?void 0:y.slice(0,2).map((E,j)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[l.jsx(Yr,{className:"h-3 w-3 text-skyrim-gold"}),l.jsx("span",{className:"font-medium",children:E})]},`race-${j}`)))]})]}),l.jsxs(Ge.Details,{children:[e.description&&l.jsx("div",{children:l.jsx(Am,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),c&&Array.isArray(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((E,j)=>l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[l.jsx(Yr,{className:"h-4 w-4 text-skyrim-gold"}),l.jsx("span",{className:"text-sm font-medium",children:E})]},j))})]}),Array.isArray(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),l.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((E,j)=>l.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Kx,{className:"h-4 w-4 text-red-500 mt-0.5"}),l.jsx(Am,{text:E,className:"text-sm text-muted-foreground"})]})},j))})]}),o&&Array.isArray((x=t==null?void 0:t.blessing)==null?void 0:x.effects)&&t.blessing.effects.length>0&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),l.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(E=>E.effectType!=="1"&&E.effectType!=="3").map((E,j)=>{const{hasDuration:N}=Tm(E.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),E.effectType&&h(E.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(dn,{className:"font-medium text-sm mb-1",children:E.effectName}),l.jsx(km,{description:E.effectDescription,magnitude:E.magnitude,duration:E.duration,area:E.area}),N&&E.duration>0&&l.jsxs(dn,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",jm(E.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:E.area>0&&l.jsxs("span",{children:["Area: ",E.area]})})]})]})},j)})})]}),s&&Array.isArray((w=t==null?void 0:t.tenet)==null?void 0:w.effects)&&t.tenet.effects.length>0&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((E,j)=>E.effectDescription.split(".").filter(C=>C.trim().length>0).map((C,_)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),E.targetAttribute&&h(E.targetAttribute)]}),l.jsx("div",{className:"flex-1",children:l.jsx(GX,{description:C.trim()+"."})})]},`${j}-${_}`)))})]}),i&&(Array.isArray((g=t==null?void 0:t.boon1)==null?void 0:g.effects)&&t.boon1.effects.length>0||Array.isArray((v=t==null?void 0:t.boon2)==null?void 0:v.effects)&&t.boon2.effects.length>0)&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),l.jsxs("div",{className:"space-y-4",children:[Array.isArray((S=t==null?void 0:t.boon1)==null?void 0:S.effects)&&t.boon1.effects.length>0&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((E,j)=>{const{hasDuration:N}=Tm(E.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),E.effectType&&h(E.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(dn,{className:"font-medium text-sm mb-1",children:E.effectName}),l.jsx(km,{description:E.effectDescription,magnitude:E.magnitude,duration:E.duration,area:E.area}),N&&E.duration>0&&l.jsxs(dn,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",jm(E.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:E.area>0&&l.jsxs("span",{children:["Area: ",E.area]})})]})]})},j)})})]}),Array.isArray((b=t==null?void 0:t.boon2)==null?void 0:b.effects)&&t.boon2.effects.length>0&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((E,j)=>{const{hasDuration:N}=Tm(E.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),E.effectType&&h(E.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(dn,{className:"font-medium text-sm mb-1",children:E.effectName}),l.jsx(km,{description:E.effectDescription,magnitude:E.magnitude,duration:E.duration,area:E.area}),N&&E.duration>0&&l.jsxs(dn,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",jm(E.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:E.area>0&&l.jsxs("span",{children:["Area: ",E.area]})})]})]})},j)})})]})]})]})]})]})}function _T(e,t){const n=m.useMemo(()=>e.map(i=>{var c,u,d,f,h,p,y,x,w;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:((c=i.tenet)==null?void 0:c.description)||"",type:i.type,favoredRaces:i.favoredRaces||[],tenetEffects:((d=(u=i.tenet)==null?void 0:u.effects)==null?void 0:d.map(g=>`${g.effectName} ${g.effectDescription}`))||[],blessingEffects:((h=(f=i.blessing)==null?void 0:f.effects)==null?void 0:h.map(g=>`${g.effectName} ${g.effectDescription}`))||[],followerPowers:((y=(p=i.boon1)==null?void 0:p.effects)==null?void 0:y.map(g=>`${g.effectName} ${g.effectDescription}`))||[],devoteePowers:((w=(x=i.boon2)==null?void 0:x.effects)==null?void 0:w.map(g=>`${g.effectName} ${g.effectDescription}`))||[],originalReligion:i}}),[e]),r=m.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},{name:"favoredRaces",weight:.1},{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=m.useMemo(()=>new pa(n,r),[n,r]),o=m.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredReligions:m.useMemo(()=>o.map(i=>i.item.originalReligion),[o]),searchResults:o,searchableReligions:n}}function w1(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,o]=m.useState(null),[s,i]=m.useState(new Set),[c,u]=m.useState("alphabetical"),[d,f]=m.useState("grid"),[h,p]=m.useState(!0),[y,x]=m.useState(!0),[w,g]=m.useState(!0),[v,S]=m.useState(!0);m.useEffect(()=>{async function L(){try{r(!0);const F=await fetch("/lorerim-arcaneum/data/wintersun-religion-docs.json");if(!F.ok)throw new Error("Failed to fetch religion data");const U=(await F.json()).flatMap(z=>z.deities.map(H=>({...H,pantheon:z.type})));t(U)}catch(F){o("Failed to load religion data"),console.error("Error loading religions:",F)}finally{r(!1)}}L()},[]);const b=e.map(Wp),j=(()=>{const L=[...new Set(e.map(V=>V.type))],F=[...new Set(b.flatMap(V=>V.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:L.map(V=>({id:`pantheon-${V}`,label:V,value:V,category:"Pantheons",description:`Religions from ${V} pantheon`}))},{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:F.map(V=>({id:`race-${V}`,label:V,value:V,category:"Favored Races",description:`Religions that favor ${V}`}))}]})(),[N,C]=m.useState([]),_=L=>{let F;typeof L=="string"?F={id:`custom-${L}`,label:L,value:L,category:"Fuzzy Search"}:F={id:`${L.category}-${L.id}`,label:L.label,value:L.value,category:L.category},N.some(V=>V.value===F.value&&V.category===F.category)||C(V=>[...V,F])},A=L=>{C(F=>F.filter(V=>V.id!==L))},O=e.filter(L=>N.length===0?!0:N.every(F=>{switch(F.category){case"Fuzzy Search":return!0;case"Pantheons":return L.type===F.value;case"Favored Races":return L.favoredRaces.some(V=>V===F.value);default:return!0}})),B=N.filter(L=>L.category==="Fuzzy Search").map(L=>L.value).join(" "),{filteredReligions:R}=_T(O,B),$=[...R.map(Wp)].sort((L,F)=>{switch(c){case"alphabetical":return L.name.localeCompare(F.name);case"divine-type":const V=H=>{switch(H){case"Divine":return 1;case"Daedric Prince":return 2;case"Tribunal":return 3;case"Ancestor":return 4;case"Nordic Deity":return 5;case"Yokudan Deity":return 6;case"Khajiiti Deity":return 7;case"Deity":return 8;default:return 9}},U=V(L.category),z=V(F.category);return U!==z?U-z:L.name.localeCompare(F.name);default:return 0}}),T=L=>{const F=new Set(s);if(d==="grid"){const U=$.findIndex(Y=>Y.id===L),H=Math.floor(U/3)*3,Z=Math.min(H+3,$.length);$.slice(H,Z).some(Y=>F.has(Y.id))?$.slice(H,Z).forEach(Y=>{F.delete(Y.id)}):$.slice(H,Z).forEach(Y=>{F.add(Y.id)})}else F.has(L)?F.delete(L):F.add(L);i(F)},I=()=>{const L=$.map(F=>F.id);i(new Set(L))},D=()=>{i(new Set)},M=$.length>0&&$.every(L=>s.has(L.id));return $.some(L=>s.has(L.id)),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading religions..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ea,{title:"Religions",description:"Choose your character's religion. Each deity offers unique blessings, tenets, and powers that will guide your spiritual journey through Tamriel.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(If,{categories:j,onSelect:_,onCustomSearch:_})}),l.jsxs(Ey,{children:[l.jsx(_y,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(ia,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":"Type"]})}),l.jsxs($f,{align:"end",children:[l.jsx(ta,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(ta,{onClick:()=>u("divine-type"),children:"Divine Type"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Sf,{className:"h-4 w-4"})}),l.jsx(ae,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(wf,{className:"h-4 w-4"})})]}),l.jsx(ae,{variant:"outline",size:"sm",onClick:M?D:I,className:"flex items-center justify-center",title:M?"Collapse all accordions":"Expand all accordions",children:M?l.jsx($E,{className:"h-4 w-4"}):l.jsx(OE,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:N.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>C([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(xn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map(L=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>A(L.id),title:"Click to remove",children:[L.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},L.id))]})}),$.length>0&&l.jsxs(Z8,{children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(Br,{checked:h&&y&&w&&v,onCheckedChange:L=>{p(L),x(L),g(L),S(L)}}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs(A8,{columns:4,children:[l.jsx(lu,{title:"Blessings",description:"Deity blessings and effects",checked:h,onCheckedChange:p}),l.jsx(lu,{title:"Tenets",description:"Religious tenets and rules",checked:y,onCheckedChange:x}),l.jsx(lu,{title:"Boons",description:"Follower and devotee powers",checked:w,onCheckedChange:g}),l.jsx(lu,{title:"Favored Races",description:"Races favored by this deity",checked:v,onCheckedChange:S})]})]}),d==="grid"?l.jsx(Ty,{columns:3,gap:"md",className:"w-full mt-6",children:$.map(L=>{const F=e.find(U=>{const z=L.id.replace("religion-","");return U.name.toLowerCase().replace(/\s+/g,"-")===z}),V=s.has(L.id);return l.jsx(kg,{item:L,originalReligion:F,isExpanded:V,onToggle:()=>T(L.id),className:"w-full",showBlessings:h,showTenets:y,showBoons:w,showFavoredRaces:v},L.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:$.map(L=>{const F=e.find(U=>{const z=L.id.replace("religion-","");return U.name.toLowerCase().replace(/\s+/g,"-")===z}),V=s.has(L.id);return l.jsx(kg,{item:L,originalReligion:F,isExpanded:V,onToggle:()=>T(L.id),className:"w-full",showBlessings:h,showTenets:y,showBoons:w,showFavoredRaces:v},L.id)})}),$.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No religions found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function YX(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const CT=P.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),$c=()=>{const e=P.useContext(CT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};YX(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function qX(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function XX(){return yv(/^Mac/)}function KX(){return yv(/^iPhone/)}function S1(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function WX(){return yv(/^iPad/)||XX()&&navigator.maxTouchPoints>1}function AT(){return KX()||WX()}function yv(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const QX=24,JX=typeof window<"u"?m.useLayoutEffect:m.useEffect;function N1(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Rm=typeof document<"u"&&window.visualViewport;function E1(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function kT(e){for(E1(e)&&(e=e.parentElement);e&&!E1(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const eK=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Eu=0,Mm;function tK(e={}){let{isDisabled:t}=e;JX(()=>{if(!t)return Eu++,Eu===1&&AT()&&(Mm=nK()),()=>{Eu--,Eu===0&&(Mm==null||Mm())}},[t])}function nK(){let e,t=0,n=f=>{e=kT(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,p=e.scrollTop,y=e.scrollHeight-e.clientHeight;y!==0&&((p<=0&&h>t||p>=y&&h<t)&&f.preventDefault(),t=h)},a=f=>{let h=f.target;jg(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},o=f=>{let h=f.target;jg(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Rm&&(Rm.height<window.innerHeight?requestAnimationFrame(()=>{_1(h)}):Rm.addEventListener("resize",()=>_1(h),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},i=window.pageXOffset,c=window.pageYOffset,u=N1(rK(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=N1(Yi(document,"touchstart",n,{passive:!1,capture:!0}),Yi(document,"touchmove",r,{passive:!1,capture:!0}),Yi(document,"touchend",a,{passive:!1,capture:!0}),Yi(document,"focus",o,!0),Yi(window,"scroll",s));return()=>{u(),d(),window.scrollTo(i,c)}}function rK(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Yi(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function _1(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=kT(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom+QX;o>s&&(n.scrollTop+=a-r)}e=n.parentElement}}function jg(e){return e instanceof HTMLInputElement&&!eK.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function aK(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function oK(...e){return t=>e.forEach(n=>aK(n,t))}function jT(...e){return m.useCallback(oK(...e),e)}const TT=new WeakMap;function pt(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}r[a]=e.style[a],e.style[a]=o}),!n&&TT.set(e,r)}function sK(e,t){if(!e||!(e instanceof HTMLElement))return;let n=TT.get(e);n&&(e.style[t]=n[t])}const it=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function _u(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[it(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[it(t)?5:4]):null)}function iK(e){return 8*(Math.log(e+1)-2)}function Dm(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function lK(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const qe={DURATION:.5,EASE:[.32,.72,0,1]},RT=.4,cK=.25,uK=100,MT=8,fo=16,Tg=26,zm="vaul-dragging";function DT(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function dK({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,a=P.useRef(r),o=DT(t);return P.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}function zT({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=dK({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,i=DT(n),c=P.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&i(f)}else a(u)},[o,e,a,i]);return[s,c]}function fK({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:o,onSnapPointChange:s,direction:i="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=zT({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[h,p]=P.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);P.useEffect(()=>{function N(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const y=P.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),x=P.useMemo(()=>{var N;return(N=n==null?void 0:n.findIndex(C=>C===d))!=null?N:null},[n,d]),w=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===d||!n,g=P.useMemo(()=>{const N=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var C;return(C=n==null?void 0:n.map(_=>{const A=typeof _=="string";let O=0;if(A&&(O=parseInt(_,10)),it(i)){const R=A?O:h?_*N.height:0;return h?i==="bottom"?N.height-R:-N.height+R:R}const B=A?O:h?_*N.width:0;return h?i==="right"?N.width-B:-N.width+B:B}))!=null?C:[]},[n,h,c]),v=P.useMemo(()=>x!==null?g==null?void 0:g[x]:null,[g,x]),S=P.useCallback(N=>{var C;const _=(C=g==null?void 0:g.findIndex(A=>A===N))!=null?C:null;s(_),pt(r.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:it(i)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`}),g&&_!==g.length-1&&o!==void 0&&_!==o&&_<o?pt(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"0"}):pt(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(_,0)])},[r.current,n,g,o,a,f]);P.useEffect(()=>{if(d||e){var N;const C=(N=n==null?void 0:n.findIndex(_=>_===e||_===d))!=null?N:-1;g&&C!==-1&&typeof g[C]=="number"&&S(g[C])}},[d,e,n,g,S]);function b({draggedDistance:N,closeDrawer:C,velocity:_,dismissible:A}){if(o===void 0)return;const O=i==="bottom"||i==="right"?(v??0)-N:(v??0)+N,B=x===o-1,R=x===0,k=N>0;if(B&&pt(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),!u&&_>2&&!k){A?C():S(g[0]);return}if(!u&&_>2&&k&&g&&n){S(g[n.length-1]);return}const $=g==null?void 0:g.reduce((I,D)=>typeof I!="number"||typeof D!="number"?I:Math.abs(D-O)<Math.abs(I-O)?D:I),T=it(i)?window.innerHeight:window.innerWidth;if(_>RT&&Math.abs(N)<T*.4){const I=k?1:-1;if(I>0&&y&&n){S(g[n.length-1]);return}if(R&&I<0&&A&&C(),x===null)return;S(g[x+I]);return}S($)}function E({draggedDistance:N}){if(v===null)return;const C=i==="bottom"||i==="right"?v-N:v+N;(i==="bottom"||i==="right")&&C<g[g.length-1]||(i==="top"||i==="left")&&C>g[g.length-1]||pt(r.current,{transform:it(i)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`})}function j(N,C){if(!n||typeof x!="number"||!g||o===void 0)return null;const _=x===o-1;if(x>=o&&C)return 0;if(_&&!C)return 1;if(!w&&!_)return null;const O=_?x+1:x-1,B=_?g[O]-g[O-1]:g[O+1]-g[O],R=N/Math.abs(B);return _?1-R:R}return{isLastSnapPoint:y,activeSnapPoint:d,shouldFade:w,getPercentageDragged:j,setActiveSnapPoint:f,activeSnapPointIndex:x,onRelease:b,onDrag:E,snapPointsOffset:g}}const hK=()=>()=>{};function mK(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:a}=$c(),o=P.useRef(null),s=m.useMemo(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-Tg)/window.innerWidth}P.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;lK(r&&!a?Dm(document.body,{background:"black"}):hK,Dm(c,{transformOrigin:it(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`}));const u=Dm(c,{borderRadius:`${MT}px`,overflow:"hidden",...it(e)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},qe.DURATION*1e3)}}},[t,n,s])}let qi=null;function pK({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:o}){const[s,i]=P.useState(()=>typeof window<"u"?window.location.href:""),c=P.useRef(0),u=P.useCallback(()=>{if(S1()&&qi===null&&e&&!o){qi={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=h-window.innerHeight;p&&c.current>=h&&(document.body.style.top=`${-(c.current+p)}px`)}),300)}},[e]),d=P.useCallback(()=>{if(S1()&&qi!==null&&!o){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,qi),window.requestAnimationFrame(()=>{if(a&&s!==window.location.href){i(window.location.href);return}window.scrollTo(h,f)}),qi=null}},[s]);return P.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),P.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),P.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,s,t,n,u,d]),{restorePositionSetting:d}}function gK({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:a,snapPoints:o,shouldScaleBackground:s=!1,setBackgroundColorOnScale:i=!0,closeThreshold:c=cK,scrollLockTimeout:u=uK,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=o&&o.length-1,activeSnapPoint:p,setActiveSnapPoint:y,fixed:x,modal:w=!0,onClose:g,nested:v,noBodyStyles:S=!1,direction:b="bottom",defaultOpen:E=!1,disablePreventScroll:j=!0,snapToSequentialPoint:N=!1,preventScrollRestoration:C=!1,repositionInputs:_=!0,onAnimationEnd:A,container:O,autoFocus:B=!1}){var R,k;const[$=!1,T]=zT({defaultProp:E,prop:e,onChange:ie=>{t==null||t(ie),!ie&&!v&&Tr(),setTimeout(()=>{A==null||A(ie)},qe.DURATION*1e3),ie&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ie||(document.body.style.pointerEvents="auto")}}),[I,D]=P.useState(!1),[M,L]=P.useState(!1),[F,V]=P.useState(!1),U=P.useRef(null),z=P.useRef(null),H=P.useRef(null),Z=P.useRef(null),G=P.useRef(null),Y=P.useRef(!1),W=P.useRef(null),Q=P.useRef(0),me=P.useRef(!1),pe=P.useRef(!E),fe=P.useRef(0),ee=P.useRef(null),je=P.useRef(((R=ee.current)==null?void 0:R.getBoundingClientRect().height)||0),ot=P.useRef(((k=ee.current)==null?void 0:k.getBoundingClientRect().width)||0),Ne=P.useRef(0),J=P.useCallback(ie=>{o&&ie===Yt.length-1&&(z.current=new Date)},[]),{activeSnapPoint:Ze,activeSnapPointIndex:Rt,setActiveSnapPoint:Zt,onRelease:In,snapPointsOffset:Yt,onDrag:Bn,shouldFade:kr,getPercentageDragged:jr}=fK({snapPoints:o,activeSnapPointProp:p,setActiveSnapPointProp:y,drawerRef:ee,fadeFromIndex:h,overlayRef:U,onSnapPointChange:J,direction:b,container:O,snapToSequentialPoint:N});tK({isDisabled:!$||M||!w||F||!I||!_||!j});const{restorePositionSetting:Tr}=pK({isOpen:$,modal:w,nested:v??!1,hasBeenOpened:I,preventScrollRestoration:C,noBodyStyles:S});function Hn(){return(window.innerWidth-Tg)/window.innerWidth}function va(ie){var Ee,Te;!d&&!o||ee.current&&!ee.current.contains(ie.target)||(je.current=((Ee=ee.current)==null?void 0:Ee.getBoundingClientRect().height)||0,ot.current=((Te=ee.current)==null?void 0:Te.getBoundingClientRect().width)||0,L(!0),H.current=new Date,AT()&&window.addEventListener("touchend",()=>Y.current=!1,{once:!0}),ie.target.setPointerCapture(ie.pointerId),Q.current=it(b)?ie.pageY:ie.pageX)}function xa(ie,Ee){var Te;let _e=ie;const Me=(Te=window.getSelection())==null?void 0:Te.toString(),Mt=ee.current?_u(ee.current,b):null,At=new Date;if(_e.tagName==="SELECT"||_e.hasAttribute("data-vaul-no-drag")||_e.closest("[data-vaul-no-drag]"))return!1;if(b==="right"||b==="left")return!0;if(z.current&&At.getTime()-z.current.getTime()<500)return!1;if(Mt!==null&&(b==="bottom"?Mt>0:Mt<0))return!0;if(Me&&Me.length>0)return!1;if(G.current&&At.getTime()-G.current.getTime()<u&&Mt===0||Ee)return G.current=At,!1;for(;_e;){if(_e.scrollHeight>_e.clientHeight){if(_e.scrollTop!==0)return G.current=new Date,!1;if(_e.getAttribute("role")==="dialog")return!0}_e=_e.parentNode}return!0}function bt(ie){if(ee.current&&M){const Ee=b==="bottom"||b==="right"?1:-1,Te=(Q.current-(it(b)?ie.pageY:ie.pageX))*Ee,_e=Te>0,Me=o&&!d&&!_e;if(Me&&Rt===0)return;const Mt=Math.abs(Te),At=document.querySelector("[data-vaul-drawer-wrapper]"),nr=b==="bottom"||b==="top"?je.current:ot.current;let on=Mt/nr;const Dr=jr(Mt,_e);if(Dr!==null&&(on=Dr),Me&&on>=1||!Y.current&&!xa(ie.target,_e))return;if(ee.current.classList.add(zm),Y.current=!0,pt(ee.current,{transition:"none"}),pt(U.current,{transition:"none"}),o&&Bn({draggedDistance:Te}),_e&&!o){const En=iK(Te),Qo=Math.min(En*-1,0)*Ee;pt(ee.current,{transform:it(b)?`translate3d(0, ${Qo}px, 0)`:`translate3d(${Qo}px, 0, 0)`});return}const rr=1-on;if((kr||h&&Rt===h-1)&&(r==null||r(ie,on),pt(U.current,{opacity:`${rr}`,transition:"none"},!0)),At&&U.current&&s){const En=Math.min(Hn()+on*(1-Hn()),1),Qo=8-on*8,Pc=Math.max(0,14-on*14);pt(At,{borderRadius:`${Qo}px`,transform:it(b)?`scale(${En}) translate3d(0, ${Pc}px, 0)`:`scale(${En}) translate3d(${Pc}px, 0, 0)`,transition:"none"},!0)}if(!o){const En=Mt*Ee;pt(ee.current,{transform:it(b)?`translate3d(0, ${En}px, 0)`:`translate3d(${En}px, 0, 0)`})}}}P.useEffect(()=>{window.requestAnimationFrame(()=>{pe.current=!0})},[]),P.useEffect(()=>{var ie;function Ee(){if(!ee.current||!_)return;const Te=document.activeElement;if(jg(Te)||me.current){var _e;const Me=((_e=window.visualViewport)==null?void 0:_e.height)||0,Mt=window.innerHeight;let At=Mt-Me;const nr=ee.current.getBoundingClientRect().height||0,on=nr>Mt*.8;Ne.current||(Ne.current=nr);const Dr=ee.current.getBoundingClientRect().top;if(Math.abs(fe.current-At)>60&&(me.current=!me.current),o&&o.length>0&&Yt&&Rt){const rr=Yt[Rt]||0;At+=rr}if(fe.current=At,nr>Me||me.current){const rr=ee.current.getBoundingClientRect().height;let En=rr;rr>Me&&(En=Me-(on?Dr:Tg)),x?ee.current.style.height=`${rr-Math.max(At,0)}px`:ee.current.style.height=`${Math.max(En,Me-Dr)}px`}else qX()||(ee.current.style.height=`${Ne.current}px`);o&&o.length>0&&!me.current?ee.current.style.bottom="0px":ee.current.style.bottom=`${Math.max(At,0)}px`}}return(ie=window.visualViewport)==null||ie.addEventListener("resize",Ee),()=>{var Te;return(Te=window.visualViewport)==null?void 0:Te.removeEventListener("resize",Ee)}},[Rt,o,Yt]);function Ct(ie){Rr(),g==null||g(),ie||T(!1),setTimeout(()=>{o&&Zt(o[0])},qe.DURATION*1e3)}function tr(){if(!ee.current)return;const ie=document.querySelector("[data-vaul-drawer-wrapper]"),Ee=_u(ee.current,b);pt(ee.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),pt(U.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),s&&Ee&&Ee>0&&$&&pt(ie,{borderRadius:`${MT}px`,overflow:"hidden",...it(b)?{transform:`scale(${Hn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Hn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`},!0)}function Rr(){!M||!ee.current||(ee.current.classList.remove(zm),Y.current=!1,L(!1),Z.current=new Date)}function Mr(ie){if(!M||!ee.current)return;ee.current.classList.remove(zm),Y.current=!1,L(!1),Z.current=new Date;const Ee=_u(ee.current,b);if(!ie||!xa(ie.target,!1)||!Ee||Number.isNaN(Ee)||H.current===null)return;const Te=Z.current.getTime()-H.current.getTime(),_e=Q.current-(it(b)?ie.pageY:ie.pageX),Me=Math.abs(_e)/Te;if(Me>.05&&(V(!0),setTimeout(()=>{V(!1)},200)),o){In({draggedDistance:_e*(b==="bottom"||b==="right"?1:-1),closeDrawer:Ct,velocity:Me,dismissible:d}),a==null||a(ie,!0);return}if(b==="bottom"||b==="right"?_e>0:_e<0){tr(),a==null||a(ie,!0);return}if(Me>RT){Ct(),a==null||a(ie,!1);return}var Mt;const At=Math.min((Mt=ee.current.getBoundingClientRect().height)!=null?Mt:0,window.innerHeight);var nr;const on=Math.min((nr=ee.current.getBoundingClientRect().width)!=null?nr:0,window.innerWidth),Dr=b==="left"||b==="right";if(Math.abs(Ee)>=(Dr?on:At)*c){Ct(),a==null||a(ie,!1);return}a==null||a(ie,!0),tr()}P.useEffect(()=>($&&(pt(document.documentElement,{scrollBehavior:"auto"}),z.current=new Date),()=>{sK(document.documentElement,"scrollBehavior")}),[$]);function Fn(ie){const Ee=ie?(window.innerWidth-fo)/window.innerWidth:1,Te=ie?-fo:0;W.current&&window.clearTimeout(W.current),pt(ee.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:it(b)?`scale(${Ee}) translate3d(0, ${Te}px, 0)`:`scale(${Ee}) translate3d(${Te}px, 0, 0)`}),!ie&&ee.current&&(W.current=setTimeout(()=>{const _e=_u(ee.current,b);pt(ee.current,{transition:"none",transform:it(b)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`})},500))}function Nn(ie,Ee){if(Ee<0)return;const Te=(window.innerWidth-fo)/window.innerWidth,_e=Te+Ee*(1-Te),Me=-fo+Ee*fo;pt(ee.current,{transform:it(b)?`scale(${_e}) translate3d(0, ${Me}px, 0)`:`scale(${_e}) translate3d(${Me}px, 0, 0)`,transition:"none"})}function io(ie,Ee){const Te=it(b)?window.innerHeight:window.innerWidth,_e=Ee?(Te-fo)/Te:1,Me=Ee?-fo:0;Ee&&pt(ee.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:it(b)?`scale(${_e}) translate3d(0, ${Me}px, 0)`:`scale(${_e}) translate3d(${Me}px, 0, 0)`})}return P.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),P.createElement(V2,{defaultOpen:E,onOpenChange:ie=>{!d&&!ie||(ie?D(!0):Ct(!0),T(ie))},open:$},P.createElement(CT.Provider,{value:{activeSnapPoint:Ze,snapPoints:o,setActiveSnapPoint:Zt,drawerRef:ee,overlayRef:U,onOpenChange:t,onPress:va,onRelease:Mr,onDrag:bt,dismissible:d,shouldAnimate:pe,handleOnly:f,isOpen:$,isDragging:M,shouldFade:kr,closeDrawer:Ct,onNestedDrag:Nn,onNestedOpenChange:Fn,onNestedRelease:io,keyboardIsOpen:me,modal:w,snapPointsOffset:Yt,activeSnapPointIndex:Rt,direction:b,shouldScaleBackground:s,setBackgroundColorOnScale:i,noBodyStyles:S,container:O,autoFocus:B}},n))}const OT=P.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:a,shouldFade:o,isOpen:s,modal:i,shouldAnimate:c}=$c(),u=jT(t,n),d=r&&r.length>0;if(!i)return null;const f=P.useCallback(h=>a(h),[a]);return P.createElement(q0,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":s&&d?"true":"false","data-vaul-snap-points-overlay":s&&o?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});OT.displayName="Drawer.Overlay";const $T=P.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},a){const{drawerRef:o,onPress:s,onRelease:i,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:f,modal:h,isOpen:p,direction:y,snapPoints:x,container:w,handleOnly:g,shouldAnimate:v,autoFocus:S}=$c(),[b,E]=P.useState(!1),j=jT(a,o),N=P.useRef(null),C=P.useRef(null),_=P.useRef(!1),A=x&&x.length>0;mK();const O=(R,k,$=0)=>{if(_.current)return!0;const T=Math.abs(R.y),I=Math.abs(R.x),D=I>T,M=["bottom","right"].includes(k)?1:-1;if(k==="left"||k==="right"){if(!(R.x*M<0)&&I>=0&&I<=$)return D}else if(!(R.y*M<0)&&T>=0&&T<=$)return!D;return _.current=!0,!0};P.useEffect(()=>{A&&window.requestAnimationFrame(()=>{E(!0)})},[]);function B(R){N.current=null,_.current=!1,i(R)}return P.createElement(X0,{"data-vaul-drawer-direction":y,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":p&&A?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":v!=null&&v.current?"true":"false",...r,ref:j,style:d&&d.length>0?{"--snap-point-height":`${d[f??0]}px`,...t}:t,onPointerDown:R=>{g||(r.onPointerDown==null||r.onPointerDown.call(r,R),N.current={x:R.pageX,y:R.pageY},s(R))},onOpenAutoFocus:R=>{n==null||n(R),S||R.preventDefault()},onPointerDownOutside:R=>{if(e==null||e(R),!h||R.defaultPrevented){R.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:R=>{if(!h){R.preventDefault();return}},onPointerMove:R=>{if(C.current=R,g||(r.onPointerMove==null||r.onPointerMove.call(r,R),!N.current))return;const k=R.pageY-N.current.y,$=R.pageX-N.current.x,T=R.pointerType==="touch"?10:2;O({x:$,y:k},y,T)?c(R):(Math.abs($)>T||Math.abs(k)>T)&&(N.current=null)},onPointerUp:R=>{r.onPointerUp==null||r.onPointerUp.call(r,R),N.current=null,_.current=!1,i(R)},onPointerOut:R=>{r.onPointerOut==null||r.onPointerOut.call(r,R),B(C.current)},onContextMenu:R=>{r.onContextMenu==null||r.onContextMenu.call(r,R),C.current&&B(C.current)}})});$T.displayName="Drawer.Content";const yK=250,vK=120,xK=P.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:a,isDragging:o,snapPoints:s,activeSnapPoint:i,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:p}=$c(),y=P.useRef(null),x=P.useRef(!1);function w(){if(x.current){S();return}window.setTimeout(()=>{g()},vK)}function g(){if(o||e||x.current){S();return}if(S(),!s||s.length===0){u||a();return}if(i===s[s.length-1]&&u){a();return}const E=s.findIndex(N=>N===i);if(E===-1)return;const j=s[E+1];c(j)}function v(){y.current=window.setTimeout(()=>{x.current=!0},yK)}function S(){y.current&&window.clearTimeout(y.current),x.current=!1}return P.createElement("div",{onClick:w,onPointerCancel:S,onPointerDown:b=>{d&&h(b),v()},onPointerMove:b=>{d&&p(b)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},P.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});xK.displayName="Drawer.Handle";function bK(e){const t=$c(),{container:n=t.container,...r}=e;return P.createElement(Z2,{container:n,...r})}const ya={Root:gK,Content:$T,Overlay:OT,Portal:bK,Title:K0,Description:W0},PT=({shouldScaleBackground:e=!0,...t})=>l.jsx(ya.Root,{shouldScaleBackground:e,...t});PT.displayName="Drawer";const wK=ya.Portal,LT=m.forwardRef(({className:e,...t},n)=>l.jsx(ya.Overlay,{ref:n,className:K("fixed inset-0 bg-black/40",e),style:{zIndex:Ht.MODAL},...t}));LT.displayName=ya.Overlay.displayName;const IT=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(wK,{children:[l.jsx(LT,{}),l.jsxs(ya.Content,{ref:r,className:K("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:Ht.MODAL+1},...n,children:[l.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));IT.displayName="DrawerContent";const BT=({className:e,...t})=>l.jsx("div",{className:K("grid gap-1.5 p-4 text-center sm:text-left",e),...t});BT.displayName="DrawerHeader";const HT=({className:e,...t})=>l.jsx("div",{className:K("mt-auto flex flex-col gap-2 p-4",e),...t});HT.displayName="DrawerFooter";const FT=m.forwardRef(({className:e,...t},n)=>l.jsx(ya.Title,{ref:n,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));FT.displayName=ya.Title.displayName;const UT=m.forwardRef(({className:e,...t},n)=>l.jsx(ya.Description,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));UT.displayName=ya.Description.displayName;var GT="Toggle",VT=m.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:a,...o}=e,[s,i]=Pn({prop:n,onChange:a,defaultProp:r??!1,caller:GT});return l.jsx(he.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:te(e.onClick,()=>{e.disabled||i(!s)})})});VT.displayName=GT;var so="ToggleGroup",[ZT,YW]=nn(so,[_i]),YT=_i(),vv=P.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const a=r;return l.jsx(SK,{...a,ref:t})}if(n==="multiple"){const a=r;return l.jsx(NK,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${so}\``)});vv.displayName=so;var[qT,XT]=ZT(so),SK=P.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=Pn({prop:n,defaultProp:r??"",onChange:a,caller:so});return l.jsx(qT,{scope:e.__scopeToggleGroup,type:"single",value:P.useMemo(()=>s?[s]:[],[s]),onItemActivate:i,onItemDeactivate:P.useCallback(()=>i(""),[i]),children:l.jsx(KT,{...o,ref:t})})}),NK=P.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=Pn({prop:n,defaultProp:r??[],onChange:a,caller:so}),c=P.useCallback(d=>i((f=[])=>[...f,d]),[i]),u=P.useCallback(d=>i((f=[])=>f.filter(h=>h!==d)),[i]);return l.jsx(qT,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:c,onItemDeactivate:u,children:l.jsx(KT,{...o,ref:t})})});vv.displayName=so;var[EK,_K]=ZT(so),KT=P.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:a=!0,orientation:o,dir:s,loop:i=!0,...c}=e,u=YT(n),d=Ei(s),f={role:"group",dir:d,...c};return l.jsx(EK,{scope:n,rovingFocus:a,disabled:r,children:a?l.jsx(J0,{asChild:!0,...u,orientation:o,dir:d,loop:i,children:l.jsx(he.div,{...f,ref:t})}):l.jsx(he.div,{...f,ref:t})})}),Jd="ToggleGroupItem",WT=P.forwardRef((e,t)=>{const n=XT(Jd,e.__scopeToggleGroup),r=_K(Jd,e.__scopeToggleGroup),a=YT(e.__scopeToggleGroup),o=n.value.includes(e.value),s=r.disabled||e.disabled,i={...e,pressed:o,disabled:s},c=P.useRef(null);return r.rovingFocus?l.jsx(ey,{asChild:!0,...a,focusable:!s,active:o,ref:c,children:l.jsx(C1,{...i,ref:t})}):l.jsx(C1,{...i,ref:t})});WT.displayName=Jd;var C1=P.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...a}=e,o=XT(Jd,n),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=o.type==="single"?s:void 0;return l.jsx(VT,{...i,...a,ref:t,onPressedChange:c=>{c?o.onItemActivate(r):o.onItemDeactivate(r)}})}),QT=vv,JT=WT;const eR=wi("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-transparent hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground",outline:"border border-input bg-background hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground data-[state=on]:border-muted-foreground/20"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-8"}},defaultVariants:{variant:"default",size:"default"}}),CK=m.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>l.jsx(QT,{ref:o,className:K(eR({variant:t,size:n}),e),...a,children:r}));CK.displayName=QT.displayName;const AK=m.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>l.jsx(JT,{ref:o,className:K(eR({variant:t,size:n}),e),...a,children:r}));AK.displayName=JT.displayName;function kK({skill:e,onSkillSelect:t,onAssignmentChange:n}){const r=o=>{o.target.closest("[data-badge]")||t()},a=(o,s)=>{o.stopPropagation(),s==="major"?e.isMajor?n("none"):n("major"):s==="minor"&&(e.isMinor?n("none"):n("minor"))};return l.jsxs(ct,{className:"cursor-pointer hover:shadow-md transition-shadow duration-200",onClick:r,children:[l.jsxs(ut,{className:"pb-3",children:[l.jsx(vt,{className:"text-lg font-bold",children:e.name}),l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),l.jsxs(dt,{className:"pt-0 space-y-3",children:[e.perksCount>0&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",e.perksCount," Perks"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ue,{"data-badge":"major",variant:e.isMajor?"default":"outline",className:`cursor-pointer transition-colors ${e.isMajor?"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90":"hover:bg-skyrim-gold/10 hover:border-skyrim-gold"}`,onClick:o=>a(o,"major"),children:e.isMajor?"Major":"+ Major"}),l.jsx(ue,{"data-badge":"minor",variant:e.isMinor?"default":"outline",className:`cursor-pointer transition-colors ${e.isMinor?"bg-gray-600 text-white hover:bg-gray-700":"hover:bg-gray-100 hover:border-gray-400"}`,onClick:o=>a(o,"minor"),children:e.isMinor?"Minor":"+ Minor"})]})]})]})}function jK({skills:e,onSkillSelect:t,onAssignmentChange:n}){return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(r=>l.jsx(kK,{skill:r,onSkillSelect:()=>t(r.edid),onAssignmentChange:a=>n(r.edid,a)},r.edid))})}function TK({selectedSkill:e,skillName:t,perkTree:n,skills:r,onSkillSelect:a,onReset:o,open:s,onOpenChange:i}){const{perkPlan:c,togglePerk:u,updatePerkRank:d,clearSkill:f}=NT(n),h=n?c.selectedPerks[n.treeName]||[]:[],p=()=>{n&&f(),o()},y=()=>{i(!1)},x=[{id:"skills",name:"Skills",placeholder:"Search skills...",options:r.map(g=>({id:g.edid,label:g.name,value:g.edid,category:"Skills",description:`${g.perksCount} perks available`}))}],w=g=>{a(g.value)};return!e||!n?null:l.jsx(PT,{open:s,onOpenChange:i,children:l.jsxs(IT,{className:"h-[85vh] bg-card border-t shadow-lg !bg-card",style:{backgroundColor:"hsl(var(--card))",zIndex:Ht.DRAWER},children:[l.jsx(BT,{className:"border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-64",children:l.jsx(vo,{categories:x,onSelect:w,placeholder:"Search skills..."})}),l.jsxs("div",{children:[l.jsx(FT,{className:"text-xl",children:t||n.treeName}),l.jsxs(UT,{children:[h.length," perks selected"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ae,{variant:"outline",size:"sm",onClick:p,className:"flex items-center gap-2",children:[l.jsx(Pl,{className:"h-4 w-4"}),"Reset Perks"]}),l.jsx(ae,{variant:"outline",size:"sm",onClick:y,className:"flex items-center gap-2",children:l.jsx(xn,{className:"h-4 w-4"})})]})]})}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx("div",{className:"h-full w-full",children:l.jsx(eT,{tree:n,onTogglePerk:u,onRankChange:d,selectedPerks:h})})}),l.jsx(HT,{className:"border-t",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on perk nodes to select/deselect them"}),l.jsx(ae,{variant:"outline",onClick:y,children:"Close"})]})})]})})}function tR(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,o]=m.useState(null),{hasMajorSkill:s,hasMinorSkill:i}=Ut(),{perkTrees:c}=ST();return m.useEffect(()=>{async function d(){try{r(!0);const f=await fetch("/lorerim-arcaneum/data/skills.json");if(!f.ok)throw new Error("Failed to fetch skills data");const p=((await f.json()).skills||[]).sort((y,x)=>y.name.localeCompare(x.name));t(p)}catch(f){o("Failed to load skills data"),console.error("Error loading skills:",f)}finally{r(!1)}}d()},[]),{skills:e.map(d=>{const f=c.find(p=>p.treeId===d.edid),h=f?f.perks.length:0;return{...d,perksCount:h,isMajor:s(d.edid),isMinor:i(d.edid)}}),loading:n,error:a,perkTrees:c}}function A1({skills:e,onSelect:t,placeholder:n="Search skills...",className:r="",disabled:a=!1}){const o=m.useMemo(()=>e.map(c=>{var u;return{id:c.edid,label:c.name,description:c.description,category:c.category,badge:c.category&&l.jsx(ue,{variant:"outline",className:"text-xs",children:c.category}),metadata:{originalSkill:c,keyAbilitiesCount:((u=c.keyAbilities)==null?void 0:u.length)||0,scaling:c.scaling}}}),[e]),s=c=>{const u=e.find(d=>d.edid===c.id);u&&t(u)},i=(c,u)=>{var d,f;return l.jsx("div",{className:"flex items-start gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:c.label}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.badge&&l.jsx("div",{className:"flex-shrink-0",children:c.badge}),((d=c.metadata)==null?void 0:d.keyAbilitiesCount)&&c.metadata.keyAbilitiesCount>0&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.metadata.keyAbilitiesCount," ability",c.metadata.keyAbilitiesCount!==1?"s":""]})]}),c.description&&l.jsx(na,{text:c.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"}),((f=c.metadata)==null?void 0:f.scaling)&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[l.jsx("strong",{children:"Scaling:"})," ",c.metadata.scaling]})]})})};return l.jsx(Rc,{options:o,onSelect:s,placeholder:n,className:r,disabled:a,renderOption:i,emptyMessage:"No skills found"})}function RK({className:e}){const{skills:t}=tR(),{build:n,addMajorSkill:r,addMinorSkill:a,removeMajorSkill:o,removeMinorSkill:s}=Ut(),i=Ft(),c=n.skills.major.map(w=>t.find(g=>g.edid===w)).filter(Boolean),u=n.skills.minor.map(w=>t.find(g=>g.edid===w)).filter(Boolean),d=w=>{r(w.edid)},f=w=>{a(w.edid)},h=w=>{o(w)},p=w=>{s(w)},y=()=>{i("/skills")},x=t.filter(w=>!n.skills.major.includes(w.edid)&&!n.skills.minor.includes(w.edid));return l.jsx(dr,{title:"Skills",navigateTo:"skills",onNavigate:y,className:e,children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Major Skills"}),c.length<3&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ue,{variant:"outline",className:"text-xs",children:[c.length,"/3"]})}),l.jsx(A1,{skills:x,onSelect:d,placeholder:"Select major skill...",className:"w-full"})]}),c.length>0&&l.jsx("div",{className:"space-y-2",children:c.map((w,g)=>l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"font-medium text-sm",children:w.name}),l.jsx(ue,{variant:"default",className:"text-xs bg-yellow-500 text-yellow-900",children:"Major"}),l.jsx(ue,{variant:"outline",className:"text-xs",children:w.category})]}),l.jsx(na,{text:w.description,className:"text-sm text-muted-foreground line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>h(w.edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(xn,{className:"h-3 w-3"})})]},w.edid))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Minor Skills"}),u.length<6&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ue,{variant:"outline",className:"text-xs",children:[u.length,"/6"]})}),l.jsx(A1,{skills:x,onSelect:f,placeholder:"Select minor skill...",className:"w-full"})]}),u.length>0&&l.jsx("div",{className:"space-y-2",children:u.map((w,g)=>l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-100/50 border-gray-400 shadow-gray-400/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"font-medium text-sm",children:w.name}),l.jsx(ue,{variant:"secondary",className:"text-xs bg-gray-400 text-gray-900",children:"Minor"}),l.jsx(ue,{variant:"outline",className:"text-xs",children:w.category})]}),l.jsx(na,{text:w.description,className:"text-sm text-muted-foreground line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>p(w.edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(xn,{className:"h-3 w-3"})})]},w.edid))})]})]})})}function k1(){const[e,t]=N5(),[n,r]=m.useState(null),[a,o]=m.useState(!1),{skills:s,loading:i,error:c,perkTrees:u}=tR(),{addMajorSkill:d,removeMajorSkill:f,addMinorSkill:h,removeMinorSkill:p}=Ut();m.useEffect(()=>{const b=e.get("skill");r(b),b&&o(!0)},[e]),m.useEffect(()=>{n?e.set("skill",n):e.delete("skill"),t(e,{replace:!0})},[n,e,t]);const y=b=>{r(b),o(!0)},x=(b,E)=>{E==="major"?d(b):E==="minor"?h(b):(f(b),p(b))},w=b=>{o(b),b||r(null)},g=()=>{console.log("Reset perks for skill:",n)},v=u.find(b=>b.treeId===n),S=s.find(b=>b.edid===n);return i?l.jsx(ea,{title:"Skills & Perks",description:"Choose your character's skills and plan your perk progression through skill trees.",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading skills and perks..."})]})})}):c?l.jsx(ea,{title:"Skills & Perks",description:"Choose your character's skills and plan your perk progression through skill trees.",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:c}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})})}):l.jsx(ea,{title:"Skills & Perks",description:"Choose your character's skills and plan your perk progression through skill trees.",children:l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Skills"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.length," skills available"]})]}),l.jsx(jK,{skills:s,onSkillSelect:y,onAssignmentChange:x})]}),l.jsx(TK,{selectedSkill:n,skillName:S==null?void 0:S.name,perkTree:v,skills:s,onSkillSelect:y,onReset:g,open:a,onOpenChange:w})]})})}function j1({item:e,isExpanded:t=!1,onToggle:n,className:r,allTraitIds:a,disableHover:o=!1}){e.originalTrait;const{hasRegularTrait:s,hasBonusTrait:i,addRegularTrait:c,addBonusTrait:u,removeTrait:d,canAddRegularTrait:f,canAddBonusTrait:h,build:p}=Ut(),x=s(e.id)?"primary":i(e.id)?"secondary":"none",w=b=>{x===b?d(e.id):(d(e.id),b==="primary"&&f()?c(e.id):b==="secondary"&&h()&&u(e.id))},g=!f()&&x!=="primary",v=!h()&&x!=="secondary",S=()=>x==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":x==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return m.useEffect(()=>{var b,E;if(a){const j=((b=p==null?void 0:p.traits)==null?void 0:b.regular)||[],N=((E=p==null?void 0:p.traits)==null?void 0:E.bonus)||[];[...j,...N].filter(A=>!a.includes(A)).forEach(A=>d(A))}},[a,p==null?void 0:p.traits,d]),l.jsxs(Ge,{expanded:t,onToggle:n,className:K(r,S()),disableHover:o,children:[l.jsx(Ge.Header,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(LE,{className:"h-4 w-4 text-black"}),l.jsx(_c,{className:"text-primary font-semibold",children:e.name})]})}),l.jsx(Ge.Summary,{children:l.jsx(na,{text:e.description,className:K("text-base text-muted-foreground",t?"":"line-clamp-2")})}),l.jsx(Ge.Footer,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ae,{size:"sm",variant:x==="primary"?"default":"outline",disabled:g,className:K("flex-1 text-xs",x==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:b=>{b.stopPropagation(),w("primary")},children:x==="primary"?"Remove Trait":"Starting Trait"}),l.jsx(ae,{size:"sm",variant:x==="secondary"?"default":"outline",disabled:v,className:K("flex-1 text-xs",x==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:b=>{b.stopPropagation(),w("secondary")},children:x==="secondary"?"Remove Trait":"Late Game Trait"})]})})]})}function MK(e,t){const n=m.useMemo(()=>e.map(i=>({id:i.edid,name:i.name,description:i.description,category:i.category,effects:i.effects.map(c=>`${c.type} ${c.condition||""} ${c.value}`),tags:i.tags,originalTrait:i})),[e]),r=m.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=m.useMemo(()=>new pa(n,r),[n,r]),o=m.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredTraits:m.useMemo(()=>o.map(i=>i.item.originalTrait),[o]),searchResults:o,searchableTraits:n}}function nR(e){const t=e.map(n=>n.category);return[...new Set(t)].sort()}function DK(e){const t=e.flatMap(n=>n.effects.map(r=>r.type));return[...new Set(t)].sort()}function rR(e){const t=e.flatMap(n=>n.tags);return[...new Set(t)].sort()}const zK=[{name:"Acoustic Arcanist",description:"Your magic flows through melody and vibration. After playing an instrument at an inn, your sonic spells become ***20%*** more powerful. However, your booming presence makes hiring followers more expensive, and your reliance on sound magic weakens your physical attacks by ***15%***.",edid:"LoreTraits_AcousticArcanistAb",formId:"0xFEDF282F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Adrenaline Rush",description:"You possess a natural flight response. When at less than ***20%*** health, you move ***20%*** faster and regenerate ***1*** stamina per second but also deal ***30%*** less damage when below this threshold.",edid:"Traits_AdrenalineRushAb",formId:"0xFEA72D78",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Angler",description:"Your bond with the sea grants unique benefits. Mudcrabs and slaughterfish become friendly toward you. Fishing yields more valuable items. Fishing rods deal double damage and have a chance to summon a mudcrab to fight at your side. The summoned mudcrab becomes stronger if you're carrying an insect or small fish. Fishing rods can be enchanted. However, your affinity with the waters leaves you ***10%*** more vulnerable to shock damage.",edid:"Traits_AnglerAb",formId:"0xFEA72071",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Au Naturel",description:"Embrace your divine gifts! Start with ***+100*** health, magicka, and stamina. For each piece of armor or clothing you wear, you lose ***40*** from each attribute (up to a maximum loss of ***-160*** with four pieces equipped). Additionally, you gain +1 to health, magicka, and stamina per level for each empty armor slot (head, chest, hands, and feet).",edid:"Traits_AuNaturelAb",formId:"0xFEA72D7B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Bad Natured",description:"You were born into wickedness. Your attacks while being crouched deals ***20%*** more and you're better at pickpocketing. However, attacks while standing up do ***20%*** less and wearing a divine amulet will hurt you.",edid:"Traits_BadNaturedAb",formId:"0xFEA72D85",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:0,condition:"passive effect",duration:0,flags:["No Hit Event","No Duration","No Magnitude","No Area","Hide in UI","Painless"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bane of the Wicked",description:"You are an enemy to all things abhorrent. Deal ***20%*** more damage to undead, daedra and werewolves. However, do ***10%*** less damage to other beings.",edid:"Traits_BaneoftheWickedAb",formId:"0xFEA72D97",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blighted Fists",description:"Your afflictions fuel your fury! Your unarmed attacks deal ***+10*** unresistable disease damage per disease.",edid:"LoreTraits_BlightedFistsAb",formId:"0xFEDF281F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blood Warrior",description:"You take ***50%*** more physical damage and have ***100%*** weakness to Poison. However you start with ***+100*** health and gain ***+5*** health per level.",edid:"LoreTraits_BloodWarriorAb",formId:"0xFEDF200C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:100,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bulwark",description:"When walking or standing still, you gain ***200*** armor rating and reflect ***10%*** physical damage. You drain ***1*** additional stamina per second while sprinting and ***0.25*** when running.",edid:"Traits_BulwarkAb",formId:"0xFEA72D9F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:.25,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Defiler",description:"The only use you have for the living is to resurrect them in death. Deal ***20%*** more damage to playable races. However, do ***10%*** less damage to other beings.",edid:"Traits_DefilerAb",formId:"0xFEA72D99",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disbeliever",description:"You reject the influence of gods, placing your faith in logic and reason instead. Dwemer weapons and armor are ***33%*** stronger, but you cannot receive blessings from shrines or divines.",edid:"Traits_DisbelieverAb",formId:"0xFEA7284A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disciplined",description:"Shoot to kill. Bows and crossbows deal ***20%*** more damage. However, they draw/reload ***40%*** slower.",edid:"Traits_DisciplinedAb",formId:"0xFEA72D8F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Dominating Will",description:"Your presence commands fear, intimidation checks almost always succeed, and frenzy spells are ***20%*** stronger. However, your persuasive charm is lacking, making persuasion checks harder, and your pacifying spells are ***20%*** weaker.",edid:"LoreTraits_DominatingWillAb",formId:"0xFEDF281A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Dovah Tinvaak",description:"You are fluent in Dragon speech and as such can shout ***10%*** more often, at ***20%*** reduced effectiveness.",edid:"Traits_DovahTinvaakAb",formId:"0xFEA7204C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:.10000000149011612,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"social",tags:["social"],diagram:""},{name:"Druid",description:"Druids are attuned to nature, making spriggans friendly and reducing the cost of druidic spells by up to ***30%***. You can craft ***Lifebloom Essence*** from Taproot and Spriggan Sap for powerful regeneration. However, your bond with the wild leaves you ***25%*** more vulnerable to fire and axes.",edid:"Traits_DruidAb",formId:"0xFEA7207C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Elemental Conduit",description:`Fire spells are more powerful in sunny weather but lose potency in the rain. 
Shock spells are enhanced during rain but are less effective in snowy conditions. 
Frost spells excel in snowy weather but weaken under sunny skies.`,edid:"Traits_ElementalConduitAb",formId:"0xFEA72058",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Fast Shot",description:"You'd rather shoot fast than shoot hard. Bows draw ***40%*** faster, crossbows reload ***40%*** faster. However, bows and crossbows deal ***30%*** less damage.",edid:"Traits_FastShotAb",formId:"0xFEA72D8D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Fatal Attraction",description:"Your presence is as dangerous as it is alluring. You can choose one gender, you deal ***20%*** more physical damage to the selected gender, but in turn, take ***20%*** more from the other.",edid:"LoreTraits_FatalAttractionAb",formId:"0xFEDF281D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Focused",description:"When in danger, you think before acting. When at less than ***20%*** health, you regenerate ***5*** magicka per second and absorb ***10%*** of incoming spells. However, you take ***10%*** more damage when below this threshold.",edid:"Traits_FocusedAb",formId:"0xFEA72D93",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Focused Precision",description:"Your reliance on careful aim comes at a cost. Arrows and bolts deal ***15%*** less damage, but have a ***20%*** chance to push targets away. The strength of this pushback scales with your Marksman skill.",edid:"LoreTraits_FocusedPrecisionAb",formId:"0xFEDF2835",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Gambler",description:"You go in all or nothing. Gain ***50%*** chance to critical hit. However, overall weapon damage is reduced by ***40%***. When you land a critical hit, your attacks do ***10%*** more damage for ***30*** seconds (stackable up to ***5*** times).",edid:"Traits_GamblerAb",formId:"0xFEA72DA1",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Giantkin",description:"Descended from the mighty giants; you gain ***10%*** magic resistance and damage with blunt weapons, however you cannot read skill books, or use scrolls and staves.",edid:"Traits_GiantkinAb",formId:"0xFEA7205F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Glutton",description:"You LOVE food but hate medicine. Food benefits are ***25%*** stronger but potions have only ***50%*** their efficiency.",edid:"Traits_GluttonAb",formId:"0xFEA72D7F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Good Natured",description:"You have a good heart. Deal ***20%*** less damage with weapons and Destruction spells. However, while wearing an amulet of the divines beneficial spells and potions last ***20%*** longer and you take ***20%*** less damage.",edid:"Traits_GoodNaturedAb",formId:"0xFEA72D83",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Hoarder",description:"You love carrying stuff around, even if it's junk. Gain ***+200*** carryweight. Selling prices are ***50%*** worse.",edid:"Traits_HoarderAb",formId:"0xFEA72D87",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Homeowner",description:"You've secured a place to call your own, choosing one of Skyrim's fine homes to settle in. However, comfort comes at a cost: each week, you must make a mortgage payment based on the home's value.",edid:"Traits_HomeownerAb",formId:"0xFEA720B5",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Introvert",description:"You thrive in solitude but falter in the crowd. When facing three or fewer enemies, you deal ***15%*** more damage, whether with weapons or Destruction magic. Against four or more, your nerves get the better of you, and you deal ***10%*** less.",edid:"Traits_IntrovertAb",formId:"0xFEA720D4",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Jack of All Spells",description:"But master of none. Novice, Apprentice and Adept spells are ***20%*** stronger or longer lasting, expert and master spells are ***20%*** weaker or shorter.",edid:"Traits_JackofAllSpellsAb",formId:"0xFEA72D89",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"King of Worms",description:"You've gained hidden insight into necromantic arts. You can have ***1*** additional summon or undead thrall. However, the duration of summon and resurrecting spells is reduced by ***33%***.",edid:"Traits_KingofWormsAb",formId:"0xFEA72D9B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Light Foot",description:"You've never felt comfortable in footwear. When not wearing boots/shoes, your movement is muffled, you move ***5%*** faster and suffer no fall damage. When wearing boots/shoes you move ***10%*** slower.",edid:"Traits_LightFootAb",formId:"0xFEA72D79",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Lurker",description:"When not wearing any clothes sneak attacks deal ***2.5*** times more damage and can sneak ***25%*** better. Eating fish when it's raw and wriggling triggers a powerful healing effect that lasts ***10*** minutes. However, armor provides no protection, cooked food offers no benefits, and weapons with a weight above 10 will deal no damage.",edid:"Traits_GollumAb",formId:"0xFEA720DF",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Marathon Runner",description:"You regenerate ***5*** stamina per second while sprinting. However, you will not be able to gain any stamina while running or standing still.",edid:"Traits_MarathonRunnerAb",formId:"0xFEA7205B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e4,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"special",tags:["special"],diagram:""},{name:"Master of Destiny",description:"You reject the influence of fate and star signs. Standing Stones cannot be used, but you begin the game with ***3*** additional perk points and a permanent ***+5*** boost to all skills.",edid:"Traits_MasterofDestinyAb",formId:"0xFEA7206D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Nosferatu",description:"You're an ugly sight and live in the sewers. ***-50*** speech, no health, magicka or stamina regen outdoors. Eating skeever meat gives you a ***20%*** speed boost and restores ***10*** health, magicka and stamina per second for ***180*** seconds.",edid:"Traits_NosferatuAb",formId:"0xFEA72039",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:50,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:50,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Old Fashioned",description:"If it ain't broke, don't fix it. Weapons, armor and magical staves made of iron, wood, steel, fur or hide are ***15%*** stronger. Otherwise, they are ***10%*** weaker.",edid:"Traits_OldFashionedAb",formId:"0xFEA72D8B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Pacifist",description:"When your arms are lowered you restore ***2*** magicka and stamina per second. However, raising your hands in combat will have the opposite effect. Those born under the sign of the Atronach do not gain any benefits.",edid:"Traits_PacifistAb",formId:"0xFEA72D9D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:2,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:2,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Phalanx",description:"You deal ***15%*** more damage with spears, javelins, pikes, and halberds. However, you take ***50%*** more damage when hit from behind. Also gives you a unique pike.",edid:"LoreTraits_PhalanxAb",formId:"0xFEDF2801",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Rage",description:"You posses a natural fight response. When at less than ***20%*** health, you deal ***20%*** more damage and take ***20%*** less damage. However, you move ***30%*** slower when below this threshold.",edid:"Traits_RageAb",formId:"0xFEA72D91",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Serene Presence",description:"Your calming aura makes you effortlessly persuasive: persuasion checks almost always succeed, and pacifying spells are ***20%*** stronger. However, your intimidation attempts are half as likely to succeed, and your frenzy spells are ***20%*** weaker.",edid:"LoreTraits_SerenePresenceAb",formId:"0xFEDF2816",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Shehai",description:"Your bound weapons do ***15%*** more damage. But you take ***25%*** more damage from the undead.",edid:"LoreTraits_ShehaiAb",formId:"0xFEDF2029",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Silent Dovah",description:"You choose not to speak the Thu'um, instead hoarding the souls of slain dragons to fuel your own power. For each unspent dragon soul, you gain ***+10*** Health, Magicka, and Stamina. However, this draconic strength rejects the curse of beast or blood: werewolves and vampires cannot harness its power.",edid:"LoreTraits_SilentDovahAb",formId:"0xFEDF280C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Skilled",description:"Reading skill books grants an extra skill point and trainers cost ***50%*** less, however every ***5*** levels you don't gain a perk point.",edid:"Traits_SkilledAb",formId:"0xFEA7203F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Embed",description:"At will, you can consume a dragon soul to amplify the magnitude of your shouts by ***50%*** for ***1*** hour.",edid:"LoreTraits_SoulEmbedAb",formId:"0xFEDF2004",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Reaver",description:"You've claimed countless souls for your gain. Weapon and armor enchantments are ***10%*** stronger and use ***10%*** less charge. Armor rating and weapon damage is reduced by ***10%***.",edid:"Traits_SoulReaverAb",formId:"0xFEA72D95",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Sunkissed",description:"You draw strength from the sun's radiant blaze: sun spells are ***15%*** more powerful in your hands. But such warmth comes at a cost: you take ***25%*** more frost damage, and this weakness deepens to ***50%*** beneath the cold veil of night.",edid:"LoreTraits_SunkissedAb",formId:"0xFEDF2014",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Swimmer",description:"You prefer life on the water. In water, you swim ***30%*** faster, can breath underwater and regenerate health, stamina and magicka by a flat ***1*** per second. On land, you suffer ***25%*** less health, stamina and magicka regeneration.",edid:"Traits_SwimmerAb",formId:"0xFEA72D81",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:0,condition:"recovery effect, duration scales with power",duration:0,flags:["Recover","No Magnitude","No Area","Hide in UI","Power Affects Duration","No Hit Effect"]},{type:"special_effect",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Touch of the Arcane",description:"Your touch and cloak spells are ***20%*** stronger. All other spell types are ***10%*** weaker or last ***10%*** less.",edid:"LoreTraits_TouchoftheArcaneAb",formId:"0xFEDF2808",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unbound Hands",description:"Handwear constricts you. Spells are ***15%*** stronger and unarmed attacks do ***+30*** more damage when not wearing gloves/gauntlets. However, they suffer the opposite effect when wearing gloves/gauntlets.",edid:"Traits_UnboundHandsAb",formId:"0xFEA72D7D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unshakable",description:"You turn defense into offense. Your shield bashes deal ***20%*** more damage and cost ***20%*** less Stamina. However, your unwavering focus on your shield makes you slower while blocking.",edid:"LoreTraits_UnshakableAb",formId:"0xFEDF2833",spell:{cost:1109,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]},{type:"special_effect",value:50,condition:"while blocking, negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Wandering Monk",description:"Power attacks with quarterstaves will force the enemy to drop their weapon to the ground, however this only applies if you're not wearing any armor (light or heavy). You also recieve a unique battlestaff.",edid:"LoreTraits_WanderingMonkAb",formId:"0xFEDF201A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Way of the Voice",description:"You follow the pacifist creed of the Greybeards, and as such your hostile shouts are ***30%*** less effective, but using non-hostile shouts has a ***20%*** chance reset the shout cooldown.",edid:"Traits_WayoftheVoiceAb",formId:"0xFEA72050",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Witcher",description:"Potions and poisons you craft are ***20%*** more effective, and consuming raw ingredients grants double the effect. However, you can only benefit from up to ***four*** active potion effects at a time.",edid:"Traits_WitcherAb",formId:"0xFEA72032",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"crafting",tags:["crafting"],diagram:""},{name:"Wizard's Wardrobe",description:"Your wands are ***30%*** more effective when wearing a wizard hat. When not wearing a wizard hat, all spells are ***10%*** less powerful or last ***10%*** less.",edid:"LoreTraits_WizardsWardrobeAb",formId:"0xFEDF2806",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""}],OK={traits:zK};function $K(){const[e,t]=m.useState({search:"",category:"",tags:[]}),n=m.useMemo(()=>{const i=OK.traits;if(!i||!Array.isArray(i))return console.error("Invalid trait data structure detected"),[];const c=i.map(u=>({...u,name:u.name||"Unknown Trait",description:u.description||"",category:u.category||"misc",tags:u.tags||[],effects:u.effects||[]}));return console.log(`Successfully loaded ${c.length} traits`),c},[]),r=m.useMemo(()=>n.filter(i=>{if(e.search){const c=e.search.toLowerCase();if(![i.name,i.description,i.category,...i.tags,...i.effects.map(d=>d.type)].join(" ").toLowerCase().includes(c))return!1}return!(e.category&&i.category!==e.category||e.tags.length>0&&!e.tags.some(u=>i.tags.includes(u)||i.category===u||i.effects.some(d=>d.type===u)))}),[n,e]),a=m.useMemo(()=>nR(n),[n]),o=m.useMemo(()=>DK(n),[n]),s=m.useMemo(()=>rR(n),[n]);return{traits:r,allTraits:n,loading:!1,error:null,filters:e,setFilters:t,allCategories:a,allEffectTypes:o,allTags:s}}function T1(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,o]=m.useState(null),[s,i]=m.useState([]),[c,u]=m.useState("alphabetical"),[d,f]=m.useState("grid"),[h,p]=m.useState(new Set);m.useEffect(()=>{async function _(){try{r(!0);const A=await fetch("/lorerim-arcaneum/data/traits.json");if(!A.ok)throw new Error("Failed to fetch trait data");const O=await A.json();t(O.traits)}catch(A){o("Failed to load trait data"),console.error("Error loading traits:",A)}finally{r(!1)}}_()},[]),e.map(Yb);const x=(()=>{const _=nR(e),A=rR(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:_.map(O=>({id:`category-${O}`,label:O,value:O,category:"Categories",description:`Traits in ${O} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:A.map(O=>({id:`tag-${O}`,label:O,value:O,category:"Tags",description:`Traits tagged with ${O}`}))}]})(),w=_=>{let A;typeof _=="string"?A={id:`custom-${_}`,label:_,value:_,category:"Fuzzy Search"}:A={id:`${_.category}-${_.id}`,label:_.label,value:_.value,category:_.category},s.some(O=>O.value===A.value&&O.category===A.category)||i(O=>[...O,A])},g=_=>{i(A=>A.filter(O=>O.id!==_))},v=e.filter(_=>s.length===0?!0:s.every(A=>{switch(A.category){case"Fuzzy Search":return!0;case"Categories":return _.category===A.value;case"Tags":return _.tags.some(O=>O===A.value);default:return!0}})),S=s.filter(_=>_.category==="Fuzzy Search").map(_=>_.value).join(" "),{filteredTraits:b}=MK(v,S),E=b.map(Yb),j=e.map(_=>_.edid),N=[...E].sort((_,A)=>{var O,B;switch(c){case"alphabetical":return _.name.localeCompare(A.name);case"category":const R=D=>{switch(D){case"Combat":return 1;case"Magic":return 2;case"Stealth":return 3;case"Social":return 4;case"Survival":return 5;default:return 6}},k=R(_.category),$=R(A.category);return k!==$?k-$:_.name.localeCompare(A.name);case"effect-count":const T=((O=_.effects)==null?void 0:O.length)||0,I=((B=A.effects)==null?void 0:B.length)||0;return T!==I?I-T:_.name.localeCompare(A.name);default:return 0}}),C=_=>{const A=new Set(h);if(d==="grid"){const B=N.findIndex(I=>I.id===_),k=Math.floor(B/3)*3,$=Math.min(k+3,N.length);N.slice(k,$).some(I=>A.has(I.id))?N.slice(k,$).forEach(I=>{A.delete(I.id)}):N.slice(k,$).forEach(I=>{A.add(I.id)})}else A.has(_)?A.delete(_):A.add(_);p(A)};return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ea,{title:"Traits",description:"Choose your character's traits. Traits provide unique abilities and modifiers that will shape your character's capabilities throughout their journey.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(If,{categories:x,onSelect:w,onCustomSearch:w})}),l.jsxs(Ey,{children:[l.jsx(_y,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(ia,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":c==="category"?"Category":"Count"]})}),l.jsxs($f,{align:"end",children:[l.jsx(ta,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(ta,{onClick:()=>u("category"),children:"Category"}),l.jsx(ta,{onClick:()=>u("effect-count"),children:"Effect Count"})]})]}),l.jsxs("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg",children:[l.jsx(ae,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Sf,{className:"h-4 w-4"})}),l.jsx(ae,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(wf,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:s.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(xn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(_=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>g(_.id),title:"Click to remove",children:[_.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},_.id))]})}),d==="grid"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:N.map(_=>{const A=h.has(_.id);return l.jsx(j1,{item:_,isExpanded:A,onToggle:()=>C(_.id),className:"w-full",allTraitIds:j},_.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:N.map(_=>{const A=h.has(_.id);return l.jsx(j1,{item:_,isExpanded:A,onToggle:()=>C(_.id),className:"w-full",allTraitIds:j},_.id)})}),N.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function R1({races:e,onSelect:t,placeholder:n="Search races...",className:r=""}){const a=m.useMemo(()=>e.map(i=>({id:i.edid,label:i.name,description:i.description,category:i.category,icon:l.jsx(ET,{raceName:i.name,size:"sm"}),badge:i.category&&l.jsx(ue,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:i.category}),metadata:{originalRace:i}})),[e]),o=i=>{const c=e.find(u=>u.edid===i.id);c&&t(c)},s=(i,c)=>l.jsxs("div",{className:"flex items-center gap-3",children:[i.icon&&l.jsx("div",{className:"flex-shrink-0",children:i.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:i.label}),i.badge&&l.jsx("div",{className:"flex-shrink-0",children:i.badge})]}),i.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:i.description})]})]});return l.jsx(Rc,{options:a,onSelect:o,placeholder:n,className:r,renderOption:s,emptyMessage:"No races found"})}const aR={REQ_StrongStomach:"Strong Stomach",IsBeastRace:"Beast Race",REQ_DropsBloodKeyword:"Bleeds",REQ_RacialSkills_SneakUnperked:"Natural Sneak",REQ_RacialSkills_CreatePotionsUnperked:"Natural Alchemy",REQ_RacialSkills_LockpickUnperked:"Natural Lockpicking",REQ_RacialSkills_RechargeWeaponsUnperked:"Natural Enchanting",ActorTypeNPC:"NPC",REQ_RaceHuman:"Human Race"};function PK(e,t){const n=t.toLowerCase(),r=e.toLowerCase();return r.includes("resist")||r.includes("resistance")||n.includes("resist")||n.includes("resistance")||n.includes("immune")||n.includes("protection")||n.includes("less likely to")||n.includes("less damage")||n.includes("less effect")||n.includes("reduced effect")||n.includes("reduced damage")||n.includes("reduced chance")?"positive":n.includes("penalty")||n.includes("reduced")||n.includes("less")||r.includes("no ")||r.includes("penalty")||r.includes("weakness")?"negative":n.includes("increased")||n.includes("more")||n.includes("faster")||n.includes("bonus")||n.includes("+")?"positive":"neutral"}function LK(e){const t=e.match(/<(\d+(?:\.\d+)?)>/);return t?parseFloat(t[1]):void 0}function IK(e){const t=["health","magicka","stamina","damage","speed","effect"],n=e.toLowerCase();for(const r of t)if(n.includes(r))return r}function BK(e){const t=[];return t.push(e.category),e.keywords.forEach(n=>{const r=aR[n.edid];r&&t.push(r)}),e.racialSpells.forEach(n=>{t.push(n.name)}),e.skillBonuses.forEach(n=>{t.push(n.skill)}),[...new Set(t)]}function HK(e){const t=e.racialSpells.map(r=>({name:r.name,type:PK(r.name,r.description),description:r.description,value:LK(r.description),target:IK(r.description)})),n=BK(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,category:e.category,tags:n,effects:t,startingStats:e.startingStats,skillBonuses:e.skillBonuses,keywords:n,regeneration:e.regeneration,combat:e.combat}}function Rg(e){return aR[e]||e}function FK(e){const t=new Set;return e.forEach(n=>{n.keywords.forEach(r=>{const a=Rg(r.edid);t.add(a)})}),Array.from(t).sort()}function UK(e){const t=new Set;return e.forEach(n=>{n.skillBonuses.forEach(r=>{t.add(r.skill)})}),Array.from(t).sort()}function GK(e){const t=new Set;return e.forEach(n=>{n.racialSpells.forEach(r=>{t.add(r.name)})}),Array.from(t).sort()}function VK(e){return!e||typeof e!="object"?!1:e.races&&Array.isArray(e.races)?e.races.every(t=>M1(t)):M1(e)}function M1(e){return!e||typeof e!="object"?!1:["name","edid","category","description","startingStats","skillBonuses","racialSpells","keywords"].every(n=>{if(!(n in e))return!1;switch(n){case"name":case"edid":case"category":case"description":return typeof e[n]=="string";case"startingStats":return ZK(e[n]);case"skillBonuses":return Array.isArray(e[n])&&e[n].every(YK);case"racialSpells":return Array.isArray(e[n])&&e[n].every(qK);case"keywords":return Array.isArray(e[n])&&e[n].every(XK);default:return!0}})}function ZK(e){return!e||typeof e!="object"?!1:["health","magicka","stamina","carryWeight"].every(n=>typeof e[n]=="number"&&e[n]>=0)}function YK(e){return e&&typeof e.skill=="string"&&typeof e.bonus=="number"}function qK(e){return e&&typeof e.edid=="string"&&typeof e.name=="string"&&typeof e.description=="string"&&typeof e.globalFormId=="string"}function XK(e){return e&&typeof e.edid=="string"&&typeof e.globalFormId=="string"}function KK(e){var t,n,r,a;return{name:e.name||"Unknown Race",edid:e.edid||"UnknownRace",category:e.category||"Unknown",source:e.source||"Unknown",description:e.description||"No description available.",startingStats:{health:((t=e.startingStats)==null?void 0:t.health)||100,magicka:((n=e.startingStats)==null?void 0:n.magicka)||100,stamina:((r=e.startingStats)==null?void 0:r.stamina)||100,carryWeight:((a=e.startingStats)==null?void 0:a.carryWeight)||200},physicalAttributes:e.physicalAttributes||{heightMale:1,heightFemale:1,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:Array.isArray(e.skillBonuses)?e.skillBonuses:[],racialSpells:Array.isArray(e.racialSpells)?e.racialSpells:[],keywords:Array.isArray(e.keywords)?e.keywords:[],flags:Array.isArray(e.flags)?e.flags:[],regeneration:e.regeneration||{health:.1,magicka:1,stamina:1},combat:e.combat||{unarmedDamage:10,unarmedReach:70}}}function WK(e){const t=[];let n=0;return e.forEach((r,a)=>{try{const o=HK(r);n++,(!o.id||!o.name||!o.category)&&t.push(`Race ${a}: Missing required transformed fields`),o.effects.length===0&&r.racialSpells.length>0&&t.push(`Race ${a}: No effects transformed from ${r.racialSpells.length} spells`)}catch(o){t.push(`Race ${a}: Transformation failed - ${o}`)}}),{success:t.length===0,errors:t,transformedCount:n}}const QK=[{name:"Altmer",edid:"HighElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:'The Altmer of Summerset Isle are called "High" Elves in the Empire, describing both their physical appearance and their snobbish personality. The arcane ability of High Elves surpasses all other races in Tamriel. Their Highborn ability grants them increased magicka and spell power. They are weak in physical combat, however, and their magic affinity makes them more susceptible to elemental damage.',startingStats:{health:100,magicka:160,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.159999966621399,heightFemale:1.1200000047683716,weightMale:.5,weightFemale:.5,size:"Medium"},skillBonuses:[{skill:"Alteration",bonus:15},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:10},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Altmer_WeaknessElements",name:"Weakness to Elements",description:"High elves are more vulnerable to elements compared to other races. Fire, frost, and shock deal <10>% more damage to you.",globalFormId:"0x000E40C8"},{edid:"REQ_Ability_Race_Altmer_Highborn",name:"Highborn",description:"High elf blood grants great affinity to magicka as well as resistance to diseases. Magicka regenerates <50>% faster, spells are <5>% more powerful and last longer, you are <50>% less likely to contract diseases.",globalFormId:"0x00105F16"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.2000000476837158,multipliers:[{value:1.5,source:"Highborn"}]},stamina:{base:1.5499999523162842}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Argonian",edid:"ArgonianRace",category:"Beast",source:"Synthesis - NPC.esp",description:"Argonians are the reptilian denizens of Black Marsh. Years of defending their borders have made them experts in stealth and evasion, and their natural abilities make them equally at home in water and on land. They are resistant to diseases and poisons and enjoy raw meat. Their Histskin allows them to quickly heal their wounds.",startingStats:{health:140,magicka:120,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.059999942779541,heightFemale:1.0449999570846558,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:15},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Argonian_Waterbreathing",name:"Waterbreathing",description:"Your Argonian lungs can breathe underwater, while you also find it much easier to swim than members of other races. You can breathe underwater, swimming is <20>% faster, swimming is <75>% less exhausting.",globalFormId:"0x000AA01B"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Argonian_Histskin",name:"Histskin",description:"Argonians can nautrally regenerate health faster than others, and their metabolism increases the effect of alchemical substances. Regenerate <1> health per second, potions are <10>% more effective and last longer.",globalFormId:"0x000E40D5"},{edid:"REQ_Ability_Race_Argonian_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Argonian blood greatly reduces the effect of poison and disease. Poison deals <75>% less damage to you, you are <75>% less likely to contract diseases.",globalFormId:"0x00104ACF"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0,adjustments:[{value:1,source:"Histskin"}]},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Bosmer",edid:"WoodElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Bosmer, or Wood Elves, originate from the sacred forest of Valenwood. Their culture is highly carnivorous and even cannibalistic, derived from the Green Pact with the forest, in which they harm no plant. Their dexterity makes them excellent scouts and thieves, and there are no finer archers in all of Tamriel. They have a natural resistance to poison, disease and shock.",startingStats:{health:100,magicka:120,stamina:140,carryWeight:200},physicalAttributes:{heightMale:.9200000166893005,heightFemale:.9399999976158142,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Marksman",bonus:15},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:10},{skill:"Alteration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Bosmer_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Bosmer blood grants you resistance to poison and diseases. Poison deals <25>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA025"},{edid:"REQ_Power_Race_Bosmer_ShockResist",name:"Grounded",description:"In harmony with nature and the earth, the Bosmer have honed their bodies to be conduits of elemental potential. +25% shock resist",globalFormId:"0x000E40CF"},{edid:"REQ_Ability_Race_Bosmer_EyeOfTheHunt",name:"Eye of the Hunt",description:"The Bosmer are naturally skilled in marksmanship, and can aim their bows more precisely. Armor penetration with ranged weapons is increased by <5>.",globalFormId:"0xFE686801"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.649999976158142}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Breton",edid:"BretonRace",category:"Human",source:"Synthesis - NPC.esp",description:"Bretons, the inhabitants of the province of High Rock, are the human descendants of the Elves and the ancient race of the Nedes. While Bretons are physically weak, they can tap on magicka more than any other human race and they are particularly capable in the school of Conjuration. Their magic resistance blocks one fifth of incoming spell damage and their Dragonskin ability can fully absorb harmful magic by chance.",startingStats:{health:120,magicka:140,stamina:100,carryWeight:200},physicalAttributes:{heightMale:.9850000143051147,heightFemale:.949999988079071,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Alchemy",bonus:10},{skill:"Speechcraft",bonus:10},{skill:"Conjuration",bonus:15},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Breton_MagicResistance",name:"Magic Resistance",description:"Your Breton blood reduces damage taken from all magical sources. Magic deals <15>% less damage to you.",globalFormId:"0x000AA01F"},{edid:"REQ_Ability_Race_Breton_Dragonskin",name:"Dragonskin",description:"Bretons can naturally absorb harmful magic by chance. Increases chance to absorb the magicka from hostile spells by <10>%.",globalFormId:"0x000AA022"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.149999976158142},stamina:{base:1.600000023841858}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Dunmer",edid:"DarkElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Dunmer, or Dark Elves, are the ash-skinned, red-eyed, Elven people of Vvardenfell. They combine powerful intellects with strong and agile physiques, producing excellent warriors and evokers. They are extremely resistant to fire, blocking half of incoming fire damage. They're particularly skilled in Destruction and Conjuration magic, and can imbue more power into associated spells.",startingStats:{health:100,magicka:140,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0299999713897705,heightFemale:1.0149999856948853,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Sneak",bonus:10},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:15},{skill:"Illusion",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Dunmer_ResistFire",name:"Resist Fire",description:"Tempered in the flames of the Red Mountain and the heat of the Ashlands, your Dunmer blood greatly reduces all fire damage dealt to you. Fire deals <50>% less damage to you.",globalFormId:"0x000AA021"},{edid:"REQ_Ability_Race_Dunmer_Ashlander",name:"Ashlander",description:"Dunmer are naturally talented evokers and conjurers. Destruction and Conjuration spells are <10>% more powerful and last longer.",globalFormId:"0x000E40D4"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Imperial",edid:"ImperialRace",category:"Human",source:"Synthesis - NPC.esp",description:"The cosmopolitan citizens of Cyrodiil are descended from the founders of the glorious Empire that has influenced Tamriel's history throughout the eras. Imperials are talented leaders and traders among society, skilled in both magic and combat thanks to martial and academic education of the schools of Cyrodiil. Their leadership can encourage their followers to fight well in combat.",startingStats:{health:120,magicka:120,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0149999856948853,heightFemale:.9850000143051147,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Speechcraft",bonus:15},{skill:"Destruction",bonus:10},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Imperial_VoiceOfTheEmperor",name:"Voice of the Emperor",description:"Imperials are talented leaders and traders among society. Speech skill is <15> higher, prices are <15>% more favorable, magicka and stamina of nearby allies increase by <25>.",globalFormId:"0x000E40CA"},{edid:"REQ_Ability_Race_Imperial_ImperialDiversity",name:"Imperial Diversity",description:"Imperial education involves various martial and academical trainings, producing citizens with variety of skills. Health, magicka, and stamina regenerate <25>% faster.",globalFormId:"0x000EB7EB"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]},stamina:{base:1.600000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Khajiit",edid:"KhajiitRace",category:"Beast",source:"Synthesis - NPC.esp",description:"The Khajiit are a race of feline humanoids hailing from the province of Elsweyr, well-known as great merchants but also as smugglers and thieves. They are very fast and outrun all other races which, combined with a high stamina reserve, makes them fearsome skirmishers. However, they are seldom gifted with the skill to harness magical forces. All Khajiit can see in the dark at will, eat raw meat, resist the harmful effects of Skooma and their sharp claws are as lethal as knives.",startingStats:{health:100,magicka:100,stamina:160,carryWeight:200},physicalAttributes:{heightMale:.9800000190734863,heightFemale:.9449999928474426,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:15},{skill:"Alchemy",bonus:10}],racialSpells:[{edid:"REQ_Power_Race_Khajiit_NightEye",name:"Night Eye",description:"Your eyes are exceptionally versatile and can become extremely sensitive to light, allowing a much better sight in dark areas.",globalFormId:"0x000AA01D"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Khajiit_FelineAgility",name:"Feline Agility",description:"Khajiits are very agile and can fall long heights without taking critical damage. Movement is <10>% faster, sneaking is <20>% faster, fall damage is reduced by <75>%.",globalFormId:"0x8C1AD1B0"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"},{edid:"REQ_Ability_Race_Khajiit_Fingersmith",name:"Fingersmith",description:"Khajiits have keen senses and dexterity, making them much more proficient in thievery. Lockpicking expertise is increased by <2>, lockpicks are <20>% more durable, pickpocketing is <20>% more likely to succeed, you are <20>% harder to detect.",globalFormId:"0xFE686816"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.0499999523162842},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Nord",edid:"NordRace",category:"Human",source:"Synthesis - NPC.esp",description:"Skyrim's Nords are tall and fair, with a culture which values honor, glory, and loyalty to family and community. Nords have come to distrust magic, but excel in physical warfare. They are greatly resistant to frost. Nords also have innate ability to use Shouts, and can unleash immense power through the words of power when mastered.",startingStats:{health:140,magicka:100,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0800000429153442,heightFemale:1.059999942779541,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:15},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Nord_ResistFrostShock",name:"Resist Frost and Shock",description:"Your Nord blood halves all taken frost damage. Frost deals <50>% less damage.",globalFormId:"0x000AA020"},{edid:"REQ_Ability_Race_Nord_AncientTongues",name:"Ancient Tongues",description:"Nords have inherent ability to Shout, and can unleash immense power through the Voice. Shouts are <10>% more powerful and last longer, Shouts can be used <10>% more often.",globalFormId:"0xFE686809"},{edid:"REQ_Ability_Race_Nord_BarbaricStrength",name:"Barbaric Strength",description:"Nords are fierce and strong, skilled with all melee weapons. Melee weapons deal <5>% more damage.",globalFormId:"0xFE68680B"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Orsimer",edid:"OrcRace",category:"Elven",source:"Synthesis - NPC.esp",description:`The Orsimer or "Pariah Folk", commonly called Orcs, come from Orsinium in the west. Their savage appearance and customs sometimes cause fear, but they have won acceptance for their distinguished service in the Legion. Orcs' superior strength makes them formidable warriors, though use of magic requires extensive training. Their incredible endurance grants them resistance to both magical and physical harm.`,startingStats:{health:160,magicka:100,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.100000023841858,heightFemale:1.0800000429153442,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:15},{skill:"Destruction",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Orsimer_Bulwark",name:"Bulwark",description:"Orcs have incredible strength and endurance, resistant to all types of damage. Armor rating increases by <150>, magic deals <10>% less damage to you.",globalFormId:"0x000AA026"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Redguard",edid:"RedguardRace",category:"Human",source:"Synthesis - NPC.esp",description:"The dark-skinned, wiry-haired Redguards of Hammerfell seem born for battle, though their proud and independent spirits suit free-ranging heroism more. They have a hardy constitution and natural resistance to poison and disease, but tend to shun their magic. They are full of stamina and naturally skilled in melee combat, making them one of the strongest warriors in Tamriel.",startingStats:{health:120,magicka:100,stamina:140,carryWeight:200},physicalAttributes:{heightMale:1.0449999570846558,heightFemale:1.0299999713897705,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:15},{skill:"Two-Handed",bonus:10},{skill:"Marksman",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Redguard_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Redguard blood, tempered in the deserts of Hammerfell, grants you a very strong resistance to poisons and diseases. Poison deals <50>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA023"},{edid:"REQ_Ability_Race_Redguard_AdrenalineRush",name:"Adrenaline Rush",description:"Redguards are granted increased stamina, and can sprint much longer without being exhausted. Stamina regenerations is increased, sprinting costs <1> less stamina per second.",globalFormId:"0x000E40CE"},{edid:"REQ_Ability_Race_Redguard_MartialProwess",name:"Martial Prowess",description:"Redguards are naturally skilled in martial arts, and can wield their weapons with great precision. Armor penetration with melee weapons is increased by <5>.",globalFormId:"0xFE68680E"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:13,unarmedReach:73}}],JK={races:QK};function eW(){const[e,t]=m.useState({search:"",type:"",tags:[]}),n=m.useMemo(()=>{const i=JK.races;if(!VK({races:i}))return console.error("Invalid race data structure detected"),[];const c=i.map(d=>KK(d)),u=WK(c);return u.success?console.log(`Successfully transformed ${u.transformedCount} races`):console.error("Data transformation errors:",u.errors),c},[]),r=m.useMemo(()=>n.filter(i=>{if(e.search){const c=e.search.toLowerCase();if(![i.name,i.description,...i.racialSpells.map(d=>d.name),...i.skillBonuses.map(d=>d.skill),...i.keywords.map(d=>Rg(d.edid))].join(" ").toLowerCase().includes(c))return!1}if(e.type&&i.category!==e.type)return!1;if(e.tags.length>0){const c=i.keywords.map(h=>Rg(h.edid)),u=i.skillBonuses.map(h=>h.skill),d=i.racialSpells.map(h=>h.name);if(!e.tags.some(h=>c.includes(h)||u.includes(h)||d.includes(h)||i.category===h))return!1}return!0}),[n,e]),a=m.useMemo(()=>FK(n),[n]),o=m.useMemo(()=>UK(n),[n]),s=m.useMemo(()=>GK(n),[n]);return{races:r,allRaces:n,loading:!1,error:null,filters:e,setFilters:t,allKeywords:a,allSkills:o,allAbilities:s}}function tW({className:e}){const{allRaces:t}=eW(),{build:n,setRace:r}=Ut(),a=Ft(),[o,s]=m.useState(!0),i=n.race?t.find(h=>h.edid===n.race):null,c=h=>{r(h.edid)},u=()=>{a("/race")},d=()=>{s(!o)};if(!i)return l.jsxs(dr,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),l.jsx(R1,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=zA(i);return l.jsxs(dr,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[l.jsx(R1,{races:t,onSelect:c,placeholder:`Race: Select a race (${i.name})`,className:"w-full"}),l.jsx(Ag,{item:f,isExpanded:o,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function nW(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,o]=m.useState(null);return m.useEffect(()=>{async function s(){try{r(!0);const i=await fetch("/lorerim-arcaneum/data/wintersun-religion-docs.json");if(!i.ok)throw new Error("Failed to fetch religion data");const u=(await i.json()).flatMap(d=>d.deities.map(f=>({...f,pantheon:d.type})));t(u)}catch(i){o("Failed to load religion data"),console.error("Error loading religions:",i)}finally{r(!1)}}s()},[]),{religions:e,loading:n,error:a}}function rW(e){var t,n,r,a;return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,type:e.type,description:((t=e.tenet)==null?void 0:t.description)||"",tenetDescription:((n=e.tenet)==null?void 0:n.description)||"",followerPower:((r=e.boon1)==null?void 0:r.spellName)||"",devoteePower:((a=e.boon2)==null?void 0:a.spellName)||"",favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[],originalReligion:e}}function D1(e){return e.map(rW)}function aW(e,t){return e.find(n=>n.name.toLowerCase().replace(/\s+/g,"-")===t)}function z1({religions:e,selectedDeityId:t,onDeitySelect:n,placeholder:r="Search for a deity to follow...",className:a,disabled:o=!1}){m.useMemo(()=>D1(e),[e]);const{filteredReligions:s}=_T(e,""),i=m.useMemo(()=>D1(s),[s]),c=h=>{const p={Divine:"bg-blue-100 text-blue-800 border-blue-200","Daedric Prince":"bg-red-100 text-red-800 border-red-200",Tribunal:"bg-purple-100 text-purple-800 border-purple-200",Ancestor:"bg-green-100 text-green-800 border-green-200","Nordic Deity":"bg-orange-100 text-orange-800 border-orange-200","Yokudan Deity":"bg-yellow-100 text-yellow-800 border-yellow-200","Khajiiti Deity":"bg-indigo-100 text-indigo-800 border-indigo-200",Deity:"bg-gray-100 text-gray-800 border-gray-200"};return l.jsx(ue,{variant:"outline",className:K("text-xs font-medium",p[h]||p.Deity),children:h})},u=m.useMemo(()=>i.map(h=>({id:h.id,label:h.name,description:h.tenetDescription,category:h.type,badge:c(h.type),metadata:{originalReligion:h.originalReligion,favoredRaces:h.favoredRaces}})),[i]),d=h=>{n(h.id)},f=(h,p)=>{var y;return l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-medium",children:h.label}),h.badge]}),h.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-1",children:h.description}),((y=h.metadata)==null?void 0:y.favoredRaces)&&h.metadata.favoredRaces.length>0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Yr,{className:"h-3 w-3 text-skyrim-gold"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["Favors: ",h.metadata.favoredRaces.join(", ")]})]})]})})};return l.jsx(Rc,{options:u,onSelect:d,placeholder:r,className:a,disabled:o,renderOption:f,emptyMessage:"No deity found."})}function oW({className:e}){const{religions:t,loading:n,error:r}=nW(),{build:a,setReligion:o}=Ut(),s=Ft(),[i,c]=m.useState(!0),u=a.religion?aW(t,a.religion):null,d=()=>{s("/build/religions")},f=()=>{c(!i)};if(n)return l.jsx(dr,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading religions..."})});if(r)return l.jsx(dr,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:l.jsxs("div",{className:"text-sm text-destructive",children:["Error loading religions: ",r]})});if(!u)return l.jsxs(dr,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's religion"}),l.jsx(z1,{religions:t,selectedDeityId:a.religion,onDeitySelect:o,placeholder:"Search for a religion...",className:"w-full"})]});const h=Wp(u);return l.jsxs(dr,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[l.jsx(z1,{religions:t,selectedDeityId:a.religion,onDeitySelect:o,placeholder:`Religion: Select a religion (${u.name})`,className:"w-full"}),l.jsx(kg,{item:h,originalReligion:u,isExpanded:i,onToggle:f,className:"border-0 shadow-none",disableHover:!0,showToggle:!1,showBlessings:!1,showTenets:!0,showBoons:!0,showFavoredRaces:!0})]})}function Om({traits:e,onSelect:t,placeholder:n="Search traits...",className:r="",disabled:a=!1}){const o=m.useMemo(()=>e.map(c=>({id:c.edid,label:c.name,description:c.description,category:c.category,badge:c.category&&l.jsx(ue,{variant:"outline",className:"text-xs",children:c.category}),metadata:{originalTrait:c,effectsCount:c.effects.length}})),[e]),s=c=>{const u=e.find(d=>d.edid===c.id);u&&t(u)},i=(c,u)=>{var d;return l.jsx("div",{className:"flex items-start gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:c.label}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.badge&&l.jsx("div",{className:"flex-shrink-0",children:c.badge}),((d=c.metadata)==null?void 0:d.effectsCount)&&c.metadata.effectsCount>0&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.metadata.effectsCount," effect",c.metadata.effectsCount!==1?"s":""]})]}),c.description&&l.jsx(na,{text:c.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})};return l.jsx(Rc,{options:o,onSelect:s,placeholder:n,className:r,disabled:a,renderOption:i,emptyMessage:"No traits found"})}function sW({className:e}){const{allTraits:t}=$K(),{build:n,addTraitToSlot:r,removeTrait:a,getRegularTraitLimit:o,getBonusTraitLimit:s}=Ut(),i=Ft();o(),s();const c=n.traits.regular.map(y=>t.find(x=>x.edid===y)).filter(Boolean),u=n.traits.bonus.map(y=>t.find(x=>x.edid===y)).filter(Boolean),d=(y,x)=>{r(y.edid,x)},f=y=>{a(y)},h=()=>{i("/traits")},p=t.filter(y=>!n.traits.regular.includes(y.edid)&&!n.traits.bonus.includes(y.edid));return l.jsx(dr,{title:"Traits",navigateTo:"traits",onNavigate:h,className:e,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:"outline",className:"text-xs",children:"Slot 1"}),c[0]&&l.jsx(ue,{variant:"default",className:"text-xs",children:"Starting"})]}),c[0]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:c[0].name}),l.jsx(na,{text:c[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>f(c[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(xn,{className:"h-3 w-3"})})]}):l.jsx(Om,{traits:p,onSelect:y=>d(y,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:"outline",className:"text-xs",children:"Slot 2"}),c[1]&&l.jsx(ue,{variant:"default",className:"text-xs",children:"Starting"})]}),c[1]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:c[1].name}),l.jsx(na,{text:c[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>f(c[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(xn,{className:"h-3 w-3"})})]}):l.jsx(Om,{traits:p,onSelect:y=>d(y,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&l.jsx(ue,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:u[0].name}),l.jsx(na,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>f(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(xn,{className:"h-3 w-3"})})]}):l.jsx(Om,{traits:p,onSelect:y=>d(y,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}function iW({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:r,currentRegularCount:a,currentBonusCount:o,className:s}){const i=e!==2||t!==1;return l.jsxs(xI,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:l.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),className:s,children:[l.jsx(Ub,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Fb,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:a,type:"regular"}),l.jsx(Fb,{label:"Late Game Traits Limit",value:t,onChange:r,min:0,max:5,currentCount:o,type:"bonus"})]}),i&&l.jsx(Ub,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}function lW({open:e,title:t,message:n,variant:r="warning",confirmText:a,cancelText:o,onConfirm:s,onCancel:i,className:c}){return l.jsx(bI,{open:e,title:t,message:n,variant:r,confirmText:a,cancelText:o,onConfirm:s,onCancel:i,className:c})}function cW({open:e,onConfirm:t,onCancel:n}){return l.jsx(lW,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function uW({link:e,variant:t="outline",size:n="sm",text:r="Export / Share",onCopied:a,className:o}){return l.jsx(AI,{link:e,variant:t,size:n,text:r,onCopied:a,className:o})}function dW({onCopied:e,className:t}){const n=window.location.href;return l.jsx(uW,{link:n,onCopied:e,className:t})}function fW({build:e,title:t="Build Summary",layout:n="grid",className:r}){const a=jI(e);return l.jsx(kI,{title:t,items:a,layout:n,className:r})}function hW({name:e,notes:t,onNameChange:n,onNotesChange:r,className:a}){return l.jsxs(ct,{className:`mb-6 ${a||""}`,children:[l.jsx(ut,{children:l.jsx(vt,{children:"Basic Information"})}),l.jsxs(dt,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(qr,{htmlFor:"name",children:"Character Name"}),l.jsx(Ci,{id:"name",value:e,onChange:o=>n(o.target.value),placeholder:"Enter character name..."})]}),l.jsxs("div",{children:[l.jsx(qr,{htmlFor:"notes",children:"Notes"}),l.jsx("textarea",{id:"notes",value:t,onChange:o=>r(o.target.value),placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}function mW({onReset:e,className:t}){return l.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${t||""}`,children:[l.jsxs(ae,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[l.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),l.jsx(dW,{})]})}function pW(){const{build:e,updateBuild:t}=Ut(),[n,r]=m.useState(e.traitLimits.regular),[a,o]=m.useState(e.traitLimits.bonus),s=m.useCallback(c=>{r(c),t({traitLimits:{...e.traitLimits,regular:c}})},[e.traitLimits,t]),i=m.useCallback(c=>{o(c),t({traitLimits:{...e.traitLimits,bonus:c}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:a,handleRegularLimitChange:s,handleBonusLimitChange:i,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}function gW(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:r}=Ut(),[a,o]=m.useState(!1),s=pW(),i=Ft();return l.jsxs(ea,{title:"Character Builder",children:[l.jsx(mW,{onReset:()=>o(!0)}),l.jsx(cW,{open:a,onConfirm:()=>{r(),o(!1)},onCancel:()=>o(!1)}),l.jsxs(ny,{defaultValue:"build",className:"w-full",children:[l.jsxs(ry,{className:"mb-4",children:[l.jsx(Hl,{value:"build",children:"Build"}),l.jsx(Hl,{value:"config",children:"Config"})]}),l.jsxs(Ad,{value:"build",children:[l.jsx(hW,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[l.jsx(tW,{}),l.jsx(DI,{}),l.jsx(sW,{}),l.jsx(oW,{})]}),l.jsx("div",{className:"mb-6",children:l.jsx(RK,{})}),l.jsx(FB,{navigate:i}),l.jsx(fW,{build:e})]}),l.jsx(Ad,{value:"config",children:l.jsx(iW,{regularLimit:s.regularLimit,bonusLimit:s.bonusLimit,onRegularLimitChange:s.handleRegularLimitChange,onBonusLimitChange:s.handleBonusLimitChange,currentRegularCount:s.currentRegularCount,currentBonusCount:s.currentBonusCount})})]})]})}function yW(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ec,{children:"Crafting"}),l.jsx(Bl,{children:"Plan your crafting recipes and material requirements"})]}),l.jsxs(ct,{children:[l.jsxs(ut,{children:[l.jsx(vt,{children:"Coming Soon"}),l.jsx(Ha,{children:"Crafting system is under development"})]}),l.jsx(dt,{children:l.jsx(Bl,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function vW(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ec,{children:"Equipment"}),l.jsx(Bl,{children:"Browse and compare weapons, armor, and items"})]}),l.jsxs(ct,{children:[l.jsxs(ut,{children:[l.jsx(vt,{children:"Coming Soon"}),l.jsx(Ha,{children:"Equipment database is under development"})]}),l.jsx(dt,{children:l.jsx(Bl,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const xW=()=>{const{build:e,getSummary:t}=Ut(),n=Ft(),r=t();return!e.name&&!e.race?l.jsxs(ct,{className:"border-dashed border-2 border-muted",children:[l.jsxs(ut,{children:[l.jsx(vt,{className:"text-lg",children:"No Character Build"}),l.jsx(Ha,{children:"Start building your character to see it here"})]}),l.jsx(dt,{children:l.jsx(ae,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):l.jsxs(ct,{children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"text-lg flex items-center justify-between",children:[l.jsx("span",{children:r.name}),l.jsx(ae,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),l.jsx(Ha,{children:"Current character build status"})]}),l.jsxs(dt,{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Race:"}),l.jsx(ue,{variant:"secondary",className:"ml-2",children:r.race})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),l.jsx(ue,{variant:"secondary",className:"ml-2",children:r.stone})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),l.jsx(ue,{variant:"secondary",className:"ml-2",children:r.religion})]})]}),l.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[r.traitCount," traits"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.majorSkillCount," major skills"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.minorSkillCount," minor skills"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.equipmentCount," equipment"]})]})]})]})};function bW(){return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx(Ec,{children:"Welcome to Lorerim Arcaneum"}),l.jsx(s_,{children:"Your theorycrafting playground and reference hub for Lorerim players."})]}),l.jsx("div",{className:"max-w-md",children:l.jsx(xW,{})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(bl,{className:"h-5 w-5"}),"Player Creation"]}),l.jsx(Ha,{children:"Design your character with races, traits, and birthsigns"})]}),l.jsx(dt,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/player-creation",children:"Get Started"})})})]}),l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(ms,{className:"h-5 w-5"}),"Equipment"]}),l.jsx(Ha,{children:"Browse and compare weapons, armor, and items"})]}),l.jsx(dt,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/equipment",children:"Browse Items"})})})]}),l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(i4,{className:"h-5 w-5"}),"Crafting"]}),l.jsx(Ha,{children:"Plan your crafting recipes and material requirements"})]}),l.jsx(dt,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/crafting",children:"Start Crafting"})})})]}),l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(ut,{children:[l.jsxs(vt,{className:"flex items-center gap-2",children:[l.jsx(ME,{className:"h-5 w-5"}),"Skills"]}),l.jsx(Ha,{children:"Explore skill trees and perk combinations"})]}),l.jsx(dt,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/skills",children:"View Skills"})})})]})]})]})}function wW(){const e=Ft();return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[l.jsx(Ec,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),l.jsx(dn,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),l.jsx(ae,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const SW=()=>l.jsxs(Yz,{children:[l.jsx(st,{path:"/",element:l.jsx(bW,{})}),l.jsxs(st,{path:"/build",element:l.jsx(CP,{}),children:[l.jsx(st,{index:!0,element:l.jsx(gW,{})}),l.jsx(st,{path:"race",element:l.jsx(x1,{})}),l.jsx(st,{path:"birth-signs",element:l.jsx(Jb,{})}),l.jsx(st,{path:"traits",element:l.jsx(T1,{})}),l.jsx(st,{path:"religions",element:l.jsx(w1,{})}),l.jsx(st,{path:"destiny",element:l.jsx(ew,{})}),l.jsx(st,{path:"perks",element:l.jsx(k1,{})})]}),l.jsx(st,{path:"/race",element:l.jsx(x1,{})}),l.jsx(st,{path:"/destiny",element:l.jsx(ew,{})}),l.jsx(st,{path:"/perks",element:l.jsx(FX,{})}),l.jsx(st,{path:"/birth-signs",element:l.jsx(Jb,{})}),l.jsx(st,{path:"/traits",element:l.jsx(T1,{})}),l.jsx(st,{path:"/religions",element:l.jsx(w1,{})}),l.jsx(st,{path:"/perks",element:l.jsx(k1,{})}),l.jsx(st,{path:"/equipment",element:l.jsx(vW,{})}),l.jsx(st,{path:"/crafting",element:l.jsx(yW,{})}),l.jsx(st,{path:"*",element:l.jsx(wW,{})})]}),oR=m.createContext(void 0);function NW({children:e}){const[t,n]=m.useState("system"),[r,a]=m.useState("dark");return m.useEffect(()=>{const o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&n(o)},[]),m.useEffect(()=>{localStorage.setItem("theme",t);let o;t==="system"?o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":o=t,a(o);const s=document.documentElement;o==="dark"?s.classList.add("dark"):s.classList.remove("dark")},[t]),m.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{if(t==="system"){const i=o.matches?"dark":"light";a(i);const c=document.documentElement;i==="dark"?c.classList.add("dark"):c.classList.remove("dark")}};return o.addEventListener("change",s),()=>o.removeEventListener("change",s)},[t]),l.jsx(oR.Provider,{value:{theme:t,setTheme:n,resolvedTheme:r},children:e})}function EW(){const e=m.useContext(oR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function _W(){const{theme:e,setTheme:t}=EW(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},r=()=>{switch(e){case"light":return l.jsx(Wx,{className:"h-4 w-4"});case"dark":return l.jsx(S4,{className:"h-4 w-4"});case"system":return l.jsx(b4,{className:"h-4 w-4"});default:return l.jsx(Wx,{className:"h-4 w-4"})}};return l.jsxs(ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[r(),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function CW({sidebarCollapsed:e,onToggleSidebar:t}){return l.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:Ht.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[l.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:l.jsx(g4,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),l.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),l.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),l.jsx("div",{className:"ml-auto",children:l.jsx(_W,{})})]})}const AW=m.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return l.jsx(o,{ref:a,"data-active":n?"":void 0,className:K("group flex items-center w-full text-left px-3 py-1.5 text-sm rounded transition-colors","hover:bg-skyrim-gold/10 hover:text-skyrim-gold",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-2 border-skyrim-gold font-bold":"text-skyrim-gold/80 border-l-2 border-transparent",e),tabIndex:0,...r})});AW.displayName="SidebarMenuSubButton";const kW=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"}]},{label:"Gear",items:[{to:"/weapons",label:"Weapons"},{to:"/armor",label:"Armor"},{to:"/food",label:"Food"},{to:"/alcohol",label:"Alcohol"}]},{label:"Crafting",items:[{to:"/alchemy",label:"Alchemy"},{to:"/smithing",label:"Smithing"},{to:"/enchanting",label:"Enchanting"}]},{label:"Ascensions",items:[{to:"/shouts",label:"Shouts of the Dragonborn"},{to:"/lichdom",label:"Lichdom"},{to:"/lycanthropy",label:"Lycanthropy"},{to:"/vampirism",label:"Vampirism"}]},{label:"Development",items:[{to:"/mva-test",label:"MVA Test"},{to:"/mva-path-builder",label:"Path Builder"}]}];function jW({collapsed:e}){const t=Ft(),n=window.location.hash.replace(/^#\/?/,"/"),r=a=>{const o=window.location.hash,[s,i]=o.split("?"),u=new URLSearchParams(i||"").get("b");t(u?`${a}?b=${u}`:a)};return l.jsxs(Q2,{collapsed:e,children:[l.jsx(t_,{children:!e&&l.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[l.jsx(d4,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),l.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),l.jsx(J2,{children:kW.map(a=>l.jsxs(e_,{children:[!e&&l.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:a.label}),l.jsx(n_,{children:a.items.map(o=>{const s=n===o.to;return l.jsx(a_,{children:l.jsx(r_,{asChild:!0,isActive:s,onClick:()=>r(o.to),tabIndex:0,children:l.jsx("span",{className:"w-full text-left truncate",children:o.label})})},o.to)})})]},a.label))}),!e&&l.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[l.jsx(dn,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),l.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]}),l.jsx(o_,{})]})}function TW(){const[e,t]=m.useState(!1);return W$(),l.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[l.jsx(CW,{sidebarCollapsed:e,onToggleSidebar:()=>t(n=>!n)}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0":"w-64"}`,style:{zIndex:Ht.SIDEBAR},children:l.jsx(jW,{collapsed:e})}),l.jsx("main",{className:"flex-1  transition-all duration-300 ease-in-out",children:l.jsx(SW,{})})]}),l.jsx(q$,{})]})}function RW(){return l.jsx(v5,{children:l.jsx(TW,{})})}k3.createRoot(document.getElementById("root")).render(l.jsx(m.StrictMode,{children:l.jsx(NW,{children:l.jsx(RW,{})})}));
