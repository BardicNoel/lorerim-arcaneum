var Q5=Object.defineProperty;var B5=(e,t,n)=>t in e?Q5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nt=(e,t,n)=>B5(e,typeof t!="symbol"?t+"":t,n);function $5(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(a,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Gg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e1={exports:{}},kf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H5=Symbol.for("react.transitional.element"),F5=Symbol.for("react.fragment");function t1(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:H5,type:e,key:a,ref:t!==void 0?t:null,props:n}}kf.Fragment=F5;kf.jsx=t1;kf.jsxs=t1;e1.exports=kf;var i=e1.exports;const _t={CONTENT:1,DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,DRAWER:202,HEADER:50,SIDEBAR:60,NAVIGATION:70,STICKY:40};var n1={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=Symbol.for("react.transitional.element"),q5=Symbol.for("react.portal"),U5=Symbol.for("react.fragment"),Y5=Symbol.for("react.strict_mode"),V5=Symbol.for("react.profiler"),G5=Symbol.for("react.consumer"),W5=Symbol.for("react.context"),Z5=Symbol.for("react.forward_ref"),X5=Symbol.for("react.suspense"),K5=Symbol.for("react.memo"),a1=Symbol.for("react.lazy"),Fy=Symbol.iterator;function J5(e){return e===null||typeof e!="object"?null:(e=Fy&&e[Fy]||e["@@iterator"],typeof e=="function"?e:null)}var r1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s1=Object.assign,i1={};function Do(e,t,n){this.props=e,this.context=t,this.refs=i1,this.updater=n||r1}Do.prototype.isReactComponent={};Do.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Do.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o1(){}o1.prototype=Do.prototype;function Zg(e,t,n){this.props=e,this.context=t,this.refs=i1,this.updater=n||r1}var Xg=Zg.prototype=new o1;Xg.constructor=Zg;s1(Xg,Do.prototype);Xg.isPureReactComponent=!0;var qy=Array.isArray,Ve={H:null,A:null,T:null,S:null,V:null},l1=Object.prototype.hasOwnProperty;function Kg(e,t,n,a,r,s){return n=s.ref,{$$typeof:Wg,type:e,key:t,ref:n!==void 0?n:null,props:s}}function eM(e,t){return Kg(e.type,t,void 0,void 0,void 0,e.props)}function Jg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wg}function tM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uy=/\/+/g;function Dm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tM(""+e.key):t.toString(36)}function Yy(){}function nM(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Yy,Yy):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ri(e,t,n,a,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wg:case q5:o=!0;break;case a1:return o=e._init,Ri(o(e._payload),t,n,a,r)}}if(o)return r=r(e),o=a===""?"."+Dm(e,0):a,qy(r)?(n="",o!=null&&(n=o.replace(Uy,"$&/")+"/"),Ri(r,t,n,"",function(u){return u})):r!=null&&(Jg(r)&&(r=eM(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Uy,"$&/")+"/")+o)),t.push(r)),1;o=0;var l=a===""?".":a+":";if(qy(e))for(var c=0;c<e.length;c++)a=e[c],s=l+Dm(a,c),o+=Ri(a,t,n,s,r);else if(c=J5(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,s=l+Dm(a,c++),o+=Ri(a,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Ri(nM(e),t,n,a,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function iu(e,t,n){if(e==null)return e;var a=[],r=0;return Ri(e,a,"","",function(s){return t.call(n,s,r++)}),a}function aM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vy=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function rM(){}be.Children={map:iu,forEach:function(e,t,n){iu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return iu(e,function(){t++}),t},toArray:function(e){return iu(e,function(t){return t})||[]},only:function(e){if(!Jg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Do;be.Fragment=U5;be.Profiler=V5;be.PureComponent=Zg;be.StrictMode=Y5;be.Suspense=X5;be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;be.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ve.H.useMemoCache(e)}};be.cache=function(e){return function(){return e.apply(null,arguments)}};be.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=s1({},e.props),r=e.key,s=void 0;if(t!=null)for(o in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!l1.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(a[o]=t[o]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}return Kg(e.type,r,void 0,void 0,s,a)};be.createContext=function(e){return e={$$typeof:W5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:G5,_context:e},e};be.createElement=function(e,t,n){var a,r={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)l1.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(r[a]=t[a]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)r[a]===void 0&&(r[a]=o[a]);return Kg(e,s,void 0,void 0,null,r)};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:Z5,render:e}};be.isValidElement=Jg;be.lazy=function(e){return{$$typeof:a1,_payload:{_status:-1,_result:e},_init:aM}};be.memo=function(e,t){return{$$typeof:K5,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Ve.T,n={};Ve.T=n;try{var a=e(),r=Ve.S;r!==null&&r(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(rM,Vy)}catch(s){Vy(s)}finally{Ve.T=t}};be.unstable_useCacheRefresh=function(){return Ve.H.useCacheRefresh()};be.use=function(e){return Ve.H.use(e)};be.useActionState=function(e,t,n){return Ve.H.useActionState(e,t,n)};be.useCallback=function(e,t){return Ve.H.useCallback(e,t)};be.useContext=function(e){return Ve.H.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e,t){return Ve.H.useDeferredValue(e,t)};be.useEffect=function(e,t,n){var a=Ve.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)};be.useId=function(){return Ve.H.useId()};be.useImperativeHandle=function(e,t,n){return Ve.H.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return Ve.H.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Ve.H.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Ve.H.useMemo(e,t)};be.useOptimistic=function(e,t){return Ve.H.useOptimistic(e,t)};be.useReducer=function(e,t,n){return Ve.H.useReducer(e,t,n)};be.useRef=function(e){return Ve.H.useRef(e)};be.useState=function(e){return Ve.H.useState(e)};be.useSyncExternalStore=function(e,t,n){return Ve.H.useSyncExternalStore(e,t,n)};be.useTransition=function(){return Ve.H.useTransition()};be.version="19.1.0";n1.exports=be;var p=n1.exports;const z=Gg(p),c1=$5({__proto__:null,default:z},[p]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),Gy=e=>{const t=iM(e);return t.charAt(0).toUpperCase()+t.slice(1)},u1=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),oM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:s,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...lM,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:u1("lucide",r),...!s&&!oM(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(e,t)=>{const n=p.forwardRef(({className:a,...r},s)=>p.createElement(cM,{ref:s,iconNode:t,className:u1(`lucide-${sM(Gy(e))}`,`lucide-${e}`,a),...r}));return n.displayName=Gy(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gd=ce("arrow-left",uM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],d1=ce("book-open",dM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Wy=ce("brain",fM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],np=ce("check",mM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],In=ce("chevron-down",hM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gM=ce("chevron-left",pM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sc=ce("chevron-right",xM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vM=ce("chevron-up",yM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lo=ce("circle-alert",bM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ap=ce("circle-check-big",_M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wM=ce("circle-x",kM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wf=ce("circle",SM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],RM=ce("copy",EM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],jM=ce("crosshair",NM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],CM=ce("droplets",AM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ul=ce("external-link",MM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e0=ce("eye",TM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],LM=ce("file-text",DM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],f1=ce("flame",PM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],OM=ce("ghost",zM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ks=ce("grid-3x3",IM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],BM=ce("hammer",QM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Zy=ce("hand",$M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Sf=ce("heart",HM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qM=ce("house",FM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Yl=ce("info",UM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Js=ce("list",YM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],GM=ce("lock",VM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],m1=ce("maximize-2",WM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],XM=ce("menu",ZM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],JM=ce("message-square",KM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],h1=ce("minimize-2",eT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M5 12h14",key:"1ays0h"}]],Nl=ce("minus",tT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],aT=ce("monitor",nT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],sT=ce("moon",rT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yi=ce("plus",iT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],co=ce("rotate-ccw",oT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],cT=ce("scroll",lT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],dT=ce("search-x",uT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ef=ce("search",fT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t0=ce("settings",mT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ir=ce("shield",hT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],n0=ce("sparkles",pT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ft=ce("star",gT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xy=ce("sun",xT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],rp=ce("sword",yT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],bT=ce("tag",vT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],p1=ce("target",_T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],wT=ce("trash-2",kT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vl=ce("triangle-alert",ST);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RT=ce("user-check",ET);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jl=ce("user",NT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AT=ce("users",jT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],MT=ce("wrench",CT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yt=ce("x",TT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a0=ce("zap",DT);var r0={};Object.defineProperty(r0,"__esModule",{value:!0});r0.parse=BT;r0.serialize=$T;const LT=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,PT=/^[\u0021-\u003A\u003C-\u007E]*$/,zT=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,OT=/^[\u0020-\u003A\u003D-\u007E]*$/,IT=Object.prototype.toString,QT=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function BT(e,t){const n=new QT,a=e.length;if(a<2)return n;const r=(t==null?void 0:t.decode)||HT;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const l=e.indexOf(";",s),c=l===-1?a:l;if(o>c){s=e.lastIndexOf(";",o-1)+1;continue}const u=Ky(e,s,o),d=Jy(e,o,u),f=e.slice(u,d);if(n[f]===void 0){let m=Ky(e,o+1,c),h=Jy(e,c,m);const g=r(e.slice(m,h));n[f]=g}s=c+1}while(s<a);return n}function Ky(e,t,n){do{const a=e.charCodeAt(t);if(a!==32&&a!==9)return t}while(++t<n);return n}function Jy(e,t,n){for(;t>n;){const a=e.charCodeAt(--t);if(a!==32&&a!==9)return t+1}return n}function $T(e,t,n){const a=(n==null?void 0:n.encode)||encodeURIComponent;if(!LT.test(e))throw new TypeError(`argument name is invalid: ${e}`);const r=a(t);if(!PT.test(r))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+r;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!zT.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!OT.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!FT(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function HT(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function FT(e){return IT.call(e)==="[object Date]"}var ev="popstate";function qT(e={}){function t(r,s){let{pathname:o="/",search:l="",hash:c=""}=ei(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),sp("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=r.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:Gl(s))}function a(r,s){Qn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return YT(t,n,a,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UT(){return Math.random().toString(36).substring(2,10)}function tv(e,t){return{usr:e.state,key:e.key,idx:t}}function sp(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ei(t):t,state:n,key:t&&t.key||a||UT()}}function Gl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ei(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function YT(e,t,n,a={}){let{window:r=document.defaultView,v5Compat:s=!1}=a,o=r.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:x})}function m(b,x){l="PUSH";let v=sp(y.location,b,x);n&&n(v,b),u=d()+1;let _=tv(v,u),k=y.createHref(v);try{o.pushState(_,"",k)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(k)}s&&c&&c({action:l,location:y.location,delta:1})}function h(b,x){l="REPLACE";let v=sp(y.location,b,x);n&&n(v,b),u=d();let _=tv(v,u),k=y.createHref(v);o.replaceState(_,"",k),s&&c&&c({action:l,location:y.location,delta:0})}function g(b){return VT(b)}let y={get action(){return l},get location(){return e(r,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(ev,f),c=b,()=>{r.removeEventListener(ev,f),c=null}},createHref(b){return t(r,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(b){return o.go(b)}};return y}function VT(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Gl(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function g1(e,t,n="/"){return GT(e,t,n,!1)}function GT(e,t,n,a){let r=typeof t=="string"?ei(t):t,s=lr(r.pathname||"/",n);if(s==null)return null;let o=x1(e);WT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=i3(s);l=r3(o[c],u,a)}return l}function x1(e,t=[],n=[],a=""){let r=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Je(c.relativePath.startsWith(a),`Absolute route path "${c.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(a.length));let u=ar([a,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Je(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),x1(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:n3(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,o);else for(let c of y1(s.path))r(s,o,c)}),t}function y1(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return r?[s,""]:[s];let o=y1(a.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function WT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a3(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var ZT=/^:[\w-]+$/,XT=3,KT=2,JT=1,e3=10,t3=-2,nv=e=>e==="*";function n3(e,t){let n=e.split("/"),a=n.length;return n.some(nv)&&(a+=t3),t&&(a+=KT),n.filter(r=>!nv(r)).reduce((r,s)=>r+(ZT.test(s)?XT:s===""?JT:e3),a)}function a3(e,t){return e.length===t.length&&e.slice(0,-1).every((a,r)=>a===t[r])?e[e.length-1]-t[t.length-1]:0}function r3(e,t,n=!1){let{routesMeta:a}=e,r={},s="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],u=l===a.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=xd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!a[a.length-1].route.index&&(f=xd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:ar([s,f.pathname]),pathnameBase:u3(ar([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=ar([s,f.pathnameBase]))}return o}function xd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=s3(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:a.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let g=l[m]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const h=l[m];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function s3(e,t=!1,n=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function i3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function lr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function o3(e,t="/"){let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?ei(e):e;return{pathname:n?n.startsWith("/")?n:l3(n,t):t,search:d3(a),hash:f3(r)}}function l3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Lm(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v1(e){let t=c3(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function b1(e,t,n,a=!1){let r;typeof e=="string"?r=ei(e):(r={...e},Je(!r.pathname||!r.pathname.includes("?"),Lm("?","pathname","search",r)),Je(!r.pathname||!r.pathname.includes("#"),Lm("#","pathname","hash",r)),Je(!r.search||!r.search.includes("#"),Lm("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=o3(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ar=e=>e.join("/").replace(/\/\/+/g,"/"),u3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function m3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var _1=["POST","PUT","PATCH","DELETE"];new Set(_1);var h3=["GET",..._1];new Set(h3);var Lo=p.createContext(null);Lo.displayName="DataRouter";var Rf=p.createContext(null);Rf.displayName="DataRouterState";var k1=p.createContext({isTransitioning:!1});k1.displayName="ViewTransition";var p3=p.createContext(new Map);p3.displayName="Fetchers";var g3=p.createContext(null);g3.displayName="Await";var Ca=p.createContext(null);Ca.displayName="Navigation";var Ec=p.createContext(null);Ec.displayName="Location";var Ma=p.createContext({outlet:null,matches:[],isDataRoute:!1});Ma.displayName="Route";var s0=p.createContext(null);s0.displayName="RouteError";function x3(e,{relative:t}={}){Je(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=p.useContext(Ca),{hash:r,pathname:s,search:o}=Nc(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:ar([n,s])),a.createHref({pathname:l,search:o,hash:r})}function Rc(){return p.useContext(Ec)!=null}function yr(){return Je(Rc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(Ec).location}var w1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S1(e){p.useContext(Ca).static||p.useLayoutEffect(e)}function wt(){let{isDataRoute:e}=p.useContext(Ma);return e?T3():y3()}function y3(){Je(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Lo),{basename:t,navigator:n}=p.useContext(Ca),{matches:a}=p.useContext(Ma),{pathname:r}=yr(),s=JSON.stringify(v1(a)),o=p.useRef(!1);return S1(()=>{o.current=!0}),p.useCallback((c,u={})=>{if(Qn(o.current,w1),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=b1(c,JSON.parse(s),r,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ar([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,r,e])}var v3=p.createContext(null);function b3(e){let t=p.useContext(Ma).outlet;return t&&p.createElement(v3.Provider,{value:e},t)}function Nc(e,{relative:t}={}){let{matches:n}=p.useContext(Ma),{pathname:a}=yr(),r=JSON.stringify(v1(n));return p.useMemo(()=>b1(e,JSON.parse(r),a,t==="path"),[e,r,a,t])}function _3(e,t){return E1(e,t)}function E1(e,t,n,a){var x;Je(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=p.useContext(Ca),{matches:s}=p.useContext(Ma),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let v=d&&d.path||"";R1(c,!d||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=yr(),m;if(t){let v=typeof t=="string"?ei(t):t;Je(u==="/"||((x=v.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),m=v}else m=f;let h=m.pathname||"/",g=h;if(u!=="/"){let v=u.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=g1(e,{pathname:g});Qn(d||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Qn(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=R3(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ar([u,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:ar([u,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,a);return t&&b?p.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function k3(){let e=M3(),t=m3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=p.createElement(p.Fragment,null,p.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:s},"ErrorBoundary")," or"," ",p.createElement("code",{style:s},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:r},n):null,o)}var w3=p.createElement(k3,null),S3=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(Ma.Provider,{value:this.props.routeContext},p.createElement(s0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E3({routeContext:e,match:t,children:n}){let a=p.useContext(Lo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Ma.Provider,{value:e},n)}function R3(e,t=[],n=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n==null?void 0:n.errors;if(s!=null){let c=r.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Je(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,m=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){o=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let f,m=!1,h=null,g=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,h=u.route.errorElement||w3,o&&(l<0&&d===0?(R1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):l===d&&(m=!0,g=u.route.hydrateFallbackElement||null)));let y=t.concat(r.slice(0,d+1)),b=()=>{let x;return f?x=h:m?x=g:u.route.Component?x=p.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,p.createElement(E3,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?p.createElement(S3,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function i0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N3(e){let t=p.useContext(Lo);return Je(t,i0(e)),t}function j3(e){let t=p.useContext(Rf);return Je(t,i0(e)),t}function A3(e){let t=p.useContext(Ma);return Je(t,i0(e)),t}function o0(e){let t=A3(e),n=t.matches[t.matches.length-1];return Je(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function C3(){return o0("useRouteId")}function M3(){var a;let e=p.useContext(s0),t=j3("useRouteError"),n=o0("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function T3(){let{router:e}=N3("useNavigate"),t=o0("useNavigate"),n=p.useRef(!1);return S1(()=>{n.current=!0}),p.useCallback(async(r,s={})=>{Qn(n.current,w1),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var av={};function R1(e,t,n){!t&&!av[e]&&(av[e]=!0,Qn(!1,n))}p.memo(D3);function D3({routes:e,future:t,state:n}){return E1(e,void 0,n,t)}function L3(e){return b3(e.context)}function Et(e){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P3({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:r,static:s=!1}){Je(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=ei(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:m="default"}=n,h=p.useMemo(()=>{let g=lr(c,o);return g==null?null:{location:{pathname:g,search:u,hash:d,state:f,key:m},navigationType:a}},[o,c,u,d,f,m,a]);return Qn(h!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:p.createElement(Ca.Provider,{value:l},p.createElement(Ec.Provider,{children:t,value:h}))}function z3({children:e,location:t}){return _3(ip(e),t)}function ip(e,t=[]){let n=[];return p.Children.forEach(e,(a,r)=>{if(!p.isValidElement(a))return;let s=[...t,r];if(a.type===p.Fragment){n.push.apply(n,ip(a.props.children,s));return}Je(a.type===Et,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=ip(a.props.children,s)),n.push(o)}),n}var Gu="get",Wu="application/x-www-form-urlencoded";function Nf(e){return e!=null&&typeof e.tagName=="string"}function O3(e){return Nf(e)&&e.tagName.toLowerCase()==="button"}function I3(e){return Nf(e)&&e.tagName.toLowerCase()==="form"}function Q3(e){return Nf(e)&&e.tagName.toLowerCase()==="input"}function B3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $3(e,t){return e.button===0&&(!t||t==="_self")&&!B3(e)}function op(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function H3(e,t){let n=op(e);return t&&t.forEach((a,r)=>{n.has(r)||t.getAll(r).forEach(s=>{n.append(r,s)})}),n}var ou=null;function F3(){if(ou===null)try{new FormData(document.createElement("form"),0),ou=!1}catch{ou=!0}return ou}var q3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(e){return e!=null&&!q3.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):e}function U3(e,t){let n,a,r,s,o;if(I3(e)){let l=e.getAttribute("action");a=l?lr(l,t):null,n=e.getAttribute("method")||Gu,r=Pm(e.getAttribute("enctype"))||Wu,s=new FormData(e)}else if(O3(e)||Q3(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(a=c?lr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Gu,r=Pm(e.getAttribute("formenctype"))||Pm(l.getAttribute("enctype"))||Wu,s=new FormData(l,e),!F3()){let{name:u,type:d,value:f}=e;if(d==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,f)}}else{if(Nf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gu,a=null,r=Wu,o=e}return s&&r==="text/plain"&&(o=s,s=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:s,body:o}}function l0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Y3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function G3(e,t,n){let a=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await Y3(s,n);return o.links?o.links():[]}return[]}));return K3(a.flat(1).filter(V3).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function rv(e,t,n,a,r,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=a.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function W3(e,t,{includeHydrateFallback:n}={}){return Z3(e.map(a=>{let r=t.routes[a.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Z3(e){return[...new Set(e)]}function X3(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function K3(e,t){let n=new Set;return new Set(t),e.reduce((a,r)=>{let s=JSON.stringify(X3(r));return n.has(s)||(n.add(s),a.push({key:s,link:r})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J3=new Set([100,101,204,205]);function e4(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&lr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function N1(){let e=p.useContext(Lo);return l0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function t4(){let e=p.useContext(Rf);return l0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var c0=p.createContext(void 0);c0.displayName="FrameworkContext";function j1(){let e=p.useContext(c0);return l0(e,"You must render this element inside a <HydratedRouter> element"),e}function n4(e,t){let n=p.useContext(c0),[a,r]=p.useState(!1),[s,o]=p.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,m=p.useRef(null);p.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=x=>{x.forEach(v=>{o(v.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[e]),p.useEffect(()=>{if(a){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[a]);let h=()=>{r(!0)},g=()=>{r(!1),o(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:tl(l,h),onBlur:tl(c,g),onMouseEnter:tl(u,h),onMouseLeave:tl(d,g),onTouchStart:tl(f,h)}]:[!1,m,{}]}function tl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function a4({page:e,...t}){let{router:n}=N1(),a=p.useMemo(()=>g1(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?p.createElement(s4,{page:e,matches:a,...t}):null}function r4(e){let{manifest:t,routeModules:n}=j1(),[a,r]=p.useState([]);return p.useEffect(()=>{let s=!1;return G3(e,t,n).then(o=>{s||r(o)}),()=>{s=!0}},[e,t,n]),a}function s4({page:e,matches:t,...n}){let a=yr(),{manifest:r,routeModules:s}=j1(),{basename:o}=N1(),{loaderData:l,matches:c}=t4(),u=p.useMemo(()=>rv(e,t,c,r,a,"data"),[e,t,c,r,a]),d=p.useMemo(()=>rv(e,t,c,r,a,"assets"),[e,t,c,r,a]),f=p.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let g=new Set,y=!1;if(t.forEach(x=>{var _;let v=r.routes[x.route.id];!v||!v.hasLoader||(!u.some(k=>k.route.id===x.route.id)&&x.route.id in l&&((_=s[x.route.id])!=null&&_.shouldRevalidate)||v.hasClientLoader?y=!0:g.add(x.route.id))}),g.size===0)return[];let b=e4(e,o);return y&&g.size>0&&b.searchParams.set("_routes",t.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[b.pathname+b.search]},[o,l,a,r,u,t,e,s]),m=p.useMemo(()=>W3(d,r),[d,r]),h=r4(d);return p.createElement(p.Fragment,null,f.map(g=>p.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),m.map(g=>p.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),h.map(({key:g,link:y})=>p.createElement("link",{key:g,...y})))}function i4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var A1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A1&&(window.__reactRouterVersion="7.6.3")}catch{}function o4({basename:e,children:t,window:n}){let a=p.useRef();a.current==null&&(a.current=qT({window:n,v5Compat:!0}));let r=a.current,[s,o]=p.useState({action:r.action,location:r.location}),l=p.useCallback(c=>{p.startTransition(()=>o(c))},[o]);return p.useLayoutEffect(()=>r.listen(l),[r,l]),p.createElement(P3,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:r})}var C1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M1=p.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:r,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},h){let{basename:g}=p.useContext(Ca),y=typeof u=="string"&&C1.test(u),b,x=!1;if(typeof u=="string"&&y&&(b=u,A1))try{let N=new URL(window.location.href),j=u.startsWith("//")?new URL(N.protocol+u):new URL(u),O=lr(j.pathname,g);j.origin===N.origin&&O!=null?u=O+j.search+j.hash:x=!0}catch{Qn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=x3(u,{relative:r}),[_,k,w]=n4(a,m),S=d4(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:f});function E(N){t&&t(N),N.defaultPrevented||S(N)}let R=p.createElement("a",{...m,...w,href:b||v,onClick:x||s?t:E,ref:i4(h,k),target:c,"data-discover":!y&&n==="render"?"true":void 0});return _&&!y?p.createElement(p.Fragment,null,R,p.createElement(a4,{page:v})):R});M1.displayName="Link";var l4=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:r=!1,style:s,to:o,viewTransition:l,children:c,...u},d){let f=Nc(o,{relative:u.relative}),m=yr(),h=p.useContext(Rf),{navigator:g,basename:y}=p.useContext(Ca),b=h!=null&&x4(f)&&l===!0,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,v=m.pathname,_=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(v=v.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&y&&(_=lr(_,y)||_);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let w=v===x||!r&&v.startsWith(x)&&v.charAt(k)==="/",S=_!=null&&(_===x||!r&&_.startsWith(x)&&_.charAt(x.length)==="/"),E={isActive:w,isPending:S,isTransitioning:b},R=w?t:void 0,N;typeof a=="function"?N=a(E):N=[a,w?"active":null,S?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let j=typeof s=="function"?s(E):s;return p.createElement(M1,{...u,"aria-current":R,className:N,ref:d,style:j,to:o,viewTransition:l},typeof c=="function"?c(E):c)});l4.displayName="NavLink";var c4=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:r,state:s,method:o=Gu,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},h)=>{let g=p4(),y=g4(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&C1.test(l),v=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let k=_.nativeEvent.submitter,w=(k==null?void 0:k.getAttribute("formmethod"))||o;g(k||_.currentTarget,{fetcherKey:t,method:w,navigate:n,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return p.createElement("form",{ref:h,method:b,action:y,onSubmit:a?c:v,...m,"data-discover":!x&&e==="render"?"true":void 0})});c4.displayName="Form";function u4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T1(e){let t=p.useContext(Lo);return Je(t,u4(e)),t}function d4(e,{target:t,replace:n,state:a,preventScrollReset:r,relative:s,viewTransition:o}={}){let l=wt(),c=yr(),u=Nc(e,{relative:s});return p.useCallback(d=>{if($3(d,t)){d.preventDefault();let f=n!==void 0?n:Gl(c)===Gl(u);l(e,{replace:f,state:a,preventScrollReset:r,relative:s,viewTransition:o})}},[c,l,u,n,a,t,e,r,s,o])}function f4(e){Qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(op(e)),n=p.useRef(!1),a=yr(),r=p.useMemo(()=>H3(a.search,n.current?null:t.current),[a.search]),s=wt(),o=p.useCallback((l,c)=>{const u=op(typeof l=="function"?l(r):l);n.current=!0,s("?"+u,c)},[s,r]);return[r,o]}var m4=0,h4=()=>`__${String(++m4)}__`;function p4(){let{router:e}=T1("useSubmit"),{basename:t}=p.useContext(Ca),n=C3();return p.useCallback(async(a,r={})=>{let{action:s,method:o,encType:l,formData:c,body:u}=U3(a,t);if(r.navigate===!1){let d=r.fetcherKey||h4();await e.fetch(d,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function g4(e,{relative:t}={}){let{basename:n}=p.useContext(Ca),a=p.useContext(Ma);Je(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),s={...Nc(e||".",{relative:t})},o=yr();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ar([n,s.pathname])),Gl(s)}function x4(e,t={}){let n=p.useContext(k1);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=T1("useViewTransitionState"),r=Nc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=lr(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=lr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return xd(r.pathname,o)!=null||xd(r.pathname,s)!=null}[...J3];var D1={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y4=p;function L1(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Nr(){}var qt={d:{f:Nr,r:function(){throw Error(L1(522))},D:Nr,C:Nr,L:Nr,m:Nr,X:Nr,S:Nr,M:Nr},p:0,findDOMNode:null},v4=Symbol.for("react.portal");function b4(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v4,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Al=y4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function jf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qt;Vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(L1(299));return b4(e,t,null,n)};Vt.flushSync=function(e){var t=Al.T,n=qt.p;try{if(Al.T=null,qt.p=2,e)return e()}finally{Al.T=t,qt.p=n,qt.d.f()}};Vt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,qt.d.C(e,t))};Vt.prefetchDNS=function(e){typeof e=="string"&&qt.d.D(e)};Vt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=jf(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?qt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:s}):n==="script"&&qt.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Vt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=jf(t.as,t.crossOrigin);qt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&qt.d.M(e)};Vt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=jf(n,t.crossOrigin);qt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Vt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=jf(t.as,t.crossOrigin);qt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else qt.d.m(e)};Vt.requestFormReset=function(e){qt.d.r(e)};Vt.unstable_batchedUpdates=function(e,t){return e(t)};Vt.useFormState=function(e,t,n){return Al.H.useFormState(e,t,n)};Vt.useFormStatus=function(){return Al.H.useHostTransitionStatus()};Vt.version="19.1.0";function P1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P1)}catch(e){console.error(e)}}P1(),D1.exports=Vt;var Af=D1.exports;const _4=Gg(Af),sv={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},skillLevels:{},equipment:[],userProgress:{unlocks:[]},destinyPath:[],attributeAssignments:{health:0,stamina:0,magicka:0,level:1,assignments:{}}},iv=e=>{let t;const n=new Set,a=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,m))}},r=()=>t,l={setState:a,getState:r,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(a,r,l);return l},k4=e=>e?iv(e):iv,w4=e=>e;function S4(e,t=w4){const n=z.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return z.useDebugValue(n),n}const ov=e=>{const t=k4(e),n=a=>S4(t,a);return Object.assign(n,t),n},vr=e=>e?ov(e):ov,Qr=vr((e,t)=>({build:sv,updateBuild:n=>e(a=>({build:{...a.build,...n}})),setBuild:n=>e({build:n}),resetBuild:()=>e({build:sv}),setAttributeAssignment:(n,a)=>{e(r=>{const s={...r.build.attributeAssignments.assignments},o={...r.build.attributeAssignments},l=s[n];return l&&(o[l]=Math.max(0,o[l]-1)),s[n]=a,o[a]+=1,{build:{...r.build,attributeAssignments:{...r.build.attributeAssignments,...o,assignments:s}}}})},clearAttributeAssignment:n=>{e(a=>{const r={...a.build.attributeAssignments.assignments},s={...a.build.attributeAssignments},o=r[n];return o&&(s[o]=Math.max(0,s[o]-1),delete r[n]),{build:{...a.build,attributeAssignments:{...a.build.attributeAssignments,...s,assignments:r}}}})},clearAllAttributeAssignments:()=>{e(n=>({build:{...n.build,attributeAssignments:{health:0,stamina:0,magicka:0,level:n.build.attributeAssignments.level,assignments:{}}}}))},updateAttributeLevel:n=>{e(a=>({build:{...a.build,attributeAssignments:{...a.build.attributeAssignments,level:Math.max(1,n)}}}))}})),E4=[{treeId:"AVSmithing",treeName:"Smithing",treeDescription:"The art of creating and improving weapons and armor from raw materials.",category:"Combat",perks:[{edid:"REQ_Smithing_Craftsmanship",name:"Craftsmanship",ranks:[{rank:1,edid:"REQ_Smithing_Craftsmanship",name:"Craftsmanship",description:{base:"You've read The Armorer's Encyclopedia and know how to properly use all kinds of tools.",subtext:"You now also understand the secondary material properties of Iron and Steel weapons."},prerequisites:{items:[{type:"INGR",id:"0x8C35B997"}]}}],totalRanks:1,connections:{parents:[],children:["REQ_Smithing_DwarvenSmithing","REQ_Smithing_AdvancedBlacksmithing","REQ_Smithing_AdvancedLightArmors"]},isRoot:!1,position:{x:4,y:2,horizontal:-.08571399748325348,vertical:-.08571399748325348}},{edid:"REQ_Smithing_DwarvenSmithing",name:"Dwarven Smithing",ranks:[{rank:1,edid:"REQ_Smithing_DwarvenSmithing",name:"Dwarven Smithing",description:{base:"You've read The Art of Dwarven Blacksmithing and",subtext:"acquired the secret knowledge of how to create and improve Dwarven equipment efficiently."},prerequisites:{skillLevel:{skill:"Smithing",level:25},items:[{type:"INGR",id:"0x8C05CBC7"}]}}],totalRanks:1,connections:{parents:["REQ_Smithing_Craftsmanship"],children:["REQ_Smithing_OrcishSmithing","REQ_Smithing_ElvenSmithing"]},isRoot:!1,position:{x:2,y:2,horizontal:-.07142899930477142,vertical:-.05714299902319908}},{edid:"REQ_Smithing_OrcishSmithing",name:"Orcish Smithing",ranks:[{rank:1,edid:"REQ_Smithing_OrcishSmithing",name:"Orcish Smithing",description:{base:"Orcish equipment is  hard to craft, but you've got what it takes.",subtext:"By studying The Almanac of Orcish Blacksmithing, you can craft and improve it easily and most efficiently."},prerequisites:{skillLevel:{skill:"Smithing",level:50},items:[{type:"INGR",id:"0x8C05CBCA"}]}}],totalRanks:1,connections:{parents:["REQ_Smithing_DwarvenSmithing","REQ_Smithing_AdvancedLightArmors"],children:["REQ_Smithing_EbonySmithing","REQ_Smithing_GlassSmithing"]},isRoot:!1,position:{x:2,y:3,horizontal:-.04285699874162674,vertical:-.07142899930477142}},{edid:"REQ_Smithing_EbonySmithing",name:"Ebony Smithing",ranks:[{rank:1,edid:"REQ_Smithing_EbonySmithing",name:"Ebony Smithing",description:{base:"Ebony weapons and armor - some even fail at heating the metal. But not you.",subtext:`Now that you've studied "Harder than Steel - How to work with Ebony", you can craft and improve ebony equipment with ease.`},prerequisites:{skillLevel:{skill:"Smithing",level:75},items:[{type:"INGR",id:"0x8C05CBE0"}]}}],totalRanks:1,connections:{parents:["REQ_Smithing_OrcishSmithing","REQ_Smithing_ElvenSmithing"],children:["REQ_Smithing_DaedricSmithing","REQ_Smithing_DraconicBlacksmithing","Trad_Smithing_ShiveringIlsesSmithing"]},isRoot:!1,position:{x:0,y:4,horizontal:.14285700023174286,vertical:-.30000001192092896}},{edid:"REQ_Smithing_DaedricSmithing",name:"Daedric Smithing",ranks:[{rank:1,edid:"REQ_Smithing_DaedricSmithing",name:"Daedric Smithing",description:{base:"The creation of daedric weapons and armor is a secret few mortals know - still,",subtext:"you managed to acquire this knowledge by reading Daedric Craftsmanship..."},prerequisites:{skillLevel:{skill:"Smithing",level:100},items:[{type:"INGR",id:"0x8C05CBDE"}]}}],totalRanks:1,connections:{parents:["REQ_Smithing_GlassSmithing","REQ_Smithing_EbonySmithing"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:-.08571399748325348,vertical:.4000000059604645}},{edid:"REQ_Smithing_DraconicBlacksmithing",name:"Draconic Blacksmithing",ranks:[{rank:1,edid:"REQ_Smithing_DraconicBlacksmithing",name:"Draconic Blacksmithing",description:{base:"The scales and bones of dragons are probably the hardest material to work with,",subtext:"but you've mastered even this art since you studied The Compendium of Dragonic Armor."},prerequisites:{skillLevel:{skill:"Smithing",level:100},items:[{type:"INGR",id:"0x8C05CBDA"}]}}],totalRanks:1,connections:{parents:["REQ_Smithing_GlassSmithing","REQ_Smithing_EbonySmithing"],children:[]},isRoot:!1,position:{x:4,y:4,horizontal:-.07142899930477142,vertical:-.24285699427127838}},{edid:"REQ_Smithing_AdvancedBlacksmithing",name:"Advanced Blacksmithing",ranks:[{rank:1,edid:"REQ_Smithing_AdvancedBlacksmithing",name:"Advanced Blacksmithing",description:{base:"You've gained quite some finesse, allowing you to craft plate armor and fine jewelry.",subtext:"You have also found a way to melt and crush certain gems into alchemically usable dust."},prerequisites:{skillLevel:{skill:"Smithing",level:50}}}],totalRanks:1,connections:{parents:["REQ_Smithing_Craftsmanship","REQ_Smithing_Tailoring"],children:["REQ_Smithing_LegendaryBlacksmithing","REQ_Smithing_ArcaneCraftsmanship","ORD_Smh60_SmithingSpecialization_Perk_60_OrdASISExclude"]},isRoot:!1,position:{x:4,y:1,horizontal:-.08571399748325348,vertical:-.05714299902319908}},{edid:"REQ_Smithing_LegendaryBlacksmithing",name:"Legendary Blacksmithing",ranks:[{rank:1,edid:"REQ_Smithing_LegendaryBlacksmithing",name:"Legendary Blacksmithing",description:{base:"You make steel sing songs on the anvil. Your hammer is no longer a mere tool, but a loom that weaves the fabric of myths.",subtext:"You can even improve the divine artifacts of Aedra and Daedra."},prerequisites:{skillLevel:{skill:"Smithing",level:100}}}],totalRanks:1,connections:{parents:["REQ_Smithing_AdvancedBlacksmithing"],children:[]},isRoot:!1,position:{x:3,y:1,horizontal:-.10000000149011612,vertical:-.05714299902319908}},{edid:"REQ_Smithing_ArcaneCraftsmanship",name:"Arcane Craftsmanship",ranks:[{rank:1,edid:"REQ_Smithing_ArcaneCraftsmanship",name:"Arcane Craftsmanship",description:{base:"After studying Arcane Craftsmanship, you've learned the",subtext:"necessary techniques to craft bolts and arrows that will explode with elemental fury upon impact."},prerequisites:{skillLevel:{skill:"Smithing",level:60},items:[{type:"INGR",id:"0x8CAD3748"}]}}],totalRanks:1,connections:{parents:["REQ_Smithing_AdvancedBlacksmithing"],children:[]},isRoot:!1,position:{x:5,y:1,horizontal:-.07142899930477142,vertical:-.05714299902319908}},{edid:"REQ_Smithing_AdvancedLightArmors",name:"Advanced Light Armors",ranks:[{rank:1,edid:"REQ_Smithing_AdvancedLightArmors",name:"Advanced Light Armors",description:{base:"You've been read An Introduction to Scale Armors,",subtext:"allowing you to craft and efficiently improve scale armor."},prerequisites:{skillLevel:{skill:"Smithing",level:25},items:[{type:"INGR",id:"0x8C05CBD4"}]}}],totalRanks:1,connections:{parents:["REQ_Smithing_Craftsmanship"],children:["REQ_Smithing_OrcishSmithing","REQ_Smithing_ElvenSmithing"]},isRoot:!1,position:{x:6,y:2,horizontal:-.05714299902319908,vertical:-.05714299902319908}},{edid:"REQ_Smithing_ElvenSmithing",name:"Elven Smithing",ranks:[{rank:1,edid:"REQ_Smithing_ElvenSmithing",name:"Elven Smithing",description:{base:"You've gained enough finesse to create and improve Elven armor and weapons",subtext:'by studying the book "About Elven Craftsmanship"'},prerequisites:{skillLevel:{skill:"Smithing",level:50},items:[{type:"INGR",id:"0x8C05CBD7"}]}}],totalRanks:1,connections:{parents:["REQ_Smithing_DwarvenSmithing","REQ_Smithing_AdvancedLightArmors"],children:["REQ_Smithing_EbonySmithing","REQ_Smithing_GlassSmithing"]},isRoot:!1,position:{x:6,y:3,horizontal:-.05714299902319908,vertical:-.08571399748325348}},{edid:"REQ_Smithing_GlassSmithing",name:"Glass Smithing",ranks:[{rank:1,edid:"REQ_Smithing_GlassSmithing",name:"Glass Smithing",description:{base:"Crafting and improving Glass equipment is not for the unskilled,",subtext:"but having studied An Introduction to Malachite, you aren't one of them any more."},prerequisites:{skillLevel:{skill:"Smithing",level:75},items:[{type:"INGR",id:"0x8C05CBDC"}]}}],totalRanks:1,connections:{parents:["REQ_Smithing_OrcishSmithing","REQ_Smithing_ElvenSmithing"],children:["REQ_Smithing_DaedricSmithing","REQ_Smithing_DraconicBlacksmithing","Trad_Smithing_ShiveringIlsesSmithing"]},isRoot:!1,position:{x:8,y:4,horizontal:-.24285699427127838,vertical:-.2857140004634857}},{edid:"Trad_Smithing_ShiveringIlsesSmithing",name:"Shivering Isles Smithing",ranks:[{rank:1,edid:"Trad_Smithing_ShiveringIlsesSmithing",name:"Shivering Isles Smithing",description:{base:"On your travels you have discovered the secrets to unleash the power of the",subtext:"mystical amber and madness ore of the Shivering Isles. Few could hope to achieve such a feat without losing their mind..."},prerequisites:{skillLevel:{skill:"Smithing",level:100}}}],totalRanks:1,connections:{parents:["Trad_Smithing_ShiveringIlsesSmithing","REQ_Smithing_EbonySmithing","REQ_Smithing_GlassSmithing"],children:["Trad_Smithing_ShiveringIlsesSmithing"]},isRoot:!1,position:{x:4,y:3,horizontal:-.05714299902319908,vertical:-.08571399748325348}},{edid:"REQ_Smithing_Tailoring",name:"Tailoring & Polishing",ranks:[{rank:1,edid:"REQ_Smithing_Tailoring",name:"Tailoring & Polishing",description:{base:"You've spent some time learning to tailor and polish gems, you are able to craft a variety of clothing items.",subtext:"Also, each article of worn clothing provides additional warmth and you can polish rough gems."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Smithing_AdvancedBlacksmithing"]},isRoot:!0,position:{x:5,y:1,horizontal:-.4000000059604645,vertical:.4714289903640747}},{edid:"ORD_Smh60_SmithingSpecialization_Perk_60_OrdASISExclude",name:"Smithing Specialization",ranks:[{rank:1,edid:"ORD_Smh60_SmithingSpecialization_Perk_60_OrdASISExclude",name:"Smithing Specialization",description:{base:"You may choose an item type: One-Handed, Two-Handed, Light Armor, Heavy Armor or Archery. Items of the chosen type can be improved 10% better at a grindstone or workbench.",subtext:""},prerequisites:{skillLevel:{skill:"Smithing",level:60}}}],totalRanks:1,connections:{parents:["REQ_Smithing_AdvancedBlacksmithing"],children:["ORD_Smh80_IronLore_Perk_80_OrdASISExclude"]},isRoot:!1,position:{x:3,y:1,horizontal:.30000001192092896,vertical:.4714289903640747}},{edid:"ORD_Smh80_IronLore_Perk_80_OrdASISExclude",name:"Iron Lore",ranks:[{rank:1,edid:"ORD_Smh80_IronLore_Perk_80_OrdASISExclude",name:"Iron Lore",description:{base:"If you Specialized in an armor type, your attacks ignore 15% of the armor rating of enemies wearing items of the chosen type. If you Specialized in a weapon type, you take 10% less damage from weapons of the chosen type.",subtext:""},prerequisites:{skillLevel:{skill:"Smithing",level:80}}}],totalRanks:1,connections:{parents:["ORD_Smh60_SmithingSpecialization_Perk_60_OrdASISExclude"],children:[]},isRoot:!1,position:{x:3,y:1,horizontal:-.5,vertical:.4714289903640747}}]},{treeId:"AVDestruction",treeName:"Destruction",treeDescription:"The School of Destruction involves harnessing of fire, frost, shock and other forces that undo creation.",category:"Magic",perks:[{edid:"REQ_Destruction_Mastery_000_NoviceDestruction",name:"Novice Destruction",ranks:[{rank:1,edid:"REQ_Destruction_Mastery_000_NoviceDestruction",name:"Novice Destruction",description:{base:"You've taught yourself a few Novice level spells and learned how to cast them with decreased effort",subtext:"while your newfound knowledge also allows you to augment all Destruction spells."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Destruction_Mastery_025_ApprenticeDestruction","REQ_Destruction_Pyromancy_025_Pyromancy1","REQ_Destruction_Cryomancy_025_Cyromancy1","REQ_Destruction_Electromancy_025_Electromancy1","REQ_Destruction_Empower_025_EmpoweredDestruction","REQ_Destruction_Arcane_025_ArcaneFocus1","REQ_Destruction_Entropic_025_EntropicFocus1","REQ_Destruction_BloodMagic_025_BloodMagic1"]},isRoot:!0,position:{x:3,y:0,horizontal:-.21333299577236176,vertical:0}},{edid:"REQ_Destruction_Mastery_025_ApprenticeDestruction",name:"Apprentice Destruction",ranks:[{rank:1,edid:"REQ_Destruction_Mastery_025_ApprenticeDestruction",name:"Apprentice Destruction",description:{base:"By pursuing your apprenticeship in Destruction, you've gained knowledge of Apprentice level spells",subtext:"which you now augment while casting them with less effort."},prerequisites:{skillLevel:{skill:"Destruction",level:25}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_000_NoviceDestruction"],children:["REQ_Destruction_Mastery_050_AdeptDestruction","REQ_Destruction_RuneMastery","REQ_Destruction_Battlemage_050_DestructiveBlow","REQ_Destruction_Battlemage_075_ImprovedCloaks"]},isRoot:!1,position:{x:2,y:1,horizontal:-.3400000035762787,vertical:-.10000000149011612}},{edid:"REQ_Destruction_Mastery_050_AdeptDestruction",name:"Adept Destruction",ranks:[{rank:1,edid:"REQ_Destruction_Mastery_050_AdeptDestruction",name:"Adept Destruction",description:{base:"By advancing further into the school of Destruction, you've gained some Adept level spells",subtext:"and learned how to augment and cast spells of this rank more easily."},prerequisites:{skillLevel:{skill:"Destruction",level:50}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_025_ApprenticeDestruction"],children:["REQ_Destruction_Mastery_075_ExpertDestruction"]},isRoot:!1,position:{x:2,y:2,horizontal:-.3400000035762787,vertical:.10000000149011612}},{edid:"REQ_Destruction_Mastery_075_ExpertDestruction",name:"Expert Destruction",ranks:[{rank:1,edid:"REQ_Destruction_Mastery_075_ExpertDestruction",name:"Expert Destruction",description:{base:"You've unlocked almost every secret in the school of Destruction and you've acquired some Expert level spells.",subtext:"You can now cast spells of this level easier and augment them to an almost otherworldly extent."},prerequisites:{skillLevel:{skill:"Destruction",level:75}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_050_AdeptDestruction"],children:["REQ_Destruction_Mastery_100_MasterDestruction"]},isRoot:!1,position:{x:1,y:3,horizontal:.05333299934864044,vertical:0}},{edid:"REQ_Destruction_Mastery_100_MasterDestruction",name:"Master Destruction",ranks:[{rank:1,edid:"REQ_Destruction_Mastery_100_MasterDestruction",name:"Master Destruction",description:{base:"Your knowledge of Destruction has become all-encompassing. You taught yourself a Master level spell",subtext:"and you can cast the most complex spells from this school with less effort while augmenting them beyond mortal limits."},prerequisites:{skillLevel:{skill:"Destruction",level:100}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_075_ExpertDestruction"],children:[]},isRoot:!1,position:{x:1,y:3,horizontal:-.15333299338817596,vertical:1.6200000047683716}},{edid:"REQ_Destruction_RuneMastery",name:"Elemental Mastery",ranks:[{rank:1,edid:"REQ_Destruction_RuneMastery",name:"Elemental Mastery",description:{base:"Unlock the power of elemental seals. Cast Fire, Frost, and Lightning Seals at your feet,",subtext:"each creating a deadly trap that triggers when enemies approach. All three seals can be active simultaneously."},prerequisites:{skillLevel:{skill:"Destruction",level:50}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_025_ApprenticeDestruction"],children:[]},isRoot:!1,position:{x:0,y:2,horizontal:.5,vertical:0}},{edid:"REQ_Destruction_Pyromancy_025_Pyromancy1",name:"Pyromancy",ranks:[{rank:1,edid:"REQ_Destruction_Pyromancy_025_Pyromancy1",name:"Pyromancy",description:{base:"You now are able to intensify the heat of your fire spells. Thus, they now deal increased damage.",subtext:"[1.1x magnitude, 0.9x cost for fire spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:25}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_000_NoviceDestruction"],children:["REQ_Destruction_Pyromancy_075_Cremation"]},isRoot:!1,position:{x:4,y:1,horizontal:-1,vertical:.5}},{edid:"REQ_Destruction_Pyromancy_075_Cremation",name:"Cremation",ranks:[{rank:1,edid:"REQ_Destruction_Pyromancy_075_Cremation",name:"Cremation",description:{base:"Enemies are set on fire for extended duration, taking extra damage over time.",subtext:"[extra damage over time for fire spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:75}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Pyromancy_025_Pyromancy1"],children:["REQ_Destruction_Pyromancy_100_FireMastery"]},isRoot:!1,position:{x:5,y:2,horizontal:-1.5,vertical:.5}},{edid:"REQ_Destruction_Pyromancy_100_FireMastery",name:"Fire Mastery",ranks:[{rank:1,edid:"REQ_Destruction_Pyromancy_100_FireMastery",name:"Fire Mastery",description:{base:"Your mastery of fire element grants you resistance to fire and increased efficiency of fire spells.",subtext:"[+25% fire resistance, 1.05x magnitude, 0.9x cost for fire spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:100}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Pyromancy_075_Cremation"],children:[]},isRoot:!1,position:{x:5,y:3,horizontal:-1.25,vertical:1}},{edid:"REQ_Destruction_Cryomancy_025_Cyromancy1",name:"Cryomancy",ranks:[{rank:1,edid:"REQ_Destruction_Cryomancy_025_Cyromancy1",name:"Cryomancy",description:{base:"You now are able to improve your ice spells and thereby increase their effectiveness.",subtext:"[1.1x magnitude, 0.9x cost for frost spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:25}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_000_NoviceDestruction"],children:["REQ_Destruction_Cryomancy_075_DeepFreeze"]},isRoot:!1,position:{x:3,y:1,horizontal:-.5,vertical:.5}},{edid:"REQ_Destruction_Cryomancy_075_DeepFreeze",name:"Deep Freeze",ranks:[{rank:1,edid:"REQ_Destruction_Cryomancy_075_DeepFreeze",name:"Deep Freeze",description:{base:"Your frost spells render targets more susceptible to frost, and freezes enemies with low resistance to frost or magic.",subtext:"[freeze effect for frost spells, frost spells temporarily reduce target's frost resistance by 10% if not immune]"},prerequisites:{skillLevel:{skill:"Destruction",level:75}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Cryomancy_025_Cyromancy1"],children:["REQ_Destruction_Cryomancy_100_FrostMastery"]},isRoot:!1,position:{x:4,y:2,horizontal:-1,vertical:1}},{edid:"REQ_Destruction_Cryomancy_100_FrostMastery",name:"Frost Mastery",ranks:[{rank:1,edid:"REQ_Destruction_Cryomancy_100_FrostMastery",name:"Frost Mastery",description:{base:"Your mastery of frost element grants you resistance to frost and increased efficiency of frost spells.",subtext:"[+25% frost resistance, 1.05x magnitude, 0.9x cost for frost spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:100}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Cryomancy_075_DeepFreeze"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:-1.5,vertical:1.5}},{edid:"REQ_Destruction_Electromancy_025_Electromancy1",name:"Electromancy",ranks:[{rank:1,edid:"REQ_Destruction_Electromancy_025_Electromancy1",name:"Electromancy",description:{base:"You can now energize your lightning spells more effectively, causing them to deal more damage.",subtext:"[1.1x magnitude, 0.9x cost for shock spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:25}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_000_NoviceDestruction"],children:["REQ_Destruction_Electromancy_075_ElectrostaticDischarge"]},isRoot:!1,position:{x:3,y:1,horizontal:-1,vertical:.5}},{edid:"REQ_Destruction_Electromancy_075_ElectrostaticDischarge",name:"Electrostatic Discharge",ranks:[{rank:1,edid:"REQ_Destruction_Electromancy_075_ElectrostaticDischarge",name:"Electrostatic Discharge",description:{base:"Lightning spells deplete targets' magicka and staggers enemies with low resistance to shock or magic.",subtext:"[Magicka damage and stagger for shock spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:75}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Electromancy_025_Electromancy1"],children:["REQ_Destruction_Electromancy_100_LightningMastery"]},isRoot:!1,position:{x:3,y:2,horizontal:-1,vertical:1}},{edid:"REQ_Destruction_Electromancy_100_LightningMastery",name:"Lightning Mastery",ranks:[{rank:1,edid:"REQ_Destruction_Electromancy_100_LightningMastery",name:"Lightning Mastery",description:{base:"Your mastery of lightning element grants you resistance to shock and increased efficiency of lightning spells.",subtext:"[+25% shock resistance, 1.05x magnitude, 0.9x cost for shock spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:100}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Electromancy_075_ElectrostaticDischarge"],children:[]},isRoot:!1,position:{x:2,y:3,horizontal:-.5,vertical:1.5}},{edid:"REQ_Destruction_Empower_025_EmpoweredDestruction",name:"Empowered Destruction",ranks:[{rank:1,edid:"REQ_Destruction_Empower_025_EmpoweredDestruction",name:"Empowered Destruction",description:{base:"Dual casting a Destruction spell overcharges the effects into an even more powerful version.",subtext:""},prerequisites:{skillLevel:{skill:"Destruction",level:25}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_000_NoviceDestruction"],children:["REQ_Destruction_Empower_050_Impact"]},isRoot:!1,position:{x:1,y:0,horizontal:.16666699945926666,vertical:.2800000011920929}},{edid:"REQ_Destruction_Empower_050_Impact",name:"Impact",ranks:[{rank:1,edid:"REQ_Destruction_Empower_050_Impact",name:"Impact",description:{base:"By intensifying the force of most of your overcharged Destruction spells, you're now capable of staggering your foes.",subtext:"[25% chance to stagger when dual-casted]"},prerequisites:{skillLevel:{skill:"Destruction",level:50}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Empower_025_EmpoweredDestruction"],children:[]},isRoot:!1,position:{x:1,y:1,horizontal:-.3666670024394989,vertical:-.10000000149011612}},{edid:"REQ_Destruction_Arcane_025_ArcaneFocus1",name:"Arcane Focus",ranks:[{rank:1,edid:"REQ_Destruction_Arcane_025_ArcaneFocus1",name:"Arcane Focus",description:{base:"You now are able to improve your Arcane spells and thereby increase their effectiveness.",subtext:"[1.1x magnitude, 0.9x cost for arcane spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:25}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_000_NoviceDestruction"],children:["REQ_Destruction_Arcane_075_ArcaneDisruption"]},isRoot:!1,position:{x:4,y:1,horizontal:-.5,vertical:.25}},{edid:"REQ_Destruction_Arcane_075_ArcaneDisruption",name:"Arcane Disruption",ranks:[{rank:1,edid:"REQ_Destruction_Arcane_075_ArcaneDisruption",name:"Arcane Disruption",description:{base:"You can imbue more magical energy to arcane spells, dealing more damage to enemies that are not resistant to magic.",subtext:"[arcane spells do more damage to enemies with low magic resistance]"},prerequisites:{skillLevel:{skill:"Destruction",level:75}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Arcane_025_ArcaneFocus1"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:.25,vertical:0}},{edid:"REQ_Destruction_Entropic_025_EntropicFocus1",name:"Entropic Focus",ranks:[{rank:1,edid:"REQ_Destruction_Entropic_025_EntropicFocus1",name:"Entropic Focus",description:{base:"You now are able to improve your Entropic spells and thereby increase their effectiveness.",subtext:"[1.1x magnitude, 0.9x cost for entropic spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:25}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_000_NoviceDestruction"],children:["REQ_Destruction_Entropic_075_EntropicDisarray"]},isRoot:!1,position:{x:4,y:1,horizontal:0,vertical:0}},{edid:"REQ_Destruction_Entropic_075_EntropicDisarray",name:"Entropic Disarray",ranks:[{rank:1,edid:"REQ_Destruction_Entropic_075_EntropicDisarray",name:"Entropic Disarray",description:{base:"Your Entropic spells drain all energy from targets, damaging Magicka and Stamina by same amount.",subtext:"[magicka and stamina damage for entropic spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:75}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Entropic_025_EntropicFocus1"],children:[]},isRoot:!1,position:{x:5,y:2,horizontal:-.25,vertical:.5}},{edid:"REQ_Destruction_Battlemage_050_DestructiveBlow",name:"Destructive Blow",ranks:[{rank:1,edid:"REQ_Destruction_Battlemage_050_DestructiveBlow",name:"Destructive Blow",description:{base:"You can deliver powerful force with touch and nova spells, causing more damage and staggering targets.",subtext:"[1.25x magnitude for touch and nova spells, 25% chance to stagger for damaging touch and nova spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:50}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_025_ApprenticeDestruction"],children:[]},isRoot:!1,position:{x:1,y:2,horizontal:0,vertical:0}},{edid:"REQ_Destruction_Battlemage_075_ImprovedCloaks",name:"Improved Cloaks",ranks:[{rank:1,edid:"REQ_Destruction_Battlemage_075_ImprovedCloaks",name:"Improved Cloaks",description:{base:"You can radiate more energy with cloak spells, increasing their damage greatly.",subtext:"[1.5x cloak spell damage]"},prerequisites:{skillLevel:{skill:"Destruction",level:75}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_025_ApprenticeDestruction"],children:[]},isRoot:!1,position:{x:0,y:1,horizontal:.5,vertical:.5}},{edid:"REQ_Destruction_BloodMagic_025_BloodMagic1",name:"Blood Magic",ranks:[{rank:1,edid:"REQ_Destruction_BloodMagic_025_BloodMagic1",name:"Blood Magic",description:{base:"You can more efficiently absorb energy from targets. Absorb spells are more powerful and costs less magicka.",subtext:"[1.1x magnitude, 0.9x cost for absorb spells]"},prerequisites:{skillLevel:{skill:"Destruction",level:25}}}],totalRanks:1,connections:{parents:["REQ_Destruction_Mastery_000_NoviceDestruction"],children:["REQ_Destruction_BloodMagic_075_ConsumeLife"]},isRoot:!1,position:{x:4,y:0,horizontal:.25,vertical:.5}},{edid:"REQ_Destruction_BloodMagic_075_ConsumeLife",name:"Consume Life",ranks:[{rank:1,edid:"REQ_Destruction_BloodMagic_075_ConsumeLife",name:"Consume Life",description:{base:"You can absorb much more health from living targets.",subtext:"[1.25x magnitude for absorb health spells on living targets]"},prerequisites:{skillLevel:{skill:"Destruction",level:75}}}],totalRanks:1,connections:{parents:["REQ_Destruction_BloodMagic_025_BloodMagic1"],children:[]},isRoot:!1,position:{x:5,y:2,horizontal:0,vertical:-.25}}]},{treeId:"AVEnchanting",treeName:"Enchanting",treeDescription:"Enchanting is the arcane art of infusing matter permanently with magic energy.",category:"Magic",perks:[{edid:"REQ_Enchanting_Enchantment_000_EnchantersInsight1",name:"Enchanter's Insight",ranks:[{rank:1,edid:"REQ_Enchanting_Enchantment_000_EnchantersInsight1",name:"Enchanter's Insight",description:{base:"You've acquired fundamental insights into how matter and magic intertwine.",subtext:"[new enchantments are 25% stronger, craft novice level staves and scrolls, can recharge weapons]"},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Enchanting_Enchantment_025_ElementalLore","REQ_Enchanting_Artificer_025_SoulGemMastery","Feat_Perk_Skill_Enchanting_ArcaneArtificery1"]},isRoot:!0,position:{x:2,y:0,horizontal:0,vertical:0}},{edid:"REQ_Enchanting_Enchantment_025_ElementalLore",name:"Elemental Lore",ranks:[{rank:1,edid:"REQ_Enchanting_Enchantment_025_ElementalLore",name:"Elemental Lore",description:{base:"You've learned how to tame the elements most efficiently. Thus, all elemental enchantments are stronger.",subtext:"[new elemental enchantments are 50% stronger, you can craft runestones and create runestone enchantments]"},prerequisites:{skillLevel:{skill:"Enchanting",level:25}}}],totalRanks:1,connections:{parents:["REQ_Enchanting_Enchantment_000_EnchantersInsight1"],children:["REQ_Enchanting_Enchantment_050_CorpusLore"]},isRoot:!1,position:{x:3,y:1,horizontal:-.21428599953651428,vertical:.20000000298023224}},{edid:"REQ_Enchanting_Enchantment_050_CorpusLore",name:"Corpus Lore",ranks:[{rank:1,edid:"REQ_Enchanting_Enchantment_050_CorpusLore",name:"Corpus Lore",description:{base:"You've become skilled in using enchantments to strengthen mind and body. Thus, all such enchantments are stronger.",subtext:"[new attribute enchantments are 50% stronger and you can make more advanced runestone enchantments]"},prerequisites:{skillLevel:{skill:"Enchanting",level:50}}}],totalRanks:1,connections:{parents:["REQ_Enchanting_Enchantment_025_ElementalLore"],children:["REQ_Enchanting_Enchantment_075_SkillLore"]},isRoot:!1,position:{x:3,y:2,horizontal:-.21428599953651428,vertical:.10000000149011612}},{edid:"REQ_Enchanting_Enchantment_075_SkillLore",name:"Skill Lore",ranks:[{rank:1,edid:"REQ_Enchanting_Enchantment_075_SkillLore",name:"Skill Lore",description:{base:"You've become a master of infusing enchantments that transfer knowledge and skill to the user, making all such ones stronger.",subtext:"[new skill enchantments are 50% stronger, Ebony Smiths can permanently imbue unique enchantments onto their weapons]"},prerequisites:{skillLevel:{skill:"Enchanting",level:75}}}],totalRanks:1,connections:{parents:["REQ_Enchanting_Enchantment_050_CorpusLore"],children:["REQ_Enchanting_Enchantment_100_EnchantmentMastery"]},isRoot:!1,position:{x:2,y:3,horizontal:.1857140064239502,vertical:0}},{edid:"REQ_Enchanting_Enchantment_100_EnchantmentMastery",name:"Enchantment Mastery",ranks:[{rank:1,edid:"REQ_Enchanting_Enchantment_100_EnchantmentMastery",name:"Enchantment Mastery",description:{base:"You've found a way to bind even more energy into inanimate matter.",subtext:"[new enchantments are 10% stronger, can place two enchantments with 60% strength each, craft master level staves and scrolls, 0.8x staff charge cost]"},prerequisites:{skillLevel:{skill:"Enchanting",level:90}}}],totalRanks:1,connections:{parents:["REQ_Enchanting_Artificer_075_ArtificersInsight","REQ_Enchanting_Enchantment_075_SkillLore"],children:["REQ_Enchanting_Artifact_100_ArtifactEnchanter"]},isRoot:!1,position:{x:1,y:4,horizontal:-.1571429967880249,vertical:0}},{edid:"REQ_Enchanting_Artificer_025_SoulGemMastery",name:"Soul Gem Mastery",ranks:[{rank:1,edid:"REQ_Enchanting_Artificer_025_SoulGemMastery",name:"Soul Gem Mastery",description:{base:"You've learned how to draw more energy from soul gems and are now able to craft them at a smelter by transmuting and melting certain minerals.",subtext:"[+50% charge from soul gems, craft soul gems and apprentice level staves and scrolls]"},prerequisites:{skillLevel:{skill:"Enchanting",level:25}}}],totalRanks:1,connections:{parents:["REQ_Enchanting_Enchantment_000_EnchantersInsight1"],children:["REQ_Enchanting_Artificer_050_ArcaneExperimentation"]},isRoot:!1,position:{x:1,y:0,horizontal:.17142899334430695,vertical:1.2400000095367432}},{edid:"REQ_Enchanting_Artificer_050_ArcaneExperimentation",name:"Arcane Experimentation",ranks:[{rank:1,edid:"REQ_Enchanting_Artificer_050_ArcaneExperimentation",name:"Arcane Experimentation",description:{base:"Your studies have enabled you to research unique enchantments of your own and to craft better staves at the forge.",subtext:"[new enchantments are 20% stronger, learn five new enchantments with Arcane Experimentation power, craft adept level staves and scrolls]"},prerequisites:{skillLevel:{skill:"Enchanting",level:50}}}],totalRanks:1,connections:{parents:["REQ_Enchanting_Artificer_025_SoulGemMastery"],children:["REQ_Enchanting_Artificer_075_ArtificersInsight"]},isRoot:!1,position:{x:1,y:1,horizontal:-.04285699874162674,vertical:.800000011920929}},{edid:"REQ_Enchanting_Artificer_075_ArtificersInsight",name:"Artificer's Insight",ranks:[{rank:1,edid:"REQ_Enchanting_Artificer_075_ArtificersInsight",name:"Artificer's Insight",description:{base:"You could fill grimoires with your newfound knowledge that allows you to create even better enchantments and staves.",subtext:"[new enchantments are 25% stronger, learn five new enchantments with Artificer's Insight power, craft expert level staves and scrolls]"},prerequisites:{skillLevel:{skill:"Enchanting",level:75}}}],totalRanks:1,connections:{parents:["REQ_Enchanting_Artificer_050_ArcaneExperimentation"],children:["REQ_Enchanting_Enchantment_100_EnchantmentMastery"]},isRoot:!1,position:{x:1,y:2,horizontal:-.24285699427127838,vertical:1.3600000143051147}},{edid:"REQ_Enchanting_Artifact_100_ArtifactEnchanter",name:"Artifact Enchanter",ranks:[{rank:1,edid:"REQ_Enchanting_Artifact_100_ArtifactEnchanter",name:"Artifact Enchanter",description:{base:"With great skill and dedication, you get a chance to enchant an item with extraordinary strength.",subtext:"[enchant one item with twice the strength, can place three enchantments with 50% strength each]"},prerequisites:{skillLevel:{skill:"Enchanting",level:100}}}],totalRanks:1,connections:{parents:["REQ_Enchanting_Enchantment_100_EnchantmentMastery"],children:[]},isRoot:!1,position:{x:2,y:4,horizontal:-.5,vertical:.5}},{edid:"Feat_Perk_Skill_Enchanting_ArcaneArtificery1",name:"Arcane Artificery",ranks:[{rank:1,edid:"Feat_Perk_Skill_Enchanting_ArcaneArtificery1",name:"Arcane Artificery",description:{base:"Your understanding of enchantments allow you to use them more effectively and efficiently.",subtext:"[Staves and Scrolls are 10% more powerful, enchantments cost 10% less charges]"},prerequisites:{skillLevel:{skill:"Enchanting",level:20}}},{rank:2,edid:"Feat_Perk_Skill_Enchanting_ArcaneArtificery2",name:"Arcane Artificery",description:{base:"Your understanding of enchantments allow you to use them more effectively and efficiently.",subtext:"[Staves and Scrolls are 20% more powerful, enchantments cost 20% less charges]"},prerequisites:{skillLevel:{skill:"Enchanting",level:45}}},{rank:3,edid:"Feat_Perk_Skill_Enchanting_ArcaneArtificery3",name:"Arcane Artificery",description:{base:"Your understanding of enchantments allow you to use them more effectively and efficiently.",subtext:"[Staves and Scrolls are 30% more powerful, enchantments cost 30% less charges]"},prerequisites:{skillLevel:{skill:"Enchanting",level:70}}}],totalRanks:3,connections:{parents:["REQ_Enchanting_Enchantment_000_EnchantersInsight1"],children:["Feat_Perk_Char_Enchanting_StaffChanneling1"]},isRoot:!1,position:{x:1,y:1,horizontal:-.028571000322699547,vertical:-.4714289903640747}},{edid:"Feat_Perk_Char_Enchanting_StaffChanneling1",name:"Staff Channeling",ranks:[{rank:1,edid:"Feat_Perk_Char_Enchanting_StaffChanneling1",name:"Staff Channeling",description:{base:"You can use your staff to empower your own spells and cast them more efficiently.",subtext:"[While holding a staff, spells are 5% more powerful and cost 10% less magicka to cast]"},prerequisites:{skillLevel:{skill:"Enchanting",level:30}}},{rank:2,edid:"Feat_Perk_Char_Enchanting_StaffChanneling2",name:"Staff Channeling",description:{base:"You can use your staff to empower your own spells and cast them more efficiently.",subtext:"[While holding a staff, spells are 10% more powerful and cost 20% less magicka to cast]"},prerequisites:{skillLevel:{skill:"Enchanting",level:60}}}],totalRanks:2,connections:{parents:["Feat_Perk_Skill_Enchanting_ArcaneArtificery1"],children:["REQ_Enchanting_50_WandMastery","ORD_Enc70_ChargeTap_Perk_70_OrdASISExclude"]},isRoot:!1,position:{x:1,y:1,horizontal:-.4428569972515106,vertical:.20000000298023224}},{edid:"REQ_Enchanting_50_WandMastery",name:"Wand Mastery",ranks:[{rank:1,edid:"REQ_Enchanting_50_WandMastery",name:"Wand Mastery",description:{base:"You have learned to use your wand's innate mystical properties to focus your thoughts.",subtext:"[+100% magicka regeneration when holding a wand]"},prerequisites:{skillLevel:{skill:"Enchanting",level:50}}}],totalRanks:1,connections:{parents:["Feat_Perk_Char_Enchanting_StaffChanneling1"],children:["ORD_Enc90_YouShallNotPass_Perk_90_OrdASISExclude"]},isRoot:!1,position:{x:0,y:2,horizontal:.2571429908275604,vertical:.35714298486709595}},{edid:"ORD_Enc70_ChargeTap_Perk_70_OrdASISExclude",name:"Charge Tap",ranks:[{rank:1,edid:"ORD_Enc70_ChargeTap_Perk_70_OrdASISExclude",name:"Charge Tap",description:{base:'Grants the "Charge Tap" power. At will, drains a quarter of your current weapon charge to restore Health by 15% of the amount drained and Magicka and Stamina by 25% of the amount drained. (If you have two enchanted weapons equipped, the drain is split.)',subtext:""},prerequisites:{skillLevel:{skill:"Enchanting",level:60}}}],totalRanks:1,connections:{parents:["Feat_Perk_Char_Enchanting_StaffChanneling1"],children:["ORD_Enc90_YouShallNotPass_Perk_90_OrdASISExclude"]},isRoot:!1,position:{x:0,y:2,horizontal:-.30000001192092896,vertical:.1571429967880249}},{edid:"ORD_Enc90_YouShallNotPass_Perk_90_OrdASISExclude",name:"You Shall Not Pass",ranks:[{rank:1,edid:"ORD_Enc90_YouShallNotPass_Perk_90_OrdASISExclude",name:"You Shall Not Pass",description:{base:"Simultaneously (within 1 second) using an enchanted staff or wand in your left hand and striking with an enchanted weapon in your right hand releases a flash of light that staggers enemies and deals damage equal to half your Enchanting skill level.",subtext:""},prerequisites:{skillLevel:{skill:"Enchanting",level:80}}}],totalRanks:1,connections:{parents:["ORD_Enc70_ChargeTap_Perk_70_OrdASISExclude","REQ_Enchanting_50_WandMastery"],children:[]},isRoot:!1,position:{x:0,y:3,horizontal:-.17142899334430695,vertical:.1571429967880249}}]},{treeId:"AVRestoration",treeName:"Restoration",treeDescription:"The School of Restoration involves both healing and protecting spells, as well as those that undo the undead.",category:"Magic",perks:[{edid:"REQ_Restoration_Mastery_000_NoviceRestoration",name:"Novice Restoration",ranks:[{rank:1,edid:"REQ_Restoration_Mastery_000_NoviceRestoration",name:"Novice Restoration",description:{base:"You've taught yourself a few Novice level spells and learned how to cast them with decreased effort",subtext:"while your newfound knowledge also allows you to augment all Restoration spells."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Restoration_Mastery_025_ApprenticeRestoration","REQ_Restoration_Healing_025_ImprovedHealing","REQ_Restoration_Empower_025_EmpoweredRestoration","REQ_Restoration_Venomancy_025_Venomancy","REQ_Restoration_Heliomancy_025_Heliomancy","REQ_Restoration_Turning_025_ImprovedTurning","REQ_Restoration_Protection_025_ImprovedProtection","Feat_Perk_Skill_Restoration_WardMastery1"]},isRoot:!0,position:{x:3,y:0,horizontal:.10000000149011612,vertical:0}},{edid:"REQ_Restoration_Mastery_025_ApprenticeRestoration",name:"Apprentice Restoration",ranks:[{rank:1,edid:"REQ_Restoration_Mastery_025_ApprenticeRestoration",name:"Apprentice Restoration",description:{base:"By pursuing your apprenticeship in Restoration, you've gained knowledge of Apprentice level spells",subtext:"which you now augment while casting them with less effort."},prerequisites:{skillLevel:{skill:"Restoration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_000_NoviceRestoration"],children:["REQ_Restoration_Mastery_050_AdeptRestoration","REQ_Restoration_Recovery_025_FocusedMind"]},isRoot:!1,position:{x:3,y:1,horizontal:-.21333299577236176,vertical:-.10000000149011612}},{edid:"REQ_Restoration_Mastery_050_AdeptRestoration",name:"Adept Restoration",ranks:[{rank:1,edid:"REQ_Restoration_Mastery_050_AdeptRestoration",name:"Adept Restoration",description:{base:"By advancing further into the school of Restoration, you've gained some Adept level spells",subtext:"and learned how to augment and cast spells of this rank more easily."},prerequisites:{skillLevel:{skill:"Restoration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_025_ApprenticeRestoration"],children:["REQ_Restoration_Mastery_075_ExpertRestoration"]},isRoot:!1,position:{x:3,y:1,horizontal:.20000000298023224,vertical:1.1200000047683716}},{edid:"REQ_Restoration_Mastery_075_ExpertRestoration",name:"Expert Restoration",ranks:[{rank:1,edid:"REQ_Restoration_Mastery_075_ExpertRestoration",name:"Expert Restoration",description:{base:"You've unlocked almost every secret in the school of Restoration and you've acquired some Expert level spells.",subtext:"You can now cast spells of this level easier and augment them to an almost otherworldly extent."},prerequisites:{skillLevel:{skill:"Restoration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_050_AdeptRestoration"],children:["REQ_Restoration_Mastery_100_MasterRestoration"]},isRoot:!1,position:{x:3,y:2,horizontal:-.006666999775916338,vertical:1.7200000286102295}},{edid:"REQ_Restoration_Mastery_100_MasterRestoration",name:"Master Restoration",ranks:[{rank:1,edid:"REQ_Restoration_Mastery_100_MasterRestoration",name:"Master Restoration",description:{base:"Your knowledge of Restoration has become all-encompassing.You taught yourself a Master level spell",subtext:"and you can cast the most complex spells from this school with less effort while augmenting them beyond mortal limits."},prerequisites:{skillLevel:{skill:"Restoration",level:100}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_075_ExpertRestoration"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:.013333000242710114,vertical:1.3200000524520874}},{edid:"REQ_Restoration_Healing_025_ImprovedHealing",name:"Improved Healing",ranks:[{rank:1,edid:"REQ_Restoration_Healing_025_ImprovedHealing",name:"Improved Healing",description:{base:"You've gained more knowledge about healing spells, allowing you to heal wounds more efficiently.",subtext:"[1.1x magnitude, 0.9x cost for healing and cure spells]"},prerequisites:{skillLevel:{skill:"Restoration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_000_NoviceRestoration"],children:["REQ_Restoration_Healing_075_Respite"]},isRoot:!1,position:{x:5,y:0,horizontal:-.5,vertical:.5}},{edid:"REQ_Restoration_Turning_075_MysticTurning",name:"Mystic Turning",ranks:[{rank:1,edid:"REQ_Restoration_Turning_075_MysticTurning",name:"Mystic Turning",description:{base:"You've learned the art of weaving mystical energies into your spells, making all of them more effective against the undead and Daedra.",subtext:"[1.1x spell magnitude, 1.2x spell duration on undead and daedra]"},prerequisites:{skillLevel:{skill:"Restoration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Turning_025_ImprovedTurning"],children:[]},isRoot:!1,position:{x:7,y:1,horizontal:-.5600000023841858,vertical:1.4800000190734863}},{edid:"REQ_Restoration_Healing_075_Respite",name:"Respite",ranks:[{rank:1,edid:"REQ_Restoration_Healing_075_Respite",name:"Respite",description:{base:"In addition to curing wounds, your healing spells now reinvigorate the body itself, restoring subject's stamina.",subtext:"[healing spells restore stamina by 0.5x of healing done]"},prerequisites:{skillLevel:{skill:"Restoration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Healing_025_ImprovedHealing"],children:[]},isRoot:!1,position:{x:7,y:1,horizontal:-.5600000023841858,vertical:.20000000298023224}},{edid:"REQ_Restoration_Protection_075_ImprovedWards",name:"Improved Wards",ranks:[{rank:1,edid:"REQ_Restoration_Protection_075_ImprovedWards",name:"Improved Wards",description:{base:"Your arcane wards now absorb magicka from incoming spells and have improved efficiency.",subtext:"[25% ward spell absorption, 0.9x ward spell cost]"},prerequisites:{skillLevel:{skill:"Restoration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Protection_025_ImprovedProtection"],children:[]},isRoot:!1,position:{x:0,y:2,horizontal:.5,vertical:0}},{edid:"REQ_Restoration_Empower_025_EmpoweredRestoration",name:"Empowered Restoration",ranks:[{rank:1,edid:"REQ_Restoration_Empower_025_EmpoweredRestoration",name:"Empowered Restoration",description:{base:"Dual casting a Restoration spell overcharges the effects into an even more powerful version.",subtext:""},prerequisites:{skillLevel:{skill:"Restoration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_000_NoviceRestoration"],children:[]},isRoot:!1,position:{x:1,y:0,horizontal:.25,vertical:.25}},{edid:"REQ_Restoration_Recovery_025_FocusedMind",name:"Focused Mind",ranks:[{rank:1,edid:"REQ_Restoration_Recovery_025_FocusedMind",name:"Focused Mind",description:{base:"You've learned to focus your mind. Thus, you can keep your concentration even in stressful situations and regenerate your magicka faster.",subtext:"[+50% magicka regeneration]"},prerequisites:{skillLevel:{skill:"Restoration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_025_ApprenticeRestoration"],children:["REQ_Restoration_Recovery_050_PowerOfLife"]},isRoot:!1,position:{x:2,y:2,horizontal:.25,vertical:0}},{edid:"REQ_Restoration_Recovery_050_PowerOfLife",name:"Power of Life",ranks:[{rank:1,edid:"REQ_Restoration_Recovery_050_PowerOfLife",name:"Power of Life",description:{base:"Your studies of healing magic now grant you",subtext:"the power of making yourself almost invulnerable for a short duration once a day."},prerequisites:{skillLevel:{skill:"Restoration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Recovery_025_FocusedMind"],children:["REQ_Restoration_Recovery_075_EssenceOfLife"]},isRoot:!1,position:{x:2,y:3,horizontal:0,vertical:0}},{edid:"REQ_Restoration_Recovery_075_EssenceOfLife",name:"Essence of Life",ranks:[{rank:1,edid:"REQ_Restoration_Recovery_075_EssenceOfLife",name:"Essence of Life",description:{base:"Your understanding of healing and how magic and life are intertwined",subtext:"allows you to call upon your newfound power more often."},prerequisites:{skillLevel:{skill:"Restoration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Recovery_050_PowerOfLife"],children:[]},isRoot:!1,position:{x:1,y:4,horizontal:0,vertical:0}},{edid:"REQ_Restoration_PainfulRegrets_000_PainfulRegrets",name:"Painful Regrets",ranks:[{rank:1,edid:"REQ_Restoration_PainfulRegrets_000_PainfulRegrets",name:"Painful Regrets",description:{base:"You've honestly reflected your sins, and you truly regret what pain you have inflicted upon others.",subtext:"All spells cost 10% less but buying/selling prices are much higher."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:[]},isRoot:!0,position:{x:0,y:0,horizontal:.5,vertical:0}},{edid:"REQ_Restoration_Venomancy_025_Venomancy",name:"Venomancy",ranks:[{rank:1,edid:"REQ_Restoration_Venomancy_025_Venomancy",name:"Venomancy",description:{base:"You now are able to improve your poison spells and thereby increase their effectiveness.",subtext:"[1.1x magnitude, 0.9x cost for poison spells]"},prerequisites:{skillLevel:{skill:"Restoration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_000_NoviceRestoration"],children:["REQ_Restoration_Venomancy_075_ParalyzingPoison"]},isRoot:!1,position:{x:4,y:2,horizontal:0,vertical:0}},{edid:"REQ_Restoration_Venomancy_075_ParalyzingPoison",name:"Paralyzing Poison",ranks:[{rank:1,edid:"REQ_Restoration_Venomancy_075_ParalyzingPoison",name:"Paralyzing Poison",description:{base:"Your poison spells are much more potent, rendering targets more susceptible to poison and paralyzing those with low resistance to poison or magic.",subtext:"[paralysis effect for poison spells, poison spells temporarily reduce target's poison resistance by 10% if not immune]"},prerequisites:{skillLevel:{skill:"Restoration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Venomancy_025_Venomancy"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:.25,vertical:.5}},{edid:"REQ_Restoration_Heliomancy_025_Heliomancy",name:"Heliomancy",ranks:[{rank:1,edid:"REQ_Restoration_Heliomancy_025_Heliomancy",name:"Heliomancy",description:{base:"You now are able to improve your sun spells and thereby increase their effectiveness.",subtext:"[1.1x magnitude, 0.9x cost for sun spells]"},prerequisites:{skillLevel:{skill:"Restoration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_000_NoviceRestoration"],children:["REQ_Restoration_Heliomancy_075_ScorchingLight"]},isRoot:!1,position:{x:4,y:2,horizontal:.5,vertical:-.25}},{edid:"REQ_Restoration_Heliomancy_075_ScorchingLight",name:"Scorching Light",ranks:[{rank:1,edid:"REQ_Restoration_Heliomancy_075_ScorchingLight",name:"Scorching Light",description:{base:"Your sun spells are infused with radiant energy, dealing more damage to undead and even damage the living.",subtext:"[25% stagger chance when dual-casted, extra damage over time to undead, sun spells that only work on undead now deal half damage to living]"},prerequisites:{skillLevel:{skill:"Restoration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Heliomancy_025_Heliomancy"],children:[]},isRoot:!1,position:{x:5,y:3,horizontal:.5,vertical:0}},{edid:"REQ_Restoration_Turning_025_ImprovedTurning",name:"Improved Turning",ranks:[{rank:1,edid:"REQ_Restoration_Turning_025_ImprovedTurning",name:"Improved Turning",description:{base:"Turn, Purify, and Abjuration spells are stonger and more efficient.",subtext:"[1.1x magnitude, 1.1x duration, 0.9x cost for turn spells]"},prerequisites:{skillLevel:{skill:"Restoration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_000_NoviceRestoration"],children:["REQ_Restoration_Turning_075_MysticTurning"]},isRoot:!1,position:{x:5,y:1,horizontal:0,vertical:.25}},{edid:"REQ_Restoration_Protection_025_ImprovedProtection",name:"Improved Protection",ranks:[{rank:1,edid:"REQ_Restoration_Protection_025_ImprovedProtection",name:"Improved Protection",description:{base:"Ward, Fortify, and Resist spells are stonger and more efficient.",subtext:"[1.1x magnitude, 1.1x duration, 0.9x cost for protection spells]"},prerequisites:{skillLevel:{skill:"Restoration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_000_NoviceRestoration"],children:["REQ_Restoration_Protection_075_ImprovedWards"]},isRoot:!1,position:{x:2,y:1,horizontal:0,vertical:0}},{edid:"Feat_Perk_Skill_Restoration_WardMastery1",name:"Ward Mastery",ranks:[{rank:1,edid:"Feat_Perk_Skill_Restoration_WardMastery1",name:"Ward Mastery",description:{base:"You are more proficient with ward spells, using them more efficiently to block magic.",subtext:"[Ward spells cost 50% less magicka, +10% magic resistance when holding Ward spell in hand]"},prerequisites:{skillLevel:{skill:"Restoration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Restoration_Mastery_000_NoviceRestoration"],children:[]},isRoot:!1,position:{x:0,y:1,horizontal:.5,vertical:0}}]},{treeId:"AVMysticism",treeName:"Illusion",treeDescription:"The School of Illusion involves manipulating the mind of the enemy, as well as the dark arts not known to many.",category:"Magic",perks:[{edid:"REQ_Illusion_Mastery_000_NovicelIllusion",name:"Novice Illusion",ranks:[{rank:1,edid:"REQ_Illusion_Mastery_000_NovicelIllusion",name:"Novice Illusion",description:{base:"You've taught yourself a few Novice level spells and learned how to cast them with decreased effort",subtext:"while your newfound knowledge also allows you to augment the strength and duration of all Illusion spells."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Illusion_Perceptual_025_PerceptualIllusions","REQ_Illusion_Emotional_025_EmotionalIllusions","REQ_Illusion_Mastery_025_ApprenticeIllusion","REQ_Illusion_Empower_025_EmpoweredIllusion"]},isRoot:!0,position:{x:2,y:0,horizontal:.5,vertical:0}},{edid:"REQ_Illusion_Perceptual_025_PerceptualIllusions",name:"Perceptual Illusions",ranks:[{rank:1,edid:"REQ_Illusion_Perceptual_025_PerceptualIllusions",name:"Perceptual Illusions",description:{base:"Perceptual illusion effects such as chameleon, dampen, hallucination, invisibility, muffle, night-eye, and sound are more effective and easier to cast.",subtext:"[1.1x magnitude, 1.1x duration, 0.9x cost for perceptual spells]"},prerequisites:{skillLevel:{skill:"Illusion",level:25}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Mastery_000_NovicelIllusion"],children:["REQ_Illusion_Perceptual_050_EnvironmentalManipulation","REQ_Illusion_Perceptual_050_DeceptiveImage"]},isRoot:!1,position:{x:5,y:1,horizontal:0,vertical:0}},{edid:"REQ_Illusion_Perceptual_050_EnvironmentalManipulation",name:"Environmental Manipulation",ranks:[{rank:1,edid:"REQ_Illusion_Perceptual_050_EnvironmentalManipulation",name:"Environmental Manipulation",description:{base:"Perceptual illusion spells are improved with additional effects.",subtext:"[improved effect for perceptual spells]"},prerequisites:{skillLevel:{skill:"Illusion",level:50}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Perceptual_025_PerceptualIllusions"],children:[]},isRoot:!1,position:{x:5,y:2,horizontal:-.5,vertical:0}},{edid:"REQ_Illusion_Shadow_050_ShadowShaping",name:"Shadow Shaping",ranks:[{rank:1,edid:"REQ_Illusion_Shadow_050_ShadowShaping",name:"Shadow Shaping",description:{base:"Shadow magic effects such as sanctuary, shadow drain, shadow step, shadow stride, and shadow summon are more effective and easier to cast.",subtext:"[1.1x magnitude, 1.1x duration, 0.9x cost for shadow spells]"},prerequisites:{skillLevel:{skill:"Illusion",level:50}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Mastery_050_AdeptIllusion"],children:["REQ_Illusion_Shadow_075_MasterOfShadows","REQ_Illusion_Shadow_075_ShadowsOfConflict"]},isRoot:!1,position:{x:4,y:3,horizontal:0,vertical:0}},{edid:"REQ_Illusion_Delusive_075_ObliterateTheMind",name:"Obliterate the Mind",ranks:[{rank:1,edid:"REQ_Illusion_Delusive_075_ObliterateTheMind",name:"Obliterate the Mind",description:{base:"Delusive illusion spells are improved with additional effects.",subtext:"[improved effect for delusive spells]"},prerequisites:{skillLevel:{skill:"Illusion",level:75}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Delusive_050_DelusiveIllusions"],children:[]},isRoot:!1,position:{x:1,y:4,horizontal:.5,vertical:0}},{edid:"REQ_Illusion_Emotional_025_EmotionalIllusions",name:"Emotional Illusions",ranks:[{rank:1,edid:"REQ_Illusion_Emotional_025_EmotionalIllusions",name:"Emotional Illusions",description:{base:"Emotional illusion effects such as calm, charm, command, fear, frenzy, and rally are more effective and easier to cast.",subtext:"[increased success chance, 1.1x magnitude, 1.1x duration, 0.9x cost for emotional spells]"},prerequisites:{skillLevel:{skill:"Illusion",level:25}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Mastery_000_NovicelIllusion"],children:["REQ_Illusion_Emotional_050_Domination","REQ_Illusion_Emotional_050_Mesmerize"]},isRoot:!1,position:{x:0,y:1,horizontal:0,vertical:0}},{edid:"REQ_Illusion_Emotional_050_Domination",name:"Domination",ranks:[{rank:1,edid:"REQ_Illusion_Emotional_050_Domination",name:"Domination",description:{base:"Emotional illusion spells are improved with additional effects.",subtext:"[improved effect for emotional spells]"},prerequisites:{skillLevel:{skill:"Illusion",level:50}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Emotional_025_EmotionalIllusions"],children:[]},isRoot:!1,position:{x:0,y:2,horizontal:.5,vertical:0}},{edid:"REQ_Illusion_Delusive_050_DelusiveIllusions",name:"Delusive Illusions",ranks:[{rank:1,edid:"REQ_Illusion_Delusive_050_DelusiveIllusions",name:"Delusive Illusions",description:{base:"Delusive illusion effects such as blind, death, nightmare, noise, pain, silence, and sleep are more effective and easier to cast.",subtext:"[increased success chance, 1.1x magnitude, 1.1x duration, 0.9x cost for delusive spells]"},prerequisites:{skillLevel:{skill:"Illusion",level:50}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Mastery_050_AdeptIllusion"],children:["REQ_Illusion_Delusive_075_ObliterateTheMind","REQ_Illusion_Delusive_075_Curse"]},isRoot:!1,position:{x:1,y:3,horizontal:0,vertical:0}},{edid:"REQ_Illusion_Mastery_025_ApprenticeIllusion",name:"Apprentice Illusion",ranks:[{rank:1,edid:"REQ_Illusion_Mastery_025_ApprenticeIllusion",name:"Apprentice Illusion",description:{base:"By pursuing your apprenticeship in Illusion, you've gained knowledge of Apprentice level spells",subtext:"which you now augment while casting them with less effort."},prerequisites:{skillLevel:{skill:"Illusion",level:25}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Mastery_000_NovicelIllusion"],children:["REQ_Illusion_Mastery_050_AdeptIllusion"]},isRoot:!1,position:{x:2,y:1,horizontal:.5,vertical:0}},{edid:"REQ_Illusion_Mastery_050_AdeptIllusion",name:"Adept Illusion",ranks:[{rank:1,edid:"REQ_Illusion_Mastery_050_AdeptIllusion",name:"Adept Illusion",description:{base:"By advancing further into the school of Illusion, you've gained some Adept level spells",subtext:"and learned how to augment and cast spells of this rank more easily."},prerequisites:{skillLevel:{skill:"Illusion",level:50}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Mastery_025_ApprenticeIllusion"],children:["REQ_Illusion_Shadow_050_ShadowShaping","REQ_Illusion_Delusive_050_DelusiveIllusions","REQ_Illusion_Mastery_075_ExpertIllusion"]},isRoot:!1,position:{x:2,y:2,horizontal:.5,vertical:0}},{edid:"REQ_Illusion_Mastery_075_ExpertIllusion",name:"Expert Illusion",ranks:[{rank:1,edid:"REQ_Illusion_Mastery_075_ExpertIllusion",name:"Expert Illusion",description:{base:"You've unlocked almost every secret in the school of Illusion and you've acquired some Expert level spells.",subtext:"You can now cast spells of this level easier and augment them to an almost otherworldly extent."},prerequisites:{skillLevel:{skill:"Illusion",level:75}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Mastery_050_AdeptIllusion"],children:["REQ_Illusion_Mastery_100_MasterIllusion"]},isRoot:!1,position:{x:2,y:3,horizontal:.5,vertical:0}},{edid:"REQ_Illusion_Mastery_100_MasterIllusion",name:"Master Illusion",ranks:[{rank:1,edid:"REQ_Illusion_Mastery_100_MasterIllusion",name:"Master Illusion",description:{base:"Your knowledge of Illusion has become all-encompassing. You taught yourself a Master level spell",subtext:"and you can cast the most complex spells from this school with less effort while augmenting them beyond mortal limits."},prerequisites:{skillLevel:{skill:"Illusion",level:100}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Mastery_075_ExpertIllusion"],children:[]},isRoot:!1,position:{x:2,y:4,horizontal:.5,vertical:0}},{edid:"REQ_Illusion_Empower_025_EmpoweredIllusion",name:"Empowered Illusion",ranks:[{rank:1,edid:"REQ_Illusion_Empower_025_EmpoweredIllusion",name:"Empowered Illusion",description:{base:"Dual casting an Illusion spell overcharges the effects into an even more powerful version.",subtext:""},prerequisites:{skillLevel:{skill:"Illusion",level:25}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Mastery_000_NovicelIllusion"],children:[]},isRoot:!1,position:{x:4,y:0,horizontal:0,vertical:0}},{edid:"REQ_Illusion_Shadow_075_MasterOfShadows",name:"Master of Shadows",ranks:[{rank:1,edid:"REQ_Illusion_Shadow_075_MasterOfShadows",name:"Master of Shadows",description:{base:"Shadow illusion spells are improved with additional effects. Shadow summons last longer.",subtext:"[improved effect for shadow spells, 1.5x duration for shadow summon spells]"},prerequisites:{skillLevel:{skill:"Illusion",level:75}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Shadow_050_ShadowShaping"],children:[]},isRoot:!1,position:{x:4,y:4,horizontal:-.5,vertical:0}},{edid:"REQ_Illusion_Emotional_050_Mesmerize",name:"Mesmerize",ranks:[{rank:1,edid:"REQ_Illusion_Emotional_050_Mesmerize",name:"Mesmerize",description:{base:"Your emotional illusion spells seep deep into the targets' mind, further reducing their chance to break free.",subtext:"[increased success chance and 1.2x duration for emotional illusion spells]"},prerequisites:{skillLevel:{skill:"Illusion",level:50}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Emotional_025_EmotionalIllusions"],children:[]},isRoot:!1,position:{x:1,y:1,horizontal:0,vertical:.5}},{edid:"REQ_Illusion_Perceptual_050_DeceptiveImage",name:"Deceptive Image",ranks:[{rank:1,edid:"REQ_Illusion_Perceptual_050_DeceptiveImage",name:"Deceptive Image",description:{base:"You can stack illusory image on yourself to deceive your enemies, making their attacks miss and expose their weak spots.",subtext:"[10% chance to take no physical damage and 20% chance to ignore 50% of enemy's armor rating while perceptual illusion spells are active]"},prerequisites:{skillLevel:{skill:"Illusion",level:50}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Perceptual_025_PerceptualIllusions"],children:[]},isRoot:!1,position:{x:4,y:1,horizontal:0,vertical:.5}},{edid:"REQ_Illusion_Delusive_075_Curse",name:"Curse",ranks:[{rank:1,edid:"REQ_Illusion_Delusive_075_Curse",name:"Curse",description:{base:"Curse your enemies with dark magic, weakening their body and soul.",subtext:"[1.1x physical damage, spell magnitude, and spell duration on targets under delusive illusion effects]"},prerequisites:{skillLevel:{skill:"Illusion",level:75}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Delusive_050_DelusiveIllusions"],children:[]},isRoot:!1,position:{x:2,y:3,horizontal:0,vertical:.5}},{edid:"REQ_Illusion_Shadow_075_ShadowsOfConflict",name:"Shadows of Conflict",ranks:[{rank:1,edid:"REQ_Illusion_Shadow_075_ShadowsOfConflict",name:"Shadows of Conflict",description:{base:"Draw power from forces in conflict, absorbing energy from nearby enemies and creating another reflection of shadow.",subtext:"[absorb 30% magicka regeneration from nearby enemies while shadow spells are active, +1 shadow summon limit]"},prerequisites:{skillLevel:{skill:"Illusion",level:75}}}],totalRanks:1,connections:{parents:["REQ_Illusion_Shadow_050_ShadowShaping"],children:[]},isRoot:!1,position:{x:3,y:3,horizontal:0,vertical:.5}}]},{treeId:"AVConjuration",treeName:"Conjuration",treeDescription:"The School of Conjuration governs both Necromancy and summoning entities from the realms of Oblivion.",category:"Magic",perks:[{edid:"REQ_Conjuration_Mastery_000_NoviceConjuration",name:"Novice Conjuration",ranks:[{rank:1,edid:"REQ_Conjuration_Mastery_000_NoviceConjuration",name:"Novice Conjuration",description:{base:"You've taught yourself a few Novice level spells and learned how to cast them with decreased effort",subtext:"while your newfound knowledge also allows you to augment all Conjuration spells."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Conjuration_Mastery_025_ApprenticeConjuration","REQ_Conjuration_Empower_025_EmpoweredConjuration","REQ_Conjuration_Necromancy_025_Necromancy","REQ_Conjuration_Bound_025_MysticBinding","REQ_Conjuration_Daedric_025_DaedricBinding","REQ_Conjuration_Spirit_025_SpiritCalling"]},isRoot:!0,position:{x:2,y:0,horizontal:.18666699528694153,vertical:0}},{edid:"REQ_Conjuration_Mastery_025_ApprenticeConjuration",name:"Apprentice Conjuration",ranks:[{rank:1,edid:"REQ_Conjuration_Mastery_025_ApprenticeConjuration",name:"Apprentice Conjuration",description:{base:"By pursuing your apprenticeship in Conjuration, you've gained knowledge of Apprentice level spells",subtext:"which you now augment while casting them with less effort."},prerequisites:{skillLevel:{skill:"Conjuration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_000_NoviceConjuration"],children:["REQ_Conjuration_Mastery_050_AdeptConjuration"]},isRoot:!1,position:{x:1,y:1,horizontal:-.15333299338817596,vertical:.20000000298023224}},{edid:"REQ_Conjuration_Mastery_050_AdeptConjuration",name:"Adept Conjuration",ranks:[{rank:1,edid:"REQ_Conjuration_Mastery_050_AdeptConjuration",name:"Adept Conjuration",description:{base:"By advancing further into the school of Conjuration, you've gained some Adept level spells",subtext:"and learned how to augment and cast spells of this rank more easily."},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_025_ApprenticeConjuration"],children:["REQ_Conjuration_Mastery_075_ExpertConjuration","REQ_Conjuration_SoulMagic_025_SoulMagic"]},isRoot:!1,position:{x:1,y:2,horizontal:-.5600000023841858,vertical:.10000000149011612}},{edid:"REQ_Conjuration_Mastery_075_ExpertConjuration",name:"Expert Conjuration",ranks:[{rank:1,edid:"REQ_Conjuration_Mastery_075_ExpertConjuration",name:"Expert Conjuration",description:{base:"You've unlocked almost every secret in the school of Conjuration and you've acquired some Expert level spells.",subtext:"You can now cast spells of this level easier and augment them to an almost otherworldly extent."},prerequisites:{skillLevel:{skill:"Conjuration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_050_AdeptConjuration"],children:["REQ_Conjuration_Mastery_100_MasterConjuration"]},isRoot:!1,position:{x:1,y:3,horizontal:-.5600000023841858,vertical:0}},{edid:"REQ_Conjuration_Mastery_100_MasterConjuration",name:"Master Conjuration",ranks:[{rank:1,edid:"REQ_Conjuration_Mastery_100_MasterConjuration",name:"Master Conjuration",description:{base:"Your knowledge of Conjuration has become all-encompassing. You taught yourself a Master level spell",subtext:"and you can cast the most complex spells from this school with less effort while augmenting them beyond mortal limits."},prerequisites:{skillLevel:{skill:"Conjuration",level:100}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_075_ExpertConjuration"],children:[]},isRoot:!1,position:{x:1,y:4,horizontal:.16666699945926666,vertical:.2800000011920929}},{edid:"REQ_Conjuration_Empower_025_EmpoweredConjuration",name:"Empowered Conjuration",ranks:[{rank:1,edid:"REQ_Conjuration_Empower_025_EmpoweredConjuration",name:"Empowered Conjuration",description:{base:"Dual casting a Conjuration spell overcharges the spell, allowing it to last longer.",subtext:""},prerequisites:{skillLevel:{skill:"Conjuration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_000_NoviceConjuration"],children:["REQ_Conjuration_Empower_050_CognitiveFlexibility1"]},isRoot:!1,position:{x:3,y:1,horizontal:-.006666999775916338,vertical:-.10000000149011612}},{edid:"REQ_Conjuration_Empower_050_CognitiveFlexibility1",name:"Cognitive Flexibility",ranks:[{rank:1,edid:"REQ_Conjuration_Empower_050_CognitiveFlexibility1",name:"Cognitive Flexibility",description:{base:"You have practiced the mental ability of maintaining two summons at the same time. This power extends to",subtext:"controlling any type of conjured or conceived entity, even outside the school of Conjuration."},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Empower_025_EmpoweredConjuration"],children:[]},isRoot:!1,position:{x:4,y:1,horizontal:-.3066670000553131,vertical:1.4800000190734863}},{edid:"REQ_Conjuration_Necromancy_025_Necromancy",name:"Necromancy",ranks:[{rank:1,edid:"REQ_Conjuration_Necromancy_025_Necromancy",name:"Necromancy",description:{base:"You've developed your skill for summoning undead and rasing the dead, improving their potency and duration.",subtext:"[2x undead summon spell duration, stronger reanimated dead, 1.25x reanimate level limit, 5x reanimate spell duration]"},prerequisites:{skillLevel:{skill:"Conjuration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_000_NoviceConjuration"],children:["REQ_Conjuration_Necromancy_050_Ritualism"]},isRoot:!1,position:{x:3,y:1,horizontal:.10000000149011612,vertical:.800000011920929}},{edid:"REQ_Conjuration_Necromancy_050_Ritualism",name:"Ritualism",ranks:[{rank:1,edid:"REQ_Conjuration_Necromancy_050_Ritualism",name:"Ritualism",description:{base:"Your knowledge of the realms of the dead surpasses that of many. You can raise stronger entities and they last much longer.",subtext:"[3x undead summon spell duration (overwrite), 1.5x reanimate level limit (overwrite), 10x reanimate spell duration (overwrite)]"},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Necromancy_025_Necromancy"],children:["REQ_Conjuration_Necromancy_075_DarkInfusion","REQ_Conjuration_Necromancy_050_SiphonCorpse"]},isRoot:!1,position:{x:3,y:2,horizontal:.10000000149011612,vertical:.4000000059604645}},{edid:"REQ_Conjuration_Necromancy_075_DarkInfusion",name:"Dark Infusion",ranks:[{rank:1,edid:"REQ_Conjuration_Necromancy_075_DarkInfusion",name:"Dark Infusion",description:{base:"By infusing your undead creations with dark energies, you can make them stronger and prevent them from decaying to dust.",subtext:"[stronger reanimated dead, reanimated dead can cast spells, reanimated dead do not turn into ash, 1.5x undead summon spell duration]"},prerequisites:{skillLevel:{skill:"Conjuration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Necromancy_050_Ritualism"],children:[]},isRoot:!1,position:{x:4,y:2,horizontal:-.5,vertical:1.7200000286102295}},{edid:"REQ_Conjuration_Bound_025_MysticBinding",name:"Mystic Binding",ranks:[{rank:1,edid:"REQ_Conjuration_Bound_025_MysticBinding",name:"Mystic Binding",description:{base:"You've become skilled in binding daedra in shape of weapons and armors. Bound weapons and armors are stronger longer-lasting, and easier to cast.",subtext:"[stronger bound items, 1.25x bound spell duration, 0.5x bound weapon spell cost]"},prerequisites:{skillLevel:{skill:"Conjuration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_000_NoviceConjuration"],children:["REQ_Conjuration_Bound_050_MysticInfusion"]},isRoot:!1,position:{x:2,y:1,horizontal:-.1333329975605011,vertical:-.10000000149011612}},{edid:"REQ_Conjuration_Bound_050_MysticInfusion",name:"Mystic Infusion",ranks:[{rank:1,edid:"REQ_Conjuration_Bound_050_MysticInfusion",name:"Mystic Infusion",description:{base:"You can infuse bound weapons and armors with additional effects of your choice. Bound weapons and armors are easier to cast.",subtext:"[fire/frost/shock/mystic effect for weapons (damage), shield (cloak), and armor (resist), 0.9x bound item spell cost]"},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Bound_025_MysticBinding"],children:["REQ_Conjuration_Bound_075_MysticEmpowerment"]},isRoot:!1,position:{x:2,y:1,horizontal:-.4533329904079437,vertical:1.4800000190734863}},{edid:"REQ_Conjuration_Bound_075_MysticEmpowerment",name:"Mystic Empowerment",ranks:[{rank:1,edid:"REQ_Conjuration_Bound_075_MysticEmpowerment",name:"Mystic Empowerment",description:{base:"You can bind stronger or additional effects to your bound weapons and armors. Bound weapons and armors are more easier to cast and last longer.",subtext:"[improved bound effects, 1.5x bound spell duration (overwrite), 0.8x bound item spell cost (overwrite)]"},prerequisites:{skillLevel:{skill:"Conjuration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Bound_050_MysticInfusion"],children:["REQ_Conjuration_Bound_100_MysticDisruption"]},isRoot:!1,position:{x:2,y:2,horizontal:-.3400000035762787,vertical:1.3600000143051147}},{edid:"REQ_Conjuration_Bound_100_MysticDisruption",name:"Mystic Disruption",ranks:[{rank:1,edid:"REQ_Conjuration_Bound_100_MysticDisruption",name:"Mystic Disruption",description:{base:"You've perfected your invocations of summoning bound weapons and armors. Your bound weapons and armors are much stronger.",subtext:"[stronger bound items, weapon/shield/armor get increased armor penetration (20%) / damage blocked (20%) / physical damage reduction (10%)]"},prerequisites:{skillLevel:{skill:"Conjuration",level:100}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Bound_075_MysticEmpowerment"],children:[]},isRoot:!1,position:{x:2,y:3,horizontal:-.026667000725865364,vertical:1.3200000524520874}},{edid:"REQ_Conjuration_Daedric_025_DaedricBinding",name:"Daedric Binding",ranks:[{rank:1,edid:"REQ_Conjuration_Daedric_025_DaedricBinding",name:"Daedric Binding",description:{base:"Having studied the barriers that divide the planes of existence, you can make your summoned daedra last longer in this realm.",subtext:"[2x daedra summon spell duration]"},prerequisites:{skillLevel:{skill:"Conjuration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_000_NoviceConjuration"],children:["REQ_Conjuration_Daedric_050_GatesOfOblivion"]},isRoot:!1,position:{x:4,y:1,horizontal:.22666700184345245,vertical:.20000000298023224}},{edid:"REQ_Conjuration_Daedric_050_GatesOfOblivion",name:"Gates of Oblivion",ranks:[{rank:1,edid:"REQ_Conjuration_Daedric_050_GatesOfOblivion",name:"Gates of Oblivion",description:{base:"You've perfected your spells' formulae to summon the daedra, maintaining them longer and can cast them further away.",subtext:"[3x daedra summon spell duration (overwrite), 3x daedra summon spell range]"},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Daedric_025_DaedricBinding"],children:["REQ_Conjuration_Daedric_075_WatersOfOblivion","REQ_Conjuration_Daedric_050_DarkChanneling"]},isRoot:!1,position:{x:5,y:1,horizontal:-.18000000715255737,vertical:1.7400000095367432}},{edid:"REQ_Conjuration_Daedric_075_WatersOfOblivion",name:"Waters of Oblivion",ranks:[{rank:1,edid:"REQ_Conjuration_Daedric_075_WatersOfOblivion",name:"Waters of Oblivion",description:{base:"Your knowledge of Oblivion's elemental aspects increases the strength of all your summoned Atronachs. Other daedra summons last longer.",subtext:"[stronger atronach summons, 1.5x non-atronach daedra summon spell duration]"},prerequisites:{skillLevel:{skill:"Conjuration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Daedric_050_GatesOfOblivion"],children:[]},isRoot:!1,position:{x:5,y:3,horizontal:-.18000000715255737,vertical:1.6399999856948853}},{edid:"REQ_Conjuration_Spirit_075_AncientSpirits",name:"Ancient Spirits",ranks:[{rank:1,edid:"REQ_Conjuration_Spirit_075_AncientSpirits",name:"Ancient Spirits",description:{base:"You can call upon the ancient spirits for your aid. Summoned spirits are faster and stronger.",subtext:"[stronger spirit summons]"},prerequisites:{skillLevel:{skill:"Conjuration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Spirit_050_SpiritualBond"],children:[]},isRoot:!1,position:{x:2,y:3,horizontal:.5,vertical:.5}},{edid:"REQ_Conjuration_Spirit_025_SpiritCalling",name:"Spirit Calling",ranks:[{rank:1,edid:"REQ_Conjuration_Spirit_025_SpiritCalling",name:"Spirit Calling",description:{base:"You've learned to commune with the spirits, summoning them for extended duration.",subtext:"[2x spirit summon spell duration]"},prerequisites:{skillLevel:{skill:"Conjuration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_000_NoviceConjuration"],children:["REQ_Conjuration_Spirit_050_SpiritualBond"]},isRoot:!1,position:{x:2,y:1,horizontal:.25,vertical:.5}},{edid:"REQ_Conjuration_Spirit_050_SpiritualBond",name:"Spiritual Bond",ranks:[{rank:1,edid:"REQ_Conjuration_Spirit_050_SpiritualBond",name:"Spiritual Bond",description:{base:"You've strengthened your bond with the spirits. They can be summoned with much more ease and will last longer.",subtext:"[3x spirit summon spell duration (overwrite), 0.9x spirit summon spell cost]"},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Spirit_025_SpiritCalling"],children:["REQ_Conjuration_Spirit_075_AncientSpirits","REQ_Conjuration_Spirit_050_SpiritGuardian"]},isRoot:!1,position:{x:2,y:2,horizontal:.5,vertical:.5}},{edid:"REQ_Conjuration_Spirit_050_SpiritGuardian",name:"Spirit Guardian",ranks:[{rank:1,edid:"REQ_Conjuration_Spirit_050_SpiritGuardian",name:"Spirit Guardian",description:{base:"You can call upon the spirits to protect you, increasing your resistance to physical and magical attacks.",subtext:"[+10% magic resistance and +150 armor rating while spirit summons are active]"},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Spirit_050_SpiritualBond"],children:[]},isRoot:!1,position:{x:2,y:3,horizontal:0,vertical:0}},{edid:"REQ_Conjuration_Necromancy_050_SiphonCorpse",name:"Siphon Corpse",ranks:[{rank:1,edid:"REQ_Conjuration_Necromancy_050_SiphonCorpse",name:"Siphon Corpse",description:{base:"You can violently drain remaining energy from corpses, destoying them in the process to damage nearby enemies.",subtext:"[Siphon Corpse lesser power: absorb 50 magicka from each corpse and deal 50 magical damage to nearby enemies, half damage to non-living]"},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Necromancy_050_Ritualism"],children:[]},isRoot:!1,position:{x:3,y:3,horizontal:0,vertical:.25}},{edid:"REQ_Conjuration_Daedric_050_DarkChanneling",name:"Dark Channeling",ranks:[{rank:1,edid:"REQ_Conjuration_Daedric_050_DarkChanneling",name:"Dark Channeling",description:{base:"You draw dark energy from the Oblivion realm while maintaining a connection to it, boosting your magicka regeneration.",subtext:"[+150% magicka regeneration while daedra summons are active]"},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Daedric_050_GatesOfOblivion"],children:[]},isRoot:!1,position:{x:4,y:4,horizontal:0,vertical:0}},{edid:"REQ_Conjuration_SoulMagic_025_SoulMagic",name:"Soul Magic",ranks:[{rank:1,edid:"REQ_Conjuration_SoulMagic_025_SoulMagic",name:"Soul Magic",description:{base:"Your training on Soul Magic allows you to channel more strength with higher efficiency.",subtext:"[1.1x magnitude, 1.1x duration, 0.9x cost for necrotic and soul spells]"},prerequisites:{skillLevel:{skill:"Conjuration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_Mastery_050_AdeptConjuration"],children:["REQ_Conjuration_SoulMagic_075_Necropotence"]},isRoot:!1,position:{x:1,y:3,horizontal:0,vertical:-.25}},{edid:"REQ_Conjuration_SoulMagic_075_Necropotence",name:"Necropotence",ranks:[{rank:1,edid:"REQ_Conjuration_SoulMagic_075_Necropotence",name:"Necropotence",description:{base:"Your necrotic spell consumes all, burning the soul of the living and damaging even the non-living.",subtext:"[25% stagger chance when dual-casted, extra damage over time to the living, half damage to non-living]"},prerequisites:{skillLevel:{skill:"Conjuration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Conjuration_SoulMagic_025_SoulMagic"],children:[]},isRoot:!1,position:{x:1,y:4,horizontal:.25,vertical:-.5}}]},{treeId:"AVAlteration",treeName:"Alteration",treeDescription:"The School of Alteration involves the manipulation of the physical world and its natural properties.",category:"Magic",perks:[{edid:"REQ_Alteration_Mastery_000_NoviceAlteration",name:"Novice Alteration",ranks:[{rank:1,edid:"REQ_Alteration_Mastery_000_NoviceAlteration",name:"Novice Alteration",description:{base:"You've taught yourself a few Novice level spells and learned how to cast them with decreased effort",subtext:"while your newfound knowledge also allows you to augment all Alteration spells."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Alteration_Mastery_025_ApprenticeAlteration","REQ_Alteration_Empower_025_EmpoweredAlteration","REQ_Alteration_Transmutation_025_Transmutation"]},isRoot:!0,position:{x:3,y:0,horizontal:-.3066670000553131,vertical:0}},{edid:"REQ_Alteration_Mastery_025_ApprenticeAlteration",name:"Apprentice Alteration",ranks:[{rank:1,edid:"REQ_Alteration_Mastery_025_ApprenticeAlteration",name:"Apprentice Alteration",description:{base:"By pursuing your apprenticeship in Alteration, you've gained knowledge of Apprentice level spells",subtext:"which you now augment while casting them with less effort."},prerequisites:{skillLevel:{skill:"Alteration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_000_NoviceAlteration"],children:["REQ_Alteration_Mastery_050_AdeptAlteration","REQ_Alteration_MageArmor_025_ImprovedMageArmor","REQ_Alteration_MagicResistance_025_MagicResistance1","REQ_Alteration_Kinetomancy_025_Kinetomancy"]},isRoot:!1,position:{x:3,y:1,horizontal:-.5400000214576721,vertical:.20000000298023224}},{edid:"REQ_Alteration_Mastery_050_AdeptAlteration",name:"Adept Alteration",ranks:[{rank:1,edid:"REQ_Alteration_Mastery_050_AdeptAlteration",name:"Adept Alteration",description:{base:"By advancing further into the school of Alteration, you've gained some Adept level spells",subtext:"and learned how to augment and cast spells of this rank more easily."},prerequisites:{skillLevel:{skill:"Alteration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_025_ApprenticeAlteration"],children:["REQ_Alteration_Mastery_075_ExpertAlteration","REQ_Alteration_Metamagic_050_Stability","REQ_Alteration_WeatherMagic_050_WeatherMagic"]},isRoot:!1,position:{x:3,y:1,horizontal:-.5400000214576721,vertical:1.7400000095367432}},{edid:"REQ_Alteration_Mastery_075_ExpertAlteration",name:"Expert Alteration",ranks:[{rank:1,edid:"REQ_Alteration_Mastery_075_ExpertAlteration",name:"Expert Alteration",description:{base:"You've unlocked almost every secret in the school of Alteration and you've acquired some Expert level spells.",subtext:"You can now cast spells of this level easier and augment them to an almost otherworldly extent."},prerequisites:{skillLevel:{skill:"Alteration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_050_AdeptAlteration"],children:["REQ_Alteration_Mastery_100_MasterAlteration","REQ_Alteration_MagicalAbsorption_100_MagicalAbsorption"]},isRoot:!1,position:{x:2,y:3,horizontal:-.3400000035762787,vertical:.6800000071525574}},{edid:"REQ_Alteration_Mastery_100_MasterAlteration",name:"Master Alteration",ranks:[{rank:1,edid:"REQ_Alteration_Mastery_100_MasterAlteration",name:"Master Alteration",description:{base:"Your knowledge of Alteration has become all-encompassing. You taught yourself a Master level spell",subtext:"and you can cast the most complex spells from this school with less effort while augmenting them beyond mortal limits."},prerequisites:{skillLevel:{skill:"Alteration",level:100}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_075_ExpertAlteration"],children:[]},isRoot:!1,position:{x:0,y:4,horizontal:-.2800000011920929,vertical:1.2400000095367432}},{edid:"REQ_Alteration_MagicalAbsorption_100_MagicalAbsorption",name:"Magical Absorption",ranks:[{rank:1,edid:"REQ_Alteration_MagicalAbsorption_100_MagicalAbsorption",name:"Magical Absorption",description:{base:"You've mastered the art of absorbing Magicka from incoming spells, and are now able to fully absorb their power from time to time.",subtext:"[+10% magic absorb chance]"},prerequisites:{skillLevel:{skill:"Alteration",level:100}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_075_ExpertAlteration"],children:[]},isRoot:!1,position:{x:3,y:4,horizontal:-.11333300173282623,vertical:1.2400000095367432}},{edid:"REQ_Alteration_MageArmor_050_VersatileArmor",name:"Versatile Armor",ranks:[{rank:1,edid:"REQ_Alteration_MageArmor_050_VersatileArmor",name:"Versatile Armor",description:{base:"You've expanded the versatility of your Armor and Shield spells, enabling them to decrease incoming elemental and physical damage.",subtext:"[0.8x incoming fire, frost, shock, physical damage when Armor or Shield spell is active]"},prerequisites:{skillLevel:{skill:"Alteration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Alteration_MageArmor_025_ImprovedMageArmor"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:.25,vertical:0}},{edid:"REQ_Alteration_Metamagic_050_Stability",name:"Stability",ranks:[{rank:1,edid:"REQ_Alteration_Metamagic_050_Stability",name:"Stability",description:{base:"You've become exceptionally good at making your alteration spells more stable. Thus, they now last longer.",subtext:"[1.5x alteration spell duration]"},prerequisites:{skillLevel:{skill:"Alteration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_050_AdeptAlteration"],children:["REQ_Alteration_Metamagic_075_MetamagicalThesis"]},isRoot:!1,position:{x:4,y:2,horizontal:-.5,vertical:1.7200000286102295}},{edid:"REQ_Alteration_Metamagic_075_MetamagicalThesis",name:"Metamagical Thesis",ranks:[{rank:1,edid:"REQ_Alteration_Metamagic_075_MetamagicalThesis",name:"Metamagical Thesis",description:{base:"Your knowledge of the very fabric of magic itself allows you to cast any spell of any school with decreased effort.",subtext:"[0.9x spell cost for all schools of magic]"},prerequisites:{skillLevel:{skill:"Alteration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Metamagic_050_Stability"],children:["REQ_Alteration_Metamagic_100_MetamagicalEmpowerment"]},isRoot:!1,position:{x:5,y:3,horizontal:.14000000059604645,vertical:.36000001430511475}},{edid:"REQ_Alteration_Metamagic_100_MetamagicalEmpowerment",name:"Metamagical Empowerment",ranks:[{rank:1,edid:"REQ_Alteration_Metamagic_100_MetamagicalEmpowerment",name:"Metamagical Empowerment",description:{base:"Having delved even deeper in metamagical lore, you can cast any spell more effectively and augment all other magical effects.",subtext:"[1.1x magnitude, 1.1x duration for all schools of magic]"},prerequisites:{skillLevel:{skill:"Alteration",level:100}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Metamagic_075_MetamagicalThesis"],children:[]},isRoot:!1,position:{x:5,y:4,horizontal:.24666699767112732,vertical:.9200000166893005}},{edid:"REQ_Alteration_MageArmor_025_ImprovedMageArmor",name:"Improved Mage Armor",ranks:[{rank:1,edid:"REQ_Alteration_MageArmor_025_ImprovedMageArmor",name:"Improved Mage Armor",description:{base:"You've mastered the art of casting armor spells. Their effect is maximized when you don't wear any distracting armor.",subtext:"[1.5x armor and shield spell magnitude when not wearing chest armor, 1.2x when wearing chest armor]"},prerequisites:{skillLevel:{skill:"Alteration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_025_ApprenticeAlteration"],children:["REQ_Alteration_MageArmor_050_VersatileArmor"]},isRoot:!1,position:{x:4,y:1,horizontal:-.5133330225944519,vertical:1.4800000190734863}},{edid:"REQ_Alteration_Empower_025_EmpoweredAlteration",name:"Empowered Alteration",ranks:[{rank:1,edid:"REQ_Alteration_Empower_025_EmpoweredAlteration",name:"Empowered Alteration",description:{base:"Dual casting an Alteration spell overcharges the effects into an even more powerful version.",subtext:""},prerequisites:{skillLevel:{skill:"Alteration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_000_NoviceAlteration"],children:[]},isRoot:!1,position:{x:3,y:0,horizontal:.5,vertical:1}},{edid:"REQ_Alteration_MagicResistance_025_MagicResistance1",name:"Magic Resistance",ranks:[{rank:1,edid:"REQ_Alteration_MagicResistance_025_MagicResistance1",name:"Magic Resistance",description:{base:"You're able to block a part of a dangerous spell's effect.",subtext:"[+10% magic resistance]"},prerequisites:{skillLevel:{skill:"Alteration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_025_ApprenticeAlteration"],children:[]},isRoot:!1,position:{x:1,y:1,horizontal:.05333299934864044,vertical:1.4800000190734863}},{edid:"REQ_Alteration_Transmutation_025_Transmutation",name:"Transmutation",ranks:[{rank:1,edid:"REQ_Alteration_Transmutation_025_Transmutation",name:"Transmutation",description:{base:"Transmutation, size-shifting, shape-shifting spells are stonger and more efficient.",subtext:"[1.1x magnitude, 1.1x duration, 0.9x cost for transmutation spells]"},prerequisites:{skillLevel:{skill:"Alteration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_000_NoviceAlteration"],children:["REQ_Alteration_Transmutation_075_TransmutationalMending"]},isRoot:!1,position:{x:1,y:0,horizontal:.5,vertical:.5}},{edid:"REQ_Alteration_Transmutation_075_TransmutationalMending",name:"Transmutational Mending",ranks:[{rank:1,edid:"REQ_Alteration_Transmutation_075_TransmutationalMending",name:"Transmutational Mending",description:{base:"Health is increased and regenerates while transmutation spell is active.",subtext:"[+50 health and +1/s health regeneration while transmutation spell is active]"},prerequisites:{skillLevel:{skill:"Alteration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Transmutation_025_Transmutation"],children:[]},isRoot:!1,position:{x:0,y:1,horizontal:.5,vertical:0}},{edid:"REQ_Alteration_Kinetomancy_025_Kinetomancy",name:"Kinetomancy",ranks:[{rank:1,edid:"REQ_Alteration_Kinetomancy_025_Kinetomancy",name:"Kinetomancy",description:{base:"You can more easily handle telekinetic spells, increasing their power and efficiency.",subtext:"[1.2x magnitude, 0.8x cost for telekinetic spells]"},prerequisites:{skillLevel:{skill:"Alteration",level:25}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_025_ApprenticeAlteration"],children:["REQ_Alteration_Kinetomancy_075_PowerOfTheForce"]},isRoot:!1,position:{x:1,y:1,horizontal:0,vertical:.5}},{edid:"REQ_Alteration_Kinetomancy_075_PowerOfTheForce",name:"Power of the Force",ranks:[{rank:1,edid:"REQ_Alteration_Kinetomancy_075_PowerOfTheForce",name:"Power of the Force",description:{base:"Your telekinetic spells cause devastating impact, dealing more damage and knocking off stronger targets.",subtext:"[+25% physical telekinetic spell damage, +10% magic resistance threshold for telekinetic knockdown effect]"},prerequisites:{skillLevel:{skill:"Alteration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Kinetomancy_025_Kinetomancy"],children:[]},isRoot:!1,position:{x:0,y:2,horizontal:0,vertical:0}},{edid:"REQ_Alteration_WeatherMagic_050_WeatherMagic",name:"Weather Magic",ranks:[{rank:1,edid:"REQ_Alteration_WeatherMagic_050_WeatherMagic",name:"Weather Magic",description:{base:"Wind spells are stronger and more efficient.",subtext:"[1.2x magnitude, 1.2x duration, 0.8x cost for wind spells]"},prerequisites:{skillLevel:{skill:"Alteration",level:50}}}],totalRanks:1,connections:{parents:["REQ_Alteration_Mastery_050_AdeptAlteration"],children:["REQ_Alteration_WeatherMagic_075_MasterOfStorms"]},isRoot:!1,position:{x:3,y:4,horizontal:-.25,vertical:0}},{edid:"REQ_Alteration_WeatherMagic_075_MasterOfStorms",name:"Master of Storms",ranks:[{rank:1,edid:"REQ_Alteration_WeatherMagic_075_MasterOfStorms",name:"Master of Storms",description:{base:"Wind spells are more devastating at exteriors, and you can summon a thunderstorm with Control Weather spell.",subtext:"[1.33x wind spell magnitude at exteriors, can choose Storm weather with Control Weather spell]"},prerequisites:{skillLevel:{skill:"Alteration",level:75}}}],totalRanks:1,connections:{parents:["REQ_Alteration_WeatherMagic_050_WeatherMagic"],children:[]},isRoot:!1,position:{x:4,y:5,horizontal:0,vertical:0}},{edid:"Feat_Perk_Char_Alteration_UnskilledSpellcasting1",name:"Unskilled Spellcasting",ranks:[{rank:1,edid:"Feat_Perk_Char_Alteration_UnskilledSpellcasting1",name:"Unskilled Spellcasting",description:{base:"You can cast simple spells without mastering them but with less potency.",subtext:"[Spells up to Novice level cost 50% less magicka to cast without mastery perks]"},prerequisites:{}},{rank:2,edid:"Feat_Perk_Char_Alteration_UnskilledSpellcasting2",name:"Unskilled Spellcasting",description:{base:"You can cast simple spells without mastering them but with less potency. [Requires Level 10]",subtext:"[Spells up to Apprentice level cost 50% less magicka to cast without mastery perks, +0.5% spell power for each skill level]"},prerequisites:{characterLevel:10}},{rank:3,edid:"Feat_Perk_Char_Alteration_UnskilledSpellcasting3",name:"Unskilled Spellcasting",description:{base:"You can cast simple spells without mastering them but with less potency. [Requires Level 20]",subtext:"[Spells up to Adept level cost 50% less magicka to cast without mastery perks, +1% spell power for each skill level]"},prerequisites:{characterLevel:20}}],totalRanks:3,connections:{parents:[],children:[]},isRoot:!0,position:{x:4,y:0,horizontal:0,vertical:0}},{edid:"Feat_Perk_Char_Alteration_Metamagic1",name:"Metamagic",ranks:[{rank:1,edid:"Feat_Perk_Char_Alteration_Metamagic1",name:"Metamagic",description:{base:"You can empower your spells in cost of more Magicka to cast them. [Requires Level 10]",subtext:"[Apply one of the three bonuses with 50% more magicka cost: 20% higher magnitude, 20% longer duration, 3x longer spell range]"},prerequisites:{characterLevel:10}}],totalRanks:1,connections:{parents:[],children:[]},isRoot:!0,position:{x:1,y:0,horizontal:0,vertical:0}},{edid:"Feat_Perk_Char_Alteration_Willpower1",name:"Willpower",ranks:[{rank:1,edid:"Feat_Perk_Char_Alteration_Willpower1",name:"Willpower",description:{base:"Your strong willpower provides resistance to harmful magic and more stamina. [Requires Level 10]",subtext:"[+5% magic resistance when Magic Resistance perk is not taken, +10 stamina]"},prerequisites:{characterLevel:10}},{rank:2,edid:"Feat_Perk_Char_Alteration_Willpower2",name:"Willpower",description:{base:"Your strong willpower provides resistance to harmful magic and more stamina. [Requires Level 20]",subtext:"[+10% magic resistance when Magic Resistance perk is not taken, +20 stamina]"},prerequisites:{characterLevel:20}},{rank:3,edid:"Feat_Perk_Char_Alteration_Willpower3",name:"Willpower",description:{base:"Your strong willpower provides resistance to harmful magic and more stamina. [Requires Level 30]",subtext:"[+15% magic resistance when Magic Resistance perk is not taken, +30 stamina]"},prerequisites:{characterLevel:30}}],totalRanks:3,connections:{parents:[],children:[]},isRoot:!0,position:{x:0,y:0,horizontal:0,vertical:0}}]},{treeId:"AVSpeechcraft",treeName:"Speech",treeDescription:"Those who dabble in the fine art of speechcraft are able to haggle for the best prices, and to convince about anyone of anything.",category:"Stealth",perks:[{edid:"REQ_Speech_Haggling",name:"Haggling",ranks:[{rank:1,edid:"REQ_Speech_Haggling",name:"Haggling",description:{base:"You've learned how to deal with Skyrim's greedy merchants",subtext:"Prices are better and scale 1% per speech level."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Speech_Merchant","REQ_Speech_SilverTongue","Feat_Perk_Skill_Speechcraft_Commander1"]},isRoot:!0,position:{x:4,y:0,horizontal:.013333000242710114,vertical:0}},{edid:"REQ_Speech_Merchant",name:"Merchant",ranks:[{rank:1,edid:"REQ_Speech_Merchant",name:"Merchant",description:{base:"You can invest gold to permanently increase the amount of gold that merchants have,",subtext:"merchants will buy any non-stolen item, sell price is increased by 15%."},prerequisites:{skillLevel:{skill:"Speech",level:50}}}],totalRanks:1,connections:{parents:["REQ_Speech_Haggling"],children:["REQ_Speech_Fencing"]},isRoot:!1,position:{x:5,y:0,horizontal:-.5,vertical:.6000000238418579}},{edid:"REQ_Speech_Fencing",name:"Fencing",ranks:[{rank:1,edid:"REQ_Speech_Fencing",name:"Fencing",description:{base:"You've become so persuasive that you could make almost anyone believe that",subtext:"your goods are of a legal origin."},prerequisites:{skillLevel:{skill:"Speech",level:100}}}],totalRanks:1,connections:{parents:["REQ_Speech_Merchant"],children:[]},isRoot:!1,position:{x:4,y:1,horizontal:-.09333299845457077,vertical:-.10000000149011612}},{edid:"REQ_Speech_SilverTongue",name:"Silver Tongue",ranks:[{rank:1,edid:"REQ_Speech_SilverTongue",name:"Silver Tongue",description:{base:"You've spent quite some time improving your rhetorical skills, intimidation is much more likely to succeed",subtext:"and you gain 10% better prices from the opposite gender."},prerequisites:{skillLevel:{skill:"Speech",level:25}}}],totalRanks:1,connections:{parents:["REQ_Speech_Haggling"],children:["REQ_Speech_Masquerade1","REQ_Speech_Leadership","Feat_Perk_Skill_Speechcraft_WarCry"]},isRoot:!1,position:{x:5,y:0,horizontal:-.06666699796915054,vertical:0}},{edid:"REQ_Speech_Masquerade1",name:"Masquerade",ranks:[{rank:1,edid:"REQ_Speech_Masquerade1",name:"Masquerade",description:{base:"You've become proficient at acting, and with the right equipment you can now disguise yourself",subtext:"as a Forsworn, Imperial, Stormcloak, Necromancer, Thalmor or Warlock to (usually) avoid detection."},prerequisites:{skillLevel:{skill:"Speech",level:50}}},{rank:2,edid:"REQ_Speech_Masquerade2",name:"Masquerade",description:{base:"There is no role you cannot play, and your acting is so believable that there is almost no way",subtext:"for others to see through your disguises."},prerequisites:{skillLevel:{skill:"Speech",level:100}}}],totalRanks:2,connections:{parents:["REQ_Speech_SilverTongue"],children:[]},isRoot:!1,position:{x:5,y:2,horizontal:.14000000059604645,vertical:1.0800000429153442}},{edid:"REQ_Speech_Leadership",name:"Leadership",ranks:[{rank:1,edid:"REQ_Speech_Leadership",name:"Leadership",description:{base:"Your rhetorical skill makes you the perfect leader. By inspiring all those who fight by your side,",subtext:"followers gain 20% damage, -15% spell cost, +75% block, +100 magicka and stamina, 50 carry weight."},prerequisites:{skillLevel:{skill:"Speech",level:75}}}],totalRanks:1,connections:{parents:["REQ_Speech_SilverTongue"],children:[]},isRoot:!1,position:{x:5,y:1,horizontal:-.5,vertical:.800000011920929}},{edid:"REQ_Speech_LoreOfTheThuum",name:"Lore of the Thu'um",ranks:[{rank:1,edid:"REQ_Speech_LoreOfTheThuum",name:"Lore of the Thu'um",description:{base:"You've been studying the lore and ancient script of dragons and the Thu'um.",subtext:"Thus, you can shout cooldown is reduced by 10%."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Speech_TonguesInsight","REQ_Speech_SpritiualEquilibirum","REQ_Speech_IndomitableForce","REQ_Speech_DestructiveUrge","REQ_Speech_TheWayOfTheVoice"]},isRoot:!0,position:{x:1,y:0,horizontal:-.3666670024394989,vertical:0}},{edid:"REQ_Speech_TonguesInsight",name:"Tongue's Insight",ranks:[{rank:1,edid:"REQ_Speech_TonguesInsight",name:"Tongue's Insight",description:{base:"You've spent time meditating on the Way of the Voice, unearthing more knowledge.",subtext:"Grants a dragon soul at the cost of a perk point."},prerequisites:{}}],totalRanks:1,connections:{parents:["REQ_Speech_LoreOfTheThuum"],children:[]},isRoot:!1,position:{x:0,y:3,horizontal:-.16666699945926666,vertical:1}},{edid:"REQ_Speech_SpritiualEquilibirum",name:"Spiritual Equilibrium",ranks:[{rank:1,edid:"REQ_Speech_SpritiualEquilibirum",name:"Spiritual Equilibrium",description:{base:"You have been guided in meditating on the Thu'um.",subtext:"Now your shouts linger, lasting 15% longer than they did before."},prerequisites:{}}],totalRanks:1,connections:{parents:["REQ_Speech_LoreOfTheThuum"],children:[]},isRoot:!1,position:{x:2,y:1,horizontal:-.23333300650119781,vertical:1.1399999856948853}},{edid:"REQ_Speech_IndomitableForce",name:"Indomitable Force",ranks:[{rank:1,edid:"REQ_Speech_IndomitableForce",name:"Indomitable Force",description:{base:"You know what it means to be called Ysmir, Dragon of the North.",subtext:"Enemy shout effects are reduced by 50%."},prerequisites:{}}],totalRanks:1,connections:{parents:["REQ_Speech_LoreOfTheThuum"],children:[]},isRoot:!1,position:{x:2,y:1,horizontal:-.026667000725865364,vertical:-.11999999731779099}},{edid:"REQ_Speech_DestructiveUrge",name:"Destructive Urge",ranks:[{rank:1,edid:"REQ_Speech_DestructiveUrge",name:"Destructive Urge",description:{base:"The horrors that the Thu'um can inflict are etched into your mind just as you have seen them etched into stone.",subtext:"Your shouts have 15% greater magnitude."},prerequisites:{}}],totalRanks:1,connections:{parents:["REQ_Speech_LoreOfTheThuum"],children:[]},isRoot:!1,position:{x:2,y:0,horizontal:-.3400000035762787,vertical:0}},{edid:"REQ_Speech_TheWayOfTheVoice",name:"The Way of the Voice",ranks:[{rank:1,edid:"REQ_Speech_TheWayOfTheVoice",name:"The Way of the Voice",description:{base:"You've meditated thoroughly, and acquired vast insights into the Way of the Voice.",subtext:"Gain a daily power that lets you use your shouts more rapidly."},prerequisites:{}}],totalRanks:1,connections:{parents:["REQ_Speech_LoreOfTheThuum"],children:[]},isRoot:!1,position:{x:1,y:2,horizontal:.16666699945926666,vertical:1.3600000143051147}},{edid:"Feat_Perk_Skill_Speechcraft_Commander1",name:"Commander",ranks:[{rank:1,edid:"Feat_Perk_Skill_Speechcraft_Commander1",name:"Commander",description:{base:"Your knowledge in combat tactics allow you to effectively lead your allies in combat.",subtext:"[Improve nearby allies' skills by 10%, increase magicka, stamina, and their regeneration by 50(%), increase unarmed damage by 5]"},prerequisites:{skillLevel:{skill:"Speech",level:25}}},{rank:2,edid:"Feat_Perk_Skill_Speechcraft_Commander2",name:"Commander",description:{base:"Your knowledge in combat tactics allow you to effectively lead your allies in combat.",subtext:"[Improve nearby allies' skills by 20%, increase magicka, stamina, and their regeneration by 100(%), increase unarmed damage by 10]"},prerequisites:{skillLevel:{skill:"Speech",level:50}}},{rank:3,edid:"Feat_Perk_Skill_Speechcraft_Commander3",name:"Commander",description:{base:"Your knowledge in combat tactics allow you to effectively lead your allies in combat.",subtext:"[Improve nearby allies' skills by 30%, increase magicka, stamina, and their regeneration by 150(%), increase unarmed damage by 15]"},prerequisites:{skillLevel:{skill:"Speech",level:75}}}],totalRanks:3,connections:{parents:["REQ_Speech_Haggling"],children:[]},isRoot:!1,position:{x:3,y:0,horizontal:.5,vertical:.5}},{edid:"Feat_Perk_Char_Speechcraft_ShoutFocus1",name:"Shout Focus",ranks:[{rank:1,edid:"Feat_Perk_Char_Speechcraft_ShoutFocus1",name:"Shout Focus",description:{base:"Your meditate on the Thu'um for deeper understanding of the Words of Power, making them more powerful. [Requires Level 10]",subtext:"[Shouts are 5% more powerful, shout cooldown is reduced by 10%]"},prerequisites:{characterLevel:10}},{rank:2,edid:"Feat_Perk_Char_Speechcraft_ShoutFocus2",name:"Shout Focus",description:{base:"Your meditate on the Thu'um for deeper understanding of the Words of Power, making them more powerful. [Requires Level 20]",subtext:"[Shouts are 10% more powerful, shout cooldown is reduced by 20%]"},prerequisites:{characterLevel:20}},{rank:3,edid:"Feat_Perk_Char_Speechcraft_ShoutFocus3",name:"Shout Focus",description:{base:"Your meditate on the Thu'um for deeper understanding of the Words of Power, making them more powerful. [Requires Level 30]",subtext:"[Shouts are 15% more powerful, shout cooldown is reduced by 30%]"},prerequisites:{characterLevel:30}}],totalRanks:3,connections:{parents:[],children:[]},isRoot:!0,position:{x:2,y:0,horizontal:.5,vertical:0}},{edid:"Feat_Perk_Skill_Speechcraft_WarCry",name:"War Cry",ranks:[{rank:1,edid:"Feat_Perk_Skill_Speechcraft_WarCry",name:"War Cry",description:{base:"Overwhelm your enemies with a roaring shout, striking fear into their hearts and sending weakner enemies fleeing.",subtext:"[living enemies up to level 30 do 20% less damage, enemies up to level 20 flee from combat for one minute]"},prerequisites:{skillLevel:{skill:"Speech",level:50}}}],totalRanks:1,connections:{parents:["REQ_Speech_SilverTongue"],children:[]},isRoot:!1,position:{x:5,y:1,horizontal:.5,vertical:.5}}]},{treeId:"AVAlchemy",treeName:"Alchemy",treeDescription:"Alchemy is the art of creating magical potions, extracts and deadly poisons.",category:"Magic",perks:[{edid:"REQ_Alchemy_AlchemicalLore1",name:"Alchemical Lore",ranks:[{rank:1,edid:"REQ_Alchemy_AlchemicalLore1",name:"Alchemical Lore",description:{base:"You've acquired basic alchemical insights and understand how to work with a laboratory.",subtext:"Thus, you can now craft your own potions and poisons."},prerequisites:{}},{rank:2,edid:"REQ_Alchemy_AlchemicalLore2",name:"Alchemical Lore",description:{base:"Through obscure knowledge, you now can enhance your mixtures and craft alchemistic powders at a smelter.",subtext:"Besides, your sensory organs have become very keen. Thus, you determine all the alchemical properties of consumed ingredients."},prerequisites:{skillLevel:{skill:"Alchemy",level:20}}}],totalRanks:2,connections:{parents:[],children:["REQ_Alchemy_ImprovedElixirs","REQ_Alchemy_ConcentratedPoisons"]},isRoot:!0,position:{x:3,y:0,horizontal:-.11333300173282623,vertical:0}},{edid:"REQ_Alchemy_ImprovedElixirs",name:"Improved Elixirs",ranks:[{rank:1,edid:"REQ_Alchemy_ImprovedElixirs",name:"Improved Elixirs",description:{base:"Having refinined the brewing process,",subtext:"your potions are now 25% stronger."},prerequisites:{skillLevel:{skill:"Alchemy",level:25}}}],totalRanks:1,connections:{parents:["REQ_Alchemy_AlchemicalLore1"],children:["REQ_Alchemy_Catalysis1","REQ_Alchemy_NightVision","REQ_Alchemy_Regeneration"]},isRoot:!1,position:{x:0,y:0,horizontal:.14000000059604645,vertical:.2800000011920929}},{edid:"REQ_Alchemy_Catalysis1",name:"Catalysis",ranks:[{rank:1,edid:"REQ_Alchemy_Catalysis1",name:"Catalysis",description:{base:"You've started experimenting with a catalyst that increases the yield of the brewing process.",subtext:""},prerequisites:{skillLevel:{skill:"Alchemy",level:50}}},{rank:2,edid:"REQ_Alchemy_Catalysis2",name:"Catalysis",description:{base:"You've perfected the catalyst. Thereby, you can craft double the amount of",subtext:"mixtures with the same amount of ingredients."},prerequisites:{skillLevel:{skill:"Alchemy",level:100}}}],totalRanks:2,connections:{parents:["REQ_Alchemy_ImprovedElixirs"],children:["REQ_Alchemy_Immunization"]},isRoot:!1,position:{x:1,y:2,horizontal:-.15333299338817596,vertical:.10000000149011612}},{edid:"REQ_Alchemy_Immunization",name:"Immunization",ranks:[{rank:1,edid:"REQ_Alchemy_Immunization",name:"Immunization",description:{base:"You've discovered a way to make your body more resiliant to disease and poison (50% and 25% respectively)",subtext:""},prerequisites:{skillLevel:{skill:"Alchemy",level:75}}}],totalRanks:1,connections:{parents:["REQ_Alchemy_Catalysis1","REQ_Alchemy_ImprovedPoisons"],children:["REQ_Alchemy_PurificationProcess","REQ_Alchemy_FortifiedMuscles","REQ_Alchemy_AlchemicalIntellect"]},isRoot:!1,position:{x:1,y:3,horizontal:-.04666699841618538,vertical:1.3200000524520874}},{edid:"REQ_Alchemy_PurificationProcess",name:"Purification Process",ranks:[{rank:1,edid:"REQ_Alchemy_PurificationProcess",name:"Purification Process",description:{base:"You've found a method to eliminate disadvantages from your mixtures",subtext:"and to make all of them even more potent."},prerequisites:{skillLevel:{skill:"Alchemy",level:100}}}],totalRanks:1,connections:{parents:["REQ_Alchemy_Immunization"],children:[]},isRoot:!1,position:{x:2,y:4,horizontal:-.5600000023841858,vertical:2.200000047683716}},{edid:"REQ_Alchemy_FortifiedMuscles",name:"Fortified Muscles",ranks:[{rank:1,edid:"REQ_Alchemy_FortifiedMuscles",name:"Fortified Muscles",description:{base:"Having altered your body with extracts from troll fat and a mammoth heart,",subtext:"you've become more resilient to harm."},prerequisites:{skillLevel:{skill:"Alchemy",level:75},items:[{type:"INGR",id:"0x0003AD72"},{type:"INGR",id:"0x8C043661"}]}}],totalRanks:1,connections:{parents:["REQ_Alchemy_FortifiedMuscles","REQ_Alchemy_Immunization"],children:["REQ_Alchemy_FortifiedMuscles"]},isRoot:!1,position:{x:2,y:2,horizontal:-.4533329904079437,vertical:.10000000149011612}},{edid:"REQ_Alchemy_AlchemicalIntellect",name:"Alchemical Intellect",ranks:[{rank:1,edid:"REQ_Alchemy_AlchemicalIntellect",name:"Alchemical Intellect",description:{base:"Having altered your body with extracts from a Dremora's Heart and Ectoplasm,",subtext:"your mind has transcended mortal limits, expanding your magicka and improving your spell casting."},prerequisites:{skillLevel:{skill:"Alchemy",level:100},items:[{type:"INGR",id:"0x0003AD5B"},{type:"INGR",id:"0x0003AD63"}]}}],totalRanks:1,connections:{parents:["REQ_Alchemy_AlchemicalIntellect","REQ_Alchemy_Immunization"],children:["REQ_Alchemy_AlchemicalIntellect"]},isRoot:!1,position:{x:0,y:4,horizontal:.14000000059604645,vertical:1.2400000095367432}},{edid:"REQ_Alchemy_NightVision",name:"Night Vision",ranks:[{rank:1,edid:"REQ_Alchemy_NightVision",name:"Night Vision",description:{base:"Having altered your body with extracts from a sabrecat eye,",subtext:"you can now make your eyes see in the dark at will."},prerequisites:{skillLevel:{skill:"Alchemy",level:25},items:[{type:"INGR",id:"0x0006BC07"}]}}],totalRanks:1,connections:{parents:["REQ_Alchemy_NightVision","REQ_Alchemy_ImprovedElixirs"],children:["REQ_Alchemy_NightVision"]},isRoot:!1,position:{x:0,y:1,horizontal:-.06666699796915054,vertical:.20000000298023224}},{edid:"REQ_Alchemy_Regeneration",name:"Regeneration",ranks:[{rank:1,edid:"REQ_Alchemy_Regeneration",name:"Regeneration",description:{base:"Having altered your body with extracts from troll fat, slaughterfish eggs and spriggan sap,",subtext:"you're now able to regenerate your body, and do so even more rapidly when you are immersed in water."},prerequisites:{skillLevel:{skill:"Alchemy",level:50},items:[{type:"INGR",id:"0x0003AD72"},{type:"INGR",id:"0x0007E8C5"},{type:"INGR",id:"0x00063B5F"}]}}],totalRanks:1,connections:{parents:["REQ_Alchemy_ImprovedElixirs","REQ_Alchemy_Regeneration"],children:["REQ_Alchemy_Regeneration"]},isRoot:!1,position:{x:1,y:1,horizontal:-.5600000023841858,vertical:1.7400000095367432}},{edid:"REQ_Alchemy_ConcentratedPoisons",name:"Concentrated Poisons",ranks:[{rank:1,edid:"REQ_Alchemy_ConcentratedPoisons",name:"Concentrated Poisons",description:{base:"Your experience in the obscure alchemical arts allows you to concentrate your poisons.",subtext:"Thus, you can make most of them last longer before they need to be reapplied."},prerequisites:{skillLevel:{skill:"Alchemy",level:25}}}],totalRanks:1,connections:{parents:["REQ_Alchemy_AlchemicalLore1"],children:["REQ_Alchemy_ImprovedPoisons"]},isRoot:!1,position:{x:3,y:1,horizontal:-.43333300948143005,vertical:.20000000298023224}},{edid:"REQ_Alchemy_ImprovedPoisons",name:"Improved Poisons",ranks:[{rank:1,edid:"REQ_Alchemy_ImprovedPoisons",name:"Improved Poisons",description:{base:"By adding small amounts of truly horrifying ingredients,",subtext:"you are able to make your poisons more potent."},prerequisites:{skillLevel:{skill:"Alchemy",level:50}}}],totalRanks:1,connections:{parents:["REQ_Alchemy_ConcentratedPoisons"],children:["REQ_Alchemy_Immunization","ORD_Alc60_Alkahest_Perk_60"]},isRoot:!1,position:{x:3,y:2,horizontal:-.43333300948143005,vertical:.7599999904632568}},{edid:"Feat_Perk_Char_Alchemy_DrunkenCombat1",name:"Drunken Combat",ranks:[{rank:1,edid:"Feat_Perk_Char_Alchemy_DrunkenCombat1",name:"Drunken Combat",description:{base:"Alcohol pumps you up, boosting your strength and stamina. [Requires Level 10]",subtext:"[Removes Alcohol Blur, regenerate 2 stamina per second and do 10% more damage with melee attacks while tipsy]"},prerequisites:{characterLevel:10}},{rank:2,edid:"Feat_Perk_Char_Alchemy_DrunkenCombat2",name:"Drunken Combat",description:{base:"Alcohol pumps you up, boosting your strength and stamina. [Requires Level 20]",subtext:"[Removes Alcohol Blur, regenerate 3 stamina per second and do 20% more damage with melee attacks while drunk]"},prerequisites:{characterLevel:20}}],totalRanks:2,connections:{parents:[],children:[]},isRoot:!0,position:{x:4,y:0,horizontal:0,vertical:0}},{edid:"Feat_Perk_Char_Alchemy_Gourmet1",name:"Gourmet",ranks:[{rank:1,edid:"Feat_Perk_Char_Alchemy_Gourmet1",name:"Gourmet",description:{base:"You keep a healthy diet, maximizing the nutrition of foods. [Requires Level 10]",subtext:"[Food effects are 50% stronger and longer lasting]"},prerequisites:{characterLevel:10}}],totalRanks:1,connections:{parents:[],children:[]},isRoot:!1,position:{x:4,y:1,horizontal:0,vertical:0}},{edid:"Feat_Perk_Char_Alchemy_Herbalist1",name:"Herbalist",ranks:[{rank:1,edid:"Feat_Perk_Char_Alchemy_Herbalist1",name:"Herbalist",description:{base:"You can directly consume alchemical ingredients to draw their effects. [Requires Level 10]",subtext:"[2x magnitude for ingredients consumed]"},prerequisites:{characterLevel:10}},{rank:2,edid:"Feat_Perk_Char_Alchemy_Herbalist2",name:"Herbalist",description:{base:"You can directly consume alchemical ingredients to draw their effects. [Requires Level 20]",subtext:"[5x magnitude for ingredients consumed]"},prerequisites:{characterLevel:20}}],totalRanks:2,connections:{parents:[],children:[]},isRoot:!1,position:{x:4,y:2,horizontal:0,vertical:0}},{edid:"ORD_Alc60_Alkahest_Perk_60",name:"Alkahest",ranks:[{rank:60,edid:"ORD_Alc60_Alkahest_Perk_60",name:"Alkahest",description:{base:"Your poisons are highly corrosive, enabling you to ignore 20% of the armor rating of an affected target for their duration.",subtext:""},prerequisites:{skillLevel:{skill:"Alchemy",level:60}}}],totalRanks:1,connections:{parents:["REQ_Alchemy_ImprovedPoisons"],children:["ORD_Alc90_WorldSerpent_Perk_90_OrdASISExclude"]},isRoot:!1,position:{x:3,y:4,horizontal:-.028571000322699547,vertical:-.1857140064239502}},{edid:"ORD_Alc90_WorldSerpent_Perk_90_OrdASISExclude",name:"World Serpent",ranks:[{rank:1,edid:"ORD_Alc90_WorldSerpent_Perk_90_OrdASISExclude",name:"World Serpent",description:{base:"When you shout, your blood turns poisonous for 15 seconds. The next time you get hit with a weapon, retaliate with a powerful poisonous strike that deals 50 points of poison damage per second for 10 seconds.",subtext:""},prerequisites:{skillLevel:{skill:"Alchemy",level:90}}}],totalRanks:1,connections:{parents:["ORD_Alc60_Alkahest_Perk_60"],children:[]},isRoot:!1,position:{x:2,y:4,horizontal:.14285700023174286,vertical:.7285709977149963}}]},{treeId:"AVSneak",treeName:"Sneak",treeDescription:"Sneaking is the art of moving unseen and unheard.",category:"Stealth",perks:[{edid:"REQ_Sneak_Mastery_000_Stealth1",name:"Stealth",ranks:[{rank:1,edid:"REQ_Sneak_Mastery_000_Stealth1",name:"Stealth",description:{base:"You know the basics of moving silently and are 30% harder to detect when sneaking",subtext:"while not wearing any heavy armor."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Sneak_Assassin_025_DeftStrike","REQ_Sneak_Mastery_025_MuffledMovement","Feat_Perk_Skill_Sneak_ArcaneAssassin1","ORD_Sne30_FogOfWar_Perk_30_OrdASISExclude","ORD_Sne20_Tripwire_Perk_20_OrdASISExclude"]},isRoot:!0,position:{x:3,y:0,horizontal:-.43333300948143005,vertical:-.019999999552965164}},{edid:"REQ_Sneak_Assassin_025_DeftStrike",name:"Deft Strike",ranks:[{rank:1,edid:"REQ_Sneak_Assassin_025_DeftStrike",name:"Deft Strike",description:{base:"You've learned to exploit weaknesses in your foes' armor",subtext:"when sneak attacking with daggers, bows or swords."},prerequisites:{skillLevel:{skill:"Sneak",level:25}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Mastery_000_Stealth1"],children:["REQ_Sneak_Assassin_050_AnatomicalLore"]},isRoot:!1,position:{x:2,y:1,horizontal:-.5600000023841858,vertical:-.10000000149011612}},{edid:"REQ_Sneak_Assassin_050_AnatomicalLore",name:"Anatomical Lore",ranks:[{rank:1,edid:"REQ_Sneak_Assassin_050_AnatomicalLore",name:"Anatomical Lore",description:{base:"Newfound knowledge of humanoid anatomy allows you to slay almost any human-like creature outright with sneak attacks.",subtext:"[5x/2x sneak attack damage with melee/ranged weapons on humanoids, 2x/1.5x on targets immune to sneak attacks]"},prerequisites:{skillLevel:{skill:"Sneak",level:50}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Assassin_025_DeftStrike"],children:["REQ_Sneak_Assassin_075_AdvancedAnatomicalLore","ORD_Sne80_ProblemSolver_Perk_80"]},isRoot:!1,position:{x:1,y:1,horizontal:.16666699945926666,vertical:1.1399999856948853}},{edid:"REQ_Sneak_Assassin_075_AdvancedAnatomicalLore",name:"Advanced Anatomical Lore",ranks:[{rank:1,edid:"REQ_Sneak_Assassin_075_AdvancedAnatomicalLore",name:"Advanced Anatomical Lore",description:{base:"Your vast knowledge of anatomy allows you to perform devastating sneak attacks on almost any target.",subtext:"[5x/2x sneak attack damage with melee/ranged weapons on all targets, 3x/2x on targets immune to sneak attacks]"},prerequisites:{skillLevel:{skill:"Sneak",level:75}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Assassin_050_AnatomicalLore"],children:[]},isRoot:!1,position:{x:2,y:2,horizontal:-.1333329975605011,vertical:.41999998688697815}},{edid:"REQ_Sneak_Mastery_025_MuffledMovement",name:"Muffled Movement",ranks:[{rank:1,edid:"REQ_Sneak_Mastery_025_MuffledMovement",name:"Muffled Movement",description:{base:"Your newfound finesse allows you to move more quietly while not wearing any heavy armor.",subtext:""},prerequisites:{skillLevel:{skill:"Sneak",level:25}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Mastery_000_Stealth1"],children:["REQ_Sneak_Mastery_050_LightSteps"]},isRoot:!1,position:{x:4,y:1,horizontal:.11333300173282623,vertical:-.10000000149011612}},{edid:"REQ_Sneak_Mastery_050_LightSteps",name:"Light Steps",ranks:[{rank:1,edid:"REQ_Sneak_Mastery_050_LightSteps",name:"Light Steps",description:{base:"By distributing your weight more consciously, you're able to move more freely while sneaking",subtext:"and avoid triggering pressure plates or similar mechanisms."},prerequisites:{skillLevel:{skill:"Sneak",level:50}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Mastery_025_MuffledMovement"],children:["REQ_Sneak_Mastery_075_Acrobatics"]},isRoot:!1,position:{x:4,y:1,horizontal:-.20000000298023224,vertical:1.1399999856948853}},{edid:"REQ_Sneak_Mastery_075_Acrobatics",name:"Acrobatics",ranks:[{rank:1,edid:"REQ_Sneak_Mastery_075_Acrobatics",name:"Acrobatics",description:{base:"Your improved balance allows you to silently roll forward,",subtext:"avoid getting knocked down except through magic and move even more quietly."},prerequisites:{skillLevel:{skill:"Sneak",level:75}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Mastery_050_LightSteps"],children:["REQ_Sneak_Mastery_100_Shadowrunner"]},isRoot:!1,position:{x:2,y:3,horizontal:.18666699528694153,vertical:.36000001430511475}},{edid:"REQ_Sneak_Mastery_100_Shadowrunner",name:"Shadowrunner",ranks:[{rank:1,edid:"REQ_Sneak_Mastery_100_Shadowrunner",name:"Shadowrunner",description:{base:"There's almost nothing you cannot evade.",subtext:"You are even harder to detect, more silent and all falling damage is decreased."},prerequisites:{skillLevel:{skill:"Sneak",level:100}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Mastery_075_Acrobatics"],children:[]},isRoot:!1,position:{x:0,y:4,horizontal:.14000000059604645,vertical:.2800000011920929}},{edid:"Feat_Perk_Skill_Sneak_ArcaneAssassin1",name:"Arcane Assassin",ranks:[{rank:1,edid:"Feat_Perk_Skill_Sneak_ArcaneAssassin1",name:"Arcane Assassin",description:{base:"You can suppress the noise cast by your spell and deliver stronger effect to unwary targets.",subtext:"[Spells and enchantments are silent when cast out of combat, spells are 10% more powerful on targets while undetected]"},prerequisites:{skillLevel:{skill:"Sneak",level:25}}},{rank:2,edid:"Feat_Perk_Skill_Sneak_ArcaneAssassin2",name:"Arcane Assassin",description:{base:"You can suppress the noise cast by your spell and deliver stronger effect to unwary targets.",subtext:"[Spells and enchantments are silent when cast out of combat, spells are 30% more powerful on targets while undetected]"},prerequisites:{skillLevel:{skill:"Sneak",level:50}}},{rank:3,edid:"Feat_Perk_Skill_Sneak_ArcaneAssassin3",name:"Arcane Assassin",description:{base:"You can suppress the noise cast by your spell and deliver stronger effect to unwary targets.",subtext:"[Spells and enchantments are silent when cast out of combat, spells are 50% more powerful on targets while undetected]"},prerequisites:{skillLevel:{skill:"Sneak",level:75}}}],totalRanks:3,connections:{parents:["REQ_Sneak_Mastery_000_Stealth1"],children:[]},isRoot:!1,position:{x:2,y:1,horizontal:0,vertical:.5}},{edid:"ORD_Sne80_ProblemSolver_Perk_80",name:"Problem Solver",ranks:[{rank:80,edid:"ORD_Sne80_ProblemSolver_Perk_80",name:"Problem Solver",description:{base:"Sneak attacks deal 10% more damage for each 200 points of Health the target has, up to 50% more damage.",subtext:""},prerequisites:{skillLevel:{skill:"Sneak",level:80}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Assassin_050_AnatomicalLore"],children:[]},isRoot:!1,position:{x:1,y:3,horizontal:-.4142859876155853,vertical:-.4000000059604645}},{edid:"ORD_Sne30_FogOfWar_Perk_30_OrdASISExclude",name:"Fog of War",ranks:[{rank:1,edid:"ORD_Sne30_FogOfWar_Perk_30_OrdASISExclude",name:"Fog of War",description:{base:"Sneaking is 15% more effective against targets that are in combat with you, or 30% if they are in combat with someone else.",subtext:""},prerequisites:{skillLevel:{skill:"Sneak",level:40}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Mastery_000_Stealth1"],children:["ORD_Sne90_CloakAndDagger_Perk_90"]},isRoot:!1,position:{x:1,y:0,horizontal:-.12857100367546082,vertical:.35714298486709595}},{edid:"ORD_Sne20_Tripwire_Perk_20_OrdASISExclude",name:"Tripwire",ranks:[{rank:1,edid:"ORD_Sne20_Tripwire_Perk_20_OrdASISExclude",name:"Tripwire",description:{base:'Grants the "Tripwire" power. At will, places a tripwire in front of you for 120 seconds. It snaps when tripped, knocking all targets hit by it to the floor.',subtext:""},prerequisites:{skillLevel:{skill:"Sneak",level:20}}}],totalRanks:1,connections:{parents:["REQ_Sneak_Mastery_000_Stealth1"],children:["ORD_Sne40_Whiplash_Perk_40_OrdASISExclude"]},isRoot:!1,position:{x:3,y:1,horizontal:-.014286000281572342,vertical:.014286000281572342}},{edid:"ORD_Sne40_Whiplash_Perk_40_OrdASISExclude",name:"Whiplash",ranks:[{rank:1,edid:"ORD_Sne40_Whiplash_Perk_40_OrdASISExclude",name:"Whiplash",description:{base:"Tripwire also reduces armor rating by 250 points for 10 seconds.",subtext:""},prerequisites:{skillLevel:{skill:"Sneak",level:50}}}],totalRanks:1,connections:{parents:["ORD_Sne20_Tripwire_Perk_20_OrdASISExclude"],children:[]},isRoot:!1,position:{x:3,y:2,horizontal:-.04285699874162674,vertical:-.14285700023174286}},{edid:"ORD_Sne90_CloakAndDagger_Perk_90",name:"Cloak and Dagger",ranks:[{rank:90,edid:"ORD_Sne90_CloakAndDagger_Perk_90",name:"Cloak and Dagger",description:{base:"Breaking invisibility with a power attack is a guaranteed critical strike that deals 50% more critical damage.",subtext:""},prerequisites:{skillLevel:{skill:"Sneak",level:70}}}],totalRanks:1,connections:{parents:["ORD_Sne30_FogOfWar_Perk_30_OrdASISExclude"],children:[]},isRoot:!1,position:{x:1,y:1,horizontal:-.35714298486709595,vertical:.32857099175453186}}]},{treeId:"AVLockpicking",treeName:"Wayfarer",treeDescription:"Seasoned Wayfarers, whether travelling alone or grouped, are proficient at opening locked doors and containers, as well as exploring and fining more treasures.",category:"Stealth",perks:[{edid:"REQ_Lockpicking_00_Looter",name:"Cheap Tricks",ranks:[{rank:1,edid:"REQ_Lockpicking_00_Looter",name:"Cheap Tricks",description:{base:"You have learned the basics of the art of picking locks and carrying found goods.",subtext:"[+3 lockpicking expertise, +25 carry weight, forge lockpicks with Craftsmanship]"},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Lockpicking_30_LoneWolf","REQ_Lockpicking_25_Locksmith","REQ_Lockpicking_30_Leader","BBWayfarer1"]},isRoot:!0,position:{x:3,y:0,horizontal:-.35714298486709595,vertical:-.05714299902319908}},{edid:"REQ_Lockpicking_30_LoneWolf",name:"Lone Wolf",ranks:[{rank:1,edid:"REQ_Lockpicking_30_LoneWolf",name:"Lone Wolf",description:{base:"Gain 15% magic resistance and 150 armor rating when fighting alone.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:25}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_00_Looter"],children:["REQ_Lockpicking_50_Solo"]},isRoot:!1,position:{x:1,y:1,horizontal:.14285700023174286,vertical:.20000000298023224}},{edid:"REQ_Lockpicking_50_Solo",name:"Solo",ranks:[{rank:1,edid:"REQ_Lockpicking_50_Solo",name:"Solo",description:{base:"Regenerate health, stamina and magicka 50% faster when you are fighting alone.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:40}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_30_LoneWolf"],children:["REQ_Lockpicking_70_Maverick"]},isRoot:!1,position:{x:1,y:1,horizontal:.14285700023174286,vertical:1.159999966621399}},{edid:"REQ_Lockpicking_70_Maverick",name:"Maverick",ranks:[{rank:1,edid:"REQ_Lockpicking_70_Maverick",name:"Maverick",description:{base:"You resist 10% fire, frost and shock damage when fighting alone.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:60}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_50_Solo"],children:["REQ_Lockpicking_100_OneManLegion"]},isRoot:!1,position:{x:1,y:2,horizontal:.14285700023174286,vertical:.7599999904632568}},{edid:"REQ_Lockpicking_100_OneManLegion",name:"One Man Legion",ranks:[{rank:1,edid:"REQ_Lockpicking_100_OneManLegion",name:"One Man Legion",description:{base:"Deal 10% more damage when you are fighting alone.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:100}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_70_Maverick"],children:[]},isRoot:!1,position:{x:1,y:3,horizontal:.14285700023174286,vertical:.6800000071525574}},{edid:"REQ_Lockpicking_25_Locksmith",name:"Advanced Lockpicking",ranks:[{rank:1,edid:"REQ_Lockpicking_25_Locksmith",name:"Advanced Lockpicking",description:{base:"You have extended your repertoire of lockpicking tricks and are able to carry more loot.",subtext:"[+2 Lockpicking Expertise, +25 carry weight]"},prerequisites:{skillLevel:{skill:"Lockpicking",level:25}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_00_Looter"],children:["REQ_Lockpicking_40_TreasureHunter","ORD_Loc30_Lockdown_Perk_30_OrdASISExclude"]},isRoot:!1,position:{x:3,y:0,horizontal:-.3428570032119751,vertical:.9200000166893005}},{edid:"REQ_Lockpicking_40_TreasureHunter",name:"Treasure Hunter",ranks:[{rank:1,edid:"REQ_Lockpicking_40_TreasureHunter",name:"Treasure Hunter",description:{base:"You are able to locate secret spaces in containers when you search them.",subtext:"[15% chance to find special loot in select chests]"},prerequisites:{skillLevel:{skill:"Lockpicking",level:40}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_25_Locksmith"],children:["REQ_Lockpicking_60_ExtraPocketsReplacer"]},isRoot:!1,position:{x:3,y:1,horizontal:-.3428570032119751,vertical:1.4800000190734863}},{edid:"REQ_Lockpicking_60_ExtraPocketsReplacer",name:"Sophisticated Lockpicking",ranks:[{rank:1,edid:"REQ_Lockpicking_60_ExtraPocketsReplacer",name:"Sophisticated Lockpicking",description:{base:"You have memorized the inner mechanics of sophisticated locks and security systems and are able to haul more loot out.",subtext:"[+2 Lockpicking Expertise, +25 Carry Weight]"},prerequisites:{skillLevel:{skill:"Lockpicking",level:60}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_40_TreasureHunter"],children:["REQ_Lockpicking_90_VeteranDelver"]},isRoot:!1,position:{x:3,y:2,horizontal:-.3428570032119751,vertical:1.399999976158142}},{edid:"REQ_Lockpicking_90_VeteranDelver",name:"Masterly Lockpicking",ranks:[{rank:1,edid:"REQ_Lockpicking_90_VeteranDelver",name:"Masterly Lockpicking",description:{base:"You learned everything there is to know about the art of lockpicking and hauling loot.",subtext:"[+2 Lockpicking Expertise, +25 Carry Weight, locks never break]"},prerequisites:{skillLevel:{skill:"Lockpicking",level:90}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_60_ExtraPocketsReplacer"],children:[]},isRoot:!1,position:{x:3,y:4,horizontal:-.3428570032119751,vertical:.2800000011920929}},{edid:"REQ_Lockpicking_30_Leader",name:"Leader",ranks:[{rank:1,edid:"REQ_Lockpicking_30_Leader",name:"Leader",description:{base:"Nearby allies, but not the player, gain 150 armor rating and 15% magical resistance.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:25}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_00_Looter"],children:["REQ_Lockpicking_50_Captain"]},isRoot:!1,position:{x:4,y:1,horizontal:0,vertical:.20000000298023224}},{edid:"REQ_Lockpicking_50_Captain",name:"Captain",ranks:[{rank:1,edid:"REQ_Lockpicking_50_Captain",name:"Captain",description:{base:"Allies, but not the player, regenerate health, stamina and magicka 50% faster.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:40}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_30_Leader"],children:["REQ_Lockpicking_70_Commander"]},isRoot:!1,position:{x:4,y:1,horizontal:0,vertical:1.159999966621399}},{edid:"REQ_Lockpicking_70_Commander",name:"Commander",ranks:[{rank:1,edid:"REQ_Lockpicking_70_Commander",name:"Commander",description:{base:"Nearby allies, but not the player, gain 10% resist to fire, frost and shock.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:60}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_50_Captain"],children:["REQ_Lockpicking_100_Legion"]},isRoot:!1,position:{x:4,y:2,horizontal:0,vertical:.7599999904632568}},{edid:"REQ_Lockpicking_100_Legion",name:"Legion",ranks:[{rank:1,edid:"REQ_Lockpicking_100_Legion",name:"Legion",description:{base:"Deal 10% more damage when you are fighting with allies.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:100}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_70_Commander"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:0,vertical:.6800000071525574}},{edid:"BBWayfarerTaming",name:"Taming",ranks:[{rank:1,edid:"BBWayfarerTaming",name:"Taming",description:{base:"You have mastered the outdoors and all of Skyrim's fauna. Gain a power to tame nearby animals under 50% health.",subtext:"Also move 10% faster outdoors."},prerequisites:{skillLevel:{skill:"Lockpicking",level:60}}}],totalRanks:1,connections:{parents:["BBWayfarerFood"],children:[]},isRoot:!1,position:{x:0,y:4,horizontal:.07142899930477142,vertical:.20000000298023224}},{edid:"BBWayfarerFood",name:"Survival Instincts",ranks:[{rank:1,edid:"BBWayfarerFood",name:"Survival Instincts",description:{base:"While others would ignore the threats of the elements, you understand the danger.",subtext:"Regenerate stamina and magicka 100% faster when outdoors and out of combat."},prerequisites:{skillLevel:{skill:"Lockpicking",level:40}}}],totalRanks:1,connections:{parents:["BBWayfarer1"],children:["BBWayfarerTaming"]},isRoot:!1,position:{x:0,y:3,horizontal:.05714299902319908,vertical:-.4428569972515106}},{edid:"BBWayfarer1",name:"Hunter",ranks:[{rank:1,edid:"BBWayfarer1",name:"Hunter",description:{base:"You've spent significant time hunting in the wilderness and can deal more damage to most animals.",subtext:"Deal 20% more damage to all animals."},prerequisites:{skillLevel:{skill:"Lockpicking",level:20}}},{rank:2,edid:"BBWayfarer2",name:"Hunter",description:{base:"You've spent significant time hunting in the wilderness and can deal more damage to most animals.",subtext:"Deal 40% more damage to all animals."},prerequisites:{skillLevel:{skill:"Lockpicking",level:40}}}],totalRanks:2,connections:{parents:["REQ_Lockpicking_00_Looter"],children:["BBWayfarerFood"]},isRoot:!1,position:{x:0,y:1,horizontal:.05714299902319908,vertical:.1857140064239502}},{edid:"ORD_Loc30_Lockdown_Perk_30_OrdASISExclude",name:"Lockdown",ranks:[{rank:1,edid:"ORD_Loc30_Lockdown_Perk_30_OrdASISExclude",name:"Lockdown",description:{base:"Activate a hostile automaton to lockpick your way into its engine. Lock difficulty is based on its current Health. Pick its lock within 15 seconds to reduce its Health to 1 and shut it down for 60 seconds. If you fail, you can't try again for 30 seconds.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:40}}}],totalRanks:1,connections:{parents:["REQ_Lockpicking_25_Locksmith"],children:["ORD_Loc50_Hotwire_Perk_50_OrdASISExclude"]},isRoot:!1,position:{x:2,y:2,horizontal:-.028571000322699547,vertical:.45714300870895386}},{edid:"ORD_Loc50_Hotwire_Perk_50_OrdASISExclude",name:"Hotwire",ranks:[{rank:1,edid:"ORD_Loc50_Hotwire_Perk_50_OrdASISExclude",name:"Hotwire",description:{base:"Activate an automaton under Lockdown to lockpick its brain. Succeed within 15 seconds to hack the automaton, forcing it to follow you and fight for you. If you fail, you can't try again for 30 seconds. You can only have one Hotwired Automaton at a time.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:60}}}],totalRanks:1,connections:{parents:["ORD_Loc30_Lockdown_Perk_30_OrdASISExclude"],children:["ORD_Loc90_PercussiveMaintenance_Perk_90_OrdASISExclude"]},isRoot:!1,position:{x:2,y:3,horizontal:-.05714299902319908,vertical:.3714289963245392}},{edid:"ORD_Loc90_PercussiveMaintenance_Perk_90_OrdASISExclude",name:"Percussive Maintenance",ranks:[{rank:1,edid:"ORD_Loc90_PercussiveMaintenance_Perk_90_OrdASISExclude",name:"Percussive Maintenance",description:{base:"Your Hotwired Automaton moves 30% faster and attacks 20% faster. Hitting your Hotwired Automaton with a mace or warhammer repairs it 150 points (or 300 points on a power attack) and further increases attack speed by 50% for 10 seconds.",subtext:""},prerequisites:{skillLevel:{skill:"Lockpicking",level:100}}}],totalRanks:1,connections:{parents:["ORD_Loc50_Hotwire_Perk_50_OrdASISExclude"],children:[]},isRoot:!1,position:{x:2,y:4,horizontal:-.07142899930477142,vertical:.30000001192092896}}]},{treeId:"AVPickpocket",treeName:"Finesse",treeDescription:"The art of pickpocketing, taking risks and elevating your own self.",category:"Stealth",perks:[{edid:"REQ_Pickpocket_Mastery_000_NimbleFingers1",name:"Nimble Fingers",ranks:[{rank:1,edid:"REQ_Pickpocket_Mastery_000_NimbleFingers1",name:"Nimble Fingers",description:{base:"You've spent some time improving your sleight of hand,",subtext:"which gives you substantial chances when pickpocketing."},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Pickpocket_20_Outlaw1","REQ_Pickpocket_30_Cutpurse","REQ_Pickpocket_30_Sound_Body"]},isRoot:!0,position:{x:3,y:0,horizontal:-.05714299902319908,vertical:-.028571000322699547}},{edid:"REQ_Pickpocket_20_Outlaw1",name:"Outlaw",ranks:[{rank:1,edid:"REQ_Pickpocket_20_Outlaw1",name:"Outlaw",description:{base:"You've been in and out of jail, where most people wither away you've used the time to reflect and train",subtext:"Gain 5 Health, Magicka and Stamina per Jail Escapes, Up To 5 Times."},prerequisites:{skillLevel:{skill:"Pickpocket",level:20}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_Mastery_000_NimbleFingers1"],children:["REQ_Pickpocket_50_Thief","ORD_Pic50_LawlessWorld_Perk_50_OrdASISExclude"]},isRoot:!1,position:{x:3,y:1,horizontal:-.04285699874162674,vertical:-.028571000322699547}},{edid:"REQ_Pickpocket_50_Thief",name:"Thief",ranks:[{rank:1,edid:"REQ_Pickpocket_50_Thief",name:"Thief",description:{base:"Gain carry weight, light armor rating and sneak ability per pocket picked,",subtext:"10 carry weight, 2% light armor rating and 3% sneak ability per 20 pockets picked, maxing out at 100."},prerequisites:{skillLevel:{skill:"Pickpocket",level:50}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_20_Outlaw1"],children:["REQ_Pickpocket_77_Lucky","ORD_Pic40_DeathsEmperor_Perk_40_OrdASISExclude"]},isRoot:!1,position:{x:3,y:2,horizontal:-.014286000281572342,vertical:-.05714299902319908}},{edid:"REQ_Pickpocket_77_Lucky",name:"Lucky 7",ranks:[{rank:1,edid:"REQ_Pickpocket_77_Lucky",name:"Lucky 7",description:{base:"You gain elemental resist based on how much gold you are currently carrying",subtext:"[Up to 21% Fire/Frost/Shock Resist, (3% per 5k gold, maxed at 35k)]"},prerequisites:{skillLevel:{skill:"Pickpocket",level:77}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_50_Thief"],children:[]},isRoot:!1,position:{x:3,y:3,horizontal:-.4142859876155853,vertical:-.1857140064239502}},{edid:"REQ_Pickpocket_30_Cutpurse",name:"Cutpurse",ranks:[{rank:1,edid:"REQ_Pickpocket_30_Cutpurse",name:"Cutpurse",description:{base:"Pickpocketing gold, keys, gems and jewelry is 50% easier. Pickpocketing sleeping targets is much easier.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:30}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_Mastery_000_NimbleFingers1"],children:["REQ_Pickpocket_50_NightThief"]},isRoot:!1,position:{x:4,y:1,horizontal:-.08571399748325348,vertical:-.07142899930477142}},{edid:"REQ_Pickpocket_50_NightThief",name:"Poisoner",ranks:[{rank:1,edid:"REQ_Pickpocket_50_NightThief",name:"Poisoner",description:{base:"Poisons placed in targets' pockets are 50% stronger when target is not detecting you.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:50}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_30_Cutpurse"],children:["REQ_Pickpocket_70_Misdirection","ORD_Pic40_DeathsEmperor_Perk_40_OrdASISExclude"]},isRoot:!1,position:{x:4,y:2,horizontal:-.08571399748325348,vertical:-.07142899930477142}},{edid:"REQ_Pickpocket_70_Misdirection",name:"Misdirection",ranks:[{rank:1,edid:"REQ_Pickpocket_70_Misdirection",name:"Misdirection",description:{base:"Can pickpocket equipped weapons, arrows and staves.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:70}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_50_NightThief"],children:["REQ_Pickpocket_100_PerfectTouch"]},isRoot:!1,position:{x:4,y:3,horizontal:-.08571399748325348,vertical:-.07142899930477142}},{edid:"REQ_Pickpocket_100_PerfectTouch",name:"Perfected Art",ranks:[{rank:1,edid:"REQ_Pickpocket_100_PerfectTouch",name:"Perfected Art",description:{base:"Your legendary skill means you almost never get caught.",subtext:"Poisons placed in pockets are 50% stronger on already poisoned targets."},prerequisites:{skillLevel:{skill:"Pickpocket",level:100}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_70_Misdirection"],children:[]},isRoot:!1,position:{x:3,y:4,horizontal:-.08571399748325348,vertical:-.04285699874162674}},{edid:"REQ_Pickpocket_30_Sound_Body",name:"Sound Body",ranks:[{rank:1,edid:"REQ_Pickpocket_30_Sound_Body",name:"Sound Body",description:{base:"You have unburdened your body. You gain 100 armor rating when not wearing armor and",subtext:"gain 10% armor penetration and 10 unarmed damage when unarmored."},prerequisites:{skillLevel:{skill:"Pickpocket",level:30}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_Mastery_000_NimbleFingers1","LoreRimTrapper_Rank1"],children:["Req_Pickpocket_60_Sound_Mind"]},isRoot:!1,position:{x:2,y:1,horizontal:-.07142899930477142,vertical:-.04285699874162674}},{edid:"Req_Pickpocket_60_Sound_Mind",name:"Sound Mind",ranks:[{rank:1,edid:"Req_Pickpocket_60_Sound_Mind",name:"Sound Mind",description:{base:"You've unburdened your inner thoughts, gaining 10% resistance to magic",subtext:"and 50% greater health, stamina and magicka regen when unarmored."},prerequisites:{skillLevel:{skill:"Pickpocket",level:60}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_30_Sound_Body"],children:["REQ_Pickpocket_80_Sound_Spirit"]},isRoot:!1,position:{x:2,y:2,horizontal:-.04285699874162674,vertical:-.014286000281572342}},{edid:"REQ_Pickpocket_80_Sound_Spirit",name:"Sound Spirit",ranks:[{rank:1,edid:"REQ_Pickpocket_80_Sound_Spirit",name:"Sound Spirit",description:{base:"You have unburdened your spirit and now shouts are 10% stronger and last 10% longer",subtext:"also you are 25% more resistant to diseases and poisons when unarmored."},prerequisites:{skillLevel:{skill:"Pickpocket",level:80}}}],totalRanks:1,connections:{parents:["Req_Pickpocket_60_Sound_Mind"],children:[]},isRoot:!1,position:{x:2,y:3,horizontal:-.05714299902319908,vertical:-.07142899930477142}},{edid:"LoreRimTrapper_Rank1",name:"Trapper",ranks:[{rank:1,edid:"LoreRimTrapper_Rank1",name:"Trapper",description:{base:"You can now pickup and deploy Bear Traps, and craft them yourself at the forge. Bear Traps deal extra damage based on your Finesse skill.",subtext:""},prerequisites:{}},{rank:2,edid:"LoreRimTrapper_Rank2",name:"Poisoned Clamps",description:{base:"Traps can now be poisoned.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:25}}},{rank:3,edid:"LoreRimTrapper_Rank3",name:"Salt on the Wound",description:{base:"When deploying a trap, you can consume elemental salt to coat it. Affected enemies take minor elemental damage, and on death, summon an atronach.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:50}}},{rank:4,edid:"LoreRimTrapper_Rank4",name:"Immobilizing Bite",description:{base:"Your bear traps paralyze any enemy caught in their jaws, and deal a small amount of unresistable damage.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:75}}}],totalRanks:4,connections:{parents:[],children:["REQ_Pickpocket_30_Sound_Body","REQ_Pickpocket_25_Pocket_sand"]},isRoot:!0,position:{x:1,y:0,horizontal:-.08571399748325348,vertical:-.05714299902319908}},{edid:"LoreRimTrapper_Rank1",name:"Poisoned Clamps",ranks:[{rank:1,edid:"LoreRimTrapper_Rank1",name:"Trapper",description:{base:"You can now pickup and deploy Bear Traps, and craft them yourself at the forge. Bear Traps deal extra damage based on your Finesse skill.",subtext:""},prerequisites:{}},{rank:2,edid:"LoreRimTrapper_Rank2",name:"Poisoned Clamps",description:{base:"Traps can now be poisoned.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:25}}},{rank:3,edid:"LoreRimTrapper_Rank3",name:"Salt on the Wound",description:{base:"When deploying a trap, you can consume elemental salt to coat it. Affected enemies take minor elemental damage, and on death, summon an atronach.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:50}}},{rank:4,edid:"LoreRimTrapper_Rank4",name:"Immobilizing Bite",description:{base:"Your bear traps paralyze any enemy caught in their jaws, and deal a small amount of unresistable damage.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:75}}}],totalRanks:4,connections:{parents:[],children:[]},isRoot:!0,position:{x:1,y:2,horizontal:-.07142899930477142,vertical:-.10000000149011612}},{edid:"LoreRimTrapper_Rank1",name:"Salt on the Wound",ranks:[{rank:1,edid:"LoreRimTrapper_Rank1",name:"Trapper",description:{base:"You can now pickup and deploy Bear Traps, and craft them yourself at the forge. Bear Traps deal extra damage based on your Finesse skill.",subtext:""},prerequisites:{}},{rank:2,edid:"LoreRimTrapper_Rank2",name:"Poisoned Clamps",description:{base:"Traps can now be poisoned.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:25}}},{rank:3,edid:"LoreRimTrapper_Rank3",name:"Salt on the Wound",description:{base:"When deploying a trap, you can consume elemental salt to coat it. Affected enemies take minor elemental damage, and on death, summon an atronach.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:50}}},{rank:4,edid:"LoreRimTrapper_Rank4",name:"Immobilizing Bite",description:{base:"Your bear traps paralyze any enemy caught in their jaws, and deal a small amount of unresistable damage.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:75}}}],totalRanks:4,connections:{parents:[],children:[]},isRoot:!0,position:{x:1,y:3,horizontal:-.07142899930477142,vertical:-.08571399748325348}},{edid:"REQ_Pickpocket_25_Pocket_sand",name:"Pocket Sand",ranks:[{rank:1,edid:"REQ_Pickpocket_25_Pocket_sand",name:"Pocket Sand",description:{base:"You're quick thinking and even quicker with your hands",subtext:"Can now create pocket sand at a forge and use it to impair enemies."},prerequisites:{skillLevel:{skill:"Pickpocket",level:25}}}],totalRanks:1,connections:{parents:["LoreRimTrapper_Rank1"],children:["REQ_Pickpocket_50_quick_sand"]},isRoot:!1,position:{x:0,y:2,horizontal:-.12857100367546082,vertical:-.05714299902319908}},{edid:"REQ_Pickpocket_50_quick_sand",name:"Quick Sand",ranks:[{rank:1,edid:"REQ_Pickpocket_50_quick_sand",name:"Quick Sand",description:{base:"Your pocket sand can now slow down enemies, making it easier to escape combat.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:50}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_25_Pocket_sand"],children:[]},isRoot:!1,position:{x:0,y:3,horizontal:-.05714299902319908,vertical:-.08571399748325348}},{edid:"ORD_Pic90_Mutiny_Perk_90_OrdASISExclude",name:"Mutiny",ranks:[{rank:1,edid:"ORD_Pic90_Mutiny_Perk_90_OrdASISExclude",name:"Mutiny",description:{base:`Grants the "Mutiny" power. At will, activates the curse of the Death's Emperor, causing whoever is in possession of the coin to attack randomly for 30 seconds. Any deaths resulting from this can't be traced back to you.`,subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:100}}}],totalRanks:1,connections:{parents:["ORD_Pic40_DeathsEmperor_Perk_40_OrdASISExclude"],children:[]},isRoot:!1,position:{x:3,y:3,horizontal:-.17142899334430695,vertical:.3714289963245392}},{edid:"ORD_Pic40_DeathsEmperor_Perk_40_OrdASISExclude",name:"Death's Emperor",ranks:[{rank:1,edid:"ORD_Pic40_DeathsEmperor_Perk_40_OrdASISExclude",name:"Death's Emperor",description:{base:"A cursed septim appears in your inventory. When someone else is in possession of the coin, your attacks deal 25% more damage and critical damage to them.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:70}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_50_Thief","REQ_Pickpocket_50_NightThief"],children:["ORD_Pic90_Mutiny_Perk_90_OrdASISExclude"]},isRoot:!1,position:{x:3,y:3,horizontal:.5,vertical:-.4285709857940674}},{edid:"ORD_Pic50_LawlessWorld_Perk_50_OrdASISExclude",name:"Lawless World",ranks:[{rank:1,edid:"ORD_Pic50_LawlessWorld_Perk_50_OrdASISExclude",name:"Lawless World",description:{base:"Petty crimes are slowly forgotten, allowing your bounties for non-violent crimes to decay at a rate of 50% of your Pickpocket skill level each day.",subtext:""},prerequisites:{skillLevel:{skill:"Pickpocket",level:40}}}],totalRanks:1,connections:{parents:["REQ_Pickpocket_20_Outlaw1"],children:[]},isRoot:!1,position:{x:2,y:2,horizontal:.4142859876155853,vertical:-.4142859876155853}}]},{treeId:"AVLightArmor",treeName:"Evasion",treeDescription:"Evasion is the art to evade enemy blows and allows a character to defend efficiently if he wears only light or even no armor.",category:"Stealth",perks:[{edid:"REQ_Evasion_Agility",name:"Agility",ranks:[{rank:1,edid:"REQ_Evasion_Agility",name:"Agility",description:{base:"After some training you are now much more confident in your evasive movements.",subtext:"[25% less falling damage when wearing no heavy armor, unique bonus when wearing high-quality materials, -50% armor weight penalty]"},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Evasion_Finesse","REQ_Evasion_Dodge","REQ_Evasion_AgileSpellcasting","Feat_Perk_Skill_Evasion_Unarmored1"]},isRoot:!0,position:{x:1,y:0,horizontal:-.3666670024394989,vertical:0}},{edid:"REQ_Evasion_Finesse",name:"Light Armor Training",ranks:[{rank:1,edid:"REQ_Evasion_Finesse",name:"Light Armor Training",description:{base:"Up to 12% more power attack and ranged weapon damage when wearing no heavy armor.",subtext:"25% more armor rating when wearing a low-tier light chestpiece (fur, hide, leather, etc) and no heavy armor."},prerequisites:{skillLevel:{skill:"Light Armor",level:25}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Agility"],children:["REQ_Evasion_CombatReflexes","REQ_Evasion_Dexterity","REQ_Evasion_VexingFlanker","Feat_Perk_Skill_Evasion_Athletics1"]},isRoot:!1,position:{x:1,y:1,horizontal:0,vertical:0}},{edid:"REQ_Evasion_CombatReflexes",name:"Combat Reflexes",ranks:[{rank:1,edid:"REQ_Evasion_CombatReflexes",name:"Combat Reflexes",description:{base:"You've gained the ability to act faster in combat, though doing so will quickly exhaust you.",subtext:"[Lesser power: Slow time by 50% for 10 seconds, drains 15 stamina per second]"},prerequisites:{skillLevel:{skill:"Light Armor",level:75}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Finesse","REQ_Evasion_VexingFlanker"],children:["REQ_Evasion_MeteoricReflexes"]},isRoot:!1,position:{x:0,y:3,horizontal:.14000000059604645,vertical:.36000001430511475}},{edid:"REQ_Evasion_MeteoricReflexes",name:"Meteoric Reflexes",ranks:[{rank:1,edid:"REQ_Evasion_MeteoricReflexes",name:"Meteoric Reflexes",description:{base:"Your reflexes are lightning fast.",subtext:"[50% chance avoid physical damage when wearing no heavy armor: head, chest, hands, feet]"},prerequisites:{skillLevel:{skill:"Light Armor",level:100}}}],totalRanks:1,connections:{parents:["REQ_Evasion_WindWalker","REQ_Evasion_CombatReflexes"],children:[]},isRoot:!1,position:{x:1,y:4,horizontal:0,vertical:0}},{edid:"REQ_Evasion_Dexterity",name:"Dexterity",ranks:[{rank:1,edid:"REQ_Evasion_Dexterity",name:"Dexterity",description:{base:"You can balance your weapon and have unlocked dynamic bow dodging.",subtext:"[Up to 24% less power attack cost when wearing no heavy armor, press RMB when drawing a light bow to dodge, release left click to fire]"},prerequisites:{skillLevel:{skill:"Light Armor",level:50}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Finesse"],children:["REQ_Evasion_WindWalker"]},isRoot:!1,position:{x:2,y:2,horizontal:.06666699796915054,vertical:.10000000149011612}},{edid:"REQ_Evasion_WindWalker",name:"Wind Walker",ranks:[{rank:1,edid:"REQ_Evasion_WindWalker",name:"Wind Walker",description:{base:"Your light armor and clothes have become your second skin.",subtext:"[Up to +10% movement speed when wearing no heavy armor: head, chest, hands, feet, -25% armor weight penalty]"},prerequisites:{skillLevel:{skill:"Light Armor",level:75}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Dexterity"],children:["REQ_Evasion_MeteoricReflexes"]},isRoot:!1,position:{x:2,y:3,horizontal:-.026667000725865364,vertical:0}},{edid:"REQ_Evasion_VexingFlanker",name:"Vexing Flanker",ranks:[{rank:1,edid:"REQ_Evasion_VexingFlanker",name:"Vexing Flanker",description:{base:"You have learned to flank your enemies with ease.",subtext:"[25% bonus damage when attacking from behind]"},prerequisites:{skillLevel:{skill:"Light Armor",level:50}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Finesse"],children:["REQ_Evasion_CombatReflexes"]},isRoot:!1,position:{x:0,y:2,horizontal:-.2800000011920929,vertical:.10000000149011612}},{edid:"REQ_Evasion_Dodge",name:"Dodge",ranks:[{rank:1,edid:"REQ_Evasion_Dodge",name:"Dodge",description:{base:"Your trained reflexes allow you to dodge incoming blows.",subtext:"[Unlocks ability to dodge. Left alt by default.]"},prerequisites:{skillLevel:{skill:"Light Armor",level:25}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Agility"],children:["ORD_Lia60_EvasiveLeap_Perk_60_OrdASISExclude","ORD_Lia30_AsALeaf_Perk_30"]},isRoot:!1,position:{x:0,y:1,horizontal:-.2800000011920929,vertical:-.11999999731779099}},{edid:"REQ_Evasion_AgileSpellcasting",name:"Agile Spellcasting",ranks:[{rank:1,edid:"REQ_Evasion_AgileSpellcasting",name:"Agile Spellcasting",description:{base:"You learned how to avoid the limitations light armors bestow upon somatic spell components.",subtext:"[No spell cost penalty for casting spells in light armor]"},prerequisites:{skillLevel:{skill:"Light Armor",level:25}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Agility"],children:[]},isRoot:!1,position:{x:2,y:1,horizontal:.18666699528694153,vertical:.5199999809265137}},{edid:"Feat_Perk_Skill_Evasion_Unarmored1",name:"Unarmored",ranks:[{rank:1,edid:"Feat_Perk_Skill_Evasion_Unarmored1",name:"Unarmored",description:{base:"Having no weight on your body grants you extreme precision and reflexes.",subtext:"[20% chance to avoid physical damage, +5% movement speed and +10% armor penetration when not wearing armor]"},prerequisites:{skillLevel:{skill:"Light Armor",level:25}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Agility"],children:[]},isRoot:!1,position:{x:2,y:0,horizontal:0,vertical:.5}},{edid:"Feat_Perk_Skill_Evasion_Athletics1",name:"Athletics",ranks:[{rank:1,edid:"Feat_Perk_Skill_Evasion_Athletics1",name:"Athletics",description:{base:"You are more agile and can recover from exhaustion faster.",subtext:"[+5% movement speed and +25% stamina regeneration when not wearing heavy armor]"},prerequisites:{skillLevel:{skill:"Light Armor",level:25}}},{rank:2,edid:"Feat_Perk_Skill_Evasion_Athletics2",name:"Athletics",description:{base:"You are more agile and can recover from exhaustion faster.",subtext:"[+10% movement speed and +50% stamina regeneration when not wearing heavy armor]"},prerequisites:{skillLevel:{skill:"Light Armor",level:50}}}],totalRanks:2,connections:{parents:["REQ_Evasion_Finesse"],children:["ORD_Lia20_AnnoyingMosquitoes_Perk_20"]},isRoot:!1,position:{x:1,y:2,horizontal:.25,vertical:0}},{edid:"ORD_Lia20_AnnoyingMosquitoes_Perk_20",name:"Annoying Mosquitoes",ranks:[{rank:20,edid:"ORD_Lia20_AnnoyingMosquitoes_Perk_20",name:"Annoying Mosquitoes",description:{base:"You take 10% less attack damage from enemies with full Health if not wearing heavy armor",subtext:""},prerequisites:{skillLevel:{skill:"Light Armor",level:40}}},{rank:50,edid:"ORD_Lia20_AnnoyingMosquitoes_Perk_50",name:"Annoying Mosquitoes",description:{base:"You take 20% less attack damage from enemies with full Health if not wearing heavy armor",subtext:""},prerequisites:{skillLevel:{skill:"Light Armor",level:60}}}],totalRanks:2,connections:{parents:["Feat_Perk_Skill_Evasion_Athletics1"],children:[]},isRoot:!1,position:{x:1,y:3,horizontal:.14285700023174286,vertical:-.1857140064239502}},{edid:"ORD_Lia60_EvasiveLeap_Perk_60_OrdASISExclude",name:"Evasive Leap",ranks:[{rank:1,edid:"ORD_Lia60_EvasiveLeap_Perk_60_OrdASISExclude",name:"Evasive Leap",description:{base:"If not wearing heavy armor, jump in combat to cause all incoming attacks and spells to miss for 1 second. This effect has a 10 second cooldown.",subtext:""},prerequisites:{skillLevel:{skill:"Light Armor",level:60}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Dodge"],children:[]},isRoot:!1,position:{x:0,y:1,horizontal:-.32857099175453186,vertical:.5}},{edid:"ORD_Lia30_AsALeaf_Perk_30",name:"As a Leaf",ranks:[{rank:30,edid:"ORD_Lia30_AsALeaf_Perk_30",name:"As a Leaf",description:{base:"While sprinting in Light Armor or while Unarmored, you cannot be staggered and take 50% less damage from power attacks.",subtext:""},prerequisites:{skillLevel:{skill:"Light Armor",level:40}}}],totalRanks:1,connections:{parents:["REQ_Evasion_Dodge"],children:[]},isRoot:!1,position:{x:0,y:1,horizontal:.17142899334430695,vertical:.35714298486709595}}]},{treeId:"AVHeavyArmor",treeName:"Heavy Armor",treeDescription:"Heavy armor reflects a warrior's talent in wearing heavy armor and fighting in it.",category:"Combat",perks:[{edid:"REQ_HeavyArmor_Conditioning",name:"Conditioning",ranks:[{rank:1,edid:"REQ_HeavyArmor_Conditioning",name:"Conditioning",description:{base:"You've accustomed yourself to using heavy armor.",subtext:"[No stamina drain for wearing heavy armor, unique bonus when wearing high-quality materials, -35% armor weight penalty]"},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_HeavyArmor_CombatCasting","REQ_HeavyArmor_CombatTraining","REQ_HeavyArmor_RelentlessOnslaught"]},isRoot:!0,position:{x:3,y:0,horizontal:-.006666999775916338,vertical:-.03999999910593033}},{edid:"REQ_HeavyArmor_CombatCasting",name:"Combat Casting",ranks:[{rank:1,edid:"REQ_HeavyArmor_CombatCasting",name:"Combat Casting",description:{base:"You are able to keep concentrated enough in heavy armor.",subtext:"[No spell cost penalty for casting Novice and Apprentice spells in heavy armor]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:25}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_Conditioning"],children:["REQ_HeavyArmor_CombatTrance"]},isRoot:!1,position:{x:5,y:1,horizontal:-.5,vertical:-.10000000149011612}},{edid:"REQ_HeavyArmor_CombatTrance",name:"Combat Trance",ranks:[{rank:1,edid:"REQ_HeavyArmor_CombatTrance",name:"Combat Trance",description:{base:"Your heavy armor distracts you even less.",subtext:"[No spell cost penalty for casting Adept spells in heavy armor]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:50}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_CombatCasting"],children:["REQ_HeavyArmor_CombatMeditation"]},isRoot:!1,position:{x:6,y:2,horizontal:-.2666670083999634,vertical:.10000000149011612}},{edid:"REQ_HeavyArmor_CombatMeditation",name:"Combat Meditation",ranks:[{rank:1,edid:"REQ_HeavyArmor_CombatMeditation",name:"Combat Meditation",description:{base:"You're accustomed to your heavy armor so much that you can now cast even sophisticated spells with relative ease.",subtext:"[No spell cost penalty for casting Expert spells in heavy armor]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:75}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_CombatTrance"],children:["REQ_HeavyArmor_BattleMage"]},isRoot:!1,position:{x:6,y:3,horizontal:.15333299338817596,vertical:1}},{edid:"REQ_HeavyArmor_BattleMage",name:"Battle Mage",ranks:[{rank:1,edid:"REQ_HeavyArmor_BattleMage",name:"Battle Mage",description:{base:"You have mastered spellcasting while wearing heavy armor.",subtext:"[No spell cost penalty for casting Master spells in heavy armor, 15% less spell cost when wearing all heavy armor: head, chest, hands, feet]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:100}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_CombatMeditation"],children:[]},isRoot:!1,position:{x:6,y:4,horizontal:.15333299338817596,vertical:1.2400000095367432}},{edid:"REQ_HeavyArmor_CombatTraining",name:"Combat Training",ranks:[{rank:1,edid:"REQ_HeavyArmor_CombatTraining",name:"Combat Training",description:{base:"You are less hindered by your armor and can attack with ease.",subtext:"[No power attack stamina cost penalty, increased unarmed damage with heavy gauntlets, -10% armor weight penalty]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:25}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_Conditioning"],children:["REQ_HeavyArmor_Fortitude","Feat_Perk_Skill_HeavyArmor_Immovable1"]},isRoot:!1,position:{x:2,y:1,horizontal:-.4533329904079437,vertical:-.10000000149011612}},{edid:"REQ_HeavyArmor_Fortitude",name:"Fortitude",ranks:[{rank:1,edid:"REQ_HeavyArmor_Fortitude",name:"Fortitude",description:{base:"Your training made you stronger and you are now less burdened by the rigidity of your armor.",subtext:"[+40 stamina, +20 carry weight, -10% armor weight penalty]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:50}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_CombatTraining"],children:["REQ_HeavyArmor_PowerOfTheCombatant"]},isRoot:!1,position:{x:1,y:2,horizontal:-.24666699767112732,vertical:.10000000149011612}},{edid:"REQ_HeavyArmor_PowerOfTheCombatant",name:"Power of the Combatant",ranks:[{rank:1,edid:"REQ_HeavyArmor_PowerOfTheCombatant",name:"Power of the Combatant",description:{base:"Taking hits gives you a rush of adrenaline.",subtext:"[Restore 15 stamina over 6 seconds after taking a hit, -10% armor weight penalty]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:75}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_Fortitude"],children:["REQ_HeavyArmor_Juggernaut"]},isRoot:!1,position:{x:0,y:3,horizontal:.03333299979567528,vertical:0}},{edid:"REQ_HeavyArmor_Juggernaut",name:"Juggernaut",ranks:[{rank:1,edid:"REQ_HeavyArmor_Juggernaut",name:"Juggernaut",description:{base:"You've reached perfection in the skill of wearing heavy armor and are now significantly more maneuverable in it.",subtext:"[15% less armor weight, 10% more armor rating, 50% less poise damage when wearing all heavy armor: head, chest, hands, feet]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:100}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_PowerOfTheCombatant"],children:[]},isRoot:!1,position:{x:0,y:4,horizontal:.03333299979567528,vertical:1.2400000095367432}},{edid:"REQ_HeavyArmor_RelentlessOnslaught",name:"Relentless Onslaught",ranks:[{rank:1,edid:"REQ_HeavyArmor_RelentlessOnslaught",name:"Relentless Onslaught",description:{base:"After extensive training you now can sprint in heavy armor without problems.",subtext:"[no sprinting stamina cost penalty, take 80% less melee damage when bullrushing, -10% armor weight penalty]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:20}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_Conditioning"],children:["Feat_Perk_Skill_HeavyArmor_DevastatingTackle1","ORD_Hea20_Cushioned_Perk_50"]},isRoot:!1,position:{x:3,y:0,horizontal:-.006666999775916338,vertical:.9200000166893005}},{edid:"Feat_Perk_Skill_HeavyArmor_DevastatingTackle1",name:"Devastating Tackle",ranks:[{rank:1,edid:"Feat_Perk_Skill_HeavyArmor_DevastatingTackle1",name:"Devastating Tackle",description:{base:"When in full heavy armor, you can cause devastating impact when bull-rushing.",subtext:"[Bull-rush while wearing 4 or more pieces of heavy armor does double damage and has higher chance to knockdown]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:50}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_RelentlessOnslaught"],children:[]},isRoot:!1,position:{x:4,y:2,horizontal:0,vertical:0}},{edid:"Feat_Perk_Skill_HeavyArmor_Immovable1",name:"Immovable",ranks:[{rank:1,edid:"Feat_Perk_Skill_HeavyArmor_Immovable1",name:"Immovable",description:{base:"When in full heavy armor, you can pose a defensive stance to reduce incoming impact.",subtext:"[Resist physical, elemental and poise damage by 33% while attacking, casting, walking or standing still wearing 4 or more pieces of heavy armor]"},prerequisites:{skillLevel:{skill:"Heavy Armor",level:50}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_CombatTraining"],children:[]},isRoot:!1,position:{x:2,y:2,horizontal:0,vertical:0}},{edid:"Feat_Perk_Char_HeavyArmor_MountedCombat1",name:"Mounted Combat",ranks:[{rank:1,edid:"Feat_Perk_Char_HeavyArmor_MountedCombat1",name:"Mounted Combat",description:{base:"You can deal more damage with melee weapons while mounted. [Requires Level 10]",subtext:"[1.5x melee attack damage while on horseback]"},prerequisites:{characterLevel:10}}],totalRanks:1,connections:{parents:[],children:[]},isRoot:!0,position:{x:1,y:0,horizontal:0,vertical:0}},{edid:"ORD_Hea20_Cushioned_Perk_50",name:"Cushioned",ranks:[{rank:50,edid:"ORD_Hea20_Cushioned_Perk_50",name:"Cushioned",description:{base:"You take half damage from falling if wearing all Heavy Armor.",subtext:""},prerequisites:{skillLevel:{skill:"Heavy Armor",level:30}}}],totalRanks:1,connections:{parents:["REQ_HeavyArmor_RelentlessOnslaught"],children:["ORD_Hea40_Defiance_Perk_40"]},isRoot:!1,position:{x:3,y:2,horizontal:0,vertical:-.014286000281572342}},{edid:"ORD_Hea40_Defiance_Perk_40",name:"Defiance",ranks:[{rank:40,edid:"ORD_Hea40_Defiance_Perk_40",name:"Defiance",description:{base:"You are trained to deflect incoming attacks while wearing all Heavy Armor. Whenever an enemy attacks you, you gain 15 points of armor rating for 10 seconds. This effect stacks.",subtext:""},prerequisites:{skillLevel:{skill:"Heavy Armor",level:50}}}],totalRanks:1,connections:{parents:["ORD_Hea20_Cushioned_Perk_50"],children:["ORD_Hea60_NeverKneel_Perk_60"]},isRoot:!1,position:{x:3,y:3,horizontal:0,vertical:.11428599804639816}},{edid:"ORD_Hea60_NeverKneel_Perk_60",name:"Never Kneel",ranks:[{rank:60,edid:"ORD_Hea60_NeverKneel_Perk_60",name:"Never Kneel",description:{base:"If wearing all Heavy Armor, take 30% less attack damage from power attacks.",subtext:""},prerequisites:{skillLevel:{skill:"Heavy Armor",level:75}}}],totalRanks:1,connections:{parents:["ORD_Hea40_Defiance_Perk_40"],children:["ORD_Hea70_ReapTheWhirlwind_Perk_70_OrdASISExclude"]},isRoot:!1,position:{x:3,y:4,horizontal:0,vertical:.20000000298023224}},{edid:"ORD_Hea70_ReapTheWhirlwind_Perk_70_OrdASISExclude",name:"Reap the Whirlwind",ranks:[{rank:1,edid:"ORD_Hea70_ReapTheWhirlwind_Perk_70_OrdASISExclude",name:"Reap the Whirlwind",description:{base:"When struck by a power attack or power bash, your attacks deal 50% more damage to the attacker for 5 seconds if wearing all Heavy Armor.",subtext:""},prerequisites:{skillLevel:{skill:"Heavy Armor",level:100}}}],totalRanks:1,connections:{parents:["ORD_Hea60_NeverKneel_Perk_60"],children:[]},isRoot:!1,position:{x:3,y:4,horizontal:0,vertical:1.2000000476837158}}]},{treeId:"AVBlock",treeName:"Block",treeDescription:"Blocking reflects a warrior's skill in parrying and deflecting blows and his aptitude with a shield.",category:"Combat",perks:[{edid:"REQ_Block_ImprovedBlocking",name:"Improved Blocking",ranks:[{rank:1,edid:"REQ_Block_ImprovedBlocking",name:"Improved Blocking",description:{base:"You strengthened your shield arm and trained to parry blows a little.",subtext:"[Block 25% more damage with weapons and shields, take 25% less elemental damage when blocking with a shield and 10% less with a weapon]"},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Block_StrongGrip","REQ_Block_PowerfulBashes","REQ_Block_ExperiencedBlocking","Feat_Perk_Skill_Block_TorchCombat1","REQ_WeaponsMaster1","REQ_Block_Shortsword"]},isRoot:!0,position:{x:3,y:0,horizontal:0,vertical:0}},{edid:"REQ_Block_StrongGrip",name:"Strong Grip",ranks:[{rank:1,edid:"REQ_Block_StrongGrip",name:"Strong Grip",description:{base:"You hold on to your shield like you would hold on to your life.",subtext:"[50% less shield weight, 25% more armor rating, block 40% more damage, arrows that hit the shield do no damage]"},prerequisites:{skillLevel:{skill:"Block",level:15}}}],totalRanks:1,connections:{parents:["REQ_Block_ImprovedBlocking"],children:["REQ_Block_ElementalProtection"]},isRoot:!1,position:{x:6,y:1,horizontal:-.15333299338817596,vertical:-.10000000149011612}},{edid:"REQ_Block_ElementalProtection",name:"Elemental Protection",ranks:[{rank:1,edid:"REQ_Block_ElementalProtection",name:"Elemental Protection",description:{base:"You've learned how to block damaging spells more efficiently.",subtext:"[Take 50% less fire, frost, and shock damage when blocking with a shield]"},prerequisites:{skillLevel:{skill:"Block",level:50}}}],totalRanks:1,connections:{parents:["REQ_Block_StrongGrip"],children:["REQ_Block_DefensiveStance"]},isRoot:!1,position:{x:6,y:2,horizontal:-.4666669964790344,vertical:.7400000095367432}},{edid:"REQ_Block_DefensiveStance",name:"Defensive Stance",ranks:[{rank:1,edid:"REQ_Block_DefensiveStance",name:"Defensive Stance",description:{base:"You have honed your defensive movements to perfection.",subtext:"[Blocking with a shield does not slow you down, 75% less shield weight, 50% more armor rating]"},prerequisites:{skillLevel:{skill:"Block",level:75}}}],totalRanks:1,connections:{parents:["REQ_Block_ElementalProtection"],children:["REQ_Block_UnstoppableCharge"]},isRoot:!1,position:{x:5,y:3,horizontal:-.39333298802375793,vertical:.36000001430511475}},{edid:"REQ_Block_UnstoppableCharge",name:"Unstoppable Charge",ranks:[{rank:1,edid:"REQ_Block_UnstoppableCharge",name:"Unstoppable Charge",description:{base:"When bull rushing with your shield raised, you are a tremendous force to deal with.",subtext:"[Sprinting with a shield raised knocks down most targets and reduces incoming damage by 50%]"},prerequisites:{skillLevel:{skill:"Block",level:100}}}],totalRanks:1,connections:{parents:["REQ_Block_DisarmingBash","REQ_Block_DefensiveStance"],children:[]},isRoot:!1,position:{x:3,y:4,horizontal:0,vertical:0}},{edid:"REQ_Block_PowerfulBashes",name:"Powerful Bashes",ranks:[{rank:1,edid:"REQ_Block_PowerfulBashes",name:"Powerful Bashes",description:{base:"By gathering your strength for a short while, you can perform a much more powerful bash.",subtext:"[Able to do a power bash]"},prerequisites:{skillLevel:{skill:"Block",level:25}}}],totalRanks:1,connections:{parents:["REQ_Block_ImprovedBlocking"],children:["REQ_Block_OverpoweringBashes","Feat_Perk_Skill_Block_ShieldStrike1"]},isRoot:!1,position:{x:1,y:0,horizontal:-.3666670024394989,vertical:.9200000166893005}},{edid:"REQ_Block_OverpoweringBashes",name:"Overpowering Bashes",ranks:[{rank:1,edid:"REQ_Block_OverpoweringBashes",name:"Overpowering Bashes",description:{base:"When you put all of your power into your shield bashes, you will often overpower your foes.",subtext:"[Power bashing with a shield can knock down]"},prerequisites:{skillLevel:{skill:"Block",level:50}}}],totalRanks:1,connections:{parents:["REQ_Block_PowerfulBashes"],children:["REQ_Block_DisarmingBash"]},isRoot:!1,position:{x:1,y:1,horizontal:-.5600000023841858,vertical:1.1200000047683716}},{edid:"REQ_Block_DisarmingBash",name:"Disarming Bash",ranks:[{rank:1,edid:"REQ_Block_DisarmingBash",name:"Disarming Bash",description:{base:"You've trained in the art of disarming foes mid-combat.",subtext:"[20% chance to disarm when power bashing using a shield or weapon]"},prerequisites:{skillLevel:{skill:"Block",level:75}}}],totalRanks:1,connections:{parents:["REQ_Block_OverpoweringBashes"],children:["REQ_Block_UnstoppableCharge"]},isRoot:!1,position:{x:1,y:2,horizontal:-.24666699767112732,vertical:1.3600000143051147}},{edid:"REQ_Block_ExperiencedBlocking",name:"Experienced Blocking",ranks:[{rank:1,edid:"REQ_Block_ExperiencedBlocking",name:"Experienced Blocking",description:{base:"With weapon or shield you can block almost any blow with rock-solid confidence.",subtext:"[Block 50% more damage, recover some stamina when blocking a hit]"},prerequisites:{skillLevel:{skill:"Block",level:20}}}],totalRanks:1,connections:{parents:["REQ_Block_ImprovedBlocking"],children:[]},isRoot:!1,position:{x:3,y:0,horizontal:-.006666999775916338,vertical:1.2400000095367432}},{edid:"Feat_Perk_Skill_Block_ShieldStrike1",name:"Shield Strike",ranks:[{rank:1,edid:"Feat_Perk_Skill_Block_ShieldStrike1",name:"Shield Strike",description:{base:"You can use your shield more offensively, using it as a deadly weapon.",subtext:"[50% more shield bash damage, double damage when not wearing heavy armor, 25% less shield bash stamina cost]"},prerequisites:{skillLevel:{skill:"Block",level:25}}},{rank:2,edid:"Feat_Perk_Skill_Block_ShieldStrike2",name:"Shield Strike",description:{base:"You can use your shield more offensively, using it as a deadly weapon.",subtext:"[100% more shield bash damage, double damage when not wearing heavy armor, 50% less shield bash stamina cost]"},prerequisites:{skillLevel:{skill:"Block",level:50}}}],totalRanks:2,connections:{parents:["REQ_Block_PowerfulBashes"],children:[]},isRoot:!1,position:{x:2,y:2,horizontal:0,vertical:0}},{edid:"Feat_Perk_Skill_Block_TorchCombat1",name:"Torch Combat",ranks:[{rank:1,edid:"Feat_Perk_Skill_Block_TorchCombat1",name:"Torch Combat",description:{base:"You can use your torch more effectively in combat, causing painful burns.",subtext:"[Power bash with a torch does 10 extra fire damage and staggers the target, targets set on fire take 5 extra fire damage from weapon attacks]"},prerequisites:{skillLevel:{skill:"Block",level:25}}}],totalRanks:1,connections:{parents:["REQ_Block_ImprovedBlocking"],children:[]},isRoot:!1,position:{x:2,y:1,horizontal:0,vertical:0}},{edid:"REQ_WeaponsMaster1",name:"Weapons Master",ranks:[{rank:1,edid:"REQ_WeaponsMaster1",name:"Weapons Master",description:{base:"You have rejected mastering one specific weapon type. Instead, you use have begun to master versatility.",subtext:"[15% more damage]"},prerequisites:{skillLevel:{skill:"Block",level:20}}},{rank:2,edid:"REQ_WeaponsMaster2",name:"Weapons Master",description:{base:"You have rejected mastering one specific weapon type. Instead, you use have begun to master versatility.",subtext:"[30% more damage]"},prerequisites:{skillLevel:{skill:"Block",level:40}}}],totalRanks:2,connections:{parents:["REQ_Block_ImprovedBlocking"],children:["REQ_PenetratingStrikes_Master"]},isRoot:!1,position:{x:4,y:1,horizontal:-.1857140064239502,vertical:-.11428599804639816}},{edid:"REQ_PenetratingStrikes_Master",name:"Masterly Strike",ranks:[{rank:1,edid:"REQ_PenetratingStrikes_Master",name:"Masterly Strike",description:{base:"Your power attacks are now devastating enough to penetrate enemy armor and less exhausting.",subtext:"[-30% power attack stamina cost, +30% armor penetration]"},prerequisites:{skillLevel:{skill:"Block",level:60}}}],totalRanks:1,connections:{parents:["REQ_WeaponsMaster1"],children:[]},isRoot:!1,position:{x:3,y:2,horizontal:.4428569972515106,vertical:-.3714289963245392}},{edid:"REQ_Block_Shortsword",name:"Shield's Best Friend",ranks:[{rank:1,edid:"REQ_Block_Shortsword",name:"Shield's Best Friend",description:{base:"Like the Imperial Legions of old, you understand the advantage of shortswords in combat.",subtext:"[20% more bash damage, 20% more block and 20% less poise damage when wielding a shortsword]"},prerequisites:{skillLevel:{skill:"Block",level:30}}}],totalRanks:1,connections:{parents:["REQ_Block_ImprovedBlocking"],children:[]},isRoot:!1,position:{x:3,y:0,horizontal:-.48571398854255676,vertical:1.2000000476837158}}]},{treeId:"AVMarksman",treeName:"Marksman",treeDescription:"Archery governs the use of bows and crossbows. The greater the skill, the more deadly the shot.",category:"Combat",perks:[{edid:"REQ_Marksmanship_RangedCombatTraining",name:"Ranged Combat Training",ranks:[{rank:1,edid:"REQ_Marksmanship_RangedCombatTraining",name:"Ranged Combat Training",description:{base:"After some training at the shooting range you can deal more damage with ranged weapons.",subtext:"[20% more damage, ammunition grants armor penetration]"},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_Marksmanship_EagleEye","REQ_Marksmanship_PreciseAim","REQ_Marksmanship_Ranger","REQ_Marksmanship_Sniper","REQ_Marksmanship_HiddenBlade","Feat_Perk_Skill_Marksmanship_BowStrike1"]},isRoot:!0,position:{x:0,y:0,horizontal:0,vertical:0}},{edid:"REQ_Marksmanship_EagleEye",name:"Eagle Eye",ranks:[{rank:1,edid:"REQ_Marksmanship_EagleEye",name:"Eagle Eye",description:{base:"By concentrating only on your target and holding your breath, you can now aim much more precisely.",subtext:"[Zoom in by holding right mouse button]"},prerequisites:{skillLevel:{skill:"Marksman",level:25}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_RangedCombatTraining"],children:["REQ_Marksmanship_MarksmansFocus","REQ_Marksmanship_QuickShot","REQ_Marksmanship_RapidReload","REQ_Marksmanship_PowerShot","REQ_Marksmanship_SharpThrow"]},isRoot:!1,position:{x:2,y:1,horizontal:-.23333300650119781,vertical:-.10000000149011612}},{edid:"REQ_Marksmanship_MarksmansFocus",name:"Marksman's Focus",ranks:[{rank:1,edid:"REQ_Marksmanship_MarksmansFocus",name:"Marksman's Focus",description:{base:"When fully focusing on your target, everything around you seems to slow down remarkably.",subtext:"[Time slows down while zooming, +10% critical hit chance]"},prerequisites:{skillLevel:{skill:"Marksman",level:50}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_EagleEye"],children:[]},isRoot:!1,position:{x:3,y:1,horizontal:.10000000149011612,vertical:.8399999737739563}},{edid:"REQ_Marksmanship_QuickShot",name:"Quick Shot",ranks:[{rank:1,edid:"REQ_Marksmanship_QuickShot",name:"Quick Shot",description:{base:"You have learned to draw and fire in one single movement.",subtext:"[+50% draw speed with heavy bows, +100% with light bows]"},prerequisites:{skillLevel:{skill:"Marksman",level:50}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_EagleEye"],children:[]},isRoot:!1,position:{x:2,y:2,horizontal:-.23333300650119781,vertical:.4000000059604645}},{edid:"REQ_Marksmanship_RapidReload",name:"Rapid Reload",ranks:[{rank:1,edid:"REQ_Marksmanship_RapidReload",name:"Rapid Reload",description:{base:"Your have familiarized yourself with the mechanics of your crossbow.",subtext:"[+50% reload speed with heavy crossbows, +100% with light crossbows]"},prerequisites:{skillLevel:{skill:"Marksman",level:50}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_EagleEye"],children:[]},isRoot:!1,position:{x:3,y:2,horizontal:.10000000149011612,vertical:.4000000059604645}},{edid:"REQ_Marksmanship_PowerShot",name:"Power Shot",ranks:[{rank:1,edid:"REQ_Marksmanship_PowerShot",name:"Power Shot",description:{base:"You have discovered the art of aiming at tendons and joints.",subtext:"[Bows do 100% more poise damage, move forward and hold bash to perform power shot when over 200 stamina]"},prerequisites:{skillLevel:{skill:"Marksman",level:75}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_EagleEye"],children:["REQ_Marksmanship_StunningPrecision","ORD_Arc90_LionsArrow_Perk_90_OrdASISExclude"]},isRoot:!1,position:{x:3,y:3,horizontal:.10000000149011612,vertical:0}},{edid:"REQ_Marksmanship_StunningPrecision",name:"Stunning Precision",ranks:[{rank:1,edid:"REQ_Marksmanship_StunningPrecision",name:"Stunning Precision",description:{base:"Any successful staggering shot will almost always stun the target momentarily.",subtext:"[Staggering hits will also stun the target]"},prerequisites:{skillLevel:{skill:"Marksman",level:100}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_PenetratingShot","REQ_Marksmanship_PowerShot"],children:[]},isRoot:!1,position:{x:2,y:4,horizontal:-.1333329975605011,vertical:0}},{edid:"REQ_Marksmanship_PreciseAim",name:"Precise Aim",ranks:[{rank:1,edid:"REQ_Marksmanship_PreciseAim",name:"Precise Aim",description:{base:"Your aim is now precise enough to target weak spots in the enemy's defenses.",subtext:"[20% more damage]"},prerequisites:{skillLevel:{skill:"Marksman",level:20}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_RangedCombatTraining"],children:["REQ_Marksmanship_PiercingShot","ORD_Arc30_FocusOnThePrey_Perk_30_OrdASISExclude"]},isRoot:!1,position:{x:0,y:1,horizontal:-.04285699874162674,vertical:.07142899930477142}},{edid:"REQ_Marksmanship_PiercingShot",name:"Piercing Shot",ranks:[{rank:1,edid:"REQ_Marksmanship_PiercingShot",name:"Piercing Shot",description:{base:"You've learned how to hit the weakest parts of armor.",subtext:"[+50% armor penetration from ammunition]"},prerequisites:{skillLevel:{skill:"Marksman",level:40}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_PreciseAim"],children:["REQ_Marksmanship_PenetratingShot","ORD_Arc75_ThreeCrows_Perk_75_OrdASISExclude"]},isRoot:!1,position:{x:0,y:2,horizontal:.1857140064239502,vertical:.10000000149011612}},{edid:"REQ_Marksmanship_PenetratingShot",name:"Penetrating Shot",ranks:[{rank:1,edid:"REQ_Marksmanship_PenetratingShot",name:"Penetrating Shot",description:{base:"You've mastered the technique of hitting weak armor parts.",subtext:"[+50% armor penetration from ammunition]"},prerequisites:{skillLevel:{skill:"Marksman",level:80}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_PiercingShot"],children:["REQ_Marksmanship_StunningPrecision","ORD_Arc90_LionsArrow_Perk_90_OrdASISExclude"]},isRoot:!1,position:{x:1,y:3,horizontal:-.12857100367546082,vertical:.27142900228500366}},{edid:"REQ_Marksmanship_Ranger",name:"Ranger",ranks:[{rank:1,edid:"REQ_Marksmanship_Ranger",name:"Ranger",description:{base:"You improved your footwork when engaging in ranged combat with light weapons.",subtext:"[Able to run with a drawn light bow or crossbow]"},prerequisites:{skillLevel:{skill:"Marksman",level:15}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_RangedCombatTraining"],children:[]},isRoot:!1,position:{x:2,y:0,horizontal:-.6000000238418579,vertical:.4000000059604645}},{edid:"REQ_Marksmanship_Sniper",name:"Sniper",ranks:[{rank:1,edid:"REQ_Marksmanship_Sniper",name:"Sniper",description:{base:"You can keep steady aim with heavy ranged weapons, dealing more damage with sneak attacks.",subtext:"[1.5x irresistible sneak attack damage with heavy bow or crossbow]"},prerequisites:{skillLevel:{skill:"Marksman",level:15}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_RangedCombatTraining"],children:[]},isRoot:!1,position:{x:2,y:0,horizontal:0,vertical:.20000000298023224}},{edid:"REQ_Marksmanship_HiddenBlade",name:"Knife Expertise",ranks:[{rank:1,edid:"REQ_Marksmanship_HiddenBlade",name:"Knife Expertise",description:{base:"Throwing knives penetrate the flesh, interrupting the target.",subtext:"[25% chance to stagger targets with throwing knives]"},prerequisites:{skillLevel:{skill:"Marksman",level:15}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_RangedCombatTraining"],children:[]},isRoot:!1,position:{x:0,y:1,horizontal:.5,vertical:0}},{edid:"REQ_Marksmanship_SharpThrow",name:"Sharp Throw",ranks:[{rank:1,edid:"REQ_Marksmanship_SharpThrow",name:"Sharp Throw",description:{base:"You can throw knives more precisely.",subtext:"[50% more damage with throwing knives]"},prerequisites:{skillLevel:{skill:"Marksman",level:50}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_EagleEye"],children:[]},isRoot:!1,position:{x:2,y:3,horizontal:.25,vertical:-.5}},{edid:"Feat_Perk_Char_Markmanship_Hunter1",name:"Hunter",ranks:[{rank:1,edid:"Feat_Perk_Char_Markmanship_Hunter1",name:"Hunter",description:{base:"You are more adapted to the wildlife, and better understand its inhabitants. [Requires Level 10]",subtext:"[Do 20% more damage to animals and take 10% less damage from animals, +10% poison and disease resistance]"},prerequisites:{characterLevel:10}},{rank:2,edid:"Feat_Perk_Char_Markmanship_Hunter2",name:"Hunter",description:{base:"You are more adapted to the wildlife, and better understand its inhabitants. [Requires Level 20]",subtext:"[Do 40% more damage to animals and take 20% less damage from animals, +20% poison and disease resistance]"},prerequisites:{characterLevel:20}}],totalRanks:2,connections:{parents:[],children:[]},isRoot:!0,position:{x:3,y:0,horizontal:0,vertical:0}},{edid:"Feat_Perk_Skill_Marksmanship_BowStrike1",name:"Bow Strike",ranks:[{rank:1,edid:"Feat_Perk_Skill_Marksmanship_BowStrike1",name:"Bow Strike",description:{base:"You can use your bow or crossbow as a melee weapon in close combat.",subtext:"[Double damage with bow bash, bow bash staggers targets, 50% less bow bash stamina cost]"},prerequisites:{skillLevel:{skill:"Marksman",level:25}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_RangedCombatTraining"],children:[]},isRoot:!1,position:{x:1,y:1,horizontal:0,vertical:0}},{edid:"ORD_Arc30_FocusOnThePrey_Perk_30_OrdASISExclude",name:"Focus on the Prey",ranks:[{rank:1,edid:"ORD_Arc30_FocusOnThePrey_Perk_30_OrdASISExclude",name:"Focus on the Prey",description:{base:"Cannot be staggered while holding a drawn bow or reloading a crossbow.",subtext:""},prerequisites:{skillLevel:{skill:"Marksman",level:30}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_PreciseAim"],children:[]},isRoot:!1,position:{x:1,y:2,horizontal:-.3142859935760498,vertical:-.3714289963245392}},{edid:"ORD_Arc75_ThreeCrows_Perk_75_OrdASISExclude",name:"Three Crows",ranks:[{rank:1,edid:"ORD_Arc75_ThreeCrows_Perk_75_OrdASISExclude",name:"Three Crows",description:{base:"Shooting a target beyond 25 feet three times in rapid succession, leaving less than 2.75 seconds between each hit, deals bonus damage equal to 15% of the target's current Health (max. 150 damage) and knocks the target to the ground.",subtext:""},prerequisites:{skillLevel:{skill:"Marksman",level:75}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_PiercingShot"],children:[]},isRoot:!1,position:{x:1,y:2,horizontal:-.028571000322699547,vertical:.30000001192092896}},{edid:"ORD_Arc90_LionsArrow_Perk_90_OrdASISExclude",name:"Lion's Arrow",ranks:[{rank:1,edid:"ORD_Arc90_LionsArrow_Perk_90_OrdASISExclude",name:"Lion's Arrow",description:{base:"Grants the Lion's Arrow power: Store your currently dual-cast spell. When you shoot a fully drawn bow in combat, the stored spell is released at 20% strength toward the crosshair, costing 50 Magicka. Only works with spells that target others.",subtext:""},prerequisites:{skillLevel:{skill:"Marksman",level:100}}}],totalRanks:1,connections:{parents:["REQ_Marksmanship_PenetratingShot","REQ_Marksmanship_PowerShot"],children:[]},isRoot:!1,position:{x:2,y:3,horizontal:-.1857140064239502,vertical:.17142899334430695}}]},{treeId:"AVTwoHanded",treeName:"Two-handed",treeDescription:"The art of combat using two-handed weapons, such as greatswords, battle axes, and warhammers.",category:"Combat",abbreviation:"2H",perks:[{edid:"REQ_TwoHanded_GreatWeaponMastery1",name:"Great Weapon Mastery",ranks:[{rank:1,edid:"REQ_TwoHanded_GreatWeaponMastery1",name:"Great Weapon Mastery",description:{base:"Your improved fighting techniques increase your damage dealt with two-handed weapons.",subtext:"[20% more damage]"},prerequisites:{}},{rank:2,edid:"REQ_TwoHanded_GreatWeaponMastery2",name:"Great Weapon Mastery",description:{base:"Your improved fighting techniques increase your damage dealt with two-handed weapons even more.",subtext:"[40% more damage]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:20}}}],totalRanks:2,connections:{parents:[],children:["REQ_TwoHanded_BarbaricMight"]},isRoot:!0,position:{x:2,y:0,horizontal:-.11333300173282623,vertical:-.10000000149011612}},{edid:"REQ_TwoHanded_BarbaricMight",name:"Barbaric Might",ranks:[{rank:1,edid:"REQ_TwoHanded_BarbaricMight",name:"Barbaric Might",description:{base:"Your power attacks become mighty blows that will penetrate armor and are less tiring.",subtext:"[-30% power attack stamina cost, +30% armor penetration]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:20}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_GreatWeaponMastery1"],children:["REQ_TwoHanded_DevastatingStrike","REQ_TwoHanded_DevastatingCharge","REQ_TwoHanded_BattleAxeFocus1","REQ_TwoHanded_GreatswordFocus1","REQ_TwoHanded_WarhammerFocus1","REQ_TwoHanded_QuarterstaffFocus1"]},isRoot:!1,position:{x:2,y:1,horizontal:-.1333329975605011,vertical:-.10000000149011612}},{edid:"REQ_TwoHanded_DevastatingStrike",name:"Devastating Strike",ranks:[{rank:1,edid:"REQ_TwoHanded_DevastatingStrike",name:"Devastating Strike",description:{base:"Your two-handed combat style has improved so much that all power attacks have become devastating.",subtext:"[25% more power attack damage, +10% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_BarbaricMight"],children:["REQ_TwoHanded_Cleave"]},isRoot:!1,position:{x:2,y:2,horizontal:-.5600000023841858,vertical:.4000000059604645}},{edid:"REQ_TwoHanded_Cleave",name:"Hyper Armor",ranks:[{rank:1,edid:"REQ_TwoHanded_Cleave",name:"Hyper Armor",description:{base:"Your power attacks are almost unstoppable.",subtext:"[Take 75% less poise damage while power attacking with two-handed weapons.]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:75}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_DevastatingCharge","REQ_TwoHanded_DevastatingStrike"],children:["REQ_TwoHanded_DevastatingCleave"]},isRoot:!1,position:{x:2,y:3,horizontal:-.1333329975605011,vertical:1.6200000047683716}},{edid:"REQ_TwoHanded_DevastatingCleave",name:"Mighty Strike",ranks:[{rank:1,edid:"REQ_TwoHanded_DevastatingCleave",name:"Mighty Strike",description:{base:"You can fell almost any foe with a single strike of your two-hander.",subtext:"[50% more poise damage]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:100}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_Cleave"],children:["REQ_TwoHanded_MightyStrike"]},isRoot:!1,position:{x:2,y:4,horizontal:-.1333329975605011,vertical:3.1600000858306885}},{edid:"REQ_TwoHanded_MightyStrike",name:"Warbringer",ranks:[{rank:1,edid:"REQ_TwoHanded_MightyStrike",name:"Warbringer",description:{base:"Your barbaric instincts strengthen as you or your foe meet their end.",subtext:"[Your power attacks deal up to 100% more damage based on the difference between your health and your target's health]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:100}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_DevastatingCleave"],children:[]},isRoot:!1,position:{x:2,y:4,horizontal:-.1333329975605011,vertical:7}},{edid:"REQ_TwoHanded_DevastatingCharge",name:"Devastating Charge",ranks:[{rank:1,edid:"REQ_TwoHanded_DevastatingCharge",name:"Devastating Charge",description:{base:"You've learned to perform a leaping power attack while sprinting, reducing your enemies to smithereens.",subtext:"[Able to do sprinting power attack which has a 50% chance to critical hit]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:25}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_BarbaricMight"],children:["REQ_TwoHanded_Cleave"]},isRoot:!1,position:{x:3,y:2,horizontal:-.5400000214576721,vertical:.4000000059604645}},{edid:"REQ_TwoHanded_BattleAxeFocus1",name:"Hafted Blade Focus",ranks:[{rank:1,edid:"REQ_TwoHanded_BattleAxeFocus1",name:"Hafted Blade Focus",description:{base:"You've become familiar with battle axes and halberds.",subtext:"[Attacks deal 40 extra damage over 20 seconds, +10% armor penetration]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:25}}},{rank:2,edid:"REQ_TwoHanded_BattleAxeFocus2",name:"Hafted Blade Focus",description:{base:"become an advanced battle axe and halberd fighter.",subtext:"[Attacks deal 60 extra damage over 20 seconds, +20% armor penetration]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:50}}},{rank:3,edid:"REQ_TwoHanded_BattleAxeFocus3",name:"Hafted Blade Focus",description:{base:"You've become a master of battle axe and halberd combat.",subtext:"[Attacks deal 80 extra damage over 20 seconds, +30% armor penetration]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:75}}}],totalRanks:3,connections:{parents:["REQ_TwoHanded_BarbaricMight"],children:["REQ_TwoHanded_Battleaxe_ShieldBreaker"]},isRoot:!1,position:{x:3,y:2,horizontal:-.07142899930477142,vertical:-.08571399748325348}},{edid:"REQ_TwoHanded_GreatswordFocus1",name:"Longweapon Focus",ranks:[{rank:1,edid:"REQ_TwoHanded_GreatswordFocus1",name:"Longweapon Focus",description:{base:"You've acquired the advanced techniques of using greatswords and pikes.",subtext:"[Attacks reduce target's melee damage by 10% for 10 seconds, +10% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:25}}},{rank:2,edid:"REQ_TwoHanded_GreatswordFocus2",name:"Longweapon Focus",description:{base:"You've acquired the advanced techniques of using greatswords and pikes.",subtext:"[Attacks reduce target's melee damage by 15% for 10 seconds, +20% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:50}}},{rank:3,edid:"REQ_TwoHanded_GreatswordFocus3",name:"Longweapon Focus",description:{base:"You've become a master of using greatswords and pikes.",subtext:"[Attacks reduce target's melee damage by 20% for 10 seconds, +30% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:75}}}],totalRanks:3,connections:{parents:["REQ_TwoHanded_BarbaricMight"],children:["REQ_TwoHanded_Greatsword_ReverseSlash"]},isRoot:!1,position:{x:1,y:2,horizontal:-.08571399748325348,vertical:-.07142899930477142}},{edid:"REQ_TwoHanded_WarhammerFocus1",name:"Warhammer Focus",ranks:[{rank:1,edid:"REQ_TwoHanded_WarhammerFocus1",name:"Warhammer Focus",description:{base:"You've learned some techniques to crush armor with warhammers.",subtext:"[+15% armor penetration, +5% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:25}}},{rank:2,edid:"REQ_TwoHanded_WarhammerFocus2",name:"Warhammer Focus",description:{base:"You've learned some techniques to crush armor with warhammers.",subtext:"[+30% armor penetration, +10% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:50}}},{rank:3,edid:"REQ_TwoHanded_WarhammerFocus3",name:"Warhammer Focus",description:{base:"You've learned some techniques to crush armor with warhammers.",subtext:"[+45% armor penetration, +15% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:75}}}],totalRanks:3,connections:{parents:["REQ_TwoHanded_BarbaricMight"],children:["REQ_TwoHanded_Warhammer_Onslaught"]},isRoot:!1,position:{x:0,y:2,horizontal:-.07142899930477142,vertical:-.10000000149011612}},{edid:"REQ_TwoHanded_QuarterstaffFocus1",name:"Quarterstaff Focus",ranks:[{rank:1,edid:"REQ_TwoHanded_QuarterstaffFocus1",name:"Quarterstaff Focus",description:{base:"You've learned the basics of quarterstaff combat.",subtext:"[Deal 10 stamina damage on-hit, +5% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:25}}},{rank:2,edid:"REQ_TwoHanded_QuarterstaffFocus2",name:"Quarterstaff Focus",description:{base:"You've acquired the advanced techniques of quarterstaff combat.",subtext:"[Deal 15 stamina damage on-hit, +10% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:50}}},{rank:3,edid:"REQ_TwoHanded_QuarterstaffFocus3",name:"Quarterstaff Focus",description:{base:"You've become a master of quarterstaff combat.",subtext:"[Deal 20 stamina damage on-hit, +15% critical hit chance]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:75}}}],totalRanks:3,connections:{parents:["REQ_TwoHanded_BarbaricMight"],children:["REQ_TwoHanded_Quarterstaff_DefensiveStrike"]},isRoot:!1,position:{x:4,y:2,horizontal:-.08571399748325348,vertical:-.07142899930477142}},{edid:"REQ_TwoHanded_Greatsword_ReverseSlash",name:"Reversal",ranks:[{rank:1,edid:"REQ_TwoHanded_Greatsword_ReverseSlash",name:"Reversal",description:{base:"With enough momentum, you can slash deeper into targets with power attacks.",subtext:"[+25% critical hit chance and 2x critical hit damage when power attacking]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_GreatswordFocus1"],children:["ORD_Two60_DeathOrGlory_Perk_60"]},isRoot:!1,position:{x:1,y:2,horizontal:-.11428599804639816,vertical:.45714300870895386}},{edid:"REQ_TwoHanded_Warhammer_Onslaught",name:"Onslaught",ranks:[{rank:1,edid:"REQ_TwoHanded_Warhammer_Onslaught",name:"Onslaught",description:{base:"You can deliver maximum force with your warhammer to knock off targets that fail to resist.",subtext:"[power attacks with warhammers knock off targets by 10% chance, 25% more damage against staggered targets.]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_WarhammerFocus1"],children:["ORD_Two70_GrandSlam_Perk_70_OrdASISExclude"]},isRoot:!1,position:{x:0,y:2,horizontal:-.07142899930477142,vertical:.38571399450302124}},{edid:"REQ_TwoHanded_Battleaxe_ShieldBreaker",name:"Shield Breaker",ranks:[{rank:1,edid:"REQ_TwoHanded_Battleaxe_ShieldBreaker",name:"Shield Breaker",description:{base:"Your mighty swings can cleave through target's defense, hindering them from blocking next attacks.",subtext:"[power attacks reduce target's blockable damage by 90% and stamina regeneration by 25% for 10 seconds]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_BattleAxeFocus1"],children:["ORD_Two50_Execute_Perk_50_OrdASISExclude"]},isRoot:!1,position:{x:3,y:2,horizontal:-.05714299902319908,vertical:.35714298486709595}},{edid:"ORD_Two90_BearHide_Perk_90",name:"Battle Hide",ranks:[{rank:90,edid:"ORD_Two90_BearHide_Perk_90",name:"Battle Hide",description:{base:"You take half damage from enemy attacks while power attacking or blocking with quarterstaves and battlestaves.",subtext:""},prerequisites:{skillLevel:{skill:"Two-Handed",level:80}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_Quarterstaff_DefensiveStrike"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:-.08571399748325348,vertical:-.07142899930477142}},{edid:"ORD_Two50_Execute_Perk_50_OrdASISExclude",name:"Execute",ranks:[{rank:1,edid:"ORD_Two50_Execute_Perk_50_OrdASISExclude",name:"Execute",description:{base:"Standing power attacks with battleaxes and halberds execute targets below 25% Health, delivering a critical strike that deals twenty times critical damage.",subtext:""},prerequisites:{skillLevel:{skill:"Two-Handed",level:80}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_Battleaxe_ShieldBreaker"],children:[]},isRoot:!1,position:{x:3,y:3,horizontal:-.05714299902319908,vertical:-.08571399748325348}},{edid:"REQ_TwoHanded_Quarterstaff_DefensiveStrike",name:"Defensive Strike",ranks:[{rank:1,edid:"REQ_TwoHanded_Quarterstaff_DefensiveStrike",name:"Defensive Strike",description:{base:"You can more efficiently block and parry incoming attacks with quarterstaves.",subtext:"[quarterstaves block 50% better, and bashes do twice the damage]"},prerequisites:{skillLevel:{skill:"Two-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_QuarterstaffFocus1"],children:["ORD_Two90_BearHide_Perk_90"]},isRoot:!1,position:{x:4,y:2,horizontal:-.08571399748325348,vertical:.4714289903640747}},{edid:"ORD_Two70_GrandSlam_Perk_70_OrdASISExclude",name:"Critical Slam",ranks:[{rank:1,edid:"ORD_Two70_GrandSlam_Perk_70_OrdASISExclude",name:"Critical Slam",description:{base:"Whenever a standing power attack with a warhammer inflicts a critical strike, it deals 3% more critical damage per point of Stamina.",subtext:""},prerequisites:{skillLevel:{skill:"Two-Handed",level:80}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_Warhammer_Onslaught"],children:[]},isRoot:!1,position:{x:0,y:3,horizontal:-.05714299902319908,vertical:-.14285700023174286}},{edid:"ORD_Two60_DeathOrGlory_Perk_60",name:"Death or Glory",ranks:[{rank:60,edid:"ORD_Two60_DeathOrGlory_Perk_60",name:"Death or Glory",description:{base:"Two-handed power attacks with greatswords and pikes deal up to 100% more damage below half Health. The damage bonus increases as your Health decreases.",subtext:""},prerequisites:{skillLevel:{skill:"Two-Handed",level:80}}}],totalRanks:1,connections:{parents:["REQ_TwoHanded_Greatsword_ReverseSlash"],children:[]},isRoot:!1,position:{x:1,y:3,horizontal:-.10000000149011612,vertical:-.05714299902319908}}]},{treeId:"AVOneHanded",treeName:"One-handed",treeDescription:"The skill to use light weaponry, among which are daggers, swords, axes and maces. ",category:"Combat",abbreviation:"1H",perks:[{edid:"REQ_OneHanded_WeaponMastery1",name:"Weapon Mastery",ranks:[{rank:1,edid:"REQ_OneHanded_WeaponMastery1",name:"Weapon Mastery",description:{base:"Your improved fighting techniques allow you to swing one-handed weapons or fists with less effort and deal more damage.",subtext:"[20% more damage]"},prerequisites:{}},{rank:2,edid:"REQ_OneHanded_WeaponMastery2",name:"Weapon Mastery",description:{base:"Your improved fighting techniques increase your damage dealt with one-handed weapons or fists greatly.",subtext:"[40% more damage]"},prerequisites:{skillLevel:{skill:"One-Handed",level:20}}}],totalRanks:2,connections:{parents:[],children:["REQ_OneHanded_PenetratingStrikes","REQ_OneHanded_Flurry1","Feat_Perk_Skill_Onehanded_BalancedWielding1","Feat_Perk_Skill_OneHanded_ArmedSpellcasting1"]},isRoot:!0,position:{x:2,y:0,horizontal:.18666699528694153,vertical:0}},{edid:"REQ_OneHanded_PenetratingStrikes",name:"Penetrating Strikes",ranks:[{rank:1,edid:"REQ_OneHanded_PenetratingStrikes",name:"Penetrating Strikes",description:{base:"Your power attacks with one-handed weapons or fists are now devastating enough to penetrate enemy armor and less exhausting.",subtext:"[-30% power attack stamina cost, +30% armor penetration]"},prerequisites:{skillLevel:{skill:"One-Handed",level:20}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_WeaponMastery1"],children:["REQ_OneHanded_PowerfulStrike","REQ_OneHanded_PowerfulCharge","REQ_OneHanded_WarAxeFocus1","REQ_OneHanded_MaceFocus1","REQ_OneHanded_SwordFocus1","REQ_OneHanded_DaggerFocus1"]},isRoot:!1,position:{x:2,y:1,horizontal:.18666699528694153,vertical:-.10000000149011612}},{edid:"REQ_OneHanded_PowerfulStrike",name:"Powerful Strike",ranks:[{rank:1,edid:"REQ_OneHanded_PowerfulStrike",name:"Powerful Strike",description:{base:"You know how to put the maximum force into your power attacks.",subtext:"[20% more power attack damage, +10% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_PenetratingStrikes"],children:["REQ_OneHanded_StunningCharge"]},isRoot:!1,position:{x:3,y:2,horizontal:-.11333300173282623,vertical:.4000000059604645}},{edid:"REQ_OneHanded_StunningCharge",name:"Relentless Onslaught",ranks:[{rank:1,edid:"REQ_OneHanded_StunningCharge",name:"Relentless Onslaught",description:{base:"While attacking a target, build up momentum for a decisive strike.",subtext:"[Each normal attack with one-handed weapons increases power attack damage on target by 10% for 5s. Stacks up to six times (three while dual-wielding).]"},prerequisites:{skillLevel:{skill:"One-Handed",level:100}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_PowerfulCharge","REQ_OneHanded_PowerfulStrike"],children:[]},isRoot:!1,position:{x:3,y:4,horizontal:-.5400000214576721,vertical:2.200000047683716}},{edid:"REQ_OneHanded_PowerfulCharge",name:"Powerful Charge",ranks:[{rank:1,edid:"REQ_OneHanded_PowerfulCharge",name:"Powerful Charge",description:{base:"You have learned to perform a leaping power attack while sprinting.",subtext:"[Able to do sprinting power attack which has a 50% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:25}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_PenetratingStrikes"],children:["REQ_OneHanded_StunningCharge"]},isRoot:!1,position:{x:2,y:2,horizontal:-.23333300650119781,vertical:.4000000059604645}},{edid:"REQ_OneHanded_WarAxeFocus1",name:"War Axe Focus",ranks:[{rank:1,edid:"REQ_OneHanded_WarAxeFocus1",name:"War Axe Focus",description:{base:"You've become familiar with war axes.",subtext:"[Attacks deal 20 extra damage over 20 seconds, +10% armor penetration]"},prerequisites:{skillLevel:{skill:"One-Handed",level:25}}},{rank:2,edid:"REQ_OneHanded_WarAxeFocus2",name:"War Axe Focus",description:{base:"You've become an advanced war axe fighter.",subtext:"[Attacks deal 30 extra damage over 20 seconds, +20% armor penetration]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}},{rank:3,edid:"REQ_OneHanded_WarAxeFocus3",name:"War Axe Focus",description:{base:"You've become a master of war axe combat.",subtext:"[Attacks deal 40 extra damage over 20 seconds, +30% armor penetration]"},prerequisites:{skillLevel:{skill:"One-Handed",level:75}}}],totalRanks:3,connections:{parents:["REQ_OneHanded_PenetratingStrikes"],children:["REQ_OneHanded_WarAxe_Armsbreaker"]},isRoot:!1,position:{x:3,y:1,horizontal:-.006666999775916338,vertical:.5199999809265137}},{edid:"REQ_OneHanded_MaceFocus1",name:"Mace Focus",ranks:[{rank:1,edid:"REQ_OneHanded_MaceFocus1",name:"Mace Focus",description:{base:"You've learned some techniques to crush armor with maces.",subtext:"[10% more power attack damage, +15% armor penetration]"},prerequisites:{skillLevel:{skill:"One-Handed",level:25}}},{rank:2,edid:"REQ_OneHanded_MaceFocus2",name:"Mace Focus",description:{base:"You've become an advanced mace fighter and know how to find weak spots in enemy armor.",subtext:"[20% more power attack damage, +30% armor penetration]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}},{rank:3,edid:"REQ_OneHanded_MaceFocus3",name:"Mace Focus",description:{base:"You've become a masterly mace fighter, rendering armor almost useless.",subtext:"[30% more power attack damage, +45% armor penetration]"},prerequisites:{skillLevel:{skill:"One-Handed",level:75}}}],totalRanks:3,connections:{parents:["REQ_OneHanded_PenetratingStrikes"],children:["REQ_OneHanded_Mace_StunningBlow"]},isRoot:!1,position:{x:2,y:1,horizontal:-.4533329904079437,vertical:.5}},{edid:"REQ_OneHanded_SwordFocus1",name:"Sword & Spear Focus",ranks:[{rank:1,edid:"REQ_OneHanded_SwordFocus1",name:"Sword & Spear Focus",description:{base:"You've learned the basics of using 1 handed swords, spears, javelins, rapiers and katanas.",subtext:"[Attacks reduce target's melee damage by 10% for 10 seconds, +10% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:25}}},{rank:2,edid:"REQ_OneHanded_SwordFocus2",name:"Sword & Spear Focus",description:{base:"You've acquired the advanced techniques of using 1 handed swords and spears.",subtext:"[Attacks reduce target's melee damage by 15% for 10 seconds, +20% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}},{rank:3,edid:"REQ_OneHanded_SwordFocus3",name:"Sword & Spear Focus",description:{base:"You've become a master of using 1 handed swords and spears.",subtext:"[Attacks reduce target's melee damage by 20% for 10 seconds, +30% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:75}}}],totalRanks:3,connections:{parents:["REQ_OneHanded_PenetratingStrikes"],children:["REQ_OneHanded_Sword_DisarmingBlade"]},isRoot:!1,position:{x:1,y:1,horizontal:-.15333299338817596,vertical:.5}},{edid:"REQ_OneHanded_Flurry1",name:"Flurry",ranks:[{rank:1,edid:"REQ_OneHanded_Flurry1",name:"Flurry",description:{base:"When fighting with dual or single one-handed weapons or fists, you are able to hit enemy weak points better.",subtext:"[+15% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:25}}},{rank:2,edid:"REQ_OneHanded_Flurry2",name:"Flurry",description:{base:"When fighting with dual or single one-handed weapons or fists, you're able to hit enemy weak points even better.",subtext:"[+30% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:2,connections:{parents:["REQ_OneHanded_WeaponMastery1"],children:["REQ_OneHanded_StormOfSteel"]},isRoot:!1,position:{x:0,y:0,horizontal:-.16666699945926666,vertical:.6000000238418579}},{edid:"REQ_OneHanded_StormOfSteel",name:"Storm of Steel",ranks:[{rank:1,edid:"REQ_OneHanded_StormOfSteel",name:"Storm of Steel",description:{base:"You've mastered the art of using multiple weapons in combat.",subtext:"[50% more dual-wield power attack poise damage with any weapon, unlocks secondary dagger abilities when using a bow]"},prerequisites:{skillLevel:{skill:"One-Handed",level:75}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_Flurry1"],children:[]},isRoot:!1,position:{x:0,y:2,horizontal:-.06666699796915054,vertical:1.7200000286102295}},{edid:"REQ_OneHanded_HandToHand",name:"Hand to Hand",ranks:[{rank:1,edid:"REQ_OneHanded_HandToHand",name:"Hand to Hand",description:{base:"You are trained in hand to hand combat, and can effectively disable opponents with bare hands.",subtext:"[+25 unarmed damage, unarmed attacks damage target stamina by half the unarmed damage]"},prerequisites:{}}],totalRanks:1,connections:{parents:[],children:["REQ_OneHanded_Grapple_Grappling","REQ_OneHanded_Unarmed_UnarmedDefense"]},isRoot:!0,position:{x:3,y:0,horizontal:0,vertical:.25}},{edid:"REQ_OneHanded_DaggerFocus1",name:"Short Blade Focus",ranks:[{rank:1,edid:"REQ_OneHanded_DaggerFocus1",name:"Short Blade Focus",description:{base:"You learned some dirty tricks for your dagger or tanto.",subtext:"[2x irresistible sneak attack damage, +20% damage from behind, +5% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:25}}},{rank:2,edid:"REQ_OneHanded_DaggerFocus2",name:"Short Blade Focus",description:{base:"A dagger or tanto in your hand turns into a deadly weapon.",subtext:"[3x irresistible sneak attack damage, +30% damage from behind, +10% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}},{rank:3,edid:"REQ_OneHanded_DaggerFocus3",name:"Short Blade Focus",description:{base:"You have mastered the deadly art of daggers and tantos.",subtext:"[4x irresistible sneak attack damage, +40% damage from behind, +15% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:75}}}],totalRanks:3,connections:{parents:["REQ_OneHanded_PenetratingStrikes"],children:["REQ_OneHanded_Dagger_Puncture"]},isRoot:!1,position:{x:4,y:1,horizontal:-.3066670000553131,vertical:.5199999809265137}},{edid:"REQ_OneHanded_Sword_DisarmingBlade",name:"Disarming Strike",ranks:[{rank:1,edid:"REQ_OneHanded_Sword_DisarmingBlade",name:"Disarming Strike",description:{base:"Your masterful strikes allow you to disarm enemies while attacking.",subtext:"[power attacks with swords, spears, javelins, rapiers and katanas disarm attacking targets by 15% chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_SwordFocus1"],children:["SWORDORD_One60_DeathOrGlory_Perk_60"]},isRoot:!1,position:{x:0,y:2,horizontal:.25,vertical:0}},{edid:"REQ_OneHanded_Mace_StunningBlow",name:"Stunning Blow",ranks:[{rank:1,edid:"REQ_OneHanded_Mace_StunningBlow",name:"Stunning Blow",description:{base:"You can cause stunning impact to targets that fail to block, knocking them down to the ground.",subtext:"[unblocked power attacks with maces knock down targets by 10% chance, 25% more damage against staggered targets]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_MaceFocus1"],children:["MACEORD_One70_GrandSlam_Perk_70_OrdASISExclude"]},isRoot:!1,position:{x:1,y:2,horizontal:0,vertical:.25}},{edid:"REQ_OneHanded_WarAxe_Armsbreaker",name:"Armsbreaker",ranks:[{rank:1,edid:"REQ_OneHanded_WarAxe_Armsbreaker",name:"Armsbreaker",description:{base:"The blade of your war axe can carve into target's weapons and shields, weakening their damage and protection.",subtext:"[power attacks with war axes reduce target's blockable damage by 80% and stamina regeneration by 25% for 10 seconds]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_WarAxeFocus1"],children:["AXEORD_One50_Execute_Perk_50_OrdASISExclude"]},isRoot:!1,position:{x:3,y:2,horizontal:.5,vertical:.25}},{edid:"REQ_OneHanded_Dagger_Puncture",name:"Puncture",ranks:[{rank:1,edid:"REQ_OneHanded_Dagger_Puncture",name:"Puncture",description:{base:"You can aim for critical weak points, dealing even more damage.",subtext:"[2x critical damage and +25% critical hit chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_DaggerFocus1"],children:["DAGGERORD_One70_DeathAdder_Perk_70_OrdASISExclude"]},isRoot:!1,position:{x:4,y:2,horizontal:.25,vertical:0}},{edid:"REQ_OneHanded_Grapple_Grappling",name:"Grappling",ranks:[{rank:1,edid:"REQ_OneHanded_Grapple_Grappling",name:"Grappling",description:{base:"You can grapple opponents to disarm or immobilize them.",subtext:"[unarmed power attacks stagger targets by 50% chance and disarm by 10% chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:25}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_HandToHand"],children:["REQ_OneHanded_Grapple_Takedown"]},isRoot:!1,position:{x:4,y:0,horizontal:-.25,vertical:.25}},{edid:"REQ_OneHanded_Grapple_Takedown",name:"Takedown",ranks:[{rank:1,edid:"REQ_OneHanded_Grapple_Takedown",name:"Takedown",description:{base:"You can knock down enemies by grappling.",subtext:"[unarmed power attacks knock down targets by 10% chance]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_Grapple_Grappling"],children:[]},isRoot:!1,position:{x:4,y:0,horizontal:.5,vertical:.75}},{edid:"REQ_OneHanded_Unarmed_UnarmedDefense",name:"Unarmed Defense",ranks:[{rank:1,edid:"REQ_OneHanded_Unarmed_UnarmedDefense",name:"Unarmed Defense",description:{base:"You can defend yourself better even without weapons or shields.",subtext:"[15% less physical damage taken for each hand empty]"},prerequisites:{skillLevel:{skill:"One-Handed",level:25}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_HandToHand"],children:["REQ_OneHanded_Unarmed_UnarmedStance"]},isRoot:!1,position:{x:4,y:0,horizontal:-.25,vertical:.75}},{edid:"REQ_OneHanded_Unarmed_UnarmedStance",name:"Unarmed Stance",ranks:[{rank:1,edid:"REQ_OneHanded_Unarmed_UnarmedStance",name:"Unarmed Stance",description:{base:"While unarmed, you can maneuver more freely and resist physical force.",subtext:"[+5% movement speed for each hand empty, +50 mass when both hands are empty]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_Unarmed_UnarmedDefense"],children:[]},isRoot:!1,position:{x:4,y:1,horizontal:.25,vertical:.25}},{edid:"Feat_Perk_Skill_Onehanded_BalancedWielding1",name:"Balanced Wielding",ranks:[{rank:1,edid:"Feat_Perk_Skill_Onehanded_BalancedWielding1",name:"Balanced Wielding",description:{base:"You can balance your weapon better when wielding it in a single hand, delivering quick and precise attacks.",subtext:"[+25% damage against enemies who are attacking and +15% armor penetration when left hand is empty]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_WeaponMastery1"],children:[]},isRoot:!1,position:{x:2,y:1,horizontal:-.5,vertical:-.5}},{edid:"Feat_Perk_Skill_OneHanded_ArmedSpellcasting1",name:"Armed Spellcasting",ranks:[{rank:1,edid:"Feat_Perk_Skill_OneHanded_ArmedSpellcasting1",name:"Armed Spellcasting",description:{base:"You can balance your weapon well with single hand, and can use it to cast magic.",subtext:"[+25% poise damage and 10% less spell cost when left hand is empty or wielding magic]"},prerequisites:{skillLevel:{skill:"One-Handed",level:50}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_WeaponMastery1"],children:[]},isRoot:!1,position:{x:1,y:0,horizontal:0,vertical:0}},{edid:"SWORDORD_One60_DeathOrGlory_Perk_60",name:"Final Stand",ranks:[{rank:60,edid:"SWORDORD_One60_DeathOrGlory_Perk_60",name:"Final Stand",description:{base:"Power attacks deal up to 100% more damage below half Health. The damage bonus increases as your Health decreases.",subtext:""},prerequisites:{skillLevel:{skill:"One-Handed",level:80}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_Sword_DisarmingBlade"],children:[]},isRoot:!1,position:{x:0,y:3,horizontal:.20000000298023224,vertical:-.2571429908275604}},{edid:"MACEORD_One70_GrandSlam_Perk_70_OrdASISExclude",name:"Heavy Slam",ranks:[{rank:1,edid:"MACEORD_One70_GrandSlam_Perk_70_OrdASISExclude",name:"Heavy Slam",description:{base:"Whenever a standing power attack with a mace inflicts a critical strike, it deals 3% more critical damage per point of Stamina.",subtext:""},prerequisites:{skillLevel:{skill:"One-Handed",level:80}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_Mace_StunningBlow"],children:[]},isRoot:!1,position:{x:1,y:3,horizontal:0,vertical:-.20000000298023224}},{edid:"AXEORD_One50_Execute_Perk_50_OrdASISExclude",name:"Guillotine",ranks:[{rank:1,edid:"AXEORD_One50_Execute_Perk_50_OrdASISExclude",name:"Guillotine",description:{base:"Standing power attacks with war axes execute targets below 25% Health, delivering a critical strike that deals twenty times critical damage.",subtext:""},prerequisites:{skillLevel:{skill:"One-Handed",level:80}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_WarAxe_Armsbreaker"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:-.4285709857940674,vertical:-.1571429967880249}},{edid:"DAGGERORD_One70_DeathAdder_Perk_70_OrdASISExclude",name:"Death Adder",ranks:[{rank:1,edid:"DAGGERORD_One70_DeathAdder_Perk_70_OrdASISExclude",name:"Death Adder",description:{base:"Forward power attacks with a dagger ignore 25% of armor.",subtext:""},prerequisites:{skillLevel:{skill:"One-Handed",level:80}}}],totalRanks:1,connections:{parents:["REQ_OneHanded_Dagger_Puncture"],children:[]},isRoot:!1,position:{x:4,y:3,horizontal:.32857099175453186,vertical:-.35714298486709595}}]}];function z1(e,t,n){var s;if(t.length===0)return 0;const a=E4.find(o=>o.treeId===e);if(!a)return 0;let r=0;for(const o of t){const l=a.perks.find(d=>d.edid===o);if(!l)continue;const c=n[o]||1,u=l.ranks.find(d=>d.rank===c);if(u&&(s=u.prerequisites)!=null&&s.skillLevel){const d=u.prerequisites.skillLevel.level;r=Math.max(r,d)}}return r}function lu(e){const t={};for(const[n,a]of Object.entries(e.selected))if(a.length>0){const r=z1(n,a,e.ranks);r>0&&(t[n]=r)}return t}function pt(){const e=Qr($=>$.build.skills.major),t=Qr($=>$.build.skills.minor),n=Qr($=>$.build),a=Qr($=>$.updateBuild),r=Qr($=>$.resetBuild),s=$=>(e==null?void 0:e.includes($))??!1,o=$=>(t==null?void 0:t.includes($))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:s,hasMinorSkill:o,addMajorSkill:$=>{console.log("addMajorSkill called:",{skillId:$});const G=e??[],K=t??[];if(!s($)&&G.length<3){const W=K.filter(ye=>ye!==$),ae={major:[...G,$],minor:W};console.log("addMajorSkill - updating build with new skills:",ae),a({skills:ae})}else console.log("addMajorSkill - skill already major or limit reached, skipping")},removeMajorSkill:$=>{const G=e??[],K=t??[],W=G.filter(ae=>ae!==$);a({skills:{major:W,minor:K}})},addMinorSkill:$=>{const G=e??[],K=t??[];if(!o($)&&K.length<6){const W=G.filter(ae=>ae!==$);a({skills:{major:W,minor:[...K,$]}})}},removeMinorSkill:$=>{const G=e??[],W=(t??[]).filter(ae=>ae!==$);a({skills:{major:G,minor:W}})},addPerk:($,G)=>{var ae;console.log("addPerk called:",{skillId:$,perkId:G});const K=((ae=n==null?void 0:n.perks)==null?void 0:ae.selected)??{},W=K[$]??[];if(W.includes(G))console.log("addPerk - perk already selected, skipping");else{const ye={...n==null?void 0:n.perks,selected:{...K,[$]:[...W,G]}},de=lu(ye);console.log("addPerk - updating build with new perks:",ye),console.log("addPerk - calculated skill levels:",de),a({perks:ye,skillLevels:de})}},removePerk:($,G)=>{var ne;const K=((ne=n==null?void 0:n.perks)==null?void 0:ne.selected)??{},ae=(K[$]??[]).filter(Ae=>Ae!==G),ye={...n==null?void 0:n.perks,selected:{...K,[$]:ae}},de=lu(ye);a({perks:ye,skillLevels:de})},setPerkRank:($,G)=>{var ye;console.log("setPerkRank called:",{perkId:$,rank:G});const K=((ye=n==null?void 0:n.perks)==null?void 0:ye.ranks)??{},W={...n==null?void 0:n.perks,ranks:{...K,[$]:G}},ae=lu(W);console.log("setPerkRank - updating build with new ranks:",W),console.log("setPerkRank - calculated skill levels:",ae),a({perks:W,skillLevels:ae})},clearSkillPerks:$=>{var Ae,dt;const G=((Ae=n==null?void 0:n.perks)==null?void 0:Ae.selected)??{},K=((dt=n==null?void 0:n.perks)==null?void 0:dt.ranks)??{},{[$]:W,...ae}=G,ye={...K};W&&W.forEach(oa=>{delete ye[oa]});const de={...n==null?void 0:n.perks,selected:ae,ranks:ye},ne=lu(de);a({perks:de,skillLevels:ne})},getSkillPerks:$=>{var G,K;return((K=(G=n==null?void 0:n.perks)==null?void 0:G.selected)==null?void 0:K[$])??[]},getPerkRank:$=>{var G,K;return((K=(G=n==null?void 0:n.perks)==null?void 0:G.ranks)==null?void 0:K[$])??0},getSkillLevel:$=>{var G;return((G=n==null?void 0:n.skillLevels)==null?void 0:G[$])??0},addTrait:$=>{const{regular:G=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:W=2,bonus:ae=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};G.length<W?a({traits:{...n==null?void 0:n.traits,regular:[...G,$]}}):K.length<ae&&a({traits:{...n==null?void 0:n.traits,bonus:[...K,$]}})},addRegularTrait:$=>{const{regular:G=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:K=2}=(n==null?void 0:n.traitLimits)??{regular:2};G.length<K&&a({traits:{...n==null?void 0:n.traits,regular:[...G,$]}})},addBonusTrait:$=>{const{bonus:G=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:K=1}=(n==null?void 0:n.traitLimits)??{bonus:1};G.length<K&&a({traits:{...n==null?void 0:n.traits,bonus:[...G,$]}})},removeTrait:$=>{const{regular:G=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};a({traits:{regular:G.filter(W=>W!==$),bonus:K.filter(W=>W!==$)}})},hasTrait:$=>{var G,K,W,ae;return(((K=(G=n==null?void 0:n.traits)==null?void 0:G.regular)==null?void 0:K.includes($))??!1)||(((ae=(W=n==null?void 0:n.traits)==null?void 0:W.bonus)==null?void 0:ae.includes($))??!1)},hasRegularTrait:$=>{var G,K;return((K=(G=n==null?void 0:n.traits)==null?void 0:G.regular)==null?void 0:K.includes($))??!1},hasBonusTrait:$=>{var G,K;return((K=(G=n==null?void 0:n.traits)==null?void 0:G.bonus)==null?void 0:K.includes($))??!1},setRace:$=>{a({race:$})},setBirthsign:$=>{a({stone:$})},setStone:$=>{a({stone:$})},setReligion:$=>{a({religion:$})},addEquipment:$=>{const G=(n==null?void 0:n.equipment)??[];G.includes($)||a({equipment:[...G,$]})},removeEquipment:$=>{const G=(n==null?void 0:n.equipment)??[];a({equipment:G.filter(K=>K!==$)})},setBuildName:$=>{a({name:$})},setBuildNotes:$=>{a({notes:$})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:$=>{a({destinyPath:$})},updateBuild:a,clearBuild:()=>{a({name:"",notes:"",race:null,stone:null,religion:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},perks:{selected:{},ranks:{}},skillLevels:{},destinyPath:[]})},resetBuild:r,getSummary:()=>{var $,G,K,W,ae,ye,de,ne,Ae;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((G=($=n==null?void 0:n.traits)==null?void 0:$.regular)==null?void 0:G.length)??0)+(((W=(K=n==null?void 0:n.traits)==null?void 0:K.bonus)==null?void 0:W.length)??0),majorSkillCount:((ye=(ae=n==null?void 0:n.skills)==null?void 0:ae.major)==null?void 0:ye.length)??0,minorSkillCount:((ne=(de=n==null?void 0:n.skills)==null?void 0:de.minor)==null?void 0:ne.length)??0,equipmentCount:((Ae=n==null?void 0:n.equipment)==null?void 0:Ae.length)??0}},getRegularTraitLimit:()=>{var $;return(($=n==null?void 0:n.traitLimits)==null?void 0:$.regular)??2},getBonusTraitLimit:()=>{var $;return(($=n==null?void 0:n.traitLimits)==null?void 0:$.bonus)??1},getRegularTraitCount:()=>{var $,G;return((G=($=n==null?void 0:n.traits)==null?void 0:$.regular)==null?void 0:G.length)??0},getBonusTraitCount:()=>{var $,G;return((G=($=n==null?void 0:n.traits)==null?void 0:$.bonus)==null?void 0:G.length)??0},canAddRegularTrait:()=>{var $,G,K;return(((G=($=n==null?void 0:n.traits)==null?void 0:$.regular)==null?void 0:G.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.regular)??2)},canAddBonusTrait:()=>{var $,G,K;return(((G=($=n==null?void 0:n.traits)==null?void 0:$.bonus)==null?void 0:G.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.bonus)??1)},getTraitType:$=>{var G,K,W,ae;return(K=(G=n==null?void 0:n.traits)==null?void 0:G.regular)!=null&&K.includes($)?"regular":(ae=(W=n==null?void 0:n.traits)==null?void 0:W.bonus)!=null&&ae.includes($)?"bonus":null},isAllTraitsFull:()=>{var ae,ye,de,ne,Ae,dt;const $=((ye=(ae=n==null?void 0:n.traits)==null?void 0:ae.regular)==null?void 0:ye.length)??0,G=((ne=(de=n==null?void 0:n.traits)==null?void 0:de.bonus)==null?void 0:ne.length)??0,K=((Ae=n==null?void 0:n.traitLimits)==null?void 0:Ae.regular)??2,W=((dt=n==null?void 0:n.traitLimits)==null?void 0:dt.bonus)??1;return $>=K&&G>=W},addTraitToSlot:($,G)=>{if(G==="regular"){const{regular:K=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:W=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(K.length<W){const{bonus:ae=[]}=(n==null?void 0:n.traits)??{bonus:[]},ye=ae.filter(de=>de!==$);a({traits:{regular:[...K,$],bonus:ye}})}}else{const{bonus:K=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:W=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(K.length<W){const{regular:ae=[]}=(n==null?void 0:n.traits)??{regular:[]},ye=ae.filter(de=>de!==$);a({traits:{regular:ye,bonus:[...K,$]}})}}},isSlotAvailable:($,G=0)=>{var K,W,ae,ye;return $==="regular"?(((W=(K=n==null?void 0:n.traits)==null?void 0:K.regular)==null?void 0:W.length)??0)<=G:(((ye=(ae=n==null?void 0:n.traits)==null?void 0:ae.bonus)==null?void 0:ye.length)??0)<=G}}}function O1(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=O1(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function I1(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=O1(e))&&(a&&(a+=" "),a+=t);return a}const lv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cv=I1,Po=(e,t)=>n=>{var a;if((t==null?void 0:t.variants)==null)return cv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=t,o=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const m=lv(d)||lv(f);return r[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(g=>{let[y,b]=g;return Array.isArray(b)?b.includes({...s,...l}[y]):{...s,...l}[y]===b})?[...u,f,m]:u},[]);return cv(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},u0="-",R4=e=>{const t=j4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(u0);return l[0]===""&&l.length!==1&&l.shift(),Q1(l,t)||N4(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},Q1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),r=a?Q1(e.slice(1),a):void 0;if(r)return r;if(t.validators.length===0)return;const s=e.join(u0);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},uv=/^\[(.+)\]$/,N4=e=>{if(uv.test(e)){const t=uv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},j4=e=>{const{theme:t,classGroups:n}=e,a={nextPart:new Map,validators:[]};for(const r in n)lp(n[r],a,r,t);return a},lp=(e,t,n,a)=>{e.forEach(r=>{if(typeof r=="string"){const s=r===""?t:dv(t,r);s.classGroupId=n;return}if(typeof r=="function"){if(A4(r)){lp(r(a),t,n,a);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{lp(o,dv(t,s),n,a)})})},dv=(e,t)=>{let n=e;return t.split(u0).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},A4=e=>e.isThemeGetter,C4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,a=new Map;const r=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,a=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=a.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},cp="!",up=":",M4=up.length,T4=e=>{const{prefix:t,experimentalParseClassName:n}=e;let a=r=>{const s=[];let o=0,l=0,c=0,u;for(let g=0;g<r.length;g++){let y=r[g];if(o===0&&l===0){if(y===up){s.push(r.slice(c,g)),c=g+M4;continue}if(y==="/"){u=g;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const d=s.length===0?r:r.substring(c),f=D4(d),m=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const r=t+up,s=a;a=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const r=a;a=s=>n({className:s,parseClassName:r})}return a},D4=e=>e.endsWith(cp)?e.substring(0,e.length-1):e.startsWith(cp)?e.substring(1):e,L4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const r=[];let s=[];return a.forEach(o=>{o[0]==="["||t[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},P4=e=>({cache:C4(e.cacheSize),parseClassName:T4(e),sortModifiers:L4(e),...R4(e)}),z4=/\s+/,O4=(e,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:r,sortModifiers:s}=t,o=[],l=e.trim().split(z4);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:m,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let b=!!y,x=a(b?g.substring(0,y):g);if(!x){if(!b){c=d+(c.length>0?" "+c:c);continue}if(x=a(g),!x){c=d+(c.length>0?" "+c:c);continue}b=!1}const v=s(m).join(":"),_=h?v+cp:v,k=_+x;if(o.includes(k))continue;o.push(k);const w=r(x,b);for(let S=0;S<w.length;++S){const E=w[S];o.push(_+E)}c=d+(c.length>0?" "+c:c)}return c};function I4(){let e=0,t,n,a="";for(;e<arguments.length;)(t=arguments[e++])&&(n=B1(t))&&(a&&(a+=" "),a+=n);return a}const B1=e=>{if(typeof e=="string")return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=B1(e[a]))&&(n&&(n+=" "),n+=t);return n};function Q4(e,...t){let n,a,r,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=P4(u),a=n.cache.get,r=n.cache.set,s=l,l(c)}function l(c){const u=a(c);if(u)return u;const d=O4(c,n);return r(c,d),d}return function(){return s(I4.apply(null,arguments))}}const xt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},$1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,H1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,B4=/^\d+\/\d+$/,$4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,H4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,q4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pi=e=>B4.test(e),_e=e=>!!e&&!Number.isNaN(Number(e)),jr=e=>!!e&&Number.isInteger(Number(e)),zm=e=>e.endsWith("%")&&_e(e.slice(0,-1)),Fa=e=>$4.test(e),Y4=()=>!0,V4=e=>H4.test(e)&&!F4.test(e),F1=()=>!1,G4=e=>q4.test(e),W4=e=>U4.test(e),Z4=e=>!re(e)&&!se(e),X4=e=>zo(e,Y1,F1),re=e=>$1.test(e),gs=e=>zo(e,V1,V4),Om=e=>zo(e,nD,_e),fv=e=>zo(e,q1,F1),K4=e=>zo(e,U1,W4),cu=e=>zo(e,G1,G4),se=e=>H1.test(e),nl=e=>Oo(e,V1),J4=e=>Oo(e,aD),mv=e=>Oo(e,q1),eD=e=>Oo(e,Y1),tD=e=>Oo(e,U1),uu=e=>Oo(e,G1,!0),zo=(e,t,n)=>{const a=$1.exec(e);return a?a[1]?t(a[1]):n(a[2]):!1},Oo=(e,t,n=!1)=>{const a=H1.exec(e);return a?a[1]?t(a[1]):n:!1},q1=e=>e==="position"||e==="percentage",U1=e=>e==="image"||e==="url",Y1=e=>e==="length"||e==="size"||e==="bg-size",V1=e=>e==="length",nD=e=>e==="number",aD=e=>e==="family-name",G1=e=>e==="shadow",rD=()=>{const e=xt("color"),t=xt("font"),n=xt("text"),a=xt("font-weight"),r=xt("tracking"),s=xt("leading"),o=xt("breakpoint"),l=xt("container"),c=xt("spacing"),u=xt("radius"),d=xt("shadow"),f=xt("inset-shadow"),m=xt("text-shadow"),h=xt("drop-shadow"),g=xt("blur"),y=xt("perspective"),b=xt("aspect"),x=xt("ease"),v=xt("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...k(),se,re],S=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],R=()=>[se,re,c],N=()=>[pi,"full","auto",...R()],j=()=>[jr,"none","subgrid",se,re],O=()=>["auto",{span:["full",jr,se,re]},jr,se,re],I=()=>[jr,"auto",se,re],D=()=>["auto","min","max","fr",se,re],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],T=()=>["start","end","center","stretch","center-safe","end-safe"],C=()=>["auto",...R()],M=()=>[pi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],L=()=>[e,se,re],P=()=>[...k(),mv,fv,{position:[se,re]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",eD,X4,{size:[se,re]}],B=()=>[zm,nl,gs],U=()=>["","none","full",u,se,re],V=()=>["",_e,nl,gs],J=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[_e,zm,mv,fv],ge=()=>["","none",g,se,re],me=()=>["none",_e,se,re],ve=()=>["none",_e,se,re],$=()=>[_e,se,re],G=()=>[pi,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fa],breakpoint:[Fa],color:[Y4],container:[Fa],"drop-shadow":[Fa],ease:["in","out","in-out"],font:[Z4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fa],shadow:[Fa],spacing:["px",_e],text:[Fa],"text-shadow":[Fa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pi,re,se,b]}],container:["container"],columns:[{columns:[_e,re,se,l]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[jr,"auto",se,re]}],basis:[{basis:[pi,"full","auto",l,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,pi,"auto","initial","none",re]}],grow:[{grow:["",_e,se,re]}],shrink:[{shrink:["",_e,se,re]}],order:[{order:[jr,"first","last","none",se,re]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...T(),"normal"]}],"justify-self":[{"justify-self":["auto",...T()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...T(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...T(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...T(),"baseline"]}],"place-self":[{"place-self":["auto",...T()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[l,"screen",...M()]}],"min-w":[{"min-w":[l,"screen","none",...M()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",n,nl,gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,se,Om]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zm,re]}],"font-family":[{font:[J4,re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,se,re]}],"line-clamp":[{"line-clamp":[_e,"none",se,Om]}],leading:[{leading:[s,...R()]}],"list-image":[{"list-image":["none",se,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",se,gs]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[_e,"auto",se,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jr,se,re],radial:["",se,re],conic:[jr,se,re]},tD,K4]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_e,se,re]}],"outline-w":[{outline:["",_e,nl,gs]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",d,uu,cu]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",f,uu,cu]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[_e,gs]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",m,uu,cu]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[_e,se,re]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[se,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,re]}],filter:[{filter:["","none",se,re]}],blur:[{blur:ge()}],brightness:[{brightness:[_e,se,re]}],contrast:[{contrast:[_e,se,re]}],"drop-shadow":[{"drop-shadow":["","none",h,uu,cu]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",_e,se,re]}],"hue-rotate":[{"hue-rotate":[_e,se,re]}],invert:[{invert:["",_e,se,re]}],saturate:[{saturate:[_e,se,re]}],sepia:[{sepia:["",_e,se,re]}],"backdrop-filter":[{"backdrop-filter":["","none",se,re]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[_e,se,re]}],"backdrop-contrast":[{"backdrop-contrast":[_e,se,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,se,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,se,re]}],"backdrop-invert":[{"backdrop-invert":["",_e,se,re]}],"backdrop-opacity":[{"backdrop-opacity":[_e,se,re]}],"backdrop-saturate":[{"backdrop-saturate":[_e,se,re]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,se,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",se,re]}],ease:[{ease:["linear","initial",x,se,re]}],delay:[{delay:[_e,se,re]}],animate:[{animate:["none",v,se,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,se,re]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:$()}],"skew-x":[{"skew-x":$()}],"skew-y":[{"skew-y":$()}],transform:[{transform:[se,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,re]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[_e,nl,gs,Om]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sD=Q4(rD);function H(...e){return sD(I1(e))}const iD=Po("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function X({className:e,variant:t,...n}){return i.jsx("div",{className:H(iD({variant:t}),e),...n})}function hv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cf(...e){return t=>{let n=!1;const a=e.map(r=>{const s=hv(r,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<a.length;r++){const s=a[r];typeof s=="function"?s():hv(e[r],null)}}}}function De(...e){return p.useCallback(Cf(...e),e)}function uo(e){const t=lD(e),n=p.forwardRef((a,r)=>{const{children:s,...o}=a,l=p.Children.toArray(s),c=l.find(uD);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}var oD=uo("Slot");function lD(e){const t=p.forwardRef((n,a)=>{const{children:r,...s}=n;if(p.isValidElement(r)){const o=fD(r),l=dD(s,r.props);return r.type!==p.Fragment&&(l.ref=a?Cf(a,o):o),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W1=Symbol("radix.slottable");function cD(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=W1,t}function uD(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W1}function dD(e,t){const n={...t};for(const a in t){const r=e[a],s=t[a];/^on[A-Z]/.test(a)?r&&s?n[a]=(...l)=>{const c=s(...l);return r(...l),c}:r&&(n[a]=r):a==="style"?n[a]={...r,...s}:a==="className"&&(n[a]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function fD(e){var a,r;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const mD=Po("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function Z({className:e,variant:t,size:n,asChild:a=!1,...r}){const s=a?oD:"button";return i.jsx(s,{"data-slot":"button",className:H(mD({variant:t,size:n,className:e})),...r})}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function hD(e,t){const n=p.createContext(t),a=s=>{const{children:o,...l}=s,c=p.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};a.displayName=e+"Provider";function r(s){const o=p.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[a,r]}function rn(e,t=[]){let n=[];function a(s,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:m,children:h,...g}=f,y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,b=p.useMemo(()=>g,Object.values(g));return i.jsx(y.Provider,{value:b,children:h})};u.displayName=s+"Provider";function d(f,m){var y;const h=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=p.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const r=()=>{const s=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return r.scopeName=e,[a,pD(r,...t)]}function pD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=a.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var ja=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},gD=c1[" useId ".trim().toString()]||(()=>{}),xD=0;function rr(e){const[t,n]=p.useState(gD());return ja(()=>{n(a=>a??String(xD++))},[e]),t?`radix-${t}`:""}var yD=c1[" useInsertionEffect ".trim().toString()]||ja;function Hn({prop:e,defaultProp:t,onChange:n=()=>{},caller:a}){const[r,s,o]=vD({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:r;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${a} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,a])}const u=p.useCallback(d=>{var f;if(l){const m=bD(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else s(d)},[l,e,s,o]);return[c,u]}function vD({defaultProp:e,onChange:t}){const[n,a]=p.useState(e),r=p.useRef(n),s=p.useRef(t);return yD(()=>{s.current=t},[t]),p.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,a,s]}function bD(e){return typeof e=="function"}var _D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xe=_D.reduce((e,t)=>{const n=uo(`Primitive.${t}`),a=p.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Z1(e,t){e&&Af.flushSync(()=>e.dispatchEvent(t))}function Ot(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var a;return(a=t.current)==null?void 0:a.call(t,...n)},[])}function kD(e,t=globalThis==null?void 0:globalThis.document){const n=Ot(e);p.useEffect(()=>{const a=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var wD="DismissableLayer",dp="dismissableLayer.update",SD="dismissableLayer.pointerDownOutside",ED="dismissableLayer.focusOutside",pv,X1=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(X1),[d,f]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=p.useState({}),g=De(t,E=>f(E)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(b),v=d?y.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=x,w=jD(E=>{const R=E.target,N=[...u.branches].some(j=>j.contains(R));!k||N||(r==null||r(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),S=AD(E=>{const R=E.target;[...u.branches].some(j=>j.contains(R))||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return kD(E=>{v===u.layers.size-1&&(a==null||a(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),gv(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=pv)}},[d,m,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),gv())},[d,u]),p.useEffect(()=>{const E=()=>h({});return document.addEventListener(dp,E),()=>document.removeEventListener(dp,E)},[]),i.jsx(xe.div,{...c,ref:g,style:{pointerEvents:_?k?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,S.onFocusCapture),onBlurCapture:te(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,w.onPointerDownCapture)})});jc.displayName=wD;var RD="DismissableLayerBranch",ND=p.forwardRef((e,t)=>{const n=p.useContext(X1),a=p.useRef(null),r=De(t,a);return p.useEffect(()=>{const s=a.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),i.jsx(xe.div,{...e,ref:r})});ND.displayName=RD;function jD(e,t=globalThis==null?void 0:globalThis.document){const n=Ot(e),a=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!a.current){let c=function(){K1(SD,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}else t.removeEventListener("click",r.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function AD(e,t=globalThis==null?void 0:globalThis.document){const n=Ot(e),a=p.useRef(!1);return p.useEffect(()=>{const r=s=>{s.target&&!a.current&&K1(ED,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function gv(){const e=new CustomEvent(dp);document.dispatchEvent(e)}function K1(e,t,n,{discrete:a}){const r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),a?Z1(r,s):r.dispatchEvent(s)}var Im="focusScope.autoFocusOnMount",Qm="focusScope.autoFocusOnUnmount",xv={bubbles:!1,cancelable:!0},CD="FocusScope",d0=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=e,[l,c]=p.useState(null),u=Ot(r),d=Ot(s),f=p.useRef(null),m=De(t,y=>c(y)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let y=function(_){if(h.paused||!l)return;const k=_.target;l.contains(k)?f.current=k:Tr(f.current,{select:!0})},b=function(_){if(h.paused||!l)return;const k=_.relatedTarget;k!==null&&(l.contains(k)||Tr(f.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const w of _)w.removedNodes.length>0&&Tr(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),v.disconnect()}}},[a,l,h.paused]),p.useEffect(()=>{if(l){vv.add(h);const y=document.activeElement;if(!l.contains(y)){const x=new CustomEvent(Im,xv);l.addEventListener(Im,u),l.dispatchEvent(x),x.defaultPrevented||(MD(zD(J1(l)),{select:!0}),document.activeElement===y&&Tr(l))}return()=>{l.removeEventListener(Im,u),setTimeout(()=>{const x=new CustomEvent(Qm,xv);l.addEventListener(Qm,d),l.dispatchEvent(x),x.defaultPrevented||Tr(y??document.body,{select:!0}),l.removeEventListener(Qm,d),vv.remove(h)},0)}}},[l,u,d,h]);const g=p.useCallback(y=>{if(!n&&!a||h.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const v=y.currentTarget,[_,k]=TD(v);_&&k?!y.shiftKey&&x===k?(y.preventDefault(),n&&Tr(_,{select:!0})):y.shiftKey&&x===_&&(y.preventDefault(),n&&Tr(k,{select:!0})):x===v&&y.preventDefault()}},[n,a,h.paused]);return i.jsx(xe.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});d0.displayName=CD;function MD(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(Tr(a,{select:t}),document.activeElement!==n)return}function TD(e){const t=J1(e),n=yv(t,e),a=yv(t.reverse(),e);return[n,a]}function J1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yv(e,t){for(const n of e)if(!DD(n,{upTo:t}))return n}function DD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function LD(e){return e instanceof HTMLInputElement&&"select"in e}function Tr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&LD(e)&&t&&e.select()}}var vv=PD();function PD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=bv(e,t),e.unshift(t)},remove(t){var n;e=bv(e,t),(n=e[0])==null||n.resume()}}}function bv(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function zD(e){return e.filter(t=>t.tagName!=="A")}var OD="Portal",f0=p.forwardRef((e,t)=>{var l;const{container:n,...a}=e,[r,s]=p.useState(!1);ja(()=>s(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_4.createPortal(i.jsx(xe.div,{...a,ref:t}),o):null});f0.displayName=OD;function ID(e,t){return p.useReducer((n,a)=>t[n][a]??n,e)}var Bt=e=>{const{present:t,children:n}=e,a=QD(t),r=typeof n=="function"?n({present:a.isPresent}):p.Children.only(n),s=De(a.ref,BD(r));return typeof n=="function"||a.isPresent?p.cloneElement(r,{ref:s}):null};Bt.displayName="Presence";function QD(e){const[t,n]=p.useState(),a=p.useRef(null),r=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ID(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=du(a.current);s.current=l==="mounted"?u:"none"},[l]),ja(()=>{const u=a.current,d=r.current;if(d!==e){const m=s.current,h=du(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,c]),ja(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const y=du(a.current).includes(h.animationName);if(h.target===t&&y&&(c("ANIMATION_END"),!r.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=h=>{h.target===t&&(s.current=du(a.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{a.current=u?getComputedStyle(u):null,n(u)},[])}}function du(e){return(e==null?void 0:e.animationName)||"none"}function BD(e){var a,r;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Bm=0;function ew(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_v()),document.body.insertAdjacentElement("beforeend",e[1]??_v()),Bm++,()=>{Bm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bm--}},[])}function _v(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var pa=function(){return pa=Object.assign||function(t){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pa.apply(this,arguments)};function tw(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}function $D(e,t,n){if(n||arguments.length===2)for(var a=0,r=t.length,s;a<r;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}var Zu="right-scroll-bar-position",Xu="width-before-scroll-bar",HD="with-scroll-bars-hidden",FD="--removed-body-scroll-bar-size";function $m(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qD(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var r=n.value;r!==a&&(n.value=a,n.callback(a,r))}}}})[0];return n.callback=t,n.facade}var UD=typeof window<"u"?p.useLayoutEffect:p.useEffect,kv=new WeakMap;function YD(e,t){var n=qD(null,function(a){return e.forEach(function(r){return $m(r,a)})});return UD(function(){var a=kv.get(n);if(a){var r=new Set(a),s=new Set(e),o=n.current;r.forEach(function(l){s.has(l)||$m(l,null)}),s.forEach(function(l){r.has(l)||$m(l,o)})}kv.set(n,e)},[e]),n}function VD(e){return e}function GD(e,t){t===void 0&&(t=VD);var n=[],a=!1,r={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,a);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(a=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){a=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return r}function WD(e){e===void 0&&(e={});var t=GD(null);return t.options=pa({async:!0,ssr:!1},e),t}var nw=function(e){var t=e.sideCar,n=tw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,pa({},n))};nw.isSideCarExport=!0;function ZD(e,t){return e.useMedium(t),nw}var aw=WD(),Hm=function(){},Mf=p.forwardRef(function(e,t){var n=p.useRef(null),a=p.useState({onScrollCapture:Hm,onWheelCapture:Hm,onTouchMoveCapture:Hm}),r=a[0],s=a[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,h=e.noRelative,g=e.noIsolation,y=e.inert,b=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,_=e.gapMode,k=tw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=m,S=YD([n,t]),E=pa(pa({},k),r);return p.createElement(p.Fragment,null,d&&p.createElement(w,{sideCar:aw,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:_}),o?p.cloneElement(p.Children.only(l),pa(pa({},E),{ref:S})):p.createElement(v,pa({},E,{className:c,ref:S}),l))});Mf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mf.classNames={fullWidth:Xu,zeroRight:Zu};var XD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=XD();return t&&e.setAttribute("nonce",t),e}function JD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=KD())&&(JD(t,n),eL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nL=function(){var e=tL();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},rw=function(){var e=nL(),t=function(n){var a=n.styles,r=n.dynamic;return e(a,r),null};return t},aL={left:0,top:0,right:0,gap:0},Fm=function(e){return parseInt(e||"",10)||0},rL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[Fm(n),Fm(a),Fm(r)]},sL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aL;var t=rL(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},iL=rw(),Vi="data-scroll-locked",oL=function(e,t,n,a){var r=e.left,s=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(HD,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Vi,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zu,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Xu,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Vi,`] {
    `).concat(FD,": ").concat(l,`px;
  }
`)},wv=function(){var e=parseInt(document.body.getAttribute(Vi)||"0",10);return isFinite(e)?e:0},lL=function(){p.useEffect(function(){return document.body.setAttribute(Vi,(wv()+1).toString()),function(){var e=wv()-1;e<=0?document.body.removeAttribute(Vi):document.body.setAttribute(Vi,e.toString())}},[])},cL=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,r=a===void 0?"margin":a;lL();var s=p.useMemo(function(){return sL(r)},[r]);return p.createElement(iL,{styles:oL(s,!t,r,n?"":"!important")})},fp=!1;if(typeof window<"u")try{var fu=Object.defineProperty({},"passive",{get:function(){return fp=!0,!0}});window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{fp=!1}var gi=fp?{passive:!1}:!1,uL=function(e){return e.tagName==="TEXTAREA"},sw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!uL(e)&&n[t]==="visible")},dL=function(e){return sw(e,"overflowY")},fL=function(e){return sw(e,"overflowX")},Sv=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var r=iw(e,a);if(r){var s=ow(e,a),o=s[1],l=s[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},mL=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},hL=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},iw=function(e,t){return e==="v"?dL(t):fL(t)},ow=function(e,t){return e==="v"?mL(t):hL(t)},pL=function(e,t){return e==="h"&&t==="rtl"?-1:1},gL=function(e,t,n,a,r){var s=pL(e,window.getComputedStyle(t).direction),o=s*a,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var h=ow(e,l),g=h[0],y=h[1],b=h[2],x=y-b-s*g;(g||x)&&iw(e,l)&&(f+=x,m+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},mu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ev=function(e){return[e.deltaX,e.deltaY]},Rv=function(e){return e&&"current"in e?e.current:e},xL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vL=0,xi=[];function bL(e){var t=p.useRef([]),n=p.useRef([0,0]),a=p.useRef(),r=p.useState(vL++)[0],s=p.useState(rw)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var y=$D([e.lockRef.current],(e.shards||[]).map(Rv),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=mu(y),v=n.current,_="deltaX"in y?y.deltaX:v[0]-x[0],k="deltaY"in y?y.deltaY:v[1]-x[1],w,S=y.target,E=Math.abs(_)>Math.abs(k)?"h":"v";if("touches"in y&&E==="h"&&S.type==="range")return!1;var R=Sv(E,S);if(!R)return!0;if(R?w=E:(w=E==="v"?"h":"v",R=Sv(E,S)),!R)return!1;if(!a.current&&"changedTouches"in y&&(_||k)&&(a.current=w),!w)return!0;var N=a.current||w;return gL(N,b,y,N==="h"?_:k)},[]),c=p.useCallback(function(y){var b=y;if(!(!xi.length||xi[xi.length-1]!==s)){var x="deltaY"in b?Ev(b):mu(b),v=t.current.filter(function(w){return w.name===b.type&&(w.target===b.target||b.target===w.shadowParent)&&xL(w.delta,x)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var _=(o.current.shards||[]).map(Rv).filter(Boolean).filter(function(w){return w.contains(b.target)}),k=_.length>0?l(b,_[0]):!o.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(y,b,x,v){var _={name:y,delta:b,target:x,should:v,shadowParent:_L(x)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(k){return k!==_})},1)},[]),d=p.useCallback(function(y){n.current=mu(y),a.current=void 0},[]),f=p.useCallback(function(y){u(y.type,Ev(y),y.target,l(y,e.lockRef.current))},[]),m=p.useCallback(function(y){u(y.type,mu(y),y.target,l(y,e.lockRef.current))},[]);p.useEffect(function(){return xi.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,gi),document.addEventListener("touchmove",c,gi),document.addEventListener("touchstart",d,gi),function(){xi=xi.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,gi),document.removeEventListener("touchmove",c,gi),document.removeEventListener("touchstart",d,gi)}},[]);var h=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(s,{styles:yL(r)}):null,h?p.createElement(cL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function _L(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kL=ZD(aw,bL);var m0=p.forwardRef(function(e,t){return p.createElement(Mf,pa({},e,{ref:t,sideCar:kL}))});m0.classNames=Mf.classNames;var wL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yi=new WeakMap,hu=new WeakMap,pu={},qm=0,lw=function(e){return e&&(e.host||lw(e.parentNode))},SL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=lw(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},EL=function(e,t,n,a){var r=SL(t,Array.isArray(e)?e:[e]);pu[n]||(pu[n]=new WeakMap);var s=pu[n],o=[],l=new Set,c=new Set(r),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(a),g=h!==null&&h!=="false",y=(yi.get(m)||0)+1,b=(s.get(m)||0)+1;yi.set(m,y),s.set(m,b),o.push(m),y===1&&g&&hu.set(m,!0),b===1&&m.setAttribute(n,"true"),g||m.setAttribute(a,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(t),l.clear(),qm++,function(){o.forEach(function(f){var m=yi.get(f)-1,h=s.get(f)-1;yi.set(f,m),s.set(f,h),m||(hu.has(f)||f.removeAttribute(a),hu.delete(f)),h||f.removeAttribute(n)}),qm--,qm||(yi=new WeakMap,yi=new WeakMap,hu=new WeakMap,pu={})}},cw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),r=wL(e);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live], script"))),EL(a,r,n,"aria-hidden")):function(){return null}},Tf="Dialog",[uw,EJ]=rn(Tf),[RL,na]=uw(Tf),dw=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:r,onOpenChange:s,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Hn({prop:a,defaultProp:r??!1,onChange:s,caller:Tf});return i.jsx(RL,{scope:t,triggerRef:l,contentRef:c,contentId:rr(),titleId:rr(),descriptionId:rr(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};dw.displayName=Tf;var fw="DialogTrigger",mw=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,r=na(fw,n),s=De(t,r.triggerRef);return i.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":g0(r.open),...a,ref:s,onClick:te(e.onClick,r.onOpenToggle)})});mw.displayName=fw;var h0="DialogPortal",[NL,hw]=uw(h0,{forceMount:void 0}),pw=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:r}=e,s=na(h0,t);return i.jsx(NL,{scope:t,forceMount:n,children:p.Children.map(a,o=>i.jsx(Bt,{present:n||s.open,children:i.jsx(f0,{asChild:!0,container:r,children:o})}))})};pw.displayName=h0;var yd="DialogOverlay",gw=p.forwardRef((e,t)=>{const n=hw(yd,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,s=na(yd,e.__scopeDialog);return s.modal?i.jsx(Bt,{present:a||s.open,children:i.jsx(AL,{...r,ref:t})}):null});gw.displayName=yd;var jL=uo("DialogOverlay.RemoveScroll"),AL=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,r=na(yd,n);return i.jsx(m0,{as:jL,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(xe.div,{"data-state":g0(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Qs="DialogContent",xw=p.forwardRef((e,t)=>{const n=hw(Qs,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,s=na(Qs,e.__scopeDialog);return i.jsx(Bt,{present:a||s.open,children:s.modal?i.jsx(CL,{...r,ref:t}):i.jsx(ML,{...r,ref:t})})});xw.displayName=Qs;var CL=p.forwardRef((e,t)=>{const n=na(Qs,e.__scopeDialog),a=p.useRef(null),r=De(t,n.contentRef,a);return p.useEffect(()=>{const s=a.current;if(s)return cw(s)},[]),i.jsx(yw,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:te(e.onFocusOutside,s=>s.preventDefault())})}),ML=p.forwardRef((e,t)=>{const n=na(Qs,e.__scopeDialog),a=p.useRef(!1),r=p.useRef(!1);return i.jsx(yw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(a.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),yw=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=e,l=na(Qs,n),c=p.useRef(null),u=De(t,c);return ew(),i.jsxs(i.Fragment,{children:[i.jsx(d0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:s,children:i.jsx(jc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":g0(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(TL,{titleId:l.titleId}),i.jsx(LL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),p0="DialogTitle",vw=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,r=na(p0,n);return i.jsx(xe.h2,{id:r.titleId,...a,ref:t})});vw.displayName=p0;var bw="DialogDescription",_w=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,r=na(bw,n);return i.jsx(xe.p,{id:r.descriptionId,...a,ref:t})});_w.displayName=bw;var kw="DialogClose",ww=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,r=na(kw,n);return i.jsx(xe.button,{type:"button",...a,ref:t,onClick:te(e.onClick,()=>r.onOpenChange(!1))})});ww.displayName=kw;function g0(e){return e?"open":"closed"}var Sw="DialogTitleWarning",[RJ,Ew]=hD(Sw,{contentName:Qs,titleName:p0,docsSlug:"dialog"}),TL=({titleId:e})=>{const t=Ew(Sw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},DL="DialogDescriptionWarning",LL=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ew(DL).contentName}}.`;return p.useEffect(()=>{var s;const r=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Rw=dw,PL=mw,Nw=pw,x0=gw,y0=xw,v0=vw,b0=_w,zL=ww;const OL=Rw,IL=PL,QL=Nw,jw=p.forwardRef(({className:e,...t},n)=>i.jsx(x0,{className:H("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:_t.MODAL},...t,ref:n}));jw.displayName=x0.displayName;const BL=Po("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Aw=p.forwardRef(({side:e="right",className:t,children:n,...a},r)=>i.jsxs(QL,{children:[i.jsx(jw,{}),i.jsxs(y0,{ref:r,className:H(BL({side:e}),t),style:{zIndex:_t.MODAL+1,backgroundColor:"hsl(var(--background))"},...a,children:[n,i.jsxs(zL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Yt,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Aw.displayName=y0.displayName;const Cw=({className:e,...t})=>i.jsx("div",{className:H("flex flex-col space-y-2 text-center sm:text-left",e),...t});Cw.displayName="SheetHeader";const Mw=p.forwardRef(({className:e,...t},n)=>i.jsx(v0,{ref:n,className:H("text-lg font-semibold text-foreground",e),...t}));Mw.displayName=v0.displayName;const Tw=p.forwardRef(({className:e,...t},n)=>i.jsx(b0,{ref:n,className:H("text-sm text-muted-foreground",e),...t}));Tw.displayName=b0.displayName;const $L=()=>{const{build:e,resetBuild:t,getSummary:n,getRegularTraitLimit:a,getBonusTraitLimit:r}=pt(),s=wt(),o=n(),[l,c]=p.useState(!1),u=e.name||e.race||e.traits.regular.length>0||e.traits.bonus.length>0||e.stone||e.religion||e.skills.major.length>0||e.skills.minor.length>0||e.equipment.length>0,d=()=>{navigator.clipboard.writeText(window.location.href)},f=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},m=b=>{c(!1),s(b)},h=a(),g=r(),y=h+g;return i.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:_t.MODAL+1},children:i.jsxs(OL,{open:l,onOpenChange:c,children:[i.jsx(IL,{asChild:!0,children:i.jsx(Z,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${l?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:i.jsx(jl,{className:"h-5 w-5"})})}),i.jsxs(Aw,{side:"right",className:"w-[400px] sm:w-[540px] p-6",children:[i.jsxs(Cw,{children:[i.jsxs(Mw,{className:"flex items-center gap-2",children:[i.jsx(jl,{className:"h-5 w-5"}),u?o.name:"Character Build"]}),i.jsx(Tw,{children:u?"Your current character build status":"Create and manage your character build"})]}),i.jsx("div",{className:"mt-6 space-y-6",children:u?i.jsxs(i.Fragment,{children:[e.race&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Race"}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsx("span",{className:"font-medium",children:o.race}),i.jsx(X,{variant:"secondary",className:"bg-blue-500",children:"Selected"})]})]}),e.stone&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Birth Sign"}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsx("span",{className:"font-medium",children:o.stone}),i.jsx(X,{variant:"secondary",className:"bg-purple-500",children:"Selected"})]})]}),e.religion&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Religion"}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsx("span",{className:"font-medium",children:o.religion}),i.jsx(X,{variant:"secondary",className:"bg-orange-500",children:"Selected"})]})]}),(e.traits.regular.length>0||e.traits.bonus.length>0)&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Traits (",e.traits.regular.length+e.traits.bonus.length,"/",y,")"]}),i.jsxs("div",{className:"space-y-2",children:[e.traits.regular.map(b=>i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-muted-foreground",children:"Starting"})]},`regular-${b}`)),e.traits.bonus.map(b=>i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),i.jsx("span",{className:"text-muted-foreground",children:"Late Game"})]},`bonus-${b}`))]})]}),(e.skills.major.length>0||e.skills.minor.length>0)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Skills"}),i.jsxs("div",{className:"space-y-2",children:[e.skills.major.length>0&&i.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Major Skills"}),i.jsx(X,{variant:"outline",children:e.skills.major.length})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.major.map(b=>i.jsx(X,{variant:"secondary",className:"bg-red-500 text-xs",children:b},b))})]}),e.skills.minor.length>0&&i.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Minor Skills"}),i.jsx(X,{variant:"outline",children:e.skills.minor.length})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.minor.map(b=>i.jsx(X,{variant:"secondary",className:"bg-blue-500 text-xs",children:b},b))})]})]})]}),e.equipment.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Equipment (",e.equipment.length,")"]}),i.jsx("div",{className:"space-y-2",children:e.equipment.map(b=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsx("span",{className:"font-medium",children:b}),i.jsx(X,{variant:"secondary",className:"bg-gray-500",children:"Equipped"})]},b))})]})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(jl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Character Build"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building your character by selecting a race, traits, and other options."})]})}),i.jsx("div",{className:"mt-8 space-y-3",children:u?i.jsxs(i.Fragment,{children:[i.jsxs(Z,{onClick:()=>m("/build"),className:"w-full",children:[i.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Edit Build"]}),i.jsxs(Z,{variant:"outline",onClick:d,className:"w-full",children:[i.jsx(RM,{className:"w-4 h-4 mr-2"}),"Copy Share URL"]}),i.jsxs(Z,{variant:"destructive",onClick:f,className:"w-full",children:[i.jsx(wT,{className:"w-4 h-4 mr-2"}),"Reset Build"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(Z,{onClick:()=>m("/build"),className:"w-full",children:[i.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Create Character Build"]}),i.jsx(Z,{variant:"outline",onClick:()=>m("/race"),className:"w-full",children:"Browse Races"}),i.jsx(Z,{variant:"outline",onClick:()=>m("/traits"),className:"w-full",children:"Browse Traits"})]})})]})]})})},Nv=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),jv=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},HL=()=>{const e=Qr(a=>a.build),t=Qr(a=>a.setBuild),n=p.useRef(!1);p.useEffect(()=>{if(n.current)return;const a=window.location.hash,[r,s]=a.split("?"),l=new URLSearchParams(s||"").get("b");if(console.log("URL Sync - Hydrating from URL:",{hash:a,encodedBuild:l}),l){const c=jv(l);console.log("URL Sync - Decoded build:",c),(c==null?void 0:c.v)===1?(console.log("URL Sync - Setting build from URL"),t(c)):console.warn("Invalid or outdated build schema in URL")}else console.log("URL Sync - No build parameter found in URL");n.current=!0},[t]),p.useEffect(()=>{const a={v:1,name:"Test",perks:{selected:{archery:["archery_01"]},ranks:{archery_01:1}}},r=Nv(a),s=jv(r);console.log("URL Sync - Test encoding/decoding:",{testBuild:a,encoded:r,decoded:s,matches:JSON.stringify(a)===JSON.stringify(s)})},[]),p.useEffect(()=>{if(!n.current)return;console.log("URL Sync - Build state changed:",e);const a=Nv(e),r=window.location.hash,[s,o]=r.split("?"),l=new URLSearchParams(o||"");l.set("b",a);const c=`${s}?${l.toString()}`;console.log("URL Sync - Updating URL:",c),window.history.replaceState(null,"",c)},[e.v,e.name,e.race,e.stone,e.religion,e.traits,e.skills,e.perks,e.equipment,e.destinyPath])},Dw=p.forwardRef(({className:e,collapsed:t,...n},a)=>i.jsx("aside",{ref:a,"data-collapsed":t?"":void 0,className:H("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300",t?"w-0 overflow-hidden":"w-64",e),...n}));Dw.displayName="Sidebar";const Lw=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:H("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));Lw.displayName="SidebarContent";const Pw=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:H("mb-2",e),...t}));Pw.displayName="SidebarGroup";const zw=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:H("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));zw.displayName="SidebarHeader";const Ow=p.forwardRef(({className:e,...t},n)=>i.jsx("ul",{ref:n,className:H("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));Ow.displayName="SidebarMenu";const Iw=p.forwardRef(({className:e,asChild:t,isActive:n,...a},r)=>{const s=t?"span":"button";return i.jsx(s,{ref:r,"data-active":n?"":void 0,className:H("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...a})});Iw.displayName="SidebarMenuButton";const Qw=p.forwardRef(({className:e,...t},n)=>i.jsx("li",{ref:n,className:H("relative flex items-stretch",e),...t}));Qw.displayName="SidebarMenuItem";const Bw=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:e,...t}));Bw.displayName="SidebarRail";const FL=Po("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),sn=p.forwardRef(({className:e,variant:t,as:n,...a},r)=>{const s=n||qL(t);return i.jsx(s,{className:H(FL({variant:t,className:e})),ref:r,...a})});sn.displayName="Typography";function qL(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const ti=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"h1",as:"h1",className:e,ref:n,...t}));ti.displayName="H1";const Ci=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"h2",as:"h2",className:e,ref:n,...t}));Ci.displayName="H2";const $t=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"h3",as:"h3",className:e,ref:n,...t}));$t.displayName="H3";const UL=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"h4",as:"h4",className:e,ref:n,...t}));UL.displayName="H4";const Xn=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"h5",as:"h5",className:e,ref:n,...t}));Xn.displayName="H5";const YL=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"h6",as:"h6",className:e,ref:n,...t}));YL.displayName="H6";const Qe=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"p",as:"p",className:e,ref:n,...t}));Qe.displayName="P";const VL=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));VL.displayName="Blockquote";const GL=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"code",as:"code",className:e,ref:n,...t}));GL.displayName="Code";const $w=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"lead",as:"p",className:e,ref:n,...t}));$w.displayName="Lead";const WL=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"large",as:"div",className:e,ref:n,...t}));WL.displayName="Large";const Hw=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"small",as:"small",className:e,ref:n,...t}));Hw.displayName="Small";const Wl=p.forwardRef(({className:e,...t},n)=>i.jsx(sn,{variant:"muted",as:"p",className:e,ref:n,...t}));Wl.displayName="Muted";const br=({children:e,title:t,description:n,className:a=""})=>i.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${a}`,children:[t&&i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&i.jsx("p",{className:"text-muted-foreground mt-2 max-w-4xl",children:n})]})}),e]});function _0(e){const t=e+"CollectionProvider",[n,a]=rn(t),[r,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:x}=y,v=z.useRef(null),_=z.useRef(new Map).current;return i.jsx(r,{scope:b,itemMap:_,collectionRef:v,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=uo(l),u=z.forwardRef((y,b)=>{const{scope:x,children:v}=y,_=s(l,x),k=De(b,_.collectionRef);return i.jsx(c,{ref:k,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=uo(d),h=z.forwardRef((y,b)=>{const{scope:x,children:v,..._}=y,k=z.useRef(null),w=De(b,k),S=s(d,x);return z.useEffect(()=>(S.itemMap.set(k,{ref:k,..._}),()=>void S.itemMap.delete(k))),i.jsx(m,{[f]:"",ref:w,children:v})});h.displayName=d;function g(y){const b=s(e+"CollectionConsumer",y);return z.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const _=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((S,E)=>_.indexOf(S.ref.current)-_.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},g,a]}var ZL=p.createContext(void 0);function Io(e){const t=p.useContext(ZL);return e||t||"ltr"}var Um="rovingFocusGroup.onEntryFocus",XL={bubbles:!1,cancelable:!0},Ac="RovingFocusGroup",[mp,Fw,KL]=_0(Ac),[JL,Qo]=rn(Ac,[KL]),[eP,tP]=JL(Ac),qw=p.forwardRef((e,t)=>i.jsx(mp.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(mp.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(nP,{...e,ref:t})})}));qw.displayName=Ac;var nP=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=p.useRef(null),h=De(t,m),g=Io(s),[y,b]=Hn({prop:o,defaultProp:l??null,onChange:c,caller:Ac}),[x,v]=p.useState(!1),_=Ot(u),k=Fw(n),w=p.useRef(!1),[S,E]=p.useState(0);return p.useEffect(()=>{const R=m.current;if(R)return R.addEventListener(Um,_),()=>R.removeEventListener(Um,_)},[_]),i.jsx(eP,{scope:n,orientation:a,dir:g,loop:r,currentTabStopId:y,onItemFocus:p.useCallback(R=>b(R),[b]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:p.useCallback(()=>E(R=>R-1),[]),children:i.jsx(xe.div,{tabIndex:x||S===0?-1:0,"data-orientation":a,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{w.current=!0}),onFocus:te(e.onFocus,R=>{const N=!w.current;if(R.target===R.currentTarget&&N&&!x){const j=new CustomEvent(Um,XL);if(R.currentTarget.dispatchEvent(j),!j.defaultPrevented){const O=k().filter(C=>C.focusable),I=O.find(C=>C.active),D=O.find(C=>C.id===y),T=[I,D,...O].filter(Boolean).map(C=>C.ref.current);Vw(T,d)}}w.current=!1}),onBlur:te(e.onBlur,()=>v(!1))})})}),Uw="RovingFocusGroupItem",Yw=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:r=!1,tabStopId:s,children:o,...l}=e,c=rr(),u=s||c,d=tP(Uw,n),f=d.currentTabStopId===u,m=Fw(n),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:y}=d;return p.useEffect(()=>{if(a)return h(),()=>g()},[a,h,g]),i.jsx(mp.ItemSlot,{scope:n,id:u,focusable:a,active:r,children:i.jsx(xe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:te(e.onMouseDown,b=>{a?d.onItemFocus(u):b.preventDefault()}),onFocus:te(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:te(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=sP(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let _=m().filter(k=>k.focusable).map(k=>k.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const k=_.indexOf(b.currentTarget);_=d.loop?iP(_,k+1):_.slice(k+1)}setTimeout(()=>Vw(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});Yw.displayName=Uw;var aP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sP(e,t,n){const a=rP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return aP[a]}function Vw(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function iP(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var k0=qw,w0=Yw,Df="Tabs",[oP,NJ]=rn(Df,[Qo]),Gw=Qo(),[lP,S0]=oP(Df),Ww=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:r,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Io(l),[f,m]=Hn({prop:a,onChange:r,defaultProp:s??"",caller:Df});return i.jsx(lP,{scope:n,baseId:rr(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:i.jsx(xe.div,{dir:d,"data-orientation":o,...u,ref:t})})});Ww.displayName=Df;var Zw="TabsList",Xw=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...r}=e,s=S0(Zw,n),o=Gw(n);return i.jsx(k0,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:a,children:i.jsx(xe.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:t})})});Xw.displayName=Zw;var Kw="TabsTrigger",Jw=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:r=!1,...s}=e,o=S0(Kw,n),l=Gw(n),c=nS(o.baseId,a),u=aS(o.baseId,a),d=a===o.value;return i.jsx(w0,{asChild:!0,...l,focusable:!r,active:d,children:i.jsx(xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...s,ref:t,onMouseDown:te(e.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?o.onValueChange(a):f.preventDefault()}),onKeyDown:te(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(a)}),onFocus:te(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!r&&f&&o.onValueChange(a)})})})});Jw.displayName=Kw;var eS="TabsContent",tS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:r,children:s,...o}=e,l=S0(eS,n),c=nS(l.baseId,a),u=aS(l.baseId,a),d=a===l.value,f=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(Bt,{present:r||d,children:({present:m})=>i.jsx(xe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});tS.displayName=eS;function nS(e,t){return`${e}-trigger-${t}`}function aS(e,t){return`${e}-content-${t}`}var cP=Ww,uP=Xw,dP=Jw,fP=tS;function Cc({className:e,...t}){return i.jsx(cP,{"data-slot":"tabs",className:H("flex flex-col gap-2",e),...t})}function Mc({className:e,...t}){return i.jsx(uP,{"data-slot":"tabs-list",className:H("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Zn({className:e,...t}){return i.jsx(dP,{"data-slot":"tabs-trigger",className:H("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function ya({className:e,...t}){return i.jsx(fP,{"data-slot":"tabs-content",className:H("flex-1 outline-none",e),...t})}const Zt=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],mP=({currentPath:e})=>{var d;const t=wt(),n=Zt.findIndex(f=>f.to===e),a=n>=0?n:0,r=f=>{const m=Zt.find(h=>h.value===f);m&&t(m.to)},s=f=>{t(f.to)},o=()=>{a>0&&t(Zt[a-1].to)},l=()=>{a<Zt.length-1&&t(Zt[a+1].to)},c=f=>{switch(f.key){case"ArrowLeft":f.preventDefault(),o();break;case"ArrowRight":f.preventDefault(),l();break;case"Home":f.preventDefault(),t(Zt[0].to);break;case"End":f.preventDefault(),t(Zt[Zt.length-1].to);break}},u=((d=Zt[a])==null?void 0:d.value)||"build";return i.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{zIndex:_t.NAVIGATION,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:c,tabIndex:0,children:i.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:i.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[i.jsx(Z,{onClick:o,disabled:a===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${a>0?Zt[a-1].label:"none"}`,children:i.jsx(gM,{className:"h-4 w-4"})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx(Cc,{value:u,onValueChange:r,children:i.jsx(Mc,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:Zt.map((f,m)=>i.jsxs(Zn,{value:f.value,onClick:()=>s(f),className:H("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:u===f.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${m+1}: ${f.label}`,role:"tab","aria-selected":u===f.value,"aria-label":`Step ${m+1}: ${f.label}`,children:[i.jsx("span",{className:"hidden sm:inline",children:f.label}),i.jsx("span",{className:"sm:hidden",children:f.label.split(" ")[0]}),u===f.value&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},f.value))})})}),i.jsx(Z,{onClick:l,disabled:a===Zt.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${a<Zt.length-1?Zt[a+1].label:"none"}`,children:i.jsx(Sc,{className:"h-4 w-4"})})]})})})},hP=()=>{const e=yr();return i.jsxs("div",{className:"flex flex-col min-h-full",children:[i.jsx(mP,{currentPath:e.pathname}),i.jsx("div",{className:"flex-grow",children:i.jsx(L3,{})})]})};function pP(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function rS(e){const[t,n]=p.useState(void 0);return ja(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var Lf="Switch",[gP,jJ]=rn(Lf),[xP,yP]=gP(Lf),sS=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:a,checked:r,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,h]=p.useState(null),g=De(t,_=>h(_)),y=p.useRef(!1),b=m?d||!!m.closest("form"):!0,[x,v]=Hn({prop:r,defaultProp:s??!1,onChange:u,caller:Lf});return i.jsxs(xP,{scope:n,checked:x,disabled:l,children:[i.jsx(xe.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":cS(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:te(e.onClick,_=>{v(k=>!k),b&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})}),b&&i.jsx(lS,{control:m,bubbles:!y.current,name:a,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});sS.displayName=Lf;var iS="SwitchThumb",oS=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...a}=e,r=yP(iS,n);return i.jsx(xe.span,{"data-state":cS(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:t})});oS.displayName=iS;var vP="SwitchBubbleInput",lS=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:a=!0,...r},s)=>{const o=p.useRef(null),l=De(o,s),c=pP(n),u=rS(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const g=new Event("click",{bubbles:a});h.call(d,n),d.dispatchEvent(g)}},[c,n,a]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lS.displayName=vP;function cS(e){return e?"checked":"unchecked"}var uS=sS,bP=oS;const Ga=p.forwardRef(({className:e,...t},n)=>i.jsx(uS,{className:H("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:i.jsx(bP,{className:H("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ga.displayName=uS.displayName;function Tc({itemId:e,itemType:t,itemName:n,isInBuild:a=!1,className:r,onCheckedChange:s}){const{setRace:o,setStone:l,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:f,addMajorSkill:m,removeMajorSkill:h,removeMinorSkill:g,addEquipment:y,removeEquipment:b,build:x}=pt(),_=a||(()=>{switch(t){case"race":return x.race===e;case"stone":return x.stone===e;case"religion":return x.religion===e;case"trait":return x.traits.regular.includes(e)||x.traits.bonus.includes(e);case"skill":return x.skills.major.includes(e)||x.skills.minor.includes(e);case"equipment":return x.equipment.includes(e);default:return!1}})(),k=S=>{if(s){s(S);return}switch(t){case"race":o(S?e:null);break;case"stone":l(S?e:null);break;case"religion":c(S?e:null);break;case"trait":S?x.traits.regular.length<2?u(e):x.traits.bonus.length<1&&d(e):f(e);break;case"skill":S?m(e):(h(e),g(e));break;case"equipment":S?y(e):b(e);break}},w=()=>_?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return i.jsx("div",{className:H("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",_?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",r),onClick:S=>{S.stopPropagation(),k(!_)},title:w(),children:i.jsx(Ga,{checked:_,onCheckedChange:k,className:H("transition-all duration-200",_?"data-[state=checked]:bg-[#d4af37]":"")})})}const ka=p.forwardRef(({className:e,type:t,...n},a)=>i.jsx("input",{type:t,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...n}));ka.displayName="Input";function Rs({categories:e,onSelect:t,placeholder:n="Search categories...",className:a=""}){const[r,s]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState(""),[d,f]=p.useState(-1),m=p.useRef(null),h=p.useRef(null),g=e.length===1?e[0]:null;p.useEffect(()=>{const E=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),l(null),f(-1))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const y=o||g?(o||g).options.filter(E=>{var R,N;return(((R=E.label)==null?void 0:R.toLowerCase())||"").includes(c.toLowerCase())||(((N=E.description)==null?void 0:N.toLowerCase())||"").includes(c.toLowerCase())}):e.flatMap(E=>E.options.filter(R=>{var N,j;return(((N=R.label)==null?void 0:N.toLowerCase())||"").includes(c.toLowerCase())||(((j=R.description)==null?void 0:j.toLowerCase())||"").includes(c.toLowerCase())})),b=E=>{u(E),s(!0),f(-1)},x=E=>{var R;l(E),u(""),(R=h.current)==null||R.focus()},v=E=>{t(E),u(""),l(null),s(!1),f(-1)},_=E=>{E.key==="ArrowDown"?(E.preventDefault(),f(R=>Math.min(R+1,y.length-1))):E.key==="ArrowUp"?(E.preventDefault(),f(R=>Math.max(R-1,-1))):E.key==="Enter"?(E.preventDefault(),d>=0&&y[d]&&v(y[d])):E.key==="Escape"&&(s(!1),l(null),f(-1))},k=()=>{s(!0)},w=o||g,S=!g&&!o;return i.jsxs("div",{ref:m,className:`relative ${a}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ka,{ref:h,type:"text",placeholder:w?w.placeholder:n,value:c,onChange:E=>b(E.target.value),onFocus:k,onKeyDown:_,className:"pl-10 pr-10"}),i.jsx(Z,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!r),children:i.jsx(In,{className:`h-4 w-4 transition-transform ${r?"rotate-180":""}`})})]}),r&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:_t.AUTOCOMPLETE+10},children:[S&&i.jsxs("div",{className:"p-2 border-b border-border",children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(E=>i.jsxs("button",{onClick:()=>x(E),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[i.jsx("span",{children:E.name}),i.jsx(In,{className:"h-4 w-4"})]},E.id))]}),i.jsx("div",{className:"p-2",children:y.length===0?i.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):y.map((E,R)=>i.jsxs("button",{onClick:()=>v(E),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${R===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[i.jsx("div",{className:"font-medium",children:E.label||"Unnamed Option"}),E.description&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:E.description})]},E.id))})]})]})}function He({className:e,...t}){return i.jsx("div",{"data-slot":"card",className:H("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function Ke({className:e,action:t,children:n,...a}){return i.jsxs("div",{"data-slot":"card-header",className:H("flex flex-row items-start justify-between space-y-0",e),...a,children:[i.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&i.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function st({className:e,...t}){return i.jsx("div",{"data-slot":"card-title",className:H("text-xl font-bold leading-none",e),...t})}function Dn({className:e,...t}){return i.jsx("div",{"data-slot":"card-description",className:H("text-base text-muted-foreground",e),...t})}function Fe({className:e,...t}){return i.jsx("div",{"data-slot":"card-content",className:H("pt-0",e),...t})}const _P=["top","right","bottom","left"],ss=Math.min,mn=Math.max,vd=Math.round,gu=Math.floor,wa=e=>({x:e,y:e}),kP={left:"right",right:"left",bottom:"top",top:"bottom"},wP={start:"end",end:"start"};function hp(e,t,n){return mn(e,ss(t,n))}function cr(e,t){return typeof e=="function"?e(t):e}function ur(e){return e.split("-")[0]}function Bo(e){return e.split("-")[1]}function E0(e){return e==="x"?"y":"x"}function R0(e){return e==="y"?"height":"width"}const SP=new Set(["top","bottom"]);function va(e){return SP.has(ur(e))?"y":"x"}function N0(e){return E0(va(e))}function EP(e,t,n){n===void 0&&(n=!1);const a=Bo(e),r=N0(e),s=R0(r);let o=r==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=bd(o)),[o,bd(o)]}function RP(e){const t=bd(e);return[pp(e),t,pp(t)]}function pp(e){return e.replace(/start|end/g,t=>wP[t])}const Av=["left","right"],Cv=["right","left"],NP=["top","bottom"],jP=["bottom","top"];function AP(e,t,n){switch(e){case"top":case"bottom":return n?t?Cv:Av:t?Av:Cv;case"left":case"right":return t?NP:jP;default:return[]}}function CP(e,t,n,a){const r=Bo(e);let s=AP(ur(e),n==="start",a);return r&&(s=s.map(o=>o+"-"+r),t&&(s=s.concat(s.map(pp)))),s}function bd(e){return e.replace(/left|right|bottom|top/g,t=>kP[t])}function MP(e){return{top:0,right:0,bottom:0,left:0,...e}}function dS(e){return typeof e!="number"?MP(e):{top:e,right:e,bottom:e,left:e}}function _d(e){const{x:t,y:n,width:a,height:r}=e;return{width:a,height:r,top:n,left:t,right:t+a,bottom:n+r,x:t,y:n}}function Mv(e,t,n){let{reference:a,floating:r}=e;const s=va(t),o=N0(t),l=R0(o),c=ur(t),u=s==="y",d=a.x+a.width/2-r.width/2,f=a.y+a.height/2-r.height/2,m=a[l]/2-r[l]/2;let h;switch(c){case"top":h={x:d,y:a.y-r.height};break;case"bottom":h={x:d,y:a.y+a.height};break;case"right":h={x:a.x+a.width,y:f};break;case"left":h={x:a.x-r.width,y:f};break;default:h={x:a.x,y:a.y}}switch(Bo(t)){case"start":h[o]-=m*(n&&u?-1:1);break;case"end":h[o]+=m*(n&&u?-1:1);break}return h}const TP=async(e,t,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:f}=Mv(u,a,c),m=a,h={},g=0;for(let y=0;y<l.length;y++){const{name:b,fn:x}=l[y],{x:v,y:_,data:k,reset:w}=await x({x:d,y:f,initialPlacement:a,placement:m,strategy:r,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=_??f,h={...h,[b]:{...h[b],...k}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(m=w.placement),w.rects&&(u=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):w.rects),{x:d,y:f}=Mv(u,m,c)),y=-1)}return{x:d,y:f,placement:m,strategy:r,middlewareData:h}};async function Zl(e,t){var n;t===void 0&&(t={});const{x:a,y:r,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=cr(t,e),g=dS(h),b=l[m?f==="floating"?"reference":"floating":f],x=_d(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:a,y:r,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),k=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},w=_d(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:_,strategy:c}):v);return{top:(x.top-w.top+g.top)/k.y,bottom:(w.bottom-x.bottom+g.bottom)/k.y,left:(x.left-w.left+g.left)/k.x,right:(w.right-x.right+g.right)/k.x}}const DP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:r,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=cr(e,t)||{};if(u==null)return{};const f=dS(d),m={x:n,y:a},h=N0(r),g=R0(h),y=await o.getDimensions(u),b=h==="y",x=b?"top":"left",v=b?"bottom":"right",_=b?"clientHeight":"clientWidth",k=s.reference[g]+s.reference[h]-m[h]-s.floating[g],w=m[h]-s.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=S?S[_]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=l.floating[_]||s.floating[g]);const R=k/2-w/2,N=E/2-y[g]/2-1,j=ss(f[x],N),O=ss(f[v],N),I=j,D=E-y[g]-O,A=E/2-y[g]/2+R,T=hp(I,A,D),C=!c.arrow&&Bo(r)!=null&&A!==T&&s.reference[g]/2-(A<I?j:O)-y[g]/2<0,M=C?A<I?A-I:A-D:0;return{[h]:m[h]+M,data:{[h]:T,centerOffset:A-T-M,...C&&{alignmentOffset:M}},reset:C}}}),LP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:r,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...b}=cr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=ur(r),v=va(l),_=ur(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=m||(_||!y?[bd(l)]:RP(l)),S=g!=="none";!m&&S&&w.push(...CP(l,y,g,k));const E=[l,...w],R=await Zl(t,b),N=[];let j=((a=s.flip)==null?void 0:a.overflows)||[];if(d&&N.push(R[x]),f){const A=EP(r,o,k);N.push(R[A[0]],R[A[1]])}if(j=[...j,{placement:r,overflows:N}],!N.every(A=>A<=0)){var O,I;const A=(((O=s.flip)==null?void 0:O.index)||0)+1,T=E[A];if(T&&(!(f==="alignment"?v!==va(T):!1)||j.every(L=>L.overflows[0]>0&&va(L.placement)===v)))return{data:{index:A,overflows:j},reset:{placement:T}};let C=(I=j.filter(M=>M.overflows[0]<=0).sort((M,L)=>M.overflows[1]-L.overflows[1])[0])==null?void 0:I.placement;if(!C)switch(h){case"bestFit":{var D;const M=(D=j.filter(L=>{if(S){const P=va(L.placement);return P===v||P==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(P=>P>0).reduce((P,Q)=>P+Q,0)]).sort((L,P)=>L[1]-P[1])[0])==null?void 0:D[0];M&&(C=M);break}case"initialPlacement":C=l;break}if(r!==C)return{reset:{placement:C}}}return{}}}};function Tv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Dv(e){return _P.some(t=>e[t]>=0)}const PP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...r}=cr(e,t);switch(a){case"referenceHidden":{const s=await Zl(t,{...r,elementContext:"reference"}),o=Tv(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Dv(o)}}}case"escaped":{const s=await Zl(t,{...r,altBoundary:!0}),o=Tv(s,n.floating);return{data:{escapedOffsets:o,escaped:Dv(o)}}}default:return{}}}}},fS=new Set(["left","top"]);async function zP(e,t){const{placement:n,platform:a,elements:r}=e,s=await(a.isRTL==null?void 0:a.isRTL(r.floating)),o=ur(n),l=Bo(n),c=va(n)==="y",u=fS.has(o)?-1:1,d=s&&c?-1:1,f=cr(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const OP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:r,y:s,placement:o,middlewareData:l}=t,c=await zP(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:o}}}}},IP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:r}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y:v}=b;return{x,y:v}}},...c}=cr(e,t),u={x:n,y:a},d=await Zl(t,c),f=va(ur(r)),m=E0(f);let h=u[m],g=u[f];if(s){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",v=h+d[b],_=h-d[x];h=hp(v,h,_)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=g+d[b],_=g-d[x];g=hp(v,g,_)}const y=l.fn({...t,[m]:h,[f]:g});return{...y,data:{x:y.x-n,y:y.y-a,enabled:{[m]:s,[f]:o}}}}}},QP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:r,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=cr(e,t),d={x:n,y:a},f=va(r),m=E0(f);let h=d[m],g=d[f];const y=cr(l,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const _=m==="y"?"height":"width",k=s.reference[m]-s.floating[_]+b.mainAxis,w=s.reference[m]+s.reference[_]-b.mainAxis;h<k?h=k:h>w&&(h=w)}if(u){var x,v;const _=m==="y"?"width":"height",k=fS.has(ur(r)),w=s.reference[f]-s.floating[_]+(k&&((x=o.offset)==null?void 0:x[f])||0)+(k?0:b.crossAxis),S=s.reference[f]+s.reference[_]+(k?0:((v=o.offset)==null?void 0:v[f])||0)-(k?b.crossAxis:0);g<w?g=w:g>S&&(g=S)}return{[m]:h,[f]:g}}}},BP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:r,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=cr(e,t),d=await Zl(t,u),f=ur(r),m=Bo(r),h=va(r)==="y",{width:g,height:y}=s.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=m==="end"?"top":"bottom");const v=y-d.top-d.bottom,_=g-d.left-d.right,k=ss(y-d[b],v),w=ss(g-d[x],_),S=!t.middlewareData.shift;let E=k,R=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=_),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(E=v),S&&!m){const j=mn(d.left,0),O=mn(d.right,0),I=mn(d.top,0),D=mn(d.bottom,0);h?R=g-2*(j!==0||O!==0?j+O:mn(d.left,d.right)):E=y-2*(I!==0||D!==0?I+D:mn(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:E});const N=await o.getDimensions(l.floating);return g!==N.width||y!==N.height?{reset:{rects:!0}}:{}}}};function Pf(){return typeof window<"u"}function $o(e){return mS(e)?(e.nodeName||"").toLowerCase():"#document"}function gn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ta(e){var t;return(t=(mS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mS(e){return Pf()?e instanceof Node||e instanceof gn(e).Node:!1}function ea(e){return Pf()?e instanceof Element||e instanceof gn(e).Element:!1}function Aa(e){return Pf()?e instanceof HTMLElement||e instanceof gn(e).HTMLElement:!1}function Lv(e){return!Pf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gn(e).ShadowRoot}const $P=new Set(["inline","contents"]);function Dc(e){const{overflow:t,overflowX:n,overflowY:a,display:r}=ta(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!$P.has(r)}const HP=new Set(["table","td","th"]);function FP(e){return HP.has($o(e))}const qP=[":popover-open",":modal"];function zf(e){return qP.some(t=>{try{return e.matches(t)}catch{return!1}})}const UP=["transform","translate","scale","rotate","perspective"],YP=["transform","translate","scale","rotate","perspective","filter"],VP=["paint","layout","strict","content"];function j0(e){const t=A0(),n=ea(e)?ta(e):e;return UP.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||YP.some(a=>(n.willChange||"").includes(a))||VP.some(a=>(n.contain||"").includes(a))}function GP(e){let t=is(e);for(;Aa(t)&&!fo(t);){if(j0(t))return t;if(zf(t))return null;t=is(t)}return null}function A0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WP=new Set(["html","body","#document"]);function fo(e){return WP.has($o(e))}function ta(e){return gn(e).getComputedStyle(e)}function Of(e){return ea(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function is(e){if($o(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lv(e)&&e.host||Ta(e);return Lv(t)?t.host:t}function hS(e){const t=is(e);return fo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Aa(t)&&Dc(t)?t:hS(t)}function Xl(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=hS(e),s=r===((a=e.ownerDocument)==null?void 0:a.body),o=gn(r);if(s){const l=gp(o);return t.concat(o,o.visualViewport||[],Dc(r)?r:[],l&&n?Xl(l):[])}return t.concat(r,Xl(r,[],n))}function gp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pS(e){const t=ta(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const r=Aa(e),s=r?e.offsetWidth:n,o=r?e.offsetHeight:a,l=vd(n)!==s||vd(a)!==o;return l&&(n=s,a=o),{width:n,height:a,$:l}}function C0(e){return ea(e)?e:e.contextElement}function Gi(e){const t=C0(e);if(!Aa(t))return wa(1);const n=t.getBoundingClientRect(),{width:a,height:r,$:s}=pS(t);let o=(s?vd(n.width):n.width)/a,l=(s?vd(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ZP=wa(0);function gS(e){const t=gn(e);return!A0()||!t.visualViewport?ZP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==gn(e)?!1:t}function Bs(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=C0(e);let o=wa(1);t&&(a?ea(a)&&(o=Gi(a)):o=Gi(e));const l=XP(s,n,a)?gS(s):wa(0);let c=(r.left+l.x)/o.x,u=(r.top+l.y)/o.y,d=r.width/o.x,f=r.height/o.y;if(s){const m=gn(s),h=a&&ea(a)?gn(a):a;let g=m,y=gp(g);for(;y&&a&&h!==g;){const b=Gi(y),x=y.getBoundingClientRect(),v=ta(y),_=x.left+(y.clientLeft+parseFloat(v.paddingLeft))*b.x,k=x.top+(y.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=_,u+=k,g=gn(y),y=gp(g)}}return _d({width:d,height:f,x:c,y:u})}function M0(e,t){const n=Of(e).scrollLeft;return t?t.left+n:Bs(Ta(e)).left+n}function xS(e,t,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),r=a.left+t.scrollLeft-(n?0:M0(e,a)),s=a.top+t.scrollTop;return{x:r,y:s}}function KP(e){let{elements:t,rect:n,offsetParent:a,strategy:r}=e;const s=r==="fixed",o=Ta(a),l=t?zf(t.floating):!1;if(a===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=wa(1);const d=wa(0),f=Aa(a);if((f||!f&&!s)&&(($o(a)!=="body"||Dc(o))&&(c=Of(a)),Aa(a))){const h=Bs(a);u=Gi(a),d.x=h.x+a.clientLeft,d.y=h.y+a.clientTop}const m=o&&!f&&!s?xS(o,c,!0):wa(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function JP(e){return Array.from(e.getClientRects())}function e6(e){const t=Ta(e),n=Of(e),a=e.ownerDocument.body,r=mn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),s=mn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+M0(e);const l=-n.scrollTop;return ta(a).direction==="rtl"&&(o+=mn(t.clientWidth,a.clientWidth)-r),{width:r,height:s,x:o,y:l}}function t6(e,t){const n=gn(e),a=Ta(e),r=n.visualViewport;let s=a.clientWidth,o=a.clientHeight,l=0,c=0;if(r){s=r.width,o=r.height;const u=A0();(!u||u&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:o,x:l,y:c}}const n6=new Set(["absolute","fixed"]);function a6(e,t){const n=Bs(e,!0,t==="fixed"),a=n.top+e.clientTop,r=n.left+e.clientLeft,s=Aa(e)?Gi(e):wa(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=r*s.x,u=a*s.y;return{width:o,height:l,x:c,y:u}}function Pv(e,t,n){let a;if(t==="viewport")a=t6(e,n);else if(t==="document")a=e6(Ta(e));else if(ea(t))a=a6(t,n);else{const r=gS(e);a={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return _d(a)}function yS(e,t){const n=is(e);return n===t||!ea(n)||fo(n)?!1:ta(n).position==="fixed"||yS(n,t)}function r6(e,t){const n=t.get(e);if(n)return n;let a=Xl(e,[],!1).filter(l=>ea(l)&&$o(l)!=="body"),r=null;const s=ta(e).position==="fixed";let o=s?is(e):e;for(;ea(o)&&!fo(o);){const l=ta(o),c=j0(o);!c&&l.position==="fixed"&&(r=null),(s?!c&&!r:!c&&l.position==="static"&&!!r&&n6.has(r.position)||Dc(o)&&!c&&yS(e,o))?a=a.filter(d=>d!==o):r=l,o=is(o)}return t.set(e,a),a}function s6(e){let{element:t,boundary:n,rootBoundary:a,strategy:r}=e;const o=[...n==="clippingAncestors"?zf(t)?[]:r6(t,this._c):[].concat(n),a],l=o[0],c=o.reduce((u,d)=>{const f=Pv(t,d,r);return u.top=mn(f.top,u.top),u.right=ss(f.right,u.right),u.bottom=ss(f.bottom,u.bottom),u.left=mn(f.left,u.left),u},Pv(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function i6(e){const{width:t,height:n}=pS(e);return{width:t,height:n}}function o6(e,t,n){const a=Aa(t),r=Ta(t),s=n==="fixed",o=Bs(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=wa(0);function u(){c.x=M0(r)}if(a||!a&&!s)if(($o(t)!=="body"||Dc(r))&&(l=Of(t)),a){const h=Bs(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else r&&u();s&&!a&&r&&u();const d=r&&!a&&!s?xS(r,l):wa(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function Ym(e){return ta(e).position==="static"}function zv(e,t){if(!Aa(e)||ta(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ta(e)===n&&(n=n.ownerDocument.body),n}function vS(e,t){const n=gn(e);if(zf(e))return n;if(!Aa(e)){let r=is(e);for(;r&&!fo(r);){if(ea(r)&&!Ym(r))return r;r=is(r)}return n}let a=zv(e,t);for(;a&&FP(a)&&Ym(a);)a=zv(a,t);return a&&fo(a)&&Ym(a)&&!j0(a)?n:a||GP(e)||n}const l6=async function(e){const t=this.getOffsetParent||vS,n=this.getDimensions,a=await n(e.floating);return{reference:o6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function c6(e){return ta(e).direction==="rtl"}const u6={convertOffsetParentRelativeRectToViewportRelativeRect:KP,getDocumentElement:Ta,getClippingRect:s6,getOffsetParent:vS,getElementRects:l6,getClientRects:JP,getDimensions:i6,getScale:Gi,isElement:ea,isRTL:c6};function bS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function d6(e,t){let n=null,a;const r=Ta(e);function s(){var l;clearTimeout(a),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||t(),!m||!h)return;const g=gu(f),y=gu(r.clientWidth-(d+m)),b=gu(r.clientHeight-(f+h)),x=gu(d),_={rootMargin:-g+"px "+-y+"px "+-b+"px "+-x+"px",threshold:mn(0,ss(1,c))||1};let k=!0;function w(S){const E=S[0].intersectionRatio;if(E!==c){if(!k)return o();E?o(!1,E):a=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!bS(u,e.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(w,{..._,root:r.ownerDocument})}catch{n=new IntersectionObserver(w,_)}n.observe(e)}return o(!0),s}function f6(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,u=C0(e),d=r||s?[...u?Xl(u):[],...Xl(t)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=u&&l?d6(u,n):null;let m=-1,h=null;o&&(h=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let g,y=c?Bs(e):null;c&&b();function b(){const x=Bs(e);y&&!bS(y,x)&&n(),y=x,g=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(v=>{r&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const m6=OP,h6=IP,p6=LP,g6=BP,x6=PP,Ov=DP,y6=QP,v6=(e,t,n)=>{const a=new Map,r={platform:u6,...n},s={...r.platform,_c:a};return TP(e,t,{...r,platform:s})};var b6=typeof document<"u",_6=function(){},Ku=b6?p.useLayoutEffect:_6;function kd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!kd(e[a],t[a]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,r[a]))return!1;for(a=n;a--!==0;){const s=r[a];if(!(s==="_owner"&&e.$$typeof)&&!kd(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function _S(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Iv(e,t){const n=_S(e);return Math.round(t*n)/n}function Vm(e){const t=p.useRef(e);return Ku(()=>{t.current=e}),t}function k6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=p.useState(a);kd(m,a)||h(a);const[g,y]=p.useState(null),[b,x]=p.useState(null),v=p.useCallback(L=>{L!==S.current&&(S.current=L,y(L))},[]),_=p.useCallback(L=>{L!==E.current&&(E.current=L,x(L))},[]),k=s||g,w=o||b,S=p.useRef(null),E=p.useRef(null),R=p.useRef(d),N=c!=null,j=Vm(c),O=Vm(r),I=Vm(u),D=p.useCallback(()=>{if(!S.current||!E.current)return;const L={placement:t,strategy:n,middleware:m};O.current&&(L.platform=O.current),v6(S.current,E.current,L).then(P=>{const Q={...P,isPositioned:I.current!==!1};A.current&&!kd(R.current,Q)&&(R.current=Q,Af.flushSync(()=>{f(Q)}))})},[m,t,n,O,I]);Ku(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const A=p.useRef(!1);Ku(()=>(A.current=!0,()=>{A.current=!1}),[]),Ku(()=>{if(k&&(S.current=k),w&&(E.current=w),k&&w){if(j.current)return j.current(k,w,D);D()}},[k,w,D,j,N]);const T=p.useMemo(()=>({reference:S,floating:E,setReference:v,setFloating:_}),[v,_]),C=p.useMemo(()=>({reference:k,floating:w}),[k,w]),M=p.useMemo(()=>{const L={position:n,left:0,top:0};if(!C.floating)return L;const P=Iv(C.floating,d.x),Q=Iv(C.floating,d.y);return l?{...L,transform:"translate("+P+"px, "+Q+"px)",..._S(C.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:Q}},[n,l,C.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:D,refs:T,elements:C,floatingStyles:M}),[d,D,T,C,M])}const w6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:r}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?Ov({element:a.current,padding:r}).fn(n):{}:a?Ov({element:a,padding:r}).fn(n):{}}}},S6=(e,t)=>({...m6(e),options:[e,t]}),E6=(e,t)=>({...h6(e),options:[e,t]}),R6=(e,t)=>({...y6(e),options:[e,t]}),N6=(e,t)=>({...p6(e),options:[e,t]}),j6=(e,t)=>({...g6(e),options:[e,t]}),A6=(e,t)=>({...x6(e),options:[e,t]}),C6=(e,t)=>({...w6(e),options:[e,t]});var M6="Arrow",kS=p.forwardRef((e,t)=>{const{children:n,width:a=10,height:r=5,...s}=e;return i.jsx(xe.svg,{...s,ref:t,width:a,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});kS.displayName=M6;var T6=kS,T0="Popper",[wS,Ho]=rn(T0),[D6,SS]=wS(T0),ES=e=>{const{__scopePopper:t,children:n}=e,[a,r]=p.useState(null);return i.jsx(D6,{scope:t,anchor:a,onAnchorChange:r,children:n})};ES.displayName=T0;var RS="PopperAnchor",NS=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...r}=e,s=SS(RS,n),o=p.useRef(null),l=De(t,o);return p.useEffect(()=>{s.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:i.jsx(xe.div,{...r,ref:l})});NS.displayName=RS;var D0="PopperContent",[L6,P6]=wS(D0),jS=p.forwardRef((e,t)=>{var ee,ge,me,ve,$,G;const{__scopePopper:n,side:a="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:g,...y}=e,b=SS(D0,n),[x,v]=p.useState(null),_=De(t,K=>v(K)),[k,w]=p.useState(null),S=rS(k),E=(S==null?void 0:S.width)??0,R=(S==null?void 0:S.height)??0,N=a+(s!=="center"?"-"+s:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],I=O.length>0,D={padding:j,boundary:O.filter(O6),altBoundary:I},{refs:A,floatingStyles:T,placement:C,isPositioned:M,middlewareData:L}=k6({strategy:"fixed",placement:N,whileElementsMounted:(...K)=>f6(...K,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[S6({mainAxis:r+R,alignmentAxis:o}),c&&E6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?R6():void 0,...D}),c&&N6({...D}),j6({...D,apply:({elements:K,rects:W,availableWidth:ae,availableHeight:ye})=>{const{width:de,height:ne}=W.reference,Ae=K.floating.style;Ae.setProperty("--radix-popper-available-width",`${ae}px`),Ae.setProperty("--radix-popper-available-height",`${ye}px`),Ae.setProperty("--radix-popper-anchor-width",`${de}px`),Ae.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),k&&C6({element:k,padding:l}),I6({arrowWidth:E,arrowHeight:R}),m&&A6({strategy:"referenceHidden",...D})]}),[P,Q]=MS(C),F=Ot(g);ja(()=>{M&&(F==null||F())},[M,F]);const B=(ee=L.arrow)==null?void 0:ee.x,U=(ge=L.arrow)==null?void 0:ge.y,V=((me=L.arrow)==null?void 0:me.centerOffset)!==0,[J,ie]=p.useState();return ja(()=>{x&&ie(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:M?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ve=L.transformOrigin)==null?void 0:ve.x,($=L.transformOrigin)==null?void 0:$.y].join(" "),...((G=L.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(L6,{scope:n,placedSide:P,onArrowChange:w,arrowX:B,arrowY:U,shouldHideArrow:V,children:i.jsx(xe.div,{"data-side":P,"data-align":Q,...y,ref:_,style:{...y.style,animation:M?void 0:"none"}})})})});jS.displayName=D0;var AS="PopperArrow",z6={top:"bottom",right:"left",bottom:"top",left:"right"},CS=p.forwardRef(function(t,n){const{__scopePopper:a,...r}=t,s=P6(AS,a),o=z6[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(T6,{...r,ref:n,style:{...r.style,display:"block"}})})});CS.displayName=AS;function O6(e){return e!==null}var I6=e=>({name:"transformOrigin",options:e,fn(t){var b,x,v;const{placement:n,rects:a,middlewareData:r}=t,o=((b=r.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=MS(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((x=r.arrow)==null?void 0:x.x)??0)+l/2,h=(((v=r.arrow)==null?void 0:v.y)??0)+c/2;let g="",y="";return u==="bottom"?(g=o?f:`${m}px`,y=`${-c}px`):u==="top"?(g=o?f:`${m}px`,y=`${a.floating.height+c}px`):u==="right"?(g=`${-c}px`,y=o?f:`${h}px`):u==="left"&&(g=`${a.floating.width+c}px`,y=o?f:`${h}px`),{data:{x:g,y}}}});function MS(e){const[t,n="center"]=e.split("-");return[t,n]}var TS=ES,L0=NS,P0=jS,z0=CS,xp=["Enter"," "],Q6=["ArrowDown","PageUp","Home"],DS=["ArrowUp","PageDown","End"],B6=[...Q6,...DS],$6={ltr:[...xp,"ArrowRight"],rtl:[...xp,"ArrowLeft"]},H6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lc="Menu",[Kl,F6,q6]=_0(Lc),[ni,LS]=rn(Lc,[q6,Ho,Qo]),If=Ho(),PS=Qo(),[U6,ai]=ni(Lc),[Y6,Pc]=ni(Lc),zS=e=>{const{__scopeMenu:t,open:n=!1,children:a,dir:r,onOpenChange:s,modal:o=!0}=e,l=If(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Ot(s),m=Io(r);return p.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(TS,{...l,children:i.jsx(U6,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(Y6,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:a})})})};zS.displayName=Lc;var V6="MenuAnchor",O0=p.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e,r=If(n);return i.jsx(L0,{...r,...a,ref:t})});O0.displayName=V6;var I0="MenuPortal",[G6,OS]=ni(I0,{forceMount:void 0}),IS=e=>{const{__scopeMenu:t,forceMount:n,children:a,container:r}=e,s=ai(I0,t);return i.jsx(G6,{scope:t,forceMount:n,children:i.jsx(Bt,{present:n||s.open,children:i.jsx(f0,{asChild:!0,container:r,children:a})})})};IS.displayName=I0;var On="MenuContent",[W6,Q0]=ni(On),QS=p.forwardRef((e,t)=>{const n=OS(On,e.__scopeMenu),{forceMount:a=n.forceMount,...r}=e,s=ai(On,e.__scopeMenu),o=Pc(On,e.__scopeMenu);return i.jsx(Kl.Provider,{scope:e.__scopeMenu,children:i.jsx(Bt,{present:a||s.open,children:i.jsx(Kl.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(Z6,{...r,ref:t}):i.jsx(X6,{...r,ref:t})})})})}),Z6=p.forwardRef((e,t)=>{const n=ai(On,e.__scopeMenu),a=p.useRef(null),r=De(t,a);return p.useEffect(()=>{const s=a.current;if(s)return cw(s)},[]),i.jsx(B0,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),X6=p.forwardRef((e,t)=>{const n=ai(On,e.__scopeMenu);return i.jsx(B0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),K6=uo("MenuContent.ScrollLock"),B0=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:g,...y}=e,b=ai(On,n),x=Pc(On,n),v=If(n),_=PS(n),k=F6(n),[w,S]=p.useState(null),E=p.useRef(null),R=De(t,E,b.onContentChange),N=p.useRef(0),j=p.useRef(""),O=p.useRef(0),I=p.useRef(null),D=p.useRef("right"),A=p.useRef(0),T=g?m0:p.Fragment,C=g?{as:K6,allowPinchZoom:!0}:void 0,M=P=>{var ee,ge;const Q=j.current+P,F=k().filter(me=>!me.disabled),B=document.activeElement,U=(ee=F.find(me=>me.ref.current===B))==null?void 0:ee.textValue,V=F.map(me=>me.textValue),J=uz(V,Q,U),ie=(ge=F.find(me=>me.textValue===J))==null?void 0:ge.ref.current;(function me(ve){j.current=ve,window.clearTimeout(N.current),ve!==""&&(N.current=window.setTimeout(()=>me(""),1e3))})(Q),ie&&setTimeout(()=>ie.focus())};p.useEffect(()=>()=>window.clearTimeout(N.current),[]),ew();const L=p.useCallback(P=>{var F,B;return D.current===((F=I.current)==null?void 0:F.side)&&fz(P,(B=I.current)==null?void 0:B.area)},[]);return i.jsx(W6,{scope:n,searchRef:j,onItemEnter:p.useCallback(P=>{L(P)&&P.preventDefault()},[L]),onItemLeave:p.useCallback(P=>{var Q;L(P)||((Q=E.current)==null||Q.focus(),S(null))},[L]),onTriggerLeave:p.useCallback(P=>{L(P)&&P.preventDefault()},[L]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(P=>{I.current=P},[]),children:i.jsx(T,{...C,children:i.jsx(d0,{asChild:!0,trapped:r,onMountAutoFocus:te(s,P=>{var Q;P.preventDefault(),(Q=E.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(jc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:i.jsx(k0,{asChild:!0,..._,dir:x.dir,orientation:"vertical",loop:a,currentTabStopId:w,onCurrentTabStopIdChange:S,onEntryFocus:te(c,P=>{x.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(P0,{role:"menu","aria-orientation":"vertical","data-state":t2(b.open),"data-radix-menu-content":"",dir:x.dir,...v,...y,ref:R,style:{outline:"none",...y.style},onKeyDown:te(y.onKeyDown,P=>{const F=P.target.closest("[data-radix-menu-content]")===P.currentTarget,B=P.ctrlKey||P.altKey||P.metaKey,U=P.key.length===1;F&&(P.key==="Tab"&&P.preventDefault(),!B&&U&&M(P.key));const V=E.current;if(P.target!==V||!B6.includes(P.key))return;P.preventDefault();const ie=k().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);DS.includes(P.key)&&ie.reverse(),lz(ie)}),onBlur:te(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(N.current),j.current="")}),onPointerMove:te(e.onPointerMove,Jl(P=>{const Q=P.target,F=A.current!==P.clientX;if(P.currentTarget.contains(Q)&&F){const B=P.clientX>A.current?"right":"left";D.current=B,A.current=P.clientX}}))})})})})})})});QS.displayName=On;var J6="MenuGroup",$0=p.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return i.jsx(xe.div,{role:"group",...a,ref:t})});$0.displayName=J6;var ez="MenuLabel",BS=p.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return i.jsx(xe.div,{...a,ref:t})});BS.displayName=ez;var wd="MenuItem",Qv="menu.itemSelect",Qf=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:a,...r}=e,s=p.useRef(null),o=Pc(wd,e.__scopeMenu),l=Q0(wd,e.__scopeMenu),c=De(t,s),u=p.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const m=new CustomEvent(Qv,{bubbles:!0,cancelable:!0});f.addEventListener(Qv,h=>a==null?void 0:a(h),{once:!0}),Z1(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx($S,{...r,ref:c,disabled:n,onClick:te(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:te(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:te(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||xp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Qf.displayName=wd;var $S=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:a=!1,textValue:r,...s}=e,o=Q0(wd,n),l=PS(n),c=p.useRef(null),u=De(t,c),[d,f]=p.useState(!1),[m,h]=p.useState("");return p.useEffect(()=>{const g=c.current;g&&h((g.textContent??"").trim())},[s.children]),i.jsx(Kl.ItemSlot,{scope:n,disabled:a,textValue:r??m,children:i.jsx(w0,{asChild:!0,...l,focusable:!a,children:i.jsx(xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...s,ref:u,onPointerMove:te(e.onPointerMove,Jl(g=>{a?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,Jl(g=>o.onItemLeave(g))),onFocus:te(e.onFocus,()=>f(!0)),onBlur:te(e.onBlur,()=>f(!1))})})})}),tz="MenuCheckboxItem",HS=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:a,...r}=e;return i.jsx(VS,{scope:e.__scopeMenu,checked:n,children:i.jsx(Qf,{role:"menuitemcheckbox","aria-checked":Sd(n)?"mixed":n,...r,ref:t,"data-state":F0(n),onSelect:te(r.onSelect,()=>a==null?void 0:a(Sd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});HS.displayName=tz;var FS="MenuRadioGroup",[nz,az]=ni(FS,{value:void 0,onValueChange:()=>{}}),qS=p.forwardRef((e,t)=>{const{value:n,onValueChange:a,...r}=e,s=Ot(a);return i.jsx(nz,{scope:e.__scopeMenu,value:n,onValueChange:s,children:i.jsx($0,{...r,ref:t})})});qS.displayName=FS;var US="MenuRadioItem",YS=p.forwardRef((e,t)=>{const{value:n,...a}=e,r=az(US,e.__scopeMenu),s=n===r.value;return i.jsx(VS,{scope:e.__scopeMenu,checked:s,children:i.jsx(Qf,{role:"menuitemradio","aria-checked":s,...a,ref:t,"data-state":F0(s),onSelect:te(a.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,n)},{checkForDefaultPrevented:!1})})})});YS.displayName=US;var H0="MenuItemIndicator",[VS,rz]=ni(H0,{checked:!1}),GS=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:a,...r}=e,s=rz(H0,n);return i.jsx(Bt,{present:a||Sd(s.checked)||s.checked===!0,children:i.jsx(xe.span,{...r,ref:t,"data-state":F0(s.checked)})})});GS.displayName=H0;var sz="MenuSeparator",WS=p.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return i.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});WS.displayName=sz;var iz="MenuArrow",ZS=p.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e,r=If(n);return i.jsx(z0,{...r,...a,ref:t})});ZS.displayName=iz;var oz="MenuSub",[AJ,XS]=ni(oz),vl="MenuSubTrigger",KS=p.forwardRef((e,t)=>{const n=ai(vl,e.__scopeMenu),a=Pc(vl,e.__scopeMenu),r=XS(vl,e.__scopeMenu),s=Q0(vl,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(O0,{asChild:!0,...u,children:i.jsx($S,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":t2(n.open),...e,ref:Cf(t,r.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,Jl(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:te(e.onPointerLeave,Jl(f=>{var h,g;d();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const y=(g=n.content)==null?void 0:g.dataset.side,b=y==="right",x=b?-5:5,v=m[b?"left":"right"],_=m[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:v,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:v,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,f=>{var h;const m=s.searchRef.current!=="";e.disabled||m&&f.key===" "||$6[a.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});KS.displayName=vl;var JS="MenuSubContent",e2=p.forwardRef((e,t)=>{const n=OS(On,e.__scopeMenu),{forceMount:a=n.forceMount,...r}=e,s=ai(On,e.__scopeMenu),o=Pc(On,e.__scopeMenu),l=XS(JS,e.__scopeMenu),c=p.useRef(null),u=De(t,c);return i.jsx(Kl.Provider,{scope:e.__scopeMenu,children:i.jsx(Bt,{present:a||s.open,children:i.jsx(Kl.Slot,{scope:e.__scopeMenu,children:i.jsx(B0,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:te(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:te(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=H6[o.dir].includes(d.key);f&&m&&(s.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});e2.displayName=JS;function t2(e){return e?"open":"closed"}function Sd(e){return e==="indeterminate"}function F0(e){return Sd(e)?"indeterminate":e?"checked":"unchecked"}function lz(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function cz(e,t){return e.map((n,a)=>e[(t+a)%e.length])}function uz(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=cz(e,Math.max(s,0));r.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function dz(e,t){const{x:n,y:a}=e;let r=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>a!=m>a&&n<(f-u)*(a-d)/(m-d)+u&&(r=!r)}return r}function fz(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return dz(n,t)}function Jl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var mz=zS,hz=O0,pz=IS,gz=QS,xz=$0,yz=BS,vz=Qf,bz=HS,_z=qS,kz=YS,wz=GS,Sz=WS,Ez=ZS,Rz=KS,Nz=e2,Bf="DropdownMenu",[jz,CJ]=rn(Bf,[LS]),Gt=LS(),[Az,n2]=jz(Bf),a2=e=>{const{__scopeDropdownMenu:t,children:n,dir:a,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=Gt(t),u=p.useRef(null),[d,f]=Hn({prop:r,defaultProp:s??!1,onChange:o,caller:Bf});return i.jsx(Az,{scope:t,triggerId:rr(),triggerRef:u,contentId:rr(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:l,children:i.jsx(mz,{...c,open:d,onOpenChange:f,dir:a,modal:l,children:n})})};a2.displayName=Bf;var r2="DropdownMenuTrigger",s2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...r}=e,s=n2(r2,n),o=Gt(n);return i.jsx(hz,{asChild:!0,...o,children:i.jsx(xe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...r,ref:Cf(t,s.triggerRef),onPointerDown:te(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:te(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});s2.displayName=r2;var Cz="DropdownMenuPortal",i2=e=>{const{__scopeDropdownMenu:t,...n}=e,a=Gt(t);return i.jsx(pz,{...a,...n})};i2.displayName=Cz;var o2="DropdownMenuContent",l2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=n2(o2,n),s=Gt(n),o=p.useRef(!1);return i.jsx(gz,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...a,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,l=>{var c;o.current||(c=r.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:te(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l2.displayName=o2;var Mz="DropdownMenuGroup",Tz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(xz,{...r,...a,ref:t})});Tz.displayName=Mz;var Dz="DropdownMenuLabel",c2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(yz,{...r,...a,ref:t})});c2.displayName=Dz;var Lz="DropdownMenuItem",u2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(vz,{...r,...a,ref:t})});u2.displayName=Lz;var Pz="DropdownMenuCheckboxItem",d2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(bz,{...r,...a,ref:t})});d2.displayName=Pz;var zz="DropdownMenuRadioGroup",Oz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(_z,{...r,...a,ref:t})});Oz.displayName=zz;var Iz="DropdownMenuRadioItem",f2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(kz,{...r,...a,ref:t})});f2.displayName=Iz;var Qz="DropdownMenuItemIndicator",m2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(wz,{...r,...a,ref:t})});m2.displayName=Qz;var Bz="DropdownMenuSeparator",h2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(Sz,{...r,...a,ref:t})});h2.displayName=Bz;var $z="DropdownMenuArrow",Hz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(Ez,{...r,...a,ref:t})});Hz.displayName=$z;var Fz="DropdownMenuSubTrigger",p2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(Rz,{...r,...a,ref:t})});p2.displayName=Fz;var qz="DropdownMenuSubContent",g2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=Gt(n);return i.jsx(Nz,{...r,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});g2.displayName=qz;var Uz=a2,Yz=s2,Vz=i2,x2=l2,y2=c2,v2=u2,b2=d2,_2=f2,k2=m2,w2=h2,S2=p2,E2=g2;const q0=Uz,U0=Yz,Gz=p.forwardRef(({className:e,inset:t,children:n,...a},r)=>i.jsxs(S2,{ref:r,className:H("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...a,children:[n,i.jsx(Sc,{className:"ml-auto h-4 w-4"})]}));Gz.displayName=S2.displayName;const Wz=p.forwardRef(({className:e,...t},n)=>i.jsx(E2,{ref:n,className:H("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:_t.DROPDOWN},...t}));Wz.displayName=E2.displayName;const $f=p.forwardRef(({className:e,sideOffset:t=4,...n},a)=>i.jsx(Vz,{children:i.jsx(x2,{ref:a,sideOffset:t,className:H("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:_t.DROPDOWN},...n})}));$f.displayName=x2.displayName;const sr=p.forwardRef(({className:e,inset:t,...n},a)=>i.jsx(v2,{ref:a,className:H("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));sr.displayName=v2.displayName;const Zz=p.forwardRef(({className:e,children:t,checked:n,...a},r)=>i.jsxs(b2,{ref:r,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...a,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(k2,{children:i.jsx(np,{className:"h-4 w-4"})})}),t]}));Zz.displayName=b2.displayName;const Xz=p.forwardRef(({className:e,children:t,...n},a)=>i.jsxs(_2,{ref:a,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(k2,{children:i.jsx(wf,{className:"h-2 w-2 fill-current"})})}),t]}));Xz.displayName=_2.displayName;const Kz=p.forwardRef(({className:e,inset:t,...n},a)=>i.jsx(y2,{ref:a,className:H("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Kz.displayName=y2.displayName;const Jz=p.forwardRef(({className:e,...t},n)=>i.jsx(w2,{ref:n,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));Jz.displayName=w2.displayName;function e9(e,[t,n]){return Math.min(n,Math.max(t,e))}function t9(e,t){return p.useReducer((n,a)=>t[n][a]??n,e)}var Y0="ScrollArea",[R2,MJ]=rn(Y0),[n9,Fn]=R2(Y0),N2=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:a="hover",dir:r,scrollHideDelay:s=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,m]=p.useState(null),[h,g]=p.useState(null),[y,b]=p.useState(null),[x,v]=p.useState(0),[_,k]=p.useState(0),[w,S]=p.useState(!1),[E,R]=p.useState(!1),N=De(t,O=>c(O)),j=Io(r);return i.jsx(n9,{scope:n,type:a,dir:j,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:v,onCornerHeightChange:k,children:i.jsx(xe.div,{dir:j,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});N2.displayName=Y0;var j2="ScrollAreaViewport",A2=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:a,nonce:r,...s}=e,o=Fn(j2,n),l=p.useRef(null),c=De(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});A2.displayName=j2;var Da="ScrollAreaScrollbar",V0=p.forwardRef((e,t)=>{const{forceMount:n,...a}=e,r=Fn(Da,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=r,l=e.orientation==="horizontal";return p.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),r.type==="hover"?i.jsx(a9,{...a,ref:t,forceMount:n}):r.type==="scroll"?i.jsx(r9,{...a,ref:t,forceMount:n}):r.type==="auto"?i.jsx(C2,{...a,ref:t,forceMount:n}):r.type==="always"?i.jsx(G0,{...a,ref:t}):null});V0.displayName=Da;var a9=p.forwardRef((e,t)=>{const{forceMount:n,...a}=e,r=Fn(Da,e.__scopeScrollArea),[s,o]=p.useState(!1);return p.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),i.jsx(Bt,{present:n||s,children:i.jsx(C2,{"data-state":s?"visible":"hidden",...a,ref:t})})}),r9=p.forwardRef((e,t)=>{const{forceMount:n,...a}=e,r=Fn(Da,e.__scopeScrollArea),s=e.orientation==="horizontal",o=Ff(()=>c("SCROLL_END"),100),[l,c]=t9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,c]),p.useEffect(()=>{const u=r.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[r.viewport,s,c,o]),i.jsx(Bt,{present:n||l!=="hidden",children:i.jsx(G0,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:te(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),C2=p.forwardRef((e,t)=>{const n=Fn(Da,e.__scopeScrollArea),{forceMount:a,...r}=e,[s,o]=p.useState(!1),l=e.orientation==="horizontal",c=Ff(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return mo(n.viewport,c),mo(n.content,c),i.jsx(Bt,{present:a||s,children:i.jsx(G0,{"data-state":s?"visible":"hidden",...r,ref:t})})}),G0=p.forwardRef((e,t)=>{const{orientation:n="vertical",...a}=e,r=Fn(Da,e.__scopeScrollArea),s=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=P2(l.viewport,l.content),d={...a,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return u9(m,o.current,l,h)}return n==="horizontal"?i.jsx(s9,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&s.current){const m=r.viewport.scrollLeft,h=Bv(m,l,r.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollLeft=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollLeft=f(m,r.dir))}}):n==="vertical"?i.jsx(i9,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&s.current){const m=r.viewport.scrollTop,h=Bv(m,l);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollTop=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollTop=f(m))}}):null}),s9=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:a,...r}=e,s=Fn(Da,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=De(t,c,s.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(T2,{"data-orientation":"horizontal",...r,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),O2(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&a({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Rd(o.paddingLeft),paddingEnd:Rd(o.paddingRight)}})}})}),i9=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:a,...r}=e,s=Fn(Da,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=De(t,c,s.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(T2,{"data-orientation":"vertical",...r,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),O2(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&a({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Rd(o.paddingTop),paddingEnd:Rd(o.paddingBottom)}})}})}),[o9,M2]=R2(Da),T2=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:r,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,h=Fn(Da,n),[g,y]=p.useState(null),b=De(t,N=>y(N)),x=p.useRef(null),v=p.useRef(""),_=h.viewport,k=a.content-a.viewport,w=Ot(d),S=Ot(c),E=Ff(f,10);function R(N){if(x.current){const j=N.clientX-x.current.left,O=N.clientY-x.current.top;u({x:j,y:O})}}return p.useEffect(()=>{const N=j=>{const O=j.target;(g==null?void 0:g.contains(O))&&w(j,k)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[_,g,k,w]),p.useEffect(S,[a,S]),mo(g,E),mo(h.content,E),i.jsx(o9,{scope:n,scrollbar:g,hasThumb:r,onThumbChange:Ot(s),onThumbPointerUp:Ot(o),onThumbPositionChange:S,onThumbPointerDown:Ot(l),children:i.jsx(xe.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:te(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),R(N))}),onPointerMove:te(e.onPointerMove,R),onPointerUp:te(e.onPointerUp,N=>{const j=N.target;j.hasPointerCapture(N.pointerId)&&j.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=v.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),Ed="ScrollAreaThumb",D2=p.forwardRef((e,t)=>{const{forceMount:n,...a}=e,r=M2(Ed,e.__scopeScrollArea);return i.jsx(Bt,{present:n||r.hasThumb,children:i.jsx(l9,{ref:t,...a})})}),l9=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:a,...r}=e,s=Fn(Ed,n),o=M2(Ed,n),{onThumbPositionChange:l}=o,c=De(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=Ff(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=s.viewport;if(f){const m=()=>{if(d(),!u.current){const h=d9(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,d,l]),i.jsx(xe.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:te(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,y=f.clientY-h.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:te(e.onPointerUp,o.onThumbPointerUp)})});D2.displayName=Ed;var W0="ScrollAreaCorner",L2=p.forwardRef((e,t)=>{const n=Fn(W0,e.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?i.jsx(c9,{...e,ref:t}):null});L2.displayName=W0;var c9=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...a}=e,r=Fn(W0,n),[s,o]=p.useState(0),[l,c]=p.useState(0),u=!!(s&&l);return mo(r.scrollbarX,()=>{var f;const d=((f=r.scrollbarX)==null?void 0:f.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),mo(r.scrollbarY,()=>{var f;const d=((f=r.scrollbarY)==null?void 0:f.offsetWidth)||0;r.onCornerWidthChange(d),o(d)}),u?i.jsx(xe.div,{...a,ref:t,style:{width:s,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Rd(e){return e?parseInt(e,10):0}function P2(e,t){const n=e/t;return isNaN(n)?0:n}function Hf(e){const t=P2(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-n)*t;return Math.max(a,18)}function u9(e,t,n,a="ltr"){const r=Hf(n),s=r/2,o=t||s,l=r-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=a==="ltr"?[0,d]:[d*-1,0];return z2([c,u],f)(e)}function Bv(e,t,n="ltr"){const a=Hf(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-r,o=t.content-t.viewport,l=s-a,c=n==="ltr"?[0,o]:[o*-1,0],u=e9(e,c);return z2([0,o],[0,l])(u)}function z2(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(n-e[0])}}function O2(e,t){return e>0&&e<t}var d9=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},a=0;return function r(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&t(),n=s,a=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(a)};function Ff(e,t){const n=Ot(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,t)},[n,t])}function mo(e,t){const n=Ot(t);ja(()=>{let a=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(a),r.unobserve(e)}}},[e,n])}var I2=N2,f9=A2,m9=L2;const ho=p.forwardRef(({className:e,children:t,...n},a)=>i.jsxs(I2,{ref:a,className:H("relative overflow-hidden",e),...n,children:[i.jsx(f9,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(Q2,{}),i.jsx(m9,{})]}));ho.displayName=I2.displayName;const Q2=p.forwardRef(({className:e,orientation:t="vertical",...n},a)=>i.jsx(V0,{ref:a,orientation:t,className:H("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(D2,{className:"relative flex-1 rounded-full bg-border"})}));Q2.displayName=V0.displayName;function h9({items:e,viewMode:t,onItemSelect:n,selectedItem:a,renderItemCard:r,className:s}){return i.jsxs("div",{className:`space-y-4 ${s}`,children:[t==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(o=>i.jsx("div",{onClick:()=>n(o),className:"cursor-pointer transition-transform hover:scale-[1.02] relative",children:r(o,(a==null?void 0:a.id)===o.id)},o.id))}):i.jsx(ho,{className:"h-[calc(100vh-300px)]",children:i.jsx("div",{className:"space-y-1 pr-4",children:e.map(o=>i.jsx("div",{onClick:()=>n(o),className:"cursor-pointer transition-colors hover:bg-muted/50 rounded-lg",children:r(o,(a==null?void 0:a.id)===o.id)},o.id))})}),e.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No items found matching your criteria."})})]})}function p9({categories:e,onSelect:t,className:n=""}){return i.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(a=>i.jsx("div",{className:"flex-1 min-w-[180px]",children:i.jsx(Rs,{categories:[a],onSelect:t,placeholder:a.placeholder,className:"w-full"})},a.id))})}function g9({tags:e,onRemove:t,className:n=""}){return e.length===0?null:i.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(a=>i.jsxs(X,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.category,":"]}),i.jsx("span",{children:a.label}),i.jsx("button",{onClick:()=>t(a.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:i.jsx(Yt,{className:"h-3 w-3"})})]},a.id))})}function B2({categories:e,onSelect:t,onCustomSearch:n,placeholder:a="Search by name, description, or abilities...",className:r=""}){const[s,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(""),[f,m]=p.useState(-1),h=p.useRef(null),g=p.useRef(null),y=e.length===1?e[0]:null;p.useEffect(()=>{const j=O=>{h.current&&!h.current.contains(O.target)&&(o(!1),c(null),m(-1))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const b=l||y?(l||y).options.filter(j=>{var O;return j.label.toLowerCase().includes(u.toLowerCase())||((O=j.description)==null?void 0:O.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(j=>j.options.filter(O=>{var I;return O.label.toLowerCase().includes(u.toLowerCase())||((I=O.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),x=j=>{d(j),o(!0),m(-1)},v=j=>{var O;c(j),d(""),(O=g.current)==null||O.focus()},_=j=>{t(j),d(""),c(null),o(!1),m(-1)},k=()=>{u.trim()&&(n(u.trim()),d(""),c(null),o(!1),m(-1))},w=j=>{j.key==="ArrowDown"?(j.preventDefault(),m(O=>Math.min(O+1,b.length-1))):j.key==="ArrowUp"?(j.preventDefault(),m(O=>Math.max(O-1,-1))):j.key==="Enter"?(j.preventDefault(),f>=0&&b[f]?_(b[f]):u.trim()&&k()):j.key==="Escape"&&(o(!1),c(null),m(-1))},S=()=>{o(!0)},E=l||y,R=!y&&!l,N=u.trim()&&!b.some(j=>j.label.toLowerCase()===u.toLowerCase());return i.jsxs("div",{ref:h,className:`relative ${r}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ka,{ref:g,type:"text",placeholder:E?E.placeholder:a,value:u,onChange:j=>x(j.target.value),onFocus:S,onKeyDown:w,className:"pl-10 pr-20"}),N&&i.jsx(Z,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:k,title:"Add custom search term",children:i.jsx(Yi,{className:"h-4 w-4"})}),i.jsx(Z,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!s),children:i.jsx(In,{className:`h-4 w-4 transition-transform ${s?"rotate-180":""}`})})]}),s&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:_t.AUTOCOMPLETE},children:[R&&i.jsxs("div",{className:"p-2 border-b border-border",children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(j=>i.jsxs("button",{onClick:()=>v(j),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[i.jsx("span",{children:j.name}),i.jsx(In,{className:"h-4 w-4"})]},j.id))]}),N&&i.jsx("div",{className:"p-2 border-b border-border",children:i.jsxs("button",{onClick:k,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[i.jsx(Yi,{className:"h-4 w-4 text-primary"}),i.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),i.jsx("div",{className:"p-2",children:b.length===0&&!N?i.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):b.map((j,O)=>i.jsxs("button",{onClick:()=>_(j),className:`w-full text-left px-2 py-2 rounded text-sm ${O===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[i.jsx("div",{className:"font-medium",children:j.label}),j.description&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:j.description})]},j.id))})]})]})}function ri({categories:e,onSelect:t,onCustomSearch:n,className:a=""}){const r=e.find(o=>o.id==="fuzzy-search"||o.id==="keywords"),s=e.filter(o=>o.id!=="fuzzy-search"&&o.id!=="keywords");return i.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${a}`,children:[r&&i.jsx("div",{className:"flex-1 min-w-[300px]",children:i.jsx(B2,{categories:[r],onSelect:t,onCustomSearch:n,placeholder:r.placeholder,className:"w-full"})}),s.map(o=>i.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:i.jsx(Rs,{categories:[o],onSelect:t,placeholder:o.placeholder,className:"w-full"})},o.id))]})}function x9({children:e,className:t=""}){return i.jsx("div",{className:`grid grid-cols-1 lg:grid-cols-6 gap-6 ${t}`,children:e})}function y9({children:e,className:t=""}){return i.jsx("div",{className:`lg:col-span-5 ${t}`,children:e})}function v9({children:e,className:t=""}){return i.jsx("div",{className:`lg:col-span-1 ${t}`,children:i.jsx("div",{className:"sticky top-6",style:{zIndex:_t.STICKY},children:e})})}function b9({title:e="Select an Item",description:t="Choose an item from the list to view its details"}){return i.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 text-center",children:[i.jsx(Ci,{className:"text-lg font-semibold mb-2",children:e}),i.jsx(Qe,{className:"text-muted-foreground",children:t})]})}function _9({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:a,onTagRemove:r,onViewModeChange:s,children:o,className:l=""}){return i.jsxs("div",{className:`mb-8 space-y-4 ${l}`,children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx(p9,{categories:e,onSelect:a,className:"w-full"})}),s&&i.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[i.jsx(Z,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>s("grid"),className:"h-8 px-3",children:i.jsx(Ks,{className:"h-4 w-4"})}),i.jsx(Z,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>s("list"),className:"h-8 px-3",children:i.jsx(Js,{className:"h-4 w-4"})})]})]}),i.jsx(g9,{tags:t,onRemove:r,className:"justify-start"}),o&&i.jsx("div",{className:"pt-4",children:o})]})}function zc({children:e,columns:t=2,gap:n="md",className:a}){const r={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},s={sm:"gap-3",md:"gap-4",lg:"gap-6"};return i.jsx("div",{className:H("grid",r[t],s[n],a),children:e})}function k9({children:e,columns:t=2,gap:n="md",className:a}){const r={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},s={sm:"gap-2",md:"gap-4",lg:"gap-6"};return i.jsx("div",{className:H("grid",r[t],s[n],a),children:e})}var qf="Collapsible",[w9,$2]=rn(qf),[S9,Z0]=w9(qf),H2=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:a,defaultOpen:r,disabled:s,onOpenChange:o,...l}=e,[c,u]=Hn({prop:a,defaultProp:r??!1,onChange:o,caller:qf});return i.jsx(S9,{scope:n,disabled:s,contentId:rr(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(xe.div,{"data-state":K0(c),"data-disabled":s?"":void 0,...l,ref:t})})});H2.displayName=qf;var F2="CollapsibleTrigger",q2=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...a}=e,r=Z0(F2,n);return i.jsx(xe.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":K0(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...a,ref:t,onClick:te(e.onClick,r.onOpenToggle)})});q2.displayName=F2;var X0="CollapsibleContent",U2=p.forwardRef((e,t)=>{const{forceMount:n,...a}=e,r=Z0(X0,e.__scopeCollapsible);return i.jsx(Bt,{present:n||r.open,children:({present:s})=>i.jsx(E9,{...a,ref:t,present:s})})});U2.displayName=X0;var E9=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:a,children:r,...s}=e,o=Z0(X0,n),[l,c]=p.useState(a),u=p.useRef(null),d=De(t,u),f=p.useRef(0),m=f.current,h=p.useRef(0),g=h.current,y=o.open||l,b=p.useRef(y),x=p.useRef(void 0);return p.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),ja(()=>{const v=u.current;if(v){x.current=x.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const _=v.getBoundingClientRect();f.current=_.height,h.current=_.width,b.current||(v.style.transitionDuration=x.current.transitionDuration,v.style.animationName=x.current.animationName),c(a)}},[o.open,a]),i.jsx(xe.div,{"data-state":K0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&r})});function K0(e){return e?"open":"closed"}var R9=H2,N9=q2,j9=U2,aa="Accordion",A9=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[J0,C9,M9]=_0(aa),[Uf,TJ]=rn(aa,[M9,$2]),ex=$2(),Y2=z.forwardRef((e,t)=>{const{type:n,...a}=e,r=a,s=a;return i.jsx(J0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?i.jsx(P9,{...s,ref:t}):i.jsx(L9,{...r,ref:t})})});Y2.displayName=aa;var[V2,T9]=Uf(aa),[G2,D9]=Uf(aa,{collapsible:!1}),L9=z.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},collapsible:s=!1,...o}=e,[l,c]=Hn({prop:n,defaultProp:a??"",onChange:r,caller:aa});return i.jsx(V2,{scope:e.__scopeAccordion,value:z.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:z.useCallback(()=>s&&c(""),[s,c]),children:i.jsx(G2,{scope:e.__scopeAccordion,collapsible:s,children:i.jsx(W2,{...o,ref:t})})})}),P9=z.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},...s}=e,[o,l]=Hn({prop:n,defaultProp:a??[],onChange:r,caller:aa}),c=z.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=z.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return i.jsx(V2,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(G2,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(W2,{...s,ref:t})})})}),[z9,Yf]=Uf(aa),W2=z.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:a,dir:r,orientation:s="vertical",...o}=e,l=z.useRef(null),c=De(l,t),u=C9(n),f=Io(r)==="ltr",m=te(e.onKeyDown,h=>{var R;if(!A9.includes(h.key))return;const g=h.target,y=u().filter(N=>{var j;return!((j=N.ref.current)!=null&&j.disabled)}),b=y.findIndex(N=>N.ref.current===g),x=y.length;if(b===-1)return;h.preventDefault();let v=b;const _=0,k=x-1,w=()=>{v=b+1,v>k&&(v=_)},S=()=>{v=b-1,v<_&&(v=k)};switch(h.key){case"Home":v=_;break;case"End":v=k;break;case"ArrowRight":s==="horizontal"&&(f?w():S());break;case"ArrowDown":s==="vertical"&&w();break;case"ArrowLeft":s==="horizontal"&&(f?S():w());break;case"ArrowUp":s==="vertical"&&S();break}const E=v%x;(R=y[E].ref.current)==null||R.focus()});return i.jsx(z9,{scope:n,disabled:a,direction:r,orientation:s,children:i.jsx(J0.Slot,{scope:n,children:i.jsx(xe.div,{...o,"data-orientation":s,ref:c,onKeyDown:a?void 0:m})})})}),Nd="AccordionItem",[O9,tx]=Uf(Nd),Z2=z.forwardRef((e,t)=>{const{__scopeAccordion:n,value:a,...r}=e,s=Yf(Nd,n),o=T9(Nd,n),l=ex(n),c=rr(),u=a&&o.value.includes(a)||!1,d=s.disabled||e.disabled;return i.jsx(O9,{scope:n,open:u,disabled:d,triggerId:c,children:i.jsx(R9,{"data-orientation":s.orientation,"data-state":nE(u),...l,...r,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(a):o.onItemClose(a)}})})});Z2.displayName=Nd;var X2="AccordionHeader",K2=z.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,r=Yf(aa,n),s=tx(X2,n);return i.jsx(xe.h3,{"data-orientation":r.orientation,"data-state":nE(s.open),"data-disabled":s.disabled?"":void 0,...a,ref:t})});K2.displayName=X2;var yp="AccordionTrigger",J2=z.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,r=Yf(aa,n),s=tx(yp,n),o=D9(yp,n),l=ex(n);return i.jsx(J0.ItemSlot,{scope:n,children:i.jsx(N9,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":r.orientation,id:s.triggerId,...l,...a,ref:t})})});J2.displayName=yp;var eE="AccordionContent",tE=z.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,r=Yf(aa,n),s=tx(eE,n),o=ex(n);return i.jsx(j9,{role:"region","aria-labelledby":s.triggerId,"data-orientation":r.orientation,...o,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});tE.displayName=eE;function nE(e){return e?"open":"closed"}var I9=Y2,Q9=Z2,B9=K2,aE=J2,rE=tE;const nx=I9,Vf=p.forwardRef(({className:e,...t},n)=>i.jsx(Q9,{ref:n,className:H("border-b",e),...t}));Vf.displayName="AccordionItem";const Gf=p.forwardRef(({className:e,children:t,...n},a)=>i.jsx(B9,{className:"flex",children:i.jsxs(aE,{ref:a,className:H("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,i.jsx(In,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Gf.displayName=aE.displayName;const Wf=p.forwardRef(({className:e,children:t,...n},a)=>i.jsx(rE,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:i.jsx("div",{className:H("pb-4 pt-0",e),children:t})}));Wf.displayName=rE.displayName;function $9({children:e,title:t="Customize Display",description:n="Configure what information to show",defaultOpen:a=!1,className:r}){return i.jsx(nx,{type:"single",collapsible:!0,defaultValue:a?"customize-display":void 0,className:r,children:i.jsxs(Vf,{value:"customize-display",className:"border-none",children:[i.jsx(Gf,{className:"hover:no-underline",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(t0,{className:"h-4 w-4"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:t}),i.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]})}),i.jsx(Wf,{children:i.jsx("div",{className:"space-y-4 pt-2",children:e})})]})})}var H9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F9="VisuallyHidden",sE=p.forwardRef((e,t)=>i.jsx(xe.span,{...e,ref:t,style:{...H9,...e.style}}));sE.displayName=F9;var q9=sE,[Zf,DJ]=rn("Tooltip",[Ho]),ax=Ho(),U9="TooltipProvider",$v="tooltip.open",[LJ,iE]=Zf(U9),oE="Tooltip",[PJ,Xf]=Zf(oE),vp="TooltipTrigger",Y9=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,r=Xf(vp,n),s=iE(vp,n),o=ax(n),l=p.useRef(null),c=De(t,l,r.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(L0,{asChild:!0,...o,children:i.jsx(xe.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...a,ref:c,onPointerMove:te(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:te(e.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:te(e.onBlur,r.onClose),onClick:te(e.onClick,r.onClose)})})});Y9.displayName=vp;var V9="TooltipPortal",[zJ,G9]=Zf(V9,{forceMount:void 0}),po="TooltipContent",lE=p.forwardRef((e,t)=>{const n=G9(po,e.__scopeTooltip),{forceMount:a=n.forceMount,side:r="top",...s}=e,o=Xf(po,e.__scopeTooltip);return i.jsx(Bt,{present:a||o.open,children:o.disableHoverableContent?i.jsx(cE,{side:r,...s,ref:t}):i.jsx(W9,{side:r,...s,ref:t})})}),W9=p.forwardRef((e,t)=>{const n=Xf(po,e.__scopeTooltip),a=iE(po,e.__scopeTooltip),r=p.useRef(null),s=De(t,r),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:f}=a,m=p.useCallback(()=>{l(null),f(!1)},[f]),h=p.useCallback((g,y)=>{const b=g.currentTarget,x={x:g.clientX,y:g.clientY},v=eO(x,b.getBoundingClientRect()),_=tO(x,v),k=nO(y.getBoundingClientRect()),w=rO([..._,...k]);l(w),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&d){const g=b=>h(b,d),y=b=>h(b,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[c,d,h,m]),p.useEffect(()=>{if(o){const g=y=>{const b=y.target,x={x:y.clientX,y:y.clientY},v=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),_=!aO(x,o);v?m():_&&(m(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,m]),i.jsx(cE,{...e,ref:s})}),[Z9,X9]=Zf(oE,{isInside:!1}),K9=cD("TooltipContent"),cE=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:a,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=Xf(po,n),u=ax(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener($v,d),()=>document.removeEventListener($v,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(P0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(K9,{children:a}),i.jsx(Z9,{scope:n,isInside:!0,children:i.jsx(q9,{id:c.contentId,role:"tooltip",children:r||a})})]})})});lE.displayName=po;var uE="TooltipArrow",J9=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,r=ax(n);return X9(uE,n).isInside?null:i.jsx(z0,{...r,...a,ref:t})});J9.displayName=uE;function eO(e,t){const n=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,a,r,s)){case s:return"left";case r:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function tO(e,t,n=5){const a=[];switch(t){case"top":a.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":a.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":a.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":a.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return a}function nO(e){const{top:t,right:n,bottom:a,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:a},{x:r,y:a}]}function aO(e,t){const{x:n,y:a}=e;let r=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>a!=m>a&&n<(f-u)*(a-d)/(m-d)+u&&(r=!r)}return r}function rO(e){const t=e.slice();return t.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),sO(t)}function sO(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const r=e[a];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let a=e.length-1;a>=0;a--){const r=e[a];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var dE=lE;const iO=p.forwardRef(({className:e,sideOffset:t=4,...n},a)=>i.jsx(dE,{ref:a,sideOffset:t,className:H("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));iO.displayName=dE.displayName;function Ln({title:e,navigateTo:t,onNavigate:n,children:a,className:r,showHeaderButton:s=!0}){return i.jsxs(He,{className:r,children:[i.jsx(Ke,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(st,{className:"text-lg",children:e}),s&&i.jsxs(Z,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," â†’"]})]})}),i.jsx(Fe,{className:"space-y-4",children:a})]})}var oO="Label",fE=p.forwardRef((e,t)=>i.jsx(xe.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fE.displayName=oO;const lO=Po("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Za=p.forwardRef(({className:e,children:t,...n},a)=>i.jsx(fE,{ref:a,className:H(lO(),e),...n,children:t}));Za.displayName="Label";function xu({title:e,description:t,checked:n,onCheckedChange:a,className:r,disabled:s=!1,onClick:o,showSwitch:l=!0}){const c=()=>{o?o():s||a(!n)};return i.jsxs("div",{className:H("flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",s&&"opacity-50 cursor-not-allowed",r),onClick:c,children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Za,{className:"text-base font-medium",children:e}),t&&i.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),l&&i.jsx(Ga,{checked:n,onCheckedChange:a,disabled:s})]})}function cO(){return"/lorerim-arcaneum/"}function ra(e){return`${cO()}${e}`}const Fo=vr((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const a=await fetch(ra("data/birthsigns.json"));if(!a.ok)throw new Error(`Failed to fetch birthsigns data: ${a.status}`);const s=(await a.json()).map(o=>{var l,c;return{...o,id:o.edid||o.name.toLowerCase().replace(/\s+/g,"-"),tags:[o.group,...((l=o.powers)==null?void 0:l.map(u=>u.name))||[],...((c=o.stat_modifications)==null?void 0:c.map(u=>u.stat))||[]].filter(u=>!!u)}});e({data:s,loading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load birthsigns",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const a=t(),r=n.toLowerCase();return a.data.filter(s=>{var o,l;return s.name.toLowerCase().includes(r)||((o=s.description)==null?void 0:o.toLowerCase().includes(r))||((l=s.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),uO=Object.freeze(Object.defineProperty({__proto__:null,useBirthsignsStore:Fo},Symbol.toStringTag,{value:"Module"}));function dO(e){var a;const t=[],n=((a=e.description)==null?void 0:a.toLowerCase())||"";return(n.includes("damage")||n.includes("weapon"))&&t.push("Combat"),(n.includes("armor")||n.includes("defense"))&&t.push("Defensive"),(n.includes("magicka")||n.includes("spell")||n.includes("magic"))&&t.push("Magic"),(n.includes("regeneration")||n.includes("health")||n.includes("stamina"))&&t.push("Utility"),(n.includes("detect")||n.includes("stealth"))&&t.push("Stealth"),(n.includes("cost")||n.includes("less"))&&t.push("Cost Reduction"),(n.includes("increase")||n.includes("more"))&&t.push("Enhancement"),n.includes("resistance")&&t.push("Resistance"),[...new Set(t)]}const qo=vr((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const a=await fetch(ra("data/subclasses.json"));if(!a.ok)throw new Error(`Failed to fetch destiny nodes data: ${a.status}`);const s=(await a.json()).map((o,l)=>({...o,id:o.globalFormId||o.edid||`destiny-${l}`,nextBranches:o.nextBranches||[],levelRequirement:o.levelRequirement,lore:o.lore,tags:dO(o),prerequisites:Array.isArray(o.prerequisites)?o.prerequisites:[]}));e({data:s,loading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load destiny nodes",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const a=t(),r=n.toLowerCase();return a.data.filter(s=>{var o,l;return s.name.toLowerCase().includes(r)||((o=s.description)==null?void 0:o.toLowerCase().includes(r))||((l=s.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),fO=Object.freeze(Object.defineProperty({__proto__:null,useDestinyNodesStore:qo},Symbol.toStringTag,{value:"Module"})),Uo=vr((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const a=await fetch(ra("data/perk-trees.json"));if(!a.ok)throw new Error(`Failed to fetch perk trees data: ${a.status}`);const s=await a.json();e({data:s,loading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load perk trees",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const a=t(),r=n.toLowerCase();return a.data.filter(s=>{var o,l;return s.name.toLowerCase().includes(r)||((o=s.description)==null?void 0:o.toLowerCase().includes(r))||((l=s.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),mO=Object.freeze(Object.defineProperty({__proto__:null,usePerkTreesStore:Uo},Symbol.toStringTag,{value:"Module"})),os=vr((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const a=await fetch(ra("data/playable-races.json"));if(!a.ok)throw new Error(`Failed to fetch races data: ${a.status}`);const s=(await a.json()).races.map(o=>({...o,id:o.id||o.edid||o.name.toLowerCase().replace(/\s+/g,"-"),tags:[o.category,...o.keywords||[]].filter(l=>!!l),name:o.name,edid:o.edid,description:o.description,category:o.category,source:o.source,startingStats:o.startingStats,physicalAttributes:o.physicalAttributes,skillBonuses:o.skillBonuses,racialSpells:o.racialSpells,keywords:o.keywords,flags:o.flags,regeneration:o.regeneration,combat:o.combat}));e({data:s,loading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load races",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const a=t(),r=n.toLowerCase();return a.data.filter(s=>{var o,l;return s.name.toLowerCase().includes(r)||((o=s.description)==null?void 0:o.toLowerCase().includes(r))||((l=s.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),hO=Object.freeze(Object.defineProperty({__proto__:null,useRacesStore:os},Symbol.toStringTag,{value:"Module"})),Yo=vr((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const a=await fetch(ra("data/wintersun-religion-docs.json"));if(!a.ok)throw new Error(`Failed to fetch religions data: ${a.status}`);const s=(await a.json()).flatMap(o=>o.deities.map(l=>({...l,id:l.id||l.name,pantheon:o.type,type:l.type||o.type,tags:[o.type,...l.favoredRaces||[],...l.tags||[]].filter(Boolean)})));e({data:s,loading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load religions",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const a=t(),r=n.toLowerCase();return a.data.filter(s=>{var o,l;return s.name.toLowerCase().includes(r)||((o=s.description)==null?void 0:o.toLowerCase().includes(r))||((l=s.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),pO=Object.freeze(Object.defineProperty({__proto__:null,useReligionsStore:Yo},Symbol.toStringTag,{value:"Module"})),si=vr((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const a=await fetch(ra("data/skills.json"));if(!a.ok)throw new Error(`Failed to fetch skills data: ${a.status}`);const s=(await a.json()).skills.map(o=>({...o,id:o.id||o.edid||o.name.toLowerCase().replace(/\s+/g,"-"),tags:[...o.metaTags||[],o.category].filter(l=>!!l)}));e({data:s,loading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load skills",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const a=t(),r=n.toLowerCase();return a.data.filter(s=>{var o,l;return s.name.toLowerCase().includes(r)||((o=s.description)==null?void 0:o.toLowerCase().includes(r))||((l=s.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),gO=Object.freeze(Object.defineProperty({__proto__:null,useSkillsStore:si},Symbol.toStringTag,{value:"Module"}));class xs{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.editorId=="string"&&typeof t.school=="string"&&typeof t.level=="string"&&typeof t.magickaCost=="number"&&Array.isArray(t.effects)}static equals(t,n){return t.editorId===n.editorId}static addComputedProperties(t){const n=t.effects.length>0,a=t.effects.length,r=t.effects.some(m=>m.area>0),s=t.effects.some(m=>m.duration>0),o=t.effects.every(m=>m.duration===0),l=t.effects.reduce((m,h)=>m+h.magnitude,0),c=Math.max(...t.effects.map(m=>m.duration),0),u=Math.max(...t.effects.map(m=>m.area),0),d=this.generateTags(t,{hasEffects:n,isAreaSpell:r,isDurationSpell:s,isInstantSpell:o}),f=this.createSearchableText(t,d);return{...t,hasEffects:n,effectCount:a,isAreaSpell:r,isDurationSpell:s,isInstantSpell:o,totalMagnitude:l,maxDuration:c,maxArea:u,tags:d,searchableText:f}}static generateTags(t,n){const a=[];return a.push(t.school),a.push(t.level),n.hasEffects&&a.push("Has Effects"),n.isAreaSpell&&a.push("Area Effect"),n.isDurationSpell&&a.push("Duration"),n.isInstantSpell&&a.push("Instant"),t.magickaCost===0?a.push("Free"):t.magickaCost<=50?a.push("Low Cost"):t.magickaCost<=150?a.push("Medium Cost"):a.push("High Cost"),t.effects.forEach(r=>{r.name.toLowerCase().includes("fire")&&a.push("Fire"),(r.name.toLowerCase().includes("frost")||r.name.toLowerCase().includes("ice"))&&a.push("Frost"),(r.name.toLowerCase().includes("shock")||r.name.toLowerCase().includes("lightning"))&&a.push("Shock"),(r.name.toLowerCase().includes("heal")||r.name.toLowerCase().includes("restore"))&&a.push("Healing"),(r.name.toLowerCase().includes("conjure")||r.name.toLowerCase().includes("summon"))&&a.push("Conjuration"),(r.name.toLowerCase().includes("fear")||r.name.toLowerCase().includes("calm"))&&a.push("Illusion"),(r.name.toLowerCase().includes("paralyze")||r.name.toLowerCase().includes("slow"))&&a.push("Control")}),[...new Set(a)]}static createSearchableText(t,n){return[t.name,t.school,t.level,t.description,...n,...t.effects.map(r=>r.name),...t.effects.map(r=>r.description)].join(" ").toLowerCase()}static filterBySchool(t,n){return t.filter(a=>a.school===n)}static filterByLevel(t,n){return t.filter(a=>a.level===n)}static filterBySchools(t,n){return n.length===0?t:t.filter(a=>n.includes(a.school))}static filterByLevels(t,n){return n.length===0?t:t.filter(a=>n.includes(a.level))}static filterByMagickaCost(t,n,a){return t.filter(r=>!(n!==null&&r.magickaCost<n||a!==null&&r.magickaCost>a))}static filterByMagnitude(t,n,a){return t.filter(r=>!(n!==null&&r.totalMagnitude<n||a!==null&&r.totalMagnitude>a))}static filterByEffectProperties(t,n,a,r){return t.filter(s=>!(n!==null&&s.hasEffects!==n||a!==null&&s.isAreaSpell!==a||r!==null&&s.isDurationSpell!==r))}static search(t,n){if(!n.trim())return t.map(s=>({spell:s,score:1,matchedFields:[]}));const a=n.toLowerCase(),r=[];return t.forEach(s=>{let o=0;const l=[];s.name.toLowerCase()===a?(o+=100,l.push("name")):s.name.toLowerCase().includes(a)&&(o+=50,l.push("name")),s.school.toLowerCase()===a?(o+=30,l.push("school")):s.school.toLowerCase().includes(a)&&(o+=15,l.push("school")),s.level.toLowerCase()===a?(o+=25,l.push("level")):s.level.toLowerCase().includes(a)&&(o+=10,l.push("level")),s.description.toLowerCase().includes(a)&&(o+=5,l.push("description")),s.tags.forEach(c=>{c.toLowerCase().includes(a)&&(o+=3,l.push("tags"))}),s.effects.forEach(c=>{c.name.toLowerCase().includes(a)&&(o+=8,l.push("effects")),c.description.toLowerCase().includes(a)&&(o+=4,l.push("effects"))}),o>0&&r.push({spell:s,score:o,matchedFields:[...new Set(l)]})}),r.sort((s,o)=>o.score-s.score)}static sort(t,n,a="asc"){return[...t].sort((s,o)=>{let l=0;switch(n){case"name":l=s.name.localeCompare(o.name);break;case"school":l=s.school.localeCompare(o.school);break;case"level":l=this.compareLevels(s.level,o.level);break;case"magickaCost":l=s.magickaCost-o.magickaCost;break;case"magnitude":l=s.totalMagnitude-o.totalMagnitude;break;case"duration":l=s.maxDuration-o.maxDuration;break}return a==="desc"?-l:l})}static compareLevels(t,n){const a=["Novice","Apprentice","Adept","Expert","Master"],r=a.indexOf(t),s=a.indexOf(n);return r===-1&&s===-1?0:r===-1?1:s===-1?-1:r-s}static getUniqueSchools(t){return[...new Set(t.map(n=>n.school))].sort()}static getUniqueLevels(t){const n=[...new Set(t.map(a=>a.level))];return this.sortLevels(n)}static sortLevels(t){const n=["Novice","Apprentice","Adept","Expert","Master"];return t.sort((a,r)=>{const s=n.indexOf(a),o=n.indexOf(r);return s===-1&&o===-1?0:s===-1?1:o===-1?-1:s-o})}static getUniqueTags(t){const n=t.flatMap(a=>a.tags);return[...new Set(n)].sort()}static applyFilters(t,n){let a=[...t];return n.schools.length>0&&(a=this.filterBySchools(a,n.schools)),n.levels.length>0&&(a=this.filterByLevels(a,n.levels)),a=this.filterByEffectProperties(a,n.hasEffects,n.isAreaSpell,n.isDurationSpell),a=this.filterByMagickaCost(a,n.minMagickaCost,n.maxMagickaCost),a=this.filterByMagnitude(a,n.minMagnitude,n.maxMagnitude),n.searchTerm&&(a=this.search(a,n.searchTerm).map(s=>s.spell)),a}static getStatistics(t){const n=this.getUniqueSchools(t),a=this.getUniqueLevels(t),r=this.getUniqueTags(t),s=t.length,o=t.filter(m=>m.hasEffects).length,l=t.filter(m=>m.isAreaSpell).length,c=t.filter(m=>m.isDurationSpell).length,u=t.filter(m=>m.magickaCost===0).length,d=t.length>0?t.reduce((m,h)=>m+h.magickaCost,0)/t.length:0,f=t.length>0?t.reduce((m,h)=>m+h.totalMagnitude,0)/t.length:0;return{totalSpells:s,spellsWithEffects:o,areaSpells:l,durationSpells:c,freeSpells:u,avgMagickaCost:Math.round(d),avgMagnitude:Math.round(f),schools:n,levels:a,tags:r}}}const Es=class Es{constructor(){nt(this,"cache",null);nt(this,"lastFetch",0);nt(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return Es.instance||(Es.instance=new Es),Es.instance}async loadSpells(){if(this.cache&&Date.now()-this.lastFetch<this.CACHE_DURATION)return this.cache;try{const t=ra("data/player_spells.json"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch spells: ${n.status} ${n.statusText}`);const a=await n.json(),r=[];let s=0,o=0;for(const l of a)if(xs.isValid(l)){const c=xs.addComputedProperties(l);r.push(c),s++}else console.warn("SpellDataProvider: Invalid spell data:",l),o++;return this.cache=r,this.lastFetch=Date.now(),r}catch(t){throw console.error("SpellDataProvider: Error loading spells:",t),t}}async getSpellData(){console.log("SpellDataProvider: getSpellData called");const t=await this.loadSpells();console.log("SpellDataProvider: Getting statistics for",t.length,"spells");const n=xs.getStatistics(t),a={spells:t,totalCount:n.totalSpells,schools:n.schools,levels:n.levels,lastUpdated:new Date().toISOString()};return console.log("SpellDataProvider: getSpellData result:",{spellsCount:a.spells.length,totalCount:a.totalCount,schools:a.schools,levels:a.levels}),a}async getSpellByEditorId(t){return(await this.loadSpells()).find(a=>a.editorId===t)||null}async getSpellsBySchool(t){const n=await this.loadSpells();return xs.filterBySchool(n,t)}async getSpellsByLevel(t){const n=await this.loadSpells();return xs.filterByLevel(n,t)}async searchSpells(t){const n=await this.loadSpells();return xs.search(n,t).map(r=>r.spell)}async getStatistics(){const t=await this.loadSpells();return xs.getStatistics(t)}clearCache(){console.log("SpellDataProvider: Clearing cache"),this.cache=null,this.lastFetch=0}isCacheValid(){return this.cache!==null&&Date.now()-this.lastFetch<this.CACHE_DURATION}getCacheInfo(){var t;return{hasCache:this.cache!==null,cacheSize:((t=this.cache)==null?void 0:t.length)||0,lastFetch:this.lastFetch,isValid:this.isCacheValid()}}};nt(Es,"instance");let jd=Es;const xO=Object.freeze(Object.defineProperty({__proto__:null,SpellDataProvider:jd},Symbol.toStringTag,{value:"Module"})),Mi=vr((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const r=await jd.getInstance().loadSpells();e({data:r,loading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load spells",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),getByEditorId:n=>t().data.find(r=>r.editorId===n),search:n=>{const a=t(),r=n.toLowerCase();return a.data.filter(s=>{var o,l,c,u,d;return s.name.toLowerCase().includes(r)||((o=s.description)==null?void 0:o.toLowerCase().includes(r))||((l=s.school)==null?void 0:l.toLowerCase().includes(r))||((c=s.level)==null?void 0:c.toLowerCase().includes(r))||((u=s.tags)==null?void 0:u.some(f=>f.toLowerCase().includes(r)))||((d=s.effects)==null?void 0:d.some(f=>{var m;return f.name.toLowerCase().includes(r)||((m=f.description)==null?void 0:m.toLowerCase().includes(r))}))})},getBySchool:n=>t().data.filter(r=>r.school===n),getByLevel:n=>t().data.filter(r=>r.level===n)})),Vo=vr((e,t)=>({data:[],loading:!1,error:null,load:async()=>{if(!(t().data.length>0)){e({loading:!0,error:null});try{const a=await fetch(ra("data/traits.json"));if(!a.ok)throw new Error(`Failed to fetch traits data: ${a.status}`);const s=(await a.json()).traits.map(o=>{var l;return{...o,id:o.id||o.edid||o.name,tags:[o.category,...o.tags||[],...((l=o.effects)==null?void 0:l.map(c=>c.type))||[]].filter(c=>!!c)}});e({data:s,loading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load traits",loading:!1})}}},getById:n=>t().data.find(r=>r.id===n),search:n=>{const a=t(),r=n.toLowerCase();return a.data.filter(s=>{var o,l;return s.name.toLowerCase().includes(r)||((o=s.description)==null?void 0:o.toLowerCase().includes(r))||((l=s.tags)==null?void 0:l.some(c=>c.toLowerCase().includes(r)))})}})),yO=Object.freeze(Object.defineProperty({__proto__:null,useTraitsStore:Vo},Symbol.toStringTag,{value:"Module"}));function vO(){const{data:e,loading:t,error:n}=si();return{data:e.length>0?e:null,loading:t,error:n}}function bO(){const{data:e,loading:t,error:n}=Vo();return{data:e.length>0?e:null,loading:t,error:n}}function mE(){const{data:e,loading:t,error:n}=Yo();return{data:e.length>0?e:null,loading:t,error:n}}function _O(){const{data:e,loading:t,error:n}=Fo();return{data:e.length>0?e:null,loading:t,error:n}}function kO(){const{data:e,loading:t,error:n}=qo();return{data:e.length>0?e:null,loading:t,error:n}}function rx(){const{data:e,loading:t,error:n}=Uo();return{data:e.length>0?e:null,loading:t,error:n}}function wO(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function SO(e){const t=e.flatMap(n=>[...n.stat_modifications.map(a=>a.stat),...n.skill_bonuses.map(a=>a.stat)]);return[...new Set(t)].sort()}function le({children:e,className:t,expanded:n,onToggle:a,disableHover:r=!1}){let s,o,l,c;z.Children.forEach(e,g=>{z.isValidElement(g)&&(g.type===le.Header&&(s=g),g.type===le.Summary&&(o=g),g.type===le.Footer&&(l=g),g.type===le.Details&&(c=g))});const[u,d]=p.useState(!1),f=n!==void 0?n:u,m=a||(()=>d(g=>!g)),h=r?"":"hover:shadow-md hover:scale-[1.02]";return i.jsxs("div",{className:H("rounded-lg border bg-background shadow-sm transition-all duration-200 flex flex-col",h,t),children:[s&&z.cloneElement(s,{onClick:m,expanded:f}),i.jsxs("div",{className:"flex-1",children:[o,f&&c]}),l]})}le.Header=function({children:t,className:n,onClick:a,expanded:r}){const s=()=>{a==null||a()};return i.jsxs("div",{className:H("flex items-center gap-3 px-4 py-3 bg-muted/30 cursor-pointer select-none hover:bg-muted/50 transition-colors duration-200 rounded-t-lg",r&&"bg-muted/50",n),onClick:s,tabIndex:0,role:"button","aria-expanded":r,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),s())},children:[t,i.jsx("span",{className:H("ml-auto transition-transform duration-200 text-muted-foreground",r?"rotate-180":""),children:i.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:i.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};le.Summary=function({children:t,className:n}){return i.jsx("div",{className:H("px-4 py-2 space-y-3",n),children:t})};le.Footer=function({children:t,className:n}){return i.jsx("div",{className:H("px-4 py-2",n),children:t})};le.Details=function({children:t,className:n}){return i.jsx("div",{className:H("px-4 py-4 space-y-4 bg-background rounded-b-lg",n),children:t})};const EO={race:{Human:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Elf:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Beast:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},religion:{},trait:{},destiny:{}},RO={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},NO="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function jO({category:e,categoryType:t,size:n="md",className:a}){const s=EO[t][e]||NO;return i.jsx(X,{variant:"outline",className:H(s,RO[n],"font-medium transition-colors",a),children:e})}const Kf={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},Wi={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function AO(e){return Kf.traitLimit[e]}function Hv(e){return Kf.summaryCard[e]}function CO(e){return Kf.backgrounds[e]}function hE(e){return Kf.borders[e]}function MO({title:e,description:t,icon:n,variant:a="default",children:r,className:s}){const o=()=>{if(n)return n;switch(a){case"warning":return i.jsx(Vl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return i.jsx(Yl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return i.jsxs(He,{className:H(Wi.card,s),children:[i.jsxs(Ke,{children:[i.jsxs(st,{className:"flex items-center gap-2",children:[o(),e]}),t&&i.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),i.jsx(Fe,{className:H(Wi.section),children:r})]})}function Fv({label:e,value:t,onChange:n,min:a=0,max:r=10,currentCount:s,type:o="regular",className:l}){const c=()=>{switch(o){case"regular":return i.jsx(wf,{className:"h-4 w-4"});case"bonus":return i.jsx(Ft,{className:"h-4 w-4"});default:return null}},u=()=>AO(o);return i.jsxs("div",{className:H(Wi.item,l),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c(),i.jsx(Za,{htmlFor:`${o}-limit`,className:u(),children:e})]}),i.jsx(ka,{id:`${o}-limit`,type:"number",min:a,max:r,value:t,onChange:d=>n(parseInt(d.target.value)||0),className:"mt-1"}),s!==void 0&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",s]})]})}function qv({type:e,title:t,message:n,className:a}){const r=()=>{switch(e){case"warning":return i.jsx(Vl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return i.jsx(Yl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return i.jsx(Vl,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return i.jsx(Yl,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return i.jsxs("div",{className:H("flex items-start gap-2 p-4 rounded-lg border",CO(e),hE(e),a),children:[r(),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:t}),i.jsx("p",{className:"mt-1",children:n})]})]})}function TO({open:e,title:t,message:n,variant:a="warning",confirmText:r="Confirm",cancelText:s="Cancel",onConfirm:o,onCancel:l,className:c}){if(!e)return null;const u=()=>{switch(a){case"warning":return i.jsx(Vl,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return i.jsx(Yl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return i.jsx(wM,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return i.jsx(ap,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return i.jsx(Vl,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},d=()=>{switch(a){case"error":return"destructive";case"success":return"default";default:return"default"}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:i.jsxs("div",{className:H("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",hE(a),c),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[u(),i.jsx("span",{className:"font-semibold",children:t})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:l,children:s}),i.jsx(Z,{variant:d(),size:"sm",onClick:o,children:r})]})]})})}const DO={race:{Altmer:"altmer.svg",Argonian:"argonian.svg",Bosmer:"woodelf.svg",Breton:"breton.svg",Dunmer:"dunmer.svg",Imperial:"imperial.svg",Khajiit:"khajit.svg",Nord:"nord.svg",Orsimer:"orc.svg",Redguard:"redguard.svg"},religion:{},trait:{},destiny:{},birthsign:{Apprentice:"apprentice.svg"}},Uv={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},LO={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};function pE({entityName:e,entityType:t,size:n="md",className:a}){const s=DO[t][e],[o,l]=z.useState(!1);return!s||o?i.jsx("div",{className:H("bg-muted rounded-full flex items-center justify-center font-bold text-muted-foreground",Uv[n],a),children:i.jsx("span",{className:H(LO[n]),children:e.charAt(0)})}):i.jsx("div",{className:H("rounded-full overflow-hidden flex items-center justify-center","bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-800","border border-slate-200 dark:border-slate-600",Uv[n],a),children:i.jsx("img",{src:ra(`assets/${t==="birthsign"?"sign-avatar":`${t}-avatar`}/${s}`),alt:`${e} avatar`,className:"w-full h-full object-contain p-1",onError:()=>l(!0),loading:"lazy"})})}const Gm=new Map;function PO(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(Gm.has(n))return Gm.get(n);let a=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((r,s)=>{const o=[];a.forEach(l=>{if(l.className)o.push(l);else{let c=0,u;const d=new RegExp(r.pattern,r.pattern.flags.includes("g")?r.pattern.flags:r.pattern.flags+"g");d.lastIndex=0;let f=0;for(;(u=d.exec(l.text))!==null;){u.index>c&&o.push({text:l.text.slice(c,u.index),key:`${l.key}-${f++}`});let m=u[0];r.transform&&(m=r.transform(m));const h=typeof r.className=="function"?r.className(m):r.className;o.push({text:m,className:h,key:`${l.key}-${f++}`}),c=d.lastIndex}c<l.text.length&&o.push({text:l.text.slice(c),key:`${l.key}-${f++}`})}}),a=o}),a=a.map((r,s)=>({...r,key:r.key||String(s)})),Gm.set(n,a),a}const zO=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],OO=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function IO(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,a=e.startsWith("-")||t<0;return n?"font-bold text-green-600":a?"font-bold text-red-600":"font-bold text-skyrim-gold"}},{pattern:/\*\*\*(.*?)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const a=parseFloat(n[0]),r=n[0].startsWith("+")||a>0,s=n[0].startsWith("-")||a<0;if(r)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(s)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<\d+>/g,className:"font-bold italic text-skyrim-gold",transform:e=>e.slice(1,-1)},{pattern:new RegExp(`\\b(${zO.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${OO.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function Cs({text:e,options:t,className:n="text-sm text-muted-foreground",as:a="div"}){const r=p.useMemo(()=>IO(),[]),s=p.useMemo(()=>e?PO(e,t||r):[],[e,t,r]);if(!e)return null;if(n.includes("line-clamp")){const l=n.match(/line-clamp-\d+/g)||[],c=n.replace(/line-clamp-\d+/g,"").trim();return i.jsx(a,{className:c,children:i.jsx("div",{className:`${l.join(" ")} overflow-hidden`,children:s.map(u=>i.jsx("span",{className:u.className,children:u.text},u.key))})})}return i.jsx(a,{className:n,children:s.map(l=>i.jsx("span",{className:l.className,children:l.text},l.key))})}function gE({isExpanded:e,onToggle:t,className:n,leftControls:a,header:r,collapsedContent:s,expandedContent:o,actionArea:l,children:c}){return c?i.jsx("div",{className:H("rounded-lg border bg-background shadow-sm transition-all",n),children:c}):i.jsxs("div",{className:H("rounded-lg border bg-background shadow-sm transition-all group",e?"ring-2 ring-skyrim-gold/60":"",n),children:[i.jsxs("div",{className:"flex items-start",children:[a&&i.jsx("div",{className:"mr-2 flex-shrink-0",children:a}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r&&i.jsx("div",{className:"flex-1 min-w-0",children:r}),i.jsxs("button",{type:"button",onClick:t,"aria-expanded":e,className:"ml-2 p-1 rounded hover:bg-muted/50 focus:outline-none focus:ring-2 focus:ring-skyrim-gold",tabIndex:0,children:[i.jsx("span",{className:"sr-only",children:e?"Collapse":"Expand"}),i.jsx("svg",{className:H("h-4 w-4 transition-transform",e?"rotate-90":""),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:i.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})}),l&&i.jsx("div",{className:"ml-2 flex-shrink-0",children:l})]}),s&&i.jsx("div",{className:"mt-2",children:s}),e&&o&&i.jsx("div",{className:"mt-4",children:o})]})}function Oc({options:e,onSelect:t,placeholder:n="Search...",className:a="",disabled:r=!1,searchQuery:s,onSearchQueryChange:o,renderOption:l,emptyMessage:c="No options found",maxHeight:u="max-h-96",showClearButton:d=!0,showToggleButton:f=!0}){const[m,h]=p.useState(!1),[g,y]=p.useState(""),[b,x]=p.useState(-1),v=p.useRef(null),_=p.useRef(null),k=s??g,w=o??y;p.useEffect(()=>{const D=A=>{v.current&&!v.current.contains(A.target)&&(h(!1),x(-1))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const S=D=>{w(D),h(!0),x(-1)},E=D=>{t(D),w(""),h(!1),x(-1)},R=D=>{D.key==="ArrowDown"?(D.preventDefault(),x(A=>Math.min(A+1,e.length-1))):D.key==="ArrowUp"?(D.preventDefault(),x(A=>Math.max(A-1,-1))):D.key==="Enter"?(D.preventDefault(),b>=0&&e[b]&&E(e[b])):D.key==="Escape"&&(h(!1),x(-1))},N=()=>{h(!0)},j=()=>{var D;w(""),(D=_.current)==null||D.focus()},O=()=>{var D;h(!m),m||(D=_.current)==null||D.focus()},I=(D,A)=>i.jsxs("div",{className:"flex items-center gap-3",children:[D.icon&&i.jsx("div",{className:"flex-shrink-0",children:D.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium truncate",children:D.label}),D.badge&&i.jsx("div",{className:"flex-shrink-0",children:D.badge})]}),D.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:D.description})]})]});return i.jsxs("div",{ref:v,className:H("relative",a),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ka,{ref:_,type:"text",placeholder:n,value:k,onChange:D=>S(D.target.value),onFocus:N,onKeyDown:R,className:"pl-10 pr-20",disabled:r}),d&&k&&i.jsx(Z,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:j,disabled:r,children:i.jsx(Yt,{className:"h-4 w-4"})}),f&&i.jsx(Z,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:O,disabled:r,children:i.jsx(In,{className:H("h-4 w-4 transition-transform",m&&"rotate-180")})})]}),m&&i.jsx("div",{className:H("absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",u),style:{zIndex:_t.AUTOCOMPLETE+10},children:i.jsx("div",{className:"p-2",children:e.length===0?i.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:c}):e.map((D,A)=>i.jsx("button",{onClick:()=>E(D),className:H("w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer",A===b?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"),disabled:r,children:l?l(D,A===b):I(D)},D.id))})})]})}function QO({title:e,items:t,layout:n="grid",className:a}){const r=o=>{switch(o){case"race":return i.jsx(jl,{className:"h-4 w-4"});case"birthsign":return i.jsx(Ft,{className:"h-4 w-4"});case"religion":return i.jsx(Sf,{className:"h-4 w-4"});case"traits":return i.jsx(bT,{className:"h-4 w-4"});default:return null}},s=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return i.jsxs(He,{className:H(Wi.card,a),children:[i.jsx(Ke,{children:i.jsx(st,{children:e})}),i.jsx(Fe,{className:H(Wi.section),children:i.jsx("div",{className:s(),children:t.map((o,l)=>i.jsxs("div",{className:H(Wi.item,o.className),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.icon||r(o.type),i.jsxs("span",{className:H("font-medium text-sm",Hv("primary")),children:[o.label,":"]})]}),i.jsx("div",{className:H("text-sm",Hv("secondary")),children:o.value||"Not selected"})]},l))})})]})}function BO(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function xE({birthsignName:e,size:t="md",className:n}){return i.jsx(pE,{entityName:e,entityType:"birthsign",size:t,className:n})}const Yv={Warrior:{background:"bg-red-100",text:"text-red-800",border:"border-red-200",hover:"hover:bg-red-200"},Mage:{background:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",hover:"hover:bg-blue-200"},Thief:{background:"bg-green-100",text:"text-green-800",border:"border-green-200",hover:"hover:bg-red-200"},Serpent:{background:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",hover:"hover:bg-purple-200"},Other:{background:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",hover:"hover:bg-yellow-200"}};function $O(e){return Yv[e]||Yv.Other}function bp({item:e,className:t,showAddToBuild:n=!0,isExpanded:a=!1,onToggle:r,disableHover:s=!1}){var l,c,u,d;const o=e.originalBirthsign;return o?i.jsxs(le,{className:t,expanded:a,onToggle:r,disableHover:s,children:[i.jsxs(le.Header,{children:[n&&i.jsx(Tc,{itemId:e.id,itemType:"stone",itemName:e.name}),i.jsx(xE,{birthsignName:o.name,size:"md"}),i.jsx($t,{className:"text-primary font-semibold",children:o.name}),i.jsx("div",{className:"flex items-center gap-3 ml-auto",children:o.group&&i.jsx(X,{variant:"outline",className:H($O(o.group)||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200","text-xs font-medium transition-colors"),children:o.group})})]}),i.jsx(le.Summary,{children:i.jsx(Cs,{text:o.description,className:"text-base text-muted-foreground"})}),i.jsxs(le.Details,{children:[o.stat_modifications.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Stat Modifications"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.stat_modifications.map((f,m)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[i.jsx("span",{className:"font-medium capitalize",children:f.stat}),i.jsxs("span",{className:H("font-bold",f.type==="bonus"?"text-green-600":"text-red-600"),children:[f.type==="bonus"?"+":"-",f.value,f.value_type==="percentage"?"%":""]})]},m))})]}),o.powers.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Powers"}),i.jsx("div",{className:"space-y-2",children:o.powers.map((f,m)=>i.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ft,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{className:"font-medium text-sm",children:f.name})]}),i.jsx("div",{className:"border-t border-border my-2"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},m))})]}),o.skill_bonuses.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Skill Bonuses"}),i.jsx("div",{className:"space-y-2",children:o.skill_bonuses.map((f,m)=>i.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[i.jsxs("span",{className:"font-medium",children:[f.stat," +",f.value]}),i.jsx(X,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},m))})]}),(((l=o.conditional_effects)==null?void 0:l.length)>0||((c=o.mastery_effects)==null?void 0:c.length)>0)&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Special Effects"}),i.jsxs("div",{className:"space-y-3",children:[(u=o.conditional_effects)==null?void 0:u.map((f,m)=>i.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx("span",{className:"font-medium text-sm",children:"Conditional Effect"})}),i.jsx("div",{className:"border-t border-border my-2"}),i.jsx("div",{className:"text-sm font-medium",children:f.stat}),i.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},`conditional-${m}`)),(d=o.mastery_effects)==null?void 0:d.map((f,m)=>i.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ft,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),i.jsx("div",{className:"border-t border-border my-2"}),i.jsx("div",{className:"text-sm font-medium",children:f.stat}),i.jsx("div",{className:"text-sm text-muted-foreground",children:f.description})]},`mastery-${m}`))]})]})]})]}):null}function dr(e){return Array.isArray?Array.isArray(e):bE(e)==="[object Array]"}function HO(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function FO(e){return e==null?"":HO(e)}function ba(e){return typeof e=="string"}function yE(e){return typeof e=="number"}function qO(e){return e===!0||e===!1||UO(e)&&bE(e)=="[object Boolean]"}function vE(e){return typeof e=="object"}function UO(e){return vE(e)&&e!==null}function hn(e){return e!=null}function Wm(e){return!e.trim().length}function bE(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const YO="Incorrect 'index' type",VO=e=>`Invalid value for key ${e}`,GO=e=>`Pattern length exceeds max of ${e}.`,WO=e=>`Missing ${e} property in key`,ZO=e=>`Property 'weight' in key '${e}' must be a positive integer`,Vv=Object.prototype.hasOwnProperty;class XO{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(a=>{let r=_E(a);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(a=>{a.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function _E(e){let t=null,n=null,a=null,r=1,s=null;if(ba(e)||dr(e))a=e,t=Gv(e),n=_p(e);else{if(!Vv.call(e,"name"))throw new Error(WO("name"));const o=e.name;if(a=o,Vv.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(ZO(o));t=Gv(o),n=_p(o),s=e.getFn}return{path:t,id:n,weight:r,src:a,getFn:s}}function Gv(e){return dr(e)?e:e.split(".")}function _p(e){return dr(e)?e.join("."):e}function KO(e,t){let n=[],a=!1;const r=(s,o,l)=>{if(hn(s))if(!o[l])n.push(s);else{let c=o[l];const u=s[c];if(!hn(u))return;if(l===o.length-1&&(ba(u)||yE(u)||qO(u)))n.push(FO(u));else if(dr(u)){a=!0;for(let d=0,f=u.length;d<f;d+=1)r(u[d],o,l+1)}else o.length&&r(u,o,l+1)}};return r(e,ba(t)?t.split("."):t,0),a?n:n[0]}const JO={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},e8={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},t8={location:0,threshold:.6,distance:100},n8={useExtendedSearch:!1,getFn:KO,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var he={...e8,...JO,...t8,...n8};const a8=/[^ ]+/g;function r8(e=1,t=3){const n=new Map,a=Math.pow(10,t);return{get(r){const s=r.match(a8).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*e),l=parseFloat(Math.round(o*a)/a);return n.set(s,l),l},clear(){n.clear()}}}class sx{constructor({getFn:t=he.getFn,fieldNormWeight:n=he.fieldNormWeight}={}){this.norm=r8(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,a)=>{this._keysMap[n.id]=a})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ba(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();ba(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,a=this.size();n<a;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!hn(t)||Wm(t))return;let a={v:t,i:n,n:this.norm.get(t)};this.records.push(a)}_addObject(t,n){let a={i:n,$:{}};this.keys.forEach((r,s)=>{let o=r.getFn?r.getFn(t):this.getFn(t,r.path);if(hn(o)){if(dr(o)){let l=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(hn(d))if(ba(d)&&!Wm(d)){let f={v:d,i:u,n:this.norm.get(d)};l.push(f)}else dr(d)&&d.forEach((f,m)=>{c.push({nestedArrIndex:m,value:f})})}a.$[s]=l}else if(ba(o)&&!Wm(o)){let l={v:o,n:this.norm.get(o)};a.$[s]=l}}}),this.records.push(a)}toJSON(){return{keys:this.keys,records:this.records}}}function kE(e,t,{getFn:n=he.getFn,fieldNormWeight:a=he.fieldNormWeight}={}){const r=new sx({getFn:n,fieldNormWeight:a});return r.setKeys(e.map(_E)),r.setSources(t),r.create(),r}function s8(e,{getFn:t=he.getFn,fieldNormWeight:n=he.fieldNormWeight}={}){const{keys:a,records:r}=e,s=new sx({getFn:t,fieldNormWeight:n});return s.setKeys(a),s.setIndexRecords(r),s}function yu(e,{errors:t=0,currentLocation:n=0,expectedLocation:a=0,distance:r=he.distance,ignoreLocation:s=he.ignoreLocation}={}){const o=t/e.length;if(s)return o;const l=Math.abs(a-n);return r?o+l/r:l?1:o}function i8(e=[],t=he.minMatchCharLength){let n=[],a=-1,r=-1,s=0;for(let o=e.length;s<o;s+=1){let l=e[s];l&&a===-1?a=s:!l&&a!==-1&&(r=s-1,r-a+1>=t&&n.push([a,r]),a=-1)}return e[s-1]&&s-a>=t&&n.push([a,s-1]),n}const Ss=32;function o8(e,t,n,{location:a=he.location,distance:r=he.distance,threshold:s=he.threshold,findAllMatches:o=he.findAllMatches,minMatchCharLength:l=he.minMatchCharLength,includeMatches:c=he.includeMatches,ignoreLocation:u=he.ignoreLocation}={}){if(t.length>Ss)throw new Error(GO(Ss));const d=t.length,f=e.length,m=Math.max(0,Math.min(a,f));let h=s,g=m;const y=l>1||c,b=y?Array(f):[];let x;for(;(x=e.indexOf(t,g))>-1;){let E=yu(t,{currentLocation:x,expectedLocation:m,distance:r,ignoreLocation:u});if(h=Math.min(E,h),g=x+d,y){let R=0;for(;R<d;)b[x+R]=1,R+=1}}g=-1;let v=[],_=1,k=d+f;const w=1<<d-1;for(let E=0;E<d;E+=1){let R=0,N=k;for(;R<N;)yu(t,{errors:E,currentLocation:m+N,expectedLocation:m,distance:r,ignoreLocation:u})<=h?R=N:k=N,N=Math.floor((k-R)/2+R);k=N;let j=Math.max(1,m-N+1),O=o?f:Math.min(m+N,f)+d,I=Array(O+2);I[O+1]=(1<<E)-1;for(let A=O;A>=j;A-=1){let T=A-1,C=n[e.charAt(T)];if(y&&(b[T]=+!!C),I[A]=(I[A+1]<<1|1)&C,E&&(I[A]|=(v[A+1]|v[A])<<1|1|v[A+1]),I[A]&w&&(_=yu(t,{errors:E,currentLocation:T,expectedLocation:m,distance:r,ignoreLocation:u}),_<=h)){if(h=_,g=T,g<=m)break;j=Math.max(1,2*m-g)}}if(yu(t,{errors:E+1,currentLocation:m,expectedLocation:m,distance:r,ignoreLocation:u})>h)break;v=I}const S={isMatch:g>=0,score:Math.max(.001,_)};if(y){const E=i8(b,l);E.length?c&&(S.indices=E):S.isMatch=!1}return S}function l8(e){let t={};for(let n=0,a=e.length;n<a;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<a-n-1}return t}const Ad=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class wE{constructor(t,{location:n=he.location,threshold:a=he.threshold,distance:r=he.distance,includeMatches:s=he.includeMatches,findAllMatches:o=he.findAllMatches,minMatchCharLength:l=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreDiacritics:u=he.ignoreDiacritics,ignoreLocation:d=he.ignoreLocation}={}){if(this.options={location:n,threshold:a,distance:r,includeMatches:s,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?Ad(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(h,g)=>{this.chunks.push({pattern:h,alphabet:l8(h),startIndex:g})},m=this.pattern.length;if(m>Ss){let h=0;const g=m%Ss,y=m-g;for(;h<y;)f(this.pattern.substr(h,Ss),h),h+=Ss;if(g){const b=m-Ss;f(this.pattern.substr(b),b)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:a,includeMatches:r}=this.options;if(t=n?t:t.toLowerCase(),t=a?Ad(t):t,this.pattern===t){let y={isMatch:!0,score:0};return r&&(y.indices=[[0,t.length-1]]),y}const{location:s,distance:o,threshold:l,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],m=0,h=!1;this.chunks.forEach(({pattern:y,alphabet:b,startIndex:x})=>{const{isMatch:v,score:_,indices:k}=o8(t,y,b,{location:s+x,distance:o,threshold:l,findAllMatches:c,minMatchCharLength:u,includeMatches:r,ignoreLocation:d});v&&(h=!0),m+=_,v&&k&&(f=[...f,...k])});let g={isMatch:h,score:h?m/this.chunks.length:1};return h&&r&&(g.indices=f),g}}class ds{constructor(t){this.pattern=t}static isMultiMatch(t){return Wv(t,this.multiRegex)}static isSingleMatch(t){return Wv(t,this.singleRegex)}search(){}}function Wv(e,t){const n=e.match(t);return n?n[1]:null}class c8 extends ds{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class u8 extends ds{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const a=t.indexOf(this.pattern)===-1;return{isMatch:a,score:a?0:1,indices:[0,t.length-1]}}}class d8 extends ds{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class f8 extends ds{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class m8 extends ds{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class h8 extends ds{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class SE extends ds{constructor(t,{location:n=he.location,threshold:a=he.threshold,distance:r=he.distance,includeMatches:s=he.includeMatches,findAllMatches:o=he.findAllMatches,minMatchCharLength:l=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreDiacritics:u=he.ignoreDiacritics,ignoreLocation:d=he.ignoreLocation}={}){super(t),this._bitapSearch=new wE(t,{location:n,threshold:a,distance:r,includeMatches:s,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class EE extends ds{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,a;const r=[],s=this.pattern.length;for(;(a=t.indexOf(this.pattern,n))>-1;)n=a+s,r.push([a,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const kp=[c8,EE,d8,f8,h8,m8,u8,SE],Zv=kp.length,p8=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,g8="|";function x8(e,t={}){return e.split(g8).map(n=>{let a=n.trim().split(p8).filter(s=>s&&!!s.trim()),r=[];for(let s=0,o=a.length;s<o;s+=1){const l=a[s];let c=!1,u=-1;for(;!c&&++u<Zv;){const d=kp[u];let f=d.isMultiMatch(l);f&&(r.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<Zv;){const d=kp[u];let f=d.isSingleMatch(l);if(f){r.push(new d(f,t));break}}}return r})}const y8=new Set([SE.type,EE.type]);class v8{constructor(t,{isCaseSensitive:n=he.isCaseSensitive,ignoreDiacritics:a=he.ignoreDiacritics,includeMatches:r=he.includeMatches,minMatchCharLength:s=he.minMatchCharLength,ignoreLocation:o=he.ignoreLocation,findAllMatches:l=he.findAllMatches,location:c=he.location,threshold:u=he.threshold,distance:d=he.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:a,includeMatches:r,minMatchCharLength:s,findAllMatches:l,ignoreLocation:o,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=a?Ad(t):t,this.pattern=t,this.query=x8(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:a,isCaseSensitive:r,ignoreDiacritics:s}=this.options;t=r?t:t.toLowerCase(),t=s?Ad(t):t;let o=0,l=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];l.length=0,o=0;for(let m=0,h=f.length;m<h;m+=1){const g=f[m],{isMatch:y,indices:b,score:x}=g.search(t);if(y){if(o+=1,c+=x,a){const v=g.constructor.type;y8.has(v)?l=[...l,...b]:l.push(b)}}else{c=0,o=0,l.length=0;break}}if(o){let m={isMatch:!0,score:c/o};return a&&(m.indices=l),m}}return{isMatch:!1,score:1}}}const wp=[];function b8(...e){wp.push(...e)}function Sp(e,t){for(let n=0,a=wp.length;n<a;n+=1){let r=wp[n];if(r.condition(e,t))return new r(e,t)}return new wE(e,t)}const Cd={AND:"$and",OR:"$or"},Ep={PATH:"$path",PATTERN:"$val"},Rp=e=>!!(e[Cd.AND]||e[Cd.OR]),_8=e=>!!e[Ep.PATH],k8=e=>!dr(e)&&vE(e)&&!Rp(e),Xv=e=>({[Cd.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function RE(e,t,{auto:n=!0}={}){const a=r=>{let s=Object.keys(r);const o=_8(r);if(!o&&s.length>1&&!Rp(r))return a(Xv(r));if(k8(r)){const c=o?r[Ep.PATH]:s[0],u=o?r[Ep.PATTERN]:r[c];if(!ba(u))throw new Error(VO(c));const d={keyId:_p(c),pattern:u};return n&&(d.searcher=Sp(u,t)),d}let l={children:[],operator:s[0]};return s.forEach(c=>{const u=r[c];dr(u)&&u.forEach(d=>{l.children.push(a(d))})}),l};return Rp(e)||(e=Xv(e)),a(e)}function w8(e,{ignoreFieldNorm:t=he.ignoreFieldNorm}){e.forEach(n=>{let a=1;n.matches.forEach(({key:r,norm:s,score:o})=>{const l=r?r.weight:null;a*=Math.pow(o===0&&l?Number.EPSILON:o,(l||1)*(t?1:s))}),n.score=a})}function S8(e,t){const n=e.matches;t.matches=[],hn(n)&&n.forEach(a=>{if(!hn(a.indices)||!a.indices.length)return;const{indices:r,value:s}=a;let o={indices:r,value:s};a.key&&(o.key=a.key.src),a.idx>-1&&(o.refIndex=a.idx),t.matches.push(o)})}function E8(e,t){t.score=e.score}function R8(e,t,{includeMatches:n=he.includeMatches,includeScore:a=he.includeScore}={}){const r=[];return n&&r.push(S8),a&&r.push(E8),e.map(s=>{const{idx:o}=s,l={item:t[o],refIndex:o};return r.length&&r.forEach(c=>{c(s,l)}),l})}class tn{constructor(t,n={},a){this.options={...he,...n},this.options.useExtendedSearch,this._keyStore=new XO(this.options.keys),this.setCollection(t,a)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof sx))throw new Error(YO);this._myIndex=n||kE(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){hn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let a=0,r=this._docs.length;a<r;a+=1){const s=this._docs[a];t(s,a)&&(this.removeAt(a),a-=1,r-=1,n.push(s))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:a,includeScore:r,shouldSort:s,sortFn:o,ignoreFieldNorm:l}=this.options;let c=ba(t)?ba(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return w8(c,{ignoreFieldNorm:l}),s&&c.sort(o),yE(n)&&n>-1&&(c=c.slice(0,n)),R8(c,this._docs,{includeMatches:a,includeScore:r})}_searchStringList(t){const n=Sp(t,this.options),{records:a}=this._myIndex,r=[];return a.forEach(({v:s,i:o,n:l})=>{if(!hn(s))return;const{isMatch:c,score:u,indices:d}=n.searchIn(s);c&&r.push({item:s,idx:o,matches:[{score:u,value:s,norm:l,indices:d}]})}),r}_searchLogical(t){const n=RE(t,this.options),a=(l,c,u)=>{if(!l.children){const{keyId:f,searcher:m}=l,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:m});return h&&h.length?[{idx:u,item:c,matches:h}]:[]}const d=[];for(let f=0,m=l.children.length;f<m;f+=1){const h=l.children[f],g=a(h,c,u);if(g.length)d.push(...g);else if(l.operator===Cd.AND)return[]}return d},r=this._myIndex.records,s={},o=[];return r.forEach(({$:l,i:c})=>{if(hn(l)){let u=a(n,l,c);u.length&&(s[c]||(s[c]={idx:c,item:l,matches:[]},o.push(s[c])),u.forEach(({matches:d})=>{s[c].matches.push(...d)}))}}),o}_searchObjectList(t){const n=Sp(t,this.options),{keys:a,records:r}=this._myIndex,s=[];return r.forEach(({$:o,i:l})=>{if(!hn(o))return;let c=[];a.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:o[d],searcher:n}))}),c.length&&s.push({idx:l,item:o,matches:c})}),s}_findMatches({key:t,value:n,searcher:a}){if(!hn(n))return[];let r=[];if(dr(n))n.forEach(({v:s,i:o,n:l})=>{if(!hn(s))return;const{isMatch:c,score:u,indices:d}=a.searchIn(s);c&&r.push({score:u,key:t,value:s,idx:o,norm:l,indices:d})});else{const{v:s,n:o}=n,{isMatch:l,score:c,indices:u}=a.searchIn(s);l&&r.push({score:c,key:t,value:s,norm:o,indices:u})}return r}}tn.version="7.1.0";tn.createIndex=kE;tn.parseIndex=s8;tn.config=he;tn.parseQuery=RE;b8(v8);function NE(e,t){const n=p.useMemo(()=>e.map(l=>{var c,u;return{id:l.name.toLowerCase().replace(/\s+/g,"-"),name:l.name,description:l.description,group:l.group,statModifications:l.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:l.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:l.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=l.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=l.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:l}}),[e]),a=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=p.useMemo(()=>new tn(n,a),[n,a]),s=p.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredBirthsigns:p.useMemo(()=>s.map(l=>l.item.originalBirthsign),[s]),searchResults:s,searchableBirthsigns:n}}function Kv({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:a=""}){const[r,s]=p.useState(""),{filteredBirthsigns:o}=NE(e,r),l=p.useMemo(()=>o.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.group,icon:i.jsx(xE,{birthsignName:d.name,size:"sm"}),badge:d.group&&i.jsx(X,{variant:"outline",className:H("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.group}),metadata:{originalBirthsign:d}})),[o]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>i.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&i.jsx("div",{className:"flex-shrink-0",children:d.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:d.label}),d.badge&&i.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:d.description})]})]});return i.jsx(Oc,{options:l,onSelect:c,placeholder:n,className:a,renderOption:u,emptyMessage:"No birthsigns found",searchQuery:r,onSearchQueryChange:s})}const N8={birthsigns:[],loading:!0,error:null};function j8(e,t){switch(t.type){case"FETCH_START":return{...e,loading:!0,error:null};case"FETCH_SUCCESS":return{...e,loading:!1,birthsigns:t.payload,error:null};case"FETCH_ERROR":return{...e,loading:!1,error:t.payload};default:return e}}function A8(){const[e,t]=p.useReducer(j8,N8),n=p.useCallback(async()=>{t({type:"FETCH_START"});try{const a=await fetch(ra("data/birthsigns.json"));if(!a.ok)throw new Error("Failed to fetch birthsign data");const r=await a.json();t({type:"FETCH_SUCCESS",payload:r})}catch{t({type:"FETCH_ERROR",payload:"Failed to load birthsign data"})}},[]);return p.useEffect(()=>{n()},[n]),{...e,refetch:n}}function Np(e){var t,n,a,r,s,o;return{id:`religion-${e.name.toLowerCase().replace(/\s+/g,"-")}`,name:e.name,description:((t=e.tenet)==null?void 0:t.description)||"",tags:e.favoredRaces||[],summary:((n=e.tenet)==null?void 0:n.description)||"",effects:[...((r=(a=e.tenet)==null?void 0:a.effects)==null?void 0:r.map(l=>({type:"positive",name:l.effectName,description:l.effectDescription,value:l.magnitude,target:l.targetAttribute||""})))||[],...((o=(s=e.blessing)==null?void 0:s.effects)==null?void 0:o.map(l=>({type:"positive",name:l.effectName,description:l.effectDescription,value:l.magnitude,target:l.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:e.type}}function Jv(e){var t;return{...e,id:e.edid||e.name,name:e.name,description:e.description,tags:e.tags||[],summary:e.description,effects:[...((t=e.effects)==null?void 0:t.map(n=>({type:"positive",name:n.type,description:n.condition||n.type,value:n.value})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalTrait:e}}function jE(e){var a,r,s,o,l,c,u,d;const t=[...((a=e.stat_modifications)==null?void 0:a.map(f=>({type:f.type==="bonus"?"positive":"negative",name:`${f.stat} ${f.type==="bonus"?"+":"-"}${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} ${f.type==="bonus"?"increased":"decreased"} by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((r=e.skill_bonuses)==null?void 0:r.map(f=>({type:"positive",name:`${f.stat} +${f.value}${f.value_type==="percentage"?"%":""}`,description:`${f.stat} skill increased by ${f.value}${f.value_type==="percentage"?"%":""}`,value:f.value,target:f.stat})))||[],...((s=e.powers)==null?void 0:s.map(f=>({type:"positive",name:f.name,description:f.description,value:f.magnitude||0,target:"power"})))||[],...((o=e.conditional_effects)==null?void 0:o.map(f=>({type:"neutral",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[],...((l=e.mastery_effects)==null?void 0:l.map(f=>({type:"positive",name:f.stat,description:f.description,value:f.value,target:f.stat})))||[]],n=[e.group,...((c=e.stat_modifications)==null?void 0:c.map(f=>f.stat))||[],...((u=e.skill_bonuses)==null?void 0:u.map(f=>f.stat))||[],...((d=e.powers)==null?void 0:d.map(f=>f.name))||[]].filter((f,m,h)=>h.indexOf(f)===m);return{...e,id:e.id||e.edid,name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.group,originalBirthsign:e}}function C8(e){var a;const t=[{type:"positive",name:e.name,description:e.description||"",value:0,target:"destiny"}],n=[...e.tags||[],...((a=e.prerequisites)==null?void 0:a.map(r=>`Requires: ${r}`))||[]].filter((r,s,o)=>o.indexOf(r)===s);return{...e,id:e.id||e.edid,name:e.name,description:e.description||"",tags:n,summary:e.description||"",effects:t,associatedItems:[],imageUrl:e.icon,category:"Destiny",originalDestinyNode:e}}function M8({className:e}){const{birthsigns:t}=A8(),{build:n,setStone:a}=pt(),r=wt(),[s,o]=p.useState(!0),l=n.stone?t.find(m=>m.edid===n.stone):null,c=m=>{a(m.edid)},u=()=>{r("/birth-signs")},d=()=>{o(!s)};if(!l)return i.jsxs(Ln,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),i.jsx(Kv,{birthsigns:t,onSelect:c,placeholder:"Search for a birthsign...",className:"w-full"})]});const f=jE(l);return i.jsxs(Ln,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[i.jsx(Kv,{birthsigns:t,onSelect:c,placeholder:`Birth Sign: Select a birthsign (${l.name})`,className:"w-full"}),i.jsx(bp,{item:f,isExpanded:s,onToggle:d,className:"border-0 shadow-none",showAddToBuild:!1,disableHover:!0})]})}const T8={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function D8(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function L8(e){const[t,n]=p.useReducer(D8,T8),a=p.useMemo(()=>{const b=wO(e),x=SO(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:b.map(v=>({id:`group-${v}`,label:v,value:v,category:"Birthsign Groups",description:`Birthsigns from ${v} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:x.map(v=>({id:`stat-${v}`,label:v.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase()),value:v,category:"Stats & Skills",description:`Birthsigns that affect ${v}`}))}]},[e]),r=p.useMemo(()=>t.selectedTags.length===0?e:e.filter(b=>t.selectedTags.every(x=>{switch(x.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return b.group===x.value;case"Stats & Skills":return[...b.stat_modifications.map(_=>_.stat),...b.skill_bonuses.map(_=>_.stat)].some(_=>_===x.value);default:return!0}})),[e,t.selectedTags]),s=p.useMemo(()=>t.selectedTags.filter(b=>b.category==="Fuzzy Search").map(b=>b.value).join(" "),[t.selectedTags]),{filteredBirthsigns:o}=NE(r,s),l=p.useMemo(()=>o.map(jE),[o]),c=p.useMemo(()=>[...l].sort((b,x)=>{var v,_;switch(t.sortBy){case"alphabetical":return b.name.localeCompare(x.name);case"group":{const k=E=>{switch(E){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},w=k(b.category),S=k(x.category);return w!==S?w-S:b.name.localeCompare(x.name)}case"power-count":{const k=((v=b.effects)==null?void 0:v.filter(S=>S.target==="power").length)||0,w=((_=x.effects)==null?void 0:_.filter(S=>S.target==="power").length)||0;return k!==w?w-k:b.name.localeCompare(x.name)}default:return 0}}),[l,t.sortBy]),u=p.useCallback(b=>{n({type:"ADD_TAG",payload:b})},[]),d=p.useCallback(b=>{n({type:"REMOVE_TAG",payload:b})},[]),f=p.useCallback(b=>{n({type:"SET_SORT",payload:b})},[]),m=p.useCallback(b=>{n({type:"SET_VIEW_MODE",payload:b})},[]),h=p.useCallback(b=>{n({type:"TOGGLE_EXPANDED",payload:b})},[]),g=p.useCallback(b=>{n({type:"EXPAND_ALL",payload:b})},[]),y=p.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:d,setSort:f,setViewMode:m,toggleExpanded:h,expandAll:g,collapseAll:y,searchCategories:a,fuzzySearchQuery:s,filteredBirthsigns:r,displayItems:l,sortedDisplayItems:c}}const P8={showStats:!0,showPowers:!0,showSkills:!0,showEffects:!0};function z8(e,t){switch(t.type){case"TOGGLE_STATS":return{...e,showStats:!e.showStats};case"TOGGLE_POWERS":return{...e,showPowers:!e.showPowers};case"TOGGLE_SKILLS":return{...e,showSkills:!e.showSkills};case"TOGGLE_EFFECTS":return{...e,showEffects:!e.showEffects};case"TOGGLE_ALL":return{showStats:t.payload,showPowers:t.payload,showSkills:t.payload,showEffects:t.payload};case"SET_STATS":return{...e,showStats:t.payload};case"SET_POWERS":return{...e,showPowers:t.payload};case"SET_SKILLS":return{...e,showSkills:t.payload};case"SET_EFFECTS":return{...e,showEffects:t.payload};default:return e}}function O8(){const[e,t]=p.useReducer(z8,P8),n=p.useCallback(()=>{t({type:"TOGGLE_STATS"})},[]),a=p.useCallback(()=>{t({type:"TOGGLE_POWERS"})},[]),r=p.useCallback(()=>{t({type:"TOGGLE_SKILLS"})},[]),s=p.useCallback(()=>{t({type:"TOGGLE_EFFECTS"})},[]),o=p.useCallback(f=>{t({type:"TOGGLE_ALL",payload:f})},[]),l=p.useCallback(f=>{t({type:"SET_STATS",payload:f})},[]),c=p.useCallback(f=>{t({type:"SET_POWERS",payload:f})},[]),u=p.useCallback(f=>{t({type:"SET_SKILLS",payload:f})},[]),d=p.useCallback(f=>{t({type:"SET_EFFECTS",payload:f})},[]);return{...e,toggleStats:n,togglePowers:a,toggleSkills:r,toggleEffects:s,toggleAll:o,setStats:l,setPowers:c,setSkills:u,setEffects:d}}function I8(){const{data:e,loading:t,error:n,reload:a}=_O(),r=e||[],{selectedTags:s,sortBy:o,viewMode:l,addTag:c,removeTag:u,setSort:d,setViewMode:f,searchCategories:m,filteredBirthsigns:h,displayItems:g,sortedDisplayItems:y}=L8(r);p.useEffect(()=>{console.log("birthsigns",r),console.log("sortedDisplayItems",y),console.log("displayItems",g),console.log("filteredBirthsigns",h)},[r,y,g,h]);const[b,x]=p.useState(new Set),{showStats:v,showPowers:_,showSkills:k,showEffects:w,toggleStats:S,togglePowers:E,toggleSkills:R,toggleEffects:N,toggleAll:j,setStats:O,setPowers:I,setSkills:D,setEffects:A}=O8(),T=y.length>0&&y.every(M=>b.has(M.id));y.some(M=>b.has(M.id));const C=M=>{const L=new Set(b),P=3,Q=y.findIndex(J=>J.id===M),B=Math.floor(Q/P)*P,U=Math.min(B+P,y.length);y.slice(B,U).some(J=>L.has(J.id))?y.slice(B,U).forEach(J=>{L.delete(J.id)}):y.slice(B,U).forEach(J=>{L.add(J.id)}),x(L)};return t?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading birthsigns..."})]})}):n?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-4",children:n}),i.jsx("button",{onClick:()=>a(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):i.jsxs(br,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx(ri,{categories:m,onSelect:M=>{let L;typeof M=="string"?L={id:`custom-${M}`,label:M,value:M,category:"Fuzzy Search"}:L={id:`${M.category}-${M.id}`,label:M.label,value:M.value,category:M.category},s.some(P=>P.value===L.value&&P.category===L.category)||c(L)},onCustomSearch:M=>{let L;typeof M=="string"?L={id:`custom-${M}`,label:M,value:M,category:"Fuzzy Search"}:L={id:`${M.category}-${M.id}`,label:M.label,value:M.value,category:M.category},s.some(P=>P.value===L.value&&P.category===L.category)||c(L)}})}),i.jsxs(q0,{children:[i.jsx(U0,{asChild:!0,children:i.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(In,{className:"h-4 w-4"}),o==="alphabetical"?"A-Z":o==="group"?"Type":"Count"]})}),i.jsxs($f,{align:"end",children:[i.jsx(sr,{onClick:()=>d("alphabetical"),children:"Alphabetical"}),i.jsx(sr,{onClick:()=>d("group"),children:"Birthsign Group"}),i.jsx(sr,{onClick:()=>d("power-count"),children:"Power Count"})]})]}),i.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[i.jsx(Z,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:i.jsx(Js,{className:"h-4 w-4"})}),i.jsx(Z,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:i.jsx(Ks,{className:"h-4 w-4"})})]}),i.jsx(Z,{variant:"outline",size:"sm",onClick:T?()=>{x(new Set)}:()=>{x(new Set(y.map(M=>M.id)))},className:"flex items-center justify-center",title:T?"Collapse all accordions":"Expand all accordions",children:T?i.jsx(h1,{className:"h-4 w-4"}):i.jsx(m1,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"my-4",children:s.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("button",{onClick:()=>s.forEach(M=>u(M.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[i.jsx(Yt,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(M=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>u(M.id),title:"Click to remove",children:[M.label,i.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"Ã—"})]},M.id))]})}),y.length>0&&i.jsx(nx,{type:"single",collapsible:!0,className:"w-full",children:i.jsxs(Vf,{value:"customize-display",className:"border-none",children:[i.jsxs(Gf,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-background hover:bg-muted/50 transition-colors data-[state=open]:rounded-b-none data-[state=open]:border-b-0 justify-start",children:[i.jsx(t0,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Customize Display"})]}),i.jsx(Wf,{className:"px-3 py-3 rounded-b-lg border border-t-0 bg-background",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[i.jsx(Ga,{checked:v&&_&&k&&w,onCheckedChange:j}),i.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),i.jsxs("div",{className:"flex items-stretch gap-3 w-full",children:[i.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:S,children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Za,{className:"text-base font-medium",children:"Stats"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute modifications"})]}),i.jsx(Ga,{checked:v,onCheckedChange:O,onClick:M=>M.stopPropagation()})]}),i.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:E,children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Za,{className:"text-base font-medium",children:"Powers"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Special abilities and spells"})]}),i.jsx(Ga,{checked:_,onCheckedChange:I,onClick:M=>M.stopPropagation()})]}),i.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:R,children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Za,{className:"text-base font-medium",children:"Skills"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Skill bonuses and effects"})]}),i.jsx(Ga,{checked:k,onCheckedChange:D,onClick:M=>M.stopPropagation()})]}),i.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:N,children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Za,{className:"text-base font-medium",children:"Effects"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Conditional and mastery effects"})]}),i.jsx(Ga,{checked:w,onCheckedChange:A,onClick:M=>M.stopPropagation()})]})]})]})})]})}),l==="grid"?i.jsx(zc,{columns:3,gap:"md",className:"w-full mt-6",children:y.map(M=>{const L=r.find(Q=>Q.id===M.id||Q.edid===M.id);if(!L)return null;const P=b.has(M.id);return i.jsx(bp,{item:{...M,originalBirthsign:L},isExpanded:P,onToggle:()=>C(M.id),className:"w-full"},M.id)})}):i.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:y.map(M=>{const L=r.find(Q=>Q.id===M.id||Q.edid===M.id);if(!L)return null;const P=b.has(M.id);return i.jsx(bp,{item:{...M,originalBirthsign:L},isExpanded:P,onToggle:()=>C(M.id),className:"w-full"},M.id)})}),y.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}var Zm,Jf="HoverCard",[AE,OJ]=rn(Jf,[Ho]),em=Ho(),[Q8,ix]=AE(Jf),CE=e=>{const{__scopeHoverCard:t,children:n,open:a,defaultOpen:r,onOpenChange:s,openDelay:o=700,closeDelay:l=300}=e,c=em(t),u=p.useRef(0),d=p.useRef(0),f=p.useRef(!1),m=p.useRef(!1),[h,g]=Hn({prop:a,defaultProp:r??!1,onChange:s,caller:Jf}),y=p.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>g(!0),o)},[o,g]),b=p.useCallback(()=>{clearTimeout(u.current),!f.current&&!m.current&&(d.current=window.setTimeout(()=>g(!1),l))},[l,g]),x=p.useCallback(()=>g(!1),[g]);return p.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),i.jsx(Q8,{scope:t,open:h,onOpenChange:g,onOpen:y,onClose:b,onDismiss:x,hasSelectionRef:f,isPointerDownOnContentRef:m,children:i.jsx(TS,{...c,children:n})})};CE.displayName=Jf;var ME="HoverCardTrigger",TE=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...a}=e,r=ix(ME,n),s=em(n);return i.jsx(L0,{asChild:!0,...s,children:i.jsx(xe.a,{"data-state":r.open?"open":"closed",...a,ref:t,onPointerEnter:te(e.onPointerEnter,Td(r.onOpen)),onPointerLeave:te(e.onPointerLeave,Td(r.onClose)),onFocus:te(e.onFocus,r.onOpen),onBlur:te(e.onBlur,r.onClose),onTouchStart:te(e.onTouchStart,o=>o.preventDefault())})})});TE.displayName=ME;var B8="HoverCardPortal",[IJ,$8]=AE(B8,{forceMount:void 0}),Md="HoverCardContent",DE=p.forwardRef((e,t)=>{const n=$8(Md,e.__scopeHoverCard),{forceMount:a=n.forceMount,...r}=e,s=ix(Md,e.__scopeHoverCard);return i.jsx(Bt,{present:a||s.open,children:i.jsx(H8,{"data-state":s.open?"open":"closed",...r,onPointerEnter:te(e.onPointerEnter,Td(s.onOpen)),onPointerLeave:te(e.onPointerLeave,Td(s.onClose)),ref:t})})});DE.displayName=Md;var H8=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,...l}=e,c=ix(Md,n),u=em(n),d=p.useRef(null),f=De(t,d),[m,h]=p.useState(!1);return p.useEffect(()=>{if(m){const g=document.body;return Zm=g.style.userSelect||g.style.webkitUserSelect,g.style.userSelect="none",g.style.webkitUserSelect="none",()=>{g.style.userSelect=Zm,g.style.webkitUserSelect=Zm}}},[m]),p.useEffect(()=>{if(d.current){const g=()=>{h(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",g),()=>{document.removeEventListener("pointerup",g),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),p.useEffect(()=>{d.current&&U8(d.current).forEach(y=>y.setAttribute("tabindex","-1"))}),i.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:te(s,g=>{g.preventDefault()}),onDismiss:c.onDismiss,children:i.jsx(P0,{...u,...l,onPointerDown:te(l.onPointerDown,g=>{g.currentTarget.contains(g.target)&&h(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...l.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),F8="HoverCardArrow",q8=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...a}=e,r=em(n);return i.jsx(z0,{...r,...a,ref:t})});q8.displayName=F8;function Td(e){return t=>t.pointerType==="touch"?void 0:e()}function U8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var Y8=CE,V8=TE,LE=DE;const PE=Y8,zE=V8,ox=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...a},r)=>i.jsx(LE,{ref:r,align:t,sideOffset:n,className:H("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:_t.TOOLTIP},...a}));ox.displayName=LE.displayName;function G8({node:e,allNodes:t,children:n,showPrerequisites:a=!0,showNextNodes:r=!0,showTags:s=!0,className:o=""}){const l=u=>t.filter(d=>d.prerequisites.includes(u)),c=u=>t.filter(d=>e.prerequisites.includes(d.name));return i.jsxs(PE,{children:[i.jsx(zE,{asChild:!0,children:n}),i.jsx(ox,{className:`w-80 p-0 ${o}`,children:i.jsxs(He,{className:"border-0 shadow-none",children:[i.jsx(Ke,{className:"pb-2",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:e.name})}),e.icon&&i.jsx("div",{className:"w-8 h-8 ml-2",children:i.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-contain"})})]})}),i.jsxs(Fe,{className:"pt-0 space-y-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),a&&e.prerequisites.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[c(e.name).map(u=>i.jsx(X,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:u.name},u.id)),e.prerequisites.filter(u=>!t.some(d=>d.name===u)).map((u,d)=>i.jsx(X,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500 border-gray-200",children:u},`missing-${d}`))]})]}),r&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Leads to:"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[l(e.name).map(u=>i.jsx(X,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:u.name},u.id)),l(e.name).length===0&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"No further progression"})]})]}),s&&e.tags.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((u,d)=>i.jsx(X,{variant:"secondary",className:"text-xs",children:u},d))})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[i.jsxs("p",{children:["ID: ",e.id]}),e.globalFormId&&i.jsxs("p",{children:["Form ID: ",e.globalFormId]})]})]})]})})]})}function OE({node:e,allNodes:t,variant:n="default",size:a="md",showHoverCard:r=!0,onClick:s,className:o=""}){const l={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},c=i.jsx(X,{variant:n,className:`
        ${l[a]} 
        ${s?"cursor-pointer hover:bg-muted/50":""} 
        ${o}
        rounded-full
      `,onClick:s,children:e.name});return r?i.jsx(G8,{node:e,allNodes:t,children:c}):c}function IE({path:e,allNodes:t,onBreadcrumbClick:n,variant:a="default",className:r=""}){if(e.length===0)return i.jsx("div",{className:`flex items-center gap-2 ${r}`,children:i.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})});const s=a==="compact"?"sm":"md";return i.jsx("div",{className:`flex items-center gap-2 ${r}`,children:e.map((o,l)=>i.jsxs(z.Fragment,{children:[i.jsx(OE,{node:o,allNodes:t,variant:l===e.length-1?"default":"outline",size:s,showHoverCard:!0,onClick:n?()=>n(l):void 0}),l<e.length-1&&i.jsx(Sc,{className:"w-4 h-4 text-muted-foreground"})]},o.id))})}function W8({path:e,allNodes:t,selectedPathLength:n,isComplete:a,endNode:r,onPathClick:s,variant:o="default",className:l=""}){const c=o==="compact"?"sm":"md";return i.jsxs("div",{className:`p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer ${l}`,onClick:()=>s(e,n),children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("div",{className:"flex flex-wrap items-center gap-1",children:e.map((u,d)=>i.jsxs(z.Fragment,{children:[i.jsx(OE,{node:u,allNodes:t,variant:"outline",size:c,showHoverCard:!0,onClick:f=>{f==null||f.stopPropagation(),s(e,d)},className:`
                   ${d===0&&n===0?"cursor-pointer":""}
                   ${a&&d===e.length-1?"bg-yellow-600 text-yellow-50 border-yellow-700":""}
                 `}),d<e.length-1&&i.jsx(Sc,{className:"w-3 h-3 text-muted-foreground"})]},u.id))})}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Length: ",e.length," steps"]}),a&&i.jsxs("span",{children:["â€¢ Ends at: ",r.name]}),e.length>n&&i.jsxs("span",{children:["â€¢ ",e.length-n," more choices"]})]})]})}function Z8({path:e,className:t=""}){return e.length===0?i.jsxs("div",{className:`space-y-2 ${t}`,children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Selected Path"}),i.jsx("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:i.jsx("span",{className:"text-sm text-muted-foreground",children:"No destiny path selected"})})]}):i.jsxs("div",{className:`space-y-2 ${t}`,children:[i.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Selected Path (",e.length," nodes)"]}),i.jsx("div",{className:"space-y-2",children:e.map((n,a)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium",children:a+1}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-sm",children:n.name}),n.description&&i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:n.description})]})]}),i.jsx(X,{variant:"secondary",className:a===e.length-1?"bg-yellow-600 text-yellow-50":"bg-blue-500",children:a===e.length-1?"Current":"Selected"})]},n.id))})]})}class da{static isValid(t){return typeof t=="object"&&t!==null&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.description=="string"&&Array.isArray(t.tags)&&Array.isArray(t.prerequisites)}static equals(t,n){return t.id===n.id}static hasTag(t,n){return t.tags.includes(n)}static hasAnyTag(t,n){return n.some(a=>this.hasTag(t,a))}static hasAllTags(t,n){return n.every(a=>this.hasTag(t,a))}static filterByTag(t,n){return t.filter(a=>this.hasTag(a,n))}static filterByAnyTag(t,n){return t.filter(a=>this.hasAnyTag(a,n))}static filterByAllTags(t,n){return t.filter(a=>this.hasAllTags(a,n))}static isRootNode(t){return t.prerequisites.length===0}static getRootNodes(t){return t.filter(n=>this.isRootNode(n))}static isLeafNode(t,n){return!n.some(a=>a.prerequisites.includes(t.edid))}static getLeafNodes(t){return t.filter(n=>this.isLeafNode(n,t))}static getNextNodes(t,n){return n.filter(a=>a.prerequisites.includes(t.edid))}static getPrerequisiteNodes(t,n){return n.filter(a=>t.prerequisites.includes(a.edid))}static search(t,n){const a=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(a)||r.description.toLowerCase().includes(a)||r.tags.some(s=>s.toLowerCase().includes(a)))}static sortByName(t){return[...t].sort((n,a)=>n.name.localeCompare(a.name))}static sortByPrerequisites(t){return[...t].sort((n,a)=>n.prerequisites.length-a.prerequisites.length)}static getUniqueTags(t){const n=t.flatMap(a=>a.tags);return[...new Set(n)].sort()}static getUniquePrerequisites(t){const n=t.flatMap(a=>a.prerequisites);return[...new Set(n)].sort()}}function ii(e={}){const{includePrerequisites:t=!1,includeNextNodes:n=!1,filterByTags:a=[],searchTerm:r="",sortBy:s="name"}=e,{data:o,loading:l,error:c,reload:u}=kO(),d=o||[],f=c,m=p.useMemo(()=>da.getRootNodes(d),[d]),h=p.useMemo(()=>[],[d]),g=p.useMemo(()=>da.getUniqueTags(d),[d]),y=p.useMemo(()=>{let N=[...d];return a.length>0&&(N=da.filterByAnyTag(N,a)),r&&(N=da.search(N,r)),s==="name"?N=da.sortByName(N):s==="prerequisites"&&(N=da.sortByPrerequisites(N)),N},[d,a,r,s]),b=N=>d.find(j=>j.id===N),x=N=>d.find(j=>j.edid===N);return{nodes:d,rootNodes:m,filteredNodes:y,isLoading:l,error:f,categories:h,tags:g,refresh:()=>{u()},getNodeById:b,getNodeByName:N=>d.find(j=>j.name===N),getNodeByEdid:x,getNextNodes:N=>{const j=x(N);return j?da.getNextNodes(j,d):[]},getPrerequisiteNodes:N=>{const j=x(N);return j?da.getPrerequisiteNodes(j,d):[]},filterByCategory:N=>[],filterByTag:N=>da.filterByTag(d,N),searchNodes:N=>da.search(d,N)}}function tm(e={}){const{fromNode:t,maxDepth:n=10}=e,{nodes:a,rootNodes:r,isLoading:s,error:o}=ii();return{possiblePaths:p.useMemo(()=>{if(s||o||!a.length)return[];const c=[],u=new Set,d=m=>a.filter(h=>h.prerequisites.includes(m)),f=(m,h=0)=>{if(h>=n)return;const g=m[m.length-1],y=d(g.edid);if(y.length===0){c.push({path:[...m],isComplete:!0,endNode:g});return}y.forEach(b=>{const x=m.map(v=>v.id).join("->")+"->"+b.id;u.has(x)||(u.add(x),f([...m,b],h+1))})};if(t){if(d(t.edid).length===0)return[];f([t])}else r.forEach(m=>{f([m])});return c},[a,r,t,n,s,o]),isLoading:s,error:o}}function QE(e){const{filterType:t,currentPath:n=[]}=e,{nodes:a,rootNodes:r}=ii(),[s,o]=p.useState([]),{possiblePaths:l}=tm({fromNode:n.length>0?n[n.length-1]:void 0}),c=p.useMemo(()=>{if(t!=="build-path"||n.length===0)return a;const b=new Set,x=new Set,v=k=>{x.has(k)||(x.add(k),b.add(k),a.forEach(w=>{w.prerequisites.includes(k)&&v(w.edid)}))},_=n[n.length-1];return v(_.edid),a.filter(k=>b.has(k.edid))},[t,n,a,r]),u=p.useMemo(()=>{if(t==="build-path"){const b=new Set,x=new Set;l.forEach(k=>{k.path.forEach(w=>{b.add(w.edid)}),k.path.length>0&&x.add(k.path[k.path.length-1].edid)});const v=a.filter(k=>b.has(k.edid)),_=a.filter(k=>x.has(k.edid));return[{id:"includes-node",name:"Includes Node",placeholder:"Filter paths that include this node...",options:v.map(k=>{const w=l.filter(S=>S.path.some(E=>E.edid===k.edid)).length;return{id:`includes-${k.id}`,label:k.name,value:k.edid,category:"Includes Node",description:`${w} path${w!==1?"s":""} include ${k.name}`}})},{id:"ends-with-node",name:"Ends With Node",placeholder:"Filter paths that end with this node...",options:_.map(k=>{const w=l.filter(S=>S.path.length>0&&S.path[S.path.length-1].edid===k.edid).length;return{id:`ends-${k.id}`,label:k.name,value:k.edid,category:"Ends With Node",description:`${w} path${w!==1?"s":""} end with ${k.name}`}})}]}else{const b=[...new Set(a.flatMap(v=>v.tags))],x=[...new Set(a.flatMap(v=>v.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:b.map(v=>({id:`tag-${v}`,label:v,value:v,category:"Tags",description:`Nodes with ${v} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Filter by prerequisite...",options:x.map(v=>{const _=a.find(k=>k.edid===v);return{id:`prereq-${v}`,label:_?_.name:v,value:v,category:"Prerequisites",description:`Nodes requiring ${_?_.name:v}`}})}]}},[t,c,a,l]),d=p.useCallback(b=>{o(x=>x.some(_=>_.type===b.type&&_.nodeName===b.nodeName)?x:[...x,b])},[]),f=p.useCallback(b=>{o(x=>x.filter(v=>v.id!==b))},[]),m=p.useCallback(()=>{o([])},[]),h=p.useCallback(()=>u.flatMap(b=>b.options),[u]),g=p.useCallback(b=>c.some(x=>x.id===b.id),[c]),y=p.useMemo(()=>t!=="build-path"||s.length===0?l.map(b=>b.path):l.map(b=>b.path).filter(b=>s.every(x=>{switch(x.type){case"includes-node":return b.some(v=>v.edid===x.nodeName||v.edid===x.nodeId);case"ends-with-node":return b.length>0&&(b[b.length-1].edid===x.nodeName||b[b.length-1].edid===x.nodeId);default:return!0}})),[t,s,l]);return{selectedFilters:s,searchCategories:u,addFilter:d,removeFilter:f,clearFilters:m,filteredPaths:y,availableNodes:c,getFilterOptions:h,isNodeAvailable:g}}function lx(e={}){const{initialPath:t=[],validatePath:n=!0}=e,[a,r]=p.useState(t),{nodes:s,rootNodes:o}=ii(),l=p.useMemo(()=>a.length>0?a[a.length-1]:null,[a]),c=p.useMemo(()=>a.length===0?o:s.filter(_=>_.prerequisites.length===0?!1:_.prerequisites.some(k=>a.some(w=>w.edid===k))),[a,s,o]),u=p.useMemo(()=>l?s.filter(_=>_.prerequisites.includes(l.edid)):o,[l,s,o]),d=p.useMemo(()=>l?s.filter(_=>l.prerequisites.includes(_.edid)):[],[l,s]),{isValidPath:f,pathErrors:m}=p.useMemo(()=>{if(!n||a.length===0)return{isValidPath:!0,pathErrors:[]};const _=[];for(let k=1;k<a.length;k++){const w=a[k],S=a.slice(0,k);!w.prerequisites.some(R=>S.some(N=>N.edid===R))&&w.prerequisites.length>0&&_.push(`${w.name} requires one of: ${w.prerequisites.join(", ")}`)}return{isValidPath:_.length===0,pathErrors:_}},[a,n]),h=p.useCallback(_=>{if(a.length>0){if(a[a.length-1],!_.prerequisites.some(w=>a.some(S=>S.edid===w))&&_.prerequisites.length>0)return!1}else if(_.prerequisites.length>0)return!1;return r(k=>[...k,_]),!0},[a]),g=p.useCallback(_=>{r(k=>k.slice(0,_+1))},[]),y=p.useCallback(_=>{r(_)},[]),b=p.useCallback(()=>{r([])},[]),x=p.useCallback(_=>{r(k=>k.slice(0,_+1))},[]),v=p.useCallback(()=>({startNode:a[0]||null,endNode:a[a.length-1]||null,totalNodes:a.length,pathString:a.map(_=>_.name).join(" â†’ ")}),[a]);return{currentPath:a,currentNode:l,availableNodes:c,rootNodes:o,isValidPath:f,pathErrors:m,addNodeToPath:h,removeNodeFromPath:g,setPath:y,clearPath:b,goToPathIndex:x,pathLength:a.length,isPathComplete:u.length===0,nextPossibleNodes:u,prerequisiteNodes:d,getPathSummary:v}}function BE({searchCategories:e,selectedFilters:t,onFilterSelect:n,onFilterRemove:a,onClearFilters:r,className:s=""}){const o=e.find(d=>d.id==="includes-node"),l=e.find(d=>d.id==="ends-with-node"),c=e.find(d=>d.id==="tags"),u=e.find(d=>d.id==="prerequisites");return i.jsxs("div",{className:`space-y-4 ${s}`,children:[i.jsxs("div",{className:"flex flex-wrap gap-4",children:[o&&i.jsxs("div",{className:"space-y-2 max-w-sm",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Includes"}),i.jsx(Rs,{categories:[o],onSelect:n,placeholder:o.placeholder,className:"w-full"})]}),l&&i.jsxs("div",{className:"space-y-2 max-w-sm",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Ends With"}),i.jsx(Rs,{categories:[l],onSelect:n,placeholder:l.placeholder,className:"w-full"})]}),c&&i.jsxs("div",{className:"space-y-2 max-w-sm",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Tags"}),i.jsx(Rs,{categories:[c],onSelect:n,placeholder:c.placeholder,className:"w-full"})]}),u&&i.jsxs("div",{className:"space-y-2 max-w-sm",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Prerequisites"}),i.jsx(Rs,{categories:[u],onSelect:n,placeholder:u.placeholder,className:"w-full"})]})]}),t.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Active Filters"}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("button",{onClick:r,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[i.jsx(Yt,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),t.map(d=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>a(d.id),title:"Click to remove",children:[i.jsx("span",{className:"text-xs opacity-70 mr-1",children:d.type==="includes-node"?"Includes:":d.type==="ends-with-node"?"Ends:":d.type==="tags"?"Tag:":"Prereq:"}),d.label,i.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"Ã—"})]},d.id))]})]})]})}function jp({possiblePaths:e,selectedPathLength:t,onPathClick:n,variant:a="default",className:r=""}){const{nodes:s}=ii();return e.length===0?i.jsxs("div",{className:`text-center py-8 ${r}`,children:[i.jsx("p",{className:"text-muted-foreground",children:"No possible paths available."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You may have reached the end of available destiny paths."})]}):i.jsx("div",{className:`space-y-3 ${r}`,children:e.map((o,l)=>i.jsx(W8,{path:o.path,allNodes:s,selectedPathLength:t,isComplete:o.isComplete,endNode:o.endNode,onPathClick:n,variant:a},l))})}function X8({onPathChange:e,onPathComplete:t,className:n="",compact:a=!1}){var R,N;const{currentPath:r,currentNode:s,isValidPath:o,pathErrors:l,setPath:c,clearPath:u,goToPathIndex:d,isPathComplete:f,getPathSummary:m}=lx(),{possiblePaths:h}=tm({fromNode:s||void 0}),{nodes:g}=ii(),y=QE({filterType:"build-path",currentPath:r}),b=y.selectedFilters.length>0?y.filteredPaths:h.map(j=>j.path),x=j=>{if(typeof j=="string")return;let O,I;if(j.category==="Includes Node")O="includes-node",I=j.id.replace(/^includes-/,"");else if(j.category==="Ends With Node")O="ends-with-node",I=j.id.replace(/^ends-/,"");else return;const D={id:j.id,type:O,nodeName:j.value,nodeId:I,label:j.label};y.addFilter(D)},v=j=>{y.removeFilter(j)},_=()=>{y.clearFilters()},k=(j,O)=>{let I;if(r.length===0)I=j.slice(0,O+1);else{if(O===0)return;const D=j.slice(1,O+1);I=[...r,...D]}c(I),e==null||e(I),f&&(t==null||t(I))},w=j=>{d(j),e==null||e(r)},S=()=>{u(),e==null||e([])},E=m();return a?i.jsxs("div",{className:`space-y-4 ${n}`,children:[i.jsx(Z8,{path:r}),r.length>0&&i.jsx("div",{className:"flex justify-end",children:i.jsxs(Z,{variant:"outline",size:"sm",onClick:S,className:"text-xs",children:[i.jsx(co,{className:"w-3 h-3 mr-1"}),"Clear Path"]})}),b.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Possible Remaining Paths"}),i.jsx(ho,{className:"h-[200px]",children:i.jsx("div",{className:"p-4",children:i.jsx(jp,{possiblePaths:b.map(j=>({path:j,isComplete:!1,endNode:j[j.length-1]})),selectedPathLength:r.length,onPathClick:k,variant:"compact"})})})]}),!o&&l.length>0&&i.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(lo,{className:"w-3 h-3"}),i.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),i.jsx("ul",{className:"space-y-0.5",children:l.map((j,O)=>i.jsxs("li",{children:["â€¢ ",j]},O))})]})]}):i.jsxs("div",{className:`space-y-6 ${n}`,children:[i.jsxs(He,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(st,{className:"flex items-center gap-2",children:[i.jsx(ap,{className:"w-5 h-5 text-primary"}),"Destiny Path Builder"]}),i.jsx("div",{className:"flex items-center gap-2",children:r.length>0&&i.jsxs(Z,{variant:"outline",size:"sm",onClick:S,className:"flex items-center gap-1",children:[i.jsx(co,{className:"w-4 h-4"}),"Clear Path"]})})]})}),i.jsxs(Fe,{children:[i.jsx(IE,{path:r,allNodes:g,onBreadcrumbClick:w,className:"mb-4"}),r.length>0&&i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Path Length: ",r.length]}),i.jsx("span",{children:"â€¢"}),i.jsxs("span",{children:["Start: ",(R=E.startNode)==null?void 0:R.name]}),i.jsx("span",{children:"â€¢"}),i.jsxs("span",{children:["Current: ",(N=E.endNode)==null?void 0:N.name]}),f&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"â€¢"}),i.jsx(X,{variant:"default",className:"text-xs",children:"Complete"})]})]}),!o&&l.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[i.jsx(lo,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Path Validation Errors:"})]}),i.jsx("ul",{className:"text-sm space-y-1",children:l.map((j,O)=>i.jsxs("li",{className:"text-destructive",children:["â€¢ ",j]},O))})]})]})]}),r.length>0&&i.jsxs(He,{children:[i.jsx(Ke,{children:i.jsx(st,{className:"text-lg",children:"Current Path"})}),i.jsx(Fe,{children:i.jsx("div",{className:"space-y-2",children:r.map((j,O)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[i.jsx(X,{variant:"outline",className:"text-xs",children:O+1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:j.name}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:j.description})]})]},j.id))})})]}),i.jsxs(He,{children:[i.jsxs(Ke,{children:[i.jsx(st,{className:"text-lg",children:r.length===0?"Choose Your Starting Point":"Possible Paths"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r.length===0?"Select a root destiny node to begin your path":b.length===0?y.selectedFilters.length>0?"No paths match your current filters":"You have reached the end of this destiny path":y.selectedFilters.length>0?`Showing ${b.length} filtered paths from your current position`:`Explore ${b.length} possible paths from your current position`})]}),i.jsxs(Fe,{className:"h-[600px] p-0",children:[i.jsx("div",{className:"p-6 pb-6",children:i.jsx(BE,{searchCategories:y.searchCategories,selectedFilters:y.selectedFilters,onFilterSelect:x,onFilterRemove:v,onClearFilters:_})}),b.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[y.selectedFilters.length>0?i.jsx(dT,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}):i.jsx(ap,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg font-medium",children:y.selectedFilters.length>0?"No paths match your filters":"Path Complete!"}),i.jsx("p",{className:"text-sm",children:y.selectedFilters.length>0?"Try adjusting your filters to see more paths.":"You've reached the end of this destiny path."})]}):i.jsx(ho,{className:"h-[calc(600px-200px)]",children:i.jsx("div",{className:"p-6 pt-4",children:i.jsx(jp,{possiblePaths:b.map(j=>({path:j,isComplete:!1,endNode:j[j.length-1]})),selectedPathLength:r.length,onPathClick:k})})})]})]})]})}function K8({item:e,originalNode:t,allNodes:n}){const a=r=>n.filter(s=>s.prerequisites.includes(r)).map(s=>s.name);return i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((r,s)=>i.jsx(X,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},s))})]}),t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[a(t.name).map((r,s)=>i.jsx(X,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:r},s)),a(t.name).length===0&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,s)=>i.jsx(X,{variant:"secondary",className:"text-xs",children:r},s))})]})]})}function J8({items:e,allNodes:t}){return i.jsx(ho,{className:"h-[calc(100vh-500px)]",children:i.jsx(nx,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>i.jsxs(Vf,{value:n.id,children:[i.jsx(Gf,{className:"text-left hover:no-underline",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),i.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),i.jsx(Wf,{children:i.jsx(K8,{item:n,originalNode:t.find(a=>a.id===n.id),allNodes:t})})]},n.id))})})}const e7=({navigate:e})=>{const{build:t,setDestinyPath:n}=pt(),{nodes:a,isLoading:r,error:s}=ii(),o=z.useMemo(()=>t.destinyPath.map(v=>a.find(_=>_.id===v)).filter(v=>!!v),[t.destinyPath,a]),{isValidPath:l,pathErrors:c,setPath:u,clearPath:d,currentPath:f,currentNode:m}=lx({initialPath:o,validatePath:!0}),{possiblePaths:h}=tm({fromNode:m||void 0}),g=v=>{const _=v.map(k=>k.id);n(_)},y=(v,_)=>{let k;if(f.length===0)k=v.slice(0,_+1);else{if(_===0)return;const w=v.slice(1,_+1);k=[...f,...w]}u(k),g(k)},b=()=>{d(),n([])},x=v=>{const _=f.slice(0,v+1);u(_),g(_)};return i.jsxs(He,{className:"mb-6",children:[i.jsx(Ke,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(st,{className:"text-lg",children:"Destiny"}),i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:[i.jsx(Ul,{className:"w-4 h-4 mr-1"}),"View All"]})]})}),i.jsx(Fe,{children:r?i.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):s?i.jsx("div",{className:"text-destructive",children:s}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Selected Path"}),i.jsx(IE,{path:f,allNodes:a,variant:"compact",onBreadcrumbClick:x})]}),f.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h4",{className:"text-sm font-medium text-muted-foreground",children:["Path Details (",f.length," nodes)"]}),i.jsxs(Z,{variant:"outline",size:"sm",onClick:b,className:"text-xs",children:[i.jsx(co,{className:"w-3 h-3 mr-1"}),"Clear Path"]})]}),i.jsx("div",{className:"space-y-2",children:f.map((v,_)=>i.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-medium flex-shrink-0",children:_+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h5",{className:"font-medium text-sm text-foreground",children:v.name}),v.description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:v.description})]})]})},v.id))})]}),h.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:f.length===0?"Choose Your Starting Point":"Continue Your Path"}),i.jsx(ho,{className:"h-[200px]",children:i.jsx("div",{className:"p-2",children:i.jsx(jp,{possiblePaths:h,selectedPathLength:f.length,onPathClick:y,variant:"compact"})})})]}),!l&&c.length>0&&i.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded text-xs text-destructive",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(lo,{className:"w-3 h-3"}),i.jsx("span",{className:"font-medium",children:"Path Errors:"})]}),i.jsx("ul",{className:"space-y-0.5",children:c.map((v,_)=>i.jsxs("li",{children:["â€¢ ",v]},_))})]}),f.length===0&&h.length===0&&i.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[i.jsx("p",{className:"text-sm",children:"No destiny paths available"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>e("/destiny"),className:"mt-2",children:"Browse All Destinies"})]})]})})]})};function t7({items:e,filters:t=[]}){const[n,a]=p.useState(null),[r,s]=p.useState("grid"),[o,l]=p.useState({search:"",selectedFilters:{},selectedTags:[]}),c=p.useMemo(()=>{let g=e;if(o.search){const y=o.search.toLowerCase();g=g.filter(b=>b.name.toLowerCase().includes(y)||b.description.toLowerCase().includes(y)||b.tags.some(x=>x.toLowerCase().includes(y)))}return o.selectedTags.length>0&&(g=g.filter(y=>o.selectedTags.some(b=>y.tags.includes(b.value)||y.category===b.value||y.name.toLowerCase().includes(b.value.toLowerCase())))),g},[e,o]),u=p.useMemo(()=>t.length===0?[]:t.map(g=>({...g,options:g.options.map(y=>({...y,count:e.filter(b=>b.tags.includes(y.value)||b.category===y.value).length}))})),[t,e]),d=p.useCallback(g=>{a(g)},[]),f=p.useCallback(g=>{l(g)},[]),m=p.useCallback(g=>{l(y=>({...y,search:g}))},[]),h=p.useCallback(g=>{s(g)},[]);return{selectedItem:n,viewMode:r,currentFilters:o,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:f,handleSearch:m,handleViewModeChange:h,setSelectedItem:a}}function n7(){const{nodes:e,isLoading:t,error:n}=ii(),{currentPath:a,setPath:r}=lx({validatePath:!0});tm({fromNode:a.length>0?a[a.length-1]:void 0});const s=QE({filterType:"reference"}),l=p.useMemo(()=>s.selectedFilters.length===0?e:e.filter(h=>s.selectedFilters.every(g=>{var y,b;switch(g.type){case"tags":return(y=h.tags)==null?void 0:y.includes(g.nodeName);case"prerequisites":return(b=h.prerequisites)==null?void 0:b.includes(g.nodeName);default:return!0}})),[e,s.selectedFilters]).map(h=>C8(h));t7({items:l,filters:[]});const c=h=>{if(typeof h=="string")return;let g,y;if(h.category==="Tags")g="tags",y=h.id.replace(/^tag-/,"");else if(h.category==="Prerequisites")g="prerequisites",y=h.id.replace(/^prereq-/,"");else return;const b={id:h.id,type:g,nodeName:h.value,nodeId:y,label:h.label};s.addFilter(b)},u=h=>{s.removeFilter(h)},d=()=>{s.clearFilters()},f=h=>{r(h)},m=h=>{r(h)};return t?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):n?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-4",children:n}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):i.jsx(br,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:i.jsx("div",{className:"mb-6",children:i.jsxs(Cc,{defaultValue:"path",className:"w-full",children:[i.jsxs(Mc,{className:"grid w-full grid-cols-2",children:[i.jsx(Zn,{value:"path",children:"Path Builder"}),i.jsx(Zn,{value:"reference",children:"Reference"})]}),i.jsxs(ya,{value:"reference",className:"space-y-4",children:[i.jsx(BE,{searchCategories:s.searchCategories,selectedFilters:s.selectedFilters,onFilterSelect:c,onFilterRemove:u,onClearFilters:d}),i.jsx("div",{className:"w-full",children:i.jsx(J8,{items:l,allNodes:e})})]}),i.jsx(ya,{value:"path",className:"space-y-4",children:i.jsx(X8,{onPathChange:f,onPathComplete:m})})]})})})}class ct{static getRaceById(t,n){return t.find(a=>a.edid===n)}static getRacesByCategory(t,n){return t.filter(a=>a.category===n)}static getUniqueCategories(t){return[...new Set(t.map(n=>n.category))]}static getUniqueTags(t){const n=t.flatMap(a=>[...a.keywords||[],...a.flags||[]]);return[...new Set(n)]}static filterByCategory(t,n){return n?t.filter(a=>a.category===n):t}static filterByTags(t,n){return n.length===0?t:t.filter(a=>n.some(r=>(a.keywords||[]).includes(r)||(a.flags||[]).includes(r)))}static filterByAnyTag(t,n){return n.length===0?t:t.filter(a=>n.some(r=>(a.keywords||[]).includes(r)||(a.flags||[]).includes(r)))}static search(t,n){if(!n.trim())return t;const a=n.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(a)||(r.description||"").toLowerCase().includes(a)||(r.keywords||[]).some(s=>s.toLowerCase().includes(a))||(r.flags||[]).some(s=>s.toLowerCase().includes(a)))}static sortByName(t){return[...t].sort((n,a)=>n.name.localeCompare(a.name))}static sortByCategory(t){return[...t].sort((n,a)=>{const r=n.category.localeCompare(a.category);return r!==0?r:n.name.localeCompare(a.name)})}static transformToPlayerCreationItem(t){const n=[...t.keywords||[],...t.flags||[],t.category],a=[...(t.skillBonuses||[]).map(r=>({name:`${r.skill} +${r.bonus}`,type:"positive",description:`Provides ${r.bonus} bonus to ${r.skill}`,value:r.bonus,target:r.skill})),...(t.racialSpells||[]).map(r=>({name:r.name,type:"positive",description:r.description,target:"racial ability"}))];return{id:t.edid,name:t.name,description:t.description||"",tags:n,effects:a,associatedItems:[],imageUrl:void 0,category:t.category||""}}static getRelatedRaces(t,n){return n.filter(a=>a.edid!==t.edid&&a.category===t.category)}static calculateRaceStats(t){var n,a,r,s,o,l;return{totalHealth:((n=t.startingStats)==null?void 0:n.health)||0,totalMagicka:((a=t.startingStats)==null?void 0:a.magicka)||0,totalStamina:((r=t.startingStats)==null?void 0:r.stamina)||0,totalCarryWeight:((s=t.startingStats)==null?void 0:s.carryWeight)||0,skillBonusCount:((o=t.skillBonuses)==null?void 0:o.length)||0,racialSpellCount:((l=t.racialSpells)==null?void 0:l.length)||0}}static applyFilters(t,n){let a=[...t];return n.search&&(a=this.search(a,n.search)),n.type&&(a=this.filterByCategory(a,n.type)),n.tags.length>0&&(a=this.filterByTags(a,n.tags)),a}}class a7{static enrichRacesWithTags(t){t.forEach(n=>{})}static generateSearchCategories(t){const n=[...new Set(t.map(s=>s.category))],a=[...new Set(t.flatMap(s=>s.keywords.map(o=>o.edid)))],r=[...new Set(t.flatMap(s=>s.flags))];return[{id:"category",name:"Race Type",options:n},{id:"keywords",name:"Keywords",options:a},{id:"flags",name:"Flags",options:r}]}static validateRaceData(t){try{return!(!t.name||!t.edid||!t.category||!t.startingStats||typeof t.startingStats.health!="number"||typeof t.startingStats.magicka!="number"||typeof t.startingStats.stamina!="number"||typeof t.startingStats.carryWeight!="number"||!Array.isArray(t.skillBonuses)||!Array.isArray(t.racialSpells)||!Array.isArray(t.keywords)||!Array.isArray(t.flags))}catch{return!1}}static calculateRaceStats(t){const n=t.startingStats.health,a=t.startingStats.magicka,r=t.startingStats.stamina,s=t.startingStats.carryWeight,o=t.skillBonuses.length,l=t.racialSpells.length;return{totalHealth:n,totalMagicka:a,totalStamina:r,totalCarryWeight:s,skillBonusCount:o,racialSpellCount:l}}static calculatePowerLevel(t){const n=this.calculateRaceStats(t),a=(n.totalHealth+n.totalMagicka+n.totalStamina)/3,r=n.skillBonusCount*5+n.racialSpellCount*10;return Math.round(a+r)}static getDifficultyRating(t){const n=this.calculatePowerLevel(t);return n<50?1:n<70?2:n<90?3:n<110?4:5}static getPlaystyleSuggestions(t){const n=[],a=t.startingStats;return a.health>120&&(n.push("Tank"),n.push("Melee Fighter")),a.magicka>120&&(n.push("Mage"),n.push("Spellcaster")),a.stamina>120&&(n.push("Archer"),n.push("Rogue")),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("onehanded"))&&n.push("One-Handed Warrior"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("destruction"))&&n.push("Destruction Mage"),t.skillBonuses.some(r=>r.skill.toLowerCase().includes("sneak"))&&n.push("Stealth"),[...new Set(n)]}static formatRaceDescription(t){const n=this.calculateRaceStats(t),a=this.getPlaystyleSuggestions(t);let r=t.description;return a.length>0&&(r+=`

Recommended playstyles: ${a.join(", ")}`),r+=`

Starting Stats: Health ${n.totalHealth}, Magicka ${n.totalMagicka}, Stamina ${n.totalStamina}`,r+=`
Abilities: ${n.skillBonusCount} skill bonuses, ${n.racialSpellCount} racial spells`,r}}function Go(e={}){const{includeRelated:t=!1,categoryFilter:n="",searchTerm:a="",sortBy:r="name"}=e,{data:s,loading:o,error:l}=os(),c=p.useMemo(()=>ct.getUniqueCategories(s),[s]),u=p.useMemo(()=>ct.getUniqueTags(s),[s]),d=p.useMemo(()=>s.filter(v=>!(n&&v.category!==n||a&&ct.search([v],a).length===0)),[s,n,a]),f=p.useMemo(()=>r==="name"?ct.sortByName(d):ct.sortByCategory(d),[d,r]);return{races:s,filteredRaces:f,isLoading:o,error:l,categories:c,tags:u,refresh:async()=>{await os.getState().load()},getRaceById:v=>ct.getRaceById(s,v),getRacesByCategory:v=>ct.getRacesByCategory(s,v),filterByCategory:v=>ct.filterByCategory(s,v),filterByTag:v=>ct.filterByTags(s,[v]),searchRaces:v=>ct.search(s,v)}}function ga({raceName:e,size:t="md",className:n}){return i.jsx(pE,{entityName:e,entityType:"race",size:t,className:n})}function Ti({category:e,size:t="md",className:n}){return i.jsx(jO,{category:e,categoryType:"race",size:t,className:n})}const r7={ability:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-200"},trait:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},flag:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"},skill:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"}},s7={sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1"};function i7(e){const t=e.toLowerCase();return["destruction","restoration","alteration","illusion","conjuration","light armor","heavy armor","one-handed","two-handed","archery","block","smithing","enchanting","alchemy","speechcraft","sneak","lockpicking","pickpocket"].some(n=>t.includes(n))?"skill":["waterbreathing","night eye","claws","histskin","dragonskin","magic resistance","voice of the emperor","battle cry"].some(n=>t.includes(n))?"ability":["strong stomach","beast race","bleeds","natural"].some(n=>t.includes(n))?"trait":"flag"}function ma({keyword:e,type:t,size:n="sm",className:a}){const r=t||i7(e),s=r7[r];return i.jsx(X,{variant:"outline",className:H(s.bg,s.text,s.border,s7[n],"font-medium",a),children:e})}const o7={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",purple:"bg-purple-500",orange:"bg-orange-500"},l7={sm:"h-1.5",md:"h-2",lg:"h-3"};function Nn({value:e,maxValue:t,label:n,color:a="blue",size:r="md",showValue:s=!0,className:o}){const l=Math.min(e/t*100,100);return i.jsxs("div",{className:H("space-y-1",o),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:n}),s&&i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})]}),i.jsx("div",{className:"w-full bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:H("transition-all duration-300 ease-out",o7[a],l7[r]),style:{width:`${l}%`}})})]})}function nm({stats:e,regeneration:t,title:n="Stats",className:a,showRegeneration:r=!0,compact:s=!1}){return i.jsxs("div",{className:H("space-y-3",a),children:[i.jsx(Xn,{className:"text-lg font-medium text-foreground",children:n}),s&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Health"}),i.jsx("span",{className:"font-medium",children:e.health})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka"}),i.jsx("span",{className:"font-medium",children:e.magicka})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina"}),i.jsx("span",{className:"font-medium",children:e.stamina})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight"}),i.jsx("span",{className:"font-medium",children:e.carryWeight})]})]}),r&&t&&i.jsxs("div",{className:"space-y-2 mt-3",children:[i.jsx(Xn,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[i.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[i.jsx("div",{className:"font-medium",children:"Health"}),i.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),i.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[i.jsx("div",{className:"font-medium",children:"Magicka"}),i.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),i.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[i.jsx("div",{className:"font-medium",children:"Stamina"}),i.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]}),!s&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(Nn,{value:e.health,maxValue:200,label:"Health",color:"red",size:"sm"}),i.jsx(Nn,{value:e.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),i.jsx(Nn,{value:e.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),r&&t&&i.jsxs("div",{className:"space-y-2 mt-3",children:[i.jsx(Xn,{className:"text-lg font-medium text-foreground",children:"Regeneration"}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[i.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[i.jsx("div",{className:"font-medium",children:"Health"}),i.jsxs("div",{className:"text-muted-foreground",children:[t.health.base.toFixed(2),"/s"]})]}),i.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[i.jsx("div",{className:"font-medium",children:"Magicka"}),i.jsxs("div",{className:"text-muted-foreground",children:[t.magicka.base.toFixed(2),"/s"]})]}),i.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[i.jsx("div",{className:"font-medium",children:"Stamina"}),i.jsxs("div",{className:"text-muted-foreground",children:[t.stamina.base.toFixed(2),"/s"]})]})]})]})]})]})}function ec({effects:e,title:t="Effects",className:n,maxDisplay:a,compact:r=!1,showDescriptions:s=!0}){if(!e||e.length===0)return null;const o=a?e.slice(0,a):e,l=a&&e.length>a;return i.jsxs("div",{className:H("space-y-3",n),children:[t&&i.jsx(Xn,{className:"text-lg font-medium text-foreground",children:t}),r?i.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.map((c,u)=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:c.description,children:[i.jsx(Ft,{className:"h-3 w-3 text-yellow-500"}),i.jsx("span",{className:"font-medium",children:c.name})]},u)),l&&i.jsxs("div",{className:"px-2 py-1 bg-muted/50 rounded text-xs text-muted-foreground",children:["+",e.length-a," more"]})]}):i.jsxs("div",{className:"space-y-3",children:[o.map((c,u)=>i.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-muted",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ft,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h6",{className:"font-medium text-sm",children:c.name}),s&&c.description&&i.jsx(Qe,{className:"text-xs text-muted-foreground mt-1 leading-relaxed",children:c.description})]})]})},u)),l&&i.jsxs("div",{className:"text-center text-xs text-muted-foreground py-2",children:["+",e.length-a," more effects"]})]})]})}function cx({keywords:e,title:t="Keywords",className:n,maxDisplay:a,showCount:r=!0}){if(!e||e.length===0)return null;const s=a?e.slice(0,a):e,o=a&&e.length>a;return i.jsxs("div",{className:H("space-y-3",n),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[t&&i.jsx(Xn,{className:"text-lg font-medium text-foreground",children:t}),r&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length," keyword",e.length!==1?"s":""]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.map((l,c)=>i.jsx(ma,{keyword:l,size:"sm"},c)),o&&i.jsxs("span",{className:"text-xs text-muted-foreground px-2 py-1",children:["+",e.length-a," more"]})]})]})}function $E({item:e,originalRace:t,isExpanded:n=!1,onToggle:a,className:r,showViewAllButton:s=!1,showToggle:o=!0,viewAllButtonText:l="View All",viewAllButtonRoute:c="/race"}){const u=wt(),d=()=>{u(c)},f=(e==null?void 0:e.name)||(t==null?void 0:t.name)||"Unknown Race",m=(e==null?void 0:e.description)||(t==null?void 0:t.description)||"",h=(e==null?void 0:e.category)||(t==null?void 0:t.category)||"",g=(e==null?void 0:e.effects)||[],y=(e==null?void 0:e.summary)||(t==null?void 0:t.description)||"";return i.jsxs(gE,{isExpanded:n,onToggle:a||(()=>{}),className:r,children:[i.jsx("div",{className:"flex items-center gap-3",children:o&&i.jsx(Tc,{itemId:(t==null?void 0:t.edid)||(e==null?void 0:e.id)||"",itemType:"race",itemName:f})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ga,{raceName:f,size:"md"}),i.jsx($t,{className:"text-primary font-semibold",children:f})]}),i.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[h&&i.jsx(Ti,{category:h,size:"sm"}),g&&g.length>0&&i.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ft,{className:"h-3 w-3 text-yellow-500"}),i.jsxs("span",{children:[g.length," effects"]})]})}),s&&i.jsxs(Z,{variant:"outline",size:"sm",onClick:d,className:"text-xs",children:[i.jsx(Ul,{className:"h-3 w-3 mr-1"}),l]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"line-clamp-2",children:i.jsx(Qe,{className:"text-sm text-muted-foreground",children:y})}),i.jsx(ec,{effects:g,maxDisplay:2,compact:!0})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{children:i.jsx(Qe,{className:"text-sm text-muted-foreground leading-relaxed",children:m})}),(t==null?void 0:t.startingStats)&&i.jsx(nm,{stats:t.startingStats,regeneration:t.regeneration,title:"Starting Stats"}),(t==null?void 0:t.racialSpells)&&t.racialSpells.length>0&&i.jsx(ec,{effects:t.racialSpells.map(b=>({name:b.name,description:b.description})),title:"Racial Abilities"}),(t==null?void 0:t.keywords)&&t.keywords.length>0&&i.jsx(cx,{keywords:t.keywords.map(b=>b.edid),title:"Keywords"})]})]})}function am(e){var t,n;return{...e,id:e.edid,name:e.name,description:e.description,tags:[e.category,...Array.isArray(e.flags)?e.flags:[]],summary:e.description.length>100?`${e.description.substring(0,100)}...`:e.description,effects:[...((t=e.skillBonuses)==null?void 0:t.map(a=>({type:"positive",name:a.skill,description:`+${a.bonus} to ${a.skill}`,value:a.bonus,target:a.skill})))||[],...((n=e.racialSpells)==null?void 0:n.map(a=>({type:"positive",name:a.name,description:a.description})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalRace:e}}function $s({item:e,className:t,showToggle:n=!0,isExpanded:a=!1,onToggle:r,disableHover:s=!1}){const o=e.originalRace;return i.jsxs(le,{className:t,expanded:a,onToggle:r,disableHover:s,children:[i.jsx(le.Header,{children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[n&&i.jsx(Tc,{itemId:(o==null?void 0:o.edid)||e.id,itemType:"race",itemName:e.name}),i.jsx(ga,{raceName:e.name,size:"md"}),i.jsx($t,{className:"text-primary font-semibold",children:e.name})]}),i.jsx("div",{className:"flex items-center gap-3",children:e.category&&i.jsx(X,{variant:"outline",className:H("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category})})]})}),i.jsx(le.Summary,{children:i.jsx("div",{className:"line-clamp-2",children:i.jsx(Qe,{className:"text-sm text-muted-foreground",children:e.summary||e.description})})}),i.jsxs(le.Details,{children:[i.jsx("div",{children:i.jsx(Qe,{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),(o==null?void 0:o.startingStats)&&i.jsx(nm,{stats:o.startingStats,regeneration:o.regeneration,title:"Starting Attributes",showRegeneration:!1,compact:!1}),(o==null?void 0:o.skillBonuses)&&o.skillBonuses.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Skills"}),i.jsx("div",{className:"space-y-2",children:o.skillBonuses.map((l,c)=>i.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[i.jsxs("span",{className:"font-medium",children:[l.skill," +",l.bonus]}),i.jsx(X,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},c))})]}),(o==null?void 0:o.racialSpells)&&o.racialSpells.length>0&&i.jsx(ec,{effects:o.racialSpells.map(l=>({name:l.name,description:l.description})),title:"Quirks",showDescriptions:!0})]})]})}function HE(e,t){const n=p.useMemo(()=>e.map(l=>({id:l.edid.toLowerCase().replace("race",""),name:l.name,description:l.description,category:l.category,abilities:l.racialSpells.map(c=>c.name),skills:l.skillBonuses.map(c=>c.skill),keywords:l.keywords.map(c=>c.edid),originalRace:l})),[e]),a=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=p.useMemo(()=>new tn(n,a),[n,a]),s=p.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredRaces:p.useMemo(()=>s.map(l=>l.item.originalRace),[s]),searchResults:s,searchableRaces:n}}function go({races:e,onSelect:t,placeholder:n="Search races...",className:a=""}){const[r,s]=p.useState(""),{filteredRaces:o}=HE(e,r),l=p.useMemo(()=>o.map(d=>({id:d.edid,label:d.name,description:d.description,category:d.category,icon:i.jsx(ga,{raceName:d.name,size:"sm"}),badge:d.category&&i.jsx(X,{variant:"outline",className:H("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:d.category}),metadata:{originalRace:d}})),[o]),c=d=>{const f=e.find(m=>m.edid===d.id);f&&t(f)},u=(d,f)=>i.jsxs("div",{className:"flex items-center gap-3",children:[d.icon&&i.jsx("div",{className:"flex-shrink-0",children:d.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:d.label}),d.badge&&i.jsx("div",{className:"flex-shrink-0",children:d.badge})]}),d.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:d.description})]})]});return i.jsx(Oc,{options:l,onSelect:c,placeholder:n,className:a,renderOption:u,emptyMessage:"No races found",searchQuery:r,onSearchQueryChange:s})}function c7({className:e,allRaces:t}){const{build:n,setRace:a}=pt(),r=wt(),[s,o]=p.useState(!0),l=n.race?t.find(m=>m.edid===n.race):null,c=m=>{a(m.edid)},u=()=>{r("/race")},d=()=>{o(!s)};if(!l)return i.jsxs(Ln,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),i.jsx(go,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=am(l);return i.jsxs(Ln,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[i.jsx(go,{races:t,onSelect:c,placeholder:`Race: Select a race (${l.name})`,className:"w-full"}),i.jsx($s,{item:f,isExpanded:s,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function FE(){const[e,t]=p.useState(null),[n,a]=p.useState("grid"),[r,s]=p.useState([]),o=p.useCallback(f=>{t(f)},[]),l=p.useCallback(f=>{a(f)},[]),c=p.useCallback(f=>{s(m=>m.includes(f)?m.filter(h=>h!==f):[...m,f])},[]),u=p.useCallback(()=>{s([])},[]),d=p.useCallback(f=>{s(f)},[]);return{selectedRace:e,viewMode:n,expandedSections:r,setSelectedRace:o,setViewMode:l,toggleExpandedSection:c,clearExpandedSections:u,expandAllSections:d}}function rm({races:e}){const[t,n]=p.useState(""),[a,r]=p.useState({search:"",type:"",tags:[]}),s=p.useMemo(()=>ct.getUniqueCategories(e),[e]),o=p.useMemo(()=>ct.getUniqueTags(e),[e]),l=p.useMemo(()=>{let g=e;return t.trim()&&(g=ct.search(g,t)),a.type&&(g=ct.filterByCategory(g,a.type)),a.tags.length>0&&(g=ct.filterByTags(g,a.tags)),ct.sortByName(g)},[e,t,a]),c=p.useCallback(g=>{n(g),r(y=>({...y,search:g}))},[]),u=p.useCallback(g=>{r(g),n(g.search)},[]),d=p.useCallback(()=>{n(""),r({search:"",type:"",tags:[]})},[]),f=p.useCallback(g=>{r(y=>({...y,tags:y.tags.includes(g)?y.tags:[...y.tags,g]}))},[]),m=p.useCallback(g=>{r(y=>({...y,tags:y.tags.filter(b=>b!==g)}))},[]),h=p.useCallback(g=>{r(y=>({...y,type:g}))},[]);return{searchQuery:t,activeFilters:a,filteredRaces:l,categories:s,tags:o,setSearchQuery:c,setFilters:u,clearFilters:d,addTagFilter:f,removeTagFilter:m,setCategoryFilter:h}}function qE({races:e,selectedRaceId:t}){const n=p.useMemo(()=>e.map(u=>ct.transformToPlayerCreationItem(u)),[e]),a=p.useMemo(()=>a7.generateSearchCategories(e),[e]),r=p.useMemo(()=>t&&ct.getRaceById(e,t)||null,[e,t]),s=p.useMemo(()=>r?ct.calculateRaceStats(r):null,[r]),o=p.useMemo(()=>e.length,[e]),l=p.useMemo(()=>{const u=e.reduce((d,f)=>(d[f.category]=(d[f.category]||0)+1,d),{});return Object.entries(u).map(([d,f])=>({category:d,count:f}))},[e]),c=p.useMemo(()=>{const u=e.reduce((d,f)=>{var m;return f.keywords.forEach(h=>{d[h.edid]=(d[h.edid]||0)+1}),(m=f.flags)==null||m.forEach(h=>{d[h]=(d[h]||0)+1}),d},{});return Object.entries(u).map(([d,f])=>({tag:d,count:f})).sort((d,f)=>f.count-d.count)},[e]);return{transformedRaces:n,searchCategories:a,raceStats:s,selectedRaceDetails:r,totalRaces:o,categoriesWithCounts:l,tagsWithCounts:c}}function UE({raceId:e,allRaces:t}){const n=p.useMemo(()=>ct.getRaceById(t,e)||null,[t,e]),a=p.useMemo(()=>n?ct.getRelatedRaces(n,t):[],[n,t]),r=p.useMemo(()=>{if(!n||a.length===0)return null;const u=a[0];return{selectedRace:n,comparedRace:u,differences:{stats:{health:{selected:n.startingStats.health,compared:u.startingStats.health,difference:n.startingStats.health-u.startingStats.health},magicka:{selected:n.startingStats.magicka,compared:u.startingStats.magicka,difference:n.startingStats.magicka-u.startingStats.magicka},stamina:{selected:n.startingStats.stamina,compared:u.startingStats.stamina,difference:n.startingStats.stamina-u.startingStats.stamina},carryWeight:{selected:n.startingStats.carryWeight,compared:u.startingStats.carryWeight,difference:n.startingStats.carryWeight-u.startingStats.carryWeight}},skills:n.skillBonuses.map(d=>{const f=u.skillBonuses.find(m=>m.skill===d.skill);return{skill:d.skill,selected:d.bonus,compared:(f==null?void 0:f.bonus)||0,difference:d.bonus-((f==null?void 0:f.bonus)||0)}}),spells:{selected:n.racialSpells.map(d=>d.name),compared:u.racialSpells.map(d=>d.name),unique:n.racialSpells.filter(d=>!u.racialSpells.some(f=>f.name===d.name)).map(d=>d.name)}}}},[n,a]),s=p.useMemo(()=>a.length>0,[a]),o=p.useMemo(()=>a.length,[a]);return{race:n,relatedRaces:a,raceComparison:r,isLoading:!1,error:null,hasRelatedRaces:s,relatedRacesCount:o}}function u7({className:e}){const{races:t}=Go(),{build:n,setRace:a}=pt(),r=wt(),[s,o]=p.useState(!0),l=n.race?t.find(m=>m.edid===n.race):null,c=m=>{a(m.edid)},u=()=>{r("/build/race")},d=()=>{o(!s)};if(!l)return i.jsxs(Ln,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),i.jsx(go,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=am(l);return i.jsxs(Ln,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[i.jsx(go,{races:t,onSelect:c,placeholder:`Race: Select a race (${l.name})`,className:"w-full"}),i.jsx($s,{item:f,isExpanded:s,onToggle:d,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function YE(){const e=wt(),{build:t}=pt(),{races:n,isLoading:a,error:r}=Go(),{viewMode:s,setViewMode:o}=FE(),{filteredRaces:l}=rm({races:n}),u=(()=>{const w=[...new Set(n.flatMap(R=>R.keywords.map(N=>N.edid)))],S=[...new Set(n.flatMap(R=>R.skillBonuses.map(N=>N.skill)))],E=[...new Set(n.map(R=>R.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:w.map(R=>({id:`keyword-${R}`,label:R,value:R,category:"Fuzzy Search",description:`Races with ${R} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:S.map(R=>({id:`skill-${R}`,label:R,value:R,category:"Skill Bonuses",description:`Races with ${R} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:E.map(R=>({id:`category-${R}`,label:R,value:R,category:"Race Categories",description:`${R} races`}))}]})(),[d,f]=p.useState([]),m=w=>{let S;typeof w=="string"?S={id:`custom-${w}`,label:w,value:w,category:"Fuzzy Search"}:S={id:`${w.category}-${w.id}`,label:w.label,value:w.value,category:w.category},d.some(E=>E.value===S.value&&E.category===S.category)||f(E=>[...E,S])},h=w=>{f(S=>S.filter(E=>E.id!==w))},g=l.filter(w=>d.length===0?!0:d.every(S=>{switch(S.category){case"Fuzzy Search":return!0;case"Race Categories":return w.category===S.value;case"Skill Bonuses":return w.skillBonuses.some(E=>E.skill===S.value);case"Keywords":return w.keywords.some(E=>E.edid===S.value);default:return!0}})),y=d.filter(w=>w.category==="Fuzzy Search").map(w=>w.value).join(" "),{filteredRaces:b}=HE(g,y),x=b.map(w=>({...am(w),originalRace:w})),[v,_]=p.useState(new Set),k=w=>{const S=new Set(v);if(s==="grid"){const R=x.findIndex(D=>D.id===w),j=Math.floor(R/3)*3,O=Math.min(j+3,x.length);x.slice(j,O).some(D=>S.has(D.id))?x.slice(j,O).forEach(D=>{S.delete(D.id)}):x.slice(j,O).forEach(D=>{S.add(D.id)})}else S.has(w)?S.delete(w):S.add(w);_(S)};return a?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):r?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-4",children:r}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):i.jsxs(br,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>e("/build"),className:"flex items-center gap-2",children:[i.jsx(gd,{className:"h-4 w-4"}),"Back to Build"]})}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx(ri,{categories:u,onSelect:m,onCustomSearch:m})}),i.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[i.jsx(Z,{variant:s==="list"?"default":"ghost",size:"sm",onClick:()=>o("list"),className:"h-8 px-3",title:"List view",children:i.jsx(Js,{className:"h-4 w-4"})}),i.jsx(Z,{variant:s==="grid"?"default":"ghost",size:"sm",onClick:()=>o("grid"),className:"h-8 px-3",title:"Grid view",children:i.jsx(Ks,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"my-4",children:d.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("button",{onClick:()=>f([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[i.jsx(Yt,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),d.map(w=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>h(w.id),title:"Click to remove",children:[w.label,i.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"Ã—"})]},w.id))]})}),s==="grid"?i.jsx(zc,{columns:3,gap:"md",className:"w-full",children:x.map(w=>{var R;const S=v.has(w.id),E=t.race===((R=w.originalRace)==null?void 0:R.edid);return i.jsx($s,{item:w,isExpanded:S,onToggle:()=>k(w.id),className:H("w-full",E&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},w.id)})}):i.jsx("div",{className:"flex flex-col gap-4 w-full",children:x.map(w=>{var R;const S=v.has(w.id),E=t.race===((R=w.originalRace)==null?void 0:R.edid);return i.jsx($s,{item:w,isExpanded:S,onToggle:()=>k(w.id),className:H("w-full",E&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},w.id)})}),x.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function d7({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:a,onTagRemove:r}={}){const[s,o]=p.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return p.useEffect(()=>{e&&o(e)},[e]),{filters:s,handleSearch:f=>{const m={...s,search:f};o(m),n==null||n(f)},handleTagSelect:f=>{const m={id:`${f.category}-${f.id}`,label:f.label,value:f.value,category:f.category};if(!s.selectedTags.some(g=>g.id===m.id)){const g={...s,selectedTags:[...s.selectedTags,m]};o(g),a==null||a(m),t==null||t(g)}},handleTagRemove:f=>{const m={...s,selectedTags:s.selectedTags.filter(h=>h.id!==f)};o(m),r==null||r(f),t==null||t(m)},updateFilters:f=>{o(f),t==null||t(f)}}}function f7({className:e}){const{races:t,isLoading:n,error:a,categories:r,tags:s}=Go(),{searchQuery:o,setSearchQuery:l,filteredRaces:c}=rm({races:t}),u=z.useMemo(()=>c.map(_=>am(_)),[c]),d=z.useMemo(()=>[{id:"categories",name:"Categories",placeholder:"Search by category...",options:(r||[]).map(_=>({id:_,label:_,value:_,category:"categories",description:`Race category: ${_}`}))},{id:"tags",name:"Tags",placeholder:"Search by tags...",options:(s||[]).map(_=>({id:_,label:_,value:_,category:"tags",description:`Race tag: ${_}`}))}],[r,s]),{filters:f,handleSearch:m,handleTagSelect:h,handleTagRemove:g}=d7({onSearch:l,onFiltersChange:_=>{}});z.useEffect(()=>{o!==f.search&&m(o)},[o,m,f.search]);const[y,b]=z.useState(null),x=_=>{const k=t.find(w=>w.edid===_.id);return k?i.jsx($E,{item:_,originalRace:k,isExpanded:!1,showToggle:!0,className:"h-full"},k.edid):null},v=_=>{const k=t.find(w=>w.edid===_.id);return k?i.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:k.name}),i.jsx("p",{className:"text-muted-foreground mb-4",children:k.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Category:"})," ",k.category]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Health:"})," ",k.startingStats.health]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Magicka:"})," ",k.startingStats.magicka]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Stamina:"})," ",k.startingStats.stamina]})]})]}):null};return n?i.jsx("div",{className:H("container mx-auto p-6",e),children:i.jsxs("div",{className:"animate-pulse space-y-6",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((_,k)=>i.jsx("div",{className:"h-64 bg-gray-200 rounded"},k))})]})}):a?i.jsx("div",{className:H("container mx-auto p-6",e),children:i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[i.jsx("strong",{children:"Error:"})," ",a]})}):i.jsxs("div",{className:H("container mx-auto p-6",e),children:[i.jsx(_9,{searchCategories:d,selectedTags:f.selectedTags,viewMode:"grid",onTagSelect:h,onTagRemove:g,className:"mb-6"}),i.jsxs(x9,{children:[i.jsx(y9,{children:i.jsx(h9,{items:u,viewMode:"grid",onItemSelect:b,selectedItem:y,renderItemCard:x})}),i.jsx(v9,{children:y?v(y):i.jsx(b9,{title:"Select a Race",description:"Choose a race from the list to view its details"})})]})]})}function m7({className:e,selectedRace:t,onRaceSelect:n,onRaceClear:a,showSearch:r=!0,showComparison:s=!1,maxDisplayRaces:o=3}){const{races:l,isLoading:c,error:u}=Go(),{filteredRaces:d}=rm({races:l});qE({races:l,selectedRaceId:(t==null?void 0:t.edid)||null});const[f,m]=z.useState(!1);return c?i.jsx("div",{className:H("p-4 border rounded-lg",e),children:i.jsxs("div",{className:"animate-pulse space-y-3",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),i.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})}):u?i.jsx("div",{className:H("p-4 border rounded-lg",e),children:i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded text-sm",children:[i.jsx("strong",{children:"Error:"})," ",u]})}):i.jsxs("div",{className:H("border rounded-lg overflow-hidden",e),children:[i.jsxs("div",{className:"p-4 bg-muted/50 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx($t,{className:"text-lg font-semibold",children:"Race Selection"}),t&&i.jsx(Z,{variant:"ghost",size:"sm",onClick:a,className:"text-muted-foreground hover:text-foreground",children:i.jsx(Yt,{className:"h-4 w-4"})})]}),t&&i.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx(X,{variant:"secondary",children:t.category}),i.jsxs(Qe,{className:"text-sm text-muted-foreground",children:[t.startingStats.health," HP, ",t.startingStats.magicka," MP, ",t.startingStats.stamina," SP"]})]})]}),i.jsx("div",{className:"p-4",children:t?i.jsxs("div",{className:"space-y-4",children:[i.jsx($s,{item:{id:t.edid,name:t.name,description:t.description,summary:t.description,category:t.category,effects:[],tags:[],originalRace:t},isExpanded:!0,showToggle:!1,className:"border-0 shadow-none"}),s&&i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx(Qe,{className:"text-sm font-medium mb-2",children:"Compare with:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.filter(h=>h.edid!==t.edid).slice(0,4).map(h=>i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-xs",children:h.name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})]}):i.jsxs("div",{className:"space-y-4",children:[r&&i.jsxs("div",{children:[i.jsx(Qe,{className:"text-sm font-medium mb-2",children:"Search for a race:"}),i.jsx(go,{races:d,onSelect:n,placeholder:"Type to search races...",className:"w-full"})]}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-sm font-medium mb-2",children:"Quick select:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.slice(0,o).map(h=>i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(h),className:"justify-start text-left h-auto p-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-xs",children:h.name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))}),l.length>o&&i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>m(!f),className:"mt-2 w-full",children:[i.jsx(In,{className:H("h-4 w-4 transition-transform",f&&"rotate-180")}),"Show ",l.length-o," more races"]})]}),f&&i.jsx("div",{className:"space-y-2",children:l.slice(o).map(h=>i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>n==null?void 0:n(h),className:"w-full justify-start text-left h-auto p-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-muted rounded flex items-center justify-center text-xs font-medium",children:h.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-xs",children:h.name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:h.category})]})]})},h.edid))})]})})]})}function h7({raceId:e,className:t}){const n=wt(),{race:a,relatedRaces:r}=UE(e);return Go(),a?i.jsxs("div",{className:H("container mx-auto p-6",t),children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(Z,{variant:"ghost",onClick:()=>n("/races"),className:"mb-4",children:[i.jsx(gd,{className:"h-4 w-4 mr-2"}),"Back to Races"]}),i.jsxs("div",{className:"flex items-start gap-6",children:[i.jsx(ga,{raceName:a.name,size:"xl"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ti,{className:"text-3xl font-bold",children:a.name}),i.jsx(Ti,{category:a.category,size:"lg"})]}),i.jsx(Qe,{className:"text-lg text-muted-foreground mb-4",children:a.description}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(AT,{className:"h-4 w-4"}),i.jsx("span",{children:"Playable Race"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ft,{className:"h-4 w-4"}),i.jsxs("span",{children:[a.keywords.length," Keywords"]})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[i.jsx(Ci,{className:"text-xl font-semibold mb-4",children:"Statistics"}),i.jsx(nm,{stats:a.startingStats,regeneration:a.regeneration,title:"Starting Stats",compact:!1,showRegeneration:!0})]}),a.racialSpells.length>0&&i.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[i.jsx(Ci,{className:"text-xl font-semibold mb-4",children:"Racial Abilities"}),i.jsx(ec,{effects:a.racialSpells.map(s=>({name:s.name,description:s.description})),title:"Racial Spells",showDescriptions:!0,compact:!1})]}),a.keywords.length>0&&i.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[i.jsx(Ci,{className:"text-xl font-semibold mb-4",children:"Keywords"}),i.jsx(cx,{keywords:a.keywords.map(s=>s.edid),title:"Race Keywords",showCount:!0})]}),i.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[i.jsx(Ci,{className:"text-xl font-semibold mb-4",children:"Additional Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx($t,{className:"text-lg font-medium mb-2",children:"Description"}),i.jsx(Qe,{className:"text-muted-foreground",children:a.description})]}),a.racialSpells.length>0&&i.jsxs("div",{children:[i.jsx($t,{className:"text-lg font-medium mb-2",children:"Racial Spells"}),i.jsx("div",{className:"space-y-2",children:a.racialSpells.map((s,o)=>i.jsxs("div",{className:"p-3 bg-muted/50 rounded",children:[i.jsx("div",{className:"font-medium",children:s.name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:s.description})]},o))})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[i.jsx($t,{className:"text-lg font-semibold mb-3",children:"Quick Actions"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Z,{className:"w-full",size:"sm",children:"Add to Character Build"}),i.jsx(Z,{variant:"outline",className:"w-full",size:"sm",children:"Compare with Other Races"}),i.jsxs(Z,{variant:"outline",className:"w-full",size:"sm",children:[i.jsx(Ul,{className:"h-4 w-4 mr-2"}),"View in Wiki"]})]})]}),i.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[i.jsx($t,{className:"text-lg font-semibold mb-3",children:"Race Summary"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),i.jsx(X,{variant:"secondary",children:a.category})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Health:"}),i.jsx("span",{className:"font-medium",children:a.startingStats.health})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Magicka:"}),i.jsx("span",{className:"font-medium",children:a.startingStats.magicka})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamina:"}),i.jsx("span",{className:"font-medium",children:a.startingStats.stamina})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Carry Weight:"}),i.jsx("span",{className:"font-medium",children:a.startingStats.carryWeight})]})]})]}),r.length>0&&i.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[i.jsx($t,{className:"text-lg font-semibold mb-3",children:"Related Races"}),i.jsx("div",{className:"space-y-2",children:r.slice(0,3).map(s=>i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>n(`/races/${s.edid}`),className:"w-full justify-start text-left h-auto p-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ga,{raceName:s.name,size:"sm"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:s.name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:s.category})]})]})},s.edid))})]})]})]})]}):i.jsxs("div",{className:H("container mx-auto p-6",t),children:[i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[i.jsx("strong",{children:"Error:"})," ","Race not found"]}),i.jsxs(Z,{variant:"outline",onClick:()=>n("/races"),className:"mt-4",children:[i.jsx(gd,{className:"h-4 w-4 mr-2"}),"Back to Races"]})]})}var p7="Separator",eb="horizontal",g7=["horizontal","vertical"],VE=p.forwardRef((e,t)=>{const{decorative:n,orientation:a=eb,...r}=e,s=x7(a)?a:eb,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(xe.div,{"data-orientation":s,...l,...r,ref:t})});VE.displayName=p7;function x7(e){return g7.includes(e)}var y7=VE;function v7({className:e,orientation:t="horizontal",decorative:n=!0,...a}){return i.jsx(y7,{"data-slot":"separator",decorative:n,orientation:t,className:H("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}function b7(){const{races:e,isLoading:t,error:n,categories:a,tags:r}=Go(),{selectedRace:s,setSelectedRace:o,viewMode:l,setViewMode:c,expandedSections:u}=FE(),{searchQuery:d,setSearchQuery:f,activeFilters:m,clearFilters:h,filteredRaces:g}=rm({races:e}),{transformedRaces:y,searchCategories:b,categoriesWithCounts:x}=qE({races:e,selectedRaceId:s}),{race:v,relatedRaces:_,raceComparison:k}=UE({raceId:s||"",allRaces:e}),[w,S]=z.useState(!1),[E,R]=z.useState("overview");if(t)return i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Loading..."}),i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]});if(n)return i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Races MVA Demo - Error"}),i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[i.jsx("strong",{children:"Error:"})," ",n]})]});const N=e[0];return i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Races MVA Demo - Model View Adapter Architecture"}),i.jsxs(Cc,{value:E,onValueChange:R,className:"mb-6",children:[i.jsxs(Mc,{children:[i.jsx(Zn,{value:"overview",children:"Overview"}),i.jsx(Zn,{value:"adapters",children:"Adapters"}),i.jsx(Zn,{value:"components",children:"Components"}),i.jsx(Zn,{value:"views",children:"Views"})]}),i.jsx(ya,{value:"overview",className:"space-y-6",children:i.jsxs(He,{children:[i.jsxs(Ke,{children:[i.jsx(st,{children:"MVA Architecture Overview"}),i.jsx(Dn,{children:"This demo showcases the Model-View-Adapter pattern implementation for the Races feature."})]}),i.jsx(Fe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Model Layer"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Data management and business logic"}),i.jsx(X,{variant:"outline",className:"mt-2",children:"RaceModel"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Adapter Layer"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"State management and data transformation"}),i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[i.jsx(X,{variant:"outline",children:"useRaceData"}),i.jsx(X,{variant:"outline",children:"useRaceState"}),i.jsx(X,{variant:"outline",children:"useRaceFilters"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"View Layer"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"UI components and presentation"}),i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[i.jsx(X,{variant:"outline",children:"RaceCard"}),i.jsx(X,{variant:"outline",children:"RacePageView"})]})]})]})})]})}),i.jsx(ya,{value:"adapters",className:"space-y-6",children:i.jsxs(He,{children:[i.jsxs(Ke,{children:[i.jsx(st,{children:"Adapter State Demo"}),i.jsx(Dn,{children:"Interactive demonstration of adapter state management"})]}),i.jsx(Fe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"State Management (useRaceState)"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Selected Race:"}),i.jsx(X,{variant:s?"default":"secondary",children:s||"None"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"View Mode:"}),i.jsxs("div",{className:"flex border rounded",children:[i.jsx(Z,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),children:"Grid"}),i.jsx(Z,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),children:"List"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Expanded Sections:"}),i.jsx(X,{variant:"outline",children:u.length})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Filters (useRaceFilters)"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Search Query:"}),i.jsx("input",{type:"text",value:d,onChange:j=>f(j.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"Search races..."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Active Filters:"}),i.jsx(X,{variant:"outline",children:m.tags.length+(m.type?1:0)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Filtered Results:"}),i.jsxs(X,{variant:"outline",children:[g.length," of ",e.length]})]}),i.jsx(Z,{size:"sm",onClick:h,children:"Clear Filters"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Computed Data (useRaceComputed)"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Transformed Races:"}),i.jsx(X,{variant:"outline",children:y.length})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Search Categories:"}),i.jsx(X,{variant:"outline",children:b.length})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Categories with Counts:"}),i.jsx(X,{variant:"outline",children:Object.keys(x).length})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Detail View (useRaceDetail)"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Selected Race Details:"}),i.jsx(X,{variant:v?"default":"secondary",children:(v==null?void 0:v.name)||"None"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Related Races:"}),i.jsx(X,{variant:"outline",children:_.length})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Comparison Available:"}),i.jsx(X,{variant:k?"default":"secondary",children:k?"Yes":"No"})]})]})]})]})})]})}),i.jsxs(ya,{value:"components",className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Atomic & Composition Components"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Data Summary"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Total Races:"})," ",e.length]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Categories:"})," ",a.join(", ")]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Total Tags:"})," ",r.length]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Sample Race: ",N==null?void 0:N.name]}),N&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-gray-600 text-sm",children:N.description}),i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{children:"Category:"})," ",N.category]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{children:"Keywords:"})," ",N.keywords.length]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAvatar Component"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),i.jsx(ga,{raceName:(N==null?void 0:N.name)||"Nord",size:"sm"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),i.jsx(ga,{raceName:(N==null?void 0:N.name)||"Nord",size:"md"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),i.jsx(ga,{raceName:(N==null?void 0:N.name)||"Nord",size:"lg"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Extra Large"}),i.jsx(ga,{raceName:(N==null?void 0:N.name)||"Nord",size:"xl"})]})]}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Uses generic EntityAvatar with race-specific configuration"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"CategoryBadge Component"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),i.jsx(Ti,{category:"Human",size:"sm"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),i.jsx(Ti,{category:"Elf",size:"md"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),i.jsx(Ti,{category:"Beast",size:"lg"})]})]}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Uses generic CategoryBadge with race-specific styling"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"KeywordTag Component"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Auto-detected types:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(ma,{keyword:"destruction"}),i.jsx(ma,{keyword:"waterbreathing"}),i.jsx(ma,{keyword:"strong stomach"}),i.jsx(ma,{keyword:"custom_flag"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Explicit types:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(ma,{keyword:"alteration",type:"skill"}),i.jsx(ma,{keyword:"night eye",type:"ability"}),i.jsx(ma,{keyword:"beast race",type:"trait"}),i.jsx(ma,{keyword:"magic",type:"flag"})]})]}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Auto-detects keyword types or accepts explicit type prop"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"StatBar Component"}),i.jsxs("div",{className:"space-y-4",children:[N&&i.jsxs("div",{className:"space-y-3",children:[i.jsx(Nn,{value:N.startingStats.health,maxValue:200,label:"Health",color:"red",size:"md"}),i.jsx(Nn,{value:N.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"md"}),i.jsx(Nn,{value:N.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"md"})]}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Progress bars with configurable colors, sizes, and labels"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceStatsDisplay Component"}),i.jsxs("div",{className:"space-y-4",children:[N&&i.jsx(nm,{stats:N.startingStats,regeneration:N.regeneration,title:"Sample Stats",compact:!0}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Composition component that displays race statistics"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceEffectsDisplay Component"}),i.jsxs("div",{className:"space-y-4",children:[N&&N.racialSpells.length>0&&i.jsx(ec,{effects:N.racialSpells.map(j=>({name:j.name,description:j.description})),title:"Racial Abilities",maxDisplay:3}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Composition component for displaying race effects/abilities"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceKeywordsDisplay Component"}),i.jsxs("div",{className:"space-y-4",children:[N&&N.keywords.length>0&&i.jsx(cx,{keywords:N.keywords.map(j=>j.edid),title:"Race Keywords",maxDisplay:6}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Composition component that uses KeywordTag atomic components"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceCard Composition Component"}),i.jsxs("div",{className:"space-y-4",children:[N&&i.jsx($E,{originalRace:N,isExpanded:!0,showToggle:!1,className:"max-w-2xl"}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Main composition component that orchestrates all atomic components"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAutocomplete Component"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(go,{races:e.slice(0,5),onSelect:j=>console.log("Selected:",j.name),placeholder:"Search for a race...",className:"w-full"}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Search and selection component for races"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceAccordion Component"}),i.jsxs("div",{className:"space-y-4",children:[N&&i.jsx($s,{item:{id:N.edid,name:N.name,description:N.description,summary:N.description,category:N.category,effects:[],tags:[],originalRace:N},isExpanded:w,onToggle:()=>S(!w),showToggle:!0,className:"border-0 shadow-none"}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Accordion-style race display for player creation (click to expand/collapse)"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"RaceSelectionCard Component"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(c7,{allRaces:e.slice(0,5),className:"max-w-2xl"}),i.jsx("div",{className:"text-xs text-gray-500",children:i.jsx("p",{children:"Complete race selection interface for player creation"})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sample Races with All Components"}),i.jsx("div",{className:"space-y-4",children:e.slice(0,2).map(j=>i.jsxs("div",{className:"border rounded p-4",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[i.jsx(ga,{raceName:j.name,size:"md"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-lg",children:j.name}),i.jsx("div",{className:"flex items-center gap-2 mt-1",children:i.jsx(Ti,{category:j.category,size:"sm"})})]})]}),i.jsx("p",{className:"text-sm mb-3",children:j.description}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[i.jsx(Nn,{value:j.startingStats.health,maxValue:200,label:"Health",color:"red",size:"sm"}),i.jsx(Nn,{value:j.startingStats.magicka,maxValue:200,label:"Magicka",color:"blue",size:"sm"}),i.jsx(Nn,{value:j.startingStats.stamina,maxValue:200,label:"Stamina",color:"green",size:"sm"})]}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.keywords.slice(0,5).map((O,I)=>i.jsx(ma,{keyword:O.edid},I)),j.keywords.length>5&&i.jsxs("span",{className:"text-xs text-gray-500",children:["+",j.keywords.length-5," more"]})]})]},j.edid))})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow lg:col-span-2",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"View Components Demo"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceQuickSelectorView"}),i.jsx(m7,{selectedRace:s?e.find(j=>j.edid===s):void 0,onRaceSelect:j=>o(j.edid),onRaceClear:()=>o(null),showSearch:!0,showComparison:!0,maxDisplayRaces:3,className:"max-w-md"}),i.jsx("div",{className:"text-xs text-gray-500 mt-2",children:i.jsx("p",{children:"Compact selection interface for embedded contexts"})})]}),s&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3",children:"RaceDetailView"}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx(h7,{raceId:s,className:"p-4"})}),i.jsx("div",{className:"text-xs text-gray-500 mt-2",children:i.jsx("p",{children:"Detailed race view with rich information display"})})]})]})]})]})]}),i.jsxs(ya,{value:"views",className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"View Components"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(He,{children:[i.jsxs(Ke,{children:[i.jsx(st,{children:"RacePageView"}),i.jsx(Dn,{children:"Main page view with full functionality"})]}),i.jsx(Fe,{children:i.jsx(YE,{className:"border rounded-lg p-4"})})]}),i.jsxs(He,{children:[i.jsxs(Ke,{children:[i.jsx(st,{children:"RaceReferenceView"}),i.jsx(Dn,{children:"Browse/search interface"})]}),i.jsx(Fe,{children:i.jsx(f7,{className:"border rounded-lg p-4"})})]})]})]})]})]})}function Xm({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const a=n.split(/(<[^>]+>)/g);return i.jsx("div",{className:t,children:a.map((r,s)=>{if(r.startsWith("<")&&r.endsWith(">")){const o=r.slice(1,-1);return i.jsx("span",{className:"font-bold italic text-skyrim-gold",children:o},s)}return r})})}function _7({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return i.jsx(Qe,{className:"text-xs text-muted-foreground",children:t.map((n,a)=>{if(n.startsWith("<")&&n.endsWith(">")){const r=n.slice(1,-1);return i.jsx("span",{className:"font-bold italic text-skyrim-gold",children:r},a)}return n})})}function Km({description:e,magnitude:t,duration:n,area:a=0}){if(!e)return null;let r=e.replace(/<[^>]*>/g,"");r=r.replace(/<mag>/g,t.toString()),r=r.replace(/<magnitude>/g,t.toString()),r=r.replace(/<dur>/g,n.toString()),r=r.replace(/<duration>/g,n.toString()),a>0&&(r=r.replace(/<area>/g,a.toString())),r=r.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const s=r.split(/(<[^>]+>)/g);return i.jsx(Qe,{className:"text-xs text-muted-foreground",children:s.map((o,l)=>{if(o.startsWith("<")&&o.endsWith(">")){const c=o.slice(1,-1);return i.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},l)}return o})})}function Jm(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function eh(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],a=t.some(s=>s.test(e)),r=n.some(s=>s.test(e));return{hasMagnitude:a,hasDuration:r}}const k7={Restoration:i.jsx(Sf,{className:"h-4 w-4 text-green-500"}),Destruction:i.jsx(f1,{className:"h-4 w-4 text-red-500"}),Alteration:i.jsx(Ir,{className:"h-4 w-4 text-blue-500"}),Illusion:i.jsx(Wy,{className:"h-4 w-4 text-purple-500"}),Conjuration:i.jsx(a0,{className:"h-4 w-4 text-purple-500"}),Enchanting:i.jsx(d1,{className:"h-4 w-4 text-blue-500"}),Alchemy:i.jsx(CM,{className:"h-4 w-4 text-green-500"}),"Light Armor":i.jsx(Ir,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":i.jsx(Ir,{className:"h-4 w-4 text-gray-500"}),"One-Handed":i.jsx(rp,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":i.jsx(rp,{className:"h-4 w-4 text-red-500"}),Archery:i.jsx(p1,{className:"h-4 w-4 text-green-500"}),Block:i.jsx(Ir,{className:"h-4 w-4 text-yellow-500"}),Smithing:i.jsx(Ir,{className:"h-4 w-4 text-gray-500"}),Speechcraft:i.jsx(Wy,{className:"h-4 w-4 text-blue-500"}),Sneak:i.jsx(e0,{className:"h-4 w-4 text-purple-500"}),Lockpicking:i.jsx(Zy,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:i.jsx(Zy,{className:"h-4 w-4 text-purple-500"})},w7={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},tb={sm:"text-xs px-2 py-0.5"};function Dd({item:e,originalReligion:t,isExpanded:n=!1,onToggle:a,className:r,showBlessings:s=!0,showTenets:o=!0,showBoons:l=!0,showFavoredRaces:c=!0,disableHover:u,showToggle:d}){var h,g,y,b,x,v,_,k;const f=w=>{switch(w){case"positive":return i.jsx(Yi,{className:"h-4 w-4 text-green-500"});case"negative":return i.jsx(Nl,{className:"h-4 w-4 text-red-500"});case"neutral":return i.jsx(wf,{className:"h-4 w-4 text-blue-500"})}},m=w=>k7[w]||i.jsx(Ft,{className:"h-4 w-4 text-skyrim-gold"});return i.jsxs(le,{expanded:n,onToggle:a,className:r,disableHover:u,children:[i.jsxs(le.Header,{children:[d&&i.jsx(Tc,{itemId:e.id,itemType:"religion",itemName:e.name}),i.jsx("div",{className:"flex-1",children:i.jsx($t,{className:"text-primary font-semibold",children:e.name})}),e.category&&i.jsx(X,{variant:"outline",className:H(w7[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",tb.sm,"font-medium transition-colors"),children:e.category}),c&&t&&Array.isArray(t.favoredRaces)&&t.favoredRaces.length>0&&i.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((w,S)=>i.jsxs(X,{variant:"outline",className:H("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",tb.sm,"font-medium transition-colors"),children:[i.jsx(Ft,{className:"h-3 w-3 mr-1"}),"Favors ",w]},S))})]}),i.jsxs(le.Summary,{children:[i.jsx("div",{className:"line-clamp-2",children:i.jsx(Xm,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[(h=e.effects)==null?void 0:h.slice(0,2).map((w,S)=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:w.description,children:[f(w.type),i.jsx("span",{className:"font-medium",children:w.name})]},S)),c&&((g=t==null?void 0:t.favoredRaces)==null?void 0:g.slice(0,2).map((w,S)=>i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[i.jsx(Ft,{className:"h-3 w-3 text-skyrim-gold"}),i.jsx("span",{className:"font-medium",children:w})]},`race-${S}`)))]})]}),i.jsxs(le.Details,{children:[e.description&&i.jsx("div",{children:i.jsx(Xm,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),c&&Array.isArray(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((w,S)=>i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[i.jsx(Ft,{className:"h-4 w-4 text-skyrim-gold"}),i.jsx("span",{className:"text-sm font-medium",children:w})]},S))})]}),Array.isArray(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),i.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((w,S)=>i.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Nl,{className:"h-4 w-4 text-red-500 mt-0.5"}),i.jsx(Xm,{text:w,className:"text-sm text-muted-foreground"})]})},S))})]}),s&&Array.isArray((y=t==null?void 0:t.blessing)==null?void 0:y.effects)&&t.blessing.effects.length>0&&i.jsxs("div",{children:[i.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),i.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(w=>w.effectType!=="1"&&w.effectType!=="3").map((w,S)=>{const{hasDuration:E}=eh(w.effectDescription);return i.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),w.effectType&&m(w.effectType)]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Qe,{className:"font-medium text-sm mb-1",children:w.effectName}),i.jsx(Km,{description:w.effectDescription,magnitude:w.magnitude,duration:w.duration,area:w.area}),E&&w.duration>0&&i.jsxs(Qe,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",Jm(w.duration),"."]}),i.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:w.area>0&&i.jsxs("span",{children:["Area: ",w.area]})})]})]})},S)})})]}),o&&Array.isArray((b=t==null?void 0:t.tenet)==null?void 0:b.effects)&&t.tenet.effects.length>0&&i.jsxs("div",{children:[i.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((w,S)=>w.effectDescription.split(".").filter(R=>R.trim().length>0).map((R,N)=>i.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),w.targetAttribute&&m(w.targetAttribute)]}),i.jsx("div",{className:"flex-1",children:i.jsx(_7,{description:R.trim()+"."})})]},`${S}-${N}`)))})]}),l&&(Array.isArray((x=t==null?void 0:t.boon1)==null?void 0:x.effects)&&t.boon1.effects.length>0||Array.isArray((v=t==null?void 0:t.boon2)==null?void 0:v.effects)&&t.boon2.effects.length>0)&&i.jsxs("div",{children:[i.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),i.jsxs("div",{className:"space-y-4",children:[Array.isArray((_=t==null?void 0:t.boon1)==null?void 0:_.effects)&&t.boon1.effects.length>0&&i.jsxs("div",{children:[i.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),i.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((w,S)=>{const{hasDuration:E}=eh(w.effectDescription);return i.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),w.effectType&&m(w.effectType)]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Qe,{className:"font-medium text-sm mb-1",children:w.effectName}),i.jsx(Km,{description:w.effectDescription,magnitude:w.magnitude,duration:w.duration,area:w.area}),E&&w.duration>0&&i.jsxs(Qe,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Jm(w.duration),"."]}),i.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:w.area>0&&i.jsxs("span",{children:["Area: ",w.area]})})]})]})},S)})})]}),Array.isArray((k=t==null?void 0:t.boon2)==null?void 0:k.effects)&&t.boon2.effects.length>0&&i.jsxs("div",{children:[i.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),i.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((w,S)=>{const{hasDuration:E}=eh(w.effectDescription);return i.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[f("positive"),w.effectType&&m(w.effectType)]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Qe,{className:"font-medium text-sm mb-1",children:w.effectName}),i.jsx(Km,{description:w.effectDescription,magnitude:w.magnitude,duration:w.duration,area:w.area}),E&&w.duration>0&&i.jsxs(Qe,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Jm(w.duration),"."]}),i.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:w.area>0&&i.jsxs("span",{children:["Area: ",w.area]})})]})]})},S)})})]})]})]})]})]})}function S7(){const{data:e,loading:t,error:n}=mE(),[a,r]=p.useState(new Set),[s,o]=p.useState("alphabetical"),[l,c]=p.useState("grid"),[u,d]=p.useState(!0),[f,m]=p.useState(!0),[h,g]=p.useState(!0),[y,b]=p.useState(!0),x=p.useMemo(()=>(e||[]).map(Np),[e]),_=(()=>{const T=[...new Set((e||[]).map(M=>M.pantheon).filter(Boolean))],C=[...new Set(x.flatMap(M=>M.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:T.map(M=>({id:`pantheon-${M}`,label:M,value:M,category:"Pantheons",description:`Religions from ${M} pantheon`}))},{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:C.map(M=>({id:`race-${M}`,label:M,value:M,category:"Favored Races",description:`Religions that favor ${M}`}))}]})(),[k,w]=p.useState([]),S=T=>{let C;typeof T=="string"?C={id:`custom-${T}`,label:T,value:T,category:"Custom"}:C={id:T.id,label:T.label,value:T.value,category:T.category},k.find(M=>M.value===C.value)||w(M=>[...M,C])},E=T=>{w(C=>C.filter(M=>M.id!==T))},R=p.useMemo(()=>k.length===0?e||[]:(e||[]).filter(T=>k.every(C=>{var L,P,Q;const M=C.value.toLowerCase();return!!((L=T.pantheon)!=null&&L.toLowerCase().includes(M)||(P=T.tags)!=null&&P.some(F=>F.toLowerCase().includes(M))||T.name.toLowerCase().includes(M)||(Q=T.description)!=null&&Q.toLowerCase().includes(M))})),[e,k]),N=p.useMemo(()=>{const T=[...R];switch(s){case"alphabetical":return T.sort((C,M)=>C.name.localeCompare(M.name));case"divine-type":return T.sort((C,M)=>{const L=F=>{switch(F==null?void 0:F.toLowerCase()){case"divine":return 1;case"daedric":return 2;case"yokudan":return 3;case"custom":return 4;default:return 5}},P=L(C.pantheon),Q=L(M.pantheon);return P!==Q?P-Q:C.name.localeCompare(M.name)});default:return T}},[R,s]),j=p.useMemo(()=>N.map(Np),[N]),O=T=>{r(C=>{const M=new Set(C);return M.has(T)?M.delete(T):M.add(T),M})},I=()=>{r(new Set(j.map(T=>T.id)))},D=()=>{r(new Set)},A=j.length>0&&j.every(T=>a.has(T.id));return j.some(T=>a.has(T.id)),t?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading religions..."})]})}):n?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-4",children:n}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):i.jsxs(br,{title:"Religions",description:"Choose your character's religion. Each deity offers unique blessings, tenets, and powers that will guide your spiritual journey through Tamriel.",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx(ri,{categories:_,onSelect:S,onCustomSearch:S})}),i.jsxs(q0,{children:[i.jsx(U0,{asChild:!0,children:i.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(In,{className:"h-4 w-4"}),s==="alphabetical"?"A-Z":"Type"]})}),i.jsxs($f,{align:"end",children:[i.jsx(sr,{onClick:()=>o("alphabetical"),children:"Alphabetical"}),i.jsx(sr,{onClick:()=>o("divine-type"),children:"Divine Type"})]})]}),i.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[i.jsx(Z,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 px-3",title:"List view",children:i.jsx(Js,{className:"h-4 w-4"})}),i.jsx(Z,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),className:"h-8 px-3",title:"Grid view",children:i.jsx(Ks,{className:"h-4 w-4"})})]}),i.jsx(Z,{variant:"outline",size:"sm",onClick:A?D:I,className:"flex items-center justify-center",title:A?"Collapse all accordions":"Expand all accordions",children:A?i.jsx(h1,{className:"h-4 w-4"}):i.jsx(m1,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"my-4",children:k.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("button",{onClick:()=>w([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[i.jsx(Yt,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),k.map(T=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>E(T.id),title:"Click to remove",children:[T.label,i.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"Ã—"})]},T.id))]})}),j.length>0&&i.jsxs($9,{children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[i.jsx(Ga,{checked:u&&f&&h&&y,onCheckedChange:T=>{d(T),m(T),g(T),b(T)}}),i.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),i.jsxs(k9,{columns:4,children:[i.jsx(xu,{title:"Blessings",description:"Deity blessings and effects",checked:u,onCheckedChange:d}),i.jsx(xu,{title:"Tenets",description:"Religious tenets and rules",checked:f,onCheckedChange:m}),i.jsx(xu,{title:"Boons",description:"Follower and devotee powers",checked:h,onCheckedChange:g}),i.jsx(xu,{title:"Favored Races",description:"Races favored by this deity",checked:y,onCheckedChange:b})]})]}),l==="grid"?i.jsx(zc,{columns:3,gap:"md",className:"w-full mt-6",children:j.map(T=>{const C=e.find(L=>L.name===T.name),M=a.has(T.id);return i.jsx(Dd,{item:T,originalReligion:C,isExpanded:M,onToggle:()=>O(T.id),className:"w-full",showBlessings:u,showTenets:f,showBoons:h,showFavoredRaces:y},T.id)})}):i.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:j.map(T=>{const C=e.find(L=>L.name===T.name),M=a.has(T.id);return i.jsx(Dd,{item:T,originalReligion:C,isExpanded:M,onToggle:()=>O(T.id),className:"w-full",showBlessings:u,showTenets:f,showBoons:h,showFavoredRaces:y},T.id)})}),j.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground",children:"No religions found matching your criteria."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}const E7="modulepreload",R7=function(e){return"/lorerim-arcaneum/"+e},nb={},Ar=function(t,n,a){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=R7(c),c in nb)return;nb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":E7,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function ab(e){return e.map(t=>({id:`skill-${t.id}`,type:"skill",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...t.keyAbilities||[],...t.metaTags||[],t.scaling||""],originalData:t,url:`/build/perks?skill=${t.id}`}))}function rb(e){return e.map(t=>({id:`race-${t.id}`,type:"race",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.source||"",...t.tags||[],...t.keywords||[]],originalData:t,url:"/races"}))}function sb(e){return e.map(t=>{var n;return{id:`trait-${t.id}`,type:"trait",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",...t.tags||[],...((n=t.effects)==null?void 0:n.map(a=>a.description||a.type))||[]],originalData:t,url:"/traits"}})}function ib(e){return e.map(t=>{var n,a,r,s,o,l,c,u,d,f;return{id:`religion-${t.id||t.name}`,type:"religion",name:t.name,description:((n=t.tenet)==null?void 0:n.description)||"",category:t.type||t.pantheon||"",tags:t.tags||[],searchableText:[t.name,((a=t.tenet)==null?void 0:a.description)||"",t.type||"",t.pantheon||"",...t.tags||[],...t.favoredRaces||[],...t.worshipRestrictions||[],...((s=(r=t.tenet)==null?void 0:r.effects)==null?void 0:s.map(m=>m.effectName))||[],...((l=(o=t.blessing)==null?void 0:o.effects)==null?void 0:l.map(m=>m.effectName))||[],...((u=(c=t.boon1)==null?void 0:c.effects)==null?void 0:u.map(m=>m.effectName))||[],...((f=(d=t.boon2)==null?void 0:d.effects)==null?void 0:f.map(m=>m.effectName))||[]],originalData:t,url:"/religions"}})}function ob(e){return e.map(t=>{var n,a;return{id:`birthsign-${t.id||t.edid}`,type:"birthsign",name:t.name,description:t.description,category:t.group,tags:t.tags||[],searchableText:[t.name,t.description||"",t.group||"",...t.tags||[],...((n=t.powers)==null?void 0:n.map(r=>r.name||r.description))||[],...((a=t.stat_modifications)==null?void 0:a.map(r=>r.stat))||[]],originalData:t,url:"/birthsigns"}})}function lb(e){return e.map(t=>({id:`destiny-${t.id}`,type:"destiny",name:t.name,description:t.description,category:t.category,tags:t.tags||[],searchableText:[t.name,t.description||"",t.category||"",t.lore||"",...t.tags||[],...t.prerequisites||[]],originalData:t,url:"/destiny"}))}function cb(e){return e.map(t=>{var n;return{id:`perk-${t.treeId||t.id}`,type:"perk",name:t.treeName||t.name,description:t.treeDescription||t.description,category:t.category,tags:t.tags||[],searchableText:[t.treeName||t.name,t.treeDescription||t.description||"",t.category||"",...t.tags||[],...((n=t.perks)==null?void 0:n.map(a=>a.name))||[]],originalData:t,url:"/build/perks"}})}function ub(e){return e.map(t=>{var n,a,r,s,o,l;return{id:`perk-ref-${t.edid}`,type:"perk-reference",name:t.name,description:((a=(n=t.ranks[0])==null?void 0:n.description)==null?void 0:a.base)||"",category:t.category,tags:t.tags,searchableText:[t.name,((s=(r=t.ranks[0])==null?void 0:r.description)==null?void 0:s.base)||"",((l=(o=t.ranks[0])==null?void 0:o.description)==null?void 0:l.subtext)||"",t.skillTreeName,t.category,...t.tags,...t.prerequisites,t.isRoot?"root perk":"branch perk",t.totalRanks>1?"multi-rank":"single-rank"],originalData:t,url:`/perk-references?skill=${t.skillTree}&perk=${t.edid}`}})}function db(e){return e.map(t=>({id:`spell-${t.editorId}`,type:"spell",name:t.name,description:t.description,category:t.school,tags:t.tags,searchableText:[t.name,t.description||"",t.school||"",t.level||"",t.tome||"",...t.tags,...t.effects.map(n=>n.name),...t.effects.map(n=>n.description),t.isAreaSpell?"area spell":"",t.isDurationSpell?"duration spell":"",t.isInstantSpell?"instant spell":"",`magicka cost ${t.magickaCost}`,`magnitude ${t.totalMagnitude}`,`duration ${t.maxDuration}`,`area ${t.maxArea}`].filter(Boolean),originalData:t,url:`/spells?spell=${t.editorId}`}))}function N7(e){return{id:e.item.id,name:e.item.name,description:e.item.description||"",summary:e.item.description||"",tags:e.item.tags,category:e.item.category,imageUrl:void 0,effects:[],associatedItems:[],originalSearchResult:e}}function j7(e){return e.map(t=>{var n,a;return{field:t.key||"unknown",snippet:t.value,startIndex:((n=t.indices[0])==null?void 0:n[0])||0,endIndex:((a=t.indices[0])==null?void 0:a[1])||0}})}class A7{constructor(){nt(this,"searchIndex",null);nt(this,"isIndexing",!1);nt(this,"allSearchableItems",[]);nt(this,"indexedStores",new Set);nt(this,"fuseOptions",{keys:[{name:"name",weight:.8},{name:"description",weight:.6},{name:"category",weight:.4},{name:"tags",weight:.5},{name:"searchableText",weight:.3}],threshold:.4,includeMatches:!0,includeScore:!0,minMatchCharLength:2,ignoreLocation:!0,useExtendedSearch:!0,findAllMatches:!0});nt(this,"transformSkillsToSearchable",ab);nt(this,"transformRacesToSearchable",rb);nt(this,"transformTraitsToSearchable",sb);nt(this,"transformReligionsToSearchable",ib);nt(this,"transformBirthsignsToSearchable",ob);nt(this,"transformDestinyNodesToSearchable",lb);nt(this,"transformPerkTreesToSearchable",cb);nt(this,"transformPerkReferencesToSearchable",ub);nt(this,"transformSpellsToSearchable",db)}async addToIndex(t,n){this.indexedStores.has(t)||(this.allSearchableItems.push(...n),this.indexedStores.add(t),this.searchIndex=new tn(this.allSearchableItems,this.fuseOptions))}hasIndexedData(){return this.allSearchableItems.length>0}async buildSearchIndex(){if(!this.isIndexing){this.isIndexing=!0;try{const{useSkillsStore:t}=await Ar(async()=>{const{useSkillsStore:_}=await Promise.resolve().then(()=>gO);return{useSkillsStore:_}},[]),{useRacesStore:n}=await Ar(async()=>{const{useRacesStore:_}=await Promise.resolve().then(()=>hO);return{useRacesStore:_}},void 0),{useTraitsStore:a}=await Ar(async()=>{const{useTraitsStore:_}=await Promise.resolve().then(()=>yO);return{useTraitsStore:_}},void 0),{useReligionsStore:r}=await Ar(async()=>{const{useReligionsStore:_}=await Promise.resolve().then(()=>pO);return{useReligionsStore:_}},void 0),{useBirthsignsStore:s}=await Ar(async()=>{const{useBirthsignsStore:_}=await Promise.resolve().then(()=>uO);return{useBirthsignsStore:_}},void 0),{useDestinyNodesStore:o}=await Ar(async()=>{const{useDestinyNodesStore:_}=await Promise.resolve().then(()=>fO);return{useDestinyNodesStore:_}},void 0),{usePerkTreesStore:l}=await Ar(async()=>{const{usePerkTreesStore:_}=await Promise.resolve().then(()=>mO);return{usePerkTreesStore:_}},void 0),{SpellDataProvider:c}=await Ar(async()=>{const{SpellDataProvider:_}=await Promise.resolve().then(()=>xO);return{SpellDataProvider:_}},void 0),u=t.getState().data,d=n.getState().data,f=a.getState().data,m=r.getState().data,h=s.getState().data,g=o.getState().data,y=l.getState().data,x=await c.getInstance().loadSpells();if(!(u!=null&&u.length)||!(d!=null&&d.length)||!(f!=null&&f.length)||!(m!=null&&m.length)||!(h!=null&&h.length)||!(g!=null&&g.length)||!(y!=null&&y.length)||!(x!=null&&x.length))throw console.log("Stores not loaded yet, cannot build search index"),new Error("Store data not available - stores must be loaded before building search index");const v=[...ab(u),...rb(d),...sb(f),...ib(m),...ob(h),...lb(g),...cb(y),...db(x)];this.allSearchableItems=v,this.searchIndex=new tn(v,this.fuseOptions)}catch(t){throw console.error("Failed to build search index:",t),t}finally{this.isIndexing=!1}}}async addPerkReferencesToIndex(t){if(this.indexedStores.has("perk-references"))return;const n=ub(t);this.allSearchableItems.push(...n),this.indexedStores.add("perk-references"),this.searchIndex=new tn(this.allSearchableItems,this.fuseOptions)}search(t,n){if(!this.searchIndex)return[];if(!t.trim()||t.trim()==="*"){let o=this.allSearchableItems;return n&&(o=this.applyFilters(o,n)),o.map(l=>({item:l,score:1,matches:[],highlights:[]}))}if(!this.searchIndex)return console.warn("Search index not ready, returning empty results"),[];const a=this.searchIndex.search(t);let r=a;return n&&(r=a.filter(o=>{const l=o.item;return this.applyFilters([l],n).length>0})),r.map(o=>({item:o.item,score:o.score||0,matches:[...o.matches||[]],highlights:j7([...o.matches||[]])}))}applyFilters(t,n){return t.filter(a=>{var r,s,o,l,c,u,d;if(n.types.length>0&&!n.types.includes(a.type)||n.categories.length>0&&a.category&&!n.categories.includes(a.category))return!1;if(n.tags.length>0){const f=a.tags.map(g=>g.toLowerCase());if(!n.tags.map(g=>g.toLowerCase()).some(g=>f.some(y=>y.includes(g)||g.includes(y))))return!1}if(a.type==="skill"&&((r=n.skillCategories)!=null&&r.length)&&(!a.category||!n.skillCategories.includes(a.category))||a.type==="race"&&((s=n.raceTypes)!=null&&s.length)&&(!a.category||!n.raceTypes.includes(a.category))||a.type==="trait"&&((o=n.traitTypes)!=null&&o.length)&&(!a.category||!n.traitTypes.includes(a.category))||a.type==="religion"&&((l=n.religionTypes)!=null&&l.length)&&(!a.category||!n.religionTypes.includes(a.category))||a.type==="birthsign"&&((c=n.birthsignGroups)!=null&&c.length)&&(!a.category||!n.birthsignGroups.includes(a.category))||a.type==="spell"&&((u=n.spellSchools)!=null&&u.length)&&(!a.category||!n.spellSchools.includes(a.category)))return!1;if(a.type==="spell"&&((d=n.spellLevels)!=null&&d.length)){const f=a.originalData;if(!f.level||!n.spellLevels.includes(f.level))return!1}return!0})}getAvailableFilters(){const t=new Map,n=new Map,a=new Map;return this.allSearchableItems.forEach(r=>{const s=t.get(r.type)||0;if(t.set(r.type,s+1),r.category){const o=n.get(r.category)||0;n.set(r.category,o+1)}r.tags.forEach(o=>{const l=a.get(o)||0;a.set(o,l+1)})}),{types:Array.from(t.entries()).map(([r,s])=>({value:r,label:r.charAt(0).toUpperCase()+r.slice(1),count:s})),categories:Array.from(n.entries()).map(([r,s])=>({value:r,label:r,count:s})),tags:Array.from(a.entries()).map(([r,s])=>({value:r,label:r,count:s}))}}getSearchableItems(){return this.allSearchableItems}isReady(){return this.searchIndex!==null&&!this.isIndexing}isLoading(){return this.isIndexing}}const C7={skill:{label:"Skill",icon:"âš”ï¸",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},race:{label:"Race",icon:"ðŸ‘¤",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},trait:{label:"Trait",icon:"ðŸŽ¯",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},religion:{label:"Religion",icon:"â›ª",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},birthsign:{label:"Birthsign",icon:"â­",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},destiny:{label:"Destiny",icon:"ðŸŒŸ",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},perk:{label:"Perk",icon:"ðŸ”®",color:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"}};function M7({type:e,className:t,variant:n="default"}){const a=C7[e]||{label:e.charAt(0).toUpperCase()+e.slice(1),icon:"ðŸ“„",color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return n==="default"?i.jsxs(X,{className:H("inline-flex items-center gap-1 px-2 py-1 text-xs font-medium",a.color,t),children:[i.jsx("span",{children:a.icon}),i.jsx("span",{children:a.label})]}):i.jsxs(X,{variant:n,className:H("inline-flex items-center gap-1",t),children:[i.jsx("span",{children:a.icon}),i.jsx("span",{children:a.label})]})}function T7({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){return i.jsxs(le,{className:H("transition-all hover:shadow-md",t),expanded:n,onToggle:a,children:[i.jsx(le.Header,{children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(M7,{type:e.type})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-medium text-sm truncate",children:e.name}),e.category&&i.jsx(X,{variant:"outline",className:"text-xs",children:e.category})]})})]})}),i.jsxs(le.Summary,{children:[e.description&&i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((s,o)=>i.jsx(X,{variant:"secondary",className:"text-xs",children:s},`${s}-${o}`)),e.tags.length>3&&i.jsxs(X,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-3]})]})]}),i.jsxs(le.Details,{children:[e.tags.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"All Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((s,o)=>i.jsx(X,{variant:"secondary",className:"text-xs",children:s},`${s}-${o}`))})]}),e.description&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})]})}function oi(e,t){return e?e.find(a=>{const r=!!a.id&&a.id===t.id,s=!!a.edid&&a.edid===t.edid,o=!!a.treeId&&a.treeId===t.treeId,l=!!a.name&&a.name===t.name;return r||s||o||l}):void 0}function D7({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){const s=Fo(l=>l.data),o=oi(s,e.originalData);return o?i.jsxs(le,{className:t,expanded:n,onToggle:a,children:[i.jsx(le.Header,{children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.group&&i.jsx("span",{className:"text-sm text-muted-foreground",children:o.group})]})]})}),i.jsxs(le.Summary,{children:[o.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description}),o.stat_modifications&&o.stat_modifications.length>0&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[i.jsx("span",{className:"font-medium",children:"Stat bonuses:"})," ",o.stat_modifications.slice(0,2).map(l=>`${l.stat} +${l.value}`).join(", "),o.stat_modifications.length>2&&"..."]})]}),i.jsxs(le.Details,{children:[o.stat_modifications&&o.stat_modifications.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Stat Bonuses"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:o.stat_modifications.map((l,c)=>i.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:[l.stat," +",l.value]},`${l.stat}-${c}`))})]}),o.skill_bonuses&&o.skill_bonuses.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Skill Bonuses"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:o.skill_bonuses.map((l,c)=>i.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:[l.stat," +",l.value]},`${l.stat}-${c}`))})]}),o.powers&&o.powers.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Powers"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:o.powers.map((l,c)=>i.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l.name},`${l.name}-${c}`))})]}),o.tags&&o.tags.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>i.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded",children:l},`${l}-${c}`))})]})]})]}):(console.error("Birthsign not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalBirthsignsInStore:s.length,firstFewBirthsigns:s.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}function L7({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){const s=qo(l=>l.data),o=oi(s,e.originalData);return o?i.jsxs(le,{className:t,expanded:n,onToggle:a,children:[i.jsx(le.Header,{children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:o.icon?i.jsx("img",{src:o.icon,alt:o.name,className:"w-6 h-6 object-contain"}):i.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.category&&i.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),i.jsx(le.Summary,{children:o.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description})}),i.jsxs(le.Details,{children:[o.effects&&o.effects.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Effects"}),i.jsx("div",{className:"space-y-1",children:o.effects.map((l,c)=>i.jsxs("div",{className:"text-sm text-muted-foreground",children:["â€¢ ",l]},c))})]}),o.tags&&o.tags.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>i.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]})]})]}):(console.error("Destiny node not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalDestinyNodesInStore:s.length,firstFewDestinyNodes:s.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}class P7{constructor(t){nt(this,"perkNodes",[]);this.perkNodes=this.transformPerkTrees(t)}transformPerkTrees(t){const n=[];return t.forEach(a=>{a.perks.forEach(r=>{var o,l,c,u,d;const s={...r,skillTree:a.treeId,skillTreeName:a.treeName,isRoot:r.isRoot||!1,hasChildren:(((l=(o=r.connections)==null?void 0:o.children)==null?void 0:l.length)||0)>0,prerequisites:((c=r.connections)==null?void 0:c.parents)||[],connections:{parents:((u=r.connections)==null?void 0:u.parents)||[],children:((d=r.connections)==null?void 0:d.children)||[]},searchableText:this.generateSearchableText(r,a),tags:this.generateTags(r,a),category:this.determineCategory(a.treeName),minLevel:this.calculateMinLevel(r)};n.push(s)})}),n}calculateMinLevel(t){var a,r;let n=0;if(t.ranks&&t.ranks.length>0&&t.ranks.forEach(s=>{var o,l;(l=(o=s.prerequisites)==null?void 0:o.skillLevel)!=null&&l.level&&(n=Math.max(n,s.prerequisites.skillLevel.level))}),n===0)if(t.isRoot)n=1;else{const s=((r=(a=t.connections)==null?void 0:a.parents)==null?void 0:r.length)||0;n=Math.max(1,s*5)}return n}generateSearchableText(t,n){var r,s;return[t.name,(r=t.ranks)==null?void 0:r.map(o=>{var l;return(l=o.description)==null?void 0:l.base}).join(" "),(s=t.ranks)==null?void 0:s.map(o=>{var l;return(l=o.description)==null?void 0:l.subtext}).join(" "),n.treeName,this.determineCategory(n.treeName)].filter(Boolean).join(" ").toLowerCase()}generateTags(t,n){var s,o,l,c;const a=[n.treeName,this.determineCategory(n.treeName),t.isRoot?"root":"branch",t.totalRanks>1?"multi-rank":"single-rank"];((o=(s=t.connections)==null?void 0:s.parents)==null?void 0:o.length)>0&&a.push("has-prerequisites"),((c=(l=t.connections)==null?void 0:l.children)==null?void 0:c.length)>0&&a.push("has-children");const r=this.calculateMinLevel(t);return r>0&&a.push(`level-${r}+`),a}determineCategory(t){return{Alchemy:"Magic",Alteration:"Magic",Conjuration:"Magic",Destruction:"Magic",Illusion:"Magic",Restoration:"Magic",Archery:"Combat",Block:"Combat","Heavy Armor":"Combat","One Handed":"Combat",Smithing:"Combat","Two Handed":"Combat","Light Armor":"Stealth",Lockpicking:"Stealth",Pickpocket:"Stealth",Sneak:"Stealth",Speech:"Stealth",Enchanting:"Crafting"}[t]||"Other"}getAllPerks(){return this.perkNodes}getPerksBySkill(t){return this.perkNodes.filter(n=>n.skillTree===t)}getPerksByCategory(t){return this.perkNodes.filter(n=>n.category===t)}getPerksByPrerequisite(t){return this.perkNodes.filter(n=>n.prerequisites.includes(t))}getRootPerks(){return this.perkNodes.filter(t=>t.isRoot)}getMultiRankPerks(){return this.perkNodes.filter(t=>t.totalRanks>1)}searchPerks(t){const n=t.toLowerCase();return this.perkNodes.filter(a=>a.searchableText.includes(n)||a.name.toLowerCase().includes(n)||a.tags.some(r=>r.toLowerCase().includes(n)))}}function GE(){const{data:e,loading:t,error:n}=rx(),a=p.useMemo(()=>e?new P7(e):null,[e]),r=p.useMemo(()=>(a==null?void 0:a.getAllPerks())||[],[a]);return{dataProvider:a,allPerks:r,loading:t,error:n}}function sm(){const{dataProvider:e,allPerks:t,loading:n,error:a}=GE(),r=p.useMemo(()=>{const h=new Map;return t.forEach(g=>{h.has(g.skillTree)||h.set(g.skillTree,{id:g.skillTree,name:g.skillTreeName,count:0});const y=h.get(g.skillTree);y.count++}),Array.from(h.values()).sort((g,y)=>g.name.localeCompare(y.name))},[t]),s=p.useMemo(()=>{const h=new Map;return t.forEach(g=>{h.has(g.category)||h.set(g.category,{name:g.category,count:0});const y=h.get(g.category);y.count++}),Array.from(h.values()).sort((g,y)=>g.name.localeCompare(y.name))},[t]),o=p.useMemo(()=>{const h=new Set;return t.forEach(g=>{g.tags.forEach(y=>h.add(y))}),Array.from(h).sort()},[t]),l=p.useMemo(()=>t.filter(h=>h.isRoot),[t]),c=p.useMemo(()=>t.filter(h=>h.totalRanks>1),[t]),u=p.useMemo(()=>t.filter(h=>h.totalRanks===1),[t]),d=p.useMemo(()=>h=>(e==null?void 0:e.getPerksBySkill(h))||[],[e]),f=p.useMemo(()=>h=>(e==null?void 0:e.getPerksByCategory(h))||[],[e]),m=p.useMemo(()=>h=>(e==null?void 0:e.searchPerks(h))||[],[e]);return{allPerks:t,skillTrees:r,categories:s,tags:o,rootPerks:l,multiRankPerks:c,singleRankPerks:u,getPerksBySkill:d,getPerksByCategory:f,searchPerks:m,loading:n,error:a,dataProvider:e}}const z7={skill:{Alchemy:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Alteration:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Archery:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200",Block:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Conjuration:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Destruction:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Enchanting:"bg-indigo-100 text-indigo-800 border-indigo-200 hover:bg-indigo-200","Heavy Armor":"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",Illusion:"bg-pink-100 text-pink-800 border-pink-200 hover:bg-pink-200","Light Armor":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200",Lockpicking:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200","One-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Pickpocket:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Restoration:"bg-teal-100 text-teal-800 border-teal-200 hover:bg-teal-200",Smithing:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Sneak:"bg-slate-100 text-slate-800 border-slate-200 hover:bg-slate-200",Speech:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200","Two-Handed":"bg-red-100 text-red-800 border-red-200 hover:bg-red-200"},category:{Combat:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Crafting:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200",Survival:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",Social:"bg-cyan-100 text-cyan-800 border-cyan-200 hover:bg-cyan-200"},rank:{"1 rank":"bg-blue-100 text-blue-800 border-blue-200","2 ranks":"bg-green-100 text-green-800 border-green-200","3 ranks":"bg-purple-100 text-purple-800 border-purple-200","4 ranks":"bg-orange-100 text-orange-800 border-orange-200","5 ranks":"bg-red-100 text-red-800 border-red-200"},availability:{Available:"bg-green-100 text-green-800 border-green-200",Unavailable:"bg-red-100 text-red-800 border-red-200","Prerequisites Met":"bg-blue-100 text-blue-800 border-blue-200","Prerequisites Missing":"bg-gray-100 text-gray-800 border-gray-200"},level:{"Level 1+":"bg-green-100 text-green-800 border-green-200","Level 5+":"bg-blue-100 text-blue-800 border-blue-200","Level 10+":"bg-purple-100 text-purple-800 border-purple-200","Level 15+":"bg-orange-100 text-orange-800 border-orange-200","Level 20+":"bg-red-100 text-red-800 border-red-200","Level 25+":"bg-indigo-100 text-indigo-800 border-indigo-200","Level 30+":"bg-pink-100 text-pink-800 border-pink-200","Level 35+":"bg-teal-100 text-teal-800 border-teal-200","Level 40+":"bg-cyan-100 text-cyan-800 border-cyan-200","Level 45+":"bg-emerald-100 text-emerald-800 border-emerald-200","Level 50+":"bg-amber-100 text-amber-800 border-amber-200"},root:{Root:"bg-gold-100 text-gold-800 border-gold-200 hover:bg-gold-200"}},O7={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"},I7="bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function vi({label:e,type:t,size:n="md",className:a}){const s=z7[t][e]||I7;return i.jsx(X,{variant:"outline",className:H(s,O7[n],"font-medium transition-colors",a),children:e})}function Ap({item:e,className:t,isExpanded:n=!1,onToggle:a,disableHover:r=!1,viewMode:s="grid"}){const o=e.originalPerk,{allPerks:l}=sm();if(!o)return null;const u=(d=>d.map(f=>{const m=l.find(h=>h.edid===f);return(m==null?void 0:m.name)||f}))(o.prerequisites);return i.jsxs(le,{className:t,expanded:n,onToggle:a,disableHover:r,children:[i.jsxs(le.Header,{children:[i.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:e.name.charAt(0)})}),i.jsx("div",{className:"flex-1 min-w-0",children:s==="grid"?i.jsxs("div",{className:"space-y-1",children:[i.jsx($t,{className:"text-primary font-semibold truncate",children:e.name}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.skillTreeName&&i.jsx(vi,{label:o.skillTreeName,type:"skill",size:"sm"}),o.totalRanks>1&&i.jsx(vi,{label:`${o.totalRanks} ranks`,type:"rank",size:"sm"}),o.minLevel&&i.jsx(vi,{label:`Level ${o.minLevel}+`,type:"level",size:"sm"})]})]}):i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx($t,{className:"text-primary font-semibold truncate",children:e.name}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.skillTreeName&&i.jsx(vi,{label:o.skillTreeName,type:"skill",size:"sm"}),o.totalRanks>1&&i.jsx(vi,{label:`${o.totalRanks} ranks`,type:"rank",size:"sm"}),o.minLevel&&i.jsx(vi,{label:`Level ${o.minLevel}+`,type:"level",size:"sm"})]})]})})]}),i.jsxs(le.Summary,{children:[i.jsx(Qe,{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),e.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((d,f)=>i.jsx(X,{variant:"outline",className:"text-xs",children:d},f)),e.tags.length>3&&i.jsxs(Hw,{className:"text-muted-foreground",children:["+",e.tags.length-3," more"]})]})]}),i.jsxs(le.Details,{children:[o.prerequisites&&o.prerequisites.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Prerequisites"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:u.map((d,f)=>i.jsx(X,{variant:"secondary",className:"text-xs",children:d},f))})]}),o.ranks&&o.ranks.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Perk Ranks"}),i.jsx("div",{className:"space-y-2",children:o.ranks.map((d,f)=>{var m;return i.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[i.jsx("div",{className:"flex items-center justify-between mb-1",children:i.jsxs("span",{className:"font-medium text-sm",children:["Rank ",f+1]})}),((m=d.description)==null?void 0:m.base)&&i.jsx(Qe,{className:"text-sm text-muted-foreground",children:d.description.base})]},f)})})]}),e.tags.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-foreground mb-2",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((d,f)=>i.jsx(X,{variant:"outline",className:"text-xs",children:d},f))})]})]})]})}function WE(e,t){var o,l,c,u,d,f;const n=((l=(o=t.perks)==null?void 0:o.selected)==null?void 0:l[e.skillTree])||[],a=((u=(c=t.perks)==null?void 0:c.ranks)==null?void 0:u[e.skillTree])||{},r=n.includes(e.edid),s=a[e.edid]||0;return{id:e.edid,name:e.name,description:((f=(d=e.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:e.category,tags:e.tags,isSelected:r,originalPerk:e,skillTree:e.skillTree,skillTreeName:e.skillTreeName,isRoot:e.isRoot,hasChildren:e.hasChildren,prerequisites:e.prerequisites,connections:e.connections,totalRanks:e.totalRanks,currentRank:s,isAvailable:e.isRoot||e.prerequisites.every(m=>n.includes(m)),minLevel:e.minLevel}}function Q7({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){const{build:s}=pt(),{allPerks:o}=sm(),l=e.originalData,c=o.find(f=>f.edid===(l==null?void 0:l.edid));if(!c)return console.warn("Perk reference not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData}),null;const d={...WE(c,s),originalPerk:c};return i.jsx(Ap,{item:d,className:t,isExpanded:n,onToggle:a,viewMode:r})}function B7({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){var c;const s=Uo(u=>u.data),o=oi(s,e.originalData);if(!o)return console.error("Perk tree not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalPerkTreesInStore:s.length,firstFewPerkTrees:s.slice(0,3).map(u=>({treeId:u.treeId,treeName:u.treeName||u.name}))}),null;const l=((c=o.perks)==null?void 0:c.length)||0;return i.jsxs(le,{className:t,expanded:n,onToggle:a,children:[i.jsx(le.Header,{children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:(o.treeName||o.name).charAt(0)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-primary",children:o.treeName||o.name}),o.category&&i.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),i.jsxs(le.Summary,{children:[o.treeDescription&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.treeDescription}),l>0&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[i.jsx("span",{className:"font-medium",children:"Perks:"})," ",l," total"]})]}),i.jsxs(le.Details,{children:[o.perks&&o.perks.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Sample Perks"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.perks.slice(0,6).map((u,d)=>i.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:u.name},`${u.edid}-${d}`)),o.perks.length>6&&i.jsxs("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded text-muted-foreground",children:["+",o.perks.length-6," more"]})]})]}),o.tags&&o.tags.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((u,d)=>i.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded",children:u},`${u}-${d}`))})]})]})]})}function $7({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){const s=os(c=>c.data),o=oi(s,e.originalData);if(!o)return console.error("Race not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalRacesInStore:s.length,firstFewRaces:s.slice(0,3).map(c=>({edid:c.edid,name:c.name}))}),null;const l={id:o.id||o.edid||o.name,name:o.name,description:o.description||"",summary:o.description||"",category:o.category||"",tags:o.tags||[],type:"race",effects:[]};return i.jsx("div",{className:t,children:i.jsx($s,{item:{...l,originalRace:o},isExpanded:n,onToggle:a,showToggle:!1,disableHover:!1,className:"w-full"})})}function H7({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){var u,d,f,m,h,g,y,b,x,v,_,k,w,S,E,R,N,j,O,I;const s=Yo(D=>D.data),o=oi(s,e.originalData);if(!o)return console.error("Religion not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalReligionsInStore:s.length,firstFewReligions:s.slice(0,3).map(D=>({id:D.id,name:D.name}))}),null;const l={name:o.name,type:o.type||o.pantheon||"Unknown",blessing:{spellId:((u=o.blessing)==null?void 0:u.spellId)||"",spellName:((d=o.blessing)==null?void 0:d.spellName)||"",effects:((f=o.blessing)==null?void 0:f.effects)||[]},boon1:{spellId:((m=o.boon1)==null?void 0:m.spellId)||"",spellName:((h=o.boon1)==null?void 0:h.spellName)||"",effects:((g=o.boon1)==null?void 0:g.effects)||[]},boon2:{spellId:((y=o.boon2)==null?void 0:y.spellId)||"",spellName:((b=o.boon2)==null?void 0:b.spellName)||"",effects:((x=o.boon2)==null?void 0:x.effects)||[]},tenet:{spellId:((v=o.tenet)==null?void 0:v.spellId)||"",spellName:((_=o.tenet)==null?void 0:_.spellName)||"",header:((k=o.tenet)==null?void 0:k.header)||"",description:((w=o.tenet)==null?void 0:w.description)||"",effects:((S=o.tenet)==null?void 0:S.effects)||[]},favoredRaces:o.favoredRaces||[],worshipRestrictions:o.worshipRestrictions||[]},c={id:o.id||o.name,name:o.name,description:((E=o.tenet)==null?void 0:E.description)||"",category:o.type||o.pantheon||"",tags:o.favoredRaces||o.tags||[],type:"religion",summary:((R=o.tenet)==null?void 0:R.description)||"",effects:[...((j=(N=o.tenet)==null?void 0:N.effects)==null?void 0:j.map(D=>({type:"positive",name:D.effectName,description:D.effectDescription,value:D.magnitude,target:D.targetAttribute||""})))||[],...((I=(O=o.blessing)==null?void 0:O.effects)==null?void 0:I.map(D=>({type:"positive",name:D.effectName,description:D.effectDescription,value:D.magnitude,target:D.targetAttribute||""})))||[]]};return i.jsx("div",{className:t,children:i.jsx(Dd,{item:c,originalReligion:l,isExpanded:n,onToggle:a,className:"w-full",showBlessings:!0,showTenets:!0,showBoons:!0,showFavoredRaces:!0,disableHover:!1,showToggle:!1})})}function F7({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){const s=si(l=>l.data),o=oi(s,e.originalData);return o?i.jsxs(le,{className:t,expanded:n,onToggle:a,children:[i.jsx(le.Header,{children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.category&&i.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),i.jsxs(le.Summary,{children:[o.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description}),o.keyAbilities&&o.keyAbilities.length>0&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[i.jsx("span",{className:"font-medium",children:"Key abilities:"})," ",o.keyAbilities.slice(0,2).join(", "),o.keyAbilities.length>2&&"..."]})]}),i.jsxs(le.Details,{children:[o.tags&&o.tags.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>i.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]}),o.keyAbilities&&o.keyAbilities.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Key Abilities"}),i.jsx("div",{className:"space-y-1",children:o.keyAbilities.map((l,c)=>i.jsxs("div",{className:"text-sm text-muted-foreground",children:["â€¢ ",l]},c))})]})]})]}):(console.error("Skill not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalSkillsInStore:s.length,firstFewSkills:s.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}function q7({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){const s=Vo(l=>l.data),o=oi(s,e.originalData);return o?i.jsxs(le,{className:t,expanded:n,onToggle:a,children:[i.jsx(le.Header,{children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:o.name.charAt(0)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-primary",children:o.name}),o.category&&i.jsx("span",{className:"text-sm text-muted-foreground",children:o.category})]})]})}),i.jsx(le.Summary,{children:o.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o.description})}),i.jsxs(le.Details,{children:[o.tags&&o.tags.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((l,c)=>i.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-muted rounded",children:l},`${l}-${c}`))})]}),o.description&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Description"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]})]})]}):(console.error("Trait not found in store:",{searchItemName:e.name,searchItemId:e.id,searchItemOriginalData:e.originalData,totalTraitsInStore:s.length,firstFewTraits:s.slice(0,3).map(l=>({id:l.id,name:l.name}))}),null)}const U7={Destruction:f1,Restoration:Sf,Conjuration:OM,Illusion:e0,Alteration:Ir,"":n0},Y7={Novice:"bg-green-100 text-green-800 border-green-200",Apprentice:"bg-blue-100 text-blue-800 border-blue-200",Adept:"bg-purple-100 text-purple-800 border-purple-200",Expert:"bg-orange-100 text-orange-800 border-orange-200",Master:"bg-red-100 text-red-800 border-red-200"};function ux({spell:e,className:t,isExpanded:n=!1,onToggle:a,disableHover:r=!1}){var l;const s=U7[e.school]||n0,o=()=>{a==null||a()};return i.jsxs(le,{className:t,expanded:n,onToggle:o,disableHover:r,children:[i.jsx(le.Header,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(s,{className:"w-5 h-5 text-muted-foreground"}),i.jsx("h3",{className:"text-primary font-semibold text-lg",children:e.name}),i.jsx("span",{className:"ml-auto transition-transform duration-200 text-muted-foreground",children:i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8l4 4 4-4"})})})]})}),i.jsx(le.Summary,{children:i.jsxs("div",{className:"px-4 py-2 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 7v14"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"})]}),i.jsx("span",{children:e.school})]}),i.jsx(X,{variant:"secondary",className:Y7[e.level]||"",children:e.level})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description})]})}),i.jsx(le.Details,{children:i.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.hasEffects&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Effects"}),i.jsx("div",{className:"space-y-2",children:e.effects.map((c,u)=>i.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium text-sm",children:c.name}),c.magnitude>0&&i.jsx(X,{variant:"outline",className:"text-xs",children:c.magnitude})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-muted-foreground",children:[c.duration>0&&i.jsxs("span",{children:["Duration: ",c.duration,"s"]}),c.area>0&&i.jsxs("span",{children:["Area: ",c.area,"ft"]})]})]},u))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Statistics"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Magicka Cost:"}),i.jsxs("span",{className:"font-medium",children:[e.magickaCost," MP"]})]}),e.totalMagnitude>0&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total Magnitude:"}),i.jsx("span",{className:"font-medium",children:e.totalMagnitude})]}),e.maxDuration>0&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Max Duration:"}),i.jsxs("span",{className:"font-medium",children:[e.maxDuration,"s"]})]}),e.maxArea>0&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Max Area:"}),i.jsxs("span",{className:"font-medium",children:[e.maxArea,"ft"]})]})]})]}),(e.tome||((l=e.vendors)==null?void 0:l.length))&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Additional Info"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[e.tome&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tome:"}),i.jsx("span",{children:e.tome})]}),e.vendors&&e.vendors.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Vendors:"}),i.jsx("span",{children:e.vendors.join(", ")})]})]})]}),e.tags&&e.tags.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((c,u)=>i.jsx(X,{variant:"outline",className:"text-xs",children:c},u))})]})]})})]})}const V7=({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="card"})=>{const s=e.originalData;if(!s)return console.warn("SpellSearchCard: Missing spell data for item:",e),i.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[i.jsx("h3",{className:"font-semibold",children:"Spell not found"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});if(!s.name||!s.editorId)return console.warn("SpellSearchCard: Invalid spell data structure:",s),i.jsxs("div",{className:"p-4 border rounded-lg bg-muted",children:[i.jsx("h3",{className:"font-semibold",children:"Invalid spell data"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]});const o=z.useCallback(()=>{a&&a()},[a]);return i.jsx(ux,{spell:s,isExpanded:n,onToggle:o,className:t})};function fb({item:e,className:t,isExpanded:n=!1,onToggle:a,viewMode:r="grid"}){switch(e.type){case"race":return i.jsx($7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r});case"skill":return i.jsx(F7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r});case"trait":return i.jsx(q7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r});case"birthsign":return i.jsx(D7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r});case"destiny":return i.jsx(L7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r});case"religion":return i.jsx(H7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r});case"perk":return i.jsx(B7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r});case"spell":return i.jsx(V7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r});case"perk-reference":return i.jsx(Q7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r});default:return i.jsx(T7,{item:e,className:t,isExpanded:n,onToggle:a,viewMode:r})}}const G7={scaling:i.jsx(n0,{className:"h-4 w-4 text-skyrim-gold"}),ability:i.jsx(Ft,{className:"h-4 w-4 text-blue-500"}),combat:i.jsx(rp,{className:"h-4 w-4 text-red-500"}),magic:i.jsx(a0,{className:"h-4 w-4 text-blue-500"}),stealth:i.jsx(e0,{className:"h-4 w-4 text-green-500"}),crafting:i.jsx(MT,{className:"h-4 w-4 text-orange-500"}),healing:i.jsx(Sf,{className:"h-4 w-4 text-red-400"}),protection:i.jsx(Ir,{className:"h-4 w-4 text-blue-400"}),damage:i.jsx(p1,{className:"h-4 w-4 text-red-600"}),utility:i.jsx(cT,{className:"h-4 w-4 text-purple-500"}),movement:i.jsx(wf,{className:"h-4 w-4 text-cyan-500"}),social:i.jsx(RT,{className:"h-4 w-4 text-yellow-500"}),thievery:i.jsx(GM,{className:"h-4 w-4 text-green-600"}),ranged:i.jsx(jM,{className:"h-4 w-4 text-orange-400"})},W7={Combat:"âš”ï¸",Magic:"ðŸ”®",Stealth:"ðŸ—¡ï¸"},Z7={Combat:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200"},X7={sm:"text-xs px-2 py-0.5"};function K7({item:e,originalSkill:t,isExpanded:n=!1,onToggle:a,onSelect:r,className:s,showScaling:o=!0,showAbilities:l=!0,showTags:c=!0}){const u=W7[e.category||""]||"â­",d=Z7[e.category||""]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",f=m=>G7[m]||i.jsx(Ft,{className:"h-4 w-4 text-skyrim-gold"});return i.jsxs(gE,{isExpanded:n,onToggle:a||(()=>{}),className:s,children:[i.jsx("div",{className:"flex items-start gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1 cursor-pointer hover:bg-muted/50 p-1 rounded transition-colors",onClick:m=>{m.stopPropagation(),r==null||r()},children:[i.jsx("span",{className:"text-lg",children:u}),i.jsx($t,{className:"text-base font-semibold",children:e.name}),i.jsx(Tc,{itemId:e.id,itemType:"skill",itemName:e.name})]}),i.jsx(Qe,{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]})}),i.jsxs("div",{className:"space-y-4 mt-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(X,{variant:"outline",className:H(d,X7.sm),children:e.category})}),l&&(t==null?void 0:t.keyAbilities)&&t.keyAbilities.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Xn,{className:"text-sm font-medium flex items-center gap-2",children:[f("ability"),"Key Abilities"]}),i.jsx("ul",{className:"space-y-1",children:t.keyAbilities.map((m,h)=>i.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[i.jsx("span",{className:"text-skyrim-gold mt-1",children:"â€¢"}),i.jsx("span",{children:m})]},h))})]}),c&&(t==null?void 0:t.metaTags)&&t.metaTags.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Xn,{className:"text-sm font-medium",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:t.metaTags.map((m,h)=>i.jsx(X,{variant:"secondary",className:"text-xs px-2 py-0.5",children:m},h))})]})]})]})}function J7(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const ZE=z.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Ic=()=>{const e=z.useContext(ZE);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};J7(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function eI(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function tI(){return dx(/^Mac/)}function nI(){return dx(/^iPhone/)}function mb(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function aI(){return dx(/^iPad/)||tI()&&navigator.maxTouchPoints>1}function XE(){return nI()||aI()}function dx(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const rI=24,sI=typeof window<"u"?p.useLayoutEffect:p.useEffect;function hb(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const th=typeof document<"u"&&window.visualViewport;function pb(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function KE(e){for(pb(e)&&(e=e.parentElement);e&&!pb(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const iI=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let vu=0,nh;function oI(e={}){let{isDisabled:t}=e;sI(()=>{if(!t)return vu++,vu===1&&XE()&&(nh=lI()),()=>{vu--,vu===0&&(nh==null||nh())}},[t])}function lI(){let e,t=0,n=f=>{e=KE(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},a=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,h=e.scrollTop,g=e.scrollHeight-e.clientHeight;g!==0&&((h<=0&&m>t||h>=g&&m<t)&&f.preventDefault(),t=m)},r=f=>{let m=f.target;Cp(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},s=f=>{let m=f.target;Cp(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",th&&(th.height<window.innerHeight?requestAnimationFrame(()=>{gb(m)}):th.addEventListener("resize",()=>gb(m),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=hb(cI(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=hb(al(document,"touchstart",n,{passive:!1,capture:!0}),al(document,"touchmove",a,{passive:!1,capture:!0}),al(document,"touchend",r,{passive:!1,capture:!0}),al(document,"focus",s,!0),al(window,"scroll",o));return()=>{u(),d(),window.scrollTo(l,c)}}function cI(e,t,n){let a=e.style[t];return e.style[t]=n,()=>{e.style[t]=a}}function al(e,t,n,a){return e.addEventListener(t,n,a),()=>{e.removeEventListener(t,n,a)}}function gb(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=KE(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let a=n.getBoundingClientRect().top,r=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+rI;s>o&&(n.scrollTop+=r-a)}e=n.parentElement}}function Cp(e){return e instanceof HTMLInputElement&&!iI.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function uI(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function dI(...e){return t=>e.forEach(n=>uI(n,t))}function JE(...e){return p.useCallback(dI(...e),e)}const eR=new WeakMap;function yt(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let a={};Object.entries(t).forEach(([r,s])=>{if(r.startsWith("--")){e.style.setProperty(r,s);return}a[r]=e.style[r],e.style[r]=s}),!n&&eR.set(e,a)}function fI(e,t){if(!e||!(e instanceof HTMLElement))return;let n=eR.get(e);n&&(e.style[t]=n[t])}const ft=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function bu(e,t){if(!e)return null;const n=window.getComputedStyle(e),a=n.transform||n.webkitTransform||n.mozTransform;let r=a.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[ft(t)?13:12]):(r=a.match(/^matrix\((.+)\)$/),r?parseFloat(r[1].split(", ")[ft(t)?5:4]):null)}function mI(e){return 8*(Math.log(e+1)-2)}function ah(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function hI(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Xe={DURATION:.5,EASE:[.32,.72,0,1]},tR=.4,pI=.25,gI=100,nR=8,ys=16,Mp=26,rh="vaul-dragging";function aR(e){const t=z.useRef(e);return z.useEffect(()=>{t.current=e}),z.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function xI({defaultProp:e,onChange:t}){const n=z.useState(e),[a]=n,r=z.useRef(a),s=aR(t);return z.useEffect(()=>{r.current!==a&&(s(a),r.current=a)},[a,r,s]),n}function rR({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,r]=xI({defaultProp:t,onChange:n}),s=e!==void 0,o=s?e:a,l=aR(n),c=z.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else r(u)},[s,e,r,l]);return[o,c]}function yI({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:a,overlayRef:r,fadeFromIndex:s,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=rR({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[m,h]=z.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);z.useEffect(()=>{function E(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const g=z.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),y=z.useMemo(()=>{var E;return(E=n==null?void 0:n.findIndex(R=>R===d))!=null?E:null},[n,d]),b=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===d||!n,x=z.useMemo(()=>{const E=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var R;return(R=n==null?void 0:n.map(N=>{const j=typeof N=="string";let O=0;if(j&&(O=parseInt(N,10)),ft(l)){const D=j?O:m?N*E.height:0;return m?l==="bottom"?E.height-D:-E.height+D:D}const I=j?O:m?N*E.width:0;return m?l==="right"?E.width-I:-E.width+I:I}))!=null?R:[]},[n,m,c]),v=z.useMemo(()=>y!==null?x==null?void 0:x[y]:null,[x,y]),_=z.useCallback(E=>{var R;const N=(R=x==null?void 0:x.findIndex(j=>j===E))!=null?R:null;o(N),yt(a.current,{transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,transform:ft(l)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`}),x&&N!==x.length-1&&s!==void 0&&N!==s&&N<s?yt(r.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,opacity:"0"}):yt(r.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(N,0)])},[a.current,n,x,s,r,f]);z.useEffect(()=>{if(d||e){var E;const R=(E=n==null?void 0:n.findIndex(N=>N===e||N===d))!=null?E:-1;x&&R!==-1&&typeof x[R]=="number"&&_(x[R])}},[d,e,n,x,_]);function k({draggedDistance:E,closeDrawer:R,velocity:N,dismissible:j}){if(s===void 0)return;const O=l==="bottom"||l==="right"?(v??0)-E:(v??0)+E,I=y===s-1,D=y===0,A=E>0;if(I&&yt(r.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`}),!u&&N>2&&!A){j?R():_(x[0]);return}if(!u&&N>2&&A&&x&&n){_(x[n.length-1]);return}const T=x==null?void 0:x.reduce((M,L)=>typeof M!="number"||typeof L!="number"?M:Math.abs(L-O)<Math.abs(M-O)?L:M),C=ft(l)?window.innerHeight:window.innerWidth;if(N>tR&&Math.abs(E)<C*.4){const M=A?1:-1;if(M>0&&g&&n){_(x[n.length-1]);return}if(D&&M<0&&j&&R(),y===null)return;_(x[y+M]);return}_(T)}function w({draggedDistance:E}){if(v===null)return;const R=l==="bottom"||l==="right"?v-E:v+E;(l==="bottom"||l==="right")&&R<x[x.length-1]||(l==="top"||l==="left")&&R>x[x.length-1]||yt(a.current,{transform:ft(l)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`})}function S(E,R){if(!n||typeof y!="number"||!x||s===void 0)return null;const N=y===s-1;if(y>=s&&R)return 0;if(N&&!R)return 1;if(!b&&!N)return null;const O=N?y+1:y-1,I=N?x[O]-x[O-1]:x[O+1]-x[O],D=E/Math.abs(I);return N?1-D:D}return{isLastSnapPoint:g,activeSnapPoint:d,shouldFade:b,getPercentageDragged:S,setActiveSnapPoint:f,activeSnapPointIndex:y,onRelease:k,onDrag:w,snapPointsOffset:x}}const vI=()=>()=>{};function bI(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:a,noBodyStyles:r}=Ic(),s=z.useRef(null),o=p.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Mp)/window.innerWidth}z.useEffect(()=>{if(t&&n){s.current&&clearTimeout(s.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;hI(a&&!r?ah(document.body,{background:"black"}):vI,ah(c,{transformOrigin:ft(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Xe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Xe.EASE.join(",")})`}));const u=ah(c,{borderRadius:`${nR}px`,overflow:"hidden",...ft(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),s.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Xe.DURATION*1e3)}}},[t,n,o])}let rl=null;function _I({isOpen:e,modal:t,nested:n,hasBeenOpened:a,preventScrollRestoration:r,noBodyStyles:s}){const[o,l]=z.useState(()=>typeof window<"u"?window.location.href:""),c=z.useRef(0),u=z.useCallback(()=>{if(mb()&&rl===null&&e&&!s){rl={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=m-window.innerHeight;h&&c.current>=m&&(document.body.style.top=`${-(c.current+h)}px`)}),300)}},[e]),d=z.useCallback(()=>{if(mb()&&rl!==null&&!s){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,rl),window.requestAnimationFrame(()=>{if(r&&o!==window.location.href){l(window.location.href);return}window.scrollTo(m,f)}),rl=null}},[o]);return z.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),z.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),z.useEffect(()=>{n||!a||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,a,o,t,n,u,d]),{restorePositionSetting:d}}function kI({open:e,onOpenChange:t,children:n,onDrag:a,onRelease:r,snapPoints:s,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=pI,scrollLockTimeout:u=gI,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:m=s&&s.length-1,activeSnapPoint:h,setActiveSnapPoint:g,fixed:y,modal:b=!0,onClose:x,nested:v,noBodyStyles:_=!1,direction:k="bottom",defaultOpen:w=!1,disablePreventScroll:S=!0,snapToSequentialPoint:E=!1,preventScrollRestoration:R=!1,repositionInputs:N=!0,onAnimationEnd:j,container:O,autoFocus:I=!1}){var D,A;const[T=!1,C]=rR({defaultProp:w,prop:e,onChange:fe=>{t==null||t(fe),!fe&&!v&&Qa(),setTimeout(()=>{j==null||j(fe)},Xe.DURATION*1e3),fe&&!b&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),fe||(document.body.style.pointerEvents="auto")}}),[M,L]=z.useState(!1),[P,Q]=z.useState(!1),[F,B]=z.useState(!1),U=z.useRef(null),V=z.useRef(null),J=z.useRef(null),ie=z.useRef(null),ee=z.useRef(null),ge=z.useRef(!1),me=z.useRef(null),ve=z.useRef(0),$=z.useRef(!1),G=z.useRef(!w),K=z.useRef(0),W=z.useRef(null),ae=z.useRef(((D=W.current)==null?void 0:D.getBoundingClientRect().height)||0),ye=z.useRef(((A=W.current)==null?void 0:A.getBoundingClientRect().width)||0),de=z.useRef(0),ne=z.useCallback(fe=>{s&&fe===wn.length-1&&(V.current=new Date)},[]),{activeSnapPoint:Ae,activeSnapPointIndex:dt,setActiveSnapPoint:oa,onRelease:Sr,snapPointsOffset:wn,onDrag:qn,shouldFade:Oa,getPercentageDragged:Ia}=yI({snapPoints:s,activeSnapPointProp:h,setActiveSnapPointProp:g,drawerRef:W,fadeFromIndex:m,overlayRef:U,onSnapPointChange:ne,direction:k,container:O,snapToSequentialPoint:E});oI({isDisabled:!T||P||!b||F||!M||!N||!S});const{restorePositionSetting:Qa}=_I({isOpen:T,modal:b,nested:v??!1,hasBeenOpened:M,preventScrollRestoration:R,noBodyStyles:_});function Un(){return(window.innerWidth-Mp)/window.innerWidth}function Er(fe){var Re,Te;!d&&!s||W.current&&!W.current.contains(fe.target)||(ae.current=((Re=W.current)==null?void 0:Re.getBoundingClientRect().height)||0,ye.current=((Te=W.current)==null?void 0:Te.getBoundingClientRect().width)||0,Q(!0),J.current=new Date,XE()&&window.addEventListener("touchend",()=>ge.current=!1,{once:!0}),fe.target.setPointerCapture(fe.pointerId),ve.current=ft(k)?fe.pageY:fe.pageX)}function Rr(fe,Re){var Te;let Ne=fe;const Le=(Te=window.getSelection())==null?void 0:Te.toString(),zt=W.current?bu(W.current,k):null,Tt=new Date;if(Ne.tagName==="SELECT"||Ne.hasAttribute("data-vaul-no-drag")||Ne.closest("[data-vaul-no-drag]"))return!1;if(k==="right"||k==="left")return!0;if(V.current&&Tt.getTime()-V.current.getTime()<500)return!1;if(zt!==null&&(k==="bottom"?zt>0:zt<0))return!0;if(Le&&Le.length>0)return!1;if(ee.current&&Tt.getTime()-ee.current.getTime()<u&&zt===0||Re)return ee.current=Tt,!1;for(;Ne;){if(Ne.scrollHeight>Ne.clientHeight){if(Ne.scrollTop!==0)return ee.current=new Date,!1;if(Ne.getAttribute("role")==="dialog")return!0}Ne=Ne.parentNode}return!0}function St(fe){if(W.current&&P){const Re=k==="bottom"||k==="right"?1:-1,Te=(ve.current-(ft(k)?fe.pageY:fe.pageX))*Re,Ne=Te>0,Le=s&&!d&&!Ne;if(Le&&dt===0)return;const zt=Math.abs(Te),Tt=document.querySelector("[data-vaul-drawer-wrapper]"),ca=k==="bottom"||k==="top"?ae.current:ye.current;let cn=zt/ca;const Ha=Ia(zt,Ne);if(Ha!==null&&(cn=Ha),Le&&cn>=1||!ge.current&&!Rr(fe.target,Ne))return;if(W.current.classList.add(rh),ge.current=!0,yt(W.current,{transition:"none"}),yt(U.current,{transition:"none"}),s&&qn({draggedDistance:Te}),Ne&&!s){const En=mI(Te),hi=Math.min(En*-1,0)*Re;yt(W.current,{transform:ft(k)?`translate3d(0, ${hi}px, 0)`:`translate3d(${hi}px, 0, 0)`});return}const ua=1-cn;if((Oa||m&&dt===m-1)&&(a==null||a(fe,cn),yt(U.current,{opacity:`${ua}`,transition:"none"},!0)),Tt&&U.current&&o){const En=Math.min(Un()+cn*(1-Un()),1),hi=8-cn*8,su=Math.max(0,14-cn*14);yt(Tt,{borderRadius:`${hi}px`,transform:ft(k)?`scale(${En}) translate3d(0, ${su}px, 0)`:`scale(${En}) translate3d(${su}px, 0, 0)`,transition:"none"},!0)}if(!s){const En=zt*Re;yt(W.current,{transform:ft(k)?`translate3d(0, ${En}px, 0)`:`translate3d(${En}px, 0, 0)`})}}}z.useEffect(()=>{window.requestAnimationFrame(()=>{G.current=!0})},[]),z.useEffect(()=>{var fe;function Re(){if(!W.current||!N)return;const Te=document.activeElement;if(Cp(Te)||$.current){var Ne;const Le=((Ne=window.visualViewport)==null?void 0:Ne.height)||0,zt=window.innerHeight;let Tt=zt-Le;const ca=W.current.getBoundingClientRect().height||0,cn=ca>zt*.8;de.current||(de.current=ca);const Ha=W.current.getBoundingClientRect().top;if(Math.abs(K.current-Tt)>60&&($.current=!$.current),s&&s.length>0&&wn&&dt){const ua=wn[dt]||0;Tt+=ua}if(K.current=Tt,ca>Le||$.current){const ua=W.current.getBoundingClientRect().height;let En=ua;ua>Le&&(En=Le-(cn?Ha:Mp)),y?W.current.style.height=`${ua-Math.max(Tt,0)}px`:W.current.style.height=`${Math.max(En,Le-Ha)}px`}else eI()||(W.current.style.height=`${de.current}px`);s&&s.length>0&&!$.current?W.current.style.bottom="0px":W.current.style.bottom=`${Math.max(Tt,0)}px`}}return(fe=window.visualViewport)==null||fe.addEventListener("resize",Re),()=>{var Te;return(Te=window.visualViewport)==null?void 0:Te.removeEventListener("resize",Re)}},[dt,s,wn]);function Mt(fe){Ba(),x==null||x(),fe||C(!1),setTimeout(()=>{s&&oa(s[0])},Xe.DURATION*1e3)}function la(){if(!W.current)return;const fe=document.querySelector("[data-vaul-drawer-wrapper]"),Re=bu(W.current,k);yt(W.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`}),yt(U.current,{transition:`opacity ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,opacity:"1"}),o&&Re&&Re>0&&T&&yt(fe,{borderRadius:`${nR}px`,overflow:"hidden",...ft(k)?{transform:`scale(${Un()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Un()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Xe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Xe.EASE.join(",")})`},!0)}function Ba(){!P||!W.current||(W.current.classList.remove(rh),ge.current=!1,Q(!1),ie.current=new Date)}function $a(fe){if(!P||!W.current)return;W.current.classList.remove(rh),ge.current=!1,Q(!1),ie.current=new Date;const Re=bu(W.current,k);if(!fe||!Rr(fe.target,!1)||!Re||Number.isNaN(Re)||J.current===null)return;const Te=ie.current.getTime()-J.current.getTime(),Ne=ve.current-(ft(k)?fe.pageY:fe.pageX),Le=Math.abs(Ne)/Te;if(Le>.05&&(B(!0),setTimeout(()=>{B(!1)},200)),s){Sr({draggedDistance:Ne*(k==="bottom"||k==="right"?1:-1),closeDrawer:Mt,velocity:Le,dismissible:d}),r==null||r(fe,!0);return}if(k==="bottom"||k==="right"?Ne>0:Ne<0){la(),r==null||r(fe,!0);return}if(Le>tR){Mt(),r==null||r(fe,!1);return}var zt;const Tt=Math.min((zt=W.current.getBoundingClientRect().height)!=null?zt:0,window.innerHeight);var ca;const cn=Math.min((ca=W.current.getBoundingClientRect().width)!=null?ca:0,window.innerWidth),Ha=k==="left"||k==="right";if(Math.abs(Re)>=(Ha?cn:Tt)*c){Mt(),r==null||r(fe,!1);return}r==null||r(fe,!0),la()}z.useEffect(()=>(T&&(yt(document.documentElement,{scrollBehavior:"auto"}),V.current=new Date),()=>{fI(document.documentElement,"scrollBehavior")}),[T]);function Yn(fe){const Re=fe?(window.innerWidth-ys)/window.innerWidth:1,Te=fe?-ys:0;me.current&&window.clearTimeout(me.current),yt(W.current,{transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,transform:ft(k)?`scale(${Re}) translate3d(0, ${Te}px, 0)`:`scale(${Re}) translate3d(${Te}px, 0, 0)`}),!fe&&W.current&&(me.current=setTimeout(()=>{const Ne=bu(W.current,k);yt(W.current,{transition:"none",transform:ft(k)?`translate3d(0, ${Ne}px, 0)`:`translate3d(${Ne}px, 0, 0)`})},500))}function Sn(fe,Re){if(Re<0)return;const Te=(window.innerWidth-ys)/window.innerWidth,Ne=Te+Re*(1-Te),Le=-ys+Re*ys;yt(W.current,{transform:ft(k)?`scale(${Ne}) translate3d(0, ${Le}px, 0)`:`scale(${Ne}) translate3d(${Le}px, 0, 0)`,transition:"none"})}function ps(fe,Re){const Te=ft(k)?window.innerHeight:window.innerWidth,Ne=Re?(Te-ys)/Te:1,Le=Re?-ys:0;Re&&yt(W.current,{transition:`transform ${Xe.DURATION}s cubic-bezier(${Xe.EASE.join(",")})`,transform:ft(k)?`scale(${Ne}) translate3d(0, ${Le}px, 0)`:`scale(${Ne}) translate3d(${Le}px, 0, 0)`})}return z.useEffect(()=>{b||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[b]),z.createElement(Rw,{defaultOpen:w,onOpenChange:fe=>{!d&&!fe||(fe?L(!0):Mt(!0),C(fe))},open:T},z.createElement(ZE.Provider,{value:{activeSnapPoint:Ae,snapPoints:s,setActiveSnapPoint:oa,drawerRef:W,overlayRef:U,onOpenChange:t,onPress:Er,onRelease:$a,onDrag:St,dismissible:d,shouldAnimate:G,handleOnly:f,isOpen:T,isDragging:P,shouldFade:Oa,closeDrawer:Mt,onNestedDrag:Sn,onNestedOpenChange:Yn,onNestedRelease:ps,keyboardIsOpen:$,modal:b,snapPointsOffset:wn,activeSnapPointIndex:dt,direction:k,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:_,container:O,autoFocus:I}},n))}const sR=z.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:a,onRelease:r,shouldFade:s,isOpen:o,modal:l,shouldAnimate:c}=Ic(),u=JE(t,n),d=a&&a.length>0;if(!l)return null;const f=z.useCallback(m=>r(m),[r]);return z.createElement(x0,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":o&&d?"true":"false","data-vaul-snap-points-overlay":o&&s?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});sR.displayName="Drawer.Overlay";const fx=z.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...a},r){const{drawerRef:s,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:f,modal:m,isOpen:h,direction:g,snapPoints:y,container:b,handleOnly:x,shouldAnimate:v,autoFocus:_}=Ic(),[k,w]=z.useState(!1),S=JE(r,s),E=z.useRef(null),R=z.useRef(null),N=z.useRef(!1),j=y&&y.length>0;bI();const O=(D,A,T=0)=>{if(N.current)return!0;const C=Math.abs(D.y),M=Math.abs(D.x),L=M>C,P=["bottom","right"].includes(A)?1:-1;if(A==="left"||A==="right"){if(!(D.x*P<0)&&M>=0&&M<=T)return L}else if(!(D.y*P<0)&&C>=0&&C<=T)return!L;return N.current=!0,!0};z.useEffect(()=>{j&&window.requestAnimationFrame(()=>{w(!0)})},[]);function I(D){E.current=null,N.current=!1,l(D)}return z.createElement(y0,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":k?"true":"false","data-vaul-snap-points":h&&j?"true":"false","data-vaul-custom-container":b?"true":"false","data-vaul-animate":v!=null&&v.current?"true":"false",...a,ref:S,style:d&&d.length>0?{"--snap-point-height":`${d[f??0]}px`,...t}:t,onPointerDown:D=>{x||(a.onPointerDown==null||a.onPointerDown.call(a,D),E.current={x:D.pageX,y:D.pageY},o(D))},onOpenAutoFocus:D=>{n==null||n(D),_||D.preventDefault()},onPointerDownOutside:D=>{if(e==null||e(D),!m||D.defaultPrevented){D.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:D=>{if(!m){D.preventDefault();return}},onPointerMove:D=>{if(R.current=D,x||(a.onPointerMove==null||a.onPointerMove.call(a,D),!E.current))return;const A=D.pageY-E.current.y,T=D.pageX-E.current.x,C=D.pointerType==="touch"?10:2;O({x:T,y:A},g,C)?c(D):(Math.abs(T)>C||Math.abs(A)>C)&&(E.current=null)},onPointerUp:D=>{a.onPointerUp==null||a.onPointerUp.call(a,D),E.current=null,N.current=!1,l(D)},onPointerOut:D=>{a.onPointerOut==null||a.onPointerOut.call(a,D),I(R.current)},onContextMenu:D=>{a.onContextMenu==null||a.onContextMenu.call(a,D),R.current&&I(R.current)}})});fx.displayName="Drawer.Content";const wI=250,SI=120,EI=z.forwardRef(function({preventCycle:e=!1,children:t,...n},a){const{closeDrawer:r,isDragging:s,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:m,onDrag:h}=Ic(),g=z.useRef(null),y=z.useRef(!1);function b(){if(y.current){_();return}window.setTimeout(()=>{x()},SI)}function x(){if(s||e||y.current){_();return}if(_(),!o||o.length===0){u||r();return}if(l===o[o.length-1]&&u){r();return}const w=o.findIndex(E=>E===l);if(w===-1)return;const S=o[w+1];c(S)}function v(){g.current=window.setTimeout(()=>{y.current=!0},wI)}function _(){g.current&&window.clearTimeout(g.current),y.current=!1}return z.createElement("div",{onClick:b,onPointerCancel:_,onPointerDown:k=>{d&&m(k),v()},onPointerMove:k=>{d&&h(k)},ref:a,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},z.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});EI.displayName="Drawer.Handle";function RI(e){const t=Ic(),{container:n=t.container,...a}=e;return z.createElement(Nw,{container:n,...a})}const _r={Root:kI,Content:fx,Overlay:sR,Portal:RI,Title:v0,Description:b0},iR=({shouldScaleBackground:e=!0,...t})=>i.jsx(_r.Root,{shouldScaleBackground:e,...t});iR.displayName="Drawer";const oR=_r.Portal,mx=p.forwardRef(({className:e,...t},n)=>i.jsx(_r.Overlay,{ref:n,className:H("fixed inset-0 bg-black/40",e),style:{zIndex:_t.MODAL},...t}));mx.displayName=_r.Overlay.displayName;const NI=p.forwardRef(({className:e,children:t,...n},a)=>i.jsxs(oR,{children:[i.jsx(mx,{}),i.jsxs(_r.Content,{ref:a,className:H("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:_t.MODAL+1},...n,children:[i.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));NI.displayName="DrawerContent";const lR=({className:e,...t})=>i.jsx("div",{className:H("grid gap-1.5 p-4 text-center sm:text-left",e),...t});lR.displayName="DrawerHeader";const cR=({className:e,...t})=>i.jsx("div",{className:H("mt-auto flex flex-col gap-2 p-4",e),...t});cR.displayName="DrawerFooter";const uR=p.forwardRef(({className:e,...t},n)=>i.jsx(_r.Title,{ref:n,className:H("text-lg font-semibold leading-none tracking-tight",e),...t}));uR.displayName=_r.Title.displayName;const dR=p.forwardRef(({className:e,...t},n)=>i.jsx(_r.Description,{ref:n,className:H("text-sm text-muted-foreground",e),...t}));dR.displayName=_r.Description.displayName;var fR="Toggle",mR=p.forwardRef((e,t)=>{const{pressed:n,defaultPressed:a,onPressedChange:r,...s}=e,[o,l]=Hn({prop:n,onChange:r,defaultProp:a??!1,caller:fR});return i.jsx(xe.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:te(e.onClick,()=>{e.disabled||l(!o)})})});mR.displayName=fR;var fs="ToggleGroup",[hR,QJ]=rn(fs,[Qo]),pR=Qo(),hx=z.forwardRef((e,t)=>{const{type:n,...a}=e;if(n==="single"){const r=a;return i.jsx(jI,{...r,ref:t})}if(n==="multiple"){const r=a;return i.jsx(AI,{...r,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${fs}\``)});hx.displayName=fs;var[gR,xR]=hR(fs),jI=z.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},...s}=e,[o,l]=Hn({prop:n,defaultProp:a??"",onChange:r,caller:fs});return i.jsx(gR,{scope:e.__scopeToggleGroup,type:"single",value:z.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:z.useCallback(()=>l(""),[l]),children:i.jsx(yR,{...s,ref:t})})}),AI=z.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},...s}=e,[o,l]=Hn({prop:n,defaultProp:a??[],onChange:r,caller:fs}),c=z.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=z.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return i.jsx(gR,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:i.jsx(yR,{...s,ref:t})})});hx.displayName=fs;var[CI,MI]=hR(fs),yR=z.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:r=!0,orientation:s,dir:o,loop:l=!0,...c}=e,u=pR(n),d=Io(o),f={role:"group",dir:d,...c};return i.jsx(CI,{scope:n,rovingFocus:r,disabled:a,children:r?i.jsx(k0,{asChild:!0,...u,orientation:s,dir:d,loop:l,children:i.jsx(xe.div,{...f,ref:t})}):i.jsx(xe.div,{...f,ref:t})})}),Ld="ToggleGroupItem",vR=z.forwardRef((e,t)=>{const n=xR(Ld,e.__scopeToggleGroup),a=MI(Ld,e.__scopeToggleGroup),r=pR(e.__scopeToggleGroup),s=n.value.includes(e.value),o=a.disabled||e.disabled,l={...e,pressed:s,disabled:o},c=z.useRef(null);return a.rovingFocus?i.jsx(w0,{asChild:!0,...r,focusable:!o,active:s,ref:c,children:i.jsx(xb,{...l,ref:t})}):i.jsx(xb,{...l,ref:t})});vR.displayName=Ld;var xb=z.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:a,...r}=e,s=xR(Ld,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=s.type==="single"?o:void 0;return i.jsx(mR,{...l,...r,ref:t,onPressedChange:c=>{c?s.onItemActivate(a):s.onItemDeactivate(a)}})}),bR=hx,_R=vR;const kR=Po("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-transparent hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground",outline:"border border-input bg-background hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground data-[state=on]:border-muted-foreground/20"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-8"}},defaultVariants:{variant:"default",size:"default"}}),TI=p.forwardRef(({className:e,variant:t,size:n,children:a,...r},s)=>i.jsx(bR,{ref:s,className:H(kR({variant:t,size:n}),e),...r,children:a}));TI.displayName=bR.displayName;const DI=p.forwardRef(({className:e,variant:t,size:n,children:a,...r},s)=>i.jsx(_R,{ref:s,className:H(kR({variant:t,size:n}),e),...r,children:a}));DI.displayName=_R.displayName;function LI({type:e,size:t="sm"}){const n={major:"bg-yellow-600 text-white hover:bg-yellow-700 border-yellow-500",minor:"bg-gray-500 text-white hover:bg-gray-600 border-gray-400",none:"bg-gray-100 text-gray-800 border border-gray-300"},a={major:"Major",minor:"Minor",none:"Unassigned"},r={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return i.jsx(X,{className:H(n[e],r[t]),children:a[e]})}function PI({category:e,size:t="sm"}){const n={Combat:"bg-red-100 text-red-800 border-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200"},a={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return i.jsx(X,{variant:"outline",className:H(n[e]||"bg-gray-100 text-gray-800 border-gray-300",a[t]),children:e})}function zI({count:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return i.jsxs(X,{variant:"secondary",className:H("bg-purple-100 text-purple-800 border-purple-200",n[t]),children:[e," Perks"]})}function wR({level:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return e<=0?null:i.jsxs(X,{variant:"secondary",className:H("bg-blue-100 text-blue-800 border-blue-200",n[t]),children:["Min: Level ",e]})}function OI(){return i.jsx("div",{className:"container mx-auto p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loading Skills..."}),i.jsx("p",{className:"text-muted-foreground",children:"Initializing skill and perk data..."})]})})}function II({error:e}){return i.jsx("div",{className:"container mx-auto p-6",children:i.jsxs("div",{className:"text-center text-red-600",children:[i.jsx(lo,{className:"h-12 w-12 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Skills"}),i.jsx("p",{className:"text-muted-foreground",children:e})]})})}function QI({name:e,description:t,category:n,assignmentType:a,perkCount:r,level:s,onSelect:o,onMajorClick:l,onMinorClick:c,canAssignMajor:u,canAssignMinor:d,className:f}){const m=g=>{g.stopPropagation(),l(g)},h=g=>{g.stopPropagation(),c(g)};return i.jsxs("div",{className:H("p-4 border rounded-lg hover:bg-muted/50 transition-colors",f),onClick:o,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-semibold text-lg cursor-pointer",children:e}),i.jsx(LI,{type:a})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:t}),i.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[i.jsx(PI,{category:n}),i.jsx(zI,{count:r}),typeof s=="number"&&s>0&&i.jsx(wR,{level:s})]}),i.jsxs("div",{className:"flex gap-2","data-assignment-control":!0,children:[i.jsx(Z,{size:"sm",variant:a==="major"?"default":"outline",onClick:m,disabled:!u&&a!=="major",className:H("flex-1 text-xs",a==="major"&&"bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-500"),children:a==="major"?"Remove Major":"Major"}),i.jsx(Z,{size:"sm",variant:a==="minor"?"default":"outline",onClick:h,disabled:!d&&a!=="minor",className:H("flex-1 text-xs",a==="minor"&&"bg-gray-500 hover:bg-gray-600 text-white border-gray-400"),children:a==="minor"?"Remove Minor":"Minor"})]})]})}function BI({skills:e,onSkillSelect:t,onAssignMajor:n,onAssignMinor:a,onRemoveAssignment:r,selectedSkillId:s,className:o}){return i.jsx("div",{className:H("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",o),children:e.map(l=>i.jsx(QI,{name:l.name,description:l.description,category:l.category,assignmentType:l.assignmentType,perkCount:l.perkCount,level:l.level,canAssignMajor:l.canAssignMajor,canAssignMinor:l.canAssignMinor,onSelect:()=>t(l.id),onMajorClick:c=>{c.preventDefault(),n(l.id)},onMinorClick:c=>{c.preventDefault(),a(l.id)},className:s===l.id?"ring-2 ring-primary bg-primary/5":""},l.id))})}function yb({item:e,isExpanded:t=!1,onToggle:n,className:a,allTraitIds:r,disableHover:s=!1}){e.originalTrait;const{hasRegularTrait:o,hasBonusTrait:l,addRegularTrait:c,addBonusTrait:u,removeTrait:d,canAddRegularTrait:f,canAddBonusTrait:m,build:h}=pt(),y=o(e.id)?"primary":l(e.id)?"secondary":"none",b=k=>{y===k?d(e.id):(d(e.id),k==="primary"&&f()?c(e.id):k==="secondary"&&m()&&u(e.id))},x=!f()&&y!=="primary",v=!m()&&y!=="secondary",_=()=>y==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":y==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return p.useEffect(()=>{var k,w;if(r){const S=((k=h==null?void 0:h.traits)==null?void 0:k.regular)||[],E=((w=h==null?void 0:h.traits)==null?void 0:w.bonus)||[];[...S,...E].filter(j=>!r.includes(j)).forEach(j=>d(j))}},[r,h==null?void 0:h.traits,d]),i.jsxs(le,{expanded:t,onToggle:n,className:H(a,_()),disableHover:s,children:[i.jsx(le.Header,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(a0,{className:"h-4 w-4 text-black"}),i.jsx($t,{className:"text-primary font-semibold",children:e.name})]})}),i.jsx(le.Summary,{children:i.jsx(Cs,{text:e.description,className:H("text-base text-muted-foreground",t?"":"line-clamp-2")})}),i.jsx(le.Footer,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{size:"sm",variant:y==="primary"?"default":"outline",disabled:x,className:H("flex-1 text-xs",y==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:k=>{k.stopPropagation(),b("primary")},children:y==="primary"?"Remove Trait":"Starting Trait"}),i.jsx(Z,{size:"sm",variant:y==="secondary"?"default":"outline",disabled:v,className:H("flex-1 text-xs",y==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:k=>{k.stopPropagation(),b("secondary")},children:y==="secondary"?"Remove Trait":"Late Game Trait"})]})})]})}function Wt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,a;n<e.length;n++)(a=Wt(e[n]))!==""&&(t+=(t&&" ")+a);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var SR={exports:{}},ER={},RR={exports:{}},NR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=p;function $I(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HI=typeof Object.is=="function"?Object.is:$I,FI=xo.useState,qI=xo.useEffect,UI=xo.useLayoutEffect,YI=xo.useDebugValue;function VI(e,t){var n=t(),a=FI({inst:{value:n,getSnapshot:t}}),r=a[0].inst,s=a[1];return UI(function(){r.value=n,r.getSnapshot=t,sh(r)&&s({inst:r})},[e,n,t]),qI(function(){return sh(r)&&s({inst:r}),e(function(){sh(r)&&s({inst:r})})},[e]),YI(n),n}function sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!HI(e,n)}catch{return!0}}function GI(e,t){return t()}var WI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GI:VI;NR.useSyncExternalStore=xo.useSyncExternalStore!==void 0?xo.useSyncExternalStore:WI;RR.exports=NR;var ZI=RR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=p,XI=ZI;function KI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JI=typeof Object.is=="function"?Object.is:KI,eQ=XI.useSyncExternalStore,tQ=im.useRef,nQ=im.useEffect,aQ=im.useMemo,rQ=im.useDebugValue;ER.useSyncExternalStoreWithSelector=function(e,t,n,a,r){var s=tQ(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=aQ(function(){function c(h){if(!u){if(u=!0,d=h,h=a(h),r!==void 0&&o.hasValue){var g=o.value;if(r(g,h))return f=g}return f=h}if(g=f,JI(d,h))return g;var y=a(h);return r!==void 0&&r(g,y)?(d=h,g):(d=h,f=y)}var u=!1,d,f,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,a,r]);var l=eQ(e,s[0],s[1]);return nQ(function(){o.hasValue=!0,o.value=l},[l]),rQ(l),l};SR.exports=ER;var sQ=SR.exports;const iQ=Gg(sQ),oQ={},vb=e=>{let t;const n=new Set,a=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(g=>g(t,h))}},r=()=>t,c={setState:a,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(oQ?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(a,r,c);return c},lQ=e=>e?vb(e):vb,{useDebugValue:cQ}=z,{useSyncExternalStoreWithSelector:uQ}=iQ,dQ=e=>e;function jR(e,t=dQ,n){const a=uQ(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return cQ(a),a}const bb=(e,t)=>{const n=lQ(e),a=(r,s=t)=>jR(n,r,s);return Object.assign(a,n),a},fQ=(e,t)=>e?bb(e,t):bb;function nn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,r]of e)if(!Object.is(r,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}var mQ={value:()=>{}};function om(){for(var e=0,t=arguments.length,n={},a;e<t;++e){if(!(a=arguments[e]+"")||a in n||/[\s.]/.test(a))throw new Error("illegal type: "+a);n[a]=[]}return new Ju(n)}function Ju(e){this._=e}function hQ(e,t){return e.trim().split(/^|\s+/).map(function(n){var a="",r=n.indexOf(".");if(r>=0&&(a=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:a}})}Ju.prototype=om.prototype={constructor:Ju,on:function(e,t){var n=this._,a=hQ(e+"",n),r,s=-1,o=a.length;if(arguments.length<2){for(;++s<o;)if((r=(e=a[s]).type)&&(r=pQ(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(e=a[s]).type)n[r]=_b(n[r],e.name,t);else if(t==null)for(r in n)n[r]=_b(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ju(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),a=0,r,s;a<r;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],a=0,r=s.length;a<r;++a)s[a].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,s=a.length;r<s;++r)a[r].value.apply(t,n)}};function pQ(e,t){for(var n=0,a=e.length,r;n<a;++n)if((r=e[n]).name===t)return r.value}function _b(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=mQ,e=e.slice(0,a).concat(e.slice(a+1));break}return n!=null&&e.push({name:t,value:n}),e}var Tp="http://www.w3.org/1999/xhtml";const kb={svg:"http://www.w3.org/2000/svg",xhtml:Tp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lm(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),kb.hasOwnProperty(t)?{space:kb[t],local:e}:e}function gQ(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Tp&&t.documentElement.namespaceURI===Tp?t.createElement(e):t.createElementNS(n,e)}}function xQ(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function AR(e){var t=lm(e);return(t.local?xQ:gQ)(t)}function yQ(){}function px(e){return e==null?yQ:function(){return this.querySelector(e)}}function vQ(e){typeof e!="function"&&(e=px(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,l=a[r]=new Array(o),c,u,d=0;d<o;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new _n(a,this._parents)}function bQ(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _Q(){return[]}function CR(e){return e==null?_Q:function(){return this.querySelectorAll(e)}}function kQ(e){return function(){return bQ(e.apply(this,arguments))}}function wQ(e){typeof e=="function"?e=kQ(e):e=CR(e);for(var t=this._groups,n=t.length,a=[],r=[],s=0;s<n;++s)for(var o=t[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(a.push(e.call(c,c.__data__,u,o)),r.push(c));return new _n(a,r)}function MR(e){return function(){return this.matches(e)}}function TR(e){return function(t){return t.matches(e)}}var SQ=Array.prototype.find;function EQ(e){return function(){return SQ.call(this.children,e)}}function RQ(){return this.firstElementChild}function NQ(e){return this.select(e==null?RQ:EQ(typeof e=="function"?e:TR(e)))}var jQ=Array.prototype.filter;function AQ(){return Array.from(this.children)}function CQ(e){return function(){return jQ.call(this.children,e)}}function MQ(e){return this.selectAll(e==null?AQ:CQ(typeof e=="function"?e:TR(e)))}function TQ(e){typeof e!="function"&&(e=MR(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,l=a[r]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new _n(a,this._parents)}function DR(e){return new Array(e.length)}function DQ(){return new _n(this._enter||this._groups.map(DR),this._parents)}function Pd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pd.prototype={constructor:Pd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function LQ(e){return function(){return e}}function PQ(e,t,n,a,r,s){for(var o=0,l,c=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],a[o]=l):n[o]=new Pd(e,s[o]);for(;o<c;++o)(l=t[o])&&(r[o]=l)}function zQ(e,t,n,a,r,s,o){var l,c,u=new Map,d=t.length,f=s.length,m=new Array(d),h;for(l=0;l<d;++l)(c=t[l])&&(m[l]=h=o.call(c,c.__data__,l,t)+"",u.has(h)?r[l]=c:u.set(h,c));for(l=0;l<f;++l)h=o.call(e,s[l],l,s)+"",(c=u.get(h))?(a[l]=c,c.__data__=s[l],u.delete(h)):n[l]=new Pd(e,s[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(m[l])===c&&(r[l]=c)}function OQ(e){return e.__data__}function IQ(e,t){if(!arguments.length)return Array.from(this,OQ);var n=t?zQ:PQ,a=this._parents,r=this._groups;typeof e!="function"&&(e=LQ(e));for(var s=r.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=a[u],f=r[u],m=f.length,h=QQ(e.call(d,d&&d.__data__,u,a)),g=h.length,y=l[u]=new Array(g),b=o[u]=new Array(g),x=c[u]=new Array(m);n(d,f,y,b,x,h,t);for(var v=0,_=0,k,w;v<g;++v)if(k=y[v]){for(v>=_&&(_=v+1);!(w=b[_])&&++_<g;);k._next=w||null}}return o=new _n(o,a),o._enter=l,o._exit=c,o}function QQ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BQ(){return new _n(this._exit||this._groups.map(DR),this._parents)}function $Q(e,t,n){var a=this.enter(),r=this,s=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),a&&r?a.merge(r).order():r}function HQ(e){for(var t=e.selection?e.selection():e,n=this._groups,a=t._groups,r=n.length,s=a.length,o=Math.min(r,s),l=new Array(r),c=0;c<o;++c)for(var u=n[c],d=a[c],f=u.length,m=l[c]=new Array(f),h,g=0;g<f;++g)(h=u[g]||d[g])&&(m[g]=h);for(;c<r;++c)l[c]=n[c];return new _n(l,this._parents)}function FQ(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a=e[t],r=a.length-1,s=a[r],o;--r>=0;)(o=a[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function qQ(e){e||(e=UQ);function t(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var n=this._groups,a=n.length,r=new Array(a),s=0;s<a;++s){for(var o=n[s],l=o.length,c=r[s]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new _n(r,this._parents).order()}function UQ(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function YQ(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function VQ(){return Array.from(this)}function GQ(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,s=a.length;r<s;++r){var o=a[r];if(o)return o}return null}function WQ(){let e=0;for(const t of this)++e;return e}function ZQ(){return!this.node()}function XQ(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var r=t[n],s=0,o=r.length,l;s<o;++s)(l=r[s])&&e.call(l,l.__data__,s,r);return this}function KQ(e){return function(){this.removeAttribute(e)}}function JQ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function eB(e,t){return function(){this.setAttribute(e,t)}}function tB(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function nB(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function aB(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function rB(e,t){var n=lm(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((t==null?n.local?JQ:KQ:typeof t=="function"?n.local?aB:nB:n.local?tB:eB)(n,t))}function LR(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function sB(e){return function(){this.style.removeProperty(e)}}function iB(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oB(e,t,n){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function lB(e,t,n){return arguments.length>1?this.each((t==null?sB:typeof t=="function"?oB:iB)(e,t,n??"")):yo(this.node(),e)}function yo(e,t){return e.style.getPropertyValue(t)||LR(e).getComputedStyle(e,null).getPropertyValue(t)}function cB(e){return function(){delete this[e]}}function uB(e,t){return function(){this[e]=t}}function dB(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function fB(e,t){return arguments.length>1?this.each((t==null?cB:typeof t=="function"?dB:uB)(e,t)):this.node()[e]}function PR(e){return e.trim().split(/^|\s+/)}function gx(e){return e.classList||new zR(e)}function zR(e){this._node=e,this._names=PR(e.getAttribute("class")||"")}zR.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function OR(e,t){for(var n=gx(e),a=-1,r=t.length;++a<r;)n.add(t[a])}function IR(e,t){for(var n=gx(e),a=-1,r=t.length;++a<r;)n.remove(t[a])}function mB(e){return function(){OR(this,e)}}function hB(e){return function(){IR(this,e)}}function pB(e,t){return function(){(t.apply(this,arguments)?OR:IR)(this,e)}}function gB(e,t){var n=PR(e+"");if(arguments.length<2){for(var a=gx(this.node()),r=-1,s=n.length;++r<s;)if(!a.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?pB:t?mB:hB)(n,t))}function xB(){this.textContent=""}function yB(e){return function(){this.textContent=e}}function vB(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function bB(e){return arguments.length?this.each(e==null?xB:(typeof e=="function"?vB:yB)(e)):this.node().textContent}function _B(){this.innerHTML=""}function kB(e){return function(){this.innerHTML=e}}function wB(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function SB(e){return arguments.length?this.each(e==null?_B:(typeof e=="function"?wB:kB)(e)):this.node().innerHTML}function EB(){this.nextSibling&&this.parentNode.appendChild(this)}function RB(){return this.each(EB)}function NB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jB(){return this.each(NB)}function AB(e){var t=typeof e=="function"?e:AR(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function CB(){return null}function MB(e,t){var n=typeof e=="function"?e:AR(e),a=t==null?CB:typeof t=="function"?t:px(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}function TB(){var e=this.parentNode;e&&e.removeChild(this)}function DB(){return this.each(TB)}function LB(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function PB(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zB(e){return this.select(e?PB:LB)}function OB(e){return arguments.length?this.property("__data__",e):this.node().__data__}function IB(e){return function(t){e.call(this,t,this.__data__)}}function QB(e){return e.trim().split(/^|\s+/).map(function(t){var n="",a=t.indexOf(".");return a>=0&&(n=t.slice(a+1),t=t.slice(0,a)),{type:t,name:n}})}function BB(e){return function(){var t=this.__on;if(t){for(var n=0,a=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++a]=s;++a?t.length=a:delete this.__on}}}function $B(e,t,n){return function(){var a=this.__on,r,s=IB(t);if(a){for(var o=0,l=a.length;o<l;++o)if((r=a[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},a?a.push(r):this.__on=[r]}}function HB(e,t,n){var a=QB(e+""),r,s=a.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(r=0,d=l[c];r<s;++r)if((o=a[r]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?$B:BB,r=0;r<s;++r)this.each(l(a[r],t,n));return this}function QR(e,t,n){var a=LR(e),r=a.CustomEvent;typeof r=="function"?r=new r(t,n):(r=a.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function FB(e,t){return function(){return QR(this,e,t)}}function qB(e,t){return function(){return QR(this,e,t.apply(this,arguments))}}function UB(e,t){return this.each((typeof t=="function"?qB:FB)(e,t))}function*YB(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,s=a.length,o;r<s;++r)(o=a[r])&&(yield o)}var BR=[null];function _n(e,t){this._groups=e,this._parents=t}function Qc(){return new _n([[document.documentElement]],BR)}function VB(){return this}_n.prototype=Qc.prototype={constructor:_n,select:vQ,selectAll:wQ,selectChild:NQ,selectChildren:MQ,filter:TQ,data:IQ,enter:DQ,exit:BQ,join:$Q,merge:HQ,selection:VB,order:FQ,sort:qQ,call:YQ,nodes:VQ,node:GQ,size:WQ,empty:ZQ,each:XQ,attr:rB,style:lB,property:fB,classed:gB,text:bB,html:SB,raise:RB,lower:jB,append:AB,insert:MB,remove:DB,clone:zB,datum:OB,on:HB,dispatch:UB,[Symbol.iterator]:YB};function Gn(e){return typeof e=="string"?new _n([[document.querySelector(e)]],[document.documentElement]):new _n([[e]],BR)}function GB(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ha(e,t){if(e=GB(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const WB={passive:!1},tc={capture:!0,passive:!1};function ih(e){e.stopImmediatePropagation()}function Zi(e){e.preventDefault(),e.stopImmediatePropagation()}function $R(e){var t=e.document.documentElement,n=Gn(e).on("dragstart.drag",Zi,tc);"onselectstart"in t?n.on("selectstart.drag",Zi,tc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function HR(e,t){var n=e.document.documentElement,a=Gn(e).on("dragstart.drag",null);t&&(a.on("click.drag",Zi,tc),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const _u=e=>()=>e;function Dp(e,{sourceEvent:t,subject:n,target:a,identifier:r,active:s,x:o,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Dp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ZB(e){return!e.ctrlKey&&!e.button}function XB(){return this.parentNode}function KB(e,t){return t??{x:e.x,y:e.y}}function JB(){return navigator.maxTouchPoints||"ontouchstart"in this}function e$(){var e=ZB,t=XB,n=KB,a=JB,r={},s=om("start","drag","end"),o=0,l,c,u,d,f=0;function m(k){k.on("mousedown.drag",h).filter(a).on("touchstart.drag",b).on("touchmove.drag",x,WB).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(k,w){if(!(d||!e.call(this,k,w))){var S=_(this,t.call(this,k,w),k,w,"mouse");S&&(Gn(k.view).on("mousemove.drag",g,tc).on("mouseup.drag",y,tc),$R(k.view),ih(k),u=!1,l=k.clientX,c=k.clientY,S("start",k))}}function g(k){if(Zi(k),!u){var w=k.clientX-l,S=k.clientY-c;u=w*w+S*S>f}r.mouse("drag",k)}function y(k){Gn(k.view).on("mousemove.drag mouseup.drag",null),HR(k.view,u),Zi(k),r.mouse("end",k)}function b(k,w){if(e.call(this,k,w)){var S=k.changedTouches,E=t.call(this,k,w),R=S.length,N,j;for(N=0;N<R;++N)(j=_(this,E,k,w,S[N].identifier,S[N]))&&(ih(k),j("start",k,S[N]))}}function x(k){var w=k.changedTouches,S=w.length,E,R;for(E=0;E<S;++E)(R=r[w[E].identifier])&&(Zi(k),R("drag",k,w[E]))}function v(k){var w=k.changedTouches,S=w.length,E,R;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<S;++E)(R=r[w[E].identifier])&&(ih(k),R("end",k,w[E]))}function _(k,w,S,E,R,N){var j=s.copy(),O=ha(N||S,w),I,D,A;if((A=n.call(k,new Dp("beforestart",{sourceEvent:S,target:m,identifier:R,active:o,x:O[0],y:O[1],dx:0,dy:0,dispatch:j}),E))!=null)return I=A.x-O[0]||0,D=A.y-O[1]||0,function T(C,M,L){var P=O,Q;switch(C){case"start":r[R]=T,Q=o++;break;case"end":delete r[R],--o;case"drag":O=ha(L||M,w),Q=o;break}j.call(C,k,new Dp(C,{sourceEvent:M,subject:A,target:m,identifier:R,active:Q,x:O[0]+I,y:O[1]+D,dx:O[0]-P[0],dy:O[1]-P[1],dispatch:j}),E)}}return m.filter=function(k){return arguments.length?(e=typeof k=="function"?k:_u(!!k),m):e},m.container=function(k){return arguments.length?(t=typeof k=="function"?k:_u(k),m):t},m.subject=function(k){return arguments.length?(n=typeof k=="function"?k:_u(k),m):n},m.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:_u(!!k),m):a},m.on=function(){var k=s.on.apply(s,arguments);return k===s?m:k},m.clickDistance=function(k){return arguments.length?(f=(k=+k)*k,m):Math.sqrt(f)},m}function xx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function FR(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Bc(){}var nc=.7,zd=1/nc,Xi="\\s*([+-]?\\d+)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t$=/^#([0-9a-f]{3,8})$/,n$=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),a$=new RegExp(`^rgb\\(${Sa},${Sa},${Sa}\\)$`),r$=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${ac}\\)$`),s$=new RegExp(`^rgba\\(${Sa},${Sa},${Sa},${ac}\\)$`),i$=new RegExp(`^hsl\\(${ac},${Sa},${Sa}\\)$`),o$=new RegExp(`^hsla\\(${ac},${Sa},${Sa},${ac}\\)$`),wb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xx(Bc,rc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sb,formatHex:Sb,formatHex8:l$,formatHsl:c$,formatRgb:Eb,toString:Eb});function Sb(){return this.rgb().formatHex()}function l$(){return this.rgb().formatHex8()}function c$(){return qR(this).formatHsl()}function Eb(){return this.rgb().formatRgb()}function rc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=t$.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Rb(t):n===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ku(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ku(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=n$.exec(e))?new en(t[1],t[2],t[3],1):(t=a$.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=r$.exec(e))?ku(t[1],t[2],t[3],t[4]):(t=s$.exec(e))?ku(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=i$.exec(e))?Ab(t[1],t[2]/100,t[3]/100,1):(t=o$.exec(e))?Ab(t[1],t[2]/100,t[3]/100,t[4]):wb.hasOwnProperty(e)?Rb(wb[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function Rb(e){return new en(e>>16&255,e>>8&255,e&255,1)}function ku(e,t,n,a){return a<=0&&(e=t=n=NaN),new en(e,t,n,a)}function u$(e){return e instanceof Bc||(e=rc(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function Lp(e,t,n,a){return arguments.length===1?u$(e):new en(e,t,n,a??1)}function en(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}xx(en,Lp,FR(Bc,{brighter(e){return e=e==null?zd:Math.pow(zd,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nc:Math.pow(nc,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(Ms(this.r),Ms(this.g),Ms(this.b),Od(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nb,formatHex:Nb,formatHex8:d$,formatRgb:jb,toString:jb}));function Nb(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}`}function d$(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}${Ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function jb(){const e=Od(this.opacity);return`${e===1?"rgb(":"rgba("}${Ms(this.r)}, ${Ms(this.g)}, ${Ms(this.b)}${e===1?")":`, ${e})`}`}function Od(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ms(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ns(e){return e=Ms(e),(e<16?"0":"")+e.toString(16)}function Ab(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wn(e,t,n,a)}function qR(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);if(e instanceof Bc||(e=rc(e)),!e)return new Wn;if(e instanceof Wn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),s=Math.max(t,n,a),o=NaN,l=s-r,c=(s+r)/2;return l?(t===s?o=(n-a)/l+(n<a)*6:n===s?o=(a-t)/l+2:o=(t-n)/l+4,l/=c<.5?s+r:2-s-r,o*=60):l=c>0&&c<1?0:o,new Wn(o,l,c,e.opacity)}function f$(e,t,n,a){return arguments.length===1?qR(e):new Wn(e,t,n,a??1)}function Wn(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}xx(Wn,f$,FR(Bc,{brighter(e){return e=e==null?zd:Math.pow(zd,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nc:Math.pow(nc,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new en(oh(e>=240?e-240:e+120,r,a),oh(e,r,a),oh(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new Wn(Cb(this.h),wu(this.s),wu(this.l),Od(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Od(this.opacity);return`${e===1?"hsl(":"hsla("}${Cb(this.h)}, ${wu(this.s)*100}%, ${wu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Cb(e){return e=(e||0)%360,e<0?e+360:e}function wu(e){return Math.max(0,Math.min(1,e||0))}function oh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const UR=e=>()=>e;function m$(e,t){return function(n){return e+n*t}}function h$(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function p$(e){return(e=+e)==1?YR:function(t,n){return n-t?h$(t,n,e):UR(isNaN(t)?n:t)}}function YR(e,t){var n=t-e;return n?m$(e,n):UR(isNaN(e)?t:e)}const Mb=function e(t){var n=p$(t);function a(r,s){var o=n((r=Lp(r)).r,(s=Lp(s)).r),l=n(r.g,s.g),c=n(r.b,s.b),u=YR(r.opacity,s.opacity);return function(d){return r.r=o(d),r.g=l(d),r.b=c(d),r.opacity=u(d),r+""}}return a.gamma=e,a}(1);function Lr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Pp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lh=new RegExp(Pp.source,"g");function g$(e){return function(){return e}}function x$(e){return function(t){return e(t)+""}}function y$(e,t){var n=Pp.lastIndex=lh.lastIndex=0,a,r,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=Pp.exec(e))&&(r=lh.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(a=a[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:Lr(a,r)})),n=lh.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?x$(c[0].x):g$(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}var Tb=180/Math.PI,zp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function VR(e,t,n,a,r,s){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*a)&&(n-=e*c,a-=t*c),(l=Math.sqrt(n*n+a*a))&&(n/=l,a/=l,c/=l),e*a<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Tb,skewX:Math.atan(c)*Tb,scaleX:o,scaleY:l}}var Su;function v$(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?zp:VR(t.a,t.b,t.c,t.d,t.e,t.f)}function b$(e){return e==null||(Su||(Su=document.createElementNS("http://www.w3.org/2000/svg","g")),Su.setAttribute("transform",e),!(e=Su.transform.baseVal.consolidate()))?zp:(e=e.matrix,VR(e.a,e.b,e.c,e.d,e.e,e.f))}function GR(e,t,n,a){function r(u){return u.length?u.pop()+" ":""}function s(u,d,f,m,h,g){if(u!==f||d!==m){var y=h.push("translate(",null,t,null,n);g.push({i:y-4,x:Lr(u,f)},{i:y-2,x:Lr(d,m)})}else(f||m)&&h.push("translate("+f+t+m+n)}function o(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(r(f)+"rotate(",null,a)-2,x:Lr(u,d)})):d&&f.push(r(f)+"rotate("+d+a)}function l(u,d,f,m){u!==d?m.push({i:f.push(r(f)+"skewX(",null,a)-2,x:Lr(u,d)}):d&&f.push(r(f)+"skewX("+d+a)}function c(u,d,f,m,h,g){if(u!==f||d!==m){var y=h.push(r(h)+"scale(",null,",",null,")");g.push({i:y-4,x:Lr(u,f)},{i:y-2,x:Lr(d,m)})}else(f!==1||m!==1)&&h.push(r(h)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,m),o(u.rotate,d.rotate,f,m),l(u.skewX,d.skewX,f,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(h){for(var g=-1,y=m.length,b;++g<y;)f[(b=m[g]).i]=b.x(h);return f.join("")}}}var _$=GR(v$,"px, ","px)","deg)"),k$=GR(b$,", ",")",")"),w$=1e-12;function Db(e){return((e=Math.exp(e))+1/e)/2}function S$(e){return((e=Math.exp(e))-1/e)/2}function E$(e){return((e=Math.exp(2*e))-1)/(e+1)}const R$=function e(t,n,a){function r(s,o){var l=s[0],c=s[1],u=s[2],d=o[0],f=o[1],m=o[2],h=d-l,g=f-c,y=h*h+g*g,b,x;if(y<w$)x=Math.log(m/u)/t,b=function(E){return[l+E*h,c+E*g,u*Math.exp(t*E*x)]};else{var v=Math.sqrt(y),_=(m*m-u*u+a*y)/(2*u*n*v),k=(m*m-u*u-a*y)/(2*m*n*v),w=Math.log(Math.sqrt(_*_+1)-_),S=Math.log(Math.sqrt(k*k+1)-k);x=(S-w)/t,b=function(E){var R=E*x,N=Db(w),j=u/(n*v)*(N*E$(t*R+w)-S$(w));return[l+j*h,c+j*g,u*N/Db(t*R+w)]}}return b.duration=x*1e3*t/Math.SQRT2,b}return r.rho=function(s){var o=Math.max(.001,+s),l=o*o,c=l*l;return e(o,l,c)},r}(Math.SQRT2,2,4);var vo=0,bl=0,sl=0,WR=1e3,Id,_l,Qd=0,Hs=0,cm=0,sc=typeof performance=="object"&&performance.now?performance:Date,ZR=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yx(){return Hs||(ZR(N$),Hs=sc.now()+cm)}function N$(){Hs=0}function Bd(){this._call=this._time=this._next=null}Bd.prototype=XR.prototype={constructor:Bd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yx():+n)+(t==null?0:+t),!this._next&&_l!==this&&(_l?_l._next=this:Id=this,_l=this),this._call=e,this._time=n,Op()},stop:function(){this._call&&(this._call=null,this._time=1/0,Op())}};function XR(e,t,n){var a=new Bd;return a.restart(e,t,n),a}function j$(){yx(),++vo;for(var e=Id,t;e;)(t=Hs-e._time)>=0&&e._call.call(void 0,t),e=e._next;--vo}function Lb(){Hs=(Qd=sc.now())+cm,vo=bl=0;try{j$()}finally{vo=0,C$(),Hs=0}}function A$(){var e=sc.now(),t=e-Qd;t>WR&&(cm-=t,Qd=e)}function C$(){for(var e,t=Id,n,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Id=n);_l=e,Op(a)}function Op(e){if(!vo){bl&&(bl=clearTimeout(bl));var t=e-Hs;t>24?(e<1/0&&(bl=setTimeout(Lb,e-sc.now()-cm)),sl&&(sl=clearInterval(sl))):(sl||(Qd=sc.now(),sl=setInterval(A$,WR)),vo=1,ZR(Lb))}}function Pb(e,t,n){var a=new Bd;return t=t==null?0:+t,a.restart(r=>{a.stop(),e(r+t)},t,n),a}var M$=om("start","end","cancel","interrupt"),T$=[],KR=0,zb=1,Ip=2,ed=3,Ob=4,Qp=5,td=6;function um(e,t,n,a,r,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;D$(e,n,{name:t,index:a,group:r,on:M$,tween:T$,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:KR})}function vx(e,t){var n=sa(e,t);if(n.state>KR)throw new Error("too late; already scheduled");return n}function La(e,t){var n=sa(e,t);if(n.state>ed)throw new Error("too late; already running");return n}function sa(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function D$(e,t,n){var a=e.__transition,r;a[t]=n,n.timer=XR(s,0,n.time);function s(u){n.state=zb,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,m,h;if(n.state!==zb)return c();for(d in a)if(h=a[d],h.name===n.name){if(h.state===ed)return Pb(o);h.state===Ob?(h.state=td,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete a[d]):+d<t&&(h.state=td,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete a[d])}if(Pb(function(){n.state===ed&&(n.state=Ob,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ip,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ip){for(n.state=ed,r=new Array(m=n.tween.length),d=0,f=-1;d<m;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Qp,1),f=-1,m=r.length;++f<m;)r[f].call(e,d);n.state===Qp&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=td,n.timer.stop(),delete a[t];for(var u in a)return;delete e.__transition}}function nd(e,t){var n=e.__transition,a,r,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((a=n[o]).name!==t){s=!1;continue}r=a.state>Ip&&a.state<Qp,a.state=td,a.timer.stop(),a.on.call(r?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete n[o]}s&&delete e.__transition}}function L$(e){return this.each(function(){nd(this,e)})}function P$(e,t){var n,a;return function(){var r=La(this,e),s=r.tween;if(s!==n){a=n=s;for(var o=0,l=a.length;o<l;++o)if(a[o].name===t){a=a.slice(),a.splice(o,1);break}}r.tween=a}}function z$(e,t,n){var a,r;if(typeof n!="function")throw new Error;return function(){var s=La(this,e),o=s.tween;if(o!==a){r=(a=o).slice();for(var l={name:t,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=l;break}c===u&&r.push(l)}s.tween=r}}function O$(e,t){var n=this._id;if(e+="",arguments.length<2){for(var a=sa(this.node(),n).tween,r=0,s=a.length,o;r<s;++r)if((o=a[r]).name===e)return o.value;return null}return this.each((t==null?P$:z$)(n,e,t))}function bx(e,t,n){var a=e._id;return e.each(function(){var r=La(this,a);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return sa(r,a).value[t]}}function JR(e,t){var n;return(typeof t=="number"?Lr:t instanceof rc?Mb:(n=rc(t))?(t=n,Mb):y$)(e,t)}function I$(e){return function(){this.removeAttribute(e)}}function Q$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function B$(e,t,n){var a,r=n+"",s;return function(){var o=this.getAttribute(e);return o===r?null:o===a?s:s=t(a=o,n)}}function $$(e,t,n){var a,r=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===a?s:s=t(a=o,n)}}function H$(e,t,n){var a,r,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===a&&c===r?s:(r=c,s=t(a=o,l)))}}function F$(e,t,n){var a,r,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===a&&c===r?s:(r=c,s=t(a=o,l)))}}function q$(e,t){var n=lm(e),a=n==="transform"?k$:JR;return this.attrTween(e,typeof t=="function"?(n.local?F$:H$)(n,a,bx(this,"attr."+e,t)):t==null?(n.local?Q$:I$)(n):(n.local?$$:B$)(n,a,t))}function U$(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Y$(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function V$(e,t){var n,a;function r(){var s=t.apply(this,arguments);return s!==a&&(n=(a=s)&&Y$(e,s)),n}return r._value=t,r}function G$(e,t){var n,a;function r(){var s=t.apply(this,arguments);return s!==a&&(n=(a=s)&&U$(e,s)),n}return r._value=t,r}function W$(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var a=lm(e);return this.tween(n,(a.local?V$:G$)(a,t))}function Z$(e,t){return function(){vx(this,e).delay=+t.apply(this,arguments)}}function X$(e,t){return t=+t,function(){vx(this,e).delay=t}}function K$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Z$:X$)(t,e)):sa(this.node(),t).delay}function J$(e,t){return function(){La(this,e).duration=+t.apply(this,arguments)}}function eH(e,t){return t=+t,function(){La(this,e).duration=t}}function tH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?J$:eH)(t,e)):sa(this.node(),t).duration}function nH(e,t){if(typeof t!="function")throw new Error;return function(){La(this,e).ease=t}}function aH(e){var t=this._id;return arguments.length?this.each(nH(t,e)):sa(this.node(),t).ease}function rH(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;La(this,e).ease=n}}function sH(e){if(typeof e!="function")throw new Error;return this.each(rH(this._id,e))}function iH(e){typeof e!="function"&&(e=MR(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,l=a[r]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new fr(a,this._parents,this._name,this._id)}function oH(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,r=n.length,s=Math.min(a,r),o=new Array(a),l=0;l<s;++l)for(var c=t[l],u=n[l],d=c.length,f=o[l]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(f[h]=m);for(;l<a;++l)o[l]=t[l];return new fr(o,this._parents,this._name,this._id)}function lH(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function cH(e,t,n){var a,r,s=lH(t)?vx:La;return function(){var o=s(this,e),l=o.on;l!==a&&(r=(a=l).copy()).on(t,n),o.on=r}}function uH(e,t){var n=this._id;return arguments.length<2?sa(this.node(),n).on.on(e):this.each(cH(n,e,t))}function dH(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function fH(){return this.on("end.remove",dH(this._id))}function mH(e){var t=this._name,n=this._id;typeof e!="function"&&(e=px(e));for(var a=this._groups,r=a.length,s=new Array(r),o=0;o<r;++o)for(var l=a[o],c=l.length,u=s[o]=new Array(c),d,f,m=0;m<c;++m)(d=l[m])&&(f=e.call(d,d.__data__,m,l))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,um(u[m],t,n,m,u,sa(d,n)));return new fr(s,this._parents,t,n)}function hH(e){var t=this._name,n=this._id;typeof e!="function"&&(e=CR(e));for(var a=this._groups,r=a.length,s=[],o=[],l=0;l<r;++l)for(var c=a[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var m=e.call(d,d.__data__,f,c),h,g=sa(d,n),y=0,b=m.length;y<b;++y)(h=m[y])&&um(h,t,n,y,m,g);s.push(m),o.push(d)}return new fr(s,o,t,n)}var pH=Qc.prototype.constructor;function gH(){return new pH(this._groups,this._parents)}function xH(e,t){var n,a,r;return function(){var s=yo(this,e),o=(this.style.removeProperty(e),yo(this,e));return s===o?null:s===n&&o===a?r:r=t(n=s,a=o)}}function eN(e){return function(){this.style.removeProperty(e)}}function yH(e,t,n){var a,r=n+"",s;return function(){var o=yo(this,e);return o===r?null:o===a?s:s=t(a=o,n)}}function vH(e,t,n){var a,r,s;return function(){var o=yo(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),yo(this,e))),o===c?null:o===a&&c===r?s:(r=c,s=t(a=o,l))}}function bH(e,t){var n,a,r,s="style."+t,o="end."+s,l;return function(){var c=La(this,e),u=c.on,d=c.value[s]==null?l||(l=eN(t)):void 0;(u!==n||r!==d)&&(a=(n=u).copy()).on(o,r=d),c.on=a}}function _H(e,t,n){var a=(e+="")=="transform"?_$:JR;return t==null?this.styleTween(e,xH(e,a)).on("end.style."+e,eN(e)):typeof t=="function"?this.styleTween(e,vH(e,a,bx(this,"style."+e,t))).each(bH(this._id,e)):this.styleTween(e,yH(e,a,t),n).on("end.style."+e,null)}function kH(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}function wH(e,t,n){var a,r;function s(){var o=t.apply(this,arguments);return o!==r&&(a=(r=o)&&kH(e,o,n)),a}return s._value=t,s}function SH(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,wH(e,t,n??""))}function EH(e){return function(){this.textContent=e}}function RH(e){return function(){var t=e(this);this.textContent=t??""}}function NH(e){return this.tween("text",typeof e=="function"?RH(bx(this,"text",e)):EH(e==null?"":e+""))}function jH(e){return function(t){this.textContent=e.call(this,t)}}function AH(e){var t,n;function a(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&jH(r)),t}return a._value=e,a}function CH(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,AH(e))}function MH(){for(var e=this._name,t=this._id,n=tN(),a=this._groups,r=a.length,s=0;s<r;++s)for(var o=a[s],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=sa(c,t);um(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new fr(a,this._parents,e,n)}function TH(){var e,t,n=this,a=n._id,r=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--r===0&&s()}};n.each(function(){var u=La(this,a),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),r===0&&s()})}var DH=0;function fr(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function tN(){return++DH}var qa=Qc.prototype;fr.prototype={constructor:fr,select:mH,selectAll:hH,selectChild:qa.selectChild,selectChildren:qa.selectChildren,filter:iH,merge:oH,selection:gH,transition:MH,call:qa.call,nodes:qa.nodes,node:qa.node,size:qa.size,empty:qa.empty,each:qa.each,on:uH,attr:q$,attrTween:W$,style:_H,styleTween:SH,text:NH,textTween:CH,remove:fH,tween:O$,delay:K$,duration:tH,ease:aH,easeVarying:sH,end:TH,[Symbol.iterator]:qa[Symbol.iterator]};function LH(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var PH={time:null,delay:0,duration:250,ease:LH};function zH(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function OH(e){var t,n;e instanceof fr?(t=e._id,e=e._name):(t=tN(),(n=PH).time=yx(),e=e==null?null:e+"");for(var a=this._groups,r=a.length,s=0;s<r;++s)for(var o=a[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&um(c,e,t,u,o,n||zH(c,t));return new fr(a,this._parents,e,t)}Qc.prototype.interrupt=L$;Qc.prototype.transition=OH;const Eu=e=>()=>e;function IH(e,{sourceEvent:t,target:n,transform:a,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:r}})}function Xa(e,t,n){this.k=e,this.x=t,this.y=n}Xa.prototype={constructor:Xa,scale:function(e){return e===1?this:new Xa(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Xa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wr=new Xa(1,0,0);Xa.prototype;function ch(e){e.stopImmediatePropagation()}function il(e){e.preventDefault(),e.stopImmediatePropagation()}function QH(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function BH(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ib(){return this.__zoom||Wr}function $H(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function HH(){return navigator.maxTouchPoints||"ontouchstart"in this}function FH(e,t,n){var a=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>a?(a+r)/2:Math.min(0,a)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function qH(){var e=QH,t=BH,n=FH,a=$H,r=HH,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=R$,u=om("start","zoom","end"),d,f,m,h=500,g=150,y=0,b=10;function x(A){A.property("__zoom",Ib).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",j).filter(r).on("touchstart.zoom",O).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(A,T,C,M){var L=A.selection?A.selection():A;L.property("__zoom",Ib),A!==L?w(A,T,C,M):L.interrupt().each(function(){S(this,arguments).event(M).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},x.scaleBy=function(A,T,C,M){x.scaleTo(A,function(){var L=this.__zoom.k,P=typeof T=="function"?T.apply(this,arguments):T;return L*P},C,M)},x.scaleTo=function(A,T,C,M){x.transform(A,function(){var L=t.apply(this,arguments),P=this.__zoom,Q=C==null?k(L):typeof C=="function"?C.apply(this,arguments):C,F=P.invert(Q),B=typeof T=="function"?T.apply(this,arguments):T;return n(_(v(P,B),Q,F),L,o)},C,M)},x.translateBy=function(A,T,C,M){x.transform(A,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof C=="function"?C.apply(this,arguments):C),t.apply(this,arguments),o)},null,M)},x.translateTo=function(A,T,C,M,L){x.transform(A,function(){var P=t.apply(this,arguments),Q=this.__zoom,F=M==null?k(P):typeof M=="function"?M.apply(this,arguments):M;return n(Wr.translate(F[0],F[1]).scale(Q.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof C=="function"?-C.apply(this,arguments):-C),P,o)},M,L)};function v(A,T){return T=Math.max(s[0],Math.min(s[1],T)),T===A.k?A:new Xa(T,A.x,A.y)}function _(A,T,C){var M=T[0]-C[0]*A.k,L=T[1]-C[1]*A.k;return M===A.x&&L===A.y?A:new Xa(A.k,M,L)}function k(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function w(A,T,C,M){A.on("start.zoom",function(){S(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(M).end()}).tween("zoom",function(){var L=this,P=arguments,Q=S(L,P).event(M),F=t.apply(L,P),B=C==null?k(F):typeof C=="function"?C.apply(L,P):C,U=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),V=L.__zoom,J=typeof T=="function"?T.apply(L,P):T,ie=c(V.invert(B).concat(U/V.k),J.invert(B).concat(U/J.k));return function(ee){if(ee===1)ee=J;else{var ge=ie(ee),me=U/ge[2];ee=new Xa(me,B[0]-ge[0]*me,B[1]-ge[1]*me)}Q.zoom(null,ee)}})}function S(A,T,C){return!C&&A.__zooming||new E(A,T)}function E(A,T){this.that=A,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,T),this.taps=0}E.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,T){return this.mouse&&A!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var T=Gn(this.that).datum();u.call(A,this.that,new IH(A,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),T)}};function R(A,...T){if(!e.apply(this,arguments))return;var C=S(this,T).event(A),M=this.__zoom,L=Math.max(s[0],Math.min(s[1],M.k*Math.pow(2,a.apply(this,arguments)))),P=ha(A);if(C.wheel)(C.mouse[0][0]!==P[0]||C.mouse[0][1]!==P[1])&&(C.mouse[1]=M.invert(C.mouse[0]=P)),clearTimeout(C.wheel);else{if(M.k===L)return;C.mouse=[P,M.invert(P)],nd(this),C.start()}il(A),C.wheel=setTimeout(Q,g),C.zoom("mouse",n(_(v(M,L),C.mouse[0],C.mouse[1]),C.extent,o));function Q(){C.wheel=null,C.end()}}function N(A,...T){if(m||!e.apply(this,arguments))return;var C=A.currentTarget,M=S(this,T,!0).event(A),L=Gn(A.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",U,!0),P=ha(A,C),Q=A.clientX,F=A.clientY;$R(A.view),ch(A),M.mouse=[P,this.__zoom.invert(P)],nd(this),M.start();function B(V){if(il(V),!M.moved){var J=V.clientX-Q,ie=V.clientY-F;M.moved=J*J+ie*ie>y}M.event(V).zoom("mouse",n(_(M.that.__zoom,M.mouse[0]=ha(V,C),M.mouse[1]),M.extent,o))}function U(V){L.on("mousemove.zoom mouseup.zoom",null),HR(V.view,M.moved),il(V),M.event(V).end()}}function j(A,...T){if(e.apply(this,arguments)){var C=this.__zoom,M=ha(A.changedTouches?A.changedTouches[0]:A,this),L=C.invert(M),P=C.k*(A.shiftKey?.5:2),Q=n(_(v(C,P),M,L),t.apply(this,T),o);il(A),l>0?Gn(this).transition().duration(l).call(w,Q,M,A):Gn(this).call(x.transform,Q,M,A)}}function O(A,...T){if(e.apply(this,arguments)){var C=A.touches,M=C.length,L=S(this,T,A.changedTouches.length===M).event(A),P,Q,F,B;for(ch(A),Q=0;Q<M;++Q)F=C[Q],B=ha(F,this),B=[B,this.__zoom.invert(B),F.identifier],L.touch0?!L.touch1&&L.touch0[2]!==B[2]&&(L.touch1=B,L.taps=0):(L.touch0=B,P=!0,L.taps=1+!!d);d&&(d=clearTimeout(d)),P&&(L.taps<2&&(f=B[0],d=setTimeout(function(){d=null},h)),nd(this),L.start())}}function I(A,...T){if(this.__zooming){var C=S(this,T).event(A),M=A.changedTouches,L=M.length,P,Q,F,B;for(il(A),P=0;P<L;++P)Q=M[P],F=ha(Q,this),C.touch0&&C.touch0[2]===Q.identifier?C.touch0[0]=F:C.touch1&&C.touch1[2]===Q.identifier&&(C.touch1[0]=F);if(Q=C.that.__zoom,C.touch1){var U=C.touch0[0],V=C.touch0[1],J=C.touch1[0],ie=C.touch1[1],ee=(ee=J[0]-U[0])*ee+(ee=J[1]-U[1])*ee,ge=(ge=ie[0]-V[0])*ge+(ge=ie[1]-V[1])*ge;Q=v(Q,Math.sqrt(ee/ge)),F=[(U[0]+J[0])/2,(U[1]+J[1])/2],B=[(V[0]+ie[0])/2,(V[1]+ie[1])/2]}else if(C.touch0)F=C.touch0[0],B=C.touch0[1];else return;C.zoom("touch",n(_(Q,F,B),C.extent,o))}}function D(A,...T){if(this.__zooming){var C=S(this,T).event(A),M=A.changedTouches,L=M.length,P,Q;for(ch(A),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),P=0;P<L;++P)Q=M[P],C.touch0&&C.touch0[2]===Q.identifier?delete C.touch0:C.touch1&&C.touch1[2]===Q.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(Q=ha(Q,this),Math.hypot(f[0]-Q[0],f[1]-Q[1])<b)){var F=Gn(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return x.wheelDelta=function(A){return arguments.length?(a=typeof A=="function"?A:Eu(+A),x):a},x.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Eu(!!A),x):e},x.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Eu(!!A),x):r},x.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Eu([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),x):t},x.scaleExtent=function(A){return arguments.length?(s[0]=+A[0],s[1]=+A[1],x):[s[0],s[1]]},x.translateExtent=function(A){return arguments.length?(o[0][0]=+A[0][0],o[1][0]=+A[1][0],o[0][1]=+A[0][1],o[1][1]=+A[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(A){return arguments.length?(n=A,x):n},x.duration=function(A){return arguments.length?(l=+A,x):l},x.interpolate=function(A){return arguments.length?(c=A,x):c},x.on=function(){var A=u.on.apply(u,arguments);return A===u?x:A},x.clickDistance=function(A){return arguments.length?(y=(A=+A)*A,x):Math.sqrt(y)},x.tapDistance=function(A){return arguments.length?(b=+A,x):b},x}const dm=p.createContext(null),UH=dm.Provider,mr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},nN=mr.error001();function et(e,t){const n=p.useContext(dm);if(n===null)throw new Error(nN);return jR(n,e,t)}const Ct=()=>{const e=p.useContext(dm);if(e===null)throw new Error(nN);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},YH=e=>e.userSelectionActive?"none":"all";function aN({position:e,children:t,className:n,style:a,...r}){const s=et(YH),o=`${e}`.split("-");return z.createElement("div",{className:Wt(["react-flow__panel",n,...o]),style:{...a,pointerEvents:s},...r},t)}function VH({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:z.createElement(aN,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},z.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const GH=({x:e,y:t,label:n,labelStyle:a={},labelShowBg:r=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const f=p.useRef(null),[m,h]=p.useState({x:0,y:0,width:0,height:0}),g=Wt(["react-flow__edge-textwrapper",u]);return p.useEffect(()=>{if(f.current){const y=f.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:z.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:g,visibility:m.width?"visible":"hidden",...d},r&&z.createElement("rect",{width:m.width+2*o[0],x:-o[0],y:-o[1],height:m.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),z.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:f,style:a},n),c)};var WH=p.memo(GH);const _x=e=>({width:e.offsetWidth,height:e.offsetHeight}),bo=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),kx=(e={x:0,y:0},t)=>({x:bo(e.x,t[0][0],t[1][0]),y:bo(e.y,t[0][1],t[1][1])}),Qb=(e,t,n)=>e<t?bo(Math.abs(e-t),1,50)/50:e>n?-bo(Math.abs(e-n),1,50)/50:0,rN=(e,t)=>{const n=Qb(e.x,35,t.width-35)*20,a=Qb(e.y,35,t.height-35)*20;return[n,a]},sN=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},ZH=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),wx=({x:e,y:t,width:n,height:a})=>({x:e,y:t,x2:e+n,y2:t+a}),XH=({x:e,y:t,x2:n,y2:a})=>({x:e,y:t,width:n-e,height:a-t}),Bb=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Bp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),a=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*a)},KH=e=>Pn(e.width)&&Pn(e.height)&&Pn(e.x)&&Pn(e.y),Pn=e=>!isNaN(e)&&isFinite(e),it=Symbol.for("internals"),iN=["Enter"," ","Escape"],JH=(e,t)=>{},eF=e=>"nativeEvent"in e;function $p(e){var r,s;const t=eF(e)?e.nativeEvent:e,n=((s=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const oN=e=>"clientX"in e,Zr=(e,t)=>{var s,o;const n=oN(e),a=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,r=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:a-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},$d=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},$c=({id:e,path:t,labelX:n,labelY:a,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h=20})=>z.createElement(z.Fragment,null,z.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:m}),h&&z.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),r&&Pn(n)&&Pn(a)?z.createElement(WH,{x:n,y:a,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);$c.displayName="BaseEdge";function ol(e,t,n){return n===void 0?n:a=>{const r=t().edges.find(s=>s.id===e);r&&n(a,{...r})}}function lN({sourceX:e,sourceY:t,targetX:n,targetY:a}){const r=Math.abs(n-e)/2,s=n<e?n+r:n-r,o=Math.abs(a-t)/2,l=a<t?a+o:a-o;return[s,l,r,o]}function cN({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:r,sourceControlY:s,targetControlX:o,targetControlY:l}){const c=e*.125+r*.375+o*.375+n*.125,u=t*.125+s*.375+l*.375+a*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var Fs;(function(e){e.Strict="strict",e.Loose="loose"})(Fs||(Fs={}));var js;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(js||(js={}));var ic;(function(e){e.Partial="partial",e.Full="full"})(ic||(ic={}));var Br;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Br||(Br={}));var Hd;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Hd||(Hd={}));var oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(oe||(oe={}));function $b({pos:e,x1:t,y1:n,x2:a,y2:r}){return e===oe.Left||e===oe.Right?[.5*(t+a),n]:[t,.5*(n+r)]}function uN({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:a,targetY:r,targetPosition:s=oe.Top}){const[o,l]=$b({pos:n,x1:e,y1:t,x2:a,y2:r}),[c,u]=$b({pos:s,x1:a,y1:r,x2:e,y2:t}),[d,f,m,h]=cN({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${l} ${c},${u} ${a},${r}`,d,f,m,h]}const Sx=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=oe.Bottom,targetPosition:s=oe.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:g,interactionWidth:y})=>{const[b,x,v]=uN({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:s});return z.createElement($c,{path:b,labelX:x,labelY:v,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:g,interactionWidth:y})});Sx.displayName="SimpleBezierEdge";const Hb={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}},tF=({source:e,sourcePosition:t=oe.Bottom,target:n})=>t===oe.Left||t===oe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Fb=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nF({source:e,sourcePosition:t=oe.Bottom,target:n,targetPosition:a=oe.Top,center:r,offset:s}){const o=Hb[t],l=Hb[a],c={x:e.x+o.x*s,y:e.y+o.y*s},u={x:n.x+l.x*s,y:n.y+l.y*s},d=tF({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",m=d[f];let h=[],g,y;const b={x:0,y:0},x={x:0,y:0},[v,_,k,w]=lN({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*l[f]===-1){g=r.x??v,y=r.y??_;const E=[{x:g,y:c.y},{x:g,y:u.y}],R=[{x:c.x,y},{x:u.x,y}];o[f]===m?h=f==="x"?E:R:h=f==="x"?R:E}else{const E=[{x:c.x,y:u.y}],R=[{x:u.x,y:c.y}];if(f==="x"?h=o.x===m?R:E:h=o.y===m?E:R,t===a){const D=Math.abs(e[f]-n[f]);if(D<=s){const A=Math.min(s-1,s-D);o[f]===m?b[f]=(c[f]>e[f]?-1:1)*A:x[f]=(u[f]>n[f]?-1:1)*A}}if(t!==a){const D=f==="x"?"y":"x",A=o[f]===l[D],T=c[D]>u[D],C=c[D]<u[D];(o[f]===1&&(!A&&T||A&&C)||o[f]!==1&&(!A&&C||A&&T))&&(h=f==="x"?E:R)}const N={x:c.x+b.x,y:c.y+b.y},j={x:u.x+x.x,y:u.y+x.y},O=Math.max(Math.abs(N.x-h[0].x),Math.abs(j.x-h[0].x)),I=Math.max(Math.abs(N.y-h[0].y),Math.abs(j.y-h[0].y));O>=I?(g=(N.x+j.x)/2,y=h[0].y):(g=h[0].x,y=(N.y+j.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...h,{x:u.x+x.x,y:u.y+x.y},n],g,y,k,w]}function aF(e,t,n,a){const r=Math.min(Fb(e,t)/2,Fb(t,n)/2,a),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${s+r*u},${o}Q ${s},${o} ${s},${o+r*d}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${o+r*c}Q ${s},${o} ${s+r*l},${o}`}function Hp({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:a,targetY:r,targetPosition:s=oe.Top,borderRadius:o=5,centerX:l,centerY:c,offset:u=20}){const[d,f,m,h,g]=nF({source:{x:e,y:t},sourcePosition:n,target:{x:a,y:r},targetPosition:s,center:{x:l,y:c},offset:u});return[d.reduce((b,x,v)=>{let _="";return v>0&&v<d.length-1?_=aF(d[v-1],x,d[v+1],o):_=`${v===0?"M":"L"}${x.x} ${x.y}`,b+=_,b},""),f,m,h,g]}const fm=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=oe.Bottom,targetPosition:m=oe.Top,markerEnd:h,markerStart:g,pathOptions:y,interactionWidth:b})=>{const[x,v,_]=Hp({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:a,targetPosition:m,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return z.createElement($c,{path:x,labelX:v,labelY:_,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:g,interactionWidth:b})});fm.displayName="SmoothStepEdge";const Ex=p.memo(e=>{var t;return z.createElement(fm,{...e,pathOptions:p.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Ex.displayName="StepEdge";function rF({sourceX:e,sourceY:t,targetX:n,targetY:a}){const[r,s,o,l]=lN({sourceX:e,sourceY:t,targetX:n,targetY:a});return[`M ${e},${t}L ${n},${a}`,r,s,o,l]}const Rx=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})=>{const[g,y,b]=rF({sourceX:e,sourceY:t,targetX:n,targetY:a});return z.createElement($c,{path:g,labelX:y,labelY:b,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:m,interactionWidth:h})});Rx.displayName="StraightEdge";function Ru(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function qb({pos:e,x1:t,y1:n,x2:a,y2:r,c:s}){switch(e){case oe.Left:return[t-Ru(t-a,s),n];case oe.Right:return[t+Ru(a-t,s),n];case oe.Top:return[t,n-Ru(n-r,s)];case oe.Bottom:return[t,n+Ru(r-n,s)]}}function dN({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:a,targetY:r,targetPosition:s=oe.Top,curvature:o=.25}){const[l,c]=qb({pos:n,x1:e,y1:t,x2:a,y2:r,c:o}),[u,d]=qb({pos:s,x1:a,y1:r,x2:e,y2:t,c:o}),[f,m,h,g]=cN({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${a},${r}`,f,m,h,g]}const Fd=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=oe.Bottom,targetPosition:s=oe.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:g,pathOptions:y,interactionWidth:b})=>{const[x,v,_]=dN({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:s,curvature:y==null?void 0:y.curvature});return z.createElement($c,{path:x,labelX:v,labelY:_,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:g,interactionWidth:b})});Fd.displayName="BezierEdge";const Nx=p.createContext(null),sF=Nx.Provider;Nx.Consumer;const iF=()=>p.useContext(Nx),oF=e=>"id"in e&&"source"in e&&"target"in e,lF=({source:e,sourceHandle:t,target:n,targetHandle:a})=>`reactflow__edge-${e}${t||""}-${n}${a||""}`,Fp=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`,cF=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),jx=(e,t)=>{if(!e.source||!e.target)return t;let n;return oF(e)?n={...e}:n={...e,id:lF(e)},cF(n,t)?t:t.concat(n)},qp=({x:e,y:t},[n,a,r],s,[o,l])=>{const c={x:(e-n)/r,y:(t-a)/r};return s?{x:o*Math.round(c.x/o),y:l*Math.round(c.y/l)}:c},fN=({x:e,y:t},[n,a,r])=>({x:e*r+n,y:t*r+a}),Ki=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],a=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-a};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-a}:r}},Ax=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((a,r)=>{const{x:s,y:o}=Ki(r,t).positionAbsolute;return ZH(a,wx({x:s,y:o,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return XH(n)},mN=(e,t,[n,a,r]=[0,0,1],s=!1,o=!1,l=[0,0])=>{const c={x:(t.x-n)/r,y:(t.y-a)/r,width:t.width/r,height:t.height/r},u=[];return e.forEach(d=>{const{width:f,height:m,selectable:h=!0,hidden:g=!1}=d;if(o&&!h||g)return!1;const{positionAbsolute:y}=Ki(d,l),b={x:y.x,y:y.y,width:f||0,height:m||0},x=Bp(c,b),v=typeof f>"u"||typeof m>"u"||f===null||m===null,_=s&&x>0,k=(f||0)*(m||0);(v||_||x>=k||d.dragging)&&u.push(d)}),u},hN=(e,t)=>{const n=e.map(a=>a.id);return t.filter(a=>n.includes(a.source)||n.includes(a.target))},pN=(e,t,n,a,r,s=.1)=>{const o=t/(e.width*(1+s)),l=n/(e.height*(1+s)),c=Math.min(o,l),u=bo(c,a,r),d=e.x+e.width/2,f=e.y+e.height/2,m=t/2-d*u,h=n/2-f*u;return{x:m,y:h,zoom:u}},bs=(e,t=0)=>e.transition().duration(t);function Ub(e,t,n,a){return(t[n]||[]).reduce((r,s)=>{var o,l;return`${e.id}-${s.id}-${n}`!==a&&r.push({id:s.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+s.y+s.height/2}),r},[])}function uF(e,t,n,a,r,s){const{x:o,y:l}=Zr(e),u=t.elementsFromPoint(o,l).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const y=Cx(void 0,u),b=u.getAttribute("data-handleid"),x=s({nodeId:g,id:b,type:y});if(x){const v=r.find(_=>_.nodeId===g&&_.type===y&&_.id===b);return{handle:{id:b,type:y,nodeId:g,x:(v==null?void 0:v.x)||n.x,y:(v==null?void 0:v.y)||n.y},validHandleResult:x}}}}let d=[],f=1/0;if(r.forEach(g=>{const y=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(y<=a){const b=s(g);y<=f&&(y<f?d=[{handle:g,validHandleResult:b}]:y===f&&d.push({handle:g,validHandleResult:b}),f=y)}}),!d.length)return{handle:null,validHandleResult:gN()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:g})=>g.isValid),h=d.some(({handle:g})=>g.type==="target");return d.find(({handle:g,validHandleResult:y})=>h?g.type==="target":m?y.isValid:!0)||d[0]}const dF={source:null,target:null,sourceHandle:null,targetHandle:null},gN=()=>({handleDomNode:null,isValid:!1,connection:dF,endHandle:null});function xN(e,t,n,a,r,s,o){const l=r==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...gN(),handleDomNode:c};if(c){const d=Cx(void 0,c),f=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),g=c.classList.contains("connectableend"),y={source:l?f:n,sourceHandle:l?m:a,target:l?n:f,targetHandle:l?a:m};u.connection=y,h&&g&&(t===Fs.Strict?l&&d==="source"||!l&&d==="target":f!==n||m!==a)&&(u.endHandle={nodeId:f,handleId:m,type:d},u.isValid=s(y))}return u}function fF({nodes:e,nodeId:t,handleId:n,handleType:a}){return e.reduce((r,s)=>{if(s[it]){const{handleBounds:o}=s[it];let l=[],c=[];o&&(l=Ub(s,o,"source",`${t}-${n}-${a}`),c=Ub(s,o,"target",`${t}-${n}-${a}`)),r.push(...l,...c)}return r},[])}function Cx(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function uh(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function mF(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function yN({event:e,handleId:t,nodeId:n,onConnect:a,isTarget:r,getState:s,setState:o,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const d=sN(e.target),{connectionMode:f,domNode:m,autoPanOnConnect:h,connectionRadius:g,onConnectStart:y,panBy:b,getNodes:x,cancelConnection:v}=s();let _=0,k;const{x:w,y:S}=Zr(e),E=d==null?void 0:d.elementFromPoint(w,S),R=Cx(c,E),N=m==null?void 0:m.getBoundingClientRect();if(!N||!R)return;let j,O=Zr(e,N),I=!1,D=null,A=!1,T=null;const C=fF({nodes:x(),nodeId:n,handleId:t,handleType:R}),M=()=>{if(!h)return;const[Q,F]=rN(O,N);b({x:Q,y:F}),_=requestAnimationFrame(M)};o({connectionPosition:O,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:R,connectionStartHandle:{nodeId:n,handleId:t,type:R},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:R});function L(Q){const{transform:F}=s();O=Zr(Q,N);const{handle:B,validHandleResult:U}=uF(Q,d,qp(O,F,!1,[1,1]),g,C,V=>xN(V,f,n,t,r?"target":"source",l,d));if(k=B,I||(M(),I=!0),T=U.handleDomNode,D=U.connection,A=U.isValid,o({connectionPosition:k&&A?fN({x:k.x,y:k.y},F):O,connectionStatus:mF(!!k,A),connectionEndHandle:U.endHandle}),!k&&!A&&!T)return uh(j);D.source!==D.target&&T&&(uh(j),j=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",A),T.classList.toggle("react-flow__handle-valid",A))}function P(Q){var F,B;(k||T)&&D&&A&&(a==null||a(D)),(B=(F=s()).onConnectEnd)==null||B.call(F,Q),c&&(u==null||u(Q)),uh(j),v(),cancelAnimationFrame(_),I=!1,A=!1,D=null,T=null,d.removeEventListener("mousemove",L),d.removeEventListener("mouseup",P),d.removeEventListener("touchmove",L),d.removeEventListener("touchend",P)}d.addEventListener("mousemove",L),d.addEventListener("mouseup",P),d.addEventListener("touchmove",L),d.addEventListener("touchend",P)}const Yb=()=>!0,hF=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),pF=(e,t,n)=>a=>{const{connectionStartHandle:r,connectionEndHandle:s,connectionClickStartHandle:o}=a;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},vN=p.forwardRef(({type:e="source",position:t=oe.Top,isValidConnection:n,isConnectable:a=!0,isConnectableStart:r=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...m},h)=>{var N,j;const g=o||null,y=e==="target",b=Ct(),x=iF(),{connectOnClick:v,noPanClassName:_}=et(hF,nn),{connecting:k,clickConnecting:w}=et(pF(x,g,e),nn);x||(j=(N=b.getState()).onError)==null||j.call(N,"010",mr.error010());const S=O=>{const{defaultEdgeOptions:I,onConnect:D,hasDefaultEdges:A}=b.getState(),T={...I,...O};if(A){const{edges:C,setEdges:M}=b.getState();M(jx(T,C))}D==null||D(T),l==null||l(T)},E=O=>{if(!x)return;const I=oN(O);r&&(I&&O.button===0||!I)&&yN({event:O,handleId:g,nodeId:x,onConnect:S,isTarget:y,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||Yb}),I?d==null||d(O):f==null||f(O)},R=O=>{const{onClickConnectStart:I,onClickConnectEnd:D,connectionClickStartHandle:A,connectionMode:T,isValidConnection:C}=b.getState();if(!x||!A&&!r)return;if(!A){I==null||I(O,{nodeId:x,handleId:g,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:g}});return}const M=sN(O.target),L=n||C||Yb,{connection:P,isValid:Q}=xN({nodeId:x,id:g,type:e},T,A.nodeId,A.handleId||null,A.type,L,M);Q&&S(P),D==null||D(O),b.setState({connectionClickStartHandle:null})};return z.createElement("div",{"data-handleid":g,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${g}-${e}`,className:Wt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,u,{source:!y,target:y,connectable:a,connectablestart:r,connectableend:s,connecting:w,connectionindicator:a&&(r&&!k||s&&k)}]),onMouseDown:E,onTouchStart:E,onClick:v?R:void 0,ref:h,...m},c)});vN.displayName="Handle";var _o=p.memo(vN);const bN=({data:e,isConnectable:t,targetPosition:n=oe.Top,sourcePosition:a=oe.Bottom})=>z.createElement(z.Fragment,null,z.createElement(_o,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,z.createElement(_o,{type:"source",position:a,isConnectable:t}));bN.displayName="DefaultNode";var Up=p.memo(bN);const _N=({data:e,isConnectable:t,sourcePosition:n=oe.Bottom})=>z.createElement(z.Fragment,null,e==null?void 0:e.label,z.createElement(_o,{type:"source",position:n,isConnectable:t}));_N.displayName="InputNode";var kN=p.memo(_N);const wN=({data:e,isConnectable:t,targetPosition:n=oe.Top})=>z.createElement(z.Fragment,null,z.createElement(_o,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);wN.displayName="OutputNode";var SN=p.memo(wN);const Mx=()=>null;Mx.displayName="GroupNode";const gF=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Nu=e=>e.id;function xF(e,t){return nn(e.selectedNodes.map(Nu),t.selectedNodes.map(Nu))&&nn(e.selectedEdges.map(Nu),t.selectedEdges.map(Nu))}const EN=p.memo(({onSelectionChange:e})=>{const t=Ct(),{selectedNodes:n,selectedEdges:a}=et(gF,xF);return p.useEffect(()=>{const r={nodes:n,edges:a};e==null||e(r),t.getState().onSelectionChange.forEach(s=>s(r))},[n,a,e]),null});EN.displayName="SelectionListener";const yF=e=>!!e.onSelectionChange;function vF({onSelectionChange:e}){const t=et(yF);return e||t?z.createElement(EN,{onSelectionChange:e}):null}const bF=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function bi(e,t){p.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function we(e,t,n){p.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const _F=({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:r,onConnectStart:s,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:h,elevateNodesOnSelect:g,minZoom:y,maxZoom:b,nodeExtent:x,onNodesChange:v,onEdgesChange:_,elementsSelectable:k,connectionMode:w,snapGrid:S,snapToGrid:E,translateExtent:R,connectOnClick:N,defaultEdgeOptions:j,fitView:O,fitViewOptions:I,onNodesDelete:D,onEdgesDelete:A,onNodeDrag:T,onNodeDragStart:C,onNodeDragStop:M,onSelectionDrag:L,onSelectionDragStart:P,onSelectionDragStop:Q,noPanClassName:F,nodeOrigin:B,rfId:U,autoPanOnConnect:V,autoPanOnNodeDrag:J,onError:ie,connectionRadius:ee,isValidConnection:ge,nodeDragThreshold:me})=>{const{setNodes:ve,setEdges:$,setDefaultNodesAndEdges:G,setMinZoom:K,setMaxZoom:W,setTranslateExtent:ae,setNodeExtent:ye,reset:de}=et(bF,nn),ne=Ct();return p.useEffect(()=>{const Ae=a==null?void 0:a.map(dt=>({...dt,...j}));return G(n,Ae),()=>{de()}},[]),we("defaultEdgeOptions",j,ne.setState),we("connectionMode",w,ne.setState),we("onConnect",r,ne.setState),we("onConnectStart",s,ne.setState),we("onConnectEnd",o,ne.setState),we("onClickConnectStart",l,ne.setState),we("onClickConnectEnd",c,ne.setState),we("nodesDraggable",u,ne.setState),we("nodesConnectable",d,ne.setState),we("nodesFocusable",f,ne.setState),we("edgesFocusable",m,ne.setState),we("edgesUpdatable",h,ne.setState),we("elementsSelectable",k,ne.setState),we("elevateNodesOnSelect",g,ne.setState),we("snapToGrid",E,ne.setState),we("snapGrid",S,ne.setState),we("onNodesChange",v,ne.setState),we("onEdgesChange",_,ne.setState),we("connectOnClick",N,ne.setState),we("fitViewOnInit",O,ne.setState),we("fitViewOnInitOptions",I,ne.setState),we("onNodesDelete",D,ne.setState),we("onEdgesDelete",A,ne.setState),we("onNodeDrag",T,ne.setState),we("onNodeDragStart",C,ne.setState),we("onNodeDragStop",M,ne.setState),we("onSelectionDrag",L,ne.setState),we("onSelectionDragStart",P,ne.setState),we("onSelectionDragStop",Q,ne.setState),we("noPanClassName",F,ne.setState),we("nodeOrigin",B,ne.setState),we("rfId",U,ne.setState),we("autoPanOnConnect",V,ne.setState),we("autoPanOnNodeDrag",J,ne.setState),we("onError",ie,ne.setState),we("connectionRadius",ee,ne.setState),we("isValidConnection",ge,ne.setState),we("nodeDragThreshold",me,ne.setState),bi(e,ve),bi(t,$),bi(y,K),bi(b,W),bi(R,ae),bi(x,ye),null},Vb={display:"none"},kF={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},RN="react-flow__node-desc",NN="react-flow__edge-desc",wF="react-flow__aria-live",SF=e=>e.ariaLiveMessage;function EF({rfId:e}){const t=et(SF);return z.createElement("div",{id:`${wF}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:kF},t)}function RF({rfId:e,disableKeyboardA11y:t}){return z.createElement(z.Fragment,null,z.createElement("div",{id:`${RN}-${e}`,style:Vb},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),z.createElement("div",{id:`${NN}-${e}`,style:Vb},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&z.createElement(EF,{rfId:e}))}var oc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,a]=p.useState(!1),r=p.useRef(!1),s=p.useRef(new Set([])),[o,l]=p.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return p.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=h=>{if(r.current=h.ctrlKey||h.metaKey||h.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&$p(h))return!1;const y=Wb(h.code,l);s.current.add(h[y]),Gb(o,s.current,!1)&&(h.preventDefault(),a(!0))},f=h=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&$p(h))return!1;const y=Wb(h.code,l);Gb(o,s.current,!0)?(a(!1),s.current.clear()):s.current.delete(h[y]),h.key==="Meta"&&s.current.clear(),r.current=!1},m=()=>{s.current.clear(),a(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",m)}}},[e,a]),n};function Gb(e,t,n){return e.filter(a=>n||a.length===t.size).some(a=>a.every(r=>t.has(r)))}function Wb(e,t){return t.includes(e)?"code":"key"}function jN(e,t,n,a){var l,c;const r=e.parentNode||e.parentId;if(!r)return n;const s=t.get(r),o=Ki(s,a);return jN(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=s[it])==null?void 0:l.z)??0)>(n.z??0)?((c=s[it])==null?void 0:c.z)??0:n.z??0},a)}function AN(e,t,n){e.forEach(a=>{var s;const r=a.parentNode||a.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n!=null&&n[a.id]){const{x:o,y:l,z:c}=jN(a,e,{...a.position,z:((s=a[it])==null?void 0:s.z)??0},t);a.positionAbsolute={x:o,y:l},a[it].z=c,n!=null&&n[a.id]&&(a[it].isParent=!0)}})}function dh(e,t,n,a){const r=new Map,s={},o=a?1e3:0;return e.forEach(l=>{var h;const c=(Pn(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(s[f]=!0);const m=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(d,it,{enumerable:!1,value:{handleBounds:m||(h=u==null?void 0:u[it])==null?void 0:h.handleBounds,z:c}}),r.set(l.id,d)}),AN(r,n,s),r}function CN(e,t={}){const{getNodes:n,width:a,height:r,minZoom:s,maxZoom:o,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),m=t.initial&&!u&&d;if(l&&c&&(m||!t.initial)){const g=n().filter(b=>{var v;const x=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(v=t.nodes)!=null&&v.length?x&&t.nodes.some(_=>_.id===b.id):x}),y=g.every(b=>b.width&&b.height);if(g.length>0&&y){const b=Ax(g,f),{x,y:v,zoom:_}=pN(b,a,r,t.minZoom??s,t.maxZoom??o,t.padding??.1),k=Wr.translate(x,v).scale(_);return typeof t.duration=="number"&&t.duration>0?l.transform(bs(c,t.duration),k):l.transform(c,k),!0}}return!1}function NF(e,t){return e.forEach(n=>{const a=t.get(n.id);a&&t.set(a.id,{...a,[it]:a[it],selected:n.selected})}),new Map(t)}function jF(e,t){return t.map(n=>{const a=e.find(r=>r.id===n.id);return a&&(n.selected=a.selected),n})}function ju({changedNodes:e,changedEdges:t,get:n,set:a}){const{nodeInternals:r,edges:s,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&a({nodeInternals:NF(e,r)}),o==null||o(e)),t!=null&&t.length&&(u&&a({edges:jF(t,s)}),l==null||l(t))}const _i=()=>{},AF={zoomIn:_i,zoomOut:_i,zoomTo:_i,getZoom:()=>1,setViewport:_i,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:_i,fitBounds:_i,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},CF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),MF=()=>{const e=Ct(),{d3Zoom:t,d3Selection:n}=et(CF,nn);return p.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(bs(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(bs(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,s)=>t.scaleTo(bs(n,s==null?void 0:s.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,s)=>{const[o,l,c]=e.getState().transform,u=Wr.translate(r.x??o,r.y??l).scale(r.zoom??c);t.transform(bs(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[r,s,o]=e.getState().transform;return{x:r,y:s,zoom:o}},fitView:r=>CN(e.getState,r),setCenter:(r,s,o)=>{const{width:l,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=l/2-r*d,m=c/2-s*d,h=Wr.translate(f,m).scale(d);t.transform(bs(n,o==null?void 0:o.duration),h)},fitBounds:(r,s)=>{const{width:o,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:m}=pN(r,o,l,c,u,(s==null?void 0:s.padding)??.1),h=Wr.translate(d,f).scale(m);t.transform(bs(n,s==null?void 0:s.duration),h)},project:r=>{const{transform:s,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),qp(r,s,o,l)},screenToFlowPosition:r=>{const{transform:s,snapToGrid:o,snapGrid:l,domNode:c}=e.getState();if(!c)return r;const{x:u,y:d}=c.getBoundingClientRect(),f={x:r.x-u,y:r.y-d};return qp(f,s,o,l)},flowToScreenPosition:r=>{const{transform:s,domNode:o}=e.getState();if(!o)return r;const{x:l,y:c}=o.getBoundingClientRect(),u=fN(r,s);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:AF,[t,n])};function Tx(){const e=MF(),t=Ct(),n=p.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),a=p.useCallback(y=>t.getState().nodeInternals.get(y),[]),r=p.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(b=>({...b}))},[]),s=p.useCallback(y=>{const{edges:b=[]}=t.getState();return b.find(x=>x.id===y)},[]),o=p.useCallback(y=>{const{getNodes:b,setNodes:x,hasDefaultNodes:v,onNodesChange:_}=t.getState(),k=b(),w=typeof y=="function"?y(k):y;if(v)x(w);else if(_){const S=w.length===0?k.map(E=>({type:"remove",id:E.id})):w.map(E=>({item:E,type:"reset"}));_(S)}},[]),l=p.useCallback(y=>{const{edges:b=[],setEdges:x,hasDefaultEdges:v,onEdgesChange:_}=t.getState(),k=typeof y=="function"?y(b):y;if(v)x(k);else if(_){const w=k.length===0?b.map(S=>({type:"remove",id:S.id})):k.map(S=>({item:S,type:"reset"}));_(w)}},[]),c=p.useCallback(y=>{const b=Array.isArray(y)?y:[y],{getNodes:x,setNodes:v,hasDefaultNodes:_,onNodesChange:k}=t.getState();if(_){const S=[...x(),...b];v(S)}else if(k){const w=b.map(S=>({item:S,type:"add"}));k(w)}},[]),u=p.useCallback(y=>{const b=Array.isArray(y)?y:[y],{edges:x=[],setEdges:v,hasDefaultEdges:_,onEdgesChange:k}=t.getState();if(_)v([...x,...b]);else if(k){const w=b.map(S=>({item:S,type:"add"}));k(w)}},[]),d=p.useCallback(()=>{const{getNodes:y,edges:b=[],transform:x}=t.getState(),[v,_,k]=x;return{nodes:y().map(w=>({...w})),edges:b.map(w=>({...w})),viewport:{x:v,y:_,zoom:k}}},[]),f=p.useCallback(({nodes:y,edges:b})=>{const{nodeInternals:x,getNodes:v,edges:_,hasDefaultNodes:k,hasDefaultEdges:w,onNodesDelete:S,onEdgesDelete:E,onNodesChange:R,onEdgesChange:N}=t.getState(),j=(y||[]).map(T=>T.id),O=(b||[]).map(T=>T.id),I=v().reduce((T,C)=>{const M=C.parentNode||C.parentId,L=!j.includes(C.id)&&M&&T.find(Q=>Q.id===M);return(typeof C.deletable=="boolean"?C.deletable:!0)&&(j.includes(C.id)||L)&&T.push(C),T},[]),D=_.filter(T=>typeof T.deletable=="boolean"?T.deletable:!0),A=D.filter(T=>O.includes(T.id));if(I||A){const T=hN(I,D),C=[...A,...T],M=C.reduce((L,P)=>(L.includes(P.id)||L.push(P.id),L),[]);if((w||k)&&(w&&t.setState({edges:_.filter(L=>!M.includes(L.id))}),k&&(I.forEach(L=>{x.delete(L.id)}),t.setState({nodeInternals:new Map(x)}))),M.length>0&&(E==null||E(C),N&&N(M.map(L=>({id:L,type:"remove"})))),I.length>0&&(S==null||S(I),R)){const L=I.map(P=>({id:P.id,type:"remove"}));R(L)}}},[]),m=p.useCallback(y=>{const b=KH(y),x=b?null:t.getState().nodeInternals.get(y.id);return!b&&!x?[null,null,b]:[b?y:Bb(x),x,b]},[]),h=p.useCallback((y,b=!0,x)=>{const[v,_,k]=m(y);return v?(x||t.getState().getNodes()).filter(w=>{if(!k&&(w.id===_.id||!w.positionAbsolute))return!1;const S=Bb(w),E=Bp(S,v);return b&&E>0||E>=v.width*v.height}):[]},[]),g=p.useCallback((y,b,x=!0)=>{const[v]=m(y);if(!v)return!1;const _=Bp(v,b);return x&&_>0||_>=v.width*v.height},[]);return p.useMemo(()=>({...e,getNodes:n,getNode:a,getEdges:r,getEdge:s,setNodes:o,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:g}),[e,n,a,r,s,o,l,c,u,d,f,h,g])}const TF={actInsideInputWithModifier:!1};var DF=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ct(),{deleteElements:a}=Tx(),r=oc(e,TF),s=oc(t);p.useEffect(()=>{if(r){const{edges:o,getNodes:l}=n.getState(),c=l().filter(d=>d.selected),u=o.filter(d=>d.selected);a({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[r]),p.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function LF(e){const t=Ct();p.useEffect(()=>{let n;const a=()=>{var s,o;if(!e.current)return;const r=_x(e.current);(r.height===0||r.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",mr.error004())),t.setState({width:r.width||500,height:r.height||500})};return a(),window.addEventListener("resize",a),e.current&&(n=new ResizeObserver(()=>a()),n.observe(e.current)),()=>{window.removeEventListener("resize",a),n&&e.current&&n.unobserve(e.current)}},[])}const Dx={position:"absolute",width:"100%",height:"100%",top:0,left:0},PF=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Au=e=>({x:e.x,y:e.y,zoom:e.k}),ki=(e,t)=>e.target.closest(`.${t}`),Zb=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Xb=e=>{const t=e.ctrlKey&&$d()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},zF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),OF=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:a,zoomOnScroll:r=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=js.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:m,translateExtent:h,minZoom:g,maxZoom:y,zoomActivationKeyCode:b,preventScrolling:x=!0,children:v,noWheelClassName:_,noPanClassName:k})=>{const w=p.useRef(),S=Ct(),E=p.useRef(!1),R=p.useRef(!1),N=p.useRef(null),j=p.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:I,d3ZoomHandler:D,userSelectionActive:A}=et(zF,nn),T=oc(b),C=p.useRef(0),M=p.useRef(!1),L=p.useRef();return LF(N),p.useEffect(()=>{if(N.current){const P=N.current.getBoundingClientRect(),Q=qH().scaleExtent([g,y]).translateExtent(h),F=Gn(N.current).call(Q),B=Wr.translate(m.x,m.y).scale(bo(m.zoom,g,y)),U=[[0,0],[P.width,P.height]],V=Q.constrain()(B,U,h);Q.transform(F,V),Q.wheelDelta(Xb),S.setState({d3Zoom:Q,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:N.current.closest(".react-flow")})}},[]),p.useEffect(()=>{I&&O&&(o&&!T&&!A?I.on("wheel.zoom",P=>{if(ki(P,_))return!1;P.preventDefault(),P.stopImmediatePropagation();const Q=I.property("__zoom").k||1;if(P.ctrlKey&&s){const ge=ha(P),me=Xb(P),ve=Q*Math.pow(2,me);O.scaleTo(I,ve,ge,P);return}const F=P.deltaMode===1?20:1;let B=c===js.Vertical?0:P.deltaX*F,U=c===js.Horizontal?0:P.deltaY*F;!$d()&&P.shiftKey&&c!==js.Vertical&&(B=P.deltaY*F,U=0),O.translateBy(I,-(B/Q)*l,-(U/Q)*l,{internal:!0});const V=Au(I.property("__zoom")),{onViewportChangeStart:J,onViewportChange:ie,onViewportChangeEnd:ee}=S.getState();clearTimeout(L.current),M.current||(M.current=!0,t==null||t(P,V),J==null||J(V)),M.current&&(e==null||e(P,V),ie==null||ie(V),L.current=setTimeout(()=>{n==null||n(P,V),ee==null||ee(V),M.current=!1},150))},{passive:!1}):typeof D<"u"&&I.on("wheel.zoom",function(P,Q){if(!x&&P.type==="wheel"&&!P.ctrlKey||ki(P,_))return null;P.preventDefault(),D.call(this,P,Q)},{passive:!1}))},[A,o,c,I,O,D,T,s,x,_,t,e,n]),p.useEffect(()=>{O&&O.on("start",P=>{var B,U;if(!P.sourceEvent||P.sourceEvent.internal)return null;C.current=(B=P.sourceEvent)==null?void 0:B.button;const{onViewportChangeStart:Q}=S.getState(),F=Au(P.transform);E.current=!0,j.current=F,((U=P.sourceEvent)==null?void 0:U.type)==="mousedown"&&S.setState({paneDragging:!0}),Q==null||Q(F),t==null||t(P.sourceEvent,F)})},[O,t]),p.useEffect(()=>{O&&(A&&!E.current?O.on("zoom",null):A||O.on("zoom",P=>{var F;const{onViewportChange:Q}=S.getState();if(S.setState({transform:[P.transform.x,P.transform.y,P.transform.k]}),R.current=!!(a&&Zb(f,C.current??0)),(e||Q)&&!((F=P.sourceEvent)!=null&&F.internal)){const B=Au(P.transform);Q==null||Q(B),e==null||e(P.sourceEvent,B)}}))},[A,O,e,f,a]),p.useEffect(()=>{O&&O.on("end",P=>{if(!P.sourceEvent||P.sourceEvent.internal)return null;const{onViewportChangeEnd:Q}=S.getState();if(E.current=!1,S.setState({paneDragging:!1}),a&&Zb(f,C.current??0)&&!R.current&&a(P.sourceEvent),R.current=!1,(n||Q)&&PF(j.current,P.transform)){const F=Au(P.transform);j.current=F,clearTimeout(w.current),w.current=setTimeout(()=>{Q==null||Q(F),n==null||n(P.sourceEvent,F)},o?150:0)}})},[O,o,f,n,a]),p.useEffect(()=>{O&&O.filter(P=>{const Q=T||r,F=s&&P.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&P.button===1&&P.type==="mousedown"&&(ki(P,"react-flow__node")||ki(P,"react-flow__edge")))return!0;if(!f&&!Q&&!o&&!u&&!s||A||!u&&P.type==="dblclick"||ki(P,_)&&P.type==="wheel"||ki(P,k)&&(P.type!=="wheel"||o&&P.type==="wheel"&&!T)||!s&&P.ctrlKey&&P.type==="wheel"||!Q&&!o&&!F&&P.type==="wheel"||!f&&(P.type==="mousedown"||P.type==="touchstart")||Array.isArray(f)&&!f.includes(P.button)&&P.type==="mousedown")return!1;const B=Array.isArray(f)&&f.includes(P.button)||!P.button||P.button<=1;return(!P.ctrlKey||P.type==="wheel")&&B})},[A,O,r,s,o,u,f,d,T]),z.createElement("div",{className:"react-flow__renderer",ref:N,style:Dx},v)},IF=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function QF(){const{userSelectionActive:e,userSelectionRect:t}=et(IF,nn);return e&&t?z.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Kb(e,t){const n=t.parentNode||t.parentId,a=e.find(r=>r.id===n);if(a){const r=t.position.x+t.width-a.width,s=t.position.y+t.height-a.height;if(r>0||s>0||t.position.x<0||t.position.y<0){if(a.style={...a.style},a.style.width=a.style.width??a.width,a.style.height=a.style.height??a.height,r>0&&(a.style.width+=r),s>0&&(a.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);a.position.x=a.position.x-o,a.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);a.position.y=a.position.y-o,a.style.height+=o,t.position.y=0}a.width=a.style.width,a.height=a.style.height}}}function MN(e,t){if(e.some(a=>a.type==="reset"))return e.filter(a=>a.type==="reset").map(a=>a.item);const n=e.filter(a=>a.type==="add").map(a=>a.item);return t.reduce((a,r)=>{const s=e.filter(l=>l.id===r.id);if(s.length===0)return a.push(r),a;const o={...r};for(const l of s)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&Kb(a,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&Kb(a,o);break}case"remove":return a}return a.push(o),a},n)}function TN(e,t){return MN(e,t)}function BF(e,t){return MN(e,t)}const Pr=(e,t)=>({id:e,type:"select",selected:t});function Di(e,t){return e.reduce((n,a)=>{const r=t.includes(a.id);return!a.selected&&r?(a.selected=!0,n.push(Pr(a.id,!0))):a.selected&&!r&&(a.selected=!1,n.push(Pr(a.id,!1))),n},[])}const fh=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},$F=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),DN=p.memo(({isSelecting:e,selectionMode:t=ic.Full,panOnDrag:n,onSelectionStart:a,onSelectionEnd:r,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const m=p.useRef(null),h=Ct(),g=p.useRef(0),y=p.useRef(0),b=p.useRef(),{userSelectionActive:x,elementsSelectable:v,dragging:_}=et($F,nn),k=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,y.current=0},w=D=>{s==null||s(D),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},S=D=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){D.preventDefault();return}o==null||o(D)},E=l?D=>l(D):void 0,R=D=>{const{resetSelectedElements:A,domNode:T}=h.getState();if(b.current=T==null?void 0:T.getBoundingClientRect(),!v||!e||D.button!==0||D.target!==m.current||!b.current)return;const{x:C,y:M}=Zr(D,b.current);A(),h.setState({userSelectionRect:{width:0,height:0,startX:C,startY:M,x:C,y:M}}),a==null||a(D)},N=D=>{const{userSelectionRect:A,nodeInternals:T,edges:C,transform:M,onNodesChange:L,onEdgesChange:P,nodeOrigin:Q,getNodes:F}=h.getState();if(!e||!b.current||!A)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const B=Zr(D,b.current),U=A.startX??0,V=A.startY??0,J={...A,x:B.x<U?B.x:U,y:B.y<V?B.y:V,width:Math.abs(B.x-U),height:Math.abs(B.y-V)},ie=F(),ee=mN(T,J,M,t===ic.Partial,!0,Q),ge=hN(ee,C).map(ve=>ve.id),me=ee.map(ve=>ve.id);if(g.current!==me.length){g.current=me.length;const ve=Di(ie,me);ve.length&&(L==null||L(ve))}if(y.current!==ge.length){y.current=ge.length;const ve=Di(C,ge);ve.length&&(P==null||P(ve))}h.setState({userSelectionRect:J})},j=D=>{if(D.button!==0)return;const{userSelectionRect:A}=h.getState();!x&&A&&D.target===m.current&&(w==null||w(D)),h.setState({nodesSelectionActive:g.current>0}),k(),r==null||r(D)},O=D=>{x&&(h.setState({nodesSelectionActive:g.current>0}),r==null||r(D)),k()},I=v&&(e||x);return z.createElement("div",{className:Wt(["react-flow__pane",{dragging:_,selection:e}]),onClick:I?void 0:fh(w,m),onContextMenu:fh(S,m),onWheel:fh(E,m),onMouseEnter:I?void 0:c,onMouseDown:I?R:void 0,onMouseMove:I?N:u,onMouseUp:I?j:void 0,onMouseLeave:I?O:d,ref:m,style:Dx},f,z.createElement(QF,null))});DN.displayName="Pane";function LN(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const a=t.get(n);return a?a.selected?!0:LN(a,t):!1}function Jb(e,t,n){let a=e;do{if(a!=null&&a.matches(t))return!0;if(a===n.current)return!1;a=a.parentElement}while(a);return!1}function HF(e,t,n,a){return Array.from(e.values()).filter(r=>(r.selected||r.id===a)&&(!r.parentNode||r.parentId||!LN(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var s,o;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=r.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=r.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode||r.parentId,parentId:r.parentNode||r.parentId,width:r.width,height:r.height,expandParent:r.expandParent}})}function FF(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function PN(e,t,n,a,r=[0,0],s){const o=FF(e,e.extent||a);let l=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:m,y:h}=Ki(f,r).positionAbsolute;l=f&&Pn(m)&&Pn(h)&&Pn(f.width)&&Pn(f.height)?[[m+e.width*r[0],h+e.height*r[1]],[m+f.width-e.width+e.width*r[0],h+f.height-e.height+e.height*r[1]]]:l}else s==null||s("005",mr.error005()),l=o;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:m,y:h}=Ki(f,r).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+h],[e.extent[1][0]+m,e.extent[1][1]+h]]}let u={x:0,y:0};if(c){const f=n.get(c);u=Ki(f,r).positionAbsolute}const d=l&&l!=="parent"?kx(t,l):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function mh({nodeId:e,dragItems:t,nodeInternals:n}){const a=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?a.find(r=>r.id===e):a[0],a]}const e_=(e,t,n,a)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const s=Array.from(r),o=t.getBoundingClientRect(),l={x:o.width*a[0],y:o.height*a[1]};return s.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/n,y:(u.top-o.top-l.y)/n,..._x(c)}})};function ll(e,t,n){return n===void 0?n:a=>{const r=t().nodeInternals.get(e);r&&n(a,{...r})}}function Yp({id:e,store:t,unselect:n=!1,nodeRef:a}){const{addSelectedNodes:r,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",mr.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=a==null?void 0:a.current)==null?void 0:d.blur()})):r([e])}function qF(){const e=Ct();return p.useCallback(({sourceEvent:n})=>{const{transform:a,snapGrid:r,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-a[0])/a[2],y:(l-a[1])/a[2]};return{xSnapped:s?r[0]*Math.round(c.x/r[0]):c.x,ySnapped:s?r[1]*Math.round(c.y/r[1]):c.y,...c}},[])}function hh(e){return(t,n,a)=>e==null?void 0:e(t,a)}function zN({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:a,nodeId:r,isSelectable:s,selectNodesOnDrag:o}){const l=Ct(),[c,u]=p.useState(!1),d=p.useRef([]),f=p.useRef({x:null,y:null}),m=p.useRef(0),h=p.useRef(null),g=p.useRef({x:0,y:0}),y=p.useRef(null),b=p.useRef(!1),x=p.useRef(!1),v=p.useRef(!1),_=qF();return p.useEffect(()=>{if(e!=null&&e.current){const k=Gn(e.current),w=({x:R,y:N})=>{const{nodeInternals:j,onNodeDrag:O,onSelectionDrag:I,updateNodePositions:D,nodeExtent:A,snapGrid:T,snapToGrid:C,nodeOrigin:M,onError:L}=l.getState();f.current={x:R,y:N};let P=!1,Q={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&A){const B=Ax(d.current,M);Q=wx(B)}if(d.current=d.current.map(B=>{const U={x:R-B.distance.x,y:N-B.distance.y};C&&(U.x=T[0]*Math.round(U.x/T[0]),U.y=T[1]*Math.round(U.y/T[1]));const V=[[A[0][0],A[0][1]],[A[1][0],A[1][1]]];d.current.length>1&&A&&!B.extent&&(V[0][0]=B.positionAbsolute.x-Q.x+A[0][0],V[1][0]=B.positionAbsolute.x+(B.width??0)-Q.x2+A[1][0],V[0][1]=B.positionAbsolute.y-Q.y+A[0][1],V[1][1]=B.positionAbsolute.y+(B.height??0)-Q.y2+A[1][1]);const J=PN(B,U,j,V,M,L);return P=P||B.position.x!==J.position.x||B.position.y!==J.position.y,B.position=J.position,B.positionAbsolute=J.positionAbsolute,B}),!P)return;D(d.current,!0,!0),u(!0);const F=r?O:hh(I);if(F&&y.current){const[B,U]=mh({nodeId:r,dragItems:d.current,nodeInternals:j});F(y.current,B,U)}},S=()=>{if(!h.current)return;const[R,N]=rN(g.current,h.current);if(R!==0||N!==0){const{transform:j,panBy:O}=l.getState();f.current.x=(f.current.x??0)-R/j[2],f.current.y=(f.current.y??0)-N/j[2],O({x:R,y:N})&&w(f.current)}m.current=requestAnimationFrame(S)},E=R=>{var M;const{nodeInternals:N,multiSelectionActive:j,nodesDraggable:O,unselectNodesAndEdges:I,onNodeDragStart:D,onSelectionDragStart:A}=l.getState();x.current=!0;const T=r?D:hh(A);(!o||!s)&&!j&&r&&((M=N.get(r))!=null&&M.selected||I()),r&&s&&o&&Yp({id:r,store:l,nodeRef:e});const C=_(R);if(f.current=C,d.current=HF(N,O,C,r),T&&d.current){const[L,P]=mh({nodeId:r,dragItems:d.current,nodeInternals:N});T(R.sourceEvent,L,P)}};if(t)k.on(".drag",null);else{const R=e$().on("start",N=>{const{domNode:j,nodeDragThreshold:O}=l.getState();O===0&&E(N),v.current=!1;const I=_(N);f.current=I,h.current=(j==null?void 0:j.getBoundingClientRect())||null,g.current=Zr(N.sourceEvent,h.current)}).on("drag",N=>{var D,A;const j=_(N),{autoPanOnNodeDrag:O,nodeDragThreshold:I}=l.getState();if(N.sourceEvent.type==="touchmove"&&N.sourceEvent.touches.length>1&&(v.current=!0),!v.current){if(!b.current&&x.current&&O&&(b.current=!0,S()),!x.current){const T=j.xSnapped-(((D=f==null?void 0:f.current)==null?void 0:D.x)??0),C=j.ySnapped-(((A=f==null?void 0:f.current)==null?void 0:A.y)??0);Math.sqrt(T*T+C*C)>I&&E(N)}(f.current.x!==j.xSnapped||f.current.y!==j.ySnapped)&&d.current&&x.current&&(y.current=N.sourceEvent,g.current=Zr(N.sourceEvent,h.current),w(j))}}).on("end",N=>{if(!(!x.current||v.current)&&(u(!1),b.current=!1,x.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:j,nodeInternals:O,onNodeDragStop:I,onSelectionDragStop:D}=l.getState(),A=r?I:hh(D);if(j(d.current,!1,!1),A){const[T,C]=mh({nodeId:r,dragItems:d.current,nodeInternals:O});A(N.sourceEvent,T,C)}}}).filter(N=>{const j=N.target;return!N.button&&(!n||!Jb(j,`.${n}`,e))&&(!a||Jb(j,a,e))});return k.call(R),()=>{k.on(".drag",null)}}}},[e,t,n,a,s,l,r,o,_]),c}function ON(){const e=Ct();return p.useCallback(n=>{const{nodeInternals:a,nodeExtent:r,updateNodePositions:s,getNodes:o,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=o().filter(v=>v.selected&&(v.draggable||d&&typeof v.draggable>"u")),m=l?c[0]:5,h=l?c[1]:5,g=n.isShiftPressed?4:1,y=n.x*m*g,b=n.y*h*g,x=f.map(v=>{if(v.positionAbsolute){const _={x:v.positionAbsolute.x+y,y:v.positionAbsolute.y+b};l&&(_.x=c[0]*Math.round(_.x/c[0]),_.y=c[1]*Math.round(_.y/c[1]));const{positionAbsolute:k,position:w}=PN(v,_,a,r,void 0,u);v.position=w,v.positionAbsolute=k}return v});s(x,!0,!1)},[])}const Ji={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var cl=e=>{const t=({id:n,type:a,data:r,xPos:s,yPos:o,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,onContextMenu:g,onDoubleClick:y,style:b,className:x,isDraggable:v,isSelectable:_,isConnectable:k,isFocusable:w,selectNodesOnDrag:S,sourcePosition:E,targetPosition:R,hidden:N,resizeObserver:j,dragHandle:O,zIndex:I,isParent:D,noDragClassName:A,noPanClassName:T,initialized:C,disableKeyboardA11y:M,ariaLabel:L,rfId:P,hasHandleBounds:Q})=>{const F=Ct(),B=p.useRef(null),U=p.useRef(null),V=p.useRef(E),J=p.useRef(R),ie=p.useRef(a),ee=_||v||d||f||m||h,ge=ON(),me=ll(n,F.getState,f),ve=ll(n,F.getState,m),$=ll(n,F.getState,h),G=ll(n,F.getState,g),K=ll(n,F.getState,y),W=de=>{const{nodeDragThreshold:ne}=F.getState();if(_&&(!S||!v||ne>0)&&Yp({id:n,store:F,nodeRef:B}),d){const Ae=F.getState().nodeInternals.get(n);Ae&&d(de,{...Ae})}},ae=de=>{if(!$p(de)&&!M)if(iN.includes(de.key)&&_){const ne=de.key==="Escape";Yp({id:n,store:F,unselect:ne,nodeRef:B})}else v&&u&&Object.prototype.hasOwnProperty.call(Ji,de.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${de.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),ge({x:Ji[de.key].x,y:Ji[de.key].y,isShiftPressed:de.shiftKey}))};p.useEffect(()=>()=>{U.current&&(j==null||j.unobserve(U.current),U.current=null)},[]),p.useEffect(()=>{if(B.current&&!N){const de=B.current;(!C||!Q||U.current!==de)&&(U.current&&(j==null||j.unobserve(U.current)),j==null||j.observe(de),U.current=de)}},[N,C,Q]),p.useEffect(()=>{const de=ie.current!==a,ne=V.current!==E,Ae=J.current!==R;B.current&&(de||ne||Ae)&&(de&&(ie.current=a),ne&&(V.current=E),Ae&&(J.current=R),F.getState().updateNodeDimensions([{id:n,nodeElement:B.current,forceUpdate:!0}]))},[n,a,E,R]);const ye=zN({nodeRef:B,disabled:N||!v,noDragClassName:A,handleSelector:O,nodeId:n,isSelectable:_,selectNodesOnDrag:S});return N?null:z.createElement("div",{className:Wt(["react-flow__node",`react-flow__node-${a}`,{[T]:v},x,{selected:u,selectable:_,parent:D,dragging:ye}]),ref:B,style:{zIndex:I,transform:`translate(${l}px,${c}px)`,pointerEvents:ee?"all":"none",visibility:C?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:me,onMouseMove:ve,onMouseLeave:$,onContextMenu:G,onClick:W,onDoubleClick:K,onKeyDown:w?ae:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":M?void 0:`${RN}-${P}`,"aria-label":L},z.createElement(sF,{value:n},z.createElement(e,{id:n,data:r,type:a,xPos:s,yPos:o,selected:u,isConnectable:k,sourcePosition:E,targetPosition:R,dragging:ye,dragHandle:O,zIndex:I})))};return t.displayName="NodeWrapper",p.memo(t)};const UF=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Ax(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function YF({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const a=Ct(),{width:r,height:s,x:o,y:l,transformString:c,userSelectionActive:u}=et(UF,nn),d=ON(),f=p.useRef(null);if(p.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),zN({nodeRef:f}),u||!r||!s)return null;const m=e?g=>{const y=a.getState().getNodes().filter(b=>b.selected);e(g,y)}:void 0,h=g=>{Object.prototype.hasOwnProperty.call(Ji,g.key)&&d({x:Ji[g.key].x,y:Ji[g.key].y,isShiftPressed:g.shiftKey})};return z.createElement("div",{className:Wt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},z.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:r,height:s,top:l,left:o}}))}var VF=p.memo(YF);const GF=e=>e.nodesSelectionActive,IN=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:h,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:b,panActivationKeyCode:x,zoomActivationKeyCode:v,elementsSelectable:_,zoomOnScroll:k,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:E,panOnScrollMode:R,zoomOnDoubleClick:N,panOnDrag:j,defaultViewport:O,translateExtent:I,minZoom:D,maxZoom:A,preventScrolling:T,onSelectionContextMenu:C,noWheelClassName:M,noPanClassName:L,disableKeyboardA11y:P})=>{const Q=et(GF),F=oc(f),B=oc(x),U=B||j,V=B||S,J=F||m&&U!==!0;return DF({deleteKeyCode:l,multiSelectionKeyCode:b}),z.createElement(OF,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:_,zoomOnScroll:k,zoomOnPinch:w,panOnScroll:V,panOnScrollSpeed:E,panOnScrollMode:R,zoomOnDoubleClick:N,panOnDrag:!F&&U,defaultViewport:O,translateExtent:I,minZoom:D,maxZoom:A,zoomActivationKeyCode:v,preventScrolling:T,noWheelClassName:M,noPanClassName:L},z.createElement(DN,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:U,isSelecting:!!J,selectionMode:h},e,Q&&z.createElement(VF,{onSelectionContextMenu:C,noPanClassName:L,disableKeyboardA11y:P})))};IN.displayName="FlowRenderer";var WF=p.memo(IN);function ZF(e){return et(p.useCallback(n=>e?mN(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function XF(e){const t={input:cl(e.input||kN),default:cl(e.default||Up),output:cl(e.output||SN),group:cl(e.group||Mx)},n={},a=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,s)=>(r[s]=cl(e[s]||Up),r),n);return{...t,...a}}const KF=({x:e,y:t,width:n,height:a,origin:r})=>!n||!a?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-a*r[1]},JF=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),QN=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:a,elementsSelectable:r,updateNodeDimensions:s,onError:o}=et(JF,nn),l=ZF(e.onlyRenderVisibleElements),c=p.useRef(),u=p.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const m=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(m)});return c.current=d,d},[]);return p.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),z.createElement("div",{className:"react-flow__nodes",style:Dx},l.map(d=>{var w,S,E;let f=d.type||"default";e.nodeTypes[f]||(o==null||o("003",mr.error003(f)),f="default");const m=e.nodeTypes[f]||e.nodeTypes.default,h=!!(d.draggable||t&&typeof d.draggable>"u"),g=!!(d.selectable||r&&typeof d.selectable>"u"),y=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||a&&typeof d.focusable>"u"),x=e.nodeExtent?kx(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,v=(x==null?void 0:x.x)??0,_=(x==null?void 0:x.y)??0,k=KF({x:v,y:_,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return z.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||oe.Bottom,targetPosition:d.targetPosition||oe.Top,hidden:d.hidden,xPos:v,yPos:_,xPosOrigin:k.x,yPosOrigin:k.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:h,isSelectable:g,isConnectable:y,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((w=d[it])==null?void 0:w.z)??0,isParent:!!((S=d[it])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((E=d[it])!=null&&E.handleBounds)})}))};QN.displayName="NodeRenderer";var eq=p.memo(QN);const tq=(e,t,n)=>n===oe.Left?e-t:n===oe.Right?e+t:e,nq=(e,t,n)=>n===oe.Top?e-t:n===oe.Bottom?e+t:e,t_="react-flow__edgeupdater",n_=({position:e,centerX:t,centerY:n,radius:a=10,onMouseDown:r,onMouseEnter:s,onMouseOut:o,type:l})=>z.createElement("circle",{onMouseDown:r,onMouseEnter:s,onMouseOut:o,className:Wt([t_,`${t_}-${l}`]),cx:tq(t,a,e),cy:nq(n,a,e),r:a,stroke:"transparent",fill:"transparent"}),aq=()=>!0;var wi=e=>{const t=({id:n,className:a,type:r,data:s,onClick:o,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:b,source:x,target:v,sourceX:_,sourceY:k,targetX:w,targetY:S,sourcePosition:E,targetPosition:R,elementsSelectable:N,hidden:j,sourceHandleId:O,targetHandleId:I,onContextMenu:D,onMouseEnter:A,onMouseMove:T,onMouseLeave:C,reconnectRadius:M,onReconnect:L,onReconnectStart:P,onReconnectEnd:Q,markerEnd:F,markerStart:B,rfId:U,ariaLabel:V,isFocusable:J,isReconnectable:ie,pathOptions:ee,interactionWidth:ge,disableKeyboardA11y:me})=>{const ve=p.useRef(null),[$,G]=p.useState(!1),[K,W]=p.useState(!1),ae=Ct(),ye=p.useMemo(()=>`url('#${Fp(B,U)}')`,[B,U]),de=p.useMemo(()=>`url('#${Fp(F,U)}')`,[F,U]);if(j)return null;const ne=St=>{var Sn;const{edges:Mt,addSelectedEdges:la,unselectNodesAndEdges:Ba,multiSelectionActive:$a}=ae.getState(),Yn=Mt.find(ps=>ps.id===n);Yn&&(N&&(ae.setState({nodesSelectionActive:!1}),Yn.selected&&$a?(Ba({nodes:[],edges:[Yn]}),(Sn=ve.current)==null||Sn.blur()):la([n])),o&&o(St,Yn))},Ae=ol(n,ae.getState,l),dt=ol(n,ae.getState,D),oa=ol(n,ae.getState,A),Sr=ol(n,ae.getState,T),wn=ol(n,ae.getState,C),qn=(St,Mt)=>{if(St.button!==0)return;const{edges:la,isValidConnection:Ba}=ae.getState(),$a=Mt?v:x,Yn=(Mt?I:O)||null,Sn=Mt?"target":"source",ps=Ba||aq,fe=Mt,Re=la.find(Le=>Le.id===n);W(!0),P==null||P(St,Re,Sn);const Te=Le=>{W(!1),Q==null||Q(Le,Re,Sn)};yN({event:St,handleId:Yn,nodeId:$a,onConnect:Le=>L==null?void 0:L(Re,Le),isTarget:fe,getState:ae.getState,setState:ae.setState,isValidConnection:ps,edgeUpdaterType:Sn,onReconnectEnd:Te})},Oa=St=>qn(St,!0),Ia=St=>qn(St,!1),Qa=()=>G(!0),Un=()=>G(!1),Er=!N&&!o,Rr=St=>{var Mt;if(!me&&iN.includes(St.key)&&N){const{unselectNodesAndEdges:la,addSelectedEdges:Ba,edges:$a}=ae.getState();St.key==="Escape"?((Mt=ve.current)==null||Mt.blur(),la({edges:[$a.find(Sn=>Sn.id===n)]})):Ba([n])}};return z.createElement("g",{className:Wt(["react-flow__edge",`react-flow__edge-${r}`,a,{selected:c,animated:u,inactive:Er,updating:$}]),onClick:ne,onDoubleClick:Ae,onContextMenu:dt,onMouseEnter:oa,onMouseMove:Sr,onMouseLeave:wn,onKeyDown:J?Rr:void 0,tabIndex:J?0:void 0,role:J?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${x} to ${v}`,"aria-describedby":J?`${NN}-${U}`:void 0,ref:ve},!K&&z.createElement(e,{id:n,source:x,target:v,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,data:s,style:b,sourceX:_,sourceY:k,targetX:w,targetY:S,sourcePosition:E,targetPosition:R,sourceHandleId:O,targetHandleId:I,markerStart:ye,markerEnd:de,pathOptions:ee,interactionWidth:ge}),ie&&z.createElement(z.Fragment,null,(ie==="source"||ie===!0)&&z.createElement(n_,{position:E,centerX:_,centerY:k,radius:M,onMouseDown:Oa,onMouseEnter:Qa,onMouseOut:Un,type:"source"}),(ie==="target"||ie===!0)&&z.createElement(n_,{position:R,centerX:w,centerY:S,radius:M,onMouseDown:Ia,onMouseEnter:Qa,onMouseOut:Un,type:"target"})))};return t.displayName="EdgeWrapper",p.memo(t)};function rq(e){const t={default:wi(e.default||Fd),straight:wi(e.bezier||Rx),step:wi(e.step||Ex),smoothstep:wi(e.step||fm),simplebezier:wi(e.simplebezier||Sx)},n={},a=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,s)=>(r[s]=wi(e[s]||Fd),r),n);return{...t,...a}}function a_(e,t,n=null){const a=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case oe.Top:return{x:a+s/2,y:r};case oe.Right:return{x:a+s,y:r+o/2};case oe.Bottom:return{x:a+s/2,y:r+o};case oe.Left:return{x:a,y:r+o/2}}}function r_(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const sq=(e,t,n,a,r,s)=>{const o=a_(n,e,t),l=a_(s,a,r);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function iq({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:a,targetWidth:r,targetHeight:s,width:o,height:l,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+a,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=wx({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:l/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*m)>0}function s_(e){var a,r,s,o,l;const t=((a=e==null?void 0:e[it])==null?void 0:a.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const oq=[{level:0,isMaxLevel:!0,edges:[]}];function lq(e,t,n=!1){let a=-1;const r=e.reduce((o,l)=>{var d,f;const c=Pn(l.zIndex);let u=c?l.zIndex:0;if(n){const m=t.get(l.target),h=t.get(l.source),g=l.selected||(m==null?void 0:m.selected)||(h==null?void 0:h.selected),y=Math.max(((d=h==null?void 0:h[it])==null?void 0:d.z)||0,((f=m==null?void 0:m[it])==null?void 0:f.z)||0,1e3);u=(c?l.zIndex:0)+(g?y:0)}return o[u]?o[u].push(l):o[u]=[l],a=u>a?u:a,o},{}),s=Object.entries(r).map(([o,l])=>{const c=+o;return{edges:l,level:c,isMaxLevel:c===a}});return s.length===0?oq:s}function cq(e,t,n){const a=et(p.useCallback(r=>e?r.edges.filter(s=>{const o=t.get(s.source),l=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&iq({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return lq(a,t,n)}const uq=({color:e="none",strokeWidth:t=1})=>z.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),dq=({color:e="none",strokeWidth:t=1})=>z.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),i_={[Hd.Arrow]:uq,[Hd.ArrowClosed]:dq};function fq(e){const t=Ct();return p.useMemo(()=>{var r,s;return Object.prototype.hasOwnProperty.call(i_,e)?i_[e]:((s=(r=t.getState()).onError)==null||s.call(r,"009",mr.error009(e)),null)},[e])}const mq=({id:e,type:t,color:n,width:a=12.5,height:r=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=fq(t);return c?z.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0"},z.createElement(c,{color:n,strokeWidth:o})):null},hq=({defaultColor:e,rfId:t})=>n=>{const a=[];return n.edges.reduce((r,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=Fp(o,t);a.includes(l)||(r.push({id:l,color:o.color||e,...o}),a.push(l))}}),r),[]).sort((r,s)=>r.id.localeCompare(s.id))},BN=({defaultColor:e,rfId:t})=>{const n=et(p.useCallback(hq({defaultColor:e,rfId:t}),[e,t]),(a,r)=>!(a.length!==r.length||a.some((s,o)=>s.id!==r[o].id)));return z.createElement("defs",null,n.map(a=>z.createElement(mq,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient})))};BN.displayName="MarkerDefinitions";var pq=p.memo(BN);const gq=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),$N=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:a,edgeTypes:r,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:y,children:b,disableKeyboardA11y:x})=>{const{edgesFocusable:v,edgesUpdatable:_,elementsSelectable:k,width:w,height:S,connectionMode:E,nodeInternals:R,onError:N}=et(gq,nn),j=cq(t,R,n);return w?z.createElement(z.Fragment,null,j.map(({level:O,edges:I,isMaxLevel:D})=>z.createElement("svg",{key:O,style:{zIndex:O},width:w,height:S,className:"react-flow__edges react-flow__container"},D&&z.createElement(pq,{defaultColor:e,rfId:a}),z.createElement("g",null,I.map(A=>{const[T,C,M]=s_(R.get(A.source)),[L,P,Q]=s_(R.get(A.target));if(!M||!Q)return null;let F=A.type||"default";r[F]||(N==null||N("011",mr.error011(F)),F="default");const B=r[F]||r.default,U=E===Fs.Strict?P.target:(P.target??[]).concat(P.source??[]),V=r_(C.source,A.sourceHandle),J=r_(U,A.targetHandle),ie=(V==null?void 0:V.position)||oe.Bottom,ee=(J==null?void 0:J.position)||oe.Top,ge=!!(A.focusable||v&&typeof A.focusable>"u"),me=A.reconnectable||A.updatable,ve=typeof m<"u"&&(me||_&&typeof me>"u");if(!V||!J)return N==null||N("008",mr.error008(V,A)),null;const{sourceX:$,sourceY:G,targetX:K,targetY:W}=sq(T,V,ie,L,J,ee);return z.createElement(B,{key:A.id,id:A.id,className:Wt([A.className,s]),type:F,data:A.data,selected:!!A.selected,animated:!!A.animated,hidden:!!A.hidden,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,style:A.style,source:A.source,target:A.target,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerEnd:A.markerEnd,markerStart:A.markerStart,sourceX:$,sourceY:G,targetX:K,targetY:W,sourcePosition:ie,targetPosition:ee,elementsSelectable:k,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:y,rfId:a,ariaLabel:A.ariaLabel,isFocusable:ge,isReconnectable:ve,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth,disableKeyboardA11y:x})})))),b):null};$N.displayName="EdgeRenderer";var xq=p.memo($N);const yq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function vq({children:e}){const t=et(yq);return z.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function bq(e){const t=Tx(),n=p.useRef(!1);p.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const _q={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top},HN=({nodeId:e,handleType:t,style:n,type:a=Br.Bezier,CustomComponent:r,connectionStatus:s})=>{var S,E,R;const{fromNode:o,handleId:l,toX:c,toY:u,connectionMode:d}=et(p.useCallback(N=>({fromNode:N.nodeInternals.get(e),handleId:N.connectionHandleId,toX:(N.connectionPosition.x-N.transform[0])/N.transform[2],toY:(N.connectionPosition.y-N.transform[1])/N.transform[2],connectionMode:N.connectionMode}),[e]),nn),f=(S=o==null?void 0:o[it])==null?void 0:S.handleBounds;let m=f==null?void 0:f[t];if(d===Fs.Loose&&(m=m||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!m)return null;const h=l?m.find(N=>N.id===l):m[0],g=h?h.x+h.width/2:(o.width??0)/2,y=h?h.y+h.height/2:o.height??0,b=(((E=o.positionAbsolute)==null?void 0:E.x)??0)+g,x=(((R=o.positionAbsolute)==null?void 0:R.y)??0)+y,v=h==null?void 0:h.position,_=v?_q[v]:null;if(!v||!_)return null;if(r)return z.createElement(r,{connectionLineType:a,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:b,fromY:x,toX:c,toY:u,fromPosition:v,toPosition:_,connectionStatus:s});let k="";const w={sourceX:b,sourceY:x,sourcePosition:v,targetX:c,targetY:u,targetPosition:_};return a===Br.Bezier?[k]=dN(w):a===Br.Step?[k]=Hp({...w,borderRadius:0}):a===Br.SmoothStep?[k]=Hp(w):a===Br.SimpleBezier?[k]=uN(w):k=`M${b},${x} ${c},${u}`,z.createElement("path",{d:k,fill:"none",className:"react-flow__connection-path",style:n})};HN.displayName="ConnectionLine";const kq=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function wq({containerStyle:e,style:t,type:n,component:a}){const{nodeId:r,handleType:s,nodesConnectable:o,width:l,height:c,connectionStatus:u}=et(kq,nn);return!(r&&s&&l&&o)?null:z.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},z.createElement("g",{className:Wt(["react-flow__connection",u])},z.createElement(HN,{nodeId:r,handleType:s,style:t,type:n,CustomComponent:a,connectionStatus:u})))}function o_(e,t){return p.useRef(null),Ct(),p.useMemo(()=>t(e),[e])}const FN=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:a,onMoveEnd:r,onInit:s,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,onSelectionContextMenu:g,onSelectionStart:y,onSelectionEnd:b,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:_,connectionLineContainerStyle:k,selectionKeyCode:w,selectionOnDrag:S,selectionMode:E,multiSelectionKeyCode:R,panActivationKeyCode:N,zoomActivationKeyCode:j,deleteKeyCode:O,onlyRenderVisibleElements:I,elementsSelectable:D,selectNodesOnDrag:A,defaultViewport:T,translateExtent:C,minZoom:M,maxZoom:L,preventScrolling:P,defaultMarkerColor:Q,zoomOnScroll:F,zoomOnPinch:B,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:J,zoomOnDoubleClick:ie,panOnDrag:ee,onPaneClick:ge,onPaneMouseEnter:me,onPaneMouseMove:ve,onPaneMouseLeave:$,onPaneScroll:G,onPaneContextMenu:K,onEdgeContextMenu:W,onEdgeMouseEnter:ae,onEdgeMouseMove:ye,onEdgeMouseLeave:de,onReconnect:ne,onReconnectStart:Ae,onReconnectEnd:dt,reconnectRadius:oa,noDragClassName:Sr,noWheelClassName:wn,noPanClassName:qn,elevateEdgesOnSelect:Oa,disableKeyboardA11y:Ia,nodeOrigin:Qa,nodeExtent:Un,rfId:Er})=>{const Rr=o_(e,XF),St=o_(t,rq);return bq(s),z.createElement(WF,{onPaneClick:ge,onPaneMouseEnter:me,onPaneMouseMove:ve,onPaneMouseLeave:$,onPaneContextMenu:K,onPaneScroll:G,deleteKeyCode:O,selectionKeyCode:w,selectionOnDrag:S,selectionMode:E,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:R,panActivationKeyCode:N,zoomActivationKeyCode:j,elementsSelectable:D,onMove:n,onMoveStart:a,onMoveEnd:r,zoomOnScroll:F,zoomOnPinch:B,zoomOnDoubleClick:ie,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:J,panOnDrag:ee,defaultViewport:T,translateExtent:C,minZoom:M,maxZoom:L,onSelectionContextMenu:g,preventScrolling:P,noDragClassName:Sr,noWheelClassName:wn,noPanClassName:qn,disableKeyboardA11y:Ia},z.createElement(vq,null,z.createElement(xq,{edgeTypes:St,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:I,onEdgeContextMenu:W,onEdgeMouseEnter:ae,onEdgeMouseMove:ye,onEdgeMouseLeave:de,onReconnect:ne,onReconnectStart:Ae,onReconnectEnd:dt,reconnectRadius:oa,defaultMarkerColor:Q,noPanClassName:qn,elevateEdgesOnSelect:!!Oa,disableKeyboardA11y:Ia,rfId:Er},z.createElement(wq,{style:v,type:x,component:_,containerStyle:k})),z.createElement("div",{className:"react-flow__edgelabel-renderer"}),z.createElement(eq,{nodeTypes:Rr,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:h,selectNodesOnDrag:A,onlyRenderVisibleElements:I,noPanClassName:qn,noDragClassName:Sr,disableKeyboardA11y:Ia,nodeOrigin:Qa,nodeExtent:Un,rfId:Er})))};FN.displayName="GraphView";var Sq=p.memo(FN);const Vp=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Cr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Vp,nodeExtent:Vp,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Fs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:JH,isValidConnection:void 0},Eq=()=>fQ((e,t)=>({...Cr,setNodes:n=>{const{nodeInternals:a,nodeOrigin:r,elevateNodesOnSelect:s}=t();e({nodeInternals:dh(n,a,r,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:a={}}=t();e({edges:n.map(r=>({...a,...r}))})},setDefaultNodesAndEdges:(n,a)=>{const r=typeof n<"u",s=typeof a<"u",o=r?dh(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?a:[],hasDefaultNodes:r,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:a,nodeInternals:r,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((y,b)=>{const x=r.get(b.id);if(x!=null&&x.hidden)r.set(x.id,{...x,[it]:{...x[it],handleBounds:void 0}});else if(x){const v=_x(b.nodeElement);!!(v.width&&v.height&&(x.width!==v.width||x.height!==v.height||b.forceUpdate))&&(r.set(x.id,{...x,[it]:{...x[it],handleBounds:{source:e_(".source",b.nodeElement,m,u),target:e_(".target",b.nodeElement,m,u)}},...v}),y.push({id:x.id,type:"dimensions",dimensions:v}))}return y},[]);AN(r,u);const g=o||s&&!o&&CN(t,{initial:!0,...l});e({nodeInternals:new Map(r),fitViewOnInitDone:g}),(h==null?void 0:h.length)>0&&(a==null||a(h))},updateNodePositions:(n,a=!0,r=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(l=>{const c={id:l.id,type:"position",dragging:r};return a&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});s(o)},triggerNodeChanges:n=>{const{onNodesChange:a,nodeInternals:r,hasDefaultNodes:s,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(s){const u=TN(n,l()),d=dh(u,r,o,c);e({nodeInternals:d})}a==null||a(n)}},addSelectedNodes:n=>{const{multiSelectionActive:a,edges:r,getNodes:s}=t();let o,l=null;a?o=n.map(c=>Pr(c,!0)):(o=Di(s(),n),l=Di(r,[])),ju({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:a,edges:r,getNodes:s}=t();let o,l=null;a?o=n.map(c=>Pr(c,!0)):(o=Di(r,n),l=Di(s(),[])),ju({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:a}={})=>{const{edges:r,getNodes:s}=t(),o=n||s(),l=a||r,c=o.map(d=>(d.selected=!1,Pr(d.id,!1))),u=l.map(d=>Pr(d.id,!1));ju({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:a,maxZoom:r}=t();a==null||a.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:a,minZoom:r}=t();a==null||a.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var a;(a=t().d3Zoom)==null||a.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:a}=t(),s=a().filter(l=>l.selected).map(l=>Pr(l.id,!1)),o=n.filter(l=>l.selected).map(l=>Pr(l.id,!1));ju({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:a}=t();a.forEach(r=>{r.positionAbsolute=kx(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(a)})},panBy:n=>{const{transform:a,width:r,height:s,d3Zoom:o,d3Selection:l,translateExtent:c}=t();if(!o||!l||!n.x&&!n.y)return!1;const u=Wr.translate(a[0]+n.x,a[1]+n.y).scale(a[2]),d=[[0,0],[r,s]],f=o==null?void 0:o.constrain()(u,d,c);return o.transform(l,f),a[0]!==f.x||a[1]!==f.y||a[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Cr.connectionNodeId,connectionHandleId:Cr.connectionHandleId,connectionHandleType:Cr.connectionHandleType,connectionStatus:Cr.connectionStatus,connectionStartHandle:Cr.connectionStartHandle,connectionEndHandle:Cr.connectionEndHandle}),reset:()=>e({...Cr})}),Object.is),qN=({children:e})=>{const t=p.useRef(null);return t.current||(t.current=Eq()),z.createElement(UH,{value:t.current},e)};qN.displayName="ReactFlowProvider";const UN=({children:e})=>p.useContext(dm)?z.createElement(z.Fragment,null,e):z.createElement(qN,null,e);UN.displayName="ReactFlowWrapper";const Rq={input:kN,default:Up,output:SN,group:Mx},Nq={default:Fd,straight:Rx,step:Ex,smoothstep:fm,simplebezier:Sx},jq=[0,0],Aq=[15,15],Cq={x:0,y:0,zoom:1},Mq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Lx=p.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,className:r,nodeTypes:s=Rq,edgeTypes:o=Nq,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:h,onConnectStart:g,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:x,onNodeMouseEnter:v,onNodeMouseMove:_,onNodeMouseLeave:k,onNodeContextMenu:w,onNodeDoubleClick:S,onNodeDragStart:E,onNodeDrag:R,onNodeDragStop:N,onNodesDelete:j,onEdgesDelete:O,onSelectionChange:I,onSelectionDragStart:D,onSelectionDrag:A,onSelectionDragStop:T,onSelectionContextMenu:C,onSelectionStart:M,onSelectionEnd:L,connectionMode:P=Fs.Strict,connectionLineType:Q=Br.Bezier,connectionLineStyle:F,connectionLineComponent:B,connectionLineContainerStyle:U,deleteKeyCode:V="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ie=!1,selectionMode:ee=ic.Full,panActivationKeyCode:ge="Space",multiSelectionKeyCode:me=$d()?"Meta":"Control",zoomActivationKeyCode:ve=$d()?"Meta":"Control",snapToGrid:$=!1,snapGrid:G=Aq,onlyRenderVisibleElements:K=!1,selectNodesOnDrag:W=!0,nodesDraggable:ae,nodesConnectable:ye,nodesFocusable:de,nodeOrigin:ne=jq,edgesFocusable:Ae,edgesUpdatable:dt,elementsSelectable:oa,defaultViewport:Sr=Cq,minZoom:wn=.5,maxZoom:qn=2,translateExtent:Oa=Vp,preventScrolling:Ia=!0,nodeExtent:Qa,defaultMarkerColor:Un="#b1b1b7",zoomOnScroll:Er=!0,zoomOnPinch:Rr=!0,panOnScroll:St=!1,panOnScrollSpeed:Mt=.5,panOnScrollMode:la=js.Free,zoomOnDoubleClick:Ba=!0,panOnDrag:$a=!0,onPaneClick:Yn,onPaneMouseEnter:Sn,onPaneMouseMove:ps,onPaneMouseLeave:fe,onPaneScroll:Re,onPaneContextMenu:Te,children:Ne,onEdgeContextMenu:Le,onEdgeDoubleClick:zt,onEdgeMouseEnter:Tt,onEdgeMouseMove:ca,onEdgeMouseLeave:cn,onEdgeUpdate:Ha,onEdgeUpdateStart:ua,onEdgeUpdateEnd:En,onReconnect:hi,onReconnectStart:su,onReconnectEnd:p5,reconnectRadius:g5=10,edgeUpdaterRadius:x5=10,onNodesChange:y5,onEdgesChange:v5,noDragClassName:b5="nodrag",noWheelClassName:_5="nowheel",noPanClassName:By="nopan",fitView:k5=!1,fitViewOptions:w5,connectOnClick:S5=!0,attributionPosition:E5,proOptions:R5,defaultEdgeOptions:N5,elevateNodesOnSelect:j5=!0,elevateEdgesOnSelect:A5=!1,disableKeyboardA11y:$y=!1,autoPanOnConnect:C5=!0,autoPanOnNodeDrag:M5=!0,connectionRadius:T5=20,isValidConnection:D5,onError:L5,style:P5,id:Hy,nodeDragThreshold:z5,...O5},I5)=>{const Tm=Hy||"1";return z.createElement("div",{...O5,style:{...P5,...Mq},ref:I5,className:Wt(["react-flow",r]),"data-testid":"rf__wrapper",id:Hy},z.createElement(UN,null,z.createElement(Sq,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:v,onNodeMouseMove:_,onNodeMouseLeave:k,onNodeContextMenu:w,onNodeDoubleClick:S,nodeTypes:s,edgeTypes:o,connectionLineType:Q,connectionLineStyle:F,connectionLineComponent:B,connectionLineContainerStyle:U,selectionKeyCode:J,selectionOnDrag:ie,selectionMode:ee,deleteKeyCode:V,multiSelectionKeyCode:me,panActivationKeyCode:ge,zoomActivationKeyCode:ve,onlyRenderVisibleElements:K,selectNodesOnDrag:W,defaultViewport:Sr,translateExtent:Oa,minZoom:wn,maxZoom:qn,preventScrolling:Ia,zoomOnScroll:Er,zoomOnPinch:Rr,zoomOnDoubleClick:Ba,panOnScroll:St,panOnScrollSpeed:Mt,panOnScrollMode:la,panOnDrag:$a,onPaneClick:Yn,onPaneMouseEnter:Sn,onPaneMouseMove:ps,onPaneMouseLeave:fe,onPaneScroll:Re,onPaneContextMenu:Te,onSelectionContextMenu:C,onSelectionStart:M,onSelectionEnd:L,onEdgeContextMenu:Le,onEdgeDoubleClick:zt,onEdgeMouseEnter:Tt,onEdgeMouseMove:ca,onEdgeMouseLeave:cn,onReconnect:hi??Ha,onReconnectStart:su??ua,onReconnectEnd:p5??En,reconnectRadius:g5??x5,defaultMarkerColor:Un,noDragClassName:b5,noWheelClassName:_5,noPanClassName:By,elevateEdgesOnSelect:A5,rfId:Tm,disableKeyboardA11y:$y,nodeOrigin:ne,nodeExtent:Qa}),z.createElement(_F,{nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:h,onConnectStart:g,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:x,nodesDraggable:ae,nodesConnectable:ye,nodesFocusable:de,edgesFocusable:Ae,edgesUpdatable:dt,elementsSelectable:oa,elevateNodesOnSelect:j5,minZoom:wn,maxZoom:qn,nodeExtent:Qa,onNodesChange:y5,onEdgesChange:v5,snapToGrid:$,snapGrid:G,connectionMode:P,translateExtent:Oa,connectOnClick:S5,defaultEdgeOptions:N5,fitView:k5,fitViewOptions:w5,onNodesDelete:j,onEdgesDelete:O,onNodeDragStart:E,onNodeDrag:R,onNodeDragStop:N,onSelectionDrag:A,onSelectionDragStart:D,onSelectionDragStop:T,noPanClassName:By,nodeOrigin:ne,rfId:Tm,autoPanOnConnect:C5,autoPanOnNodeDrag:M5,onError:L5,connectionRadius:T5,isValidConnection:D5,nodeDragThreshold:z5}),z.createElement(vF,{onSelectionChange:I}),Ne,z.createElement(VH,{proOptions:R5,position:E5}),z.createElement(RF,{rfId:Tm,disableKeyboardA11y:$y})))});Lx.displayName="ReactFlow";function YN(e){return t=>{const[n,a]=p.useState(t),r=p.useCallback(s=>a(o=>e(s,o)),[]);return[n,a,r]}}const VN=YN(TN),GN=YN(BF);function Tq(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,r]of e)if(!Object.is(r,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}function Dq(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},z.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Lq(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},z.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Pq(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},z.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function zq(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Oq(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const kl=({children:e,className:t,...n})=>z.createElement("button",{type:"button",className:Wt(["react-flow__controls-button",t]),...n},e);kl.displayName="ControlButton";const Iq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),WN=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:a=!0,fitViewOptions:r,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const m=Ct(),[h,g]=p.useState(!1),{isInteractive:y,minZoomReached:b,maxZoomReached:x}=et(Iq,Tq),{zoomIn:v,zoomOut:_,fitView:k}=Tx();if(p.useEffect(()=>{g(!0)},[]),!h)return null;const w=()=>{v(),s==null||s()},S=()=>{_(),o==null||o()},E=()=>{k(r),l==null||l()},R=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),c==null||c(!y)};return z.createElement(aN,{className:Wt(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&z.createElement(z.Fragment,null,z.createElement(kl,{onClick:w,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},z.createElement(Dq,null)),z.createElement(kl,{onClick:S,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},z.createElement(Lq,null))),n&&z.createElement(kl,{className:"react-flow__controls-fitview",onClick:E,title:"fit view","aria-label":"fit view"},z.createElement(Pq,null)),a&&z.createElement(kl,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity"},y?z.createElement(Oq,null):z.createElement(zq,null)),d)};WN.displayName="Controls";var ZN=p.memo(WN);function Qq(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,r]of e)if(!Object.is(r,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}var Kn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Kn||(Kn={}));function Bq({color:e,dimensions:t,lineWidth:n}){return z.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function $q({color:e,radius:t}){return z.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Hq={[Kn.Dots]:"#91919a",[Kn.Lines]:"#eee",[Kn.Cross]:"#e2e2e2"},Fq={[Kn.Dots]:1,[Kn.Lines]:1,[Kn.Cross]:6},qq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function XN({id:e,variant:t=Kn.Dots,gap:n=20,size:a,lineWidth:r=1,offset:s=2,color:o,style:l,className:c}){const u=p.useRef(null),{transform:d,patternId:f}=et(qq,Qq),m=o||Hq[t],h=a||Fq[t],g=t===Kn.Dots,y=t===Kn.Cross,b=Array.isArray(n)?n:[n,n],x=[b[0]*d[2]||1,b[1]*d[2]||1],v=h*d[2],_=y?[v,v]:x,k=g?[v/s,v/s]:[_[0]/s,_[1]/s];return z.createElement("svg",{className:Wt(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},z.createElement("pattern",{id:f+e,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`},g?z.createElement($q,{color:m,radius:v/s}):z.createElement(Bq,{dimensions:_,color:m,lineWidth:r})),z.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}XN.displayName="Background";var KN=p.memo(XN);function Uq(e){if(!e||typeof e!="object")throw new Error("Invalid perk tree data");const t=e;if(!t.treeId||!t.treeName||!t.perks||!Array.isArray(t.perks))throw new Error("Invalid perk tree structure");return t}function JN(e){try{return{success:!0,data:Uq(e)}}catch(t){return{success:!1,error:t}}}const Yq={nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120,fallbackSpacing:100};async function Vq(e){try{const t=ra(`data/perk-positions/${e}-positions.json`);console.log("Attempting to load positions from:",t);const n=await fetch(t);if(console.log("Response status:",n.status,n.statusText),!n.ok)return console.warn(`No saved positions found for tree ${e} at ${t}`),null;const a=await n.json();return console.log("Successfully loaded positions for tree:",e),a}catch(t){return console.warn(`Failed to load saved positions for tree ${e}:`,t),null}}function Gq(e,t){const n=new Map;e.forEach(o=>{const l=t==null?void 0:t.positions.find(c=>c.perkId===o.edid);n.set(o.edid,{perk:o,depth:-1,children:o.connections.children,parents:o.connections.parents,savedPosition:l})});const r=e.filter(o=>o.connections.parents.length===0).map(o=>({id:o.edid,depth:0})),s=new Set;for(;r.length>0;){const{id:o,depth:l}=r.shift();if(s.has(o))continue;s.add(o);const c=n.get(o);c&&((c.depth===-1||l<c.depth)&&(c.depth=l),c.children.forEach(u=>{n.has(u)&&!s.has(u)&&r.push({id:u,depth:l+1})}))}return n}function Wq(e,t){const n=new Map,a=new Map;e.forEach(s=>{const o=s.depth;a.has(o)||a.set(o,[]),a.get(o).push(s)});const r=Math.max(...a.keys());return a.forEach((s,o)=>{const l=t.padding+(r-o)*t.verticalSpacing,c=(s.length-1)*t.horizontalSpacing,u=t.padding+(t.gridScaleX-c)/2;s.forEach((d,f)=>{const m=u+f*t.horizontalSpacing;n.set(d.perk.edid,{x:m,y:l})})}),n}function Zq(e,t,n){t.positions.forEach(a=>{const r=e.get(a.perkId);r&&(r.savedPosition=a,r.calculatedPosition={x:a.x,y:a.y})})}function Xq(e,t,n={}){const a={...Yq,...n},r=Gq(e.perks,t);t&&Zq(r,t);const s=Wq(r,a),o=new Map;return r.forEach((l,c)=>{if(l.calculatedPosition)o.set(c,l.calculatedPosition);else{const u=s.get(c);u?o.set(c,u):o.set(c,{x:a.padding,y:a.padding})}}),o}function Kq(e,t){const n=Array.from(t.entries()).map(([a,r])=>({perkId:a,x:r.x,y:r.y,gridX:r.gridX,gridY:r.gridY,horizontal:r.horizontal,vertical:r.vertical}));return{treeId:e.treeId,treeName:e.treeName,positions:n,version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function Jq(e,t){const n=new Map;return t.positions.forEach(a=>{n.set(a.perkId,{x:a.x,y:a.y,gridX:a.gridX,gridY:a.gridY,horizontal:a.horizontal,vertical:a.vertical})}),n}function eU(e){const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=`${e.treeId}-positions.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}const tU=({data:e,selected:t,onTogglePerk:n,onRankChange:a})=>{var u,d,f,m,h;const r=e.totalRanks,s=r>1?(e.currentRank||0)>0:e.selected||t,o=g=>{if(g.preventDefault(),g.stopPropagation(),(e.totalRanks||1)>1){const b=e.currentRank||0,x=e.totalRanks||1,v=b>=x?0:b+1;a&&a(e.edid,v)}else n&&n(e.edid)},l=()=>{const g={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return s?{...g,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...g,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...g,borderColor:"hsl(var(--border))"}},c=((d=(u=e.ranks[0])==null?void 0:u.description)==null?void 0:d.base)||"";return i.jsxs(PE,{children:[i.jsx(zE,{asChild:!0,children:i.jsxs("div",{style:l(),onClick:o,onMouseDown:g=>g.stopPropagation(),children:[!e.isRoot&&i.jsx(_o,{type:"target",position:oe.Bottom}),i.jsx("div",{className:"font-medium",children:e.name}),r>1&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",r," ranks"]}),e.hasChildren&&i.jsx(_o,{type:"source",position:oe.Top})]})}),i.jsx(ox,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:_t.TOOLTIP},children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:e.name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:c}),typeof((h=(m=(f=e.ranks[0])==null?void 0:f.prerequisites)==null?void 0:m.skillLevel)==null?void 0:h.level)=="number"&&e.ranks[0].prerequisites.skillLevel.level>0&&i.jsxs("div",{className:"text-xs text-blue-700 font-medium pt-1",children:["Min. Level: ",e.ranks[0].prerequisites.skillLevel.level]}),r>1&&i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[i.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",r,i.jsx("br",{}),i.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})},ej=p.memo(tU);let ph=null;function nU(){return ph||(ph=new A7),ph}function Px(){const[e,t]=p.useState(!1),[n,a]=p.useState(!1),[r,s]=p.useState(null),o=si(k=>k.data),l=os(k=>k.data),c=Vo(k=>k.data),u=Yo(k=>k.data),d=Fo(k=>k.data),f=qo(k=>k.data),m=Uo(k=>k.data),h=Mi(k=>k.data),{allPerks:g}=GE(),y=nU(),b=p.useCallback(async(k,w,S)=>{if(w!=null&&w.length)try{const E=S(w);await y.addToIndex(k,E)}catch(E){console.error(`Failed to index ${k}:`,E)}},[y]);p.useEffect(()=>{o!=null&&o.length&&b("skills",o,y.transformSkillsToSearchable)},[o,b]),p.useEffect(()=>{l!=null&&l.length&&b("races",l,y.transformRacesToSearchable)},[l,b]),p.useEffect(()=>{c!=null&&c.length&&b("traits",c,y.transformTraitsToSearchable)},[c,b]),p.useEffect(()=>{u!=null&&u.length&&b("religions",u,y.transformReligionsToSearchable)},[u,b]),p.useEffect(()=>{d!=null&&d.length&&b("birthsigns",d,y.transformBirthsignsToSearchable)},[d,b]),p.useEffect(()=>{f!=null&&f.length&&b("destinyNodes",f,y.transformDestinyNodesToSearchable)},[f,b]),p.useEffect(()=>{m!=null&&m.length&&b("perkTrees",m,y.transformPerkTreesToSearchable)},[m,b]),p.useEffect(()=>{g!=null&&g.length&&b("perk-references",g,y.transformPerkReferencesToSearchable)},[g,b]),p.useEffect(()=>{h!=null&&h.length&&b("spells",h,y.transformSpellsToSearchable)},[h,b]),p.useEffect(()=>{((o==null?void 0:o.length)||(l==null?void 0:l.length)||(c==null?void 0:c.length)||(u==null?void 0:u.length)||(d==null?void 0:d.length)||(f==null?void 0:f.length)||(m==null?void 0:m.length)||(g==null?void 0:g.length)||(h==null?void 0:h.length))&&y.hasIndexedData()&&t(!0)},[o,l,c,u,d,f,m,g,h,y]);const x=p.useCallback((k,w)=>k.trim()?y.search(k,w):[],[y]),v=p.useCallback(()=>y.getAvailableFilters(),[y]),_=p.useCallback(()=>y.getSearchableItems(),[y]);return{isReady:e,isIndexing:n,error:r,search:x,getAvailableFilters:v,getSearchableItems:_}}function gh(e,t){return e.length!==t.length?!1:e.every((n,a)=>n===t[a])}function l_(e){var t,n,a;return{tags:((t=e.get("tags"))==null?void 0:t.split(",").filter(Boolean))||[],types:((n=e.get("types"))==null?void 0:n.split(",").filter(Boolean))||[],categories:((a=e.get("categories"))==null?void 0:a.split(",").filter(Boolean))||[],viewMode:e.get("view")||"grid"}}function zx(){const[e,t]=f4(),n=p.useRef(!1),a=p.useRef(""),r=p.useRef(null),s=l_(e),[o,l]=p.useState({types:s.types,categories:s.categories,tags:s.tags}),[c,u]=p.useState(s.viewMode);p.useEffect(()=>{if(n.current)return;const y=e.toString();if(y===a.current)return;a.current=y;const b=l_(e);gh(b.types,o.types)||l(x=>({...x,types:b.types})),gh(b.categories,o.categories)||l(x=>({...x,categories:b.categories})),gh(b.tags,o.tags)||l(x=>({...x,tags:b.tags})),b.viewMode!==c&&u(b.viewMode)},[e,o.types,o.categories,o.tags,c]),p.useEffect(()=>{r.current&&clearTimeout(r.current),n.current=!0;const y=new URLSearchParams;o.types.length>0&&y.set("types",o.types.join(",")),o.categories.length>0&&y.set("categories",o.categories.join(",")),o.tags.length>0&&y.set("tags",o.tags.join(",")),c!=="grid"&&y.set("view",c),t(y,{replace:!0}),r.current=setTimeout(()=>{n.current=!1},10)},[o,c,t]),p.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]);const d=p.useCallback(y=>{l(b=>({...b,...y}))},[]),f=p.useCallback(y=>{l(b=>({...b,tags:b.tags.includes(y)?b.tags:[...b.tags,y]}))},[]),m=p.useCallback(y=>{l(b=>({...b,tags:b.tags.filter(x=>x!==y)}))},[]),h=p.useCallback(()=>{l({types:[],categories:[],tags:[]})},[]),g=p.useCallback(y=>{u(y)},[]);return{activeFilters:o,setActiveFilters:d,addTag:f,removeTag:m,clearFilters:h,viewMode:c,setViewMode:g}}function Ox(){const{search:e,getAvailableFilters:t,isReady:n,getSearchableItems:a}=Px(),{activeFilters:r}=zx(),s=p.useMemo(()=>a().length,[a]),o=p.useMemo(()=>{if(!n)return[];if(!(r.tags.length>0||r.types.length>0||r.categories.length>0))return a().map(g=>({item:g,score:1,matches:[],highlights:[]}));const d=r.tags.join(" "),f={...r,tags:[]};return e(d||"*",f)},[n,e,r,a]),l=p.useMemo(()=>n?t():{types:[],categories:[],tags:[]},[n,t,s]),c=p.useMemo(()=>{const u={};return o.forEach(d=>{const f=d.item.type;u[f]=(u[f]||0)+1,d.item.category&&(u[`category:${d.item.category}`]=(u[`category:${d.item.category}`]||0)+1),d.item.tags.forEach(m=>{u[`tag:${m}`]=(u[`tag:${m}`]||0)+1})}),u},[o]);return{searchResults:o,availableFilters:l,resultCounts:c}}function aU(){const{searchResults:e,resultCounts:t}=Ox();zx();const n=p.useMemo(()=>e,[e]),a=p.useMemo(()=>rU(n,"relevance"),[n]),r=p.useMemo(()=>a.map(N7),[a]),s=p.useMemo(()=>e.length,[e]),o=p.useMemo(()=>{const l={};return e.forEach(c=>{const u=c.item.type;l[u]||(l[u]=[]),l[u].push(c)}),l},[e]);return{filteredResults:n,sortedResults:a,playerCreationItems:r,resultCounts:t,totalResults:s,resultsByType:o}}function rU(e,t){const n=[...e];switch(t){case"relevance":return n;case"name":return n.sort((a,r)=>a.item.name.localeCompare(r.item.name));case"type":return n.sort((a,r)=>{const s=a.item.type.localeCompare(r.item.type);return s!==0?s:a.item.name.localeCompare(r.item.name)});default:return n}}function sU({activeFilters:e,onFiltersChange:t,onClearFilters:n,availableFilters:a,resultCount:r,onTagSelect:s,onTagRemove:o,selectedTags:l,className:c}){const u=e.types.length>0||e.categories.length>0||e.tags.length>0,d=h=>{const g=e.types.includes(h)?e.types.filter(y=>y!==h):[...e.types,h];t({types:g})},m=[{id:"fuzzy-search",name:"Search All",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Filter by category...",options:a.categories.map(h=>({id:`category-${h.value}`,label:h.label,value:h.value,category:"Categories",description:`${h.count} item${h.count!==1?"s":""}`}))},{id:"tags",name:"Tags",placeholder:"Filter by tag...",options:a.tags.map(h=>({id:`tag-${h.value}`,label:h.label,value:h.value,category:"Tags",description:`${h.count} item${h.count!==1?"s":""}`}))}];return i.jsxs("div",{className:H("space-y-4",c),children:[i.jsx("div",{className:"space-y-2",children:i.jsx(ri,{categories:m,onSelect:s,onCustomSearch:s})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("span",{className:"text-sm font-medium",children:"Record Types"})}),i.jsx("div",{className:"flex flex-wrap gap-2",children:a.types.map(h=>i.jsxs(Z,{variant:e.types.includes(h.value)?"default":"outline",size:"sm",onClick:()=>d(h.value),className:"text-xs",children:[h.label,i.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",h.count,")"]})]},h.value))})]}),l.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Active Filters"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(h=>i.jsxs(X,{variant:"secondary",className:"text-xs",children:[h.category,": ",h.label,i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>o(h.id),className:"h-4 w-4 p-0 ml-1 hover:bg-transparent",children:i.jsx(Yt,{className:"h-3 w-3"})})]},h.id))})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.jsxs("span",{children:[r," result",r!==1?"s":""," found"]}),u&&i.jsx(Z,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:"Clear Filters"})]})]})}function iU({className:e,placeholder:t="Search skills, races, traits, religions..."}){const n=wt(),{isReady:a}=Px(),{availableFilters:r}=Ox(),o=[{id:"fuzzy-search",name:"Search All",placeholder:t,options:r.types.map(c=>({id:`type-${c.value}`,label:c.label,value:c.value,category:"Search All",description:`${c.count} ${c.label}${c.count!==1?"s":""}`}))}],l=c=>{if(typeof c=="string")n(`/search?tags=${encodeURIComponent(c)}`);else if(c.id.startsWith("type-")){const u=c.value;n(`/search?types=${encodeURIComponent(u)}`)}else n(`/search?tags=${encodeURIComponent(c.value)}`)};return a?i.jsx("div",{className:H("flex items-center gap-2",e),children:i.jsx("div",{className:"flex-1",children:i.jsx(B2,{categories:o,onSelect:l,onCustomSearch:l,placeholder:t})})}):i.jsx("div",{className:H("flex items-center gap-2",e),children:i.jsx("div",{className:"flex-1 h-10 bg-muted animate-pulse rounded-md"})})}function xh({title:e,description:t,children:n}){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b border-border bg-card/50",children:i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsx(ti,{className:"text-3xl font-bold text-primary mb-2",children:e}),t&&i.jsx(Qe,{className:"text-muted-foreground max-w-2xl",children:t})]})}),i.jsx("div",{className:"container mx-auto px-4 py-6",children:n})]})}function oU({items:e,className:t,viewMode:n="grid",onViewModeChange:a}){const[r,s]=p.useState(new Set),o=l=>{const c=new Set(r);if(n==="grid"){const d=e.findIndex(y=>y.id===l),m=Math.floor(d/3)*3,h=Math.min(m+3,e.length);e.slice(m,h).some(y=>c.has(y.id))?e.slice(m,h).forEach(y=>{c.delete(y.id)}):e.slice(m,h).forEach(y=>{c.add(y.id)})}else c.has(l)?c.delete(l):c.add(l);s(c)};return e.length===0?i.jsx("div",{className:`text-center py-12 ${t}`,children:i.jsx("p",{className:"text-muted-foreground",children:"No results found"})}):i.jsxs("div",{className:t,children:[a&&i.jsxs("div",{className:"flex items-center justify-end mb-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.length," result",e.length!==1?"s":""," found"]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Z,{variant:n==="grid"?"default":"outline",size:"sm",onClick:()=>a("grid"),className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"h-4 w-4"}),"Grid"]}),i.jsxs(Z,{variant:n==="list"?"default":"outline",size:"sm",onClick:()=>a("list"),className:"flex items-center gap-2",children:[i.jsx(Js,{className:"h-4 w-4"}),"List"]})]})]}),n==="grid"?i.jsx(zc,{columns:3,gap:"md",children:e.map(l=>{const c=r.has(l.id);return i.jsx(fb,{item:l,isExpanded:c,onToggle:()=>o(l.id),viewMode:"grid"},l.id)})}):i.jsx("div",{className:"space-y-2",children:e.map(l=>{const c=r.has(l.id);return i.jsx(fb,{item:l,isExpanded:c,onToggle:()=>o(l.id),viewMode:"list"},l.id)})})]})}function lU(){const{isReady:e,isIndexing:t,error:n}=Px(),{activeFilters:a,setActiveFilters:r,clearFilters:s,addTag:o,removeTag:l}=zx(),{availableFilters:c,searchResults:u}=Ox(),{totalResults:d}=aU(),[f,m]=p.useState([]),[h,g]=p.useState("grid");p.useEffect(()=>{const w=[];a.tags.forEach(S=>{w.push({id:`custom-${S}`,label:S,value:S,category:"Search All"})}),a.categories.forEach(S=>{w.push({id:`category-${S}`,label:S,value:S,category:"Categories"})}),m(w)},[a.tags,a.categories]);const y=w=>{let S;typeof w=="string"?S={id:`custom-${w}`,label:w,value:w,category:"Search All"}:S={id:`${w.category}-${w.id}`,label:w.label,value:w.value,category:w.category},f.some(E=>E.value===S.value&&E.category===S.category)||(m(E=>[...E,S]),S.category==="Categories"?r(E=>({...E,categories:[...E.categories,S.value]})):S.category==="Tags"?r(E=>({...E,tags:[...E.tags,S.value]})):o(S.value))},b=w=>{const S=f.find(E=>E.id===w);S&&(m(E=>E.filter(R=>R.id!==w)),S.category==="Categories"?r(E=>({...E,categories:E.categories.filter(R=>R!==S.value)})):S.category==="Tags"?r(E=>({...E,tags:E.tags.filter(R=>R!==S.value)})):l(S.value))},x=()=>{m([]),s()},v=w=>{g(w)};if(!e)return i.jsx(xh,{title:"Search",description:"Building search index...",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[t?i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}):null,i.jsx("p",{className:"text-muted-foreground",children:t?"Building search index...":"Loading search..."})]})})});if(n)return i.jsx(xh,{title:"Search",description:"Error loading search",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load search: ",n]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"text-primary hover:underline",children:"Try again"})]})})});const _=f.length>0?"Search Results":"Search",k=f.length>0?`Found ${d} result${d!==1?"s":""} for ${f.length} filter${f.length!==1?"s":""}`:"Search across all skills, races, traits, religions, birthsigns, destiny nodes, and perk references";return i.jsxs(xh,{title:_,description:k,children:[i.jsx("div",{className:"mb-6",children:i.jsx(sU,{activeFilters:a,onFiltersChange:r,onClearFilters:x,availableFilters:c,resultCount:d,onTagSelect:y,onTagRemove:b,selectedTags:f})}),i.jsx("div",{className:"w-full",children:i.jsx(oU,{items:u.map(w=>w.item),viewMode:h,onViewModeChange:v})})]})}function cU(){return i.jsx(lU,{})}function uU(e,t){const n=new Map;return t.forEach(a=>{var o;const r=a.treeId,s=((o=a.perks)==null?void 0:o.length)||0;n.set(r,s)}),n}function Ix(){const{data:e,loading:t,error:n,reload:a}=vO(),{data:r,loading:s,error:o,reload:l}=rx(),c=t||s,u=n||o;return{skills:p.useMemo(()=>{if(!e||!r)return[];const m=uU(e,r);return e.map(h=>({id:h.edid,name:h.name,category:h.category,description:h.description,keyAbilities:h.keyAbilities||[],metaTags:h.metaTags||[],assignmentType:"none",canAssignMajor:!0,canAssignMinor:!0,level:0,totalPerks:m.get(h.edid)||0,selectedPerksCount:0,selectedPerks:[],isSelected:!1}))},[e,r]),perkTrees:r||[],loading:c,error:u,refreshSkills:async()=>{await Promise.all([a(),l()])}}}function dU(){var b;const{skills:e,loading:t,error:n}=Ix(),{build:a,addMajorSkill:r,addMinorSkill:s,removeMajorSkill:o,removeMinorSkill:l}=pt(),c=p.useMemo(()=>e.map(x=>{var R,N;const v=a.skills.major.includes(x.id),_=a.skills.minor.includes(x.id),w=(((N=(R=a.perks)==null?void 0:R.selected)==null?void 0:N[x.id])||[]).length,S=!v&&a.skills.major.length<3,E=!_&&a.skills.minor.length<6;return{...x,isMajor:v,isMinor:_,selectedPerksCount:w,canAssignMajor:S,canAssignMinor:E}}),[e,a.skills.major,a.skills.minor,(b=a.perks)==null?void 0:b.selected]),u=p.useMemo(()=>c.filter(x=>x.isMajor),[c]),d=p.useMemo(()=>c.filter(x=>x.isMinor),[c]),f=p.useMemo(()=>c.filter(x=>!x.isMajor&&!x.isMinor),[c]);return{skills:c,selectedMajorSkills:u,selectedMinorSkills:d,availableSkills:f,loading:t,error:n,handleMajorSkillSelect:x=>{r(x.id)},handleMinorSkillSelect:x=>{s(x.id)},handleMajorSkillRemove:x=>{o(x)},handleMinorSkillRemove:x=>{l(x)}}}function fU(e){const[t,n]=p.useState(""),[a,r]=p.useState(null),s=p.useMemo(()=>e.filter(c=>{const u=c.name.toLowerCase().includes(t.toLowerCase())||c.description.toLowerCase().includes(t.toLowerCase())||c.category.toLowerCase().includes(t.toLowerCase())||c.keyAbilities.some(f=>f.toLowerCase().includes(t.toLowerCase()))||c.metaTags.some(f=>f.toLowerCase().includes(t.toLowerCase())),d=!a||c.category===a;return u&&d}),[e,t,a]),o=p.useMemo(()=>{const c=new Set(e.map(u=>u.category));return Array.from(c).sort()},[e]);return{searchQuery:t,setSearchQuery:n,selectedCategory:a,setSelectedCategory:r,filteredSkills:s,categories:o,clearFilters:()=>{n(""),r(null)}}}function Qx(e){const{data:t,loading:n,error:a}=rx(),{getSkillPerks:r,getPerkRank:s,addPerk:o,removePerk:l,setPerkRank:c,clearSkillPerks:u}=pt(),d=p.useMemo(()=>!e||!t?null:t.find(v=>v.treeId===e)||null,[e,t]),f=p.useMemo(()=>e?r(e):[],[e,r]),m=p.useMemo(()=>{if(!e||!d)return{};const x={};return d.perks.forEach(v=>{x[v.edid]=s(v.edid)}),x},[e,d,s]),h=p.useMemo(()=>{if(!d)return[];const x=[];return d.perks.forEach(v=>{if(v.isRoot){x.push(v.edid);return}(v.connections.parents||[]).every(w=>f.includes(w))&&x.push(v.edid)}),x},[d,f]);return{perkTrees:t||[],selectedPerkTree:d,selectedPerks:f,perkRanks:m,availablePerks:h,loading:n,error:a,handlePerkSelect:x=>{if(!e)return;f.includes(x)?l(e,x):o(e,x)},handlePerkRankChange:(x,v)=>{c(x,v),v===0?f.includes(x)&&l(e,x):f.includes(x)||o(e,x)},handleResetPerks:()=>{e&&u(e)}}}function tj(){var C,M,L,P,Q,F;const{skills:e,loading:t,error:n,refreshSkills:a}=Ix(),{build:r,addMajorSkill:s,addMinorSkill:o,removeMajorSkill:l,removeMinorSkill:c}=pt(),{searchQuery:u,setSearchQuery:d,selectedCategory:f,setSelectedCategory:m,filteredSkills:h,categories:g,clearFilters:y}=fU(e),b=p.useMemo(()=>h.map(B=>{var ee,ge,me;const U=((ge=(ee=r.perks)==null?void 0:ee.selected)==null?void 0:ge[B.id])||[],V=U.length,J=B.totalPerks??0,ie=z1(B.id,U,((me=r.perks)==null?void 0:me.ranks)||{});return{...B,selectedPerksCount:V,level:ie,assignmentType:r.skills.major.includes(B.id)?"major":r.skills.minor.includes(B.id)?"minor":"none",canAssignMajor:!r.skills.major.includes(B.id)&&r.skills.major.length<3,canAssignMinor:!r.skills.minor.includes(B.id)&&r.skills.minor.length<6,perkCount:`${V}/${J}`}}),[h,r.skills.major,r.skills.minor,(C=r.perks)==null?void 0:C.selected,(M=r.perks)==null?void 0:M.ranks]),x=p.useMemo(()=>({majorCount:r.skills.major.length,minorCount:r.skills.minor.length,majorLimit:3,minorLimit:6,canAssignMajor:r.skills.major.length<3,canAssignMinor:r.skills.minor.length<6,totalSkills:b.length,totalPerks:b.reduce((B,U)=>B+(U.selectedPerksCount||0),0),totalPerkRanks:0}),[b,r.skills.major,r.skills.minor]),v=p.useCallback(B=>{s(B)},[s]),_=p.useCallback(B=>{o(B)},[o]),k=p.useCallback(B=>{l(B),c(B)},[l,c]),[w,S]=p.useState(null),E=p.useCallback(B=>{S(B)},[]),R=p.useMemo(()=>w&&b.find(B=>B.id===w)||null,[w,b]),{selectedPerkTree:N,handleResetPerks:j}=Qx(w),O=p.useMemo(()=>{var B;return!R||!((B=r.perks)!=null&&B.selected)?[]:r.perks.selected[R.id]||[]},[R,(L=r.perks)==null?void 0:L.selected]),I=p.useMemo(()=>{var B;return!R||!((B=r.perks)!=null&&B.ranks)?{}:r.perks.ranks[R.id]||{}},[R,(P=r.perks)==null?void 0:P.ranks]),D=p.useMemo(()=>N?N.perks||[]:[],[N]),A=p.useCallback(B=>{var J,ie;if(!R)return;const U=((ie=(J=r.perks)==null?void 0:J.selected)==null?void 0:ie[R.id])||[];U.includes(B)?(U.filter(ee=>ee!==B),console.log("Remove perk:",B,"from skill:",R.id)):([...U],console.log("Add perk:",B,"to skill:",R.id))},[R,(Q=r.perks)==null?void 0:Q.selected]),T=p.useCallback((B,U)=>{var J,ie;if(!R)return;({...((ie=(J=r.perks)==null?void 0:J.ranks)==null?void 0:ie[R.id])||{}},console.log("Update perk rank:",B,"to",U,"for skill:",R.id))},[R,(F=r.perks)==null?void 0:F.ranks]);return{skills:b,skillSummary:x,selectedSkill:R,selectedSkillId:w,perkTree:N,selectedPerks:O,perkRanks:I,availablePerks:D,loading:t,error:n,searchQuery:u,setSearchQuery:d,selectedCategory:f,setSelectedCategory:m,categories:g,clearFilters:y,onAssignMajor:v,onAssignMinor:_,onRemoveAssignment:k,onSkillSelect:E,onPerkSelect:A,onPerkRankChange:T,onResetPerks:j,refreshSkills:a}}function mU({query:e,onQueryChange:t,placeholder:n="Search skills...",className:a}){return i.jsx("div",{className:H("mb-6",a),children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(Ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ka,{placeholder:n,value:e,onChange:r=>t(r.target.value),className:"pl-10"})]})})}function hU({categories:e,selectedCategory:t,onCategorySelect:n,className:a}){return i.jsx("div",{className:H("mb-6",a),children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Z,{variant:t===null?"default":"outline",size:"sm",onClick:()=>n(null),children:"All Categories"}),e.map(r=>i.jsx(Z,{variant:t===r?"default":"outline",size:"sm",onClick:()=>n(r),children:r},r))]})})}function yh({skills:e,onSelect:t,placeholder:n="Search skills...",className:a="",disabled:r=!1}){const[s,o]=p.useState(""),l=p.useMemo(()=>{if(!s.trim())return e;const f=s.toLowerCase();return e.filter(m=>m.name.toLowerCase().includes(f)||m.description.toLowerCase().includes(f)||m.category.toLowerCase().includes(f)||m.keyAbilities.some(h=>h.toLowerCase().includes(f))||m.metaTags.some(h=>h.toLowerCase().includes(f)))},[e,s]),c=p.useMemo(()=>l.map(f=>{var m;return{id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&i.jsx(X,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalSkill:f,keyAbilitiesCount:((m=f.keyAbilities)==null?void 0:m.length)||0,scaling:f.scaling}}}),[l]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h,g;return i.jsx("div",{className:"flex items-start gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:f.label}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&i.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.keyAbilitiesCount)&&f.metadata.keyAbilitiesCount>0&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.keyAbilitiesCount," ability",f.metadata.keyAbilitiesCount!==1?"s":""]})]}),f.description&&i.jsx(Cs,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"}),((g=f.metadata)==null?void 0:g.scaling)&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[i.jsx("strong",{children:"Scaling:"})," ",f.metadata.scaling]})]})})};return i.jsx(Oc,{options:c,onSelect:u,placeholder:n,className:a,disabled:r,renderOption:d,emptyMessage:"No skills found",searchQuery:s,onSearchQueryChange:o})}function pU(e){const t=new Set,n=[],a=(r,s)=>{if(t.has(r))return;t.add(r),s.push(e.find(l=>l.edid===r));const o=e.find(l=>l.edid===r);o.connection.children.forEach(l=>{e.some(c=>c.edid===l)&&a(l,s)}),o.connection.parents.forEach(l=>{e.some(c=>c.edid===l)&&a(l,s)})};return e.forEach(r=>{if(!t.has(r.edid)){const s=[];a(r.edid,s),n.push(s)}}),n}function gU(e,t){try{if(e.length===0)return[];const r=pU(e).map(l=>xU(l)).map(l=>yU(l,t)),s=bU(r,t);return nj(s,t)}catch{return e.map(a=>({id:a.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function xU(e){const t=new Map;e.forEach(l=>{t.set(l.edid,{perk:l,depth:-1,children:l.connection.children,parents:l.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((l,c)=>{l.parents.length===0&&n.push(c)});const a=n.map(l=>({id:l,depth:0})),r=new Set;for(;a.length>0;){const{id:l,depth:c}=a.shift();if(r.has(l))continue;r.add(l);const u=t.get(l);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!r.has(d)&&a.push({id:d,depth:c+1})}))}let s=!0,o=0;for(;s&&o<10;)s=!1,o++,t.forEach((l,c)=>{if(l.parents.length>1){const u=l.parents.map(d=>{const f=t.get(d);return f?f.depth:-1}).filter(d=>d!==-1);if(u.length>0){const f=Math.min(...u)+1;l.depth!==f&&(l.depth=f,s=!0)}}});return t.forEach((l,c)=>{l.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=l.depth){const f=l.depth+1;d.depth=f}})}),{nodes:t,roots:n}}function yU(e,t){const{nodes:n,roots:a}=e,r=[];if(n.forEach((f,m)=>{r.push({id:m,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:f.children})}),r.some(f=>{try{return Gp(f.id,n,t,new Set),!1}catch{return!0}}))return r.forEach(f=>{const m=n.get(f.id);if(m&&m.perk){const h=m.perk.position.x*t.gridScaleX,g=-m.perk.position.y*t.gridScaleY;f.x=h,f.y=g,f.originalX=h,f.originalY=g}}),vU(r,t),r;const o=r.filter(f=>!r.some(h=>{var g;return h.id!==f.id&&((g=h.children)==null?void 0:g.includes(f.id))}));o.forEach(f=>{f.y=0,f.originalY=0});const l=new Set,c=o.map(f=>({node:f,depth:0}));for(;c.length>0;){const{node:f,depth:m}=c.shift();l.has(f.id)||(l.add(f.id),m>0&&(f.y=-m*t.verticalSpacing,f.originalY=f.y),f.children&&f.children.forEach(h=>{const g=r.find(y=>y.id===h);g&&!l.has(h)&&c.push({node:g,depth:m+1})}))}const u=new Map;return r.forEach(f=>{const m=Math.round(f.y/t.verticalSpacing);u.has(m)||u.set(m,[]),u.get(m).push(f)}),Array.from(u.keys()).sort((f,m)=>m-f).forEach(f=>{u.get(f).forEach(h=>{if(h.children){const g=new Map;h.children.forEach(y=>{const b=r.find(x=>x.id===y);if(b){const x=r.filter(v=>{var _;return((_=v.children)==null?void 0:_.includes(y))&&Math.abs(v.y-b.y)===t.verticalSpacing});x.length>0&&x.some(v=>v.id===h.id)&&(g.has(h.id)||g.set(h.id,[]),g.get(h.id).push(b))}}),g.forEach((y,b)=>{if(y.length>0){const x=r.find(v=>v.id===b);if(x){const v=y.map(E=>{const R=Gp(E.id,n,t);return{child:E,subtreeWidth:R}}),_=v.reduce((E,{subtreeWidth:R})=>E+R,0),k=(y.length-1)*t.horizontalSpacing,w=_+k;let S=x.x-w/2;v.forEach(({child:E,subtreeWidth:R})=>{E.x=S+R/2,E.originalX=E.x,S+=R+t.horizontalSpacing})}}})}})}),nj(r,t),r}function nj(e,t){const r=t.horizontalSpacing*.4,s=new Map;e.forEach(o=>{s.set(o.id,{x:o.x,y:o.y})});for(let o=0;o<5;o++){let l=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],f=e[u],m=d.x+t.nodeWidth*.5,h=d.y+t.nodeHeight*.5,g=f.x+t.nodeWidth*.5,y=f.y+t.nodeHeight*.5,b=g-m,x=y-h,v=Math.sqrt(b*b+x*x);if(v<r&&v>0){const _=b/v*.03,k=x/v*.03;d.x-=_,d.y-=k,f.x+=_,f.y+=k,l++}}if(l===0)break}return e.forEach(o=>{const l=s.get(o.id);if(!l)return;const c=l.x-o.x,u=l.y-o.y,d=o.x+c*.02,f=o.y+u*.02,h=Math.round(l.y/t.verticalSpacing)*t.verticalSpacing,g=Math.max(f,h);o.x=d,o.y=g,o.originalX=d,o.originalY=g}),e}function vU(e,t){const r=t.nodeHeight*.8,s=50,o=new Map;e.forEach(u=>{o.set(u.id,{x:u.x,y:u.y})});let l=0,c=1;for(;c>0&&l<s;){l++,c=0;for(let u=0;u<e.length;u++)for(let d=u+1;d<e.length;d++){const f=e[u],m=e[d],h=Math.max(0,Math.min(f.x+t.nodeWidth,m.x+t.nodeWidth)-Math.max(f.x,m.x)),g=Math.max(0,Math.min(f.y+t.nodeHeight,m.y+t.nodeHeight)-Math.max(f.y,m.y)),y=f.y+t.nodeHeight*.5,b=m.y+t.nodeHeight*.5,x=Math.abs(b-y),v=x<r;if(h>0&&g>0||v){c++;let _=0;h>0&&g>0?_=g*.08:v&&(_=(r-x)*.08),f.y<m.y?(f.y-=_,m.y+=_):(f.y+=_,m.y-=_)}}if(c===0)break}return e.forEach(u=>{const d=o.get(u.id);if(!d)return;const f=d.y-u.y,m=u.y+f*.03;u.y=m,u.originalY=m}),e}function bU(e,t){const n=[],a=e.map(c=>{const u=Math.max(...c.map(_=>_.y)),d=c.filter(_=>Math.abs(_.y-u)<1),f=d.map(_=>_.x),m=Math.min(...f),h=Math.max(...f),g=h-m,y=f.reduce((_,k)=>_+k,0)/f.length,b=Math.min(...c.map(_=>_.x)),x=Math.max(...c.map(_=>_.x+_.width)),v=x-b;return{treeNodes:c,rootNodes:d,minRootX:m,maxRootX:h,rootWidth:g,rootCenterX:y,minX:b,maxX:x,treeWidth:v}}),r=Math.min(...a.map(c=>c.minRootX)),o=Math.max(...a.map(c=>c.maxRootX))-r;let l=0;return a.forEach(c=>{const u=o>0?c.rootWidth/o:1,d=c.minRootX-r;l-c.minX+d*u,c.treeNodes.forEach(f=>{const h=(f.x-c.minRootX)*u,g=l+h;n.push({...f,x:g,originalX:g})}),l+=c.treeWidth*u+t.horizontalSpacing}),n}function Gp(e,t,n,a=new Set){if(a.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const r=t.get(e);if(!r)return n.nodeWidth;a.add(e);const s=r.children||[],o=s.map(c=>Gp(c,t,n,new Set(a)));if(o.length===0)return n.nodeWidth;let l=0;return o.forEach((c,u)=>{l+=c,u<s.length-1&&(l+=n.horizontalSpacing)}),Math.max(l,n.nodeWidth)}function _U(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const kU={perkNode:e=>i.jsx(ej,{...e,onTogglePerk:e.data.onTogglePerk,onRankChange:e.data.onRankChange})};function wU({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:a}){const[r,s]=z.useState(null),[o,l]=z.useState(null),[c,u]=z.useState(!1),d=z.useCallback((j,O)=>{},[]),f=p.useMemo(()=>{if(!e)return null;const j=JN(e);return j.success?j.data:(console.error("Invalid perk tree data:",j.error),null)},[e]);z.useEffect(()=>{if(!f){l(null);return}console.log("Loading saved positions for tree:",f.treeId),u(!0),Vq(f.treeId).then(j=>{console.log("Loaded saved positions:",j?"Found":"Not found"),l(j)}).catch(j=>{console.warn("Failed to load saved positions:",j),l(null)}).finally(()=>{u(!1)})},[f==null?void 0:f.treeId]);const m=p.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),h=p.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),g=p.useMemo(()=>{if(!f)return[];if(console.log("Layout decision:",{hasSavedPositions:!!o,isLoadingPositions:c,treeId:f.treeId}),o&&!c){console.log("Using preset positions for tree:",f.treeId);const j=Xq(f,o,h);return Array.from(j.entries()).map(([O,I])=>({id:O,x:I.x,y:I.y,width:h.nodeWidth||140,height:h.nodeHeight||80,originalX:I.x,originalY:I.y}))}else{console.log("Using fallback layout algorithm for tree:",f.treeId);const j=_U(f);return gU(j,m)}},[f,m,o,c,h]),y=p.useMemo(()=>!f||g.length===0?[]:f.perks.map(j=>{const O=j.edid,I=g.find(L=>L.id===O),D=I?{x:I.x,y:I.y}:{x:0,y:0},A=j.connections.children.length>0,T=j.connections.parents.length===0,C=a.find(L=>L.edid===O);return{id:O,type:"perkNode",position:D,draggable:!0,data:{...j,selected:C!==void 0,currentRank:(C==null?void 0:C.currentRank)||0,hasChildren:A,isRoot:T,onTogglePerk:t,onRankChange:n}}}),[f,g,a,t,n]),b=p.useMemo(()=>{if(!f)return[];const j=[];return f.perks.forEach(O=>{const I=O.edid;O.connections.children.length>0&&O.connections.children.forEach(D=>{if(D===I)return;f.perks.some(T=>T.edid===D)&&j.push({id:`${I}-${D}`,source:I,target:D,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),j},[f]),[x,v,_]=VN(y),[k,w,S]=GN(b);z.useEffect(()=>{v(y)},[y,v]),z.useEffect(()=>{w(b)},[b,w]),z.useEffect(()=>{f&&x.length>0&&r&&setTimeout(()=>{r.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[f==null?void 0:f.treeId,r]);const E=p.useCallback(j=>w(O=>jx(j,O)),[w]),R=p.useCallback(j=>{j.stopPropagation()},[]),N=p.useCallback(j=>{j.stopPropagation()},[]);return f?i.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},onMouseDown:j=>j.stopPropagation(),onTouchStart:j=>j.stopPropagation(),children:[i.jsx("div",{className:"absolute top-2 left-2 z-10 flex flex-col gap-1",children:i.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:c?"Loading Positions...":o?"Positioned Tree":"Algorithm v2"})}),i.jsxs(Lx,{nodes:x,edges:k,onNodesChange:_,onEdgesChange:S,onConnect:E,onInit:s,nodeTypes:kU,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:d,onMouseDown:R,onTouchStart:N,panOnDrag:!0,panOnScroll:!1,preventScrolling:!0,children:[i.jsx(KN,{}),i.jsx(ZN,{})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:i.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function aj({open:e,onOpenChange:t,selectedSkill:n,skillName:a,perkTree:r,skills:s,onSkillSelect:o,onReset:l}){var k,w;console.log("SkillPerkTreeDrawer props:",{open:e,selectedSkill:n,skillName:a,perkTree:r?"Found":"Not found",skillsCount:s.length});const{selectedPerks:c,perkRanks:u,handlePerkSelect:d,handlePerkRankChange:f,handleResetPerks:m}=Qx(n),h=z.useMemo(()=>r?r.perks.filter(S=>c.includes(S.edid)).map(S=>({...S,selected:!0,currentRank:u[S.edid]||1})):[],[r,c,u]),g=z.useCallback(S=>{d(S)},[d]),y=z.useCallback((S,E)=>{f(S,E)},[f]),b=()=>{m(),l()},x=()=>{t(!1)},v=[{id:"skills",name:"Skills",placeholder:"Search skills...",options:s.map(S=>({id:S.id,label:S.name,value:S.id,category:"Skills",description:`${S.selectedPerks}/${S.totalPerks} perks selected`}))}],_=S=>{o(S.value)};return n?i.jsxs(iR,{open:e,onOpenChange:t,shouldScaleBackground:!1,dismissible:!0,children:[console.log("Drawer render - open:",e),i.jsxs(oR,{children:[i.jsx(mx,{}),i.jsxs(fx,{className:"fixed inset-x-0 bottom-0 z-50 mt-24 flex flex-col rounded-t-[10px] border bg-background h-[85vh] bg-card border-t shadow-lg !bg-card","data-vaul-no-drag":!0,style:{backgroundColor:"hsl(var(--card))",zIndex:_t.DRAWER},children:[console.log("Drawer content render - zIndex:",_t.DRAWER),i.jsx(lR,{className:"border-b",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-64",children:i.jsx(Rs,{categories:v,onSelect:_,placeholder:"Search skills..."})}),i.jsxs("div",{children:[i.jsx(uR,{className:"text-xl",children:a||(r==null?void 0:r.treeName)||"Skill Perks"}),i.jsxs(dR,{className:"flex items-center gap-2",children:[i.jsxs("span",{children:[c.length," perks selected"]}),((k=s.find(S=>S.id===n))==null?void 0:k.level)&&i.jsxs("span",{className:"text-blue-600 font-medium",children:["â€¢ Min: Level"," ",(w=s.find(S=>S.id===n))==null?void 0:w.level]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Z,{variant:"outline",size:"sm",onClick:b,className:"flex items-center gap-2",children:[i.jsx(co,{className:"h-4 w-4"}),"Reset Perks"]}),i.jsx(Z,{variant:"outline",size:"sm",onClick:x,className:"flex items-center gap-2",children:i.jsx(Yt,{className:"h-4 w-4"})})]})]})}),i.jsx("div",{className:"flex-1 overflow-hidden",style:{height:"400px"},children:i.jsx("div",{className:"h-full w-full bg-muted/20 rounded",children:r?i.jsx(wU,{tree:r,onTogglePerk:g,onRankChange:y,selectedPerks:h}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{className:"text-muted-foreground",children:n?"Loading perk tree...":"No skill selected"})})})}),i.jsx(cR,{className:"border-t",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on perk nodes to select/deselect them"}),i.jsx(Z,{variant:"outline",onClick:x,children:"Close"})]})})]})]})]}):null}function SU({skills:e,loading:t,error:n,searchQuery:a,onSearchChange:r,selectedCategory:s,onCategorySelect:o,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:g,skillSummary:y}){var _;const[b,x]=p.useState(!1);if(t)return i.jsx(OI,{});if(n)return i.jsx(II,{error:n});const v=e.map(k=>({edid:k.id,name:k.name,category:k.category,description:k.description,scaling:"",keyAbilities:[],metaTags:[],totalPerks:k.totalPerks,selectedPerks:k.selectedPerksCount,level:k.level,isMajor:k.assignmentType==="major",isMinor:k.assignmentType==="minor"}));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(He,{children:[i.jsx(Ke,{children:i.jsxs(st,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Build Summary"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(X,{variant:"outline",className:"bg-yellow-50 text-yellow-800 border-yellow-300",children:[y.majorCount,"/",y.majorLimit," Major"]}),i.jsxs(X,{variant:"outline",className:"bg-gray-50 text-gray-800 border-gray-300",children:[y.minorCount,"/",y.minorLimit," Minor"]})]})]})}),i.jsx(Fe,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Total Skills"}),i.jsx("p",{className:"font-semibold",children:y.totalSkills})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Selected Perks"}),i.jsx("p",{className:"font-semibold",children:y.totalPerks})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Perk Ranks"}),i.jsx("p",{className:"font-semibold",children:y.totalPerkRanks})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Available Major"}),i.jsx("p",{className:"font-semibold text-yellow-600",children:y.majorLimit-y.majorCount})]})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(mU,{query:a,onQueryChange:r}),i.jsx(hU,{categories:l,selectedCategory:s,onCategorySelect:o})]}),i.jsx(v7,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Available Skills"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," skills found"]})]}),i.jsx(BI,{skills:e,onSkillSelect:k=>{console.log("Skill selected:",k),console.log("Setting perkTreeOpen to true"),u(k),x(!0)},onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,selectedSkillId:c||void 0})]}),i.jsx(aj,{open:b,onOpenChange:x,selectedSkill:c,skillName:c?(_=e.find(k=>k.id===c))==null?void 0:_.name:void 0,perkTree:g||void 0,skills:v,onSkillSelect:u,onReset:h}),i.jsx(He,{className:"bg-muted/50",children:i.jsxs(Fe,{className:"pt-6",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"How to Assign Skills"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Major Skills (0-3)"}),i.jsx("p",{children:"Your primary skills that level up faster and start at a higher level."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Minor Skills (0-6)"}),i.jsx("p",{children:"Secondary skills that provide additional benefits and customization."})]})]})]})})]})}function rj(){const[e,t]=p.useState({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[n,a]=p.useState({skills:[],categories:[],prerequisites:[],tags:[]});p.useCallback(h=>{a(h)},[]);const r=p.useCallback(h=>{t(g=>({...g,skills:[...g.skills,h]}))},[]),s=p.useCallback(h=>{t(g=>({...g,skills:g.skills.filter(y=>y!==h)}))},[]);p.useCallback(h=>{t(g=>({...g,categories:[...g.categories,h]}))},[]),p.useCallback(h=>{t(g=>({...g,categories:g.categories.filter(y=>y!==h)}))},[]),p.useCallback(h=>{t(g=>({...g,prerequisites:[...g.prerequisites,h]}))},[]),p.useCallback(h=>{t(g=>({...g,prerequisites:g.prerequisites.filter(y=>y!==h)}))},[]),p.useCallback(h=>{t(g=>({...g,tags:[...g.tags,h]}))},[]);const o=p.useCallback(h=>{t(g=>({...g,tags:g.tags.filter(y=>y!==h)}))},[]);p.useCallback(h=>{t(g=>({...g,rankLevel:h}))},[]),p.useCallback(h=>{t(g=>({...g,rootOnly:h}))},[]);const l=p.useCallback(h=>{t(g=>({...g,minLevel:h}))},[]),c=p.useCallback(h=>{t(g=>({...g,searchQuery:h}))},[]),u=p.useCallback(()=>{t({skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0})},[]),d=p.useMemo(()=>{const h=[];return e.skills.forEach(g=>{const y=n.skills.find(b=>b.id===g);y&&h.push({id:`skill-${g}`,type:"skill",value:g,label:y.name})}),e.categories.forEach(g=>{h.push({id:`category-${g}`,type:"category",value:g,label:g})}),e.prerequisites.forEach(g=>{h.push({id:`prerequisite-${g}`,type:"prerequisite",value:g,label:g})}),e.tags.forEach(g=>{h.push({id:`tag-${g}`,type:"tag",value:g,label:g})}),e.rankLevel!=="all"&&h.push({id:"rank-level",type:"rankLevel",value:e.rankLevel,label:e.rankLevel==="single"?"Single Rank":"Multi Rank"}),e.rootOnly&&h.push({id:"root-only",type:"rootOnly",value:"true",label:"Root Perks Only"}),e.minLevel!==void 0&&h.push({id:"min-level",type:"minLevel",value:e.minLevel.toString(),label:`Level ${e.minLevel}+`}),h},[e,n]);p.useMemo(()=>{const h=[];return n.skills.forEach(g=>{h.push({id:`skill-${g.id}`,label:g.name,value:g.id,category:"Skills",type:"skill"})}),n.tags.forEach(g=>{h.push({id:`tag-${g}`,label:g,value:g,category:"Tags",type:"tag"})}),h},[n]);const f=p.useCallback(h=>{if(typeof h=="string")c(h);else if(`${h.category}${h.id}`,h.label,h.value,h.category,h.category==="Skill Trees")r(h.value);else if(h.category==="Minimum Level"){const g=parseInt(h.value);isNaN(g)||l(g)}else h.category==="Fuzzy Search"&&c(h.value)},[r,c,l]),m=p.useCallback(h=>{const g=d.find(y=>y.id===h);if(g)g.type==="skill"?s(g.value):g.type==="tag"?o(g.value):g.type==="minLevel"&&l(void 0);else if(h.startsWith("custom-")){const y=h.replace("custom-","");e.searchQuery===y&&c("")}},[d,s,o,l,e.searchQuery,c]);return{selectedTags:[...d.map(h=>({id:h.id,label:h.label,value:h.value,category:h.type})),...e.searchQuery?[{id:`custom-${e.searchQuery}`,label:e.searchQuery,value:e.searchQuery,category:"Fuzzy Search"}]:[]],viewMode:"grid",searchQuery:e.searchQuery,onTagSelect:f,onTagRemove:m,onClearTags:u,onViewModeChange:()=>{},onSearchChange:c}}class EU{constructor(t,n){nt(this,"perkNodes");nt(this,"buildState");this.perkNodes=t,this.buildState=n}transformToPlayerCreationItem(t){var o,l,c,u,d,f;const n=((l=(o=this.buildState.perks)==null?void 0:o.selected)==null?void 0:l[t.skillTree])||[],a=((u=(c=this.buildState.perks)==null?void 0:c.ranks)==null?void 0:u[t.skillTree])||{},r=n.includes(t.edid),s=a[t.edid]||0;return{id:t.edid,name:t.name,description:((f=(d=t.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",category:t.category,tags:t.tags,isSelected:r,originalPerk:t,skillTree:t.skillTree,skillTreeName:t.skillTreeName,isRoot:t.isRoot,hasChildren:t.hasChildren,prerequisites:t.prerequisites,connections:t.connections,totalRanks:t.totalRanks,currentRank:s,isAvailable:this.isPerkAvailable(t),minLevel:t.minLevel}}isPerkAvailable(t){var a,r;if(t.isRoot)return!0;const n=((r=(a=this.buildState.perks)==null?void 0:a.selected)==null?void 0:r[t.skillTree])||[];return t.prerequisites.every(s=>n.includes(s))}applyFilters(t,n){let a=[...t];if(!n)return a;if(n.skills&&n.skills.length>0&&(a=a.filter(r=>n.skills.includes(r.skillTree))),n.categories&&n.categories.length>0&&(a=a.filter(r=>n.categories.includes(r.category))),n.prerequisites&&n.prerequisites.length>0&&(a=a.filter(r=>n.prerequisites.some(s=>r.prerequisites.includes(s)))),n.tags&&n.tags.length>0&&(a=a.filter(r=>n.tags.some(s=>r.tags.includes(s)))),n.minLevel!==void 0&&(a=a.filter(r=>(r.minLevel||0)>=n.minLevel)),n.rankLevel!=="all"&&(a=a.filter(r=>n.rankLevel==="single"?r.totalRanks===1:n.rankLevel==="multi"?r.totalRanks>1:!0)),n.rootOnly&&(a=a.filter(r=>r.isRoot)),n.searchQuery&&n.searchQuery.trim()){const r=n.searchQuery.trim(),s=a.map(u=>{var d,f;return{id:u.edid,name:u.name,description:((f=(d=u.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"",searchableText:u.searchableText,tags:u.tags,category:u.category,skillTree:u.skillTreeName,originalNode:u}}),o={keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0};a=new tn(s,o).search(r).map(u=>u.item.originalNode)}return a}getAvailableFilters(t){const n=new Set,a=new Set,r=new Set,s=new Set;return t.forEach(o=>{n.add(o.skillTree),a.add(o.category),o.tags.forEach(l=>r.add(l)),o.prerequisites.forEach(l=>s.add(l))}),{skills:Array.from(n),categories:Array.from(a),tags:Array.from(r),prerequisites:Array.from(s)}}sortPerks(t,n="name"){const a=[...t];switch(n){case"name":return a.sort((r,s)=>r.name.localeCompare(s.name));case"skill":return a.sort((r,s)=>r.skillTreeName.localeCompare(s.skillTreeName));case"category":return a.sort((r,s)=>r.category.localeCompare(s.category));case"rank":return a.sort((r,s)=>s.totalRanks-r.totalRanks);case"prerequisites":return a.sort((r,s)=>r.prerequisites.length-s.prerequisites.length);default:return a}}}function RU(e,t){const{build:n}=pt(),a=p.useMemo(()=>new EU(e,n),[e,n]),r=p.useMemo(()=>a.applyFilters(e,t||{skills:[],categories:[],prerequisites:[],tags:[],rankLevel:"all",rootOnly:!1,searchQuery:"",minLevel:void 0}),[a,e,t]),s=p.useMemo(()=>r.map(l=>a.transformToPlayerCreationItem(l)),[r,a]),o=p.useMemo(()=>a.getAvailableFilters(e),[a,e]);return{model:a,filteredNodes:r,perkItems:s,availableFilters:o}}function NU(){const{allPerks:e,skillTrees:t,categories:n,tags:a,loading:r,error:s}=sm(),{selectedTags:o,searchQuery:l}=rj(),c=p.useMemo(()=>{const y=o.filter(_=>_.category==="skill").map(_=>_.value),b=o.filter(_=>_.category==="tag").map(_=>_.value),x=o.filter(_=>_.category==="minLevel").map(_=>parseInt(_.value)).find(_=>!isNaN(_));return{skills:y,categories:[],prerequisites:[],tags:b,rankLevel:"all",rootOnly:!1,searchQuery:l||"",minLevel:x}},[o,l]),{filteredNodes:u,perkItems:d,availableFilters:f}=RU(e,c),m=p.useMemo(()=>{const y=[...new Set(e.map(v=>v.skillTreeName))],b=[...new Set(e.flatMap(v=>v.tags))],x=[...new Set(e.map(v=>v.minLevel||0))].sort((v,_)=>v-_);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:b.map(v=>({id:`keyword-${v}`,label:v,value:v,category:"Fuzzy Search",description:`Perks with ${v} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:y.map(v=>({id:`skill-${v}`,label:v,value:v,category:"Skill Trees",description:`Perks from ${v} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:x.map(v=>({id:`level-${v}`,label:`Level ${v}+`,value:v.toString(),category:"Minimum Level",description:`Perks requiring level ${v} or higher`}))}]},[e]),h=p.useMemo(()=>({totalPerks:e.length,filteredPerks:u.length,rootPerks:e.filter(y=>y.isRoot).length,multiRankPerks:e.filter(y=>y.totalRanks>1).length,singleRankPerks:e.filter(y=>y.totalRanks===1).length,skills:t.length,categories:n.length,tags:a.length}),[e,u,t,n,a]),g=p.useMemo(()=>{const y=new Map;return d.forEach(b=>{y.has(b.skillTree)||y.set(b.skillTree,[]),y.get(b.skillTree).push(b)}),Array.from(y.entries()).map(([b,x])=>{var v;return{skillId:b,skillName:((v=x[0])==null?void 0:v.skillTreeName)||b,perks:x,count:x.length}}).sort((b,x)=>b.skillName.localeCompare(x.skillName))},[d]);return p.useMemo(()=>{const y=new Map;return d.forEach(b=>{y.has(b.category||"")||y.set(b.category||"",[]),y.get(b.category||"").push(b)}),Array.from(y.entries()).map(([b,x])=>({category:b,perks:x,count:x.length})).sort((b,x)=>(b.category||"").localeCompare(x.category||""))},[d]),p.useMemo(()=>d.filter(y=>y.isSelected),[d]),p.useMemo(()=>d.filter(y=>y.isAvailable),[d]),p.useMemo(()=>d.filter(y=>y.isRoot),[d]),p.useMemo(()=>d.filter(y=>y.totalRanks>1),[d]),p.useMemo(()=>d.filter(y=>y.totalRanks===1),[d]),p.useMemo(()=>(y,b="name")=>{const x=[...y];switch(b){case"name":return x.sort((v,_)=>v.name.localeCompare(_.name));case"skill":return x.sort((v,_)=>v.skillTreeName.localeCompare(_.skillTreeName));case"category":return x.sort((v,_)=>(v.category||"").localeCompare(_.category||""));case"rank":return x.sort((v,_)=>_.totalRanks-v.totalRanks);case"prerequisites":return x.sort((v,_)=>v.prerequisites.length-_.prerequisites.length);case"selected":return x.sort((v,_)=>Number(_.isSelected)-Number(v.isSelected));default:return x}},[]),{filteredItems:d,groupedItems:Object.fromEntries(g.map(y=>[y.skillId,y.perks])),stats:{totalPerks:h.totalPerks,skillTrees:h.skills,multiRank:h.multiRankPerks,singleRank:h.singleRankPerks,withPrerequisites:e.filter(y=>y.prerequisites&&y.prerequisites.length>0).length},searchCategories:m,availableFilters:f,isLoading:r,error:s}}function jU(e,t){const n=p.useMemo(()=>e.map(l=>{var c,u;return{id:l.edid,name:l.name,description:((u=(c=l.ranks[0])==null?void 0:c.description)==null?void 0:u.base)||"",searchableText:l.searchableText,tags:l.tags,category:l.category,skillTree:l.skillTreeName,originalPerk:l}}),[e]),a=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"searchableText",weight:.2},{name:"tags",weight:.1},{name:"category",weight:.05},{name:"skillTree",weight:.05}],threshold:.4,includeScore:!0,includeMatches:!0}),[]),r=p.useMemo(()=>new tn(n,a),[n,a]),s=p.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredPerks:p.useMemo(()=>s.map(l=>l.item.originalPerk),[s]),searchResults:s,searchablePerks:n}}function AU(){const e=wt(),{build:t}=pt(),{allPerks:n,loading:a,error:r}=sm(),[s,o]=p.useState("list"),c=(()=>{const S=[...new Set(n.map(N=>N.skillTreeName))],E=[...new Set(n.flatMap(N=>N.tags))],R=[...new Set(n.map(N=>N.minLevel||0))].sort((N,j)=>N-j);return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or tags...",options:E.map(N=>({id:`keyword-${N}`,label:N,value:N,category:"Fuzzy Search",description:`Perks with ${N} tag`}))},{id:"skill-trees",name:"Skill Trees",placeholder:"Filter by skill tree...",options:S.map(N=>({id:`skill-${N}`,label:N,value:N,category:"Skill Trees",description:`Perks from ${N} skill tree`}))},{id:"min-levels",name:"Minimum Level",placeholder:"Filter by minimum level...",options:R.map(N=>({id:`level-${N}`,label:`Level ${N}+`,value:N.toString(),category:"Minimum Level",description:`Perks requiring level ${N} or higher`}))}]})(),[u,d]=p.useState([]),f=S=>{let E;typeof S=="string"?E={id:`custom-${S}`,label:S,value:S,category:"Fuzzy Search"}:E={id:`${S.category}-${S.id}`,label:S.label,value:S.value,category:S.category},u.some(R=>R.value===E.value&&R.category===E.category)||d(R=>[...R,E])},m=S=>{d(E=>E.filter(R=>R.id!==S))},h=n.filter(S=>u.length===0?!0:u.every(E=>{switch(E.category){case"Fuzzy Search":return!0;case"Skill Trees":return S.skillTreeName===E.value;case"Minimum Level":const R=parseInt(E.value);return!isNaN(R)&&(S.minLevel||0)>=R;default:return!0}})),g=u.filter(S=>S.category==="Fuzzy Search").map(S=>S.value).join(" "),{filteredPerks:y}=jU(h,g),b=y.map(S=>({...WE(S,t),originalPerk:S})),[x,v]=p.useState(new Set),_=S=>{const E=new Set(x);if(s==="grid"){const N=b.findIndex(A=>A.id===S),O=Math.floor(N/3)*3,I=Math.min(O+3,b.length);b.slice(O,I).some(A=>E.has(A.id))?b.slice(O,I).forEach(A=>{E.delete(A.id)}):b.slice(O,I).forEach(A=>{E.add(A.id)})}else E.has(S)?E.delete(S):E.add(S);v(E)},k=()=>{d([])},w=S=>{o(S),v(new Set)};return a?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading perk data..."})]})}):r?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-4",children:r}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):i.jsx(br,{title:"Perk References",description:"Browse and search all available perks. Find the perfect abilities for your character build.",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"flex items-center gap-2",children:[i.jsx(gd,{className:"h-4 w-4"}),"Back"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(ri,{categories:c,onSelect:f,onCustomSearch:f,className:"w-full"}),u.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("button",{onClick:k,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[i.jsx("svg",{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Clear All"]}),u.map(S=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>m(S.id),title:"Click to remove",children:[S.label,i.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"Ã—"})]},S.id))]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.length," perk",b.length!==1?"s":""," found"]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Z,{variant:s==="grid"?"default":"outline",size:"sm",onClick:()=>w("grid"),className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"h-4 w-4"}),"Grid"]}),i.jsxs(Z,{variant:s==="list"?"default":"outline",size:"sm",onClick:()=>w("list"),className:"flex items-center gap-2",children:[i.jsx(Js,{className:"h-4 w-4"}),"List"]})]})]}),s==="grid"?i.jsx(zc,{columns:3,gap:"md",children:b.map(S=>i.jsx(Ap,{item:S,isExpanded:x.has(S.id),onToggle:()=>_(S.id),viewMode:"grid"},S.id))}):i.jsx("div",{className:"space-y-2",children:b.map(S=>i.jsx(Ap,{item:S,isExpanded:x.has(S.id),onToggle:()=>_(S.id),viewMode:"list"},S.id))})]})})}function c_(){const{skills:e,loading:t,error:n,searchQuery:a,setSearchQuery:r,selectedCategory:s,setSelectedCategory:o,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:g,skillSummary:y}=tj(),{filteredItems:b,groupedItems:x,stats:v,isLoading:_,error:k,searchCategories:w}=NU(),{selectedTags:S,viewMode:E,searchQuery:R,onTagSelect:N,onTagRemove:j,onClearTags:O,onViewModeChange:I,onSearchChange:D}=rj();return t||_?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading data..."})]})}):n||k?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-4",children:n||k}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):i.jsx(br,{title:"Skills & Perks",description:"Manage your character's skills and browse all available perks.",children:i.jsx("div",{className:"mb-6",children:i.jsxs(Cc,{defaultValue:"builder",className:"w-full",children:[i.jsxs(Mc,{className:"grid w-full grid-cols-2",children:[i.jsx(Zn,{value:"builder",children:"Perk Builder"}),i.jsx(Zn,{value:"reference",children:"Perk References"})]}),i.jsx(ya,{value:"builder",className:"space-y-4",children:i.jsx(SU,{skills:e,loading:t,error:n,searchQuery:a,onSearchChange:r,selectedCategory:s,onCategorySelect:o,categories:l,selectedSkillId:c,onSkillSelect:u,onAssignMajor:d,onAssignMinor:f,onRemoveAssignment:m,onResetPerks:h,perkTree:g,skillSummary:y})}),i.jsx(ya,{value:"reference",className:"space-y-4",children:i.jsx(AU,{items:b,groupedItems:x,stats:v,searchCategories:w,selectedTags:S,viewMode:E,searchQuery:R,onTagSelect:N,onTagRemove:j,onClearTags:O,onViewModeChange:I,onSearchChange:D})})]})})})}function CU({className:e}){var O;const{selectedMajorSkills:t,selectedMinorSkills:n,availableSkills:a,handleMajorSkillSelect:r,handleMinorSkillSelect:s,handleMajorSkillRemove:o,handleMinorSkillRemove:l}=dU(),{build:c,getSkillLevel:u,getSkillPerks:d}=pt(),{skills:f}=Ix(),m=wt(),[h,g]=p.useState(null),[y,b]=p.useState(!1),x=()=>{m("/skills")},v=I=>{console.log("Opening perk tree for skill:",I),g(I),b(!0)},_=I=>{g(I.edid),b(!0)},k=p.useMemo(()=>{const I=t.map(T=>T.id),D=n.map(T=>T.id),A=[...I,...D];return f.filter(T=>d(T.id).length>0&&!A.includes(T.id))},[f,t,n,d]),w=p.useMemo(()=>{const I=t.map(C=>C.id),D=n.map(C=>C.id),A=[...I,...D],T=k.map(C=>C.id);return f.filter(C=>!A.includes(C.id)&&!T.includes(C.id)).map(C=>({name:C.name,edid:C.id,category:C.category,description:C.description,scaling:"",keyAbilities:C.keyAbilities||[],metaTags:C.metaTags||[]}))},[f,t,n,k]),S=I=>({name:I.name,edid:I.id,category:I.category,description:I.description,scaling:I.scaling||"",keyAbilities:I.keyAbilities||[],metaTags:I.metaTags||[]}),E=p.useMemo(()=>{const I=t.map(T=>T.id),D=n.map(T=>T.id),A=[...I,...D];return f.filter(T=>{const C=d(T.id);return A.includes(T.id)&&C.length===0})},[f,t,n,d]),R=f.map(I=>{d(I.id);const D=u(I.id),A=c.skills.major.includes(I.id),T=c.skills.minor.includes(I.id),C=!A&&c.skills.major.length<3,M=!T&&c.skills.minor.length<6;return{...I,isMajor:A,isMinor:T,canAssignMajor:C,canAssignMinor:M,level:D}}),{selectedPerkTree:N}=Qx(h),j=(I,D)=>{const A=u(I.id||I.edid),T=d(I.id||I.edid),C=I.totalPerks||0,M=I.id||I.edid;let L="cursor-pointer transition-all hover:shadow-md ",P="text-xs ";switch(D){case"major":L+="bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",P+="bg-yellow-100 text-yellow-800 border-yellow-300";break;case"minor":L+="bg-gray-50/50 border-gray-300 shadow-gray-300/20",P+="bg-gray-100 text-gray-800 border-gray-300";break;case"perked":L+="bg-blue-50/50 border-blue-500 shadow-blue-500/20",P+="bg-blue-100 text-blue-800 border-blue-300";break;case"assigned":L+="bg-orange-50/50 border-orange-500 shadow-orange-500/20",P+="bg-orange-100 text-orange-800 border-orange-300";break}return i.jsx(He,{className:L,onClick:()=>v(M),children:i.jsx(Fe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h5",{className:"font-medium text-sm text-foreground",children:I.name}),i.jsx(Sc,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-3",children:I.description}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(wR,{level:A,size:"sm"}),i.jsxs(X,{variant:"outline",className:P,children:[T.length,"/",C," perks"]}),D==="major"&&i.jsx(X,{variant:"outline",className:"text-xs bg-yellow-100 text-yellow-800 border-yellow-300",children:"Major"}),D==="minor"&&i.jsx(X,{variant:"outline",className:"text-xs bg-gray-100 text-gray-800 border-gray-300",children:"Minor"}),D==="perked"&&i.jsx(X,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800 border-blue-300",children:"Perked"}),D==="assigned"&&i.jsx(X,{variant:"outline",className:"text-xs bg-orange-100 text-orange-800 border-orange-300",children:"Assigned"})]})]}),(D==="major"||D==="minor")&&i.jsx(Z,{size:"sm",variant:"ghost",onClick:Q=>{Q.stopPropagation(),D==="major"?o(M):l(M)},className:`${D==="major"?"text-yellow-600 hover:text-yellow-700 hover:bg-yellow-100":"text-gray-600 hover:text-gray-700 hover:bg-gray-100"}`,children:i.jsx(Yt,{className:"h-4 w-4"})})]})})},M)};return i.jsxs(i.Fragment,{children:[i.jsxs(Ln,{title:"Skills & Perks",navigateTo:"skills",onNavigate:x,className:e,children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-md font-medium text-foreground",children:"Major Skills"}),t.length<3&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(X,{variant:"outline",className:"text-xs",children:[t.length,"/3"]})}),i.jsx(yh,{skills:a.map(S),onSelect:I=>{const D=a.find(A=>A.id===I.edid);D&&r(D)},placeholder:"Select major skill...",className:"w-full"})]}),t.length>0&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:t.map(I=>j(I,"major"))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-md font-medium text-foreground",children:"Minor Skills"}),n.length<6&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(X,{variant:"outline",className:"text-xs",children:[n.length,"/6"]})}),i.jsx(yh,{skills:a.map(S),onSelect:I=>{const D=a.find(A=>A.id===I.edid);D&&s(D)},placeholder:"Select minor skill...",className:"w-full"})]}),n.length>0&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:n.map(I=>j(I,"minor"))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-md font-medium text-foreground",children:"Other Perked Skills"}),i.jsx("div",{className:"space-y-2",children:i.jsx(yh,{skills:w,onSelect:_,placeholder:"Select skill to add perks...",className:"w-full"})}),k.length>0&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:k.map(I=>j(I,"perked"))})]}),E.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-md font-medium text-foreground",children:"Assigned Skills (No Perks)"}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:E.map(I=>j(I,"assigned"))})]})]}),i.jsx("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on any skill card to view and manage its perk tree. Skill levels show the minimum level required based on your perk selections."})})]}),i.jsx(aj,{open:y,onOpenChange:b,selectedSkill:h,skillName:h?(O=f.find(I=>I.id===h))==null?void 0:O.name:void 0,perkTree:N||void 0,skills:R,onSkillSelect:g,onReset:()=>{}})]})}function q(e,t,n){function a(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const r=(n==null?void 0:n.Parent)??Object;class s extends r{}Object.defineProperty(s,"name",{value:e});function o(l){var c;const u=n!=null&&n.Parent?new s:this;a(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:a}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class lc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const sj={};function qs(e){return sj}function MU(e){const t=Object.values(e).filter(a=>typeof a=="number");return Object.entries(e).filter(([a,r])=>t.indexOf(+a)===-1).map(([a,r])=>r)}function TU(e,t){return typeof t=="bigint"?t.toString():t}function ij(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Bx(e){return e==null}function $x(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function DU(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,r=n>a?n:a,s=Number.parseInt(e.toFixed(r).replace(".","")),o=Number.parseInt(t.toFixed(r).replace(".",""));return s%o/10**r}function qe(e,t,n){Object.defineProperty(e,t,{get(){{const a=n();return e[t]=a,a}},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Hx(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ul(e){return JSON.stringify(e)}const oj=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Wp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const LU=ij(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Zp(e){if(Wp(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Wp(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const PU=new Set(["string","number","symbol"]);function mm(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function li(e,t,n){const a=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(a._zod.parent=e),a}function ue(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function zU(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const OU={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function IU(e,t){const n={},a=e._zod.def;for(const r in t){if(!(r in a.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(n[r]=a.shape[r])}return li(e,{...e._zod.def,shape:n,checks:[]})}function QU(e,t){const n={...e._zod.def.shape},a=e._zod.def;for(const r in t){if(!(r in a.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&delete n[r]}return li(e,{...e._zod.def,shape:n,checks:[]})}function BU(e,t){if(!Zp(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const a={...e._zod.def.shape,...t};return Hx(this,"shape",a),a},checks:[]};return li(e,n)}function $U(e,t){return li(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Hx(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function HU(e,t,n){const a=t._zod.def.shape,r={...a};if(n)for(const s in n){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(r[s]=e?new e({type:"optional",innerType:a[s]}):a[s])}else for(const s in a)r[s]=e?new e({type:"optional",innerType:a[s]}):a[s];return li(t,{...t._zod.def,shape:r,checks:[]})}function FU(e,t,n){const a=t._zod.def.shape,r={...a};if(n)for(const s in n){if(!(s in r))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(r[s]=new e({type:"nonoptional",innerType:a[s]}))}else for(const s in a)r[s]=new e({type:"nonoptional",innerType:a[s]});return li(t,{...t._zod.def,shape:r,checks:[]})}function Cl(e,t=0){var n;for(let a=t;a<e.issues.length;a++)if(((n=e.issues[a])==null?void 0:n.continue)!==!0)return!0;return!1}function Fx(e,t){return t.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(e),n})}function Cu(e){return typeof e=="string"?e:e==null?void 0:e.message}function Us(e,t,n){var r,s,o,l,c,u;const a={...e,path:e.path??[]};if(!e.message){const d=Cu((o=(s=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:s.error)==null?void 0:o.call(s,e))??Cu((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??Cu((c=n.customError)==null?void 0:c.call(n,e))??Cu((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";a.message=d}return delete a.inst,delete a.continue,t!=null&&t.reportInput||delete a.input,a}function qx(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function cc(...e){const[t,n,a]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:a}:{...t}}const lj=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,TU,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},cj=q("$ZodError",lj),uj=q("$ZodError",lj,{Parent:Error});function qU(e,t=n=>n.message){const n={},a=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):a.push(t(r));return{formErrors:a,fieldErrors:n}}function UU(e,t){const n=t||function(s){return s.message},a={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>r({issues:l}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)a._errors.push(n(o));else{let l=a,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(e),a}const YU=e=>(t,n,a,r)=>{const s=a?Object.assign(a,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new lc;if(o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(c=>Us(c,s,qs())));throw oj(l,r==null?void 0:r.callee),l}return o.value},VU=e=>async(t,n,a,r)=>{const s=a?Object.assign(a,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(c=>Us(c,s,qs())));throw oj(l,r==null?void 0:r.callee),l}return o.value},dj=e=>(t,n,a)=>{const r=a?{...a,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},r);if(s instanceof Promise)throw new lc;return s.issues.length?{success:!1,error:new(e??cj)(s.issues.map(o=>Us(o,r,qs())))}:{success:!0,data:s.value}},GU=dj(uj),fj=e=>async(t,n,a)=>{const r=a?Object.assign(a,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},r);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>Us(o,r,qs())))}:{success:!0,data:s.value}},WU=fj(uj),ZU=/^[cC][^\s-]{8,}$/,XU=/^[0-9a-z]+$/,KU=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,JU=/^[0-9a-vA-V]{20}$/,eY=/^[A-Za-z0-9]{27}$/,tY=/^[a-zA-Z0-9_-]{21}$/,nY=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,aY=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,u_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,rY=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,sY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function iY(){return new RegExp(sY,"u")}const oY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,cY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,uY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dY=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,mj=/^[A-Za-z0-9_-]*$/,fY=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,mY=/^\+(?:[0-9]){6,14}[0-9]$/,hj="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",hY=new RegExp(`^${hj}$`);function pj(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function pY(e){return new RegExp(`^${pj(e)}$`)}function gY(e){const t=pj({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const a=`${t}(?:${n.join("|")})`;return new RegExp(`^${hj}T(?:${a})$`)}const xY=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},yY=/^\d+$/,vY=/^-?\d+(?:\.\d+)?/i,bY=/true|false/i,_Y=/^[^A-Z]*$/,kY=/^[^a-z]*$/,on=q("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),gj={number:"number",bigint:"bigint",object:"date"},xj=q("$ZodCheckLessThan",(e,t)=>{on.init(e,t);const n=gj[typeof t.value];e._zod.onattach.push(a=>{const r=a._zod.bag,s=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value<=t.value:a.value<t.value)||a.issues.push({origin:n,code:"too_big",maximum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),yj=q("$ZodCheckGreaterThan",(e,t)=>{on.init(e,t);const n=gj[typeof t.value];e._zod.onattach.push(a=>{const r=a._zod.bag,s=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value>=t.value:a.value>t.value)||a.issues.push({origin:n,code:"too_small",minimum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),wY=q("$ZodCheckMultipleOf",(e,t)=>{on.init(e,t),e._zod.onattach.push(n=>{var a;(a=n._zod.bag).multipleOf??(a.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):DU(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),SY=q("$ZodCheckNumberFormat",(e,t)=>{var o;on.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),a=n?"int":"number",[r,s]=OU[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=r,c.maximum=s,n&&(c.pattern=yY)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:a,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort});return}}c<r&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),c>s&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:s,inst:e})}}),EY=q("$ZodCheckMaxLength",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=a=>{const r=a.value;return!Bx(r)&&r.length!==void 0}),e._zod.onattach.push(a=>{const r=a._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(a._zod.bag.maximum=t.maximum)}),e._zod.check=a=>{const r=a.value;if(r.length<=t.maximum)return;const o=qx(r);a.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),RY=q("$ZodCheckMinLength",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=a=>{const r=a.value;return!Bx(r)&&r.length!==void 0}),e._zod.onattach.push(a=>{const r=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(a._zod.bag.minimum=t.minimum)}),e._zod.check=a=>{const r=a.value;if(r.length>=t.minimum)return;const o=qx(r);a.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),NY=q("$ZodCheckLengthEquals",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=a=>{const r=a.value;return!Bx(r)&&r.length!==void 0}),e._zod.onattach.push(a=>{const r=a._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=a=>{const r=a.value,s=r.length;if(s===t.length)return;const o=qx(r),l=s>t.length;a.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:a.value,inst:e,continue:!t.abort})}}),hm=q("$ZodCheckStringFormat",(e,t)=>{var n,a;on.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(a=e._zod).check??(a.check=()=>{})}),jY=q("$ZodCheckRegex",(e,t)=>{hm.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),AY=q("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=_Y),hm.init(e,t)}),CY=q("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=kY),hm.init(e,t)}),MY=q("$ZodCheckIncludes",(e,t)=>{on.init(e,t);const n=mm(t.includes),a=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=a,e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(a)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),TY=q("$ZodCheckStartsWith",(e,t)=>{on.init(e,t);const n=new RegExp(`^${mm(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(a=>{const r=a._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=a=>{a.value.startsWith(t.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:a.value,inst:e,continue:!t.abort})}}),DY=q("$ZodCheckEndsWith",(e,t)=>{on.init(e,t);const n=new RegExp(`.*${mm(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(a=>{const r=a._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=a=>{a.value.endsWith(t.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:a.value,inst:e,continue:!t.abort})}}),LY=q("$ZodCheckOverwrite",(e,t)=>{on.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class PY{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const a=t.split(`
`).filter(o=>o),r=Math.min(...a.map(o=>o.length-o.trimStart().length)),s=a.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,r.join(`
`))}}const zY={major:4,minor:0,patch:5},ot=q("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=zY;const a=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&a.unshift(e);for(const s of a)for(const o of s._zod.onattach)o(e);if(a.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,l,c)=>{let u=Cl(o),d;for(const f of l){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(u)continue;const m=o.issues.length,h=f._zod.check(o);if(h instanceof Promise&&(c==null?void 0:c.async)===!1)throw new lc;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,o.issues.length!==m&&(u||(u=Cl(o,m)))});else{if(o.issues.length===m)continue;u||(u=Cl(o,m))}}return d?d.then(()=>o):o};e._zod.run=(o,l)=>{const c=e._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new lc;return c.then(u=>s(u,a,l))}return s(c,a,l)}}e["~standard"]={validate:s=>{var o;try{const l=GU(e,s);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return WU(e,s).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Ux=q("$ZodString",(e,t)=>{var n;ot.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??xY(e._zod.bag),e._zod.parse=(a,r)=>{if(t.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:e}),a}}),We=q("$ZodStringFormat",(e,t)=>{hm.init(e,t),Ux.init(e,t)}),OY=q("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=aY),We.init(e,t)}),IY=q("$ZodUUID",(e,t)=>{if(t.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(a===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=u_(a))}else t.pattern??(t.pattern=u_());We.init(e,t)}),QY=q("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=rY),We.init(e,t)}),BY=q("$ZodURL",(e,t)=>{We.init(e,t),e._zod.check=n=>{try{const a=n.value,r=new URL(a),s=r.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:fY.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!a.endsWith("/")&&s.endsWith("/")?n.value=s.slice(0,-1):n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),$Y=q("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=iY()),We.init(e,t)}),HY=q("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=tY),We.init(e,t)}),FY=q("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=ZU),We.init(e,t)}),qY=q("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=XU),We.init(e,t)}),UY=q("$ZodULID",(e,t)=>{t.pattern??(t.pattern=KU),We.init(e,t)}),YY=q("$ZodXID",(e,t)=>{t.pattern??(t.pattern=JU),We.init(e,t)}),VY=q("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=eY),We.init(e,t)}),GY=q("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=gY(t)),We.init(e,t)}),WY=q("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=hY),We.init(e,t)}),ZY=q("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=pY(t)),We.init(e,t)}),XY=q("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=nY),We.init(e,t)}),KY=q("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=oY),We.init(e,t),e._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv4"})}),JY=q("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=lY),We.init(e,t),e._zod.onattach.push(n=>{const a=n._zod.bag;a.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),eV=q("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=cY),We.init(e,t)}),tV=q("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=uY),We.init(e,t),e._zod.check=n=>{const[a,r]=n.value.split("/");try{if(!r)throw new Error;const s=Number(r);if(`${s}`!==r)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function vj(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const nV=q("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=dY),We.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{vj(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function aV(e){if(!mj.test(e))return!1;const t=e.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return vj(n)}const rV=q("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=mj),We.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{aV(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),sV=q("$ZodE164",(e,t)=>{t.pattern??(t.pattern=mY),We.init(e,t)});function iV(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const r=JSON.parse(atob(a));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const oV=q("$ZodJWT",(e,t)=>{We.init(e,t),e._zod.check=n=>{iV(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),bj=q("$ZodNumber",(e,t)=>{ot.init(e,t),e._zod.pattern=e._zod.bag.pattern??vY,e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const s=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...s?{received:s}:{}}),n}}),lV=q("$ZodNumber",(e,t)=>{SY.init(e,t),bj.init(e,t)}),cV=q("$ZodBoolean",(e,t)=>{ot.init(e,t),e._zod.pattern=bY,e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),uV=q("$ZodUnknown",(e,t)=>{ot.init(e,t),e._zod.parse=n=>n}),dV=q("$ZodNever",(e,t)=>{ot.init(e,t),e._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function d_(e,t,n){e.issues.length&&t.issues.push(...Fx(n,e.issues)),t.value[n]=e.value}const fV=q("$ZodArray",(e,t)=>{ot.init(e,t),e._zod.parse=(n,a)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const s=[];for(let o=0;o<r.length;o++){const l=r[o],c=t.element._zod.run({value:l,issues:[]},a);c instanceof Promise?s.push(c.then(u=>d_(u,n,o))):d_(c,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function Mu(e,t,n){e.issues.length&&t.issues.push(...Fx(n,e.issues)),t.value[n]=e.value}function f_(e,t,n,a){e.issues.length?a[n]===void 0?n in a?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Fx(n,e.issues)):e.value===void 0?n in a&&(t.value[n]=void 0):t.value[n]=e.value}const mV=q("$ZodObject",(e,t)=>{ot.init(e,t);const n=ij(()=>{const f=Object.keys(t.shape);for(const h of f)if(!(t.shape[h]instanceof ot))throw new Error(`Invalid element at key "${h}": expected a Zod schema`);const m=zU(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(m)}});qe(e._zod,"propValues",()=>{const f=t.shape,m={};for(const h in f){const g=f[h]._zod;if(g.values){m[h]??(m[h]=new Set);for(const y of g.values)m[h].add(y)}}return m});const a=f=>{const m=new PY(["shape","payload","ctx"]),h=n.value,g=v=>{const _=ul(v);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};m.write("const input = payload.value;");const y=Object.create(null);let b=0;for(const v of h.keys)y[v]=`key_${b++}`;m.write("const newResult = {}");for(const v of h.keys)if(h.optionalKeys.has(v)){const _=y[v];m.write(`const ${_} = ${g(v)};`);const k=ul(v);m.write(`
        if (${_}.issues.length) {
          if (input[${k}] === undefined) {
            if (${k} in input) {
              newResult[${k}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${_}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${k}, ...iss.path] : [${k}],
              }))
            );
          }
        } else if (${_}.value === undefined) {
          if (${k} in input) newResult[${k}] = undefined;
        } else {
          newResult[${k}] = ${_}.value;
        }
        `)}else{const _=y[v];m.write(`const ${_} = ${g(v)};`),m.write(`
          if (${_}.issues.length) payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ul(v)}, ...iss.path] : [${ul(v)}]
          })));`),m.write(`newResult[${ul(v)}] = ${_}.value`)}m.write("payload.value = newResult;"),m.write("return payload;");const x=m.compile();return(v,_)=>x(f,v,_)};let r;const s=Wp,o=!sj.jitless,c=o&&LU.value,u=t.catchall;let d;e._zod.parse=(f,m)=>{d??(d=n.value);const h=f.value;if(!s(h))return f.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),f;const g=[];if(o&&c&&(m==null?void 0:m.async)===!1&&m.jitless!==!0)r||(r=a(t.shape)),f=r(f,m);else{f.value={};const _=d.shape;for(const k of d.keys){const w=_[k],S=w._zod.run({value:h[k],issues:[]},m),E=w._zod.optin==="optional"&&w._zod.optout==="optional";S instanceof Promise?g.push(S.then(R=>E?f_(R,f,k,h):Mu(R,f,k))):E?f_(S,f,k,h):Mu(S,f,k)}}if(!u)return g.length?Promise.all(g).then(()=>f):f;const y=[],b=d.keySet,x=u._zod,v=x.def.type;for(const _ of Object.keys(h)){if(b.has(_))continue;if(v==="never"){y.push(_);continue}const k=x.run({value:h[_],issues:[]},m);k instanceof Promise?g.push(k.then(w=>Mu(w,f,_))):Mu(k,f,_)}return y.length&&f.issues.push({code:"unrecognized_keys",keys:y,input:h,inst:e}),g.length?Promise.all(g).then(()=>f):f}});function m_(e,t,n,a){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(s=>Us(s,a,qs())))}),t}const hV=q("$ZodUnion",(e,t)=>{ot.init(e,t),qe(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),qe(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),qe(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),qe(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${n.map(a=>$x(a.source)).join("|")})$`)}}),e._zod.parse=(n,a)=>{let r=!1;const s=[];for(const o of t.options){const l=o._zod.run({value:n.value,issues:[]},a);if(l instanceof Promise)s.push(l),r=!0;else{if(l.issues.length===0)return l;s.push(l)}}return r?Promise.all(s).then(o=>m_(o,n,e,a)):m_(s,n,e,a)}}),pV=q("$ZodIntersection",(e,t)=>{ot.init(e,t),e._zod.parse=(n,a)=>{const r=n.value,s=t.left._zod.run({value:r,issues:[]},a),o=t.right._zod.run({value:r,issues:[]},a);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([c,u])=>h_(n,c,u)):h_(n,s,o)}});function Xp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Zp(e)&&Zp(t)){const n=Object.keys(t),a=Object.keys(e).filter(s=>n.indexOf(s)!==-1),r={...e,...t};for(const s of a){const o=Xp(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};r[s]=o.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<e.length;a++){const r=e[a],s=t[a],o=Xp(r,s);if(!o.valid)return{valid:!1,mergeErrorPath:[a,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function h_(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Cl(e))return e;const a=Xp(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const gV=q("$ZodEnum",(e,t)=>{ot.init(e,t);const n=MU(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(a=>PU.has(typeof a)).map(a=>typeof a=="string"?mm(a):a.toString()).join("|")})$`),e._zod.parse=(a,r)=>{const s=a.value;return e._zod.values.has(s)||a.issues.push({code:"invalid_value",values:n,input:s,inst:e}),a}}),xV=q("$ZodTransform",(e,t)=>{ot.init(e,t),e._zod.parse=(n,a)=>{const r=t.transform(n.value,n);if(a.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new lc;return n.value=r,n}}),yV=q("$ZodOptional",(e,t)=>{ot.init(e,t),e._zod.optin="optional",e._zod.optout="optional",qe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),qe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${$x(n.source)})?$`):void 0}),e._zod.parse=(n,a)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,a):n.value===void 0?n:t.innerType._zod.run(n,a)}),vV=q("$ZodNullable",(e,t)=>{ot.init(e,t),qe(e._zod,"optin",()=>t.innerType._zod.optin),qe(e._zod,"optout",()=>t.innerType._zod.optout),qe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${$x(n.source)}|null)$`):void 0}),qe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,a)=>n.value===null?n:t.innerType._zod.run(n,a)}),bV=q("$ZodDefault",(e,t)=>{ot.init(e,t),e._zod.optin="optional",qe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,a)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,a);return r instanceof Promise?r.then(s=>p_(s,t)):p_(r,t)}});function p_(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const _V=q("$ZodPrefault",(e,t)=>{ot.init(e,t),e._zod.optin="optional",qe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,a)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,a))}),kV=q("$ZodNonOptional",(e,t)=>{ot.init(e,t),qe(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),e._zod.parse=(n,a)=>{const r=t.innerType._zod.run(n,a);return r instanceof Promise?r.then(s=>g_(s,e)):g_(r,e)}});function g_(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const wV=q("$ZodCatch",(e,t)=>{ot.init(e,t),e._zod.optin="optional",qe(e._zod,"optout",()=>t.innerType._zod.optout),qe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,a)=>{const r=t.innerType._zod.run(n,a);return r instanceof Promise?r.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>Us(o,a,qs()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(s=>Us(s,a,qs()))},input:n.value}),n.issues=[]),n)}}),SV=q("$ZodPipe",(e,t)=>{ot.init(e,t),qe(e._zod,"values",()=>t.in._zod.values),qe(e._zod,"optin",()=>t.in._zod.optin),qe(e._zod,"optout",()=>t.out._zod.optout),qe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,a)=>{const r=t.in._zod.run(n,a);return r instanceof Promise?r.then(s=>x_(s,t,a)):x_(r,t,a)}});function x_(e,t,n){return Cl(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const EV=q("$ZodReadonly",(e,t)=>{ot.init(e,t),qe(e._zod,"propValues",()=>t.innerType._zod.propValues),qe(e._zod,"values",()=>t.innerType._zod.values),qe(e._zod,"optin",()=>t.innerType._zod.optin),qe(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,a)=>{const r=t.innerType._zod.run(n,a);return r instanceof Promise?r.then(y_):y_(r)}});function y_(e){return e.value=Object.freeze(e.value),e}const RV=q("$ZodCustom",(e,t)=>{on.init(e,t),ot.init(e,t),e._zod.parse=(n,a)=>n,e._zod.check=n=>{const a=n.value,r=t.fn(a);if(r instanceof Promise)return r.then(s=>v_(s,n,a,e));v_(r,n,a,e)}});function v_(e,t,n,a){if(!e){const r={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(r.params=a._zod.def.params),t.issues.push(cc(r))}}class NV{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const a=n[0];if(this._map.set(t,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const a={...this.get(n)??{}};return delete a.id,{...a,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function jV(){return new NV}const Tu=jV();function AV(e,t){return new e({type:"string",...ue(t)})}function CV(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ue(t)})}function b_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ue(t)})}function MV(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ue(t)})}function TV(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ue(t)})}function DV(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ue(t)})}function LV(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ue(t)})}function PV(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ue(t)})}function zV(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ue(t)})}function OV(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ue(t)})}function IV(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ue(t)})}function QV(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ue(t)})}function BV(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ue(t)})}function $V(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ue(t)})}function HV(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ue(t)})}function FV(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ue(t)})}function qV(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ue(t)})}function UV(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ue(t)})}function YV(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ue(t)})}function VV(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ue(t)})}function GV(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ue(t)})}function WV(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ue(t)})}function ZV(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ue(t)})}function XV(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ue(t)})}function KV(e,t){return new e({type:"string",format:"date",check:"string_format",...ue(t)})}function JV(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ue(t)})}function eG(e,t){return new e({type:"string",format:"duration",check:"string_format",...ue(t)})}function tG(e,t){return new e({type:"number",checks:[],...ue(t)})}function nG(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ue(t)})}function aG(e,t){return new e({type:"boolean",...ue(t)})}function rG(e){return new e({type:"unknown"})}function sG(e,t){return new e({type:"never",...ue(t)})}function __(e,t){return new xj({check:"less_than",...ue(t),value:e,inclusive:!1})}function vh(e,t){return new xj({check:"less_than",...ue(t),value:e,inclusive:!0})}function k_(e,t){return new yj({check:"greater_than",...ue(t),value:e,inclusive:!1})}function bh(e,t){return new yj({check:"greater_than",...ue(t),value:e,inclusive:!0})}function w_(e,t){return new wY({check:"multiple_of",...ue(t),value:e})}function _j(e,t){return new EY({check:"max_length",...ue(t),maximum:e})}function qd(e,t){return new RY({check:"min_length",...ue(t),minimum:e})}function kj(e,t){return new NY({check:"length_equals",...ue(t),length:e})}function iG(e,t){return new jY({check:"string_format",format:"regex",...ue(t),pattern:e})}function oG(e){return new AY({check:"string_format",format:"lowercase",...ue(e)})}function lG(e){return new CY({check:"string_format",format:"uppercase",...ue(e)})}function cG(e,t){return new MY({check:"string_format",format:"includes",...ue(t),includes:e})}function uG(e,t){return new TY({check:"string_format",format:"starts_with",...ue(t),prefix:e})}function dG(e,t){return new DY({check:"string_format",format:"ends_with",...ue(t),suffix:e})}function Hc(e){return new LY({check:"overwrite",tx:e})}function fG(e){return Hc(t=>t.normalize(e))}function mG(){return Hc(e=>e.trim())}function hG(){return Hc(e=>e.toLowerCase())}function pG(){return Hc(e=>e.toUpperCase())}function gG(e,t,n){return new e({type:"array",element:t,...ue(n)})}function xG(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ue(n)})}const yG=q("ZodISODateTime",(e,t)=>{GY.init(e,t),tt.init(e,t)});function vG(e){return XV(yG,e)}const bG=q("ZodISODate",(e,t)=>{WY.init(e,t),tt.init(e,t)});function _G(e){return KV(bG,e)}const kG=q("ZodISOTime",(e,t)=>{ZY.init(e,t),tt.init(e,t)});function wG(e){return JV(kG,e)}const SG=q("ZodISODuration",(e,t)=>{XY.init(e,t),tt.init(e,t)});function EG(e){return eG(SG,e)}const RG=(e,t)=>{cj.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>UU(e,n)},flatten:{value:n=>qU(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},pm=q("ZodError",RG,{Parent:Error}),NG=YU(pm),jG=VU(pm),AG=dj(pm),CG=fj(pm),gt=q("ZodType",(e,t)=>(ot.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),e.clone=(n,a)=>li(e,n,a),e.brand=()=>e,e.register=(n,a)=>(n.add(e,a),e),e.parse=(n,a)=>NG(e,n,a,{callee:e.parse}),e.safeParse=(n,a)=>AG(e,n,a),e.parseAsync=async(n,a)=>jG(e,n,a,{callee:e.parseAsync}),e.safeParseAsync=async(n,a)=>CG(e,n,a),e.spa=e.safeParseAsync,e.refine=(n,a)=>e.check(wW(n,a)),e.superRefine=n=>e.check(SW(n)),e.overwrite=n=>e.check(Hc(n)),e.optional=()=>N_(e),e.nullable=()=>j_(e),e.nullish=()=>N_(j_(e)),e.nonoptional=n=>pW(e,n),e.array=()=>Ys(e),e.or=n=>rW([e,n]),e.and=n=>iW(e,n),e.transform=n=>A_(e,cW(n)),e.default=n=>fW(e,n),e.prefault=n=>hW(e,n),e.catch=n=>xW(e,n),e.pipe=n=>A_(e,n),e.readonly=()=>bW(e),e.describe=n=>{const a=e.clone();return Tu.add(a,{description:n}),a},Object.defineProperty(e,"description",{get(){var n;return(n=Tu.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Tu.get(e);const a=e.clone();return Tu.add(a,n[0]),a},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),wj=q("_ZodString",(e,t)=>{Ux.init(e,t),gt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...a)=>e.check(iG(...a)),e.includes=(...a)=>e.check(cG(...a)),e.startsWith=(...a)=>e.check(uG(...a)),e.endsWith=(...a)=>e.check(dG(...a)),e.min=(...a)=>e.check(qd(...a)),e.max=(...a)=>e.check(_j(...a)),e.length=(...a)=>e.check(kj(...a)),e.nonempty=(...a)=>e.check(qd(1,...a)),e.lowercase=a=>e.check(oG(a)),e.uppercase=a=>e.check(lG(a)),e.trim=()=>e.check(mG()),e.normalize=(...a)=>e.check(fG(...a)),e.toLowerCase=()=>e.check(hG()),e.toUpperCase=()=>e.check(pG())}),MG=q("ZodString",(e,t)=>{Ux.init(e,t),wj.init(e,t),e.email=n=>e.check(CV(TG,n)),e.url=n=>e.check(PV(DG,n)),e.jwt=n=>e.check(ZV(GG,n)),e.emoji=n=>e.check(zV(LG,n)),e.guid=n=>e.check(b_(S_,n)),e.uuid=n=>e.check(MV(Du,n)),e.uuidv4=n=>e.check(TV(Du,n)),e.uuidv6=n=>e.check(DV(Du,n)),e.uuidv7=n=>e.check(LV(Du,n)),e.nanoid=n=>e.check(OV(PG,n)),e.guid=n=>e.check(b_(S_,n)),e.cuid=n=>e.check(IV(zG,n)),e.cuid2=n=>e.check(QV(OG,n)),e.ulid=n=>e.check(BV(IG,n)),e.base64=n=>e.check(VV(UG,n)),e.base64url=n=>e.check(GV(YG,n)),e.xid=n=>e.check($V(QG,n)),e.ksuid=n=>e.check(HV(BG,n)),e.ipv4=n=>e.check(FV($G,n)),e.ipv6=n=>e.check(qV(HG,n)),e.cidrv4=n=>e.check(UV(FG,n)),e.cidrv6=n=>e.check(YV(qG,n)),e.e164=n=>e.check(WV(VG,n)),e.datetime=n=>e.check(vG(n)),e.date=n=>e.check(_G(n)),e.time=n=>e.check(wG(n)),e.duration=n=>e.check(EG(n))});function Ut(e){return AV(MG,e)}const tt=q("ZodStringFormat",(e,t)=>{We.init(e,t),wj.init(e,t)}),TG=q("ZodEmail",(e,t)=>{QY.init(e,t),tt.init(e,t)}),S_=q("ZodGUID",(e,t)=>{OY.init(e,t),tt.init(e,t)}),Du=q("ZodUUID",(e,t)=>{IY.init(e,t),tt.init(e,t)}),DG=q("ZodURL",(e,t)=>{BY.init(e,t),tt.init(e,t)}),LG=q("ZodEmoji",(e,t)=>{$Y.init(e,t),tt.init(e,t)}),PG=q("ZodNanoID",(e,t)=>{HY.init(e,t),tt.init(e,t)}),zG=q("ZodCUID",(e,t)=>{FY.init(e,t),tt.init(e,t)}),OG=q("ZodCUID2",(e,t)=>{qY.init(e,t),tt.init(e,t)}),IG=q("ZodULID",(e,t)=>{UY.init(e,t),tt.init(e,t)}),QG=q("ZodXID",(e,t)=>{YY.init(e,t),tt.init(e,t)}),BG=q("ZodKSUID",(e,t)=>{VY.init(e,t),tt.init(e,t)}),$G=q("ZodIPv4",(e,t)=>{KY.init(e,t),tt.init(e,t)}),HG=q("ZodIPv6",(e,t)=>{JY.init(e,t),tt.init(e,t)}),FG=q("ZodCIDRv4",(e,t)=>{eV.init(e,t),tt.init(e,t)}),qG=q("ZodCIDRv6",(e,t)=>{tV.init(e,t),tt.init(e,t)}),UG=q("ZodBase64",(e,t)=>{nV.init(e,t),tt.init(e,t)}),YG=q("ZodBase64URL",(e,t)=>{rV.init(e,t),tt.init(e,t)}),VG=q("ZodE164",(e,t)=>{sV.init(e,t),tt.init(e,t)}),GG=q("ZodJWT",(e,t)=>{oV.init(e,t),tt.init(e,t)}),Sj=q("ZodNumber",(e,t)=>{bj.init(e,t),gt.init(e,t),e.gt=(a,r)=>e.check(k_(a,r)),e.gte=(a,r)=>e.check(bh(a,r)),e.min=(a,r)=>e.check(bh(a,r)),e.lt=(a,r)=>e.check(__(a,r)),e.lte=(a,r)=>e.check(vh(a,r)),e.max=(a,r)=>e.check(vh(a,r)),e.int=a=>e.check(E_(a)),e.safe=a=>e.check(E_(a)),e.positive=a=>e.check(k_(0,a)),e.nonnegative=a=>e.check(bh(0,a)),e.negative=a=>e.check(__(0,a)),e.nonpositive=a=>e.check(vh(0,a)),e.multipleOf=(a,r)=>e.check(w_(a,r)),e.step=(a,r)=>e.check(w_(a,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function As(e){return tG(Sj,e)}const WG=q("ZodNumberFormat",(e,t)=>{lV.init(e,t),Sj.init(e,t)});function E_(e){return nG(WG,e)}const ZG=q("ZodBoolean",(e,t)=>{cV.init(e,t),gt.init(e,t)});function XG(e){return aG(ZG,e)}const KG=q("ZodUnknown",(e,t)=>{uV.init(e,t),gt.init(e,t)});function R_(){return rG(KG)}const JG=q("ZodNever",(e,t)=>{dV.init(e,t),gt.init(e,t)});function eW(e){return sG(JG,e)}const tW=q("ZodArray",(e,t)=>{fV.init(e,t),gt.init(e,t),e.element=t.element,e.min=(n,a)=>e.check(qd(n,a)),e.nonempty=n=>e.check(qd(1,n)),e.max=(n,a)=>e.check(_j(n,a)),e.length=(n,a)=>e.check(kj(n,a)),e.unwrap=()=>e.element});function Ys(e,t){return gG(tW,e,t)}const nW=q("ZodObject",(e,t)=>{mV.init(e,t),gt.init(e,t),qe(e,"shape",()=>t.shape),e.keyof=()=>oW(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:R_()}),e.loose=()=>e.clone({...e._zod.def,catchall:R_()}),e.strict=()=>e.clone({...e._zod.def,catchall:eW()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>BU(e,n),e.merge=n=>$U(e,n),e.pick=n=>IU(e,n),e.omit=n=>QU(e,n),e.partial=(...n)=>HU(Ej,e,n[0]),e.required=(...n)=>FU(Rj,e,n[0])});function kr(e,t){const n={type:"object",get shape(){return Hx(this,"shape",{...e}),this.shape},...ue(t)};return new nW(n)}const aW=q("ZodUnion",(e,t)=>{hV.init(e,t),gt.init(e,t),e.options=t.options});function rW(e,t){return new aW({type:"union",options:e,...ue(t)})}const sW=q("ZodIntersection",(e,t)=>{pV.init(e,t),gt.init(e,t)});function iW(e,t){return new sW({type:"intersection",left:e,right:t})}const Kp=q("ZodEnum",(e,t)=>{gV.init(e,t),gt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(a,r)=>{const s={};for(const o of a)if(n.has(o))s[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Kp({...t,checks:[],...ue(r),entries:s})},e.exclude=(a,r)=>{const s={...t.entries};for(const o of a)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new Kp({...t,checks:[],...ue(r),entries:s})}});function oW(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(a=>[a,a])):e;return new Kp({type:"enum",entries:n,...ue(t)})}const lW=q("ZodTransform",(e,t)=>{xV.init(e,t),gt.init(e,t),e._zod.parse=(n,a)=>{n.addIssue=s=>{if(typeof s=="string")n.issues.push(cc(s,n.value,t));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!0),n.issues.push(cc(o))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(s=>(n.value=s,n)):(n.value=r,n)}});function cW(e){return new lW({type:"transform",transform:e})}const Ej=q("ZodOptional",(e,t)=>{yV.init(e,t),gt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function N_(e){return new Ej({type:"optional",innerType:e})}const uW=q("ZodNullable",(e,t)=>{vV.init(e,t),gt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function j_(e){return new uW({type:"nullable",innerType:e})}const dW=q("ZodDefault",(e,t)=>{bV.init(e,t),gt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function fW(e,t){return new dW({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const mW=q("ZodPrefault",(e,t)=>{_V.init(e,t),gt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hW(e,t){return new mW({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Rj=q("ZodNonOptional",(e,t)=>{kV.init(e,t),gt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pW(e,t){return new Rj({type:"nonoptional",innerType:e,...ue(t)})}const gW=q("ZodCatch",(e,t)=>{wV.init(e,t),gt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function xW(e,t){return new gW({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const yW=q("ZodPipe",(e,t)=>{SV.init(e,t),gt.init(e,t),e.in=t.in,e.out=t.out});function A_(e,t){return new yW({type:"pipe",in:e,out:t})}const vW=q("ZodReadonly",(e,t)=>{EV.init(e,t),gt.init(e,t)});function bW(e){return new vW({type:"readonly",innerType:e})}const _W=q("ZodCustom",(e,t)=>{RV.init(e,t),gt.init(e,t)});function kW(e){const t=new on({check:"custom"});return t._zod.check=e,t}function wW(e,t={}){return xG(_W,e,t)}function SW(e){const t=kW(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push(cc(a,n.value,t._zod.def));else{const r=a;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(cc(r))}},e(n.value,n)));return t}const EW=kr({type:Ut(),id:Ut()}),RW=kr({skill:Ut(),level:As()}),NW=kr({skillLevel:RW.optional(),items:Ys(EW).optional()}),jW=kr({base:Ut(),subtext:Ut()}),AW=kr({rank:As(),edid:Ut(),name:Ut(),description:jW,prerequisites:NW}),CW=kr({x:As(),y:As(),horizontal:As(),vertical:As()}),MW=kr({parents:Ys(Ut()),children:Ys(Ut())}),TW=kr({edid:Ut(),name:Ut(),ranks:Ys(AW),totalRanks:As(),connections:MW,isRoot:XG(),position:CW}),DW=kr({treeId:Ut(),treeName:Ut(),treeDescription:Ut(),category:Ut(),perks:Ys(TW)});Ys(DW);function LW({skills:e,originalSkills:t,selectedSkill:n,onSkillSelect:a,className:r}){const[s,o]=p.useState(new Set),l=u=>{o(d=>{const f=new Set(d);return f.has(u)?f.delete(u):f.add(u),f})},c=u=>{a(u)};return i.jsx("div",{className:`space-y-2 ${r||""}`,children:e.map(u=>{const d=s.has(u.id),f=(n==null?void 0:n.id)===u.id,m=t.find(h=>h.id===u.id);return i.jsx("div",{className:`transition-colors ${f?"ring-2 ring-skyrim-gold bg-skyrim-gold/10":""}`,children:i.jsx(K7,{item:u,originalSkill:m,isExpanded:d,onToggle:()=>l(u.id),onSelect:()=>c(u.id),showScaling:!0,showAbilities:!0,showTags:!0})},u.id)})})}function PW(e){return e.length===0?{minX:0,maxX:0,minY:0,maxY:0}:e.reduce((t,n)=>({minX:Math.min(t.minX,n.x),maxX:Math.max(t.maxX,n.x),minY:Math.min(t.minY,n.y),maxY:Math.max(t.maxY,n.y)}),{minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0})}const zW=(e,t)=>({perkNode:n=>i.jsx(ej,{...n,onTogglePerk:e,onRankChange:t})}),C_={cellWidth:240,cellHeight:140,nodeWidth:140,nodeHeight:80,gridGap:40,padding:80};function OW(e,t,n){const{x:a,y:r,horizontal:s,vertical:o}=e,l=t.maxX-a+t.minX,c=-s,u=t.maxY-r+t.minY,d=-o,f=(l-t.minX)*n.cellWidth+(l-t.minX)*n.gridGap+n.padding+n.cellWidth/2,m=(u-t.minY)*n.cellHeight+(u-t.minY)*n.gridGap+n.padding+n.cellHeight/2,h=c*(n.cellWidth/2-n.nodeWidth/2),g=d*(n.cellHeight/2-n.nodeHeight/2),y=f+h,b=m+g;return{x:y,y:b,gridX:l,gridY:u,horizontal:c,vertical:d}}function IW(e,t,n,a){const r=e-a.padding,s=t-a.padding,o=Math.floor(r/(a.cellWidth+a.gridGap)),l=Math.floor(s/(a.cellHeight+a.gridGap)),c=o*a.cellWidth+o*a.gridGap+a.padding+a.cellWidth/2,u=l*a.cellHeight+l*a.gridGap+a.padding+a.cellHeight/2,d=e-c,f=t-u,m=a.cellWidth/2-a.nodeWidth/2,h=a.cellHeight/2-a.nodeHeight/2,g=Math.max(-1,Math.min(1,d/m)),y=Math.max(-1,Math.min(1,f/h));return{x:e,y:t,gridX:o,gridY:l,horizontal:g,vertical:y}}function QW({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:a,className:r}){const[s,o]=z.useState(null),[l,c]=p.useState(new Map),[u,d]=p.useState(!1),[f,m]=p.useState(null),h=p.useMemo(()=>{if(!e)return null;const D=JN(e);return D.success?D.data:(console.error("Invalid perk tree data:",D.error),null)},[e]),g=p.useMemo(()=>zW(t,n),[t,n]),y=p.useMemo(()=>{if(!h)return new Map;const D=new Map,A=h.perks.map(C=>C.position).filter(C=>C!==void 0),T=PW(A);return m(T),h.perks.forEach(C=>{if(C.position){const M=l.get(C.edid);if(M)D.set(C.edid,M);else{const L=OW(C.position,T,C_);D.set(C.edid,L)}}}),D},[h,l]),b=p.useMemo(()=>h?h.perks.map(A=>{var P,Q,F,B;const T=A.edid,C=y.get(T)||{x:0,y:0},M=((Q=(P=A.connections)==null?void 0:P.children)==null?void 0:Q.length)>0||!1,L=((B=(F=A.connections)==null?void 0:F.parents)==null?void 0:B.length)===0||!1;return{id:T,type:"perkNode",position:{x:C.x,y:C.y},draggable:u,data:{...A,selected:!1,hasChildren:M,isRoot:L}}}):[],[h,y,u]),x=p.useMemo(()=>{if(!h)return[];const D=[];return h.perks.forEach(A=>{var C;const T=A.edid;(C=A.connections)!=null&&C.children&&A.connections.children.forEach(M=>{if(M===T)return;h.perks.some(P=>P.edid===M)&&D.push({id:`${T}-${M}`,source:T,target:M,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),D},[h]),[v,_,k]=VN(b),[w,S,E]=GN(x);z.useEffect(()=>{_(b)},[b,_]),z.useEffect(()=>{h&&_(D=>D.map(A=>{const T=a.find(M=>M.edid===A.id),C=T!==void 0;return{...A,draggable:u,data:{...A.data,selected:C,currentRank:(T==null?void 0:T.currentRank)||0}}}))},[a,_,h,u]),z.useEffect(()=>{S(x)},[x,S]),z.useEffect(()=>{h&&v.length>0&&s&&setTimeout(()=>{s.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[h==null?void 0:h.treeId,s]);const R=p.useCallback(D=>S(A=>jx(D,A)),[S]),N=p.useCallback((D,A)=>{if(!u||!f)return;const T=IW(A.position.x,A.position.y,f,C_),C=new Map(l);C.set(A.id,T),c(C)},[u,l,f]),j=p.useCallback(()=>{if(!h)return;const D=new Map;h.perks.forEach(T=>{const C=l.get(T.edid),M=y.get(T.edid);C?D.set(T.edid,C):M&&D.set(T.edid,M)});const A=Kq(h,D);eU(A)},[h,l,y]),O=p.useCallback(D=>{var C;const A=(C=D.target.files)==null?void 0:C[0];if(!A||!h)return;const T=new FileReader;T.onload=M=>{var L;try{const P=JSON.parse((L=M.target)==null?void 0:L.result);if(P.treeId===h.treeId){const Q=Jq(h.treeId,P);c(Q)}else alert("Position file does not match current tree!")}catch(P){alert("Error loading position file!"),console.error("Error loading positions:",P)}},T.readAsText(A)},[h]),I=p.useCallback(()=>{d(!u)},[u]);return h?i.jsxs("div",{className:`w-full h-full bg-background rounded-lg border overflow-auto ${r||""}`,children:[i.jsx("div",{className:"p-4 border-b bg-muted/20",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Experimental AVIF Grid Canvas (Mirrored + Enhanced Spacing)"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Bottom-up tree with left-right mirroring using enhanced grid spacing"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:I,className:`px-3 py-1 text-xs rounded border ${u?"bg-blue-500 text-white border-blue-500":"bg-background text-foreground border-border hover:bg-muted"}`,children:u?"Exit Edit":"Edit Mode"}),i.jsx("button",{onClick:j,className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted",children:"Save Positions"}),i.jsxs("label",{className:"px-3 py-1 text-xs rounded border bg-background text-foreground border-border hover:bg-muted cursor-pointer",children:["Load Positions",i.jsx("input",{type:"file",accept:".json",onChange:O,className:"hidden"})]})]})]})}),i.jsx("div",{className:"w-full h-full min-h-[400px]",style:{zIndex:_t.CONTENT},children:i.jsxs(Lx,{nodes:v,edges:w,onNodesChange:k,onEdgesChange:E,onConnect:R,onInit:o,onNodeDragStop:N,nodeTypes:g,nodesDraggable:u,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},style:{backgroundColor:"hsl(var(--background))"},children:[i.jsx(KN,{color:"hsl(var(--muted-foreground))",gap:20,size:1,style:{backgroundColor:"hsl(var(--background))"}}),i.jsx(ZN,{})]})})]}):i.jsx("div",{className:`flex items-center justify-center p-8 text-muted-foreground ${r||""}`,children:i.jsx("p",{children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}function BW(e){return{id:e.id,name:e.name,description:e.description,category:e.category,tags:[...e.metaTags,e.category.toLowerCase()],effects:[...e.keyAbilities.map(t=>({type:"positive",name:"Key Ability",description:t,target:"ability"}))],summary:e.description.length>100?`${e.description.substring(0,100)}...`:e.description,associatedItems:[],imageUrl:void 0}}function M_(e){return e.map(BW)}function $W(){const{skills:e,selectedSkill:t,perkTree:n,selectedPerks:a,perkRanks:r,availablePerks:s,onSkillSelect:o,onPerkSelect:l,onPerkRankChange:c,isLoading:u,error:d}=tj(),f=p.useMemo(()=>M_(e),[e]);return u?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx("p",{className:"text-muted-foreground",children:"Loading skills..."})}):d?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsxs("p",{className:"text-destructive",children:["Error loading skills: ",d]})}):i.jsx("div",{className:"container mx-auto p-6 space-y-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Skills - Experimental AVIF Grid"}),i.jsx("p",{className:"text-muted-foreground",children:"Experimental perk tree visualization using AVIF coordinate system"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Skills"}),i.jsx(LW,{skills:f,originalSkills:e,selectedSkill:t?M_([t])[0]:void 0,onSkillSelect:o})]})})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:t?`${t.name} Perk Tree`:"Perk Tree"}),i.jsx("div",{className:"bg-background border rounded-lg h-[600px]",children:i.jsx(QW,{tree:n,selectedPerks:a,perkRanks:r,availablePerks:s,onPerkSelect:l,onPerkRankChange:c,className:"h-full"})})]}),t&&n&&i.jsxs("div",{className:"bg-muted/20 p-4 rounded-lg",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Debug Information"}),i.jsxs("div",{className:"text-xs space-y-1 text-muted-foreground",children:[i.jsxs("p",{children:["Selected Skill: ",t.name]}),i.jsxs("p",{children:["Perk Tree: ",n.treeName]}),i.jsxs("p",{children:["Total Perks: ",n.perks.length]}),i.jsxs("p",{children:["Selected Perks: ",a.length]}),i.jsxs("p",{children:["Available Perks: ",s.length]}),n.perks.length>0&&n.perks[0].position&&i.jsxs("p",{children:["Sample Position: X=",n.perks[0].position.x,", Y=",n.perks[0].position.y,", H=",n.perks[0].position.horizontal,", V=",n.perks[0].position.vertical]})]})]})]})})]})]})})}function HW(e={}){const{autoLoad:t=!0,refreshOnMount:n=!1}=e,{data:a,loading:r,error:s,load:o}=Mi(),l=p.useCallback(async()=>{t&&a.length===0&&await o()},[t,a.length,o]),c=p.useCallback(async()=>{await o()},[o]),u=p.useCallback(()=>{},[]);p.useEffect(()=>{t&&a.length===0&&l()},[t,a.length,l]),p.useEffect(()=>{n&&c()},[n,c]);const d=a.length,f=[...new Set(a.map(v=>v.school).filter(Boolean))],m=[...new Set(a.map(v=>v.level).filter(Boolean))],h=new Date().toISOString(),g=a.length>0?{spells:a,totalCount:d,schools:f,levels:m,lastUpdated:h}:null,y=p.useCallback(v=>Mi.getState().getByEditorId(v),[]),b=p.useCallback(v=>Mi.getState().getBySchool(v),[]),x=p.useCallback(v=>Mi.getState().getByLevel(v),[]);return{spells:a,spellData:g,loading:r,error:s,totalCount:d,schools:f,levels:m,lastUpdated:h,loadSpells:l,refresh:c,clearError:u,getSpellByEditorId:y,getSpellsBySchool:b,getSpellsByLevel:x}}function FW(){const[e,t]=p.useState(null),[n,a]=p.useState("grid");return{selectedSpell:e,viewMode:n,setSelectedSpell:t,setViewMode:a}}const qW={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};function UW({spells:e,variant:t="default",showEffects:n=!0,showTags:a=!0,columns:r=3,className:s="",expandedCards:o=new Set,onToggleExpansion:l}){return e.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):i.jsx("div",{className:`grid gap-4 ${qW[r]} ${s}`,children:e.map((c,u)=>i.jsx(ux,{spell:c,isExpanded:o.has(`${c.name}-${c.editorId}-${u}`),onToggle:()=>l==null?void 0:l(`${c.name}-${c.editorId}-${u}`)},`${c.name}-${c.editorId}-${u}`))})}function YW({spells:e,variant:t="default",showEffects:n=!0,showTags:a=!0,className:r="",expandedCards:s=new Set,onToggleExpansion:o}){return e.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No spells found"})}):i.jsx("div",{className:`space-y-4 ${r}`,children:e.map((l,c)=>i.jsx(ux,{spell:l,isExpanded:s.has(`${l.name}-${l.editorId}-${c}`),onToggle:()=>o==null?void 0:o(`${l.name}-${l.editorId}-${c}`)},`${l.name}-${l.editorId}-${c}`))})}const T_={Novice:1,Apprentice:2,Adept:3,Expert:4,Master:5};function VW(){const{spells:e,loading:t,error:n}=HW(),{viewMode:a,setViewMode:r}=FW(),s=Array.isArray(e)?e:[],[o,l]=p.useState(new Set),[c,u]=p.useState("alphabetical"),d=_=>{l(k=>{const w=new Set(k);return w.has(_)?w.delete(_):w.add(_),w})},f=p.useMemo(()=>{if(console.log("Generating search categories directly:",{safeSpellsLength:s.length,firstSpell:s[0]}),s.length===0)return[];const _=[...new Set(s.map(w=>w.school))],k=[...new Set(s.map(w=>w.level))];return console.log("Extracted categories:",{schools:_,levels:k}),[{id:"keywords",name:"Fuzzy Search",placeholder:"Search spells by name, school, level, or effects...",options:[]},{id:"schools",name:"Magic Schools",placeholder:"Filter by school...",options:_.map(w=>({id:`school-${w}`,label:w,value:w,category:"Magic Schools",description:`${w} spells`}))},{id:"levels",name:"Spell Levels",placeholder:"Filter by level...",options:k.map(w=>({id:`level-${w}`,label:w,value:w,category:"Spell Levels",description:`${w} spells`}))}]},[s]);p.useEffect(()=>{console.log("SpellPageView Debug:",{spellsLength:(e==null?void 0:e.length)||0,safeSpellsLength:s.length,loading:t,error:n,searchCategoriesLength:(f==null?void 0:f.length)||0,searchCategories:f})},[e,s,t,n,f]);const[m,h]=p.useState([]),g=_=>{let k;typeof _=="string"?k={id:`custom-${_}`,label:_,value:_,category:"Fuzzy Search"}:k={id:`${_.category}-${_.id}`,label:_.label,value:_.value,category:_.category},m.some(w=>w.value===k.value&&w.category===k.category)||h(w=>[...w,k])},y=_=>{h(k=>k.filter(w=>w.id!==_))},b=()=>{h([])},x=s.filter(_=>m.length===0?!0:m.every(k=>{switch(k.category){case"Magic Schools":return _.school===k.value;case"Spell Levels":return _.level===k.value;case"Fuzzy Search":const w=k.value.toLowerCase();return _.name.toLowerCase().includes(w)||_.school.toLowerCase().includes(w)||_.level.toLowerCase().includes(w)||_.effects.some(S=>S.name.toLowerCase().includes(w));default:return!0}})),v=p.useMemo(()=>[...x].sort((_,k)=>{switch(c){case"alphabetical":return _.name.localeCompare(k.name);case"school":const w=_.school.localeCompare(k.school);return w!==0?w:_.name.localeCompare(k.name);case"level":const S=T_[_.level]||0,E=T_[k.level]||0;return S!==E?S-E:_.name.localeCompare(k.name);default:return 0}}),[x,c]);return t?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading spells..."})]})}):n?i.jsxs("div",{className:"text-center py-12",children:[i.jsxs("p",{className:"text-destructive mb-4",children:["Error loading spells: ",n]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:["Debug: ",s.length," spells, ",f.length," search categories",f.length>0&&i.jsxs("div",{className:"mt-1",children:["Categories: ",f.map(_=>`${_.name}(${_.options.length})`).join(", ")]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-1",children:f.length>0?i.jsx(ri,{categories:f,onSelect:g,onCustomSearch:g}):i.jsxs("div",{className:"p-4 border border-dashed border-muted-foreground/20 rounded-lg text-center text-muted-foreground",children:["No search categories available. Spells loaded: ",s.length]})}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:c,onChange:_=>u(_.target.value),className:"appearance-none bg-background border border-border rounded-lg px-3 py-1.5 pr-8 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent cursor-pointer",children:[i.jsx("option",{value:"alphabetical",children:"Sort: A-Z"}),i.jsx("option",{value:"school",children:"Sort: School"}),i.jsx("option",{value:"level",children:"Sort: Level"})]}),i.jsx(In,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]}),i.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[i.jsx("button",{onClick:()=>r("grid"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${a==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"Grid view",children:"Grid"}),i.jsx("button",{onClick:()=>r("list"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${a==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:"List view",children:"List"})]})]}),m.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("button",{onClick:b,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[i.jsx("span",{className:"text-lg",children:"Ã—"}),"Clear All"]}),m.map(_=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>y(_.id),title:"Click to remove",children:[_.label,i.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"Ã—"})]},_.id))]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.length," of ",s.length," spells"]}),i.jsx("div",{children:v.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground",children:"No spells found matching your criteria."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]}):i.jsxs(i.Fragment,{children:[a==="grid"&&i.jsx(UW,{spells:v,variant:"default",columns:3,expandedCards:o,onToggleExpansion:d}),a==="list"&&i.jsx(YW,{spells:v,variant:"default",expandedCards:o,onToggleExpansion:d})]})})]})}function GW(){return i.jsx(br,{title:"Spell Reference",description:"Browse and search all available spells. Find the perfect magic for your character build.",children:i.jsx(VW,{})})}function Nj(e,t){const n=p.useMemo(()=>e.map(l=>{var c;return{id:l.id||l.name,name:l.name,description:l.description||"",category:l.category||"",effects:((c=l.effects)==null?void 0:c.map(u=>`${u.type} ${u.description||""} ${u.value}`))||[],tags:l.tags||[],originalTrait:l}}),[e]),a=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=p.useMemo(()=>new tn(n,a),[n,a]),s=p.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredTraits:p.useMemo(()=>s.map(l=>l.item.originalTrait),[s]),searchResults:s,searchableTraits:n}}function jj(e){const t=e.map(n=>n.category).filter(Boolean);return[...new Set(t)].sort()}function WW(e){const t=e.flatMap(n=>{var a;return((a=n.effects)==null?void 0:a.map(r=>r.type))||[]});return[...new Set(t)].sort()}function Aj(e){const t=e.flatMap(n=>n.tags||[]);return[...new Set(t)].sort()}const ZW=[{name:"Acoustic Arcanist",description:"Your magic flows through melody and vibration. After playing an instrument at an inn, your sonic spells become ***20%*** more powerful. However, your booming presence makes hiring followers more expensive, and your reliance on sound magic weakens your physical attacks by ***15%***.",edid:"LoreTraits_AcousticArcanistAb",formId:"0xFEDF282F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Adrenaline Rush",description:"You possess a natural flight response. When at less than ***20%*** health, you move ***20%*** faster and regenerate ***1*** stamina per second but also deal ***30%*** less damage when below this threshold.",edid:"Traits_AdrenalineRushAb",formId:"0xFEA72D78",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Angler",description:"Your bond with the sea grants unique benefits. Mudcrabs and slaughterfish become friendly toward you. Fishing yields more valuable items. Fishing rods deal double damage and have a chance to summon a mudcrab to fight at your side. The summoned mudcrab becomes stronger if you're carrying an insect or small fish. Fishing rods can be enchanted. However, your affinity with the waters leaves you ***10%*** more vulnerable to shock damage.",edid:"Traits_AnglerAb",formId:"0xFEA72071",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Au Naturel",description:"Embrace your divine gifts! Start with ***+100*** health, magicka, and stamina. For each piece of armor or clothing you wear, you lose ***40*** from each attribute (up to a maximum loss of ***-160*** with four pieces equipped). Additionally, you gain +1 to health, magicka, and stamina per level for each empty armor slot (head, chest, hands, and feet).",edid:"Traits_AuNaturelAb",formId:"0xFEA72D7B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Bad Natured",description:"You were born into wickedness. Your attacks while being crouched deals ***20%*** more and you're better at pickpocketing. However, attacks while standing up do ***20%*** less and wearing a divine amulet will hurt you.",edid:"Traits_BadNaturedAb",formId:"0xFEA72D85",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:0,condition:"passive effect",duration:0,flags:["No Hit Event","No Duration","No Magnitude","No Area","Hide in UI","Painless"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bane of the Wicked",description:"You are an enemy to all things abhorrent. Deal ***20%*** more damage to undead, daedra and werewolves. However, do ***10%*** less damage to other beings.",edid:"Traits_BaneoftheWickedAb",formId:"0xFEA72D97",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blighted Fists",description:"Your afflictions fuel your fury! Your unarmed attacks deal ***+10*** unresistable disease damage per disease.",edid:"LoreTraits_BlightedFistsAb",formId:"0xFEDF281F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blood Warrior",description:"You take ***50%*** more physical damage and have ***100%*** weakness to Poison. However you start with ***+100*** health and gain ***+5*** health per level.",edid:"LoreTraits_BloodWarriorAb",formId:"0xFEDF200C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:100,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bulwark",description:"When walking or standing still, you gain ***200*** armor rating and reflect ***10%*** physical damage. You drain ***1*** additional stamina per second while sprinting and ***0.25*** when running.",edid:"Traits_BulwarkAb",formId:"0xFEA72D9F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:.25,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Defiler",description:"The only use you have for the living is to resurrect them in death. Deal ***20%*** more damage to playable races. However, do ***10%*** less damage to other beings.",edid:"Traits_DefilerAb",formId:"0xFEA72D99",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disbeliever",description:"You reject the influence of gods, placing your faith in logic and reason instead. Dwemer weapons and armor are ***33%*** stronger, but you cannot receive blessings from shrines or divines.",edid:"Traits_DisbelieverAb",formId:"0xFEA7284A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disciplined",description:"Shoot to kill. Bows and crossbows deal ***20%*** more damage. However, they draw/reload ***40%*** slower.",edid:"Traits_DisciplinedAb",formId:"0xFEA72D8F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Dominating Will",description:"Your presence commands fear, intimidation checks almost always succeed, and frenzy spells are ***20%*** stronger. However, your persuasive charm is lacking, making persuasion checks harder, and your pacifying spells are ***20%*** weaker.",edid:"LoreTraits_DominatingWillAb",formId:"0xFEDF281A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Dovah Tinvaak",description:"You are fluent in Dragon speech and as such can shout ***10%*** more often, at ***20%*** reduced effectiveness.",edid:"Traits_DovahTinvaakAb",formId:"0xFEA7204C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:.10000000149011612,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"social",tags:["social"],diagram:""},{name:"Druid",description:"Druids are attuned to nature, making spriggans friendly and reducing the cost of druidic spells by up to ***30%***. You can craft ***Lifebloom Essence*** from Taproot and Spriggan Sap for powerful regeneration. However, your bond with the wild leaves you ***25%*** more vulnerable to fire and axes.",edid:"Traits_DruidAb",formId:"0xFEA7207C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Elemental Conduit",description:`Fire spells are more powerful in sunny weather but lose potency in the rain. 
Shock spells are enhanced during rain but are less effective in snowy conditions. 
Frost spells excel in snowy weather but weaken under sunny skies.`,edid:"Traits_ElementalConduitAb",formId:"0xFEA72058",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Fast Shot",description:"You'd rather shoot fast than shoot hard. Bows draw ***40%*** faster, crossbows reload ***40%*** faster. However, bows and crossbows deal ***30%*** less damage.",edid:"Traits_FastShotAb",formId:"0xFEA72D8D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Fatal Attraction",description:"Your presence is as dangerous as it is alluring. You can choose one gender, you deal ***20%*** more physical damage to the selected gender, but in turn, take ***20%*** more from the other.",edid:"LoreTraits_FatalAttractionAb",formId:"0xFEDF281D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Focused",description:"When in danger, you think before acting. When at less than ***20%*** health, you regenerate ***5*** magicka per second and absorb ***10%*** of incoming spells. However, you take ***10%*** more damage when below this threshold.",edid:"Traits_FocusedAb",formId:"0xFEA72D93",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Focused Precision",description:"Your reliance on careful aim comes at a cost. Arrows and bolts deal ***15%*** less damage, but have a ***20%*** chance to push targets away. The strength of this pushback scales with your Marksman skill.",edid:"LoreTraits_FocusedPrecisionAb",formId:"0xFEDF2835",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Gambler",description:"You go in all or nothing. Gain ***50%*** chance to critical hit. However, overall weapon damage is reduced by ***40%***. When you land a critical hit, your attacks do ***10%*** more damage for ***30*** seconds (stackable up to ***5*** times).",edid:"Traits_GamblerAb",formId:"0xFEA72DA1",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Giantkin",description:"Descended from the mighty giants; you gain ***10%*** magic resistance and damage with blunt weapons, however you cannot read skill books, or use scrolls and staves.",edid:"Traits_GiantkinAb",formId:"0xFEA7205F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Glutton",description:"You LOVE food but hate medicine. Food benefits are ***25%*** stronger but potions have only ***50%*** their efficiency.",edid:"Traits_GluttonAb",formId:"0xFEA72D7F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Good Natured",description:"You have a good heart. Deal ***20%*** less damage with weapons and Destruction spells. However, while wearing an amulet of the divines beneficial spells and potions last ***20%*** longer and you take ***20%*** less damage.",edid:"Traits_GoodNaturedAb",formId:"0xFEA72D83",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Hoarder",description:"You love carrying stuff around, even if it's junk. Gain ***+200*** carryweight. Selling prices are ***50%*** worse.",edid:"Traits_HoarderAb",formId:"0xFEA72D87",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Homeowner",description:"You've secured a place to call your own, choosing one of Skyrim's fine homes to settle in. However, comfort comes at a cost: each week, you must make a mortgage payment based on the home's value.",edid:"Traits_HomeownerAb",formId:"0xFEA720B5",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Introvert",description:"You thrive in solitude but falter in the crowd. When facing three or fewer enemies, you deal ***15%*** more damage, whether with weapons or Destruction magic. Against four or more, your nerves get the better of you, and you deal ***10%*** less.",edid:"Traits_IntrovertAb",formId:"0xFEA720D4",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Jack of All Spells",description:"But master of none. Novice, Apprentice and Adept spells are ***20%*** stronger or longer lasting, expert and master spells are ***20%*** weaker or shorter.",edid:"Traits_JackofAllSpellsAb",formId:"0xFEA72D89",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"King of Worms",description:"You've gained hidden insight into necromantic arts. You can have ***1*** additional summon or undead thrall. However, the duration of summon and resurrecting spells is reduced by ***33%***.",edid:"Traits_KingofWormsAb",formId:"0xFEA72D9B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Light Foot",description:"You've never felt comfortable in footwear. When not wearing boots/shoes, your movement is muffled, you move ***5%*** faster and suffer no fall damage. When wearing boots/shoes you move ***10%*** slower.",edid:"Traits_LightFootAb",formId:"0xFEA72D79",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Lurker",description:"When not wearing any clothes sneak attacks deal ***2.5*** times more damage and can sneak ***25%*** better. Eating fish when it's raw and wriggling triggers a powerful healing effect that lasts ***10*** minutes. However, armor provides no protection, cooked food offers no benefits, and weapons with a weight above 10 will deal no damage.",edid:"Traits_GollumAb",formId:"0xFEA720DF",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Marathon Runner",description:"You regenerate ***5*** stamina per second while sprinting. However, you will not be able to gain any stamina while running or standing still.",edid:"Traits_MarathonRunnerAb",formId:"0xFEA7205B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e4,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"special",tags:["special"],diagram:""},{name:"Master of Destiny",description:"You reject the influence of fate and star signs. Standing Stones cannot be used, but you begin the game with ***3*** additional perk points and a permanent ***+5*** boost to all skills.",edid:"Traits_MasterofDestinyAb",formId:"0xFEA7206D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Nosferatu",description:"You're an ugly sight and live in the sewers. ***-50*** speech, no health, magicka or stamina regen outdoors. Eating skeever meat gives you a ***20%*** speed boost and restores ***10*** health, magicka and stamina per second for ***180*** seconds.",edid:"Traits_NosferatuAb",formId:"0xFEA72039",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:50,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:50,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Old Fashioned",description:"If it ain't broke, don't fix it. Weapons, armor and magical staves made of iron, wood, steel, fur or hide are ***15%*** stronger. Otherwise, they are ***10%*** weaker.",edid:"Traits_OldFashionedAb",formId:"0xFEA72D8B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Pacifist",description:"When your arms are lowered you restore ***2*** magicka and stamina per second. However, raising your hands in combat will have the opposite effect. Those born under the sign of the Atronach do not gain any benefits.",edid:"Traits_PacifistAb",formId:"0xFEA72D9D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:2,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:2,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Phalanx",description:"You deal ***15%*** more damage with spears, javelins, pikes, and halberds. However, you take ***50%*** more damage when hit from behind. Also gives you a unique pike.",edid:"LoreTraits_PhalanxAb",formId:"0xFEDF2801",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Rage",description:"You posses a natural fight response. When at less than ***20%*** health, you deal ***20%*** more damage and take ***20%*** less damage. However, you move ***30%*** slower when below this threshold.",edid:"Traits_RageAb",formId:"0xFEA72D91",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Serene Presence",description:"Your calming aura makes you effortlessly persuasive: persuasion checks almost always succeed, and pacifying spells are ***20%*** stronger. However, your intimidation attempts are half as likely to succeed, and your frenzy spells are ***20%*** weaker.",edid:"LoreTraits_SerenePresenceAb",formId:"0xFEDF2816",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Shehai",description:"Your bound weapons do ***15%*** more damage. But you take ***25%*** more damage from the undead.",edid:"LoreTraits_ShehaiAb",formId:"0xFEDF2029",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Silent Dovah",description:"You choose not to speak the Thu'um, instead hoarding the souls of slain dragons to fuel your own power. For each unspent dragon soul, you gain ***+10*** Health, Magicka, and Stamina. However, this draconic strength rejects the curse of beast or blood: werewolves and vampires cannot harness its power.",edid:"LoreTraits_SilentDovahAb",formId:"0xFEDF280C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Skilled",description:"Reading skill books grants an extra skill point and trainers cost ***50%*** less, however every ***5*** levels you don't gain a perk point.",edid:"Traits_SkilledAb",formId:"0xFEA7203F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Embed",description:"At will, you can consume a dragon soul to amplify the magnitude of your shouts by ***50%*** for ***1*** hour.",edid:"LoreTraits_SoulEmbedAb",formId:"0xFEDF2004",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Reaver",description:"You've claimed countless souls for your gain. Weapon and armor enchantments are ***10%*** stronger and use ***10%*** less charge. Armor rating and weapon damage is reduced by ***10%***.",edid:"Traits_SoulReaverAb",formId:"0xFEA72D95",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Sunkissed",description:"You draw strength from the sun's radiant blaze: sun spells are ***15%*** more powerful in your hands. But such warmth comes at a cost: you take ***25%*** more frost damage, and this weakness deepens to ***50%*** beneath the cold veil of night.",edid:"LoreTraits_SunkissedAb",formId:"0xFEDF2014",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Swimmer",description:"You prefer life on the water. In water, you swim ***30%*** faster, can breath underwater and regenerate health, stamina and magicka by a flat ***1*** per second. On land, you suffer ***25%*** less health, stamina and magicka regeneration.",edid:"Traits_SwimmerAb",formId:"0xFEA72D81",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:0,condition:"recovery effect, duration scales with power",duration:0,flags:["Recover","No Magnitude","No Area","Hide in UI","Power Affects Duration","No Hit Effect"]},{type:"special_effect",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Touch of the Arcane",description:"Your touch and cloak spells are ***20%*** stronger. All other spell types are ***10%*** weaker or last ***10%*** less.",edid:"LoreTraits_TouchoftheArcaneAb",formId:"0xFEDF2808",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unbound Hands",description:"Handwear constricts you. Spells are ***15%*** stronger and unarmed attacks do ***+30*** more damage when not wearing gloves/gauntlets. However, they suffer the opposite effect when wearing gloves/gauntlets.",edid:"Traits_UnboundHandsAb",formId:"0xFEA72D7D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unshakable",description:"You turn defense into offense. Your shield bashes deal ***20%*** more damage and cost ***20%*** less Stamina. However, your unwavering focus on your shield makes you slower while blocking.",edid:"LoreTraits_UnshakableAb",formId:"0xFEDF2833",spell:{cost:1109,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]},{type:"special_effect",value:50,condition:"while blocking, negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Wandering Monk",description:"Power attacks with quarterstaves will force the enemy to drop their weapon to the ground, however this only applies if you're not wearing any armor (light or heavy). You also recieve a unique battlestaff.",edid:"LoreTraits_WanderingMonkAb",formId:"0xFEDF201A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Way of the Voice",description:"You follow the pacifist creed of the Greybeards, and as such your hostile shouts are ***30%*** less effective, but using non-hostile shouts has a ***20%*** chance reset the shout cooldown.",edid:"Traits_WayoftheVoiceAb",formId:"0xFEA72050",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Witcher",description:"Potions and poisons you craft are ***20%*** more effective, and consuming raw ingredients grants double the effect. However, you can only benefit from up to ***four*** active potion effects at a time.",edid:"Traits_WitcherAb",formId:"0xFEA72032",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"crafting",tags:["crafting"],diagram:""},{name:"Wizard's Wardrobe",description:"Your wands are ***30%*** more effective when wearing a wizard hat. When not wearing a wizard hat, all spells are ***10%*** less powerful or last ***10%*** less.",edid:"LoreTraits_WizardsWardrobeAb",formId:"0xFEDF2806",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""}],XW={traits:ZW};function KW(){const[e,t]=p.useState({search:"",category:"",tags:[]}),n=p.useMemo(()=>{const l=XW.traits;if(!l||!Array.isArray(l))return console.error("Invalid trait data structure detected"),[];const c=l.map(u=>({...u,name:u.name||"Unknown Trait",description:u.description||"",category:u.category||"misc",tags:u.tags||[],effects:u.effects||[]}));return console.log(`Successfully loaded ${c.length} traits`),c},[]),a=p.useMemo(()=>n.filter(l=>{if(e.search){const c=e.search.toLowerCase();if(![l.name,l.description,l.category,...l.tags,...l.effects.map(d=>d.type)].join(" ").toLowerCase().includes(c))return!1}return!(e.category&&l.category!==e.category||e.tags.length>0&&!e.tags.some(u=>l.tags.includes(u)||l.category===u||l.effects.some(d=>d.type===u)))}),[n,e]),r=p.useMemo(()=>jj(n),[n]),s=p.useMemo(()=>WW(n),[n]),o=p.useMemo(()=>Aj(n),[n]);return{traits:a,allTraits:n,loading:!1,error:null,filters:e,setFilters:t,allCategories:r,allEffectTypes:s,allTags:o}}function JW(){const{data:e,loading:t,error:n,reload:a}=bO(),r=e||[],[s,o]=p.useState([]),[l,c]=p.useState("alphabetical"),[u,d]=p.useState("grid"),[f,m]=p.useState(new Set);p.useMemo(()=>r.map(Jv),[r]);const g=(()=>{const R=jj(r),N=Aj(r);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:R.map(j=>({id:`category-${j}`,label:j,value:j,category:"Categories",description:`Traits in ${j} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:N.map(j=>({id:`tag-${j}`,label:j,value:j,category:"Tags",description:`Traits tagged with ${j}`}))}]})(),y=R=>{let N;typeof R=="string"?N={id:`custom-${R}`,label:R,value:R,category:"Fuzzy Search"}:N={id:`${R.category}-${R.id}`,label:R.label,value:R.value,category:R.category},s.some(j=>j.value===N.value&&j.category===N.category)||o(j=>[...j,N])},b=R=>{o(N=>N.filter(j=>j.id!==R))},x=r.filter(R=>s.length===0?!0:s.every(N=>{var j;switch(N.category){case"Fuzzy Search":return!0;case"Categories":return R.category===N.value;case"Tags":return((j=R.tags)==null?void 0:j.some(O=>O===N.value))||!1;default:return!0}})),v=s.filter(R=>R.category==="Fuzzy Search").map(R=>R.value).join(" "),{filteredTraits:_}=Nj(x,v),k=_.map(Jv),w=r.map(R=>R.id||R.name),S=[...k].sort((R,N)=>{var j,O;switch(l){case"alphabetical":return R.name.localeCompare(N.name);case"category":const I=M=>{switch(M){case"Combat":return 1;case"Magic":return 2;case"Stealth":return 3;case"Social":return 4;case"Survival":return 5;default:return 6}},D=I(R.category),A=I(N.category);return D!==A?D-A:R.name.localeCompare(N.name);case"effect-count":const T=((j=R.effects)==null?void 0:j.length)||0,C=((O=N.effects)==null?void 0:O.length)||0;return T!==C?C-T:R.name.localeCompare(N.name);default:return 0}}),E=R=>{const N=new Set(f);if(u==="grid"){const O=S.findIndex(C=>C.id===R),D=Math.floor(O/3)*3,A=Math.min(D+3,S.length);S.slice(D,A).some(C=>N.has(C.id))?S.slice(D,A).forEach(C=>{N.delete(C.id)}):S.slice(D,A).forEach(C=>{N.add(C.id)})}else N.has(R)?N.delete(R):N.add(R);m(N)};return t?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):n?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-4",children:n}),i.jsx("button",{onClick:()=>a(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):i.jsxs(br,{title:"Traits",description:"Choose your character's traits. Traits provide unique abilities and modifiers that will shape your character's capabilities throughout their journey.",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx(ri,{categories:g,onSelect:y,onCustomSearch:y})}),i.jsxs(q0,{children:[i.jsx(U0,{asChild:!0,children:i.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(In,{className:"h-4 w-4"}),l==="alphabetical"?"A-Z":l==="category"?"Category":"Count"]})}),i.jsxs($f,{align:"end",children:[i.jsx(sr,{onClick:()=>c("alphabetical"),children:"Alphabetical"}),i.jsx(sr,{onClick:()=>c("category"),children:"Category"}),i.jsx(sr,{onClick:()=>c("effect-count"),children:"Effect Count"})]})]}),i.jsxs("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg",children:[i.jsx(Z,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:i.jsx(Js,{className:"h-4 w-4"})}),i.jsx(Z,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:i.jsx(Ks,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"my-4",children:s.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("button",{onClick:()=>o([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[i.jsx(Yt,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(R=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>b(R.id),title:"Click to remove",children:[R.label,i.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"Ã—"})]},R.id))]})}),u==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:S.map(R=>{const N=f.has(R.id);return i.jsx(yb,{item:R,isExpanded:N,onToggle:()=>E(R.id),className:"w-full",allTraitIds:w},R.id)})}):i.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:S.map(R=>{const N=f.has(R.id);return i.jsx(yb,{item:R,isExpanded:N,onToggle:()=>E(R.id),className:"w-full",allTraitIds:w},R.id)})}),S.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function eZ(){const{data:e,loading:t,error:n}=mE();return{religions:e||[],loading:t,error:n}}function tZ(e){var t,n,a,r;return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,type:e.type,description:((t=e.tenet)==null?void 0:t.description)||"",tenetDescription:((n=e.tenet)==null?void 0:n.description)||"",followerPower:((a=e.boon1)==null?void 0:a.spellName)||"",devoteePower:((r=e.boon2)==null?void 0:r.spellName)||"",favoredRaces:e.favoredRaces||[],worshipRestrictions:e.worshipRestrictions||[],originalReligion:e}}function nZ(e){return e.map(tZ)}function aZ(e,t){return e.find(n=>n.name.toLowerCase().replace(/\s+/g,"-")===t)}function rZ(e,t){const n=p.useMemo(()=>e.map(l=>{var c,u,d,f,m,h,g,y,b;return{id:l.name.toLowerCase().replace(/\s+/g,"-"),name:l.name,description:((c=l.tenet)==null?void 0:c.description)||"",type:l.type,favoredRaces:l.favoredRaces||[],tenetEffects:((d=(u=l.tenet)==null?void 0:u.effects)==null?void 0:d.map(x=>`${x.effectName} ${x.effectDescription}`))||[],blessingEffects:((m=(f=l.blessing)==null?void 0:f.effects)==null?void 0:m.map(x=>`${x.effectName} ${x.effectDescription}`))||[],followerPowers:((g=(h=l.boon1)==null?void 0:h.effects)==null?void 0:g.map(x=>`${x.effectName} ${x.effectDescription}`))||[],devoteePowers:((b=(y=l.boon2)==null?void 0:y.effects)==null?void 0:b.map(x=>`${x.effectName} ${x.effectDescription}`))||[],originalReligion:l}}),[e]),a=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},{name:"favoredRaces",weight:.1},{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),r=p.useMemo(()=>new tn(n,a),[n,a]),s=p.useMemo(()=>t.trim()?r.search(t):n.map(l=>({item:l,score:0,matches:[]})),[r,t]);return{filteredReligions:p.useMemo(()=>s.map(l=>l.item.originalReligion),[s]),searchResults:s,searchableReligions:n}}function D_({religions:e,selectedDeityId:t,onDeitySelect:n,placeholder:a="Search for a deity to follow...",className:r,disabled:s=!1}){const[o,l]=p.useState(""),{filteredReligions:c}=rZ(e,o),u=p.useMemo(()=>nZ(c),[c]),d=g=>{const y={Divine:"bg-blue-100 text-blue-800 border-blue-200","Daedric Prince":"bg-red-100 text-red-800 border-red-200",Tribunal:"bg-purple-100 text-purple-800 border-purple-200",Ancestor:"bg-green-100 text-green-800 border-green-200","Nordic Deity":"bg-orange-100 text-orange-800 border-orange-200","Yokudan Deity":"bg-yellow-100 text-yellow-800 border-yellow-200","Khajiiti Deity":"bg-indigo-100 text-indigo-800 border-indigo-200",Deity:"bg-gray-100 text-gray-800 border-gray-200"};return i.jsx(X,{variant:"outline",className:H("text-xs font-medium",y[g]||y.Deity),children:g})},f=p.useMemo(()=>u.map(g=>({id:g.id,label:g.name,description:g.tenetDescription,category:g.type,badge:d(g.type),metadata:{originalReligion:g.originalReligion,favoredRaces:g.favoredRaces}})),[u]),m=g=>{n(g.id)},h=(g,y)=>{var b;return i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium",children:g.label}),g.badge]}),g.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-1",children:g.description}),((b=g.metadata)==null?void 0:b.favoredRaces)&&g.metadata.favoredRaces.length>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ft,{className:"h-3 w-3 text-skyrim-gold"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Favors: ",g.metadata.favoredRaces.join(", ")]})]})]})})};return i.jsx(Oc,{options:f,onSelect:m,placeholder:a,className:r,disabled:s,renderOption:h,emptyMessage:"No deity found.",searchQuery:o,onSearchQueryChange:l})}function sZ({className:e}){const{religions:t,loading:n,error:a}=eZ(),{build:r,setReligion:s}=pt(),o=wt(),[l,c]=p.useState(!0),u=r.religion?aZ(t,r.religion):null,d=()=>{o("/build/religions")},f=()=>{c(!l)};if(n)return i.jsx(Ln,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:i.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading religions..."})});if(a)return i.jsx(Ln,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:i.jsxs("div",{className:"text-sm text-destructive",children:["Error loading religions: ",a]})});if(!u)return i.jsxs(Ln,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's religion"}),i.jsx(D_,{religions:t,selectedDeityId:r.religion,onDeitySelect:s,placeholder:"Search for a religion...",className:"w-full"})]});const m=Np(u);return i.jsxs(Ln,{title:"Religion",navigateTo:"religions",onNavigate:d,className:e,children:[i.jsx(D_,{religions:t,selectedDeityId:r.religion,onDeitySelect:s,placeholder:`Religion: Select a religion (${u.name})`,className:"w-full"}),i.jsx(Dd,{item:m,originalReligion:u,isExpanded:l,onToggle:f,className:"border-0 shadow-none",disableHover:!0,showToggle:!1,showBlessings:!1,showTenets:!0,showBoons:!0,showFavoredRaces:!0})]})}function _h({traits:e,onSelect:t,placeholder:n="Search traits...",className:a="",disabled:r=!1}){const[s,o]=p.useState(""),{filteredTraits:l}=Nj(e,s),c=p.useMemo(()=>l.map(f=>({id:f.edid,label:f.name,description:f.description,category:f.category,badge:f.category&&i.jsx(X,{variant:"outline",className:"text-xs",children:f.category}),metadata:{originalTrait:f,effectsCount:f.effects.length}})),[l]),u=f=>{const m=e.find(h=>h.edid===f.id);m&&t(m)},d=(f,m)=>{var h;return i.jsx("div",{className:"flex items-start gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:f.label}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.badge&&i.jsx("div",{className:"flex-shrink-0",children:f.badge}),((h=f.metadata)==null?void 0:h.effectsCount)&&f.metadata.effectsCount>0&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.metadata.effectsCount," effect",f.metadata.effectsCount!==1?"s":""]})]}),f.description&&i.jsx(Cs,{text:f.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})};return i.jsx(Oc,{options:c,onSelect:u,placeholder:n,className:a,disabled:r,renderOption:d,emptyMessage:"No traits found",searchQuery:s,onSearchQueryChange:o})}function iZ({className:e}){const{allTraits:t}=KW(),{build:n,addTraitToSlot:a,removeTrait:r,getRegularTraitLimit:s,getBonusTraitLimit:o}=pt(),l=wt();s(),o();const c=n.traits.regular.map(g=>t.find(y=>y.edid===g)).filter(Boolean),u=n.traits.bonus.map(g=>t.find(y=>y.edid===g)).filter(Boolean),d=(g,y)=>{a(g.edid,y)},f=g=>{r(g)},m=()=>{l("/traits")},h=t.filter(g=>!n.traits.regular.includes(g.edid)&&!n.traits.bonus.includes(g.edid));return i.jsx(Ln,{title:"Traits",navigateTo:"traits",onNavigate:m,className:e,children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:"outline",className:"text-xs",children:"Slot 1"}),c[0]&&i.jsx(X,{variant:"default",className:"text-xs",children:"Starting"})]}),c[0]?i.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm",children:c[0].name}),i.jsx(Cs,{text:c[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>f(c[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:i.jsx(Yt,{className:"h-3 w-3"})})]}):i.jsx(_h,{traits:h,onSelect:g=>d(g,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:"outline",className:"text-xs",children:"Slot 2"}),c[1]&&i.jsx(X,{variant:"default",className:"text-xs",children:"Starting"})]}),c[1]?i.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm",children:c[1].name}),i.jsx(Cs,{text:c[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>f(c[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:i.jsx(Yt,{className:"h-3 w-3"})})]}):i.jsx(_h,{traits:h,onSelect:g=>d(g,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&i.jsx(X,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?i.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm",children:u[0].name}),i.jsx(Cs,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>f(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:i.jsx(Yt,{className:"h-3 w-3"})})]}):i.jsx(_h,{traits:h,onSelect:g=>d(g,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}function oZ({name:e,notes:t,onNameChange:n,onNotesChange:a,className:r}){return i.jsxs(He,{className:`mb-6 ${r||""}`,children:[i.jsx(Ke,{children:i.jsx(st,{children:"Basic Information"})}),i.jsxs(Fe,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Za,{htmlFor:"name",children:"Character Name"}),i.jsx(ka,{id:"name",value:e,onChange:s=>n(s.target.value),placeholder:"Enter character name..."})]}),i.jsxs("div",{children:[i.jsx(Za,{htmlFor:"notes",children:"Notes"}),i.jsx("textarea",{id:"notes",value:t,onChange:s=>a(s.target.value),placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}function Vs(e){return e?e.replace(/\*\*\*(.*?)\*\*\*/g,"**$1**").replace(/<(\d+)>/g,"Level $1").replace(/\n+/g," ").trim():""}function ci(e,t,n){try{return e()}catch(a){return console.warn(`Failed to resolve ${n}:`,a),t}}function lZ(e){return e?ci(()=>{const t=os.getState().data;if(t.length===0)throw new Error("Races data not loaded yet. Please wait a moment and try again.");let n=t.find(a=>a.edid===e);return n||(n=t.find(a=>a.name.toLowerCase()===e.toLowerCase())),n||(n=t.find(a=>a.id===e)),n?{name:n.name,effects:n.description?Vs(n.description):void 0}:(console.warn(`Race not found for ID: ${e}. Available races: ${t.map(a=>a.edid).join(", ")}`),{name:"Unknown Race"})},{name:"Unknown Race"},"race"):{name:"Not selected"}}function cZ(e){return e?ci(()=>{const t=Fo.getState().data;if(t.length===0)throw new Error("Birthsigns data not loaded yet. Please wait a moment and try again.");const n=t.find(a=>a.edid===e);return n?{name:n.name,effects:Vs(n.description||"No effects")}:{name:"Unknown Birth Sign",effects:"No effects"}},{name:"Unknown Birth Sign",effects:"No effects"},"birth sign"):{name:"Not selected",effects:"No effects"}}function uZ(e,t){return ci(()=>{const n=Vo.getState().data;if(n.length===0)throw new Error("Traits data not loaded yet. Please wait a moment and try again.");const a=[];return e.forEach(r=>{const s=n.find(o=>o.edid===r);s&&a.push({name:s.name,effects:Vs(s.description||"No effects"),type:"regular"})}),t.forEach(r=>{const s=n.find(o=>o.edid===r);s&&a.push({name:s.name,effects:Vs(s.description||"No effects"),type:"bonus"})}),a},[],"traits")}function dZ(e){return e?ci(()=>{const t=Yo.getState().data;if(t.length===0)throw new Error("Religions data not loaded yet. Please wait a moment and try again.");const n=t.find(a=>a.id===e||a.name===e);return n?{name:n.name,effects:Vs(n.type||"No effects")}:{name:"Unknown Religion",effects:"No effects"}},{name:"Unknown Religion",effects:"No effects"},"religion"):{name:"Not selected",effects:"No effects"}}function fZ(e,t,n){return ci(()=>{const a=si.getState().data;if(a.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");const r=s=>s.map(o=>{const l=a.find(u=>u.edid===o),c=n[o];return{name:(l==null?void 0:l.name)||"Unknown Skill",level:c||void 0}});return{major:r(e),minor:r(t),other:[]}},{major:[],minor:[],other:[]},"skills")}function mZ(e,t){return ci(()=>{const n=si.getState().data,a=Uo.getState().data;if(n.length===0)throw new Error("Skills data not loaded yet. Please wait a moment and try again.");if(a.length===0)throw new Error("Perk trees data not loaded yet. Please wait a moment and try again.");return Object.entries(e).map(([r,s])=>{const o=n.find(u=>u.edid===r),l=a.find(u=>u.treeId===r),c=s.map(u=>{var h,g,y;let d=l==null?void 0:l.perks.find(b=>b.edid===u);d||(d=l==null?void 0:l.perks.find(b=>b.name.toLowerCase()===u.toLowerCase())),d||console.warn(`Perk lookup fallback for ID: ${u}`);const f=t[u];d||console.warn(`Perk not found for ID: ${u} in skill: ${r}. Available perks: ${l==null?void 0:l.perks.map(b=>b.edid).join(", ")}`);const m=((y=(g=(h=d==null?void 0:d.ranks)==null?void 0:h[0])==null?void 0:g.description)==null?void 0:y.base)||"No effects";return{name:(d==null?void 0:d.name)||"Unknown Perk",effects:Vs(m),rank:f||void 0}});return{skillName:(o==null?void 0:o.name)||"Unknown Skill",perks:c}}).filter(r=>r.perks.length>0)},[],"perks")}function hZ(e){return e.length===0?[]:ci(()=>{const t=qo.getState().data;if(t.length===0)throw new Error("Destiny nodes data not loaded yet. Please wait a moment and try again.");return e.map(n=>{const a=t.find(r=>r.id===n||r.name===n);return{name:(a==null?void 0:a.name)||"Unknown Destiny",effects:a!=null&&a.description?Vs(a.description):void 0}})},[],"destiny path")}function pZ(e){const t=[],n=e.map(a=>a.name.toLowerCase());return n.some(a=>a.includes("one-handed")||a.includes("two-handed"))&&t.push("melee"),n.some(a=>a.includes("archery"))&&t.push("archery"),n.some(a=>a.includes("magic")||a.includes("destruction"))&&t.push("magic"),n.some(a=>a.includes("stealth")||a.includes("sneak"))&&t.push("stealth"),n.some(a=>a.includes("smithing")||a.includes("enchanting"))&&t.push("crafting"),t}function gZ(e){const t=[],n=e.map(a=>a.name.toLowerCase());return n.some(a=>a.includes("warrior")||a.includes("combat"))&&t.push("warrior"),n.some(a=>a.includes("mage")||a.includes("magic"))&&t.push("mage"),n.some(a=>a.includes("thief")||a.includes("stealth"))&&t.push("thief"),n.some(a=>a.includes("archer")||a.includes("ranged"))&&t.push("archer"),t}function xZ(e,t,n){const a=["lorerim"];if(e.name!=="Not selected"){const l=e.name.toLowerCase().replace(/\s+/g,"");a.push(l)}const r=[...t.major,...t.minor],s=pZ(r);a.push(...s);const o=gZ(n);return a.push(...o),a.slice(0,5)}function yZ(e){const t=lZ(e.race),n=cZ(e.stone),a=dZ(e.religion),r=uZ(e.traits.regular,e.traits.bonus),s=fZ(e.skills.major,e.skills.minor,e.skillLevels),o=mZ(e.perks.selected,e.perks.ranks),l=hZ(e.destinyPath),c=xZ(t,s,r),u={level:e.attributeAssignments.level||1,health:e.attributeAssignments.health||0,stamina:e.attributeAssignments.stamina||0,magicka:e.attributeAssignments.magicka||0,totalPoints:(e.attributeAssignments.health||0)+(e.attributeAssignments.stamina||0)+(e.attributeAssignments.magicka||0)};return{name:e.name||"Unnamed Character",notes:e.notes||"",race:t,birthSign:n,traits:r,religion:a,skills:s,perks:o,destinyPath:l,tags:c,attributes:u}}function vZ(e,t){const n=[];n.push(`**ðŸ›¡ï¸ Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__ðŸ§¬ Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__ðŸŒŒ Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__ðŸ§  Traits__"),e.traits.forEach(r=>{const s=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${s}**`)}),n.push("")),n.push("__âœï¸ Religion__"),n.push(`${e.religion.name}`),n.push(""),n.push(`__âš”ï¸ Attributes (Level ${e.attributes.level})__`);const a=[];if(e.attributes.health>0&&a.push(`Health: ${e.attributes.health}`),e.attributes.stamina>0&&a.push(`Stamina: ${e.attributes.stamina}`),e.attributes.magicka>0&&a.push(`Magicka: ${e.attributes.magicka}`),a.length>0?n.push(a.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__ðŸ“š Skills__"),e.skills.major.length>0){const r=e.skills.major.map(s=>s.level?`${s.name} (Level ${s.level})`:s.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(s=>s.level?`${s.name} (Level ${s.level})`:s.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(s=>s.level?`${s.name} (Level ${s.level})`:s.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__ðŸŽ¯ Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(s=>{const o=s.rank&&s.rank>1?` (Rank ${s.rank})`:"";n.push(`â€¢ **${s.name}${o}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__ðŸŒŸ Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}function bZ(e,t){const n=[];n.push(`**ðŸ›¡ï¸ Build: ${e.name||"Unnamed Character"}**`),e.notes&&n.push(`*${e.notes}*`),n.push(""),t&&(n.push(`[Arcaneum Build Link](${t})`),n.push("")),n.push("__ðŸ§¬ Race__"),n.push(`${e.race.name}`),n.push(""),n.push("__ðŸŒŒ Birth Sign__"),n.push(`${e.birthSign.name}`),n.push(""),e.traits.length>0&&(n.push("__ðŸ§  Traits__"),e.traits.forEach(r=>{const s=r.type==="bonus"?" (Late Game)":"";n.push(`**${r.name}${s}**`)}),n.push("")),n.push("__âœï¸ Religion__"),n.push(`${e.religion.name}`),n.push(""),n.push(`__âš”ï¸ Attributes (Level ${e.attributes.level})__`);const a=[];if(e.attributes.health>0&&a.push(`Health: ${e.attributes.health}`),e.attributes.stamina>0&&a.push(`Stamina: ${e.attributes.stamina}`),e.attributes.magicka>0&&a.push(`Magicka: ${e.attributes.magicka}`),a.length>0?n.push(a.join(", ")):n.push("No attribute points assigned"),n.push(""),n.push("__ðŸ“š Skills__"),e.skills.major.length>0){const r=e.skills.major.map(s=>s.level?`${s.name} (Level ${s.level})`:s.name).join(", ");n.push(`**Major:** ${r}`)}if(e.skills.minor.length>0){const r=e.skills.minor.map(s=>s.level?`${s.name} (Level ${s.level})`:s.name).join(", ");n.push(`**Minor:** ${r}`)}if(e.skills.other.length>0){const r=e.skills.other.map(s=>s.level?`${s.name} (Level ${s.level})`:s.name).join(", ");n.push(`**Other:** ${r}`)}return n.push(""),e.perks.length>0&&(n.push("__ðŸŽ¯ Perks__"),e.perks.forEach(r=>{n.push(`**${r.skillName}:**`),r.perks.forEach(s=>{const o=s.rank&&s.rank>1?` (Rank ${s.rank})`:"";n.push(`â€¢ **${s.name}${o}**`)}),n.push("")})),e.destinyPath.length>0&&(n.push("__ðŸŒŸ Destiny Path__"),e.destinyPath.forEach(r=>{n.push(`**${r.name}**`),r.effects&&n.push(`${r.effects}`),n.push("")})),e.tags.length>0&&(n.push(""),n.push(e.tags.map(r=>`#${r}`).join(" "))),n.join(`
`)}async function _Z(e){try{await navigator.clipboard.writeText(e)}catch{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch{throw new Error("Failed to copy to clipboard")}finally{document.body.removeChild(n)}}}function kZ({build:e,className:t}){const[n,a]=p.useState(!1),[r,s]=p.useState(null),[o,l]=p.useState(""),[c,u]=p.useState("names"),d=p.useCallback(async f=>{a(!0),s(null),l(""),u(f);try{const m=yZ(e),h=window.location.href,g=f==="full"?bZ(m,h):vZ(m,h);await _Z(g),s(f),setTimeout(()=>s(null),2e3)}catch(m){console.error("Discord export failed:",m),l(m instanceof Error?m.message:"Export failed"),setTimeout(()=>l(""),3e3)}finally{a(!1)}},[e]);return i.jsxs("div",{className:H("relative",t),children:[i.jsxs("div",{className:"flex rounded-md border border-input bg-background",children:[i.jsx(Z,{variant:n?"ghost":c==="names"?"default":"ghost",size:"sm",onClick:()=>d("names"),disabled:n,className:H("rounded-r-none border-r",c==="names"&&!n&&"bg-primary text-primary-foreground",r==="names"&&"bg-green-600 hover:bg-green-700 text-white",o&&"bg-red-600 hover:bg-red-700 text-white"),title:o||"Export build to Discord format (short form)","aria-label":"Export build to Discord format (short form)",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),i.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="names"?i.jsxs(i.Fragment,{children:[i.jsx(np,{className:"w-4 h-4"}),i.jsx("span",{className:"ml-2",children:"Copied!"})]}):o?i.jsxs(i.Fragment,{children:[i.jsx(lo,{className:"w-4 h-4"}),i.jsx("span",{className:"ml-2",children:"Error"})]}):i.jsxs(i.Fragment,{children:[i.jsx(JM,{className:"w-4 h-4"}),i.jsx("span",{className:"ml-2",children:"Export (short form)"})]})}),i.jsx(Z,{variant:n?"ghost":c==="full"?"default":"ghost",size:"sm",onClick:()=>d("full"),disabled:n,className:H("rounded-l-none",c==="full"&&!n&&"bg-primary text-primary-foreground",r==="full"&&"bg-green-600 hover:bg-green-700 text-white",o&&"bg-red-600 hover:bg-red-700 text-white"),title:o||"Export build to Discord format (long form)","aria-label":"Export build to Discord format (long form)",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),i.jsx("span",{className:"ml-2",children:"Exporting..."})]}):r==="full"?i.jsxs(i.Fragment,{children:[i.jsx(np,{className:"w-4 h-4"}),i.jsx("span",{className:"ml-2",children:"Copied!"})]}):o?i.jsxs(i.Fragment,{children:[i.jsx(lo,{className:"w-4 h-4"}),i.jsx("span",{className:"ml-2",children:"Error"})]}):i.jsxs(i.Fragment,{children:[i.jsx(LM,{className:"w-4 h-4"}),i.jsx("span",{className:"ml-2",children:"Export (long form)"})]})})]}),o&&i.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-red-100 border border-red-300 rounded text-xs text-red-800 max-w-xs z-50",role:"alert","aria-live":"polite",children:o})]})}function wZ({onReset:e,build:t,className:n}){return i.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${n||""}`,children:[i.jsxs(Z,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[i.jsx(co,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),i.jsx(kZ,{build:t})]})}function SZ({build:e,title:t="Build Summary",layout:n="grid",className:a}){const r=BO(e);return i.jsx(QO,{title:t,items:r,layout:n,className:a})}function EZ({open:e,title:t,message:n,variant:a="warning",confirmText:r,cancelText:s,onConfirm:o,onCancel:l,className:c}){return i.jsx(TO,{open:e,title:t,message:n,variant:a,confirmText:r,cancelText:s,onConfirm:o,onCancel:l,className:c})}function RZ({open:e,onConfirm:t,onCancel:n}){return i.jsx(EZ,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function NZ({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:a,currentRegularCount:r,currentBonusCount:s,className:o}){const l=e!==2||t!==1;return i.jsxs(MO,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:i.jsx(Yl,{className:"h-4 w-4 text-muted-foreground"}),className:o,children:[i.jsx(qv,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Fv,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:r,type:"regular"}),i.jsx(Fv,{label:"Late Game Traits Limit",value:t,onChange:a,min:0,max:5,currentCount:s,type:"bonus"})]}),l&&i.jsx(qv,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}function jZ(){const{build:e,updateBuild:t}=pt(),[n,a]=p.useState(e.traitLimits.regular),[r,s]=p.useState(e.traitLimits.bonus),o=p.useCallback(c=>{a(c),t({traitLimits:{...e.traitLimits,regular:c}})},[e.traitLimits,t]),l=p.useCallback(c=>{s(c),t({traitLimits:{...e.traitLimits,bonus:c}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:r,handleRegularLimitChange:o,handleBonusLimitChange:l,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}function AZ({displayData:e,level:t,className:n,showRatios:a=!0,compact:r=!1,selectedRace:s}){return r?i.jsxs("div",{className:H("space-y-3",n),children:[i.jsx(Xn,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),s&&i.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Base stats from ",s.name]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Health"}),i.jsx("div",{className:"font-medium text-lg",children:e.health.total}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.health.assigned]})]}),i.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Stamina"}),i.jsx("div",{className:"font-medium text-lg",children:e.stamina.total}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.stamina.assigned]})]}),i.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Magicka"}),i.jsx("div",{className:"font-medium text-lg",children:e.magicka.total}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.magicka.assigned]})]})]}),a&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Level ",t," â€¢ ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," assignments"]})]}):i.jsxs("div",{className:H("space-y-4",n),children:[i.jsx(Xn,{className:"text-lg font-medium text-foreground",children:"Attribute Assignments"}),s&&s.startingStats&&i.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[i.jsxs("p",{className:"font-medium mb-1",children:["Base Stats from ",s.name,":"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:"Health"}),i.jsx("div",{className:"text-muted-foreground",children:s.startingStats.health})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:"Stamina"}),i.jsx("div",{className:"text-muted-foreground",children:s.startingStats.stamina})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:"Magicka"}),i.jsx("div",{className:"text-muted-foreground",children:s.startingStats.magicka})]})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Nn,{value:e.health.total,maxValue:200,label:"Health",color:"red",size:"sm",showValue:!0}),i.jsx(Nn,{value:e.stamina.total,maxValue:200,label:"Stamina",color:"green",size:"sm",showValue:!0}),i.jsx(Nn,{value:e.magicka.total,maxValue:200,label:"Magicka",color:"blue",size:"sm",showValue:!0})]}),a&&i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[i.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[i.jsx("div",{className:"font-medium",children:"Health"}),i.jsxs("div",{className:"text-muted-foreground",children:[e.health.ratio.toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[i.jsx("div",{className:"font-medium",children:"Stamina"}),i.jsxs("div",{className:"text-muted-foreground",children:[e.stamina.ratio.toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[i.jsx("div",{className:"font-medium",children:"Magicka"}),i.jsxs("div",{className:"text-muted-foreground",children:[e.magicka.ratio.toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Level ",t," â€¢ ",e.health.assigned+e.stamina.assigned+e.magicka.assigned," assignments made"]})]})}function CZ({level:e,assignments:t,onAssignmentChange:n,onClearAssignment:a,onClearAll:r,onUpdateAttributeLevel:s,className:o}){const l=b=>Object.values(t).filter(x=>x===b).length,c=l("health"),u=l("stamina"),d=l("magicka"),f=c+u+d,m=f+1,h=(b,x)=>{const v=l(b),_=x-v;if(_>0)for(let w=0;w<_;w++){const S=Math.max(2,f+2+w);n(S,b)}else if(_<0){for(let w=0;w<Math.abs(_);w++)for(let S=e;S>=2;S--)if(t[S]===b){a(S);break}}const k=f+_;s(k+1)},g=b=>{h(b,l(b)+1)},y=b=>{const x=l(b);x>0&&h(b,x-1)};return i.jsxs("div",{className:H("space-y-4",o),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Xn,{className:"text-lg font-medium text-foreground",children:"Attribute Points"}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(Z,{variant:"outline",size:"sm",onClick:r,className:"text-xs",children:[i.jsx(co,{className:"h-3 w-3 mr-1"}),"Clear All"]})})]}),i.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border",children:[i.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:["Character Level: ",m," (derived from ",f," attribute points)"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"flex flex-col items-center p-3 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200 dark:border-red-800",children:[i.jsx("div",{className:"font-medium text-red-700 dark:text-red-300 mb-3",children:"Health"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>y("health"),disabled:c<=0,className:"h-8 w-8 p-0",children:i.jsx(Nl,{className:"h-4 w-4"})}),i.jsx(ka,{type:"number",value:c,onChange:b=>{const x=parseInt(b.target.value)||0;x>=0&&h("health",x)},className:"w-16 text-center text-lg font-bold text-red-700 dark:text-red-300 bg-white dark:bg-gray-800 border-red-300 dark:border-red-600 focus:border-red-500 focus:ring-red-500",min:0}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>g("health"),className:"h-8 w-8 p-0",children:i.jsx(Yi,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex flex-col items-center p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"font-medium text-green-700 dark:text-green-300 mb-3",children:"Stamina"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>y("stamina"),disabled:u<=0,className:"h-8 w-8 p-0",children:i.jsx(Nl,{className:"h-4 w-4"})}),i.jsx(ka,{type:"number",value:u,onChange:b=>{const x=parseInt(b.target.value)||0;x>=0&&h("stamina",x)},className:"w-16 text-center text-lg font-bold text-green-700 dark:text-green-300 bg-white dark:bg-gray-800 border-green-300 dark:border-green-600 focus:border-green-500 focus:ring-green-500",min:0}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>g("stamina"),className:"h-8 w-8 p-0",children:i.jsx(Yi,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex flex-col items-center p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300 mb-3",children:"Magicka"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>y("magicka"),disabled:d<=0,className:"h-8 w-8 p-0",children:i.jsx(Nl,{className:"h-4 w-4"})}),i.jsx(ka,{type:"number",value:d,onChange:b=>{const x=parseInt(b.target.value)||0;x>=0&&h("magicka",x)},className:"w-16 text-center text-lg font-bold text-blue-700 dark:text-blue-300 bg-white dark:bg-gray-800 border-blue-300 dark:border-blue-600 focus:border-blue-500 focus:ring-blue-500",min:0}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>g("magicka"),className:"h-8 w-8 p-0",children:i.jsx(Yi,{className:"h-4 w-4"})})]})]})]})]})]})}function MZ(){const{build:e,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:a,updateAttributeLevel:r}=Qr(),{data:s}=os(),o=e.attributeAssignments,l=p.useMemo(()=>!e.race||s.length===0?null:s.find(g=>g.edid===e.race)||null,[e.race,s]),c=p.useMemo(()=>l!=null&&l.startingStats?{health:l.startingStats.health,stamina:l.startingStats.stamina,magicka:l.startingStats.magicka}:{health:100,stamina:100,magicka:100},[l]),u=p.useMemo(()=>{const g=o.level||1;return o.health+o.stamina+o.magicka,{health:{base:c.health,assigned:o.health,total:c.health+o.health,ratio:g>0?o.health/g*100:0},stamina:{base:c.stamina,assigned:o.stamina,total:c.stamina+o.stamina,ratio:g>0?o.stamina/g*100:0},magicka:{base:c.magicka,assigned:o.magicka,total:c.magicka+o.magicka,ratio:g>0?o.magicka/g*100:0}}},[o,c]),d=g=>g>0&&g<=o.level,f=g=>o.assignments[g]||null,m=()=>o.health+o.stamina+o.magicka,h=()=>{const g=Object.keys(o.assignments).map(Number),y=[];for(let b=2;b<=o.level;b++)g.includes(b)||y.push(b);return y};return{assignments:o,displayData:u,level:o.level,selectedRace:l,baseStats:c,setAttributeAssignment:t,clearAttributeAssignment:n,clearAllAttributeAssignments:a,updateAttributeLevel:r,canAssignAtLevel:d,getAssignmentAtLevel:f,getTotalAssignments:m,getUnassignedLevels:h}}function TZ({className:e,showControls:t=!0,showSummary:n=!0,compact:a=!1}){const[r,s]=p.useState(!0),{assignments:o,displayData:l,level:c,selectedRace:u,setAttributeAssignment:d,clearAttributeAssignment:f,clearAllAttributeAssignments:m,updateAttributeLevel:h}=MZ(),g=(x,v)=>{d(x,v)},y=x=>{f(x)},b=()=>{m()};return i.jsxs(He,{className:H("w-full",e),children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(st,{className:"flex items-center gap-2",children:[i.jsx(t0,{className:"h-5 w-5"}),"Attribute Assignments"]}),t&&i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>s(!r),children:r?i.jsx(vM,{className:"h-4 w-4"}):i.jsx(In,{className:"h-4 w-4"})})]})}),i.jsxs(Fe,{className:"space-y-4",children:[n&&i.jsx(AZ,{displayData:l,level:c,compact:a,selectedRace:u}),t&&r&&i.jsx(CZ,{level:c,assignments:o.assignments,onAssignmentChange:g,onClearAssignment:y,onClearAll:b,onUpdateAttributeLevel:h})]})]})}function DZ(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:a}=pt(),[r,s]=p.useState(!1),o=jZ(),l=wt();return i.jsxs(br,{title:"Character Builder",children:[i.jsx(wZ,{onReset:()=>s(!0),build:e}),i.jsx(RZ,{open:r,onConfirm:()=>{a(),s(!1)},onCancel:()=>s(!1)}),i.jsxs(Cc,{defaultValue:"build",className:"w-full",children:[i.jsxs(Mc,{className:"mb-4",children:[i.jsx(Zn,{value:"build",children:"Build"}),i.jsx(Zn,{value:"config",children:"Config"})]}),i.jsxs(ya,{value:"build",children:[i.jsx(oZ,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[i.jsx(u7,{}),i.jsx(M8,{}),i.jsx(iZ,{}),i.jsx(sZ,{})]}),i.jsx("div",{className:"mb-6",children:i.jsx(TZ,{})}),i.jsx("div",{className:"mb-6",children:i.jsx(CU,{})}),i.jsx(e7,{navigate:l}),i.jsx(SZ,{build:e})]}),i.jsx(ya,{value:"config",children:i.jsx(NZ,{regularLimit:o.regularLimit,bonusLimit:o.bonusLimit,onRegularLimitChange:o.handleRegularLimitChange,onBonusLimitChange:o.handleBonusLimitChange,currentRegularCount:o.currentRegularCount,currentBonusCount:o.currentBonusCount})})]})]})}function LZ(){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(ti,{children:"Crafting"}),i.jsx(Wl,{children:"Plan your crafting recipes and material requirements"})]}),i.jsxs(He,{children:[i.jsxs(Ke,{children:[i.jsx(st,{children:"Coming Soon"}),i.jsx(Dn,{children:"Crafting system is under development"})]}),i.jsx(Fe,{children:i.jsx(Wl,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function PZ(){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(ti,{children:"Equipment"}),i.jsx(Wl,{children:"Browse and compare weapons, armor, and items"})]}),i.jsxs(He,{children:[i.jsxs(Ke,{children:[i.jsx(st,{children:"Coming Soon"}),i.jsx(Dn,{children:"Equipment database is under development"})]}),i.jsx(Fe,{children:i.jsx(Wl,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const zZ=()=>{const{build:e,getSummary:t}=pt(),n=wt(),a=t();return!e.name&&!e.race?i.jsxs(He,{className:"border-dashed border-2 border-muted",children:[i.jsxs(Ke,{children:[i.jsx(st,{className:"text-lg",children:"No Character Build"}),i.jsx(Dn,{children:"Start building your character to see it here"})]}),i.jsx(Fe,{children:i.jsx(Z,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):i.jsxs(He,{children:[i.jsxs(Ke,{children:[i.jsxs(st,{className:"text-lg flex items-center justify-between",children:[i.jsx("span",{children:a.name}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),i.jsx(Dn,{children:"Current character build status"})]}),i.jsxs(Fe,{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Race:"}),i.jsx(X,{variant:"secondary",className:"ml-2",children:a.race})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),i.jsx(X,{variant:"secondary",className:"ml-2",children:a.stone})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),i.jsx(X,{variant:"secondary",className:"ml-2",children:a.religion})]})]}),i.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{children:[a.traitCount," traits"]}),i.jsx("span",{children:"â€¢"}),i.jsxs("span",{children:[a.majorSkillCount," major skills"]}),i.jsx("span",{children:"â€¢"}),i.jsxs("span",{children:[a.minorSkillCount," minor skills"]}),i.jsx("span",{children:"â€¢"}),i.jsxs("span",{children:[a.equipmentCount," equipment"]})]})]})]})};function OZ(){return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx(ti,{children:"Welcome to Lorerim Arcaneum"}),i.jsx($w,{children:"Your theorycrafting playground and reference hub for Lorerim players."})]}),i.jsx("div",{className:"max-w-md",children:i.jsx(zZ,{})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(He,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(Ke,{children:[i.jsxs(st,{className:"flex items-center gap-2",children:[i.jsx(jl,{className:"h-5 w-5"}),"Player Creation"]}),i.jsx(Dn,{children:"Design your character with races, traits, and birthsigns"})]}),i.jsx(Fe,{children:i.jsx(Z,{asChild:!0,variant:"outline",className:"w-full",children:i.jsx("a",{href:"#/player-creation",children:"Get Started"})})})]}),i.jsxs(He,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(Ke,{children:[i.jsxs(st,{className:"flex items-center gap-2",children:[i.jsx(Ir,{className:"h-5 w-5"}),"Equipment"]}),i.jsx(Dn,{children:"Browse and compare weapons, armor, and items"})]}),i.jsx(Fe,{children:i.jsx(Z,{asChild:!0,variant:"outline",className:"w-full",children:i.jsx("a",{href:"#/equipment",children:"Browse Items"})})})]}),i.jsxs(He,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(Ke,{children:[i.jsxs(st,{className:"flex items-center gap-2",children:[i.jsx(BM,{className:"h-5 w-5"}),"Crafting"]}),i.jsx(Dn,{children:"Plan your crafting recipes and material requirements"})]}),i.jsx(Fe,{children:i.jsx(Z,{asChild:!0,variant:"outline",className:"w-full",children:i.jsx("a",{href:"#/crafting",children:"Start Crafting"})})})]}),i.jsxs(He,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(Ke,{children:[i.jsxs(st,{className:"flex items-center gap-2",children:[i.jsx(d1,{className:"h-5 w-5"}),"Skills"]}),i.jsx(Dn,{children:"Explore skill trees and perk combinations"})]}),i.jsx(Fe,{children:i.jsx(Z,{asChild:!0,variant:"outline",className:"w-full",children:i.jsx("a",{href:"#/skills",children:"View Skills"})})})]})]})]})}function IZ(){const e=wt();return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[i.jsx(ti,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),i.jsx(Qe,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),i.jsx(Z,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const QZ=()=>i.jsxs(z3,{children:[i.jsx(Et,{path:"/",element:i.jsx(OZ,{})}),i.jsxs(Et,{path:"/build",element:i.jsx(hP,{}),children:[i.jsx(Et,{index:!0,element:i.jsx(DZ,{})}),i.jsx(Et,{path:"race",element:i.jsx(YE,{})}),i.jsx(Et,{path:"birth-signs",element:i.jsx(I8,{})}),i.jsx(Et,{path:"traits",element:i.jsx(JW,{})}),i.jsx(Et,{path:"religions",element:i.jsx(S7,{})}),i.jsx(Et,{path:"destiny",element:i.jsx(n7,{})}),i.jsx(Et,{path:"perks",element:i.jsx(c_,{})})]}),i.jsx(Et,{path:"/spells",element:i.jsx(GW,{})}),i.jsx(Et,{path:"/search",element:i.jsx(cU,{})}),i.jsx(Et,{path:"/races-mva-demo",element:i.jsx(b7,{})}),i.jsx(Et,{path:"/skills-mva",element:i.jsx(c_,{})}),i.jsx(Et,{path:"/skills-experimental",element:i.jsx($W,{})}),i.jsx(Et,{path:"/equipment",element:i.jsx(PZ,{})}),i.jsx(Et,{path:"/crafting",element:i.jsx(LZ,{})}),i.jsx(Et,{path:"*",element:i.jsx(IZ,{})})]}),Cj=p.createContext(void 0);function BZ({children:e}){const[t,n]=p.useState("system"),[a,r]=p.useState("dark");return p.useEffect(()=>{const s=localStorage.getItem("theme");s&&["light","dark","system"].includes(s)&&n(s)},[]),p.useEffect(()=>{localStorage.setItem("theme",t);let s;t==="system"?s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":s=t,r(s);const o=document.documentElement;s==="dark"?o.classList.add("dark"):o.classList.remove("dark")},[t]),p.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>{if(t==="system"){const l=s.matches?"dark":"light";r(l);const c=document.documentElement;l==="dark"?c.classList.add("dark"):c.classList.remove("dark")}};return s.addEventListener("change",o),()=>s.removeEventListener("change",o)},[t]),i.jsx(Cj.Provider,{value:{theme:t,setTheme:n,resolvedTheme:a},children:e})}function $Z(){const e=p.useContext(Cj);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function HZ(){const{theme:e,setTheme:t}=$Z(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},a=()=>{switch(e){case"light":return i.jsx(Xy,{className:"h-4 w-4"});case"dark":return i.jsx(sT,{className:"h-4 w-4"});case"system":return i.jsx(aT,{className:"h-4 w-4"});default:return i.jsx(Xy,{className:"h-4 w-4"})}};return i.jsxs(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[a(),i.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function FZ({sidebarCollapsed:e,onToggleSidebar:t}){return i.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:_t.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[i.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:i.jsx(XM,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),i.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),i.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),i.jsx("div",{className:"flex-1 max-w-md mx-4",children:i.jsx(iU,{placeholder:"Search skills, races, traits...",className:"w-full"})}),i.jsx("div",{className:"ml-auto",children:i.jsx(HZ,{})})]})}const qZ=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"}]},{label:"Docs",items:[{to:"/spells",label:"Spells"}]}];function UZ({collapsed:e}){const t=wt(),n=window.location.hash.replace(/^#\/?/,"/"),a=r=>{const s=window.location.hash,[o,l]=s.split("?"),u=new URLSearchParams(l||"").get("b");t(u?`${r}?b=${u}`:r)};return i.jsxs(Dw,{collapsed:e,children:[i.jsx(zw,{children:!e&&i.jsxs("button",{onClick:()=>a("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[i.jsx(qM,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),i.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),i.jsx(Lw,{children:qZ.map(r=>i.jsxs(Pw,{children:[!e&&i.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:r.label}),i.jsx(Ow,{children:r.items.map(s=>{const o=n===s.to;return i.jsx(Qw,{children:i.jsx(Iw,{asChild:!0,isActive:o,onClick:()=>a(s.to),tabIndex:0,children:i.jsx("span",{className:"w-full text-left truncate",children:s.label})})},s.to)})})]},r.label))}),!e&&i.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[i.jsx(Qe,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),i.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:"âš™ï¸ Settings"})]}),i.jsx(Bw,{})]})}function YZ(){const[e,t]=p.useState(!1);return HL(),i.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[i.jsx(FZ,{sidebarCollapsed:e,onToggleSidebar:()=>t(n=>!n)}),i.jsxs("div",{className:"flex flex-1",children:[i.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0":"w-64"}`,style:{zIndex:_t.SIDEBAR},children:i.jsx(UZ,{collapsed:e})}),i.jsx("main",{className:"flex-1  transition-all duration-300 ease-in-out",children:i.jsx(QZ,{})})]}),i.jsx($L,{})]})}function VZ(){return i.jsx(o4,{children:i.jsx(YZ,{})})}function GZ({children:e,showLoadingIndicator:t=!1}){const[n,a]=p.useState(!0),[r,s]=p.useState(null),o=p.useRef(!1),l=Fo(b=>b.load),c=qo(b=>b.load),u=Uo(b=>b.load),d=os(b=>b.load),f=Yo(b=>b.load),m=si(b=>b.load),h=Mi(b=>b.load),g=Vo(b=>b.load),y=p.useCallback(async()=>{if(!o.current)try{a(!0),s(null),await Promise.all([l(),c(),u(),d(),f(),m(),h(),g()]),o.current=!0,a(!1)}catch(b){console.error("Failed to initialize data:",b),s(b instanceof Error?b.message:"Failed to initialize data"),a(!1)}},[l,c,u,d,f,m,h,g]);return p.useEffect(()=>{y()},[y]),n&&t?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading data..."})]})}):r?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-red-600 mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Failed to Load Data"}),i.jsx("p",{className:"text-sm",children:r})]}),i.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):i.jsx(i.Fragment,{children:e})}var Mj={exports:{}},gm={},Tj={exports:{}},Dj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,M){var L=C.length;C.push(M);e:for(;0<L;){var P=L-1>>>1,Q=C[P];if(0<r(Q,M))C[P]=M,C[L]=Q,L=P;else break e}}function n(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var M=C[0],L=C.pop();if(L!==M){C[0]=L;e:for(var P=0,Q=C.length,F=Q>>>1;P<F;){var B=2*(P+1)-1,U=C[B],V=B+1,J=C[V];if(0>r(U,L))V<Q&&0>r(J,U)?(C[P]=J,C[V]=L,P=V):(C[P]=U,C[B]=L,P=B);else if(V<Q&&0>r(J,L))C[P]=J,C[V]=L,P=V;else break e}}return M}function r(C,M){var L=C.sortIndex-M.sortIndex;return L!==0?L:C.id-M.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,g=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function k(C){for(var M=n(u);M!==null;){if(M.callback===null)a(u);else if(M.startTime<=C)a(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(u)}}function w(C){if(y=!1,k(C),!g)if(n(c)!==null)g=!0,S||(S=!0,I());else{var M=n(u);M!==null&&T(w,M.startTime-C)}}var S=!1,E=-1,R=5,N=-1;function j(){return b?!0:!(e.unstable_now()-N<R)}function O(){if(b=!1,S){var C=e.unstable_now();N=C;var M=!0;try{e:{g=!1,y&&(y=!1,v(E),E=-1),h=!0;var L=m;try{t:{for(k(C),f=n(c);f!==null&&!(f.expirationTime>C&&j());){var P=f.callback;if(typeof P=="function"){f.callback=null,m=f.priorityLevel;var Q=P(f.expirationTime<=C);if(C=e.unstable_now(),typeof Q=="function"){f.callback=Q,k(C),M=!0;break t}f===n(c)&&a(c),k(C)}else a(c);f=n(c)}if(f!==null)M=!0;else{var F=n(u);F!==null&&T(w,F.startTime-C),M=!1}}break e}finally{f=null,m=L,h=!1}M=void 0}}finally{M?I():S=!1}}}var I;if(typeof _=="function")I=function(){_(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,A=D.port2;D.port1.onmessage=O,I=function(){A.postMessage(null)}}else I=function(){x(O,0)};function T(C,M){E=x(function(){C(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var L=m;m=M;try{return C()}finally{m=L}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(C,M){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=m;m=C;try{return M()}finally{m=L}},e.unstable_scheduleCallback=function(C,M,L){var P=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?P+L:P):L=P,C){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=L+Q,C={id:d++,callback:M,priorityLevel:C,startTime:L,expirationTime:Q,sortIndex:-1},L>P?(C.sortIndex=L,t(u,C),n(c)===null&&C===n(u)&&(y?(v(E),E=-1):y=!0,T(w,L-P))):(C.sortIndex=Q,t(c,C),g||h||(g=!0,S||(S=!0,I()))),C},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(C){var M=m;return function(){var L=m;m=M;try{return C.apply(this,arguments)}finally{m=L}}}})(Dj);Tj.exports=Dj;var WZ=Tj.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=WZ,Lj=p,ZZ=Af;function Y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L_(e){if(Fc(e)!==e)throw Error(Y(188))}function XZ(e){var t=e.alternate;if(!t){if(t=Fc(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return L_(r),e;if(s===a)return L_(r),t;s=s.sibling}throw Error(Y(188))}if(n.return!==a.return)n=r,a=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,a=s;break}if(l===a){o=!0,a=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,a=r;break}if(l===a){o=!0,a=s,n=r;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==a)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function Oj(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Oj(e),t!==null)return t;e=e.sibling}return null}var Ue=Object.assign,KZ=Symbol.for("react.element"),Lu=Symbol.for("react.transitional.element"),wl=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),Ij=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),JZ=Symbol.for("react.provider"),Qj=Symbol.for("react.consumer"),Ka=Symbol.for("react.context"),Yx=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),Vx=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),ng=Symbol.for("react.activity"),eX=Symbol.for("react.memo_cache_sentinel"),P_=Symbol.iterator;function dl(e){return e===null||typeof e!="object"?null:(e=P_&&e[P_]||e["@@iterator"],typeof e=="function"?e:null)}var tX=Symbol.for("react.client.reference");function ag(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tX?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case Jp:return"Profiler";case Ij:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList";case ng:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case wl:return"Portal";case Ka:return(e.displayName||"Context")+".Provider";case Qj:return(e._context.displayName||"Context")+".Consumer";case Yx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vx:return t=e.displayName||null,t!==null?t:ag(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return ag(e(t))}catch{}}return null}var Sl=Array.isArray,pe=Lj.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me=ZZ.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ts={pending:!1,data:null,method:null,action:null},rg=[],Pi=-1;function Pa(e){return{current:e}}function At(e){0>Pi||(e.current=rg[Pi],rg[Pi]=null,Pi--)}function Ge(e,t){Pi++,rg[Pi]=e.current,e.current=t}var Ea=Pa(null),uc=Pa(null),Xr=Pa(null),Ud=Pa(null);function Yd(e,t){switch(Ge(Xr,t),Ge(uc,e),Ge(Ea,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bk(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bk(t),e=n5(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}At(Ea),Ge(Ea,e)}function ko(){At(Ea),At(uc),At(Xr)}function sg(e){e.memoizedState!==null&&Ge(Ud,e);var t=Ea.current,n=n5(t,e.type);t!==n&&(Ge(uc,e),Ge(Ea,n))}function Vd(e){uc.current===e&&(At(Ea),At(uc)),Ud.current===e&&(At(Ud),bc._currentValue=Ts)}var ig=Object.prototype.hasOwnProperty,Gx=kt.unstable_scheduleCallback,kh=kt.unstable_cancelCallback,nX=kt.unstable_shouldYield,aX=kt.unstable_requestPaint,Ra=kt.unstable_now,rX=kt.unstable_getCurrentPriorityLevel,Bj=kt.unstable_ImmediatePriority,$j=kt.unstable_UserBlockingPriority,Gd=kt.unstable_NormalPriority,sX=kt.unstable_LowPriority,Hj=kt.unstable_IdlePriority,iX=kt.log,oX=kt.unstable_setDisableYieldValue,qc=null,xn=null;function Ur(e){if(typeof iX=="function"&&oX(e),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(qc,e)}catch{}}var yn=Math.clz32?Math.clz32:uX,lX=Math.log,cX=Math.LN2;function uX(e){return e>>>=0,e===0?32:31-(lX(e)/cX|0)|0}var Pu=256,zu=4194304;function _s(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xm(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~s,a!==0?r=_s(a):(o&=l,o!==0?r=_s(o):n||(n=l&~e,n!==0&&(r=_s(n))))):(l=a&~s,l!==0?r=_s(l):o!==0?r=_s(o):n||(n=a&~e,n!==0&&(r=_s(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Uc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function dX(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fj(){var e=Pu;return Pu<<=1,!(Pu&4194048)&&(Pu=256),e}function qj(){var e=zu;return zu<<=1,!(zu&62914560)&&(zu=4194304),e}function wh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fX(e,t,n,a,r,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var d=31-yn(n),f=1<<d;l[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}n&=~f}a!==0&&Uj(e,a,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(o&~t))}function Uj(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-yn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Yj(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-yn(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Wx(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zx(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Vj(){var e=Me.p;return e!==0?e:(e=window.event,e===void 0?32:f5(e.type))}function mX(e,t){var n=Me.p;try{return Me.p=e,t()}finally{Me.p=n}}var ms=Math.random().toString(36).slice(2),It="__reactFiber$"+ms,an="__reactProps$"+ms,Wo="__reactContainer$"+ms,og="__reactEvents$"+ms,hX="__reactListeners$"+ms,pX="__reactHandles$"+ms,z_="__reactResources$"+ms,Vc="__reactMarker$"+ms;function Xx(e){delete e[It],delete e[an],delete e[og],delete e[hX],delete e[pX]}function zi(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wo]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fk(e);e!==null;){if(n=e[It])return n;e=Fk(e)}return t}e=n,n=e.parentNode}return null}function Zo(e){if(e=e[It]||e[Wo]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function El(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Y(33))}function eo(e){var t=e[z_];return t||(t=e[z_]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[Vc]=!0}var Gj=new Set,Wj={};function ui(e,t){wo(e,t),wo(e+"Capture",t)}function wo(e,t){for(Wj[e]=t,e=0;e<t.length;e++)Gj.add(t[e])}var gX=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),O_={},I_={};function xX(e){return ig.call(I_,e)?!0:ig.call(O_,e)?!1:gX.test(e)?I_[e]=!0:(O_[e]=!0,!1)}function ad(e,t,n){if(xX(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ou(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ua(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Sh,Q_;function Ni(e){if(Sh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sh=t&&t[1]||"",Q_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sh+e+Q_}var Eh=!1;function Rh(e,t){if(!e||Eh)return"";Eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),o=s[0],l=s[1];if(o&&l){var c=o.split(`
`),u=l.split(`
`);for(r=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(a===c.length||r===u.length)for(a=c.length-1,r=u.length-1;1<=a&&0<=r&&c[a]!==u[r];)r--;for(;1<=a&&0<=r;a--,r--)if(c[a]!==u[r]){if(a!==1||r!==1)do if(a--,r--,0>r||c[a]!==u[r]){var d=`
`+c[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=r);break}}}finally{Eh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ni(n):""}function yX(e){switch(e.tag){case 26:case 27:case 5:return Ni(e.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return Rh(e.type,!1);case 11:return Rh(e.type.render,!1);case 1:return Rh(e.type,!0);case 31:return Ni("Activity");default:return""}}function B_(e){try{var t="";do t+=yX(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function jn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vX(e){var t=Zj(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){a=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wd(e){e._valueTracker||(e._valueTracker=vX(e))}function Xj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Zj(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Zd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bX=/[\n"\\]/g;function Mn(e){return e.replace(bX,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lg(e,t,n,a,r,s,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jn(t)):e.value!==""+jn(t)&&(e.value=""+jn(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?cg(e,o,jn(t)):n!=null?cg(e,o,jn(n)):a!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+jn(l):e.removeAttribute("name")}function Kj(e,t,n,a,r,s,o,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+jn(n):"",t=t!=null?""+jn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function cg(e,t,n){t==="number"&&Zd(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function to(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Jj(e,t,n){if(t!=null&&(t=""+jn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+jn(n):""}function eA(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(Y(92));if(Sl(a)){if(1<a.length)throw Error(Y(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=jn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function So(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _X=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $_(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||_X.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function tA(e,t,n){if(t!=null&&typeof t!="object")throw Error(Y(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&$_(e,r,a)}else for(var s in t)t.hasOwnProperty(s)&&$_(e,s,t[s])}function Kx(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kX=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wX=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rd(e){return wX.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ug=null;function Jx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oi=null,no=null;function H_(e){var t=Zo(e);if(t&&(e=t.stateNode)){var n=e[an]||null;e:switch(e=t.stateNode,t.type){case"input":if(lg(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[an]||null;if(!r)throw Error(Y(90));lg(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Xj(a)}break e;case"textarea":Jj(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&to(e,!!n.multiple,t,!1)}}}var Nh=!1;function nA(e,t,n){if(Nh)return e(t,n);Nh=!0;try{var a=e(t);return a}finally{if(Nh=!1,(Oi!==null||no!==null)&&(Nm(),Oi&&(t=Oi,e=no,no=Oi=null,H_(t),e)))for(t=0;t<e.length;t++)H_(e[t])}}function dc(e,t){var n=e.stateNode;if(n===null)return null;var a=n[an]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dg=!1;if(hr)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){dg=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{dg=!1}var Yr=null,ey=null,sd=null;function aA(){if(sd)return sd;var e,t=ey,n=t.length,a,r="value"in Yr?Yr.value:Yr.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(a=1;a<=o&&t[n-a]===r[s-a];a++);return sd=r.slice(e,1<a?1-a:void 0)}function id(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Iu(){return!0}function F_(){return!1}function ln(e){function t(n,a,r,s,o){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Iu:F_,this.isPropagationStopped=F_,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),t}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ym=ln(di),Gc=Ue({},di,{view:0,detail:0}),SX=ln(Gc),jh,Ah,ml,vm=Ue({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ty,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(jh=e.screenX-ml.screenX,Ah=e.screenY-ml.screenY):Ah=jh=0,ml=e),jh)},movementY:function(e){return"movementY"in e?e.movementY:Ah}}),q_=ln(vm),EX=Ue({},vm,{dataTransfer:0}),RX=ln(EX),NX=Ue({},Gc,{relatedTarget:0}),Ch=ln(NX),jX=Ue({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),AX=ln(jX),CX=Ue({},di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MX=ln(CX),TX=Ue({},di,{data:0}),U_=ln(TX),DX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PX[e])?!!t[e]:!1}function ty(){return zX}var OX=Ue({},Gc,{key:function(e){if(e.key){var t=DX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=id(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ty,charCode:function(e){return e.type==="keypress"?id(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?id(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IX=ln(OX),QX=Ue({},vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y_=ln(QX),BX=Ue({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ty}),$X=ln(BX),HX=Ue({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),FX=ln(HX),qX=Ue({},vm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UX=ln(qX),YX=Ue({},di,{newState:0,oldState:0}),VX=ln(YX),GX=[9,13,27,32],ny=hr&&"CompositionEvent"in window,Ml=null;hr&&"documentMode"in document&&(Ml=document.documentMode);var WX=hr&&"TextEvent"in window&&!Ml,rA=hr&&(!ny||Ml&&8<Ml&&11>=Ml),V_=" ",G_=!1;function sA(e,t){switch(e){case"keyup":return GX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function ZX(e,t){switch(e){case"compositionend":return iA(t);case"keypress":return t.which!==32?null:(G_=!0,V_);case"textInput":return e=t.data,e===V_&&G_?null:e;default:return null}}function XX(e,t){if(Ii)return e==="compositionend"||!ny&&sA(e,t)?(e=aA(),sd=ey=Yr=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rA&&t.locale!=="ko"?null:t.data;default:return null}}var KX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KX[e.type]:t==="textarea"}function oA(e,t,n,a){Oi?no?no.push(a):no=[a]:Oi=a,t=pf(t,"onChange"),0<t.length&&(n=new ym("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Tl=null,fc=null;function JX(e){JC(e,0)}function bm(e){var t=El(e);if(Xj(t))return e}function Z_(e,t){if(e==="change")return t}var lA=!1;if(hr){var Mh;if(hr){var Th="oninput"in document;if(!Th){var X_=document.createElement("div");X_.setAttribute("oninput","return;"),Th=typeof X_.oninput=="function"}Mh=Th}else Mh=!1;lA=Mh&&(!document.documentMode||9<document.documentMode)}function K_(){Tl&&(Tl.detachEvent("onpropertychange",cA),fc=Tl=null)}function cA(e){if(e.propertyName==="value"&&bm(fc)){var t=[];oA(t,fc,e,Jx(e)),nA(JX,t)}}function eK(e,t,n){e==="focusin"?(K_(),Tl=t,fc=n,Tl.attachEvent("onpropertychange",cA)):e==="focusout"&&K_()}function tK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bm(fc)}function nK(e,t){if(e==="click")return bm(t)}function aK(e,t){if(e==="input"||e==="change")return bm(t)}function rK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:rK;function mc(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!ig.call(t,r)||!kn(e[r],t[r]))return!1}return!0}function J_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ek(e,t){var n=J_(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J_(n)}}function uA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dA(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zd(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zd(e.document)}return t}function ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var sK=hr&&"documentMode"in document&&11>=document.documentMode,Qi=null,fg=null,Dl=null,mg=!1;function tk(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mg||Qi==null||Qi!==Zd(a)||(a=Qi,"selectionStart"in a&&ay(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Dl&&mc(Dl,a)||(Dl=a,a=pf(fg,"onSelect"),0<a.length&&(t=new ym("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Qi)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bi={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Dh={},fA={};hr&&(fA=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function fi(e){if(Dh[e])return Dh[e];if(!Bi[e])return e;var t=Bi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fA)return Dh[e]=t[n];return e}var mA=fi("animationend"),hA=fi("animationiteration"),pA=fi("animationstart"),iK=fi("transitionrun"),oK=fi("transitionstart"),lK=fi("transitioncancel"),gA=fi("transitionend"),xA=new Map,hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hg.push("scrollEnd");function ia(e,t){xA.set(e,t),ui(t,[e])}var nk=new WeakMap;function Tn(e,t){if(typeof e=="object"&&e!==null){var n=nk.get(e);return n!==void 0?n:(t={value:e,source:t,stack:B_(t)},nk.set(e,t),t)}return{value:e,source:t,stack:B_(t)}}var Rn=[],$i=0,ry=0;function _m(){for(var e=$i,t=ry=$i=0;t<e;){var n=Rn[t];Rn[t++]=null;var a=Rn[t];Rn[t++]=null;var r=Rn[t];Rn[t++]=null;var s=Rn[t];if(Rn[t++]=null,a!==null&&r!==null){var o=a.pending;o===null?r.next=r:(r.next=o.next,o.next=r),a.pending=r}s!==0&&yA(n,r,s)}}function km(e,t,n,a){Rn[$i++]=e,Rn[$i++]=t,Rn[$i++]=n,Rn[$i++]=a,ry|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function sy(e,t,n,a){return km(e,t,n,a),Xd(e)}function Xo(e,t){return km(e,null,null,t),Xd(e)}function yA(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-yn(n),e=s.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=n|536870912),s):null}function Xd(e){if(50<Fl)throw Fl=0,Pg=null,Error(Y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Hi={};function cK(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,n,a){return new cK(e,t,n,a)}function iy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ir(e,t){var n=e.alternate;return n===null?(n=pn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function vA(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function od(e,t,n,a,r,s){var o=0;if(a=e,typeof e=="function")iy(e)&&(o=1);else if(typeof e=="string")o=dJ(e,n,Ea.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ng:return e=pn(31,n,t,r),e.elementType=ng,e.lanes=s,e;case Li:return Ds(n.children,r,s,t);case Ij:o=8,r|=24;break;case Jp:return e=pn(12,n,t,r|2),e.elementType=Jp,e.lanes=s,e;case eg:return e=pn(13,n,t,r),e.elementType=eg,e.lanes=s,e;case tg:return e=pn(19,n,t,r),e.elementType=tg,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JZ:case Ka:o=10;break e;case Qj:o=9;break e;case Yx:o=11;break e;case Vx:o=14;break e;case zr:o=16,a=null;break e}o=29,n=Error(Y(130,e===null?"null":typeof e,"")),a=null}return t=pn(o,n,t,r),t.elementType=e,t.type=a,t.lanes=s,t}function Ds(e,t,n,a){return e=pn(7,e,a,t),e.lanes=n,e}function Lh(e,t,n){return e=pn(6,e,null,t),e.lanes=n,e}function Ph(e,t,n){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fi=[],qi=0,Kd=null,Jd=0,An=[],Cn=0,Ls=null,Ja=1,er="";function ks(e,t){Fi[qi++]=Jd,Fi[qi++]=Kd,Kd=e,Jd=t}function bA(e,t,n){An[Cn++]=Ja,An[Cn++]=er,An[Cn++]=Ls,Ls=e;var a=Ja;e=er;var r=32-yn(a)-1;a&=~(1<<r),n+=1;var s=32-yn(t)+r;if(30<s){var o=r-r%5;s=(a&(1<<o)-1).toString(32),a>>=o,r-=o,Ja=1<<32-yn(t)+r|n<<r|a,er=s+e}else Ja=1<<s|n<<r|a,er=e}function oy(e){e.return!==null&&(ks(e,1),bA(e,1,0))}function ly(e){for(;e===Kd;)Kd=Fi[--qi],Fi[qi]=null,Jd=Fi[--qi],Fi[qi]=null;for(;e===Ls;)Ls=An[--Cn],An[Cn]=null,er=An[--Cn],An[Cn]=null,Ja=An[--Cn],An[Cn]=null}var Ht=null,at=null,Ce=!1,Ps=null,xa=!1,pg=Error(Y(519));function Gs(e){var t=Error(Y(418,""));throw hc(Tn(t,e)),pg}function ak(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[It]=e,t[an]=a,n){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(n=0;n<xc.length;n++)Se(xc[n],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Kj(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Wd(t);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),eA(t,a.value,a.defaultValue,a.children),Wd(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||t5(t.textContent,n)?(a.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),a.onScroll!=null&&Se("scroll",t),a.onScrollEnd!=null&&Se("scrollend",t),a.onClick!=null&&(t.onclick=Cm),t=!0):t=!1,t||Gs(e)}function rk(e){for(Ht=e.return;Ht;)switch(Ht.tag){case 5:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:Ht=Ht.return}}function hl(e){if(e!==Ht)return!1;if(!Ce)return rk(e),Ce=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||$g(e.type,e.memoizedProps)),n=!n),n&&at&&Gs(e),rk(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){at=Jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}at=null}}else t===27?(t=at,hs(e.type)?(e=qg,qg=null,at=e):at=t):at=Ht?Jn(e.stateNode.nextSibling):null;return!0}function Wc(){at=Ht=null,Ce=!1}function sk(){var e=Ps;return e!==null&&(Jt===null?Jt=e:Jt.push.apply(Jt,e),Ps=null),e}function hc(e){Ps===null?Ps=[e]:Ps.push(e)}var gg=Pa(null),mi=null,tr=null;function $r(e,t,n){Ge(gg,t._currentValue),t._currentValue=n}function or(e){e._currentValue=gg.current,At(gg)}function xg(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function yg(e,t,n,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var o=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xg(s.return,n,e),a||(o=null);break e}s=l.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(Y(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),xg(o,n,e),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function Zc(e,t,n,a){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(Y(387));if(o=o.memoizedProps,o!==null){var l=r.type;kn(r.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(r===Ud.current){if(o=r.alternate,o===null)throw Error(Y(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(bc):e=[bc])}r=r.return}e!==null&&yg(t,e,n,a),t.flags|=262144}function ef(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ws(e){mi=e,tr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return _A(mi,e)}function Qu(e,t){return mi===null&&Ws(e),_A(e,t)}function _A(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tr===null){if(e===null)throw Error(Y(308));tr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tr=tr.next=t;return n}var uK=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},dK=kt.unstable_scheduleCallback,fK=kt.unstable_NormalPriority,vt={$$typeof:Ka,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cy(){return{controller:new uK,data:new Map,refCount:0}}function Xc(e){e.refCount--,e.refCount===0&&dK(fK,function(){e.controller.abort()})}var Ll=null,vg=0,Eo=0,ao=null;function mK(e,t){if(Ll===null){var n=Ll=[];vg=0,Eo=Ty(),ao={status:"pending",value:void 0,then:function(a){n.push(a)}}}return vg++,t.then(ik,ik),t}function ik(){if(--vg===0&&Ll!==null){ao!==null&&(ao.status="fulfilled");var e=Ll;Ll=null,Eo=0,ao=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hK(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var ok=pe.S;pe.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&mK(e,t),ok!==null&&ok(e,t)};var zs=Pa(null);function uy(){var e=zs.current;return e!==null?e:$e.pooledCache}function ld(e,t){t===null?Ge(zs,zs.current):Ge(zs,t.pool)}function kA(){var e=uy();return e===null?null:{parent:vt._currentValue,pool:e}}var Kc=Error(Y(460)),wA=Error(Y(474)),wm=Error(Y(542)),bg={then:function(){}};function lk(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bu(){}function SA(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Bu,Bu),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uk(e),e;default:if(typeof t.status=="string")t.then(Bu,Bu);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(Y(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uk(e),e}throw Pl=t,Kc}}var Pl=null;function ck(){if(Pl===null)throw Error(Y(459));var e=Pl;return Pl=null,e}function uk(e){if(e===Kc||e===wm)throw Error(Y(483))}var Or=!1;function dy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _g(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ze&2){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Xd(e),yA(e,null,n),t}return km(e,a,t,n),Xd(e)}function zl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Yj(e,n)}}function zh(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var kg=!1;function Ol(){if(kg){var e=ao;if(e!==null)throw e}}function Il(e,t,n,a){kg=!1;var r=e.updateQueue;Or=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=r.baseState;o=0,d=u=c=null,l=s;do{var m=l.lane&-536870913,h=m!==l.lane;if(h?(je&m)===m:(a&m)===m){m!==0&&m===Eo&&(kg=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=e,y=l;m=t;var b=n;switch(y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(b,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(b,f,m):g,m==null)break e;f=Ue({},f,m);break e;case 2:Or=!0}}m=l.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),us|=o,e.lanes=o,e.memoizedState=f}}function EA(e,t){if(typeof e!="function")throw Error(Y(191,e));e.call(t)}function RA(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)EA(n[e],t)}var Ro=Pa(null),tf=Pa(0);function dk(e,t){e=xr,Ge(tf,e),Ge(Ro,t),xr=e|t.baseLanes}function wg(){Ge(tf,xr),Ge(Ro,Ro.current)}function fy(){xr=tf.current,At(Ro),At(tf)}var ls=0,ke=null,Ie=null,mt=null,nf=!1,ro=!1,Zs=!1,af=0,pc=0,so=null,pK=0;function lt(){throw Error(Y(321))}function my(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function hy(e,t,n,a,r,s){return ls=s,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pe.H=e===null||e.memoizedState===null?aC:rC,Zs=!1,s=n(a,r),Zs=!1,ro&&(s=jA(t,n,a,r)),NA(e),s}function NA(e){pe.H=rf;var t=Ie!==null&&Ie.next!==null;if(ls=0,mt=Ie=ke=null,nf=!1,pc=0,so=null,t)throw Error(Y(300));e===null||jt||(e=e.dependencies,e!==null&&ef(e)&&(jt=!0))}function jA(e,t,n,a){ke=e;var r=0;do{if(ro&&(so=null),pc=0,ro=!1,25<=r)throw Error(Y(301));if(r+=1,mt=Ie=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}pe.H=kK,s=t(n,a)}while(ro);return s}function gK(){var e=pe.H,t=e.useState()[0];return t=typeof t.then=="function"?Jc(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(ke.flags|=1024),t}function py(){var e=af!==0;return af=0,e}function gy(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function xy(e){if(nf){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nf=!1}ls=0,mt=Ie=ke=null,ro=!1,pc=af=0,so=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?ke.memoizedState=mt=e:mt=mt.next=e,mt}function ht(){if(Ie===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=mt===null?ke.memoizedState:mt.next;if(t!==null)mt=t,Ie=e;else{if(e===null)throw ke.alternate===null?Error(Y(467)):Error(Y(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},mt===null?ke.memoizedState=mt=e:mt=mt.next=e}return mt}function yy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(e){var t=pc;return pc+=1,so===null&&(so=[]),e=SA(so,e,t),t=ke,(mt===null?t.memoizedState:mt.next)===null&&(t=t.alternate,pe.H=t===null||t.memoizedState===null?aC:rC),e}function Sm(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jc(e);if(e.$$typeof===Ka)return Qt(e)}throw Error(Y(438,String(e)))}function vy(e){var t=null,n=ke.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ke.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=yy(),ke.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=eX;return t.index++,n}function pr(e,t){return typeof t=="function"?t(e):t}function cd(e){var t=ht();return by(t,Ie,e)}function by(e,t,n){var a=e.queue;if(a===null)throw Error(Y(311));a.lastRenderedReducer=n;var r=e.baseQueue,s=a.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}t.baseQueue=r=s,a.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(je&f)===f:(ls&f)===f){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Eo&&(d=!0);else if((ls&m)===m){u=u.next,m===Eo&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,o=s):c=c.next=f,ke.lanes|=m,us|=m;f=u.action,Zs&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,o=s):c=c.next=m,ke.lanes|=f,us|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=s:c.next=l,!kn(s,e.memoizedState)&&(jt=!0,d&&(n=ao,n!==null)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,a.lastRenderedState=s}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Oh(e){var t=ht(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);kn(s,t.memoizedState)||(jt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function AA(e,t,n){var a=ke,r=ht(),s=Ce;if(s){if(n===void 0)throw Error(Y(407));n=n()}else n=t();var o=!kn((Ie||r).memoizedState,n);o&&(r.memoizedState=n,jt=!0),r=r.queue;var l=TA.bind(null,a,r,e);if(eu(2048,8,l,[e]),r.getSnapshot!==t||o||mt!==null&&mt.memoizedState.tag&1){if(a.flags|=2048,No(9,Em(),MA.bind(null,a,r,n,t),null),$e===null)throw Error(Y(349));s||ls&124||CA(a,t,n)}return n}function CA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t=yy(),ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MA(e,t,n,a){t.value=n,t.getSnapshot=a,DA(t)&&LA(e)}function TA(e,t,n){return n(function(){DA(t)&&LA(e)})}function DA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function LA(e){var t=Xo(e,2);t!==null&&bn(t,e,2)}function Sg(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),Zs){Ur(!0);try{n()}finally{Ur(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},t}function PA(e,t,n,a){return e.baseState=n,by(e,Ie,typeof a=="function"?a:pr)}function xK(e,t,n,a,r){if(Rm(e))throw Error(Y(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};pe.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,zA(t,s)):(s.next=n.next,t.pending=n.next=s)}}function zA(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var s=pe.T,o={};pe.T=o;try{var l=n(r,a),c=pe.S;c!==null&&c(o,l),fk(e,t,l)}catch(u){Eg(e,t,u)}finally{pe.T=s}}else try{s=n(r,a),fk(e,t,s)}catch(u){Eg(e,t,u)}}function fk(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){mk(e,t,a)},function(a){return Eg(e,t,a)}):mk(e,t,n)}function mk(e,t,n){t.status="fulfilled",t.value=n,OA(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,zA(e,n)))}function Eg(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,OA(t),t=t.next;while(t!==a)}e.action=null}function OA(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function IA(e,t){return t}function hk(e,t){if(Ce){var n=$e.formState;if(n!==null){e:{var a=ke;if(Ce){if(at){t:{for(var r=at,s=xa;r.nodeType!==8;){if(!s){r=null;break t}if(r=Jn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){at=Jn(r.nextSibling),a=r.data==="F!";break e}}Gs(a)}a=!1}a&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IA,lastRenderedState:t},n.queue=a,n=eC.bind(null,ke,a),a.dispatch=n,a=Sg(!1),s=Sy.bind(null,ke,!1,a.queue),a=Xt(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,n=xK.bind(null,ke,r,s,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function pk(e){var t=ht();return QA(t,Ie,e)}function QA(e,t,n){if(t=by(e,t,IA)[0],e=cd(pr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Jc(t)}catch(o){throw o===Kc?wm:o}else a=t;t=ht();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(ke.flags|=2048,No(9,Em(),yK.bind(null,r,n),null)),[a,s,e]}function yK(e,t){e.action=t}function gk(e){var t=ht(),n=Ie;if(n!==null)return QA(t,n,e);ht(),t=t.memoizedState,n=ht();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function No(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ke.updateQueue,t===null&&(t=yy(),ke.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Em(){return{destroy:void 0,resource:void 0}}function BA(){return ht().memoizedState}function ud(e,t,n,a){var r=Xt();a=a===void 0?null:a,ke.flags|=e,r.memoizedState=No(1|t,Em(),n,a)}function eu(e,t,n,a){var r=ht();a=a===void 0?null:a;var s=r.memoizedState.inst;Ie!==null&&a!==null&&my(a,Ie.memoizedState.deps)?r.memoizedState=No(t,s,n,a):(ke.flags|=e,r.memoizedState=No(1|t,s,n,a))}function xk(e,t){ud(8390656,8,e,t)}function $A(e,t){eu(2048,8,e,t)}function HA(e,t){return eu(4,2,e,t)}function FA(e,t){return eu(4,4,e,t)}function qA(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UA(e,t,n){n=n!=null?n.concat([e]):null,eu(4,4,qA.bind(null,t,e),n)}function _y(){}function YA(e,t){var n=ht();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&my(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function VA(e,t){var n=ht();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&my(t,a[1]))return a[0];if(a=e(),Zs){Ur(!0);try{e()}finally{Ur(!1)}}return n.memoizedState=[a,t],a}function ky(e,t,n){return n===void 0||ls&1073741824?e.memoizedState=t:(e.memoizedState=n,e=OC(),ke.lanes|=e,us|=e,n)}function GA(e,t,n,a){return kn(n,t)?n:Ro.current!==null?(e=ky(e,n,a),kn(e,t)||(jt=!0),e):ls&42?(e=OC(),ke.lanes|=e,us|=e,t):(jt=!0,e.memoizedState=n)}function WA(e,t,n,a,r){var s=Me.p;Me.p=s!==0&&8>s?s:8;var o=pe.T,l={};pe.T=l,Sy(e,!1,t,n);try{var c=r(),u=pe.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=hK(c,a);Ql(e,t,d,vn(e))}else Ql(e,t,a,vn(e))}catch(f){Ql(e,t,{then:function(){},status:"rejected",reason:f},vn())}finally{Me.p=s,pe.T=o}}function vK(){}function Rg(e,t,n,a){if(e.tag!==5)throw Error(Y(476));var r=ZA(e).queue;WA(e,r,t,Ts,n===null?vK:function(){return XA(e),n(a)})}function ZA(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ts,baseState:Ts,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:Ts},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function XA(e){var t=ZA(e).next.queue;Ql(e,t,{},vn())}function wy(){return Qt(bc)}function KA(){return ht().memoizedState}function JA(){return ht().memoizedState}function bK(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=vn();e=Kr(n);var a=Jr(t,e,n);a!==null&&(bn(a,t,n),zl(a,t,n)),t={cache:cy()},e.payload=t;return}t=t.return}}function _K(e,t,n){var a=vn();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Rm(e)?tC(t,n):(n=sy(e,t,n,a),n!==null&&(bn(n,e,a),nC(n,t,a)))}function eC(e,t,n){var a=vn();Ql(e,t,n,a)}function Ql(e,t,n,a){var r={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rm(e))tC(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(r.hasEagerState=!0,r.eagerState=l,kn(l,o))return km(e,t,r,0),$e===null&&_m(),!1}catch{}finally{}if(n=sy(e,t,r,a),n!==null)return bn(n,e,a),nC(n,t,a),!0}return!1}function Sy(e,t,n,a){if(a={lane:2,revertLane:Ty(),action:a,hasEagerState:!1,eagerState:null,next:null},Rm(e)){if(t)throw Error(Y(479))}else t=sy(e,n,a,2),t!==null&&bn(t,e,2)}function Rm(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function tC(e,t){ro=nf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nC(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Yj(e,n)}}var rf={readContext:Qt,use:Sm,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},aC={readContext:Qt,use:Sm,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:xk,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ud(4194308,4,qA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ud(4194308,4,e,t)},useInsertionEffect:function(e,t){ud(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var a=e();if(Zs){Ur(!0);try{e()}finally{Ur(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Xt();if(n!==void 0){var r=n(t);if(Zs){Ur(!0);try{n(t)}finally{Ur(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=_K.bind(null,ke,e),[a.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Sg(e);var t=e.queue,n=eC.bind(null,ke,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_y,useDeferredValue:function(e,t){var n=Xt();return ky(n,e,t)},useTransition:function(){var e=Sg(!1);return e=WA.bind(null,ke,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ke,r=Xt();if(Ce){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),$e===null)throw Error(Y(349));je&124||CA(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,xk(TA.bind(null,a,s,e),[e]),a.flags|=2048,No(9,Em(),MA.bind(null,a,s,n,t),null),n},useId:function(){var e=Xt(),t=$e.identifierPrefix;if(Ce){var n=er,a=Ja;n=(a&~(1<<32-yn(a)-1)).toString(32)+n,t="Â«"+t+"R"+n,n=af++,0<n&&(t+="H"+n.toString(32)),t+="Â»"}else n=pK++,t="Â«"+t+"r"+n.toString(32)+"Â»";return e.memoizedState=t},useHostTransitionStatus:wy,useFormState:hk,useActionState:hk,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Sy.bind(null,ke,!0,n),n.dispatch=t,[e,t]},useMemoCache:vy,useCacheRefresh:function(){return Xt().memoizedState=bK.bind(null,ke)}},rC={readContext:Qt,use:Sm,useCallback:YA,useContext:Qt,useEffect:$A,useImperativeHandle:UA,useInsertionEffect:HA,useLayoutEffect:FA,useMemo:VA,useReducer:cd,useRef:BA,useState:function(){return cd(pr)},useDebugValue:_y,useDeferredValue:function(e,t){var n=ht();return GA(n,Ie.memoizedState,e,t)},useTransition:function(){var e=cd(pr)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:Jc(e),t]},useSyncExternalStore:AA,useId:KA,useHostTransitionStatus:wy,useFormState:pk,useActionState:pk,useOptimistic:function(e,t){var n=ht();return PA(n,Ie,e,t)},useMemoCache:vy,useCacheRefresh:JA},kK={readContext:Qt,use:Sm,useCallback:YA,useContext:Qt,useEffect:$A,useImperativeHandle:UA,useInsertionEffect:HA,useLayoutEffect:FA,useMemo:VA,useReducer:Oh,useRef:BA,useState:function(){return Oh(pr)},useDebugValue:_y,useDeferredValue:function(e,t){var n=ht();return Ie===null?ky(n,e,t):GA(n,Ie.memoizedState,e,t)},useTransition:function(){var e=Oh(pr)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:Jc(e),t]},useSyncExternalStore:AA,useId:KA,useHostTransitionStatus:wy,useFormState:gk,useActionState:gk,useOptimistic:function(e,t){var n=ht();return Ie!==null?PA(n,Ie,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:vy,useCacheRefresh:JA},io=null,gc=0;function $u(e){var t=gc;return gc+=1,io===null&&(io=[]),SA(io,e,t)}function pl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hu(e,t){throw t.$$typeof===KZ?Error(Y(525)):(e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yk(e){var t=e._init;return t(e._payload)}function sC(e){function t(x,v){if(e){var _=x.deletions;_===null?(x.deletions=[v],x.flags|=16):_.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function a(x){for(var v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function r(x,v){return x=ir(x,v),x.index=0,x.sibling=null,x}function s(x,v,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<v?(x.flags|=67108866,v):_):(x.flags|=67108866,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function l(x,v,_,k){return v===null||v.tag!==6?(v=Lh(_,x.mode,k),v.return=x,v):(v=r(v,_),v.return=x,v)}function c(x,v,_,k){var w=_.type;return w===Li?d(x,v,_.props.children,k,_.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===zr&&yk(w)===v.type)?(v=r(v,_.props),pl(v,_),v.return=x,v):(v=od(_.type,_.key,_.props,null,x.mode,k),pl(v,_),v.return=x,v)}function u(x,v,_,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Ph(_,x.mode,k),v.return=x,v):(v=r(v,_.children||[]),v.return=x,v)}function d(x,v,_,k,w){return v===null||v.tag!==7?(v=Ds(_,x.mode,k,w),v.return=x,v):(v=r(v,_),v.return=x,v)}function f(x,v,_){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Lh(""+v,x.mode,_),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lu:return _=od(v.type,v.key,v.props,null,x.mode,_),pl(_,v),_.return=x,_;case wl:return v=Ph(v,x.mode,_),v.return=x,v;case zr:var k=v._init;return v=k(v._payload),f(x,v,_)}if(Sl(v)||dl(v))return v=Ds(v,x.mode,_,null),v.return=x,v;if(typeof v.then=="function")return f(x,$u(v),_);if(v.$$typeof===Ka)return f(x,Qu(x,v),_);Hu(x,v)}return null}function m(x,v,_,k){var w=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return w!==null?null:l(x,v,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lu:return _.key===w?c(x,v,_,k):null;case wl:return _.key===w?u(x,v,_,k):null;case zr:return w=_._init,_=w(_._payload),m(x,v,_,k)}if(Sl(_)||dl(_))return w!==null?null:d(x,v,_,k,null);if(typeof _.then=="function")return m(x,v,$u(_),k);if(_.$$typeof===Ka)return m(x,v,Qu(x,_),k);Hu(x,_)}return null}function h(x,v,_,k,w){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return x=x.get(_)||null,l(v,x,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Lu:return x=x.get(k.key===null?_:k.key)||null,c(v,x,k,w);case wl:return x=x.get(k.key===null?_:k.key)||null,u(v,x,k,w);case zr:var S=k._init;return k=S(k._payload),h(x,v,_,k,w)}if(Sl(k)||dl(k))return x=x.get(_)||null,d(v,x,k,w,null);if(typeof k.then=="function")return h(x,v,_,$u(k),w);if(k.$$typeof===Ka)return h(x,v,_,Qu(v,k),w);Hu(v,k)}return null}function g(x,v,_,k){for(var w=null,S=null,E=v,R=v=0,N=null;E!==null&&R<_.length;R++){E.index>R?(N=E,E=null):N=E.sibling;var j=m(x,E,_[R],k);if(j===null){E===null&&(E=N);break}e&&E&&j.alternate===null&&t(x,E),v=s(j,v,R),S===null?w=j:S.sibling=j,S=j,E=N}if(R===_.length)return n(x,E),Ce&&ks(x,R),w;if(E===null){for(;R<_.length;R++)E=f(x,_[R],k),E!==null&&(v=s(E,v,R),S===null?w=E:S.sibling=E,S=E);return Ce&&ks(x,R),w}for(E=a(E);R<_.length;R++)N=h(E,x,R,_[R],k),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?R:N.key),v=s(N,v,R),S===null?w=N:S.sibling=N,S=N);return e&&E.forEach(function(O){return t(x,O)}),Ce&&ks(x,R),w}function y(x,v,_,k){if(_==null)throw Error(Y(151));for(var w=null,S=null,E=v,R=v=0,N=null,j=_.next();E!==null&&!j.done;R++,j=_.next()){E.index>R?(N=E,E=null):N=E.sibling;var O=m(x,E,j.value,k);if(O===null){E===null&&(E=N);break}e&&E&&O.alternate===null&&t(x,E),v=s(O,v,R),S===null?w=O:S.sibling=O,S=O,E=N}if(j.done)return n(x,E),Ce&&ks(x,R),w;if(E===null){for(;!j.done;R++,j=_.next())j=f(x,j.value,k),j!==null&&(v=s(j,v,R),S===null?w=j:S.sibling=j,S=j);return Ce&&ks(x,R),w}for(E=a(E);!j.done;R++,j=_.next())j=h(E,x,R,j.value,k),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?R:j.key),v=s(j,v,R),S===null?w=j:S.sibling=j,S=j);return e&&E.forEach(function(I){return t(x,I)}),Ce&&ks(x,R),w}function b(x,v,_,k){if(typeof _=="object"&&_!==null&&_.type===Li&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Lu:e:{for(var w=_.key;v!==null;){if(v.key===w){if(w=_.type,w===Li){if(v.tag===7){n(x,v.sibling),k=r(v,_.props.children),k.return=x,x=k;break e}}else if(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===zr&&yk(w)===v.type){n(x,v.sibling),k=r(v,_.props),pl(k,_),k.return=x,x=k;break e}n(x,v);break}else t(x,v);v=v.sibling}_.type===Li?(k=Ds(_.props.children,x.mode,k,_.key),k.return=x,x=k):(k=od(_.type,_.key,_.props,null,x.mode,k),pl(k,_),k.return=x,x=k)}return o(x);case wl:e:{for(w=_.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(x,v.sibling),k=r(v,_.children||[]),k.return=x,x=k;break e}else{n(x,v);break}else t(x,v);v=v.sibling}k=Ph(_,x.mode,k),k.return=x,x=k}return o(x);case zr:return w=_._init,_=w(_._payload),b(x,v,_,k)}if(Sl(_))return g(x,v,_,k);if(dl(_)){if(w=dl(_),typeof w!="function")throw Error(Y(150));return _=w.call(_),y(x,v,_,k)}if(typeof _.then=="function")return b(x,v,$u(_),k);if(_.$$typeof===Ka)return b(x,v,Qu(x,_),k);Hu(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,v!==null&&v.tag===6?(n(x,v.sibling),k=r(v,_),k.return=x,x=k):(n(x,v),k=Lh(_,x.mode,k),k.return=x,x=k),o(x)):n(x,v)}return function(x,v,_,k){try{gc=0;var w=b(x,v,_,k);return io=null,w}catch(E){if(E===Kc||E===wm)throw E;var S=pn(29,E,null,x.mode);return S.lanes=k,S.return=x,S}finally{}}}var jo=sC(!0),iC=sC(!1),Bn=Pa(null),Na=null;function Hr(e){var t=e.alternate;Ge(bt,bt.current&1),Ge(Bn,e),Na===null&&(t===null||Ro.current!==null||t.memoizedState!==null)&&(Na=e)}function oC(e){if(e.tag===22){if(Ge(bt,bt.current),Ge(Bn,e),Na===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Na=e)}}else Fr()}function Fr(){Ge(bt,bt.current),Ge(Bn,Bn.current)}function nr(e){At(Bn),Na===e&&(Na=null),At(bt)}var bt=Pa(0);function sf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Fg(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ih(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ng={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=vn(),r=Kr(a);r.payload=t,n!=null&&(r.callback=n),t=Jr(e,r,a),t!==null&&(bn(t,e,a),zl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=vn(),r=Kr(a);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Jr(e,r,a),t!==null&&(bn(t,e,a),zl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vn(),a=Kr(n);a.tag=2,t!=null&&(a.callback=t),t=Jr(e,a,n),t!==null&&(bn(t,e,n),zl(t,e,n))}};function vk(e,t,n,a,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,o):t.prototype&&t.prototype.isPureReactComponent?!mc(n,a)||!mc(r,s):!0}function bk(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Ng.enqueueReplaceState(t,t.state,null)}function Xs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Ue({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var of=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function lC(e){of(e)}function cC(e){console.error(e)}function uC(e){of(e)}function lf(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function _k(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function jg(e,t,n){return n=Kr(n),n.tag=3,n.payload={element:null},n.callback=function(){lf(e,t)},n}function dC(e){return e=Kr(e),e.tag=3,e}function fC(e,t,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=a.value;e.payload=function(){return r(s)},e.callback=function(){_k(t,n,a)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){_k(t,n,a),typeof r!="function"&&(es===null?es=new Set([this]):es.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function wK(e,t,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Zc(t,n,r,!0),n=Bn.current,n!==null){switch(n.tag){case 13:return Na===null?zg():n.alternate===null&&rt===0&&(rt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===bg?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Wh(e,a,r)),!1;case 22:return n.flags|=65536,a===bg?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Wh(e,a,r)),!1}throw Error(Y(435,n.tag))}return Wh(e,a,r),zg(),!1}if(Ce)return t=Bn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==pg&&(e=Error(Y(422),{cause:a}),hc(Tn(e,n)))):(a!==pg&&(t=Error(Y(423),{cause:a}),hc(Tn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=Tn(a,n),r=jg(e.stateNode,a,r),zh(e,r),rt!==4&&(rt=2)),!1;var s=Error(Y(520),{cause:a});if(s=Tn(s,n),Hl===null?Hl=[s]:Hl.push(s),rt!==4&&(rt=2),t===null)return!0;a=Tn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=jg(n.stateNode,a,e),zh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(es===null||!es.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=dC(r),fC(r,e,n,a),zh(n,r),!1}n=n.return}while(n!==null);return!1}var mC=Error(Y(461)),jt=!1;function Dt(e,t,n,a){t.child=e===null?iC(t,null,n,a):jo(t,e.child,n,a)}function kk(e,t,n,a,r){n=n.render;var s=t.ref;if("ref"in a){var o={};for(var l in a)l!=="ref"&&(o[l]=a[l])}else o=a;return Ws(t),a=hy(e,t,n,o,s,r),l=py(),e!==null&&!jt?(gy(e,t,r),gr(e,t,r)):(Ce&&l&&oy(t),t.flags|=1,Dt(e,t,a,r),t.child)}function wk(e,t,n,a,r){if(e===null){var s=n.type;return typeof s=="function"&&!iy(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,hC(e,t,s,a,r)):(e=od(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Ey(e,r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:mc,n(o,a)&&e.ref===t.ref)return gr(e,t,r)}return t.flags|=1,e=ir(s,a),e.ref=t.ref,e.return=t,t.child=e}function hC(e,t,n,a,r){if(e!==null){var s=e.memoizedProps;if(mc(s,a)&&e.ref===t.ref)if(jt=!1,t.pendingProps=a=s,Ey(e,r))e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,gr(e,t,r)}return Ag(e,t,n,a,r)}function pC(e,t,n){var a=t.pendingProps,r=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if(t.flags&128){if(a=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Sk(e,t,a,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ld(t,s!==null?s.cachePool:null),s!==null?dk(t,s):wg(),oC(t);else return t.lanes=t.childLanes=536870912,Sk(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(ld(t,s.cachePool),dk(t,s),Fr(),t.memoizedState=null):(e!==null&&ld(t,null),wg(),Fr());return Dt(e,t,r,n),t.child}function Sk(e,t,n,a){var r=uy();return r=r===null?null:{parent:vt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ld(t,null),wg(),oC(t),e!==null&&Zc(e,t,a,!0),null}function dd(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ag(e,t,n,a,r){return Ws(t),n=hy(e,t,n,a,void 0,r),a=py(),e!==null&&!jt?(gy(e,t,r),gr(e,t,r)):(Ce&&a&&oy(t),t.flags|=1,Dt(e,t,n,r),t.child)}function Ek(e,t,n,a,r,s){return Ws(t),t.updateQueue=null,n=jA(t,a,n,r),NA(e),a=py(),e!==null&&!jt?(gy(e,t,s),gr(e,t,s)):(Ce&&a&&oy(t),t.flags|=1,Dt(e,t,n,s),t.child)}function Rk(e,t,n,a,r){if(Ws(t),t.stateNode===null){var s=Hi,o=n.contextType;typeof o=="object"&&o!==null&&(s=Qt(o)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ng,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},dy(t),o=n.contextType,s.context=typeof o=="object"&&o!==null?Qt(o):Hi,s.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Ih(t,n,o,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&Ng.enqueueReplaceState(s,s.state,null),Il(t,a,s,r),Ol(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,c=Xs(n,l);s.props=c;var u=s.context,d=n.contextType;o=Hi,typeof d=="object"&&d!==null&&(o=Qt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||u!==o)&&bk(t,s,a,o),Or=!1;var m=t.memoizedState;s.state=m,Il(t,a,s,r),Ol(),u=t.memoizedState,l||m!==u||Or?(typeof f=="function"&&(Ih(t,n,f,a),u=t.memoizedState),(c=Or||vk(t,n,c,a,m,u,o))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),s.props=a,s.state=u,s.context=o,a=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,_g(e,t),o=t.memoizedProps,d=Xs(n,o),s.props=d,f=t.pendingProps,m=s.context,u=n.contextType,c=Hi,typeof u=="object"&&u!==null&&(c=Qt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||m!==c)&&bk(t,s,a,c),Or=!1,m=t.memoizedState,s.state=m,Il(t,a,s,r),Ol();var h=t.memoizedState;o!==f||m!==h||Or||e!==null&&e.dependencies!==null&&ef(e.dependencies)?(typeof l=="function"&&(Ih(t,n,l,a),h=t.memoizedState),(d=Or||vk(t,n,d,a,m,h,c)||e!==null&&e.dependencies!==null&&ef(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,h,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,h,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),s.props=a,s.state=h,s.context=c,a=d):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,dd(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=jo(t,e.child,null,r),t.child=jo(t,null,n,r)):Dt(e,t,n,r),t.memoizedState=s.state,e=t.child):e=gr(e,t,r),e}function Nk(e,t,n,a){return Wc(),t.flags|=256,Dt(e,t,n,a),t.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bh(e){return{baseLanes:e,cachePool:kA()}}function $h(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=zn),e}function gC(e,t,n){var a=t.pendingProps,r=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),o&&(r=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(r?Hr(t):Fr(),Ce){var l=at,c;if(c=l){e:{for(c=l,l=xa;c.nodeType!==8;){if(!l){l=null;break e}if(c=Jn(c.nextSibling),c===null){l=null;break e}}l=c}l!==null?(t.memoizedState={dehydrated:l,treeContext:Ls!==null?{id:Ja,overflow:er}:null,retryLane:536870912,hydrationErrors:null},c=pn(18,null,null,0),c.stateNode=l,c.return=t,t.child=c,Ht=t,at=null,c=!0):c=!1}c||Gs(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Fg(l)?t.lanes=32:t.lanes=536870912,null;nr(t)}return l=a.children,a=a.fallback,r?(Fr(),r=t.mode,l=cf({mode:"hidden",children:l},r),a=Ds(a,r,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,r=t.child,r.memoizedState=Bh(n),r.childLanes=$h(e,o,n),t.memoizedState=Qh,a):(Hr(t),Cg(t,l))}if(c=e.memoizedState,c!==null&&(l=c.dehydrated,l!==null)){if(s)t.flags&256?(Hr(t),t.flags&=-257,t=Hh(e,t,n)):t.memoizedState!==null?(Fr(),t.child=e.child,t.flags|=128,t=null):(Fr(),r=a.fallback,l=t.mode,a=cf({mode:"visible",children:a.children},l),r=Ds(r,l,n,null),r.flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,jo(t,e.child,null,n),a=t.child,a.memoizedState=Bh(n),a.childLanes=$h(e,o,n),t.memoizedState=Qh,t=r);else if(Hr(t),Fg(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,a=Error(Y(419)),a.stack="",a.digest=o,hc({value:a,source:null,stack:null}),t=Hh(e,t,n)}else if(jt||Zc(e,t,n,!1),o=(n&e.childLanes)!==0,jt||o){if(o=$e,o!==null&&(a=n&-n,a=a&42?1:Wx(a),a=a&(o.suspendedLanes|n)?0:a,a!==0&&a!==c.retryLane))throw c.retryLane=a,Xo(e,a),bn(o,e,a),mC;l.data==="$?"||zg(),t=Hh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,at=Jn(l.nextSibling),Ht=t,Ce=!0,Ps=null,xa=!1,e!==null&&(An[Cn++]=Ja,An[Cn++]=er,An[Cn++]=Ls,Ja=e.id,er=e.overflow,Ls=t),t=Cg(t,a.children),t.flags|=4096);return t}return r?(Fr(),r=a.fallback,l=t.mode,c=e.child,u=c.sibling,a=ir(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,u!==null?r=ir(u,r):(r=Ds(r,l,n,null),r.flags|=2),r.return=t,a.return=t,a.sibling=r,t.child=a,a=r,r=t.child,l=e.child.memoizedState,l===null?l=Bh(n):(c=l.cachePool,c!==null?(u=vt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=kA(),l={baseLanes:l.baseLanes|n,cachePool:c}),r.memoizedState=l,r.childLanes=$h(e,o,n),t.memoizedState=Qh,a):(Hr(t),n=e.child,e=n.sibling,n=ir(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Cg(e,t){return t=cf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cf(e,t){return e=pn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hh(e,t,n){return jo(t,e.child,null,n),e=Cg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jk(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),xg(e.return,t,n)}function Fh(e,t,n,a,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function xC(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(Dt(e,t,a.children,n),a=bt.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jk(e,n,t);else if(e.tag===19)jk(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(Ge(bt,a),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&sf(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Fh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&sf(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Fh(t,!0,n,null,s);break;case"together":Fh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),us|=t.lanes,!(n&t.childLanes))if(e!==null){if(Zc(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ey(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ef(e)))}function SK(e,t,n){switch(t.tag){case 3:Yd(t,t.stateNode.containerInfo),$r(t,vt,e.memoizedState.cache),Wc();break;case 27:case 5:sg(t);break;case 4:Yd(t,t.stateNode.containerInfo);break;case 10:$r(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Hr(t),t.flags|=128,null):n&t.child.childLanes?gC(e,t,n):(Hr(t),e=gr(e,t,n),e!==null?e.sibling:null);Hr(t);break;case 19:var r=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Zc(e,t,n,!1),a=(n&t.childLanes)!==0),r){if(a)return xC(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ge(bt,bt.current),a)break;return null;case 22:case 23:return t.lanes=0,pC(e,t,n);case 24:$r(t,vt,e.memoizedState.cache)}return gr(e,t,n)}function yC(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!Ey(e,n)&&!(t.flags&128))return jt=!1,SK(e,t,n);jt=!!(e.flags&131072)}else jt=!1,Ce&&t.flags&1048576&&bA(t,Jd,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,r=a._init;if(a=r(a._payload),t.type=a,typeof a=="function")iy(a)?(e=Xs(a,e),t.tag=1,t=Rk(null,t,a,e,n)):(t.tag=0,t=Ag(null,t,a,e,n));else{if(a!=null){if(r=a.$$typeof,r===Yx){t.tag=11,t=kk(null,t,a,e,n);break e}else if(r===Vx){t.tag=14,t=wk(null,t,a,e,n);break e}}throw t=ag(a)||a,Error(Y(306,t,""))}}return t;case 0:return Ag(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,r=Xs(a,t.pendingProps),Rk(e,t,a,r,n);case 3:e:{if(Yd(t,t.stateNode.containerInfo),e===null)throw Error(Y(387));a=t.pendingProps;var s=t.memoizedState;r=s.element,_g(e,t),Il(t,a,null,n);var o=t.memoizedState;if(a=o.cache,$r(t,vt,a),a!==s.cache&&yg(t,[vt],n,!0),Ol(),a=o.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Nk(e,t,a,n);break e}else if(a!==r){r=Tn(Error(Y(424)),t),hc(r),t=Nk(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=Jn(e.firstChild),Ht=t,Ce=!0,Ps=null,xa=!0,n=iC(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Wc(),a===r){t=gr(e,t,n);break e}Dt(e,t,a,n)}t=t.child}return t;case 26:return dd(e,t),e===null?(n=Uk(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ce||(n=t.type,e=t.pendingProps,a=gf(Xr.current).createElement(n),a[It]=t,a[an]=e,Pt(a,n,e),Nt(a),t.stateNode=a):t.memoizedState=Uk(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return sg(t),e===null&&Ce&&(a=t.stateNode=r5(t.type,t.pendingProps,Xr.current),Ht=t,xa=!0,r=at,hs(t.type)?(qg=r,at=Jn(a.firstChild)):at=r),Dt(e,t,t.pendingProps.children,n),dd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((r=a=at)&&(a=KK(a,t.type,t.pendingProps,xa),a!==null?(t.stateNode=a,Ht=t,at=Jn(a.firstChild),xa=!1,r=!0):r=!1),r||Gs(t)),sg(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,$g(r,s)?a=null:o!==null&&$g(r,o)&&(t.flags|=32),t.memoizedState!==null&&(r=hy(e,t,gK,null,null,n),bc._currentValue=r),dd(e,t),Dt(e,t,a,n),t.child;case 6:return e===null&&Ce&&((e=n=at)&&(n=JK(n,t.pendingProps,xa),n!==null?(t.stateNode=n,Ht=t,at=null,e=!0):e=!1),e||Gs(t)),null;case 13:return gC(e,t,n);case 4:return Yd(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=jo(t,null,a,n):Dt(e,t,a,n),t.child;case 11:return kk(e,t,t.type,t.pendingProps,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,$r(t,t.type,a.value),Dt(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Ws(t),r=Qt(r),a=a(r),t.flags|=1,Dt(e,t,a,n),t.child;case 14:return wk(e,t,t.type,t.pendingProps,n);case 15:return hC(e,t,t.type,t.pendingProps,n);case 19:return xC(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=cf(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ir(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return pC(e,t,n);case 24:return Ws(t),a=Qt(vt),e===null?(r=uy(),r===null&&(r=$e,s=cy(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:a,cache:r},dy(t),$r(t,vt,r)):(e.lanes&n&&(_g(e,t),Il(t,null,null,n),Ol()),r=e.memoizedState,s=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),$r(t,vt,a)):(a=s.cache,$r(t,vt,a),a!==r.cache&&yg(t,[vt],n,!0))),Dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Y(156,t.tag))}function Ya(e){e.flags|=4}function Ak(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!o5(t)){if(t=Bn.current,t!==null&&((je&4194048)===je?Na!==null:(je&62914560)!==je&&!(je&536870912)||t!==Na))throw Pl=bg,wA;e.flags|=8192}}function Fu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qj():536870912,e.lanes|=t,Ao|=t)}function gl(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function EK(e,t,n){var a=t.pendingProps;switch(ly(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return Ze(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),or(vt),ko(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hl(t)?Ya(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sk())),Ze(t),null;case 26:return n=t.memoizedState,e===null?(Ya(t),n!==null?(Ze(t),Ak(t,n)):(Ze(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ya(t),Ze(t),Ak(t,n)):(Ze(t),t.flags&=-16777217):(e.memoizedProps!==a&&Ya(t),Ze(t),t.flags&=-16777217),null;case 27:Vd(t),n=Xr.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ya(t);else{if(!a){if(t.stateNode===null)throw Error(Y(166));return Ze(t),null}e=Ea.current,hl(t)?ak(t):(e=r5(r,a,n),t.stateNode=e,Ya(t))}return Ze(t),null;case 5:if(Vd(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ya(t);else{if(!a){if(t.stateNode===null)throw Error(Y(166));return Ze(t),null}if(e=Ea.current,hl(t))ak(t);else{switch(r=gf(Xr.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?r.createElement(n,{is:a.is}):r.createElement(n)}}e[It]=t,e[an]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Pt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ya(t)}}return Ze(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ya(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(Y(166));if(e=Xr.current,hl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,r=Ht,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[It]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||t5(e.nodeValue,n)),e||Gs(t)}else e=gf(e).createTextNode(a),e[It]=t,t.stateNode=e}return Ze(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=hl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(Y(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Y(317));r[It]=t}else Wc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),r=!1}else r=sk(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(nr(t),t):(nr(t),null)}if(nr(t),t.flags&128)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool);var s=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==r&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Fu(t,t.updateQueue),Ze(t),null;case 4:return ko(),e===null&&Dy(t.stateNode.containerInfo),Ze(t),null;case 10:return or(t.type),Ze(t),null;case 19:if(At(bt),r=t.memoizedState,r===null)return Ze(t),null;if(a=(t.flags&128)!==0,s=r.rendering,s===null)if(a)gl(r,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=sf(e),s!==null){for(t.flags|=128,gl(r,!1),e=s.updateQueue,t.updateQueue=e,Fu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)vA(n,e),n=n.sibling;return Ge(bt,bt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Ra()>df&&(t.flags|=128,a=!0,gl(r,!1),t.lanes=4194304)}else{if(!a)if(e=sf(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Fu(t,e),gl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Ce)return Ze(t),null}else 2*Ra()-r.renderingStartTime>df&&n!==536870912&&(t.flags|=128,a=!0,gl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ra(),t.sibling=null,e=bt.current,Ge(bt,a?e&1|2:e&1),t):(Ze(t),null);case 22:case 23:return nr(t),fy(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),n=t.updateQueue,n!==null&&Fu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&At(zs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),or(vt),Ze(t),null;case 25:return null;case 30:return null}throw Error(Y(156,t.tag))}function RK(e,t){switch(ly(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return or(vt),ko(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vd(t),null;case 13:if(nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Wc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return At(bt),null;case 4:return ko(),null;case 10:return or(t.type),null;case 22:case 23:return nr(t),fy(),e!==null&&At(zs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return or(vt),null;case 25:return null;default:return null}}function vC(e,t){switch(ly(t),t.tag){case 3:or(vt),ko();break;case 26:case 27:case 5:Vd(t);break;case 4:ko();break;case 13:nr(t);break;case 19:At(bt);break;case 10:or(t.type);break;case 22:case 23:nr(t),fy(),e!==null&&At(zs);break;case 24:or(vt)}}function tu(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var s=n.create,o=n.inst;a=s(),o.destroy=a}n=n.next}while(n!==r)}}catch(l){Be(t,t.return,l)}}function cs(e,t,n){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var s=r.next;a=s;do{if((a.tag&e)===e){var o=a.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,r=t;var c=n,u=l;try{u()}catch(d){Be(r,c,d)}}}a=a.next}while(a!==s)}}catch(d){Be(t,t.return,d)}}function bC(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{RA(t,n)}catch(a){Be(e,e.return,a)}}}function _C(e,t,n){n.props=Xs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Be(e,t,a)}}function Bl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(r){Be(e,t,r)}}function _a(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){Be(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function kC(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){Be(e,e.return,r)}}function qh(e,t,n){try{var a=e.stateNode;VK(a,e.type,n,t),a[an]=t}catch(r){Be(e,e.return,r)}}function wC(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hs(e.type)||e.tag===4}function Uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mg(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cm));else if(a!==4&&(a===27&&hs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Mg(e,t,n),e=e.sibling;e!==null;)Mg(e,t,n),e=e.sibling}function uf(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&hs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(uf(e,t,n),e=e.sibling;e!==null;)uf(e,t,n),e=e.sibling}function SC(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Pt(t,a,n),t[It]=e,t[an]=n}catch(s){Be(e,e.return,s)}}var Wa=!1,ut=!1,Yh=!1,Ck=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function NK(e,t){if(e=e.containerInfo,Qg=bf,e=dA(e),ay(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==n||r!==0&&f.nodeType!==3||(l=o+r),f!==s||a!==0&&f.nodeType!==3||(c=o+a),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===r&&(l=o),m===s&&++d===a&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bg={focusedElem:e,selectionRange:n},bf=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){switch(t=Rt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var g=Xs(n.type,r,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(g,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){Be(n,n.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hg(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hg(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Y(163))}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}}function EC(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Mr(e,n),a&4&&tu(5,n);break;case 1:if(Mr(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Be(n,n.return,o)}else{var r=Xs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Be(n,n.return,o)}}a&64&&bC(n),a&512&&Bl(n,n.return);break;case 3:if(Mr(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{RA(e,t)}catch(o){Be(n,n.return,o)}}break;case 27:t===null&&a&4&&SC(n);case 26:case 5:Mr(e,n),t===null&&a&4&&kC(n),a&512&&Bl(n,n.return);break;case 12:Mr(e,n);break;case 13:Mr(e,n),a&4&&jC(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=zK.bind(null,n),eJ(e,n))));break;case 22:if(a=n.memoizedState!==null||Wa,!a){t=t!==null&&t.memoizedState!==null||ut,r=Wa;var s=ut;Wa=a,(ut=t)&&!s?Dr(e,n,(n.subtreeFlags&8772)!==0):Mr(e,n),Wa=r,ut=s}break;case 30:break;default:Mr(e,n)}}function RC(e){var t=e.alternate;t!==null&&(e.alternate=null,RC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xx(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Kt=!1;function Va(e,t,n){for(n=n.child;n!==null;)NC(e,t,n),n=n.sibling}function NC(e,t,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(qc,n)}catch{}switch(n.tag){case 26:ut||_a(n,t),Va(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ut||_a(n,t);var a=Ye,r=Kt;hs(n.type)&&(Ye=n.stateNode,Kt=!1),Va(e,t,n),ql(n.stateNode),Ye=a,Kt=r;break;case 5:ut||_a(n,t);case 6:if(a=Ye,r=Kt,Ye=null,Va(e,t,n),Ye=a,Kt=r,Ye!==null)if(Kt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(n.stateNode)}catch(s){Be(n,t,s)}else try{Ye.removeChild(n.stateNode)}catch(s){Be(n,t,s)}break;case 18:Ye!==null&&(Kt?(e=Ye,Hk(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),wc(e)):Hk(Ye,n.stateNode));break;case 4:a=Ye,r=Kt,Ye=n.stateNode.containerInfo,Kt=!0,Va(e,t,n),Ye=a,Kt=r;break;case 0:case 11:case 14:case 15:ut||cs(2,n,t),ut||cs(4,n,t),Va(e,t,n);break;case 1:ut||(_a(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&_C(n,t,a)),Va(e,t,n);break;case 21:Va(e,t,n);break;case 22:ut=(a=ut)||n.memoizedState!==null,Va(e,t,n),ut=a;break;default:Va(e,t,n)}}function jC(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wc(e)}catch(n){Be(t,t.return,n)}}function jK(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ck),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ck),t;default:throw Error(Y(435,e.tag))}}function Vh(e,t){var n=jK(e);t.forEach(function(a){var r=OK.bind(null,e,a);n.has(a)||(n.add(a),a.then(r,r))})}function un(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(hs(l.type)){Ye=l.stateNode,Kt=!1;break e}break;case 5:Ye=l.stateNode,Kt=!1;break e;case 3:case 4:Ye=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(Ye===null)throw Error(Y(160));NC(s,o,r),Ye=null,Kt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)AC(t,e),t=t.sibling}var Vn=null;function AC(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(t,e),dn(e),a&4&&(cs(3,e,e.return),tu(3,e),cs(5,e,e.return));break;case 1:un(t,e),dn(e),a&512&&(ut||n===null||_a(n,n.return)),a&64&&Wa&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=Vn;if(un(t,e),dn(e),a&512&&(ut||n===null||_a(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Vc]||s[It]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(a),r.head.insertBefore(s,r.querySelector("head > title"))),Pt(s,a,n),s[It]=e,Nt(s),a=s;break e;case"link":var o=Vk("link","href",r).get(a+(n.href||""));if(o){for(var l=0;l<o.length;l++)if(s=o[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(l,1);break t}}s=r.createElement(a),Pt(s,a,n),r.head.appendChild(s);break;case"meta":if(o=Vk("meta","content",r).get(a+(n.content||""))){for(l=0;l<o.length;l++)if(s=o[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(l,1);break t}}s=r.createElement(a),Pt(s,a,n),r.head.appendChild(s);break;default:throw Error(Y(468,a))}s[It]=e,Nt(s),a=s}e.stateNode=a}else Gk(r,e.type,e.stateNode);else e.stateNode=Yk(r,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Gk(r,e.type,e.stateNode):Yk(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&qh(e,e.memoizedProps,n.memoizedProps)}break;case 27:un(t,e),dn(e),a&512&&(ut||n===null||_a(n,n.return)),n!==null&&a&4&&qh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(un(t,e),dn(e),a&512&&(ut||n===null||_a(n,n.return)),e.flags&32){r=e.stateNode;try{So(r,"")}catch(h){Be(e,e.return,h)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,qh(e,r,n!==null?n.memoizedProps:r)),a&1024&&(Yh=!0);break;case 6:if(un(t,e),dn(e),a&4){if(e.stateNode===null)throw Error(Y(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(h){Be(e,e.return,h)}}break;case 3:if(hd=null,r=Vn,Vn=xf(t.containerInfo),un(t,e),Vn=r,dn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{wc(t.containerInfo)}catch(h){Be(e,e.return,h)}Yh&&(Yh=!1,CC(e));break;case 4:a=Vn,Vn=xf(e.stateNode.containerInfo),un(t,e),dn(e),Vn=a;break;case 12:un(t,e),dn(e);break;case 13:un(t,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cy=Ra()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vh(e,a)));break;case 22:r=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Wa,d=ut;if(Wa=u||r,ut=d||c,un(t,e),ut=d,Wa=u,dn(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||c||Wa||ut||ws(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(s=c.stateNode,r)o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(h){Be(c,c.return,h)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){Be(c,c.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Vh(e,n))));break;case 19:un(t,e),dn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vh(e,a)));break;case 30:break;case 21:break;default:un(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(wC(a)){n=a;break}a=a.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var r=n.stateNode,s=Uh(e);uf(e,s,r);break;case 5:var o=n.stateNode;n.flags&32&&(So(o,""),n.flags&=-33);var l=Uh(e);uf(e,l,o);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Uh(e);Mg(e,u,c);break;default:throw Error(Y(161))}}catch(d){Be(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CC(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;CC(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Mr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)EC(e,t.alternate,t),t=t.sibling}function ws(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cs(4,t,t.return),ws(t);break;case 1:_a(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&_C(t,t.return,n),ws(t);break;case 27:ql(t.stateNode);case 26:case 5:_a(t,t.return),ws(t);break;case 22:t.memoizedState===null&&ws(t);break;case 30:ws(t);break;default:ws(t)}e=e.sibling}}function Dr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Dr(r,s,n),tu(4,s);break;case 1:if(Dr(r,s,n),a=s,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Be(a,a.return,u)}if(a=s,r=a.updateQueue,r!==null){var l=a.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)EA(c[r],l)}catch(u){Be(a,a.return,u)}}n&&o&64&&bC(s),Bl(s,s.return);break;case 27:SC(s);case 26:case 5:Dr(r,s,n),n&&a===null&&o&4&&kC(s),Bl(s,s.return);break;case 12:Dr(r,s,n);break;case 13:Dr(r,s,n),n&&o&4&&jC(r,s);break;case 22:s.memoizedState===null&&Dr(r,s,n),Bl(s,s.return);break;case 30:break;default:Dr(r,s,n)}t=t.sibling}}function Ry(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Xc(n))}function Ny(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xc(e))}function fa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)MC(e,t,n,a),t=t.sibling}function MC(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:fa(e,t,n,a),r&2048&&tu(9,t);break;case 1:fa(e,t,n,a);break;case 3:fa(e,t,n,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xc(e)));break;case 12:if(r&2048){fa(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,l=s.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Be(t,t.return,c)}}else fa(e,t,n,a);break;case 13:fa(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,t.memoizedState!==null?s._visibility&2?fa(e,t,n,a):$l(e,t):s._visibility&2?fa(e,t,n,a):(s._visibility|=2,ji(e,t,n,a,(t.subtreeFlags&10256)!==0)),r&2048&&Ry(o,t);break;case 24:fa(e,t,n,a),r&2048&&Ny(t.alternate,t);break;default:fa(e,t,n,a)}}function ji(e,t,n,a,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,o=t,l=n,c=a,u=o.flags;switch(o.tag){case 0:case 11:case 15:ji(s,o,l,c,r),tu(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?ji(s,o,l,c,r):$l(s,o):(d._visibility|=2,ji(s,o,l,c,r)),r&&u&2048&&Ry(o.alternate,o);break;case 24:ji(s,o,l,c,r),r&&u&2048&&Ny(o.alternate,o);break;default:ji(s,o,l,c,r)}t=t.sibling}}function $l(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:$l(n,a),r&2048&&Ry(a.alternate,a);break;case 24:$l(n,a),r&2048&&Ny(a.alternate,a);break;default:$l(n,a)}t=t.sibling}}var Rl=8192;function Si(e){if(e.subtreeFlags&Rl)for(e=e.child;e!==null;)TC(e),e=e.sibling}function TC(e){switch(e.tag){case 26:Si(e),e.flags&Rl&&e.memoizedState!==null&&mJ(Vn,e.memoizedState,e.memoizedProps);break;case 5:Si(e);break;case 3:case 4:var t=Vn;Vn=xf(e.stateNode.containerInfo),Si(e),Vn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Rl,Rl=16777216,Si(e),Rl=t):Si(e));break;default:Si(e)}}function DC(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Rt=a,PC(a,e)}DC(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)LC(e),e=e.sibling}function LC(e){switch(e.tag){case 0:case 11:case 15:xl(e),e.flags&2048&&cs(9,e,e.return);break;case 3:xl(e);break;case 12:xl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fd(e)):xl(e);break;default:xl(e)}}function fd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Rt=a,PC(a,e)}DC(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:cs(8,t,t.return),fd(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,fd(t));break;default:fd(t)}e=e.sibling}}function PC(e,t){for(;Rt!==null;){var n=Rt;switch(n.tag){case 0:case 11:case 15:cs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Xc(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Rt=a;else e:for(n=e;Rt!==null;){a=Rt;var r=a.sibling,s=a.return;if(RC(a),a===n){Rt=null;break e}if(r!==null){r.return=s,Rt=r;break e}Rt=s}}}var AK={getCacheForType:function(e){var t=Qt(vt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},CK=typeof WeakMap=="function"?WeakMap:Map,ze=0,$e=null,Ee=null,je=0,Pe=0,fn=null,Vr=!1,Ko=!1,jy=!1,xr=0,rt=0,us=0,Os=0,Ay=0,zn=0,Ao=0,Hl=null,Jt=null,Tg=!1,Cy=0,df=1/0,ff=null,es=null,Lt=0,ts=null,Co=null,oo=0,Dg=0,Lg=null,zC=null,Fl=0,Pg=null;function vn(){if(ze&2&&je!==0)return je&-je;if(pe.T!==null){var e=Eo;return e!==0?e:Ty()}return Vj()}function OC(){zn===0&&(zn=!(je&536870912)||Ce?Fj():536870912);var e=Bn.current;return e!==null&&(e.flags|=32),zn}function bn(e,t,n){(e===$e&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(Mo(e,0),Gr(e,je,zn,!1)),Yc(e,n),(!(ze&2)||e!==$e)&&(e===$e&&(!(ze&2)&&(Os|=n),rt===4&&Gr(e,je,zn,!1)),za(e))}function IC(e,t,n){if(ze&6)throw Error(Y(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Uc(e,t),r=a?DK(e,t):Gh(e,t,!0),s=a;do{if(r===0){Ko&&!a&&Gr(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!MK(n)){r=Gh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;r=Hl;var c=l.current.memoizedState.isDehydrated;if(c&&(Mo(l,o).flags|=256),o=Gh(l,o,!1),o!==2){if(jy&&!c){l.errorRecoveryDisabledLanes|=s,Os|=s,r=4;break e}s=Jt,Jt=r,s!==null&&(Jt===null?Jt=s:Jt.push.apply(Jt,s))}r=o}if(s=!1,r!==2)continue}}if(r===1){Mo(e,0),Gr(e,t,0,!0);break}e:{switch(a=e,s=r,s){case 0:case 1:throw Error(Y(345));case 4:if((t&4194048)!==t)break;case 6:Gr(a,t,zn,!Vr);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((t&62914560)===t&&(r=Cy+300-Ra(),10<r)){if(Gr(a,t,zn,!Vr),xm(a,0,!0)!==0)break e;a.timeoutHandle=a5(Mk.bind(null,a,n,Jt,ff,Tg,t,zn,Os,Ao,Vr,s,2,-0,0),r);break e}Mk(a,n,Jt,ff,Tg,t,zn,Os,Ao,Vr,s,0,-0,0)}}break}while(!0);za(e)}function Mk(e,t,n,a,r,s,o,l,c,u,d,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(vc={stylesheets:null,count:0,unsuspend:fJ},TC(t),f=hJ(),f!==null)){e.cancelPendingCommit=f(Dk.bind(null,e,t,s,n,a,r,o,l,c,d,1,m,h)),Gr(e,s,o,!u);return}Dk(e,t,s,n,a,r,o,l,c)}function MK(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!kn(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gr(e,t,n,a){t&=~Ay,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var s=31-yn(r),o=1<<s;a[s]=-1,r&=~o}n!==0&&Uj(e,n,t)}function Nm(){return ze&6?!0:(nu(0),!1)}function My(){if(Ee!==null){if(Pe===0)var e=Ee.return;else e=Ee,tr=mi=null,xy(e),io=null,gc=0,e=Ee;for(;e!==null;)vC(e.alternate,e),e=e.return;Ee=null}}function Mo(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,WK(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),My(),$e=e,Ee=n=ir(e.current,null),je=t,Pe=0,fn=null,Vr=!1,Ko=Uc(e,t),jy=!1,Ao=zn=Ay=Os=us=rt=0,Jt=Hl=null,Tg=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-yn(a),s=1<<r;t|=e[r],a&=~s}return xr=t,_m(),n}function QC(e,t){ke=null,pe.H=rf,t===Kc||t===wm?(t=ck(),Pe=3):t===wA?(t=ck(),Pe=4):Pe=t===mC?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,Ee===null&&(rt=1,lf(e,Tn(t,e.current)))}function BC(){var e=pe.H;return pe.H=rf,e===null?rf:e}function $C(){var e=pe.A;return pe.A=AK,e}function zg(){rt=4,Vr||(je&4194048)!==je&&Bn.current!==null||(Ko=!0),!(us&134217727)&&!(Os&134217727)||$e===null||Gr($e,je,zn,!1)}function Gh(e,t,n){var a=ze;ze|=2;var r=BC(),s=$C();($e!==e||je!==t)&&(ff=null,Mo(e,t)),t=!1;var o=rt;e:do try{if(Pe!==0&&Ee!==null){var l=Ee,c=fn;switch(Pe){case 8:My(),o=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(t=!0);var u=Pe;if(Pe=0,fn=null,Ui(e,l,c,u),n&&Ko){o=0;break e}break;default:u=Pe,Pe=0,fn=null,Ui(e,l,c,u)}}TK(),o=rt;break}catch(d){QC(e,d)}while(!0);return t&&e.shellSuspendCounter++,tr=mi=null,ze=a,pe.H=r,pe.A=s,Ee===null&&($e=null,je=0,_m()),o}function TK(){for(;Ee!==null;)HC(Ee)}function DK(e,t){var n=ze;ze|=2;var a=BC(),r=$C();$e!==e||je!==t?(ff=null,df=Ra()+500,Mo(e,t)):Ko=Uc(e,t);e:do try{if(Pe!==0&&Ee!==null){t=Ee;var s=fn;t:switch(Pe){case 1:Pe=0,fn=null,Ui(e,t,s,1);break;case 2:case 9:if(lk(s)){Pe=0,fn=null,Tk(t);break}t=function(){Pe!==2&&Pe!==9||$e!==e||(Pe=7),za(e)},s.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:lk(s)?(Pe=0,fn=null,Tk(t)):(Pe=0,fn=null,Ui(e,t,s,7));break;case 5:var o=null;switch(Ee.tag){case 26:o=Ee.memoizedState;case 5:case 27:var l=Ee;if(!o||o5(o)){Pe=0,fn=null;var c=l.sibling;if(c!==null)Ee=c;else{var u=l.return;u!==null?(Ee=u,jm(u)):Ee=null}break t}}Pe=0,fn=null,Ui(e,t,s,5);break;case 6:Pe=0,fn=null,Ui(e,t,s,6);break;case 8:My(),rt=6;break e;default:throw Error(Y(462))}}LK();break}catch(d){QC(e,d)}while(!0);return tr=mi=null,pe.H=a,pe.A=r,ze=n,Ee!==null?0:($e=null,je=0,_m(),rt)}function LK(){for(;Ee!==null&&!nX();)HC(Ee)}function HC(e){var t=yC(e.alternate,e,xr);e.memoizedProps=e.pendingProps,t===null?jm(e):Ee=t}function Tk(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ek(n,t,t.pendingProps,t.type,void 0,je);break;case 11:t=Ek(n,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:xy(t);default:vC(n,t),t=Ee=vA(t,xr),t=yC(n,t,xr)}e.memoizedProps=e.pendingProps,t===null?jm(e):Ee=t}function Ui(e,t,n,a){tr=mi=null,xy(t),io=null,gc=0;var r=t.return;try{if(wK(e,r,t,n,je)){rt=1,lf(e,Tn(n,e.current)),Ee=null;return}}catch(s){if(r!==null)throw Ee=r,s;rt=1,lf(e,Tn(n,e.current)),Ee=null;return}t.flags&32768?(Ce||a===1?e=!0:Ko||je&536870912?e=!1:(Vr=e=!0,(a===2||a===9||a===3||a===6)&&(a=Bn.current,a!==null&&a.tag===13&&(a.flags|=16384))),FC(t,e)):jm(t)}function jm(e){var t=e;do{if(t.flags&32768){FC(t,Vr);return}e=t.return;var n=EK(t.alternate,t,xr);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);rt===0&&(rt=5)}function FC(e,t){do{var n=RK(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);rt=6,Ee=null}function Dk(e,t,n,a,r,s,o,l,c){e.cancelPendingCommit=null;do Am();while(Lt!==0);if(ze&6)throw Error(Y(327));if(t!==null){if(t===e.current)throw Error(Y(177));if(s=t.lanes|t.childLanes,s|=ry,fX(e,n,s,o,l,c),e===$e&&(Ee=$e=null,je=0),Co=t,ts=e,oo=n,Dg=s,Lg=r,zC=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,IK(Gd,function(){return GC(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=pe.T,pe.T=null,r=Me.p,Me.p=2,o=ze,ze|=4;try{NK(e,t,n)}finally{ze=o,Me.p=r,pe.T=a}}Lt=1,qC(),UC(),YC()}}function qC(){if(Lt===1){Lt=0;var e=ts,t=Co,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=pe.T,pe.T=null;var a=Me.p;Me.p=2;var r=ze;ze|=4;try{AC(t,e);var s=Bg,o=dA(e.containerInfo),l=s.focusedElem,c=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&uA(l.ownerDocument.documentElement,l)){if(c!==null&&ay(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),g=l.textContent.length,y=Math.min(c.start,g),b=c.end===void 0?y:Math.min(c.end,g);!h.extend&&y>b&&(o=b,b=y,y=o);var x=ek(l,y),v=ek(l,b);if(x&&v&&(h.rangeCount!==1||h.anchorNode!==x.node||h.anchorOffset!==x.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var _=f.createRange();_.setStart(x.node,x.offset),h.removeAllRanges(),y>b?(h.addRange(_),h.extend(v.node,v.offset)):(_.setEnd(v.node,v.offset),h.addRange(_))}}}}for(f=[],h=l;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var k=f[l];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}bf=!!Qg,Bg=Qg=null}finally{ze=r,Me.p=a,pe.T=n}}e.current=t,Lt=2}}function UC(){if(Lt===2){Lt=0;var e=ts,t=Co,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=pe.T,pe.T=null;var a=Me.p;Me.p=2;var r=ze;ze|=4;try{EC(e,t.alternate,t)}finally{ze=r,Me.p=a,pe.T=n}}Lt=3}}function YC(){if(Lt===4||Lt===3){Lt=0,aX();var e=ts,t=Co,n=oo,a=zC;t.subtreeFlags&10256||t.flags&10256?Lt=5:(Lt=0,Co=ts=null,VC(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(es=null),Zx(n),t=t.stateNode,xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(qc,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=pe.T,r=Me.p,Me.p=2,pe.T=null;try{for(var s=e.onRecoverableError,o=0;o<a.length;o++){var l=a[o];s(l.value,{componentStack:l.stack})}}finally{pe.T=t,Me.p=r}}oo&3&&Am(),za(e),r=e.pendingLanes,n&4194090&&r&42?e===Pg?Fl++:(Fl=0,Pg=e):Fl=0,nu(0)}}function VC(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xc(t)))}function Am(e){return qC(),UC(),YC(),GC()}function GC(){if(Lt!==5)return!1;var e=ts,t=Dg;Dg=0;var n=Zx(oo),a=pe.T,r=Me.p;try{Me.p=32>n?32:n,pe.T=null,n=Lg,Lg=null;var s=ts,o=oo;if(Lt=0,Co=ts=null,oo=0,ze&6)throw Error(Y(331));var l=ze;if(ze|=4,LC(s.current),MC(s,s.current,o,n),ze=l,nu(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(qc,s)}catch{}return!0}finally{Me.p=r,pe.T=a,VC(e,t)}}function Lk(e,t,n){t=Tn(n,t),t=jg(e.stateNode,t,2),e=Jr(e,t,2),e!==null&&(Yc(e,2),za(e))}function Be(e,t,n){if(e.tag===3)Lk(e,e,n);else for(;t!==null;){if(t.tag===3){Lk(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(es===null||!es.has(a))){e=Tn(n,e),n=dC(2),a=Jr(t,n,2),a!==null&&(fC(n,a,t,e),Yc(a,2),za(a));break}}t=t.return}}function Wh(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new CK;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(jy=!0,r.add(n),e=PK.bind(null,e,t,n),t.then(e,e))}function PK(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,$e===e&&(je&n)===n&&(rt===4||rt===3&&(je&62914560)===je&&300>Ra()-Cy?!(ze&2)&&Mo(e,0):Ay|=n,Ao===je&&(Ao=0)),za(e)}function WC(e,t){t===0&&(t=qj()),e=Xo(e,t),e!==null&&(Yc(e,t),za(e))}function zK(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),WC(e,n)}function OK(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(Y(314))}a!==null&&a.delete(t),WC(e,n)}function IK(e,t){return Gx(e,t)}var mf=null,Ai=null,Og=!1,hf=!1,Zh=!1,Is=0;function za(e){e!==Ai&&e.next===null&&(Ai===null?mf=Ai=e:Ai=Ai.next=e),hf=!0,Og||(Og=!0,BK())}function nu(e,t){if(!Zh&&hf){Zh=!0;do for(var n=!1,a=mf;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var s=0;else{var o=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-yn(42|e)+1)-1,s&=r&~(o&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Pk(a,s))}else s=je,s=xm(a,a===$e?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||Uc(a,s)||(n=!0,Pk(a,s));a=a.next}while(n);Zh=!1}}function QK(){ZC()}function ZC(){hf=Og=!1;var e=0;Is!==0&&(GK()&&(e=Is),Is=0);for(var t=Ra(),n=null,a=mf;a!==null;){var r=a.next,s=XC(a,t);s===0?(a.next=null,n===null?mf=r:n.next=r,r===null&&(Ai=n)):(n=a,(e!==0||s&3)&&(hf=!0)),a=r}nu(e)}function XC(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var o=31-yn(s),l=1<<o,c=r[o];c===-1?(!(l&n)||l&a)&&(r[o]=dX(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}if(t=$e,n=je,n=xm(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&kh(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Uc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&kh(a),Zx(n)){case 2:case 8:n=$j;break;case 32:n=Gd;break;case 268435456:n=Hj;break;default:n=Gd}return a=KC.bind(null,e),n=Gx(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&kh(a),e.callbackPriority=2,e.callbackNode=null,2}function KC(e,t){if(Lt!==0&&Lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Am()&&e.callbackNode!==n)return null;var a=je;return a=xm(e,e===$e?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(IC(e,a,t),XC(e,Ra()),e.callbackNode!=null&&e.callbackNode===n?KC.bind(null,e):null)}function Pk(e,t){if(Am())return null;IC(e,t,!0)}function BK(){ZK(function(){ze&6?Gx(Bj,QK):ZC()})}function Ty(){return Is===0&&(Is=Fj()),Is}function zk(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rd(""+e)}function Ok(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function $K(e,t,n,a,r){if(t==="submit"&&n&&n.stateNode===r){var s=zk((r[an]||null).action),o=a.submitter;o&&(t=(t=o[an]||null)?zk(t.formAction):o.getAttribute("formAction"),t!==null&&(s=t,o=null));var l=new ym("action","action",null,a,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Is!==0){var c=o?Ok(r,o):new FormData(r);Rg(n,{pending:!0,data:c,method:r.method,action:s},null,c)}}else typeof s=="function"&&(l.preventDefault(),c=o?Ok(r,o):new FormData(r),Rg(n,{pending:!0,data:c,method:r.method,action:s},s,c))},currentTarget:r}]})}}for(var Xh=0;Xh<hg.length;Xh++){var Kh=hg[Xh],HK=Kh.toLowerCase(),FK=Kh[0].toUpperCase()+Kh.slice(1);ia(HK,"on"+FK)}ia(mA,"onAnimationEnd");ia(hA,"onAnimationIteration");ia(pA,"onAnimationStart");ia("dblclick","onDoubleClick");ia("focusin","onFocus");ia("focusout","onBlur");ia(iK,"onTransitionRun");ia(oK,"onTransitionStart");ia(lK,"onTransitionCancel");ia(gA,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xc));function JC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=u;try{s(r)}catch(d){of(d)}r.currentTarget=null,s=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=u;try{s(r)}catch(d){of(d)}r.currentTarget=null,s=c}}}}function Se(e,t){var n=t[og];n===void 0&&(n=t[og]=new Set);var a=e+"__bubble";n.has(a)||(e5(t,e,2,!1),n.add(a))}function Jh(e,t,n){var a=0;t&&(a|=4),e5(n,e,a,t)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Dy(e){if(!e[qu]){e[qu]=!0,Gj.forEach(function(n){n!=="selectionchange"&&(qK.has(n)||Jh(n,!1,e),Jh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qu]||(t[qu]=!0,Jh("selectionchange",!1,t))}}function e5(e,t,n,a){switch(f5(t)){case 2:var r=xJ;break;case 8:r=yJ;break;default:r=Oy}n=r.bind(null,t,n,e),r=void 0,!dg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ep(e,t,n,a,r){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===r)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===r)return;o=o.return}for(;l!==null;){if(o=zi(l),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){a=s=o;continue e}l=l.parentNode}}a=a.return}nA(function(){var u=s,d=Jx(n),f=[];e:{var m=xA.get(e);if(m!==void 0){var h=ym,g=e;switch(e){case"keypress":if(id(n)===0)break e;case"keydown":case"keyup":h=IX;break;case"focusin":g="focus",h=Ch;break;case"focusout":g="blur",h=Ch;break;case"beforeblur":case"afterblur":h=Ch;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=q_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=RX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=$X;break;case mA:case hA:case pA:h=AX;break;case gA:h=FX;break;case"scroll":case"scrollend":h=SX;break;case"wheel":h=UX;break;case"copy":case"cut":case"paste":h=MX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Y_;break;case"toggle":case"beforetoggle":h=VX}var y=(t&4)!==0,b=!y&&(e==="scroll"||e==="scrollend"),x=y?m!==null?m+"Capture":null:m;y=[];for(var v=u,_;v!==null;){var k=v;if(_=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||_===null||x===null||(k=dc(v,x),k!=null&&y.push(yc(v,k,_))),b)break;v=v.return}0<y.length&&(m=new h(m,g,null,n,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==ug&&(g=n.relatedTarget||n.fromElement)&&(zi(g)||g[Wo]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?zi(g):null,g!==null&&(b=Fc(g),y=g.tag,g!==b||y!==5&&y!==27&&y!==6)&&(g=null)):(h=null,g=u),h!==g)){if(y=q_,k="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=Y_,k="onPointerLeave",x="onPointerEnter",v="pointer"),b=h==null?m:El(h),_=g==null?m:El(g),m=new y(k,v+"leave",h,n,d),m.target=b,m.relatedTarget=_,k=null,zi(d)===u&&(y=new y(x,v+"enter",g,n,d),y.target=_,y.relatedTarget=b,k=y),b=k,h&&g)t:{for(y=h,x=g,v=0,_=y;_;_=Ei(_))v++;for(_=0,k=x;k;k=Ei(k))_++;for(;0<v-_;)y=Ei(y),v--;for(;0<_-v;)x=Ei(x),_--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ei(y),x=Ei(x)}y=null}else y=null;h!==null&&Ik(f,m,h,y,!1),g!==null&&b!==null&&Ik(f,b,g,y,!0)}}e:{if(m=u?El(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var w=Z_;else if(W_(m))if(lA)w=aK;else{w=tK;var S=eK}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Kx(u.elementType)&&(w=Z_):w=nK;if(w&&(w=w(e,u))){oA(f,w,n,d);break e}S&&S(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&cg(m,"number",m.value)}switch(S=u?El(u):window,e){case"focusin":(W_(S)||S.contentEditable==="true")&&(Qi=S,fg=u,Dl=null);break;case"focusout":Dl=fg=Qi=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,tk(f,n,d);break;case"selectionchange":if(sK)break;case"keydown":case"keyup":tk(f,n,d)}var E;if(ny)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ii?sA(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(rA&&n.locale!=="ko"&&(Ii||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ii&&(E=aA()):(Yr=d,ey="value"in Yr?Yr.value:Yr.textContent,Ii=!0)),S=pf(u,R),0<S.length&&(R=new U_(R,e,null,n,d),f.push({event:R,listeners:S}),E?R.data=E:(E=iA(n),E!==null&&(R.data=E)))),(E=WX?ZX(e,n):XX(e,n))&&(R=pf(u,"onBeforeInput"),0<R.length&&(S=new U_("onBeforeInput","beforeinput",null,n,d),f.push({event:S,listeners:R}),S.data=E)),$K(f,e,u,n,d)}JC(f,t)})}function yc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pf(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=dc(e,n),r!=null&&a.unshift(yc(e,r,s)),r=dc(e,t),r!=null&&a.push(yc(e,r,s))),e.tag===3)return a;e=e.return}return[]}function Ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ik(e,t,n,a,r){for(var s=t._reactName,o=[];n!==null&&n!==a;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===a)break;l!==5&&l!==26&&l!==27||u===null||(c=u,r?(u=dc(n,s),u!=null&&o.unshift(yc(n,u,c))):r||(u=dc(n,s),u!=null&&o.push(yc(n,u,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var UK=/\r\n?/g,YK=/\u0000|\uFFFD/g;function Qk(e){return(typeof e=="string"?e:""+e).replace(UK,`
`).replace(YK,"")}function t5(e,t){return t=Qk(t),Qk(e)===t}function Cm(){}function Oe(e,t,n,a,r,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||So(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&So(e,""+a);break;case"className":Ou(e,"class",a);break;case"tabIndex":Ou(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ou(e,n,a);break;case"style":tA(e,a,s);break;case"data":if(t!=="object"){Ou(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=rd(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",r.name,r,null),Oe(e,t,"formEncType",r.formEncType,r,null),Oe(e,t,"formMethod",r.formMethod,r,null),Oe(e,t,"formTarget",r.formTarget,r,null)):(Oe(e,t,"encType",r.encType,r,null),Oe(e,t,"method",r.method,r,null),Oe(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=rd(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Cm);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(Y(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=rd(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Se("beforetoggle",e),Se("toggle",e),ad(e,"popover",a);break;case"xlinkActuate":Ua(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ua(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ua(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ua(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ua(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ua(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ua(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ua(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ua(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ad(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=kX.get(n)||n,ad(e,n,a))}}function Ig(e,t,n,a,r,s){switch(n){case"style":tA(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(Y(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"children":typeof a=="string"?So(e,a):(typeof a=="number"||typeof a=="bigint")&&So(e,""+a);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Cm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wj.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[an]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ad(e,n,a)}}}function Pt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var a=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(o!=null)switch(s){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:Oe(e,t,s,o,n,null)}}r&&Oe(e,t,"srcSet",n.srcSet,n,null),a&&Oe(e,t,"src",n.src,n,null);return;case"input":Se("invalid",e);var l=s=o=r=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(d!=null)switch(a){case"name":r=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,t));break;default:Oe(e,t,a,d,n,null)}}Kj(e,s,l,c,u,o,r,!1),Wd(e);return;case"select":Se("invalid",e),a=o=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Oe(e,t,r,l,n,null)}t=s,n=o,e.multiple=!!a,t!=null?to(e,!!a,t,!1):n!=null&&to(e,!!a,n,!0);return;case"textarea":Se("invalid",e),s=r=a=null;for(o in n)if(n.hasOwnProperty(o)&&(l=n[o],l!=null))switch(o){case"value":a=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(Y(91));break;default:Oe(e,t,o,l,n,null)}eA(e,a,r,s),Wd(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Oe(e,t,c,a,n,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(a=0;a<xc.length;a++)Se(xc[a],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:Oe(e,t,u,a,n,null)}return;default:if(Kx(t)){for(d in n)n.hasOwnProperty(d)&&(a=n[d],a!==void 0&&Ig(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Oe(e,t,l,a,n,null))}function VK(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,o=null,l=null,c=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(h)||Oe(e,t,h,null,a,f)}}for(var m in a){var h=a[m];if(f=n[m],a.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":s=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":o=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Y(137,t));break;default:h!==f&&Oe(e,t,m,h,a,f)}}lg(e,o,l,c,u,d,s,r);return;case"select":h=o=l=m=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":h=c;default:a.hasOwnProperty(s)||Oe(e,t,s,null,a,c)}for(r in a)if(s=a[r],c=n[r],a.hasOwnProperty(r)&&(s!=null||c!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Oe(e,t,r,s,a,c)}t=l,n=o,a=h,m!=null?to(e,!!n,m,!1):!!a!=!!n&&(t!=null?to(e,!!n,t,!0):to(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Oe(e,t,l,null,a,r)}for(o in a)if(r=a[o],s=n[o],a.hasOwnProperty(o)&&(r!=null||s!=null))switch(o){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Y(91));break;default:r!==s&&Oe(e,t,o,r,a,s)}Jj(e,m,h);return;case"option":for(var g in n)if(m=n[g],n.hasOwnProperty(g)&&m!=null&&!a.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:Oe(e,t,g,null,a,m)}for(c in a)if(m=a[c],h=n[c],a.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Oe(e,t,c,m,a,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!a.hasOwnProperty(y)&&Oe(e,t,y,null,a,m);for(u in a)if(m=a[u],h=n[u],a.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Y(137,t));break;default:Oe(e,t,u,m,a,h)}return;default:if(Kx(t)){for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!==void 0&&!a.hasOwnProperty(b)&&Ig(e,t,b,void 0,a,m);for(d in a)m=a[d],h=n[d],!a.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||Ig(e,t,d,m,a,h);return}}for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!=null&&!a.hasOwnProperty(x)&&Oe(e,t,x,null,a,m);for(f in a)m=a[f],h=n[f],!a.hasOwnProperty(f)||m===h||m==null&&h==null||Oe(e,t,f,m,a,h)}var Qg=null,Bg=null;function gf(e){return e.nodeType===9?e:e.ownerDocument}function Bk(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n5(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $g(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tp=null;function GK(){var e=window.event;return e&&e.type==="popstate"?e===tp?!1:(tp=e,!0):(tp=null,!1)}var a5=typeof setTimeout=="function"?setTimeout:void 0,WK=typeof clearTimeout=="function"?clearTimeout:void 0,$k=typeof Promise=="function"?Promise:void 0,ZK=typeof queueMicrotask=="function"?queueMicrotask:typeof $k<"u"?function(e){return $k.resolve(null).then(e).catch(XK)}:a5;function XK(e){setTimeout(function(){throw e})}function hs(e){return e==="head"}function Hk(e,t){var n=t,a=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<a&&8>a){n=a;var o=e.ownerDocument;if(n&1&&ql(o.documentElement),n&2&&ql(o.body),n&4)for(n=o.head,ql(n),o=n.firstChild;o;){var l=o.nextSibling,c=o.nodeName;o[Vc]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=l}}if(r===0){e.removeChild(s),wc(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:a=n.charCodeAt(0)-48;else a=0;n=s}while(n);wc(t)}function Hg(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hg(n),Xx(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function KK(e,t,n,a){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Vc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Jn(e.nextSibling),e===null)break}return null}function JK(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jn(e.nextSibling),e===null))return null;return e}function Fg(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function eJ(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var qg=null;function Fk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function r5(e,t,n){switch(t=gf(n),e){case"html":if(e=t.documentElement,!e)throw Error(Y(452));return e;case"head":if(e=t.head,!e)throw Error(Y(453));return e;case"body":if(e=t.body,!e)throw Error(Y(454));return e;default:throw Error(Y(451))}}function ql(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xx(e)}var $n=new Map,qk=new Set;function xf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wr=Me.d;Me.d={f:tJ,r:nJ,D:aJ,C:rJ,L:sJ,m:iJ,X:lJ,S:oJ,M:cJ};function tJ(){var e=wr.f(),t=Nm();return e||t}function nJ(e){var t=Zo(e);t!==null&&t.tag===5&&t.type==="form"?XA(t):wr.r(e)}var Jo=typeof document>"u"?null:document;function s5(e,t,n){var a=Jo;if(a&&typeof t=="string"&&t){var r=Mn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),qk.has(r)||(qk.add(r),e={rel:e,crossOrigin:n,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),Pt(t,"link",e),Nt(t),a.head.appendChild(t)))}}function aJ(e){wr.D(e),s5("dns-prefetch",e,null)}function rJ(e,t){wr.C(e,t),s5("preconnect",e,t)}function sJ(e,t,n){wr.L(e,t,n);var a=Jo;if(a&&e&&t){var r='link[rel="preload"][as="'+Mn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Mn(n.imageSizes)+'"]')):r+='[href="'+Mn(e)+'"]';var s=r;switch(t){case"style":s=To(e);break;case"script":s=el(e)}$n.has(s)||(e=Ue({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),$n.set(s,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(au(s))||t==="script"&&a.querySelector(ru(s))||(t=a.createElement("link"),Pt(t,"link",e),Nt(t),a.head.appendChild(t)))}}function iJ(e,t){wr.m(e,t);var n=Jo;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Mn(a)+'"][href="'+Mn(e)+'"]',s=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=el(e)}if(!$n.has(s)&&(e=Ue({rel:"modulepreload",href:e},t),$n.set(s,e),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ru(s)))return}a=n.createElement("link"),Pt(a,"link",e),Nt(a),n.head.appendChild(a)}}}function oJ(e,t,n){wr.S(e,t,n);var a=Jo;if(a&&e){var r=eo(a).hoistableStyles,s=To(e);t=t||"default";var o=r.get(s);if(!o){var l={loading:0,preload:null};if(o=a.querySelector(au(s)))l.loading=5;else{e=Ue({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$n.get(s))&&Ly(e,n);var c=o=a.createElement("link");Nt(c),Pt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,md(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:l},r.set(s,o)}}}function lJ(e,t){wr.X(e,t);var n=Jo;if(n&&e){var a=eo(n).hoistableScripts,r=el(e),s=a.get(r);s||(s=n.querySelector(ru(r)),s||(e=Ue({src:e,async:!0},t),(t=$n.get(r))&&Py(e,t),s=n.createElement("script"),Nt(s),Pt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}function cJ(e,t){wr.M(e,t);var n=Jo;if(n&&e){var a=eo(n).hoistableScripts,r=el(e),s=a.get(r);s||(s=n.querySelector(ru(r)),s||(e=Ue({src:e,async:!0,type:"module"},t),(t=$n.get(r))&&Py(e,t),s=n.createElement("script"),Nt(s),Pt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}function Uk(e,t,n,a){var r=(r=Xr.current)?xf(r):null;if(!r)throw Error(Y(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=To(n.href),n=eo(r).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=To(n.href);var s=eo(r).hoistableStyles,o=s.get(e);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=r.querySelector(au(e)))&&!s._p&&(o.instance=s,o.state.loading=5),$n.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$n.set(e,n),s||uJ(r,e,n,o.state))),t&&a===null)throw Error(Y(528,""));return o}if(t&&a!==null)throw Error(Y(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=el(n),n=eo(r).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,e))}}function To(e){return'href="'+Mn(e)+'"'}function au(e){return'link[rel="stylesheet"]['+e+"]"}function i5(e){return Ue({},e,{"data-precedence":e.precedence,precedence:null})}function uJ(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Pt(t,"link",n),Nt(t),e.head.appendChild(t))}function el(e){return'[src="'+Mn(e)+'"]'}function ru(e){return"script[async]"+e}function Yk(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Mn(n.href)+'"]');if(a)return t.instance=a,Nt(a),a;var r=Ue({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Nt(a),Pt(a,"style",r),md(a,n.precedence,e),t.instance=a;case"stylesheet":r=To(n.href);var s=e.querySelector(au(r));if(s)return t.state.loading|=4,t.instance=s,Nt(s),s;a=i5(n),(r=$n.get(r))&&Ly(a,r),s=(e.ownerDocument||e).createElement("link"),Nt(s);var o=s;return o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),Pt(s,"link",a),t.state.loading|=4,md(s,n.precedence,e),t.instance=s;case"script":return s=el(n.src),(r=e.querySelector(ru(s)))?(t.instance=r,Nt(r),r):(a=n,(r=$n.get(s))&&(a=Ue({},n),Py(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),Nt(r),Pt(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(Y(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,md(a,n.precedence,e));return t.instance}function md(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,s=r,o=0;o<a.length;o++){var l=a[o];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ly(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Py(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var hd=null;function Vk(e,t,n){if(hd===null){var a=new Map,r=hd=new Map;r.set(n,a)}else r=hd,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Vc]||s[It]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(t)||"";o=e+o;var l=a.get(o);l?l.push(s):a.set(o,[s])}}return a}function Gk(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function dJ(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function o5(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var vc=null;function fJ(){}function mJ(e,t,n){if(vc===null)throw Error(Y(475));var a=vc;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=To(n.href),s=e.querySelector(au(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=yf.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=s,Nt(s);return}s=e.ownerDocument||e,n=i5(n),(r=$n.get(r))&&Ly(n,r),s=s.createElement("link"),Nt(s);var o=s;o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),Pt(s,"link",n),t.instance=s}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(a.count++,t=yf.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function hJ(){if(vc===null)throw Error(Y(475));var e=vc;return e.stylesheets&&e.count===0&&Ug(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ug(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function yf(){if(this.count--,this.count===0){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vf=null;function Ug(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vf=new Map,t.forEach(pJ,e),vf=null,yf.call(e))}function pJ(e,t){if(!(t.state.loading&4)){var n=vf.get(e);if(n)var a=n.get(null);else{n=new Map,vf.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var o=r[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),a=o)}a&&n.set(null,a)}r=t.instance,o=r.getAttribute("data-precedence"),s=n.get(o)||a,s===a&&n.set(null,r),n.set(o,r),this.count++,a=yf.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var bc={$$typeof:Ka,Provider:null,Consumer:null,_currentValue:Ts,_currentValue2:Ts,_threadCount:0};function gJ(e,t,n,a,r,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.hiddenUpdates=wh(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function l5(e,t,n,a,r,s,o,l,c,u,d,f){return e=new gJ(e,t,n,o,l,c,u,f),t=1,s===!0&&(t|=24),s=pn(3,null,null,t),e.current=s,s.stateNode=e,t=cy(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},dy(s),e}function c5(e){return e?(e=Hi,e):Hi}function u5(e,t,n,a,r,s){r=c5(r),a.context===null?a.context=r:a.pendingContext=r,a=Kr(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Jr(e,a,t),n!==null&&(bn(n,e,t),zl(n,e,t))}function Wk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zy(e,t){Wk(e,t),(e=e.alternate)&&Wk(e,t)}function d5(e){if(e.tag===13){var t=Xo(e,67108864);t!==null&&bn(t,e,67108864),zy(e,67108864)}}var bf=!0;function xJ(e,t,n,a){var r=pe.T;pe.T=null;var s=Me.p;try{Me.p=2,Oy(e,t,n,a)}finally{Me.p=s,pe.T=r}}function yJ(e,t,n,a){var r=pe.T;pe.T=null;var s=Me.p;try{Me.p=8,Oy(e,t,n,a)}finally{Me.p=s,pe.T=r}}function Oy(e,t,n,a){if(bf){var r=Yg(a);if(r===null)ep(e,t,a,_f,n),Zk(e,a);else if(bJ(r,e,t,n,a))a.stopPropagation();else if(Zk(e,a),t&4&&-1<vJ.indexOf(e)){for(;r!==null;){var s=Zo(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=_s(s.pendingLanes);if(o!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var c=1<<31-yn(o);l.entanglements[1]|=c,o&=~c}za(s),!(ze&6)&&(df=Ra()+500,nu(0))}}break;case 13:l=Xo(s,2),l!==null&&bn(l,s,2),Nm(),zy(s,2)}if(s=Yg(a),s===null&&ep(e,t,a,_f,n),s===r)break;r=s}r!==null&&a.stopPropagation()}else ep(e,t,a,null,n)}}function Yg(e){return e=Jx(e),Iy(e)}var _f=null;function Iy(e){if(_f=null,e=zi(e),e!==null){var t=Fc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=zj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _f=e,null}function f5(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rX()){case Bj:return 2;case $j:return 8;case Gd:case sX:return 32;case Hj:return 268435456;default:return 32}default:return 32}}var Vg=!1,ns=null,as=null,rs=null,_c=new Map,kc=new Map,qr=[],vJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zk(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":_c.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(t.pointerId)}}function yl(e,t,n,a,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Zo(t),t!==null&&d5(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function bJ(e,t,n,a,r){switch(t){case"focusin":return ns=yl(ns,e,t,n,a,r),!0;case"dragenter":return as=yl(as,e,t,n,a,r),!0;case"mouseover":return rs=yl(rs,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return _c.set(s,yl(_c.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,kc.set(s,yl(kc.get(s)||null,e,t,n,a,r)),!0}return!1}function m5(e){var t=zi(e.target);if(t!==null){var n=Fc(t);if(n!==null){if(t=n.tag,t===13){if(t=zj(n),t!==null){e.blockedOn=t,mX(e.priority,function(){if(n.tag===13){var a=vn();a=Wx(a);var r=Xo(n,a);r!==null&&bn(r,n,a),zy(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yg(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ug=a,n.target.dispatchEvent(a),ug=null}else return t=Zo(n),t!==null&&d5(t),e.blockedOn=n,!1;t.shift()}return!0}function Xk(e,t,n){pd(e)&&n.delete(t)}function _J(){Vg=!1,ns!==null&&pd(ns)&&(ns=null),as!==null&&pd(as)&&(as=null),rs!==null&&pd(rs)&&(rs=null),_c.forEach(Xk),kc.forEach(Xk)}function Uu(e,t){e.blockedOn===t&&(e.blockedOn=null,Vg||(Vg=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,_J)))}var Yu=null;function Kk(e){Yu!==e&&(Yu=e,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,function(){Yu===e&&(Yu=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(Iy(a||n)===null)continue;break}var s=Zo(n);s!==null&&(e.splice(t,3),t-=3,Rg(s,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function wc(e){function t(c){return Uu(c,e)}ns!==null&&Uu(ns,e),as!==null&&Uu(as,e),rs!==null&&Uu(rs,e),_c.forEach(t),kc.forEach(t);for(var n=0;n<qr.length;n++){var a=qr[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)m5(n),n.blockedOn===null&&qr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],s=n[a+1],o=r[an]||null;if(typeof s=="function")o||Kk(n);else if(o){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,o=s[an]||null)l=o.formAction;else if(Iy(r)!==null)continue}else l=o.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Kk(n)}}}function Qy(e){this._internalRoot=e}Mm.prototype.render=Qy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));var n=t.current,a=vn();u5(n,a,e,t,null,null)};Mm.prototype.unmount=Qy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;u5(e.current,2,null,e,null,null),Nm(),t[Wo]=null}};function Mm(e){this._internalRoot=e}Mm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qr.length&&t!==0&&t<qr[n].priority;n++);qr.splice(n,0,e),n===0&&m5(e)}};var Jk=Lj.version;if(Jk!=="19.1.0")throw Error(Y(527,Jk,"19.1.0"));Me.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=XZ(t),e=e!==null?Oj(e):null,e=e===null?null:e.stateNode,e};var kJ={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:pe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{qc=Vu.inject(kJ),xn=Vu}catch{}}gm.createRoot=function(e,t){if(!Pj(e))throw Error(Y(299));var n=!1,a="",r=lC,s=cC,o=uC,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=l5(e,1,!1,null,null,n,a,r,s,o,l,null),e[Wo]=t.current,Dy(e),new Qy(t)};gm.hydrateRoot=function(e,t,n){if(!Pj(e))throw Error(Y(299));var a=!1,r="",s=lC,o=cC,l=uC,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=l5(e,1,!0,t,n??null,a,r,s,o,l,c,u),t.context=c5(null),n=t.current,a=vn(),a=Wx(a),r=Kr(a),r.callback=null,Jr(n,r,a),n=a,t.current.lanes=n,Yc(t,n),za(t),e[Wo]=t.current,Dy(e),new Mm(t)};gm.version="19.1.0";function h5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h5)}catch(e){console.error(e)}}h5(),Mj.exports=gm;var wJ=Mj.exports;wJ.createRoot(document.getElementById("root")).render(i.jsx(p.StrictMode,{children:i.jsx(GZ,{showLoadingIndicator:!0,children:i.jsx(BZ,{children:i.jsx(VZ,{})})})}));
